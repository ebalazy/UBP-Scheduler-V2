function T5(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var ff=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ni(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function wc(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){var a=!1;try{a=this instanceof n}catch{}return a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var Og={exports:{}},Eu={};var r2;function F$(){if(r2)return Eu;r2=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,a,s){var l=null;if(s!==void 0&&(l=""+s),a.key!==void 0&&(l=""+a.key),"key"in a){s={};for(var c in a)c!=="key"&&(s[c]=a[c])}else s=a;return a=s.ref,{$$typeof:e,type:n,key:l,ref:a!==void 0?a:null,props:s}}return Eu.Fragment=t,Eu.jsx=r,Eu.jsxs=r,Eu}var n2;function V$(){return n2||(n2=1,Og.exports=F$()),Og.exports}var p=V$(),Ng={exports:{}},De={};var a2;function K$(){if(a2)return De;a2=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),v=Symbol.iterator;function y(I){return I===null||typeof I!="object"?null:(I=v&&I[v]||I["@@iterator"],typeof I=="function"?I:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,_={};function j(I,Y,Q){this.props=I,this.context=Y,this.refs=_,this.updater=Q||S}j.prototype.isReactComponent={},j.prototype.setState=function(I,Y){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,Y,"setState")},j.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function N(){}N.prototype=j.prototype;function E(I,Y,Q){this.props=I,this.context=Y,this.refs=_,this.updater=Q||S}var C=E.prototype=new N;C.constructor=E,k(C,j.prototype),C.isPureReactComponent=!0;var A=Array.isArray;function T(){}var P={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function $(I,Y,Q){var F=Q.ref;return{$$typeof:e,type:I,key:Y,ref:F!==void 0?F:null,props:Q}}function L(I,Y){return $(I.type,Y,I.props)}function R(I){return typeof I=="object"&&I!==null&&I.$$typeof===e}function q(I){var Y={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(Q){return Y[Q]})}var V=/\/+/g;function oe(I,Y){return typeof I=="object"&&I!==null&&I.key!=null?q(""+I.key):Y.toString(36)}function de(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(T,T):(I.status="pending",I.then(function(Y){I.status==="pending"&&(I.status="fulfilled",I.value=Y)},function(Y){I.status==="pending"&&(I.status="rejected",I.reason=Y)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function U(I,Y,Q,F,ae){var re=typeof I;(re==="undefined"||re==="boolean")&&(I=null);var ee=!1;if(I===null)ee=!0;else switch(re){case"bigint":case"string":case"number":ee=!0;break;case"object":switch(I.$$typeof){case e:case t:ee=!0;break;case m:return ee=I._init,U(ee(I._payload),Y,Q,F,ae)}}if(ee)return ae=ae(I),ee=F===""?"."+oe(I,0):F,A(ae)?(Q="",ee!=null&&(Q=ee.replace(V,"$&/")+"/"),U(ae,Y,Q,"",function(me){return me})):ae!=null&&(R(ae)&&(ae=L(ae,Q+(ae.key==null||I&&I.key===ae.key?"":(""+ae.key).replace(V,"$&/")+"/")+ee)),Y.push(ae)),1;ee=0;var we=F===""?".":F+":";if(A(I))for(var X=0;X<I.length;X++)F=I[X],re=we+oe(F,X),ee+=U(F,Y,Q,re,ae);else if(X=y(I),typeof X=="function")for(I=X.call(I),X=0;!(F=I.next()).done;)F=F.value,re=we+oe(F,X++),ee+=U(F,Y,Q,re,ae);else if(re==="object"){if(typeof I.then=="function")return U(de(I),Y,Q,F,ae);throw Y=String(I),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return ee}function K(I,Y,Q){if(I==null)return I;var F=[],ae=0;return U(I,F,"","",function(re){return Y.call(Q,re,ae++)}),F}function W(I){if(I._status===-1){var Y=I._result;Y=Y(),Y.then(function(Q){(I._status===0||I._status===-1)&&(I._status=1,I._result=Q)},function(Q){(I._status===0||I._status===-1)&&(I._status=2,I._result=Q)}),I._status===-1&&(I._status=0,I._result=Y)}if(I._status===1)return I._result.default;throw I._result}var fe=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},pe={map:K,forEach:function(I,Y,Q){K(I,function(){Y.apply(this,arguments)},Q)},count:function(I){var Y=0;return K(I,function(){Y++}),Y},toArray:function(I){return K(I,function(Y){return Y})||[]},only:function(I){if(!R(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return De.Activity=g,De.Children=pe,De.Component=j,De.Fragment=r,De.Profiler=a,De.PureComponent=E,De.StrictMode=n,De.Suspense=d,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,De.__COMPILER_RUNTIME={__proto__:null,c:function(I){return P.H.useMemoCache(I)}},De.cache=function(I){return function(){return I.apply(null,arguments)}},De.cacheSignal=function(){return null},De.cloneElement=function(I,Y,Q){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var F=k({},I.props),ae=I.key;if(Y!=null)for(re in Y.key!==void 0&&(ae=""+Y.key),Y)!M.call(Y,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&Y.ref===void 0||(F[re]=Y[re]);var re=arguments.length-2;if(re===1)F.children=Q;else if(1<re){for(var ee=Array(re),we=0;we<re;we++)ee[we]=arguments[we+2];F.children=ee}return $(I.type,ae,F)},De.createContext=function(I){return I={$$typeof:l,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:s,_context:I},I},De.createElement=function(I,Y,Q){var F,ae={},re=null;if(Y!=null)for(F in Y.key!==void 0&&(re=""+Y.key),Y)M.call(Y,F)&&F!=="key"&&F!=="__self"&&F!=="__source"&&(ae[F]=Y[F]);var ee=arguments.length-2;if(ee===1)ae.children=Q;else if(1<ee){for(var we=Array(ee),X=0;X<ee;X++)we[X]=arguments[X+2];ae.children=we}if(I&&I.defaultProps)for(F in ee=I.defaultProps,ee)ae[F]===void 0&&(ae[F]=ee[F]);return $(I,re,ae)},De.createRef=function(){return{current:null}},De.forwardRef=function(I){return{$$typeof:c,render:I}},De.isValidElement=R,De.lazy=function(I){return{$$typeof:m,_payload:{_status:-1,_result:I},_init:W}},De.memo=function(I,Y){return{$$typeof:f,type:I,compare:Y===void 0?null:Y}},De.startTransition=function(I){var Y=P.T,Q={};P.T=Q;try{var F=I(),ae=P.S;ae!==null&&ae(Q,F),typeof F=="object"&&F!==null&&typeof F.then=="function"&&F.then(T,fe)}catch(re){fe(re)}finally{Y!==null&&Q.types!==null&&(Y.types=Q.types),P.T=Y}},De.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},De.use=function(I){return P.H.use(I)},De.useActionState=function(I,Y,Q){return P.H.useActionState(I,Y,Q)},De.useCallback=function(I,Y){return P.H.useCallback(I,Y)},De.useContext=function(I){return P.H.useContext(I)},De.useDebugValue=function(){},De.useDeferredValue=function(I,Y){return P.H.useDeferredValue(I,Y)},De.useEffect=function(I,Y){return P.H.useEffect(I,Y)},De.useEffectEvent=function(I){return P.H.useEffectEvent(I)},De.useId=function(){return P.H.useId()},De.useImperativeHandle=function(I,Y,Q){return P.H.useImperativeHandle(I,Y,Q)},De.useInsertionEffect=function(I,Y){return P.H.useInsertionEffect(I,Y)},De.useLayoutEffect=function(I,Y){return P.H.useLayoutEffect(I,Y)},De.useMemo=function(I,Y){return P.H.useMemo(I,Y)},De.useOptimistic=function(I,Y){return P.H.useOptimistic(I,Y)},De.useReducer=function(I,Y,Q){return P.H.useReducer(I,Y,Q)},De.useRef=function(I){return P.H.useRef(I)},De.useState=function(I){return P.H.useState(I)},De.useSyncExternalStore=function(I,Y,Q){return P.H.useSyncExternalStore(I,Y,Q)},De.useTransition=function(){return P.H.useTransition()},De.version="19.2.1",De}var i2;function bl(){return i2||(i2=1,Ng.exports=K$()),Ng.exports}var x=bl();const ge=ni(x),ky=T5({__proto__:null,default:ge},[x]);var Ag={exports:{}},Ou={},Tg={exports:{}},Cg={};var s2;function Z$(){return s2||(s2=1,(function(e){function t(U,K){var W=U.length;U.push(K);e:for(;0<W;){var fe=W-1>>>1,pe=U[fe];if(0<a(pe,K))U[fe]=K,U[W]=pe,W=fe;else break e}}function r(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var K=U[0],W=U.pop();if(W!==K){U[0]=W;e:for(var fe=0,pe=U.length,I=pe>>>1;fe<I;){var Y=2*(fe+1)-1,Q=U[Y],F=Y+1,ae=U[F];if(0>a(Q,W))F<pe&&0>a(ae,Q)?(U[fe]=ae,U[F]=W,fe=F):(U[fe]=Q,U[Y]=W,fe=Y);else if(F<pe&&0>a(ae,W))U[fe]=ae,U[F]=W,fe=F;else break e}}return K}function a(U,K){var W=U.sortIndex-K.sortIndex;return W!==0?W:U.id-K.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var d=[],f=[],m=1,g=null,v=3,y=!1,S=!1,k=!1,_=!1,j=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function C(U){for(var K=r(f);K!==null;){if(K.callback===null)n(f);else if(K.startTime<=U)n(f),K.sortIndex=K.expirationTime,t(d,K);else break;K=r(f)}}function A(U){if(k=!1,C(U),!S)if(r(d)!==null)S=!0,T||(T=!0,q());else{var K=r(f);K!==null&&de(A,K.startTime-U)}}var T=!1,P=-1,M=5,$=-1;function L(){return _?!0:!(e.unstable_now()-$<M)}function R(){if(_=!1,T){var U=e.unstable_now();$=U;var K=!0;try{e:{S=!1,k&&(k=!1,N(P),P=-1),y=!0;var W=v;try{t:{for(C(U),g=r(d);g!==null&&!(g.expirationTime>U&&L());){var fe=g.callback;if(typeof fe=="function"){g.callback=null,v=g.priorityLevel;var pe=fe(g.expirationTime<=U);if(U=e.unstable_now(),typeof pe=="function"){g.callback=pe,C(U),K=!0;break t}g===r(d)&&n(d),C(U)}else n(d);g=r(d)}if(g!==null)K=!0;else{var I=r(f);I!==null&&de(A,I.startTime-U),K=!1}}break e}finally{g=null,v=W,y=!1}K=void 0}}finally{K?q():T=!1}}}var q;if(typeof E=="function")q=function(){E(R)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,oe=V.port2;V.port1.onmessage=R,q=function(){oe.postMessage(null)}}else q=function(){j(R,0)};function de(U,K){P=j(function(){U(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(U){switch(v){case 1:case 2:case 3:var K=3;break;default:K=v}var W=v;v=K;try{return U()}finally{v=W}},e.unstable_requestPaint=function(){_=!0},e.unstable_runWithPriority=function(U,K){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var W=v;v=U;try{return K()}finally{v=W}},e.unstable_scheduleCallback=function(U,K,W){var fe=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?fe+W:fe):W=fe,U){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=W+pe,U={id:m++,callback:K,priorityLevel:U,startTime:W,expirationTime:pe,sortIndex:-1},W>fe?(U.sortIndex=W,t(f,U),r(d)===null&&U===r(f)&&(k?(N(P),P=-1):k=!0,de(A,W-fe))):(U.sortIndex=pe,t(d,U),S||y||(S=!0,T||(T=!0,q()))),U},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(U){var K=v;return function(){var W=v;v=K;try{return U.apply(this,arguments)}finally{v=W}}}})(Cg)),Cg}var o2;function G$(){return o2||(o2=1,Tg.exports=Z$()),Tg.exports}var Pg={exports:{}},vr={};var l2;function Y$(){if(l2)return vr;l2=1;var e=bl();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(d,f,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:d,containerInfo:f,implementation:m}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return vr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,vr.createPortal=function(d,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return s(d,f,null,m)},vr.flushSync=function(d){var f=l.T,m=n.p;try{if(l.T=null,n.p=2,d)return d()}finally{l.T=f,n.p=m,n.d.f()}},vr.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(d,f))},vr.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},vr.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var m=f.as,g=c(m,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,y=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?n.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:y}):m==="script"&&n.d.X(d,{crossOrigin:g,integrity:v,fetchPriority:y,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},vr.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=c(f.as,f.crossOrigin);n.d.M(d,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(d)},vr.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,g=c(m,f.crossOrigin);n.d.L(d,m,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},vr.preloadModule=function(d,f){if(typeof d=="string")if(f){var m=c(f.as,f.crossOrigin);n.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(d)},vr.requestFormReset=function(d){n.d.r(d)},vr.unstable_batchedUpdates=function(d,f){return d(f)},vr.useFormState=function(d,f,m){return l.H.useFormState(d,f,m)},vr.useFormStatus=function(){return l.H.useHostTransitionStatus()},vr.version="19.2.1",vr}var u2;function C5(){if(u2)return Pg.exports;u2=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Pg.exports=Y$(),Pg.exports}var c2;function W$(){if(c2)return Ou;c2=1;var e=G$(),t=bl(),r=C5();function n(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function s(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function l(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function c(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function d(i){if(s(i)!==i)throw Error(n(188))}function f(i){var o=i.alternate;if(!o){if(o=s(i),o===null)throw Error(n(188));return o!==i?null:i}for(var u=i,h=o;;){var b=u.return;if(b===null)break;var w=b.alternate;if(w===null){if(h=b.return,h!==null){u=h;continue}break}if(b.child===w.child){for(w=b.child;w;){if(w===u)return d(b),i;if(w===h)return d(b),o;w=w.sibling}throw Error(n(188))}if(u.return!==h.return)u=b,h=w;else{for(var O=!1,D=b.child;D;){if(D===u){O=!0,u=b,h=w;break}if(D===h){O=!0,h=b,u=w;break}D=D.sibling}if(!O){for(D=w.child;D;){if(D===u){O=!0,u=w,h=b;break}if(D===h){O=!0,h=w,u=b;break}D=D.sibling}if(!O)throw Error(n(189))}}if(u.alternate!==h)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:o}function m(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=m(i),o!==null)return o;i=i.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),E=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function q(i){return i===null||typeof i!="object"?null:(i=R&&i[R]||i["@@iterator"],typeof i=="function"?i:null)}var V=Symbol.for("react.client.reference");function oe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===V?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case k:return"Fragment";case j:return"Profiler";case _:return"StrictMode";case A:return"Suspense";case T:return"SuspenseList";case $:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case S:return"Portal";case E:return i.displayName||"Context";case N:return(i._context.displayName||"Context")+".Consumer";case C:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case P:return o=i.displayName||null,o!==null?o:oe(i.type)||"Memo";case M:o=i._payload,i=i._init;try{return oe(i(o))}catch{}}return null}var de=Array.isArray,U=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},fe=[],pe=-1;function I(i){return{current:i}}function Y(i){0>pe||(i.current=fe[pe],fe[pe]=null,pe--)}function Q(i,o){pe++,fe[pe]=i.current,i.current=o}var F=I(null),ae=I(null),re=I(null),ee=I(null);function we(i,o){switch(Q(re,o),Q(ae,i),Q(F,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?jk(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=jk(o),i=Ek(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Y(F),Q(F,i)}function X(){Y(F),Y(ae),Y(re)}function me(i){i.memoizedState!==null&&Q(ee,i);var o=F.current,u=Ek(o,i.type);o!==u&&(Q(ae,i),Q(F,u))}function _e(i){ae.current===i&&(Y(F),Y(ae)),ee.current===i&&(Y(ee),_u._currentValue=W)}var ce,Ge;function Pe(i){if(ce===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);ce=o&&o[1]||"",Ge=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ce+i+Ge}var he=!1;function ve(i,o){if(!i||he)return"";he=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(o){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(te){var J=te}Reflect.construct(i,[],le)}else{try{le.call()}catch(te){J=te}i.call(le.prototype)}}else{try{throw Error()}catch(te){J=te}(le=i())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(te){if(te&&J&&typeof te.stack=="string")return[te.stack,J.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=h.DetermineComponentFrameRoot(),O=w[0],D=w[1];if(O&&D){var z=O.split(`
`),G=D.split(`
`);for(b=h=0;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;for(;b<G.length&&!G[b].includes("DetermineComponentFrameRoot");)b++;if(h===z.length||b===G.length)for(h=z.length-1,b=G.length-1;1<=h&&0<=b&&z[h]!==G[b];)b--;for(;1<=h&&0<=b;h--,b--)if(z[h]!==G[b]){if(h!==1||b!==1)do if(h--,b--,0>b||z[h]!==G[b]){var ie=`
`+z[h].replace(" at new "," at ");return i.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",i.displayName)),ie}while(1<=h&&0<=b);break}}}finally{he=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?Pe(u):""}function je(i,o){switch(i.tag){case 26:case 27:case 5:return Pe(i.type);case 16:return Pe("Lazy");case 13:return i.child!==o&&o!==null?Pe("Suspense Fallback"):Pe("Suspense");case 19:return Pe("SuspenseList");case 0:case 15:return ve(i.type,!1);case 11:return ve(i.type.render,!1);case 1:return ve(i.type,!0);case 31:return Pe("Activity");default:return""}}function ze(i){try{var o="",u=null;do o+=je(i,u),u=i,i=i.return;while(i);return o}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var Kt=Object.prototype.hasOwnProperty,Gr=e.unstable_scheduleCallback,pn=e.unstable_cancelCallback,di=e.unstable_shouldYield,mr=e.unstable_requestPaint,Ye=e.unstable_now,gn=e.unstable_getCurrentPriorityLevel,pr=e.unstable_ImmediatePriority,ga=e.unstable_UserBlockingPriority,bt=e.unstable_NormalPriority,Lt=e.unstable_LowPriority,gr=e.unstable_IdlePriority,Dl=e.log,Ml=e.unstable_setDisableYieldValue,va=null,kr=null;function vn(i){if(typeof Dl=="function"&&Ml(i),kr&&typeof kr.setStrictMode=="function")try{kr.setStrictMode(va,i)}catch{}}var It=Math.clz32?Math.clz32:TM,no=Math.log,Gc=Math.LN2;function TM(i){return i>>>=0,i===0?32:31-(no(i)/Gc|0)|0}var Yc=256,Wc=262144,Xc=4194304;function ts(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Jc(i,o,u){var h=i.pendingLanes;if(h===0)return 0;var b=0,w=i.suspendedLanes,O=i.pingedLanes;i=i.warmLanes;var D=h&134217727;return D!==0?(h=D&~w,h!==0?b=ts(h):(O&=D,O!==0?b=ts(O):u||(u=D&~i,u!==0&&(b=ts(u))))):(D=h&~w,D!==0?b=ts(D):O!==0?b=ts(O):u||(u=h&~i,u!==0&&(b=ts(u)))),b===0?0:o!==0&&o!==b&&(o&w)===0&&(w=b&-b,u=o&-o,w>=u||w===32&&(u&4194048)!==0)?o:b}function Rl(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function CM(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function s1(){var i=Xc;return Xc<<=1,(Xc&62914560)===0&&(Xc=4194304),i}function pm(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function $l(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function PM(i,o,u,h,b,w){var O=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var D=i.entanglements,z=i.expirationTimes,G=i.hiddenUpdates;for(u=O&~u;0<u;){var ie=31-It(u),le=1<<ie;D[ie]=0,z[ie]=-1;var J=G[ie];if(J!==null)for(G[ie]=null,ie=0;ie<J.length;ie++){var te=J[ie];te!==null&&(te.lane&=-536870913)}u&=~le}h!==0&&o1(i,h,0),w!==0&&b===0&&i.tag!==0&&(i.suspendedLanes|=w&~(O&~o))}function o1(i,o,u){i.pendingLanes|=o,i.suspendedLanes&=~o;var h=31-It(o);i.entangledLanes|=o,i.entanglements[h]=i.entanglements[h]|1073741824|u&261930}function l1(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var h=31-It(u),b=1<<h;b&o|i[h]&o&&(i[h]|=o),u&=~b}}function u1(i,o){var u=o&-o;return u=(u&42)!==0?1:gm(u),(u&(i.suspendedLanes|o))!==0?0:u}function gm(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function vm(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function c1(){var i=K.p;return i!==0?i:(i=window.event,i===void 0?32:Yk(i.type))}function d1(i,o){var u=K.p;try{return K.p=i,o()}finally{K.p=u}}var fi=Math.random().toString(36).slice(2),Qt="__reactFiber$"+fi,Mr="__reactProps$"+fi,ao="__reactContainer$"+fi,ym="__reactEvents$"+fi,DM="__reactListeners$"+fi,MM="__reactHandles$"+fi,f1="__reactResources$"+fi,Ll="__reactMarker$"+fi;function bm(i){delete i[Qt],delete i[Mr],delete i[ym],delete i[DM],delete i[MM]}function io(i){var o=i[Qt];if(o)return o;for(var u=i.parentNode;u;){if(o=u[ao]||u[Qt]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=Dk(i);i!==null;){if(u=i[Qt])return u;i=Dk(i)}return o}i=u,u=i.parentNode}return null}function so(i){if(i=i[Qt]||i[ao]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function Il(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(n(33))}function oo(i){var o=i[f1];return o||(o=i[f1]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Zt(i){i[Ll]=!0}var h1=new Set,m1={};function rs(i,o){lo(i,o),lo(i+"Capture",o)}function lo(i,o){for(m1[i]=o,i=0;i<o.length;i++)h1.add(o[i])}var RM=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),p1={},g1={};function $M(i){return Kt.call(g1,i)?!0:Kt.call(p1,i)?!1:RM.test(i)?g1[i]=!0:(p1[i]=!0,!1)}function Qc(i,o,u){if($M(o))if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var h=o.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+u)}}function ed(i,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+u)}}function ya(i,o,u,h){if(h===null)i.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(o,u,""+h)}}function yn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function v1(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function LM(i,o,u){var h=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var b=h.get,w=h.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return b.call(this)},set:function(O){u=""+O,w.call(this,O)}}),Object.defineProperty(i,o,{enumerable:h.enumerable}),{getValue:function(){return u},setValue:function(O){u=""+O},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function xm(i){if(!i._valueTracker){var o=v1(i)?"checked":"value";i._valueTracker=LM(i,o,""+i[o])}}function y1(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),h="";return i&&(h=v1(i)?i.checked?"true":"false":i.value),i=h,i!==u?(o.setValue(i),!0):!1}function td(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var IM=/[\n"\\]/g;function bn(i){return i.replace(IM,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function wm(i,o,u,h,b,w,O,D){i.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?i.type=O:i.removeAttribute("type"),o!=null?O==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+yn(o)):i.value!==""+yn(o)&&(i.value=""+yn(o)):O!=="submit"&&O!=="reset"||i.removeAttribute("value"),o!=null?_m(i,O,yn(o)):u!=null?_m(i,O,yn(u)):h!=null&&i.removeAttribute("value"),b==null&&w!=null&&(i.defaultChecked=!!w),b!=null&&(i.checked=b&&typeof b!="function"&&typeof b!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?i.name=""+yn(D):i.removeAttribute("name")}function b1(i,o,u,h,b,w,O,D){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.type=w),o!=null||u!=null){if(!(w!=="submit"&&w!=="reset"||o!=null)){xm(i);return}u=u!=null?""+yn(u):"",o=o!=null?""+yn(o):u,D||o===i.value||(i.value=o),i.defaultValue=o}h=h??b,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=D?i.checked:!!h,i.defaultChecked=!!h,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(i.name=O),xm(i)}function _m(i,o,u){o==="number"&&td(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function uo(i,o,u,h){if(i=i.options,o){o={};for(var b=0;b<u.length;b++)o["$"+u[b]]=!0;for(u=0;u<i.length;u++)b=o.hasOwnProperty("$"+i[u].value),i[u].selected!==b&&(i[u].selected=b),b&&h&&(i[u].defaultSelected=!0)}else{for(u=""+yn(u),o=null,b=0;b<i.length;b++){if(i[b].value===u){i[b].selected=!0,h&&(i[b].defaultSelected=!0);return}o!==null||i[b].disabled||(o=i[b])}o!==null&&(o.selected=!0)}}function x1(i,o,u){if(o!=null&&(o=""+yn(o),o!==i.value&&(i.value=o),u==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=u!=null?""+yn(u):""}function w1(i,o,u,h){if(o==null){if(h!=null){if(u!=null)throw Error(n(92));if(de(h)){if(1<h.length)throw Error(n(93));h=h[0]}u=h}u==null&&(u=""),o=u}u=yn(o),i.defaultValue=u,h=i.textContent,h===u&&h!==""&&h!==null&&(i.value=h),xm(i)}function co(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var zM=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _1(i,o,u){var h=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?h?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":h?i.setProperty(o,u):typeof u!="number"||u===0||zM.has(o)?o==="float"?i.cssFloat=u:i[o]=(""+u).trim():i[o]=u+"px"}function S1(i,o,u){if(o!=null&&typeof o!="object")throw Error(n(62));if(i=i.style,u!=null){for(var h in u)!u.hasOwnProperty(h)||o!=null&&o.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var b in o)h=o[b],o.hasOwnProperty(b)&&u[b]!==h&&_1(i,b,h)}else for(var w in o)o.hasOwnProperty(w)&&_1(i,w,o[w])}function Sm(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var UM=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),BM=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rd(i){return BM.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ba(){}var km=null;function jm(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var fo=null,ho=null;function k1(i){var o=so(i);if(o&&(i=o.stateNode)){var u=i[Mr]||null;e:switch(i=o.stateNode,o.type){case"input":if(wm(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+bn(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var h=u[o];if(h!==i&&h.form===i.form){var b=h[Mr]||null;if(!b)throw Error(n(90));wm(h,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(o=0;o<u.length;o++)h=u[o],h.form===i.form&&y1(h)}break e;case"textarea":x1(i,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&uo(i,!!u.multiple,o,!1)}}}var Em=!1;function j1(i,o,u){if(Em)return i(o,u);Em=!0;try{var h=i(o);return h}finally{if(Em=!1,(fo!==null||ho!==null)&&(Hd(),fo&&(o=fo,i=ho,ho=fo=null,k1(o),i)))for(o=0;o<i.length;o++)k1(i[o])}}function zl(i,o){var u=i.stateNode;if(u===null)return null;var h=u[Mr]||null;if(h===null)return null;u=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var xa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Om=!1;if(xa)try{var Ul={};Object.defineProperty(Ul,"passive",{get:function(){Om=!0}}),window.addEventListener("test",Ul,Ul),window.removeEventListener("test",Ul,Ul)}catch{Om=!1}var hi=null,Nm=null,nd=null;function E1(){if(nd)return nd;var i,o=Nm,u=o.length,h,b="value"in hi?hi.value:hi.textContent,w=b.length;for(i=0;i<u&&o[i]===b[i];i++);var O=u-i;for(h=1;h<=O&&o[u-h]===b[w-h];h++);return nd=b.slice(i,1<h?1-h:void 0)}function ad(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function id(){return!0}function O1(){return!1}function Rr(i){function o(u,h,b,w,O){this._reactName=u,this._targetInst=b,this.type=h,this.nativeEvent=w,this.target=O,this.currentTarget=null;for(var D in i)i.hasOwnProperty(D)&&(u=i[D],this[D]=u?u(w):w[D]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?id:O1,this.isPropagationStopped=O1,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=id)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=id)},persist:function(){},isPersistent:id}),o}var ns={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sd=Rr(ns),Bl=g({},ns,{view:0,detail:0}),qM=Rr(Bl),Am,Tm,ql,od=g({},Bl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pm,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ql&&(ql&&i.type==="mousemove"?(Am=i.screenX-ql.screenX,Tm=i.screenY-ql.screenY):Tm=Am=0,ql=i),Am)},movementY:function(i){return"movementY"in i?i.movementY:Tm}}),N1=Rr(od),HM=g({},od,{dataTransfer:0}),FM=Rr(HM),VM=g({},Bl,{relatedTarget:0}),Cm=Rr(VM),KM=g({},ns,{animationName:0,elapsedTime:0,pseudoElement:0}),ZM=Rr(KM),GM=g({},ns,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),YM=Rr(GM),WM=g({},ns,{data:0}),A1=Rr(WM),XM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},JM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},QM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eR(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=QM[i])?!!o[i]:!1}function Pm(){return eR}var tR=g({},Bl,{key:function(i){if(i.key){var o=XM[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=ad(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?JM[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pm,charCode:function(i){return i.type==="keypress"?ad(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ad(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),rR=Rr(tR),nR=g({},od,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),T1=Rr(nR),aR=g({},Bl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pm}),iR=Rr(aR),sR=g({},ns,{propertyName:0,elapsedTime:0,pseudoElement:0}),oR=Rr(sR),lR=g({},od,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),uR=Rr(lR),cR=g({},ns,{newState:0,oldState:0}),dR=Rr(cR),fR=[9,13,27,32],Dm=xa&&"CompositionEvent"in window,Hl=null;xa&&"documentMode"in document&&(Hl=document.documentMode);var hR=xa&&"TextEvent"in window&&!Hl,C1=xa&&(!Dm||Hl&&8<Hl&&11>=Hl),P1=" ",D1=!1;function M1(i,o){switch(i){case"keyup":return fR.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function R1(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var mo=!1;function mR(i,o){switch(i){case"compositionend":return R1(o);case"keypress":return o.which!==32?null:(D1=!0,P1);case"textInput":return i=o.data,i===P1&&D1?null:i;default:return null}}function pR(i,o){if(mo)return i==="compositionend"||!Dm&&M1(i,o)?(i=E1(),nd=Nm=hi=null,mo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return C1&&o.locale!=="ko"?null:o.data;default:return null}}var gR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $1(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!gR[i.type]:o==="textarea"}function L1(i,o,u,h){fo?ho?ho.push(h):ho=[h]:fo=h,o=Wd(o,"onChange"),0<o.length&&(u=new sd("onChange","change",null,u,h),i.push({event:u,listeners:o}))}var Fl=null,Vl=null;function vR(i){bk(i,0)}function ld(i){var o=Il(i);if(y1(o))return i}function I1(i,o){if(i==="change")return o}var z1=!1;if(xa){var Mm;if(xa){var Rm="oninput"in document;if(!Rm){var U1=document.createElement("div");U1.setAttribute("oninput","return;"),Rm=typeof U1.oninput=="function"}Mm=Rm}else Mm=!1;z1=Mm&&(!document.documentMode||9<document.documentMode)}function B1(){Fl&&(Fl.detachEvent("onpropertychange",q1),Vl=Fl=null)}function q1(i){if(i.propertyName==="value"&&ld(Vl)){var o=[];L1(o,Vl,i,jm(i)),j1(vR,o)}}function yR(i,o,u){i==="focusin"?(B1(),Fl=o,Vl=u,Fl.attachEvent("onpropertychange",q1)):i==="focusout"&&B1()}function bR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ld(Vl)}function xR(i,o){if(i==="click")return ld(o)}function wR(i,o){if(i==="input"||i==="change")return ld(o)}function _R(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Yr=typeof Object.is=="function"?Object.is:_R;function Kl(i,o){if(Yr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),h=Object.keys(o);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var b=u[h];if(!Kt.call(o,b)||!Yr(i[b],o[b]))return!1}return!0}function H1(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function F1(i,o){var u=H1(i);i=0;for(var h;u;){if(u.nodeType===3){if(h=i+u.textContent.length,i<=o&&h>=o)return{node:u,offset:o-i};i=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=H1(u)}}function V1(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?V1(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function K1(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=td(i.document);o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=td(i.document)}return o}function $m(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var SR=xa&&"documentMode"in document&&11>=document.documentMode,po=null,Lm=null,Zl=null,Im=!1;function Z1(i,o,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Im||po==null||po!==td(h)||(h=po,"selectionStart"in h&&$m(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Zl&&Kl(Zl,h)||(Zl=h,h=Wd(Lm,"onSelect"),0<h.length&&(o=new sd("onSelect","select",null,o,u),i.push({event:o,listeners:h}),o.target=po)))}function as(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var go={animationend:as("Animation","AnimationEnd"),animationiteration:as("Animation","AnimationIteration"),animationstart:as("Animation","AnimationStart"),transitionrun:as("Transition","TransitionRun"),transitionstart:as("Transition","TransitionStart"),transitioncancel:as("Transition","TransitionCancel"),transitionend:as("Transition","TransitionEnd")},zm={},G1={};xa&&(G1=document.createElement("div").style,"AnimationEvent"in window||(delete go.animationend.animation,delete go.animationiteration.animation,delete go.animationstart.animation),"TransitionEvent"in window||delete go.transitionend.transition);function is(i){if(zm[i])return zm[i];if(!go[i])return i;var o=go[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in G1)return zm[i]=o[u];return i}var Y1=is("animationend"),W1=is("animationiteration"),X1=is("animationstart"),kR=is("transitionrun"),jR=is("transitionstart"),ER=is("transitioncancel"),J1=is("transitionend"),Q1=new Map,Um="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Um.push("scrollEnd");function In(i,o){Q1.set(i,o),rs(o,[i])}var ud=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},xn=[],vo=0,Bm=0;function cd(){for(var i=vo,o=Bm=vo=0;o<i;){var u=xn[o];xn[o++]=null;var h=xn[o];xn[o++]=null;var b=xn[o];xn[o++]=null;var w=xn[o];if(xn[o++]=null,h!==null&&b!==null){var O=h.pending;O===null?b.next=b:(b.next=O.next,O.next=b),h.pending=b}w!==0&&e_(u,b,w)}}function dd(i,o,u,h){xn[vo++]=i,xn[vo++]=o,xn[vo++]=u,xn[vo++]=h,Bm|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function qm(i,o,u,h){return dd(i,o,u,h),fd(i)}function ss(i,o){return dd(i,null,null,o),fd(i)}function e_(i,o,u){i.lanes|=u;var h=i.alternate;h!==null&&(h.lanes|=u);for(var b=!1,w=i.return;w!==null;)w.childLanes|=u,h=w.alternate,h!==null&&(h.childLanes|=u),w.tag===22&&(i=w.stateNode,i===null||i._visibility&1||(b=!0)),i=w,w=w.return;return i.tag===3?(w=i.stateNode,b&&o!==null&&(b=31-It(u),i=w.hiddenUpdates,h=i[b],h===null?i[b]=[o]:h.push(o),o.lane=u|536870912),w):null}function fd(i){if(50<pu)throw pu=0,Xp=null,Error(n(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var yo={};function OR(i,o,u,h){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wr(i,o,u,h){return new OR(i,o,u,h)}function Hm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function wa(i,o){var u=i.alternate;return u===null?(u=Wr(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function t_(i,o){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,o=u.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function hd(i,o,u,h,b,w){var O=0;if(h=i,typeof i=="function")Hm(i)&&(O=1);else if(typeof i=="string")O=P$(i,u,F.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case $:return i=Wr(31,u,o,b),i.elementType=$,i.lanes=w,i;case k:return os(u.children,b,w,o);case _:O=8,b|=24;break;case j:return i=Wr(12,u,o,b|2),i.elementType=j,i.lanes=w,i;case A:return i=Wr(13,u,o,b),i.elementType=A,i.lanes=w,i;case T:return i=Wr(19,u,o,b),i.elementType=T,i.lanes=w,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case E:O=10;break e;case N:O=9;break e;case C:O=11;break e;case P:O=14;break e;case M:O=16,h=null;break e}O=29,u=Error(n(130,i===null?"null":typeof i,"")),h=null}return o=Wr(O,u,o,b),o.elementType=i,o.type=h,o.lanes=w,o}function os(i,o,u,h){return i=Wr(7,i,h,o),i.lanes=u,i}function Fm(i,o,u){return i=Wr(6,i,null,o),i.lanes=u,i}function r_(i){var o=Wr(18,null,null,0);return o.stateNode=i,o}function Vm(i,o,u){return o=Wr(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var n_=new WeakMap;function wn(i,o){if(typeof i=="object"&&i!==null){var u=n_.get(i);return u!==void 0?u:(o={value:i,source:o,stack:ze(o)},n_.set(i,o),o)}return{value:i,source:o,stack:ze(o)}}var bo=[],xo=0,md=null,Gl=0,_n=[],Sn=0,mi=null,ea=1,ta="";function _a(i,o){bo[xo++]=Gl,bo[xo++]=md,md=i,Gl=o}function a_(i,o,u){_n[Sn++]=ea,_n[Sn++]=ta,_n[Sn++]=mi,mi=i;var h=ea;i=ta;var b=32-It(h)-1;h&=~(1<<b),u+=1;var w=32-It(o)+b;if(30<w){var O=b-b%5;w=(h&(1<<O)-1).toString(32),h>>=O,b-=O,ea=1<<32-It(o)+b|u<<b|h,ta=w+i}else ea=1<<w|u<<b|h,ta=i}function Km(i){i.return!==null&&(_a(i,1),a_(i,1,0))}function Zm(i){for(;i===md;)md=bo[--xo],bo[xo]=null,Gl=bo[--xo],bo[xo]=null;for(;i===mi;)mi=_n[--Sn],_n[Sn]=null,ta=_n[--Sn],_n[Sn]=null,ea=_n[--Sn],_n[Sn]=null}function i_(i,o){_n[Sn++]=ea,_n[Sn++]=ta,_n[Sn++]=mi,ea=o.id,ta=o.overflow,mi=i}var er=null,ut=null,He=!1,pi=null,kn=!1,Gm=Error(n(519));function gi(i){var o=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Yl(wn(o,i)),Gm}function s_(i){var o=i.stateNode,u=i.type,h=i.memoizedProps;switch(o[Qt]=i,o[Mr]=h,u){case"dialog":Ie("cancel",o),Ie("close",o);break;case"iframe":case"object":case"embed":Ie("load",o);break;case"video":case"audio":for(u=0;u<vu.length;u++)Ie(vu[u],o);break;case"source":Ie("error",o);break;case"img":case"image":case"link":Ie("error",o),Ie("load",o);break;case"details":Ie("toggle",o);break;case"input":Ie("invalid",o),b1(o,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":Ie("invalid",o);break;case"textarea":Ie("invalid",o),w1(o,h.value,h.defaultValue,h.children)}u=h.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||h.suppressHydrationWarning===!0||Sk(o.textContent,u)?(h.popover!=null&&(Ie("beforetoggle",o),Ie("toggle",o)),h.onScroll!=null&&Ie("scroll",o),h.onScrollEnd!=null&&Ie("scrollend",o),h.onClick!=null&&(o.onclick=ba),o=!0):o=!1,o||gi(i,!0)}function o_(i){for(er=i.return;er;)switch(er.tag){case 5:case 31:case 13:kn=!1;return;case 27:case 3:kn=!0;return;default:er=er.return}}function wo(i){if(i!==er)return!1;if(!He)return o_(i),He=!0,!1;var o=i.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||fg(i.type,i.memoizedProps)),u=!u),u&&ut&&gi(i),o_(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));ut=Pk(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));ut=Pk(i)}else o===27?(o=ut,Ti(i.type)?(i=vg,vg=null,ut=i):ut=o):ut=er?En(i.stateNode.nextSibling):null;return!0}function ls(){ut=er=null,He=!1}function Ym(){var i=pi;return i!==null&&(zr===null?zr=i:zr.push.apply(zr,i),pi=null),i}function Yl(i){pi===null?pi=[i]:pi.push(i)}var Wm=I(null),us=null,Sa=null;function vi(i,o,u){Q(Wm,o._currentValue),o._currentValue=u}function ka(i){i._currentValue=Wm.current,Y(Wm)}function Xm(i,o,u){for(;i!==null;){var h=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),i===u)break;i=i.return}}function Jm(i,o,u,h){var b=i.child;for(b!==null&&(b.return=i);b!==null;){var w=b.dependencies;if(w!==null){var O=b.child;w=w.firstContext;e:for(;w!==null;){var D=w;w=b;for(var z=0;z<o.length;z++)if(D.context===o[z]){w.lanes|=u,D=w.alternate,D!==null&&(D.lanes|=u),Xm(w.return,u,i),h||(O=null);break e}w=D.next}}else if(b.tag===18){if(O=b.return,O===null)throw Error(n(341));O.lanes|=u,w=O.alternate,w!==null&&(w.lanes|=u),Xm(O,u,i),O=null}else O=b.child;if(O!==null)O.return=b;else for(O=b;O!==null;){if(O===i){O=null;break}if(b=O.sibling,b!==null){b.return=O.return,O=b;break}O=O.return}b=O}}function _o(i,o,u,h){i=null;for(var b=o,w=!1;b!==null;){if(!w){if((b.flags&524288)!==0)w=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var O=b.alternate;if(O===null)throw Error(n(387));if(O=O.memoizedProps,O!==null){var D=b.type;Yr(b.pendingProps.value,O.value)||(i!==null?i.push(D):i=[D])}}else if(b===ee.current){if(O=b.alternate,O===null)throw Error(n(387));O.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(i!==null?i.push(_u):i=[_u])}b=b.return}i!==null&&Jm(o,i,u,h),o.flags|=262144}function pd(i){for(i=i.firstContext;i!==null;){if(!Yr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function cs(i){us=i,Sa=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function tr(i){return l_(us,i)}function gd(i,o){return us===null&&cs(i),l_(i,o)}function l_(i,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Sa===null){if(i===null)throw Error(n(308));Sa=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else Sa=Sa.next=o;return u}var NR=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(u,h){i.push(h)}};this.abort=function(){o.aborted=!0,i.forEach(function(u){return u()})}},AR=e.unstable_scheduleCallback,TR=e.unstable_NormalPriority,At={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qm(){return{controller:new NR,data:new Map,refCount:0}}function Wl(i){i.refCount--,i.refCount===0&&AR(TR,function(){i.controller.abort()})}var Xl=null,ep=0,So=0,ko=null;function CR(i,o){if(Xl===null){var u=Xl=[];ep=0,So=ng(),ko={status:"pending",value:void 0,then:function(h){u.push(h)}}}return ep++,o.then(u_,u_),o}function u_(){if(--ep===0&&Xl!==null){ko!==null&&(ko.status="fulfilled");var i=Xl;Xl=null,So=0,ko=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function PR(i,o){var u=[],h={status:"pending",value:null,reason:null,then:function(b){u.push(b)}};return i.then(function(){h.status="fulfilled",h.value=o;for(var b=0;b<u.length;b++)(0,u[b])(o)},function(b){for(h.status="rejected",h.reason=b,b=0;b<u.length;b++)(0,u[b])(void 0)}),h}var c_=U.S;U.S=function(i,o){ZS=Ye(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&CR(i,o),c_!==null&&c_(i,o)};var ds=I(null);function tp(){var i=ds.current;return i!==null?i:rt.pooledCache}function vd(i,o){o===null?Q(ds,ds.current):Q(ds,o.pool)}function d_(){var i=tp();return i===null?null:{parent:At._currentValue,pool:i}}var jo=Error(n(460)),rp=Error(n(474)),yd=Error(n(542)),bd={then:function(){}};function f_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function h_(i,o,u){switch(u=i[u],u===void 0?i.push(o):u!==o&&(o.then(ba,ba),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,p_(i),i;default:if(typeof o.status=="string")o.then(ba,ba);else{if(i=rt,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=o,i.status="pending",i.then(function(h){if(o.status==="pending"){var b=o;b.status="fulfilled",b.value=h}},function(h){if(o.status==="pending"){var b=o;b.status="rejected",b.reason=h}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,p_(i),i}throw hs=o,jo}}function fs(i){try{var o=i._init;return o(i._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(hs=u,jo):u}}var hs=null;function m_(){if(hs===null)throw Error(n(459));var i=hs;return hs=null,i}function p_(i){if(i===jo||i===yd)throw Error(n(483))}var Eo=null,Jl=0;function xd(i){var o=Jl;return Jl+=1,Eo===null&&(Eo=[]),h_(Eo,i,o)}function Ql(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function wd(i,o){throw o.$$typeof===v?Error(n(525)):(i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function g_(i){function o(H,B){if(i){var Z=H.deletions;Z===null?(H.deletions=[B],H.flags|=16):Z.push(B)}}function u(H,B){if(!i)return null;for(;B!==null;)o(H,B),B=B.sibling;return null}function h(H){for(var B=new Map;H!==null;)H.key!==null?B.set(H.key,H):B.set(H.index,H),H=H.sibling;return B}function b(H,B){return H=wa(H,B),H.index=0,H.sibling=null,H}function w(H,B,Z){return H.index=Z,i?(Z=H.alternate,Z!==null?(Z=Z.index,Z<B?(H.flags|=67108866,B):Z):(H.flags|=67108866,B)):(H.flags|=1048576,B)}function O(H){return i&&H.alternate===null&&(H.flags|=67108866),H}function D(H,B,Z,se){return B===null||B.tag!==6?(B=Fm(Z,H.mode,se),B.return=H,B):(B=b(B,Z),B.return=H,B)}function z(H,B,Z,se){var Ne=Z.type;return Ne===k?ie(H,B,Z.props.children,se,Z.key):B!==null&&(B.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===M&&fs(Ne)===B.type)?(B=b(B,Z.props),Ql(B,Z),B.return=H,B):(B=hd(Z.type,Z.key,Z.props,null,H.mode,se),Ql(B,Z),B.return=H,B)}function G(H,B,Z,se){return B===null||B.tag!==4||B.stateNode.containerInfo!==Z.containerInfo||B.stateNode.implementation!==Z.implementation?(B=Vm(Z,H.mode,se),B.return=H,B):(B=b(B,Z.children||[]),B.return=H,B)}function ie(H,B,Z,se,Ne){return B===null||B.tag!==7?(B=os(Z,H.mode,se,Ne),B.return=H,B):(B=b(B,Z),B.return=H,B)}function le(H,B,Z){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Fm(""+B,H.mode,Z),B.return=H,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case y:return Z=hd(B.type,B.key,B.props,null,H.mode,Z),Ql(Z,B),Z.return=H,Z;case S:return B=Vm(B,H.mode,Z),B.return=H,B;case M:return B=fs(B),le(H,B,Z)}if(de(B)||q(B))return B=os(B,H.mode,Z,null),B.return=H,B;if(typeof B.then=="function")return le(H,xd(B),Z);if(B.$$typeof===E)return le(H,gd(H,B),Z);wd(H,B)}return null}function J(H,B,Z,se){var Ne=B!==null?B.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Ne!==null?null:D(H,B,""+Z,se);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case y:return Z.key===Ne?z(H,B,Z,se):null;case S:return Z.key===Ne?G(H,B,Z,se):null;case M:return Z=fs(Z),J(H,B,Z,se)}if(de(Z)||q(Z))return Ne!==null?null:ie(H,B,Z,se,null);if(typeof Z.then=="function")return J(H,B,xd(Z),se);if(Z.$$typeof===E)return J(H,B,gd(H,Z),se);wd(H,Z)}return null}function te(H,B,Z,se,Ne){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return H=H.get(Z)||null,D(B,H,""+se,Ne);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case y:return H=H.get(se.key===null?Z:se.key)||null,z(B,H,se,Ne);case S:return H=H.get(se.key===null?Z:se.key)||null,G(B,H,se,Ne);case M:return se=fs(se),te(H,B,Z,se,Ne)}if(de(se)||q(se))return H=H.get(Z)||null,ie(B,H,se,Ne,null);if(typeof se.then=="function")return te(H,B,Z,xd(se),Ne);if(se.$$typeof===E)return te(H,B,Z,gd(B,se),Ne);wd(B,se)}return null}function xe(H,B,Z,se){for(var Ne=null,Fe=null,Se=B,$e=B=0,Be=null;Se!==null&&$e<Z.length;$e++){Se.index>$e?(Be=Se,Se=null):Be=Se.sibling;var Ve=J(H,Se,Z[$e],se);if(Ve===null){Se===null&&(Se=Be);break}i&&Se&&Ve.alternate===null&&o(H,Se),B=w(Ve,B,$e),Fe===null?Ne=Ve:Fe.sibling=Ve,Fe=Ve,Se=Be}if($e===Z.length)return u(H,Se),He&&_a(H,$e),Ne;if(Se===null){for(;$e<Z.length;$e++)Se=le(H,Z[$e],se),Se!==null&&(B=w(Se,B,$e),Fe===null?Ne=Se:Fe.sibling=Se,Fe=Se);return He&&_a(H,$e),Ne}for(Se=h(Se);$e<Z.length;$e++)Be=te(Se,H,$e,Z[$e],se),Be!==null&&(i&&Be.alternate!==null&&Se.delete(Be.key===null?$e:Be.key),B=w(Be,B,$e),Fe===null?Ne=Be:Fe.sibling=Be,Fe=Be);return i&&Se.forEach(function(Ri){return o(H,Ri)}),He&&_a(H,$e),Ne}function Te(H,B,Z,se){if(Z==null)throw Error(n(151));for(var Ne=null,Fe=null,Se=B,$e=B=0,Be=null,Ve=Z.next();Se!==null&&!Ve.done;$e++,Ve=Z.next()){Se.index>$e?(Be=Se,Se=null):Be=Se.sibling;var Ri=J(H,Se,Ve.value,se);if(Ri===null){Se===null&&(Se=Be);break}i&&Se&&Ri.alternate===null&&o(H,Se),B=w(Ri,B,$e),Fe===null?Ne=Ri:Fe.sibling=Ri,Fe=Ri,Se=Be}if(Ve.done)return u(H,Se),He&&_a(H,$e),Ne;if(Se===null){for(;!Ve.done;$e++,Ve=Z.next())Ve=le(H,Ve.value,se),Ve!==null&&(B=w(Ve,B,$e),Fe===null?Ne=Ve:Fe.sibling=Ve,Fe=Ve);return He&&_a(H,$e),Ne}for(Se=h(Se);!Ve.done;$e++,Ve=Z.next())Ve=te(Se,H,$e,Ve.value,se),Ve!==null&&(i&&Ve.alternate!==null&&Se.delete(Ve.key===null?$e:Ve.key),B=w(Ve,B,$e),Fe===null?Ne=Ve:Fe.sibling=Ve,Fe=Ve);return i&&Se.forEach(function(H$){return o(H,H$)}),He&&_a(H,$e),Ne}function tt(H,B,Z,se){if(typeof Z=="object"&&Z!==null&&Z.type===k&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case y:e:{for(var Ne=Z.key;B!==null;){if(B.key===Ne){if(Ne=Z.type,Ne===k){if(B.tag===7){u(H,B.sibling),se=b(B,Z.props.children),se.return=H,H=se;break e}}else if(B.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===M&&fs(Ne)===B.type){u(H,B.sibling),se=b(B,Z.props),Ql(se,Z),se.return=H,H=se;break e}u(H,B);break}else o(H,B);B=B.sibling}Z.type===k?(se=os(Z.props.children,H.mode,se,Z.key),se.return=H,H=se):(se=hd(Z.type,Z.key,Z.props,null,H.mode,se),Ql(se,Z),se.return=H,H=se)}return O(H);case S:e:{for(Ne=Z.key;B!==null;){if(B.key===Ne)if(B.tag===4&&B.stateNode.containerInfo===Z.containerInfo&&B.stateNode.implementation===Z.implementation){u(H,B.sibling),se=b(B,Z.children||[]),se.return=H,H=se;break e}else{u(H,B);break}else o(H,B);B=B.sibling}se=Vm(Z,H.mode,se),se.return=H,H=se}return O(H);case M:return Z=fs(Z),tt(H,B,Z,se)}if(de(Z))return xe(H,B,Z,se);if(q(Z)){if(Ne=q(Z),typeof Ne!="function")throw Error(n(150));return Z=Ne.call(Z),Te(H,B,Z,se)}if(typeof Z.then=="function")return tt(H,B,xd(Z),se);if(Z.$$typeof===E)return tt(H,B,gd(H,Z),se);wd(H,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,B!==null&&B.tag===6?(u(H,B.sibling),se=b(B,Z),se.return=H,H=se):(u(H,B),se=Fm(Z,H.mode,se),se.return=H,H=se),O(H)):u(H,B)}return function(H,B,Z,se){try{Jl=0;var Ne=tt(H,B,Z,se);return Eo=null,Ne}catch(Se){if(Se===jo||Se===yd)throw Se;var Fe=Wr(29,Se,null,H.mode);return Fe.lanes=se,Fe.return=H,Fe}finally{}}}var ms=g_(!0),v_=g_(!1),yi=!1;function np(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ap(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function bi(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function xi(i,o,u){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Ze&2)!==0){var b=h.pending;return b===null?o.next=o:(o.next=b.next,b.next=o),h.pending=o,o=fd(i),e_(i,null,u),o}return dd(i,h,o,u),fd(i)}function eu(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var h=o.lanes;h&=i.pendingLanes,u|=h,o.lanes=u,l1(i,u)}}function ip(i,o){var u=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var b=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var O={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};w===null?b=w=O:w=w.next=O,u=u.next}while(u!==null);w===null?b=w=o:w=w.next=o}else b=w=o;u={baseState:h.baseState,firstBaseUpdate:b,lastBaseUpdate:w,shared:h.shared,callbacks:h.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}var sp=!1;function tu(){if(sp){var i=ko;if(i!==null)throw i}}function ru(i,o,u,h){sp=!1;var b=i.updateQueue;yi=!1;var w=b.firstBaseUpdate,O=b.lastBaseUpdate,D=b.shared.pending;if(D!==null){b.shared.pending=null;var z=D,G=z.next;z.next=null,O===null?w=G:O.next=G,O=z;var ie=i.alternate;ie!==null&&(ie=ie.updateQueue,D=ie.lastBaseUpdate,D!==O&&(D===null?ie.firstBaseUpdate=G:D.next=G,ie.lastBaseUpdate=z))}if(w!==null){var le=b.baseState;O=0,ie=G=z=null,D=w;do{var J=D.lane&-536870913,te=J!==D.lane;if(te?(Ue&J)===J:(h&J)===J){J!==0&&J===So&&(sp=!0),ie!==null&&(ie=ie.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var xe=i,Te=D;J=o;var tt=u;switch(Te.tag){case 1:if(xe=Te.payload,typeof xe=="function"){le=xe.call(tt,le,J);break e}le=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=Te.payload,J=typeof xe=="function"?xe.call(tt,le,J):xe,J==null)break e;le=g({},le,J);break e;case 2:yi=!0}}J=D.callback,J!==null&&(i.flags|=64,te&&(i.flags|=8192),te=b.callbacks,te===null?b.callbacks=[J]:te.push(J))}else te={lane:J,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ie===null?(G=ie=te,z=le):ie=ie.next=te,O|=J;if(D=D.next,D===null){if(D=b.shared.pending,D===null)break;te=D,D=te.next,te.next=null,b.lastBaseUpdate=te,b.shared.pending=null}}while(!0);ie===null&&(z=le),b.baseState=z,b.firstBaseUpdate=G,b.lastBaseUpdate=ie,w===null&&(b.shared.lanes=0),ji|=O,i.lanes=O,i.memoizedState=le}}function y_(i,o){if(typeof i!="function")throw Error(n(191,i));i.call(o)}function b_(i,o){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)y_(u[i],o)}var Oo=I(null),_d=I(0);function x_(i,o){i=Da,Q(_d,i),Q(Oo,o),Da=i|o.baseLanes}function op(){Q(_d,Da),Q(Oo,Oo.current)}function lp(){Da=_d.current,Y(Oo),Y(_d)}var Xr=I(null),jn=null;function wi(i){var o=i.alternate;Q(kt,kt.current&1),Q(Xr,i),jn===null&&(o===null||Oo.current!==null||o.memoizedState!==null)&&(jn=i)}function up(i){Q(kt,kt.current),Q(Xr,i),jn===null&&(jn=i)}function w_(i){i.tag===22?(Q(kt,kt.current),Q(Xr,i),jn===null&&(jn=i)):_i()}function _i(){Q(kt,kt.current),Q(Xr,Xr.current)}function Jr(i){Y(Xr),jn===i&&(jn=null),Y(kt)}var kt=I(0);function Sd(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||pg(u)||gg(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var ja=0,Me=null,Qe=null,Tt=null,kd=!1,No=!1,ps=!1,jd=0,nu=0,Ao=null,DR=0;function xt(){throw Error(n(321))}function cp(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!Yr(i[u],o[u]))return!1;return!0}function dp(i,o,u,h,b,w){return ja=w,Me=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,U.H=i===null||i.memoizedState===null?aS:Ep,ps=!1,w=u(h,b),ps=!1,No&&(w=S_(o,u,h,b)),__(i),w}function __(i){U.H=su;var o=Qe!==null&&Qe.next!==null;if(ja=0,Tt=Qe=Me=null,kd=!1,nu=0,Ao=null,o)throw Error(n(300));i===null||Ct||(i=i.dependencies,i!==null&&pd(i)&&(Ct=!0))}function S_(i,o,u,h){Me=i;var b=0;do{if(No&&(Ao=null),nu=0,No=!1,25<=b)throw Error(n(301));if(b+=1,Tt=Qe=null,i.updateQueue!=null){var w=i.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}U.H=iS,w=o(u,h)}while(No);return w}function MR(){var i=U.H,o=i.useState()[0];return o=typeof o.then=="function"?au(o):o,i=i.useState()[0],(Qe!==null?Qe.memoizedState:null)!==i&&(Me.flags|=1024),o}function fp(){var i=jd!==0;return jd=0,i}function hp(i,o,u){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~u}function mp(i){if(kd){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}kd=!1}ja=0,Tt=Qe=Me=null,No=!1,nu=jd=0,Ao=null}function jr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?Me.memoizedState=Tt=i:Tt=Tt.next=i,Tt}function jt(){if(Qe===null){var i=Me.alternate;i=i!==null?i.memoizedState:null}else i=Qe.next;var o=Tt===null?Me.memoizedState:Tt.next;if(o!==null)Tt=o,Qe=i;else{if(i===null)throw Me.alternate===null?Error(n(467)):Error(n(310));Qe=i,i={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},Tt===null?Me.memoizedState=Tt=i:Tt=Tt.next=i}return Tt}function Ed(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function au(i){var o=nu;return nu+=1,Ao===null&&(Ao=[]),i=h_(Ao,i,o),o=Me,(Tt===null?o.memoizedState:Tt.next)===null&&(o=o.alternate,U.H=o===null||o.memoizedState===null?aS:Ep),i}function Od(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return au(i);if(i.$$typeof===E)return tr(i)}throw Error(n(438,String(i)))}function pp(i){var o=null,u=Me.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var h=Me.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(o={data:h.data.map(function(b){return b.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=Ed(),Me.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(i),h=0;h<i;h++)u[h]=L;return o.index++,u}function Ea(i,o){return typeof o=="function"?o(i):o}function Nd(i){var o=jt();return gp(o,Qe,i)}function gp(i,o,u){var h=i.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=u;var b=i.baseQueue,w=h.pending;if(w!==null){if(b!==null){var O=b.next;b.next=w.next,w.next=O}o.baseQueue=b=w,h.pending=null}if(w=i.baseState,b===null)i.memoizedState=w;else{o=b.next;var D=O=null,z=null,G=o,ie=!1;do{var le=G.lane&-536870913;if(le!==G.lane?(Ue&le)===le:(ja&le)===le){var J=G.revertLane;if(J===0)z!==null&&(z=z.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),le===So&&(ie=!0);else if((ja&J)===J){G=G.next,J===So&&(ie=!0);continue}else le={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},z===null?(D=z=le,O=w):z=z.next=le,Me.lanes|=J,ji|=J;le=G.action,ps&&u(w,le),w=G.hasEagerState?G.eagerState:u(w,le)}else J={lane:le,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},z===null?(D=z=J,O=w):z=z.next=J,Me.lanes|=le,ji|=le;G=G.next}while(G!==null&&G!==o);if(z===null?O=w:z.next=D,!Yr(w,i.memoizedState)&&(Ct=!0,ie&&(u=ko,u!==null)))throw u;i.memoizedState=w,i.baseState=O,i.baseQueue=z,h.lastRenderedState=w}return b===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function vp(i){var o=jt(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var h=u.dispatch,b=u.pending,w=o.memoizedState;if(b!==null){u.pending=null;var O=b=b.next;do w=i(w,O.action),O=O.next;while(O!==b);Yr(w,o.memoizedState)||(Ct=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),u.lastRenderedState=w}return[w,h]}function k_(i,o,u){var h=Me,b=jt(),w=He;if(w){if(u===void 0)throw Error(n(407));u=u()}else u=o();var O=!Yr((Qe||b).memoizedState,u);if(O&&(b.memoizedState=u,Ct=!0),b=b.queue,xp(O_.bind(null,h,b,i),[i]),b.getSnapshot!==o||O||Tt!==null&&Tt.memoizedState.tag&1){if(h.flags|=2048,To(9,{destroy:void 0},E_.bind(null,h,b,u,o),null),rt===null)throw Error(n(349));w||(ja&127)!==0||j_(h,o,u)}return u}function j_(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=Me.updateQueue,o===null?(o=Ed(),Me.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function E_(i,o,u,h){o.value=u,o.getSnapshot=h,N_(o)&&A_(i)}function O_(i,o,u){return u(function(){N_(o)&&A_(i)})}function N_(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!Yr(i,u)}catch{return!0}}function A_(i){var o=ss(i,2);o!==null&&Ur(o,i,2)}function yp(i){var o=jr();if(typeof i=="function"){var u=i;if(i=u(),ps){vn(!0);try{u()}finally{vn(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:i},o}function T_(i,o,u,h){return i.baseState=u,gp(i,Qe,typeof h=="function"?h:Ea)}function RR(i,o,u,h,b){if(Cd(i))throw Error(n(485));if(i=o.action,i!==null){var w={payload:b,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){w.listeners.push(O)}};U.T!==null?u(!0):w.isTransition=!1,h(w),u=o.pending,u===null?(w.next=o.pending=w,C_(o,w)):(w.next=u.next,o.pending=u.next=w)}}function C_(i,o){var u=o.action,h=o.payload,b=i.state;if(o.isTransition){var w=U.T,O={};U.T=O;try{var D=u(b,h),z=U.S;z!==null&&z(O,D),P_(i,o,D)}catch(G){bp(i,o,G)}finally{w!==null&&O.types!==null&&(w.types=O.types),U.T=w}}else try{w=u(b,h),P_(i,o,w)}catch(G){bp(i,o,G)}}function P_(i,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(h){D_(i,o,h)},function(h){return bp(i,o,h)}):D_(i,o,u)}function D_(i,o,u){o.status="fulfilled",o.value=u,M_(o),i.state=u,o=i.pending,o!==null&&(u=o.next,u===o?i.pending=null:(u=u.next,o.next=u,C_(i,u)))}function bp(i,o,u){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do o.status="rejected",o.reason=u,M_(o),o=o.next;while(o!==h)}i.action=null}function M_(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function R_(i,o){return o}function $_(i,o){if(He){var u=rt.formState;if(u!==null){e:{var h=Me;if(He){if(ut){t:{for(var b=ut,w=kn;b.nodeType!==8;){if(!w){b=null;break t}if(b=En(b.nextSibling),b===null){b=null;break t}}w=b.data,b=w==="F!"||w==="F"?b:null}if(b){ut=En(b.nextSibling),h=b.data==="F!";break e}}gi(h)}h=!1}h&&(o=u[0])}}return u=jr(),u.memoizedState=u.baseState=o,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:R_,lastRenderedState:o},u.queue=h,u=tS.bind(null,Me,h),h.dispatch=u,h=yp(!1),w=jp.bind(null,Me,!1,h.queue),h=jr(),b={state:o,dispatch:null,action:i,pending:null},h.queue=b,u=RR.bind(null,Me,b,w,u),b.dispatch=u,h.memoizedState=i,[o,u,!1]}function L_(i){var o=jt();return I_(o,Qe,i)}function I_(i,o,u){if(o=gp(i,o,R_)[0],i=Nd(Ea)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var h=au(o)}catch(O){throw O===jo?yd:O}else h=o;o=jt();var b=o.queue,w=b.dispatch;return u!==o.memoizedState&&(Me.flags|=2048,To(9,{destroy:void 0},$R.bind(null,b,u),null)),[h,w,i]}function $R(i,o){i.action=o}function z_(i){var o=jt(),u=Qe;if(u!==null)return I_(o,u,i);jt(),o=o.memoizedState,u=jt();var h=u.queue.dispatch;return u.memoizedState=i,[o,h,!1]}function To(i,o,u,h){return i={tag:i,create:u,deps:h,inst:o,next:null},o=Me.updateQueue,o===null&&(o=Ed(),Me.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=i.next=i:(h=u.next,u.next=i,i.next=h,o.lastEffect=i),i}function U_(){return jt().memoizedState}function Ad(i,o,u,h){var b=jr();Me.flags|=i,b.memoizedState=To(1|o,{destroy:void 0},u,h===void 0?null:h)}function Td(i,o,u,h){var b=jt();h=h===void 0?null:h;var w=b.memoizedState.inst;Qe!==null&&h!==null&&cp(h,Qe.memoizedState.deps)?b.memoizedState=To(o,w,u,h):(Me.flags|=i,b.memoizedState=To(1|o,w,u,h))}function B_(i,o){Ad(8390656,8,i,o)}function xp(i,o){Td(2048,8,i,o)}function LR(i){Me.flags|=4;var o=Me.updateQueue;if(o===null)o=Ed(),Me.updateQueue=o,o.events=[i];else{var u=o.events;u===null?o.events=[i]:u.push(i)}}function q_(i){var o=jt().memoizedState;return LR({ref:o,nextImpl:i}),function(){if((Ze&2)!==0)throw Error(n(440));return o.impl.apply(void 0,arguments)}}function H_(i,o){return Td(4,2,i,o)}function F_(i,o){return Td(4,4,i,o)}function V_(i,o){if(typeof o=="function"){i=i();var u=o(i);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function K_(i,o,u){u=u!=null?u.concat([i]):null,Td(4,4,V_.bind(null,o,i),u)}function wp(){}function Z_(i,o){var u=jt();o=o===void 0?null:o;var h=u.memoizedState;return o!==null&&cp(o,h[1])?h[0]:(u.memoizedState=[i,o],i)}function G_(i,o){var u=jt();o=o===void 0?null:o;var h=u.memoizedState;if(o!==null&&cp(o,h[1]))return h[0];if(h=i(),ps){vn(!0);try{i()}finally{vn(!1)}}return u.memoizedState=[h,o],h}function _p(i,o,u){return u===void 0||(ja&1073741824)!==0&&(Ue&261930)===0?i.memoizedState=o:(i.memoizedState=u,i=YS(),Me.lanes|=i,ji|=i,u)}function Y_(i,o,u,h){return Yr(u,o)?u:Oo.current!==null?(i=_p(i,u,h),Yr(i,o)||(Ct=!0),i):(ja&42)===0||(ja&1073741824)!==0&&(Ue&261930)===0?(Ct=!0,i.memoizedState=u):(i=YS(),Me.lanes|=i,ji|=i,o)}function W_(i,o,u,h,b){var w=K.p;K.p=w!==0&&8>w?w:8;var O=U.T,D={};U.T=D,jp(i,!1,o,u);try{var z=b(),G=U.S;if(G!==null&&G(D,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var ie=PR(z,h);iu(i,o,ie,tn(i))}else iu(i,o,h,tn(i))}catch(le){iu(i,o,{then:function(){},status:"rejected",reason:le},tn())}finally{K.p=w,O!==null&&D.types!==null&&(O.types=D.types),U.T=O}}function IR(){}function Sp(i,o,u,h){if(i.tag!==5)throw Error(n(476));var b=X_(i).queue;W_(i,b,o,W,u===null?IR:function(){return J_(i),u(h)})}function X_(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:W},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:u},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function J_(i){var o=X_(i);o.next===null&&(o=i.alternate.memoizedState),iu(i,o.next.queue,{},tn())}function kp(){return tr(_u)}function Q_(){return jt().memoizedState}function eS(){return jt().memoizedState}function zR(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var u=tn();i=bi(u);var h=xi(o,i,u);h!==null&&(Ur(h,o,u),eu(h,o,u)),o={cache:Qm()},i.payload=o;return}o=o.return}}function UR(i,o,u){var h=tn();u={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Cd(i)?rS(o,u):(u=qm(i,o,u,h),u!==null&&(Ur(u,i,h),nS(u,o,h)))}function tS(i,o,u){var h=tn();iu(i,o,u,h)}function iu(i,o,u,h){var b={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Cd(i))rS(o,b);else{var w=i.alternate;if(i.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var O=o.lastRenderedState,D=w(O,u);if(b.hasEagerState=!0,b.eagerState=D,Yr(D,O))return dd(i,o,b,0),rt===null&&cd(),!1}catch{}finally{}if(u=qm(i,o,b,h),u!==null)return Ur(u,i,h),nS(u,o,h),!0}return!1}function jp(i,o,u,h){if(h={lane:2,revertLane:ng(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Cd(i)){if(o)throw Error(n(479))}else o=qm(i,u,h,2),o!==null&&Ur(o,i,2)}function Cd(i){var o=i.alternate;return i===Me||o!==null&&o===Me}function rS(i,o){No=kd=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function nS(i,o,u){if((u&4194048)!==0){var h=o.lanes;h&=i.pendingLanes,u|=h,o.lanes=u,l1(i,u)}}var su={readContext:tr,use:Od,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt};su.useEffectEvent=xt;var aS={readContext:tr,use:Od,useCallback:function(i,o){return jr().memoizedState=[i,o===void 0?null:o],i},useContext:tr,useEffect:B_,useImperativeHandle:function(i,o,u){u=u!=null?u.concat([i]):null,Ad(4194308,4,V_.bind(null,o,i),u)},useLayoutEffect:function(i,o){return Ad(4194308,4,i,o)},useInsertionEffect:function(i,o){Ad(4,2,i,o)},useMemo:function(i,o){var u=jr();o=o===void 0?null:o;var h=i();if(ps){vn(!0);try{i()}finally{vn(!1)}}return u.memoizedState=[h,o],h},useReducer:function(i,o,u){var h=jr();if(u!==void 0){var b=u(o);if(ps){vn(!0);try{u(o)}finally{vn(!1)}}}else b=o;return h.memoizedState=h.baseState=b,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:b},h.queue=i,i=i.dispatch=UR.bind(null,Me,i),[h.memoizedState,i]},useRef:function(i){var o=jr();return i={current:i},o.memoizedState=i},useState:function(i){i=yp(i);var o=i.queue,u=tS.bind(null,Me,o);return o.dispatch=u,[i.memoizedState,u]},useDebugValue:wp,useDeferredValue:function(i,o){var u=jr();return _p(u,i,o)},useTransition:function(){var i=yp(!1);return i=W_.bind(null,Me,i.queue,!0,!1),jr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,u){var h=Me,b=jr();if(He){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),rt===null)throw Error(n(349));(Ue&127)!==0||j_(h,o,u)}b.memoizedState=u;var w={value:u,getSnapshot:o};return b.queue=w,B_(O_.bind(null,h,w,i),[i]),h.flags|=2048,To(9,{destroy:void 0},E_.bind(null,h,w,u,o),null),u},useId:function(){var i=jr(),o=rt.identifierPrefix;if(He){var u=ta,h=ea;u=(h&~(1<<32-It(h)-1)).toString(32)+u,o="_"+o+"R_"+u,u=jd++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=DR++,o="_"+o+"r_"+u.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:kp,useFormState:$_,useActionState:$_,useOptimistic:function(i){var o=jr();o.memoizedState=o.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=jp.bind(null,Me,!0,u),u.dispatch=o,[i,o]},useMemoCache:pp,useCacheRefresh:function(){return jr().memoizedState=zR.bind(null,Me)},useEffectEvent:function(i){var o=jr(),u={impl:i};return o.memoizedState=u,function(){if((Ze&2)!==0)throw Error(n(440));return u.impl.apply(void 0,arguments)}}},Ep={readContext:tr,use:Od,useCallback:Z_,useContext:tr,useEffect:xp,useImperativeHandle:K_,useInsertionEffect:H_,useLayoutEffect:F_,useMemo:G_,useReducer:Nd,useRef:U_,useState:function(){return Nd(Ea)},useDebugValue:wp,useDeferredValue:function(i,o){var u=jt();return Y_(u,Qe.memoizedState,i,o)},useTransition:function(){var i=Nd(Ea)[0],o=jt().memoizedState;return[typeof i=="boolean"?i:au(i),o]},useSyncExternalStore:k_,useId:Q_,useHostTransitionStatus:kp,useFormState:L_,useActionState:L_,useOptimistic:function(i,o){var u=jt();return T_(u,Qe,i,o)},useMemoCache:pp,useCacheRefresh:eS};Ep.useEffectEvent=q_;var iS={readContext:tr,use:Od,useCallback:Z_,useContext:tr,useEffect:xp,useImperativeHandle:K_,useInsertionEffect:H_,useLayoutEffect:F_,useMemo:G_,useReducer:vp,useRef:U_,useState:function(){return vp(Ea)},useDebugValue:wp,useDeferredValue:function(i,o){var u=jt();return Qe===null?_p(u,i,o):Y_(u,Qe.memoizedState,i,o)},useTransition:function(){var i=vp(Ea)[0],o=jt().memoizedState;return[typeof i=="boolean"?i:au(i),o]},useSyncExternalStore:k_,useId:Q_,useHostTransitionStatus:kp,useFormState:z_,useActionState:z_,useOptimistic:function(i,o){var u=jt();return Qe!==null?T_(u,Qe,i,o):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:pp,useCacheRefresh:eS};iS.useEffectEvent=q_;function Op(i,o,u,h){o=i.memoizedState,u=u(h,o),u=u==null?o:g({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Np={enqueueSetState:function(i,o,u){i=i._reactInternals;var h=tn(),b=bi(h);b.payload=o,u!=null&&(b.callback=u),o=xi(i,b,h),o!==null&&(Ur(o,i,h),eu(o,i,h))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var h=tn(),b=bi(h);b.tag=1,b.payload=o,u!=null&&(b.callback=u),o=xi(i,b,h),o!==null&&(Ur(o,i,h),eu(o,i,h))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=tn(),h=bi(u);h.tag=2,o!=null&&(h.callback=o),o=xi(i,h,u),o!==null&&(Ur(o,i,u),eu(o,i,u))}};function sS(i,o,u,h,b,w,O){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,w,O):o.prototype&&o.prototype.isPureReactComponent?!Kl(u,h)||!Kl(b,w):!0}function oS(i,o,u,h){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,h),o.state!==i&&Np.enqueueReplaceState(o,o.state,null)}function gs(i,o){var u=o;if("ref"in o){u={};for(var h in o)h!=="ref"&&(u[h]=o[h])}if(i=i.defaultProps){u===o&&(u=g({},u));for(var b in i)u[b]===void 0&&(u[b]=i[b])}return u}function lS(i){ud(i)}function uS(i){console.error(i)}function cS(i){ud(i)}function Pd(i,o){try{var u=i.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(h){setTimeout(function(){throw h})}}function dS(i,o,u){try{var h=i.onCaughtError;h(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function Ap(i,o,u){return u=bi(u),u.tag=3,u.payload={element:null},u.callback=function(){Pd(i,o)},u}function fS(i){return i=bi(i),i.tag=3,i}function hS(i,o,u,h){var b=u.type.getDerivedStateFromError;if(typeof b=="function"){var w=h.value;i.payload=function(){return b(w)},i.callback=function(){dS(o,u,h)}}var O=u.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(i.callback=function(){dS(o,u,h),typeof b!="function"&&(Ei===null?Ei=new Set([this]):Ei.add(this));var D=h.stack;this.componentDidCatch(h.value,{componentStack:D!==null?D:""})})}function BR(i,o,u,h,b){if(u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(o=u.alternate,o!==null&&_o(o,u,b,!0),u=Xr.current,u!==null){switch(u.tag){case 31:case 13:return jn===null?Fd():u.alternate===null&&wt===0&&(wt=3),u.flags&=-257,u.flags|=65536,u.lanes=b,h===bd?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([h]):o.add(h),eg(i,h,b)),!1;case 22:return u.flags|=65536,h===bd?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([h])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([h]):u.add(h)),eg(i,h,b)),!1}throw Error(n(435,u.tag))}return eg(i,h,b),Fd(),!1}if(He)return o=Xr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=b,h!==Gm&&(i=Error(n(422),{cause:h}),Yl(wn(i,u)))):(h!==Gm&&(o=Error(n(423),{cause:h}),Yl(wn(o,u))),i=i.current.alternate,i.flags|=65536,b&=-b,i.lanes|=b,h=wn(h,u),b=Ap(i.stateNode,h,b),ip(i,b),wt!==4&&(wt=2)),!1;var w=Error(n(520),{cause:h});if(w=wn(w,u),mu===null?mu=[w]:mu.push(w),wt!==4&&(wt=2),o===null)return!0;h=wn(h,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,i=b&-b,u.lanes|=i,i=Ap(u.stateNode,h,i),ip(u,i),!1;case 1:if(o=u.type,w=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ei===null||!Ei.has(w))))return u.flags|=65536,b&=-b,u.lanes|=b,b=fS(b),hS(b,i,u,h),ip(u,b),!1}u=u.return}while(u!==null);return!1}var Tp=Error(n(461)),Ct=!1;function rr(i,o,u,h){o.child=i===null?v_(o,null,u,h):ms(o,i.child,u,h)}function mS(i,o,u,h,b){u=u.render;var w=o.ref;if("ref"in h){var O={};for(var D in h)D!=="ref"&&(O[D]=h[D])}else O=h;return cs(o),h=dp(i,o,u,O,w,b),D=fp(),i!==null&&!Ct?(hp(i,o,b),Oa(i,o,b)):(He&&D&&Km(o),o.flags|=1,rr(i,o,h,b),o.child)}function pS(i,o,u,h,b){if(i===null){var w=u.type;return typeof w=="function"&&!Hm(w)&&w.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=w,gS(i,o,w,h,b)):(i=hd(u.type,null,h,o,o.mode,b),i.ref=o.ref,i.return=o,o.child=i)}if(w=i.child,!Ip(i,b)){var O=w.memoizedProps;if(u=u.compare,u=u!==null?u:Kl,u(O,h)&&i.ref===o.ref)return Oa(i,o,b)}return o.flags|=1,i=wa(w,h),i.ref=o.ref,i.return=o,o.child=i}function gS(i,o,u,h,b){if(i!==null){var w=i.memoizedProps;if(Kl(w,h)&&i.ref===o.ref)if(Ct=!1,o.pendingProps=h=w,Ip(i,b))(i.flags&131072)!==0&&(Ct=!0);else return o.lanes=i.lanes,Oa(i,o,b)}return Cp(i,o,u,h,b)}function vS(i,o,u,h){var b=h.children,w=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((o.flags&128)!==0){if(w=w!==null?w.baseLanes|u:u,i!==null){for(h=o.child=i.child,b=0;h!==null;)b=b|h.lanes|h.childLanes,h=h.sibling;h=b&~w}else h=0,o.child=null;return yS(i,o,w,u,h)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&vd(o,w!==null?w.cachePool:null),w!==null?x_(o,w):op(),w_(o);else return h=o.lanes=536870912,yS(i,o,w!==null?w.baseLanes|u:u,u,h)}else w!==null?(vd(o,w.cachePool),x_(o,w),_i(),o.memoizedState=null):(i!==null&&vd(o,null),op(),_i());return rr(i,o,b,u),o.child}function ou(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function yS(i,o,u,h,b){var w=tp();return w=w===null?null:{parent:At._currentValue,pool:w},o.memoizedState={baseLanes:u,cachePool:w},i!==null&&vd(o,null),op(),w_(o),i!==null&&_o(i,o,h,!0),o.childLanes=b,null}function Dd(i,o){return o=Rd({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function bS(i,o,u){return ms(o,i.child,null,u),i=Dd(o,o.pendingProps),i.flags|=2,Jr(o),o.memoizedState=null,i}function qR(i,o,u){var h=o.pendingProps,b=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(He){if(h.mode==="hidden")return i=Dd(o,h),o.lanes=536870912,ou(null,i);if(up(o),(i=ut)?(i=Ck(i,kn),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:mi!==null?{id:ea,overflow:ta}:null,retryLane:536870912,hydrationErrors:null},u=r_(i),u.return=o,o.child=u,er=o,ut=null)):i=null,i===null)throw gi(o);return o.lanes=536870912,null}return Dd(o,h)}var w=i.memoizedState;if(w!==null){var O=w.dehydrated;if(up(o),b)if(o.flags&256)o.flags&=-257,o=bS(i,o,u);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(n(558));else if(Ct||_o(i,o,u,!1),b=(u&i.childLanes)!==0,Ct||b){if(h=rt,h!==null&&(O=u1(h,u),O!==0&&O!==w.retryLane))throw w.retryLane=O,ss(i,O),Ur(h,i,O),Tp;Fd(),o=bS(i,o,u)}else i=w.treeContext,ut=En(O.nextSibling),er=o,He=!0,pi=null,kn=!1,i!==null&&i_(o,i),o=Dd(o,h),o.flags|=4096;return o}return i=wa(i.child,{mode:h.mode,children:h.children}),i.ref=o.ref,o.child=i,i.return=o,i}function Md(i,o){var u=o.ref;if(u===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(n(284));(i===null||i.ref!==u)&&(o.flags|=4194816)}}function Cp(i,o,u,h,b){return cs(o),u=dp(i,o,u,h,void 0,b),h=fp(),i!==null&&!Ct?(hp(i,o,b),Oa(i,o,b)):(He&&h&&Km(o),o.flags|=1,rr(i,o,u,b),o.child)}function xS(i,o,u,h,b,w){return cs(o),o.updateQueue=null,u=S_(o,h,u,b),__(i),h=fp(),i!==null&&!Ct?(hp(i,o,w),Oa(i,o,w)):(He&&h&&Km(o),o.flags|=1,rr(i,o,u,w),o.child)}function wS(i,o,u,h,b){if(cs(o),o.stateNode===null){var w=yo,O=u.contextType;typeof O=="object"&&O!==null&&(w=tr(O)),w=new u(h,w),o.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Np,o.stateNode=w,w._reactInternals=o,w=o.stateNode,w.props=h,w.state=o.memoizedState,w.refs={},np(o),O=u.contextType,w.context=typeof O=="object"&&O!==null?tr(O):yo,w.state=o.memoizedState,O=u.getDerivedStateFromProps,typeof O=="function"&&(Op(o,u,O,h),w.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(O=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),O!==w.state&&Np.enqueueReplaceState(w,w.state,null),ru(o,h,w,b),tu(),w.state=o.memoizedState),typeof w.componentDidMount=="function"&&(o.flags|=4194308),h=!0}else if(i===null){w=o.stateNode;var D=o.memoizedProps,z=gs(u,D);w.props=z;var G=w.context,ie=u.contextType;O=yo,typeof ie=="object"&&ie!==null&&(O=tr(ie));var le=u.getDerivedStateFromProps;ie=typeof le=="function"||typeof w.getSnapshotBeforeUpdate=="function",D=o.pendingProps!==D,ie||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(D||G!==O)&&oS(o,w,h,O),yi=!1;var J=o.memoizedState;w.state=J,ru(o,h,w,b),tu(),G=o.memoizedState,D||J!==G||yi?(typeof le=="function"&&(Op(o,u,le,h),G=o.memoizedState),(z=yi||sS(o,u,z,h,J,G,O))?(ie||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(o.flags|=4194308)):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=G),w.props=h,w.state=G,w.context=O,h=z):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{w=o.stateNode,ap(i,o),O=o.memoizedProps,ie=gs(u,O),w.props=ie,le=o.pendingProps,J=w.context,G=u.contextType,z=yo,typeof G=="object"&&G!==null&&(z=tr(G)),D=u.getDerivedStateFromProps,(G=typeof D=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(O!==le||J!==z)&&oS(o,w,h,z),yi=!1,J=o.memoizedState,w.state=J,ru(o,h,w,b),tu();var te=o.memoizedState;O!==le||J!==te||yi||i!==null&&i.dependencies!==null&&pd(i.dependencies)?(typeof D=="function"&&(Op(o,u,D,h),te=o.memoizedState),(ie=yi||sS(o,u,ie,h,J,te,z)||i!==null&&i.dependencies!==null&&pd(i.dependencies))?(G||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,te,z),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,te,z)),typeof w.componentDidUpdate=="function"&&(o.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof w.componentDidUpdate!="function"||O===i.memoizedProps&&J===i.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&J===i.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=te),w.props=h,w.state=te,w.context=z,h=ie):(typeof w.componentDidUpdate!="function"||O===i.memoizedProps&&J===i.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&J===i.memoizedState||(o.flags|=1024),h=!1)}return w=h,Md(i,o),h=(o.flags&128)!==0,w||h?(w=o.stateNode,u=h&&typeof u.getDerivedStateFromError!="function"?null:w.render(),o.flags|=1,i!==null&&h?(o.child=ms(o,i.child,null,b),o.child=ms(o,null,u,b)):rr(i,o,u,b),o.memoizedState=w.state,i=o.child):i=Oa(i,o,b),i}function _S(i,o,u,h){return ls(),o.flags|=256,rr(i,o,u,h),o.child}var Pp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Dp(i){return{baseLanes:i,cachePool:d_()}}function Mp(i,o,u){return i=i!==null?i.childLanes&~u:0,o&&(i|=en),i}function SS(i,o,u){var h=o.pendingProps,b=!1,w=(o.flags&128)!==0,O;if((O=w)||(O=i!==null&&i.memoizedState===null?!1:(kt.current&2)!==0),O&&(b=!0,o.flags&=-129),O=(o.flags&32)!==0,o.flags&=-33,i===null){if(He){if(b?wi(o):_i(),(i=ut)?(i=Ck(i,kn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:mi!==null?{id:ea,overflow:ta}:null,retryLane:536870912,hydrationErrors:null},u=r_(i),u.return=o,o.child=u,er=o,ut=null)):i=null,i===null)throw gi(o);return gg(i)?o.lanes=32:o.lanes=536870912,null}var D=h.children;return h=h.fallback,b?(_i(),b=o.mode,D=Rd({mode:"hidden",children:D},b),h=os(h,b,u,null),D.return=o,h.return=o,D.sibling=h,o.child=D,h=o.child,h.memoizedState=Dp(u),h.childLanes=Mp(i,O,u),o.memoizedState=Pp,ou(null,h)):(wi(o),Rp(o,D))}var z=i.memoizedState;if(z!==null&&(D=z.dehydrated,D!==null)){if(w)o.flags&256?(wi(o),o.flags&=-257,o=$p(i,o,u)):o.memoizedState!==null?(_i(),o.child=i.child,o.flags|=128,o=null):(_i(),D=h.fallback,b=o.mode,h=Rd({mode:"visible",children:h.children},b),D=os(D,b,u,null),D.flags|=2,h.return=o,D.return=o,h.sibling=D,o.child=h,ms(o,i.child,null,u),h=o.child,h.memoizedState=Dp(u),h.childLanes=Mp(i,O,u),o.memoizedState=Pp,o=ou(null,h));else if(wi(o),gg(D)){if(O=D.nextSibling&&D.nextSibling.dataset,O)var G=O.dgst;O=G,h=Error(n(419)),h.stack="",h.digest=O,Yl({value:h,source:null,stack:null}),o=$p(i,o,u)}else if(Ct||_o(i,o,u,!1),O=(u&i.childLanes)!==0,Ct||O){if(O=rt,O!==null&&(h=u1(O,u),h!==0&&h!==z.retryLane))throw z.retryLane=h,ss(i,h),Ur(O,i,h),Tp;pg(D)||Fd(),o=$p(i,o,u)}else pg(D)?(o.flags|=192,o.child=i.child,o=null):(i=z.treeContext,ut=En(D.nextSibling),er=o,He=!0,pi=null,kn=!1,i!==null&&i_(o,i),o=Rp(o,h.children),o.flags|=4096);return o}return b?(_i(),D=h.fallback,b=o.mode,z=i.child,G=z.sibling,h=wa(z,{mode:"hidden",children:h.children}),h.subtreeFlags=z.subtreeFlags&65011712,G!==null?D=wa(G,D):(D=os(D,b,u,null),D.flags|=2),D.return=o,h.return=o,h.sibling=D,o.child=h,ou(null,h),h=o.child,D=i.child.memoizedState,D===null?D=Dp(u):(b=D.cachePool,b!==null?(z=At._currentValue,b=b.parent!==z?{parent:z,pool:z}:b):b=d_(),D={baseLanes:D.baseLanes|u,cachePool:b}),h.memoizedState=D,h.childLanes=Mp(i,O,u),o.memoizedState=Pp,ou(i.child,h)):(wi(o),u=i.child,i=u.sibling,u=wa(u,{mode:"visible",children:h.children}),u.return=o,u.sibling=null,i!==null&&(O=o.deletions,O===null?(o.deletions=[i],o.flags|=16):O.push(i)),o.child=u,o.memoizedState=null,u)}function Rp(i,o){return o=Rd({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function Rd(i,o){return i=Wr(22,i,null,o),i.lanes=0,i}function $p(i,o,u){return ms(o,i.child,null,u),i=Rp(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function kS(i,o,u){i.lanes|=o;var h=i.alternate;h!==null&&(h.lanes|=o),Xm(i.return,o,u)}function Lp(i,o,u,h,b,w){var O=i.memoizedState;O===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:b,treeForkCount:w}:(O.isBackwards=o,O.rendering=null,O.renderingStartTime=0,O.last=h,O.tail=u,O.tailMode=b,O.treeForkCount=w)}function jS(i,o,u){var h=o.pendingProps,b=h.revealOrder,w=h.tail;h=h.children;var O=kt.current,D=(O&2)!==0;if(D?(O=O&1|2,o.flags|=128):O&=1,Q(kt,O),rr(i,o,h,u),h=He?Gl:0,!D&&i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&kS(i,u,o);else if(i.tag===19)kS(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(b){case"forwards":for(u=o.child,b=null;u!==null;)i=u.alternate,i!==null&&Sd(i)===null&&(b=u),u=u.sibling;u=b,u===null?(b=o.child,o.child=null):(b=u.sibling,u.sibling=null),Lp(o,!1,b,u,w,h);break;case"backwards":case"unstable_legacy-backwards":for(u=null,b=o.child,o.child=null;b!==null;){if(i=b.alternate,i!==null&&Sd(i)===null){o.child=b;break}i=b.sibling,b.sibling=u,u=b,b=i}Lp(o,!0,u,null,w,h);break;case"together":Lp(o,!1,null,null,void 0,h);break;default:o.memoizedState=null}return o.child}function Oa(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),ji|=o.lanes,(u&o.childLanes)===0)if(i!==null){if(_o(i,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,u=wa(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=wa(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function Ip(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&pd(i)))}function HR(i,o,u){switch(o.tag){case 3:we(o,o.stateNode.containerInfo),vi(o,At,i.memoizedState.cache),ls();break;case 27:case 5:me(o);break;case 4:we(o,o.stateNode.containerInfo);break;case 10:vi(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,up(o),null;break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(wi(o),o.flags|=128,null):(u&o.child.childLanes)!==0?SS(i,o,u):(wi(o),i=Oa(i,o,u),i!==null?i.sibling:null);wi(o);break;case 19:var b=(i.flags&128)!==0;if(h=(u&o.childLanes)!==0,h||(_o(i,o,u,!1),h=(u&o.childLanes)!==0),b){if(h)return jS(i,o,u);o.flags|=128}if(b=o.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),Q(kt,kt.current),h)break;return null;case 22:return o.lanes=0,vS(i,o,u,o.pendingProps);case 24:vi(o,At,i.memoizedState.cache)}return Oa(i,o,u)}function ES(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps)Ct=!0;else{if(!Ip(i,u)&&(o.flags&128)===0)return Ct=!1,HR(i,o,u);Ct=(i.flags&131072)!==0}else Ct=!1,He&&(o.flags&1048576)!==0&&a_(o,Gl,o.index);switch(o.lanes=0,o.tag){case 16:e:{var h=o.pendingProps;if(i=fs(o.elementType),o.type=i,typeof i=="function")Hm(i)?(h=gs(i,h),o.tag=1,o=wS(null,o,i,h,u)):(o.tag=0,o=Cp(null,o,i,h,u));else{if(i!=null){var b=i.$$typeof;if(b===C){o.tag=11,o=mS(null,o,i,h,u);break e}else if(b===P){o.tag=14,o=pS(null,o,i,h,u);break e}}throw o=oe(i)||i,Error(n(306,o,""))}}return o;case 0:return Cp(i,o,o.type,o.pendingProps,u);case 1:return h=o.type,b=gs(h,o.pendingProps),wS(i,o,h,b,u);case 3:e:{if(we(o,o.stateNode.containerInfo),i===null)throw Error(n(387));h=o.pendingProps;var w=o.memoizedState;b=w.element,ap(i,o),ru(o,h,null,u);var O=o.memoizedState;if(h=O.cache,vi(o,At,h),h!==w.cache&&Jm(o,[At],u,!0),tu(),h=O.element,w.isDehydrated)if(w={element:h,isDehydrated:!1,cache:O.cache},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){o=_S(i,o,h,u);break e}else if(h!==b){b=wn(Error(n(424)),o),Yl(b),o=_S(i,o,h,u);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ut=En(i.firstChild),er=o,He=!0,pi=null,kn=!0,u=v_(o,null,h,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(ls(),h===b){o=Oa(i,o,u);break e}rr(i,o,h,u)}o=o.child}return o;case 26:return Md(i,o),i===null?(u=Lk(o.type,null,o.pendingProps,null))?o.memoizedState=u:He||(u=o.type,i=o.pendingProps,h=Xd(re.current).createElement(u),h[Qt]=o,h[Mr]=i,nr(h,u,i),Zt(h),o.stateNode=h):o.memoizedState=Lk(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return me(o),i===null&&He&&(h=o.stateNode=Mk(o.type,o.pendingProps,re.current),er=o,kn=!0,b=ut,Ti(o.type)?(vg=b,ut=En(h.firstChild)):ut=b),rr(i,o,o.pendingProps.children,u),Md(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&He&&((b=h=ut)&&(h=b$(h,o.type,o.pendingProps,kn),h!==null?(o.stateNode=h,er=o,ut=En(h.firstChild),kn=!1,b=!0):b=!1),b||gi(o)),me(o),b=o.type,w=o.pendingProps,O=i!==null?i.memoizedProps:null,h=w.children,fg(b,w)?h=null:O!==null&&fg(b,O)&&(o.flags|=32),o.memoizedState!==null&&(b=dp(i,o,MR,null,null,u),_u._currentValue=b),Md(i,o),rr(i,o,h,u),o.child;case 6:return i===null&&He&&((i=u=ut)&&(u=x$(u,o.pendingProps,kn),u!==null?(o.stateNode=u,er=o,ut=null,i=!0):i=!1),i||gi(o)),null;case 13:return SS(i,o,u);case 4:return we(o,o.stateNode.containerInfo),h=o.pendingProps,i===null?o.child=ms(o,null,h,u):rr(i,o,h,u),o.child;case 11:return mS(i,o,o.type,o.pendingProps,u);case 7:return rr(i,o,o.pendingProps,u),o.child;case 8:return rr(i,o,o.pendingProps.children,u),o.child;case 12:return rr(i,o,o.pendingProps.children,u),o.child;case 10:return h=o.pendingProps,vi(o,o.type,h.value),rr(i,o,h.children,u),o.child;case 9:return b=o.type._context,h=o.pendingProps.children,cs(o),b=tr(b),h=h(b),o.flags|=1,rr(i,o,h,u),o.child;case 14:return pS(i,o,o.type,o.pendingProps,u);case 15:return gS(i,o,o.type,o.pendingProps,u);case 19:return jS(i,o,u);case 31:return qR(i,o,u);case 22:return vS(i,o,u,o.pendingProps);case 24:return cs(o),h=tr(At),i===null?(b=tp(),b===null&&(b=rt,w=Qm(),b.pooledCache=w,w.refCount++,w!==null&&(b.pooledCacheLanes|=u),b=w),o.memoizedState={parent:h,cache:b},np(o),vi(o,At,b)):((i.lanes&u)!==0&&(ap(i,o),ru(o,null,null,u),tu()),b=i.memoizedState,w=o.memoizedState,b.parent!==h?(b={parent:h,cache:h},o.memoizedState=b,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=b),vi(o,At,h)):(h=w.cache,vi(o,At,h),h!==b.cache&&Jm(o,[At],u,!0))),rr(i,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function Na(i){i.flags|=4}function zp(i,o,u,h,b){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(b&335544128)===b)if(i.stateNode.complete)i.flags|=8192;else if(QS())i.flags|=8192;else throw hs=bd,rp}else i.flags&=-16777217}function OS(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!qk(o))if(QS())i.flags|=8192;else throw hs=bd,rp}function $d(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?s1():536870912,i.lanes|=o,Mo|=o)}function lu(i,o){if(!He)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function ct(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,h=0;if(o)for(var b=i.child;b!==null;)u|=b.lanes|b.childLanes,h|=b.subtreeFlags&65011712,h|=b.flags&65011712,b.return=i,b=b.sibling;else for(b=i.child;b!==null;)u|=b.lanes|b.childLanes,h|=b.subtreeFlags,h|=b.flags,b.return=i,b=b.sibling;return i.subtreeFlags|=h,i.childLanes=u,o}function FR(i,o,u){var h=o.pendingProps;switch(Zm(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(o),null;case 1:return ct(o),null;case 3:return u=o.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),ka(At),X(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(wo(o)?Na(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Ym())),ct(o),null;case 26:var b=o.type,w=o.memoizedState;return i===null?(Na(o),w!==null?(ct(o),OS(o,w)):(ct(o),zp(o,b,null,h,u))):w?w!==i.memoizedState?(Na(o),ct(o),OS(o,w)):(ct(o),o.flags&=-16777217):(i=i.memoizedProps,i!==h&&Na(o),ct(o),zp(o,b,i,h,u)),null;case 27:if(_e(o),u=re.current,b=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==h&&Na(o);else{if(!h){if(o.stateNode===null)throw Error(n(166));return ct(o),null}i=F.current,wo(o)?s_(o):(i=Mk(b,h,u),o.stateNode=i,Na(o))}return ct(o),null;case 5:if(_e(o),b=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==h&&Na(o);else{if(!h){if(o.stateNode===null)throw Error(n(166));return ct(o),null}if(w=F.current,wo(o))s_(o);else{var O=Xd(re.current);switch(w){case 1:w=O.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:w=O.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":w=O.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":w=O.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":w=O.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof h.is=="string"?O.createElement("select",{is:h.is}):O.createElement("select"),h.multiple?w.multiple=!0:h.size&&(w.size=h.size);break;default:w=typeof h.is=="string"?O.createElement(b,{is:h.is}):O.createElement(b)}}w[Qt]=o,w[Mr]=h;e:for(O=o.child;O!==null;){if(O.tag===5||O.tag===6)w.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===o)break e;for(;O.sibling===null;){if(O.return===null||O.return===o)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}o.stateNode=w;e:switch(nr(w,b,h),b){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&Na(o)}}return ct(o),zp(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,u),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==h&&Na(o);else{if(typeof h!="string"&&o.stateNode===null)throw Error(n(166));if(i=re.current,wo(o)){if(i=o.stateNode,u=o.memoizedProps,h=null,b=er,b!==null)switch(b.tag){case 27:case 5:h=b.memoizedProps}i[Qt]=o,i=!!(i.nodeValue===u||h!==null&&h.suppressHydrationWarning===!0||Sk(i.nodeValue,u)),i||gi(o,!0)}else i=Xd(i).createTextNode(h),i[Qt]=o,o.stateNode=i}return ct(o),null;case 31:if(u=o.memoizedState,i===null||i.memoizedState!==null){if(h=wo(o),u!==null){if(i===null){if(!h)throw Error(n(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(557));i[Qt]=o}else ls(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;ct(o),i=!1}else u=Ym(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=u),i=!0;if(!i)return o.flags&256?(Jr(o),o):(Jr(o),null);if((o.flags&128)!==0)throw Error(n(558))}return ct(o),null;case 13:if(h=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(b=wo(o),h!==null&&h.dehydrated!==null){if(i===null){if(!b)throw Error(n(318));if(b=o.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));b[Qt]=o}else ls(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;ct(o),b=!1}else b=Ym(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=b),b=!0;if(!b)return o.flags&256?(Jr(o),o):(Jr(o),null)}return Jr(o),(o.flags&128)!==0?(o.lanes=u,o):(u=h!==null,i=i!==null&&i.memoizedState!==null,u&&(h=o.child,b=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(b=h.alternate.memoizedState.cachePool.pool),w=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(w=h.memoizedState.cachePool.pool),w!==b&&(h.flags|=2048)),u!==i&&u&&(o.child.flags|=8192),$d(o,o.updateQueue),ct(o),null);case 4:return X(),i===null&&og(o.stateNode.containerInfo),ct(o),null;case 10:return ka(o.type),ct(o),null;case 19:if(Y(kt),h=o.memoizedState,h===null)return ct(o),null;if(b=(o.flags&128)!==0,w=h.rendering,w===null)if(b)lu(h,!1);else{if(wt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(w=Sd(i),w!==null){for(o.flags|=128,lu(h,!1),i=w.updateQueue,o.updateQueue=i,$d(o,i),o.subtreeFlags=0,i=u,u=o.child;u!==null;)t_(u,i),u=u.sibling;return Q(kt,kt.current&1|2),He&&_a(o,h.treeForkCount),o.child}i=i.sibling}h.tail!==null&&Ye()>Bd&&(o.flags|=128,b=!0,lu(h,!1),o.lanes=4194304)}else{if(!b)if(i=Sd(w),i!==null){if(o.flags|=128,b=!0,i=i.updateQueue,o.updateQueue=i,$d(o,i),lu(h,!0),h.tail===null&&h.tailMode==="hidden"&&!w.alternate&&!He)return ct(o),null}else 2*Ye()-h.renderingStartTime>Bd&&u!==536870912&&(o.flags|=128,b=!0,lu(h,!1),o.lanes=4194304);h.isBackwards?(w.sibling=o.child,o.child=w):(i=h.last,i!==null?i.sibling=w:o.child=w,h.last=w)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Ye(),i.sibling=null,u=kt.current,Q(kt,b?u&1|2:u&1),He&&_a(o,h.treeForkCount),i):(ct(o),null);case 22:case 23:return Jr(o),lp(),h=o.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(o.flags|=8192):h&&(o.flags|=8192),h?(u&536870912)!==0&&(o.flags&128)===0&&(ct(o),o.subtreeFlags&6&&(o.flags|=8192)):ct(o),u=o.updateQueue,u!==null&&$d(o,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==u&&(o.flags|=2048),i!==null&&Y(ds),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),ka(At),ct(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function VR(i,o){switch(Zm(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return ka(At),X(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return _e(o),null;case 31:if(o.memoizedState!==null){if(Jr(o),o.alternate===null)throw Error(n(340));ls()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if(Jr(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));ls()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Y(kt),null;case 4:return X(),null;case 10:return ka(o.type),null;case 22:case 23:return Jr(o),lp(),i!==null&&Y(ds),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return ka(At),null;case 25:return null;default:return null}}function NS(i,o){switch(Zm(o),o.tag){case 3:ka(At),X();break;case 26:case 27:case 5:_e(o);break;case 4:X();break;case 31:o.memoizedState!==null&&Jr(o);break;case 13:Jr(o);break;case 19:Y(kt);break;case 10:ka(o.type);break;case 22:case 23:Jr(o),lp(),i!==null&&Y(ds);break;case 24:ka(At)}}function uu(i,o){try{var u=o.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var b=h.next;u=b;do{if((u.tag&i)===i){h=void 0;var w=u.create,O=u.inst;h=w(),O.destroy=h}u=u.next}while(u!==b)}}catch(D){Xe(o,o.return,D)}}function Si(i,o,u){try{var h=o.updateQueue,b=h!==null?h.lastEffect:null;if(b!==null){var w=b.next;h=w;do{if((h.tag&i)===i){var O=h.inst,D=O.destroy;if(D!==void 0){O.destroy=void 0,b=o;var z=u,G=D;try{G()}catch(ie){Xe(b,z,ie)}}}h=h.next}while(h!==w)}}catch(ie){Xe(o,o.return,ie)}}function AS(i){var o=i.updateQueue;if(o!==null){var u=i.stateNode;try{b_(o,u)}catch(h){Xe(i,i.return,h)}}}function TS(i,o,u){u.props=gs(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(h){Xe(i,o,h)}}function cu(i,o){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof u=="function"?i.refCleanup=u(h):u.current=h}}catch(b){Xe(i,o,b)}}function ra(i,o){var u=i.ref,h=i.refCleanup;if(u!==null)if(typeof h=="function")try{h()}catch(b){Xe(i,o,b)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(b){Xe(i,o,b)}else u.current=null}function CS(i){var o=i.type,u=i.memoizedProps,h=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&h.focus();break e;case"img":u.src?h.src=u.src:u.srcSet&&(h.srcset=u.srcSet)}}catch(b){Xe(i,i.return,b)}}function Up(i,o,u){try{var h=i.stateNode;h$(h,i.type,u,o),h[Mr]=o}catch(b){Xe(i,i.return,b)}}function PS(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ti(i.type)||i.tag===4}function Bp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||PS(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ti(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function qp(i,o,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(i),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=ba));else if(h!==4&&(h===27&&Ti(i.type)&&(u=i.stateNode,o=null),i=i.child,i!==null))for(qp(i,o,u),i=i.sibling;i!==null;)qp(i,o,u),i=i.sibling}function Ld(i,o,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(h!==4&&(h===27&&Ti(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(Ld(i,o,u),i=i.sibling;i!==null;)Ld(i,o,u),i=i.sibling}function DS(i){var o=i.stateNode,u=i.memoizedProps;try{for(var h=i.type,b=o.attributes;b.length;)o.removeAttributeNode(b[0]);nr(o,h,u),o[Qt]=i,o[Mr]=u}catch(w){Xe(i,i.return,w)}}var Aa=!1,Pt=!1,Hp=!1,MS=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function KR(i,o){if(i=i.containerInfo,cg=af,i=K1(i),$m(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var b=h.anchorOffset,w=h.focusNode;h=h.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break e}var O=0,D=-1,z=-1,G=0,ie=0,le=i,J=null;t:for(;;){for(var te;le!==u||b!==0&&le.nodeType!==3||(D=O+b),le!==w||h!==0&&le.nodeType!==3||(z=O+h),le.nodeType===3&&(O+=le.nodeValue.length),(te=le.firstChild)!==null;)J=le,le=te;for(;;){if(le===i)break t;if(J===u&&++G===b&&(D=O),J===w&&++ie===h&&(z=O),(te=le.nextSibling)!==null)break;le=J,J=le.parentNode}le=te}u=D===-1||z===-1?null:{start:D,end:z}}else u=null}u=u||{start:0,end:0}}else u=null;for(dg={focusedElem:i,selectionRange:u},af=!1,Gt=o;Gt!==null;)if(o=Gt,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Gt=i;else for(;Gt!==null;){switch(o=Gt,w=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(u=0;u<i.length;u++)b=i[u],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&w!==null){i=void 0,u=o,b=w.memoizedProps,w=w.memoizedState,h=u.stateNode;try{var xe=gs(u.type,b);i=h.getSnapshotBeforeUpdate(xe,w),h.__reactInternalSnapshotBeforeUpdate=i}catch(Te){Xe(u,u.return,Te)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,u=i.nodeType,u===9)mg(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":mg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=o.sibling,i!==null){i.return=o.return,Gt=i;break}Gt=o.return}}function RS(i,o,u){var h=u.flags;switch(u.tag){case 0:case 11:case 15:Ca(i,u),h&4&&uu(5,u);break;case 1:if(Ca(i,u),h&4)if(i=u.stateNode,o===null)try{i.componentDidMount()}catch(O){Xe(u,u.return,O)}else{var b=gs(u.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(b,o,i.__reactInternalSnapshotBeforeUpdate)}catch(O){Xe(u,u.return,O)}}h&64&&AS(u),h&512&&cu(u,u.return);break;case 3:if(Ca(i,u),h&64&&(i=u.updateQueue,i!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{b_(i,o)}catch(O){Xe(u,u.return,O)}}break;case 27:o===null&&h&4&&DS(u);case 26:case 5:Ca(i,u),o===null&&h&4&&CS(u),h&512&&cu(u,u.return);break;case 12:Ca(i,u);break;case 31:Ca(i,u),h&4&&IS(i,u);break;case 13:Ca(i,u),h&4&&zS(i,u),h&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=t$.bind(null,u),w$(i,u))));break;case 22:if(h=u.memoizedState!==null||Aa,!h){o=o!==null&&o.memoizedState!==null||Pt,b=Aa;var w=Pt;Aa=h,(Pt=o)&&!w?Pa(i,u,(u.subtreeFlags&8772)!==0):Ca(i,u),Aa=b,Pt=w}break;case 30:break;default:Ca(i,u)}}function $S(i){var o=i.alternate;o!==null&&(i.alternate=null,$S(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&bm(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ft=null,$r=!1;function Ta(i,o,u){for(u=u.child;u!==null;)LS(i,o,u),u=u.sibling}function LS(i,o,u){if(kr&&typeof kr.onCommitFiberUnmount=="function")try{kr.onCommitFiberUnmount(va,u)}catch{}switch(u.tag){case 26:Pt||ra(u,o),Ta(i,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Pt||ra(u,o);var h=ft,b=$r;Ti(u.type)&&(ft=u.stateNode,$r=!1),Ta(i,o,u),bu(u.stateNode),ft=h,$r=b;break;case 5:Pt||ra(u,o);case 6:if(h=ft,b=$r,ft=null,Ta(i,o,u),ft=h,$r=b,ft!==null)if($r)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(u.stateNode)}catch(w){Xe(u,o,w)}else try{ft.removeChild(u.stateNode)}catch(w){Xe(u,o,w)}break;case 18:ft!==null&&($r?(i=ft,Ak(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),qo(i)):Ak(ft,u.stateNode));break;case 4:h=ft,b=$r,ft=u.stateNode.containerInfo,$r=!0,Ta(i,o,u),ft=h,$r=b;break;case 0:case 11:case 14:case 15:Si(2,u,o),Pt||Si(4,u,o),Ta(i,o,u);break;case 1:Pt||(ra(u,o),h=u.stateNode,typeof h.componentWillUnmount=="function"&&TS(u,o,h)),Ta(i,o,u);break;case 21:Ta(i,o,u);break;case 22:Pt=(h=Pt)||u.memoizedState!==null,Ta(i,o,u),Pt=h;break;default:Ta(i,o,u)}}function IS(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{qo(i)}catch(u){Xe(o,o.return,u)}}}function zS(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{qo(i)}catch(u){Xe(o,o.return,u)}}function ZR(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new MS),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new MS),o;default:throw Error(n(435,i.tag))}}function Id(i,o){var u=ZR(i);o.forEach(function(h){if(!u.has(h)){u.add(h);var b=r$.bind(null,i,h);h.then(b,b)}})}function Lr(i,o){var u=o.deletions;if(u!==null)for(var h=0;h<u.length;h++){var b=u[h],w=i,O=o,D=O;e:for(;D!==null;){switch(D.tag){case 27:if(Ti(D.type)){ft=D.stateNode,$r=!1;break e}break;case 5:ft=D.stateNode,$r=!1;break e;case 3:case 4:ft=D.stateNode.containerInfo,$r=!0;break e}D=D.return}if(ft===null)throw Error(n(160));LS(w,O,b),ft=null,$r=!1,w=b.alternate,w!==null&&(w.return=null),b.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)US(o,i),o=o.sibling}var zn=null;function US(i,o){var u=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Lr(o,i),Ir(i),h&4&&(Si(3,i,i.return),uu(3,i),Si(5,i,i.return));break;case 1:Lr(o,i),Ir(i),h&512&&(Pt||u===null||ra(u,u.return)),h&64&&Aa&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?h:u.concat(h))));break;case 26:var b=zn;if(Lr(o,i),Ir(i),h&512&&(Pt||u===null||ra(u,u.return)),h&4){var w=u!==null?u.memoizedState:null;if(h=i.memoizedState,u===null)if(h===null)if(i.stateNode===null){e:{h=i.type,u=i.memoizedProps,b=b.ownerDocument||b;t:switch(h){case"title":w=b.getElementsByTagName("title")[0],(!w||w[Ll]||w[Qt]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=b.createElement(h),b.head.insertBefore(w,b.querySelector("head > title"))),nr(w,h,u),w[Qt]=i,Zt(w),h=w;break e;case"link":var O=Uk("link","href",b).get(h+(u.href||""));if(O){for(var D=0;D<O.length;D++)if(w=O[D],w.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&w.getAttribute("rel")===(u.rel==null?null:u.rel)&&w.getAttribute("title")===(u.title==null?null:u.title)&&w.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){O.splice(D,1);break t}}w=b.createElement(h),nr(w,h,u),b.head.appendChild(w);break;case"meta":if(O=Uk("meta","content",b).get(h+(u.content||""))){for(D=0;D<O.length;D++)if(w=O[D],w.getAttribute("content")===(u.content==null?null:""+u.content)&&w.getAttribute("name")===(u.name==null?null:u.name)&&w.getAttribute("property")===(u.property==null?null:u.property)&&w.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&w.getAttribute("charset")===(u.charSet==null?null:u.charSet)){O.splice(D,1);break t}}w=b.createElement(h),nr(w,h,u),b.head.appendChild(w);break;default:throw Error(n(468,h))}w[Qt]=i,Zt(w),h=w}i.stateNode=h}else Bk(b,i.type,i.stateNode);else i.stateNode=zk(b,h,i.memoizedProps);else w!==h?(w===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):w.count--,h===null?Bk(b,i.type,i.stateNode):zk(b,h,i.memoizedProps)):h===null&&i.stateNode!==null&&Up(i,i.memoizedProps,u.memoizedProps)}break;case 27:Lr(o,i),Ir(i),h&512&&(Pt||u===null||ra(u,u.return)),u!==null&&h&4&&Up(i,i.memoizedProps,u.memoizedProps);break;case 5:if(Lr(o,i),Ir(i),h&512&&(Pt||u===null||ra(u,u.return)),i.flags&32){b=i.stateNode;try{co(b,"")}catch(xe){Xe(i,i.return,xe)}}h&4&&i.stateNode!=null&&(b=i.memoizedProps,Up(i,b,u!==null?u.memoizedProps:b)),h&1024&&(Hp=!0);break;case 6:if(Lr(o,i),Ir(i),h&4){if(i.stateNode===null)throw Error(n(162));h=i.memoizedProps,u=i.stateNode;try{u.nodeValue=h}catch(xe){Xe(i,i.return,xe)}}break;case 3:if(ef=null,b=zn,zn=Jd(o.containerInfo),Lr(o,i),zn=b,Ir(i),h&4&&u!==null&&u.memoizedState.isDehydrated)try{qo(o.containerInfo)}catch(xe){Xe(i,i.return,xe)}Hp&&(Hp=!1,BS(i));break;case 4:h=zn,zn=Jd(i.stateNode.containerInfo),Lr(o,i),Ir(i),zn=h;break;case 12:Lr(o,i),Ir(i);break;case 31:Lr(o,i),Ir(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Id(i,h)));break;case 13:Lr(o,i),Ir(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Ud=Ye()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Id(i,h)));break;case 22:b=i.memoizedState!==null;var z=u!==null&&u.memoizedState!==null,G=Aa,ie=Pt;if(Aa=G||b,Pt=ie||z,Lr(o,i),Pt=ie,Aa=G,Ir(i),h&8192)e:for(o=i.stateNode,o._visibility=b?o._visibility&-2:o._visibility|1,b&&(u===null||z||Aa||Pt||vs(i)),u=null,o=i;;){if(o.tag===5||o.tag===26){if(u===null){z=u=o;try{if(w=z.stateNode,b)O=w.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{D=z.stateNode;var le=z.memoizedProps.style,J=le!=null&&le.hasOwnProperty("display")?le.display:null;D.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(xe){Xe(z,z.return,xe)}}}else if(o.tag===6){if(u===null){z=o;try{z.stateNode.nodeValue=b?"":z.memoizedProps}catch(xe){Xe(z,z.return,xe)}}}else if(o.tag===18){if(u===null){z=o;try{var te=z.stateNode;b?Tk(te,!0):Tk(z.stateNode,!1)}catch(xe){Xe(z,z.return,xe)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}h&4&&(h=i.updateQueue,h!==null&&(u=h.retryQueue,u!==null&&(h.retryQueue=null,Id(i,u))));break;case 19:Lr(o,i),Ir(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Id(i,h)));break;case 30:break;case 21:break;default:Lr(o,i),Ir(i)}}function Ir(i){var o=i.flags;if(o&2){try{for(var u,h=i.return;h!==null;){if(PS(h)){u=h;break}h=h.return}if(u==null)throw Error(n(160));switch(u.tag){case 27:var b=u.stateNode,w=Bp(i);Ld(i,w,b);break;case 5:var O=u.stateNode;u.flags&32&&(co(O,""),u.flags&=-33);var D=Bp(i);Ld(i,D,O);break;case 3:case 4:var z=u.stateNode.containerInfo,G=Bp(i);qp(i,G,z);break;default:throw Error(n(161))}}catch(ie){Xe(i,i.return,ie)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function BS(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;BS(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function Ca(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)RS(i,o.alternate,o),o=o.sibling}function vs(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:Si(4,o,o.return),vs(o);break;case 1:ra(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&TS(o,o.return,u),vs(o);break;case 27:bu(o.stateNode);case 26:case 5:ra(o,o.return),vs(o);break;case 22:o.memoizedState===null&&vs(o);break;case 30:vs(o);break;default:vs(o)}i=i.sibling}}function Pa(i,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var h=o.alternate,b=i,w=o,O=w.flags;switch(w.tag){case 0:case 11:case 15:Pa(b,w,u),uu(4,w);break;case 1:if(Pa(b,w,u),h=w,b=h.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(G){Xe(h,h.return,G)}if(h=w,b=h.updateQueue,b!==null){var D=h.stateNode;try{var z=b.shared.hiddenCallbacks;if(z!==null)for(b.shared.hiddenCallbacks=null,b=0;b<z.length;b++)y_(z[b],D)}catch(G){Xe(h,h.return,G)}}u&&O&64&&AS(w),cu(w,w.return);break;case 27:DS(w);case 26:case 5:Pa(b,w,u),u&&h===null&&O&4&&CS(w),cu(w,w.return);break;case 12:Pa(b,w,u);break;case 31:Pa(b,w,u),u&&O&4&&IS(b,w);break;case 13:Pa(b,w,u),u&&O&4&&zS(b,w);break;case 22:w.memoizedState===null&&Pa(b,w,u),cu(w,w.return);break;case 30:break;default:Pa(b,w,u)}o=o.sibling}}function Fp(i,o){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&Wl(u))}function Vp(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Wl(i))}function Un(i,o,u,h){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)qS(i,o,u,h),o=o.sibling}function qS(i,o,u,h){var b=o.flags;switch(o.tag){case 0:case 11:case 15:Un(i,o,u,h),b&2048&&uu(9,o);break;case 1:Un(i,o,u,h);break;case 3:Un(i,o,u,h),b&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Wl(i)));break;case 12:if(b&2048){Un(i,o,u,h),i=o.stateNode;try{var w=o.memoizedProps,O=w.id,D=w.onPostCommit;typeof D=="function"&&D(O,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(z){Xe(o,o.return,z)}}else Un(i,o,u,h);break;case 31:Un(i,o,u,h);break;case 13:Un(i,o,u,h);break;case 23:break;case 22:w=o.stateNode,O=o.alternate,o.memoizedState!==null?w._visibility&2?Un(i,o,u,h):du(i,o):w._visibility&2?Un(i,o,u,h):(w._visibility|=2,Co(i,o,u,h,(o.subtreeFlags&10256)!==0||!1)),b&2048&&Fp(O,o);break;case 24:Un(i,o,u,h),b&2048&&Vp(o.alternate,o);break;default:Un(i,o,u,h)}}function Co(i,o,u,h,b){for(b=b&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var w=i,O=o,D=u,z=h,G=O.flags;switch(O.tag){case 0:case 11:case 15:Co(w,O,D,z,b),uu(8,O);break;case 23:break;case 22:var ie=O.stateNode;O.memoizedState!==null?ie._visibility&2?Co(w,O,D,z,b):du(w,O):(ie._visibility|=2,Co(w,O,D,z,b)),b&&G&2048&&Fp(O.alternate,O);break;case 24:Co(w,O,D,z,b),b&&G&2048&&Vp(O.alternate,O);break;default:Co(w,O,D,z,b)}o=o.sibling}}function du(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=i,h=o,b=h.flags;switch(h.tag){case 22:du(u,h),b&2048&&Fp(h.alternate,h);break;case 24:du(u,h),b&2048&&Vp(h.alternate,h);break;default:du(u,h)}o=o.sibling}}var fu=8192;function Po(i,o,u){if(i.subtreeFlags&fu)for(i=i.child;i!==null;)HS(i,o,u),i=i.sibling}function HS(i,o,u){switch(i.tag){case 26:Po(i,o,u),i.flags&fu&&i.memoizedState!==null&&D$(u,zn,i.memoizedState,i.memoizedProps);break;case 5:Po(i,o,u);break;case 3:case 4:var h=zn;zn=Jd(i.stateNode.containerInfo),Po(i,o,u),zn=h;break;case 22:i.memoizedState===null&&(h=i.alternate,h!==null&&h.memoizedState!==null?(h=fu,fu=16777216,Po(i,o,u),fu=h):Po(i,o,u));break;default:Po(i,o,u)}}function FS(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function hu(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];Gt=h,KS(h,i)}FS(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)VS(i),i=i.sibling}function VS(i){switch(i.tag){case 0:case 11:case 15:hu(i),i.flags&2048&&Si(9,i,i.return);break;case 3:hu(i);break;case 12:hu(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,zd(i)):hu(i);break;default:hu(i)}}function zd(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];Gt=h,KS(h,i)}FS(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:Si(8,o,o.return),zd(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,zd(o));break;default:zd(o)}i=i.sibling}}function KS(i,o){for(;Gt!==null;){var u=Gt;switch(u.tag){case 0:case 11:case 15:Si(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var h=u.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Wl(u.memoizedState.cache)}if(h=u.child,h!==null)h.return=u,Gt=h;else e:for(u=i;Gt!==null;){h=Gt;var b=h.sibling,w=h.return;if($S(h),h===u){Gt=null;break e}if(b!==null){b.return=w,Gt=b;break e}Gt=w}}}var GR={getCacheForType:function(i){var o=tr(At),u=o.data.get(i);return u===void 0&&(u=i(),o.data.set(i,u)),u},cacheSignal:function(){return tr(At).controller.signal}},YR=typeof WeakMap=="function"?WeakMap:Map,Ze=0,rt=null,Le=null,Ue=0,We=0,Qr=null,ki=!1,Do=!1,Kp=!1,Da=0,wt=0,ji=0,ys=0,Zp=0,en=0,Mo=0,mu=null,zr=null,Gp=!1,Ud=0,ZS=0,Bd=1/0,qd=null,Ei=null,zt=0,Oi=null,Ro=null,Ma=0,Yp=0,Wp=null,GS=null,pu=0,Xp=null;function tn(){return(Ze&2)!==0&&Ue!==0?Ue&-Ue:U.T!==null?ng():c1()}function YS(){if(en===0)if((Ue&536870912)===0||He){var i=Wc;Wc<<=1,(Wc&3932160)===0&&(Wc=262144),en=i}else en=536870912;return i=Xr.current,i!==null&&(i.flags|=32),en}function Ur(i,o,u){(i===rt&&(We===2||We===9)||i.cancelPendingCommit!==null)&&($o(i,0),Ni(i,Ue,en,!1)),$l(i,u),((Ze&2)===0||i!==rt)&&(i===rt&&((Ze&2)===0&&(ys|=u),wt===4&&Ni(i,Ue,en,!1)),na(i))}function WS(i,o,u){if((Ze&6)!==0)throw Error(n(327));var h=!u&&(o&127)===0&&(o&i.expiredLanes)===0||Rl(i,o),b=h?JR(i,o):Qp(i,o,!0),w=h;do{if(b===0){Do&&!h&&Ni(i,o,0,!1);break}else{if(u=i.current.alternate,w&&!WR(u)){b=Qp(i,o,!1),w=!1;continue}if(b===2){if(w=o,i.errorRecoveryDisabledLanes&w)var O=0;else O=i.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){o=O;e:{var D=i;b=mu;var z=D.current.memoizedState.isDehydrated;if(z&&($o(D,O).flags|=256),O=Qp(D,O,!1),O!==2){if(Kp&&!z){D.errorRecoveryDisabledLanes|=w,ys|=w,b=4;break e}w=zr,zr=b,w!==null&&(zr===null?zr=w:zr.push.apply(zr,w))}b=O}if(w=!1,b!==2)continue}}if(b===1){$o(i,0),Ni(i,o,0,!0);break}e:{switch(h=i,w=b,w){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:Ni(h,o,en,!ki);break e;case 2:zr=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(b=Ud+300-Ye(),10<b)){if(Ni(h,o,en,!ki),Jc(h,0,!0)!==0)break e;Ma=o,h.timeoutHandle=Ok(XS.bind(null,h,u,zr,qd,Gp,o,en,ys,Mo,ki,w,"Throttled",-0,0),b);break e}XS(h,u,zr,qd,Gp,o,en,ys,Mo,ki,w,null,-0,0)}}break}while(!0);na(i)}function XS(i,o,u,h,b,w,O,D,z,G,ie,le,J,te){if(i.timeoutHandle=-1,le=o.subtreeFlags,le&8192||(le&16785408)===16785408){le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ba},HS(o,w,le);var xe=(w&62914560)===w?Ud-Ye():(w&4194048)===w?ZS-Ye():0;if(xe=M$(le,xe),xe!==null){Ma=w,i.cancelPendingCommit=xe(ik.bind(null,i,o,w,u,h,b,O,D,z,ie,le,null,J,te)),Ni(i,w,O,!G);return}}ik(i,o,w,u,h,b,O,D,z)}function WR(i){for(var o=i;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var h=0;h<u.length;h++){var b=u[h],w=b.getSnapshot;b=b.value;try{if(!Yr(w(),b))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ni(i,o,u,h){o&=~Zp,o&=~ys,i.suspendedLanes|=o,i.pingedLanes&=~o,h&&(i.warmLanes|=o),h=i.expirationTimes;for(var b=o;0<b;){var w=31-It(b),O=1<<w;h[w]=-1,b&=~O}u!==0&&o1(i,u,o)}function Hd(){return(Ze&6)===0?(gu(0),!1):!0}function Jp(){if(Le!==null){if(We===0)var i=Le.return;else i=Le,Sa=us=null,mp(i),Eo=null,Jl=0,i=Le;for(;i!==null;)NS(i.alternate,i),i=i.return;Le=null}}function $o(i,o){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,g$(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),Ma=0,Jp(),rt=i,Le=u=wa(i.current,null),Ue=o,We=0,Qr=null,ki=!1,Do=Rl(i,o),Kp=!1,Mo=en=Zp=ys=ji=wt=0,zr=mu=null,Gp=!1,(o&8)!==0&&(o|=o&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=o;0<h;){var b=31-It(h),w=1<<b;o|=i[b],h&=~w}return Da=o,cd(),u}function JS(i,o){Me=null,U.H=su,o===jo||o===yd?(o=m_(),We=3):o===rp?(o=m_(),We=4):We=o===Tp?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Qr=o,Le===null&&(wt=1,Pd(i,wn(o,i.current)))}function QS(){var i=Xr.current;return i===null?!0:(Ue&4194048)===Ue?jn===null:(Ue&62914560)===Ue||(Ue&536870912)!==0?i===jn:!1}function ek(){var i=U.H;return U.H=su,i===null?su:i}function tk(){var i=U.A;return U.A=GR,i}function Fd(){wt=4,ki||(Ue&4194048)!==Ue&&Xr.current!==null||(Do=!0),(ji&134217727)===0&&(ys&134217727)===0||rt===null||Ni(rt,Ue,en,!1)}function Qp(i,o,u){var h=Ze;Ze|=2;var b=ek(),w=tk();(rt!==i||Ue!==o)&&(qd=null,$o(i,o)),o=!1;var O=wt;e:do try{if(We!==0&&Le!==null){var D=Le,z=Qr;switch(We){case 8:Jp(),O=6;break e;case 3:case 2:case 9:case 6:Xr.current===null&&(o=!0);var G=We;if(We=0,Qr=null,Lo(i,D,z,G),u&&Do){O=0;break e}break;default:G=We,We=0,Qr=null,Lo(i,D,z,G)}}XR(),O=wt;break}catch(ie){JS(i,ie)}while(!0);return o&&i.shellSuspendCounter++,Sa=us=null,Ze=h,U.H=b,U.A=w,Le===null&&(rt=null,Ue=0,cd()),O}function XR(){for(;Le!==null;)rk(Le)}function JR(i,o){var u=Ze;Ze|=2;var h=ek(),b=tk();rt!==i||Ue!==o?(qd=null,Bd=Ye()+500,$o(i,o)):Do=Rl(i,o);e:do try{if(We!==0&&Le!==null){o=Le;var w=Qr;t:switch(We){case 1:We=0,Qr=null,Lo(i,o,w,1);break;case 2:case 9:if(f_(w)){We=0,Qr=null,nk(o);break}o=function(){We!==2&&We!==9||rt!==i||(We=7),na(i)},w.then(o,o);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:f_(w)?(We=0,Qr=null,nk(o)):(We=0,Qr=null,Lo(i,o,w,7));break;case 5:var O=null;switch(Le.tag){case 26:O=Le.memoizedState;case 5:case 27:var D=Le;if(O?qk(O):D.stateNode.complete){We=0,Qr=null;var z=D.sibling;if(z!==null)Le=z;else{var G=D.return;G!==null?(Le=G,Vd(G)):Le=null}break t}}We=0,Qr=null,Lo(i,o,w,5);break;case 6:We=0,Qr=null,Lo(i,o,w,6);break;case 8:Jp(),wt=6;break e;default:throw Error(n(462))}}QR();break}catch(ie){JS(i,ie)}while(!0);return Sa=us=null,U.H=h,U.A=b,Ze=u,Le!==null?0:(rt=null,Ue=0,cd(),wt)}function QR(){for(;Le!==null&&!di();)rk(Le)}function rk(i){var o=ES(i.alternate,i,Da);i.memoizedProps=i.pendingProps,o===null?Vd(i):Le=o}function nk(i){var o=i,u=o.alternate;switch(o.tag){case 15:case 0:o=xS(u,o,o.pendingProps,o.type,void 0,Ue);break;case 11:o=xS(u,o,o.pendingProps,o.type.render,o.ref,Ue);break;case 5:mp(o);default:NS(u,o),o=Le=t_(o,Da),o=ES(u,o,Da)}i.memoizedProps=i.pendingProps,o===null?Vd(i):Le=o}function Lo(i,o,u,h){Sa=us=null,mp(o),Eo=null,Jl=0;var b=o.return;try{if(BR(i,b,o,u,Ue)){wt=1,Pd(i,wn(u,i.current)),Le=null;return}}catch(w){if(b!==null)throw Le=b,w;wt=1,Pd(i,wn(u,i.current)),Le=null;return}o.flags&32768?(He||h===1?i=!0:Do||(Ue&536870912)!==0?i=!1:(ki=i=!0,(h===2||h===9||h===3||h===6)&&(h=Xr.current,h!==null&&h.tag===13&&(h.flags|=16384))),ak(o,i)):Vd(o)}function Vd(i){var o=i;do{if((o.flags&32768)!==0){ak(o,ki);return}i=o.return;var u=FR(o.alternate,o,Da);if(u!==null){Le=u;return}if(o=o.sibling,o!==null){Le=o;return}Le=o=i}while(o!==null);wt===0&&(wt=5)}function ak(i,o){do{var u=VR(i.alternate,i);if(u!==null){u.flags&=32767,Le=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(i=i.sibling,i!==null)){Le=i;return}Le=i=u}while(i!==null);wt=6,Le=null}function ik(i,o,u,h,b,w,O,D,z){i.cancelPendingCommit=null;do Kd();while(zt!==0);if((Ze&6)!==0)throw Error(n(327));if(o!==null){if(o===i.current)throw Error(n(177));if(w=o.lanes|o.childLanes,w|=Bm,PM(i,u,w,O,D,z),i===rt&&(Le=rt=null,Ue=0),Ro=o,Oi=i,Ma=u,Yp=w,Wp=b,GS=h,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,n$(bt,function(){return ck(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||h){h=U.T,U.T=null,b=K.p,K.p=2,O=Ze,Ze|=4;try{KR(i,o,u)}finally{Ze=O,K.p=b,U.T=h}}zt=1,sk(),ok(),lk()}}function sk(){if(zt===1){zt=0;var i=Oi,o=Ro,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=U.T,U.T=null;var h=K.p;K.p=2;var b=Ze;Ze|=4;try{US(o,i);var w=dg,O=K1(i.containerInfo),D=w.focusedElem,z=w.selectionRange;if(O!==D&&D&&D.ownerDocument&&V1(D.ownerDocument.documentElement,D)){if(z!==null&&$m(D)){var G=z.start,ie=z.end;if(ie===void 0&&(ie=G),"selectionStart"in D)D.selectionStart=G,D.selectionEnd=Math.min(ie,D.value.length);else{var le=D.ownerDocument||document,J=le&&le.defaultView||window;if(J.getSelection){var te=J.getSelection(),xe=D.textContent.length,Te=Math.min(z.start,xe),tt=z.end===void 0?Te:Math.min(z.end,xe);!te.extend&&Te>tt&&(O=tt,tt=Te,Te=O);var H=F1(D,Te),B=F1(D,tt);if(H&&B&&(te.rangeCount!==1||te.anchorNode!==H.node||te.anchorOffset!==H.offset||te.focusNode!==B.node||te.focusOffset!==B.offset)){var Z=le.createRange();Z.setStart(H.node,H.offset),te.removeAllRanges(),Te>tt?(te.addRange(Z),te.extend(B.node,B.offset)):(Z.setEnd(B.node,B.offset),te.addRange(Z))}}}}for(le=[],te=D;te=te.parentNode;)te.nodeType===1&&le.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<le.length;D++){var se=le[D];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}af=!!cg,dg=cg=null}finally{Ze=b,K.p=h,U.T=u}}i.current=o,zt=2}}function ok(){if(zt===2){zt=0;var i=Oi,o=Ro,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=U.T,U.T=null;var h=K.p;K.p=2;var b=Ze;Ze|=4;try{RS(i,o.alternate,o)}finally{Ze=b,K.p=h,U.T=u}}zt=3}}function lk(){if(zt===4||zt===3){zt=0,mr();var i=Oi,o=Ro,u=Ma,h=GS;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?zt=5:(zt=0,Ro=Oi=null,uk(i,i.pendingLanes));var b=i.pendingLanes;if(b===0&&(Ei=null),vm(u),o=o.stateNode,kr&&typeof kr.onCommitFiberRoot=="function")try{kr.onCommitFiberRoot(va,o,void 0,(o.current.flags&128)===128)}catch{}if(h!==null){o=U.T,b=K.p,K.p=2,U.T=null;try{for(var w=i.onRecoverableError,O=0;O<h.length;O++){var D=h[O];w(D.value,{componentStack:D.stack})}}finally{U.T=o,K.p=b}}(Ma&3)!==0&&Kd(),na(i),b=i.pendingLanes,(u&261930)!==0&&(b&42)!==0?i===Xp?pu++:(pu=0,Xp=i):pu=0,gu(0)}}function uk(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,Wl(o)))}function Kd(){return sk(),ok(),lk(),ck()}function ck(){if(zt!==5)return!1;var i=Oi,o=Yp;Yp=0;var u=vm(Ma),h=U.T,b=K.p;try{K.p=32>u?32:u,U.T=null,u=Wp,Wp=null;var w=Oi,O=Ma;if(zt=0,Ro=Oi=null,Ma=0,(Ze&6)!==0)throw Error(n(331));var D=Ze;if(Ze|=4,VS(w.current),qS(w,w.current,O,u),Ze=D,gu(0,!1),kr&&typeof kr.onPostCommitFiberRoot=="function")try{kr.onPostCommitFiberRoot(va,w)}catch{}return!0}finally{K.p=b,U.T=h,uk(i,o)}}function dk(i,o,u){o=wn(u,o),o=Ap(i.stateNode,o,2),i=xi(i,o,2),i!==null&&($l(i,2),na(i))}function Xe(i,o,u){if(i.tag===3)dk(i,i,u);else for(;o!==null;){if(o.tag===3){dk(o,i,u);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ei===null||!Ei.has(h))){i=wn(u,i),u=fS(2),h=xi(o,u,2),h!==null&&(hS(u,h,o,i),$l(h,2),na(h));break}}o=o.return}}function eg(i,o,u){var h=i.pingCache;if(h===null){h=i.pingCache=new YR;var b=new Set;h.set(o,b)}else b=h.get(o),b===void 0&&(b=new Set,h.set(o,b));b.has(u)||(Kp=!0,b.add(u),i=e$.bind(null,i,o,u),o.then(i,i))}function e$(i,o,u){var h=i.pingCache;h!==null&&h.delete(o),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,rt===i&&(Ue&u)===u&&(wt===4||wt===3&&(Ue&62914560)===Ue&&300>Ye()-Ud?(Ze&2)===0&&$o(i,0):Zp|=u,Mo===Ue&&(Mo=0)),na(i)}function fk(i,o){o===0&&(o=s1()),i=ss(i,o),i!==null&&($l(i,o),na(i))}function t$(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),fk(i,u)}function r$(i,o){var u=0;switch(i.tag){case 31:case 13:var h=i.stateNode,b=i.memoizedState;b!==null&&(u=b.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(n(314))}h!==null&&h.delete(o),fk(i,u)}function n$(i,o){return Gr(i,o)}var Zd=null,Io=null,tg=!1,Gd=!1,rg=!1,Ai=0;function na(i){i!==Io&&i.next===null&&(Io===null?Zd=Io=i:Io=Io.next=i),Gd=!0,tg||(tg=!0,i$())}function gu(i,o){if(!rg&&Gd){rg=!0;do for(var u=!1,h=Zd;h!==null;){if(i!==0){var b=h.pendingLanes;if(b===0)var w=0;else{var O=h.suspendedLanes,D=h.pingedLanes;w=(1<<31-It(42|i)+1)-1,w&=b&~(O&~D),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(u=!0,gk(h,w))}else w=Ue,w=Jc(h,h===rt?w:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(w&3)===0||Rl(h,w)||(u=!0,gk(h,w));h=h.next}while(u);rg=!1}}function a$(){hk()}function hk(){Gd=tg=!1;var i=0;Ai!==0&&p$()&&(i=Ai);for(var o=Ye(),u=null,h=Zd;h!==null;){var b=h.next,w=mk(h,o);w===0?(h.next=null,u===null?Zd=b:u.next=b,b===null&&(Io=u)):(u=h,(i!==0||(w&3)!==0)&&(Gd=!0)),h=b}zt!==0&&zt!==5||gu(i),Ai!==0&&(Ai=0)}function mk(i,o){for(var u=i.suspendedLanes,h=i.pingedLanes,b=i.expirationTimes,w=i.pendingLanes&-62914561;0<w;){var O=31-It(w),D=1<<O,z=b[O];z===-1?((D&u)===0||(D&h)!==0)&&(b[O]=CM(D,o)):z<=o&&(i.expiredLanes|=D),w&=~D}if(o=rt,u=Ue,u=Jc(i,i===o?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,u===0||i===o&&(We===2||We===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&pn(h),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||Rl(i,u)){if(o=u&-u,o===i.callbackPriority)return o;switch(h!==null&&pn(h),vm(u)){case 2:case 8:u=ga;break;case 32:u=bt;break;case 268435456:u=gr;break;default:u=bt}return h=pk.bind(null,i),u=Gr(u,h),i.callbackPriority=o,i.callbackNode=u,o}return h!==null&&h!==null&&pn(h),i.callbackPriority=2,i.callbackNode=null,2}function pk(i,o){if(zt!==0&&zt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(Kd()&&i.callbackNode!==u)return null;var h=Ue;return h=Jc(i,i===rt?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(WS(i,h,o),mk(i,Ye()),i.callbackNode!=null&&i.callbackNode===u?pk.bind(null,i):null)}function gk(i,o){if(Kd())return null;WS(i,o,!0)}function i$(){v$(function(){(Ze&6)!==0?Gr(pr,a$):hk()})}function ng(){if(Ai===0){var i=So;i===0&&(i=Yc,Yc<<=1,(Yc&261888)===0&&(Yc=256)),Ai=i}return Ai}function vk(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:rd(""+i)}function yk(i,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,i.id&&u.setAttribute("form",i.id),o.parentNode.insertBefore(u,o),i=new FormData(i),u.parentNode.removeChild(u),i}function s$(i,o,u,h,b){if(o==="submit"&&u&&u.stateNode===b){var w=vk((b[Mr]||null).action),O=h.submitter;O&&(o=(o=O[Mr]||null)?vk(o.formAction):O.getAttribute("formAction"),o!==null&&(w=o,O=null));var D=new sd("action","action",null,h,b);i.push({event:D,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Ai!==0){var z=O?yk(b,O):new FormData(b);Sp(u,{pending:!0,data:z,method:b.method,action:w},null,z)}}else typeof w=="function"&&(D.preventDefault(),z=O?yk(b,O):new FormData(b),Sp(u,{pending:!0,data:z,method:b.method,action:w},w,z))},currentTarget:b}]})}}for(var ag=0;ag<Um.length;ag++){var ig=Um[ag],o$=ig.toLowerCase(),l$=ig[0].toUpperCase()+ig.slice(1);In(o$,"on"+l$)}In(Y1,"onAnimationEnd"),In(W1,"onAnimationIteration"),In(X1,"onAnimationStart"),In("dblclick","onDoubleClick"),In("focusin","onFocus"),In("focusout","onBlur"),In(kR,"onTransitionRun"),In(jR,"onTransitionStart"),In(ER,"onTransitionCancel"),In(J1,"onTransitionEnd"),lo("onMouseEnter",["mouseout","mouseover"]),lo("onMouseLeave",["mouseout","mouseover"]),lo("onPointerEnter",["pointerout","pointerover"]),lo("onPointerLeave",["pointerout","pointerover"]),rs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rs("onBeforeInput",["compositionend","keypress","textInput","paste"]),rs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u$=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vu));function bk(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var h=i[u],b=h.event;h=h.listeners;e:{var w=void 0;if(o)for(var O=h.length-1;0<=O;O--){var D=h[O],z=D.instance,G=D.currentTarget;if(D=D.listener,z!==w&&b.isPropagationStopped())break e;w=D,b.currentTarget=G;try{w(b)}catch(ie){ud(ie)}b.currentTarget=null,w=z}else for(O=0;O<h.length;O++){if(D=h[O],z=D.instance,G=D.currentTarget,D=D.listener,z!==w&&b.isPropagationStopped())break e;w=D,b.currentTarget=G;try{w(b)}catch(ie){ud(ie)}b.currentTarget=null,w=z}}}}function Ie(i,o){var u=o[ym];u===void 0&&(u=o[ym]=new Set);var h=i+"__bubble";u.has(h)||(xk(o,i,2,!1),u.add(h))}function sg(i,o,u){var h=0;o&&(h|=4),xk(u,i,h,o)}var Yd="_reactListening"+Math.random().toString(36).slice(2);function og(i){if(!i[Yd]){i[Yd]=!0,h1.forEach(function(u){u!=="selectionchange"&&(u$.has(u)||sg(u,!1,i),sg(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Yd]||(o[Yd]=!0,sg("selectionchange",!1,o))}}function xk(i,o,u,h){switch(Yk(o)){case 2:var b=L$;break;case 8:b=I$;break;default:b=_g}u=b.bind(null,o,u,i),b=void 0,!Om||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(b=!0),h?b!==void 0?i.addEventListener(o,u,{capture:!0,passive:b}):i.addEventListener(o,u,!0):b!==void 0?i.addEventListener(o,u,{passive:b}):i.addEventListener(o,u,!1)}function lg(i,o,u,h,b){var w=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var O=h.tag;if(O===3||O===4){var D=h.stateNode.containerInfo;if(D===b)break;if(O===4)for(O=h.return;O!==null;){var z=O.tag;if((z===3||z===4)&&O.stateNode.containerInfo===b)return;O=O.return}for(;D!==null;){if(O=io(D),O===null)return;if(z=O.tag,z===5||z===6||z===26||z===27){h=w=O;continue e}D=D.parentNode}}h=h.return}j1(function(){var G=w,ie=jm(u),le=[];e:{var J=Q1.get(i);if(J!==void 0){var te=sd,xe=i;switch(i){case"keypress":if(ad(u)===0)break e;case"keydown":case"keyup":te=rR;break;case"focusin":xe="focus",te=Cm;break;case"focusout":xe="blur",te=Cm;break;case"beforeblur":case"afterblur":te=Cm;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=N1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=FM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=iR;break;case Y1:case W1:case X1:te=ZM;break;case J1:te=oR;break;case"scroll":case"scrollend":te=qM;break;case"wheel":te=uR;break;case"copy":case"cut":case"paste":te=YM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=T1;break;case"toggle":case"beforetoggle":te=dR}var Te=(o&4)!==0,tt=!Te&&(i==="scroll"||i==="scrollend"),H=Te?J!==null?J+"Capture":null:J;Te=[];for(var B=G,Z;B!==null;){var se=B;if(Z=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||Z===null||H===null||(se=zl(B,H),se!=null&&Te.push(yu(B,se,Z))),tt)break;B=B.return}0<Te.length&&(J=new te(J,xe,null,u,ie),le.push({event:J,listeners:Te}))}}if((o&7)===0){e:{if(J=i==="mouseover"||i==="pointerover",te=i==="mouseout"||i==="pointerout",J&&u!==km&&(xe=u.relatedTarget||u.fromElement)&&(io(xe)||xe[ao]))break e;if((te||J)&&(J=ie.window===ie?ie:(J=ie.ownerDocument)?J.defaultView||J.parentWindow:window,te?(xe=u.relatedTarget||u.toElement,te=G,xe=xe?io(xe):null,xe!==null&&(tt=s(xe),Te=xe.tag,xe!==tt||Te!==5&&Te!==27&&Te!==6)&&(xe=null)):(te=null,xe=G),te!==xe)){if(Te=N1,se="onMouseLeave",H="onMouseEnter",B="mouse",(i==="pointerout"||i==="pointerover")&&(Te=T1,se="onPointerLeave",H="onPointerEnter",B="pointer"),tt=te==null?J:Il(te),Z=xe==null?J:Il(xe),J=new Te(se,B+"leave",te,u,ie),J.target=tt,J.relatedTarget=Z,se=null,io(ie)===G&&(Te=new Te(H,B+"enter",xe,u,ie),Te.target=Z,Te.relatedTarget=tt,se=Te),tt=se,te&&xe)t:{for(Te=c$,H=te,B=xe,Z=0,se=H;se;se=Te(se))Z++;se=0;for(var Ne=B;Ne;Ne=Te(Ne))se++;for(;0<Z-se;)H=Te(H),Z--;for(;0<se-Z;)B=Te(B),se--;for(;Z--;){if(H===B||B!==null&&H===B.alternate){Te=H;break t}H=Te(H),B=Te(B)}Te=null}else Te=null;te!==null&&wk(le,J,te,Te,!1),xe!==null&&tt!==null&&wk(le,tt,xe,Te,!0)}}e:{if(J=G?Il(G):window,te=J.nodeName&&J.nodeName.toLowerCase(),te==="select"||te==="input"&&J.type==="file")var Fe=I1;else if($1(J))if(z1)Fe=wR;else{Fe=bR;var Se=yR}else te=J.nodeName,!te||te.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?G&&Sm(G.elementType)&&(Fe=I1):Fe=xR;if(Fe&&(Fe=Fe(i,G))){L1(le,Fe,u,ie);break e}Se&&Se(i,J,G),i==="focusout"&&G&&J.type==="number"&&G.memoizedProps.value!=null&&_m(J,"number",J.value)}switch(Se=G?Il(G):window,i){case"focusin":($1(Se)||Se.contentEditable==="true")&&(po=Se,Lm=G,Zl=null);break;case"focusout":Zl=Lm=po=null;break;case"mousedown":Im=!0;break;case"contextmenu":case"mouseup":case"dragend":Im=!1,Z1(le,u,ie);break;case"selectionchange":if(SR)break;case"keydown":case"keyup":Z1(le,u,ie)}var $e;if(Dm)e:{switch(i){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else mo?M1(i,u)&&(Be="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Be="onCompositionStart");Be&&(C1&&u.locale!=="ko"&&(mo||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&mo&&($e=E1()):(hi=ie,Nm="value"in hi?hi.value:hi.textContent,mo=!0)),Se=Wd(G,Be),0<Se.length&&(Be=new A1(Be,i,null,u,ie),le.push({event:Be,listeners:Se}),$e?Be.data=$e:($e=R1(u),$e!==null&&(Be.data=$e)))),($e=hR?mR(i,u):pR(i,u))&&(Be=Wd(G,"onBeforeInput"),0<Be.length&&(Se=new A1("onBeforeInput","beforeinput",null,u,ie),le.push({event:Se,listeners:Be}),Se.data=$e)),s$(le,i,G,u,ie)}bk(le,o)})}function yu(i,o,u){return{instance:i,listener:o,currentTarget:u}}function Wd(i,o){for(var u=o+"Capture",h=[];i!==null;){var b=i,w=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||w===null||(b=zl(i,u),b!=null&&h.unshift(yu(i,b,w)),b=zl(i,o),b!=null&&h.push(yu(i,b,w))),i.tag===3)return h;i=i.return}return[]}function c$(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function wk(i,o,u,h,b){for(var w=o._reactName,O=[];u!==null&&u!==h;){var D=u,z=D.alternate,G=D.stateNode;if(D=D.tag,z!==null&&z===h)break;D!==5&&D!==26&&D!==27||G===null||(z=G,b?(G=zl(u,w),G!=null&&O.unshift(yu(u,G,z))):b||(G=zl(u,w),G!=null&&O.push(yu(u,G,z)))),u=u.return}O.length!==0&&i.push({event:o,listeners:O})}var d$=/\r\n?/g,f$=/\u0000|\uFFFD/g;function _k(i){return(typeof i=="string"?i:""+i).replace(d$,`
`).replace(f$,"")}function Sk(i,o){return o=_k(o),_k(i)===o}function et(i,o,u,h,b,w){switch(u){case"children":typeof h=="string"?o==="body"||o==="textarea"&&h===""||co(i,h):(typeof h=="number"||typeof h=="bigint")&&o!=="body"&&co(i,""+h);break;case"className":ed(i,"class",h);break;case"tabIndex":ed(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":ed(i,u,h);break;case"style":S1(i,h,w);break;case"data":if(o!=="object"){ed(i,"data",h);break}case"src":case"href":if(h===""&&(o!=="a"||u!=="href")){i.removeAttribute(u);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(u);break}h=rd(""+h),i.setAttribute(u,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(u==="formAction"?(o!=="input"&&et(i,o,"name",b.name,b,null),et(i,o,"formEncType",b.formEncType,b,null),et(i,o,"formMethod",b.formMethod,b,null),et(i,o,"formTarget",b.formTarget,b,null)):(et(i,o,"encType",b.encType,b,null),et(i,o,"method",b.method,b,null),et(i,o,"target",b.target,b,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(u);break}h=rd(""+h),i.setAttribute(u,h);break;case"onClick":h!=null&&(i.onclick=ba);break;case"onScroll":h!=null&&Ie("scroll",i);break;case"onScrollEnd":h!=null&&Ie("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(u=h.__html,u!=null){if(b.children!=null)throw Error(n(60));i.innerHTML=u}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}u=rd(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(u,""+h):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":h===!0?i.setAttribute(u,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(u,h):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(u,h):i.removeAttribute(u);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(u):i.setAttribute(u,h);break;case"popover":Ie("beforetoggle",i),Ie("toggle",i),Qc(i,"popover",h);break;case"xlinkActuate":ya(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":ya(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":ya(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":ya(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":ya(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":ya(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":ya(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":ya(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":ya(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Qc(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=UM.get(u)||u,Qc(i,u,h))}}function ug(i,o,u,h,b,w){switch(u){case"style":S1(i,h,w);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(u=h.__html,u!=null){if(b.children!=null)throw Error(n(60));i.innerHTML=u}}break;case"children":typeof h=="string"?co(i,h):(typeof h=="number"||typeof h=="bigint")&&co(i,""+h);break;case"onScroll":h!=null&&Ie("scroll",i);break;case"onScrollEnd":h!=null&&Ie("scrollend",i);break;case"onClick":h!=null&&(i.onclick=ba);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!m1.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(b=u.endsWith("Capture"),o=u.slice(2,b?u.length-7:void 0),w=i[Mr]||null,w=w!=null?w[u]:null,typeof w=="function"&&i.removeEventListener(o,w,b),typeof h=="function")){typeof w!="function"&&w!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(o,h,b);break e}u in i?i[u]=h:h===!0?i.setAttribute(u,""):Qc(i,u,h)}}}function nr(i,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ie("error",i),Ie("load",i);var h=!1,b=!1,w;for(w in u)if(u.hasOwnProperty(w)){var O=u[w];if(O!=null)switch(w){case"src":h=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:et(i,o,w,O,u,null)}}b&&et(i,o,"srcSet",u.srcSet,u,null),h&&et(i,o,"src",u.src,u,null);return;case"input":Ie("invalid",i);var D=w=O=b=null,z=null,G=null;for(h in u)if(u.hasOwnProperty(h)){var ie=u[h];if(ie!=null)switch(h){case"name":b=ie;break;case"type":O=ie;break;case"checked":z=ie;break;case"defaultChecked":G=ie;break;case"value":w=ie;break;case"defaultValue":D=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(n(137,o));break;default:et(i,o,h,ie,u,null)}}b1(i,w,D,z,G,O,b,!1);return;case"select":Ie("invalid",i),h=O=w=null;for(b in u)if(u.hasOwnProperty(b)&&(D=u[b],D!=null))switch(b){case"value":w=D;break;case"defaultValue":O=D;break;case"multiple":h=D;default:et(i,o,b,D,u,null)}o=w,u=O,i.multiple=!!h,o!=null?uo(i,!!h,o,!1):u!=null&&uo(i,!!h,u,!0);return;case"textarea":Ie("invalid",i),w=b=h=null;for(O in u)if(u.hasOwnProperty(O)&&(D=u[O],D!=null))switch(O){case"value":h=D;break;case"defaultValue":b=D;break;case"children":w=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(n(91));break;default:et(i,o,O,D,u,null)}w1(i,h,b,w);return;case"option":for(z in u)if(u.hasOwnProperty(z)&&(h=u[z],h!=null))switch(z){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:et(i,o,z,h,u,null)}return;case"dialog":Ie("beforetoggle",i),Ie("toggle",i),Ie("cancel",i),Ie("close",i);break;case"iframe":case"object":Ie("load",i);break;case"video":case"audio":for(h=0;h<vu.length;h++)Ie(vu[h],i);break;case"image":Ie("error",i),Ie("load",i);break;case"details":Ie("toggle",i);break;case"embed":case"source":case"link":Ie("error",i),Ie("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in u)if(u.hasOwnProperty(G)&&(h=u[G],h!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:et(i,o,G,h,u,null)}return;default:if(Sm(o)){for(ie in u)u.hasOwnProperty(ie)&&(h=u[ie],h!==void 0&&ug(i,o,ie,h,u,void 0));return}}for(D in u)u.hasOwnProperty(D)&&(h=u[D],h!=null&&et(i,o,D,h,u,null))}function h$(i,o,u,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,w=null,O=null,D=null,z=null,G=null,ie=null;for(te in u){var le=u[te];if(u.hasOwnProperty(te)&&le!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":z=le;default:h.hasOwnProperty(te)||et(i,o,te,null,h,le)}}for(var J in h){var te=h[J];if(le=u[J],h.hasOwnProperty(J)&&(te!=null||le!=null))switch(J){case"type":w=te;break;case"name":b=te;break;case"checked":G=te;break;case"defaultChecked":ie=te;break;case"value":O=te;break;case"defaultValue":D=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(n(137,o));break;default:te!==le&&et(i,o,J,te,h,le)}}wm(i,O,D,z,G,ie,w,b);return;case"select":te=O=D=J=null;for(w in u)if(z=u[w],u.hasOwnProperty(w)&&z!=null)switch(w){case"value":break;case"multiple":te=z;default:h.hasOwnProperty(w)||et(i,o,w,null,h,z)}for(b in h)if(w=h[b],z=u[b],h.hasOwnProperty(b)&&(w!=null||z!=null))switch(b){case"value":J=w;break;case"defaultValue":D=w;break;case"multiple":O=w;default:w!==z&&et(i,o,b,w,h,z)}o=D,u=O,h=te,J!=null?uo(i,!!u,J,!1):!!h!=!!u&&(o!=null?uo(i,!!u,o,!0):uo(i,!!u,u?[]:"",!1));return;case"textarea":te=J=null;for(D in u)if(b=u[D],u.hasOwnProperty(D)&&b!=null&&!h.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:et(i,o,D,null,h,b)}for(O in h)if(b=h[O],w=u[O],h.hasOwnProperty(O)&&(b!=null||w!=null))switch(O){case"value":J=b;break;case"defaultValue":te=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(n(91));break;default:b!==w&&et(i,o,O,b,h,w)}x1(i,J,te);return;case"option":for(var xe in u)if(J=u[xe],u.hasOwnProperty(xe)&&J!=null&&!h.hasOwnProperty(xe))switch(xe){case"selected":i.selected=!1;break;default:et(i,o,xe,null,h,J)}for(z in h)if(J=h[z],te=u[z],h.hasOwnProperty(z)&&J!==te&&(J!=null||te!=null))switch(z){case"selected":i.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:et(i,o,z,J,h,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in u)J=u[Te],u.hasOwnProperty(Te)&&J!=null&&!h.hasOwnProperty(Te)&&et(i,o,Te,null,h,J);for(G in h)if(J=h[G],te=u[G],h.hasOwnProperty(G)&&J!==te&&(J!=null||te!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(n(137,o));break;default:et(i,o,G,J,h,te)}return;default:if(Sm(o)){for(var tt in u)J=u[tt],u.hasOwnProperty(tt)&&J!==void 0&&!h.hasOwnProperty(tt)&&ug(i,o,tt,void 0,h,J);for(ie in h)J=h[ie],te=u[ie],!h.hasOwnProperty(ie)||J===te||J===void 0&&te===void 0||ug(i,o,ie,J,h,te);return}}for(var H in u)J=u[H],u.hasOwnProperty(H)&&J!=null&&!h.hasOwnProperty(H)&&et(i,o,H,null,h,J);for(le in h)J=h[le],te=u[le],!h.hasOwnProperty(le)||J===te||J==null&&te==null||et(i,o,le,J,h,te)}function kk(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function m$(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,u=performance.getEntriesByType("resource"),h=0;h<u.length;h++){var b=u[h],w=b.transferSize,O=b.initiatorType,D=b.duration;if(w&&D&&kk(O)){for(O=0,D=b.responseEnd,h+=1;h<u.length;h++){var z=u[h],G=z.startTime;if(G>D)break;var ie=z.transferSize,le=z.initiatorType;ie&&kk(le)&&(z=z.responseEnd,O+=ie*(z<D?1:(D-G)/(z-G)))}if(--h,o+=8*(w+O)/(b.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var cg=null,dg=null;function Xd(i){return i.nodeType===9?i:i.ownerDocument}function jk(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ek(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function fg(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var hg=null;function p$(){var i=window.event;return i&&i.type==="popstate"?i===hg?!1:(hg=i,!0):(hg=null,!1)}var Ok=typeof setTimeout=="function"?setTimeout:void 0,g$=typeof clearTimeout=="function"?clearTimeout:void 0,Nk=typeof Promise=="function"?Promise:void 0,v$=typeof queueMicrotask=="function"?queueMicrotask:typeof Nk<"u"?function(i){return Nk.resolve(null).then(i).catch(y$)}:Ok;function y$(i){setTimeout(function(){throw i})}function Ti(i){return i==="head"}function Ak(i,o){var u=o,h=0;do{var b=u.nextSibling;if(i.removeChild(u),b&&b.nodeType===8)if(u=b.data,u==="/$"||u==="/&"){if(h===0){i.removeChild(b),qo(o);return}h--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")h++;else if(u==="html")bu(i.ownerDocument.documentElement);else if(u==="head"){u=i.ownerDocument.head,bu(u);for(var w=u.firstChild;w;){var O=w.nextSibling,D=w.nodeName;w[Ll]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&w.rel.toLowerCase()==="stylesheet"||u.removeChild(w),w=O}}else u==="body"&&bu(i.ownerDocument.body);u=b}while(u);qo(o)}function Tk(i,o){var u=i;i=0;do{var h=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),h&&h.nodeType===8)if(u=h.data,u==="/$"){if(i===0)break;i--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||i++;u=h}while(u)}function mg(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":mg(u),bm(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function b$(i,o,u,h){for(;i.nodeType===1;){var b=u;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[Ll])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(w=i.getAttribute("rel"),w==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(w!==b.rel||i.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||i.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||i.getAttribute("title")!==(b.title==null?null:b.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(w=i.getAttribute("src"),(w!==(b.src==null?null:b.src)||i.getAttribute("type")!==(b.type==null?null:b.type)||i.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&w&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var w=b.name==null?null:""+b.name;if(b.type==="hidden"&&i.getAttribute("name")===w)return i}else return i;if(i=En(i.nextSibling),i===null)break}return null}function x$(i,o,u){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=En(i.nextSibling),i===null))return null;return i}function Ck(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=En(i.nextSibling),i===null))return null;return i}function pg(i){return i.data==="$?"||i.data==="$~"}function gg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function w$(i,o){var u=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||u.readyState!=="loading")o();else{var h=function(){o(),u.removeEventListener("DOMContentLoaded",h)};u.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function En(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var vg=null;function Pk(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"||u==="/&"){if(o===0)return En(i.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}i=i.nextSibling}return null}function Dk(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return i;o--}else u!=="/$"&&u!=="/&"||o++}i=i.previousSibling}return null}function Mk(i,o,u){switch(o=Xd(u),i){case"html":if(i=o.documentElement,!i)throw Error(n(452));return i;case"head":if(i=o.head,!i)throw Error(n(453));return i;case"body":if(i=o.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function bu(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);bm(i)}var On=new Map,Rk=new Set;function Jd(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ra=K.d;K.d={f:_$,r:S$,D:k$,C:j$,L:E$,m:O$,X:A$,S:N$,M:T$};function _$(){var i=Ra.f(),o=Hd();return i||o}function S$(i){var o=so(i);o!==null&&o.tag===5&&o.type==="form"?J_(o):Ra.r(i)}var zo=typeof document>"u"?null:document;function $k(i,o,u){var h=zo;if(h&&typeof o=="string"&&o){var b=bn(o);b='link[rel="'+i+'"][href="'+b+'"]',typeof u=="string"&&(b+='[crossorigin="'+u+'"]'),Rk.has(b)||(Rk.add(b),i={rel:i,crossOrigin:u,href:o},h.querySelector(b)===null&&(o=h.createElement("link"),nr(o,"link",i),Zt(o),h.head.appendChild(o)))}}function k$(i){Ra.D(i),$k("dns-prefetch",i,null)}function j$(i,o){Ra.C(i,o),$k("preconnect",i,o)}function E$(i,o,u){Ra.L(i,o,u);var h=zo;if(h&&i&&o){var b='link[rel="preload"][as="'+bn(o)+'"]';o==="image"&&u&&u.imageSrcSet?(b+='[imagesrcset="'+bn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(b+='[imagesizes="'+bn(u.imageSizes)+'"]')):b+='[href="'+bn(i)+'"]';var w=b;switch(o){case"style":w=Uo(i);break;case"script":w=Bo(i)}On.has(w)||(i=g({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:i,as:o},u),On.set(w,i),h.querySelector(b)!==null||o==="style"&&h.querySelector(xu(w))||o==="script"&&h.querySelector(wu(w))||(o=h.createElement("link"),nr(o,"link",i),Zt(o),h.head.appendChild(o)))}}function O$(i,o){Ra.m(i,o);var u=zo;if(u&&i){var h=o&&typeof o.as=="string"?o.as:"script",b='link[rel="modulepreload"][as="'+bn(h)+'"][href="'+bn(i)+'"]',w=b;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Bo(i)}if(!On.has(w)&&(i=g({rel:"modulepreload",href:i},o),On.set(w,i),u.querySelector(b)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(wu(w)))return}h=u.createElement("link"),nr(h,"link",i),Zt(h),u.head.appendChild(h)}}}function N$(i,o,u){Ra.S(i,o,u);var h=zo;if(h&&i){var b=oo(h).hoistableStyles,w=Uo(i);o=o||"default";var O=b.get(w);if(!O){var D={loading:0,preload:null};if(O=h.querySelector(xu(w)))D.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":o},u),(u=On.get(w))&&yg(i,u);var z=O=h.createElement("link");Zt(z),nr(z,"link",i),z._p=new Promise(function(G,ie){z.onload=G,z.onerror=ie}),z.addEventListener("load",function(){D.loading|=1}),z.addEventListener("error",function(){D.loading|=2}),D.loading|=4,Qd(O,o,h)}O={type:"stylesheet",instance:O,count:1,state:D},b.set(w,O)}}}function A$(i,o){Ra.X(i,o);var u=zo;if(u&&i){var h=oo(u).hoistableScripts,b=Bo(i),w=h.get(b);w||(w=u.querySelector(wu(b)),w||(i=g({src:i,async:!0},o),(o=On.get(b))&&bg(i,o),w=u.createElement("script"),Zt(w),nr(w,"link",i),u.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(b,w))}}function T$(i,o){Ra.M(i,o);var u=zo;if(u&&i){var h=oo(u).hoistableScripts,b=Bo(i),w=h.get(b);w||(w=u.querySelector(wu(b)),w||(i=g({src:i,async:!0,type:"module"},o),(o=On.get(b))&&bg(i,o),w=u.createElement("script"),Zt(w),nr(w,"link",i),u.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(b,w))}}function Lk(i,o,u,h){var b=(b=re.current)?Jd(b):null;if(!b)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Uo(u.href),u=oo(b).hoistableStyles,h=u.get(o),h||(h={type:"style",instance:null,count:0,state:null},u.set(o,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=Uo(u.href);var w=oo(b).hoistableStyles,O=w.get(i);if(O||(b=b.ownerDocument||b,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(i,O),(w=b.querySelector(xu(i)))&&!w._p&&(O.instance=w,O.state.loading=5),On.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},On.set(i,u),w||C$(b,i,u,O.state))),o&&h===null)throw Error(n(528,""));return O}if(o&&h!==null)throw Error(n(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Bo(u),u=oo(b).hoistableScripts,h=u.get(o),h||(h={type:"script",instance:null,count:0,state:null},u.set(o,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function Uo(i){return'href="'+bn(i)+'"'}function xu(i){return'link[rel="stylesheet"]['+i+"]"}function Ik(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function C$(i,o,u,h){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(o=i.createElement("link"),h.preload=o,o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),nr(o,"link",u),Zt(o),i.head.appendChild(o))}function Bo(i){return'[src="'+bn(i)+'"]'}function wu(i){return"script[async]"+i}function zk(i,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var h=i.querySelector('style[data-href~="'+bn(u.href)+'"]');if(h)return o.instance=h,Zt(h),h;var b=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),Zt(h),nr(h,"style",b),Qd(h,u.precedence,i),o.instance=h;case"stylesheet":b=Uo(u.href);var w=i.querySelector(xu(b));if(w)return o.state.loading|=4,o.instance=w,Zt(w),w;h=Ik(u),(b=On.get(b))&&yg(h,b),w=(i.ownerDocument||i).createElement("link"),Zt(w);var O=w;return O._p=new Promise(function(D,z){O.onload=D,O.onerror=z}),nr(w,"link",h),o.state.loading|=4,Qd(w,u.precedence,i),o.instance=w;case"script":return w=Bo(u.src),(b=i.querySelector(wu(w)))?(o.instance=b,Zt(b),b):(h=u,(b=On.get(w))&&(h=g({},u),bg(h,b)),i=i.ownerDocument||i,b=i.createElement("script"),Zt(b),nr(b,"link",h),i.head.appendChild(b),o.instance=b);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(h=o.instance,o.state.loading|=4,Qd(h,u.precedence,i));return o.instance}function Qd(i,o,u){for(var h=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=h.length?h[h.length-1]:null,w=b,O=0;O<h.length;O++){var D=h[O];if(D.dataset.precedence===o)w=D;else if(w!==b)break}w?w.parentNode.insertBefore(i,w.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(i,o.firstChild))}function yg(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function bg(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var ef=null;function Uk(i,o,u){if(ef===null){var h=new Map,b=ef=new Map;b.set(u,h)}else b=ef,h=b.get(u),h||(h=new Map,b.set(u,h));if(h.has(i))return h;for(h.set(i,null),u=u.getElementsByTagName(i),b=0;b<u.length;b++){var w=u[b];if(!(w[Ll]||w[Qt]||i==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var O=w.getAttribute(o)||"";O=i+O;var D=h.get(O);D?D.push(w):h.set(O,[w])}}return h}function Bk(i,o,u){i=i.ownerDocument||i,i.head.insertBefore(u,o==="title"?i.querySelector("head > title"):null)}function P$(i,o,u){if(u===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function qk(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function D$(i,o,u,h){if(u.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var b=Uo(h.href),w=o.querySelector(xu(b));if(w){o=w._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=tf.bind(i),o.then(i,i)),u.state.loading|=4,u.instance=w,Zt(w);return}w=o.ownerDocument||o,h=Ik(h),(b=On.get(b))&&yg(h,b),w=w.createElement("link"),Zt(w);var O=w;O._p=new Promise(function(D,z){O.onload=D,O.onerror=z}),nr(w,"link",h),u.instance=w}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(i.count++,u=tf.bind(i),o.addEventListener("load",u),o.addEventListener("error",u))}}var xg=0;function M$(i,o){return i.stylesheets&&i.count===0&&nf(i,i.stylesheets),0<i.count||0<i.imgCount?function(u){var h=setTimeout(function(){if(i.stylesheets&&nf(i,i.stylesheets),i.unsuspend){var w=i.unsuspend;i.unsuspend=null,w()}},6e4+o);0<i.imgBytes&&xg===0&&(xg=62500*m$());var b=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&nf(i,i.stylesheets),i.unsuspend)){var w=i.unsuspend;i.unsuspend=null,w()}},(i.imgBytes>xg?50:800)+o);return i.unsuspend=u,function(){i.unsuspend=null,clearTimeout(h),clearTimeout(b)}}:null}function tf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)nf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var rf=null;function nf(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,rf=new Map,o.forEach(R$,i),rf=null,tf.call(i))}function R$(i,o){if(!(o.state.loading&4)){var u=rf.get(i);if(u)var h=u.get(null);else{u=new Map,rf.set(i,u);for(var b=i.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<b.length;w++){var O=b[w];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(u.set(O.dataset.precedence,O),h=O)}h&&u.set(null,h)}b=o.instance,O=b.getAttribute("data-precedence"),w=u.get(O)||h,w===h&&u.set(null,b),u.set(O,b),this.count++,h=tf.bind(this),b.addEventListener("load",h),b.addEventListener("error",h),w?w.parentNode.insertBefore(b,w.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(b,i.firstChild)),o.state.loading|=4}}var _u={$$typeof:E,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function $$(i,o,u,h,b,w,O,D,z){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pm(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pm(0),this.hiddenUpdates=pm(null),this.identifierPrefix=h,this.onUncaughtError=b,this.onCaughtError=w,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function Hk(i,o,u,h,b,w,O,D,z,G,ie,le){return i=new $$(i,o,u,O,z,G,ie,le,D),o=1,w===!0&&(o|=24),w=Wr(3,null,null,o),i.current=w,w.stateNode=i,o=Qm(),o.refCount++,i.pooledCache=o,o.refCount++,w.memoizedState={element:h,isDehydrated:u,cache:o},np(w),i}function Fk(i){return i?(i=yo,i):yo}function Vk(i,o,u,h,b,w){b=Fk(b),h.context===null?h.context=b:h.pendingContext=b,h=bi(o),h.payload={element:u},w=w===void 0?null:w,w!==null&&(h.callback=w),u=xi(i,h,o),u!==null&&(Ur(u,i,o),eu(u,i,o))}function Kk(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function wg(i,o){Kk(i,o),(i=i.alternate)&&Kk(i,o)}function Zk(i){if(i.tag===13||i.tag===31){var o=ss(i,67108864);o!==null&&Ur(o,i,67108864),wg(i,67108864)}}function Gk(i){if(i.tag===13||i.tag===31){var o=tn();o=gm(o);var u=ss(i,o);u!==null&&Ur(u,i,o),wg(i,o)}}var af=!0;function L$(i,o,u,h){var b=U.T;U.T=null;var w=K.p;try{K.p=2,_g(i,o,u,h)}finally{K.p=w,U.T=b}}function I$(i,o,u,h){var b=U.T;U.T=null;var w=K.p;try{K.p=8,_g(i,o,u,h)}finally{K.p=w,U.T=b}}function _g(i,o,u,h){if(af){var b=Sg(h);if(b===null)lg(i,o,h,sf,u),Wk(i,h);else if(U$(b,i,o,u,h))h.stopPropagation();else if(Wk(i,h),o&4&&-1<z$.indexOf(i)){for(;b!==null;){var w=so(b);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var O=ts(w.pendingLanes);if(O!==0){var D=w;for(D.pendingLanes|=2,D.entangledLanes|=2;O;){var z=1<<31-It(O);D.entanglements[1]|=z,O&=~z}na(w),(Ze&6)===0&&(Bd=Ye()+500,gu(0))}}break;case 31:case 13:D=ss(w,2),D!==null&&Ur(D,w,2),Hd(),wg(w,2)}if(w=Sg(h),w===null&&lg(i,o,h,sf,u),w===b)break;b=w}b!==null&&h.stopPropagation()}else lg(i,o,h,null,u)}}function Sg(i){return i=jm(i),kg(i)}var sf=null;function kg(i){if(sf=null,i=io(i),i!==null){var o=s(i);if(o===null)i=null;else{var u=o.tag;if(u===13){if(i=l(o),i!==null)return i;i=null}else if(u===31){if(i=c(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return sf=i,null}function Yk(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gn()){case pr:return 2;case ga:return 8;case bt:case Lt:return 32;case gr:return 268435456;default:return 32}default:return 32}}var jg=!1,Ci=null,Pi=null,Di=null,Su=new Map,ku=new Map,Mi=[],z$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Wk(i,o){switch(i){case"focusin":case"focusout":Ci=null;break;case"dragenter":case"dragleave":Pi=null;break;case"mouseover":case"mouseout":Di=null;break;case"pointerover":case"pointerout":Su.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":ku.delete(o.pointerId)}}function ju(i,o,u,h,b,w){return i===null||i.nativeEvent!==w?(i={blockedOn:o,domEventName:u,eventSystemFlags:h,nativeEvent:w,targetContainers:[b]},o!==null&&(o=so(o),o!==null&&Zk(o)),i):(i.eventSystemFlags|=h,o=i.targetContainers,b!==null&&o.indexOf(b)===-1&&o.push(b),i)}function U$(i,o,u,h,b){switch(o){case"focusin":return Ci=ju(Ci,i,o,u,h,b),!0;case"dragenter":return Pi=ju(Pi,i,o,u,h,b),!0;case"mouseover":return Di=ju(Di,i,o,u,h,b),!0;case"pointerover":var w=b.pointerId;return Su.set(w,ju(Su.get(w)||null,i,o,u,h,b)),!0;case"gotpointercapture":return w=b.pointerId,ku.set(w,ju(ku.get(w)||null,i,o,u,h,b)),!0}return!1}function Xk(i){var o=io(i.target);if(o!==null){var u=s(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){i.blockedOn=o,d1(i.priority,function(){Gk(u)});return}}else if(o===31){if(o=c(u),o!==null){i.blockedOn=o,d1(i.priority,function(){Gk(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function of(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=Sg(i.nativeEvent);if(u===null){u=i.nativeEvent;var h=new u.constructor(u.type,u);km=h,u.target.dispatchEvent(h),km=null}else return o=so(u),o!==null&&Zk(o),i.blockedOn=u,!1;o.shift()}return!0}function Jk(i,o,u){of(i)&&u.delete(o)}function B$(){jg=!1,Ci!==null&&of(Ci)&&(Ci=null),Pi!==null&&of(Pi)&&(Pi=null),Di!==null&&of(Di)&&(Di=null),Su.forEach(Jk),ku.forEach(Jk)}function lf(i,o){i.blockedOn===o&&(i.blockedOn=null,jg||(jg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,B$)))}var uf=null;function Qk(i){uf!==i&&(uf=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){uf===i&&(uf=null);for(var o=0;o<i.length;o+=3){var u=i[o],h=i[o+1],b=i[o+2];if(typeof h!="function"){if(kg(h||u)===null)continue;break}var w=so(u);w!==null&&(i.splice(o,3),o-=3,Sp(w,{pending:!0,data:b,method:u.method,action:h},h,b))}}))}function qo(i){function o(z){return lf(z,i)}Ci!==null&&lf(Ci,i),Pi!==null&&lf(Pi,i),Di!==null&&lf(Di,i),Su.forEach(o),ku.forEach(o);for(var u=0;u<Mi.length;u++){var h=Mi[u];h.blockedOn===i&&(h.blockedOn=null)}for(;0<Mi.length&&(u=Mi[0],u.blockedOn===null);)Xk(u),u.blockedOn===null&&Mi.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(h=0;h<u.length;h+=3){var b=u[h],w=u[h+1],O=b[Mr]||null;if(typeof w=="function")O||Qk(u);else if(O){var D=null;if(w&&w.hasAttribute("formAction")){if(b=w,O=w[Mr]||null)D=O.formAction;else if(kg(b)!==null)continue}else D=O.action;typeof D=="function"?u[h+1]=D:(u.splice(h,3),h-=3),Qk(u)}}}function e2(){function i(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(O){return b=O})},focusReset:"manual",scroll:"manual"})}function o(){b!==null&&(b(),b=null),h||setTimeout(u,20)}function u(){if(!h&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,b=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){h=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),b!==null&&(b(),b=null)}}}function Eg(i){this._internalRoot=i}cf.prototype.render=Eg.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));var u=o.current,h=tn();Vk(u,h,i,o,null,null)},cf.prototype.unmount=Eg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Vk(i.current,2,null,i,null,null),Hd(),o[ao]=null}};function cf(i){this._internalRoot=i}cf.prototype.unstable_scheduleHydration=function(i){if(i){var o=c1();i={blockedOn:null,target:i,priority:o};for(var u=0;u<Mi.length&&o!==0&&o<Mi[u].priority;u++);Mi.splice(u,0,i),u===0&&Xk(i)}};var t2=t.version;if(t2!=="19.2.1")throw Error(n(527,t2,"19.2.1"));K.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=f(o),i=i!==null?m(i):null,i=i===null?null:i.stateNode,i};var q$={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var df=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!df.isDisabled&&df.supportsFiber)try{va=df.inject(q$),kr=df}catch{}}return Ou.createRoot=function(i,o){if(!a(i))throw Error(n(299));var u=!1,h="",b=lS,w=uS,O=cS;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(b=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(O=o.onRecoverableError)),o=Hk(i,1,!1,null,null,u,h,null,b,w,O,e2),i[ao]=o.current,og(i),new Eg(o)},Ou.hydrateRoot=function(i,o,u){if(!a(i))throw Error(n(299));var h=!1,b="",w=lS,O=uS,D=cS,z=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(b=u.identifierPrefix),u.onUncaughtError!==void 0&&(w=u.onUncaughtError),u.onCaughtError!==void 0&&(O=u.onCaughtError),u.onRecoverableError!==void 0&&(D=u.onRecoverableError),u.formState!==void 0&&(z=u.formState)),o=Hk(i,1,!0,o,u??null,h,b,z,w,O,D,e2),o.context=Fk(null),u=o.current,h=tn(),h=gm(h),b=bi(h),b.callback=null,xi(u,b,h),u=h,o.current.lanes=u,$l(o,u),na(o),i[ao]=o.current,og(i),new cf(o)},Ou.version="19.2.1",Ou}var d2;function X$(){if(d2)return Ag.exports;d2=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Ag.exports=W$(),Ag.exports}var J$=X$();function Q$({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const ex=x.forwardRef(Q$);function e6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const t6=x.forwardRef(e6);function r6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m12.75 15 3-3m0 0-3-3m3 3h-7.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const n6=x.forwardRef(r6);function a6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const i6=x.forwardRef(a6);function s6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))}const o6=x.forwardRef(s6);function l6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"}))}const u6=x.forwardRef(l6);function c6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"}))}const P5=x.forwardRef(c6);function d6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const f6=x.forwardRef(d6);function h6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const qa=x.forwardRef(h6);function m6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const tx=x.forwardRef(m6);function p6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const rx=x.forwardRef(p6);function g6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"}))}const nx=x.forwardRef(g6);function v6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"}))}const f2=x.forwardRef(v6);function y6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"}))}const jy=x.forwardRef(y6);function b6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const c0=x.forwardRef(b6);function x6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9.75v6.75m0 0-3-3m3 3 3-3m-8.25 6a4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H6.75Z"}))}const w6=x.forwardRef(x6);function _6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15a4.5 4.5 0 0 0 4.5 4.5H18a3.75 3.75 0 0 0 1.332-7.257 3 3 0 0 0-3.758-3.848 5.25 5.25 0 0 0-10.233 2.33A4.502 4.502 0 0 0 2.25 15Z"}))}const S6=x.forwardRef(_6);function k6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const j6=x.forwardRef(k6);function E6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 7.5-9-5.25L3 7.5m18 0-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9"}))}const ax=x.forwardRef(E6);function O6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const N6=x.forwardRef(O6);function A6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const D5=x.forwardRef(A6);function T6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const C6=x.forwardRef(T6);function P6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const D6=x.forwardRef(P6);function M6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const Dg=x.forwardRef(M6);function R6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const $6=x.forwardRef(R6);function L6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"}))}const I6=x.forwardRef(L6);function z6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const Ju=x.forwardRef(z6);function U6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const B6=x.forwardRef(U6);function q6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const d0=x.forwardRef(q6);function H6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0 1 10.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0 .229 2.523a1.125 1.125 0 0 1-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0 0 21 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 0 0-1.913-.247M6.34 18H5.25A2.25 2.25 0 0 1 3 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 0 1 1.913-.247m10.5 0a48.536 48.536 0 0 0-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5Zm-3 0h.008v.008H15V10.5Z"}))}const F6=x.forwardRef(H6);function V6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 3.75 9.375v-4.5ZM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 0 1-1.125-1.125v-4.5ZM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 13.5 9.375v-4.5Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 6.75h.75v.75h-.75v-.75ZM6.75 16.5h.75v.75h-.75v-.75ZM16.5 6.75h.75v.75h-.75v-.75ZM13.5 13.5h.75v.75h-.75v-.75ZM13.5 19.5h.75v.75h-.75v-.75ZM19.5 13.5h.75v.75h-.75v-.75ZM19.5 19.5h.75v.75h-.75v-.75ZM16.5 16.5h.75v.75h-.75v-.75Z"}))}const K6=x.forwardRef(V6);function Z6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const M5=x.forwardRef(Z6);function G6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"}))}const R5=x.forwardRef(G6);function Y6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 0 1-1.125-1.125M3.375 19.5h7.5c.621 0 1.125-.504 1.125-1.125m-9.75 0V5.625m0 12.75v-1.5c0-.621.504-1.125 1.125-1.125m18.375 2.625V5.625m0 12.75c0 .621-.504 1.125-1.125 1.125m1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125m0 3.75h-7.5A1.125 1.125 0 0 1 12 18.375m9.75-12.75c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125m19.5 0v1.5c0 .621-.504 1.125-1.125 1.125M2.25 5.625v1.5c0 .621.504 1.125 1.125 1.125m0 0h17.25m-17.25 0h7.5c.621 0 1.125.504 1.125 1.125M3.375 8.25c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125m17.25-3.75h-7.5c-.621 0-1.125.504-1.125 1.125m8.625-1.125c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125M12 10.875v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 10.875c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125M13.125 12h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125M20.625 12c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5M12 14.625v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 14.625c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125m0 1.5v-1.5m0 0c0-.621.504-1.125 1.125-1.125m0 0h7.5"}))}const $5=x.forwardRef(Y6);function W6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Ya=x.forwardRef(W6);function X6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 0 1-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 0 0-3.213-9.193 2.056 2.056 0 0 0-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 0 0-10.026 0 1.106 1.106 0 0 0-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"}))}const dn=x.forwardRef(X6);function J6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const Q6=x.forwardRef(J6);function eL({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Gs=x.forwardRef(eL);const tL=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rL=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),h2=e=>{const t=rL(e);return t.charAt(0).toUpperCase()+t.slice(1)},L5=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),nL=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var aL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const iL=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:l,...c},d)=>x.createElement("svg",{ref:d,...aL,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:L5("lucide",a),...!s&&!nL(c)&&{"aria-hidden":"true"},...c},[...l.map(([f,m])=>x.createElement(f,m)),...Array.isArray(s)?s:[s]]));const _c=(e,t)=>{const r=x.forwardRef(({className:n,...a},s)=>x.createElement(iL,{ref:s,iconNode:t,className:L5(`lucide-${tL(h2(e))}`,`lucide-${e}`,n),...a}));return r.displayName=h2(e),r};const sL=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],oL=_c("boxes",sL);const lL=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],uL=_c("calendar-clock",lL);const cL=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],dL=_c("crown",cL);const fL=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Zf=_c("package",fL);const hL=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],mL=_c("truck",hL);var $a={},hf={},Ey=function(e,t){return Ey=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},Ey(e,t)};function I5(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ey(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var ih=function(){return ih=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},ih.apply(this,arguments)};function xl(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function z5(e,t,r,n){var a=arguments.length,s=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(a<3?l(s):a>3?l(t,r,s):l(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s}function U5(e,t){return function(r,n){t(r,n,e)}}function B5(e,t,r,n,a,s){function l(j){if(j!==void 0&&typeof j!="function")throw new TypeError("Function expected");return j}for(var c=n.kind,d=c==="getter"?"get":c==="setter"?"set":"value",f=!t&&e?n.static?e:e.prototype:null,m=t||(f?Object.getOwnPropertyDescriptor(f,n.name):{}),g,v=!1,y=r.length-1;y>=0;y--){var S={};for(var k in n)S[k]=k==="access"?{}:n[k];for(var k in n.access)S.access[k]=n.access[k];S.addInitializer=function(j){if(v)throw new TypeError("Cannot add initializers after decoration has completed");s.push(l(j||null))};var _=(0,r[y])(c==="accessor"?{get:m.get,set:m.set}:m[d],S);if(c==="accessor"){if(_===void 0)continue;if(_===null||typeof _!="object")throw new TypeError("Object expected");(g=l(_.get))&&(m.get=g),(g=l(_.set))&&(m.set=g),(g=l(_.init))&&a.unshift(g)}else(g=l(_))&&(c==="field"?a.unshift(g):m[d]=g)}f&&Object.defineProperty(f,n.name,m),v=!0}function q5(e,t,r){for(var n=arguments.length>2,a=0;a<t.length;a++)r=n?t[a].call(e,r):t[a].call(e);return n?r:void 0}function H5(e){return typeof e=="symbol"?e:"".concat(e)}function F5(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function V5(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function ye(e,t,r,n){function a(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function c(m){try{f(n.next(m))}catch(g){l(g)}}function d(m){try{f(n.throw(m))}catch(g){l(g)}}function f(m){m.done?s(m.value):a(m.value).then(c,d)}f((n=n.apply(e,t||[])).next())})}function K5(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,a,s,l=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return l.next=c(0),l.throw=c(1),l.return=c(2),typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(f){return function(m){return d([f,m])}}function d(f){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,f[0]&&(r=0)),r;)try{if(n=1,a&&(s=f[0]&2?a.return:f[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,f[1])).done)return s;switch(a=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,a=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){r.label=f[1];break}if(f[0]===6&&r.label<s[1]){r.label=s[1],s=f;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(f);break}s[2]&&r.ops.pop(),r.trys.pop();continue}f=t.call(e,r)}catch(m){f=[6,m],a=0}finally{n=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var f0=Object.create?(function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]});function Z5(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&f0(t,e,r)}function sh(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ix(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,s=[],l;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(c){l={error:c}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(l)throw l.error}}return s}function G5(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ix(arguments[t]));return e}function Y5(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var s=arguments[t],l=0,c=s.length;l<c;l++,a++)n[a]=s[l];return n}function W5(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function ul(e){return this instanceof ul?(this.v=e,this):new ul(e)}function X5(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,s=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",l),a[Symbol.asyncIterator]=function(){return this},a;function l(y){return function(S){return Promise.resolve(S).then(y,g)}}function c(y,S){n[y]&&(a[y]=function(k){return new Promise(function(_,j){s.push([y,k,_,j])>1||d(y,k)})},S&&(a[y]=S(a[y])))}function d(y,S){try{f(n[y](S))}catch(k){v(s[0][3],k)}}function f(y){y.value instanceof ul?Promise.resolve(y.value.v).then(m,g):v(s[0][2],y)}function m(y){d("next",y)}function g(y){d("throw",y)}function v(y,S){y(S),s.shift(),s.length&&d(s[0][0],s[0][1])}}function J5(e){var t,r;return t={},n("next"),n("throw",function(a){throw a}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(a,s){t[a]=e[a]?function(l){return(r=!r)?{value:ul(e[a](l)),done:!1}:s?s(l):l}:s}}function Q5(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof sh=="function"?sh(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(l){return new Promise(function(c,d){l=e[s](l),a(c,d,l.done,l.value)})}}function a(s,l,c,d){Promise.resolve(d).then(function(f){s({value:f,done:c})},l)}}function eA(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var pL=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},Oy=function(e){return Oy=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Oy(e)};function tA(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Oy(e),n=0;n<r.length;n++)r[n]!=="default"&&f0(t,e,r[n]);return pL(t,e),t}function rA(e){return e&&e.__esModule?e:{default:e}}function nA(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function aA(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r}function iA(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function sA(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(a=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var gL=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function oA(e){function t(s){e.error=e.hasError?new gL(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var r,n=0;function a(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(a);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(a,function(l){return t(l),a()})}else n|=1}catch(l){t(l)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return a()}function lA(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,a,s,l){return n?t?".jsx":".js":a&&(!s||!l)?r:a+s+"."+l.toLowerCase()+"js"}):e}const vL={__extends:I5,__assign:ih,__rest:xl,__decorate:z5,__param:U5,__esDecorate:B5,__runInitializers:q5,__propKey:H5,__setFunctionName:F5,__metadata:V5,__awaiter:ye,__generator:K5,__createBinding:f0,__exportStar:Z5,__values:sh,__read:ix,__spread:G5,__spreadArrays:Y5,__spreadArray:W5,__await:ul,__asyncGenerator:X5,__asyncDelegator:J5,__asyncValues:Q5,__makeTemplateObject:eA,__importStar:tA,__importDefault:rA,__classPrivateFieldGet:nA,__classPrivateFieldSet:aA,__classPrivateFieldIn:iA,__addDisposableResource:sA,__disposeResources:oA,__rewriteRelativeImportExtension:lA},yL=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:sA,get __assign(){return ih},__asyncDelegator:J5,__asyncGenerator:X5,__asyncValues:Q5,__await:ul,__awaiter:ye,__classPrivateFieldGet:nA,__classPrivateFieldIn:iA,__classPrivateFieldSet:aA,__createBinding:f0,__decorate:z5,__disposeResources:oA,__esDecorate:B5,__exportStar:Z5,__extends:I5,__generator:K5,__importDefault:rA,__importStar:tA,__makeTemplateObject:eA,__metadata:V5,__param:U5,__propKey:H5,__read:ix,__rest:xl,__rewriteRelativeImportExtension:lA,__runInitializers:q5,__setFunctionName:F5,__spread:G5,__spreadArray:W5,__spreadArrays:Y5,__values:sh,default:vL},Symbol.toStringTag,{value:"Module"})),bL=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);let h0=class extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}},uA=class extends h0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},Ny=class extends h0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},Ay=class extends h0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var oh;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(oh||(oh={}));class xL{constructor(t,{headers:r={},customFetch:n,region:a=oh.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=bL(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return ye(this,arguments,void 0,function*(r,n={}){var a;let s,l;try{const{headers:c,method:d,body:f,signal:m,timeout:g}=n;let v={},{region:y}=n;y||(y=this.region);const S=new URL(`${this.url}/${r}`);y&&y!=="any"&&(v["x-region"]=y,S.searchParams.set("forceFunctionRegion",y));let k;f&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",k=f):typeof f=="string"?(v["Content-Type"]="text/plain",k=f):typeof FormData<"u"&&f instanceof FormData?k=f:(v["Content-Type"]="application/json",k=JSON.stringify(f)):k=f;let _=m;g&&(l=new AbortController,s=setTimeout(()=>l.abort(),g),m?(_=l.signal,m.addEventListener("abort",()=>l.abort())):_=l.signal);const j=yield this.fetch(S.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),c),body:k,signal:_}).catch(A=>{throw new uA(A)}),N=j.headers.get("x-relay-error");if(N&&N==="true")throw new Ny(j);if(!j.ok)throw new Ay(j);let E=((a=j.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),C;return E==="application/json"?C=yield j.json():E==="application/octet-stream"||E==="application/pdf"?C=yield j.blob():E==="text/event-stream"?C=j:E==="multipart/form-data"?C=yield j.formData():C=yield j.text(),{data:C,error:null,response:j}}catch(c){return{data:null,error:c,response:c instanceof Ay||c instanceof Ny?c.context:void 0}}finally{s&&clearTimeout(s)}})}}const wL=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return oh},FunctionsClient:xL,FunctionsError:h0,FunctionsFetchError:uA,FunctionsHttpError:Ay,FunctionsRelayError:Ny},Symbol.toStringTag,{value:"Module"})),cA=wc(wL);var yr={};const wl=wc(yL);var mf={},pf={},gf={},vf={},yf={},bf={},m2;function dA(){if(m2)return bf;m2=1,Object.defineProperty(bf,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return bf.default=e,bf}var p2;function fA(){if(p2)return yf;p2=1,Object.defineProperty(yf,"__esModule",{value:!0});const t=wl.__importDefault(dA());let r=class{constructor(a){var s,l;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(s=a.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=a.signal,this.isMaybeSingle=(l=a.isMaybeSingle)!==null&&l!==void 0?l:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,s){return this.headers=new Headers(this.headers),this.headers.set(a,s),this}then(a,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var f,m,g,v;let y=null,S=null,k=null,_=d.status,j=d.statusText;if(d.ok){if(this.method!=="HEAD"){const A=await d.text();A===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?S=A:S=JSON.parse(A))}const E=(m=this.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),C=(g=d.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");E&&C&&C.length>1&&(k=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(y={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,k=null,_=406,j="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const E=await d.text();try{y=JSON.parse(E),Array.isArray(y)&&d.status===404&&(S=[],y=null,_=200,j="OK")}catch{d.status===404&&E===""?(_=204,j="No Content"):y={message:E}}if(y&&this.isMaybeSingle&&(!((v=y?.details)===null||v===void 0)&&v.includes("0 rows"))&&(y=null,_=200,j="OK"),y&&this.shouldThrowOnError)throw new t.default(y)}return{error:y,data:S,count:k,status:_,statusText:j}});return this.shouldThrowOnError||(c=c.catch(d=>{var f,m,g,v,y,S;let k="";const _=d?.cause;if(_){const j=(f=_?.message)!==null&&f!==void 0?f:"",N=(m=_?.code)!==null&&m!==void 0?m:"";k=`${(g=d?.name)!==null&&g!==void 0?g:"FetchError"}: ${d?.message}`,k+=`

Caused by: ${(v=_?.name)!==null&&v!==void 0?v:"Error"}: ${j}`,N&&(k+=` (${N})`),_?.stack&&(k+=`
${_.stack}`)}else k=(y=d?.stack)!==null&&y!==void 0?y:"";return{error:{message:`${(S=d?.name)!==null&&S!==void 0?S:"FetchError"}: ${d?.message}`,details:k,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(a,s)}returns(){return this}overrideTypes(){return this}};return yf.default=r,yf}var g2;function hA(){if(g2)return vf;g2=1,Object.defineProperty(vf,"__esModule",{value:!0});const t=wl.__importDefault(fA());let r=class extends t.default{select(a){let s=!1;const l=(a??"*").split("").map(c=>/\s/.test(c)&&!s?"":(c==='"'&&(s=!s),c)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:s=!0,nullsFirst:l,foreignTable:c,referencedTable:d=c}={}){const f=d?`${d}.order`:"order",m=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${m?`${m},`:""}${a}.${s?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:s,referencedTable:l=s}={}){const c=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${a}`),this}range(a,s,{foreignTable:l,referencedTable:c=l}={}){const d=typeof c>"u"?"offset":`${c}.offset`,f=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${a}`),this.url.searchParams.set(f,`${s-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:s=!1,settings:l=!1,buffers:c=!1,wal:d=!1,format:f="text"}={}){var m;const g=[a?"analyze":null,s?"verbose":null,l?"settings":null,c?"buffers":null,d?"wal":null].filter(Boolean).join("|"),v=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${v}"; options=${g};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}};return vf.default=r,vf}var v2;function sx(){if(v2)return gf;v2=1,Object.defineProperty(gf,"__esModule",{value:!0});const t=wl.__importDefault(hA()),r=new RegExp("[,()]");let n=class extends t.default{eq(s,l){return this.url.searchParams.append(s,`eq.${l}`),this}neq(s,l){return this.url.searchParams.append(s,`neq.${l}`),this}gt(s,l){return this.url.searchParams.append(s,`gt.${l}`),this}gte(s,l){return this.url.searchParams.append(s,`gte.${l}`),this}lt(s,l){return this.url.searchParams.append(s,`lt.${l}`),this}lte(s,l){return this.url.searchParams.append(s,`lte.${l}`),this}like(s,l){return this.url.searchParams.append(s,`like.${l}`),this}likeAllOf(s,l){return this.url.searchParams.append(s,`like(all).{${l.join(",")}}`),this}likeAnyOf(s,l){return this.url.searchParams.append(s,`like(any).{${l.join(",")}}`),this}ilike(s,l){return this.url.searchParams.append(s,`ilike.${l}`),this}ilikeAllOf(s,l){return this.url.searchParams.append(s,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(s,l){return this.url.searchParams.append(s,`ilike(any).{${l.join(",")}}`),this}regexMatch(s,l){return this.url.searchParams.append(s,`match.${l}`),this}regexIMatch(s,l){return this.url.searchParams.append(s,`imatch.${l}`),this}is(s,l){return this.url.searchParams.append(s,`is.${l}`),this}isDistinct(s,l){return this.url.searchParams.append(s,`isdistinct.${l}`),this}in(s,l){const c=Array.from(new Set(l)).map(d=>typeof d=="string"&&r.test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(s,`in.(${c})`),this}contains(s,l){return typeof l=="string"?this.url.searchParams.append(s,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(s,`cs.{${l.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(l)}`),this}containedBy(s,l){return typeof l=="string"?this.url.searchParams.append(s,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(s,`cd.{${l.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(l)}`),this}rangeGt(s,l){return this.url.searchParams.append(s,`sr.${l}`),this}rangeGte(s,l){return this.url.searchParams.append(s,`nxl.${l}`),this}rangeLt(s,l){return this.url.searchParams.append(s,`sl.${l}`),this}rangeLte(s,l){return this.url.searchParams.append(s,`nxr.${l}`),this}rangeAdjacent(s,l){return this.url.searchParams.append(s,`adj.${l}`),this}overlaps(s,l){return typeof l=="string"?this.url.searchParams.append(s,`ov.${l}`):this.url.searchParams.append(s,`ov.{${l.join(",")}}`),this}textSearch(s,l,{config:c,type:d}={}){let f="";d==="plain"?f="pl":d==="phrase"?f="ph":d==="websearch"&&(f="w");const m=c===void 0?"":`(${c})`;return this.url.searchParams.append(s,`${f}fts${m}.${l}`),this}match(s){return Object.entries(s).forEach(([l,c])=>{this.url.searchParams.append(l,`eq.${c}`)}),this}not(s,l,c){return this.url.searchParams.append(s,`not.${l}.${c}`),this}or(s,{foreignTable:l,referencedTable:c=l}={}){const d=c?`${c}.or`:"or";return this.url.searchParams.append(d,`(${s})`),this}filter(s,l,c){return this.url.searchParams.append(s,`${l}.${c}`),this}};return gf.default=n,gf}var y2;function mA(){if(y2)return pf;y2=1,Object.defineProperty(pf,"__esModule",{value:!0});const t=wl.__importDefault(sx());let r=class{constructor(a,{headers:s={},schema:l,fetch:c}){this.url=a,this.headers=new Headers(s),this.schema=l,this.fetch=c}select(a,s){const{head:l=!1,count:c}=s??{},d=l?"HEAD":"GET";let f=!1;const m=(a??"*").split("").map(g=>/\s/.test(g)&&!f?"":(g==='"'&&(f=!f),g)).join("");return this.url.searchParams.set("select",m),c&&this.headers.append("Prefer",`count=${c}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:s,defaultToNull:l=!0}={}){var c;const d="POST";if(s&&this.headers.append("Prefer",`count=${s}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const f=a.reduce((m,g)=>m.concat(Object.keys(g)),[]);if(f.length>0){const m=[...new Set(f)].map(g=>`"${g}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}upsert(a,{onConflict:s,ignoreDuplicates:l=!1,count:c,defaultToNull:d=!0}={}){var f;const m="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),c&&this.headers.append("Prefer",`count=${c}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const g=a.reduce((v,y)=>v.concat(Object.keys(y)),[]);if(g.length>0){const v=[...new Set(g)].map(y=>`"${y}"`);this.url.searchParams.set("columns",v.join(","))}}return new t.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(a,{count:s}={}){var l;const c="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:a}={}){var s;const l="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};return pf.default=r,pf}var b2;function _L(){if(b2)return mf;b2=1,Object.defineProperty(mf,"__esModule",{value:!0});const e=wl,t=e.__importDefault(mA()),r=e.__importDefault(sx());let n=class pA{constructor(s,{headers:l={},schema:c,fetch:d}={}){this.url=s,this.headers=new Headers(l),this.schemaName=c,this.fetch=d}from(s){if(!s||typeof s!="string"||s.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const l=new URL(`${this.url}/${s}`);return new t.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new pA(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,l={},{head:c=!1,get:d=!1,count:f}={}){var m;let g;const v=new URL(`${this.url}/rpc/${s}`);let y;c||d?(g=c?"HEAD":"GET",Object.entries(l).filter(([k,_])=>_!==void 0).map(([k,_])=>[k,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([k,_])=>{v.searchParams.append(k,_)})):(g="POST",y=l);const S=new Headers(this.headers);return f&&S.set("Prefer",`count=${f}`),new r.default({method:g,url:v,headers:S,schema:this.schemaName,body:y,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}};return mf.default=n,mf}var x2;function gA(){if(x2)return yr;x2=1,Object.defineProperty(yr,"__esModule",{value:!0}),yr.PostgrestError=yr.PostgrestBuilder=yr.PostgrestTransformBuilder=yr.PostgrestFilterBuilder=yr.PostgrestQueryBuilder=yr.PostgrestClient=void 0;const e=wl,t=e.__importDefault(_L());yr.PostgrestClient=t.default;const r=e.__importDefault(mA());yr.PostgrestQueryBuilder=r.default;const n=e.__importDefault(sx());yr.PostgrestFilterBuilder=n.default;const a=e.__importDefault(hA());yr.PostgrestTransformBuilder=a.default;const s=e.__importDefault(fA());yr.PostgrestBuilder=s.default;const l=e.__importDefault(dA());return yr.PostgrestError=l.default,yr.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:s.default,PostgrestError:l.default},yr}class vA{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const SL="2.87.1",kL=`realtime-js/${SL}`,yA="1.0.0",jL="2.0.0",w2=yA,Ty=1e4,EL=1e3,OL=100;var Os;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Os||(Os={}));var Dt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Dt||(Dt={}));var Hn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Hn||(Hn={}));var Cy;(function(e){e.websocket="websocket"})(Cy||(Cy={}));var Ns;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ns||(Ns={}));class NL{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},l=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(t,r,n){var a,s;const l=t.topic,c=(a=t.ref)!==null&&a!==void 0?a:"",d=(s=t.join_ref)!==null&&s!==void 0?s:"",f=t.payload.event,m=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},g=Object.keys(m).length===0?"":JSON.stringify(m);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`ref length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`metadata length ${g.length} exceeds maximum of 255`);const v=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+c.length+l.length+f.length+g.length,y=new ArrayBuffer(this.HEADER_LENGTH+v);let S=new DataView(y),k=0;S.setUint8(k++,this.KINDS.userBroadcastPush),S.setUint8(k++,d.length),S.setUint8(k++,c.length),S.setUint8(k++,l.length),S.setUint8(k++,f.length),S.setUint8(k++,g.length),S.setUint8(k++,r),Array.from(d,j=>S.setUint8(k++,j.charCodeAt(0))),Array.from(c,j=>S.setUint8(k++,j.charCodeAt(0))),Array.from(l,j=>S.setUint8(k++,j.charCodeAt(0))),Array.from(f,j=>S.setUint8(k++,j.charCodeAt(0))),Array.from(g,j=>S.setUint8(k++,j.charCodeAt(0)));var _=new Uint8Array(y.byteLength+n.byteLength);return _.set(new Uint8Array(y),0),_.set(new Uint8Array(n),y.byteLength),_.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,s,l,c,d]=n;return r({join_ref:a,ref:s,topic:l,event:c,payload:d})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),s=r.getUint8(2),l=r.getUint8(3),c=r.getUint8(4);let d=this.HEADER_LENGTH+4;const f=n.decode(t.slice(d,d+a));d=d+a;const m=n.decode(t.slice(d,d+s));d=d+s;const g=n.decode(t.slice(d,d+l));d=d+l;const v=t.slice(d,t.byteLength),y=c===this.JSON_ENCODING?JSON.parse(n.decode(v)):v,S={type:this.BROADCAST_EVENT,event:m,payload:y};return l>0&&(S.meta=JSON.parse(g)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class bA{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var at;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(at||(at={}));const _2=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((s,l)=>(s[l]=AL(l,e,t,a),s),{}):{}},AL=(e,t,r,n)=>{const a=t.find(c=>c.name===e),s=a?.type,l=r[e];return s&&!n.includes(s)?xA(s,l):Py(l)},xA=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return DL(t,r)}switch(e){case at.bool:return TL(t);case at.float4:case at.float8:case at.int2:case at.int4:case at.int8:case at.numeric:case at.oid:return CL(t);case at.json:case at.jsonb:return PL(t);case at.timestamp:return ML(t);case at.abstime:case at.date:case at.daterange:case at.int4range:case at.int8range:case at.money:case at.reltime:case at.text:case at.time:case at.timestamptz:case at.timetz:case at.tsrange:case at.tstzrange:return Py(t);default:return Py(t)}},Py=e=>e,TL=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},CL=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},PL=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},DL=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const l=e.slice(1,r);try{s=JSON.parse("["+l+"]")}catch{s=l?l.split(","):[]}return s.map(c=>xA(t,c))}return e},ML=e=>typeof e=="string"?e.replace(" ","T"):e,wA=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Mg{constructor(t,r,n={},a=Ty){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Dy;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Dy||(Dy={}));let _A=class Gf{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:s,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Gf.syncState(this.state,a,s,l),this.pendingDiffs.forEach(d=>{this.state=Gf.syncDiff(this.state,d,s,l)}),this.pendingDiffs=[],c()}),this.channel._on(n.diff,{},a=>{const{onJoin:s,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Gf.syncDiff(this.state,a,s,l),c())}),this.onJoin((a,s,l)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:s,newPresences:l})}),this.onLeave((a,s,l)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:s,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const s=this.cloneDeep(t),l=this.transformState(r),c={},d={};return this.map(s,(f,m)=>{l[f]||(d[f]=m)}),this.map(l,(f,m)=>{const g=s[f];if(g){const v=m.map(_=>_.presence_ref),y=g.map(_=>_.presence_ref),S=m.filter(_=>y.indexOf(_.presence_ref)<0),k=g.filter(_=>v.indexOf(_.presence_ref)<0);S.length>0&&(c[f]=S),k.length>0&&(d[f]=k)}else c[f]=m}),this.syncDiff(s,{joins:c,leaves:d},n,a)}static syncDiff(t,r,n,a){const{joins:s,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(s,(c,d)=>{var f;const m=(f=t[c])!==null&&f!==void 0?f:[];if(t[c]=this.cloneDeep(d),m.length>0){const g=t[c].map(y=>y.presence_ref),v=m.filter(y=>g.indexOf(y.presence_ref)<0);t[c].unshift(...v)}n(c,m,d)}),this.map(l,(c,d)=>{let f=t[c];if(!f)return;const m=d.map(g=>g.presence_ref);f=f.filter(g=>m.indexOf(g.presence_ref)<0),t[c]=f,a(c,f,d),f.length===0&&delete t[c]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var My;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(My||(My={}));var nl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(nl||(nl={}));var ia;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ia||(ia={}));const RL=Dt;let SA=class Iu{constructor(t,r={config:{}},n){var a,s;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Dt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Mg(this,Hn.join,this.params,this.timeout),this.rejoinTimer=new bA(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Dt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Dt.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Dt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Dt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Dt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Hn.reply,{},(l,c)=>{this._trigger(this._replyEventName(c),l)}),this.presence=new _A(this),this.broadcastEndpointURL=wA(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Dt.closed){const{config:{broadcast:l,presence:c,private:d}}=this.params,f=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(y=>y.filter))!==null&&a!==void 0?a:[],m=!!this.bindings[nl.PRESENCE]&&this.bindings[nl.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,g={},v={broadcast:l,presence:Object.assign(Object.assign({},c),{enabled:m}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(y=>t?.(ia.CHANNEL_ERROR,y)),this._onClose(()=>t?.(ia.CLOSED)),this.updateJoinPayload(Object.assign({config:v},g)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:y})=>{var S;if(this.socket._isManualToken()||this.socket.setAuth(),y===void 0){t?.(ia.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,_=(S=k?.length)!==null&&S!==void 0?S:0,j=[];for(let N=0;N<_;N++){const E=k[N],{filter:{event:C,schema:A,table:T,filter:P}}=E,M=y&&y[N];if(M&&M.event===C&&Iu.isFilterValueEqual(M.schema,A)&&Iu.isFilterValueEqual(M.table,T)&&Iu.isFilterValueEqual(M.filter,P))j.push(Object.assign(Object.assign({},E),{id:M.id}));else{this.unsubscribe(),this.state=Dt.errored,t?.(ia.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,t&&t(ia.SUBSCRIBED);return}}).receive("error",y=>{this.state=Dt.errored,t?.(ia.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{t?.(ia.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Dt.joined&&t===nl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const l={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(c.status===202)return{success:!0};let d=c.statusText;try{const f=await c.json();d=f.error||f.message||d}catch{}return Promise.reject(new Error(d))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:l}=t,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:l,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=f.body)===null||a===void 0?void 0:a.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var l,c,d;const f=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.ack)&&s("ok"),f.receive("ok",()=>s("ok")),f.receive("error",()=>s("error")),f.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Dt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Hn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Mg(this,Hn.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Dt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,s=setTimeout(()=>a.abort(),n),l=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(s),l}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Mg(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>OL){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,s;const l=t.toLocaleLowerCase(),{close:c,error:d,leave:f,join:m}=Hn;if(n&&[c,d,f,m].indexOf(l)>=0&&n!==this._joinRef())return;let v=this._onMessage(l,r,n);if(r&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(y=>{var S,k,_;return((S=y.filter)===null||S===void 0?void 0:S.event)==="*"||((_=(k=y.filter)===null||k===void 0?void 0:k.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===l}).map(y=>y.callback(v,n)):(s=this.bindings[l])===null||s===void 0||s.filter(y=>{var S,k,_,j,N,E;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in y){const C=y.id,A=(S=y.filter)===null||S===void 0?void 0:S.event;return C&&((k=r.ids)===null||k===void 0?void 0:k.includes(C))&&(A==="*"||A?.toLocaleLowerCase()===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const C=(N=(j=y?.filter)===null||j===void 0?void 0:j.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return C==="*"||C===((E=r?.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===l}).map(y=>{if(typeof v=="object"&&"ids"in v){const S=v.data,{schema:k,table:_,commit_timestamp:j,type:N,errors:E}=S;v=Object.assign(Object.assign({},{schema:k,table:_,commit_timestamp:j,eventType:N,new:{},old:{},errors:E}),this._getPayloadRecords(S))}y.callback(v,n)})}_isClosed(){return this.state===Dt.closed}_isJoined(){return this.state===Dt.joined}_isJoining(){return this.state===Dt.joining}_isLeaving(){return this.state===Dt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),s={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(s):this.bindings[a]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var s;return!(((s=a.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&Iu.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Hn.close,{},t)}_onError(t){this._on(Hn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Dt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=_2(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=_2(t.columns,t.old_record)),r}};const Rg=()=>{},xf={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},$L=[1e3,2e3,5e3,1e4],LL=1e4,IL=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let zL=class{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ty,this.transport=null,this.heartbeatIntervalMs=xf.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Rg,this.ref=0,this.reconnectTimer=null,this.vsn=w2,this.logger=Rg,this.conn=null,this.sendBuffer=[],this.serializer=new NL,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...s)=>a(...s):(...s)=>fetch(...s),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Cy.websocket}`,this.httpEndpoint=wA(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=vA.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Os.connecting:return Ns.Connecting;case Os.open:return Ns.Open;case Os.closing:return Ns.Closing;default:return Ns.Closed}}isConnected(){return this.connectionState()===Ns.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(s=>s.topic===n);if(a)return a;{const s=new SA(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:a,ref:s}=t,l=()=>{this.encode(t,c=>{var d;(d=this.conn)===null||d===void 0||d.send(c)})};this.log("push",`${r} ${n} (${s})`,a),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(EL,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},xf.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:s,ref:l}=r,c=l?`(${l})`:"",d=s.status||"";this.log("receive",`${d} ${n} ${a} ${c}`.trim(),s),this.channels.filter(f=>f._isMember(n)).forEach(f=>f._trigger(a,s,l)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Os.open||this.conn.readyState===Os.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Hn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([IL],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const s={access_token:r,version:kL};r&&a.updateJoinPayload(s),a.joinedOnce&&a._isJoined()&&a._push(Hn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new bA(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},xf.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,s,l,c,d,f,m,g,v,y;switch(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t?.timeout)!==null&&n!==void 0?n:Ty,this.heartbeatIntervalMs=(a=t?.heartbeatIntervalMs)!==null&&a!==void 0?a:xf.HEARTBEAT_INTERVAL,this.worker=(s=t?.worker)!==null&&s!==void 0?s:!1,this.accessToken=(l=t?.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(c=t?.heartbeatCallback)!==null&&c!==void 0?c:Rg,this.vsn=(d=t?.vsn)!==null&&d!==void 0?d:w2,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=t?.reconnectAfterMs)!==null&&f!==void 0?f:(S=>$L[S-1]||LL),this.vsn){case yA:this.encode=(m=t?.encode)!==null&&m!==void 0?m:((S,k)=>k(JSON.stringify(S))),this.decode=(g=t?.decode)!==null&&g!==void 0?g:((S,k)=>k(JSON.parse(S)));break;case jL:this.encode=(v=t?.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(y=t?.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};const UL=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:RL,get REALTIME_LISTEN_TYPES(){return nl},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return My},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Dy},get REALTIME_SUBSCRIBE_STATES(){return ia},RealtimeChannel:SA,RealtimeClient:zL,RealtimePresence:_A,WebSocketFactory:vA},Symbol.toStringTag,{value:"Module"})),kA=wc(UL);class Sc extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ht(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class jA extends Sc{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class lh extends Sc{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const ox=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),BL=()=>Response,Ry=e=>{if(Array.isArray(e))return e.map(r=>Ry(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[a]=Ry(n)}),t},qL=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},HL=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),$g=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},FL=(e,t,r)=>ye(void 0,void 0,void 0,function*(){const n=yield BL();e instanceof n&&!r?.noResolveJson?e.json().then(a=>{const s=e.status||500,l=a?.statusCode||s+"";t(new jA($g(a),s,l))}).catch(a=>{t(new lh($g(a),a))}):t(new lh($g(e),e))}),VL=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"||!n?a:(qL(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(n)):a.body=n,t?.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function kc(e,t,r,n,a,s){return ye(this,void 0,void 0,function*(){return new Promise((l,c)=>{e(r,VL(t,n,a,s)).then(d=>{if(!d.ok)throw d;return n?.noResolveJson?d:d.json()}).then(d=>l(d)).catch(d=>FL(d,c,n))})})}function Qu(e,t,r,n){return ye(this,void 0,void 0,function*(){return kc(e,"GET",t,r,n)})}function qn(e,t,r,n,a){return ye(this,void 0,void 0,function*(){return kc(e,"POST",t,n,a,r)})}function $y(e,t,r,n,a){return ye(this,void 0,void 0,function*(){return kc(e,"PUT",t,n,a,r)})}function KL(e,t,r,n){return ye(this,void 0,void 0,function*(){return kc(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function lx(e,t,r,n,a){return ye(this,void 0,void 0,function*(){return kc(e,"DELETE",t,n,a,r)})}class ZL{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return ye(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ht(t))return{data:null,error:t};throw t}})}}var EA;class GL{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[EA]="BlobDownloadBuilder",this.promise=null}asStream(){return new ZL(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ye(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ht(t))return{data:null,error:t};throw t}})}}EA=Symbol.toStringTag;const YL={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},S2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class WL{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=ox(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return ye(this,void 0,void 0,function*(){try{let s;const l=Object.assign(Object.assign({},S2),a);let c=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",l.cacheControl),d&&s.append("metadata",this.encodeMetadata(d)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.has("cacheControl")||s.append("cacheControl",l.cacheControl),d&&!s.has("metadata")&&s.append("metadata",this.encodeMetadata(d))):(s=n,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,d&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(d))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!l.duplex&&(l.duplex="half")),a?.headers&&(c=Object.assign(Object.assign({},c),a.headers));const f=this._removeEmptyFolders(r),m=this._getFinalPath(f),g=yield(t=="PUT"?$y:qn)(this.fetch,`${this.url}/object/${m}`,s,Object.assign({headers:c},l?.duplex?{duplex:l.duplex}:{}));return{data:{path:f,id:g.Id,fullPath:g.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ht(s))return{data:null,error:s};throw s}})}upload(t,r,n){return ye(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return ye(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),l=this._getFinalPath(s),c=new URL(this.url+`/object/upload/sign/${l}`);c.searchParams.set("token",r);try{let d;const f=Object.assign({upsert:S2.upsert},a),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.append("cacheControl",f.cacheControl)):(d=n,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType);const g=yield $y(this.fetch,c.toString(),d,{headers:m});return{data:{path:s,fullPath:g.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(ht(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(t,r){return ye(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r?.upsert&&(a["x-upsert"]="true");const s=yield qn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),l=new URL(this.url+s.url),c=l.searchParams.get("token");if(!c)throw new Sc("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:c},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}})}update(t,r,n){return ye(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return ye(this,void 0,void 0,function*(){try{return{data:yield qn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ht(a))return{data:null,error:a};throw a}})}copy(t,r,n){return ye(this,void 0,void 0,function*(){try{return{data:{path:(yield qn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ht(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return ye(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),s=yield qn(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const l=n?.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${l}`)},{data:s,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ht(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return ye(this,void 0,void 0,function*(){try{const a=yield qn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${s}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ht(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof r?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(r?.transform||{}),l=s?`?${s}`:"",c=this._getFinalPath(t),d=()=>Qu(this.fetch,`${this.url}/${a}/${c}${l}`,{headers:this.headers,noResolveJson:!0});return new GL(d,this.shouldThrowOnError)}info(t){return ye(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Qu(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Ry(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}})}exists(t){return ye(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield KL(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n)&&n instanceof lh){const a=n.originalError;if([400,404].includes(a?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],s=r?.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&a.push(s);const c=typeof r?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(r?.transform||{});d!==""&&a.push(d);let f=a.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${n}${f}`)}}}remove(t){return ye(this,void 0,void 0,function*(){try{return{data:yield lx(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}})}list(t,r,n){return ye(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},YL),r),{prefix:t||""});return{data:yield qn(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ht(a))return{data:null,error:a};throw a}})}listV2(t,r){return ye(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield qn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const OA="2.87.1",NA={"X-Client-Info":`storage-js/${OA}`};class XL{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const s=new URL(t);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},NA),r),this.fetch=ox(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return ye(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Qu(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}})}getBucket(t){return ye(this,void 0,void 0,function*(){try{return{data:yield Qu(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}})}createBucket(t){return ye(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield qn(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ht(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return ye(this,void 0,void 0,function*(){try{return{data:yield $y(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}})}emptyBucket(t){return ye(this,void 0,void 0,function*(){try{return{data:yield qn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ye(this,void 0,void 0,function*(){try{return{data:yield lx(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var ec=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function JL(e,t,r){const n=new URL(t,e);if(r)for(const[a,s]of Object.entries(r))s!==void 0&&n.searchParams.set(a,s);return n.toString()}async function QL(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function eI(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:s,headers:l}){const c=JL(e.baseUrl,n,a),d=await QL(e.auth),f=await t(c,{method:r,headers:{...s?{"Content-Type":"application/json"}:{},...d,...l},body:s?JSON.stringify(s):void 0}),m=await f.text(),g=(f.headers.get("content-type")||"").includes("application/json"),v=g&&m?JSON.parse(m):m;if(!f.ok){const y=g?v:void 0,S=y?.error;throw new ec(S?.message??`Request failed with status ${f.status}`,{status:f.status,icebergType:S?.type,icebergCode:S?.code,details:y})}return{status:f.status,headers:f.headers,data:v}}}}function wf(e){return e.join("")}var tI=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:wf(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${wf(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${wf(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${wf(e.namespace)}`}),!0}catch(t){if(t instanceof ec&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof ec&&r.status===409)return;throw r}}};function Ho(e){return e.join("")}var rI=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ho(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ho(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ho(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ho(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ho(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ho(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof ec&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof ec&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},nI=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=eI({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new tI(this.client,t),this.tableOps=new rI(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class AA{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},NA),r),this.fetch=ox(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ye(this,void 0,void 0,function*(){try{return{data:yield qn(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}})}listBuckets(t){return ye(this,void 0,void 0,function*(){try{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const n=r.toString(),a=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Qu(this.fetch,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ye(this,void 0,void 0,function*(){try{return{data:yield lx(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}})}from(t){if(!HL(t))throw new Sc("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new nI({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>ye(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,l){const c=s[l];return typeof c!="function"?c:(...d)=>ye(this,void 0,void 0,function*(){try{return{data:yield c.apply(s,d),error:null}}catch(f){if(n)throw f;return{data:null,error:f}}})}})}}const ux={"X-Client-Info":`storage-js/${OA}`,"Content-Type":"application/json"};class cx extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Hr(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Yf extends cx{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class TA extends cx{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var Ly;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Ly||(Ly={}));const m0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),aI=()=>Response,CA=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},iI=e=>Array.from(new Float32Array(e)),sI=(e,t)=>{if(t!==void 0&&e.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`)},k2=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),oI=(e,t,r)=>ye(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!r?.noResolveJson){const a=e.status||500,s=e;if(typeof s.json=="function")s.json().then(l=>{const c=l?.statusCode||l?.code||a+"";t(new Yf(k2(l),a,c))}).catch(()=>{const l=a+"",c=s.statusText||`HTTP ${a} error`;t(new Yf(c,a,l))});else{const l=a+"",c=s.statusText||`HTTP ${a} error`;t(new Yf(c,a,l))}}else t(new TA(k2(e),e))}),lI=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return n?(CA(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r)):a};function uI(e,t,r,n,a,s){return ye(this,void 0,void 0,function*(){return new Promise((l,c)=>{e(r,lI(t,n,a,s)).then(d=>{if(!d.ok)throw d;if(n?.noResolveJson)return d;const f=d.headers.get("content-type");return!f||!f.includes("application/json")?{}:d.json()}).then(d=>l(d)).catch(d=>oI(d,c,n))})})}function sn(e,t,r,n,a){return ye(this,void 0,void 0,function*(){return uI(e,"POST",t,n,a,r)})}class PA{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ux),r),this.fetch=m0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return ye(this,void 0,void 0,function*(){try{return{data:(yield sn(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}getIndex(t,r){return ye(this,void 0,void 0,function*(){try{return{data:yield sn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hr(n))return{data:null,error:n};throw n}})}listIndexes(t){return ye(this,void 0,void 0,function*(){try{return{data:yield sn(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return ye(this,void 0,void 0,function*(){try{return{data:(yield sn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hr(n))return{data:null,error:n};throw n}})}}class DA{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ux),r),this.fetch=m0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return ye(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield sn(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}getVectors(t){return ye(this,void 0,void 0,function*(){try{return{data:yield sn(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}listVectors(t){return ye(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield sn(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}queryVectors(t){return ye(this,void 0,void 0,function*(){try{return{data:yield sn(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}deleteVectors(t){return ye(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield sn(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}}class MA{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ux),r),this.fetch=m0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ye(this,void 0,void 0,function*(){try{return{data:(yield sn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}getBucket(t){return ye(this,void 0,void 0,function*(){try{return{data:yield sn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}listBuckets(){return ye(this,arguments,void 0,function*(t={}){try{return{data:yield sn(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ye(this,void 0,void 0,function*(){try{return{data:(yield sn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}}class RA extends MA{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new $A(this.url,this.headers,t,this.fetch)}createBucket(t){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return ye(this,void 0,void 0,function*(){return r.createBucket.call(this,t)})}getBucket(t){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return ye(this,void 0,void 0,function*(){return r.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return ye(this,arguments,void 0,function*(r={}){return t.listBuckets.call(this,r)})}deleteBucket(t){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return ye(this,void 0,void 0,function*(){return r.deleteBucket.call(this,t)})}}class $A extends PA{constructor(t,r,n,a){super(t,r,a),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ye(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ye(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ye(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ye(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new LA(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class LA extends DA{constructor(t,r,n,a,s){super(t,r,s),this.vectorBucketName=n,this.indexName=a}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ye(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ye(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ye(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ye(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ye(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class cI extends XL{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new WL(this.url,this.headers,t,this.fetch)}get vectors(){return new RA(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new AA(this.url+"/iceberg",this.headers,this.fetch)}}const dI=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:AA,StorageApiError:jA,StorageClient:cI,StorageError:Sc,StorageUnknownError:lh,StorageVectorsApiError:Yf,StorageVectorsClient:RA,StorageVectorsError:cx,get StorageVectorsErrorCode(){return Ly},StorageVectorsUnknownError:TA,VectorBucketApi:MA,VectorBucketScope:$A,VectorDataApi:DA,VectorIndexApi:PA,VectorIndexScope:LA,isPlainObject:CA,isStorageError:ht,isStorageVectorsError:Hr,normalizeToFloat32:iI,resolveFetch:m0,resolveResponse:aI,validateVectorDimension:sI},Symbol.toStringTag,{value:"Module"})),fI=wc(dI);var Lg={},Nu={},j2;function hI(){return j2||(j2=1,Object.defineProperty(Nu,"__esModule",{value:!0}),Nu.version=void 0,Nu.version="2.87.1"),Nu}var E2;function mI(){return E2||(E2=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_REALTIME_OPTIONS=e.DEFAULT_AUTH_OPTIONS=e.DEFAULT_DB_OPTIONS=e.DEFAULT_GLOBAL_OPTIONS=e.DEFAULT_HEADERS=void 0;const t=hI();let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",e.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${t.version}`},e.DEFAULT_GLOBAL_OPTIONS={headers:e.DEFAULT_HEADERS},e.DEFAULT_DB_OPTIONS={schema:"public"},e.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e.DEFAULT_REALTIME_OPTIONS={}})(Lg)),Lg}var Ig={},O2;function pI(){return O2||(O2=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWithAuth=e.resolveHeadersConstructor=e.resolveFetch=void 0;const t=a=>a?(...s)=>a(...s):(...s)=>fetch(...s);e.resolveFetch=t;const r=()=>Headers;e.resolveHeadersConstructor=r;const n=(a,s,l)=>{const c=(0,e.resolveFetch)(l),d=(0,e.resolveHeadersConstructor)();return async(f,m)=>{var g;const v=(g=await s())!==null&&g!==void 0?g:a;let y=new d(m?.headers);return y.has("apikey")||y.set("apikey",a),y.has("Authorization")||y.set("Authorization",`Bearer ${v}`),c(f,Object.assign(Object.assign({},m),{headers:y}))}};e.fetchWithAuth=n})(Ig)),Ig}var La={},N2;function gI(){if(N2)return La;N2=1,Object.defineProperty(La,"__esModule",{value:!0}),La.isBrowser=void 0,La.uuid=e,La.ensureTrailingSlash=t,La.applySettingDefaults=n,La.validateSupabaseUrl=a;function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){var l=Math.random()*16|0,c=s=="x"?l:l&3|8;return c.toString(16)})}function t(s){return s.endsWith("/")?s:s+"/"}const r=()=>typeof window<"u";La.isBrowser=r;function n(s,l){var c,d;const{db:f,auth:m,realtime:g,global:v}=s,{db:y,auth:S,realtime:k,global:_}=l,j={db:Object.assign(Object.assign({},y),f),auth:Object.assign(Object.assign({},S),m),realtime:Object.assign(Object.assign({},k),g),storage:{},global:Object.assign(Object.assign(Object.assign({},_),v),{headers:Object.assign(Object.assign({},(c=_?.headers)!==null&&c!==void 0?c:{}),(d=v?.headers)!==null&&d!==void 0?d:{})}),accessToken:async()=>""};return s.accessToken?j.accessToken=s.accessToken:delete j.accessToken,j}function a(s){const l=s?.trim();if(!l)throw new Error("supabaseUrl is required.");if(!l.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t(l))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return La}var Au={};const IA="2.87.1",Wo=30*1e3,Iy=3,zg=Iy*Wo,vI="http://localhost:9999",yI="supabase.auth.token",bI={"X-Client-Info":`gotrue-js/${IA}`},zy="X-Supabase-Api-Version",zA={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},xI=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,wI=600*1e3;let cl=class extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}};function ke(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}let UA=class extends cl{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}};function BA(e){return ke(e)&&e.name==="AuthApiError"}let zi=class extends cl{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}},ai=class extends cl{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}},Br=class extends ai{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function qA(e){return ke(e)&&e.name==="AuthSessionMissingError"}let ws=class extends ai{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},zu=class extends ai{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},Uu=class extends ai{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function HA(e){return ke(e)&&e.name==="AuthImplicitGrantRedirectError"}let Uy=class extends ai{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},uh=class extends ai{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}};function Wf(e){return ke(e)&&e.name==="AuthRetryableFetchError"}let By=class extends ai{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}};function _I(e){return ke(e)&&e.name==="AuthWeakPasswordError"}let ch=class extends ai{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const dh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),A2=` 	
\r=`.split(""),SI=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<A2.length;t+=1)e[A2[t].charCodeAt(0)]=-2;for(let t=0;t<dh.length;t+=1)e[dh[t].charCodeAt(0)]=t;return e})();function T2(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(dh[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(dh[n]),t.queuedBits-=6}}function FA(e,t,r){const n=SI[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function C2(e){const t=[],r=l=>{t.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=l=>{EI(l,n,r)};for(let l=0;l<e.length;l+=1)FA(e.charCodeAt(l),a,s);return t.join("")}function kI(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function jI(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}kI(n,t)}}function EI(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function al(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)FA(e.charCodeAt(a),r,n);return new Uint8Array(t)}function OI(e){const t=[];return jI(e,r=>t.push(r)),new Uint8Array(t)}function Ts(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>T2(a,r,n)),T2(null,r,n),t.join("")}function NI(e){return Math.round(Date.now()/1e3)+e}function AI(){return Symbol("auth-callback")}const sr=()=>typeof window<"u"&&typeof document<"u",bs={tested:!1,writable:!1},VA=()=>{if(!sr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(bs.tested)return bs.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),bs.tested=!0,bs.writable=!0}catch{bs.tested=!0,bs.writable=!1}return bs.writable};function TI(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,s)=>{t[s]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const KA=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),CI=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Xo=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},xs=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ar=async(e,t)=>{await e.removeItem(t)};class p0{constructor(){this.promise=new p0.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}p0.promiseConstructor=Promise;function Ug(e){const t=e.split(".");if(t.length!==3)throw new ch("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!xI.test(t[n]))throw new ch("JWT not in base64url format");return{header:JSON.parse(C2(t[0])),payload:JSON.parse(C2(t[1])),signature:al(t[2]),raw:{header:t[0],payload:t[1]}}}async function PI(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function DI(e,t){return new Promise((n,a)=>{(async()=>{for(let s=0;s<1/0;s++)try{const l=await e(s);if(!t(s,null,l)){n(l);return}}catch(l){if(!t(s,l)){a(l);return}}})()})}function MI(e){return("0"+e.toString(16)).substr(-2)}function RI(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let s=0;s<56;s++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,MI).join("")}async function $I(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(s=>String.fromCharCode(s)).join("")}async function LI(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await $I(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Fo(e,t,r=!1){const n=RI();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Xo(e,`${t}-code-verifier`,a);const s=await LI(n);return[s,n===s?"plain":"s256"]}const II=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function zI(e){const t=e.headers.get(zy);if(!t||!t.match(II))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function UI(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function BI(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const qI=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Vo(e){if(!qI.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Bg(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function HI(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function P2(e){return JSON.parse(JSON.stringify(e))}const _s=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),FI=[502,503,504];async function D2(e){var t;if(!CI(e))throw new uh(_s(e),0);if(FI.includes(e.status))throw new uh(_s(e),e.status);let r;try{r=await e.json()}catch(s){throw new zi(_s(s),s)}let n;const a=zI(e);if(a&&a.getTime()>=zA["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new By(_s(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Br}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,l)=>s&&typeof l=="string",!0))throw new By(_s(r),e.status,r.weak_password.reasons);throw new UA(_s(r),e.status||500,n)}const VI=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Ce(e,t,r,n){var a;const s=Object.assign({},n?.headers);s[zy]||(s[zy]=zA["2024-01-01"].name),n?.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const l=(a=n?.query)!==null&&a!==void 0?a:{};n?.redirectTo&&(l.redirect_to=n.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await KI(e,t,r+c,{headers:s,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(d):{data:Object.assign({},d),error:null}}async function KI(e,t,r,n,a,s){const l=VI(t,n,a,s);let c;try{c=await e(r,Object.assign({},l))}catch(d){throw console.error(d),new uh(_s(d),0)}if(c.ok||await D2(c),n?.noResolveJson)return c;try{return await c.json()}catch(d){await D2(d)}}function Bn(e){var t;let r=null;YI(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=NI(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function M2(e){const t=Bn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ui(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function ZI(e){return{data:e,error:null}}function GI(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s}=e,l=xl(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s},d=Object.assign({},l);return{data:{properties:c,user:d},error:null}}function R2(e){return e}function YI(e){return e.access_token&&e.refresh_token&&e.expires_in}const Xf=["global","local","others"];let dx=class{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=KA(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Xf[0]){if(Xf.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Xf.join(", ")}`);try{return await Ce(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ce(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ui})}catch(n){if(ke(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=xl(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n?.newEmail,delete a.newEmail),await Ce(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:GI,redirectTo:r?.redirectTo})}catch(r){if(ke(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ce(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ui})}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,s,l,c,d;try{const f={nextPage:null,lastPage:0,total:0},m=await Ce(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:R2});if(m.error)throw m.error;const g=await m.json(),v=(l=m.headers.get("x-total-count"))!==null&&l!==void 0?l:0,y=(d=(c=m.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return y.length>0&&(y.forEach(S=>{const k=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(S.split(";")[1].split("=")[1]);f[`${_}Page`]=k}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},g),f),error:null}}catch(f){if(ke(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){Vo(t);try{return await Ce(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ui})}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Vo(t);try{return await Ce(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Ui})}catch(n){if(ke(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Vo(t);try{return await Ce(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ui})}catch(n){if(ke(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Vo(t.userId);try{const{data:r,error:n}=await Ce(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Vo(t.userId),Vo(t.id);try{return{data:await Ce(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,s,l,c,d;try{const f={nextPage:null,lastPage:0,total:0},m=await Ce(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:R2});if(m.error)throw m.error;const g=await m.json(),v=(l=m.headers.get("x-total-count"))!==null&&l!==void 0?l:0,y=(d=(c=m.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return y.length>0&&(y.forEach(S=>{const k=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(S.split(";")[1].split("=")[1]);f[`${_}Page`]=k}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},g),f),error:null}}catch(f){if(ke(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(t){try{return await Ce(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Ce(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Ce(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ke(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Ce(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Ce(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ke(r))return{data:null,error:r};throw r}}};function $2(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Ss={debug:!!(globalThis&&VA()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class fx extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let ZA=class extends fx{};class WI extends fx{}async function GA(e,t,r){Ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Ss.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new ZA(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ss.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const L2={};async function XI(e,t,r){var n;const a=(n=L2[e])!==null&&n!==void 0?n:Promise.resolve(),s=Promise.race([a.catch(()=>null),t>=0?new Promise((l,c)=>{setTimeout(()=>{c(new WI(`Acquring process lock with name "${e}" timed out`))},t)}):null].filter(l=>l)).catch(l=>{if(l&&l.isAcquireTimeout)throw l;return null}).then(async()=>await r());return L2[e]=s.catch(async l=>{if(l&&l.isAcquireTimeout)return await a,null;throw l}),await s}function JI(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function YA(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function QI(e){return parseInt(e,16)}function e8(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function t8(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:s=new Date,nonce:l,notBefore:c,requestId:d,resources:f,scheme:m,uri:g,version:v}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const y=YA(e.address),S=m?`${m}://${n}`:n,k=e.statement?`${e.statement}
`:"",_=`${S} wants you to sign in with your Ethereum account:
${y}

${k}`;let j=`URI: ${g}
Version: ${v}
Chain ID: ${r}${l?`
Nonce: ${l}`:""}
Issued At: ${s.toISOString()}`;if(a&&(j+=`
Expiration Time: ${a.toISOString()}`),c&&(j+=`
Not Before: ${c.toISOString()}`),d&&(j+=`
Request ID: ${d}`),f){let N=`
Resources:`;for(const E of f){if(!E||typeof E!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${E}`);N+=`
- ${E}`}j+=N}return`${_}
${j}`}class Mt extends Error{constructor({message:t,code:r,cause:n,name:a}){var s;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=a??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class fh extends Mt{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function r8({error:e,options:t}){var r,n,a;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Mt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Mt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Mt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=s.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Mt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Mt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Mt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new Mt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Mt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(WA(l)){if(s.rp.id!==l)return new Mt({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Mt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Mt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function n8({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Mt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Mt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(WA(n)){if(r.rpId!==n)return new Mt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Mt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class a8{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const i8=new a8;function s8(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=xl(e,["challenge","user","excludeCredentials"]),s=al(t).buffer,l=Object.assign(Object.assign({},r),{id:al(r.id).buffer}),c=Object.assign(Object.assign({},a),{challenge:s,user:l});if(n&&n.length>0){c.excludeCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const f=n[d];c.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:al(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return c}function o8(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=xl(e,["challenge","allowCredentials"]),a=al(t).buffer,s=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const c=r[l];s.allowCredentials[l]=Object.assign(Object.assign({},c),{id:al(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return s}function l8(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ts(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ts(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function u8(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ts(new Uint8Array(a.authenticatorData)),clientDataJSON:Ts(new Uint8Array(a.clientDataJSON)),signature:Ts(new Uint8Array(a.signature)),userHandle:a.userHandle?Ts(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function WA(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function I2(){var e,t;return!!(sr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function c8(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new fh("Browser returned unexpected credential type",t)}:{data:null,error:new fh("Empty credential response",t)}}catch(t){return{data:null,error:r8({error:t,options:e})}}}async function d8(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new fh("Browser returned unexpected credential type",t)}:{data:null,error:new fh("Empty credential response",t)}}catch(t){return{data:null,error:n8({error:t,options:e})}}}const f8={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},h8={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function hh(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const s in a){const l=a[s];if(l!==void 0)if(Array.isArray(l))n[s]=l;else if(r(l))n[s]=l;else if(t(l)){const c=n[s];t(c)?n[s]=hh(c,l):n[s]=hh(l)}else n[s]=l}return n}function m8(e,t){return hh(f8,e,t||{})}function p8(e,t){return hh(h8,e,t||{})}class g8{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},s){try{const{data:l,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!l)return{data:null,error:c};const d=a??i8.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:f}=l.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${n}`),f.displayName||(f.displayName=f.name)}switch(l.webauthn.type){case"create":{const f=m8(l.webauthn.credential_options.publicKey,s?.create),{data:m,error:g}=await c8({publicKey:f,signal:d});return m?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:m}},error:null}:{data:null,error:g}}case"request":{const f=p8(l.webauthn.credential_options.publicKey,s?.request),{data:m,error:g}=await d8(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:f,signal:d}));return m?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:m}},error:null}:{data:null,error:g}}}}catch(l){return ke(l)?{data:null,error:l}:{data:null,error:new zi("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},s){if(!r)return{data:null,error:new cl("rpId is required for WebAuthn authentication")};try{if(!I2())return{data:null,error:new zi("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:s});if(!l)return{data:null,error:c};const{webauthn:d}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:d.type,rpId:r,rpOrigins:n,credential_response:d.credential_response}})}catch(l){return ke(l)?{data:null,error:l}:{data:null,error:new zi("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},s){if(!r)return{data:null,error:new cl("rpId is required for WebAuthn registration")};try{if(!I2())return{data:null,error:new zi("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(m=>{var g;return(g=m.data)===null||g===void 0?void 0:g.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===t&&v.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m?.id}):void 0),{data:null,error:c};const{data:d,error:f}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:s});return d?this._verify({factorId:l.id,challengeId:d.challengeId,webauthn:{rpId:r,rpOrigins:n,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(l){return ke(l)?{data:null,error:l}:{data:null,error:new zi("Unexpected error in register",l)}}}}JI();const v8={url:vI,storageKey:yI,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:bI,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function z2(e,t,r){return await r()}const Ko={};let hx=class qy{get jwks(){var t,r;return(r=(t=Ko[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Ko[this.storageKey]=Object.assign(Object.assign({},Ko[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Ko[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ko[this.storageKey]=Object.assign(Object.assign({},Ko[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},v8),t);if(this.storageKey=s.storageKey,this.instanceID=(r=qy.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,qy.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&sr()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new dx({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=KA(s.fetch),this.lock=s.lock||z2,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:this.persistSession&&sr()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=GA:this.lock=z2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new g8(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:VA()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=$2(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=$2(this.memoryStorage)),sr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${IA}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(sr()&&(r=TI(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),sr()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),HA(s)){const d=(t=s.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:l,redirectType:c}=a;return this._debug("#_initialize()","detected session in URL",l,"redirect type",c),await this._saveSession(l),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ke(r)?this._returnResult({error:r}):this._returnResult({error:new zi("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const s=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t?.options)===null||a===void 0?void 0:a.captchaToken}},xform:Bn}),{data:l,error:c}=s;if(c||!l)return this._returnResult({data:{user:null,session:null},error:c});const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(s){if(ke(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(t){var r,n,a;try{let s;if("email"in t){const{email:m,password:g,options:v}=t;let y=null,S=null;this.flowType==="pkce"&&([y,S]=await Fo(this.storage,this.storageKey)),s=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:m,password:g,data:(r=v?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:y,code_challenge_method:S},xform:Bn})}else if("phone"in t){const{phone:m,password:g,options:v}=t;s=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:g,data:(n=v?.data)!==null&&n!==void 0?n:{},channel:(a=v?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:Bn})}else throw new zu("You must provide either an email or phone number and a password");const{data:l,error:c}=s;if(c||!l)return await ar(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(s){if(await ar(this.storage,`${this.storageKey}-code-verifier`),ke(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:l,options:c}=t;r=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:l,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:M2})}else if("phone"in t){const{phone:s,password:l,options:c}=t;r=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:l,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:M2})}else throw new zu("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const s=new ws;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(ke(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,s,l,c,d,f,m,g,v;let y,S;if("message"in t)y=t.message,S=t.signature;else{const{chain:k,wallet:_,statement:j,options:N}=t;let E;if(sr())if(typeof _=="object")E=_;else{const $=window;if("ethereum"in $&&typeof $.ethereum=="object"&&"request"in $.ethereum&&typeof $.ethereum.request=="function")E=$.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=_}const C=new URL((r=N?.url)!==null&&r!==void 0?r:window.location.href),A=await E.request({method:"eth_requestAccounts"}).then($=>$).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!A||A.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const T=YA(A[0]);let P=(n=N?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!P){const $=await E.request({method:"eth_chainId"});P=QI($)}const M={domain:C.host,address:T,statement:j,uri:C.href,version:"1",chainId:P,nonce:(a=N?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(l=(s=N?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(c=N?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(d=N?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=N?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(m=N?.signInWithEthereum)===null||m===void 0?void 0:m.resources};y=t8(M),S=await E.request({method:"personal_sign",params:[e8(y),T]})}try{const{data:k,error:_}=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:S},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Bn});if(_)throw _;if(!k||!k.session||!k.user){const j=new ws;return this._returnResult({data:{user:null,session:null},error:j})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:_})}catch(k){if(ke(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async signInWithSolana(t){var r,n,a,s,l,c,d,f,m,g,v,y;let S,k;if("message"in t)S=t.message,k=t.signature;else{const{chain:_,wallet:j,statement:N,options:E}=t;let C;if(sr())if(typeof j=="object")C=j;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))C=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=j}const A=new URL((r=E?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in C&&C.signIn){const T=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E?.signInWithSolana),{version:"1",domain:A.host,uri:A.href}),N?{statement:N}:null));let P;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")P=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)P=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)S=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),k=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${A.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${A.href}`,`Issued At: ${(a=(n=E?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((s=E?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((l=E?.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((c=E?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((d=E?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((f=E?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((g=(m=E?.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||g===void 0)&&g.length?["Resources",...E.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const T=await C.signMessage(new TextEncoder().encode(S),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=T}}try{const{data:_,error:j}=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:Ts(k)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Bn});if(j)throw j;if(!_||!_.session||!_.user){const N=new ws;return this._returnResult({data:{user:null,session:null},error:N})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:j})}catch(_){if(ke(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(t){const r=await xs(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:s,error:l}=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Bn});if(await ar(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!s||!s.session||!s.user){const c=new ws;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:a??null}),error:l})}catch(s){if(await ar(this.storage,`${this.storageKey}-code-verifier`),ke(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:s,nonce:l}=t,c=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:s,nonce:l,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Bn}),{data:d,error:f}=c;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d||!d.session||!d.user){const m=new ws;return this._returnResult({data:{user:null,session:null},error:m})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:f})}catch(r){if(ke(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,s,l;try{if("email"in t){const{email:c,options:d}=t;let f=null,m=null;this.flowType==="pkce"&&([f,m]=await Fo(this.storage,this.storageKey));const{error:g}=await Ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=d?.data)!==null&&r!==void 0?r:{},create_user:(n=d?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:f,code_challenge_method:m},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in t){const{phone:c,options:d}=t,{data:f,error:m}=await Ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(a=d?.data)!==null&&a!==void 0?a:{},create_user:(s=d?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(l=d?.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:m})}throw new zu("You must provide either an email or phone number.")}catch(c){if(await ar(this.storage,`${this.storageKey}-code-verifier`),ke(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(t){var r,n;try{let a,s;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:c}=await Ce(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:a,xform:Bn});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,f=l.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(a){if(ke(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,s,l;try{let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Fo(this.storage,this.storageKey));const f=await Ce(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:d}),headers:this.headers,xform:ZI});return!((s=f.data)===null||s===void 0)&&s.url&&sr()&&!(!((l=t.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(c){if(await ar(this.storage,`${this.storageKey}-code-verifier`),ke(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Br;const{error:a}=await Ce(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(ke(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:s}=t,{error:l}=await Ce(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in t){const{phone:n,type:a,options:s}=t,{data:l,error:c}=await Ce(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l?.message_id},error:c})}throw new zu("You must provide either an email or phone number and a type")}catch(r){if(ke(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await xs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<zg:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const l=await xs(this.userStorage,this.storageKey+"-user");l?.user?t.user=l.user:t.user=Bg()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};t.user=HI(t.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ui}):await this._useSession(async r=>{var n,a,s;const{data:l,error:c}=r;if(c)throw c;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Br}:await Ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0,xform:Ui})})}catch(r){if(ke(r))return qA(r)&&(await this._removeSession(),await ar(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:s}=n;if(s)throw s;if(!a.session)throw new Br;const l=a.session;let c=null,d=null;this.flowType==="pkce"&&t.email!=null&&([c,d]=await Fo(this.storage,this.storageKey));const{data:f,error:m}=await Ce(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:d}),jwt:l.access_token,xform:Ui});if(m)throw m;return l.user=f.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(n){if(await ar(this.storage,`${this.storageKey}-code-verifier`),ke(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Br;const r=Date.now()/1e3;let n=r,a=!0,s=null;const{payload:l}=Ug(t.access_token);if(l.exp&&(n=l.exp,a=n<=r),a){const{data:c,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c)return{data:{user:null,session:null},error:null};s=c}else{const{data:c,error:d}=await this._getUser(t.access_token);if(d)throw d;s={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(ke(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:l,error:c}=r;if(c)throw c;t=(n=l.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new Br;const{data:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ke(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!sr())throw new Uu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Uu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Uy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Uu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Uy("No code detected.");const{data:N,error:E}=await this._exchangeCodeForSession(t.code);if(E)throw E;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:s,refresh_token:l,expires_in:c,expires_at:d,token_type:f}=t;if(!s||!c||!l||!f)throw new Uu("No session defined in URL");const m=Math.round(Date.now()/1e3),g=parseInt(c);let v=m+g;d&&(v=parseInt(d));const y=v-m;y*1e3<=Wo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${g}s`);const S=v-g;m-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,v,m):m-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,v,m);const{data:k,error:_}=await this._getUser(s);if(_)throw _;const j={provider_token:n,provider_refresh_token:a,access_token:s,expires_in:g,expires_at:v,refresh_token:l,token_type:f,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:j,redirectType:t.type},error:null})}catch(n){if(ke(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await xs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({error:s});const l=(n=a.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:c}=await this.admin.signOut(l,t);if(c&&!(BA(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return t!=="others"&&(await this._removeSession(),await ar(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=AI(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:s},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Fo(this.storage,this.storageKey,!0));try{return await Ce(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(await ar(this.storage,`${this.storageKey}-code-verifier`),ke(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async s=>{var l,c,d,f,m;const{data:g,error:v}=s;if(v)throw v;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Ce(this.fetch,"GET",y,{headers:this.headers,jwt:(m=(f=g.session)===null||f===void 0?void 0:f.access_token)!==null&&m!==void 0?m:void 0})});if(a)throw a;return sr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:t.provider,url:n?.url},error:null})}catch(n){if(ke(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:s}}=r;if(a)throw a;const{options:l,provider:c,token:d,access_token:f,nonce:m}=t,g=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:c,id_token:d,access_token:f,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Bn}),{data:v,error:y}=g;return y?this._returnResult({data:{user:null,session:null},error:y}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new ws}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:y}))}catch(a){if(await ar(this.storage,`${this.storageKey}-code-verifier`),ke(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:l}=r;if(l)throw l;return await Ce(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await DI(async a=>(a>0&&await PI(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Ce(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Bn})),(a,s)=>{const l=200*Math.pow(2,a);return s&&Wf(s)&&Date.now()+l-n<Wo})}catch(n){if(this._debug(r,"error",n),ke(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),sr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await xs(this.storage,this.storageKey);if(a&&this.userStorage){let l=await xs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:a.user},await Xo(this.userStorage,this.storageKey+"-user",l)),a.user=(t=l?.user)!==null&&t!==void 0?t:Bg()}else if(a&&!a.user&&!a.user){const l=await xs(this.storage,this.storageKey+"-user");l&&l?.user?(a.user=l.user,await ar(this.storage,this.storageKey+"-user"),await Xo(this.storage,this.storageKey,a)):a.user=Bg()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const s=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<zg;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${zg}s`),s){if(this.autoRefreshToken&&a.refresh_token){const{error:l}=await this._callRefreshToken(a.refresh_token);l&&(console.error(l),Wf(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:c}=await this._getUser(a.access_token);!c&&l?.user?(a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(n,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Br;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new p0;const{data:s,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!s.session)throw new Br;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const c={data:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(a,"error",s),ke(s)){const l={data:null,error:s};return Wf(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,r)}catch(d){s.push(d)}});if(await Promise.all(l),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await ar(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Xo(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const s=P2(a);await Xo(this.storage,this.storageKey,s)}else{const a=P2(r);await Xo(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ar(this.storage,this.storageKey),await ar(this.storage,this.storageKey+"-code-verifier"),await ar(this.storage,this.storageKey+"-user"),this.userStorage&&await ar(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&sr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Wo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Wo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Wo}ms, refresh threshold is ${Iy} ticks`),a<=Iy&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof fx)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!sr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,l]=await Fo(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(l)}`});a.push(c.toString())}if(n?.queryParams){const s=new URLSearchParams(n.queryParams);a.push(s.toString())}return n?.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;return s?this._returnResult({data:null,error:s}):await Ce(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:l}=r;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:d,error:f}=await Ce(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token});return f?this._returnResult({data:null,error:f}):(t.factorType==="totp"&&d.type==="totp"&&(!((a=d?.totp)===null||a===void 0)&&a.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?l8(t.webauthn.credential_response):u8(t.webauthn.credential_response)})}:{code:t.code}),{data:c,error:d}=await Ce(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:d}))})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const l=await Ce(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});if(l.error)return l;const{data:c}=l;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:s8(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:o8(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=r?.factors)!==null&&t!==void 0?t:[])a.all.push(s),s.status==="verified"&&a[s.factor_type].push(s);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Ug(n.access_token);let l=null;s.aal&&(l=s.aal);let c=l;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(m=>m.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const f=s.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await Ce(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Br})})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!a)return this._returnResult({data:null,error:new Br});const l=await Ce(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&sr()&&!r?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(n){if(ke(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!a)return this._returnResult({data:null,error:new Br});const l=await Ce(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&sr()&&!r?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(n){if(ke(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await Ce(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Br})})}catch(t){if(ke(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await Ce(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Br})})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(c=>c.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(c=>c.kid===t),n&&this.jwks_cached_at+wI>a)return n;const{data:s,error:l}=await Ce(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=a,n=s.keys.find(c=>c.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:y,error:S}=await this.getSession();if(S||!y.session)return this._returnResult({data:null,error:S});n=y.session.access_token}const{header:a,payload:s,signature:l,raw:{header:c,payload:d}}=Ug(n);r?.allowExpired||UI(s.exp);const f=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!f){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:s,header:a,signature:l},error:null}}const m=BI(a.alg),g=await crypto.subtle.importKey("jwk",f,m,!0,["verify"]);if(!await crypto.subtle.verify(m,g,l,OI(`${c}.${d}`)))throw new ch("Invalid JWT signature");return{data:{claims:s,header:a,signature:l},error:null}}catch(n){if(ke(n))return this._returnResult({data:null,error:n});throw n}}};hx.nextInstanceID={};const y8=dx,b8=hx,x8=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:y8,AuthApiError:UA,AuthClient:b8,AuthError:cl,AuthImplicitGrantRedirectError:Uu,AuthInvalidCredentialsError:zu,AuthInvalidJwtError:ch,AuthInvalidTokenResponseError:ws,AuthPKCEGrantCodeExchangeError:Uy,AuthRetryableFetchError:uh,AuthSessionMissingError:Br,AuthUnknownError:zi,AuthWeakPasswordError:By,CustomAuthError:ai,GoTrueAdminApi:dx,GoTrueClient:hx,NavigatorLockAcquireTimeoutError:ZA,SIGN_OUT_SCOPES:Xf,isAuthApiError:BA,isAuthError:ke,isAuthImplicitGrantRedirectError:HA,isAuthRetryableFetchError:Wf,isAuthSessionMissingError:qA,isAuthWeakPasswordError:_I,lockInternals:Ss,navigatorLock:GA,processLock:XI},Symbol.toStringTag,{value:"Module"})),XA=wc(x8);var U2;function w8(){if(U2)return Au;U2=1,Object.defineProperty(Au,"__esModule",{value:!0}),Au.SupabaseAuthClient=void 0;const e=XA;let t=class extends e.AuthClient{constructor(n){super(n)}};return Au.SupabaseAuthClient=t,Au}var B2;function q2(){if(B2)return hf;B2=1,Object.defineProperty(hf,"__esModule",{value:!0});const e=cA,t=gA(),r=kA,n=fI,a=mI(),s=pI(),l=gI(),c=w8();class d{constructor(m,g,v){var y,S,k;this.supabaseUrl=m,this.supabaseKey=g;const _=(0,l.validateSupabaseUrl)(m);if(!g)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",_),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",_),this.storageUrl=new URL("storage/v1",_),this.functionsUrl=new URL("functions/v1",_);const j=`sb-${_.hostname.split(".")[0]}-auth-token`,N={db:a.DEFAULT_DB_OPTIONS,realtime:a.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},a.DEFAULT_AUTH_OPTIONS),{storageKey:j}),global:a.DEFAULT_GLOBAL_OPTIONS},E=(0,l.applySettingDefaults)(v??{},N);this.storageKey=(y=E.auth.storageKey)!==null&&y!==void 0?y:"",this.headers=(S=E.global.headers)!==null&&S!==void 0?S:{},E.accessToken?(this.accessToken=E.accessToken,this.auth=new Proxy({},{get:(C,A)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(A)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((k=E.auth)!==null&&k!==void 0?k:{},this.headers,E.global.fetch),this.fetch=(0,s.fetchWithAuth)(g,this._getAccessToken.bind(this),E.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},E.realtime)),this.accessToken&&this.accessToken().then(C=>this.realtime.setAuth(C)).catch(C=>console.warn("Failed to set initial Realtime auth token:",C)),this.rest=new t.PostgrestClient(new URL("rest/v1",_).href,{headers:this.headers,schema:E.db.schema,fetch:this.fetch}),this.storage=new n.StorageClient(this.storageUrl.href,this.headers,this.fetch,v?.storage),E.accessToken||this._listenForAuthEvents()}get functions(){return new e.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(m){return this.rest.from(m)}schema(m){return this.rest.schema(m)}rpc(m,g={},v={head:!1,get:!1,count:void 0}){return this.rest.rpc(m,g,v)}channel(m,g={config:{}}){return this.realtime.channel(m,g)}getChannels(){return this.realtime.getChannels()}removeChannel(m){return this.realtime.removeChannel(m)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var m,g;if(this.accessToken)return await this.accessToken();const{data:v}=await this.auth.getSession();return(g=(m=v.session)===null||m===void 0?void 0:m.access_token)!==null&&g!==void 0?g:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:m,persistSession:g,detectSessionInUrl:v,storage:y,userStorage:S,storageKey:k,flowType:_,lock:j,debug:N,throwOnError:E},C,A){const T={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new c.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},T),C),storageKey:k,autoRefreshToken:m,persistSession:g,detectSessionInUrl:v,storage:y,userStorage:S,flowType:_,lock:j,debug:N,throwOnError:E,fetch:A,hasCustomAuthorizationHeader:Object.keys(this.headers).some(P=>P.toLowerCase()==="authorization")})}_initRealtimeClient(m){return new r.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},m),{params:Object.assign({apikey:this.supabaseKey},m?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((g,v)=>{this._handleTokenChanged(g,"CLIENT",v?.access_token)})}_handleTokenChanged(m,g,v){(m==="TOKEN_REFRESHED"||m==="SIGNED_IN")&&this.changedAccessToken!==v?(this.changedAccessToken=v,this.realtime.setAuth(v)):m==="SIGNED_OUT"&&(this.realtime.setAuth(),g=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return hf.default=d,hf}var H2;function _8(){return H2||(H2=1,(function(e){var t=$a&&$a.__createBinding||(Object.create?(function(m,g,v,y){y===void 0&&(y=v);var S=Object.getOwnPropertyDescriptor(g,v);(!S||("get"in S?!g.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return g[v]}}),Object.defineProperty(m,y,S)}):(function(m,g,v,y){y===void 0&&(y=v),m[y]=g[v]})),r=$a&&$a.__exportStar||function(m,g){for(var v in m)v!=="default"&&!Object.prototype.hasOwnProperty.call(g,v)&&t(g,m,v)},n=$a&&$a.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(e,"__esModule",{value:!0}),e.createClient=e.SupabaseClient=e.FunctionRegion=e.FunctionsError=e.FunctionsRelayError=e.FunctionsFetchError=e.FunctionsHttpError=e.PostgrestError=void 0;const a=n(q2());r(XA,e);var s=gA();Object.defineProperty(e,"PostgrestError",{enumerable:!0,get:function(){return s.PostgrestError}});var l=cA;Object.defineProperty(e,"FunctionsHttpError",{enumerable:!0,get:function(){return l.FunctionsHttpError}}),Object.defineProperty(e,"FunctionsFetchError",{enumerable:!0,get:function(){return l.FunctionsFetchError}}),Object.defineProperty(e,"FunctionsRelayError",{enumerable:!0,get:function(){return l.FunctionsRelayError}}),Object.defineProperty(e,"FunctionsError",{enumerable:!0,get:function(){return l.FunctionsError}}),Object.defineProperty(e,"FunctionRegion",{enumerable:!0,get:function(){return l.FunctionRegion}}),r(kA,e);var c=q2();Object.defineProperty(e,"SupabaseClient",{enumerable:!0,get:function(){return n(c).default}});const d=(m,g,v)=>new a.default(m,g,v);e.createClient=d;function f(){if(typeof window<"u"||typeof process>"u")return!1;const m=process.version;if(m==null)return!1;const g=m.match(/^v(\d+)\./);return g?parseInt(g[1],10)<=18:!1}f()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})($a)),$a}var JA=_8();const QA=ni(JA),S8=T5({__proto__:null,default:QA},[JA]),{PostgrestError:Sle,FunctionsHttpError:kle,FunctionsFetchError:jle,FunctionsRelayError:Ele,FunctionsError:Ole,FunctionRegion:Nle,SupabaseClient:Ale,createClient:eT,GoTrueAdminApi:Tle,GoTrueClient:Cle,AuthAdminApi:Ple,AuthClient:Dle,navigatorLock:Mle,NavigatorLockAcquireTimeoutError:Rle,lockInternals:$le,processLock:Lle,SIGN_OUT_SCOPES:Ile,AuthError:zle,AuthApiError:Ule,AuthUnknownError:Ble,CustomAuthError:qle,AuthSessionMissingError:Hle,AuthInvalidTokenResponseError:Fle,AuthInvalidCredentialsError:Vle,AuthImplicitGrantRedirectError:Kle,AuthPKCEGrantCodeExchangeError:Zle,AuthRetryableFetchError:Gle,AuthWeakPasswordError:Yle,AuthInvalidJwtError:Wle,isAuthError:Xle,isAuthApiError:Jle,isAuthSessionMissingError:Qle,isAuthImplicitGrantRedirectError:eue,isAuthRetryableFetchError:tue,isAuthWeakPasswordError:rue,RealtimePresence:nue,RealtimeChannel:aue,RealtimeClient:iue,REALTIME_LISTEN_TYPES:sue,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:oue,REALTIME_PRESENCE_LISTEN_EVENTS:lue,REALTIME_SUBSCRIBE_STATES:uue,REALTIME_CHANNEL_STATES:cue}=QA||S8,k8="https://jbedxxdpqtmprixfxgos.supabase.co",j8="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpiZWR4eGRwcXRtcHJpeGZ4Z29zIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU0NjQxODcsImV4cCI6MjA4MTA0MDE4N30.U-3j_SAvrno9vMAVCsa2RHrmYFs0wLfyYka-Ax0TUQ4",tT=k8,rT=j8;console.warn("Using Fallback Supabase Keys. Please set VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY in your .env file.");const Re=eT(tT,rT),nT=x.createContext();function E8({children:e}){const[t,r]=x.useState(()=>{try{const y=localStorage.getItem("ubp_session_user");return y?JSON.parse(y):null}catch{return null}}),[n,a]=x.useState(()=>localStorage.getItem("ubp_user_role")||null),[s,l]=x.useState(()=>!localStorage.getItem("ubp_session_user")),c=async y=>{if(!y){a(null),localStorage.removeItem("ubp_user_role");return}try{const{data:S,error:k}=await Re.from("user_roles").select("role").eq("email",y).maybeSingle();if(k){k.code!=="42P01"&&console.error("Error fetching role:",k),a("viewer");return}const _=S?.role||"viewer";a(_),localStorage.setItem("ubp_user_role",_)}catch(S){console.error("Unexpected error fetching role:",S),a("viewer")}};x.useEffect(()=>{let y=!0;Re.auth.getSession().then(({data:{session:k}})=>{if(!y)return;const _=k?.user??null;r(_),_?(localStorage.setItem("ubp_session_user",JSON.stringify(_)),c(_.email)):(localStorage.removeItem("ubp_session_user"),localStorage.removeItem("ubp_user_role"),l(!1))});const{data:{subscription:S}}=Re.auth.onAuthStateChange((k,_)=>{if(!y)return;const j=_?.user??null;r(j),j?(localStorage.setItem("ubp_session_user",JSON.stringify(j)),c(j.email)):(a(null),localStorage.removeItem("ubp_user_role"),localStorage.removeItem("ubp_session_user"),l(!1))});return()=>{y=!1,S.unsubscribe()}},[]);const v={user:t,userRole:n,signIn:async(y,S)=>{const{error:k}=await Re.auth.signInWithPassword({email:y,password:S});if(k)throw k},signUp:async(y,S)=>{const{data:k,error:_}=await Re.auth.signUp({email:y,password:S,options:{emailRedirectTo:window.location.origin}});if(_)throw _;return k},signOut:async()=>{const{error:y}=await Re.auth.signOut();if(y)throw y},resendVerificationEmail:async y=>{const{error:S}=await Re.auth.resend({type:"signup",email:y,options:{emailRedirectTo:window.location.origin}});if(S)throw S},loading:s};return p.jsx(nT.Provider,{value:v,children:!s&&e})}function Tr(){return x.useContext(nT)}const g0="/UBP-Scheduler-V2/assets/ubp_logo_v4-BJtcTMQd.png";function O8({isOpen:e,onClose:t}){const{signIn:r}=Tr(),[n,a]=x.useState(""),[s,l]=x.useState(""),[c,d]=x.useState(null),[f,m]=x.useState(!1);if(!e)return null;const g=async v=>{v.preventDefault(),d(null),m(!0);try{await r(n,s),t()}catch(y){d(y.message)}finally{m(!1)}};return p.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4 transition-all",children:p.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden relative",children:[p.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-500 hover:text-white transition-colors",children:p.jsx(Gs,{className:"h-6 w-6"})}),p.jsxs("div",{className:"p-8",children:[p.jsx("div",{className:"flex justify-center mb-6",children:p.jsx("div",{className:"h-20 w-20 bg-white rounded-full shadow-2xl shadow-blue-500/20 flex items-center justify-center overflow-hidden",children:p.jsx("img",{src:g0,alt:"UBP",className:"h-full w-full object-cover transform scale-105"})})}),p.jsx("h2",{className:"text-2xl font-bold text-white mb-2 text-center",children:"Welcome Back"}),p.jsx("p",{className:"text-gray-400 text-sm mb-6 text-center",children:"Sign in to access your production schedule."}),c&&p.jsx("div",{className:"p-3 rounded-lg mb-4 text-sm font-medium border bg-red-900/30 text-red-300 border-red-800",children:c}),p.jsxs("form",{onSubmit:g,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Email"}),p.jsx("input",{type:"email",required:!0,value:n,onChange:v=>a(v.target.value),className:"mt-1 block w-full rounded-lg bg-gray-800 border-gray-700 text-white placeholder-gray-500 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2.5 border transition-colors",placeholder:"name@company.com"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Password"}),p.jsx("input",{type:"password",required:!0,value:s,onChange:v=>l(v.target.value),className:"mt-1 block w-full rounded-lg bg-gray-800 border-gray-700 text-white placeholder-gray-500 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2.5 border transition-colors",placeholder:""})]}),p.jsx("button",{type:"submit",disabled:f,className:"w-full bg-blue-600 text-white rounded-lg py-2.5 font-bold hover:bg-blue-500 transition-all disabled:opacity-50 shadow-lg shadow-blue-900/20",children:f?"Processing...":"Sign In"})]}),p.jsx("div",{className:"mt-6 text-center text-sm text-gray-500",children:p.jsx("span",{className:"italic",children:"Authorized personnel only."})})]})]})})}function N8({onOpenSettings:e,isSaving:t,saveError:r,activeTab:n,setActiveTab:a}){const{user:s,userRole:l,signOut:c}=Tr(),[d,f]=x.useState(!1),[m,g]=x.useState(navigator.onLine),[v,y]=x.useState(!1),S=["admin","planner"].includes(l||"admin");x.useEffect(()=>{const _=()=>y(window.scrollY>10);window.addEventListener("scroll",_);const j=()=>g(!0),N=()=>g(!1);return window.addEventListener("online",j),window.addEventListener("offline",N),()=>{window.removeEventListener("scroll",_),window.removeEventListener("online",j),window.removeEventListener("offline",N)}},[]);const k=({id:_,label:j,icon:N,activeColor:E})=>{const C=n===_;return p.jsxs("button",{onClick:()=>a(_),className:`
                    relative group flex items-center gap-2 px-4 py-2 rounded-full text-sm font-bold transition-all duration-300
                    ${C?"bg-white text-slate-900 shadow-md ring-1 ring-black/5 dark:bg-slate-700 dark:text-white dark:ring-white/10":"text-slate-500 hover:text-slate-800 hover:bg-slate-100/50 dark:text-slate-400 dark:hover:text-slate-200 dark:hover:bg-slate-800/50"}
                `,children:[p.jsx(N,{className:`w-4 h-4 transition-transform duration-300 ${C?"scale-110 "+E:"group-hover:scale-110 opacity-70 group-hover:opacity-100"}`}),p.jsx("span",{children:j}),C&&p.jsx("span",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 w-1 h-1 rounded-full bg-slate-900 dark:bg-white opacity-20"})]})};return p.jsxs(p.Fragment,{children:[p.jsx(O8,{isOpen:d,onClose:()=>f(!1)}),p.jsx("header",{className:`
                sticky top-0 z-50 w-full transition-all duration-500 ease-in-out border-b
                ${v?"bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl border-slate-200/50 dark:border-slate-800/50 shadow-sm py-2":"bg-white dark:bg-slate-900 border-transparent py-4"}
            `,children:p.jsxs("div",{className:"max-w-[1920px] mx-auto px-6 flex justify-between items-center",children:[p.jsxs("div",{className:"flex items-center gap-4 w-[280px]",children:[p.jsx("div",{className:`
                            relative h-10 w-10 rounded-xl bg-gradient-to-br from-blue-600 to-indigo-700 shadow-lg shadow-blue-500/20 
                            flex items-center justify-center overflow-hidden transition-transform hover:scale-105 duration-300
                            ${v?"ring-2 ring-white dark:ring-slate-800":""}
                        `,children:p.jsx("img",{src:g0,alt:"UBP",className:"h-[90%] w-[90%] object-contain drop-shadow-md"})}),p.jsxs("div",{className:"flex flex-col",children:[p.jsxs("h1",{className:"text-base font-black tracking-tight text-slate-900 dark:text-white leading-none",children:["UBP ",p.jsx("span",{className:"text-slate-400 font-medium",children:"Scheduler"})]}),p.jsx("span",{className:"text-[10px] font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-500 to-indigo-500 uppercase tracking-widest mt-0.5",children:"Enterprise Edition"})]})]}),s&&p.jsxs("nav",{className:`
                            hidden lg:flex items-center p-1.5 rounded-full transition-all duration-300
                            ${v?"bg-slate-100/80 dark:bg-slate-800/80 backdrop-blur-md shadow-inner border border-white/20 dark:border-slate-700/50":"bg-slate-50 dark:bg-slate-800/30"}
                        `,children:[p.jsx(k,{id:"logistics",label:"Floor Ops",icon:mL,activeColor:"text-emerald-500"}),S&&p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"w-px h-4 bg-slate-300 dark:bg-slate-700 mx-2 opacity-50"}),p.jsx(k,{id:"mrp",label:"Materials",icon:oL,activeColor:"text-blue-500"}),p.jsx(k,{id:"scheduler",label:"Scheduler",icon:uL,activeColor:"text-purple-500"}),p.jsx(k,{id:"master",label:"Master Plan",icon:dL,activeColor:"text-amber-500"})]}),p.jsx("div",{className:"w-px h-4 bg-slate-300 dark:bg-slate-700 mx-2 opacity-50"}),p.jsx(k,{id:"products",label:"Catalog",icon:Zf,activeColor:"text-pink-500"})]}),p.jsxs("div",{className:"flex items-center justify-end gap-5 w-[280px]",children:[s&&p.jsx("div",{className:"flex items-center gap-3",children:p.jsxs("div",{className:`
                                    flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-bold transition-colors
                                    ${t?"bg-blue-50 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400":r?"bg-rose-50 text-rose-600 dark:bg-rose-900/30 dark:text-rose-400":m?"bg-emerald-50 text-emerald-600 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-slate-100 text-slate-500 dark:bg-slate-800 dark:text-slate-400"}
                                `,title:r||(m?"Online & Synced":"Offline"),children:[p.jsx(S6,{className:`h-3.5 w-3.5 ${t?"animate-bounce":""}`}),p.jsx("span",{className:"hidden xl:inline",children:t?"Saving...":r?"Error":"Synced"})]})}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("button",{onClick:()=>window.print(),className:"p-2 text-slate-400 hover:text-slate-700 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-all",title:"Print View",children:p.jsx(F6,{className:"h-5 w-5"})}),p.jsx("button",{onClick:e,className:"p-2 text-slate-400 hover:text-slate-700 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-all group",title:"Settings",children:p.jsx(j6,{className:"h-5 w-5 group-hover:rotate-180 transition-transform duration-700"})})]}),s?p.jsx("div",{className:"flex items-center pl-5 border-l border-slate-200 dark:border-slate-800",children:p.jsxs("button",{onClick:c,className:"flex items-center gap-3 group pl-2",title:"Click to Sign Out",children:[p.jsxs("div",{className:"text-right hidden xl:block",children:[p.jsx("div",{className:"text-xs font-bold text-slate-700 dark:text-slate-200 group-hover:text-rose-500 transition-colors",children:s.email?.split("@")[0]}),p.jsx("div",{className:"text-[10px] font-medium text-slate-400 uppercase tracking-widest group-hover:text-rose-400 transition-colors",children:l||"User"})]}),p.jsx("div",{className:"h-9 w-9 rounded-full bg-gradient-to-tr from-indigo-500 to-purple-600 shadow-md ring-2 ring-white dark:ring-slate-900 flex items-center justify-center text-xs font-bold text-white group-hover:ring-rose-500 transition-all",children:s.email?.[0].toUpperCase()}),p.jsx(i6,{className:"w-4 h-4 text-slate-400 group-hover:text-rose-500 transition-colors xl:hidden"})]})}):p.jsx("button",{onClick:()=>f(!0),className:"px-5 py-2 rounded-full bg-slate-900 text-white text-sm font-bold shadow-lg hover:shadow-xl hover:-translate-y-0.5 transition-all dark:bg-white dark:text-slate-900",children:"Sign In"})]})]})})]})}const _f=async(e,t,r={})=>{const{data:n,error:a}=await Re.from("products").select("id").eq("user_id",e).eq("name",t).limit(1).maybeSingle();if(a)throw a;if(n)return n.id;const{data:s,error:l}=await Re.from("products").insert({user_id:e,name:t,bottles_per_case:r.bottles_per_case||12,bottles_per_truck:r.bottles_per_truck||2e4,cases_per_pallet:r.cases_per_pallet||100}).select("id").single();if(l)throw console.error("Error creating product:",l),l;return s.id},A8=async(e,t)=>{const{data:r,error:n}=await Re.from("products").select("*").eq("user_id",e).eq("name",t).limit(1).maybeSingle();if(n)throw n;return r};function ue(e,t,r){function n(c,d){if(c._zod||Object.defineProperty(c,"_zod",{value:{def:d,constr:l,traits:new Set},enumerable:!1}),c._zod.traits.has(e))return;c._zod.traits.add(e),t(c,d);const f=l.prototype,m=Object.keys(f);for(let g=0;g<m.length;g++){const v=m[g];v in c||(c[v]=f[v].bind(c))}}const a=r?.Parent??Object;class s extends a{}Object.defineProperty(s,"name",{value:e});function l(c){var d;const f=r?.Parent?new s:this;n(f,c),(d=f._zod).deferred??(d.deferred=[]);for(const m of f._zod.deferred)m();return f}return Object.defineProperty(l,"init",{value:n}),Object.defineProperty(l,Symbol.hasInstance,{value:c=>r?.Parent&&c instanceof r.Parent?!0:c?._zod?.traits?.has(e)}),Object.defineProperty(l,"name",{value:e}),l}class il extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class aT extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const iT={};function Us(e){return iT}function sT(e){const t=Object.values(e).filter(n=>typeof n=="number");return Object.entries(e).filter(([n,a])=>t.indexOf(+n)===-1).map(([n,a])=>a)}function Hy(e,t){return typeof t=="bigint"?t.toString():t}function mx(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function px(e){return e==null}function gx(e){const t=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}function T8(e,t){const r=(e.toString().split(".")[1]||"").length,n=t.toString();let a=(n.split(".")[1]||"").length;if(a===0&&/\d?e-\d?/.test(n)){const d=n.match(/\d?e-(\d?)/);d?.[1]&&(a=Number.parseInt(d[1]))}const s=r>a?r:a,l=Number.parseInt(e.toFixed(s).replace(".","")),c=Number.parseInt(t.toFixed(s).replace(".",""));return l%c/10**s}const F2=Symbol("evaluating");function it(e,t,r){let n;Object.defineProperty(e,t,{get(){if(n!==F2)return n===void 0&&(n=F2,n=r()),n},set(a){Object.defineProperty(e,t,{value:a})},configurable:!0})}function Ys(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function Ws(...e){const t={};for(const r of e){const n=Object.getOwnPropertyDescriptors(r);Object.assign(t,n)}return Object.defineProperties({},t)}function V2(e){return JSON.stringify(e)}function C8(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const oT="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function mh(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const P8=mx(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function tc(e){if(mh(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const r=t.prototype;return!(mh(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function lT(e){return tc(e)?{...e}:Array.isArray(e)?[...e]:e}const D8=new Set(["string","number","symbol"]);function v0(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Wi(e,t,r){const n=new e._zod.constr(t??e._zod.def);return(!t||r?.parent)&&(n._zod.parent=e),n}function Ae(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function M8(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const R8={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function $8(e,t){const r=e._zod.def,n=Ws(e._zod.def,{get shape(){const a={};for(const s in t){if(!(s in r.shape))throw new Error(`Unrecognized key: "${s}"`);t[s]&&(a[s]=r.shape[s])}return Ys(this,"shape",a),a},checks:[]});return Wi(e,n)}function L8(e,t){const r=e._zod.def,n=Ws(e._zod.def,{get shape(){const a={...e._zod.def.shape};for(const s in t){if(!(s in r.shape))throw new Error(`Unrecognized key: "${s}"`);t[s]&&delete a[s]}return Ys(this,"shape",a),a},checks:[]});return Wi(e,n)}function I8(e,t){if(!tc(t))throw new Error("Invalid input to extend: expected a plain object");const r=e._zod.def.checks;if(r&&r.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const a=Ws(e._zod.def,{get shape(){const s={...e._zod.def.shape,...t};return Ys(this,"shape",s),s},checks:[]});return Wi(e,a)}function z8(e,t){if(!tc(t))throw new Error("Invalid input to safeExtend: expected a plain object");const r={...e._zod.def,get shape(){const n={...e._zod.def.shape,...t};return Ys(this,"shape",n),n},checks:e._zod.def.checks};return Wi(e,r)}function U8(e,t){const r=Ws(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return Ys(this,"shape",n),n},get catchall(){return t._zod.def.catchall},checks:[]});return Wi(e,r)}function B8(e,t,r){const n=Ws(t._zod.def,{get shape(){const a=t._zod.def.shape,s={...a};if(r)for(const l in r){if(!(l in a))throw new Error(`Unrecognized key: "${l}"`);r[l]&&(s[l]=e?new e({type:"optional",innerType:a[l]}):a[l])}else for(const l in a)s[l]=e?new e({type:"optional",innerType:a[l]}):a[l];return Ys(this,"shape",s),s},checks:[]});return Wi(t,n)}function q8(e,t,r){const n=Ws(t._zod.def,{get shape(){const a=t._zod.def.shape,s={...a};if(r)for(const l in r){if(!(l in s))throw new Error(`Unrecognized key: "${l}"`);r[l]&&(s[l]=new e({type:"nonoptional",innerType:a[l]}))}else for(const l in a)s[l]=new e({type:"nonoptional",innerType:a[l]});return Ys(this,"shape",s),s},checks:[]});return Wi(t,n)}function Qo(e,t=0){if(e.aborted===!0)return!0;for(let r=t;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}function uT(e,t){return t.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(e),r})}function Sf(e){return typeof e=="string"?e:e?.message}function Bs(e,t,r){const n={...e,path:e.path??[]};if(!e.message){const a=Sf(e.inst?._zod.def?.error?.(e))??Sf(t?.error?.(e))??Sf(r.customError?.(e))??Sf(r.localeError?.(e))??"Invalid input";n.message=a}return delete n.inst,delete n.continue,t?.reportInput||delete n.input,n}function vx(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function rc(...e){const[t,r,n]=e;return typeof t=="string"?{message:t,code:"custom",input:r,inst:n}:{...t}}const cT=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,Hy,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},dT=ue("$ZodError",cT),fT=ue("$ZodError",cT,{Parent:Error});function H8(e,t=r=>r.message){const r={},n=[];for(const a of e.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(t(a))):n.push(t(a));return{formErrors:n,fieldErrors:r}}function F8(e,t=r=>r.message){const r={_errors:[]},n=a=>{for(const s of a.issues)if(s.code==="invalid_union"&&s.errors.length)s.errors.map(l=>n({issues:l}));else if(s.code==="invalid_key")n({issues:s.issues});else if(s.code==="invalid_element")n({issues:s.issues});else if(s.path.length===0)r._errors.push(t(s));else{let l=r,c=0;for(;c<s.path.length;){const d=s.path[c];c===s.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(t(s))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return n(e),r}const yx=e=>(t,r,n,a)=>{const s=n?Object.assign(n,{async:!1}):{async:!1},l=t._zod.run({value:r,issues:[]},s);if(l instanceof Promise)throw new il;if(l.issues.length){const c=new(a?.Err??e)(l.issues.map(d=>Bs(d,s,Us())));throw oT(c,a?.callee),c}return l.value},bx=e=>async(t,r,n,a)=>{const s=n?Object.assign(n,{async:!0}):{async:!0};let l=t._zod.run({value:r,issues:[]},s);if(l instanceof Promise&&(l=await l),l.issues.length){const c=new(a?.Err??e)(l.issues.map(d=>Bs(d,s,Us())));throw oT(c,a?.callee),c}return l.value},y0=e=>(t,r,n)=>{const a=n?{...n,async:!1}:{async:!1},s=t._zod.run({value:r,issues:[]},a);if(s instanceof Promise)throw new il;return s.issues.length?{success:!1,error:new(e??dT)(s.issues.map(l=>Bs(l,a,Us())))}:{success:!0,data:s.value}},V8=y0(fT),b0=e=>async(t,r,n)=>{const a=n?Object.assign(n,{async:!0}):{async:!0};let s=t._zod.run({value:r,issues:[]},a);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new e(s.issues.map(l=>Bs(l,a,Us())))}:{success:!0,data:s.value}},K8=b0(fT),Z8=e=>(t,r,n)=>{const a=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return yx(e)(t,r,a)},G8=e=>(t,r,n)=>yx(e)(t,r,n),Y8=e=>async(t,r,n)=>{const a=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return bx(e)(t,r,a)},W8=e=>async(t,r,n)=>bx(e)(t,r,n),X8=e=>(t,r,n)=>{const a=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return y0(e)(t,r,a)},J8=e=>(t,r,n)=>y0(e)(t,r,n),Q8=e=>async(t,r,n)=>{const a=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return b0(e)(t,r,a)},ez=e=>async(t,r,n)=>b0(e)(t,r,n),tz=/^[cC][^\s-]{8,}$/,rz=/^[0-9a-z]+$/,nz=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,az=/^[0-9a-vA-V]{20}$/,iz=/^[A-Za-z0-9]{27}$/,sz=/^[a-zA-Z0-9_-]{21}$/,oz=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,lz=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,K2=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,uz=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,cz="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function dz(){return new RegExp(cz,"u")}const fz=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,hz=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,mz=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,pz=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,gz=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,hT=/^[A-Za-z0-9_-]*$/,vz=/^\+(?:[0-9]){6,14}[0-9]$/,mT="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",yz=new RegExp(`^${mT}$`);function pT(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function bz(e){return new RegExp(`^${pT(e)}$`)}function xz(e){const t=pT({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const n=`${t}(?:${r.join("|")})`;return new RegExp(`^${mT}T(?:${n})$`)}const wz=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},_z=/^-?\d+$/,Sz=/^-?\d+(?:\.\d+)?/,kz=/^(?:true|false)$/i,jz=/^[^A-Z]*$/,Ez=/^[^a-z]*$/,Vr=ue("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),gT={number:"number",bigint:"bigint",object:"date"},vT=ue("$ZodCheckLessThan",(e,t)=>{Vr.init(e,t);const r=gT[typeof t.value];e._zod.onattach.push(n=>{const a=n._zod.bag,s=(t.inclusive?a.maximum:a.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<s&&(t.inclusive?a.maximum=t.value:a.exclusiveMaximum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value<=t.value:n.value<t.value)||n.issues.push({origin:r,code:"too_big",maximum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),yT=ue("$ZodCheckGreaterThan",(e,t)=>{Vr.init(e,t);const r=gT[typeof t.value];e._zod.onattach.push(n=>{const a=n._zod.bag,s=(t.inclusive?a.minimum:a.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>s&&(t.inclusive?a.minimum=t.value:a.exclusiveMinimum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value>=t.value:n.value>t.value)||n.issues.push({origin:r,code:"too_small",minimum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Oz=ue("$ZodCheckMultipleOf",(e,t)=>{Vr.init(e,t),e._zod.onattach.push(r=>{var n;(n=r._zod.bag).multipleOf??(n.multipleOf=t.value)}),e._zod.check=r=>{if(typeof r.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%t.value===BigInt(0):T8(r.value,t.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:e,continue:!t.abort})}}),Nz=ue("$ZodCheckNumberFormat",(e,t)=>{Vr.init(e,t),t.format=t.format||"float64";const r=t.format?.includes("int"),n=r?"int":"number",[a,s]=R8[t.format];e._zod.onattach.push(l=>{const c=l._zod.bag;c.format=t.format,c.minimum=a,c.maximum=s,r&&(c.pattern=_z)}),e._zod.check=l=>{const c=l.value;if(r){if(!Number.isInteger(c)){l.issues.push({expected:n,format:t.format,code:"invalid_type",continue:!1,input:c,inst:e});return}if(!Number.isSafeInteger(c)){c>0?l.issues.push({input:c,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort}):l.issues.push({input:c,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort});return}}c<a&&l.issues.push({origin:"number",input:c,code:"too_small",minimum:a,inclusive:!0,inst:e,continue:!t.abort}),c>s&&l.issues.push({origin:"number",input:c,code:"too_big",maximum:s,inst:e})}}),Az=ue("$ZodCheckMaxLength",(e,t)=>{var r;Vr.init(e,t),(r=e._zod.def).when??(r.when=n=>{const a=n.value;return!px(a)&&a.length!==void 0}),e._zod.onattach.push(n=>{const a=n._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<a&&(n._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{const a=n.value;if(a.length<=t.maximum)return;const l=vx(a);n.issues.push({origin:l,code:"too_big",maximum:t.maximum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),Tz=ue("$ZodCheckMinLength",(e,t)=>{var r;Vr.init(e,t),(r=e._zod.def).when??(r.when=n=>{const a=n.value;return!px(a)&&a.length!==void 0}),e._zod.onattach.push(n=>{const a=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>a&&(n._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{const a=n.value;if(a.length>=t.minimum)return;const l=vx(a);n.issues.push({origin:l,code:"too_small",minimum:t.minimum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),Cz=ue("$ZodCheckLengthEquals",(e,t)=>{var r;Vr.init(e,t),(r=e._zod.def).when??(r.when=n=>{const a=n.value;return!px(a)&&a.length!==void 0}),e._zod.onattach.push(n=>{const a=n._zod.bag;a.minimum=t.length,a.maximum=t.length,a.length=t.length}),e._zod.check=n=>{const a=n.value,s=a.length;if(s===t.length)return;const l=vx(a),c=s>t.length;n.issues.push({origin:l,...c?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),x0=ue("$ZodCheckStringFormat",(e,t)=>{var r,n;Vr.init(e,t),e._zod.onattach.push(a=>{const s=a._zod.bag;s.format=t.format,t.pattern&&(s.patterns??(s.patterns=new Set),s.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=a=>{t.pattern.lastIndex=0,!t.pattern.test(a.value)&&a.issues.push({origin:"string",code:"invalid_format",format:t.format,input:a.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(n=e._zod).check??(n.check=()=>{})}),Pz=ue("$ZodCheckRegex",(e,t)=>{x0.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),Dz=ue("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=jz),x0.init(e,t)}),Mz=ue("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=Ez),x0.init(e,t)}),Rz=ue("$ZodCheckIncludes",(e,t)=>{Vr.init(e,t);const r=v0(t.includes),n=new RegExp(typeof t.position=="number"?`^.{${t.position}}${r}`:r);t.pattern=n,e._zod.onattach.push(a=>{const s=a._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),e._zod.check=a=>{a.value.includes(t.includes,t.position)||a.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:a.value,inst:e,continue:!t.abort})}}),$z=ue("$ZodCheckStartsWith",(e,t)=>{Vr.init(e,t);const r=new RegExp(`^${v0(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const a=n._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(r)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),Lz=ue("$ZodCheckEndsWith",(e,t)=>{Vr.init(e,t);const r=new RegExp(`.*${v0(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const a=n._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(r)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}}),Iz=ue("$ZodCheckOverwrite",(e,t)=>{Vr.init(e,t),e._zod.check=r=>{r.value=t.tx(r.value)}});class zz{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const n=t.split(`
`).filter(l=>l),a=Math.min(...n.map(l=>l.length-l.trimStart().length)),s=n.map(l=>l.slice(a)).map(l=>" ".repeat(this.indent*2)+l);for(const l of s)this.content.push(l)}compile(){const t=Function,r=this?.args,a=[...(this?.content??[""]).map(s=>`  ${s}`)];return new t(...r,a.join(`
`))}}const Uz={major:4,minor:2,patch:1},St=ue("$ZodType",(e,t)=>{var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=Uz;const n=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&n.unshift(e);for(const a of n)for(const s of a._zod.onattach)s(e);if(n.length===0)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const a=(l,c,d)=>{let f=Qo(l),m;for(const g of c){if(g._zod.def.when){if(!g._zod.def.when(l))continue}else if(f)continue;const v=l.issues.length,y=g._zod.check(l);if(y instanceof Promise&&d?.async===!1)throw new il;if(m||y instanceof Promise)m=(m??Promise.resolve()).then(async()=>{await y,l.issues.length!==v&&(f||(f=Qo(l,v)))});else{if(l.issues.length===v)continue;f||(f=Qo(l,v))}}return m?m.then(()=>l):l},s=(l,c,d)=>{if(Qo(l))return l.aborted=!0,l;const f=a(c,n,d);if(f instanceof Promise){if(d.async===!1)throw new il;return f.then(m=>e._zod.parse(m,d))}return e._zod.parse(f,d)};e._zod.run=(l,c)=>{if(c.skipChecks)return e._zod.parse(l,c);if(c.direction==="backward"){const f=e._zod.parse({value:l.value,issues:[]},{...c,skipChecks:!0});return f instanceof Promise?f.then(m=>s(m,l,c)):s(f,l,c)}const d=e._zod.parse(l,c);if(d instanceof Promise){if(c.async===!1)throw new il;return d.then(f=>a(f,n,c))}return a(d,n,c)}}e["~standard"]={validate:a=>{try{const s=V8(e,a);return s.success?{value:s.data}:{issues:s.error?.issues}}catch{return K8(e,a).then(l=>l.success?{value:l.data}:{issues:l.error?.issues})}},vendor:"zod",version:1}}),xx=ue("$ZodString",(e,t)=>{St.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??wz(e._zod.bag),e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),gt=ue("$ZodStringFormat",(e,t)=>{x0.init(e,t),xx.init(e,t)}),Bz=ue("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=lz),gt.init(e,t)}),qz=ue("$ZodUUID",(e,t)=>{if(t.version){const n={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(n===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=K2(n))}else t.pattern??(t.pattern=K2());gt.init(e,t)}),Hz=ue("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=uz),gt.init(e,t)}),Fz=ue("$ZodURL",(e,t)=>{gt.init(e,t),e._zod.check=r=>{try{const n=r.value.trim(),a=new URL(n);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(a.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(a.protocol.endsWith(":")?a.protocol.slice(0,-1):a.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),t.normalize?r.value=a.href:r.value=n;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),Vz=ue("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=dz()),gt.init(e,t)}),Kz=ue("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=sz),gt.init(e,t)}),Zz=ue("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=tz),gt.init(e,t)}),Gz=ue("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=rz),gt.init(e,t)}),Yz=ue("$ZodULID",(e,t)=>{t.pattern??(t.pattern=nz),gt.init(e,t)}),Wz=ue("$ZodXID",(e,t)=>{t.pattern??(t.pattern=az),gt.init(e,t)}),Xz=ue("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=iz),gt.init(e,t)}),Jz=ue("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=xz(t)),gt.init(e,t)}),Qz=ue("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=yz),gt.init(e,t)}),e7=ue("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=bz(t)),gt.init(e,t)}),t7=ue("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=oz),gt.init(e,t)}),r7=ue("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=fz),gt.init(e,t),e._zod.bag.format="ipv4"}),n7=ue("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=hz),gt.init(e,t),e._zod.bag.format="ipv6",e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),a7=ue("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=mz),gt.init(e,t)}),i7=ue("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=pz),gt.init(e,t),e._zod.check=r=>{const n=r.value.split("/");try{if(n.length!==2)throw new Error;const[a,s]=n;if(!s)throw new Error;const l=Number(s);if(`${l}`!==s)throw new Error;if(l<0||l>128)throw new Error;new URL(`http://[${a}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function bT(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const s7=ue("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=gz),gt.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=r=>{bT(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function o7(e){if(!hT.test(e))return!1;const t=e.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=t.padEnd(Math.ceil(t.length/4)*4,"=");return bT(r)}const l7=ue("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=hT),gt.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=r=>{o7(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),u7=ue("$ZodE164",(e,t)=>{t.pattern??(t.pattern=vz),gt.init(e,t)});function c7(e,t=null){try{const r=e.split(".");if(r.length!==3)return!1;const[n]=r;if(!n)return!1;const a=JSON.parse(atob(n));return!("typ"in a&&a?.typ!=="JWT"||!a.alg||t&&(!("alg"in a)||a.alg!==t))}catch{return!1}}const d7=ue("$ZodJWT",(e,t)=>{gt.init(e,t),e._zod.check=r=>{c7(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),xT=ue("$ZodNumber",(e,t)=>{St.init(e,t),e._zod.pattern=e._zod.bag.pattern??Sz,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=Number(r.value)}catch{}const a=r.value;if(typeof a=="number"&&!Number.isNaN(a)&&Number.isFinite(a))return r;const s=typeof a=="number"?Number.isNaN(a)?"NaN":Number.isFinite(a)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:a,inst:e,...s?{received:s}:{}}),r}}),f7=ue("$ZodNumberFormat",(e,t)=>{Nz.init(e,t),xT.init(e,t)}),h7=ue("$ZodBoolean",(e,t)=>{St.init(e,t),e._zod.pattern=kz,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=!!r.value}catch{}const a=r.value;return typeof a=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:a,inst:e}),r}}),m7=ue("$ZodAny",(e,t)=>{St.init(e,t),e._zod.parse=r=>r}),p7=ue("$ZodUnknown",(e,t)=>{St.init(e,t),e._zod.parse=r=>r}),g7=ue("$ZodNever",(e,t)=>{St.init(e,t),e._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)});function Z2(e,t,r){e.issues.length&&t.issues.push(...uT(r,e.issues)),t.value[r]=e.value}const v7=ue("$ZodArray",(e,t)=>{St.init(e,t),e._zod.parse=(r,n)=>{const a=r.value;if(!Array.isArray(a))return r.issues.push({expected:"array",code:"invalid_type",input:a,inst:e}),r;r.value=Array(a.length);const s=[];for(let l=0;l<a.length;l++){const c=a[l],d=t.element._zod.run({value:c,issues:[]},n);d instanceof Promise?s.push(d.then(f=>Z2(f,r,l))):Z2(d,r,l)}return s.length?Promise.all(s).then(()=>r):r}});function ph(e,t,r,n){e.issues.length&&t.issues.push(...uT(r,e.issues)),e.value===void 0?r in n&&(t.value[r]=void 0):t.value[r]=e.value}function wT(e){const t=Object.keys(e.shape);for(const n of t)if(!e.shape?.[n]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${n}": expected a Zod schema`);const r=M8(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(r)}}function _T(e,t,r,n,a,s){const l=[],c=a.keySet,d=a.catchall._zod,f=d.def.type;for(const m in t){if(c.has(m))continue;if(f==="never"){l.push(m);continue}const g=d.run({value:t[m],issues:[]},n);g instanceof Promise?e.push(g.then(v=>ph(v,r,m,t))):ph(g,r,m,t)}return l.length&&r.issues.push({code:"unrecognized_keys",keys:l,input:t,inst:s}),e.length?Promise.all(e).then(()=>r):r}const y7=ue("$ZodObject",(e,t)=>{if(St.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){const c=t.shape;Object.defineProperty(t,"shape",{get:()=>{const d={...c};return Object.defineProperty(t,"shape",{value:d}),d}})}const n=mx(()=>wT(t));it(e._zod,"propValues",()=>{const c=t.shape,d={};for(const f in c){const m=c[f]._zod;if(m.values){d[f]??(d[f]=new Set);for(const g of m.values)d[f].add(g)}}return d});const a=mh,s=t.catchall;let l;e._zod.parse=(c,d)=>{l??(l=n.value);const f=c.value;if(!a(f))return c.issues.push({expected:"object",code:"invalid_type",input:f,inst:e}),c;c.value={};const m=[],g=l.shape;for(const v of l.keys){const S=g[v]._zod.run({value:f[v],issues:[]},d);S instanceof Promise?m.push(S.then(k=>ph(k,c,v,f))):ph(S,c,v,f)}return s?_T(m,f,c,d,n.value,e):m.length?Promise.all(m).then(()=>c):c}}),b7=ue("$ZodObjectJIT",(e,t)=>{y7.init(e,t);const r=e._zod.parse,n=mx(()=>wT(t)),a=v=>{const y=new zz(["shape","payload","ctx"]),S=n.value,k=E=>{const C=V2(E);return`shape[${C}]._zod.run({ value: input[${C}], issues: [] }, ctx)`};y.write("const input = payload.value;");const _=Object.create(null);let j=0;for(const E of S.keys)_[E]=`key_${j++}`;y.write("const newResult = {};");for(const E of S.keys){const C=_[E],A=V2(E);y.write(`const ${C} = ${k(E)};`),y.write(`
        if (${C}.issues.length) {
          payload.issues = payload.issues.concat(${C}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${A}, ...iss.path] : [${A}]
          })));
        }
        
        
        if (${C}.value === undefined) {
          if (${A} in input) {
            newResult[${A}] = undefined;
          }
        } else {
          newResult[${A}] = ${C}.value;
        }
        
      `)}y.write("payload.value = newResult;"),y.write("return payload;");const N=y.compile();return(E,C)=>N(v,E,C)};let s;const l=mh,c=!iT.jitless,f=c&&P8.value,m=t.catchall;let g;e._zod.parse=(v,y)=>{g??(g=n.value);const S=v.value;return l(S)?c&&f&&y?.async===!1&&y.jitless!==!0?(s||(s=a(t.shape)),v=s(v,y),m?_T([],S,v,y,g,e):v):r(v,y):(v.issues.push({expected:"object",code:"invalid_type",input:S,inst:e}),v)}});function G2(e,t,r,n){for(const s of e)if(s.issues.length===0)return t.value=s.value,t;const a=e.filter(s=>!Qo(s));return a.length===1?(t.value=a[0].value,a[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(s=>s.issues.map(l=>Bs(l,n,Us())))}),t)}const x7=ue("$ZodUnion",(e,t)=>{St.init(e,t),it(e._zod,"optin",()=>t.options.some(a=>a._zod.optin==="optional")?"optional":void 0),it(e._zod,"optout",()=>t.options.some(a=>a._zod.optout==="optional")?"optional":void 0),it(e._zod,"values",()=>{if(t.options.every(a=>a._zod.values))return new Set(t.options.flatMap(a=>Array.from(a._zod.values)))}),it(e._zod,"pattern",()=>{if(t.options.every(a=>a._zod.pattern)){const a=t.options.map(s=>s._zod.pattern);return new RegExp(`^(${a.map(s=>gx(s.source)).join("|")})$`)}});const r=t.options.length===1,n=t.options[0]._zod.run;e._zod.parse=(a,s)=>{if(r)return n(a,s);let l=!1;const c=[];for(const d of t.options){const f=d._zod.run({value:a.value,issues:[]},s);if(f instanceof Promise)c.push(f),l=!0;else{if(f.issues.length===0)return f;c.push(f)}}return l?Promise.all(c).then(d=>G2(d,a,e,s)):G2(c,a,e,s)}}),w7=ue("$ZodIntersection",(e,t)=>{St.init(e,t),e._zod.parse=(r,n)=>{const a=r.value,s=t.left._zod.run({value:a,issues:[]},n),l=t.right._zod.run({value:a,issues:[]},n);return s instanceof Promise||l instanceof Promise?Promise.all([s,l]).then(([d,f])=>Y2(r,d,f)):Y2(r,s,l)}});function Fy(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(tc(e)&&tc(t)){const r=Object.keys(t),n=Object.keys(e).filter(s=>r.indexOf(s)!==-1),a={...e,...t};for(const s of n){const l=Fy(e[s],t[s]);if(!l.valid)return{valid:!1,mergeErrorPath:[s,...l.mergeErrorPath]};a[s]=l.data}return{valid:!0,data:a}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let n=0;n<e.length;n++){const a=e[n],s=t[n],l=Fy(a,s);if(!l.valid)return{valid:!1,mergeErrorPath:[n,...l.mergeErrorPath]};r.push(l.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function Y2(e,t,r){if(t.issues.length&&e.issues.push(...t.issues),r.issues.length&&e.issues.push(...r.issues),Qo(e))return e;const n=Fy(t.value,r.value);if(!n.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(n.mergeErrorPath)}`);return e.value=n.data,e}const _7=ue("$ZodEnum",(e,t)=>{St.init(e,t);const r=sT(t.entries),n=new Set(r);e._zod.values=n,e._zod.pattern=new RegExp(`^(${r.filter(a=>D8.has(typeof a)).map(a=>typeof a=="string"?v0(a):a.toString()).join("|")})$`),e._zod.parse=(a,s)=>{const l=a.value;return n.has(l)||a.issues.push({code:"invalid_value",values:r,input:l,inst:e}),a}}),S7=ue("$ZodTransform",(e,t)=>{St.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new aT(e.constructor.name);const a=t.transform(r.value,r);if(n.async)return(a instanceof Promise?a:Promise.resolve(a)).then(l=>(r.value=l,r));if(a instanceof Promise)throw new il;return r.value=a,r}});function W2(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const k7=ue("$ZodOptional",(e,t)=>{St.init(e,t),e._zod.optin="optional",e._zod.optout="optional",it(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),it(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${gx(r.source)})?$`):void 0}),e._zod.parse=(r,n)=>{if(t.innerType._zod.optin==="optional"){const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(s=>W2(s,r.value)):W2(a,r.value)}return r.value===void 0?r:t.innerType._zod.run(r,n)}}),j7=ue("$ZodNullable",(e,t)=>{St.init(e,t),it(e._zod,"optin",()=>t.innerType._zod.optin),it(e._zod,"optout",()=>t.innerType._zod.optout),it(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${gx(r.source)}|null)$`):void 0}),it(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(r,n)=>r.value===null?r:t.innerType._zod.run(r,n)}),E7=ue("$ZodDefault",(e,t)=>{St.init(e,t),e._zod.optin="optional",it(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);if(r.value===void 0)return r.value=t.defaultValue,r;const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(s=>X2(s,t)):X2(a,t)}});function X2(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const O7=ue("$ZodPrefault",(e,t)=>{St.init(e,t),e._zod.optin="optional",it(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>(n.direction==="backward"||r.value===void 0&&(r.value=t.defaultValue),t.innerType._zod.run(r,n))}),N7=ue("$ZodNonOptional",(e,t)=>{St.init(e,t),it(e._zod,"values",()=>{const r=t.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),e._zod.parse=(r,n)=>{const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(s=>J2(s,e)):J2(a,e)}});function J2(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const A7=ue("$ZodCatch",(e,t)=>{St.init(e,t),it(e._zod,"optin",()=>t.innerType._zod.optin),it(e._zod,"optout",()=>t.innerType._zod.optout),it(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(s=>(r.value=s.value,s.issues.length&&(r.value=t.catchValue({...r,error:{issues:s.issues.map(l=>Bs(l,n,Us()))},input:r.value}),r.issues=[]),r)):(r.value=a.value,a.issues.length&&(r.value=t.catchValue({...r,error:{issues:a.issues.map(s=>Bs(s,n,Us()))},input:r.value}),r.issues=[]),r)}}),T7=ue("$ZodPipe",(e,t)=>{St.init(e,t),it(e._zod,"values",()=>t.in._zod.values),it(e._zod,"optin",()=>t.in._zod.optin),it(e._zod,"optout",()=>t.out._zod.optout),it(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(r,n)=>{if(n.direction==="backward"){const s=t.out._zod.run(r,n);return s instanceof Promise?s.then(l=>kf(l,t.in,n)):kf(s,t.in,n)}const a=t.in._zod.run(r,n);return a instanceof Promise?a.then(s=>kf(s,t.out,n)):kf(a,t.out,n)}});function kf(e,t,r){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},r)}const C7=ue("$ZodReadonly",(e,t)=>{St.init(e,t),it(e._zod,"propValues",()=>t.innerType._zod.propValues),it(e._zod,"values",()=>t.innerType._zod.values),it(e._zod,"optin",()=>t.innerType?._zod?.optin),it(e._zod,"optout",()=>t.innerType?._zod?.optout),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(Q2):Q2(a)}});function Q2(e){return e.value=Object.freeze(e.value),e}const P7=ue("$ZodCustom",(e,t)=>{Vr.init(e,t),St.init(e,t),e._zod.parse=(r,n)=>r,e._zod.check=r=>{const n=r.value,a=t.fn(n);if(a instanceof Promise)return a.then(s=>ej(s,r,n,e));ej(a,r,n,e)}});function ej(e,t,r,n){if(!e){const a={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(a.params=n._zod.def.params),t.issues.push(rc(a))}}var tj;class D7{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...r){const n=r[0];if(this._map.set(t,n),n&&typeof n=="object"&&"id"in n){if(this._idmap.has(n.id))throw new Error(`ID ${n.id} already exists in the registry`);this._idmap.set(n.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const r=this._map.get(t);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(t),this}get(t){const r=t._zod.parent;if(r){const n={...this.get(r)??{}};delete n.id;const a={...n,...this._map.get(t)};return Object.keys(a).length?a:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function M7(){return new D7}(tj=globalThis).__zod_globalRegistry??(tj.__zod_globalRegistry=M7());const Bu=globalThis.__zod_globalRegistry;function R7(e,t){return new e({type:"string",...Ae(t)})}function $7(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...Ae(t)})}function rj(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...Ae(t)})}function L7(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...Ae(t)})}function I7(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Ae(t)})}function z7(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Ae(t)})}function U7(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Ae(t)})}function B7(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...Ae(t)})}function q7(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...Ae(t)})}function H7(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...Ae(t)})}function F7(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...Ae(t)})}function V7(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...Ae(t)})}function K7(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...Ae(t)})}function Z7(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...Ae(t)})}function G7(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...Ae(t)})}function Y7(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...Ae(t)})}function W7(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...Ae(t)})}function X7(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Ae(t)})}function J7(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Ae(t)})}function Q7(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...Ae(t)})}function e9(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...Ae(t)})}function t9(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...Ae(t)})}function r9(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...Ae(t)})}function n9(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Ae(t)})}function a9(e,t){return new e({type:"string",format:"date",check:"string_format",...Ae(t)})}function i9(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...Ae(t)})}function s9(e,t){return new e({type:"string",format:"duration",check:"string_format",...Ae(t)})}function o9(e,t){return new e({type:"number",checks:[],...Ae(t)})}function l9(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...Ae(t)})}function u9(e,t){return new e({type:"boolean",...Ae(t)})}function c9(e){return new e({type:"any"})}function d9(e){return new e({type:"unknown"})}function f9(e,t){return new e({type:"never",...Ae(t)})}function nj(e,t){return new vT({check:"less_than",...Ae(t),value:e,inclusive:!1})}function qg(e,t){return new vT({check:"less_than",...Ae(t),value:e,inclusive:!0})}function aj(e,t){return new yT({check:"greater_than",...Ae(t),value:e,inclusive:!1})}function Hg(e,t){return new yT({check:"greater_than",...Ae(t),value:e,inclusive:!0})}function ij(e,t){return new Oz({check:"multiple_of",...Ae(t),value:e})}function ST(e,t){return new Az({check:"max_length",...Ae(t),maximum:e})}function gh(e,t){return new Tz({check:"min_length",...Ae(t),minimum:e})}function kT(e,t){return new Cz({check:"length_equals",...Ae(t),length:e})}function h9(e,t){return new Pz({check:"string_format",format:"regex",...Ae(t),pattern:e})}function m9(e){return new Dz({check:"string_format",format:"lowercase",...Ae(e)})}function p9(e){return new Mz({check:"string_format",format:"uppercase",...Ae(e)})}function g9(e,t){return new Rz({check:"string_format",format:"includes",...Ae(t),includes:e})}function v9(e,t){return new $z({check:"string_format",format:"starts_with",...Ae(t),prefix:e})}function y9(e,t){return new Lz({check:"string_format",format:"ends_with",...Ae(t),suffix:e})}function _l(e){return new Iz({check:"overwrite",tx:e})}function b9(e){return _l(t=>t.normalize(e))}function x9(){return _l(e=>e.trim())}function w9(){return _l(e=>e.toLowerCase())}function _9(){return _l(e=>e.toUpperCase())}function S9(){return _l(e=>C8(e))}function k9(e,t,r){return new e({type:"array",element:t,...Ae(r)})}function j9(e,t,r){return new e({type:"custom",check:"custom",fn:t,...Ae(r)})}function E9(e){const t=O9(r=>(r.addIssue=n=>{if(typeof n=="string")r.issues.push(rc(n,r.value,t._zod.def));else{const a=n;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=r.value),a.inst??(a.inst=t),a.continue??(a.continue=!t._zod.def.abort),r.issues.push(rc(a))}},e(r.value,r)));return t}function O9(e,t){const r=new Vr({check:"custom",...Ae(t)});return r._zod.check=e,r}function jT(e){let t=e?.target??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:e?.metadata??Bu,target:t,unrepresentable:e?.unrepresentable??"throw",override:e?.override??(()=>{}),io:e?.io??"output",counter:0,seen:new Map,cycles:e?.cycles??"ref",reused:e?.reused??"inline",external:e?.external??void 0}}function dr(e,t,r={path:[],schemaPath:[]}){var n;const a=e._zod.def,s=t.seen.get(e);if(s)return s.count++,r.schemaPath.includes(e)&&(s.cycle=r.path),s.schema;const l={schema:{},count:1,cycle:void 0,path:r.path};t.seen.set(e,l);const c=e._zod.toJSONSchema?.();if(c)l.schema=c;else{const m={...r,schemaPath:[...r.schemaPath,e],path:r.path},g=e._zod.parent;if(g)l.ref=g,dr(g,t,m),t.seen.get(g).isParent=!0;else if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,l.schema,m);else{const v=l.schema,y=t.processors[a.type];if(!y)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${a.type}`);y(e,t,v,m)}}const d=t.metadataRegistry.get(e);return d&&Object.assign(l.schema,d),t.io==="input"&&Er(e)&&(delete l.schema.examples,delete l.schema.default),t.io==="input"&&l.schema._prefault&&((n=l.schema).default??(n.default=l.schema._prefault)),delete l.schema._prefault,t.seen.get(e).schema}function ET(e,t){const r=e.seen.get(t);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");const n=s=>{const l=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const m=e.external.registry.get(s[0])?.id,g=e.external.uri??(y=>y);if(m)return{ref:g(m)};const v=s[1].defId??s[1].schema.id??`schema${e.counter++}`;return s[1].defId=v,{defId:v,ref:`${g("__shared")}#/${l}/${v}`}}if(s[1]===r)return{ref:"#"};const d=`#/${l}/`,f=s[1].schema.id??`__schema${e.counter++}`;return{defId:f,ref:d+f}},a=s=>{if(s[1].schema.$ref)return;const l=s[1],{ref:c,defId:d}=n(s);l.def={...l.schema},d&&(l.defId=d);const f=l.schema;for(const m in f)delete f[m];f.$ref=c};if(e.cycles==="throw")for(const s of e.seen.entries()){const l=s[1];if(l.cycle)throw new Error(`Cycle detected: #/${l.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const s of e.seen.entries()){const l=s[1];if(t===s[0]){a(s);continue}if(e.external){const d=e.external.registry.get(s[0])?.id;if(t!==s[0]&&d){a(s);continue}}if(e.metadataRegistry.get(s[0])?.id){a(s);continue}if(l.cycle){a(s);continue}if(l.count>1&&e.reused==="ref"){a(s);continue}}}function OT(e,t){const r=e.seen.get(t);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");const n=l=>{const c=e.seen.get(l),d=c.def??c.schema,f={...d};if(c.ref===null)return;const m=c.ref;if(c.ref=null,m){n(m);const g=e.seen.get(m).schema;g.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(d.allOf=d.allOf??[],d.allOf.push(g)):(Object.assign(d,g),Object.assign(d,f))}c.isParent||e.override({zodSchema:l,jsonSchema:d,path:c.path??[]})};for(const l of[...e.seen.entries()].reverse())n(l[0]);const a={};if(e.target==="draft-2020-12"?a.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?a.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?a.$schema="http://json-schema.org/draft-04/schema#":e.target,e.external?.uri){const l=e.external.registry.get(t)?.id;if(!l)throw new Error("Schema is missing an `id` property");a.$id=e.external.uri(l)}Object.assign(a,r.def??r.schema);const s=e.external?.defs??{};for(const l of e.seen.entries()){const c=l[1];c.def&&c.defId&&(s[c.defId]=c.def)}e.external||Object.keys(s).length>0&&(e.target==="draft-2020-12"?a.$defs=s:a.definitions=s);try{const l=JSON.parse(JSON.stringify(a));return Object.defineProperty(l,"~standard",{value:{...t["~standard"],jsonSchema:{input:vh(t,"input"),output:vh(t,"output")}},enumerable:!1,writable:!1}),l}catch{throw new Error("Error converting schema to JSON.")}}function Er(e,t){const r=t??{seen:new Set};if(r.seen.has(e))return!1;r.seen.add(e);const n=e._zod.def;if(n.type==="transform")return!0;if(n.type==="array")return Er(n.element,r);if(n.type==="set")return Er(n.valueType,r);if(n.type==="lazy")return Er(n.getter(),r);if(n.type==="promise"||n.type==="optional"||n.type==="nonoptional"||n.type==="nullable"||n.type==="readonly"||n.type==="default"||n.type==="prefault")return Er(n.innerType,r);if(n.type==="intersection")return Er(n.left,r)||Er(n.right,r);if(n.type==="record"||n.type==="map")return Er(n.keyType,r)||Er(n.valueType,r);if(n.type==="pipe")return Er(n.in,r)||Er(n.out,r);if(n.type==="object"){for(const a in n.shape)if(Er(n.shape[a],r))return!0;return!1}if(n.type==="union"){for(const a of n.options)if(Er(a,r))return!0;return!1}if(n.type==="tuple"){for(const a of n.items)if(Er(a,r))return!0;return!!(n.rest&&Er(n.rest,r))}return!1}const N9=(e,t={})=>r=>{const n=jT({...r,processors:t});return dr(e,n),ET(n,e),OT(n,e)},vh=(e,t)=>r=>{const{libraryOptions:n,target:a}=r??{},s=jT({...n??{},target:a,io:t,processors:{}});return dr(e,s),ET(s,e),OT(s,e)},A9={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},T9=(e,t,r,n)=>{const a=r;a.type="string";const{minimum:s,maximum:l,format:c,patterns:d,contentEncoding:f}=e._zod.bag;if(typeof s=="number"&&(a.minLength=s),typeof l=="number"&&(a.maxLength=l),c&&(a.format=A9[c]??c,a.format===""&&delete a.format),f&&(a.contentEncoding=f),d&&d.size>0){const m=[...d];m.length===1?a.pattern=m[0].source:m.length>1&&(a.allOf=[...m.map(g=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:g.source}))])}},C9=(e,t,r,n)=>{const a=r,{minimum:s,maximum:l,format:c,multipleOf:d,exclusiveMaximum:f,exclusiveMinimum:m}=e._zod.bag;typeof c=="string"&&c.includes("int")?a.type="integer":a.type="number",typeof m=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(a.minimum=m,a.exclusiveMinimum=!0):a.exclusiveMinimum=m),typeof s=="number"&&(a.minimum=s,typeof m=="number"&&t.target!=="draft-04"&&(m>=s?delete a.minimum:delete a.exclusiveMinimum)),typeof f=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(a.maximum=f,a.exclusiveMaximum=!0):a.exclusiveMaximum=f),typeof l=="number"&&(a.maximum=l,typeof f=="number"&&t.target!=="draft-04"&&(f<=l?delete a.maximum:delete a.exclusiveMaximum)),typeof d=="number"&&(a.multipleOf=d)},P9=(e,t,r,n)=>{r.type="boolean"},D9=(e,t,r,n)=>{r.not={}},M9=(e,t,r,n)=>{},R9=(e,t,r,n)=>{},$9=(e,t,r,n)=>{const a=e._zod.def,s=sT(a.entries);s.every(l=>typeof l=="number")&&(r.type="number"),s.every(l=>typeof l=="string")&&(r.type="string"),r.enum=s},L9=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},I9=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},z9=(e,t,r,n)=>{const a=r,s=e._zod.def,{minimum:l,maximum:c}=e._zod.bag;typeof l=="number"&&(a.minItems=l),typeof c=="number"&&(a.maxItems=c),a.type="array",a.items=dr(s.element,t,{...n,path:[...n.path,"items"]})},U9=(e,t,r,n)=>{const a=r,s=e._zod.def;a.type="object",a.properties={};const l=s.shape;for(const f in l)a.properties[f]=dr(l[f],t,{...n,path:[...n.path,"properties",f]});const c=new Set(Object.keys(l)),d=new Set([...c].filter(f=>{const m=s.shape[f]._zod;return t.io==="input"?m.optin===void 0:m.optout===void 0}));d.size>0&&(a.required=Array.from(d)),s.catchall?._zod.def.type==="never"?a.additionalProperties=!1:s.catchall?s.catchall&&(a.additionalProperties=dr(s.catchall,t,{...n,path:[...n.path,"additionalProperties"]})):t.io==="output"&&(a.additionalProperties=!1)},B9=(e,t,r,n)=>{const a=e._zod.def,s=a.inclusive===!1,l=a.options.map((c,d)=>dr(c,t,{...n,path:[...n.path,s?"oneOf":"anyOf",d]}));s?r.oneOf=l:r.anyOf=l},q9=(e,t,r,n)=>{const a=e._zod.def,s=dr(a.left,t,{...n,path:[...n.path,"allOf",0]}),l=dr(a.right,t,{...n,path:[...n.path,"allOf",1]}),c=f=>"allOf"in f&&Object.keys(f).length===1,d=[...c(s)?s.allOf:[s],...c(l)?l.allOf:[l]];r.allOf=d},H9=(e,t,r,n)=>{const a=e._zod.def,s=dr(a.innerType,t,n),l=t.seen.get(e);t.target==="openapi-3.0"?(l.ref=a.innerType,r.nullable=!0):r.anyOf=[s,{type:"null"}]},F9=(e,t,r,n)=>{const a=e._zod.def;dr(a.innerType,t,n);const s=t.seen.get(e);s.ref=a.innerType},V9=(e,t,r,n)=>{const a=e._zod.def;dr(a.innerType,t,n);const s=t.seen.get(e);s.ref=a.innerType,r.default=JSON.parse(JSON.stringify(a.defaultValue))},K9=(e,t,r,n)=>{const a=e._zod.def;dr(a.innerType,t,n);const s=t.seen.get(e);s.ref=a.innerType,t.io==="input"&&(r._prefault=JSON.parse(JSON.stringify(a.defaultValue)))},Z9=(e,t,r,n)=>{const a=e._zod.def;dr(a.innerType,t,n);const s=t.seen.get(e);s.ref=a.innerType;let l;try{l=a.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}r.default=l},G9=(e,t,r,n)=>{const a=e._zod.def,s=t.io==="input"?a.in._zod.def.type==="transform"?a.out:a.in:a.out;dr(s,t,n);const l=t.seen.get(e);l.ref=s},Y9=(e,t,r,n)=>{const a=e._zod.def;dr(a.innerType,t,n);const s=t.seen.get(e);s.ref=a.innerType,r.readOnly=!0},W9=(e,t,r,n)=>{const a=e._zod.def;dr(a.innerType,t,n);const s=t.seen.get(e);s.ref=a.innerType},X9=ue("ZodISODateTime",(e,t)=>{Jz.init(e,t),yt.init(e,t)});function J9(e){return n9(X9,e)}const Q9=ue("ZodISODate",(e,t)=>{Qz.init(e,t),yt.init(e,t)});function eU(e){return a9(Q9,e)}const tU=ue("ZodISOTime",(e,t)=>{e7.init(e,t),yt.init(e,t)});function rU(e){return i9(tU,e)}const nU=ue("ZodISODuration",(e,t)=>{t7.init(e,t),yt.init(e,t)});function aU(e){return s9(nU,e)}const iU=(e,t)=>{dT.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:r=>F8(e,r)},flatten:{value:r=>H8(e,r)},addIssue:{value:r=>{e.issues.push(r),e.message=JSON.stringify(e.issues,Hy,2)}},addIssues:{value:r=>{e.issues.push(...r),e.message=JSON.stringify(e.issues,Hy,2)}},isEmpty:{get(){return e.issues.length===0}}})},Rn=ue("ZodError",iU,{Parent:Error}),sU=yx(Rn),oU=bx(Rn),lU=y0(Rn),uU=b0(Rn),cU=Z8(Rn),dU=G8(Rn),fU=Y8(Rn),hU=W8(Rn),mU=X8(Rn),pU=J8(Rn),gU=Q8(Rn),vU=ez(Rn),Nt=ue("ZodType",(e,t)=>(St.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:vh(e,"input"),output:vh(e,"output")}}),e.toJSONSchema=N9(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone(Ws(t,{checks:[...t.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]})),e.clone=(r,n)=>Wi(e,r,n),e.brand=()=>e,e.register=((r,n)=>(r.add(e,n),e)),e.parse=(r,n)=>sU(e,r,n,{callee:e.parse}),e.safeParse=(r,n)=>lU(e,r,n),e.parseAsync=async(r,n)=>oU(e,r,n,{callee:e.parseAsync}),e.safeParseAsync=async(r,n)=>uU(e,r,n),e.spa=e.safeParseAsync,e.encode=(r,n)=>cU(e,r,n),e.decode=(r,n)=>dU(e,r,n),e.encodeAsync=async(r,n)=>fU(e,r,n),e.decodeAsync=async(r,n)=>hU(e,r,n),e.safeEncode=(r,n)=>mU(e,r,n),e.safeDecode=(r,n)=>pU(e,r,n),e.safeEncodeAsync=async(r,n)=>gU(e,r,n),e.safeDecodeAsync=async(r,n)=>vU(e,r,n),e.refine=(r,n)=>e.check(dB(r,n)),e.superRefine=r=>e.check(fB(r)),e.overwrite=r=>e.check(_l(r)),e.optional=()=>uj(e),e.nullable=()=>cj(e),e.nullish=()=>uj(cj(e)),e.nonoptional=r=>aB(e,r),e.array=()=>VU(e),e.or=r=>GU([e,r]),e.and=r=>WU(e,r),e.transform=r=>dj(e,JU(r)),e.default=r=>tB(e,r),e.prefault=r=>nB(e,r),e.catch=r=>sB(e,r),e.pipe=r=>dj(e,r),e.readonly=()=>uB(e),e.describe=r=>{const n=e.clone();return Bu.add(n,{description:r}),n},Object.defineProperty(e,"description",{get(){return Bu.get(e)?.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return Bu.get(e);const n=e.clone();return Bu.add(n,r[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),NT=ue("_ZodString",(e,t)=>{xx.init(e,t),Nt.init(e,t),e._zod.processJSONSchema=(n,a,s)=>T9(e,n,a);const r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...n)=>e.check(h9(...n)),e.includes=(...n)=>e.check(g9(...n)),e.startsWith=(...n)=>e.check(v9(...n)),e.endsWith=(...n)=>e.check(y9(...n)),e.min=(...n)=>e.check(gh(...n)),e.max=(...n)=>e.check(ST(...n)),e.length=(...n)=>e.check(kT(...n)),e.nonempty=(...n)=>e.check(gh(1,...n)),e.lowercase=n=>e.check(m9(n)),e.uppercase=n=>e.check(p9(n)),e.trim=()=>e.check(x9()),e.normalize=(...n)=>e.check(b9(...n)),e.toLowerCase=()=>e.check(w9()),e.toUpperCase=()=>e.check(_9()),e.slugify=()=>e.check(S9())}),yU=ue("ZodString",(e,t)=>{xx.init(e,t),NT.init(e,t),e.email=r=>e.check($7(bU,r)),e.url=r=>e.check(B7(xU,r)),e.jwt=r=>e.check(r9(RU,r)),e.emoji=r=>e.check(q7(wU,r)),e.guid=r=>e.check(rj(sj,r)),e.uuid=r=>e.check(L7(jf,r)),e.uuidv4=r=>e.check(I7(jf,r)),e.uuidv6=r=>e.check(z7(jf,r)),e.uuidv7=r=>e.check(U7(jf,r)),e.nanoid=r=>e.check(H7(_U,r)),e.guid=r=>e.check(rj(sj,r)),e.cuid=r=>e.check(F7(SU,r)),e.cuid2=r=>e.check(V7(kU,r)),e.ulid=r=>e.check(K7(jU,r)),e.base64=r=>e.check(Q7(PU,r)),e.base64url=r=>e.check(e9(DU,r)),e.xid=r=>e.check(Z7(EU,r)),e.ksuid=r=>e.check(G7(OU,r)),e.ipv4=r=>e.check(Y7(NU,r)),e.ipv6=r=>e.check(W7(AU,r)),e.cidrv4=r=>e.check(X7(TU,r)),e.cidrv6=r=>e.check(J7(CU,r)),e.e164=r=>e.check(t9(MU,r)),e.datetime=r=>e.check(J9(r)),e.date=r=>e.check(eU(r)),e.time=r=>e.check(rU(r)),e.duration=r=>e.check(aU(r))});function wx(e){return R7(yU,e)}const yt=ue("ZodStringFormat",(e,t)=>{gt.init(e,t),NT.init(e,t)}),bU=ue("ZodEmail",(e,t)=>{Hz.init(e,t),yt.init(e,t)}),sj=ue("ZodGUID",(e,t)=>{Bz.init(e,t),yt.init(e,t)}),jf=ue("ZodUUID",(e,t)=>{qz.init(e,t),yt.init(e,t)}),xU=ue("ZodURL",(e,t)=>{Fz.init(e,t),yt.init(e,t)}),wU=ue("ZodEmoji",(e,t)=>{Vz.init(e,t),yt.init(e,t)}),_U=ue("ZodNanoID",(e,t)=>{Kz.init(e,t),yt.init(e,t)}),SU=ue("ZodCUID",(e,t)=>{Zz.init(e,t),yt.init(e,t)}),kU=ue("ZodCUID2",(e,t)=>{Gz.init(e,t),yt.init(e,t)}),jU=ue("ZodULID",(e,t)=>{Yz.init(e,t),yt.init(e,t)}),EU=ue("ZodXID",(e,t)=>{Wz.init(e,t),yt.init(e,t)}),OU=ue("ZodKSUID",(e,t)=>{Xz.init(e,t),yt.init(e,t)}),NU=ue("ZodIPv4",(e,t)=>{r7.init(e,t),yt.init(e,t)}),AU=ue("ZodIPv6",(e,t)=>{n7.init(e,t),yt.init(e,t)}),TU=ue("ZodCIDRv4",(e,t)=>{a7.init(e,t),yt.init(e,t)}),CU=ue("ZodCIDRv6",(e,t)=>{i7.init(e,t),yt.init(e,t)}),PU=ue("ZodBase64",(e,t)=>{s7.init(e,t),yt.init(e,t)}),DU=ue("ZodBase64URL",(e,t)=>{l7.init(e,t),yt.init(e,t)}),MU=ue("ZodE164",(e,t)=>{u7.init(e,t),yt.init(e,t)}),RU=ue("ZodJWT",(e,t)=>{d7.init(e,t),yt.init(e,t)}),AT=ue("ZodNumber",(e,t)=>{xT.init(e,t),Nt.init(e,t),e._zod.processJSONSchema=(n,a,s)=>C9(e,n,a),e.gt=(n,a)=>e.check(aj(n,a)),e.gte=(n,a)=>e.check(Hg(n,a)),e.min=(n,a)=>e.check(Hg(n,a)),e.lt=(n,a)=>e.check(nj(n,a)),e.lte=(n,a)=>e.check(qg(n,a)),e.max=(n,a)=>e.check(qg(n,a)),e.int=n=>e.check(oj(n)),e.safe=n=>e.check(oj(n)),e.positive=n=>e.check(aj(0,n)),e.nonnegative=n=>e.check(Hg(0,n)),e.negative=n=>e.check(nj(0,n)),e.nonpositive=n=>e.check(qg(0,n)),e.multipleOf=(n,a)=>e.check(ij(n,a)),e.step=(n,a)=>e.check(ij(n,a)),e.finite=()=>e;const r=e._zod.bag;e.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function Hi(e){return o9(AT,e)}const $U=ue("ZodNumberFormat",(e,t)=>{f7.init(e,t),AT.init(e,t)});function oj(e){return l9($U,e)}const LU=ue("ZodBoolean",(e,t)=>{h7.init(e,t),Nt.init(e,t),e._zod.processJSONSchema=(r,n,a)=>P9(e,r,n)});function IU(e){return u9(LU,e)}const zU=ue("ZodAny",(e,t)=>{m7.init(e,t),Nt.init(e,t),e._zod.processJSONSchema=(r,n,a)=>M9()});function UU(){return c9(zU)}const BU=ue("ZodUnknown",(e,t)=>{p7.init(e,t),Nt.init(e,t),e._zod.processJSONSchema=(r,n,a)=>R9()});function lj(){return d9(BU)}const qU=ue("ZodNever",(e,t)=>{g7.init(e,t),Nt.init(e,t),e._zod.processJSONSchema=(r,n,a)=>D9(e,r,n)});function HU(e){return f9(qU,e)}const FU=ue("ZodArray",(e,t)=>{v7.init(e,t),Nt.init(e,t),e._zod.processJSONSchema=(r,n,a)=>z9(e,r,n,a),e.element=t.element,e.min=(r,n)=>e.check(gh(r,n)),e.nonempty=r=>e.check(gh(1,r)),e.max=(r,n)=>e.check(ST(r,n)),e.length=(r,n)=>e.check(kT(r,n)),e.unwrap=()=>e.element});function VU(e,t){return k9(FU,e,t)}const KU=ue("ZodObject",(e,t)=>{b7.init(e,t),Nt.init(e,t),e._zod.processJSONSchema=(r,n,a)=>U9(e,r,n,a),it(e,"shape",()=>t.shape),e.keyof=()=>_x(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:lj()}),e.loose=()=>e.clone({...e._zod.def,catchall:lj()}),e.strict=()=>e.clone({...e._zod.def,catchall:HU()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>I8(e,r),e.safeExtend=r=>z8(e,r),e.merge=r=>U8(e,r),e.pick=r=>$8(e,r),e.omit=r=>L8(e,r),e.partial=(...r)=>B8(TT,e,r[0]),e.required=(...r)=>q8(CT,e,r[0])});function w0(e,t){const r={type:"object",shape:e??{},...Ae(t)};return new KU(r)}const ZU=ue("ZodUnion",(e,t)=>{x7.init(e,t),Nt.init(e,t),e._zod.processJSONSchema=(r,n,a)=>B9(e,r,n,a),e.options=t.options});function GU(e,t){return new ZU({type:"union",options:e,...Ae(t)})}const YU=ue("ZodIntersection",(e,t)=>{w7.init(e,t),Nt.init(e,t),e._zod.processJSONSchema=(r,n,a)=>q9(e,r,n,a)});function WU(e,t){return new YU({type:"intersection",left:e,right:t})}const Vy=ue("ZodEnum",(e,t)=>{_7.init(e,t),Nt.init(e,t),e._zod.processJSONSchema=(n,a,s)=>$9(e,n,a),e.enum=t.entries,e.options=Object.values(t.entries);const r=new Set(Object.keys(t.entries));e.extract=(n,a)=>{const s={};for(const l of n)if(r.has(l))s[l]=t.entries[l];else throw new Error(`Key ${l} not found in enum`);return new Vy({...t,checks:[],...Ae(a),entries:s})},e.exclude=(n,a)=>{const s={...t.entries};for(const l of n)if(r.has(l))delete s[l];else throw new Error(`Key ${l} not found in enum`);return new Vy({...t,checks:[],...Ae(a),entries:s})}});function _x(e,t){const r=Array.isArray(e)?Object.fromEntries(e.map(n=>[n,n])):e;return new Vy({type:"enum",entries:r,...Ae(t)})}const XU=ue("ZodTransform",(e,t)=>{S7.init(e,t),Nt.init(e,t),e._zod.processJSONSchema=(r,n,a)=>I9(e,r),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new aT(e.constructor.name);r.addIssue=s=>{if(typeof s=="string")r.issues.push(rc(s,r.value,t));else{const l=s;l.fatal&&(l.continue=!1),l.code??(l.code="custom"),l.input??(l.input=r.value),l.inst??(l.inst=e),r.issues.push(rc(l))}};const a=t.transform(r.value,r);return a instanceof Promise?a.then(s=>(r.value=s,r)):(r.value=a,r)}});function JU(e){return new XU({type:"transform",transform:e})}const TT=ue("ZodOptional",(e,t)=>{k7.init(e,t),Nt.init(e,t),e._zod.processJSONSchema=(r,n,a)=>W9(e,r,n,a),e.unwrap=()=>e._zod.def.innerType});function uj(e){return new TT({type:"optional",innerType:e})}const QU=ue("ZodNullable",(e,t)=>{j7.init(e,t),Nt.init(e,t),e._zod.processJSONSchema=(r,n,a)=>H9(e,r,n,a),e.unwrap=()=>e._zod.def.innerType});function cj(e){return new QU({type:"nullable",innerType:e})}const eB=ue("ZodDefault",(e,t)=>{E7.init(e,t),Nt.init(e,t),e._zod.processJSONSchema=(r,n,a)=>V9(e,r,n,a),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function tB(e,t){return new eB({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():lT(t)}})}const rB=ue("ZodPrefault",(e,t)=>{O7.init(e,t),Nt.init(e,t),e._zod.processJSONSchema=(r,n,a)=>K9(e,r,n,a),e.unwrap=()=>e._zod.def.innerType});function nB(e,t){return new rB({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():lT(t)}})}const CT=ue("ZodNonOptional",(e,t)=>{N7.init(e,t),Nt.init(e,t),e._zod.processJSONSchema=(r,n,a)=>F9(e,r,n,a),e.unwrap=()=>e._zod.def.innerType});function aB(e,t){return new CT({type:"nonoptional",innerType:e,...Ae(t)})}const iB=ue("ZodCatch",(e,t)=>{A7.init(e,t),Nt.init(e,t),e._zod.processJSONSchema=(r,n,a)=>Z9(e,r,n,a),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function sB(e,t){return new iB({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const oB=ue("ZodPipe",(e,t)=>{T7.init(e,t),Nt.init(e,t),e._zod.processJSONSchema=(r,n,a)=>G9(e,r,n,a),e.in=t.in,e.out=t.out});function dj(e,t){return new oB({type:"pipe",in:e,out:t})}const lB=ue("ZodReadonly",(e,t)=>{C7.init(e,t),Nt.init(e,t),e._zod.processJSONSchema=(r,n,a)=>Y9(e,r,n,a),e.unwrap=()=>e._zod.def.innerType});function uB(e){return new lB({type:"readonly",innerType:e})}const cB=ue("ZodCustom",(e,t)=>{P7.init(e,t),Nt.init(e,t),e._zod.processJSONSchema=(r,n,a)=>L9(e,r)});function dB(e,t={}){return j9(cB,e,t)}function fB(e){return E9(e)}w0({name:wx().min(1,"SKU Name is required"),bottlesPerCase:Hi().min(1),bottlesPerTruck:Hi().min(1),casesPerPallet:Hi().min(1),scrapPercentage:Hi().min(0).default(0)});const hB=w0({date:wx().regex(/^\d{4}-\d{2}-\d{2}$/,"Date must be YYYY-MM-DD"),type:_x(["demand_plan","inbound_trucks","production_actual","truck_manifest_json"]),value:Hi(),metaJson:UU().optional()});w0({productionRate:Hi().min(0),downtimeHours:Hi().min(0),isAutoReplenish:IU().optional()});const mB=w0({date:wx().regex(/^\d{4}-\d{2}-\d{2}$/),count:Hi().min(0),location:_x(["floor","yard"])}),pB=async e=>{const[t,r,n,a]=await Promise.all([Re.from("planning_entries").select("date, entry_type, value, meta_json").eq("product_id",e),Re.from("production_settings").select("*").eq("product_id",e).maybeSingle(),Re.from("inventory_snapshots").select("*").eq("product_id",e).eq("location","floor").order("date",{ascending:!1}).limit(1).maybeSingle(),Re.from("inventory_snapshots").select("*").eq("product_id",e).eq("location","yard").order("date",{ascending:!1}).limit(1).maybeSingle()]);return{entries:t.data||[],settings:r.data,snapshotFloor:n.data,snapshotYard:a.data}},gB=async(e,t,r,n,a,s=null)=>{if(a==null){const{error:d}=await Re.from("planning_entries").delete().eq("product_id",e).eq("date",r).eq("entry_type",n);if(d)throw d;return}try{hB.parse({date:r,type:n,value:a,metaJson:s})}catch(d){throw console.error("Validation Failed:",d),new Error(`Invalid Planning Entry: ${d.errors[0].message}`)}const{data:l}=await Re.from("planning_entries").select("id").eq("product_id",e).eq("date",r).eq("entry_type",n).maybeSingle(),c={product_id:e,user_id:t,date:r,entry_type:n,value:a,meta_json:s};if(l){const{error:d}=await Re.from("planning_entries").update({value:a,meta_json:s,user_id:t}).eq("id",l.id);if(d)throw d}else{const{error:d}=await Re.from("planning_entries").insert(c);if(d)throw d}},Ef=async(e,t,r)=>{if(t==="production_rate"&&typeof r=="number"&&r<0)throw new Error("Production Rate cannot be negative");if(t==="downtime_hours"&&typeof r=="number"&&r<0)throw new Error("Downtime cannot be negative");const{data:n}=await Re.from("production_settings").select("id").eq("product_id",e).limit(1),a=n&&n.length>0?n[0].id:null,s={product_id:e,[t]:r};a&&(s.id=a);const{error:l}=await Re.from("production_settings").upsert(s);if(l)throw console.error("Error saving production setting:",l),l},vB=async e=>{if(!e.length)return;const{error:t}=await Re.from("planning_entries").upsert(e,{onConflict:"product_id, date, entry_type"});if(t)throw t},fj=async(e,t,r,n,a="floor")=>{try{mB.parse({date:r,count:n,location:a})}catch(l){throw new Error(`Invalid Snapshot: ${l.errors[0].message}`)}const{error:s}=await Re.from("inventory_snapshots").upsert({product_id:e,user_id:t,date:r,location:a,quantity_pallets:n},{onConflict:"product_id, date, location"});if(s)throw s},yB=async()=>{const{data:e,error:t}=await Re.from("procurement_orders").select("*").order("date",{ascending:!0});if(t)throw t;return e||[]},bB=async(e,t)=>{const r={po_number:e.po,quantity:e.qty,sku:e.sku,supplier:e.supplier,carrier:e.carrier,status:e.status||"planned",date:e.date,delivery_time:e.time,user_id:t},{data:n}=await Re.from("procurement_orders").select("id").eq("po_number",e.po).maybeSingle();n?await Re.from("procurement_orders").update(r).eq("id",n.id):await Re.from("procurement_orders").insert(r)},xB=async e=>{const{error:t}=await Re.from("procurement_orders").delete().eq("po_number",e);if(t)throw t},wB=async e=>{const{data:t,error:r}=await Re.from("profiles").select("lead_time_days, safety_stock_loads, dashboard_layout, theme").eq("id",e).maybeSingle();return r?(console.error("Error fetching profile:",r),null):t},_B=async(e,t)=>{const r={id:e,...t,updated_at:new Date().toISOString()},{error:n}=await Re.from("profiles").upsert(r);if(n)throw n},Sl=()=>{const e=x.useCallback(async(g,v)=>{if(!g)return{success:!1,error:"No user"};try{for(const y of v){const S=await _f(g.id,y),k=localStorage.getItem(`mrp_${y}_productionRate`),_=localStorage.getItem(`mrp_${y}_downtimeHours`),j=localStorage.getItem(`mrp_${y}_isAutoReplenish`);(k||_||j)&&(await Ef(S,"production_rate",k?Number(k):null),await Ef(S,"downtime_hours",_?Number(_):null),await Ef(S,"is_auto_replenish",j==="true"));const N=[{key:"monthlyDemand",type:"demand_plan"},{key:"monthlyInbound",type:"inbound_trucks"},{key:"monthlyProductionActuals",type:"production_actual"}],E=[];for(const{key:A,type:T}of N){const P=localStorage.getItem(`mrp_${y}_${A}`);if(P)try{const M=JSON.parse(P);Object.entries(M).forEach(([$,L])=>{E.push({product_id:S,user_id:g.id,date:$,entry_type:T,value:Number(L)})})}catch{}}E.length>0&&await vB(E);const C=localStorage.getItem(`mrp_${y}_inventoryAnchor`);if(C)try{const A=JSON.parse(C);await fj(S,g.id,A.date,Number(A.count),"floor")}catch{}}return{success:!0}}catch(y){return console.error("Migration Failed:",y),{success:!1,error:y}}},[]),t=x.useCallback(async(g,v)=>{const y=await A8(g,v);if(!y)return null;const{entries:S,settings:k,snapshotFloor:_,snapshotYard:j}=await pB(y.id),N={},E={},C={},A={};S?.forEach(M=>{const $=Number(M.value);M.entry_type==="demand_plan"&&(N[M.date]=$),M.entry_type==="inbound_trucks"&&(E[M.date]=$),M.entry_type==="production_actual"&&(C[M.date]=$),M.entry_type==="truck_manifest_json"&&(A[M.date]=M.meta_json||[])});const T=_?{date:_.date,count:Number(_.quantity_pallets)}:null,P=j?{count:Number(j.quantity_pallets),date:j.date}:{count:0,date:null};return{product:y,monthlyDemand:N,monthlyInbound:E,monthlyProductionActuals:C,productionRate:k?.production_rate||5e3,downtimeHours:k?.downtime_hours||0,isAutoReplenish:k?.is_auto_replenish!==!1,inventoryAnchor:T,yardInventory:P,truckManifest:A}},[]),r=x.useCallback(async(g,v,y,S,k)=>{const _=await _f(g,v);let j=typeof k=="number"?k:null,N=null;S==="truck_manifest_json"&&Array.isArray(k)?(j=k.length,N=k):j=Number(k),await gB(_,g,y,S,j,N)},[]),n=x.useCallback(async(g,v,y,S)=>{const k=await _f(g,v);await Ef(k,y,S)},[]),a=x.useCallback(async(g,v,y,S,k="floor")=>{const _=await _f(g,v);await fj(_,g,y,S,k)},[]),s=x.useCallback(async g=>await wB(g),[]),l=x.useCallback(async(g,v)=>{await _B(g,v)},[]),c=x.useCallback(async(g,v,y="viewer")=>{if(!g)return;if(!["admin","planner"].includes(y)){console.warn("Upload skipped: insufficient role (client-side check). RLS would likely reject this.");return}const{count:S,error:k}=await Re.from("products").select("*",{count:"exact",head:!0}).eq("user_id",g.id);if(k){console.error("Migration Check Failed:",k);return}S===0&&await e(g,v)},[e]),d=x.useCallback(async g=>{if(!g.po)return;const v=(await Re.auth.getUser()).data.user;v&&await bB(g,v.id)},[]),f=x.useCallback(async g=>{await xB(g)},[]),m=x.useCallback(async()=>{const g=await yB(),v={};return g.forEach(y=>{v[y.date]||(v[y.date]={items:[]}),v[y.date].items.push({id:y.id,po:y.po_number,qty:Number(y.quantity),sku:y.sku||"",supplier:y.supplier,status:y.status,date:y.date,time:y.delivery_time||"",carrier:y.carrier||"",palletStats:y.meta_data?y.meta_data.palletStats:void 0})}),v},[]);return{supabase:Re,fetchMRPState:t,savePlanningEntry:r,saveProductionSetting:n,saveInventorySnapshot:a,migrateLocalStorage:e,uploadLocalData:c,fetchUserProfile:s,saveUserProfile:l,saveProcurementEntry:d,deleteProcurementEntry:f,fetchProcurementData:m}};function nc({table:e,filter:t,event:r="*",schema:n="public",onDataChange:a,enabled:s=!0}){x.useEffect(()=>{if(!s)return;const l=`public:${e}${t?`:${t}`:""}`,c={event:r,schema:n,table:e,filter:t||void 0},d=Re.channel(l).on("postgres_changes",c,f=>{a(f)}).subscribe(f=>{});return()=>{Re.removeChannel(d)}},[e,t,r,n,a,s])}const rn={safetyStockLoads:6,csvMapping:{statusColumn:"Trailer State",fullValue:"Loaded - Inbound",skuColumn:"Commodity"},dashboardLayout:{top:["kpis"],col1:["demand"],col2:["chart","inventory","production"]},leadTimeDays:2},PT=x.createContext(void 0);function SB({children:e}){const{user:t}=Tr(),{fetchUserProfile:r,saveUserProfile:n}=Sl(),[a,s]=x.useState(()=>{try{const T=localStorage.getItem("safetyStockLoads");if(T===null)return rn.safetyStockLoads;const P=Number(T);return!isNaN(P)&&P>=0?P:rn.safetyStockLoads}catch{return rn.safetyStockLoads}}),[l,c]=x.useState(()=>{try{const T=localStorage.getItem("csvMapping");return T?JSON.parse(T):rn.csvMapping}catch{return rn.csvMapping}}),[d,f]=x.useState(()=>{try{const T=localStorage.getItem("dashboardLayout");let P=T?JSON.parse(T):rn.dashboardLayout;return P.top&&P.top.includes("demand")&&(P.top=P.top.filter(M=>M!=="demand"),P.col1.includes("demand")||P.col1.unshift("demand")),{top:P.top||["kpis"],col1:P.col1||["demand"],col2:P.col2||["chart","inventory","production"],...P}}catch{return rn.dashboardLayout}}),[m,g]=x.useState(()=>{try{const T=localStorage.getItem("leadTimeDays"),P=Number(T);return!isNaN(P)&&P>=0?P:rn.leadTimeDays}catch{return rn.leadTimeDays}}),[v,y]=x.useState(()=>localStorage.getItem("activeSku")||"20oz"),[S,k]=x.useState(()=>localStorage.getItem("theme")||"light"),[_,j]=x.useState(()=>{try{const T=localStorage.getItem("sched_targetDailyProduction"),P=localStorage.getItem("sched_shiftStartTime"),M=localStorage.getItem("sched_poAssignments"),$=localStorage.getItem("sched_cancelledLoads");return T!==null||P!==null||M!==null?{targetDailyProduction:T?Number(T):0,shiftStartTime:P||"00:00",poAssignments:M?JSON.parse(M):{},cancelledLoads:$?JSON.parse($):[]}:{targetDailyProduction:0,shiftStartTime:"00:00",poAssignments:{},cancelledLoads:[]}}catch{return{targetDailyProduction:0,shiftStartTime:"00:00",poAssignments:{},cancelledLoads:[]}}});nc({table:"profiles",filter:t?`id=eq.${t.id}`:void 0,event:"UPDATE",enabled:!!t,onDataChange:T=>{const P=T.new;if(P&&(P.lead_time_days!==void 0&&P.lead_time_days!==null&&g(Number(P.lead_time_days)),P.safety_stock_loads!==void 0&&P.safety_stock_loads!==null&&s(Number(P.safety_stock_loads)),P.theme&&k(P.theme),P.dashboard_layout)){const M=P.dashboard_layout;f($=>({...$,top:M.top||$.top,col1:M.col1||$.col1,col2:M.col2||$.col2})),M.scheduler&&j($=>({...$,...M.scheduler}))}}}),x.useEffect(()=>{t&&r(t.id).then(T=>{if(T){if(T.lead_time_days!==null&&g(T.lead_time_days),T.safety_stock_loads!==null&&s(T.safety_stock_loads),T.dashboard_layout){const P=T.dashboard_layout;f(M=>({...M,top:P.top||M.top,col1:P.col1||M.col1,col2:P.col2||M.col2})),P.scheduler&&j(M=>({...M,...P.scheduler}))}T.theme&&k(T.theme)}})},[t,r]),x.useEffect(()=>{localStorage.setItem("safetyStockLoads",JSON.stringify(a)),t&&n(t.id,{safety_stock_loads:a})},[a,t,n]),x.useEffect(()=>{localStorage.setItem("leadTimeDays",JSON.stringify(m)),t&&n(t.id,{lead_time_days:m})},[m,t,n]),x.useEffect(()=>{localStorage.setItem("csvMapping",JSON.stringify(l))},[l]),x.useEffect(()=>{localStorage.setItem("activeSku",v)},[v]),x.useEffect(()=>{const T=window.document.documentElement;S==="dark"?T.classList.add("dark"):T.classList.remove("dark"),localStorage.setItem("theme",S),t&&n(t.id,{theme:S})},[S,t,n]),x.useEffect(()=>{if(localStorage.setItem("dashboardLayout",JSON.stringify(d)),localStorage.setItem("settings_scheduler",JSON.stringify(_)),t){const T={...d,scheduler:_};n(t.id,{dashboard_layout:T})}},[d,_,t,n]);const N=x.useCallback((T,P)=>{c(M=>({...M,[T]:P}))},[]),E=x.useCallback((T,P)=>{j(M=>({...M,[T]:P}))},[]),C=x.useCallback(()=>{s(rn.safetyStockLoads),g(rn.leadTimeDays),c(rn.csvMapping),f(rn.dashboardLayout),j({targetDailyProduction:0,shiftStartTime:"00:00",poAssignments:{},cancelledLoads:[]})},[]),A=x.useMemo(()=>({safetyStockLoads:a,leadTimeDays:m,csvMapping:l,dashboardLayout:d,schedulerSettings:_,theme:S,activeSku:v,setTheme:k,setDashboardLayout:f,setSafetyStockLoads:T=>{const P=Number(T);s(!isNaN(P)&&P>=0?P:0)},setLeadTimeDays:T=>{const P=Number(T);g(!isNaN(P)&&P>=0?P:2)},updateCsvMapping:N,updateSchedulerSetting:E,resetDefaults:C,setActiveSku:y,updateGlobalSetting:(T,P)=>{T==="leadTimeDays"&&g(Number(P)),T==="safetyStockLoads"&&s(Number(P))}}),[a,m,l,d,_,S,v,N,E,C]);return p.jsx(PT.Provider,{value:A,children:e})}function Jn(){const e=x.useContext(PT);if(!e)throw new Error("useSettings must be used within a SettingsProvider");return e}const DT=x.createContext();function fr(){return x.useContext(DT)}function kB({children:e}){const{user:t}=Tr(),[r,n]=x.useState(()=>{try{const m=localStorage.getItem("ubp_products_list");return m?JSON.parse(m):[]}catch{return[]}}),[a,s]=x.useState(()=>!localStorage.getItem("ubp_products_list")),l=async()=>{if(t)try{const{data:m,error:g}=await Re.from("products").select(`
                    *,
                    production_settings (
                        line_name,
                        production_rate
                    )
                `);if(g)throw g;const v=m||[];n(v),localStorage.setItem("ubp_products_list",JSON.stringify(v))}catch(m){console.error("Error loading products:",m)}finally{s(!1)}},c=async(m,g)=>{const v=r.find(S=>S.name===m);if(!v)return;const y=r.map(S=>S.name===m?{...S,...g}:S);n(y);try{const{error:S}=await Re.from("products").update(g).eq("id",v.id);if(S)throw S}catch(S){console.error("Failed to update product settings",S),l()}};x.useEffect(()=>{l()},[t]);const d=x.useMemo(()=>{const m={};return r.forEach(g=>{const y=(g.production_settings?.find(S=>S.line_name==="Line 1")||g.production_settings?.[0])?.production_rate||0;m[g.name]={bottlesPerCase:g.bottles_per_case,bottlesPerTruck:g.bottles_per_truck,casesPerTruck:Math.floor((g.bottles_per_truck||0)/(g.bottles_per_case||1)),casesPerPallet:g.cases_per_pallet,palletsPerTruck:22,productionRate:y,scrapPercentage:0,leadTimeDays:g.lead_time_days,safetyStockLoads:g.safety_stock_loads,id:g.id}}),m},[r]),f={products:r,productMap:d,loading:a,refreshProducts:l,updateProductSettings:c,getProductSpecs:m=>d[m]||null};return p.jsx(DT.Provider,{value:f,children:e})}const MT=(e,t="00:00",r,n,a=1,s=0)=>{if(!n||n<=0)return"";let l=n,c=r;a>1&&n<1e4&&r>2e4&&(c=r/a);const d=c/l;let f=d;s>0&&s*d>23.5&&(f=23.5/s);const[m,g]=t.split(":").map(Number);let S=((m||0)+(g||0)/60+e*f)%24;S<0&&(S+=24);const k=Math.floor(S),_=Math.round((S-k)*60),j=(k+Math.floor(_/60))%24,N=_%60;return`${String(j).padStart(2,"0")}:${String(N).padStart(2,"0")}`},RT=x.createContext(void 0);function jB({children:e}){const{user:t}=Tr(),{fetchProcurementData:r,saveProcurementEntry:n,deleteProcurementEntry:a}=Sl(),{schedulerSettings:s,activeSku:l}=Jn(),{getProductSpecs:c}=fr(),[d,f]=x.useState(()=>{try{const E=localStorage.getItem("poManifest");return E?JSON.parse(E):{}}catch{return{}}});x.useEffect(()=>{localStorage.setItem("poManifest",JSON.stringify(d))},[d]),nc({table:"procurement_orders",event:"*",enabled:!!t,onDataChange:E=>{const{eventType:C,new:A,old:T}=E;if(C==="DELETE"){const $=T.id,L=T.po_number;if(!$&&!L)return;f(R=>{const q={...R};let V=null,oe=null;for(const[de,U]of Object.entries(q)){const K=U.items.find(W=>$&&W.id===$||L&&W.po===L);if(K){V=de,oe=K;break}}return V&&oe&&(q[V].items=q[V].items.filter(de=>de!==oe),q[V].items.length===0&&delete q[V]),q});return}const P=A.date,M={id:A.id||crypto.randomUUID(),po:A.po_number,date:A.date,qty:Number(A.quantity),status:A.status,supplier:A.supplier,sku:A.sku,time:A.delivery_time,carrier:A.carrier,palletStats:A.meta_data?A.meta_data.palletStats:void 0};f($=>{const L={...$};for(const[R,q]of Object.entries(L)){const V=q.items.filter(oe=>oe.po!==M.po);V.length!==q.items.length&&(L[R]={items:V},V.length===0&&delete L[R])}return L[P]||(L[P]={items:[]}),L[P].items.push(M),L})}});const m=(E,C)=>{if(f(A=>({...A,[E]:{items:C}})),t)try{C.forEach(A=>{n(A).catch(T=>console.error("Cloud Save Failed for Item:",A,T))})}catch(A){console.error("Error initiating cloud sync:",A)}},g=E=>{f(C=>{const A={...C},T=E.reduce((P,M)=>(P[M.date]||(P[M.date]=[]),P[M.date].push(M),P),{});return Object.entries(T).forEach(([P,M])=>{let L=(A[P]?.items||[]).length;M.forEach((R,q)=>{if(R.id||(R.id=crypto.randomUUID()),!R.time){const V=R.sku||l,oe=c(V),de=s?.shiftStartTime||"00:00";if(oe&&oe.productionRate>0){const U=oe.bottlesPerTruck||2e4,K=oe.productionRate,W=oe.bottlesPerCase||1;R.time=MT(L+q,de,U,K,W)}}A[P]||(A[P]={items:[]}),A[P].items.push(R)})}),t&&E.forEach(P=>{n(P).catch(M=>console.error("Cloud Sync Error",M))}),A})},v=(E,C,A)=>{f(T=>{const P={...T};return P[E]&&(P[E].items=P[E].items.filter(M=>M.id!==C)),P}),t&&A&&a(A)},y=(E,C)=>{f(A=>{const T={...A};return T[E]?.items&&(T[E].items=T[E].items.map(P=>P.id===C.id?C:P)),T}),t&&n(C)},S=E=>{f(C=>{const A={...C};return E.forEach(T=>{A[T.date]?.items&&(A[T.date].items=A[T.date].items.filter(P=>P.id!==T.id))}),A}),t&&E.forEach(C=>{C.po&&a(C.po)})},k=(E,C,A)=>{if(f(T=>{const P={...T};P[E]?.items&&(P[E].items=P[E].items.filter(L=>L.id!==A.id));const M=P[C]?.items||[],$={...A,date:C};return P[C]={items:[...M,$]},P}),t){const T={...A,date:C};n(T)}},_=E=>{f(C=>{const A={...C};return E.forEach(T=>{let P=null;for(const[$,L]of Object.entries(A)){if(L.items.some(R=>R.id===T.id)){P=$;break}if(L.items.some(R=>R.po===T.po)){P=$;break}}const M=T.date;if(P&&P!==M)A[P]?.items&&(A[P].items=A[P].items.filter($=>$.id!==T.id),A[P].items.length===0&&delete A[P]),A[M]||(A[M]={items:[]}),A[M].items.push(T);else{const $=P||M;A[$]?A[$].items=A[$].items.map(L=>L.id===T.id?T:L):(A[$]||(A[$]={items:[]}),A[$].items.push(T))}}),A}),t&&E.forEach(C=>n(C))},j=()=>f({});x.useEffect(()=>{t&&r().then(E=>{E&&Object.keys(E).length>0&&f(E)})},[t,r]);const N={poManifest:d,updateDailyManifest:m,addOrdersBulk:g,removeOrder:v,updateOrder:y,deleteOrdersBulk:S,moveOrder:k,bulkUpdateOrders:_,clearManifest:j};return p.jsx(RT.Provider,{value:N,children:e})}function Qn(){const e=x.useContext(RT);if(!e)throw new Error("useProcurement must be used within a ProcurementProvider");return e}const EB=async()=>{const{data:e,error:t}=await Re.from("user_roles").select("*").order("created_at",{ascending:!1});if(t)throw t.code==="42P01",t;return e||[]},OB=async(e,t)=>{const{error:r}=await Re.from("user_roles").update({role:t}).match({email:e});if(r)throw r},NB=async e=>{const{error:t}=await Re.from("user_roles").delete().match({email:e});if(t)throw t},AB=async(e,t)=>{const{error:r}=await Re.from("user_roles").upsert({email:e.toLowerCase(),role:t},{onConflict:"email"});if(r)throw r},TB=async(e,t)=>{const r=eT(tT,rT,{auth:{persistSession:!1,autoRefreshToken:!1,detectSessionInUrl:!1}}),{data:n,error:a}=await r.auth.signUp({email:e,password:t});if(a)throw a;return n},Tu=[{id:"admin",label:"Administrator",badge:"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300",desc:"Full system access. Can manage users, settings, and master data."},{id:"planner",label:"Lead Planner",badge:"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300",desc:"Can edit Master Schedule, MRP, and Production Plans."},{id:"logistics",label:"Floor / Logistics",badge:"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300",desc:"Can manage Trucks, Verify Shifts, and view Schedule. No MRP editing."},{id:"viewer",label:"Read-Only Viewer",badge:"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300",desc:"Can view dashboards and schedules but cannot make changes."}];function CB(){const[e,t]=x.useState([]),[r,n]=x.useState(!0),[a,s]=x.useState(""),[l,c]=x.useState("viewer"),[d,f]=x.useState(null),[m,g]=x.useState(null),[v,y]=x.useState(!1);x.useEffect(()=>{S()},[]);const S=async()=>{try{n(!0);const N=await EB();t(N),y(!1)}catch(N){console.error(N),N.code==="42P01"||N.message?.includes("Could not find the table")?(y(!0),t([])):f(N.message)}finally{n(!1)}},k=async N=>{if(N.preventDefault(),!a)return;n(!0),f(null);const E="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",C=new Uint32Array(10);crypto.getRandomValues(C);let A="";for(let T=0;T<10;T++)A+=E[C[T]%E.length];try{try{await TB(a,A)}catch(T){throw T.message?.includes("Signups not allowed")?new Error("Cannot create user: Public Signups are disabled. Enable them or use Enterprise Invite."):T}await AB(a,l),t(T=>[{email:a.toLowerCase(),role:l,created_at:new Date().toISOString()},...T.filter(P=>P.email!==a.toLowerCase())]),g({email:a,password:A}),s("")}catch(T){console.error("Provisioning Error:",T),f(T.message)}finally{n(!1),S()}},_=async N=>{if(confirm(`Revoke access for ${N}?`))try{await NB(N),t(e.filter(E=>E.email!==N))}catch(E){f(E.message)}},j=async(N,E)=>{try{t(e.map(C=>C.email===N?{...C,role:E}:C)),await OB(N,E)}catch(C){f(C.message),S()}};return v?p.jsxs("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 rounded-lg border border-amber-200 dark:border-amber-700/50",children:[p.jsx("h3",{className:"font-bold text-amber-800 dark:text-amber-200 mb-2",children:"Setup Required"}),p.jsxs("p",{className:"text-sm text-amber-700 dark:text-amber-300 mb-4",children:["The ",p.jsx("code",{children:"user_roles"})," table is missing. Run this SQL in your Supabase SQL Editor:"]}),p.jsxs("div",{className:"bg-slate-900 rounded p-4 relative group",children:[p.jsx("code",{className:"text-xs text-green-400 font-mono block whitespace-pre-wrap",children:`create table user_roles (
  id uuid default gen_random_uuid() primary key,
  email text unique not null,
  role text default 'viewer',
  created_at timestamptz default now()
);

alter table user_roles enable row level security;
create policy "Allow read access for all auth users" on user_roles for select to authenticated using (true);
create policy "Allow insert/update/delete for authenticated" on user_roles for all to authenticated using (true); 
-- In production, replace the write policy with: using (auth.email() IN (SELECT email FROM user_roles WHERE role = 'admin'))`}),p.jsxs("button",{onClick:()=>navigator.clipboard.writeText(`create table user_roles ( id uuid default gen_random_uuid() primary key, email text unique not null, role text default 'viewer', created_at timestamptz default now() ); alter table user_roles enable row level security; create policy "Allow read access" on user_roles for select to authenticated using (true); create policy "Allow all write" on user_roles for all to authenticated using (true);`),className:"absolute top-2 right-2 bg-slate-700 hover:bg-slate-600 text-white text-xs px-2 py-1 rounded flex items-center gap-1",children:[p.jsx(jy,{className:"w-3 h-3"})," Copy"]})]}),p.jsx("div",{className:"mt-4 flex gap-2",children:p.jsx("button",{onClick:S,className:"px-4 py-2 bg-amber-200 hover:bg-amber-300 rounded text-amber-900 font-bold text-sm",children:"I've ran the SQL, Try Again"})})]}):p.jsxs("div",{className:"space-y-8 relative",children:[m&&p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:p.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-2xl max-w-md w-full border border-slate-200 dark:border-slate-700 overflow-hidden transform scale-100 transition-all",children:[p.jsx("div",{className:"bg-emerald-500 h-2 w-full"}),p.jsxs("div",{className:"p-6",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[p.jsx("div",{className:"bg-emerald-100 dark:bg-emerald-900/30 p-2 rounded-full",children:p.jsx(M5,{className:"w-6 h-6 text-emerald-600 dark:text-emerald-400"})}),p.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"User Created!"})]}),p.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-6",children:["The account for ",p.jsx("strong",{className:"text-slate-700 dark:text-slate-200",children:m.email})," is ready. please copy the temporary password below."]}),p.jsxs("div",{className:"bg-slate-100 dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700 mb-6",children:[p.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1 block",children:"Temporary Password"}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("code",{className:"text-lg font-mono font-bold text-slate-800 dark:text-emerald-400 break-all",children:m.password}),p.jsx("button",{onClick:()=>{navigator.clipboard.writeText(m.password),alert("Password Copied!")},className:"ml-auto p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-slate-700 rounded-lg transition-colors",title:"Copy Password",children:p.jsx(jy,{className:"w-5 h-5"})})]})]}),p.jsx("button",{onClick:()=>g(null),className:"w-full bg-slate-900 dark:bg-slate-700 hover:bg-slate-800 text-white font-bold py-3 rounded-xl transition-colors",children:"Done"})]})]})}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:Tu.map(N=>p.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-white dark:bg-slate-800 border border-slate-100 dark:border-slate-700 shadow-sm",children:[p.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wide shrink-0 mt-0.5 ${N.badge}`,children:N.label}),p.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 leading-tight",children:N.desc})]},N.id))}),p.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[p.jsxs("h3",{className:"text-sm font-bold text-slate-700 dark:text-slate-300 mb-2 uppercase tracking-wider flex items-center gap-2",children:[p.jsx(Q6,{className:"w-5 h-5 text-blue-500"})," Provision New User"]}),p.jsx("p",{className:"text-xs text-slate-500 mb-4",children:"Instantly create a user account. The system will generate a temporary password for you to give to them."}),p.jsxs("form",{onSubmit:k,className:"flex flex-col sm:flex-row gap-4 items-end",children:[p.jsxs("div",{className:"flex-1 w-full",children:[p.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"User Email"}),p.jsx("input",{type:"email",required:!0,placeholder:"colleague@company.com",value:a,onChange:N=>s(N.target.value),className:"w-full rounded-lg border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white p-2.5 focus:ring-blue-500 focus:border-blue-500 shadow-sm"})]}),p.jsxs("div",{className:"w-full sm:w-48",children:[p.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"Role"}),p.jsx("select",{value:l,onChange:N=>c(N.target.value),className:"w-full rounded-lg border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white p-2.5 focus:ring-blue-500 focus:border-blue-500 shadow-sm",children:Tu.map(N=>p.jsx("option",{value:N.id,children:N.label},N.id))})]}),p.jsx("div",{className:"w-full sm:w-auto",children:p.jsx("button",{type:"submit",disabled:r,className:"w-full sm:w-auto bg-blue-600 hover:bg-blue-500 text-white font-bold py-2.5 px-6 rounded-lg transition-colors shadow-lg shadow-blue-500/30 flex items-center justify-center gap-2 disabled:opacity-50",children:r?"Processing...":p.jsxs(p.Fragment,{children:[p.jsx(d0,{className:"w-5 h-5"}),p.jsx("span",{children:"Create User"})]})})})]})]}),p.jsxs("div",{children:[p.jsx("div",{className:"flex justify-between items-end mb-3",children:p.jsxs("h3",{className:"text-sm font-bold text-slate-700 dark:text-slate-300 uppercase tracking-wider",children:["Authorized Users (",e.length,")"]})}),d&&p.jsx("div",{className:"mb-4 text-rose-500 text-sm bg-rose-50 dark:bg-rose-900/20 p-2 rounded border border-rose-100 dark:border-rose-800",children:d}),p.jsx("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl divide-y divide-slate-100 dark:divide-slate-700 shadow-sm overflow-hidden",children:r?p.jsx("div",{className:"p-8 text-center text-slate-500 animate-pulse text-sm",children:"Loading users..."}):e.length===0?p.jsx("div",{className:"p-8 text-center text-slate-400 text-sm italic",children:"No users found. Create one above."}):e.map(N=>{const E=Tu.find(C=>C.id===N.role)||Tu[3];return p.jsxs("div",{className:"p-4 flex flex-col sm:flex-row sm:items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors gap-3",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 dark:bg-slate-700 ring-2 ring-white dark:ring-slate-800 flex items-center justify-center text-sm font-bold text-slate-600 dark:text-slate-300 uppercase shadow-sm",children:N.email.substring(0,2)}),p.jsxs("div",{children:[p.jsx("div",{className:"text-sm font-bold text-slate-900 dark:text-white",children:N.email}),p.jsxs("div",{className:"text-[10px] text-slate-500 dark:text-slate-400 flex items-center gap-1",children:["Added ",new Date(N.created_at).toLocaleDateString()]})]})]}),p.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3 w-full sm:w-auto pl-14 sm:pl-0",children:[p.jsx("select",{value:N.role,onChange:C=>j(N.email,C.target.value),className:`text-xs font-bold rounded-full py-1.5 px-3 border-0 cursor-pointer focus:ring-2 focus:ring-offset-1 transition-colors outline-none ${E.badge}`,children:Tu.map(C=>p.jsx("option",{value:C.id,children:C.label},C.id))}),p.jsx("button",{title:"Revoke Access",onClick:()=>_(N.email),className:"p-2 text-slate-400 hover:text-rose-600 hover:bg-rose-50 dark:hover:bg-rose-900/30 rounded-lg transition-colors",children:p.jsx(Ya,{className:"w-4 h-4"})})]})]},N.id)})})]})]})}function PB({onClose:e}){const[t,r]=x.useState("general"),{userRole:n}=Tr(),a=n==="admin",{safetyStockLoads:s,setSafetyStockLoads:l,leadTimeDays:c,setLeadTimeDays:d,csvMapping:f,updateCsvMapping:m,resetDefaults:g,theme:v,setTheme:y}=Jn(),{poManifest:S}=Qn();return p.jsx("div",{className:"fixed inset-0 z-50 flex justify-center bg-black bg-opacity-50 overflow-y-auto px-4 py-6 backdrop-blur-sm",children:p.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-xl w-full max-w-2xl relative h-fit my-auto p-6 border dark:border-gray-700 transition-colors",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Master Settings"}),p.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 font-bold text-xl",children:""})]}),p.jsxs("div",{className:"flex border-b border-slate-200 dark:border-slate-700 mb-6",children:[p.jsx("button",{className:`pb-2 px-1 text-sm font-bold mr-6 border-b-2 transition-colors ${t==="general"?"border-blue-600 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400"}`,onClick:()=>r("general"),children:"General & Appearance"}),a&&p.jsx("button",{className:`pb-2 px-1 text-sm font-bold border-b-2 transition-colors ${t==="users"?"border-blue-600 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400"}`,onClick:()=>r("users"),children:"User Management"})]}),p.jsx("div",{className:"space-y-6 h-[60vh] overflow-y-auto pr-2 custom-scrollbar",children:t==="general"?p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex items-center justify-between bg-gray-50 dark:bg-gray-800 p-4 rounded-md border border-gray-200 dark:border-gray-700",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"font-bold text-gray-800 dark:text-gray-200",children:"Appearance"}),p.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Choose your interface theme."})]}),p.jsxs("div",{className:"flex bg-gray-200 dark:bg-gray-700 p-1 rounded-lg",children:[p.jsxs("button",{onClick:()=>y("light"),className:`flex items-center space-x-2 px-3 py-1.5 rounded-md text-sm font-medium transition-all ${v==="light"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"}`,children:[p.jsx(R5,{className:"w-4 h-4"}),p.jsx("span",{children:"Light"})]}),p.jsxs("button",{onClick:()=>y("dark"),className:`flex items-center space-x-2 px-3 py-1.5 rounded-md text-sm font-medium transition-all ${v==="dark"?"bg-gray-600 text-white shadow-sm":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"}`,children:[p.jsx(I6,{className:"w-4 h-4"}),p.jsx("span",{children:"Dark"})]})]})]}),p.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-md border border-blue-100 dark:border-blue-800 grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-blue-900 dark:text-blue-300 mb-2",children:"Global Safety Stock (Full Loads)"}),p.jsx("input",{type:"number",inputMode:"numeric",pattern:"[0-9]*",value:s,onChange:k=>l(Number(k.target.value)),className:"mt-1 block w-24 rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-800 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500 text-base sm:text-lg"}),p.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-400 mt-1",children:"Minimum inventory target (Trucks)."})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-blue-900 dark:text-blue-300 mb-2",children:"Inbound Lead Time (Days)"}),p.jsx("input",{type:"number",inputMode:"numeric",pattern:"[0-9]*",value:c,onChange:k=>d(Number(k.target.value)),className:"mt-1 block w-24 rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-800 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500 text-base sm:text-lg"}),p.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-400 mt-1",children:"Days from Order to Delivery."})]})]}),p.jsx("hr",{className:"border-gray-200 dark:border-gray-700"}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-200 mb-4",children:"CSV Integration Mappings"}),p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-md border border-gray-200 dark:border-gray-700 grid grid-cols-1 md:grid-cols-3 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Status Column Header"}),p.jsx("input",{type:"text",value:f.statusColumn,onChange:k=>m("statusColumn",k.target.value),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm",placeholder:"e.g. Trailer State"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:'"Full" Keyword'}),p.jsx("input",{type:"text",value:f.fullValue,onChange:k=>m("fullValue",k.target.value),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm",placeholder:"e.g. Loaded"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"SKU/Product Column"}),p.jsx("input",{type:"text",value:f.skuColumn,onChange:k=>m("skuColumn",k.target.value),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm",placeholder:"e.g. Commodity"})]}),p.jsx("div",{className:"col-span-1 md:col-span-3",children:p.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 italic",children:["The importer will look for rows where ",p.jsx("strong",{children:f.statusColumn}),' contains "',p.jsx("strong",{children:f.fullValue}),'"',f.skuColumn?p.jsxs("span",{children:[" and ",p.jsx("strong",{children:f.skuColumn}),' contains the active bottle size (e.g. "20oz").']}):"."]})})]})]})]}):p.jsx(CB,{})}),p.jsxs("div",{className:"mt-8 bg-gray-50 dark:bg-gray-800 -mx-6 -mb-6 p-4 rounded-b-lg border-t dark:border-gray-700",children:[p.jsxs("div",{className:"flex flex-col-reverse md:flex-row justify-between items-center gap-4",children:[p.jsx("button",{onClick:()=>{confirm("Are you sure you want to reset all settings to factory defaults?")&&g()},className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 text-sm font-medium",children:"Reset to Defaults"}),p.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-4 w-full md:w-auto",children:[p.jsxs("button",{onClick:()=>window.location.reload(),className:"w-full md:w-auto px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 text-sm font-bold flex items-center justify-center",children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4 mr-2",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 4.992l3.181-3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})}),"Reload & Sync"]}),p.jsx("button",{onClick:e,className:"w-full md:w-auto px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm font-bold shadow-sm",children:"Done"})]})]}),p.jsx("div",{className:"text-center mt-4",children:p.jsxs("p",{className:"text-[10px] text-gray-400 dark:text-gray-600",children:["v","2.25.42"," (Smart Planner)"]})})]})]})})}var Xs=C5();const un=e=>{const t=e?new Date(e):new Date,r=t.getTimezoneOffset()*6e4;return new Date(t.getTime()-r).toISOString().split("T")[0]},lr=(e,t)=>{if(!e)return"";try{let r;if(e instanceof Date)r=new Date(e),r.setDate(r.getDate()+t);else{const[l,c,d]=e.split("-").map(Number);r=new Date(l,c-1,d+t)}const n=r.getFullYear(),a=String(r.getMonth()+1).padStart(2,"0"),s=String(r.getDate()).padStart(2,"0");return`${n}-${a}-${s}`}catch(r){return console.error("addDays Error",r),String(e)}},vt=e=>{if(!e)return"";const t=new Date(e);if(isNaN(t.getTime()))return"";if(typeof e=="string"&&e.match(/^\d{4}-\d{2}-\d{2}$/))return e;const r=t.getTimezoneOffset()*6e4;return new Date(t.getTime()-r).toISOString().split("T")[0]},ac=e=>{if(!e)return"";const[t,r]=e.split(":").map(Number);if(isNaN(t))return e;const n=t>=12?"PM":"AM",a=t%12||12,s=r!==void 0?String(r).padStart(2,"0"):"00";return`${a}:${s} ${n}`},DB=e=>e.isSafetyRisk?"bg-red-500":e.isOverflow?"bg-amber-400":"bg-emerald-400",MB=x.memo(({day:e,isToday:t,updateDateDemand:r,updateDateActual:n,updateDateInbound:a,onContextMenu:s,performBulkFill:l,readOnly:c})=>{const[d,f]=x.useState(e?.val?Number(e.val).toLocaleString():0),[m,g]=x.useState(e?.actual?Number(e.actual).toLocaleString():""),[v,y]=x.useState(e?.trucks||0);if(x.useEffect(()=>{f(e?.val?Number(e.val).toLocaleString():0)},[e?.val]),x.useEffect(()=>{g(e?.actual?Number(e.actual).toLocaleString():"")},[e?.actual]),x.useEffect(()=>{y(e?.trucks||0)},[e?.trucks]),!e)return p.jsx("div",{className:"bg-transparent"});const S=Number(v)>0,k=Number(d)>0,_=m!==""&&m!==null&&m!==void 0,j=()=>{let A=String(d).replace(/,/g,"").trim();if(A===""&&(A="0"),!isNaN(A)){let T=Number(A);T>0&&T<1e3&&(T*=1e3),f(T.toLocaleString()),T!==Number(e.val)&&r(e.dateStr,T)}},N=()=>{let A=String(m).replace(/,/g,"").trim();if(A==="")e.actual!==null&&e.actual!==""&&n(e.dateStr,null);else if(!isNaN(A)){let T=Number(A);T>0&&T<1e3&&(T*=1e3),g(T.toLocaleString()),T!==Number(e.actual)&&n(e.dateStr,T)}},E=()=>{const A=String(v).replace(/,/g,"");!isNaN(A)&&Number(A)!==Number(e.trucks)&&a(e.dateStr,A)},C=(A,T)=>{(A.key==="Enter"||A.code==="Enter"||A.code==="NumpadEnter")&&(A.preventDefault(),A.target.blur())};return p.jsxs("div",{onContextMenu:A=>s(A,e.dateStr,d),className:`
                relative group flex flex-col justify-between p-2 rounded-xl transition-all duration-200 border
                ${t?"bg-white dark:bg-slate-800 ring-2 ring-blue-500 border-blue-500 shadow-blue-500/10 z-10 scale-[1.02]":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 hover:border-blue-300 dark:hover:border-blue-700 hover:shadow-md hover:-translate-y-0.5"}
                ${e.isSafetyRisk?"ring-1 ring-red-500/20 bg-red-50/10":""}
            `,children:[p.jsxs("div",{className:"flex justify-between items-center mb-1",children:[p.jsx("span",{className:`
                    text-sm font-bold w-6 h-6 flex items-center justify-center rounded-full
                    ${t?"bg-blue-600 text-white shadow-sm":"text-slate-700 dark:text-slate-300 group-hover:bg-slate-100 dark:group-hover:bg-slate-700"}
                `,children:e.dayNum}),e.isConfirmed&&p.jsx("span",{title:"Confirmed POs",className:"text-[10px] font-bold text-emerald-600 bg-emerald-50 dark:bg-emerald-900/30 px-1.5 py-0.5 rounded border border-emerald-100 dark:border-emerald-800",children:"PO"})]}),p.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-1.5 py-1 min-h-0",children:[p.jsxs("div",{className:"w-full relative group/demand",children:[p.jsx("div",{className:"text-[9px] font-black text-slate-300 dark:text-slate-600 uppercase tracking-widest text-center mb-0.5 group-hover/demand:text-blue-400 transition-colors",children:"Demand"}),p.jsx("input",{className:`
                            w-full text-center outline-none bg-transparent transition-all
                            ${c?"cursor-not-allowed":"cursor-text"}
                            ${k?"text-2xl font-black text-slate-700 dark:text-white":"text-xl font-bold text-slate-300 dark:text-slate-600"}
                            focus:scale-110 focus:text-blue-600 dark:focus:text-blue-400
                        `,value:d||"",placeholder:"-",disabled:c,onChange:A=>f(A.target.value),onBlur:j,onKeyDown:A=>C(A)})]}),p.jsx("div",{className:"flex items-center justify-center w-full",children:p.jsxs("div",{className:`
                        flex items-center gap-1.5 px-2 py-0.5 rounded-md transition-all
                        ${_?"bg-blue-50 dark:bg-blue-900/30 ring-1 ring-blue-100 dark:ring-blue-800":"bg-slate-50 dark:bg-slate-800/50 hover:bg-slate-100 dark:hover:bg-slate-700"}
                     `,children:[p.jsx("span",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-wider select-none",children:"Act"}),p.jsx("input",{className:`
                                w-12 text-center text-xs font-bold bg-transparent outline-none
                                ${_?"text-blue-700 dark:text-blue-300":"text-slate-400"}
                                focus:text-blue-600 dark:focus:text-blue-400
                            `,value:m,placeholder:"-",disabled:c,onChange:A=>g(A.target.value),onBlur:N,onKeyDown:A=>C(A)})]})})]}),p.jsx("div",{className:"mt-2 flex items-center justify-end",children:p.jsxs("div",{className:`
                    flex items-center gap-1 px-1.5 py-0.5 rounded transition-colors
                    ${S?"bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-400 border border-emerald-100 dark:border-emerald-800/50":"text-slate-300"}
                `,children:[p.jsx(dn,{className:"w-3 h-3"}),p.jsx("input",{className:"w-4 text-center text-[10px] font-bold bg-transparent outline-none",value:v||"",placeholder:"0",disabled:c,onChange:A=>y(A.target.value),onBlur:E,onKeyDown:A=>C(A)})]})}),p.jsx("div",{className:"mt-2 h-1.5 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden flex",children:p.jsx("div",{className:`h-full ${DB(e)}`,style:{width:"100%"},title:`Inventory Health: ${e.isSafetyRisk?"Critical":"Healthy"}`})})]})},(e,t)=>!(e.day?.dateStr!==t.day?.dateStr||e.day?.val!==t.day?.val||e.day?.actual!==t.day?.actual||e.day?.trucks!==t.day?.trucks||e.day?.isSafetyRisk!==t.day?.isSafetyRisk||e.day?.isOverflow!==t.day?.isOverflow||e.day?.isConfirmed!==t.day?.isConfirmed||e.isToday!==t.isToday||e.readOnly!==t.readOnly));function RB({monthlyDemand:e,updateDateDemand:t,updateDateDemandBulk:r,monthlyInbound:n,updateDateInbound:a,monthlyProductionActuals:s,updateDateActual:l,specs:c,trucksToCancel:d,dailyLedger:f,safetyTarget:m,poManifest:g={},readOnly:v=!1}){const[y,S]=x.useState(new Date),{days:k,monthLabel:_,totalMonthlyDemand:j,totalEstTrucks:N}=x.useMemo(()=>{const $=y.getFullYear(),L=y.getMonth(),R=new Date($,L,1),V=new Date($,L+1,0).getDate(),oe=R.getDay(),de=Array(oe).fill(null),U=new Date().toLocaleDateString("en-CA");let K=null;d>0&&(K=Object.keys(n||{}).sort().find(Q=>Q>=U&&n[Q]>0));const W=(f||[]).reduce((Y,Q)=>(Y[Q.date]=Q.balance,Y),{}),fe=Array.from({length:V},(Y,Q)=>{const F=new Date($,L,Q+1),ae=F.getFullYear(),re=String(F.getMonth()+1).padStart(2,"0"),ee=String(F.getDate()).padStart(2,"0"),we=`${ae}-${re}-${ee}`,X=W[we];let me=null;return X!==void 0&&c?.bottlesPerCase&&(me=Math.round(X/c.bottlesPerCase)),{date:F,dateStr:we,dayNum:Q+1,val:e[we]||0,trucks:n?.[we]||0,actual:s?.[we],isPushCandidate:K===we,endInvCases:me,isSafetyRisk:X!==void 0&&X<(m||0),isOverflow:X!==void 0&&X>(m||0)+(c?.bottlesPerTruck||0)*2,isConfirmed:g[we]?.items?.length>0}}),pe=fe.reduce((Y,Q)=>{const F=Q.actual!==void 0&&Q.actual!==null?Number(Q.actual):Number(Q.val||0);return Y+F},0);let I=0;if(c&&c.bottlesPerTruck&&c.bottlesPerCase){const Y=c.bottlesPerTruck/c.bottlesPerCase;I=Math.ceil(pe/Y)}return{days:[...de,...fe],monthLabel:R.toLocaleString("default",{month:"long",year:"numeric"}),totalMonthlyDemand:pe,totalEstTrucks:I}},[y,e,n,s,c,d,g,f,m]),E=$=>{S(L=>{const R=new Date(L);return R.setMonth(R.getMonth()+$),R})},[C,A]=x.useState(null),T=()=>A(null),P=($,L,R)=>{v||($.preventDefault(),A({x:$.clientX,y:$.clientY,dateStr:L,currentVal:R}))},M=$=>{if(!C)return;const{dateStr:L,currentVal:R}=C,q=String(R||"").replace(/,/g,""),V=parseInt(q,10);if(!V&&V!==0){T();return}const oe={};if(oe[L]=V.toString(),$==="week")for(let de=1;de<7;de++)oe[lr(L,de)]=V.toString();if($==="month"){const[de,U]=L.split("-").map(Number),K=U-1;let W=1;for(;;){const fe=lr(L,W),[pe,I]=fe.split("-").map(Number);if(I-1!==K||(oe[fe]=V.toString(),W++,W>31))break}}if($==="restOfWeek"){new Date(L.replace(/-/g,"/"));const[de,U,K]=L.split("-").map(Number);let W=1;for(;;){const fe=lr(L,W),[pe,I,Y]=fe.split("-").map(Number);if(new Date(pe,I-1,Y).getDay()===0||(oe[fe]=V.toString(),W++,W>7))break}}r&&r(oe),T()};return p.jsxs("div",{className:"h-full flex flex-col bg-slate-50 dark:bg-slate-900/50 p-4 rounded-xl",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("button",{onClick:()=>E(-1),className:"p-2 hover:bg-white dark:hover:bg-slate-800 rounded-full shadow-sm transition-all text-slate-500 hover:text-blue-600",children:p.jsx(tx,{className:"w-5 h-5"})}),p.jsxs("h2",{className:"text-2xl font-black text-slate-800 dark:text-white tracking-tight flex items-center gap-2",children:[_,p.jsx("span",{className:"text-sm font-medium text-slate-400 font-mono tracking-normal bg-slate-200 dark:bg-slate-800 px-2 py-0.5 rounded-md",children:y.getFullYear()})]}),p.jsx("button",{onClick:()=>E(1),className:"p-2 hover:bg-white dark:hover:bg-slate-800 rounded-full shadow-sm transition-all text-slate-500 hover:text-blue-600",children:p.jsx(rx,{className:"w-5 h-5"})})]}),p.jsx("div",{className:"flex gap-4 text-xs font-bold text-slate-500",children:p.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[p.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500"}),p.jsxs("span",{children:[N," Trucks Est."]})]})})]}),p.jsx("div",{className:"grid grid-cols-7 gap-4 mb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(($,L)=>p.jsx("div",{className:`text-center text-xs font-bold uppercase tracking-wider py-1
                        ${L===0||L===6?"text-slate-400":"text-slate-600 dark:text-slate-300"}
                    `,children:$},$))}),p.jsx("div",{className:"flex-1 grid grid-cols-7 grid-rows-5 gap-3 min-h-0",children:k.map(($,L)=>{if(!$)return p.jsx("div",{className:"bg-transparent"},`pad-${L}`);const R=$.dateStr===new Date().toLocaleDateString("en-CA");return p.jsx(MB,{day:$,isToday:R,updateDateDemand:t,updateDateActual:l,updateDateInbound:a,onContextMenu:P,performBulkFill:M,readOnly:v},$.dateStr)})}),C&&Xs.createPortal(p.jsxs("div",{className:"fixed z-50 bg-white dark:bg-slate-800 rounded-lg shadow-xl border border-slate-200 dark:border-slate-700 py-1 min-w-[160px] animate-in fade-in zoom-in-95 duration-100",style:{top:C.y,left:C.x},onClick:$=>$.stopPropagation(),children:[p.jsx("div",{className:"px-3 py-2 border-b dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50",children:p.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Quick Fill"})}),p.jsxs("button",{onClick:()=>M("week"),className:"w-full text-left px-4 py-2 text-sm text-slate-700 dark:text-slate-200 hover:bg-blue-50 dark:hover:bg-blue-900/30 hover:text-blue-600 flex items-center gap-2",children:[p.jsx("span",{children:""})," Fill Next 7 Days"]}),p.jsxs("button",{onClick:()=>M("restOfWeek"),className:"w-full text-left px-4 py-2 text-sm text-slate-700 dark:text-slate-200 hover:bg-blue-50 dark:hover:bg-blue-900/30 hover:text-blue-600 flex items-center gap-2",children:[p.jsx("span",{children:""})," Rest of Week"]}),p.jsxs("button",{onClick:()=>M("month"),className:"w-full text-left px-4 py-2 text-sm text-slate-700 dark:text-slate-200 hover:bg-blue-50 dark:hover:bg-blue-900/30 hover:text-blue-600 flex items-center gap-2",children:[p.jsx("span",{children:""})," Fill Rest of Month"]}),p.jsx("div",{className:"border-t dark:border-slate-700 my-1"}),p.jsx("button",{onClick:T,className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:"Cancel"})]}),document.body)]})}const $T=typeof document<"u"?ge.useLayoutEffect:()=>{};var Fg;const $B=(Fg=ge.useInsertionEffect)!==null&&Fg!==void 0?Fg:$T;function LB(e){const t=x.useRef(null);return $B(()=>{t.current=e},[e]),x.useCallback((...r)=>{const n=t.current;return n?.(...r)},[])}const Xi=e=>{var t;return(t=e?.ownerDocument)!==null&&t!==void 0?t:document},Cs=e=>e&&"window"in e&&e.window===e?e:Xi(e).defaultView||window;function IB(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function zB(e){return IB(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}let UB=!1;function Sx(){return UB}function LT(e,t){if(!Sx())return t&&e?e.contains(t):!1;if(!e||!t)return!1;let r=t;for(;r!==null;){if(r===e)return!0;r.tagName==="SLOT"&&r.assignedSlot?r=r.assignedSlot.parentNode:zB(r)?r=r.host:r=r.parentNode}return!1}const Ky=(e=document)=>{var t;if(!Sx())return e.activeElement;let r=e.activeElement;for(;r&&"shadowRoot"in r&&(!((t=r.shadowRoot)===null||t===void 0)&&t.activeElement);)r=r.shadowRoot.activeElement;return r};function IT(e){return Sx()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}function zT(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=zT(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ot(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=zT(e))&&(n&&(n+=" "),n+=t);return n}function BB(e){var t;if(typeof window>"u"||window.navigator==null)return!1;let r=(t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands;return Array.isArray(r)&&r.some(n=>e.test(n.brand))||e.test(window.navigator.userAgent)}function qB(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function UT(e){let t=null;return()=>(t==null&&(t=e()),t)}const HB=UT(function(){return qB(/^Mac/i)}),FB=UT(function(){return BB(/Android/i)});function BT(){let e=x.useRef(new Map),t=x.useCallback((a,s,l,c)=>{let d=c?.once?(...f)=>{e.current.delete(l),l(...f)}:l;e.current.set(l,{type:s,eventTarget:a,fn:d,options:c}),a.addEventListener(s,d,c)},[]),r=x.useCallback((a,s,l,c)=>{var d;let f=((d=e.current.get(l))===null||d===void 0?void 0:d.fn)||l;a.removeEventListener(s,f,c),e.current.delete(l)},[]),n=x.useCallback(()=>{e.current.forEach((a,s)=>{r(a.eventTarget,a.type,s,a.options)})},[r]);return x.useEffect(()=>n,[n]),{addGlobalListener:t,removeGlobalListener:r,removeAllGlobalListeners:n}}function VB(e){return e.pointerType===""&&e.isTrusted?!0:FB()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function qT(e){let t=e;return t.nativeEvent=e,t.isDefaultPrevented=()=>t.defaultPrevented,t.isPropagationStopped=()=>t.cancelBubble,t.persist=()=>{},t}function KB(e,t){Object.defineProperty(e,"target",{value:t}),Object.defineProperty(e,"currentTarget",{value:t})}function HT(e){let t=x.useRef({isFocused:!1,observer:null});$T(()=>{const n=t.current;return()=>{n.observer&&(n.observer.disconnect(),n.observer=null)}},[]);let r=LB(n=>{e?.(n)});return x.useCallback(n=>{if(n.target instanceof HTMLButtonElement||n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLSelectElement){t.current.isFocused=!0;let a=n.target,s=l=>{if(t.current.isFocused=!1,a.disabled){let c=qT(l);r(c)}t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};a.addEventListener("focusout",s,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&a.disabled){var l;(l=t.current.observer)===null||l===void 0||l.disconnect();let c=a===document.activeElement?null:document.activeElement;a.dispatchEvent(new FocusEvent("blur",{relatedTarget:c})),a.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:c}))}}),t.current.observer.observe(a,{attributes:!0,attributeFilter:["disabled"]})}},[r])}let ZB=!1,jc=null,Zy=new Set,Zu=new Map,qs=!1,Gy=!1;const GB={Tab:!0,Escape:!0};function kx(e,t){for(let r of Zy)r(e,t)}function YB(e){return!(e.metaKey||!HB()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function yh(e){qs=!0,YB(e)&&(jc="keyboard",kx("keyboard",e))}function sl(e){jc="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(qs=!0,kx("pointer",e))}function FT(e){VB(e)&&(qs=!0,jc="virtual")}function VT(e){e.target===window||e.target===document||ZB||!e.isTrusted||(!qs&&!Gy&&(jc="virtual",kx("virtual",e)),qs=!1,Gy=!1)}function KT(){qs=!1,Gy=!0}function Yy(e){if(typeof window>"u"||typeof document>"u"||Zu.get(Cs(e)))return;const t=Cs(e),r=Xi(e);let n=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){qs=!0,n.apply(this,arguments)},r.addEventListener("keydown",yh,!0),r.addEventListener("keyup",yh,!0),r.addEventListener("click",FT,!0),t.addEventListener("focus",VT,!0),t.addEventListener("blur",KT,!1),typeof PointerEvent<"u"&&(r.addEventListener("pointerdown",sl,!0),r.addEventListener("pointermove",sl,!0),r.addEventListener("pointerup",sl,!0)),t.addEventListener("beforeunload",()=>{ZT(e)},{once:!0}),Zu.set(t,{focus:n})}const ZT=(e,t)=>{const r=Cs(e),n=Xi(e);t&&n.removeEventListener("DOMContentLoaded",t),Zu.has(r)&&(r.HTMLElement.prototype.focus=Zu.get(r).focus,n.removeEventListener("keydown",yh,!0),n.removeEventListener("keyup",yh,!0),n.removeEventListener("click",FT,!0),r.removeEventListener("focus",VT,!0),r.removeEventListener("blur",KT,!1),typeof PointerEvent<"u"&&(n.removeEventListener("pointerdown",sl,!0),n.removeEventListener("pointermove",sl,!0),n.removeEventListener("pointerup",sl,!0)),Zu.delete(r))};function WB(e){const t=Xi(e);let r;return t.readyState!=="loading"?Yy(e):(r=()=>{Yy(e)},t.addEventListener("DOMContentLoaded",r)),()=>ZT(e,r)}typeof document<"u"&&WB();function GT(){return jc!=="pointer"}const XB=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function JB(e,t,r){let n=Xi(r?.target);const a=typeof window<"u"?Cs(r?.target).HTMLInputElement:HTMLInputElement,s=typeof window<"u"?Cs(r?.target).HTMLTextAreaElement:HTMLTextAreaElement,l=typeof window<"u"?Cs(r?.target).HTMLElement:HTMLElement,c=typeof window<"u"?Cs(r?.target).KeyboardEvent:KeyboardEvent;return e=e||n.activeElement instanceof a&&!XB.has(n.activeElement.type)||n.activeElement instanceof s||n.activeElement instanceof l&&n.activeElement.isContentEditable,!(e&&t==="keyboard"&&r instanceof c&&!GB[r.key])}function QB(e,t,r){Yy(),x.useEffect(()=>{let n=(a,s)=>{JB(!!r?.isTextInput,a,s)&&e(GT())};return Zy.add(n),()=>{Zy.delete(n)}},t)}function eq(e){let{isDisabled:t,onFocus:r,onBlur:n,onFocusChange:a}=e;const s=x.useCallback(d=>{if(d.target===d.currentTarget)return n&&n(d),a&&a(!1),!0},[n,a]),l=HT(s),c=x.useCallback(d=>{const f=Xi(d.target),m=f?Ky(f):Ky();d.target===d.currentTarget&&m===IT(d.nativeEvent)&&(r&&r(d),a&&a(!0),l(d))},[a,r,l]);return{focusProps:{onFocus:!t&&(r||a||n)?c:void 0,onBlur:!t&&(n||a)?s:void 0}}}function tq(e){let{isDisabled:t,onBlurWithin:r,onFocusWithin:n,onFocusWithinChange:a}=e,s=x.useRef({isFocusWithin:!1}),{addGlobalListener:l,removeAllGlobalListeners:c}=BT(),d=x.useCallback(g=>{g.currentTarget.contains(g.target)&&s.current.isFocusWithin&&!g.currentTarget.contains(g.relatedTarget)&&(s.current.isFocusWithin=!1,c(),r&&r(g),a&&a(!1))},[r,a,s,c]),f=HT(d),m=x.useCallback(g=>{if(!g.currentTarget.contains(g.target))return;const v=Xi(g.target),y=Ky(v);if(!s.current.isFocusWithin&&y===IT(g.nativeEvent)){n&&n(g),a&&a(!0),s.current.isFocusWithin=!0,f(g);let S=g.currentTarget;l(v,"focus",k=>{if(s.current.isFocusWithin&&!LT(S,k.target)){let _=new v.defaultView.FocusEvent("blur",{relatedTarget:k.target});KB(_,S);let j=qT(_);d(j)}},{capture:!0})}},[n,a,f,l,d]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:m,onBlur:d}}}let Wy=!1,Of=0;function rq(){Wy=!0,setTimeout(()=>{Wy=!1},50)}function hj(e){e.pointerType==="touch"&&rq()}function nq(){if(!(typeof document>"u"))return Of===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",hj),Of++,()=>{Of--,!(Of>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",hj)}}function aq(e){let{onHoverStart:t,onHoverChange:r,onHoverEnd:n,isDisabled:a}=e,[s,l]=x.useState(!1),c=x.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;x.useEffect(nq,[]);let{addGlobalListener:d,removeAllGlobalListeners:f}=BT(),{hoverProps:m,triggerHoverEnd:g}=x.useMemo(()=>{let v=(k,_)=>{if(c.pointerType=_,a||_==="touch"||c.isHovered||!k.currentTarget.contains(k.target))return;c.isHovered=!0;let j=k.currentTarget;c.target=j,d(Xi(k.target),"pointerover",N=>{c.isHovered&&c.target&&!LT(c.target,N.target)&&y(N,N.pointerType)},{capture:!0}),t&&t({type:"hoverstart",target:j,pointerType:_}),r&&r(!0),l(!0)},y=(k,_)=>{let j=c.target;c.pointerType="",c.target=null,!(_==="touch"||!c.isHovered||!j)&&(c.isHovered=!1,f(),n&&n({type:"hoverend",target:j,pointerType:_}),r&&r(!1),l(!1))},S={};return typeof PointerEvent<"u"&&(S.onPointerEnter=k=>{Wy&&k.pointerType==="mouse"||v(k,k.pointerType)},S.onPointerLeave=k=>{!a&&k.currentTarget.contains(k.target)&&y(k,k.pointerType)}),{hoverProps:S,triggerHoverEnd:y}},[t,r,n,a,c,d,f]);return x.useEffect(()=>{a&&g({currentTarget:c.target},c.pointerType)},[a]),{hoverProps:m,isHovered:s}}function iq(e={}){let{autoFocus:t=!1,isTextInput:r,within:n}=e,a=x.useRef({isFocused:!1,isFocusVisible:t||GT()}),[s,l]=x.useState(!1),[c,d]=x.useState(()=>a.current.isFocused&&a.current.isFocusVisible),f=x.useCallback(()=>d(a.current.isFocused&&a.current.isFocusVisible),[]),m=x.useCallback(y=>{a.current.isFocused=y,l(y),f()},[f]);QB(y=>{a.current.isFocusVisible=y,f()},[],{isTextInput:r});let{focusProps:g}=eq({isDisabled:n,onFocusChange:m}),{focusWithinProps:v}=tq({isDisabled:!n,onFocusWithinChange:m});return{isFocused:s,isFocusVisible:c,focusProps:n?v:g}}var sq=Object.defineProperty,oq=(e,t,r)=>t in e?sq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Vg=(e,t,r)=>(oq(e,typeof t!="symbol"?t+"":t,r),r);let lq=class{constructor(){Vg(this,"current",this.detect()),Vg(this,"handoffState","pending"),Vg(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},la=new lq;function kl(e){var t;return la.isServer?null:e==null?document:(t=e?.ownerDocument)!=null?t:document}function Xy(e){var t,r;return la.isServer?null:e==null?document:(r=(t=e?.getRootNode)==null?void 0:t.call(e))!=null?r:document}function YT(e){var t,r;return(r=(t=Xy(e))==null?void 0:t.activeElement)!=null?r:null}function uq(e){return YT(e)===e}function _0(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function ii(){let e=[],t={addEventListener(r,n,a,s){return r.addEventListener(n,a,s),t.add(()=>r.removeEventListener(n,a,s))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return t.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return t.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return _0(()=>{n.current&&r[0]()}),t.add(()=>{n.current=!1})},style(r,n,a){let s=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:a}),this.add(()=>{Object.assign(r.style,{[n]:s})})},group(r){let n=ii();return r(n),this.add(()=>n.dispose())},add(r){return e.includes(r)||e.push(r),()=>{let n=e.indexOf(r);if(n>=0)for(let a of e.splice(n,1))a()}},dispose(){for(let r of e.splice(0))r()}};return t}function Js(){let[e]=x.useState(ii);return x.useEffect(()=>()=>e.dispose(),[e]),e}let Nr=(e,t)=>{la.isServer?x.useEffect(e,t):x.useLayoutEffect(e,t)};function Qs(e){let t=x.useRef(e);return Nr(()=>{t.current=e},[e]),t}let qe=function(e){let t=Qs(e);return ge.useCallback((...r)=>t.current(...r),[t])};function cq(e){let t=e.width/2,r=e.height/2;return{top:e.clientY-r,right:e.clientX+t,bottom:e.clientY+r,left:e.clientX-t}}function dq(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function fq({disabled:e=!1}={}){let t=x.useRef(null),[r,n]=x.useState(!1),a=Js(),s=qe(()=>{t.current=null,n(!1),a.dispose()}),l=qe(c=>{if(a.dispose(),t.current===null){t.current=c.currentTarget,n(!0);{let d=kl(c.currentTarget);a.addEventListener(d,"pointerup",s,!1),a.addEventListener(d,"pointermove",f=>{if(t.current){let m=cq(f);n(dq(m,t.current.getBoundingClientRect()))}},!1),a.addEventListener(d,"pointercancel",s,!1)}}});return{pressed:r,pressProps:e?{}:{onPointerDown:l,onPointerUp:s,onClick:s}}}function eo(e){return x.useMemo(()=>e,Object.values(e))}let hq=x.createContext(void 0);function jx(){return x.useContext(hq)}function Jy(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function Wa(e,t,...r){if(e in t){let a=t[e];return typeof a=="function"?a(...r):a}let n=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Wa),n}var bh=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(bh||{}),Fi=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Fi||{});function Cr(){let e=pq();return x.useCallback(t=>mq({mergeRefs:e,...t}),[e])}function mq({ourProps:e,theirProps:t,slot:r,defaultTag:n,features:a,visible:s=!0,name:l,mergeRefs:c}){c=c??gq;let d=WT(t,e);if(s)return Nf(d,r,n,l,c);let f=a??0;if(f&2){let{static:m=!1,...g}=d;if(m)return Nf(g,r,n,l,c)}if(f&1){let{unmount:m=!0,...g}=d;return Wa(m?0:1,{0(){return null},1(){return Nf({...g,hidden:!0,style:{display:"none"}},r,n,l,c)}})}return Nf(d,r,n,l,c)}function Nf(e,t={},r,n,a){let{as:s=r,children:l,refName:c="ref",...d}=Kg(e,["unmount","static"]),f=e.ref!==void 0?{[c]:e.ref}:{},m=typeof l=="function"?l(t):l;"className"in d&&d.className&&typeof d.className=="function"&&(d.className=d.className(t)),d["aria-labelledby"]&&d["aria-labelledby"]===d.id&&(d["aria-labelledby"]=void 0);let g={};if(t){let v=!1,y=[];for(let[S,k]of Object.entries(t))typeof k=="boolean"&&(v=!0),k===!0&&y.push(S.replace(/([A-Z])/g,_=>`-${_.toLowerCase()}`));if(v){g["data-headlessui-state"]=y.join(" ");for(let S of y)g[`data-${S}`]=""}}if(Gu(s)&&(Object.keys($i(d)).length>0||Object.keys($i(g)).length>0))if(!x.isValidElement(m)||Array.isArray(m)&&m.length>1||bq(m)){if(Object.keys($i(d)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys($i(d)).concat(Object.keys($i(g))).map(v=>`  - ${v}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(v=>`  - ${v}`).join(`
`)].join(`
`))}else{let v=m.props,y=v?.className,S=typeof y=="function"?(...j)=>Jy(y(...j),d.className):Jy(y,d.className),k=S?{className:S}:{},_=WT(m.props,$i(Kg(d,["ref"])));for(let j in g)j in _&&delete g[j];return x.cloneElement(m,Object.assign({},_,g,f,{ref:a(yq(m),f.ref)},k))}return x.createElement(s,Object.assign({},Kg(d,["ref"]),!Gu(s)&&f,!Gu(s)&&g),m)}function pq(){let e=x.useRef([]),t=x.useCallback(r=>{for(let n of e.current)n!=null&&(typeof n=="function"?n(r):n.current=r)},[]);return(...r)=>{if(!r.every(n=>n==null))return e.current=r,t}}function gq(...e){return e.every(t=>t==null)?void 0:t=>{for(let r of e)r!=null&&(typeof r=="function"?r(t):r.current=t)}}function WT(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},r={};for(let n of e)for(let a in n)a.startsWith("on")&&typeof n[a]=="function"?(r[a]!=null||(r[a]=[]),r[a].push(n[a])):t[a]=n[a];if(t.disabled||t["aria-disabled"])for(let n in r)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(n)&&(r[n]=[a=>{var s;return(s=a?.preventDefault)==null?void 0:s.call(a)}]);for(let n in r)Object.assign(t,{[n](a,...s){let l=r[n];for(let c of l){if((a instanceof Event||a?.nativeEvent instanceof Event)&&a.defaultPrevented)return;c(a,...s)}}});return t}function vq(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},r={};for(let n of e)for(let a in n)a.startsWith("on")&&typeof n[a]=="function"?(r[a]!=null||(r[a]=[]),r[a].push(n[a])):t[a]=n[a];for(let n in r)Object.assign(t,{[n](...a){let s=r[n];for(let l of s)l?.(...a)}});return t}function Sr(e){var t;return Object.assign(x.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function $i(e){let t=Object.assign({},e);for(let r in t)t[r]===void 0&&delete t[r];return t}function Kg(e,t=[]){let r=Object.assign({},e);for(let n of t)n in r&&delete r[n];return r}function yq(e){return ge.version.split(".")[0]>="19"?e.props.ref:e.ref}function Gu(e){return e===x.Fragment||e===Symbol.for("react.fragment")}function bq(e){return Gu(e.type)}function xq(e,t,r){let[n,a]=x.useState(r),s=e!==void 0,l=x.useRef(s),c=x.useRef(!1),d=x.useRef(!1);return s&&!l.current&&!c.current?(c.current=!0,l.current=s,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!s&&l.current&&!d.current&&(d.current=!0,l.current=s,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[s?e:n,qe(f=>(s||Xs.flushSync(()=>a(f)),t?.(f)))]}function wq(e){let[t]=x.useState(e);return t}function XT(e={},t=null,r=[]){for(let[n,a]of Object.entries(e))QT(r,JT(t,n),a);return r}function JT(e,t){return e?e+"["+t+"]":t}function QT(e,t,r){if(Array.isArray(r))for(let[n,a]of r.entries())QT(e,JT(t,n.toString()),a);else r instanceof Date?e.push([t,r.toISOString()]):typeof r=="boolean"?e.push([t,r?"1":"0"]):typeof r=="string"?e.push([t,r]):typeof r=="number"?e.push([t,`${r}`]):r==null?e.push([t,""]):Sq(r)&&!x.isValidElement(r)&&XT(r,t,e)}function _q(e){var t,r;let n=(t=e?.form)!=null?t:e.closest("form");if(n){for(let a of n.elements)if(a!==e&&(a.tagName==="INPUT"&&a.type==="submit"||a.tagName==="BUTTON"&&a.type==="submit"||a.nodeName==="INPUT"&&a.type==="image")){a.click();return}(r=n.requestSubmit)==null||r.call(n)}}function Sq(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}let kq="span";var dl=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(dl||{});function jq(e,t){var r;let{features:n=1,...a}=e,s={ref:t,"aria-hidden":(n&2)===2?!0:(r=a["aria-hidden"])!=null?r:void 0,hidden:(n&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return Cr()({ourProps:s,theirProps:a,slot:{},defaultTag:kq,name:"Hidden"})}let ic=Sr(jq),Eq=x.createContext(null);function Oq({children:e}){let t=x.useContext(Eq);if(!t)return ge.createElement(ge.Fragment,null,e);let{target:r}=t;return r?Xs.createPortal(ge.createElement(ge.Fragment,null,e),r):null}function Nq({data:e,form:t,disabled:r,onReset:n,overrides:a}){let[s,l]=x.useState(null),c=Js();return x.useEffect(()=>{if(n&&s)return c.addEventListener(s,"reset",n)},[s,t,n]),ge.createElement(Oq,null,ge.createElement(Aq,{setForm:l,formId:t}),XT(e).map(([d,f])=>ge.createElement(ic,{features:dl.Hidden,...$i({key:d,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:t,disabled:r,name:d,value:f,...a})})))}function Aq({setForm:e,formId:t}){return x.useEffect(()=>{if(t){let r=document.getElementById(t);r&&e(r)}},[e,t]),t?null:ge.createElement(ic,{features:dl.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:r=>{if(!r)return;let n=r.closest("form");n&&e(n)}})}let Tq=x.createContext(void 0);function eC(){return x.useContext(Tq)}function Cq(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function Va(e){return Cq(e)&&"tagName"in e}function ca(e){return Va(e)&&"accessKey"in e}function Vi(e){return Va(e)&&"tabIndex"in e}function Pq(e){return Va(e)&&"style"in e}function Dq(e){return ca(e)&&e.nodeName==="IFRAME"}function tC(e){return ca(e)&&e.nodeName==="INPUT"}function Qy(e){return ca(e)&&e.nodeName==="LABEL"}function Mq(e){return ca(e)&&e.nodeName==="FIELDSET"}function rC(e){return ca(e)&&e.nodeName==="LEGEND"}function Rq(e){return Va(e)?e.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function $q(e){let t=e.parentElement,r=null;for(;t&&!Mq(t);)rC(t)&&(r=t),t=t.parentElement;let n=t?.getAttribute("disabled")==="";return n&&Lq(r)?!1:n}function Lq(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(rC(t))return!1;t=t.previousElementSibling}return!0}let nC=Symbol();function Iq(e,t=!0){return Object.assign(e,{[nC]:t})}function $n(...e){let t=x.useRef(e);x.useEffect(()=>{t.current=e},[e]);let r=qe(n=>{for(let a of t.current)a!=null&&(typeof a=="function"?a(n):a.current=n)});return e.every(n=>n==null||n?.[nC])?void 0:r}let S0=x.createContext(null);S0.displayName="DescriptionContext";function aC(){let e=x.useContext(S0);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,aC),t}return e}function zq(){var e,t;return(t=(e=x.useContext(S0))==null?void 0:e.value)!=null?t:void 0}function iC(){let[e,t]=x.useState([]);return[e.length>0?e.join(" "):void 0,x.useMemo(()=>function(r){let n=qe(s=>(t(l=>[...l,s]),()=>t(l=>{let c=l.slice(),d=c.indexOf(s);return d!==-1&&c.splice(d,1),c}))),a=x.useMemo(()=>({register:n,slot:r.slot,name:r.name,props:r.props,value:r.value}),[n,r.slot,r.name,r.props,r.value]);return ge.createElement(S0.Provider,{value:a},r.children)},[t])]}let Uq="p";function Bq(e,t){let r=x.useId(),n=jx(),{id:a=`headlessui-description-${r}`,...s}=e,l=aC(),c=$n(t);Nr(()=>l.register(a),[a,l.register]);let d=eo({...l.slot,disabled:n||!1}),f={ref:c,...l.props,id:a};return Cr()({ourProps:f,theirProps:s,slot:d,defaultTag:Uq,name:l.name||"Description"})}let qq=Sr(Bq),sC=Object.assign(qq,{});var xh=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(xh||{});let k0=x.createContext(null);k0.displayName="LabelContext";function oC(){let e=x.useContext(k0);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,oC),t}return e}function lC(e){var t,r,n;let a=(r=(t=x.useContext(k0))==null?void 0:t.value)!=null?r:void 0;return((n=void 0)!=null?n:0)>0?[a,...e].filter(Boolean).join(" "):a}function Hq({inherit:e=!1}={}){let t=lC(),[r,n]=x.useState([]),a=e?[t,...r].filter(Boolean):r;return[a.length>0?a.join(" "):void 0,x.useMemo(()=>function(s){let l=qe(d=>(n(f=>[...f,d]),()=>n(f=>{let m=f.slice(),g=m.indexOf(d);return g!==-1&&m.splice(g,1),m}))),c=x.useMemo(()=>({register:l,slot:s.slot,name:s.name,props:s.props,value:s.value}),[l,s.slot,s.name,s.props,s.value]);return ge.createElement(k0.Provider,{value:c},s.children)},[n])]}let Fq="label";function Vq(e,t){var r;let n=x.useId(),a=oC(),s=eC(),l=jx(),{id:c=`headlessui-label-${n}`,htmlFor:d=s??((r=a.props)==null?void 0:r.htmlFor),passive:f=!1,...m}=e,g=$n(t);Nr(()=>a.register(c),[c,a.register]);let v=qe(k=>{let _=k.currentTarget;if(!(k.target!==k.currentTarget&&Rq(k.target))&&(Qy(_)&&k.preventDefault(),a.props&&"onClick"in a.props&&typeof a.props.onClick=="function"&&a.props.onClick(k),Qy(_))){let j=document.getElementById(_.htmlFor);if(j){let N=j.getAttribute("disabled");if(N==="true"||N==="")return;let E=j.getAttribute("aria-disabled");if(E==="true"||E==="")return;(tC(j)&&(j.type==="file"||j.type==="radio"||j.type==="checkbox")||j.role==="radio"||j.role==="checkbox"||j.role==="switch")&&j.click(),j.focus({preventScroll:!0})}}}),y=eo({...a.slot,disabled:l||!1}),S={ref:g,...a.props,id:c,htmlFor:d,onClick:v};return f&&("onClick"in S&&(delete S.htmlFor,delete S.onClick),"onClick"in m&&delete m.onClick),Cr()({ourProps:S,theirProps:m,slot:y,defaultTag:d?Fq:"div",name:a.name||"Label"})}let Kq=Sr(Vq),Zq=Object.assign(Kq,{}),Gq=x.createContext(()=>{});function Yq({value:e,children:t}){return ge.createElement(Gq.Provider,{value:e},t)}let uC=class extends Map{constructor(t){super(),this.factory=t}get(t){let r=super.get(t);return r===void 0&&(r=this.factory(t),this.set(t,r)),r}};var Wq=Object.defineProperty,Xq=(e,t,r)=>t in e?Wq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Jq=(e,t,r)=>(Xq(e,t+"",r),r),cC=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},Nn=(e,t,r)=>(cC(e,t,"read from private field"),r?r.call(e):t.get(e)),Zg=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},mj=(e,t,r,n)=>(cC(e,t,"write to private field"),t.set(e,r),r),aa,qu,Hu;let Qq=class{constructor(t){Zg(this,aa,{}),Zg(this,qu,new uC(()=>new Set)),Zg(this,Hu,new Set),Jq(this,"disposables",ii()),mj(this,aa,t),la.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return Nn(this,aa)}subscribe(t,r){if(la.isServer)return()=>{};let n={selector:t,callback:r,current:t(Nn(this,aa))};return Nn(this,Hu).add(n),this.disposables.add(()=>{Nn(this,Hu).delete(n)})}on(t,r){return la.isServer?()=>{}:(Nn(this,qu).get(t).add(r),this.disposables.add(()=>{Nn(this,qu).get(t).delete(r)}))}send(t){let r=this.reduce(Nn(this,aa),t);if(r!==Nn(this,aa)){mj(this,aa,r);for(let n of Nn(this,Hu)){let a=n.selector(Nn(this,aa));dC(n.current,a)||(n.current=a,n.callback(a))}for(let n of Nn(this,qu).get(t.type))n(Nn(this,aa),t)}}};aa=new WeakMap,qu=new WeakMap,Hu=new WeakMap;function dC(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:Gg(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:Gg(e.entries(),t.entries()):pj(e)&&pj(t)?Gg(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function Gg(e,t){do{let r=e.next(),n=t.next();if(r.done&&n.done)return!0;if(r.done||n.done||!Object.is(r.value,n.value))return!1}while(!0)}function pj(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}var eH=Object.defineProperty,tH=(e,t,r)=>t in e?eH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,gj=(e,t,r)=>(tH(e,typeof t!="symbol"?t+"":t,r),r),rH=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(rH||{});let nH={0(e,t){let r=t.id,n=e.stack,a=e.stack.indexOf(r);if(a!==-1){let s=e.stack.slice();return s.splice(a,1),s.push(r),n=s,{...e,stack:n}}return{...e,stack:[...e.stack,r]}},1(e,t){let r=t.id,n=e.stack.indexOf(r);if(n===-1)return e;let a=e.stack.slice();return a.splice(n,1),{...e,stack:a}}},aH=class fC extends Qq{constructor(){super(...arguments),gj(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),gj(this,"selectors",{isTop:(t,r)=>t.stack[t.stack.length-1]===r,inStack:(t,r)=>t.stack.includes(r)})}static new(){return new fC({stack:[]})}reduce(t,r){return Wa(r.type,nH,t,r)}};const hC=new uC(()=>aH.new());var Yg={exports:{}},Wg={};var vj;function iH(){if(vj)return Wg;vj=1;var e=bl();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,a=e.useRef,s=e.useEffect,l=e.useMemo,c=e.useDebugValue;return Wg.useSyncExternalStoreWithSelector=function(d,f,m,g,v){var y=a(null);if(y.current===null){var S={hasValue:!1,value:null};y.current=S}else S=y.current;y=l(function(){function _(A){if(!j){if(j=!0,N=A,A=g(A),v!==void 0&&S.hasValue){var T=S.value;if(v(T,A))return E=T}return E=A}if(T=E,r(N,A))return T;var P=g(A);return v!==void 0&&v(T,P)?(N=A,T):(N=A,E=P)}var j=!1,N,E,C=m===void 0?null:m;return[function(){return _(f())},C===null?void 0:function(){return _(C())}]},[f,m,g,v]);var k=n(d,y[0],y[1]);return s(function(){S.hasValue=!0,S.value=k},[k]),c(k),k},Wg}var yj;function sH(){return yj||(yj=1,Yg.exports=iH()),Yg.exports}var oH=sH();function mC(e,t,r=dC){return oH.useSyncExternalStoreWithSelector(qe(n=>e.subscribe(lH,n)),qe(()=>e.state),qe(()=>e.state),qe(t),r)}function lH(e){return e}function Ec(e,t){let r=x.useId(),n=hC.get(t),[a,s]=mC(n,x.useCallback(l=>[n.selectors.isTop(l,r),n.selectors.inStack(l,r)],[n,r]));return Nr(()=>{if(e)return n.actions.push(r),()=>n.actions.pop(r)},[n,e,r]),e?s?a:!0:!1}let eb=new Map,Yu=new Map;function bj(e){var t;let r=(t=Yu.get(e))!=null?t:0;return Yu.set(e,r+1),r!==0?()=>xj(e):(eb.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>xj(e))}function xj(e){var t;let r=(t=Yu.get(e))!=null?t:1;if(r===1?Yu.delete(e):Yu.set(e,r-1),r!==1)return;let n=eb.get(e);n&&(n["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",n["aria-hidden"]),e.inert=n.inert,eb.delete(e))}function uH(e,{allowed:t,disallowed:r}={}){let n=Ec(e,"inert-others");Nr(()=>{var a,s;if(!n)return;let l=ii();for(let d of(a=r?.())!=null?a:[])d&&l.add(bj(d));let c=(s=t?.())!=null?s:[];for(let d of c){if(!d)continue;let f=kl(d);if(!f)continue;let m=d.parentElement;for(;m&&m!==f.body;){for(let g of m.children)c.some(v=>g.contains(v))||l.add(bj(g));m=m.parentElement}}return l.dispose},[n,t,r])}function cH(e,t,r){let n=Qs(a=>{let s=a.getBoundingClientRect();s.x===0&&s.y===0&&s.width===0&&s.height===0&&r()});x.useEffect(()=>{if(!e)return;let a=t===null?null:ca(t)?t:t.current;if(!a)return;let s=ii();if(typeof ResizeObserver<"u"){let l=new ResizeObserver(()=>n.current(a));l.observe(a),s.add(()=>l.disconnect())}if(typeof IntersectionObserver<"u"){let l=new IntersectionObserver(()=>n.current(a));l.observe(a),s.add(()=>l.disconnect())}return()=>s.dispose()},[t,n,e])}let wh=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),dH=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var za=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(za||{}),tb=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(tb||{}),fH=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(fH||{});function hH(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(wh)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}function mH(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(dH)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var pC=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(pC||{});function pH(e,t=0){var r;return e===((r=kl(e))==null?void 0:r.body)?!1:Wa(t,{0(){return e.matches(wh)},1(){let n=e;for(;n!==null;){if(n.matches(wh))return!0;n=n.parentElement}return!1}})}var gH=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(gH||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Ka(e){e?.focus({preventScroll:!0})}let vH=["textarea","input"].join(",");function yH(e){var t,r;return(r=(t=e?.matches)==null?void 0:t.call(e,vH))!=null?r:!1}function bH(e,t=r=>r){return e.slice().sort((r,n)=>{let a=t(r),s=t(n);if(a===null||s===null)return 0;let l=a.compareDocumentPosition(s);return l&Node.DOCUMENT_POSITION_FOLLOWING?-1:l&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Wu(e,t,{sorted:r=!0,relativeTo:n=null,skipElements:a=[]}={}){let s=Array.isArray(e)?e.length>0?Xy(e[0]):document:Xy(e),l=Array.isArray(e)?r?bH(e):e:t&64?mH(e):hH(e);a.length>0&&l.length>1&&(l=l.filter(y=>!a.some(S=>S!=null&&"current"in S?S?.current===y:S===y))),n=n??s?.activeElement;let c=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,l.indexOf(n))-1;if(t&4)return Math.max(0,l.indexOf(n))+1;if(t&8)return l.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=t&32?{preventScroll:!0}:{},m=0,g=l.length,v;do{if(m>=g||m+g<=0)return 0;let y=d+m;if(t&16)y=(y+g)%g;else{if(y<0)return 3;if(y>=g)return 1}v=l[y],v?.focus(f),m+=c}while(v!==YT(v));return t&6&&yH(v)&&v.select(),2}function gC(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function xH(){return/Android/gi.test(window.navigator.userAgent)}function wj(){return gC()||xH()}function Af(e,t,r,n){let a=Qs(r);x.useEffect(()=>{if(!e)return;function s(l){a.current(l)}return document.addEventListener(t,s,n),()=>document.removeEventListener(t,s,n)},[e,t,n])}function vC(e,t,r,n){let a=Qs(r);x.useEffect(()=>{if(!e)return;function s(l){a.current(l)}return window.addEventListener(t,s,n),()=>window.removeEventListener(t,s,n)},[e,t,n])}const _j=30;function wH(e,t,r){let n=Qs(r),a=x.useCallback(function(c,d){if(c.defaultPrevented)return;let f=d(c);if(f===null||!f.getRootNode().contains(f)||!f.isConnected)return;let m=(function g(v){return typeof v=="function"?g(v()):Array.isArray(v)||v instanceof Set?v:[v]})(t);for(let g of m)if(g!==null&&(g.contains(f)||c.composed&&c.composedPath().includes(g)))return;return!pH(f,pC.Loose)&&f.tabIndex!==-1&&c.preventDefault(),n.current(c,f)},[n,t]),s=x.useRef(null);Af(e,"pointerdown",c=>{var d,f;wj()||(s.current=((f=(d=c.composedPath)==null?void 0:d.call(c))==null?void 0:f[0])||c.target)},!0),Af(e,"pointerup",c=>{if(wj()||!s.current)return;let d=s.current;return s.current=null,a(c,()=>d)},!0);let l=x.useRef({x:0,y:0});Af(e,"touchstart",c=>{l.current.x=c.touches[0].clientX,l.current.y=c.touches[0].clientY},!0),Af(e,"touchend",c=>{let d={x:c.changedTouches[0].clientX,y:c.changedTouches[0].clientY};if(!(Math.abs(d.x-l.current.x)>=_j||Math.abs(d.y-l.current.y)>=_j))return a(c,()=>Vi(c.target)?c.target:null)},!0),vC(e,"blur",c=>a(c,()=>Dq(window.document.activeElement)?window.document.activeElement:null),!0)}function Ex(...e){return x.useMemo(()=>kl(...e),[...e])}function yC(e,t,r,n){let a=Qs(r);x.useEffect(()=>{e=e??window;function s(l){a.current(l)}return e.addEventListener(t,s,n),()=>e.removeEventListener(t,s,n)},[e,t,n])}function _H(e,t){return x.useMemo(()=>{var r;if(e.type)return e.type;let n=(r=e.as)!=null?r:"button";if(typeof n=="string"&&n.toLowerCase()==="button"||t?.tagName==="BUTTON"&&!t.hasAttribute("type"))return"button"},[e.type,e.as,t])}function SH(e){return x.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}function kH(e,t){let r=e(),n=new Set;return{getSnapshot(){return r},subscribe(a){return n.add(a),()=>n.delete(a)},dispatch(a,...s){let l=t[a].call(r,...s);l&&(r=l,n.forEach(c=>c()))}}}function jH(){let e;return{before({doc:t}){var r;let n=t.documentElement,a=(r=t.defaultView)!=null?r:window;e=Math.max(0,a.innerWidth-n.clientWidth)},after({doc:t,d:r}){let n=t.documentElement,a=Math.max(0,n.clientWidth-n.offsetWidth),s=Math.max(0,e-a);r.style(n,"paddingRight",`${s}px`)}}}function EH(){return gC()?{before({doc:e,d:t,meta:r}){function n(a){for(let s of r().containers)for(let l of s())if(l.contains(a))return!0;return!1}t.microTask(()=>{var a;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let c=ii();c.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>c.dispose()))}let s=(a=window.scrollY)!=null?a:window.pageYOffset,l=null;t.addEventListener(e,"click",c=>{if(Vi(c.target))try{let d=c.target.closest("a");if(!d)return;let{hash:f}=new URL(d.href),m=e.querySelector(f);Vi(m)&&!n(m)&&(l=m)}catch{}},!0),t.group(c=>{t.addEventListener(e,"touchstart",d=>{if(c.dispose(),Vi(d.target)&&Pq(d.target))if(n(d.target)){let f=d.target;for(;f.parentElement&&n(f.parentElement);)f=f.parentElement;c.style(f,"overscrollBehavior","contain")}else c.style(d.target,"touchAction","none")})}),t.addEventListener(e,"touchmove",c=>{if(Vi(c.target)){if(tC(c.target))return;if(n(c.target)){let d=c.target;for(;d.parentElement&&d.dataset.headlessuiPortal!==""&&!(d.scrollHeight>d.clientHeight||d.scrollWidth>d.clientWidth);)d=d.parentElement;d.dataset.headlessuiPortal===""&&c.preventDefault()}else c.preventDefault()}},{passive:!1}),t.add(()=>{var c;let d=(c=window.scrollY)!=null?c:window.pageYOffset;s!==d&&window.scrollTo(0,s),l&&l.isConnected&&(l.scrollIntoView({block:"nearest"}),l=null)})})}}:{}}function OH(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Sj(e){let t={};for(let r of e)Object.assign(t,r(t));return t}let Ps=kH(()=>new Map,{PUSH(e,t){var r;let n=(r=this.get(e))!=null?r:{doc:e,count:0,d:ii(),meta:new Set,computedMeta:{}};return n.count++,n.meta.add(t),n.computedMeta=Sj(n.meta),this.set(e,n),this},POP(e,t){let r=this.get(e);return r&&(r.count--,r.meta.delete(t),r.computedMeta=Sj(r.meta)),this},SCROLL_PREVENT(e){let t={doc:e.doc,d:e.d,meta(){return e.computedMeta}},r=[EH(),jH(),OH()];r.forEach(({before:n})=>n?.(t)),r.forEach(({after:n})=>n?.(t))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Ps.subscribe(()=>{let e=Ps.getSnapshot(),t=new Map;for(let[r]of e)t.set(r,r.documentElement.style.overflow);for(let r of e.values()){let n=t.get(r.doc)==="hidden",a=r.count!==0;(a&&!n||!a&&n)&&Ps.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&Ps.dispatch("TEARDOWN",r)}});function NH(e,t,r=()=>({containers:[]})){let n=SH(Ps),a=t?n.get(t):void 0,s=a?a.count>0:!1;return Nr(()=>{if(!(!t||!e))return Ps.dispatch("PUSH",t,r),()=>Ps.dispatch("POP",t,r)},[e,t]),s}function AH(e,t,r=()=>[document.body]){let n=Ec(e,"scroll-lock");NH(n,t,a=>{var s;return{containers:[...(s=a.containers)!=null?s:[],r]}})}function TH(e=0){let[t,r]=x.useState(e),n=x.useCallback(d=>r(d),[]),a=x.useCallback(d=>r(f=>f|d),[]),s=x.useCallback(d=>(t&d)===d,[t]),l=x.useCallback(d=>r(f=>f&~d),[]),c=x.useCallback(d=>r(f=>f^d),[]);return{flags:t,setFlag:n,addFlag:a,hasFlag:s,removeFlag:l,toggleFlag:c}}var CH={},kj,jj;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((kj=process==null?void 0:CH)==null?void 0:kj.NODE_ENV)==="test"&&typeof((jj=Element?.prototype)==null?void 0:jj.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var PH=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(PH||{});function DH(e){let t={};for(let r in e)e[r]===!0&&(t[`data-${r}`]="");return t}function MH(e,t,r,n){let[a,s]=x.useState(r),{hasFlag:l,addFlag:c,removeFlag:d}=TH(e&&a?3:0),f=x.useRef(!1),m=x.useRef(!1),g=Js();return Nr(()=>{var v;if(e){if(r&&s(!0),!t){r&&c(3);return}return(v=n?.start)==null||v.call(n,r),RH(t,{inFlight:f,prepare(){m.current?m.current=!1:m.current=f.current,f.current=!0,!m.current&&(r?(c(3),d(4)):(c(4),d(2)))},run(){m.current?r?(d(3),c(4)):(d(4),c(3)):r?d(1):c(1)},done(){var y;m.current&&IH(t)||(f.current=!1,d(7),r||s(!1),(y=n?.end)==null||y.call(n,r))}})}},[e,r,t,g]),e?[a,{closed:l(1),enter:l(2),leave:l(4),transition:l(2)||l(4)}]:[r,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function RH(e,{prepare:t,run:r,done:n,inFlight:a}){let s=ii();return LH(e,{prepare:t,inFlight:a}),s.nextFrame(()=>{r(),s.requestAnimationFrame(()=>{s.add($H(e,n))})}),s.dispose}function $H(e,t){var r,n;let a=ii();if(!e)return a.dispose;let s=!1;a.add(()=>{s=!0});let l=(n=(r=e.getAnimations)==null?void 0:r.call(e).filter(c=>c instanceof CSSTransition))!=null?n:[];return l.length===0?(t(),a.dispose):(Promise.allSettled(l.map(c=>c.finished)).then(()=>{s||t()}),a.dispose)}function LH(e,{inFlight:t,prepare:r}){if(t!=null&&t.current){r();return}let n=e.style.transition;e.style.transition="none",r(),e.offsetHeight,e.style.transition=n}function IH(e){var t,r;return((r=(t=e.getAnimations)==null?void 0:t.call(e))!=null?r:[]).some(n=>n instanceof CSSTransition&&n.playState!=="finished")}function Ox(e,t){let r=x.useRef([]),n=qe(e);x.useEffect(()=>{let a=[...r.current];for(let[s,l]of t.entries())if(r.current[s]!==l){let c=n(t,a);return r.current=t,c}},[n,...t])}let j0=x.createContext(null);j0.displayName="OpenClosedContext";var Zn=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Zn||{});function E0(){return x.useContext(j0)}function zH({value:e,children:t}){return ge.createElement(j0.Provider,{value:e},t)}function UH({children:e}){return ge.createElement(j0.Provider,{value:null},e)}function BH(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let Bi=[];BH(()=>{function e(t){if(!Vi(t.target)||t.target===document.body||Bi[0]===t.target)return;let r=t.target;r=r.closest(wh),Bi.unshift(r??t.target),Bi=Bi.filter(n=>n!=null&&n.isConnected),Bi.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function bC(e){let t=qe(e),r=x.useRef(!1);x.useEffect(()=>(r.current=!1,()=>{r.current=!0,_0(()=>{r.current&&t()})}),[t])}let xC=x.createContext(!1);function qH(){return x.useContext(xC)}function Ej(e){return ge.createElement(xC.Provider,{value:e.force},e.children)}function HH(e){let t=qH(),r=x.useContext(_C),[n,a]=x.useState(()=>{var s;if(!t&&r!==null)return(s=r.current)!=null?s:null;if(la.isServer)return null;let l=e?.getElementById("headlessui-portal-root");if(l)return l;if(e===null)return null;let c=e.createElement("div");return c.setAttribute("id","headlessui-portal-root"),e.body.appendChild(c)});return x.useEffect(()=>{n!==null&&(e!=null&&e.body.contains(n)||e==null||e.body.appendChild(n))},[n,e]),x.useEffect(()=>{t||r!==null&&a(r.current)},[r,a,t]),n}let wC=x.Fragment,FH=Sr(function(e,t){let{ownerDocument:r=null,...n}=e,a=x.useRef(null),s=$n(Iq(v=>{a.current=v}),t),l=Ex(a.current),c=r??l,d=HH(c),f=x.useContext(rb),m=Js(),g=Cr();return bC(()=>{var v;d&&d.childNodes.length<=0&&((v=d.parentElement)==null||v.removeChild(d))}),d?Xs.createPortal(ge.createElement("div",{"data-headlessui-portal":"",ref:v=>{m.dispose(),f&&v&&m.add(f.register(v))}},g({ourProps:{ref:s},theirProps:n,slot:{},defaultTag:wC,name:"Portal"})),d):null});function VH(e,t){let r=$n(t),{enabled:n=!0,ownerDocument:a,...s}=e,l=Cr();return n?ge.createElement(FH,{...s,ownerDocument:a,ref:r}):l({ourProps:{ref:r},theirProps:s,slot:{},defaultTag:wC,name:"Portal"})}let KH=x.Fragment,_C=x.createContext(null);function ZH(e,t){let{target:r,...n}=e,a={ref:$n(t)},s=Cr();return ge.createElement(_C.Provider,{value:r},s({ourProps:a,theirProps:n,defaultTag:KH,name:"Popover.Group"}))}let rb=x.createContext(null);function GH(){let e=x.useContext(rb),t=x.useRef([]),r=qe(s=>(t.current.push(s),e&&e.register(s),()=>n(s))),n=qe(s=>{let l=t.current.indexOf(s);l!==-1&&t.current.splice(l,1),e&&e.unregister(s)}),a=x.useMemo(()=>({register:r,unregister:n,portals:t}),[r,n,t]);return[t,x.useMemo(()=>function({children:s}){return ge.createElement(rb.Provider,{value:a},s)},[a])]}let YH=Sr(VH),SC=Sr(ZH),WH=Object.assign(YH,{Group:SC});function XH(e,t=typeof document<"u"?document.defaultView:null,r){let n=Ec(e,"escape");yC(t,"keydown",a=>{n&&(a.defaultPrevented||a.key===xh.Escape&&r(a))})}function JH(){var e;let[t]=x.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[r,n]=x.useState((e=t?.matches)!=null?e:!1);return Nr(()=>{if(!t)return;function a(s){n(s.matches)}return t.addEventListener("change",a),()=>t.removeEventListener("change",a)},[t]),r}function QH({defaultContainers:e=[],portals:t,mainTreeNode:r}={}){let n=qe(()=>{var a,s;let l=kl(r),c=[];for(let d of e)d!==null&&(Va(d)?c.push(d):"current"in d&&Va(d.current)&&c.push(d.current));if(t!=null&&t.current)for(let d of t.current)c.push(d);for(let d of(a=l?.querySelectorAll("html > *, body > *"))!=null?a:[])d!==document.body&&d!==document.head&&Va(d)&&d.id!=="headlessui-portal-root"&&(r&&(d.contains(r)||d.contains((s=r?.getRootNode())==null?void 0:s.host))||c.some(f=>d.contains(f))||c.push(d));return c});return{resolveContainers:n,contains:qe(a=>n().some(s=>s.contains(a)))}}let kC=x.createContext(null);function Oj({children:e,node:t}){let[r,n]=x.useState(null),a=jC(t??r);return ge.createElement(kC.Provider,{value:a},e,a===null&&ge.createElement(ic,{features:dl.Hidden,ref:s=>{var l,c;if(s){for(let d of(c=(l=kl(s))==null?void 0:l.querySelectorAll("html > *, body > *"))!=null?c:[])if(d!==document.body&&d!==document.head&&Va(d)&&d!=null&&d.contains(s)){n(d);break}}}}))}function jC(e=null){var t;return(t=x.useContext(kC))!=null?t:e}function eF(){let e=typeof document>"u";return"useSyncExternalStore"in ky?(t=>t.useSyncExternalStore)(ky)(()=>()=>{},()=>!1,()=>!e):!1}function O0(){let e=eF(),[t,r]=x.useState(la.isHandoffComplete);return t&&la.isHandoffComplete===!1&&r(!1),x.useEffect(()=>{t!==!0&&r(!0)},[t]),x.useEffect(()=>la.handoff(),[]),e?!1:t}function Nx(){let e=x.useRef(!1);return Nr(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var Fu=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Fu||{});function tF(){let e=x.useRef(0);return vC(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function EC(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let r of e.current)Va(r.current)&&t.add(r.current);return t}let rF="div";var As=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(As||{});function nF(e,t){let r=x.useRef(null),n=$n(r,t),{initialFocus:a,initialFocusFallback:s,containers:l,features:c=15,...d}=e;O0()||(c=0);let f=Ex(r.current);oF(c,{ownerDocument:f});let m=lF(c,{ownerDocument:f,container:r,initialFocus:a,initialFocusFallback:s});uF(c,{ownerDocument:f,container:r,containers:l,previousActiveElement:m});let g=tF(),v=qe(N=>{if(!ca(r.current))return;let E=r.current;(C=>C())(()=>{Wa(g.current,{[Fu.Forwards]:()=>{Wu(E,za.First,{skipElements:[N.relatedTarget,s]})},[Fu.Backwards]:()=>{Wu(E,za.Last,{skipElements:[N.relatedTarget,s]})}})})}),y=Ec(!!(c&2),"focus-trap#tab-lock"),S=Js(),k=x.useRef(!1),_={ref:n,onKeyDown(N){N.key=="Tab"&&(k.current=!0,S.requestAnimationFrame(()=>{k.current=!1}))},onBlur(N){if(!(c&4))return;let E=EC(l);ca(r.current)&&E.add(r.current);let C=N.relatedTarget;Vi(C)&&C.dataset.headlessuiFocusGuard!=="true"&&(OC(E,C)||(k.current?Wu(r.current,Wa(g.current,{[Fu.Forwards]:()=>za.Next,[Fu.Backwards]:()=>za.Previous})|za.WrapAround,{relativeTo:N.target}):Vi(N.target)&&Ka(N.target)))}},j=Cr();return ge.createElement(ge.Fragment,null,y&&ge.createElement(ic,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:v,features:dl.Focusable}),j({ourProps:_,theirProps:d,defaultTag:rF,name:"FocusTrap"}),y&&ge.createElement(ic,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:v,features:dl.Focusable}))}let aF=Sr(nF),iF=Object.assign(aF,{features:As});function sF(e=!0){let t=x.useRef(Bi.slice());return Ox(([r],[n])=>{n===!0&&r===!1&&_0(()=>{t.current.splice(0)}),n===!1&&r===!0&&(t.current=Bi.slice())},[e,Bi,t]),qe(()=>{var r;return(r=t.current.find(n=>n!=null&&n.isConnected))!=null?r:null})}function oF(e,{ownerDocument:t}){let r=!!(e&8),n=sF(r);Ox(()=>{r||uq(t?.body)&&Ka(n())},[r]),bC(()=>{r&&Ka(n())})}function lF(e,{ownerDocument:t,container:r,initialFocus:n,initialFocusFallback:a}){let s=x.useRef(null),l=Ec(!!(e&1),"focus-trap#initial-focus"),c=Nx();return Ox(()=>{if(e===0)return;if(!l){a!=null&&a.current&&Ka(a.current);return}let d=r.current;d&&_0(()=>{if(!c.current)return;let f=t?.activeElement;if(n!=null&&n.current){if(n?.current===f){s.current=f;return}}else if(d.contains(f)){s.current=f;return}if(n!=null&&n.current)Ka(n.current);else{if(e&16){if(Wu(d,za.First|za.AutoFocus)!==tb.Error)return}else if(Wu(d,za.First)!==tb.Error)return;if(a!=null&&a.current&&(Ka(a.current),t?.activeElement===a.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}s.current=t?.activeElement})},[a,l,e]),s}function uF(e,{ownerDocument:t,container:r,containers:n,previousActiveElement:a}){let s=Nx(),l=!!(e&4);yC(t?.defaultView,"focus",c=>{if(!l||!s.current)return;let d=EC(n);ca(r.current)&&d.add(r.current);let f=a.current;if(!f)return;let m=c.target;ca(m)?OC(d,m)?(a.current=m,Ka(m)):(c.preventDefault(),c.stopPropagation(),Ka(f)):Ka(a.current)},!0)}function OC(e,t){for(let r of e)if(r.contains(t))return!0;return!1}function NC(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||!Gu((t=e.as)!=null?t:TC)||ge.Children.count(e.children)===1}let N0=x.createContext(null);N0.displayName="TransitionContext";var cF=(e=>(e.Visible="visible",e.Hidden="hidden",e))(cF||{});function dF(){let e=x.useContext(N0);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function fF(){let e=x.useContext(A0);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let A0=x.createContext(null);A0.displayName="NestingContext";function T0(e){return"children"in e?T0(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function AC(e,t){let r=Qs(e),n=x.useRef([]),a=Nx(),s=Js(),l=qe((y,S=Fi.Hidden)=>{let k=n.current.findIndex(({el:_})=>_===y);k!==-1&&(Wa(S,{[Fi.Unmount](){n.current.splice(k,1)},[Fi.Hidden](){n.current[k].state="hidden"}}),s.microTask(()=>{var _;!T0(n)&&a.current&&((_=r.current)==null||_.call(r))}))}),c=qe(y=>{let S=n.current.find(({el:k})=>k===y);return S?S.state!=="visible"&&(S.state="visible"):n.current.push({el:y,state:"visible"}),()=>l(y,Fi.Unmount)}),d=x.useRef([]),f=x.useRef(Promise.resolve()),m=x.useRef({enter:[],leave:[]}),g=qe((y,S,k)=>{d.current.splice(0),t&&(t.chains.current[S]=t.chains.current[S].filter(([_])=>_!==y)),t?.chains.current[S].push([y,new Promise(_=>{d.current.push(_)})]),t?.chains.current[S].push([y,new Promise(_=>{Promise.all(m.current[S].map(([j,N])=>N)).then(()=>_())})]),S==="enter"?f.current=f.current.then(()=>t?.wait.current).then(()=>k(S)):k(S)}),v=qe((y,S,k)=>{Promise.all(m.current[S].splice(0).map(([_,j])=>j)).then(()=>{var _;(_=d.current.shift())==null||_()}).then(()=>k(S))});return x.useMemo(()=>({children:n,register:c,unregister:l,onStart:g,onStop:v,wait:f,chains:m}),[c,l,n,g,v,m,f])}let TC=x.Fragment,CC=bh.RenderStrategy;function hF(e,t){var r,n;let{transition:a=!0,beforeEnter:s,afterEnter:l,beforeLeave:c,afterLeave:d,enter:f,enterFrom:m,enterTo:g,entered:v,leave:y,leaveFrom:S,leaveTo:k,..._}=e,[j,N]=x.useState(null),E=x.useRef(null),C=NC(e),A=$n(...C?[E,t,N]:t===null?[]:[t]),T=(r=_.unmount)==null||r?Fi.Unmount:Fi.Hidden,{show:P,appear:M,initial:$}=dF(),[L,R]=x.useState(P?"visible":"hidden"),q=fF(),{register:V,unregister:oe}=q;Nr(()=>V(E),[V,E]),Nr(()=>{if(T===Fi.Hidden&&E.current){if(P&&L!=="visible"){R("visible");return}return Wa(L,{hidden:()=>oe(E),visible:()=>V(E)})}},[L,E,V,oe,P,T]);let de=O0();Nr(()=>{if(C&&de&&L==="visible"&&E.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[E,L,de,C]);let U=$&&!M,K=M&&P&&$,W=x.useRef(!1),fe=AC(()=>{W.current||(R("hidden"),oe(E))},q),pe=qe(ee=>{W.current=!0;let we=ee?"enter":"leave";fe.onStart(E,we,X=>{X==="enter"?s?.():X==="leave"&&c?.()})}),I=qe(ee=>{let we=ee?"enter":"leave";W.current=!1,fe.onStop(E,we,X=>{X==="enter"?l?.():X==="leave"&&d?.()}),we==="leave"&&!T0(fe)&&(R("hidden"),oe(E))});x.useEffect(()=>{C&&a||(pe(P),I(P))},[P,C,a]);let Y=!(!a||!C||!de||U),[,Q]=MH(Y,j,P,{start:pe,end:I}),F=$i({ref:A,className:((n=Jy(_.className,K&&f,K&&m,Q.enter&&f,Q.enter&&Q.closed&&m,Q.enter&&!Q.closed&&g,Q.leave&&y,Q.leave&&!Q.closed&&S,Q.leave&&Q.closed&&k,!Q.transition&&P&&v))==null?void 0:n.trim())||void 0,...DH(Q)}),ae=0;L==="visible"&&(ae|=Zn.Open),L==="hidden"&&(ae|=Zn.Closed),P&&L==="hidden"&&(ae|=Zn.Opening),!P&&L==="visible"&&(ae|=Zn.Closing);let re=Cr();return ge.createElement(A0.Provider,{value:fe},ge.createElement(zH,{value:ae},re({ourProps:F,theirProps:_,defaultTag:TC,features:CC,visible:L==="visible",name:"Transition.Child"})))}function mF(e,t){let{show:r,appear:n=!1,unmount:a=!0,...s}=e,l=x.useRef(null),c=NC(e),d=$n(...c?[l,t]:t===null?[]:[t]);O0();let f=E0();if(r===void 0&&f!==null&&(r=(f&Zn.Open)===Zn.Open),r===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[m,g]=x.useState(r?"visible":"hidden"),v=AC(()=>{r||g("hidden")}),[y,S]=x.useState(!0),k=x.useRef([r]);Nr(()=>{y!==!1&&k.current[k.current.length-1]!==r&&(k.current.push(r),S(!1))},[k,r]);let _=x.useMemo(()=>({show:r,appear:n,initial:y}),[r,n,y]);Nr(()=>{r?g("visible"):!T0(v)&&l.current!==null&&g("hidden")},[r,v]);let j={unmount:a},N=qe(()=>{var A;y&&S(!1),(A=e.beforeEnter)==null||A.call(e)}),E=qe(()=>{var A;y&&S(!1),(A=e.beforeLeave)==null||A.call(e)}),C=Cr();return ge.createElement(A0.Provider,{value:v},ge.createElement(N0.Provider,{value:_},C({ourProps:{...j,as:x.Fragment,children:ge.createElement(PC,{ref:d,...j,...s,beforeEnter:N,beforeLeave:E})},theirProps:{},defaultTag:x.Fragment,features:CC,visible:m==="visible",name:"Transition"})))}function pF(e,t){let r=x.useContext(N0)!==null,n=E0()!==null;return ge.createElement(ge.Fragment,null,!r&&n?ge.createElement(nb,{ref:t,...e}):ge.createElement(PC,{ref:t,...e}))}let nb=Sr(mF),PC=Sr(hF),Ax=Sr(pF),gF=Object.assign(nb,{Child:Ax,Root:nb});var vF=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(vF||{}),yF=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(yF||{});let bF={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},Tx=x.createContext(null);Tx.displayName="DialogContext";function C0(e){let t=x.useContext(Tx);if(t===null){let r=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,C0),r}return t}function xF(e,t){return Wa(t.type,bF,e,t)}let Nj=Sr(function(e,t){let r=x.useId(),{id:n=`headlessui-dialog-${r}`,open:a,onClose:s,initialFocus:l,role:c="dialog",autoFocus:d=!0,__demoMode:f=!1,unmount:m=!1,...g}=e,v=x.useRef(!1);c=(function(){return c==="dialog"||c==="alertdialog"?c:(v.current||(v.current=!0,console.warn(`Invalid role [${c}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")})();let y=E0();a===void 0&&y!==null&&(a=(y&Zn.Open)===Zn.Open);let S=x.useRef(null),k=$n(S,t),_=Ex(S.current),j=a?0:1,[N,E]=x.useReducer(xF,{titleId:null,descriptionId:null,panelRef:x.createRef()}),C=qe(()=>s(!1)),A=qe(Q=>E({type:0,id:Q})),T=O0()?j===0:!1,[P,M]=GH(),$={get current(){var Q;return(Q=N.panelRef.current)!=null?Q:S.current}},L=jC(),{resolveContainers:R}=QH({mainTreeNode:L,portals:P,defaultContainers:[$]}),q=y!==null?(y&Zn.Closing)===Zn.Closing:!1;uH(f||q?!1:T,{allowed:qe(()=>{var Q,F;return[(F=(Q=S.current)==null?void 0:Q.closest("[data-headlessui-portal]"))!=null?F:null]}),disallowed:qe(()=>{var Q;return[(Q=L?.closest("body > *:not(#headlessui-portal-root)"))!=null?Q:null]})});let V=hC.get(null);Nr(()=>{if(T)return V.actions.push(n),()=>V.actions.pop(n)},[V,n,T]);let oe=mC(V,x.useCallback(Q=>V.selectors.isTop(Q,n),[V,n]));wH(oe,R,Q=>{Q.preventDefault(),C()}),XH(oe,_?.defaultView,Q=>{Q.preventDefault(),Q.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),C()}),AH(f||q?!1:T,_,R),cH(T,S,C);let[de,U]=iC(),K=x.useMemo(()=>[{dialogState:j,close:C,setTitleId:A,unmount:m},N],[j,C,A,m,N]),W=eo({open:j===0}),fe={ref:k,id:n,role:c,tabIndex:-1,"aria-modal":f?void 0:j===0?!0:void 0,"aria-labelledby":N.titleId,"aria-describedby":de,unmount:m},pe=!JH(),I=As.None;T&&!f&&(I|=As.RestoreFocus,I|=As.TabLock,d&&(I|=As.AutoFocus),pe&&(I|=As.InitialFocus));let Y=Cr();return ge.createElement(UH,null,ge.createElement(Ej,{force:!0},ge.createElement(WH,null,ge.createElement(Tx.Provider,{value:K},ge.createElement(SC,{target:S},ge.createElement(Ej,{force:!1},ge.createElement(U,{slot:W},ge.createElement(M,null,ge.createElement(iF,{initialFocus:l,initialFocusFallback:S,containers:R,features:I},ge.createElement(Yq,{value:C},Y({ourProps:fe,theirProps:g,slot:W,defaultTag:wF,features:_F,visible:j===0,name:"Dialog"})))))))))))}),wF="div",_F=bh.RenderStrategy|bh.Static;function SF(e,t){let{transition:r=!1,open:n,...a}=e,s=E0(),l=e.hasOwnProperty("open")||s!==null,c=e.hasOwnProperty("onClose");if(!l&&!c)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!l)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!c)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!s&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(n!==void 0||r)&&!a.static?ge.createElement(Oj,null,ge.createElement(gF,{show:n,transition:r,unmount:a.unmount},ge.createElement(Nj,{ref:t,...a}))):ge.createElement(Oj,null,ge.createElement(Nj,{ref:t,open:n,...a}))}let kF="div";function jF(e,t){let r=x.useId(),{id:n=`headlessui-dialog-panel-${r}`,transition:a=!1,...s}=e,[{dialogState:l,unmount:c},d]=C0("Dialog.Panel"),f=$n(t,d.panelRef),m=eo({open:l===0}),g=qe(_=>{_.stopPropagation()}),v={ref:f,id:n,onClick:g},y=a?Ax:x.Fragment,S=a?{unmount:c}:{},k=Cr();return ge.createElement(y,{...S},k({ourProps:v,theirProps:s,slot:m,defaultTag:kF,name:"Dialog.Panel"}))}let EF="div";function OF(e,t){let{transition:r=!1,...n}=e,[{dialogState:a,unmount:s}]=C0("Dialog.Backdrop"),l=eo({open:a===0}),c={ref:t,"aria-hidden":!0},d=r?Ax:x.Fragment,f=r?{unmount:s}:{},m=Cr();return ge.createElement(d,{...f},m({ourProps:c,theirProps:n,slot:l,defaultTag:EF,name:"Dialog.Backdrop"}))}let NF="h2";function AF(e,t){let r=x.useId(),{id:n=`headlessui-dialog-title-${r}`,...a}=e,[{dialogState:s,setTitleId:l}]=C0("Dialog.Title"),c=$n(t);x.useEffect(()=>(l(n),()=>l(null)),[n,l]);let d=eo({open:s===0}),f={ref:c,id:n};return Cr()({ourProps:f,theirProps:a,slot:d,defaultTag:NF,name:"Dialog.Title"})}let TF=Sr(SF),CF=Sr(jF);Sr(OF);let PF=Sr(AF),Ot=Object.assign(TF,{Panel:CF,Title:PF,Description:sC}),Cx=x.createContext(null);Cx.displayName="GroupContext";let DF=x.Fragment;function MF(e){var t;let[r,n]=x.useState(null),[a,s]=Hq(),[l,c]=iC(),d=x.useMemo(()=>({switch:r,setSwitch:n}),[r,n]),f={},m=e,g=Cr();return ge.createElement(c,{name:"Switch.Description",value:l},ge.createElement(s,{name:"Switch.Label",value:a,props:{htmlFor:(t=d.switch)==null?void 0:t.id,onClick(v){r&&(Qy(v.currentTarget)&&v.preventDefault(),r.click(),r.focus({preventScroll:!0}))}}},ge.createElement(Cx.Provider,{value:d},g({ourProps:f,theirProps:m,slot:{},defaultTag:DF,name:"Switch.Group"}))))}let RF="button";function $F(e,t){var r;let n=x.useId(),a=eC(),s=jx(),{id:l=a||`headlessui-switch-${n}`,disabled:c=s||!1,checked:d,defaultChecked:f,onChange:m,name:g,value:v,form:y,autoFocus:S=!1,...k}=e,_=x.useContext(Cx),[j,N]=x.useState(null),E=x.useRef(null),C=$n(E,t,_===null?null:_.setSwitch,N),A=wq(f),[T,P]=xq(d,m,A??!1),M=Js(),[$,L]=x.useState(!1),R=qe(()=>{L(!0),P?.(!T),M.nextFrame(()=>{L(!1)})}),q=qe(ee=>{if($q(ee.currentTarget))return ee.preventDefault();ee.preventDefault(),R()}),V=qe(ee=>{ee.key===xh.Space?(ee.preventDefault(),R()):ee.key===xh.Enter&&_q(ee.currentTarget)}),oe=qe(ee=>ee.preventDefault()),de=lC(),U=zq(),{isFocusVisible:K,focusProps:W}=iq({autoFocus:S}),{isHovered:fe,hoverProps:pe}=aq({isDisabled:c}),{pressed:I,pressProps:Y}=fq({disabled:c}),Q=eo({checked:T,disabled:c,hover:fe,focus:K,active:I,autofocus:S,changing:$}),F=vq({id:l,ref:C,role:"switch",type:_H(e,j),tabIndex:e.tabIndex===-1?0:(r=e.tabIndex)!=null?r:0,"aria-checked":T,"aria-labelledby":de,"aria-describedby":U,disabled:c||void 0,autoFocus:S,onClick:q,onKeyUp:V,onKeyPress:oe},W,pe,Y),ae=x.useCallback(()=>{if(A!==void 0)return P?.(A)},[P,A]),re=Cr();return ge.createElement(ge.Fragment,null,g!=null&&ge.createElement(Nq,{disabled:c,data:{[g]:v||"on"},overrides:{type:"checkbox",checked:T},form:y,onReset:ae}),re({ourProps:F,theirProps:k,slot:Q,defaultTag:RF,name:"Switch"}))}let LF=Sr($F),IF=MF,zF=Zq,UF=sC,BF=Object.assign(LF,{Group:IF,Label:zF,Description:UF});function DC({isOpen:e,onClose:t,date:r,orders:n=[],monthlyInbound:a,updateDateInbound:s}){const{updateDailyManifest:l,addOrdersBulk:c,removeOrder:d,updateOrder:f}=Qn(),{schedulerSettings:m,activeSku:g}=Jn(),{getProductSpecs:v,productMap:y}=fr(),[S,k]=x.useState(null),[_,j]=x.useState({}),[N,E]=x.useState(""),[C,A]=x.useState(null),T=[...n].sort((F,ae)=>{const re=ee=>{if(!ee||ee==="00:00")return 99999;const[we,X]=ee.split(":").map(Number);return we*60+(X||0)};return re(F.time)-re(ae.time)}),P=F=>"1.0",M=F=>1,$=F=>{if(!m)return"TBD (Settings)";const re=T[F]?.sku||g,ee=v(re)||y?.[re];if(!ee)return"TBD (No SKU)";const we=Number(ee.productionRate),X=Number(ee.bottlesPerTruck);if(!we||we<=0)return"TBD (No Rate)";if(!X)return"TBD (No Cap)";const me=MT(F,m.shiftStartTime||"06:00",X,we,Number(ee.bottlesPerCase)||1,Math.max(T.length,Math.round(Number(a[r]||0))));return me?ac(me):"TBD"},L=(F,ae)=>{if(!s)return;const re=ae.length;s(F,re)},[R,q]=x.useState(null),V=F=>{const ae=n.find(ee=>ee.id===F);d(r,F,ae?.po);const re=n.filter(ee=>ee.id!==F);L(r,re),q(null)},oe=F=>{q({title:"Cancel Delivery?",message:"Are you sure you want to remove this delivery? This action cannot be undone if not synced with SAP.",type:"danger",onConfirm:()=>V(F)})},de=F=>{f(r,{...F,status:"received"}),q(null)},U=F=>{de(F)},K=F=>{A(F);const ae=lr(new Date(r+"T00:00:00"),1);E(vt(ae))},W=()=>{if(!N||!C)return;const F=n.find(ee=>ee.id===C);if(!F)return;const ae=S===C?{...F,..._,date:N}:{...F,date:N};c([ae]),d(r,C,F.po);const re=n.filter(ee=>ee.id!==C);if(L(r,re),s&&a){const ee=Number(a[N]||0),we=M(ae.qty);s(N,ee+we)}A(null),E(""),k(null)},[fe,pe]=x.useState(!1),I=()=>{const F=Math.round(Number(a[r]||0));let ae=`Replenishment Plan - ${new Date(r+"T00:00:00").toLocaleDateString()}
`;ae+=`Total Planned Trucks: ${F}
`,ae+=`--------------------------------
`;for(let re=0;re<F;re++)ae+=`Load #${re+1}: ${$(re)}
`;navigator.clipboard.writeText(ae),pe(!0),setTimeout(()=>pe(!1),2e3)},Y=F=>{k(F.id),j({...F})},Q=()=>{if(!S)return;const F={...n.find(re=>re.id===S),..._};f(r,F);const ae=n.map(re=>re.id===S?F:re);L(r,ae),k(null)};return p.jsxs(Ot,{open:e,onClose:t,className:"relative z-50",children:[p.jsx("div",{className:"fixed inset-0 bg-black/30","aria-hidden":"true"}),p.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:p.jsxs(Ot.Panel,{className:"w-full max-w-3xl bg-white dark:bg-gray-900 rounded-2xl shadow-xl overflow-hidden flex flex-col max-h-[90vh]",children:[p.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800/50",children:[p.jsxs("div",{children:[p.jsxs(Ot.Title,{className:"text-lg font-bold flex items-center gap-2 text-gray-900 dark:text-white uppercase tracking-wide",children:[p.jsx(P5,{className:"w-5 h-5 text-blue-500"}),new Date(r+"T00:00:00").toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"})]}),p.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Found ",n.length," Scheduled Deliveries"]})]}),p.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:p.jsx(Gs,{className:"w-6 h-6"})})]}),R&&p.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/20 backdrop-blur-sm p-4 animate-fadeIn",children:p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700 p-6 w-full max-w-sm flex flex-col items-center text-center transform transition-all scale-100",children:[p.jsx("div",{className:`p-4 rounded-full mb-4 ${R.type==="danger"?"bg-red-100 text-red-600":"bg-blue-100 text-blue-600"}`,children:R.type==="danger"?p.jsx(Ya,{className:"w-8 h-8"}):p.jsx(qa,{className:"w-8 h-8"})}),p.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:R.title}),p.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6 leading-relaxed",children:R.message}),p.jsxs("div",{className:"flex gap-3 w-full",children:[p.jsx("button",{onClick:()=>q(null),className:"flex-1 px-4 py-2 rounded-lg border border-gray-300 text-gray-700 font-bold hover:bg-gray-50 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),p.jsx("button",{onClick:()=>R.onConfirm(),className:`flex-1 px-4 py-2 rounded-lg text-white font-bold shadow-lg transition-transform hover:scale-105 ${R.type==="danger"?"bg-red-600 hover:bg-red-700 shadow-red-500/30":"bg-emerald-600 hover:bg-emerald-700 shadow-emerald-500/30"}`,children:"Confirm"})]})]})}),p.jsxs("div",{className:"p-6 overflow-y-auto space-y-4",children:[n.length===0?p.jsx(p.Fragment,{children:a&&Number(a[r]||0)>0?p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center justify-between bg-blue-50 dark:bg-blue-900/20 p-3 rounded-md",children:[p.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-200 flex items-center gap-2",children:[p.jsx("span",{className:"text-xl",children:""}),p.jsxs("span",{children:[p.jsxs("strong",{children:[Number(a[r])," Trucks Planned"]})," via Auto-Replenishment.",p.jsx("br",{}),"Purchase Orders have not been imported yet."]})]}),p.jsx("button",{onClick:I,className:`flex items-center px-3 py-1.5 rounded-lg text-xs font-bold transition-all ${fe?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-white text-gray-600 border border-gray-200 hover:bg-gray-50 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600"}`,children:fe?p.jsxs(p.Fragment,{children:[p.jsx(qa,{className:"w-4 h-4 mr-1.5"}),"Copied!"]}):p.jsxs(p.Fragment,{children:[p.jsx(nx,{className:"w-4 h-4 mr-1.5"}),"Copy Plan"]})})]}),Array.from({length:Math.round(Number(a[r]))}).map((F,ae)=>p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-4 flex items-center justify-between opacity-75 grayscale",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"bg-gray-200 dark:bg-gray-700 p-3 rounded-lg",children:p.jsx(dn,{className:"w-6 h-6 text-gray-400"})}),p.jsxs("div",{children:[p.jsxs("h3",{className:"text-lg font-bold text-gray-500 dark:text-gray-400 italic",children:["Planned Load #",ae+1]}),p.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[p.jsxs("div",{className:"flex items-center text-xs font-mono font-bold text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/30 px-2 py-0.5 rounded",children:[p.jsx(c0,{className:"w-3 h-3 mr-1"}),"Est. ",$(ae)]}),p.jsx("span",{className:"text-xs text-gray-400",children:"Awaiting PO"})]})]})]}),p.jsx("div",{className:"px-3 py-1 bg-gray-100 dark:bg-gray-700 text-xs font-bold text-gray-500 rounded-full",children:"AUTO-PLAN"})]},`planned-${ae}`))]}):p.jsx("div",{className:"text-center py-10 text-gray-400 italic bg-gray-50 dark:bg-gray-800 rounded-lg",children:"No deliveries scheduled for this day."})}):T.map((F,ae)=>p.jsx("div",{className:"bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-lg shadow-sm p-4 relative group hover:border-blue-300 dark:hover:border-blue-700 transition-colors",children:S===F.id?p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[p.jsxs("div",{className:"col-span-1",children:[p.jsx("label",{className:"text-xs font-bold text-gray-500",children:"PO Number"}),p.jsx("input",{type:"text",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:_.po||"",onChange:re=>j(ee=>({...ee,po:re.target.value}))})]}),p.jsxs("div",{className:"col-span-1",children:[p.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Appointment Time"}),p.jsx("input",{type:"time",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:_.time||"",onChange:re=>j(ee=>({...ee,time:re.target.value}))})]}),p.jsxs("div",{className:"col-span-1",children:[p.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Appointment Time"}),p.jsx("input",{type:"time",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:_.time||"",onChange:re=>j(ee=>({...ee,time:re.target.value}))})]}),p.jsxs("div",{className:"col-span-1",children:[p.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Supplier"}),p.jsx("input",{type:"text",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:_.supplier||"",onChange:re=>j(ee=>({...ee,supplier:re.target.value}))})]}),p.jsxs("div",{className:"col-span-1",children:[p.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Quantity"}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("input",{type:"number",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:_.qty||0,onChange:re=>j(ee=>({...ee,qty:re.target.value}))}),p.jsxs("span",{className:"text-xs text-gray-400 whitespace-nowrap",children:["= ",P(_.qty||0)," Trucks"]})]})]})]}),p.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg flex items-center gap-3",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("label",{className:"text-xs font-bold text-blue-700 dark:text-blue-300",children:"Move to Date"}),p.jsx("input",{type:"date",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white mt-1",value:N,onChange:re=>{E(re.target.value),C||A(F.id)}})]}),p.jsxs("button",{onClick:W,disabled:!N,className:"mt-5 px-4 py-2 bg-blue-600 text-white rounded-lg font-bold text-sm disabled:opacity-50 hover:bg-blue-500 flex items-center",children:[p.jsx(n6,{className:"w-5 h-5 mr-1"}),"Reschedule"]})]}),p.jsxs("div",{className:"flex justify-between border-t dark:border-gray-700 pt-3",children:[p.jsx("button",{onClick:()=>k(null),className:"text-sm text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:"Cancel"}),p.jsxs("button",{onClick:Q,className:"flex items-center text-sm font-bold text-green-600 hover:text-green-700",children:[p.jsx(qa,{className:"w-5 h-5 mr-1"}),"Save Changes"]})]})]}):p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{className:"flex items-start gap-4",children:[p.jsx("div",{className:"bg-blue-100 dark:bg-blue-900 p-3 rounded-lg",children:p.jsx(dn,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),p.jsxs("div",{children:[p.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center",children:[p.jsx("span",{className:"font-mono",children:F.time&&F.time!=="00:00"?ac(F.time):"TBD"}),p.jsx("span",{className:"mx-2 text-gray-300",children:"|"}),"PO #",F.po,F.loadId&&p.jsxs("span",{className:"ml-2 px-2 py-0.5 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs rounded-full font-bold",children:["Load ID: ",F.loadId]}),p.jsx("span",{className:"ml-2 px-2 py-0.5 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-100 text-xs rounded-full font-bold",children:"1 Truck"}),p.jsx("button",{onClick:re=>{re.stopPropagation();const ee=F.status||"ordered";ee==="received"?confirm("Revert 'Received' status back to 'Ordered'?")&&f(r,{...F,status:"ordered"}):f(r,{...F,status:ee==="confirmed"?"ordered":"confirmed"})},className:`ml-2 px-2 py-0.5 text-xs rounded-full font-bold border transition-colors ${F.status==="received"?"bg-emerald-100 text-emerald-800 border-emerald-200 hover:bg-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-300 dark:border-emerald-800":F.status==="confirmed"?"bg-blue-100 text-blue-800 border-blue-200 hover:bg-blue-200 dark:bg-blue-900/30 dark:text-blue-300 dark:border-blue-800":"bg-yellow-100 text-yellow-800 border-yellow-200 hover:bg-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-300 dark:border-yellow-800"}`,title:"Toggle Status",children:F.status==="received"?"Received":F.status==="confirmed"?"Confirmed":"Ordered"})]}),p.jsxs("div",{className:"flex flex-col gap-1 mt-1",children:[p.jsxs("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[p.jsx("span",{children:F.supplier||F.vendor||"Unknown Supplier"}),p.jsx("span",{className:"text-gray-300",children:"|"}),p.jsx("span",{className:"text-gray-600 dark:text-gray-400 font-bold",children:F.sku||g}),p.jsxs("span",{className:"text-gray-400 font-normal",children:["- ",y[F.sku||g]?.description||"No Description"]})]}),Number(F.qty)>0&&p.jsxs("span",{className:"text-xs text-gray-400",children:["(",Number(String(F.qty).replace(/,/g,"")).toLocaleString()," units)"]})]})]})]}),p.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[F.status!=="received"&&p.jsx("button",{onClick:re=>{re.stopPropagation(),U(F)},className:"p-2 text-gray-400 hover:text-emerald-600 hover:bg-emerald-50 rounded-lg dark:hover:bg-emerald-900/30",title:"Mark as Received",children:p.jsx(qa,{className:"w-5 h-5"})}),p.jsx("button",{onClick:()=>{Y(F),K(F.id)},className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg dark:hover:bg-blue-900/30",title:"Edit or Reschedule",children:p.jsx(Ju,{className:"w-5 h-5"})}),p.jsx("button",{onClick:re=>{re.stopPropagation(),oe(F.id)},className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg dark:hover:bg-red-900/30",title:"Cancel Delivery",children:p.jsx(Ya,{className:"w-5 h-5"})})]})]})},F.id||ae)),p.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-lg flex gap-3 text-xs text-yellow-800 dark:text-yellow-200",children:[p.jsx("span",{className:"text-lg",children:""}),p.jsxs("p",{children:[p.jsx("strong",{children:"Schedule Exception Management"}),p.jsx("br",{}),"Use this tool to handle cancellations or delays. Removing a PO here is permanent unless re-imported from SAP."]})]})]})]})})]})}const qF=x.memo(({dates:e,todayStr:t})=>p.jsx("thead",{className:"sticky top-0 z-20",children:p.jsxs("tr",{children:[p.jsx("th",{className:"sticky left-0 min-w-[140px] w-[140px] h-10 bg-slate-800 dark:bg-slate-950 border-b border-r border-slate-600 dark:border-slate-700 pl-2 pr-2 text-left text-xs font-bold text-white dark:text-slate-200 uppercase tracking-wider z-30 shadow-md",children:p.jsx("div",{className:"flex items-center h-full",children:p.jsx("span",{children:"Metric"})})}),e.map(r=>{const n=vt(r),a=new Date(n+"T00:00:00"),s=n===t,l=a.getDay()===0||a.getDay()===6;return p.jsx("th",{className:`
                            min-w-[100px] w-[100px] h-10 p-0 border-b border-r border-slate-600 dark:border-slate-700 transition-colors
                            ${s?"bg-blue-600 text-white font-extrabold shadow-md":"bg-slate-800 dark:bg-slate-950 text-slate-200 dark:text-slate-400"}
                            ${l&&!s?"bg-slate-700/50 dark:bg-slate-900/50 text-slate-400":""}
                        `,children:p.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center",children:[p.jsx("div",{className:`uppercase text-[9px] leading-tight font-semibold ${s?"opacity-90":"opacity-60"}`,children:(()=>{const[c,d,f]=n.split("-").map(Number);return new Date(c,d-1,f).toLocaleDateString("en-US",{weekday:"short"})})()}),p.jsx("div",{className:"text-sm leading-none mt-0.5",children:n.split("-")[2].replace(/^0/,"")})]})},n)})]})}));function HF({date:e,todayStr:t,demandVal:r,updateDateDemand:n,actualVal:a,updateDateActual:s,manifestItems:l,monthlyInboundVal:c,updateDateInbound:d,ledgerItem:f,openManager:m,readOnly:g=!1}){const v=vt(e),y=v===t,S=a!==void 0,k=l&&l.length>0,_=k?l.length:c||0;return p.jsxs("div",{className:`p-4 rounded-xl border-2 mb-4 shadow-sm ${y?"bg-blue-50 border-blue-200 dark:bg-blue-900/20 dark:border-blue-800":"bg-white border-gray-100 dark:bg-gray-800 dark:border-gray-700"}`,children:[p.jsxs("div",{className:"flex justify-between items-center mb-3",children:[p.jsxs("div",{children:[p.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:new Date(e).toLocaleDateString("en-US",{weekday:"long"})}),p.jsx("div",{className:"text-lg font-black text-gray-800 dark:text-white",children:new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]}),y&&p.jsx("span",{className:"bg-blue-100 text-blue-700 px-2 py-0.5 rounded text-[10px] font-bold uppercase",children:"Today"})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-2 rounded-lg",children:[p.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"Production Plan"}),p.jsx("input",{className:`w-full bg-white dark:bg-gray-600 rounded border border-gray-200 dark:border-gray-500 p-2 text-sm font-bold text-center outline-none ${g?"cursor-default opacity-80":"focus:ring-2 focus:ring-blue-500"}`,placeholder:g?"":"-",value:r||"",disabled:g,onChange:j=>n(v,j.target.value)})]}),p.jsxs("div",{className:"bg-blue-50/50 dark:bg-blue-900/10 p-2 rounded-lg border border-blue-100 dark:border-blue-900",children:[p.jsx("label",{className:"text-[10px] font-bold text-blue-400 uppercase block mb-1",children:"Actual / Prod"}),p.jsx("input",{className:`w-full bg-white dark:bg-gray-600 rounded border border-blue-200 dark:border-blue-800 p-2 text-sm font-bold text-center text-blue-700 dark:text-blue-300 outline-none ${g?"cursor-default opacity-80":"focus:ring-2 focus:ring-blue-500"}`,placeholder:g?"":"-",value:S?Number(a).toLocaleString():"",disabled:g,onChange:j=>{const N=j.target.value.replace(/,/g,"");isNaN(N)||s(v,N)}})]}),p.jsxs("div",{className:"bg-green-50/50 dark:bg-green-900/10 p-2 rounded-lg border border-green-100 dark:border-green-900",children:[p.jsx("label",{className:"text-[10px] font-bold text-green-400 uppercase block mb-1",children:"Inbound Trucks"}),k?p.jsxs("button",{className:`w-full bg-white dark:bg-gray-600 rounded border border-green-200 dark:border-green-800 p-2 text-sm font-bold text-center text-green-700 dark:text-green-400 flex items-center justify-center gap-2 ${g?"cursor-default opacity-80":""}`,onClick:()=>!g&&m(v),disabled:g,children:[_," ",p.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"})]}):p.jsx("input",{className:`w-full bg-white dark:bg-gray-600 rounded border border-green-200 dark:border-green-800 p-2 text-sm font-bold text-center text-green-700 dark:text-green-400 outline-none ${g?"cursor-default opacity-80":"focus:ring-2 focus:ring-green-500"}`,placeholder:g?"":"0",value:_||"",disabled:g,onChange:j=>{const N=j.target.value.replace(/,/g,"");isNaN(N)||d(v,N)}})]}),p.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-2 rounded-lg flex flex-col justify-center items-center",children:[p.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"End Balance"}),p.jsx("div",{className:"text-sm font-black text-gray-700 dark:text-gray-300",children:f?f.balance.toLocaleString():"-"})]})]})]})}const FF=x.memo(({dates:e,monthlyDemand:t,updateDateDemand:r,updateDateDemandBulk:n,readOnly:a=!1,todayStr:s})=>{const l=x.useRef(r);return x.useEffect(()=>{l.current=r},[r]),p.jsxs("tr",{className:"group/row",children:[p.jsx("th",{className:"sticky left-0 min-w-[140px] w-[140px] h-8 bg-slate-300 dark:bg-slate-800 border-r border-slate-400 dark:border-slate-600 pl-2 pr-2 text-left text-xs font-bold text-slate-800 dark:text-slate-300 z-10 shadow-md relative",children:p.jsx("div",{className:"w-full h-full flex items-center",children:"Production (Plan)"})}),e.map(c=>{const d=vt(c),f=t[d];return p.jsx(VF,{date:c,dateStr:d,initialValue:f,updateDateDemand:r,updateDateDemandBulk:n,readOnly:a,isToday:d===s},d)})]})}),VF=x.memo(({date:e,dateStr:t,initialValue:r,updateDateDemand:n,updateDateDemandBulk:a,readOnly:s,isToday:l})=>{const c=x.useRef(null),[d,f]=x.useState(null);x.useEffect(()=>{c.current&&document.activeElement!==c.current&&(c.current.value=r?Number(r).toLocaleString():"")},[r]);const m=_=>{if(!_)return"";const j=_.toString().toLowerCase().trim().replace(/,/g,"");let N=1;j.endsWith("k")?N=1e3:j.endsWith("m")&&(N=1e6);let E=parseFloat(j.replace(/[km]/g,""));return isNaN(E)?_:(E*=N,N===1&&E>0&&E<1e3&&(E*=1e3),E.toString())},g=()=>{if(!s&&c.current){const _=m(c.current.value);_!==r&&n(t,_),_&&!isNaN(_)&&(c.current.value=Number(_).toLocaleString())}},v=_=>{if(!s&&_.key==="Enter"){_.preventDefault();const j=_.target.value.replace(/,/g,""),N=m(j);n(t,N),N&&!isNaN(N)&&(_.target.value=Number(N).toLocaleString());const C=`demand-${lr(t,1)}`;setTimeout(()=>{const A=document.getElementById(C);A&&(A.focus(),A.select())},0)}},y=_=>{s||(_.preventDefault(),f({x:_.clientX,y:_.clientY}))},S=()=>f(null),k=_=>{const j=c.current?m(c.current.value):r;if(!j)return;const N={};if(N[t]=j,_==="week")for(let E=1;E<7;E++)N[lr(t,E)]=j;if(_==="month"){const E=new Date(e).getMonth();let C=1;for(;;){const A=lr(t,C);if(new Date(A).getMonth()!==E||(N[A]=j,C++,C>31))break}}if(_==="restOfWeek"){new Date(e).getDay();let E=1;for(;;){const C=lr(t,E),A=new Date(C);if(N[C]=j,A.getDay()===0||(E++,E>7))break}}a&&a(N),S()};return p.jsxs("td",{className:`min-w-[100px] w-[100px] h-8 p-0 border-r border-slate-300 dark:border-slate-700 transition-colors 
            ${l?"bg-blue-50/50 dark:bg-blue-900/10 border-x-2 border-x-blue-300":"bg-slate-200 dark:bg-slate-800/50"}`,children:[p.jsx("div",{className:"w-full h-full relative group/cell",onContextMenu:y,children:p.jsx("input",{ref:c,id:`demand-${t}`,type:"text",inputMode:"decimal",className:`
                        w-full h-full text-center outline-none transition-all font-bold text-sm m-0 p-0
                        ${s?"cursor-not-allowed text-slate-500 bg-transparent":"cursor-text text-slate-800 dark:text-slate-100 bg-transparent focus:bg-white dark:focus:bg-slate-700 hover:ring-1 hover:ring-slate-300 dark:hover:ring-slate-600 focus:ring-2 focus:ring-inset focus:ring-blue-500 focus:z-10 focus:shadow-sm"}
                        placeholder:text-slate-300 dark:placeholder:text-slate-600
                    `,placeholder:s?"":"-",disabled:s,onBlur:g,onKeyDown:v,autoComplete:"off"})}),d&&p.jsx(KF,{x:d.x,y:d.y,onClose:S,onAction:k})]})}),KF=({x:e,y:t,onClose:r,onAction:n})=>{x.useEffect(()=>{const s=()=>r();return window.addEventListener("click",s),()=>window.removeEventListener("click",s)},[r]);const a=s=>s.stopPropagation();return Xs.createPortal(p.jsxs("div",{className:"fixed z-[100] min-w-[180px] bg-white dark:bg-slate-800 rounded-lg shadow-xl ring-1 ring-black/5 dark:ring-white/10 py-1 origin-top-left transform transition-all animate-in fade-in zoom-in-95 duration-100",style:{top:t,left:e},onClick:a,onContextMenu:s=>s.preventDefault(),children:[p.jsx("div",{className:"px-3 py-2 text-[10px] font-bold text-slate-400 uppercase tracking-wider border-b border-slate-100 dark:border-slate-700 mb-1",children:"Quick Fill"}),p.jsxs("button",{onClick:()=>n("week"),className:"w-full text-left px-4 py-2 text-sm text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700 flex items-center gap-2 group",children:[p.jsx("div",{className:"p-1 rounded-md bg-emerald-50 text-emerald-600 group-hover:bg-emerald-100 dark:bg-emerald-900/30 dark:text-emerald-400",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"})})}),p.jsx("span",{children:"Next 7 Days"})]}),p.jsxs("button",{onClick:()=>n("restOfWeek"),className:"w-full text-left px-4 py-2 text-sm text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700 flex items-center gap-2 group",children:[p.jsx("div",{className:"p-1 rounded-md bg-blue-50 text-blue-600 group-hover:bg-blue-100 dark:bg-blue-900/30 dark:text-blue-400",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0h9m3.102-1.296a4.5 4.5 0 016.3 6.3m0-6.3a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0z"})})}),p.jsx("span",{children:"Rest of Week"})]}),p.jsxs("button",{onClick:()=>n("month"),className:"w-full text-left px-4 py-2 text-sm text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700 flex items-center gap-2 group",children:[p.jsx("div",{className:"p-1 rounded-md bg-purple-50 text-purple-600 group-hover:bg-purple-100 dark:bg-purple-900/30 dark:text-purple-400",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0h9m3.102-1.296a4.5 4.5 0 016.3 6.3m0-6.3a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0z"})})}),p.jsx("span",{children:"Rest of Month"})]})]}),document.body)},ZF=x.memo(({dates:e,monthlyProductionActuals:t,updateDateActual:r,readOnly:n=!1,todayStr:a})=>p.jsxs("tr",{className:"bg-sky-50/20 dark:bg-sky-900/10",children:[p.jsx("th",{className:"sticky left-0 min-w-[140px] w-[140px] h-8 bg-sky-50 dark:bg-slate-800 border-r border-slate-300 dark:border-slate-600 pl-2 pr-2 text-left text-xs font-bold text-sky-700 dark:text-sky-400 z-10 shadow-md",children:p.jsx("div",{className:"w-full h-full flex items-center",children:"Actual / Prod"})}),e.map(s=>{const l=vt(s),c=t[l];return p.jsx(GF,{date:s,dateStr:l,initialValue:c,updateDateActual:r,readOnly:n,isToday:l===a},l)})]})),GF=ge.memo(({dateStr:e,initialValue:t,updateDateActual:r,readOnly:n,isToday:a})=>{const[s,l]=ge.useState(t?Number(t).toLocaleString():"");ge.useEffect(()=>{l(t?Number(t).toLocaleString():"")},[t]);const c=()=>{if(n)return;let d=s.toString().toLowerCase().trim().replace(/,/g,""),f=1;d.endsWith("k")?f=1e3:d.endsWith("m")&&(f=1e6);let m=parseFloat(d.replace(/[km]/g,""));f===1&&m>0&&m<1e3&&(m*=1e3);const g=isNaN(m)?null:m*f;g!==t&&r(e,g),g!==null&&l(g.toLocaleString())};return p.jsx("td",{className:`min-w-[100px] w-[100px] h-8 p-0 border-r border-slate-200 dark:border-slate-700 
            ${a?"bg-blue-50/50 dark:bg-blue-900/10 border-x-2 border-x-blue-300":"bg-sky-50/10 dark:bg-sky-900/5"}
            ${n?"":"hover:bg-sky-50/30"}
        `,children:p.jsx("input",{type:"text",className:`w-full h-full text-center text-sm bg-transparent outline-none font-bold text-sky-700 dark:text-sky-300 rounded-sm ${n?"cursor-default opacity-80":"focus:bg-white dark:focus:bg-slate-700 focus:ring-2 focus:ring-inset focus:ring-sky-400"}`,value:s,onChange:d=>l(d.target.value),onBlur:c,onKeyDown:d=>{d.key==="Enter"&&d.target.blur()},placeholder:n?"":"-",disabled:n})})}),YF=x.memo(({dates:e,poManifest:t,monthlyInbound:r,updateDateInbound:n,openManager:a,readOnly:s=!1,todayStr:l})=>p.jsxs("tr",{children:[p.jsx("th",{className:"sticky left-0 min-w-[140px] w-[140px] h-8 bg-white dark:bg-slate-800 border-r border-slate-300 dark:border-slate-600 pl-2 pr-2 text-left text-xs font-bold text-emerald-700 dark:text-emerald-400 z-10 shadow-md",children:p.jsx("div",{className:"w-full h-full flex items-center",children:"Inbound Trucks"})}),e.map(c=>{const d=vt(c),f=t[d]?.items||[],m=f.length>0,g=m?f.length:r[d]||0,v=d===l,y=f.length>0&&f.every(k=>k.status==="received"),S=f.filter(k=>k.status==="received").length;return p.jsx("td",{className:`min-w-[100px] w-[100px] h-8 p-0 border-r border-slate-200 dark:border-slate-700 relative group transition-colors 
                        ${v?"bg-blue-50/50 dark:bg-blue-900/10 border-x-2 border-x-blue-300":""}
                        ${s?"":"hover:bg-slate-50 dark:hover:bg-slate-700"}
                    `,children:m?p.jsx("button",{className:`w-full h-full p-1 flex items-center justify-center ${s?"cursor-default":""}`,onClick:()=>!s&&a(d),title:`${f.length} POs (${S} Received)${s?" (Read Only)":""}`,disabled:s,children:p.jsx("span",{className:`flex items-center gap-1 rounded px-2 py-0.5 text-sm font-bold shadow-sm whitespace-nowrap transition-colors 
                                    ${y?"bg-emerald-100 text-emerald-800 border border-emerald-200 dark:bg-emerald-900/50 dark:text-emerald-300 dark:border-emerald-700":s?"bg-indigo-600/70 text-white/90":"bg-indigo-600 text-white dark:bg-indigo-500 hover:bg-indigo-700"}
                                `,children:y?p.jsxs(p.Fragment,{children:[p.jsx("span",{className:"text-emerald-600 dark:text-emerald-400",children:""}),g," OK"]}):p.jsxs(p.Fragment,{children:[p.jsx(dn,{className:"w-3 h-3"}),g," PO"]})})}):p.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[Number(g)>0&&p.jsx(dn,{className:"w-3 h-3 text-emerald-500 absolute left-2 pointer-events-none opacity-50"}),p.jsx("input",{className:`w-full h-full text-center text-sm bg-transparent font-bold rounded-sm outline-none
                                        ${g>0?"text-emerald-600 dark:text-emerald-400 pl-4":"text-slate-300"}
                                        ${s?"cursor-default":"focus:bg-emerald-50 dark:focus:bg-slate-700 focus:ring-2 focus:ring-inset focus:ring-emerald-400"}
                                    `,value:g||"",placeholder:s?"":"0",disabled:s,onChange:k=>{const _=k.target.value.replace(/,/g,"");isNaN(_)||n(d,_)},onDoubleClick:()=>!s&&a(d)})]})},d)})]})),WF=x.memo(({dates:e,ledgerMap:t,specs:r,safetyTarget:n,todayStr:a})=>p.jsxs("tr",{className:"bg-slate-200 dark:bg-slate-800 border-t-2 border-slate-300 dark:border-slate-600",children:[p.jsx("th",{className:"sticky left-0 min-w-[140px] w-[140px] h-8 bg-slate-200 dark:bg-slate-800 border-r border-slate-300 dark:border-slate-600 pl-2 pr-2 text-left text-xs font-bold text-slate-800 dark:text-white z-10 shadow-md",children:p.jsx("div",{className:"w-full h-full flex items-center",children:"End Inventory"})}),e.map(s=>{const l=vt(s),c=t[l],d=c?c.balance:null,f=l===a,m=r?.casesPerPallet||100,g=r?.bottlesPerCase||1,v=r?.bottlesPerTruck||2e4,y=d!==null?Math.round(d/g/m):null;let S="-";if(y!==null){const _=Math.floor(v/g/m)||22;if(Math.abs(y)>=_){const j=Math.floor(y/_),N=y%_;S=`${j}T ${N}P`}else S=`${y}`}let k="";return d!==null&&n&&(d<n?k="bg-red-100 dark:bg-red-900/40 text-red-800 dark:text-red-200 font-bold":d>n+v*2?k="bg-orange-100 dark:bg-orange-900/40 text-orange-900 dark:text-orange-200":k="text-slate-700 dark:text-slate-200"),f&&(k+=" bg-blue-50/50 dark:bg-blue-900/10 border-x-2 border-x-blue-300"),p.jsx("td",{className:`min-w-[100px] w-[100px] h-8 p-0 border-r border-slate-300 dark:border-slate-600 ${k}`,children:p.jsx("div",{className:"w-full h-full flex items-center justify-center",children:S})},l)})]})),XF=x.memo(({dates:e,ledgerMap:t,monthlyDemand:r,specs:n,todayStr:a})=>p.jsxs("tr",{className:"border-t border-slate-300 dark:border-slate-600 bg-slate-200 dark:bg-slate-800",children:[p.jsx("th",{className:"sticky left-0 min-w-[140px] w-[140px] h-8 bg-slate-300 dark:bg-slate-800 border-r border-slate-400 dark:border-slate-600 pl-2 pr-2 text-left text-xs font-bold text-slate-500 uppercase z-10 shadow-md",children:p.jsx("div",{className:"w-full h-full flex items-center",children:"Coverage (DOS)"})}),e.map(s=>{const l=vt(s),c=t[l],d=c?c.balance:0,f=1+(n?.scrapPercentage||0)/100,m=l===a;let g=0,v=d,y=!1;for(let j=1;j<=30;j++){const N=new Date(s);N.setDate(N.getDate()+j);const E=vt(N),C=(r[E]||0)*n.bottlesPerCase*f;if(C===0){g+=1,j===30&&(y=!0);continue}if(v>=C)v-=C,g+=1;else{g+=v/C,v=0;break}}const S=g.toFixed(1),k=parseFloat(S);let _="text-slate-400";return d>0&&(k<2?_="bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300 font-bold":k<4?_="bg-yellow-100 dark:bg-yellow-900/50 text-yellow-700 dark:text-yellow-300 font-bold":_="bg-green-100 dark:bg-green-900/40 text-green-700 dark:text-green-300 font-bold"),m&&(_+=" bg-blue-50/50 dark:bg-blue-900/10 border-x-2 border-x-blue-300"),p.jsx("td",{className:`min-w-[100px] w-[100px] h-8 p-0 text-center text-xs border-r border-slate-300 dark:border-slate-600 ${_}`,children:p.jsx("div",{className:"w-full h-full flex items-center justify-center",children:y?"":S})},l)})]}));function JF({monthlyDemand:e,monthlyProductionActuals:t,monthlyInbound:r,updateDateDemand:n,updateDateDemandBulk:a,updateDateActual:s,updateDateInbound:l,dailyLedger:c=[],specs:d,userProfile:f,startDate:m,readOnly:g=!1,poManifest:v={}}){const{updateDailyManifest:y,removeOrder:S}=Qn(),[k,_]=x.useState({isOpen:!1,date:null}),j=un(new Date),N=x.useMemo(()=>{const L=[],R=m?new Date(m):new Date;for(let q=0;q<60;q++)L.push(lr(R,q));return L},[m]),E=x.useMemo(()=>c.reduce((L,R)=>(L[R.date]=R,L),{}),[c]),C=L=>{g||_({isOpen:!0,date:L})},A=()=>{_({isOpen:!1,date:null})},T=L=>{k.date&&y(k.date,L)},P=L=>{k.date&&S(k.date,L)},M=()=>p.jsx(DC,{isOpen:k.isOpen,onClose:A,date:k.date||"",orders:k.date?v[k.date]?.items||[]:[],monthlyInbound:r,updateDateInbound:l,onSave:T,onDelete:P,specs:d}),$=x.useMemo(()=>{if(!d||!d.bottlesPerTruck||!d.bottlesPerCase)return null;let L=0,R=0;const q=d.bottlesPerTruck/d.bottlesPerCase;N.forEach(de=>{const U=un(de),K=e[U];K&&(L+=Number(K));const W=v[U],fe=W?.items?.length>0?W.items.length:r[U]||0;R+=Number(fe)});const V=Math.ceil(L/q),oe=R-V;return{totalCases:L,trucksRequired:V,totalScheduled:R,gap:oe}},[N,e,r,v,d]);return p.jsxs("div",{className:"relative",children:[$&&p.jsxs("div",{className:"hidden md:flex sticky left-0 right-0 mb-2 mx-1 p-1.5 bg-slate-900 text-white rounded-lg shadow-md items-center justify-between z-10 font-mono text-xs uppercase tracking-wider",children:[p.jsxs("div",{className:"flex gap-4",children:[p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"text-slate-400 text-[8px]",children:"Total Plan"}),p.jsxs("span",{className:"font-bold text-sm text-blue-200",children:[$.totalCases.toLocaleString()," ",p.jsx("span",{className:"text-[8px] text-slate-500",children:"cs"})]})]}),p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"text-slate-400 text-[8px]",children:"Est. Trucks"}),p.jsxs("span",{className:"font-bold text-sm",children:[$.trucksRequired," ",p.jsx("span",{className:"text-[8px] text-slate-500",children:"trks"})]})]})]}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsxs("div",{className:"flex flex-col text-right",children:[p.jsx("span",{className:"text-slate-400 text-[8px]",children:"Scheduled"}),p.jsx("span",{className:"font-bold text-sm text-emerald-400",children:$.totalScheduled})]}),p.jsxs("div",{className:`flex flex-col items-center justify-center px-3 py-0.5 rounded border ${$.gap<0?"bg-red-500/20 border-red-500 text-red-200":"bg-emerald-500/20 border-emerald-500 text-emerald-200"}`,children:[p.jsx("span",{className:"text-[8px] opacity-75",children:"Gap"}),p.jsxs("span",{className:"font-black text-lg leading-none",children:[$.gap>0?"+":"",$.gap]})]})]})]}),p.jsx("div",{className:"md:hidden space-y-4 pb-20",children:N.slice(0,30).map(L=>{const R=un(L);return p.jsx(HF,{date:L,todayStr:j,demandVal:e[R],updateDateDemand:n,actualVal:t[R],updateDateActual:s,manifestItems:v[R]?.items||[],monthlyInboundVal:r[R],updateDateInbound:l,ledgerItem:E[R],openManager:C,readOnly:g},R)})}),p.jsx("div",{className:"hidden md:block overflow-x-auto pb-4 relative custom-scrollbar",children:p.jsxs("table",{className:"w-full border-collapse text-sm",children:[p.jsx(qF,{dates:N,todayStr:j}),p.jsxs("tbody",{children:[p.jsx(FF,{dates:N,monthlyDemand:e,updateDateDemand:n,updateDateDemandBulk:a,readOnly:g,todayStr:j}),p.jsx(ZF,{dates:N,monthlyProductionActuals:t,updateDateActual:s,readOnly:g,todayStr:j}),p.jsx(YF,{dates:N,poManifest:v,monthlyInbound:r,updateDateInbound:l,openManager:C,readOnly:g,todayStr:j}),p.jsx(WF,{dates:N,ledgerMap:E,specs:d,safetyTarget:d?.bottles_per_truck?d.bottles_per_truck*2:0,todayStr:j}),p.jsx(XF,{dates:N,ledgerMap:E,monthlyDemand:e,specs:d,todayStr:j})]})]})}),M()]})}const QF=(e,t)=>{const r={};e.forEach(a=>{r[a.date]||(r[a.date]=[]),r[a.date].push(a)});const n=[];return Object.entries(r).forEach(([a,s])=>{s.sort((f,m)=>{const g=f.po?String(f.po).replace(/\D/g,""):"",v=m.po?String(m.po).replace(/\D/g,""):"";return g&&v?Number(g)-Number(v):(f.po||"").localeCompare(m.po||"")});let[l,c]=(t.schedulerSettings?.shiftStartTime||"06:00").split(":").map(Number),d=new Date;d.setHours(l,c,0,0),s.forEach(f=>{const m=f.sku||Object.keys(t.bottleDefinitions)[0],g=t.bottleDefinitions[m],v=new Date(d);v.getMinutes()>=30&&v.setHours(v.getHours()+1),v.setMinutes(0);const y=v.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"});if(n.push({...f,time:y}),!g)return;const S=(f.qty||1)*(g.bottlesPerTruck||2e4),k=g.productionRate||1e3,j=S/k*60;d.setMinutes(d.getMinutes()+j)})}),n};function eV({isOpen:e,onClose:t}){const{addOrdersBulk:r}=Qn(),{schedulerSettings:n}=Jn(),{productMap:a}=fr(),[s,l]=x.useState(1),[c,d]=x.useState(""),[f,m]=x.useState([]),[g,v]=x.useState({po:-1,date:-1,qty:-1,supplier:-1,sku:-1}),y=A=>{const T=A.trim().split(/\r?\n/);if(T.length===0)return[];const $=T[0].includes("	")?"	":",";return T.map(L=>L.split($).map(R=>R.trim()))},S=()=>{if(s===1){const A=y(c);m(A.slice(0,5)),l(2)}else s===2&&N()},k=A=>{if(!A)return null;const T=A.trim();if(T.match(/^\d{4}-\d{2}-\d{2}$/))return T;const P=T.split(/[\-\s\/]/);if(P.length===2||P.length===3){const $={jan:0,feb:1,mar:2,apr:3,may:4,jun:5,jul:6,aug:7,sep:8,oct:9,nov:10,dec:11};let L,R,q=new Date().getFullYear();const V=P[0].toLowerCase(),oe=P[1].toLowerCase();if(P[2]&&P[2].toLowerCase(),$[oe]!==void 0?(L=parseInt(V),R=$[oe]):$[V]!==void 0&&(R=$[V],L=parseInt(oe)),L&&R!==void 0)return new Date(q,R,L).toISOString().split("T")[0]}const M=new Date(T);return isNaN(M.getTime())?null:M.toISOString().split("T")[0]},_=A=>A?A.match(/^\d+(\.\d+)?[eE]\+\d+$/)?Number(A).toLocaleString("fullwide",{useGrouping:!1}):A:"",j=A=>{if(!A)return 0;const T=String(A).replace(/[^0-9.\-]/g,""),P=parseFloat(T);return isNaN(P)?0:P},N=()=>{const A=y(c);let T=0;const P=A.map($=>{const L=$[g.date],R=k(L);return R?{id:crypto.randomUUID(),po:_($[g.po]),date:R,qty:j($[g.qty]),supplier:$[g.supplier]||"Unknown",sku:$[g.sku]||g.defaultSku||"",status:"planned"}:null}).filter($=>$&&$.po&&$.date?(T++,!0):!1),M=QF(P,{bottleDefinitions:a,schedulerSettings:n});r(M),alert(`Successfully imported ${T} orders! Check the Planning Grid for blue badges.`),t(),d(""),l(1)},E=()=>p.jsxs("div",{className:"space-y-4",children:[p.jsxs("p",{className:"text-sm text-gray-500",children:["Copy your rows from Excel or SAP and paste them below. Make sure to include the ",p.jsx("strong",{children:"PO Number"})," and ",p.jsx("strong",{children:"Delivery Date"}),"."]}),p.jsx("textarea",{className:"w-full h-64 p-3 border rounded-lg font-mono text-xs bg-gray-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 focus:ring-2 focus:ring-blue-500",placeholder:`Example:
450001234	${new Date().toISOString().split("T")[0]}	44000	Supplier A
450001235	${new Date(Date.now()+864e5).toISOString().split("T")[0]}	22000	Supplier B`,value:c,onChange:A=>d(A.target.value)})]}),C=()=>p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 text-sm rounded-lg",children:["Identify the columns. We found ",p.jsxs("strong",{children:[y(c).length," rows"]}),"."]}),p.jsx("div",{className:"overflow-x-auto border rounded-lg dark:border-gray-700",children:p.jsxs("table",{className:"w-full text-xs text-left",children:[p.jsx("thead",{className:"bg-gray-100 dark:bg-gray-800 text-gray-500 uppercase",children:p.jsxs("tr",{children:[f[0]?.map((A,T)=>p.jsxs("th",{className:"p-2 border-b dark:border-gray-700 min-w-[120px]",children:[p.jsxs("div",{className:"mb-2",children:["Column ",T+1]}),p.jsxs("select",{className:"w-full p-1 border rounded bg-white dark:bg-gray-700 dark:border-gray-600",value:Object.keys(g).find(P=>g[P]===T)||"",onChange:P=>{const M=P.target.value;v($=>{const L={...$};if(!M){const R=Object.keys(L).find(q=>L[q]===T);return R&&(L[R]=-1),L}return L[M]=T,L})},children:[p.jsx("option",{value:"",children:"-- Ignore --"}),p.jsx("option",{value:"po",children:"PO Number *"}),p.jsx("option",{value:"date",children:"Date *"}),p.jsx("option",{value:"qty",children:"Quantity"}),p.jsx("option",{value:"supplier",children:"Supplier"}),p.jsx("option",{value:"sku",children:"Material / SKU"})]})]},T)),g.qty!==-1&&p.jsx("th",{className:"p-2 border-b dark:border-gray-700 w-[100px] bg-blue-50 dark:bg-blue-900/10",children:p.jsx("div",{className:"mb-2 text-blue-600",children:"Detected Qty"})})]})}),p.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:f.map((A,T)=>p.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[A.map((P,M)=>p.jsx("td",{className:`p-2 font-mono truncate max-w-[150px] ${Object.values(g).includes(M)?"font-bold text-gray-800 dark:text-white":"text-gray-400"}`,children:P},M)),g.qty!==-1&&p.jsx("td",{className:"p-2 font-mono font-bold text-blue-600 bg-blue-50/50",children:A[g.qty]?j(A[g.qty]).toLocaleString():"-"})]},T))})]})}),p.jsx("p",{className:"text-xs text-red-500",children:"* Required Fields"})]});return p.jsxs(Ot,{open:e,onClose:t,className:"relative z-50",children:[p.jsx("div",{className:"fixed inset-0 bg-black/30","aria-hidden":"true"}),p.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:p.jsxs(Ot.Panel,{className:"w-full max-w-4xl bg-white dark:bg-gray-900 rounded-2xl shadow-xl overflow-hidden flex flex-col max-h-[90vh]",children:[p.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800/50",children:[p.jsxs(Ot.Title,{className:"text-lg font-bold flex items-center gap-2 text-gray-900 dark:text-white",children:[p.jsx(o6,{className:"w-5 h-5 text-blue-600"}),"Import Purchase Orders"]}),p.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:p.jsx(Gs,{className:"w-6 h-6"})})]}),p.jsxs("div",{className:"p-6 overflow-y-auto flex-1",children:[s===1&&E(),s===2&&C()]}),p.jsxs("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-800/50 border-t border-gray-200 dark:border-gray-700 flex justify-end space-x-3",children:[s===2&&p.jsx("button",{onClick:()=>l(1),className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:"Back"}),p.jsx("button",{onClick:S,disabled:c.trim().length===0||s===2&&(g.po===-1||g.date===-1),className:"px-6 py-2 bg-blue-600 text-white font-bold rounded-lg shadow hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:s===1?"Next: Map Columns":`Import ${y(c).length} Orders`})]})]})})]})}function tV({isOpen:e,onClose:t,mrpResults:r}){const{poManifest:n}=Qn(),a=r||{},{activeSku:s}=Jn(),[l,c]=x.useState({start:"",end:""}),[d,f]=x.useState("new"),m=x.useRef(!1),g=x.useMemo(()=>{const A=[];return Object.entries(n).sort().forEach(([T,P])=>{P.items.forEach(M=>{A.push({...M,date:T})})}),A},[n]),v=x.useMemo(()=>g.filter(A=>new Date(A.date)>=new Date().setHours(0,0,0,0)),[g]);x.useEffect(()=>{if(e&&a?.trucksToCancel>0&&y.size===0){const T=v.filter(P=>P.status==="confirmed").sort((P,M)=>new Date(M.date)-new Date(P.date)).slice(0,a.trucksToCancel);if(T.length>0){const P=new Set(T.map(M=>M.po+M.date));m.current=!0,S(P),f("cancel"),setTimeout(()=>m.current=!1,500)}}},[e,a?.trucksToCancel]);const[y,S]=x.useState(new Set);x.useEffect(()=>{e||(S(new Set),m.current=!1)},[e]);const k=A=>{const T=new Set(y);T.has(A)?T.delete(A):T.add(A),S(T)},_=()=>{const A=v.filter($=>y.has($.po+$.date));if(A.length===0)return"";const T=A.map(($,L)=>{const R=$.status==="cancelled"?"[CANCEL] ":"",q=$.time?` @ ${ac($.time)}`:" @ TBD";return`${L+1}. ${R}PO #${$.po}: ${$.date}${q} (1 Truck)`}).join(`
`),P=`${A.length} Truck${A.length!==1?"s":""}`;return(N[d]||N.new).body(T,P)},j=()=>{y.size===v.length?S(new Set):S(new Set(v.map(A=>A.po+A.date)))},N={new:{subject:(A,T)=>`New Orders for Approval - ${s}`,body:(A,T)=>`Hello Team,

Please confirm the following NEW orders for ${s}:

${A}

Total: ${T}

Please configure delivery appointments for each.

Thanks,
Planner`},add:{subject:(A,T)=>`URGENT: ADD to Schedule (Week of ${T.start}) - ${s}`,body:(A,T)=>`Hello Team,

Please ADD the following loads to our existing schedule for ${s}:

${A}

Total: ${T}

This is an addition to the already confirmed plan.

Thanks,
Planner`},cancel:{subject:(A,T)=>`URGENT: CANCELLATION REQUEST - ${A} Orders - ${s}`,body:(A,T)=>`Hello Team,

Please CANCEL the following purchase orders immediately:

${A}

Total: ${T}

Please confirm cancellation.

Thanks,
Planner`}};x.useEffect(()=>{if(y.size===0||m.current)return;const A=v.filter($=>y.has($.po+$.date));if(A.some($=>$.status==="cancelled")){f("cancel");return}const P=new Set(A.map($=>$.date)),M=g.some($=>P.has($.date)&&!y.has($.po+$.date)&&$.status==="confirmed");f(M?"add":"new")},[y,v,g]);const E=()=>{const A=v.filter(P=>y.has(P.po+P.date));return(N[d]||N.new).subject(A.length,{start:A[0]?.date||"..."})},C=()=>{const A=`Subject: ${E()}

${_()}`;navigator.clipboard.writeText(A),alert("Email copied to clipboard!")};return p.jsxs(Ot,{open:e,onClose:t,className:"relative z-50",children:[p.jsx("div",{className:"fixed inset-0 bg-black/30","aria-hidden":"true"}),p.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:p.jsxs(Ot.Panel,{className:"w-full max-w-5xl bg-white dark:bg-gray-900 rounded-2xl shadow-xl overflow-hidden flex flex-col max-h-[90vh]",children:[p.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800/50",children:[p.jsxs(Ot.Title,{className:"text-lg font-bold flex items-center gap-2 text-gray-900 dark:text-white",children:[p.jsx(D5,{className:"w-5 h-5 text-indigo-600"}),"Email Supplier"]}),p.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:p.jsx(Gs,{className:"w-6 h-6"})})]}),p.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-6 py-3 flex items-center gap-4",children:[p.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:"Email Type:"}),p.jsx("div",{className:"flex gap-2",children:["new","add","cancel"].map(A=>p.jsx("button",{onClick:()=>f(A),className:`px-3 py-1 rounded-full text-xs font-bold capitalize transition-colors ${d===A?"bg-blue-600 text-white shadow-sm":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 border border-gray-200 dark:border-gray-600 hover:bg-gray-50"}`,children:A==="new"?"New Orders":A==="add"?"Add to Schedule":"Cancellation"},A))})]}),p.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[p.jsxs("div",{className:"w-1/2 border-r border-gray-200 dark:border-gray-700 flex flex-col",children:[p.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800/30 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[p.jsx("h3",{className:"text-xs font-bold uppercase text-gray-500",children:"Available Orders"}),p.jsx("button",{onClick:j,className:"text-xs text-blue-600 font-bold hover:underline",children:y.size===v.length?"Deselect All":"Select All"})]}),p.jsxs("div",{className:"overflow-y-auto p-2 space-y-2 flex-1",children:[v.length===0&&p.jsx("p",{className:"text-center text-sm text-gray-400 mt-10",children:"No future orders found."}),v.map((A,T)=>{const P=A.po+A.date,M=y.has(P);return p.jsxs("div",{onClick:()=>k(P),className:`p-3 rounded-lg border cursor-pointer transition-all flex justify-between items-center ${M?"bg-indigo-50 border-indigo-200 dark:bg-indigo-900/30 dark:border-indigo-700":"bg-white border-gray-100 hover:border-gray-300 dark:bg-gray-800 dark:border-gray-700"}`,children:[p.jsxs("div",{children:[p.jsxs("div",{className:"font-bold text-sm text-gray-800 dark:text-gray-200",children:["PO #",A.po]}),p.jsxs("div",{className:"text-xs text-gray-500",children:[A.date,"  ",A.qty?A.qty.toLocaleString():"-"," units"]})]}),M&&p.jsx("div",{className:"w-4 h-4 bg-indigo-600 rounded-full flex items-center justify-center text-white text-[10px]",children:""})]},T)})]})]}),p.jsxs("div",{className:"w-1/2 flex flex-col bg-gray-50 dark:bg-gray-900/50",children:[p.jsx("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700",children:p.jsx("h3",{className:"text-xs font-bold uppercase text-gray-500",children:"Email Preview"})}),p.jsx("div",{className:"flex-1 p-4",children:p.jsx("textarea",{className:"w-full h-full p-4 text-sm font-mono border rounded-lg resize-none focus:ring-2 focus:ring-indigo-500 bg-white dark:bg-gray-800 dark:border-gray-700 dark:text-gray-300",value:_(),readOnly:!0})}),p.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 flex justify-end",children:p.jsxs("button",{onClick:C,className:"flex items-center gap-2 bg-indigo-600 hover:bg-indigo-500 text-white px-4 py-2 rounded-lg font-bold shadow-sm transition-all active:scale-95",children:[p.jsx(jy,{className:"w-4 h-4"}),"Copy to Clipboard"]})})]})]})]})})]})}function rV({isOpen:e,onClose:t}){const{poManifest:r}=Qn(),n=x.useMemo(()=>{const k=[];return Object.entries(r).forEach(([_,j])=>{j.items.forEach(N=>{k.push({...N,date:_})})}),k.sort((_,j)=>_.date.localeCompare(j.date))},[r]),a=n.filter(k=>new Date(k.date)>=new Date().setHours(0,0,0,0)),[s,l]=x.useState(`YMS_Import_${new Date().toISOString().slice(0,10)}`),[c,d]=x.useState(!0),f=[{id:"date",label:"Expected Arrival Date"},{id:"po",label:"PO Number"},{id:"qty",label:"Quantity"},{id:"supplier",label:"Supplier Name"},{id:"status",label:"Status"},{id:"carrier",label:"Carrier (Empty)"},{id:"trailer_type",label:"Trailer Type (Dry Van)"}],[m,g]=x.useState(f.map(k=>k.id)),v=k=>{m.includes(k)?g(_=>_.filter(j=>j!==k)):g(_=>[..._,k])},y=()=>{const k=[];return c&&k.push(m.map(_=>{const j=f.find(N=>N.id===_);return j?j.label:_}).join(",")),a.forEach(_=>{const j=m.map(N=>{switch(N){case"carrier":return"";case"trailer_type":return"Dry Van";case"qty":return _.qty||0;default:return _[N]||""}});k.push(j.join(","))}),k.join(`
`)},S=()=>{const k=y(),_=new Blob([k],{type:"text/csv;charset=utf-8;"}),j=document.createElement("a");if(j.download!==void 0){const N=URL.createObjectURL(_);j.setAttribute("href",N),j.setAttribute("download",`${s}.csv`),j.style.visibility="hidden",document.body.appendChild(j),j.click(),document.body.removeChild(j)}t()};return p.jsxs(Ot,{open:e,onClose:t,className:"relative z-50",children:[p.jsx("div",{className:"fixed inset-0 bg-black/30","aria-hidden":"true"}),p.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:p.jsxs(Ot.Panel,{className:"w-full max-w-2xl bg-white dark:bg-gray-900 rounded-2xl shadow-xl overflow-hidden flex flex-col",children:[p.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800/50",children:[p.jsxs(Ot.Title,{className:"text-lg font-bold flex items-center gap-2 text-gray-900 dark:text-white",children:[p.jsx(ex,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"}),"Export for YMS"]}),p.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:p.jsx(Gs,{className:"w-6 h-6"})})]}),p.jsxs("div",{className:"p-6 space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Filename"}),p.jsxs("div",{className:"flex items-center",children:[p.jsx("input",{type:"text",value:s,onChange:k=>l(k.target.value),className:"w-full p-2 border rounded-l-lg dark:bg-gray-800 dark:border-gray-600"}),p.jsx("span",{className:"bg-gray-100 dark:bg-gray-700 px-3 py-2 border border-l-0 rounded-r-lg text-gray-500 dark:border-gray-600",children:".csv"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Include Columns"}),p.jsx("div",{className:"grid grid-cols-2 gap-3",children:f.map(k=>p.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer p-2 rounded hover:bg-gray-50 dark:hover:bg-gray-800 border dark:border-gray-700",children:[p.jsx("input",{type:"checkbox",checked:m.includes(k.id),onChange:()=>v(k.id),className:"rounded text-blue-600 focus:ring-blue-500"}),p.jsx("span",{className:"text-sm font-medium dark:text-gray-200",children:k.label})]},k.id))})]}),p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("span",{className:"text-sm font-medium dark:text-gray-300",children:"Include Headers?"}),p.jsx(BF,{checked:c,onChange:d,className:`${c?"bg-blue-600":"bg-gray-200"} relative inline-flex h-6 w-11 items-center rounded-full transition-colors`,children:p.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition ${c?"translate-x-6":"translate-x-1"}`})})]}),p.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-2 rounded text-xs font-mono text-gray-500 overflow-x-auto whitespace-pre",children:[c&&m.map(k=>f.find(_=>_.id===k)?.label).join(","),`
`,n.length>0&&m.map(k=>k==="carrier"?'""':n[0][k]||'""').join(","),n.length===0&&"(No data to export)","..."]})]}),p.jsx("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-800/50 border-t border-gray-200 dark:border-gray-700 flex justify-end",children:p.jsx("button",{onClick:S,disabled:n.length===0,className:"px-6 py-2 bg-gray-900 dark:bg-white dark:text-gray-900 text-white font-bold rounded-lg shadow hover:opacity-90 transition-all disabled:opacity-50",children:"Download CSV"})})]})})]})}function nV({isOpen:e,onClose:t,order:r,date:n}){const{addOrdersBulk:a,updateOrder:s,moveOrder:l}=Qn(),{productMap:c}=fr(),d=Object.keys(c),[f,m]=x.useState({po:"",date:"",qty:"",supplier:"",carrier:"",sku:""});x.useEffect(()=>{e&&m(r?{po:r.po,date:n||r.date,time:r.time||"",qty:r.qty,supplier:r.supplier,carrier:r.carrier||"",sku:r.sku||""}:{po:"",date:n||new Date().toISOString().split("T")[0],time:"",qty:"",supplier:"",carrier:"",sku:""})},[e,r,n]);const g=()=>{if(!f.po||!f.date||!f.qty){alert("PO, Date, and Quantity are required.");return}const v={id:r?.id||crypto.randomUUID(),po:f.po,date:f.date,time:f.time,qty:Number(f.qty),supplier:f.supplier||"Unknown",carrier:f.carrier,sku:f.sku};r?f.date!==r.date?l(r.date,f.date,v):s(f.date,v):a([v]),t()};return p.jsxs(Ot,{open:e,onClose:t,className:"relative z-50",children:[p.jsx("div",{className:"fixed inset-0 bg-black/30","aria-hidden":"true"}),p.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:p.jsxs(Ot.Panel,{className:"w-full max-w-md bg-white dark:bg-gray-800 rounded-xl shadow-xl overflow-hidden",children:[p.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center",children:[p.jsx(Ot.Title,{className:"text-lg font-bold text-gray-900 dark:text-white",children:r?"Edit Order":"New Purchase Order"}),p.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500",children:p.jsx(Gs,{className:"w-5 h-5"})})]}),p.jsxs("div",{className:"p-6 space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Material / SKU"}),p.jsxs("select",{className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:f.sku,onChange:v=>m({...f,sku:v.target.value}),children:[p.jsx("option",{value:"",children:"-- Any / All --"}),d.map(v=>p.jsx("option",{value:v,children:v},v))]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"PO Number"}),p.jsx("input",{type:"text",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:f.po,onChange:v=>m({...f,po:v.target.value}),autoFocus:!0})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Delivery Date"}),p.jsxs("div",{className:"relative",children:[p.jsx(f6,{className:"absolute left-2 top-2.5 w-4 h-4 text-gray-400"}),p.jsx("input",{type:"date",className:"w-full pl-8 p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:f.date,onChange:v=>m({...f,date:v.target.value})})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Time (Hour)"}),p.jsxs("select",{className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:f.time,onChange:v=>m({...f,time:v.target.value}),children:[p.jsx("option",{value:"",children:"-- TBD --"}),Array.from({length:24}).map((v,y)=>{const S=`${String(y).padStart(2,"0")}:00`,k=y>=12?"PM":"AM",j=`${y%12||12}:00 ${k}`;return p.jsx("option",{value:S,children:j},S)})]})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Quantity"}),p.jsx("input",{type:"number",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:f.qty,onChange:v=>m({...f,qty:v.target.value})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Supplier"}),p.jsx("input",{type:"text",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:f.supplier,onChange:v=>m({...f,supplier:v.target.value})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Carrier (Optional)"}),p.jsxs("div",{className:"relative",children:[p.jsx(dn,{className:"absolute left-2 top-2.5 w-4 h-4 text-gray-400"}),p.jsx("input",{type:"text",className:"w-full pl-8 p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:f.carrier,onChange:v=>m({...f,carrier:v.target.value})})]})]})]}),p.jsxs("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-700/50 flex justify-end gap-2",children:[p.jsx("button",{onClick:t,className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800",children:"Cancel"}),p.jsx("button",{onClick:g,className:"px-4 py-2 bg-blue-600 text-white text-sm font-bold rounded hover:bg-blue-500",children:"Save Order"})]})]})})]})}function aV({isOpen:e,onClose:t}){const{poManifest:r,deleteOrdersBulk:n,bulkUpdateOrders:a}=Qn(),{productMap:s}=fr(),[l,c]=x.useState(""),[d,f]=x.useState(new Set),[m,g]=x.useState(!1),[v,y]=x.useState(null),S=L=>{y(L),g(!0)},k=()=>{y(null),g(!0)},_=x.useMemo(()=>{const L=[];return Object.entries(r).forEach(([R,q])=>{q.items&&q.items.forEach(V=>{L.push({...V,date:R})})}),L.sort((R,q)=>{const V=new Date(q.date)-new Date(R.date);if(V!==0)return V;const oe=de=>{if(!de||de==="00:00")return 99999;const[U,K]=de.split(":").map(Number);return U*60+(K||0)};return oe(R.time)-oe(q.time)})},[r]),j=x.useMemo(()=>{if(!l)return _;const L=l.toLowerCase();return _.filter(R=>(R.po||"").toLowerCase().includes(L)||(R.supplier||"").toLowerCase().includes(L)||(R.date||"").includes(L))},[_,l]),N=L=>{const R=new Set(d);R.has(L)?R.delete(L):R.add(L),f(R)},E=()=>{if(d.size===j.length&&j.length>0)f(new Set);else{const L=new Set;j.forEach(R=>L.add(R.id)),f(L)}},[C,A]=x.useState(null),T=()=>{d.size!==0&&A({title:`Delete ${d.size} Orders?`,message:`Are you sure you want to PERMANENTLY delete ${d.size} selected orders? This action cannot be undone.`,type:"danger",onConfirm:()=>{const L=_.filter(R=>d.has(R.id));n(L),f(new Set),A(null)}})},P=L=>{if(!L||d.size===0||!confirm(`Set SKU to "${L}" for ${d.size} orders?`))return;const R=_.filter(q=>d.has(q.id)).map(q=>({...q,sku:L}));a(R),f(new Set)},M=L=>{const R=parseInt(L);if(isNaN(R)||R<2e3||R>2100){alert("Invalid Year");return}if(!confirm(`Update YEAR to "${R}" for ${d.size} orders? (Month/Day will be preserved)`))return;const q=_.filter(V=>d.has(V.id)).map(V=>{const oe=V.date.split("-");if(oe.length!==3)return V;const de=`${R}-${oe[1]}-${oe[2]}`;return{...V,date:de}});a(q),f(new Set)},$=L=>{if(!confirm(`Update status to "${L.toUpperCase()}" for ${d.size} orders?`))return;const R=_.filter(q=>d.has(q.id)).map(q=>({...q,status:L}));a(R),f(new Set)};return p.jsxs(Ot,{open:e,onClose:t,className:"relative z-50",children:[p.jsx("div",{className:"fixed inset-0 bg-black/50","aria-hidden":"true"}),p.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:p.jsxs(Ot.Panel,{className:"w-full max-w-5xl h-[80vh] bg-white dark:bg-gray-900 rounded-2xl shadow-2xl flex flex-col overflow-hidden",children:[p.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"bg-purple-100 dark:bg-purple-900 p-2 rounded-lg",children:p.jsx($5,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),p.jsxs("div",{children:[p.jsx(Ot.Title,{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Global Procurement Manager"}),p.jsx("p",{className:"text-sm text-gray-500",children:"Manage all Inbound Orders across all dates."})]}),C&&p.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/20 backdrop-blur-sm p-4 animate-fadeIn",children:p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700 p-6 w-full max-w-sm flex flex-col items-center text-center transform transition-all scale-100",children:[p.jsx("div",{className:`p-4 rounded-full mb-4 ${C.type==="danger"?"bg-red-100 text-red-600":"bg-blue-100 text-blue-600"}`,children:C.type==="danger"?p.jsx(Ya,{className:"w-8 h-8"}):p.jsx(qa,{className:"w-8 h-8"})}),p.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:C.title}),p.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6 leading-relaxed",children:C.message}),p.jsxs("div",{className:"flex gap-3 w-full",children:[p.jsx("button",{onClick:()=>A(null),className:"flex-1 px-4 py-2 rounded-lg border border-gray-300 text-gray-700 font-bold hover:bg-gray-50 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),p.jsx("button",{onClick:()=>C.onConfirm(),className:`flex-1 px-4 py-2 rounded-lg text-white font-bold shadow-lg transition-transform hover:scale-105 ${C.type==="danger"?"bg-red-600 hover:bg-red-700 shadow-red-500/30":"bg-emerald-600 hover:bg-emerald-700 shadow-emerald-500/30"}`,children:"Confirm"})]})]})})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("button",{onClick:k,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white hover:bg-blue-500 rounded-lg font-bold transition-colors shadow-sm",children:[p.jsx(d0,{className:"w-5 h-5"}),"New Order"]}),p.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 ml-4",children:p.jsx(Gs,{className:"w-6 h-6"})})]})]}),p.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex flex-col md:flex-row gap-4 items-center justify-between",children:[p.jsxs("div",{className:"relative w-full max-w-md",children:[p.jsx($6,{className:"absolute left-3 top-2.5 w-5 h-5 text-gray-400"}),p.jsx("input",{type:"text",placeholder:"Search PO, Supplier, or Date...",className:"w-full pl-10 pr-4 py-2 border rounded-lg dark:bg-gray-800 dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none",value:l,onChange:L=>c(L.target.value)})]}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsxs("span",{className:"text-sm text-gray-500",children:[d.size," selected"]}),d.size>0&&p.jsx("div",{className:"flex items-center gap-2",children:p.jsxs("div",{className:"relative group",children:[p.jsx("button",{className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-sm font-bold shadow-sm hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",children:"Bulk Actions"}),p.jsx("div",{className:"absolute top-full left-0 pt-2 w-48 z-50 hidden group-hover:block",children:p.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:p.jsxs("div",{className:"p-2",children:[p.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase px-2 py-1",children:"Set Status"}),p.jsxs("button",{onClick:()=>$("received"),className:"w-full text-left px-2 py-2 hover:bg-emerald-50 dark:hover:bg-emerald-900/30 rounded text-sm text-emerald-700 dark:text-emerald-400 font-bold flex items-center gap-2",children:[p.jsx("span",{children:""})," Mark as Received"]}),p.jsx("button",{onClick:()=>$("confirmed"),className:"w-full text-left px-2 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded text-sm text-blue-700 dark:text-blue-400 font-bold",children:"Mark as Confirmed"}),p.jsx("button",{onClick:()=>$("ordered"),className:"w-full text-left px-2 py-2 hover:bg-yellow-50 dark:hover:bg-yellow-900/30 rounded text-sm text-yellow-700 dark:text-yellow-400",children:"Mark as Ordered"}),p.jsx("button",{onClick:()=>$("cancelled"),className:"w-full text-left px-2 py-2 hover:bg-red-50 dark:hover:bg-red-900/30 rounded text-sm text-red-600 dark:text-red-400 font-bold",children:"Mark for Cancellation"}),p.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700 my-1"}),p.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase px-2 py-1",children:"Set properties"}),p.jsx("button",{onClick:()=>{const L=prompt("Enter Target Year (e.g. 2025):",new Date().getFullYear());L&&M(L)},className:"w-full text-left px-2 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded text-sm text-gray-700 dark:text-gray-200",children:"Set Year..."}),p.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700 my-1"}),p.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase px-2 py-1",children:"Assign SKU"}),Object.keys(s).map(L=>p.jsx("button",{onClick:()=>P(L),className:"w-full text-left px-2 py-1.5 hover:bg-purple-50 dark:hover:bg-purple-900/30 rounded text-sm text-gray-700 dark:text-gray-200",children:L},L))]})})})]})}),p.jsxs("button",{onClick:T,disabled:d.size===0,className:"flex items-center gap-2 px-4 py-2 bg-red-50 text-red-600 hover:bg-red-100 rounded-lg font-bold disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[p.jsx(Ya,{className:"w-5 h-5"}),"Delete"]})]})]}),p.jsx("div",{className:"flex-1 overflow-auto",children:p.jsxs("table",{className:"w-full text-left border-collapse",children:[p.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800 sticky top-0 z-10 shadow-sm",children:p.jsxs("tr",{children:[p.jsx("th",{className:"p-4 w-12 border-b dark:border-gray-700",children:p.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500",checked:j.length>0&&d.size===j.length,onChange:E})}),p.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase border-b dark:border-gray-700",children:"Date"}),p.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase border-b dark:border-gray-700",children:"Time"}),p.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase border-b dark:border-gray-700",children:"PO Number"}),p.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase border-b dark:border-gray-700",children:"SKU"}),p.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase border-b dark:border-gray-700",children:"Supplier"}),p.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase border-b dark:border-gray-700",children:"Trucks"}),p.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase border-b dark:border-gray-700",children:"Carrier"}),p.jsx("th",{className:"p-4 w-12 border-b dark:border-gray-700"})]})}),p.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700 bg-white dark:bg-gray-900",children:j.length===0?p.jsx("tr",{children:p.jsx("td",{colSpan:"7",className:"p-10 text-center text-gray-400 italic",children:"No orders found matching your search."})}):j.map(L=>p.jsxs("tr",{className:`hover:bg-blue-50 dark:hover:bg-gray-800 transition-colors ${d.has(L.id)?"bg-blue-50 dark:bg-blue-900/20":""}`,children:[p.jsx("td",{className:"p-4",children:p.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500",checked:d.has(L.id),onChange:()=>N(L.id)})}),p.jsx("td",{className:"p-4 text-sm font-medium text-gray-900 dark:text-white text-nowrap",children:new Date(L.date+"T00:00:00").toLocaleDateString()}),p.jsx("td",{className:"p-4 text-sm text-gray-500 dark:text-gray-400 font-mono",children:L.time&&L.time!=="00:00"?ac(L.time):"-"}),p.jsx("td",{className:"p-4 text-sm font-mono text-gray-600 dark:text-gray-300",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:`font-mono ${L.status==="received"?"line-through text-gray-400":"text-gray-600 dark:text-gray-300"}`,children:L.po}),L.status==="received"&&p.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] font-bold bg-emerald-100 text-emerald-800 border border-emerald-200 uppercase tracking-wide",children:"RCVD"})]})}),p.jsx("td",{className:"p-4",children:L.sku?p.jsx("span",{className:"px-2 py-1 bg-purple-100 dark:bg-purple-900 text-purple-700 dark:text-purple-300 rounded text-xs font-bold",children:L.sku}):p.jsx("span",{className:"text-gray-400 text-xs italic",children:"Any"})}),p.jsx("td",{className:"p-4 text-sm text-gray-600 dark:text-gray-300",children:L.supplier}),p.jsx("td",{className:"p-4",children:p.jsx("span",{className:"px-2 py-0.5 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded text-xs font-bold",children:"1 Truck"})}),p.jsx("td",{className:"p-4 text-sm text-gray-500 dark:text-gray-400",children:L.carrier||"-"}),p.jsxs("td",{className:"p-4",children:[L.status!=="received"&&p.jsx("button",{onClick:()=>{confirm("Mark this order as Received?")&&a([{...L,status:"received"}])},className:"p-1 text-gray-400 hover:text-emerald-600 transition-colors mr-1",title:"Mark Received",children:""}),p.jsx("button",{onClick:()=>S(L),className:"p-1 text-gray-400 hover:text-blue-600 transition-colors",title:"Edit Order",children:p.jsx(Ju,{className:"w-5 h-5"})})]})]},L.id))})]})}),p.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 text-xs text-gray-500 border-t border-gray-200 dark:border-gray-700 flex justify-between",children:[p.jsxs("span",{children:["Showing ",j.length," of ",_.length," orders"]}),p.jsx("span",{className:"text-gray-400",children:"Press Shift to select range (coming soon)"})]})]})}),p.jsx(nV,{isOpen:m,onClose:()=>g(!1),order:v})]})}function iV({selectedSize:e,setSelectedSize:t,floorCount:r,setFloorCount:n,yardCount:a,setYardCount:s,yardUnit:l,setYardUnit:c,sizes:d,palletsPerTruck:f}){return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-4 rounded-lg border border-purple-100 dark:border-purple-800",children:[p.jsx("h3",{className:"font-bold text-purple-900 dark:text-purple-300 mb-1",children:"Morning Inventory Count"}),p.jsxs("p",{className:"text-sm text-purple-700 dark:text-purple-400",children:["What is physically on the floor and in the yard ",p.jsx("strong",{children:"right now"}),"?"]})]}),p.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg border border-gray-200 dark:border-gray-700",children:[p.jsx("label",{className:"block text-xs uppercase font-bold text-gray-500 mb-2",children:"Select Product"}),p.jsx("div",{className:"flex flex-wrap gap-2",children:d.map(m=>p.jsx("button",{onClick:()=>t(m),className:`px-3 py-1.5 rounded-md text-sm font-bold transition-colors ${e===m?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:m},m))})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:"Floor Count (Pallets)"}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(ax,{className:"h-5 w-5 text-gray-400"})}),p.jsx("input",{type:"number",autoFocus:!0,value:r,onChange:m=>n(m.target.value),className:"w-full pl-10 pr-4 py-3 text-xl font-bold border rounded-lg shadow-sm focus:ring-2 focus:ring-purple-500 dark:bg-gray-800 dark:text-white dark:border-gray-600"})]}),p.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Count all finished goods on the floor."})]}),p.jsxs("div",{children:[p.jsxs("div",{className:"flex justify-between items-center mb-2",children:[p.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300",children:"Yard Count"}),p.jsxs("div",{className:"flex bg-gray-200 dark:bg-gray-700 rounded-md p-0.5",children:[p.jsx("button",{onClick:()=>c("loads"),className:`px-2 py-0.5 text-xs font-bold rounded-sm ${l==="loads"?"bg-white text-blue-600 shadow-sm":"text-gray-500"}`,children:"Loads"}),p.jsx("button",{onClick:()=>c("pallets"),className:`px-2 py-0.5 text-xs font-bold rounded-sm ${l==="pallets"?"bg-white text-blue-600 shadow-sm":"text-gray-500"}`,children:"Pallets"})]})]}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(dn,{className:"h-5 w-5 text-gray-400"})}),p.jsx("input",{type:"number",value:l==="loads"?a:a===""?"":Math.round(a*f),onChange:m=>{const g=m.target.value===""?"":Number(m.target.value);s(l==="loads"?g:g===""?"":g/f)},className:"w-full pl-10 pr-4 py-3 text-xl font-bold border rounded-lg shadow-sm focus:ring-2 focus:ring-purple-500 dark:bg-gray-800 dark:text-white dark:border-gray-600"})]}),p.jsx("p",{className:"text-xs text-gray-500 mt-1",children:l==="loads"?"Number of fully loaded trailers.":`Total pallets (~${Math.round(f)} per load).`})]})]})]})}function MC({isOpen:e,onClose:t,state:r,setters:n}){const{productMap:a}=fr(),s=Object.keys(a),l=a[r.selectedSize],c=l?.bottlesPerTruck||2e4,d=(l?.bottlesPerCase||12)*(l?.casesPerPallet||100),f=c/d,[m,g]=x.useState(1),[v,y]=x.useState(""),[S,k]=x.useState(""),[_,j]=x.useState("loads");x.useEffect(()=>{e&&(y(r.inventoryAnchor?.count||0),k(r.yardInventory?.effectiveCount||0),g(1))},[e,r.inventoryAnchor,r.yardInventory]);const N=()=>{const C=un();n.setInventoryAnchor({date:C,count:Number(v)}),n.updateYardInventory(Number(S)),t()},E=()=>p.jsxs("div",{className:"text-center py-6 space-y-6",children:[p.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100 dark:bg-green-900/30",children:p.jsx(qa,{className:"h-10 w-10 text-green-600 dark:text-green-400"})}),p.jsxs("div",{children:[p.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:["Ready to Update ",r.selectedSize,"?"]}),p.jsxs("p",{className:"text-gray-500 dark:text-gray-400 mt-2 max-w-sm mx-auto",children:["The system will reset the ",p.jsx("strong",{children:r.selectedSize})," inventory baseline to ",p.jsxs("strong",{children:[v," Pallets"]})," + ",p.jsxs("strong",{children:[S," Loads"]}),"."]})]}),p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700 max-w-sm mx-auto text-left text-sm space-y-2",children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-gray-500",children:"New Floor Count:"}),p.jsxs("span",{className:"font-mono font-bold",children:[v," plts"]})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-gray-500",children:"New Yard Count:"}),p.jsxs("span",{className:"font-mono font-bold",children:[Number(S).toFixed(1)," loads ",p.jsxs("span",{className:"text-gray-400 text-xs",children:["(",Math.round(S*f)," plts)"]})]})]})]})]});return e?p.jsxs("div",{className:"relative z-50","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:[p.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"}),p.jsx("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto",children:p.jsx("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:p.jsxs("div",{className:"relative transform overflow-hidden rounded-lg bg-white dark:bg-gray-900 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg border dark:border-gray-700 p-6",children:[p.jsxs("div",{className:"sm:flex sm:items-start mb-6",children:[p.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-blue-100 dark:bg-blue-900/30 sm:mx-0 sm:h-10 sm:w-10",children:p.jsx(nx,{className:"h-6 w-6 text-blue-600 dark:text-blue-400","aria-hidden":"true"})}),p.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[p.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 dark:text-white",id:"modal-title",children:"Morning True-Up"}),p.jsx("div",{className:"mt-2 text-left",children:p.jsxs("div",{className:"flex items-center space-x-2 text-xs font-medium text-gray-400",children:[p.jsx("span",{className:`${m===1?"text-blue-600 dark:text-blue-400":""}`,children:"1. Inventory"}),p.jsx("span",{children:""}),p.jsx("span",{className:`${m===2?"text-blue-600 dark:text-blue-400":""}`,children:"2. Confirm"})]})})]})]}),p.jsxs("div",{className:"mt-2",children:[m===1&&p.jsx(iV,{selectedSize:r.selectedSize,setSelectedSize:n.setSelectedSize,floorCount:v,setFloorCount:y,yardCount:S,setYardCount:k,yardUnit:_,setYardUnit:j,sizes:s,palletsPerTruck:f}),m===2&&E()]}),p.jsxs("div",{className:"mt-8 sm:mt-6 sm:grid sm:grid-flow-row-dense sm:grid-cols-2 sm:gap-3",children:[m<2?p.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:col-start-2 sm:text-sm",onClick:()=>g(C=>C+1),children:"Next Step"}):p.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-green-600 text-base font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 sm:col-start-2 sm:text-sm",onClick:N,children:"Update Plan"}),m>1?p.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 dark:border-gray-600 shadow-sm px-4 py-2 bg-white dark:bg-gray-800 text-base font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:col-start-1 sm:mt-0 sm:text-sm",onClick:()=>g(C=>C-1),children:"Back"}):p.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 dark:border-gray-600 shadow-sm px-4 py-2 bg-white dark:bg-gray-800 text-base font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:col-start-1 sm:mt-0 sm:text-sm",onClick:t,children:"Cancel"})]})]})})})]}):null}var sV=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Px(e){if(typeof e!="string")return!1;var t=sV;return t.includes(e)}var oV=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],lV=new Set(oV);function RC(e){return typeof e!="string"?!1:lV.has(e)}function $C(e){return typeof e=="string"&&e.startsWith("data-")}function Yn(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(RC(r)||$C(r))&&(t[r]=e[r]);return t}function P0(e){if(e==null)return null;if(x.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Yn(t)}return typeof e=="object"&&!Array.isArray(e)?Yn(e):null}function fn(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(RC(r)||$C(r)||Px(r))&&(t[r]=e[r]);return t}function uV(e){return e==null?null:x.isValidElement(e)?fn(e.props):typeof e=="object"&&!Array.isArray(e)?fn(e):null}var cV=["children","width","height","viewBox","className","style","title","desc"];function ab(){return ab=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ab.apply(null,arguments)}function dV(e,t){if(e==null)return{};var r,n,a=fV(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function fV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var LC=x.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:s,className:l,style:c,title:d,desc:f}=e,m=dV(e,cV),g=s||{width:n,height:a,x:0,y:0},v=ot("recharts-surface",l);return x.createElement("svg",ab({},fn(m),{className:v,width:n,height:a,style:c,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:t}),x.createElement("title",null,d),x.createElement("desc",null,f),r)}),hV=["children","className"];function ib(){return ib=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ib.apply(null,arguments)}function mV(e,t){if(e==null)return{};var r,n,a=pV(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function pV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Wn=x.forwardRef((e,t)=>{var{children:r,className:n}=e,a=mV(e,hV),s=ot("recharts-layer",n);return x.createElement("g",ib({className:s},fn(a),{ref:t}),r)}),gV=x.createContext(null);function _t(e){return function(){return e}}const sb=Math.PI,ob=2*sb,ks=1e-6,vV=ob-ks;function IC(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function yV(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return IC;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class bV{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?IC:yV(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,l){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+l}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,c=this._y1,d=n-t,f=a-r,m=l-t,g=c-r,v=m*m+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(v>ks)if(!(Math.abs(g*d-f*m)>ks)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let y=n-l,S=a-c,k=d*d+f*f,_=y*y+S*S,j=Math.sqrt(k),N=Math.sqrt(v),E=s*Math.tan((sb-Math.acos((k+v-_)/(2*j*N)))/2),C=E/N,A=E/j;Math.abs(C-1)>ks&&this._append`L${t+C*m},${r+C*g}`,this._append`A${s},${s},0,0,${+(g*y>m*S)},${this._x1=t+A*d},${this._y1=r+A*f}`}}arc(t,r,n,a,s,l){if(t=+t,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let c=n*Math.cos(a),d=n*Math.sin(a),f=t+c,m=r+d,g=1^l,v=l?a-s:s-a;this._x1===null?this._append`M${f},${m}`:(Math.abs(this._x1-f)>ks||Math.abs(this._y1-m)>ks)&&this._append`L${f},${m}`,n&&(v<0&&(v=v%ob+ob),v>vV?this._append`A${n},${n},0,1,${g},${t-c},${r-d}A${n},${n},0,1,${g},${this._x1=f},${this._y1=m}`:v>ks&&this._append`A${n},${n},0,${+(v>=sb)},${g},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function zC(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new bV(t)}function Dx(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function UC(e){this._context=e}UC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function D0(e){return new UC(e)}function BC(e){return e[0]}function qC(e){return e[1]}function HC(e,t){var r=_t(!0),n=null,a=D0,s=null,l=zC(c);e=typeof e=="function"?e:e===void 0?BC:_t(e),t=typeof t=="function"?t:t===void 0?qC:_t(t);function c(d){var f,m=(d=Dx(d)).length,g,v=!1,y;for(n==null&&(s=a(y=l())),f=0;f<=m;++f)!(f<m&&r(g=d[f],f,d))===v&&((v=!v)?s.lineStart():s.lineEnd()),v&&s.point(+e(g,f,d),+t(g,f,d));if(y)return s=null,y+""||null}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:_t(+d),c):e},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:_t(+d),c):t},c.defined=function(d){return arguments.length?(r=typeof d=="function"?d:_t(!!d),c):r},c.curve=function(d){return arguments.length?(a=d,n!=null&&(s=a(n)),c):a},c.context=function(d){return arguments.length?(d==null?n=s=null:s=a(n=d),c):n},c}function Tf(e,t,r){var n=null,a=_t(!0),s=null,l=D0,c=null,d=zC(f);e=typeof e=="function"?e:e===void 0?BC:_t(+e),t=typeof t=="function"?t:_t(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?qC:_t(+r);function f(g){var v,y,S,k=(g=Dx(g)).length,_,j=!1,N,E=new Array(k),C=new Array(k);for(s==null&&(c=l(N=d())),v=0;v<=k;++v){if(!(v<k&&a(_=g[v],v,g))===j)if(j=!j)y=v,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),S=v-1;S>=y;--S)c.point(E[S],C[S]);c.lineEnd(),c.areaEnd()}j&&(E[v]=+e(_,v,g),C[v]=+t(_,v,g),c.point(n?+n(_,v,g):E[v],r?+r(_,v,g):C[v]))}if(N)return c=null,N+""||null}function m(){return HC().defined(a).curve(l).context(s)}return f.x=function(g){return arguments.length?(e=typeof g=="function"?g:_t(+g),n=null,f):e},f.x0=function(g){return arguments.length?(e=typeof g=="function"?g:_t(+g),f):e},f.x1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:_t(+g),f):n},f.y=function(g){return arguments.length?(t=typeof g=="function"?g:_t(+g),r=null,f):t},f.y0=function(g){return arguments.length?(t=typeof g=="function"?g:_t(+g),f):t},f.y1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:_t(+g),f):r},f.lineX0=f.lineY0=function(){return m().x(e).y(t)},f.lineY1=function(){return m().x(e).y(r)},f.lineX1=function(){return m().x(n).y(t)},f.defined=function(g){return arguments.length?(a=typeof g=="function"?g:_t(!!g),f):a},f.curve=function(g){return arguments.length?(l=g,s!=null&&(c=l(s)),f):l},f.context=function(g){return arguments.length?(g==null?s=c=null:c=l(s=g),f):s},f}class FC{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function xV(e){return new FC(e,!0)}function wV(e){return new FC(e,!1)}function _h(){}function Sh(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function VC(e){this._context=e}VC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Sh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Sh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _V(e){return new VC(e)}function KC(e){this._context=e}KC.prototype={areaStart:_h,areaEnd:_h,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Sh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function SV(e){return new KC(e)}function ZC(e){this._context=e}ZC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Sh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function kV(e){return new ZC(e)}function GC(e){this._context=e}GC.prototype={areaStart:_h,areaEnd:_h,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function jV(e){return new GC(e)}function Aj(e){return e<0?-1:1}function Tj(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),l=(r-e._y1)/(a||n<0&&-0),c=(s*a+l*n)/(n+a);return(Aj(s)+Aj(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(c))||0}function Cj(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Xg(e,t,r){var n=e._x0,a=e._y0,s=e._x1,l=e._y1,c=(s-n)/3;e._context.bezierCurveTo(n+c,a+c*t,s-c,l-c*r,s,l)}function kh(e){this._context=e}kh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Xg(this,this._t0,Cj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Xg(this,Cj(this,r=Tj(this,e,t)),r);break;default:Xg(this,this._t0,r=Tj(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function YC(e){this._context=new WC(e)}(YC.prototype=Object.create(kh.prototype)).point=function(e,t){kh.prototype.point.call(this,t,e)};function WC(e){this._context=e}WC.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function EV(e){return new kh(e)}function OV(e){return new YC(e)}function XC(e){this._context=e}XC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Pj(e),a=Pj(t),s=0,l=1;l<r;++s,++l)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Pj(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),l=new Array(r);for(a[0]=0,s[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,l[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,l[t]-=n*l[t-1];for(a[r-1]=l[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(l[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function NV(e){return new XC(e)}function M0(e,t){this._context=e,this._t=t}M0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function AV(e){return new M0(e,.5)}function TV(e){return new M0(e,0)}function CV(e){return new M0(e,1)}function fl(e,t){if((l=e.length)>1)for(var r=1,n,a,s=e[t[0]],l,c=s.length;r<l;++r)for(a=s,s=e[t[r]],n=0;n<c;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function lb(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function PV(e,t){return e[t]}function DV(e){const t=[];return t.key=e,t}function MV(){var e=_t([]),t=lb,r=fl,n=PV;function a(s){var l=Array.from(e.apply(this,arguments),DV),c,d=l.length,f=-1,m;for(const g of s)for(c=0,++f;c<d;++c)(l[c][f]=[0,+n(g,l[c].key,f,s)]).data=g;for(c=0,m=Dx(t(l));c<d;++c)l[m[c]].index=c;return r(l,m),l}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:_t(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:_t(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?lb:typeof s=="function"?s:_t(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??fl,a):r},a}function RV(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,l;a<s;++a){for(l=r=0;r<n;++r)l+=e[r][a][1]||0;if(l)for(r=0;r<n;++r)e[r][a][1]/=l}fl(e,t)}}function $V(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var l=0,c=0;l<a;++l)c+=e[l][r][1]||0;n[r][1]+=n[r][0]=-c/2}fl(e,t)}}function LV(e,t){if(!(!((l=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,l;n<s;++n){for(var c=0,d=0,f=0;c<l;++c){for(var m=e[t[c]],g=m[n][1]||0,v=m[n-1][1]||0,y=(g-v)/2,S=0;S<c;++S){var k=e[t[S]],_=k[n][1]||0,j=k[n-1][1]||0;y+=_-j}d+=g,f+=y*g}a[n-1][1]+=a[n-1][0]=r,d&&(r-=f/d)}a[n-1][1]+=a[n-1][0]=r,fl(e,t)}}var Jg={},Qg={},Dj;function IV(){return Dj||(Dj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(Qg)),Qg}var ev={},Mj;function JC(){return Mj||(Mj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(ev)),ev}var tv={},Rj;function Mx(){return Rj||(Rj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(tv)),tv}var rv={},nv={},$j;function zV(){return $j||($j=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(nv)),nv}var Lj;function Rx(){return Lj||(Lj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zV(),r=Mx();function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const s=[],l=a.length;if(l===0)return s;let c=0,d="",f="",m=!1;for(a.charCodeAt(0)===46&&(s.push(""),c++);c<l;){const g=a[c];f?g==="\\"&&c+1<l?(c++,d+=a[c]):g===f?f="":d+=g:m?g==='"'||g==="'"?f=g:g==="]"?(m=!1,s.push(d),d=""):d+=g:g==="["?(m=!0,d&&(s.push(d),d="")):g==="."?d&&(s.push(d),d=""):d+=g,c++}return d&&s.push(d),s}e.toPath=n})(rv)),rv}var Ij;function $x(){return Ij||(Ij=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IV(),r=JC(),n=Mx(),a=Rx();function s(c,d,f){if(c==null)return f;switch(typeof d){case"string":{if(t.isUnsafeProperty(d))return f;const m=c[d];return m===void 0?r.isDeepKey(d)?s(c,a.toPath(d),f):f:m}case"number":case"symbol":{typeof d=="number"&&(d=n.toKey(d));const m=c[d];return m===void 0?f:m}default:{if(Array.isArray(d))return l(c,d,f);if(Object.is(d?.valueOf(),-0)?d="-0":d=String(d),t.isUnsafeProperty(d))return f;const m=c[d];return m===void 0?f:m}}}function l(c,d,f){if(d.length===0)return f;let m=c;for(let g=0;g<d.length;g++){if(m==null||t.isUnsafeProperty(d[g]))return f;m=m[d[g]]}return m===void 0?f:m}e.get=s})(Jg)),Jg}var av,zj;function UV(){return zj||(zj=1,av=$x().get),av}var BV=UV();const R0=ni(BV);var Tn=e=>e===0?0:e>0?1:-1,hn=e=>typeof e=="number"&&e!=+e,Xa=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Oe=e=>(typeof e=="number"||e instanceof Number)&&!hn(e),Pn=e=>Oe(e)||typeof e=="string",qV=0,sc=e=>{var t=++qV;return"".concat(e||"").concat(t)},Zi=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Oe(t)&&typeof t!="string")return n;var s;if(Xa(t)){if(r==null)return n;var l=t.indexOf("%");s=r*parseFloat(t.slice(0,l))/100}else s=+t;return hn(s)&&(s=n),a&&r!=null&&s>r&&(s=r),s},QC=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function sa(e,t,r){return Oe(e)&&Oe(t)?e+r*(t-e):t}function eP(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):R0(n,t))===r)}var cr=e=>e===null||typeof e>"u",Lx=e=>cr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function HV(e){return e!=null}function Oc(){}var tP=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,Ix=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(x.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{Px(a)&&(n[a]=(s=>r[a](r,s)))}),n},FV=(e,t,r)=>n=>(e(t,r,n),null),VV=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var s=e[a];Px(a)&&typeof s=="function"&&(n||(n={}),n[a]=FV(s,t,r))}),n};function Uj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function KV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uj(Object(r),!0).forEach(function(n){ZV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZV(e,t,r){return(t=GV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GV(e){var t=YV(e,"string");return typeof t=="symbol"?t:t+""}function YV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kr(e,t){var r=KV({},e),n=t,a=Object.keys(t),s=a.reduce((l,c)=>(l[c]===void 0&&n[c]!==void 0&&(l[c]=n[c]),l),r);return s}var iv={},sv={},Bj;function WV(){return Bj||(Bj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let s=0;s<r.length;s++){const l=r[s],c=n(l);a.has(c)||a.set(c,l)}return Array.from(a.values())}e.uniqBy=t})(sv)),sv}var ov={},qj;function rP(){return qj||(qj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(ov)),ov}var lv={},uv={},cv={},Hj;function XV(){return Hj||(Hj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(cv)),cv}var Fj;function zx(){return Fj||(Fj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XV();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(uv)),uv}var dv={},Vj;function JV(){return Vj||(Vj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(dv)),dv}var Kj;function QV(){return Kj||(Kj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zx(),r=JV();function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(lv)),lv}var fv={},hv={},Zj;function eK(){return Zj||(Zj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$x();function r(n){return function(a){return t.get(a,n)}}e.property=r})(hv)),hv}var mv={},pv={},gv={},vv={},Gj;function nP(){return Gj||(Gj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(vv)),vv}var yv={},Yj;function aP(){return Yj||(Yj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(yv)),yv}var bv={},Wj;function iP(){return Wj||(Wj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(bv)),bv}var Xj;function tK(){return Xj||(Xj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nP(),r=aP(),n=iP();function a(m,g,v){return typeof v!="function"?a(m,g,()=>{}):s(m,g,function y(S,k,_,j,N,E){const C=v(S,k,_,j,N,E);return C!==void 0?!!C:s(S,k,y,E)},new Map)}function s(m,g,v,y){if(g===m)return!0;switch(typeof g){case"object":return l(m,g,v,y);case"function":return Object.keys(g).length>0?s(m,{...g},v,y):n.eq(m,g);default:return t.isObject(m)?typeof g=="string"?g==="":!0:n.eq(m,g)}}function l(m,g,v,y){if(g==null)return!0;if(Array.isArray(g))return d(m,g,v,y);if(g instanceof Map)return c(m,g,v,y);if(g instanceof Set)return f(m,g,v,y);const S=Object.keys(g);if(m==null)return S.length===0;if(S.length===0)return!0;if(y?.has(g))return y.get(g)===m;y?.set(g,m);try{for(let k=0;k<S.length;k++){const _=S[k];if(!r.isPrimitive(m)&&!(_ in m)||g[_]===void 0&&m[_]!==void 0||g[_]===null&&m[_]!==null||!v(m[_],g[_],_,m,g,y))return!1}return!0}finally{y?.delete(g)}}function c(m,g,v,y){if(g.size===0)return!0;if(!(m instanceof Map))return!1;for(const[S,k]of g.entries()){const _=m.get(S);if(v(_,k,S,m,g,y)===!1)return!1}return!0}function d(m,g,v,y){if(g.length===0)return!0;if(!Array.isArray(m))return!1;const S=new Set;for(let k=0;k<g.length;k++){const _=g[k];let j=!1;for(let N=0;N<m.length;N++){if(S.has(N))continue;const E=m[N];let C=!1;if(v(E,_,k,m,g,y)&&(C=!0),C){S.add(N),j=!0;break}}if(!j)return!1}return!0}function f(m,g,v,y){return g.size===0?!0:m instanceof Set?d([...m],[...g],v,y):!1}e.isMatchWith=a,e.isSetMatch=f})(gv)),gv}var Jj;function sP(){return Jj||(Jj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tK();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(pv)),pv}var xv={},wv={},_v={},Qj;function rK(){return Qj||(Qj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(_v)),_v}var Sv={},eE;function oP(){return eE||(eE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Sv)),Sv}var kv={},tE;function lP(){return tE||(tE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",s="[object Arguments]",l="[object Symbol]",c="[object Date]",d="[object Map]",f="[object Set]",m="[object Array]",g="[object Function]",v="[object ArrayBuffer]",y="[object Object]",S="[object Error]",k="[object DataView]",_="[object Uint8Array]",j="[object Uint8ClampedArray]",N="[object Uint16Array]",E="[object Uint32Array]",C="[object BigUint64Array]",A="[object Int8Array]",T="[object Int16Array]",P="[object Int32Array]",M="[object BigInt64Array]",$="[object Float32Array]",L="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=v,e.arrayTag=m,e.bigInt64ArrayTag=M,e.bigUint64ArrayTag=C,e.booleanTag=a,e.dataViewTag=k,e.dateTag=c,e.errorTag=S,e.float32ArrayTag=$,e.float64ArrayTag=L,e.functionTag=g,e.int16ArrayTag=T,e.int32ArrayTag=P,e.int8ArrayTag=A,e.mapTag=d,e.numberTag=n,e.objectTag=y,e.regexpTag=t,e.setTag=f,e.stringTag=r,e.symbolTag=l,e.uint16ArrayTag=N,e.uint32ArrayTag=E,e.uint8ArrayTag=_,e.uint8ClampedArrayTag=j})(kv)),kv}var jv={},rE;function nK(){return rE||(rE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(jv)),jv}var nE;function uP(){return nE||(nE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rK(),r=oP(),n=lP(),a=aP(),s=nK();function l(m,g){return c(m,void 0,m,new Map,g)}function c(m,g,v,y=new Map,S=void 0){const k=S?.(m,g,v,y);if(k!==void 0)return k;if(a.isPrimitive(m))return m;if(y.has(m))return y.get(m);if(Array.isArray(m)){const _=new Array(m.length);y.set(m,_);for(let j=0;j<m.length;j++)_[j]=c(m[j],j,v,y,S);return Object.hasOwn(m,"index")&&(_.index=m.index),Object.hasOwn(m,"input")&&(_.input=m.input),_}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const _=new RegExp(m.source,m.flags);return _.lastIndex=m.lastIndex,_}if(m instanceof Map){const _=new Map;y.set(m,_);for(const[j,N]of m)_.set(j,c(N,j,v,y,S));return _}if(m instanceof Set){const _=new Set;y.set(m,_);for(const j of m)_.add(c(j,void 0,v,y,S));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(s.isTypedArray(m)){const _=new(Object.getPrototypeOf(m)).constructor(m.length);y.set(m,_);for(let j=0;j<m.length;j++)_[j]=c(m[j],j,v,y,S);return _}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const _=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return y.set(m,_),d(_,m,v,y,S),_}if(typeof File<"u"&&m instanceof File){const _=new File([m],m.name,{type:m.type});return y.set(m,_),d(_,m,v,y,S),_}if(typeof Blob<"u"&&m instanceof Blob){const _=new Blob([m],{type:m.type});return y.set(m,_),d(_,m,v,y,S),_}if(m instanceof Error){const _=new m.constructor;return y.set(m,_),_.message=m.message,_.name=m.name,_.stack=m.stack,_.cause=m.cause,d(_,m,v,y,S),_}if(m instanceof Boolean){const _=new Boolean(m.valueOf());return y.set(m,_),d(_,m,v,y,S),_}if(m instanceof Number){const _=new Number(m.valueOf());return y.set(m,_),d(_,m,v,y,S),_}if(m instanceof String){const _=new String(m.valueOf());return y.set(m,_),d(_,m,v,y,S),_}if(typeof m=="object"&&f(m)){const _=Object.create(Object.getPrototypeOf(m));return y.set(m,_),d(_,m,v,y,S),_}return m}function d(m,g,v=m,y,S){const k=[...Object.keys(g),...t.getSymbols(g)];for(let _=0;_<k.length;_++){const j=k[_],N=Object.getOwnPropertyDescriptor(m,j);(N==null||N.writable)&&(m[j]=c(g[j],j,v,y,S))}}function f(m){switch(r.getTag(m)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=c,e.copyProperties=d})(wv)),wv}var aE;function aK(){return aE||(aE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uP();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(xv)),xv}var iE;function iK(){return iE||(iE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sP(),r=aK();function n(a){return a=r.cloneDeep(a),s=>t.isMatch(s,a)}e.matches=n})(mv)),mv}var Ev={},Ov={},Nv={},sE;function sK(){return sE||(sE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uP(),r=lP();function n(a,s){return t.cloneDeepWith(a,(l,c,d,f)=>{const m=s?.(l,c,d,f);if(m!==void 0)return m;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const g=new a.constructor(a?.valueOf());return t.copyProperties(g,a),g}case r.argumentsTag:{const g={};return t.copyProperties(g,a),g.length=a.length,g[Symbol.iterator]=a[Symbol.iterator],g}default:return}})}e.cloneDeepWith=n})(Nv)),Nv}var oE;function oK(){return oE||(oE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sK();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(Ov)),Ov}var Av={},Tv={},lE;function cP(){return lE||(lE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Tv)),Tv}var Cv={},uE;function lK(){return uE||(uE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oP();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(Cv)),Cv}var cE;function uK(){return cE||(cE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JC(),r=cP(),n=lK(),a=Rx();function s(l,c){let d;if(Array.isArray(c)?d=c:typeof c=="string"&&t.isDeepKey(c)&&l?.[c]==null?d=a.toPath(c):d=[c],d.length===0)return!1;let f=l;for(let m=0;m<d.length;m++){const g=d[m];if((f==null||!Object.hasOwn(f,g))&&!((Array.isArray(f)||n.isArguments(f))&&r.isIndex(g)&&g<f.length))return!1;f=f[g]}return!0}e.has=s})(Av)),Av}var dE;function cK(){return dE||(dE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sP(),r=Mx(),n=oK(),a=$x(),s=uK();function l(c,d){switch(typeof c){case"object":{Object.is(c?.valueOf(),-0)&&(c="-0");break}case"number":{c=r.toKey(c);break}}return d=n.cloneDeep(d),function(f){const m=a.get(f,c);return m===void 0?s.has(f,c):d===void 0?m===void 0:t.isMatch(m,d)}}e.matchesProperty=l})(Ev)),Ev}var fE;function dK(){return fE||(fE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rP(),r=eK(),n=iK(),a=cK();function s(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?a.matchesProperty(l[0],l[1]):n.matches(l);case"string":case"symbol":case"number":return r.property(l)}}e.iteratee=s})(fv)),fv}var hE;function fK(){return hE||(hE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WV(),r=rP(),n=QV(),a=dK();function s(l,c=r.identity){return n.isArrayLikeObject(l)?t.uniqBy(Array.from(l),a.iteratee(c)):[]}e.uniqBy=s})(iv)),iv}var Pv,mE;function hK(){return mE||(mE=1,Pv=fK().uniqBy),Pv}var mK=hK();const pE=ni(mK);function pK(e,t,r){return t===!0?pE(e,r):typeof t=="function"?pE(e,t):e}var Dv={exports:{}},Mv={},Rv={exports:{}},$v={};var gE;function gK(){if(gE)return $v;gE=1;var e=bl();function t(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,s=e.useLayoutEffect,l=e.useDebugValue;function c(g,v){var y=v(),S=n({inst:{value:y,getSnapshot:v}}),k=S[0].inst,_=S[1];return s(function(){k.value=y,k.getSnapshot=v,d(k)&&_({inst:k})},[g,y,v]),a(function(){return d(k)&&_({inst:k}),g(function(){d(k)&&_({inst:k})})},[g]),l(y),y}function d(g){var v=g.getSnapshot;g=g.value;try{var y=v();return!r(g,y)}catch{return!0}}function f(g,v){return v()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return $v.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:m,$v}var vE;function vK(){return vE||(vE=1,Rv.exports=gK()),Rv.exports}var yE;function yK(){if(yE)return Mv;yE=1;var e=bl(),t=vK();function r(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var n=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,s=e.useRef,l=e.useEffect,c=e.useMemo,d=e.useDebugValue;return Mv.useSyncExternalStoreWithSelector=function(f,m,g,v,y){var S=s(null);if(S.current===null){var k={hasValue:!1,value:null};S.current=k}else k=S.current;S=c(function(){function j(T){if(!N){if(N=!0,E=T,T=v(T),y!==void 0&&k.hasValue){var P=k.value;if(y(P,T))return C=P}return C=T}if(P=C,n(E,T))return P;var M=v(T);return y!==void 0&&y(P,M)?(E=T,P):(E=T,C=M)}var N=!1,E,C,A=g===void 0?null:g;return[function(){return j(m())},A===null?void 0:function(){return j(A())}]},[m,g,v,y]);var _=a(f,S[0],S[1]);return l(function(){k.hasValue=!0,k.value=_},[_]),d(_),_},Mv}var bE;function bK(){return bE||(bE=1,Dv.exports=yK()),Dv.exports}var xK=bK(),Ux=x.createContext(null),wK=e=>e,Bt=()=>{var e=x.useContext(Ux);return e?e.store.dispatch:wK},Jf=()=>{},_K=()=>Jf,SK=(e,t)=>e===t;function Ee(e){var t=x.useContext(Ux);return xK.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:_K,t?t.store.getState:Jf,t?t.store.getState:Jf,t?e:Jf,SK)}function kK(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function jK(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function EK(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var xE=e=>Array.isArray(e)?e:[e];function OK(e){const t=Array.isArray(e[0])?e[0]:e;return EK(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function NK(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var AK=class{constructor(e){this.value=e}deref(){return this.value}},TK=typeof WeakRef<"u"?WeakRef:AK,CK=0,wE=1;function Cf(){return{s:CK,v:void 0,o:null,p:null}}function dP(e,t={}){let r=Cf();const{resultEqualityCheck:n}=t;let a,s=0;function l(){let c=r;const{length:d}=arguments;for(let g=0,v=d;g<v;g++){const y=arguments[g];if(typeof y=="function"||typeof y=="object"&&y!==null){let S=c.o;S===null&&(c.o=S=new WeakMap);const k=S.get(y);k===void 0?(c=Cf(),S.set(y,c)):c=k}else{let S=c.p;S===null&&(c.p=S=new Map);const k=S.get(y);k===void 0?(c=Cf(),S.set(y,c)):c=k}}const f=c;let m;if(c.s===wE)m=c.v;else if(m=e.apply(null,arguments),s++,n){const g=a?.deref?.()??a;g!=null&&n(g,m)&&(m=g,s!==0&&s--),a=typeof m=="object"&&m!==null||typeof m=="function"?new TK(m):m}return f.s=wE,f.v=m,m}return l.clearCache=()=>{r=Cf(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function PK(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let s=0,l=0,c,d={},f=a.pop();typeof f=="object"&&(d=f,f=a.pop()),kK(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const m={...r,...d},{memoize:g,memoizeOptions:v=[],argsMemoize:y=dP,argsMemoizeOptions:S=[]}=m,k=xE(v),_=xE(S),j=OK(a),N=g(function(){return s++,f.apply(null,arguments)},...k),E=y(function(){l++;const A=NK(j,arguments);return c=N.apply(null,A),c},..._);return Object.assign(E,{resultFunc:f,memoizedResultFunc:N,dependencies:j,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>c,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:g,argsMemoize:y})};return Object.assign(n,{withTypes:()=>n}),n}var ne=PK(dP),DK=Object.assign((e,t=ne)=>{jK(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((l,c,d)=>(l[r[d]]=c,l),{}))},{withTypes:()=>DK}),Lv={},Iv={},zv={},_E;function MK(){return _E||(_E=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,s)=>{if(n!==a){const l=t(n),c=t(a);if(l===c&&l===0){if(n<a)return s==="desc"?1:-1;if(n>a)return s==="desc"?-1:1}return s==="desc"?c-l:l-c}return 0};e.compareValues=r})(zv)),zv}var Uv={},Bv={},SE;function fP(){return SE||(SE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Bv)),Bv}var kE;function RK(){return kE||(kE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fP(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||l!=null&&Object.hasOwn(l,s)}e.isKey=a})(Uv)),Uv}var jE;function $K(){return jE||(jE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MK(),r=RK(),n=Rx();function a(s,l,c,d){if(s==null)return[];c=d?void 0:c,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(y=>String(y));const f=(y,S)=>{let k=y;for(let _=0;_<S.length&&k!=null;++_)k=k[S[_]];return k},m=(y,S)=>S==null||y==null?S:typeof y=="object"&&"key"in y?Object.hasOwn(S,y.key)?S[y.key]:f(S,y.path):typeof y=="function"?y(S):Array.isArray(y)?f(S,y):typeof S=="object"?S[y]:S,g=l.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||r.isKey(y)?y:{key:y,path:n.toPath(y)}));return s.map(y=>({original:y,criteria:g.map(S=>m(S,y))})).slice().sort((y,S)=>{for(let k=0;k<g.length;k++){const _=t.compareValues(y.criteria[k],S.criteria[k],c[k]);if(_!==0)return _}return 0}).map(y=>y.original)}e.orderBy=a})(Iv)),Iv}var qv={},EE;function LK(){return EE||(EE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],s=Math.floor(n),l=(c,d)=>{for(let f=0;f<c.length;f++){const m=c[f];Array.isArray(m)&&d<s?l(m,d+1):a.push(m)}};return l(r,0),a}e.flatten=t})(qv)),qv}var Hv={},OE;function hP(){return OE||(OE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cP(),r=zx(),n=nP(),a=iP();function s(l,c,d){return n.isObject(d)&&(typeof c=="number"&&r.isArrayLike(d)&&t.isIndex(c)&&c<d.length||typeof c=="string"&&c in d)?a.eq(d[c],l):!1}e.isIterateeCall=s})(Hv)),Hv}var NE;function IK(){return NE||(NE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$K(),r=LK(),n=hP();function a(s,...l){const c=l.length;return c>1&&n.isIterateeCall(s,l[0],l[1])?l=[]:c>2&&n.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(s,r.flatten(l),["asc"])}e.sortBy=a})(Lv)),Lv}var Fv,AE;function zK(){return AE||(AE=1,Fv=IK().sortBy),Fv}var UK=zK();const $0=ni(UK);var mP=e=>e.legend.settings,BK=e=>e.legend.size,qK=e=>e.legend.payload;ne([qK,mP],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?$0(n,r):n});var Pf=1;function HK(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=x.useState({height:0,left:0,top:0,width:0}),n=x.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-t.height)>Pf||Math.abs(l.left-t.left)>Pf||Math.abs(l.top-t.top)>Pf||Math.abs(l.width-t.width)>Pf)&&r({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function or(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var FK=typeof Symbol=="function"&&Symbol.observable||"@@observable",TE=FK,Vv=()=>Math.random().toString(36).substring(7).split("").join("."),VK={INIT:`@@redux/INIT${Vv()}`,REPLACE:`@@redux/REPLACE${Vv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Vv()}`},jh=VK;function Bx(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function pP(e,t,r){if(typeof e!="function")throw new Error(or(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(or(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(or(1));return r(pP)(e,t)}let n=e,a=t,s=new Map,l=s,c=0,d=!1;function f(){l===s&&(l=new Map,s.forEach((_,j)=>{l.set(j,_)}))}function m(){if(d)throw new Error(or(3));return a}function g(_){if(typeof _!="function")throw new Error(or(4));if(d)throw new Error(or(5));let j=!0;f();const N=c++;return l.set(N,_),function(){if(j){if(d)throw new Error(or(6));j=!1,f(),l.delete(N),s=null}}}function v(_){if(!Bx(_))throw new Error(or(7));if(typeof _.type>"u")throw new Error(or(8));if(typeof _.type!="string")throw new Error(or(17));if(d)throw new Error(or(9));try{d=!0,a=n(a,_)}finally{d=!1}return(s=l).forEach(N=>{N()}),_}function y(_){if(typeof _!="function")throw new Error(or(10));n=_,v({type:jh.REPLACE})}function S(){const _=g;return{subscribe(j){if(typeof j!="object"||j===null)throw new Error(or(11));function N(){const C=j;C.next&&C.next(m())}return N(),{unsubscribe:_(N)}},[TE](){return this}}}return v({type:jh.INIT}),{dispatch:v,subscribe:g,getState:m,replaceReducer:y,[TE]:S}}function KK(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:jh.INIT})>"u")throw new Error(or(12));if(typeof r(void 0,{type:jh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(or(13))})}function gP(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const l=t[s];typeof e[l]=="function"&&(r[l]=e[l])}const n=Object.keys(r);let a;try{KK(r)}catch(s){a=s}return function(l={},c){if(a)throw a;let d=!1;const f={};for(let m=0;m<n.length;m++){const g=n[m],v=r[g],y=l[g],S=v(y,c);if(typeof S>"u")throw c&&c.type,new Error(or(14));f[g]=S,d=d||S!==y}return d=d||n.length!==Object.keys(l).length,d?f:l}}function Eh(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function ZK(...e){return t=>(r,n)=>{const a=t(r,n);let s=()=>{throw new Error(or(15))};const l={getState:a.getState,dispatch:(d,...f)=>s(d,...f)},c=e.map(d=>d(l));return s=Eh(...c)(a.dispatch),{...a,dispatch:s}}}function vP(e){return Bx(e)&&"type"in e&&typeof e.type=="string"}var yP=Symbol.for("immer-nothing"),CE=Symbol.for("immer-draftable"),Ar=Symbol.for("immer-state");function Fn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ln=Object,hl=ln.getPrototypeOf,Oh="constructor",L0="prototype",ub="configurable",Nh="enumerable",Qf="writable",oc="value",Ja=e=>!!e&&!!e[Ar];function Xn(e){return e?bP(e)||I0(e)||!!e[CE]||!!e[Oh]?.[CE]||z0(e)||U0(e):!1}var GK=ln[L0][Oh].toString(),PE=new WeakMap;function bP(e){if(!e||!qx(e))return!1;const t=hl(e);if(t===null||t===ln[L0])return!0;const r=ln.hasOwnProperty.call(t,Oh)&&t[Oh];if(r===Object)return!0;if(!Jo(r))return!1;let n=PE.get(r);return n===void 0&&(n=Function.toString.call(r),PE.set(r,n)),n===GK}function Nc(e,t,r=!0){Ac(e)===0?(r?Reflect.ownKeys(e):ln.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Ac(e){const t=e[Ar];return t?t.type_:I0(e)?1:z0(e)?2:U0(e)?3:0}var DE=(e,t,r=Ac(e))=>r===2?e.has(t):ln[L0].hasOwnProperty.call(e,t),cb=(e,t,r=Ac(e))=>r===2?e.get(t):e[t],Ah=(e,t,r,n=Ac(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function YK(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var I0=Array.isArray,z0=e=>e instanceof Map,U0=e=>e instanceof Set,qx=e=>typeof e=="object",Jo=e=>typeof e=="function",Kv=e=>typeof e=="boolean",Ia=e=>e.copy_||e.base_,Hx=e=>e.modified_?e.copy_:e.base_;function db(e,t){if(z0(e))return new Map(e);if(U0(e))return new Set(e);if(I0(e))return Array[L0].slice.call(e);const r=bP(e);if(t===!0||t==="class_only"&&!r){const n=ln.getOwnPropertyDescriptors(e);delete n[Ar];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const l=a[s],c=n[l];c[Qf]===!1&&(c[Qf]=!0,c[ub]=!0),(c.get||c.set)&&(n[l]={[ub]:!0,[Qf]:!0,[Nh]:c[Nh],[oc]:e[l]})}return ln.create(hl(e),n)}else{const n=hl(e);if(n!==null&&r)return{...e};const a=ln.create(n);return ln.assign(a,e)}}function Fx(e,t=!1){return B0(e)||Ja(e)||!Xn(e)||(Ac(e)>1&&ln.defineProperties(e,{set:Df,add:Df,clear:Df,delete:Df}),ln.freeze(e),t&&Nc(e,(r,n)=>{Fx(n,!0)},!1)),e}function WK(){Fn(2)}var Df={[oc]:WK};function B0(e){return e===null||!qx(e)?!0:ln.isFrozen(e)}var Th="MapSet",fb="Patches",xP={};function ml(e){const t=xP[e];return t||Fn(0,e),t}var XK=e=>!!xP[e],lc,wP=()=>lc,JK=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:XK(Th)?ml(Th):void 0});function ME(e,t){t&&(e.patchPlugin_=ml(fb),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function hb(e){mb(e),e.drafts_.forEach(QK),e.drafts_=null}function mb(e){e===lc&&(lc=e.parent_)}var RE=e=>lc=JK(lc,e);function QK(e){const t=e[Ar];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function $E(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[Ar].modified_&&(hb(t),Fn(4)),Xn(e)&&(e=LE(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[Ar].base_,e,t)}else e=LE(t,r);return eZ(t,e,!0),hb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==yP?e:void 0}function LE(e,t){if(B0(t))return t;const r=t[Ar];if(!r)return Vx(t,e.handledSet_,e);if(!q0(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);kP(r,e)}return r.copy_}function eZ(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Fx(t,r)}function _P(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var q0=(e,t)=>e.scope_===t,tZ=[];function SP(e,t,r,n){const a=Ia(e),s=e.type_;if(n!==void 0&&cb(a,n,s)===t){Ah(a,n,r,s);return}if(!e.draftLocations_){const c=e.draftLocations_=new Map;Nc(a,(d,f)=>{if(Ja(f)){const m=c.get(f)||[];m.push(d),c.set(f,m)}})}const l=e.draftLocations_.get(t)??tZ;for(const c of l)Ah(a,c,r,s)}function rZ(e,t,r){e.callbacks_.push(function(a){const s=t;if(!s||!q0(s,a))return;a.mapSetPlugin_?.fixSetContents(s);const l=Hx(s);SP(e,s.draft_??s,l,r),kP(s,a)})}function kP(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||(e.assigned_?.size??0)>0)){const{patchPlugin_:n}=t;if(n){const a=n.getPath(e);a&&n.generatePatches_(e,a,t)}_P(e)}}function nZ(e,t,r){const{scope_:n}=e;if(Ja(r)){const a=r[Ar];q0(a,n)&&a.callbacks_.push(function(){eh(e);const l=Hx(a);SP(e,r,l,t)})}else Xn(r)&&e.callbacks_.push(function(){const s=Ia(e);cb(s,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Vx(cb(e.copy_,t,e.type_),n.handledSet_,n)})}function Vx(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Ja(e)||t.has(e)||!Xn(e)||B0(e)||(t.add(e),Nc(e,(n,a)=>{if(Ja(a)){const s=a[Ar];if(q0(s,r)){const l=Hx(s);Ah(e,n,l,e.type_),_P(s)}}else Xn(a)&&Vx(a,t,r)})),e}function aZ(e,t){const r=I0(e),n={type_:r?1:0,scope_:t?t.scope_:wP(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,s=Kx;r&&(a=[n],s=uc);const{revoke:l,proxy:c}=Proxy.revocable(a,s);return n.draft_=c,n.revoke_=l,[c,n]}var Kx={get(e,t){if(t===Ar)return e;const r=Ia(e);if(!DE(r,t,e.type_))return iZ(e,r,t);const n=r[t];if(e.finalized_||!Xn(n))return n;if(n===Zv(e.base_,t)){eh(e);const a=e.type_===1?+t:t,s=gb(e.scope_,n,e,a);return e.copy_[a]=s}return n},has(e,t){return t in Ia(e)},ownKeys(e){return Reflect.ownKeys(Ia(e))},set(e,t,r){const n=jP(Ia(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Zv(Ia(e),t),s=a?.[Ar];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(YK(r,a)&&(r!==void 0||DE(e.base_,t,e.type_)))return!0;eh(e),pb(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),nZ(e,t,r)),!0},deleteProperty(e,t){return eh(e),Zv(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),pb(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Ia(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[Qf]:!0,[ub]:e.type_!==1||t!=="length",[Nh]:n[Nh],[oc]:r[t]}},defineProperty(){Fn(11)},getPrototypeOf(e){return hl(e.base_)},setPrototypeOf(){Fn(12)}},uc={};Nc(Kx,(e,t)=>{uc[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});uc.deleteProperty=function(e,t){return uc.set.call(this,e,t,void 0)};uc.set=function(e,t,r){return Kx.set.call(this,e[0],t,r,e[0])};function Zv(e,t){const r=e[Ar];return(r?Ia(r):e)[t]}function iZ(e,t,r){const n=jP(t,r);return n?oc in n?n[oc]:n.get?.call(e.draft_):void 0}function jP(e,t){if(!(t in e))return;let r=hl(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=hl(r)}}function pb(e){e.modified_||(e.modified_=!0,e.parent_&&pb(e.parent_))}function eh(e){e.copy_||(e.assigned_=new Map,e.copy_=db(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var sZ=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(Jo(r)&&!Jo(n)){const l=n;n=r;const c=this;return function(f=l,...m){return c.produce(f,g=>n.call(this,g,...m))}}Jo(n)||Fn(6),a!==void 0&&!Jo(a)&&Fn(7);let s;if(Xn(r)){const l=RE(this),c=gb(l,r,void 0);let d=!0;try{s=n(c),d=!1}finally{d?hb(l):mb(l)}return ME(l,a),$E(s,l)}else if(!r||!qx(r)){if(s=n(r),s===void 0&&(s=r),s===yP&&(s=void 0),this.autoFreeze_&&Fx(s,!0),a){const l=[],c=[];ml(fb).generateReplacementPatches_(r,s,{patches_:l,inversePatches_:c}),a(l,c)}return s}else Fn(1,r)},this.produceWithPatches=(r,n)=>{if(Jo(r))return(c,...d)=>this.produceWithPatches(c,f=>r(f,...d));let a,s;return[this.produce(r,n,(c,d)=>{a=c,s=d}),a,s]},Kv(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Kv(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Kv(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Xn(t)||Fn(8),Ja(t)&&(t=Gn(t));const r=RE(this),n=gb(r,t,void 0);return n[Ar].isManual_=!0,mb(r),n}finishDraft(t,r){const n=t&&t[Ar];(!n||!n.isManual_)&&Fn(9);const{scope_:a}=n;return ME(a,r),$E(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const s=r[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(r=r.slice(n+1));const a=ml(fb).applyPatches_;return Ja(t)?a(t,r):this.produce(t,s=>a(s,r))}};function gb(e,t,r,n){const[a,s]=z0(t)?ml(Th).proxyMap_(t,r):U0(t)?ml(Th).proxySet_(t,r):aZ(t,r);return(r?.scope_??wP()).drafts_.push(a),s.callbacks_=r?.callbacks_??[],s.key_=n,r&&n!==void 0?rZ(r,s,n):s.callbacks_.push(function(d){d.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:f}=d;s.modified_&&f&&f.generatePatches_(s,[],d)}),a}function Gn(e){return Ja(e)||Fn(10,e),EP(e)}function EP(e){if(!Xn(e)||B0(e))return e;const t=e[Ar];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=db(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=db(e,!0);return Nc(r,(a,s)=>{Ah(r,a,EP(s))},n),t&&(t.finalized_=!1),r}var oZ=new sZ,OP=oZ.produce;function NP(e){return({dispatch:r,getState:n})=>a=>s=>typeof s=="function"?s(r,n,e):a(s)}var lZ=NP(),uZ=NP,cZ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Eh:Eh.apply(null,arguments)};function Dn(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(cn(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>vP(n)&&n.type===e,r}var AP=class Vu extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Vu.prototype)}static get[Symbol.species](){return Vu}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Vu(...t[0].concat(this)):new Vu(...t.concat(this))}};function IE(e){return Xn(e)?OP(e,()=>{}):e}function Mf(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function dZ(e){return typeof e=="boolean"}var fZ=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=t??{};let l=new AP;return r&&(dZ(r)?l.push(lZ):l.push(uZ(r.extraArgument))),l},TP="RTK_autoBatch",mt=()=>e=>({payload:e,meta:{[TP]:!0}}),zE=e=>t=>{setTimeout(t,e)},CP=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,s=!1,l=!1;const c=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:zE(10):e.type==="callback"?e.queueNotification:zE(e.timeout),f=()=>{l=!1,s&&(s=!1,c.forEach(m=>m()))};return Object.assign({},n,{subscribe(m){const g=()=>a&&m(),v=n.subscribe(g);return c.add(m),()=>{v(),c.delete(m)}},dispatch(m){try{return a=!m?.meta?.[TP],s=!a,s&&(l||(l=!0,d(f))),n.dispatch(m)}finally{a=!0}}})},hZ=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new AP(e);return n&&a.push(CP(typeof n=="object"?n:void 0)),a};function mZ(e){const t=fZ(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:s=void 0,enhancers:l=void 0}=e||{};let c;if(typeof r=="function")c=r;else if(Bx(r))c=gP(r);else throw new Error(cn(1));let d;typeof n=="function"?d=n(t):d=t();let f=Eh;a&&(f=cZ({trace:!1,...typeof a=="object"&&a}));const m=ZK(...d),g=hZ(m);let v=typeof l=="function"?l(g):g();const y=f(...v);return pP(c,s,y)}function PP(e){const t={},r=[];let n;const a={addCase(s,l){const c=typeof s=="string"?s:s.type;if(!c)throw new Error(cn(28));if(c in t)throw new Error(cn(29));return t[c]=l,a},addAsyncThunk(s,l){return l.pending&&(t[s.pending.type]=l.pending),l.rejected&&(t[s.rejected.type]=l.rejected),l.fulfilled&&(t[s.fulfilled.type]=l.fulfilled),l.settled&&r.push({matcher:s.settled,reducer:l.settled}),a},addMatcher(s,l){return r.push({matcher:s,reducer:l}),a},addDefaultCase(s){return n=s,a}};return e(a),[t,r,n]}function pZ(e){return typeof e=="function"}function gZ(e,t){let[r,n,a]=PP(t),s;if(pZ(e))s=()=>IE(e());else{const c=IE(e);s=()=>c}function l(c=s(),d){let f=[r[d.type],...n.filter(({matcher:m})=>m(d)).map(({reducer:m})=>m)];return f.filter(m=>!!m).length===0&&(f=[a]),f.reduce((m,g)=>{if(g)if(Ja(m)){const y=g(m,d);return y===void 0?m:y}else{if(Xn(m))return OP(m,v=>g(v,d));{const v=g(m,d);if(v===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return m},c)}return l.getInitialState=s,l}var vZ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",yZ=(e=21)=>{let t="",r=e;for(;r--;)t+=vZ[Math.random()*64|0];return t},bZ=Symbol.for("rtk-slice-createasyncthunk");function xZ(e,t){return`${e}/${t}`}function wZ({creators:e}={}){const t=e?.asyncThunk?.[bZ];return function(n){const{name:a,reducerPath:s=a}=n;if(!a)throw new Error(cn(11));const l=(typeof n.reducers=="function"?n.reducers(SZ()):n.reducers)||{},c=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(E,C){const A=typeof E=="string"?E:E.type;if(!A)throw new Error(cn(12));if(A in d.sliceCaseReducersByType)throw new Error(cn(13));return d.sliceCaseReducersByType[A]=C,f},addMatcher(E,C){return d.sliceMatchers.push({matcher:E,reducer:C}),f},exposeAction(E,C){return d.actionCreators[E]=C,f},exposeCaseReducer(E,C){return d.sliceCaseReducersByName[E]=C,f}};c.forEach(E=>{const C=l[E],A={reducerName:E,type:xZ(a,E),createNotation:typeof n.reducers=="function"};jZ(C)?OZ(A,C,f,t):kZ(A,C,f)});function m(){const[E={},C=[],A=void 0]=typeof n.extraReducers=="function"?PP(n.extraReducers):[n.extraReducers],T={...E,...d.sliceCaseReducersByType};return gZ(n.initialState,P=>{for(let M in T)P.addCase(M,T[M]);for(let M of d.sliceMatchers)P.addMatcher(M.matcher,M.reducer);for(let M of C)P.addMatcher(M.matcher,M.reducer);A&&P.addDefaultCase(A)})}const g=E=>E,v=new Map,y=new WeakMap;let S;function k(E,C){return S||(S=m()),S(E,C)}function _(){return S||(S=m()),S.getInitialState()}function j(E,C=!1){function A(P){let M=P[E];return typeof M>"u"&&C&&(M=Mf(y,A,_)),M}function T(P=g){const M=Mf(v,C,()=>new WeakMap);return Mf(M,P,()=>{const $={};for(const[L,R]of Object.entries(n.selectors??{}))$[L]=_Z(R,P,()=>Mf(y,P,_),C);return $})}return{reducerPath:E,getSelectors:T,get selectors(){return T(A)},selectSlice:A}}const N={name:a,reducer:k,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:_,...j(s),injectInto(E,{reducerPath:C,...A}={}){const T=C??s;return E.inject({reducerPath:T,reducer:k},A),{...N,...j(T,!0)}}};return N}}function _Z(e,t,r,n){function a(s,...l){let c=t(s);return typeof c>"u"&&n&&(c=r()),e(c,...l)}return a.unwrapped=e,a}var Zr=wZ();function SZ(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function kZ({type:e,reducerName:t,createNotation:r},n,a){let s,l;if("reducer"in n){if(r&&!EZ(n))throw new Error(cn(17));s=n.reducer,l=n.prepare}else s=n;a.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,l?Dn(e,l):Dn(e))}function jZ(e){return e._reducerDefinitionType==="asyncThunk"}function EZ(e){return e._reducerDefinitionType==="reducerWithPrepare"}function OZ({type:e,reducerName:t},r,n,a){if(!a)throw new Error(cn(18));const{payloadCreator:s,fulfilled:l,pending:c,rejected:d,settled:f,options:m}=r,g=a(e,s,m);n.exposeAction(t,g),l&&n.addCase(g.fulfilled,l),c&&n.addCase(g.pending,c),d&&n.addCase(g.rejected,d),f&&n.addMatcher(g.settled,f),n.exposeCaseReducer(t,{fulfilled:l||Rf,pending:c||Rf,rejected:d||Rf,settled:f||Rf})}function Rf(){}var NZ="task",DP="listener",MP="completed",Zx="cancelled",AZ=`task-${Zx}`,TZ=`task-${MP}`,vb=`${DP}-${Zx}`,CZ=`${DP}-${MP}`,H0=class{constructor(e){this.code=e,this.message=`${NZ} ${Zx} (reason: ${e})`}name="TaskAbortError";message},Gx=(e,t)=>{if(typeof e!="function")throw new TypeError(cn(32))},Ch=()=>{},RP=(e,t=Ch)=>(e.catch(t),e),$P=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),$s=e=>{if(e.aborted)throw new H0(e.reason)};function LP(e,t){let r=Ch;return new Promise((n,a)=>{const s=()=>a(new H0(e.reason));if(e.aborted){s();return}r=$P(e,s),t.finally(()=>r()).then(n,a)}).finally(()=>{r=Ch})}var PZ=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof H0?"cancelled":"rejected",error:r}}finally{t?.()}},Ph=e=>t=>RP(LP(e,t).then(r=>($s(e),r))),IP=e=>{const t=Ph(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:ol}=Object,UE={},F0="listenerMiddleware",DZ=(e,t)=>{const r=n=>$P(e,()=>n.abort(e.reason));return(n,a)=>{Gx(n);const s=new AbortController;r(s);const l=PZ(async()=>{$s(e),$s(s.signal);const c=await n({pause:Ph(s.signal),delay:IP(s.signal),signal:s.signal});return $s(s.signal),c},()=>s.abort(TZ));return a?.autoJoin&&t.push(l.catch(Ch)),{result:Ph(e)(l),cancel(){s.abort(AZ)}}}},MZ=(e,t)=>{const r=async(n,a)=>{$s(t);let s=()=>{};const c=[new Promise((d,f)=>{let m=e({predicate:n,effect:(g,v)=>{v.unsubscribe(),d([g,v.getState(),v.getOriginalState()])}});s=()=>{m(),f()}})];a!=null&&c.push(new Promise(d=>setTimeout(d,a,null)));try{const d=await LP(t,Promise.race(c));return $s(t),d}finally{s()}};return(n,a)=>RP(r(n,a))},zP=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:s}=e;if(t)a=Dn(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(cn(21));return Gx(s),{predicate:a,type:t,effect:s}},UP=ol(e=>{const{type:t,predicate:r,effect:n}=zP(e);return{id:yZ(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(cn(22))}}},{withTypes:()=>UP}),BE=(e,t)=>{const{type:r,effect:n,predicate:a}=zP(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===a)&&s.effect===n)},yb=e=>{e.pending.forEach(t=>{t.abort(vb)})},RZ=(e,t)=>()=>{for(const r of t.keys())yb(r);e.clear()},qE=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},BP=ol(Dn(`${F0}/add`),{withTypes:()=>BP}),$Z=Dn(`${F0}/removeAll`),qP=ol(Dn(`${F0}/remove`),{withTypes:()=>qP}),LZ=(...e)=>{console.error(`${F0}/error`,...e)},Tc=(e={})=>{const t=new Map,r=new Map,n=y=>{const S=r.get(y)??0;r.set(y,S+1)},a=y=>{const S=r.get(y)??1;S===1?r.delete(y):r.set(y,S-1)},{extra:s,onError:l=LZ}=e;Gx(l);const c=y=>(y.unsubscribe=()=>t.delete(y.id),t.set(y.id,y),S=>{y.unsubscribe(),S?.cancelActive&&yb(y)}),d=y=>{const S=BE(t,y)??UP(y);return c(S)};ol(d,{withTypes:()=>d});const f=y=>{const S=BE(t,y);return S&&(S.unsubscribe(),y.cancelActive&&yb(S)),!!S};ol(f,{withTypes:()=>f});const m=async(y,S,k,_)=>{const j=new AbortController,N=MZ(d,j.signal),E=[];try{y.pending.add(j),n(y),await Promise.resolve(y.effect(S,ol({},k,{getOriginalState:_,condition:(C,A)=>N(C,A).then(Boolean),take:N,delay:IP(j.signal),pause:Ph(j.signal),extra:s,signal:j.signal,fork:DZ(j.signal,E),unsubscribe:y.unsubscribe,subscribe:()=>{t.set(y.id,y)},cancelActiveListeners:()=>{y.pending.forEach((C,A,T)=>{C!==j&&(C.abort(vb),T.delete(C))})},cancel:()=>{j.abort(vb),y.pending.delete(j)},throwIfCancelled:()=>{$s(j.signal)}})))}catch(C){C instanceof H0||qE(l,C,{raisedBy:"effect"})}finally{await Promise.all(E),j.abort(CZ),a(y),y.pending.delete(j)}},g=RZ(t,r);return{middleware:y=>S=>k=>{if(!vP(k))return S(k);if(BP.match(k))return d(k.payload);if($Z.match(k)){g();return}if(qP.match(k))return f(k.payload);let _=y.getState();const j=()=>{if(_===UE)throw new Error(cn(23));return _};let N;try{if(N=S(k),t.size>0){const E=y.getState(),C=Array.from(t.values());for(const A of C){let T=!1;try{T=A.predicate(k,E,_)}catch(P){T=!1,qE(l,P,{raisedBy:"predicate"})}T&&m(A,k,y,j)}}}finally{_=UE}return N},startListening:d,stopListening:f,clearListeners:g}};function cn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var IZ={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},HP=Zr({name:"chartLayout",initialState:IZ,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,s;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:zZ,setLayout:UZ,setChartSize:BZ,setScale:qZ}=HP.actions,HZ=HP.reducer;function FP(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function HE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function el(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HE(Object(r),!0).forEach(function(n){FZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FZ(e,t,r){return(t=VZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VZ(e){var t=KZ(e,"string");return typeof t=="symbol"?t:t+""}function KZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _r(e,t,r){return cr(e)||cr(t)?r:Pn(t)?R0(e,t,r):typeof t=="function"?t(e):r}var ZZ=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:s,verticalAlign:l,layout:c}=t;if((c==="vertical"||c==="horizontal"&&l==="middle")&&s!=="center"&&Oe(e[s]))return el(el({},e),{},{[s]:e[s]+(n||0)});if((c==="horizontal"||c==="vertical"&&s==="center")&&l!=="middle"&&Oe(e[l]))return el(el({},e),{},{[l]:e[l]+(a||0)})}return e},si=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",VP=(e,t,r,n)=>{if(n)return e.map(c=>c.coordinate);var a,s,l=e.map(c=>(c.coordinate===t&&(a=!0),c.coordinate===r&&(s=!0),c.coordinate));return a||l.push(t),s||l.push(r),l},KP=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:s,scale:l,realScaleType:c,isCategorical:d,categoricalDomain:f,tickCount:m,ticks:g,niceTicks:v,axisType:y}=e;if(!l)return null;var S=c==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,k=a==="category"&&l.bandwidth?l.bandwidth()/S:0;if(k=y==="angleAxis"&&s&&s.length>=2?Tn(s[0]-s[1])*2*k:k,g||v){var _=(g||v||[]).map((j,N)=>{var E=n?n.indexOf(j):j;return{coordinate:l(E)+k,value:j,offset:k,index:N}});return _.filter(j=>!hn(j.coordinate))}return d&&f?f.map((j,N)=>({coordinate:l(j)+k,value:j,index:N,offset:k})):l.ticks&&m!=null?l.ticks(m).map((j,N)=>({coordinate:l(j)+k,value:j,offset:k,index:N})):l.domain().map((j,N)=>({coordinate:l(j)+k,value:n?n[j]:j,index:N,offset:k}))},FE=1e-4,GZ=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-FE,s=Math.max(n[0],n[1])+FE,l=e(t[0]),c=e(t[r-1]);(l<a||l>s||c<a||c>s)&&e.domain([t[0],t[r-1]])}},YZ=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,s=0,l=0;l<t;++l){var c=hn(e[l][r][1])?e[l][r][0]:e[l][r][1];c>=0?(e[l][r][0]=a,e[l][r][1]=a+c,a=e[l][r][1]):(e[l][r][0]=s,e[l][r][1]=s+c,s=e[l][r][1])}},WZ=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,s=0;s<t;++s){var l=hn(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},XZ={sign:YZ,expand:RV,none:fl,silhouette:$V,wiggle:LV,positive:WZ},JZ=(e,t,r)=>{var n=XZ[r],a=MV().keys(t).value((s,l)=>Number(_r(s,l,0))).order(lb).offset(n);return a(e)};function QZ(e){return e==null?void 0:String(e)}function VE(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:s,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!cr(a[t.dataKey])){var c=eP(r,"value",a[t.dataKey]);if(c)return c.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var d=_r(a,cr(l)?t.dataKey:l);return cr(d)?null:t.scale(d)}var eG=e=>{var t=e.flat(2).filter(Oe);return[Math.min(...t),Math.max(...t)]},tG=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],rG=(e,t,r)=>{if(e!=null)return tG(Object.keys(e).reduce((n,a)=>{var s=e[a],{stackedData:l}=s,c=l.reduce((d,f)=>{var m=FP(f,t,r),g=eG(m);return[Math.min(d[0],g[0]),Math.max(d[1],g[1])]},[1/0,-1/0]);return[Math.min(c[0],n[0]),Math.max(c[1],n[1])]},[1/0,-1/0]))},KE=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ZE=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Dh=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=$0(t,m=>m.coordinate),s=1/0,l=1,c=a.length;l<c;l++){var d=a[l],f=a[l-1];s=Math.min((d.coordinate||0)-(f.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function GE(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:s}=e;return el(el({},t),{},{dataKey:r,payload:n,value:a,name:s})}function ZP(e,t){if(e)return String(e);if(typeof t=="string")return t}var nG=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},aG=(e,t)=>t==="centric"?e.angle:e.radius,oi=e=>e.layout.width,li=e=>e.layout.height,iG=e=>e.layout.scale,GP=e=>e.layout.margin,V0=ne(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),K0=ne(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),sG="data-recharts-item-index",oG="data-recharts-item-data-key",Cc=60;function YE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $f(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YE(Object(r),!0).forEach(function(n){lG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lG(e,t,r){return(t=uG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uG(e){var t=cG(e,"string");return typeof t=="symbol"?t:t+""}function cG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dG=e=>e.brush.height;function fG(e){var t=K0(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Cc;return r+a}return r},0)}function hG(e){var t=K0(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Cc;return r+a}return r},0)}function mG(e){var t=V0(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function pG(e){var t=V0(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var hr=ne([oi,li,GP,dG,fG,hG,mG,pG,mP,BK],(e,t,r,n,a,s,l,c,d,f)=>{var m={left:(r.left||0)+a,right:(r.right||0)+s},g={top:(r.top||0)+l,bottom:(r.bottom||0)+c},v=$f($f({},g),m),y=v.bottom;v.bottom+=n,v=ZZ(v,d,f);var S=e-v.left-v.right,k=t-v.top-v.bottom;return $f($f({brushBottom:y},v),{},{width:Math.max(S,0),height:Math.max(k,0)})}),gG=ne(hr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),YP=ne(oi,li,(e,t)=>({x:0,y:0,width:e,height:t})),vG=x.createContext(null),Pr=()=>x.useContext(vG)!=null,Z0=e=>e.brush,G0=ne([Z0,hr,GP],(e,t,r)=>({height:e.height,x:Oe(e.x)?e.x:t.left,y:Oe(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:Oe(e.width)?e.width:t.width})),Gv={},Yv={},Wv={},WE;function yG(){return WE||(WE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:s}={}){let l,c=null;const d=s!=null&&s.includes("leading"),f=s==null||s.includes("trailing"),m=()=>{c!==null&&(r.apply(l,c),l=void 0,c=null)},g=()=>{f&&m(),k()};let v=null;const y=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,g()},n)},S=()=>{v!==null&&(clearTimeout(v),v=null)},k=()=>{S(),l=void 0,c=null},_=()=>{m()},j=function(...N){if(a?.aborted)return;l=this,c=N;const E=v==null;y(),d&&E&&m()};return j.schedule=y,j.cancel=k,j.flush=_,a?.addEventListener("abort",k,{once:!0}),j}e.debounce=t})(Wv)),Wv}var XE;function bG(){return XE||(XE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yG();function r(n,a=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:c=!0,maxWait:d}=s,f=Array(2);l&&(f[0]="leading"),c&&(f[1]="trailing");let m,g=null;const v=t.debounce(function(...k){m=n.apply(this,k),g=null},a,{edges:f}),y=function(...k){return d!=null&&(g===null&&(g=Date.now()),Date.now()-g>=d)?(m=n.apply(this,k),g=Date.now(),v.cancel(),v.schedule(),m):(v.apply(this,k),m)},S=()=>(v.flush(),m);return y.cancel=v.cancel,y.flush=S,y}e.debounce=r})(Yv)),Yv}var JE;function xG(){return JE||(JE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bG();function r(n,a=0,s={}){const{leading:l=!0,trailing:c=!0}=s;return t.debounce(n,a,{leading:l,maxWait:a,trailing:c})}e.throttle=r})(Gv)),Gv}var Xv,QE;function wG(){return QE||(QE=1,Xv=xG().throttle),Xv}var _G=wG();const SG=ni(_G);var Mh=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(r.replace(/%s/g,()=>a[l++]))}},WP=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:s,maxHeight:l}=r,c=Xa(n)?e:Number(n),d=Xa(a)?t:Number(a);return s&&s>0&&(c?d=c/s:d&&(c=d*s),l&&d!=null&&d>l&&(d=l)),{calculatedWidth:c,calculatedHeight:d}},kG={width:0,height:0,overflow:"visible"},jG={width:0,overflowX:"visible"},EG={height:0,overflowY:"visible"},OG={},NG=e=>{var{width:t,height:r}=e,n=Xa(t),a=Xa(r);return n&&a?kG:n?jG:a?EG:OG};function AG(e){var{width:t,height:r,aspect:n}=e,a=t,s=r;return a===void 0&&s===void 0?(a="100%",s="100%"):a===void 0?a=n&&n>0?void 0:"100%":s===void 0&&(s=n&&n>0?void 0:"100%"),{width:a,height:s}}function st(e){return Number.isFinite(e)}function da(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function bb(){return bb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bb.apply(null,arguments)}function eO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eO(Object(r),!0).forEach(function(n){TG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TG(e,t,r){return(t=CG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CG(e){var t=PG(e,"string");return typeof t=="symbol"?t:t+""}function PG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XP=x.createContext({width:-1,height:-1});function DG(e){return da(e.width)&&da(e.height)}function JP(e){var{children:t,width:r,height:n}=e,a=x.useMemo(()=>({width:r,height:n}),[r,n]);return DG(a)?x.createElement(XP.Provider,{value:a},t):null}var Yx=()=>x.useContext(XP),MG=x.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:s,minWidth:l=0,minHeight:c,maxHeight:d,children:f,debounce:m=0,id:g,className:v,onResize:y,style:S={}}=e,k=x.useRef(null),_=x.useRef();_.current=y,x.useImperativeHandle(t,()=>k.current);var[j,N]=x.useState({containerWidth:n.width,containerHeight:n.height}),E=x.useCallback((M,$)=>{N(L=>{var R=Math.round(M),q=Math.round($);return L.containerWidth===R&&L.containerHeight===q?L:{containerWidth:R,containerHeight:q}})},[]);x.useEffect(()=>{if(k.current==null||typeof ResizeObserver>"u")return Oc;var M=q=>{var V,{width:oe,height:de}=q[0].contentRect;E(oe,de),(V=_.current)===null||V===void 0||V.call(_,oe,de)};m>0&&(M=SG(M,m,{trailing:!0,leading:!1}));var $=new ResizeObserver(M),{width:L,height:R}=k.current.getBoundingClientRect();return E(L,R),$.observe(k.current),()=>{$.disconnect()}},[E,m]);var{containerWidth:C,containerHeight:A}=j;Mh(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:T,calculatedHeight:P}=WP(C,A,{width:a,height:s,aspect:r,maxHeight:d});return Mh(T!=null&&T>0||P!=null&&P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,T,P,a,s,l,c,r),x.createElement("div",{id:g?"".concat(g):void 0,className:ot("recharts-responsive-container",v),style:tO(tO({},S),{},{width:a,height:s,minWidth:l,minHeight:c,maxHeight:d}),ref:k},x.createElement("div",{style:NG({width:a,height:s})},x.createElement(JP,{width:T,height:P},f)))}),RG=x.forwardRef((e,t)=>{var r=Yx();if(da(r.width)&&da(r.height))return e.children;var{width:n,height:a}=AG({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:l}=WP(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return Oe(s)&&Oe(l)?x.createElement(JP,{width:s,height:l},e.children):x.createElement(MG,bb({},e,{width:n,height:a,ref:t}))});function QP(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Pc=()=>{var e,t=Pr(),r=Ee(gG),n=Ee(G0),a=(e=Ee(Z0))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},$G={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},eD=()=>{var e;return(e=Ee(hr))!==null&&e!==void 0?e:$G},tD=()=>Ee(oi),rD=()=>Ee(li),lt=e=>e.layout.layoutType,Dc=()=>Ee(lt),LG=()=>{var e=Dc();if(e==="horizontal"||e==="vertical")return e},IG=()=>{var e=Dc();return e!==void 0},Y0=e=>{var t=Bt(),r=Pr(),{width:n,height:a}=e,s=Yx(),l=n,c=a;return s&&(l=s.width>0?s.width:n,c=s.height>0?s.height:a),x.useEffect(()=>{!r&&da(l)&&da(c)&&t(BZ({width:l,height:c}))},[t,r,l,c]),null},nD=Symbol.for("immer-nothing"),rO=Symbol.for("immer-draftable"),mn=Symbol.for("immer-state");function Vn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var cc=Object.getPrototypeOf;function pl(e){return!!e&&!!e[mn]}function Hs(e){return e?aD(e)||Array.isArray(e)||!!e[rO]||!!e.constructor?.[rO]||Mc(e)||X0(e):!1}var zG=Object.prototype.constructor.toString(),nO=new WeakMap;function aD(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=nO.get(r);return n===void 0&&(n=Function.toString.call(r),nO.set(r,n)),n===zG}function Rh(e,t,r=!0){W0(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function W0(e){const t=e[mn];return t?t.type_:Array.isArray(e)?1:Mc(e)?2:X0(e)?3:0}function xb(e,t){return W0(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function iD(e,t,r){const n=W0(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function UG(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Mc(e){return e instanceof Map}function X0(e){return e instanceof Set}function js(e){return e.copy_||e.base_}function wb(e,t){if(Mc(e))return new Map(e);if(X0(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=aD(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[mn];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const l=a[s],c=n[l];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(n[l]={configurable:!0,writable:!0,enumerable:c.enumerable,value:e[l]})}return Object.create(cc(e),n)}else{const n=cc(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function Wx(e,t=!1){return J0(e)||pl(e)||!Hs(e)||(W0(e)>1&&Object.defineProperties(e,{set:Lf,add:Lf,clear:Lf,delete:Lf}),Object.freeze(e),t&&Object.values(e).forEach(r=>Wx(r,!0))),e}function BG(){Vn(2)}var Lf={value:BG};function J0(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var qG={};function Fs(e){const t=qG[e];return t||Vn(0,e),t}var dc;function sD(){return dc}function HG(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function aO(e,t){t&&(Fs("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function _b(e){Sb(e),e.drafts_.forEach(FG),e.drafts_=null}function Sb(e){e===dc&&(dc=e.parent_)}function iO(e){return dc=HG(dc,e)}function FG(e){const t=e[mn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function sO(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[mn].modified_&&(_b(t),Vn(4)),Hs(e)&&(e=$h(t,e),t.parent_||Lh(t,e)),t.patches_&&Fs("Patches").generateReplacementPatches_(r[mn].base_,e,t.patches_,t.inversePatches_)):e=$h(t,r,[]),_b(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==nD?e:void 0}function $h(e,t,r){if(J0(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[mn];if(!a)return Rh(t,(s,l)=>oO(e,a,t,s,l,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return Lh(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let l=s,c=!1;a.type_===3&&(l=new Set(s),s.clear(),c=!0),Rh(l,(d,f)=>oO(e,a,s,d,f,r,c),n),Lh(e,s,!1),r&&e.patches_&&Fs("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function oO(e,t,r,n,a,s,l){if(a==null||typeof a!="object"&&!l)return;const c=J0(a);if(!(c&&!l)){if(pl(a)){const d=s&&t&&t.type_!==3&&!xb(t.assigned_,n)?s.concat(n):void 0,f=$h(e,a,d);if(iD(r,n,f),pl(f))e.canAutoFreeze_=!1;else return}else l&&r.add(a);if(Hs(a)&&!c){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&c)return;$h(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Mc(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Lh(e,a)}}}function Lh(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Wx(t,r)}function VG(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:sD(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=Xx;r&&(a=[n],s=fc);const{revoke:l,proxy:c}=Proxy.revocable(a,s);return n.draft_=c,n.revoke_=l,c}var Xx={get(e,t){if(t===mn)return e;const r=js(e);if(!xb(r,t))return KG(e,r,t);const n=r[t];return e.finalized_||!Hs(n)?n:n===Jv(e.base_,t)?(Qv(e),e.copy_[t]=jb(n,e)):n},has(e,t){return t in js(e)},ownKeys(e){return Reflect.ownKeys(js(e))},set(e,t,r){const n=oD(js(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Jv(js(e),t),s=a?.[mn];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(UG(r,a)&&(r!==void 0||xb(e.base_,t)))return!0;Qv(e),kb(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Jv(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Qv(e),kb(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=js(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Vn(11)},getPrototypeOf(e){return cc(e.base_)},setPrototypeOf(){Vn(12)}},fc={};Rh(Xx,(e,t)=>{fc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});fc.deleteProperty=function(e,t){return fc.set.call(this,e,t,void 0)};fc.set=function(e,t,r){return Xx.set.call(this,e[0],t,r,e[0])};function Jv(e,t){const r=e[mn];return(r?js(r):e)[t]}function KG(e,t,r){const n=oD(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function oD(e,t){if(!(t in e))return;let r=cc(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=cc(r)}}function kb(e){e.modified_||(e.modified_=!0,e.parent_&&kb(e.parent_))}function Qv(e){e.copy_||(e.copy_=wb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var ZG=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const l=this;return function(d=s,...f){return l.produce(d,m=>r.call(this,m,...f))}}typeof r!="function"&&Vn(6),n!==void 0&&typeof n!="function"&&Vn(7);let a;if(Hs(t)){const s=iO(this),l=jb(t,void 0);let c=!0;try{a=r(l),c=!1}finally{c?_b(s):Sb(s)}return aO(s,n),sO(a,s)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===nD&&(a=void 0),this.autoFreeze_&&Wx(a,!0),n){const s=[],l=[];Fs("Patches").generateReplacementPatches_(t,a,s,l),n(s,l)}return a}else Vn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(l,...c)=>this.produceWithPatches(l,d=>t(d,...c));let n,a;return[this.produce(t,r,(l,c)=>{n=l,a=c}),n,a]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Hs(e)||Vn(8),pl(e)&&(e=GG(e));const t=iO(this),r=jb(e,void 0);return r[mn].isManual_=!0,Sb(t),r}finishDraft(e,t){const r=e&&e[mn];(!r||!r.isManual_)&&Vn(9);const{scope_:n}=r;return aO(n,t),sO(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=Fs("Patches").applyPatches_;return pl(e)?n(e,t):this.produce(e,a=>n(a,t))}};function jb(e,t){const r=Mc(e)?Fs("MapSet").proxyMap_(e,t):X0(e)?Fs("MapSet").proxySet_(e,t):VG(e,t);return(t?t.scope_:sD()).drafts_.push(r),r}function GG(e){return pl(e)||Vn(10,e),lD(e)}function lD(e){if(!Hs(e)||J0(e))return e;const t=e[mn];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=wb(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=wb(e,!0);return Rh(r,(a,s)=>{iD(r,a,lD(s))},n),t&&(t.finalized_=!1),r}var YG=new ZG;YG.produce;var WG={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},uD=Zr({name:"legend",initialState:WG,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:mt()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Gn(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:mt()},removeLegendPayload:{reducer(e,t){var r=Gn(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:mt()}}}),{setLegendSize:pue,setLegendSettings:gue,addLegendPayload:XG,replaceLegendPayload:JG,removeLegendPayload:QG}=uD.actions,eY=uD.reducer;function Eb(){return Eb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Eb.apply(null,arguments)}function lO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ey(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lO(Object(r),!0).forEach(function(n){tY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tY(e,t,r){return(t=rY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rY(e){var t=nY(e,"string");return typeof t=="symbol"?t:t+""}function nY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aY(e){return Array.isArray(e)&&Pn(e[0])&&Pn(e[1])?e.join(" ~ "):e}var iY=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:s,formatter:l,itemSorter:c,wrapperClassName:d,labelClassName:f,label:m,labelFormatter:g,accessibilityLayer:v=!1}=e,y=()=>{if(s&&s.length){var A={padding:0,margin:0},T=(c?$0(s,c):s).map((P,M)=>{if(P.type==="none")return null;var $=P.formatter||l||aY,{value:L,name:R}=P,q=L,V=R;if($){var oe=$(L,R,P,M,s);if(Array.isArray(oe))[q,V]=oe;else if(oe!=null)q=oe;else return null}var de=ey({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},n);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:de},Pn(V)?x.createElement("span",{className:"recharts-tooltip-item-name"},V):null,Pn(V)?x.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,x.createElement("span",{className:"recharts-tooltip-item-value"},q),x.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:A},T)}return null},S=ey({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),k=ey({margin:0},a),_=!cr(m),j=_?m:"",N=ot("recharts-default-tooltip",d),E=ot("recharts-tooltip-label",f);_&&g&&s!==void 0&&s!==null&&(j=g(m,s));var C=v?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",Eb({className:N,style:S},C),x.createElement("p",{className:E,style:k},x.isValidElement(j)?j:"".concat(j)),y())},Cu="recharts-tooltip-wrapper",sY={visibility:"hidden"};function oY(e){var{coordinate:t,translateX:r,translateY:n}=e;return ot(Cu,{["".concat(Cu,"-right")]:Oe(r)&&t&&Oe(t.x)&&r>=t.x,["".concat(Cu,"-left")]:Oe(r)&&t&&Oe(t.x)&&r<t.x,["".concat(Cu,"-bottom")]:Oe(n)&&t&&Oe(t.y)&&n>=t.y,["".concat(Cu,"-top")]:Oe(n)&&t&&Oe(t.y)&&n<t.y})}function uO(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:s,reverseDirection:l,tooltipDimension:c,viewBox:d,viewBoxDimension:f}=e;if(s&&Oe(s[n]))return s[n];var m=r[n]-c-(a>0?a:0),g=r[n]+a;if(t[n])return l[n]?m:g;var v=d[n];if(v==null)return 0;if(l[n]){var y=m,S=v;return y<S?Math.max(g,v):Math.max(m,v)}if(f==null)return 0;var k=g+c,_=v+f;return k>_?Math.max(m,v):Math.max(g,v)}function lY(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function uY(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:s,tooltipBox:l,useTranslate3d:c,viewBox:d}=e,f,m,g;return l.height>0&&l.width>0&&r?(m=uO({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),g=uO({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),f=lY({translateX:m,translateY:g,useTranslate3d:c})):f=sY,{cssProperties:f,cssClasses:oY({translateX:m,translateY:g,coordinate:r})}}function cO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function If(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cO(Object(r),!0).forEach(function(n){Ob(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ob(e,t,r){return(t=cY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cY(e){var t=dY(e,"string");return typeof t=="symbol"?t:t+""}function dY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class fY extends x.PureComponent{constructor(){super(...arguments),Ob(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Ob(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:s,coordinate:l,hasPayload:c,isAnimationActive:d,offset:f,position:m,reverseDirection:g,useTranslate3d:v,viewBox:y,wrapperStyle:S,lastBoundingBox:k,innerRef:_,hasPortalFromProps:j}=this.props,{cssClasses:N,cssProperties:E}=uY({allowEscapeViewBox:r,coordinate:l,offsetTopLeft:f,position:m,reverseDirection:g,tooltipBox:{height:k.height,width:k.width},useTranslate3d:v,viewBox:y}),C=j?{}:If(If({transition:d&&t?"transform ".concat(n,"ms ").concat(a):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&c?"visible":"hidden",position:"absolute",top:0,left:0}),A=If(If({},C),{},{visibility:!this.state.dismissed&&t&&c?"visible":"hidden"},S);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:N,style:A,ref:_},s)}}var cD=()=>{var e;return(e=Ee(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Nb(){return Nb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nb.apply(null,arguments)}function dO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dO(Object(r),!0).forEach(function(n){hY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hY(e,t,r){return(t=mY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mY(e){var t=pY(e,"string");return typeof t=="symbol"?t:t+""}function pY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hO={curveBasisClosed:SV,curveBasisOpen:kV,curveBasis:_V,curveBumpX:xV,curveBumpY:wV,curveLinearClosed:jV,curveLinear:D0,curveMonotoneX:EV,curveMonotoneY:OV,curveNatural:NV,curveStep:AV,curveStepAfter:CV,curveStepBefore:TV},Ih=e=>st(e.x)&&st(e.y),mO=e=>e.base!=null&&Ih(e.base)&&Ih(e),Pu=e=>e.x,Du=e=>e.y,gY=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Lx(e));return(r==="curveMonotone"||r==="curveBump")&&t?hO["".concat(r).concat(t==="vertical"?"Y":"X")]:hO[r]||D0},vY=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:s=!1}=e,l=gY(t,a),c=s?r.filter(Ih):r,d;if(Array.isArray(n)){var f=r.map((y,S)=>fO(fO({},y),{},{base:n[S]}));a==="vertical"?d=Tf().y(Du).x1(Pu).x0(y=>y.base.x):d=Tf().x(Pu).y1(Du).y0(y=>y.base.y);var m=d.defined(mO).curve(l),g=s?f.filter(mO):f;return m(g)}a==="vertical"&&Oe(n)?d=Tf().y(Du).x1(Pu).x0(n):Oe(n)?d=Tf().x(Pu).y1(Du).y0(n):d=HC().x(Pu).y(Du);var v=d.defined(Ih).curve(l);return v(c)},th=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var s=r&&r.length?vY(e):n;return x.createElement("path",Nb({},Yn(e),Ix(e),{className:ot("recharts-curve",t),d:s===null?void 0:s,ref:a}))},yY=["x","y","top","left","width","height","className"];function Ab(){return Ab=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ab.apply(null,arguments)}function pO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pO(Object(r),!0).forEach(function(n){xY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xY(e,t,r){return(t=wY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wY(e){var t=_Y(e,"string");return typeof t=="symbol"?t:t+""}function _Y(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SY(e,t){if(e==null)return{};var r,n,a=kY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function kY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var jY=(e,t,r,n,a,s)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),EY=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:s=0,height:l=0,className:c}=e,d=SY(e,yY),f=bY({x:t,y:r,top:n,left:a,width:s,height:l},d);return!Oe(t)||!Oe(r)||!Oe(s)||!Oe(l)||!Oe(n)||!Oe(a)?null:x.createElement("path",Ab({},fn(f),{className:ot("recharts-cross",c),d:jY(t,r,s,l,n,a)}))};function OY(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function gO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gO(Object(r),!0).forEach(function(n){NY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NY(e,t,r){return(t=AY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AY(e){var t=TY(e,"string");return typeof t=="symbol"?t:t+""}function TY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CY=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),PY=(e,t,r)=>e.map(n=>"".concat(CY(n)," ").concat(t,"ms ").concat(r)).join(","),DY=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),hc=(e,t)=>Object.keys(t).reduce((r,n)=>vO(vO({},r),{},{[n]:e(n,t[n])}),{});function yO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ut(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yO(Object(r),!0).forEach(function(n){MY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MY(e,t,r){return(t=RY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RY(e){var t=$Y(e,"string");return typeof t=="symbol"?t:t+""}function $Y(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zh=(e,t,r)=>e+(t-e)*r,Tb=e=>{var{from:t,to:r}=e;return t!==r},dD=(e,t,r)=>{var n=hc((a,s)=>{if(Tb(s)){var[l,c]=e(s.from,s.to,s.velocity);return Ut(Ut({},s),{},{from:l,velocity:c})}return s},t);return r<1?hc((a,s)=>Tb(s)?Ut(Ut({},s),{},{velocity:zh(s.velocity,n[a].velocity,r),from:zh(s.from,n[a].from,r)}):s,t):dD(e,n,r-1)};function LY(e,t,r,n,a,s){var l,c=n.reduce((v,y)=>Ut(Ut({},v),{},{[y]:{from:e[y],velocity:0,to:t[y]}}),{}),d=()=>hc((v,y)=>y.from,c),f=()=>!Object.values(c).filter(Tb).length,m=null,g=v=>{l||(l=v);var y=v-l,S=y/r.dt;c=dD(r,c,S),a(Ut(Ut(Ut({},e),t),d())),l=v,f()||(m=s.setTimeout(g))};return()=>(m=s.setTimeout(g),()=>{var v;(v=m)===null||v===void 0||v()})}function IY(e,t,r,n,a,s,l){var c=null,d=a.reduce((g,v)=>Ut(Ut({},g),{},{[v]:[e[v],t[v]]}),{}),f,m=g=>{f||(f=g);var v=(g-f)/n,y=hc((k,_)=>zh(..._,r(v)),d);if(s(Ut(Ut(Ut({},e),t),y)),v<1)c=l.setTimeout(m);else{var S=hc((k,_)=>zh(..._,r(1)),d);s(Ut(Ut(Ut({},e),t),S))}};return()=>(c=l.setTimeout(m),()=>{var g;(g=c)===null||g===void 0||g()})}const zY=(e,t,r,n,a,s)=>{var l=DY(e,t);return r==null?()=>(a(Ut(Ut({},e),t)),()=>{}):r.isStepper===!0?LY(e,t,r,l,a,s):IY(e,t,r,n,l,a,s)};var Uh=1e-4,fD=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],hD=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),bO=(e,t)=>r=>{var n=fD(e,t);return hD(n,r)},UY=(e,t)=>r=>{var n=fD(e,t),a=[...n.map((s,l)=>s*l).slice(1),0];return hD(a,r)},BY=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a,s=r[0].split("(");if(s[0]==="cubic-bezier"&&((a=s[1])===null||a===void 0?void 0:a.split(")")[0].split(",").length)===4){var l=s[1].split(")")[0].split(",").map(c=>parseFloat(c));return[l[0],l[1],l[2],l[3]]}}}return r.length===4?r:[0,0,1,1]},qY=(e,t,r,n)=>{var a=bO(e,r),s=bO(t,n),l=UY(e,r),c=f=>f>1?1:f<0?0:f,d=f=>{for(var m=f>1?1:f,g=m,v=0;v<8;++v){var y=a(g)-m,S=l(g);if(Math.abs(y-m)<Uh||S<Uh)return s(g);g=c(g-y/S)}return s(g)};return d.isStepper=!1,d},xO=function(){return qY(...BY(...arguments))},HY=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,s=(l,c,d)=>{var f=-(l-c)*r,m=d*n,g=d+(f-m)*a/1e3,v=d*a/1e3+l;return Math.abs(v-c)<Uh&&Math.abs(g)<Uh?[c,0]:[v,g]};return s.isStepper=!0,s.dt=a,s},FY=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return xO(e);case"spring":return HY();default:if(e.split("(")[0]==="cubic-bezier")return xO(e)}return typeof e=="function"?e:null};function VY(e){var t,r=()=>null,n=!1,a=null,s=l=>{if(!n){if(Array.isArray(l)){if(!l.length)return;var c=l,[d,...f]=c;if(typeof d=="number"){a=e.setTimeout(s.bind(null,f),d);return}s(d),a=e.setTimeout(s.bind(null,f));return}typeof l=="string"&&(t=l,r(t)),typeof l=="object"&&(t=l,r(t)),typeof l=="function"&&l()}};return{stop:()=>{n=!0},start:l=>{n=!1,a&&(a(),a=null),s(l)},subscribe:l=>(r=l,()=>{r=()=>null}),getTimeoutController:()=>e}}class KY{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,s=l=>{l-n>=r?t(l):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{a!=null&&cancelAnimationFrame(a)}}}function ZY(){return VY(new KY)}var GY=x.createContext(ZY);function YY(e,t){var r=x.useContext(GY);return x.useMemo(()=>t??r(e),[e,t,r])}var WY=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),jl={devToolsEnabled:!1,isSsr:WY()},XY={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},wO={t:0},ty={t:1};function mD(e){var t=Kr(e,XY),{isActive:r,canBegin:n,duration:a,easing:s,begin:l,onAnimationEnd:c,onAnimationStart:d,children:f}=t,m=r==="auto"?!jl.isSsr:r,g=YY(t.animationId,t.animationManager),[v,y]=x.useState(m?wO:ty),S=x.useRef(null);return x.useEffect(()=>{m||y(ty)},[m]),x.useEffect(()=>{if(!m||!n)return Oc;var k=zY(wO,ty,FY(s),a,y,g.getTimeoutController()),_=()=>{S.current=k()};return g.start([d,l,_,a,c]),()=>{g.stop(),S.current&&S.current(),c()}},[m,n,a,s,l,d,c,g]),f(v.t)}function pD(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=x.useRef(sc(t)),n=x.useRef(e);return n.current!==e&&(r.current=sc(t),n.current=e),r.current}var JY=["radius"],QY=["radius"];function _O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function SO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_O(Object(r),!0).forEach(function(n){eW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_O(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eW(e,t,r){return(t=tW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tW(e){var t=rW(e,"string");return typeof t=="symbol"?t:t+""}function rW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bh(){return Bh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bh.apply(null,arguments)}function kO(e,t){if(e==null)return{};var r,n,a=nW(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function nW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var jO=(e,t,r,n,a)=>{var s=Math.min(Math.abs(r)/2,Math.abs(n)/2),l=n>=0?1:-1,c=r>=0?1:-1,d=n>=0&&r>=0||n<0&&r<0?1:0,f;if(s>0&&a instanceof Array){for(var m=[0,0,0,0],g=0,v=4;g<v;g++)m[g]=a[g]>s?s:a[g];f="M".concat(e,",").concat(t+l*m[0]),m[0]>0&&(f+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(d,",").concat(e+c*m[0],",").concat(t)),f+="L ".concat(e+r-c*m[1],",").concat(t),m[1]>0&&(f+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(d,`,
        `).concat(e+r,",").concat(t+l*m[1])),f+="L ".concat(e+r,",").concat(t+n-l*m[2]),m[2]>0&&(f+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(d,`,
        `).concat(e+r-c*m[2],",").concat(t+n)),f+="L ".concat(e+c*m[3],",").concat(t+n),m[3]>0&&(f+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(t+n-l*m[3])),f+="Z"}else if(s>0&&a===+a&&a>0){var y=Math.min(s,a);f="M ".concat(e,",").concat(t+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e+c*y,",").concat(t,`
            L `).concat(e+r-c*y,",").concat(t,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e+r,",").concat(t+l*y,`
            L `).concat(e+r,",").concat(t+n-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e+r-c*y,",").concat(t+n,`
            L `).concat(e+c*y,",").concat(t+n,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e,",").concat(t+n-l*y," Z")}else f="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return f},EO={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},aW=e=>{var t=Kr(e,EO),r=x.useRef(null),[n,a]=x.useState(-1);x.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var K=r.current.getTotalLength();K&&a(K)}catch{}},[]);var{x:s,y:l,width:c,height:d,radius:f,className:m}=t,{animationEasing:g,animationDuration:v,animationBegin:y,isAnimationActive:S,isUpdateAnimationActive:k}=t,_=x.useRef(c),j=x.useRef(d),N=x.useRef(s),E=x.useRef(l),C=x.useMemo(()=>({x:s,y:l,width:c,height:d,radius:f}),[s,l,c,d,f]),A=pD(C,"rectangle-");if(s!==+s||l!==+l||c!==+c||d!==+d||c===0||d===0)return null;var T=ot("recharts-rectangle",m);if(!k){var P=fn(t),{radius:M}=P,$=kO(P,JY);return x.createElement("path",Bh({},$,{radius:typeof f=="number"?f:void 0,className:T,d:jO(s,l,c,d,f)}))}var L=_.current,R=j.current,q=N.current,V=E.current,oe="0px ".concat(n===-1?1:n,"px"),de="".concat(n,"px 0px"),U=PY(["strokeDasharray"],v,typeof g=="string"?g:EO.animationEasing);return x.createElement(mD,{animationId:A,key:A,canBegin:n>0,duration:v,easing:g,isActive:k,begin:y},K=>{var W=sa(L,c,K),fe=sa(R,d,K),pe=sa(q,s,K),I=sa(V,l,K);r.current&&(_.current=W,j.current=fe,N.current=pe,E.current=I);var Y;S?K>0?Y={transition:U,strokeDasharray:de}:Y={strokeDasharray:oe}:Y={strokeDasharray:de};var Q=fn(t),{radius:F}=Q,ae=kO(Q,QY);return x.createElement("path",Bh({},ae,{radius:typeof f=="number"?f:void 0,className:T,d:jO(pe,I,W,fe,f),ref:r,style:SO(SO({},Y),t.style)}))})};function OO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function NO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OO(Object(r),!0).forEach(function(n){iW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iW(e,t,r){return(t=sW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sW(e){var t=oW(e,"string");return typeof t=="symbol"?t:t+""}function oW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qh=Math.PI/180,lW=e=>e*180/Math.PI,ur=(e,t,r,n)=>({x:e+Math.cos(-qh*n)*r,y:t+Math.sin(-qh*n)*r}),uW=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},cW=(e,t)=>{var{x:r,y:n}=e,{x:a,y:s}=t;return Math.sqrt((r-a)**2+(n-s)**2)},dW=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:s}=t,l=cW({x:r,y:n},{x:a,y:s});if(l<=0)return{radius:l,angle:0};var c=(r-a)/l,d=Math.acos(c);return n>s&&(d=2*Math.PI-d),{radius:l,angle:lW(d),angleInRadian:d}},fW=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),s=Math.min(n,a);return{startAngle:t-s*360,endAngle:r-s*360}},hW=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),s=Math.floor(n/360),l=Math.min(a,s);return e+l*360},mW=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:s}=dW({x:r,y:n},t),{innerRadius:l,outerRadius:c}=t;if(a<l||a>c||a===0)return null;var{startAngle:d,endAngle:f}=fW(t),m=s,g;if(d<=f){for(;m>f;)m-=360;for(;m<d;)m+=360;g=m>=d&&m<=f}else{for(;m>d;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=d}return g?NO(NO({},t),{},{radius:a,angle:hW(m,t)}):null};function gD(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:s}=e,l=ur(t,r,n,a),c=ur(t,r,n,s);return{points:[l,c],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function Cb(){return Cb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cb.apply(null,arguments)}var pW=(e,t)=>{var r=Tn(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},zf=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:s,isExternal:l,cornerRadius:c,cornerIsExternal:d}=e,f=c*(l?1:-1)+n,m=Math.asin(c/f)/qh,g=d?a:a+s*m,v=ur(t,r,f,g),y=ur(t,r,n,g),S=d?a-s*m:a,k=ur(t,r,f*Math.cos(m*qh),S);return{center:v,circleTangency:y,lineTangency:k,theta:m}},vD=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:s,endAngle:l}=e,c=pW(s,l),d=s+c,f=ur(t,r,a,s),m=ur(t,r,a,d),g="M ".concat(f.x,",").concat(f.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>d),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(n>0){var v=ur(t,r,n,s),y=ur(t,r,n,d);g+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=d),`,
            `).concat(v.x,",").concat(v.y," Z")}else g+="L ".concat(t,",").concat(r," Z");return g},gW=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f}=e,m=Tn(f-d),{circleTangency:g,lineTangency:v,theta:y}=zf({cx:t,cy:r,radius:a,angle:d,sign:m,cornerRadius:s,cornerIsExternal:c}),{circleTangency:S,lineTangency:k,theta:_}=zf({cx:t,cy:r,radius:a,angle:f,sign:-m,cornerRadius:s,cornerIsExternal:c}),j=c?Math.abs(d-f):Math.abs(d-f)-y-_;if(j<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):vD({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:d,endAngle:f});var N="M ".concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(j>180),",").concat(+(m<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(k.x,",").concat(k.y,`
  `);if(n>0){var{circleTangency:E,lineTangency:C,theta:A}=zf({cx:t,cy:r,radius:n,angle:d,sign:m,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),{circleTangency:T,lineTangency:P,theta:M}=zf({cx:t,cy:r,radius:n,angle:f,sign:-m,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),$=c?Math.abs(d-f):Math.abs(d-f)-A-M;if($<0&&s===0)return"".concat(N,"L").concat(t,",").concat(r,"Z");N+="L".concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(n,",").concat(n,",0,").concat(+($>180),",").concat(+(m>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(C.x,",").concat(C.y,"Z")}else N+="L".concat(t,",").concat(r,"Z");return N},vW={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},yW=e=>{var t=Kr(e,vW),{cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:m,className:g}=t;if(s<a||f===m)return null;var v=ot("recharts-sector",g),y=s-a,S=Zi(l,y,0,!0),k;return S>0&&Math.abs(f-m)<360?k=gW({cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:Math.min(S,y/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:m}):k=vD({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:f,endAngle:m}),x.createElement("path",Cb({},fn(t),{className:v,d:k}))};function bW(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(tP(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:s,outerRadius:l,angle:c}=t,d=ur(n,a,s,c),f=ur(n,a,l,c);return[{x:d.x,y:d.y},{x:f.x,y:f.y}]}return gD(t)}}var ry={},ny={},ay={},AO;function xW(){return AO||(AO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fP();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(ay)),ay}var TO;function wW(){return TO||(TO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xW();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(ny)),ny}var CO;function _W(){return CO||(CO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hP(),r=wW();function n(a,s,l){l&&typeof l!="number"&&t.isIterateeCall(a,s,l)&&(s=l=void 0),a=r.toFinite(a),s===void 0?(s=a,a=0):s=r.toFinite(s),l=l===void 0?a<s?1:-1:r.toFinite(l);const c=Math.max(Math.ceil((s-a)/(l||1)),0),d=new Array(c);for(let f=0;f<c;f++)d[f]=a,a+=l;return d}e.range=n})(ry)),ry}var iy,PO;function SW(){return PO||(PO=1,iy=_W().range),iy}var kW=SW();const yD=ni(kW);function Ki(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function jW(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Jx(e){let t,r,n;e.length!==2?(t=Ki,r=(c,d)=>Ki(e(c),d),n=(c,d)=>e(c)-d):(t=e===Ki||e===jW?e:EW,r=e,n=e);function a(c,d,f=0,m=c.length){if(f<m){if(t(d,d)!==0)return m;do{const g=f+m>>>1;r(c[g],d)<0?f=g+1:m=g}while(f<m)}return f}function s(c,d,f=0,m=c.length){if(f<m){if(t(d,d)!==0)return m;do{const g=f+m>>>1;r(c[g],d)<=0?f=g+1:m=g}while(f<m)}return f}function l(c,d,f=0,m=c.length){const g=a(c,d,f,m-1);return g>f&&n(c[g-1],d)>-n(c[g],d)?g-1:g}return{left:a,center:l,right:s}}function EW(){return 0}function bD(e){return e===null?NaN:+e}function*OW(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const NW=Jx(Ki),Rc=NW.right;Jx(bD).center;class DO extends Map{constructor(t,r=CW){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(MO(this,t))}has(t){return super.has(MO(this,t))}set(t,r){return super.set(AW(this,t),r)}delete(t){return super.delete(TW(this,t))}}function MO({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function AW({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function TW({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function CW(e){return e!==null&&typeof e=="object"?e.valueOf():e}function PW(e=Ki){if(e===Ki)return xD;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function xD(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const DW=Math.sqrt(50),MW=Math.sqrt(10),RW=Math.sqrt(2);function Hh(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),l=s>=DW?10:s>=MW?5:s>=RW?2:1;let c,d,f;return a<0?(f=Math.pow(10,-a)/l,c=Math.round(e*f),d=Math.round(t*f),c/f<e&&++c,d/f>t&&--d,f=-f):(f=Math.pow(10,a)*l,c=Math.round(e/f),d=Math.round(t/f),c*f<e&&++c,d*f>t&&--d),d<c&&.5<=r&&r<2?Hh(e,t,r*2):[c,d,f]}function Pb(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,l]=n?Hh(t,e,r):Hh(e,t,r);if(!(s>=a))return[];const c=s-a+1,d=new Array(c);if(n)if(l<0)for(let f=0;f<c;++f)d[f]=(s-f)/-l;else for(let f=0;f<c;++f)d[f]=(s-f)*l;else if(l<0)for(let f=0;f<c;++f)d[f]=(a+f)/-l;else for(let f=0;f<c;++f)d[f]=(a+f)*l;return d}function Db(e,t,r){return t=+t,e=+e,r=+r,Hh(e,t,r)[2]}function Mb(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Db(t,e,r):Db(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function RO(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function $O(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function wD(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?xD:PW(a);n>r;){if(n-r>600){const d=n-r+1,f=t-r+1,m=Math.log(d),g=.5*Math.exp(2*m/3),v=.5*Math.sqrt(m*g*(d-g)/d)*(f-d/2<0?-1:1),y=Math.max(r,Math.floor(t-f*g/d+v)),S=Math.min(n,Math.floor(t+(d-f)*g/d+v));wD(e,t,y,S,a)}const s=e[t];let l=r,c=n;for(Mu(e,r,t),a(e[n],s)>0&&Mu(e,r,n);l<c;){for(Mu(e,l,c),++l,--c;a(e[l],s)<0;)++l;for(;a(e[c],s)>0;)--c}a(e[r],s)===0?Mu(e,r,c):(++c,Mu(e,c,n)),c<=t&&(r=c+1),t<=c&&(n=c-1)}return e}function Mu(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function $W(e,t,r){if(e=Float64Array.from(OW(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return $O(e);if(t>=1)return RO(e);var n,a=(n-1)*t,s=Math.floor(a),l=RO(wD(e,s).subarray(0,s+1)),c=$O(e.subarray(s+1));return l+(c-l)*(a-s)}}function LW(e,t,r=bD){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),l=+r(e[s],s,e),c=+r(e[s+1],s+1,e);return l+(c-l)*(a-s)}}function IW(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function Ln(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ui(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Rb=Symbol("implicit");function Qx(){var e=new DO,t=[],r=[],n=Rb;function a(s){let l=e.get(s);if(l===void 0){if(n!==Rb)return n;e.set(s,l=t.push(s)-1)}return r[l%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new DO;for(const l of s)e.has(l)||e.set(l,t.push(l)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return Qx(t,r).unknown(n)},Ln.apply(a,arguments),a}function ew(){var e=Qx().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,l,c=!1,d=0,f=0,m=.5;delete e.unknown;function g(){var v=t().length,y=a<n,S=y?a:n,k=y?n:a;s=(k-S)/Math.max(1,v-d+f*2),c&&(s=Math.floor(s)),S+=(k-S-s*(v-d))*m,l=s*(1-d),c&&(S=Math.round(S),l=Math.round(l));var _=IW(v).map(function(j){return S+s*j});return r(y?_.reverse():_)}return e.domain=function(v){return arguments.length?(t(v),g()):t()},e.range=function(v){return arguments.length?([n,a]=v,n=+n,a=+a,g()):[n,a]},e.rangeRound=function(v){return[n,a]=v,n=+n,a=+a,c=!0,g()},e.bandwidth=function(){return l},e.step=function(){return s},e.round=function(v){return arguments.length?(c=!!v,g()):c},e.padding=function(v){return arguments.length?(d=Math.min(1,f=+v),g()):d},e.paddingInner=function(v){return arguments.length?(d=Math.min(1,v),g()):d},e.paddingOuter=function(v){return arguments.length?(f=+v,g()):f},e.align=function(v){return arguments.length?(m=Math.max(0,Math.min(1,v)),g()):m},e.copy=function(){return ew(t(),[n,a]).round(c).paddingInner(d).paddingOuter(f).align(m)},Ln.apply(g(),arguments)}function _D(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return _D(t())},e}function zW(){return _D(ew.apply(null,arguments).paddingInner(1))}function tw(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function SD(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function $c(){}var mc=.7,Fh=1/mc,ll="\\s*([+-]?\\d+)\\s*",pc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ua="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",UW=/^#([0-9a-f]{3,8})$/,BW=new RegExp(`^rgb\\(${ll},${ll},${ll}\\)$`),qW=new RegExp(`^rgb\\(${ua},${ua},${ua}\\)$`),HW=new RegExp(`^rgba\\(${ll},${ll},${ll},${pc}\\)$`),FW=new RegExp(`^rgba\\(${ua},${ua},${ua},${pc}\\)$`),VW=new RegExp(`^hsl\\(${pc},${ua},${ua}\\)$`),KW=new RegExp(`^hsla\\(${pc},${ua},${ua},${pc}\\)$`),LO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};tw($c,gc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:IO,formatHex:IO,formatHex8:ZW,formatHsl:GW,formatRgb:zO,toString:zO});function IO(){return this.rgb().formatHex()}function ZW(){return this.rgb().formatHex8()}function GW(){return kD(this).formatHsl()}function zO(){return this.rgb().formatRgb()}function gc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=UW.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?UO(t):r===3?new Fr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Uf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Uf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=BW.exec(e))?new Fr(t[1],t[2],t[3],1):(t=qW.exec(e))?new Fr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=HW.exec(e))?Uf(t[1],t[2],t[3],t[4]):(t=FW.exec(e))?Uf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=VW.exec(e))?HO(t[1],t[2]/100,t[3]/100,1):(t=KW.exec(e))?HO(t[1],t[2]/100,t[3]/100,t[4]):LO.hasOwnProperty(e)?UO(LO[e]):e==="transparent"?new Fr(NaN,NaN,NaN,0):null}function UO(e){return new Fr(e>>16&255,e>>8&255,e&255,1)}function Uf(e,t,r,n){return n<=0&&(e=t=r=NaN),new Fr(e,t,r,n)}function YW(e){return e instanceof $c||(e=gc(e)),e?(e=e.rgb(),new Fr(e.r,e.g,e.b,e.opacity)):new Fr}function $b(e,t,r,n){return arguments.length===1?YW(e):new Fr(e,t,r,n??1)}function Fr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}tw(Fr,$b,SD($c,{brighter(e){return e=e==null?Fh:Math.pow(Fh,e),new Fr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?mc:Math.pow(mc,e),new Fr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Fr(Ls(this.r),Ls(this.g),Ls(this.b),Vh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:BO,formatHex:BO,formatHex8:WW,formatRgb:qO,toString:qO}));function BO(){return`#${Ds(this.r)}${Ds(this.g)}${Ds(this.b)}`}function WW(){return`#${Ds(this.r)}${Ds(this.g)}${Ds(this.b)}${Ds((isNaN(this.opacity)?1:this.opacity)*255)}`}function qO(){const e=Vh(this.opacity);return`${e===1?"rgb(":"rgba("}${Ls(this.r)}, ${Ls(this.g)}, ${Ls(this.b)}${e===1?")":`, ${e})`}`}function Vh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ls(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ds(e){return e=Ls(e),(e<16?"0":"")+e.toString(16)}function HO(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Kn(e,t,r,n)}function kD(e){if(e instanceof Kn)return new Kn(e.h,e.s,e.l,e.opacity);if(e instanceof $c||(e=gc(e)),!e)return new Kn;if(e instanceof Kn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),l=NaN,c=s-a,d=(s+a)/2;return c?(t===s?l=(r-n)/c+(r<n)*6:r===s?l=(n-t)/c+2:l=(t-r)/c+4,c/=d<.5?s+a:2-s-a,l*=60):c=d>0&&d<1?0:l,new Kn(l,c,d,e.opacity)}function XW(e,t,r,n){return arguments.length===1?kD(e):new Kn(e,t,r,n??1)}function Kn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}tw(Kn,XW,SD($c,{brighter(e){return e=e==null?Fh:Math.pow(Fh,e),new Kn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?mc:Math.pow(mc,e),new Kn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Fr(sy(e>=240?e-240:e+120,a,n),sy(e,a,n),sy(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Kn(FO(this.h),Bf(this.s),Bf(this.l),Vh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Vh(this.opacity);return`${e===1?"hsl(":"hsla("}${FO(this.h)}, ${Bf(this.s)*100}%, ${Bf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function FO(e){return e=(e||0)%360,e<0?e+360:e}function Bf(e){return Math.max(0,Math.min(1,e||0))}function sy(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const rw=e=>()=>e;function JW(e,t){return function(r){return e+r*t}}function QW(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function eX(e){return(e=+e)==1?jD:function(t,r){return r-t?QW(t,r,e):rw(isNaN(t)?r:t)}}function jD(e,t){var r=t-e;return r?JW(e,r):rw(isNaN(e)?t:e)}const VO=(function e(t){var r=eX(t);function n(a,s){var l=r((a=$b(a)).r,(s=$b(s)).r),c=r(a.g,s.g),d=r(a.b,s.b),f=jD(a.opacity,s.opacity);return function(m){return a.r=l(m),a.g=c(m),a.b=d(m),a.opacity=f(m),a+""}}return n.gamma=e,n})(1);function tX(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function rX(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function nX(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),l;for(l=0;l<n;++l)a[l]=El(e[l],t[l]);for(;l<r;++l)s[l]=t[l];return function(c){for(l=0;l<n;++l)s[l]=a[l](c);return s}}function aX(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Kh(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function iX(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=El(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var Lb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,oy=new RegExp(Lb.source,"g");function sX(e){return function(){return e}}function oX(e){return function(t){return e(t)+""}}function lX(e,t){var r=Lb.lastIndex=oy.lastIndex=0,n,a,s,l=-1,c=[],d=[];for(e=e+"",t=t+"";(n=Lb.exec(e))&&(a=oy.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),c[l]?c[l]+=s:c[++l]=s),(n=n[0])===(a=a[0])?c[l]?c[l]+=a:c[++l]=a:(c[++l]=null,d.push({i:l,x:Kh(n,a)})),r=oy.lastIndex;return r<t.length&&(s=t.slice(r),c[l]?c[l]+=s:c[++l]=s),c.length<2?d[0]?oX(d[0].x):sX(t):(t=d.length,function(f){for(var m=0,g;m<t;++m)c[(g=d[m]).i]=g.x(f);return c.join("")})}function El(e,t){var r=typeof t,n;return t==null||r==="boolean"?rw(t):(r==="number"?Kh:r==="string"?(n=gc(t))?(t=n,VO):lX:t instanceof gc?VO:t instanceof Date?aX:rX(t)?tX:Array.isArray(t)?nX:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?iX:Kh)(e,t)}function nw(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function uX(e,t){t===void 0&&(t=e,e=El);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(l){var c=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return s[c](l-c)}}function cX(e){return function(){return e}}function Zh(e){return+e}var KO=[0,1];function Or(e){return e}function Ib(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:cX(isNaN(t)?NaN:.5)}function dX(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function fX(e,t,r){var n=e[0],a=e[1],s=t[0],l=t[1];return a<n?(n=Ib(a,n),s=r(l,s)):(n=Ib(n,a),s=r(s,l)),function(c){return s(n(c))}}function hX(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),l=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<n;)a[l]=Ib(e[l],e[l+1]),s[l]=r(t[l],t[l+1]);return function(c){var d=Rc(e,c,1,n)-1;return s[d](a[d](c))}}function Lc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Q0(){var e=KO,t=KO,r=El,n,a,s,l=Or,c,d,f;function m(){var v=Math.min(e.length,t.length);return l!==Or&&(l=dX(e[0],e[v-1])),c=v>2?hX:fX,d=f=null,g}function g(v){return v==null||isNaN(v=+v)?s:(d||(d=c(e.map(n),t,r)))(n(l(v)))}return g.invert=function(v){return l(a((f||(f=c(t,e.map(n),Kh)))(v)))},g.domain=function(v){return arguments.length?(e=Array.from(v,Zh),m()):e.slice()},g.range=function(v){return arguments.length?(t=Array.from(v),m()):t.slice()},g.rangeRound=function(v){return t=Array.from(v),r=nw,m()},g.clamp=function(v){return arguments.length?(l=v?!0:Or,m()):l!==Or},g.interpolate=function(v){return arguments.length?(r=v,m()):r},g.unknown=function(v){return arguments.length?(s=v,g):s},function(v,y){return n=v,a=y,m()}}function aw(){return Q0()(Or,Or)}function mX(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Gh(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function gl(e){return e=Gh(Math.abs(e)),e?e[1]:NaN}function pX(e,t){return function(r,n){for(var a=r.length,s=[],l=0,c=e[0],d=0;a>0&&c>0&&(d+c+1>n&&(c=Math.max(1,n-d)),s.push(r.substring(a-=c,a+c)),!((d+=c+1)>n));)c=e[l=(l+1)%e.length];return s.reverse().join(t)}}function gX(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var vX=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function vc(e){if(!(t=vX.exec(e)))throw new Error("invalid format: "+e);var t;return new iw({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}vc.prototype=iw.prototype;function iw(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}iw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function yX(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var ED;function bX(e,t){var r=Gh(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(ED=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=n.length;return s===l?n:s>l?n+new Array(s-l+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Gh(e,Math.max(0,t+s-1))[0]}function ZO(e,t){var r=Gh(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const GO={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:mX,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>ZO(e*100,t),r:ZO,s:bX,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function YO(e){return e}var WO=Array.prototype.map,XO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function xX(e){var t=e.grouping===void 0||e.thousands===void 0?YO:pX(WO.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?YO:gX(WO.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function f(g){g=vc(g);var v=g.fill,y=g.align,S=g.sign,k=g.symbol,_=g.zero,j=g.width,N=g.comma,E=g.precision,C=g.trim,A=g.type;A==="n"?(N=!0,A="g"):GO[A]||(E===void 0&&(E=12),C=!0,A="g"),(_||v==="0"&&y==="=")&&(_=!0,v="0",y="=");var T=k==="$"?r:k==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",P=k==="$"?n:/[%p]/.test(A)?l:"",M=GO[A],$=/[defgprs%]/.test(A);E=E===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function L(R){var q=T,V=P,oe,de,U;if(A==="c")V=M(R)+V,R="";else{R=+R;var K=R<0||1/R<0;if(R=isNaN(R)?d:M(Math.abs(R),E),C&&(R=yX(R)),K&&+R==0&&S!=="+"&&(K=!1),q=(K?S==="("?S:c:S==="-"||S==="("?"":S)+q,V=(A==="s"?XO[8+ED/3]:"")+V+(K&&S==="("?")":""),$){for(oe=-1,de=R.length;++oe<de;)if(U=R.charCodeAt(oe),48>U||U>57){V=(U===46?a+R.slice(oe+1):R.slice(oe))+V,R=R.slice(0,oe);break}}}N&&!_&&(R=t(R,1/0));var W=q.length+R.length+V.length,fe=W<j?new Array(j-W+1).join(v):"";switch(N&&_&&(R=t(fe+R,fe.length?j-V.length:1/0),fe=""),y){case"<":R=q+R+V+fe;break;case"=":R=q+fe+R+V;break;case"^":R=fe.slice(0,W=fe.length>>1)+q+R+V+fe.slice(W);break;default:R=fe+q+R+V;break}return s(R)}return L.toString=function(){return g+""},L}function m(g,v){var y=f((g=vc(g),g.type="f",g)),S=Math.max(-8,Math.min(8,Math.floor(gl(v)/3)))*3,k=Math.pow(10,-S),_=XO[8+S/3];return function(j){return y(k*j)+_}}return{format:f,formatPrefix:m}}var qf,sw,OD;wX({thousands:",",grouping:[3],currency:["$",""]});function wX(e){return qf=xX(e),sw=qf.format,OD=qf.formatPrefix,qf}function _X(e){return Math.max(0,-gl(Math.abs(e)))}function SX(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(gl(t)/3)))*3-gl(Math.abs(e)))}function kX(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,gl(t)-gl(e))+1}function ND(e,t,r,n){var a=Mb(e,t,r),s;switch(n=vc(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=SX(a,l))&&(n.precision=s),OD(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=kX(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=_X(a))&&(n.precision=s-(n.type==="%")*2);break}}return sw(n)}function Ji(e){var t=e.domain;return e.ticks=function(r){var n=t();return Pb(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return ND(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,l=n[a],c=n[s],d,f,m=10;for(c<l&&(f=l,l=c,c=f,f=a,a=s,s=f);m-- >0;){if(f=Db(l,c,r),f===d)return n[a]=l,n[s]=c,t(n);if(f>0)l=Math.floor(l/f)*f,c=Math.ceil(c/f)*f;else if(f<0)l=Math.ceil(l*f)/f,c=Math.floor(c*f)/f;else break;d=f}return e},e}function AD(){var e=aw();return e.copy=function(){return Lc(e,AD())},Ln.apply(e,arguments),Ji(e)}function TD(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Zh),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return TD(e).unknown(t)},e=arguments.length?Array.from(e,Zh):[0,1],Ji(r)}function CD(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],l;return s<a&&(l=r,r=n,n=l,l=a,a=s,s=l),e[r]=t.floor(a),e[n]=t.ceil(s),e}function JO(e){return Math.log(e)}function QO(e){return Math.exp(e)}function jX(e){return-Math.log(-e)}function EX(e){return-Math.exp(-e)}function OX(e){return isFinite(e)?+("1e"+e):e<0?0:e}function NX(e){return e===10?OX:e===Math.E?Math.exp:t=>Math.pow(e,t)}function AX(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function eN(e){return(t,r)=>-e(-t,r)}function ow(e){const t=e(JO,QO),r=t.domain;let n=10,a,s;function l(){return a=AX(n),s=NX(n),r()[0]<0?(a=eN(a),s=eN(s),e(jX,EX)):e(JO,QO),t}return t.base=function(c){return arguments.length?(n=+c,l()):n},t.domain=function(c){return arguments.length?(r(c),l()):r()},t.ticks=c=>{const d=r();let f=d[0],m=d[d.length-1];const g=m<f;g&&([f,m]=[m,f]);let v=a(f),y=a(m),S,k;const _=c==null?10:+c;let j=[];if(!(n%1)&&y-v<_){if(v=Math.floor(v),y=Math.ceil(y),f>0){for(;v<=y;++v)for(S=1;S<n;++S)if(k=v<0?S/s(-v):S*s(v),!(k<f)){if(k>m)break;j.push(k)}}else for(;v<=y;++v)for(S=n-1;S>=1;--S)if(k=v>0?S/s(-v):S*s(v),!(k<f)){if(k>m)break;j.push(k)}j.length*2<_&&(j=Pb(f,m,_))}else j=Pb(v,y,Math.min(y-v,_)).map(s);return g?j.reverse():j},t.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=vc(d)).precision==null&&(d.trim=!0),d=sw(d)),c===1/0)return d;const f=Math.max(1,n*c/t.ticks().length);return m=>{let g=m/s(Math.round(a(m)));return g*n<n-.5&&(g*=n),g<=f?d(m):""}},t.nice=()=>r(CD(r(),{floor:c=>s(Math.floor(a(c))),ceil:c=>s(Math.ceil(a(c)))})),t}function PD(){const e=ow(Q0()).domain([1,10]);return e.copy=()=>Lc(e,PD()).base(e.base()),Ln.apply(e,arguments),e}function tN(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function rN(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function lw(e){var t=1,r=e(tN(t),rN(t));return r.constant=function(n){return arguments.length?e(tN(t=+n),rN(t)):t},Ji(r)}function DD(){var e=lw(Q0());return e.copy=function(){return Lc(e,DD()).constant(e.constant())},Ln.apply(e,arguments)}function nN(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function TX(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function CX(e){return e<0?-e*e:e*e}function uw(e){var t=e(Or,Or),r=1;function n(){return r===1?e(Or,Or):r===.5?e(TX,CX):e(nN(r),nN(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Ji(t)}function cw(){var e=uw(Q0());return e.copy=function(){return Lc(e,cw()).exponent(e.exponent())},Ln.apply(e,arguments),e}function PX(){return cw.apply(null,arguments).exponent(.5)}function aN(e){return Math.sign(e)*e*e}function DX(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function MD(){var e=aw(),t=[0,1],r=!1,n;function a(s){var l=DX(e(s));return isNaN(l)?n:r?Math.round(l):l}return a.invert=function(s){return e.invert(aN(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,Zh)).map(aN)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return MD(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ln.apply(a,arguments),Ji(a)}function RD(){var e=[],t=[],r=[],n;function a(){var l=0,c=Math.max(1,t.length);for(r=new Array(c-1);++l<c;)r[l-1]=LW(e,l/c);return s}function s(l){return l==null||isNaN(l=+l)?n:t[Rc(r,l)]}return s.invertExtent=function(l){var c=t.indexOf(l);return c<0?[NaN,NaN]:[c>0?r[c-1]:e[0],c<r.length?r[c]:e[e.length-1]]},s.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let c of l)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(Ki),a()},s.range=function(l){return arguments.length?(t=Array.from(l),a()):t.slice()},s.unknown=function(l){return arguments.length?(n=l,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return RD().domain(e).range(t).unknown(n)},Ln.apply(s,arguments)}function $D(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function l(d){return d!=null&&d<=d?a[Rc(n,d,0,r)]:s}function c(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*t-(d-r)*e)/(r+1);return l}return l.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,c()):[e,t]},l.range=function(d){return arguments.length?(r=(a=Array.from(d)).length-1,c()):a.slice()},l.invertExtent=function(d){var f=a.indexOf(d);return f<0?[NaN,NaN]:f<1?[e,n[0]]:f>=r?[n[r-1],t]:[n[f-1],n[f]]},l.unknown=function(d){return arguments.length&&(s=d),l},l.thresholds=function(){return n.slice()},l.copy=function(){return $D().domain([e,t]).range(a).unknown(s)},Ln.apply(Ji(l),arguments)}function LD(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[Rc(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var l=t.indexOf(s);return[e[l-1],e[l]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return LD().domain(e).range(t).unknown(r)},Ln.apply(a,arguments)}const ly=new Date,uy=new Date;function qt(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const l=a(s),c=a.ceil(s);return s-l<c-s?l:c},a.offset=(s,l)=>(t(s=new Date(+s),l==null?1:Math.floor(l)),s),a.range=(s,l,c)=>{const d=[];if(s=a.ceil(s),c=c==null?1:Math.floor(c),!(s<l)||!(c>0))return d;let f;do d.push(f=new Date(+s)),t(s,c),e(s);while(f<s&&s<l);return d},a.filter=s=>qt(l=>{if(l>=l)for(;e(l),!s(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;t(l,-1),!s(l););else for(;--c>=0;)for(;t(l,1),!s(l););}),r&&(a.count=(s,l)=>(ly.setTime(+s),uy.setTime(+l),e(ly),e(uy),Math.floor(r(ly,uy))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?l=>n(l)%s===0:l=>a.count(0,l)%s===0):a)),a}const Yh=qt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Yh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?qt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Yh);Yh.range;const Ha=1e3,Cn=Ha*60,Fa=Cn*60,Qa=Fa*24,dw=Qa*7,iN=Qa*30,cy=Qa*365,Ms=qt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ha)},(e,t)=>(t-e)/Ha,e=>e.getUTCSeconds());Ms.range;const fw=qt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ha)},(e,t)=>{e.setTime(+e+t*Cn)},(e,t)=>(t-e)/Cn,e=>e.getMinutes());fw.range;const hw=qt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Cn)},(e,t)=>(t-e)/Cn,e=>e.getUTCMinutes());hw.range;const mw=qt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ha-e.getMinutes()*Cn)},(e,t)=>{e.setTime(+e+t*Fa)},(e,t)=>(t-e)/Fa,e=>e.getHours());mw.range;const pw=qt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Fa)},(e,t)=>(t-e)/Fa,e=>e.getUTCHours());pw.range;const Ic=qt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Cn)/Qa,e=>e.getDate()-1);Ic.range;const em=qt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Qa,e=>e.getUTCDate()-1);em.range;const ID=qt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Qa,e=>Math.floor(e/Qa));ID.range;function to(e){return qt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Cn)/dw)}const tm=to(0),Wh=to(1),MX=to(2),RX=to(3),vl=to(4),$X=to(5),LX=to(6);tm.range;Wh.range;MX.range;RX.range;vl.range;$X.range;LX.range;function ro(e){return qt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/dw)}const rm=ro(0),Xh=ro(1),IX=ro(2),zX=ro(3),yl=ro(4),UX=ro(5),BX=ro(6);rm.range;Xh.range;IX.range;zX.range;yl.range;UX.range;BX.range;const gw=qt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());gw.range;const vw=qt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());vw.range;const ei=qt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ei.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:qt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});ei.range;const ti=qt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ti.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:qt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ti.range;function zD(e,t,r,n,a,s){const l=[[Ms,1,Ha],[Ms,5,5*Ha],[Ms,15,15*Ha],[Ms,30,30*Ha],[s,1,Cn],[s,5,5*Cn],[s,15,15*Cn],[s,30,30*Cn],[a,1,Fa],[a,3,3*Fa],[a,6,6*Fa],[a,12,12*Fa],[n,1,Qa],[n,2,2*Qa],[r,1,dw],[t,1,iN],[t,3,3*iN],[e,1,cy]];function c(f,m,g){const v=m<f;v&&([f,m]=[m,f]);const y=g&&typeof g.range=="function"?g:d(f,m,g),S=y?y.range(f,+m+1):[];return v?S.reverse():S}function d(f,m,g){const v=Math.abs(m-f)/g,y=Jx(([,,_])=>_).right(l,v);if(y===l.length)return e.every(Mb(f/cy,m/cy,g));if(y===0)return Yh.every(Math.max(Mb(f,m,g),1));const[S,k]=l[v/l[y-1][2]<l[y][2]/v?y-1:y];return S.every(k)}return[c,d]}const[qX,HX]=zD(ti,vw,rm,ID,pw,hw),[FX,VX]=zD(ei,gw,tm,Ic,mw,fw);function dy(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function fy(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ru(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function KX(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,l=e.shortDays,c=e.months,d=e.shortMonths,f=$u(a),m=Lu(a),g=$u(s),v=Lu(s),y=$u(l),S=Lu(l),k=$u(c),_=Lu(c),j=$u(d),N=Lu(d),E={a:K,A:W,b:fe,B:pe,c:null,d:dN,e:dN,f:pJ,g:jJ,G:OJ,H:fJ,I:hJ,j:mJ,L:UD,m:gJ,M:vJ,p:I,q:Y,Q:mN,s:pN,S:yJ,u:bJ,U:xJ,V:wJ,w:_J,W:SJ,x:null,X:null,y:kJ,Y:EJ,Z:NJ,"%":hN},C={a:Q,A:F,b:ae,B:re,c:null,d:fN,e:fN,f:PJ,g:qJ,G:FJ,H:AJ,I:TJ,j:CJ,L:qD,m:DJ,M:MJ,p:ee,q:we,Q:mN,s:pN,S:RJ,u:$J,U:LJ,V:IJ,w:zJ,W:UJ,x:null,X:null,y:BJ,Y:HJ,Z:VJ,"%":hN},A={a:L,A:R,b:q,B:V,c:oe,d:uN,e:uN,f:lJ,g:lN,G:oN,H:cN,I:cN,j:aJ,L:oJ,m:nJ,M:iJ,p:$,q:rJ,Q:cJ,s:dJ,S:sJ,u:XX,U:JX,V:QX,w:WX,W:eJ,x:de,X:U,y:lN,Y:oN,Z:tJ,"%":uJ};E.x=T(r,E),E.X=T(n,E),E.c=T(t,E),C.x=T(r,C),C.X=T(n,C),C.c=T(t,C);function T(X,me){return function(_e){var ce=[],Ge=-1,Pe=0,he=X.length,ve,je,ze;for(_e instanceof Date||(_e=new Date(+_e));++Ge<he;)X.charCodeAt(Ge)===37&&(ce.push(X.slice(Pe,Ge)),(je=sN[ve=X.charAt(++Ge)])!=null?ve=X.charAt(++Ge):je=ve==="e"?" ":"0",(ze=me[ve])&&(ve=ze(_e,je)),ce.push(ve),Pe=Ge+1);return ce.push(X.slice(Pe,Ge)),ce.join("")}}function P(X,me){return function(_e){var ce=Ru(1900,void 0,1),Ge=M(ce,X,_e+="",0),Pe,he;if(Ge!=_e.length)return null;if("Q"in ce)return new Date(ce.Q);if("s"in ce)return new Date(ce.s*1e3+("L"in ce?ce.L:0));if(me&&!("Z"in ce)&&(ce.Z=0),"p"in ce&&(ce.H=ce.H%12+ce.p*12),ce.m===void 0&&(ce.m="q"in ce?ce.q:0),"V"in ce){if(ce.V<1||ce.V>53)return null;"w"in ce||(ce.w=1),"Z"in ce?(Pe=fy(Ru(ce.y,0,1)),he=Pe.getUTCDay(),Pe=he>4||he===0?Xh.ceil(Pe):Xh(Pe),Pe=em.offset(Pe,(ce.V-1)*7),ce.y=Pe.getUTCFullYear(),ce.m=Pe.getUTCMonth(),ce.d=Pe.getUTCDate()+(ce.w+6)%7):(Pe=dy(Ru(ce.y,0,1)),he=Pe.getDay(),Pe=he>4||he===0?Wh.ceil(Pe):Wh(Pe),Pe=Ic.offset(Pe,(ce.V-1)*7),ce.y=Pe.getFullYear(),ce.m=Pe.getMonth(),ce.d=Pe.getDate()+(ce.w+6)%7)}else("W"in ce||"U"in ce)&&("w"in ce||(ce.w="u"in ce?ce.u%7:"W"in ce?1:0),he="Z"in ce?fy(Ru(ce.y,0,1)).getUTCDay():dy(Ru(ce.y,0,1)).getDay(),ce.m=0,ce.d="W"in ce?(ce.w+6)%7+ce.W*7-(he+5)%7:ce.w+ce.U*7-(he+6)%7);return"Z"in ce?(ce.H+=ce.Z/100|0,ce.M+=ce.Z%100,fy(ce)):dy(ce)}}function M(X,me,_e,ce){for(var Ge=0,Pe=me.length,he=_e.length,ve,je;Ge<Pe;){if(ce>=he)return-1;if(ve=me.charCodeAt(Ge++),ve===37){if(ve=me.charAt(Ge++),je=A[ve in sN?me.charAt(Ge++):ve],!je||(ce=je(X,_e,ce))<0)return-1}else if(ve!=_e.charCodeAt(ce++))return-1}return ce}function $(X,me,_e){var ce=f.exec(me.slice(_e));return ce?(X.p=m.get(ce[0].toLowerCase()),_e+ce[0].length):-1}function L(X,me,_e){var ce=y.exec(me.slice(_e));return ce?(X.w=S.get(ce[0].toLowerCase()),_e+ce[0].length):-1}function R(X,me,_e){var ce=g.exec(me.slice(_e));return ce?(X.w=v.get(ce[0].toLowerCase()),_e+ce[0].length):-1}function q(X,me,_e){var ce=j.exec(me.slice(_e));return ce?(X.m=N.get(ce[0].toLowerCase()),_e+ce[0].length):-1}function V(X,me,_e){var ce=k.exec(me.slice(_e));return ce?(X.m=_.get(ce[0].toLowerCase()),_e+ce[0].length):-1}function oe(X,me,_e){return M(X,t,me,_e)}function de(X,me,_e){return M(X,r,me,_e)}function U(X,me,_e){return M(X,n,me,_e)}function K(X){return l[X.getDay()]}function W(X){return s[X.getDay()]}function fe(X){return d[X.getMonth()]}function pe(X){return c[X.getMonth()]}function I(X){return a[+(X.getHours()>=12)]}function Y(X){return 1+~~(X.getMonth()/3)}function Q(X){return l[X.getUTCDay()]}function F(X){return s[X.getUTCDay()]}function ae(X){return d[X.getUTCMonth()]}function re(X){return c[X.getUTCMonth()]}function ee(X){return a[+(X.getUTCHours()>=12)]}function we(X){return 1+~~(X.getUTCMonth()/3)}return{format:function(X){var me=T(X+="",E);return me.toString=function(){return X},me},parse:function(X){var me=P(X+="",!1);return me.toString=function(){return X},me},utcFormat:function(X){var me=T(X+="",C);return me.toString=function(){return X},me},utcParse:function(X){var me=P(X+="",!0);return me.toString=function(){return X},me}}}var sN={"-":"",_:" ",0:"0"},Jt=/^\s*\d+/,ZX=/^%/,GX=/[\\^$*+?|[\]().{}]/g;function Ke(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function YX(e){return e.replace(GX,"\\$&")}function $u(e){return new RegExp("^(?:"+e.map(YX).join("|")+")","i")}function Lu(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function WX(e,t,r){var n=Jt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function XX(e,t,r){var n=Jt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function JX(e,t,r){var n=Jt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function QX(e,t,r){var n=Jt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function eJ(e,t,r){var n=Jt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function oN(e,t,r){var n=Jt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function lN(e,t,r){var n=Jt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function tJ(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function rJ(e,t,r){var n=Jt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function nJ(e,t,r){var n=Jt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function uN(e,t,r){var n=Jt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function aJ(e,t,r){var n=Jt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function cN(e,t,r){var n=Jt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function iJ(e,t,r){var n=Jt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function sJ(e,t,r){var n=Jt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function oJ(e,t,r){var n=Jt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function lJ(e,t,r){var n=Jt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function uJ(e,t,r){var n=ZX.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function cJ(e,t,r){var n=Jt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function dJ(e,t,r){var n=Jt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function dN(e,t){return Ke(e.getDate(),t,2)}function fJ(e,t){return Ke(e.getHours(),t,2)}function hJ(e,t){return Ke(e.getHours()%12||12,t,2)}function mJ(e,t){return Ke(1+Ic.count(ei(e),e),t,3)}function UD(e,t){return Ke(e.getMilliseconds(),t,3)}function pJ(e,t){return UD(e,t)+"000"}function gJ(e,t){return Ke(e.getMonth()+1,t,2)}function vJ(e,t){return Ke(e.getMinutes(),t,2)}function yJ(e,t){return Ke(e.getSeconds(),t,2)}function bJ(e){var t=e.getDay();return t===0?7:t}function xJ(e,t){return Ke(tm.count(ei(e)-1,e),t,2)}function BD(e){var t=e.getDay();return t>=4||t===0?vl(e):vl.ceil(e)}function wJ(e,t){return e=BD(e),Ke(vl.count(ei(e),e)+(ei(e).getDay()===4),t,2)}function _J(e){return e.getDay()}function SJ(e,t){return Ke(Wh.count(ei(e)-1,e),t,2)}function kJ(e,t){return Ke(e.getFullYear()%100,t,2)}function jJ(e,t){return e=BD(e),Ke(e.getFullYear()%100,t,2)}function EJ(e,t){return Ke(e.getFullYear()%1e4,t,4)}function OJ(e,t){var r=e.getDay();return e=r>=4||r===0?vl(e):vl.ceil(e),Ke(e.getFullYear()%1e4,t,4)}function NJ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ke(t/60|0,"0",2)+Ke(t%60,"0",2)}function fN(e,t){return Ke(e.getUTCDate(),t,2)}function AJ(e,t){return Ke(e.getUTCHours(),t,2)}function TJ(e,t){return Ke(e.getUTCHours()%12||12,t,2)}function CJ(e,t){return Ke(1+em.count(ti(e),e),t,3)}function qD(e,t){return Ke(e.getUTCMilliseconds(),t,3)}function PJ(e,t){return qD(e,t)+"000"}function DJ(e,t){return Ke(e.getUTCMonth()+1,t,2)}function MJ(e,t){return Ke(e.getUTCMinutes(),t,2)}function RJ(e,t){return Ke(e.getUTCSeconds(),t,2)}function $J(e){var t=e.getUTCDay();return t===0?7:t}function LJ(e,t){return Ke(rm.count(ti(e)-1,e),t,2)}function HD(e){var t=e.getUTCDay();return t>=4||t===0?yl(e):yl.ceil(e)}function IJ(e,t){return e=HD(e),Ke(yl.count(ti(e),e)+(ti(e).getUTCDay()===4),t,2)}function zJ(e){return e.getUTCDay()}function UJ(e,t){return Ke(Xh.count(ti(e)-1,e),t,2)}function BJ(e,t){return Ke(e.getUTCFullYear()%100,t,2)}function qJ(e,t){return e=HD(e),Ke(e.getUTCFullYear()%100,t,2)}function HJ(e,t){return Ke(e.getUTCFullYear()%1e4,t,4)}function FJ(e,t){var r=e.getUTCDay();return e=r>=4||r===0?yl(e):yl.ceil(e),Ke(e.getUTCFullYear()%1e4,t,4)}function VJ(){return"+0000"}function hN(){return"%"}function mN(e){return+e}function pN(e){return Math.floor(+e/1e3)}var Zo,FD,VD;KJ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function KJ(e){return Zo=KX(e),FD=Zo.format,Zo.parse,VD=Zo.utcFormat,Zo.utcParse,Zo}function ZJ(e){return new Date(e)}function GJ(e){return e instanceof Date?+e:+new Date(+e)}function yw(e,t,r,n,a,s,l,c,d,f){var m=aw(),g=m.invert,v=m.domain,y=f(".%L"),S=f(":%S"),k=f("%I:%M"),_=f("%I %p"),j=f("%a %d"),N=f("%b %d"),E=f("%B"),C=f("%Y");function A(T){return(d(T)<T?y:c(T)<T?S:l(T)<T?k:s(T)<T?_:n(T)<T?a(T)<T?j:N:r(T)<T?E:C)(T)}return m.invert=function(T){return new Date(g(T))},m.domain=function(T){return arguments.length?v(Array.from(T,GJ)):v().map(ZJ)},m.ticks=function(T){var P=v();return e(P[0],P[P.length-1],T??10)},m.tickFormat=function(T,P){return P==null?A:f(P)},m.nice=function(T){var P=v();return(!T||typeof T.range!="function")&&(T=t(P[0],P[P.length-1],T??10)),T?v(CD(P,T)):m},m.copy=function(){return Lc(m,yw(e,t,r,n,a,s,l,c,d,f))},m}function YJ(){return Ln.apply(yw(FX,VX,ei,gw,tm,Ic,mw,fw,Ms,FD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function WJ(){return Ln.apply(yw(qX,HX,ti,vw,rm,em,pw,hw,Ms,VD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function nm(){var e=0,t=1,r,n,a,s,l=Or,c=!1,d;function f(g){return g==null||isNaN(g=+g)?d:l(a===0?.5:(g=(s(g)-r)*a,c?Math.max(0,Math.min(1,g)):g))}f.domain=function(g){return arguments.length?([e,t]=g,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),f):[e,t]},f.clamp=function(g){return arguments.length?(c=!!g,f):c},f.interpolator=function(g){return arguments.length?(l=g,f):l};function m(g){return function(v){var y,S;return arguments.length?([y,S]=v,l=g(y,S),f):[l(0),l(1)]}}return f.range=m(El),f.rangeRound=m(nw),f.unknown=function(g){return arguments.length?(d=g,f):d},function(g){return s=g,r=g(e),n=g(t),a=r===n?0:1/(n-r),f}}function Qi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function KD(){var e=Ji(nm()(Or));return e.copy=function(){return Qi(e,KD())},ui.apply(e,arguments)}function ZD(){var e=ow(nm()).domain([1,10]);return e.copy=function(){return Qi(e,ZD()).base(e.base())},ui.apply(e,arguments)}function GD(){var e=lw(nm());return e.copy=function(){return Qi(e,GD()).constant(e.constant())},ui.apply(e,arguments)}function bw(){var e=uw(nm());return e.copy=function(){return Qi(e,bw()).exponent(e.exponent())},ui.apply(e,arguments)}function XJ(){return bw.apply(null,arguments).exponent(.5)}function YD(){var e=[],t=Or;function r(n){if(n!=null&&!isNaN(n=+n))return t((Rc(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Ki),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>$W(e,s/n))},r.copy=function(){return YD(t).domain(e)},ui.apply(r,arguments)}function am(){var e=0,t=.5,r=1,n=1,a,s,l,c,d,f=Or,m,g=!1,v;function y(k){return isNaN(k=+k)?v:(k=.5+((k=+m(k))-s)*(n*k<n*s?c:d),f(g?Math.max(0,Math.min(1,k)):k))}y.domain=function(k){return arguments.length?([e,t,r]=k,a=m(e=+e),s=m(t=+t),l=m(r=+r),c=a===s?0:.5/(s-a),d=s===l?0:.5/(l-s),n=s<a?-1:1,y):[e,t,r]},y.clamp=function(k){return arguments.length?(g=!!k,y):g},y.interpolator=function(k){return arguments.length?(f=k,y):f};function S(k){return function(_){var j,N,E;return arguments.length?([j,N,E]=_,f=uX(k,[j,N,E]),y):[f(0),f(.5),f(1)]}}return y.range=S(El),y.rangeRound=S(nw),y.unknown=function(k){return arguments.length?(v=k,y):v},function(k){return m=k,a=k(e),s=k(t),l=k(r),c=a===s?0:.5/(s-a),d=s===l?0:.5/(l-s),n=s<a?-1:1,y}}function WD(){var e=Ji(am()(Or));return e.copy=function(){return Qi(e,WD())},ui.apply(e,arguments)}function XD(){var e=ow(am()).domain([.1,1,10]);return e.copy=function(){return Qi(e,XD()).base(e.base())},ui.apply(e,arguments)}function JD(){var e=lw(am());return e.copy=function(){return Qi(e,JD()).constant(e.constant())},ui.apply(e,arguments)}function xw(){var e=uw(am());return e.copy=function(){return Qi(e,xw()).exponent(e.exponent())},ui.apply(e,arguments)}function JJ(){return xw.apply(null,arguments).exponent(.5)}const Ku=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ew,scaleDiverging:WD,scaleDivergingLog:XD,scaleDivergingPow:xw,scaleDivergingSqrt:JJ,scaleDivergingSymlog:JD,scaleIdentity:TD,scaleImplicit:Rb,scaleLinear:AD,scaleLog:PD,scaleOrdinal:Qx,scalePoint:zW,scalePow:cw,scaleQuantile:RD,scaleQuantize:$D,scaleRadial:MD,scaleSequential:KD,scaleSequentialLog:ZD,scaleSequentialPow:bw,scaleSequentialQuantile:YD,scaleSequentialSqrt:XJ,scaleSequentialSymlog:GD,scaleSqrt:PX,scaleSymlog:DD,scaleThreshold:LD,scaleTime:YJ,scaleUtc:WJ,tickFormat:ND},Symbol.toStringTag,{value:"Module"}));var es=e=>e.chartData,QJ=ne([es],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),ww=(e,t,r,n)=>n?QJ(e):es(e);function Gi(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(st(t)&&st(r))return!0}return!1}function gN(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function QD(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,s;if(st(r))a=r;else if(typeof r=="function")return;if(st(n))s=n;else if(typeof n=="function")return;var l=[a,s];if(Gi(l))return l}}function eQ(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Gi(n))return gN(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,s]=e,l,c;if(a==="auto")t!=null&&(l=Math.min(...t));else if(Oe(a))l=a;else if(typeof a=="function")try{t!=null&&(l=a(t?.[0]))}catch{}else if(typeof a=="string"&&KE.test(a)){var d=KE.exec(a);if(d==null||t==null)l=void 0;else{var f=+d[1];l=t[0]-f}}else l=t?.[0];if(s==="auto")t!=null&&(c=Math.max(...t));else if(Oe(s))c=s;else if(typeof s=="function")try{t!=null&&(c=s(t?.[1]))}catch{}else if(typeof s=="string"&&ZE.test(s)){var m=ZE.exec(s);if(m==null||t==null)c=void 0;else{var g=+m[1];c=t[1]+g}}else c=t?.[1];var v=[l,c];if(Gi(v))return t==null?v:gN(v,t,r)}}}var Ol=1e9,tQ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Sw,pt=!0,Mn="[DecimalError] ",Is=Mn+"Invalid argument: ",_w=Mn+"Exponent out of range: ",Nl=Math.floor,Es=Math.pow,rQ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,on,Xt=1e7,dt=7,e4=9007199254740991,Jh=Nl(e4/dt),be={};be.absoluteValue=be.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};be.comparedTo=be.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};be.decimalPlaces=be.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*dt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};be.dividedBy=be.div=function(e){return Za(this,new this.constructor(e))};be.dividedToIntegerBy=be.idiv=function(e){var t=this,r=t.constructor;return nt(Za(t,new r(e),0,1),r.precision)};be.equals=be.eq=function(e){return!this.cmp(e)};be.exponent=function(){return $t(this)};be.greaterThan=be.gt=function(e){return this.cmp(e)>0};be.greaterThanOrEqualTo=be.gte=function(e){return this.cmp(e)>=0};be.isInteger=be.isint=function(){return this.e>this.d.length-2};be.isNegative=be.isneg=function(){return this.s<0};be.isPositive=be.ispos=function(){return this.s>0};be.isZero=function(){return this.s===0};be.lessThan=be.lt=function(e){return this.cmp(e)<0};be.lessThanOrEqualTo=be.lte=function(e){return this.cmp(e)<1};be.logarithm=be.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(on))throw Error(Mn+"NaN");if(r.s<1)throw Error(Mn+(r.s?"NaN":"-Infinity"));return r.eq(on)?new n(0):(pt=!1,t=Za(yc(r,s),yc(e,s),s),pt=!0,nt(t,a))};be.minus=be.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?n4(t,e):t4(t,(e.s=-e.s,e))};be.modulo=be.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Mn+"NaN");return r.s?(pt=!1,t=Za(r,e,0,1).times(e),pt=!0,r.minus(t)):nt(new n(r),a)};be.naturalExponential=be.exp=function(){return r4(this)};be.naturalLogarithm=be.ln=function(){return yc(this)};be.negated=be.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};be.plus=be.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?t4(t,e):n4(t,(e.s=-e.s,e))};be.precision=be.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Is+e);if(t=$t(a)+1,n=a.d.length-1,r=n*dt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};be.squareRoot=be.sqrt=function(){var e,t,r,n,a,s,l,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(Mn+"NaN")}for(e=$t(c),pt=!1,a=Math.sqrt(+c),a==0||a==1/0?(t=oa(c.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Nl((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new d(t)):n=new d(a.toString()),r=d.precision,a=l=r+3;;)if(s=n,n=s.plus(Za(c,s,l+2)).times(.5),oa(s.d).slice(0,l)===(t=oa(n.d)).slice(0,l)){if(t=t.slice(l-3,l+1),a==l&&t=="4999"){if(nt(s,r+1,0),s.times(s).eq(c)){n=s;break}}else if(t!="9999")break;l+=4}return pt=!0,nt(n,r)};be.times=be.mul=function(e){var t,r,n,a,s,l,c,d,f,m=this,g=m.constructor,v=m.d,y=(e=new g(e)).d;if(!m.s||!e.s)return new g(0);for(e.s*=m.s,r=m.e+e.e,d=v.length,f=y.length,d<f&&(s=v,v=y,y=s,l=d,d=f,f=l),s=[],l=d+f,n=l;n--;)s.push(0);for(n=f;--n>=0;){for(t=0,a=d+n;a>n;)c=s[a]+y[n]*v[a-n-1]+t,s[a--]=c%Xt|0,t=c/Xt|0;s[a]=(s[a]+t)%Xt|0}for(;!s[--l];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,pt?nt(e,g.precision):e};be.toDecimalPlaces=be.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(fa(e,0,Ol),t===void 0?t=n.rounding:fa(t,0,8),nt(r,e+$t(r)+1,t))};be.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Vs(n,!0):(fa(e,0,Ol),t===void 0?t=a.rounding:fa(t,0,8),n=nt(new a(n),e+1,t),r=Vs(n,!0,e+1)),r};be.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?Vs(a):(fa(e,0,Ol),t===void 0?t=s.rounding:fa(t,0,8),n=nt(new s(a),e+$t(a)+1,t),r=Vs(n.abs(),!1,e+$t(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};be.toInteger=be.toint=function(){var e=this,t=e.constructor;return nt(new t(e),$t(e)+1,t.rounding)};be.toNumber=function(){return+this};be.toPower=be.pow=function(e){var t,r,n,a,s,l,c=this,d=c.constructor,f=12,m=+(e=new d(e));if(!e.s)return new d(on);if(c=new d(c),!c.s){if(e.s<1)throw Error(Mn+"Infinity");return c}if(c.eq(on))return c;if(n=d.precision,e.eq(on))return nt(c,n);if(t=e.e,r=e.d.length-1,l=t>=r,s=c.s,l){if((r=m<0?-m:m)<=e4){for(a=new d(on),t=Math.ceil(n/dt+4),pt=!1;r%2&&(a=a.times(c),yN(a.d,t)),r=Nl(r/2),r!==0;)c=c.times(c),yN(c.d,t);return pt=!0,e.s<0?new d(on).div(a):nt(a,n)}}else if(s<0)throw Error(Mn+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,c.s=1,pt=!1,a=e.times(yc(c,n+f)),pt=!0,a=r4(a),a.s=s,a};be.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=$t(a),n=Vs(a,r<=s.toExpNeg||r>=s.toExpPos)):(fa(e,1,Ol),t===void 0?t=s.rounding:fa(t,0,8),a=nt(new s(a),e,t),r=$t(a),n=Vs(a,e<=r||r<=s.toExpNeg,e)),n};be.toSignificantDigits=be.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(fa(e,1,Ol),t===void 0?t=n.rounding:fa(t,0,8)),nt(new n(r),e,t)};be.toString=be.valueOf=be.val=be.toJSON=be[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=$t(e),r=e.constructor;return Vs(e,t<=r.toExpNeg||t>=r.toExpPos)};function t4(e,t){var r,n,a,s,l,c,d,f,m=e.constructor,g=m.precision;if(!e.s||!t.s)return t.s||(t=new m(e)),pt?nt(t,g):t;if(d=e.d,f=t.d,l=e.e,a=t.e,d=d.slice(),s=l-a,s){for(s<0?(n=d,s=-s,c=f.length):(n=f,a=l,c=d.length),l=Math.ceil(g/dt),c=l>c?l+1:c+1,s>c&&(s=c,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(c=d.length,s=f.length,c-s<0&&(s=c,n=f,f=d,d=n),r=0;s;)r=(d[--s]=d[s]+f[s]+r)/Xt|0,d[s]%=Xt;for(r&&(d.unshift(r),++a),c=d.length;d[--c]==0;)d.pop();return t.d=d,t.e=a,pt?nt(t,g):t}function fa(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Is+e)}function oa(e){var t,r,n,a=e.length-1,s="",l=e[0];if(a>0){for(s+=l,t=1;t<a;t++)n=e[t]+"",r=dt-n.length,r&&(s+=Li(r)),s+=n;l=e[t],n=l+"",r=dt-n.length,r&&(s+=Li(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var Za=(function(){function e(n,a){var s,l=0,c=n.length;for(n=n.slice();c--;)s=n[c]*a+l,n[c]=s%Xt|0,l=s/Xt|0;return l&&n.unshift(l),n}function t(n,a,s,l){var c,d;if(s!=l)d=s>l?1:-1;else for(c=d=0;c<s;c++)if(n[c]!=a[c]){d=n[c]>a[c]?1:-1;break}return d}function r(n,a,s){for(var l=0;s--;)n[s]-=l,l=n[s]<a[s]?1:0,n[s]=l*Xt+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,l){var c,d,f,m,g,v,y,S,k,_,j,N,E,C,A,T,P,M,$=n.constructor,L=n.s==a.s?1:-1,R=n.d,q=a.d;if(!n.s)return new $(n);if(!a.s)throw Error(Mn+"Division by zero");for(d=n.e-a.e,P=q.length,A=R.length,y=new $(L),S=y.d=[],f=0;q[f]==(R[f]||0);)++f;if(q[f]>(R[f]||0)&&--d,s==null?N=s=$.precision:l?N=s+($t(n)-$t(a))+1:N=s,N<0)return new $(0);if(N=N/dt+2|0,f=0,P==1)for(m=0,q=q[0],N++;(f<A||m)&&N--;f++)E=m*Xt+(R[f]||0),S[f]=E/q|0,m=E%q|0;else{for(m=Xt/(q[0]+1)|0,m>1&&(q=e(q,m),R=e(R,m),P=q.length,A=R.length),C=P,k=R.slice(0,P),_=k.length;_<P;)k[_++]=0;M=q.slice(),M.unshift(0),T=q[0],q[1]>=Xt/2&&++T;do m=0,c=t(q,k,P,_),c<0?(j=k[0],P!=_&&(j=j*Xt+(k[1]||0)),m=j/T|0,m>1?(m>=Xt&&(m=Xt-1),g=e(q,m),v=g.length,_=k.length,c=t(g,k,v,_),c==1&&(m--,r(g,P<v?M:q,v))):(m==0&&(c=m=1),g=q.slice()),v=g.length,v<_&&g.unshift(0),r(k,g,_),c==-1&&(_=k.length,c=t(q,k,P,_),c<1&&(m++,r(k,P<_?M:q,_))),_=k.length):c===0&&(m++,k=[0]),S[f++]=m,c&&k[0]?k[_++]=R[C]||0:(k=[R[C]],_=1);while((C++<A||k[0]!==void 0)&&N--)}return S[0]||S.shift(),y.e=d,nt(y,l?s+$t(y)+1:s)}})();function r4(e,t){var r,n,a,s,l,c,d=0,f=0,m=e.constructor,g=m.precision;if($t(e)>16)throw Error(_w+$t(e));if(!e.s)return new m(on);for(pt=!1,c=g,l=new m(.03125);e.abs().gte(.1);)e=e.times(l),f+=5;for(n=Math.log(Es(2,f))/Math.LN10*2+5|0,c+=n,r=a=s=new m(on),m.precision=c;;){if(a=nt(a.times(e),c),r=r.times(++d),l=s.plus(Za(a,r,c)),oa(l.d).slice(0,c)===oa(s.d).slice(0,c)){for(;f--;)s=nt(s.times(s),c);return m.precision=g,t==null?(pt=!0,nt(s,g)):s}s=l}}function $t(e){for(var t=e.e*dt,r=e.d[0];r>=10;r/=10)t++;return t}function hy(e,t,r){if(t>e.LN10.sd())throw pt=!0,r&&(e.precision=r),Error(Mn+"LN10 precision limit exceeded");return nt(new e(e.LN10),t)}function Li(e){for(var t="";e--;)t+="0";return t}function yc(e,t){var r,n,a,s,l,c,d,f,m,g=1,v=10,y=e,S=y.d,k=y.constructor,_=k.precision;if(y.s<1)throw Error(Mn+(y.s?"NaN":"-Infinity"));if(y.eq(on))return new k(0);if(t==null?(pt=!1,f=_):f=t,y.eq(10))return t==null&&(pt=!0),hy(k,f);if(f+=v,k.precision=f,r=oa(S),n=r.charAt(0),s=$t(y),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)y=y.times(e),r=oa(y.d),n=r.charAt(0),g++;s=$t(y),n>1?(y=new k("0."+r),s++):y=new k(n+"."+r.slice(1))}else return d=hy(k,f+2,_).times(s+""),y=yc(new k(n+"."+r.slice(1)),f-v).plus(d),k.precision=_,t==null?(pt=!0,nt(y,_)):y;for(c=l=y=Za(y.minus(on),y.plus(on),f),m=nt(y.times(y),f),a=3;;){if(l=nt(l.times(m),f),d=c.plus(Za(l,new k(a),f)),oa(d.d).slice(0,f)===oa(c.d).slice(0,f))return c=c.times(2),s!==0&&(c=c.plus(hy(k,f+2,_).times(s+""))),c=Za(c,new k(g),f),k.precision=_,t==null?(pt=!0,nt(c,_)):c;c=d,a+=2}}function vN(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Nl(r/dt),e.d=[],n=(r+1)%dt,r<0&&(n+=dt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=dt;n<a;)e.d.push(+t.slice(n,n+=dt));t=t.slice(n),n=dt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),pt&&(e.e>Jh||e.e<-Jh))throw Error(_w+r)}else e.s=0,e.e=0,e.d=[0];return e}function nt(e,t,r){var n,a,s,l,c,d,f,m,g=e.d;for(l=1,s=g[0];s>=10;s/=10)l++;if(n=t-l,n<0)n+=dt,a=t,f=g[m=0];else{if(m=Math.ceil((n+1)/dt),s=g.length,m>=s)return e;for(f=s=g[m],l=1;s>=10;s/=10)l++;n%=dt,a=n-dt+l}if(r!==void 0&&(s=Es(10,l-a-1),c=f/s%10|0,d=t<0||g[m+1]!==void 0||f%s,d=r<4?(c||d)&&(r==0||r==(e.s<0?3:2)):c>5||c==5&&(r==4||d||r==6&&(n>0?a>0?f/Es(10,l-a):0:g[m-1])%10&1||r==(e.s<0?8:7))),t<1||!g[0])return d?(s=$t(e),g.length=1,t=t-s-1,g[0]=Es(10,(dt-t%dt)%dt),e.e=Nl(-t/dt)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(n==0?(g.length=m,s=1,m--):(g.length=m+1,s=Es(10,dt-n),g[m]=a>0?(f/Es(10,l-a)%Es(10,a)|0)*s:0),d)for(;;)if(m==0){(g[0]+=s)==Xt&&(g[0]=1,++e.e);break}else{if(g[m]+=s,g[m]!=Xt)break;g[m--]=0,s=1}for(n=g.length;g[--n]===0;)g.pop();if(pt&&(e.e>Jh||e.e<-Jh))throw Error(_w+$t(e));return e}function n4(e,t){var r,n,a,s,l,c,d,f,m,g,v=e.constructor,y=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),pt?nt(t,y):t;if(d=e.d,g=t.d,n=t.e,f=e.e,d=d.slice(),l=f-n,l){for(m=l<0,m?(r=d,l=-l,c=g.length):(r=g,n=f,c=d.length),a=Math.max(Math.ceil(y/dt),c)+2,l>a&&(l=a,r.length=1),r.reverse(),a=l;a--;)r.push(0);r.reverse()}else{for(a=d.length,c=g.length,m=a<c,m&&(c=a),a=0;a<c;a++)if(d[a]!=g[a]){m=d[a]<g[a];break}l=0}for(m&&(r=d,d=g,g=r,t.s=-t.s),c=d.length,a=g.length-c;a>0;--a)d[c++]=0;for(a=g.length;a>l;){if(d[--a]<g[a]){for(s=a;s&&d[--s]===0;)d[s]=Xt-1;--d[s],d[a]+=Xt}d[a]-=g[a]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(t.d=d,t.e=n,pt?nt(t,y):t):new v(0)}function Vs(e,t,r){var n,a=$t(e),s=oa(e.d),l=s.length;return t?(r&&(n=r-l)>0?s=s.charAt(0)+"."+s.slice(1)+Li(n):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Li(-a-1)+s,r&&(n=r-l)>0&&(s+=Li(n))):a>=l?(s+=Li(a+1-l),r&&(n=r-a-1)>0&&(s=s+"."+Li(n))):((n=a+1)<l&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-l)>0&&(a+1===l&&(s+="."),s+=Li(n))),e.s<0?"-"+s:s}function yN(e,t){if(e.length>t)return e.length=t,!0}function a4(e){var t,r,n;function a(s){var l=this;if(!(l instanceof a))return new a(s);if(l.constructor=a,s instanceof a){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Is+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return vN(l,s.toString())}else if(typeof s!="string")throw Error(Is+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,rQ.test(s))vN(l,s);else throw Error(Is+s)}if(a.prototype=be,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=a4,a.config=a.set=nQ,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function nQ(e){if(!e||typeof e!="object")throw Error(Mn+"Object expected");var t,r,n,a=["precision",1,Ol,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Nl(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Is+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Is+r+": "+n);return this}var Sw=a4(tQ);on=new Sw(1);const Je=Sw;var aQ=e=>e,i4={},s4=e=>e===i4,bN=e=>function t(){return arguments.length===0||arguments.length===1&&s4(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},o4=(e,t)=>e===1?t:bN(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var s=n.filter(l=>l!==i4).length;return s>=e?t(...n):o4(e-s,bN(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var f=n.map(m=>s4(m)?c.shift():m);return t(...f,...c)}))}),iQ=e=>o4(e.length,e),zb=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},sQ=iQ((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),oQ=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return aQ;var a=r.reverse(),s=a[0],l=a.slice(1);return function(){return l.reduce((c,d)=>d(c),s(...arguments))}},Ub=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function l4(e){var t;return e===0?t=1:t=Math.floor(new Je(e).abs().log(10).toNumber())+1,t}function u4(e,t,r){for(var n=new Je(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var c4=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},d4=(e,t,r)=>{if(e.lte(0))return new Je(0);var n=l4(e.toNumber()),a=new Je(10).pow(n),s=e.div(a),l=n!==1?.05:.1,c=new Je(Math.ceil(s.div(l).toNumber())).add(r).mul(l),d=c.mul(a);return t?new Je(d.toNumber()):new Je(Math.ceil(d.toNumber()))},lQ=(e,t,r)=>{var n=new Je(1),a=new Je(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new Je(10).pow(l4(e)-1),a=new Je(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new Je(Math.floor(e)))}else e===0?a=new Je(Math.floor((t-1)/2)):r||(a=new Je(Math.floor(e)));var l=Math.floor((t-1)/2),c=oQ(sQ(d=>a.add(new Je(d-l).mul(n)).toNumber()),zb);return c(0,t)},f4=function(t,r,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Je(0),tickMin:new Je(0),tickMax:new Je(0)};var l=d4(new Je(r).sub(t).div(n-1),a,s),c;t<=0&&r>=0?c=new Je(0):(c=new Je(t).add(r).div(2),c=c.sub(new Je(c).mod(l)));var d=Math.ceil(c.sub(t).div(l).toNumber()),f=Math.ceil(new Je(r).sub(c).div(l).toNumber()),m=d+f+1;return m>n?f4(t,r,n,a,s+1):(m<n&&(f=r>0?f+(n-m):f,d=r>0?d:d+(n-m)),{step:l,tickMin:c.sub(new Je(d).mul(l)),tickMax:c.add(new Je(f).mul(l))})},uQ=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(a,2),[c,d]=c4([r,n]);if(c===-1/0||d===1/0){var f=d===1/0?[c,...zb(0,a-1).map(()=>1/0)]:[...zb(0,a-1).map(()=>-1/0),d];return r>n?Ub(f):f}if(c===d)return lQ(c,a,s);var{step:m,tickMin:g,tickMax:v}=f4(c,d,l,s,0),y=u4(g,v.add(new Je(.1).mul(m)),m);return r>n?Ub(y):y},cQ=function(t,r){var[n,a]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,c]=c4([n,a]);if(l===-1/0||c===1/0)return[n,a];if(l===c)return[l];var d=Math.max(r,2),f=d4(new Je(c).sub(l).div(d-1),s,0),m=[...u4(new Je(l),new Je(c),f),c];return s===!1&&(m=m.map(g=>Math.round(g))),n>a?Ub(m):m},dQ=e=>e.rootProps.barCategoryGap,im=e=>e.rootProps.stackOffset,h4=e=>e.rootProps.reverseStackOrder,kw=e=>e.options.chartName,jw=e=>e.rootProps.syncId,m4=e=>e.rootProps.syncMethod,Ew=e=>e.options.eventEmitter,fQ=e=>e.rootProps.baseValue,wr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Ua={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},an={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},sm=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},hQ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ua.angleAxisId,includeHidden:!1,name:void 0,reversed:Ua.reversed,scale:Ua.scale,tick:Ua.tick,tickCount:void 0,ticks:void 0,type:Ua.type,unit:void 0},mQ={allowDataOverflow:an.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:an.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:an.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:an.scale,tick:an.tick,tickCount:an.tickCount,ticks:void 0,type:an.type,unit:void 0},pQ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ua.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ua.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ua.scale,tick:Ua.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},gQ={allowDataOverflow:an.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:an.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:an.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:an.scale,tick:an.tick,tickCount:an.tickCount,ticks:void 0,type:"category",unit:void 0},Ow=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?pQ:hQ,Nw=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?gQ:mQ,om=e=>e.polarOptions,Aw=ne([oi,li,hr],uW),p4=ne([om,Aw],(e,t)=>{if(e!=null)return Zi(e.innerRadius,t,0)}),g4=ne([om,Aw],(e,t)=>{if(e!=null)return Zi(e.outerRadius,t,t*.8)}),vQ=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},v4=ne([om],vQ);ne([Ow,v4],sm);var y4=ne([Aw,p4,g4],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});ne([Nw,y4],sm);var b4=ne([lt,om,p4,g4,oi,li],(e,t,r,n,a,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:l,cy:c,startAngle:d,endAngle:f}=t;return{cx:Zi(l,a,a/2),cy:Zi(c,s,s/2),innerRadius:r,outerRadius:n,startAngle:d,endAngle:f,clockWise:!1}}}),Ht=(e,t)=>t,lm=(e,t,r)=>r;function Tw(e){return e?.id}function x4(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:s}=r,l=new Map;return e.forEach(c=>{var d,f=(d=c.data)!==null&&d!==void 0?d:n;if(!(f==null||f.length===0)){var m=Tw(c);f.forEach((g,v)=>{var y=s==null||a?v:String(_r(g,s,null)),S=_r(g,c.dataKey,0),k;l.has(y)?k=l.get(y):k={},Object.assign(k,{[m]:S}),l.set(y,k)})}}),Array.from(l.values())}function Cw(e){return e.stackId!=null&&e.dataKey!=null}var um=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function cm(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function yQ(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var Ft=e=>{var t=lt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Al=e=>e.tooltip.settings.axisId;function xN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xN(Object(r),!0).forEach(function(n){bQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bQ(e,t,r){return(t=xQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xQ(e){var t=wQ(e,"string");return typeof t=="symbol"?t:t+""}function wQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bb=[0,"auto"],Yt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},w4=(e,t)=>e.cartesianAxis.xAxis[t],ha=(e,t)=>{var r=w4(e,t);return r??Yt},Wt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Bb,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Cc},_4=(e,t)=>e.cartesianAxis.yAxis[t],ma=(e,t)=>{var r=_4(e,t);return r??Wt},_Q={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Pw=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??_Q},Dr=(e,t,r)=>{switch(t){case"xAxis":return ha(e,r);case"yAxis":return ma(e,r);case"zAxis":return Pw(e,r);case"angleAxis":return Ow(e,r);case"radiusAxis":return Nw(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},SQ=(e,t,r)=>{switch(t){case"xAxis":return ha(e,r);case"yAxis":return ma(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},zc=(e,t,r)=>{switch(t){case"xAxis":return ha(e,r);case"yAxis":return ma(e,r);case"angleAxis":return Ow(e,r);case"radiusAxis":return Nw(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},S4=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function k4(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var j4=e=>e.graphicalItems.cartesianItems,kQ=ne([Ht,lm],k4),E4=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),Uc=ne([j4,Dr,kQ],E4,{memoizeOptions:{resultEqualityCheck:cm}}),O4=ne([Uc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Cw)),N4=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),jQ=ne([Uc],N4),A4=e=>e.map(t=>t.data).filter(Boolean).flat(1),EQ=ne([Uc],A4,{memoizeOptions:{resultEqualityCheck:cm}}),T4=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},Dw=ne([EQ,ww],T4),C4=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:_r(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:_r(a,n)}))):e.map(n=>({value:n})),dm=ne([Dw,Dr,Uc],C4);function P4(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function rh(e){if(Pn(e)||e instanceof Date){var t=Number(e);if(st(t))return t}}function wN(e){if(Array.isArray(e)){var t=[rh(e[0]),rh(e[1])];return Gi(t)?t:void 0}var r=rh(e);if(r!=null)return[r,r]}function ri(e){return e.map(rh).filter(HV)}function OQ(e,t,r){return!r||typeof t!="number"||hn(t)?[]:r.length?ri(r.flatMap(n=>{var a=_r(e,n.dataKey),s,l;if(Array.isArray(a)?[s,l]=a:s=l=a,!(!st(s)||!st(l)))return[t-s,t+l]})):[]}var Vt=e=>{var t=Ft(e),r=Al(e);return zc(e,t,r)},Bc=ne([Vt],e=>e?.dataKey),NQ=ne([O4,ww,Vt],x4),D4=(e,t,r,n)=>{var a={},s=t.reduce((l,c)=>(c.stackId==null||(l[c.stackId]==null&&(l[c.stackId]=[]),l[c.stackId].push(c)),l),a);return Object.fromEntries(Object.entries(s).map(l=>{var[c,d]=l,f=n?[...d].reverse():d,m=f.map(Tw);return[c,{stackedData:JZ(e,m,r),graphicalItems:f}]}))},qb=ne([NQ,O4,im,h4],D4),M4=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:s}=t;if(n==null&&r!=="zAxis"){var l=rG(e,a,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},AQ=ne([Dr],e=>e.allowDataOverflow),Mw=e=>{var t;if(e==null||!("domain"in e))return Bb;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=ri(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:Bb},R4=ne([Dr],Mw),$4=ne([R4,AQ],QD),TQ=ne([qb,es,Ht,$4],M4,{memoizeOptions:{resultEqualityCheck:um}}),Rw=e=>e.errorBars,CQ=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>P4(r,n)),e0=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var s=a.flat(),l=Math.min(...s),c=Math.max(...s);return[l,c]}},L4=(e,t,r,n,a)=>{var s,l;if(r.length>0&&e.forEach(c=>{r.forEach(d=>{var f,m,g=(f=n[d.id])===null||f===void 0?void 0:f.filter(j=>P4(a,j)),v=_r(c,(m=t.dataKey)!==null&&m!==void 0?m:d.dataKey),y=OQ(c,v,g);if(y.length>=2){var S=Math.min(...y),k=Math.max(...y);(s==null||S<s)&&(s=S),(l==null||k>l)&&(l=k)}var _=wN(v);_!=null&&(s=s==null?_[0]:Math.min(s,_[0]),l=l==null?_[1]:Math.max(l,_[1]))})}),t?.dataKey!=null&&e.forEach(c=>{var d=wN(_r(c,t.dataKey));d!=null&&(s=s==null?d[0]:Math.min(s,d[0]),l=l==null?d[1]:Math.max(l,d[1]))}),st(s)&&st(l))return[s,l]},PQ=ne([Dw,Dr,jQ,Rw,Ht],L4,{memoizeOptions:{resultEqualityCheck:um}});function DQ(e){var{value:t}=e;if(Pn(t)||t instanceof Date)return t}var MQ=(e,t,r)=>{var n=e.map(DQ).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&QC(n))?yD(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},I4=e=>e.referenceElements.dots,Tl=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),RQ=ne([I4,Ht,lm],Tl),z4=e=>e.referenceElements.areas,$Q=ne([z4,Ht,lm],Tl),U4=e=>e.referenceElements.lines,LQ=ne([U4,Ht,lm],Tl),B4=(e,t)=>{var r=ri(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},IQ=ne(RQ,Ht,B4),q4=(e,t)=>{var r=ri(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},zQ=ne([$Q,Ht],q4);function UQ(e){var t;if(e.x!=null)return ri([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:ri(r)}function BQ(e){var t;if(e.y!=null)return ri([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:ri(r)}var H4=(e,t)=>{var r=e.flatMap(n=>t==="xAxis"?UQ(n):BQ(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},qQ=ne([LQ,Ht],H4),HQ=ne(IQ,qQ,zQ,(e,t,r)=>e0(e,r,t)),F4=(e,t,r,n,a,s,l,c)=>{if(r!=null)return r;var d=l==="vertical"&&c==="xAxis"||l==="horizontal"&&c==="yAxis",f=d?e0(n,s,a):e0(s,a);return eQ(t,f,e.allowDataOverflow)},FQ=ne([Dr,R4,$4,TQ,PQ,HQ,lt,Ht],F4,{memoizeOptions:{resultEqualityCheck:um}}),VQ=[0,1],V4=(e,t,r,n,a,s,l)=>{if(!((e==null||r==null||r.length===0)&&l===void 0)){var{dataKey:c,type:d}=e,f=si(t,s);if(f&&c==null){var m;return yD(0,(m=r?.length)!==null&&m!==void 0?m:0)}return d==="category"?MQ(n,e,f):a==="expand"?VQ:l}},$w=ne([Dr,lt,Dw,dm,im,Ht,FQ],V4),K4=(e,t,r,n,a)=>{if(e!=null){var{scale:s,type:l}=e;if(s==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":l==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":l==="category"?"band":"linear";if(typeof s=="string"){var c="scale".concat(Lx(s));return c in Ku?c:"point"}}},qc=ne([Dr,lt,S4,kw,Ht],K4);function KQ(e){if(e!=null){if(e in Ku)return Ku[e]();var t="scale".concat(Lx(e));if(t in Ku)return Ku[t]()}}function Lw(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=KQ(t);if(a!=null){var s=a.domain(r).range(n);return GZ(s),s}}}var Z4=(e,t,r)=>{var n=Mw(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Gi(e))return uQ(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Gi(e))return cQ(e,t.tickCount,t.allowDecimals)}},Iw=ne([$w,zc,qc],Z4),G4=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&Gi(t)&&Array.isArray(r)&&r.length>0){var a=t[0],s=r[0],l=t[1],c=r[r.length-1];return[Math.min(a,s),Math.max(l,c)]}return t},ZQ=ne([Dr,$w,Iw,Ht],G4),GQ=ne(dm,Dr,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(ri(e.map(c=>c.value))).sort((c,d)=>c-d);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var s=0;s<n.length-1;s++){var l=n[s+1]-n[s];r=Math.min(r,l)}return r/a}}),Y4=ne(GQ,lt,dQ,hr,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!st(e))return 0;var s=t==="vertical"?n.height:n.width;if(a==="gap")return e*s/2;if(a==="no-gap"){var l=Zi(r,e*s),c=e*s/2;return c-l-(c-l)/s*l}return 0}),YQ=(e,t)=>{var r=ha(e,t);return r==null||typeof r.padding!="string"?0:Y4(e,"xAxis",t,r.padding)},WQ=(e,t)=>{var r=ma(e,t);return r==null||typeof r.padding!="string"?0:Y4(e,"yAxis",t,r.padding)},XQ=ne(ha,YQ,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),JQ=ne(ma,WQ,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),QQ=ne([hr,XQ,G0,Z0,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:s}=n;return a?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),eee=ne([hr,lt,JQ,G0,Z0,(e,t,r)=>r],(e,t,r,n,a,s)=>{var{padding:l}=a;return s?[n.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Hc=(e,t,r,n)=>{var a;switch(t){case"xAxis":return QQ(e,r,n);case"yAxis":return eee(e,r,n);case"zAxis":return(a=Pw(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return v4(e);case"radiusAxis":return y4(e,r);default:return}},W4=ne([Dr,Hc],sm),Yi=ne([Dr,qc,ZQ,W4],Lw);ne([Uc,Rw,Ht],CQ);function X4(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var fm=(e,t)=>t,hm=(e,t,r)=>r,tee=ne(V0,fm,hm,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(X4)),ree=ne(K0,fm,hm,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(X4)),J4=(e,t)=>({width:e.width,height:t.height}),nee=(e,t)=>{var r=typeof t.width=="number"?t.width:Cc;return{width:r,height:e.height}},aee=ne(hr,ha,J4),iee=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},see=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},oee=ne(li,hr,tee,fm,hm,(e,t,r,n,a)=>{var s={},l;return r.forEach(c=>{var d=J4(t,c);l==null&&(l=iee(t,n,e));var f=n==="top"&&!a||n==="bottom"&&a;s[c.id]=l-Number(f)*d.height,l+=(f?-1:1)*d.height}),s}),lee=ne(oi,hr,ree,fm,hm,(e,t,r,n,a)=>{var s={},l;return r.forEach(c=>{var d=nee(t,c);l==null&&(l=see(t,n,e));var f=n==="left"&&!a||n==="right"&&a;s[c.id]=l-Number(f)*d.width,l+=(f?-1:1)*d.width}),s}),uee=(e,t)=>{var r=ha(e,t);if(r!=null)return oee(e,r.orientation,r.mirror)},cee=ne([hr,ha,uee,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),dee=(e,t)=>{var r=ma(e,t);if(r!=null)return lee(e,r.orientation,r.mirror)},fee=ne([hr,ma,dee,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),hee=ne(hr,ma,(e,t)=>{var r=typeof t.width=="number"?t.width:Cc;return{width:r,height:e.height}}),Q4=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:s,dataKey:l}=r,c=si(e,n),d=t.map(f=>f.value);if(l&&c&&s==="category"&&a&&QC(d))return d}},zw=ne([lt,dm,Dr,Ht],Q4),e3=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:s}=r,l=si(e,n);if(l&&(a==="number"||s!=="auto"))return t.map(c=>c.value)}},Uw=ne([lt,dm,zc,Ht],e3),_N=ne([lt,SQ,qc,Yi,zw,Uw,Hc,Iw,Ht],(e,t,r,n,a,s,l,c,d)=>{if(t!=null){var f=si(e,d);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:d,categoricalDomain:s,duplicateDomain:a,isCategorical:f,niceTicks:c,range:l,realScaleType:r,scale:n}}}),mee=(e,t,r,n,a,s,l,c,d)=>{if(!(t==null||n==null)){var f=si(e,d),{type:m,ticks:g,tickCount:v}=t,y=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,S=m==="category"&&n.bandwidth?n.bandwidth()/y:0;S=d==="angleAxis"&&s!=null&&s.length>=2?Tn(s[0]-s[1])*2*S:S;var k=g||a;if(k){var _=k.map((j,N)=>{var E=l?l.indexOf(j):j;return{index:N,coordinate:n(E)+S,value:j,offset:S}});return _.filter(j=>st(j.coordinate))}return f&&c?c.map((j,N)=>({coordinate:n(j)+S,value:j,index:N,offset:S})).filter(j=>st(j.coordinate)):n.ticks?n.ticks(v).map(j=>({coordinate:n(j)+S,value:j,offset:S})):n.domain().map((j,N)=>({coordinate:n(j)+S,value:l?l[j]:j,index:N,offset:S}))}},t3=ne([lt,zc,qc,Yi,Iw,Hc,zw,Uw,Ht],mee),pee=(e,t,r,n,a,s,l)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var c=si(e,l),{tickCount:d}=t,f=0;return f=l==="angleAxis"&&n?.length>=2?Tn(n[0]-n[1])*2*f:f,c&&s?s.map((m,g)=>({coordinate:r(m)+f,value:m,index:g,offset:f})):r.ticks?r.ticks(d).map(m=>({coordinate:r(m)+f,value:m,offset:f})):r.domain().map((m,g)=>({coordinate:r(m)+f,value:a?a[m]:m,index:g,offset:f}))}},r3=ne([lt,zc,Yi,Hc,zw,Uw,Ht],pee),n3=ne(Dr,Yi,(e,t)=>{if(!(e==null||t==null))return Qh(Qh({},e),{},{scale:t})}),gee=ne([Dr,qc,$w,W4],Lw);ne((e,t,r)=>Pw(e,r),gee,(e,t)=>{if(!(e==null||t==null))return Qh(Qh({},e),{},{scale:t})});var vee=ne([lt,V0,K0],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),a3=e=>e.options.defaultTooltipEventType,i3=e=>e.options.validateTooltipEventTypes;function s3(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Bw(e,t){var r=a3(e),n=i3(e);return s3(t,r,n)}function yee(e){return Ee(t=>Bw(t,e))}var o3=(e,t)=>{var r,n=Number(t);if(!(hn(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},bee=e=>e.tooltip.settings,qi={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},xee={itemInteraction:{click:qi,hover:qi},axisInteraction:{click:qi,hover:qi},keyboardInteraction:qi,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},l3=Zr({name:"tooltip",initialState:xee,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:mt()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Gn(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:mt()},removeTooltipEntrySettings:{reducer(e,t){var r=Gn(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:mt()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:wee,replaceTooltipEntrySettings:_ee,removeTooltipEntrySettings:See,setTooltipSettingsState:kee,setActiveMouseOverItemIndex:jee,mouseLeaveItem:vue,mouseLeaveChart:u3,setActiveClickItemIndex:yue,setMouseOverAxisIndex:c3,setMouseClickAxisIndex:Eee,setSyncInteraction:Hb,setKeyboardInteraction:Fb}=l3.actions,Oee=l3.reducer;function SN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SN(Object(r),!0).forEach(function(n){Nee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nee(e,t,r){return(t=Aee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Aee(e){var t=Tee(e,"string");return typeof t=="symbol"?t:t+""}function Tee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cee(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Pee(e){return e.index!=null}var d3=(e,t,r,n)=>{if(t==null)return qi;var a=Cee(e,t,r);if(a==null)return qi;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(Pee(a)){if(s)return Hf(Hf({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return Hf(Hf({},qi),{},{coordinate:a.coordinate})};function Dee(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function Mee(e,t){var r=Dee(e),n=t[0],a=t[1];if(r===void 0)return!1;var s=Math.min(n,a),l=Math.max(n,a);return r>=s&&r<=l}function Ree(e,t,r){if(r==null||t==null)return!0;var n=_r(e,t);return n==null||!Gi(r)?!0:Mee(n,r)}var qw=(e,t,r,n)=>{var a=e?.index;if(a==null)return null;var s=Number(a);if(!st(s))return a;var l=0,c=1/0;t.length>0&&(c=t.length-1);var d=Math.max(l,Math.min(s,c)),f=t[d];return f==null||Ree(f,r,n)?String(d):null},f3=(e,t,r,n,a,s,l,c)=>{if(!(s==null||c==null)){var d=l[0],f=d==null?void 0:c(d.positions,s);if(f!=null)return f;var m=a?.[Number(s)];if(m)switch(r){case"horizontal":return{x:m.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:m.coordinate}}}},h3=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(s=>{var l;return((l=s.settings)===null||l===void 0?void 0:l.dataKey)===a})},Fc=e=>e.options.tooltipPayloadSearcher,Cl=e=>e.tooltip;function kN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kN(Object(r),!0).forEach(function(n){$ee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $ee(e,t,r){return(t=Lee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lee(e){var t=Iee(e,"string");return typeof t=="symbol"?t:t+""}function Iee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zee(e,t){return e??t}var m3=(e,t,r,n,a,s,l)=>{if(!(t==null||s==null)){var{chartData:c,computedData:d,dataStartIndex:f,dataEndIndex:m}=r,g=[];return e.reduce((v,y)=>{var S,{dataDefinedOnItem:k,settings:_}=y,j=zee(k,c),N=Array.isArray(j)?FP(j,f,m):j,E=(S=_?.dataKey)!==null&&S!==void 0?S:n,C=_?.nameKey,A;if(n&&Array.isArray(N)&&!Array.isArray(N[0])&&l==="axis"?A=eP(N,n,a):A=s(N,t,d,C),Array.isArray(A))A.forEach(P=>{var M=jN(jN({},_),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});v.push(GE({tooltipEntrySettings:M,dataKey:P.dataKey,payload:P.payload,value:_r(P.payload,P.dataKey),name:P.name}))});else{var T;v.push(GE({tooltipEntrySettings:_,dataKey:E,payload:A,value:_r(A,E),name:(T=_r(A,C))!==null&&T!==void 0?T:_?.name}))}return v},g)}},Hw=ne([Vt,lt,S4,kw,Ft],K4),Uee=ne([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Bee=ne([Ft,Al],k4),Vc=ne([Uee,Vt,Bee],E4,{memoizeOptions:{resultEqualityCheck:cm}}),qee=ne([Vc],e=>e.filter(Cw)),Hee=ne([Vc],A4,{memoizeOptions:{resultEqualityCheck:cm}}),Pl=ne([Hee,es],T4),Fee=ne([qee,es,Vt],x4),Fw=ne([Pl,Vt,Vc],C4),p3=ne([Vt],Mw),Vee=ne([Vt],e=>e.allowDataOverflow),g3=ne([p3,Vee],QD),Kee=ne([Vc],e=>e.filter(Cw)),Zee=ne([Fee,Kee,im,h4],D4),Gee=ne([Zee,es,Ft,g3],M4),Yee=ne([Vc],N4),Wee=ne([Pl,Vt,Yee,Rw,Ft],L4,{memoizeOptions:{resultEqualityCheck:um}}),Xee=ne([I4,Ft,Al],Tl),Jee=ne([Xee,Ft],B4),Qee=ne([z4,Ft,Al],Tl),ete=ne([Qee,Ft],q4),tte=ne([U4,Ft,Al],Tl),rte=ne([tte,Ft],H4),nte=ne([Jee,rte,ete],e0),ate=ne([Vt,p3,g3,Gee,Wee,nte,lt,Ft],F4),Kc=ne([Vt,lt,Pl,Fw,im,Ft,ate],V4),ite=ne([Kc,Vt,Hw],Z4),ste=ne([Vt,Kc,ite,Ft],G4),v3=e=>{var t=Ft(e),r=Al(e),n=!1;return Hc(e,t,r,n)},y3=ne([Vt,v3],sm),b3=ne([Vt,Hw,ste,y3],Lw),ote=ne([lt,Fw,Vt,Ft],Q4),lte=ne([lt,Fw,Vt,Ft],e3),ute=(e,t,r,n,a,s,l,c)=>{if(t){var{type:d}=t,f=si(e,c);if(n){var m=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,g=d==="category"&&n.bandwidth?n.bandwidth()/m:0;return g=c==="angleAxis"&&a!=null&&a?.length>=2?Tn(a[0]-a[1])*2*g:g,f&&l?l.map((v,y)=>({coordinate:n(v)+g,value:v,index:y,offset:g})):n.domain().map((v,y)=>({coordinate:n(v)+g,value:s?s[v]:v,index:y,offset:g}))}}},ci=ne([lt,Vt,Hw,b3,v3,ote,lte,Ft],ute),Vw=ne([a3,i3,bee],(e,t,r)=>s3(r.shared,e,t)),x3=e=>e.tooltip.settings.trigger,Kw=e=>e.tooltip.settings.defaultIndex,Zc=ne([Cl,Vw,x3,Kw],d3),bc=ne([Zc,Pl,Bc,Kc],qw),w3=ne([ci,bc],o3),cte=ne([Zc],e=>{if(e)return e.dataKey});ne([Zc],e=>{if(e)return e.graphicalItemId});var _3=ne([Cl,Vw,x3,Kw],h3),dte=ne([oi,li,lt,hr,ci,Kw,_3,Fc],f3),fte=ne([Zc,dte],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),hte=ne([Zc],e=>e.active),mte=ne([_3,bc,es,Bc,w3,Fc,Vw],m3),pte=ne([mte],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function EN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ON(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EN(Object(r),!0).forEach(function(n){gte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gte(e,t,r){return(t=vte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vte(e){var t=yte(e,"string");return typeof t=="symbol"?t:t+""}function yte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bte=()=>Ee(Vt),xte=()=>{var e=bte(),t=Ee(ci),r=Ee(b3);return Dh(!e||!r?void 0:ON(ON({},e),{},{scale:r}),t)};function NN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Go(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NN(Object(r),!0).forEach(function(n){wte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wte(e,t,r){return(t=_te(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _te(e){var t=Ste(e,"string");return typeof t=="symbol"?t:t+""}function Ste(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kte=(e,t,r,n)=>{var a=t.find(s=>s&&s.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},jte=(e,t,r,n)=>{var a=t.find(f=>f&&f.index===r);if(a){if(e==="centric"){var s=a.coordinate,{radius:l}=n;return Go(Go(Go({},n),ur(n.cx,n.cy,l,s)),{},{angle:s,radius:l})}var c=a.coordinate,{angle:d}=n;return Go(Go(Go({},n),ur(n.cx,n.cy,c,d)),{},{angle:d,radius:c})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Ete(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var S3=(e,t,r,n,a)=>{var s,l=-1,c=(s=t?.length)!==null&&s!==void 0?s:0;if(c<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var d=0;d<c;d++){var f=d>0?r[d-1].coordinate:r[c-1].coordinate,m=r[d].coordinate,g=d>=c-1?r[0].coordinate:r[d+1].coordinate,v=void 0;if(Tn(m-f)!==Tn(g-m)){var y=[];if(Tn(g-m)===Tn(a[1]-a[0])){v=g;var S=m+a[1]-a[0];y[0]=Math.min(S,(S+f)/2),y[1]=Math.max(S,(S+f)/2)}else{v=f;var k=g+a[1]-a[0];y[0]=Math.min(m,(k+m)/2),y[1]=Math.max(m,(k+m)/2)}var _=[Math.min(m,(v+m)/2),Math.max(m,(v+m)/2)];if(e>_[0]&&e<=_[1]||e>=y[0]&&e<=y[1]){({index:l}=r[d]);break}}else{var j=Math.min(f,g),N=Math.max(f,g);if(e>(j+m)/2&&e<=(N+m)/2){({index:l}=r[d]);break}}}else if(t){for(var E=0;E<c;E++)if(E===0&&e<=(t[E].coordinate+t[E+1].coordinate)/2||E>0&&E<c-1&&e>(t[E].coordinate+t[E-1].coordinate)/2&&e<=(t[E].coordinate+t[E+1].coordinate)/2||E===c-1&&e>(t[E].coordinate+t[E-1].coordinate)/2){({index:l}=t[E]);break}}return l},k3=()=>Ee(kw),Zw=(e,t)=>t,j3=(e,t,r)=>r,Gw=(e,t,r,n)=>n,Ote=ne(ci,e=>$0(e,t=>t.coordinate)),Yw=ne([Cl,Zw,j3,Gw],d3),Ww=ne([Yw,Pl,Bc,Kc],qw),Nte=(e,t,r)=>{if(t!=null){var n=Cl(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},E3=ne([Cl,Zw,j3,Gw],h3),t0=ne([oi,li,lt,hr,ci,Gw,E3,Fc],f3),Ate=ne([Yw,t0],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),O3=ne([ci,Ww],o3),Tte=ne([E3,Ww,es,Bc,O3,Fc,Zw],m3),Cte=ne([Yw,Ww],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),Pte=(e,t,r,n,a,s,l)=>{if(!(!e||!r||!n||!a)&&Ete(e,l)){var c=nG(e,t),d=S3(c,s,a,r,n),f=kte(t,a,d,e);return{activeIndex:String(d),activeCoordinate:f}}},Dte=(e,t,r,n,a,s,l)=>{if(!(!e||!n||!a||!s||!r)){var c=mW(e,r);if(c){var d=aG(c,t),f=S3(d,l,s,n,a),m=jte(t,s,f,c);return{activeIndex:String(f),activeCoordinate:m}}}},Mte=(e,t,r,n,a,s,l,c)=>{if(!(!e||!t||!n||!a||!s))return t==="horizontal"||t==="vertical"?Pte(e,t,n,a,s,l,c):Dte(e,t,r,n,a,s,l)},Rte=ne(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElementId:n.elementId}}),$te=ne(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(wr)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:yQ}});function AN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function TN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AN(Object(r),!0).forEach(function(n){Lte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lte(e,t,r){return(t=Ite(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ite(e){var t=zte(e,"string");return typeof t=="symbol"?t:t+""}function zte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ute={},Bte={zIndexMap:Object.values(wr).reduce((e,t)=>TN(TN({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),Ute)},qte=new Set(Object.values(wr));function Hte(e){return qte.has(e)}var N3=Zr({name:"zIndex",initialState:Bte,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:mt()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!Hte(r)&&delete e.zIndexMap[r])},prepare:mt()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElementId=n:e.zIndexMap[r].elementId=n:e.zIndexMap[r]={consumers:0,elementId:a?void 0:n,panoramaElementId:a?n:void 0}},prepare:mt()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:mt()}}}),{registerZIndexPortal:Fte,unregisterZIndexPortal:Vte,registerZIndexPortalId:Kte,unregisterZIndexPortalId:Zte}=N3.actions,Gte=N3.reducer;function pa(e){var{zIndex:t,children:r}=e,n=IG(),a=n&&t!==void 0&&t!==0,s=Pr(),l=Bt();x.useLayoutEffect(()=>a?(l(Fte({zIndex:t})),()=>{l(Vte({zIndex:t}))}):Oc,[l,t,a]);var c=Ee(f=>Rte(f,t,s));if(!a)return r;if(!c)return null;var d=document.getElementById(c);return d?Xs.createPortal(r,d):null}function Vb(){return Vb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vb.apply(null,arguments)}function CN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ff(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CN(Object(r),!0).forEach(function(n){Yte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yte(e,t,r){return(t=Wte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wte(e){var t=Xte(e,"string");return typeof t=="symbol"?t:t+""}function Xte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jte(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return x.isValidElement(t)?x.cloneElement(t,n):x.createElement(r,n)}function Qte(e){var t,{coordinate:r,payload:n,index:a,offset:s,tooltipAxisBandSize:l,layout:c,cursor:d,tooltipEventType:f,chartName:m}=e,g=r,v=n,y=a;if(!d||!g||m!=="ScatterChart"&&f!=="axis")return null;var S,k,_;if(m==="ScatterChart")S=g,k=EY,_=wr.cursorLine;else if(m==="BarChart")S=OY(c,g,s,l),k=aW,_=wr.cursorRectangle;else if(c==="radial"&&tP(g)){var{cx:j,cy:N,radius:E,startAngle:C,endAngle:A}=gD(g);S={cx:j,cy:N,startAngle:C,endAngle:A,innerRadius:E,outerRadius:E},k=yW,_=wr.cursorLine}else S={points:bW(c,g,s)},k=th,_=wr.cursorLine;var T=typeof d=="object"&&"className"in d?d.className:void 0,P=Ff(Ff(Ff(Ff({stroke:"#ccc",pointerEvents:"none"},s),S),P0(d)),{},{payload:v,payloadIndex:y,className:ot("recharts-tooltip-cursor",T)});return x.createElement(pa,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:_},x.createElement(Jte,{cursor:d,cursorComp:k,cursorProps:P}))}function ere(e){var t=xte(),r=eD(),n=Dc(),a=k3();return t==null||r==null||n==null||a==null?null:x.createElement(Qte,Vb({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var A3=x.createContext(null),tre=()=>x.useContext(A3),my={exports:{}},PN;function rre(){return PN||(PN=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(d,f,m){this.fn=d,this.context=f,this.once=m||!1}function s(d,f,m,g,v){if(typeof m!="function")throw new TypeError("The listener must be a function");var y=new a(m,g||d,v),S=r?r+f:f;return d._events[S]?d._events[S].fn?d._events[S]=[d._events[S],y]:d._events[S].push(y):(d._events[S]=y,d._eventsCount++),d}function l(d,f){--d._eventsCount===0?d._events=new n:delete d._events[f]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],m,g;if(this._eventsCount===0)return f;for(g in m=this._events)t.call(m,g)&&f.push(r?g.slice(1):g);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(m)):f},c.prototype.listeners=function(f){var m=r?r+f:f,g=this._events[m];if(!g)return[];if(g.fn)return[g.fn];for(var v=0,y=g.length,S=new Array(y);v<y;v++)S[v]=g[v].fn;return S},c.prototype.listenerCount=function(f){var m=r?r+f:f,g=this._events[m];return g?g.fn?1:g.length:0},c.prototype.emit=function(f,m,g,v,y,S){var k=r?r+f:f;if(!this._events[k])return!1;var _=this._events[k],j=arguments.length,N,E;if(_.fn){switch(_.once&&this.removeListener(f,_.fn,void 0,!0),j){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,m),!0;case 3:return _.fn.call(_.context,m,g),!0;case 4:return _.fn.call(_.context,m,g,v),!0;case 5:return _.fn.call(_.context,m,g,v,y),!0;case 6:return _.fn.call(_.context,m,g,v,y,S),!0}for(E=1,N=new Array(j-1);E<j;E++)N[E-1]=arguments[E];_.fn.apply(_.context,N)}else{var C=_.length,A;for(E=0;E<C;E++)switch(_[E].once&&this.removeListener(f,_[E].fn,void 0,!0),j){case 1:_[E].fn.call(_[E].context);break;case 2:_[E].fn.call(_[E].context,m);break;case 3:_[E].fn.call(_[E].context,m,g);break;case 4:_[E].fn.call(_[E].context,m,g,v);break;default:if(!N)for(A=1,N=new Array(j-1);A<j;A++)N[A-1]=arguments[A];_[E].fn.apply(_[E].context,N)}}return!0},c.prototype.on=function(f,m,g){return s(this,f,m,g,!1)},c.prototype.once=function(f,m,g){return s(this,f,m,g,!0)},c.prototype.removeListener=function(f,m,g,v){var y=r?r+f:f;if(!this._events[y])return this;if(!m)return l(this,y),this;var S=this._events[y];if(S.fn)S.fn===m&&(!v||S.once)&&(!g||S.context===g)&&l(this,y);else{for(var k=0,_=[],j=S.length;k<j;k++)(S[k].fn!==m||v&&!S[k].once||g&&S[k].context!==g)&&_.push(S[k]);_.length?this._events[y]=_.length===1?_[0]:_:l(this,y)}return this},c.prototype.removeAllListeners=function(f){var m;return f?(m=r?r+f:f,this._events[m]&&l(this,m)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,e.exports=c})(my)),my.exports}var nre=rre();const are=ni(nre);var xc=new are,Kb="recharts.syncEvent.tooltip",DN="recharts.syncEvent.brush";function ire(e,t){if(t){var r=Number.parseInt(t,10);if(!hn(r))return e?.[r]}}var sre={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},T3=Zr({name:"options",initialState:sre,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),ore=T3.reducer,{createEventEmitter:lre}=T3.actions;function ure(e){return e.tooltip.syncInteraction}var cre={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},C3=Zr({name:"chartData",initialState:cre,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:MN,setDataStartEndIndexes:dre,setComputedData:bue}=C3.actions,fre=C3.reducer,hre=["x","y"];function RN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RN(Object(r),!0).forEach(function(n){mre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mre(e,t,r){return(t=pre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pre(e){var t=gre(e,"string");return typeof t=="symbol"?t:t+""}function gre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vre(e,t){if(e==null)return{};var r,n,a=yre(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function yre(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function bre(){var e=Ee(jw),t=Ee(Ew),r=Bt(),n=Ee(m4),a=Ee(ci),s=Dc(),l=Pc(),c=Ee(d=>d.rootProps.className);x.useEffect(()=>{if(e==null)return Oc;var d=(f,m,g)=>{if(t!==g&&e===f){if(n==="index"){var v;if(l&&m!==null&&m!==void 0&&(v=m.payload)!==null&&v!==void 0&&v.coordinate&&m.payload.sourceViewBox){var y=m.payload.coordinate,{x:S,y:k}=y,_=vre(y,hre),{x:j,y:N,width:E,height:C}=m.payload.sourceViewBox,A=Yo(Yo({},_),{},{x:l.x+(E?(S-j)/E:0)*l.width,y:l.y+(C?(k-N)/C:0)*l.height});r(Yo(Yo({},m),{},{payload:Yo(Yo({},m.payload),{},{coordinate:A})}))}else r(m);return}if(a!=null){var T;if(typeof n=="function"){var P={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},M=n(a,P);T=a[M]}else n==="value"&&(T=a.find(U=>String(U.value)===m.payload.label));var{coordinate:$}=m.payload;if(T==null||m.payload.active===!1||$==null||l==null){r(Hb({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:L,y:R}=$,q=Math.min(L,l.x+l.width),V=Math.min(R,l.y+l.height),oe={x:s==="horizontal"?T.coordinate:q,y:s==="horizontal"?V:T.coordinate},de=Hb({active:m.payload.active,coordinate:oe,dataKey:m.payload.dataKey,index:String(T.index),label:m.payload.label,sourceViewBox:m.payload.sourceViewBox,graphicalItemId:m.payload.graphicalItemId});r(de)}}};return xc.on(Kb,d),()=>{xc.off(Kb,d)}},[c,r,t,e,n,a,s,l])}function xre(){var e=Ee(jw),t=Ee(Ew),r=Bt();x.useEffect(()=>{if(e==null)return Oc;var n=(a,s,l)=>{t!==l&&e===a&&r(dre(s))};return xc.on(DN,n),()=>{xc.off(DN,n)}},[r,t,e])}function wre(){var e=Bt();x.useEffect(()=>{e(lre())},[e]),bre(),xre()}function _re(e,t,r,n,a,s){var l=Ee(y=>Nte(y,e,t)),c=Ee(Ew),d=Ee(jw),f=Ee(m4),m=Ee(ure),g=m?.active,v=Pc();x.useEffect(()=>{if(!g&&d!=null&&c!=null){var y=Hb({active:s,coordinate:r,dataKey:l,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:v,graphicalItemId:void 0});xc.emit(Kb,d,y,c)}},[g,r,l,a,n,c,d,f,s,v])}function $N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function LN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$N(Object(r),!0).forEach(function(n){Sre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$N(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sre(e,t,r){return(t=kre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kre(e){var t=jre(e,"string");return typeof t=="symbol"?t:t+""}function jre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ere(e){return e.dataKey}function Ore(e,t){return x.isValidElement(e)?x.cloneElement(e,t):typeof e=="function"?x.createElement(e,t):x.createElement(iY,t)}var IN=[],Nre={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Are(e){var t,r,n=Kr(e,Nre),{active:a,allowEscapeViewBox:s,animationDuration:l,animationEasing:c,content:d,filterNull:f,isAnimationActive:m,offset:g,payloadUniqBy:v,position:y,reverseDirection:S,useTranslate3d:k,wrapperStyle:_,cursor:j,shared:N,trigger:E,defaultIndex:C,portal:A,axisId:T}=n,P=Bt(),M=typeof C=="number"?String(C):C;x.useEffect(()=>{P(kee({shared:N,trigger:E,axisId:T,active:a,defaultIndex:M}))},[P,N,E,T,a,M]);var $=Pc(),L=cD(),R=yee(N),{activeIndex:q,isActive:V}=(t=Ee(ee=>Cte(ee,R,E,M)))!==null&&t!==void 0?t:{},oe=Ee(ee=>Tte(ee,R,E,M)),de=Ee(ee=>O3(ee,R,E,M)),U=Ee(ee=>Ate(ee,R,E,M)),K=oe,W=tre(),fe=(r=a??V)!==null&&r!==void 0?r:!1,[pe,I]=HK([K,fe]),Y=R==="axis"?de:void 0;_re(R,E,U,Y,q,fe);var Q=A??W;if(Q==null||$==null||R==null)return null;var F=K??IN;fe||(F=IN),f&&F.length&&(F=pK(F.filter(ee=>ee.value!=null&&(ee.hide!==!0||n.includeHidden)),v,Ere));var ae=F.length>0,re=x.createElement(fY,{allowEscapeViewBox:s,animationDuration:l,animationEasing:c,isAnimationActive:m,active:fe,coordinate:U,hasPayload:ae,offset:g,position:y,reverseDirection:S,useTranslate3d:k,viewBox:$,wrapperStyle:_,lastBoundingBox:pe,innerRef:I,hasPortalFromProps:!!A},Ore(d,LN(LN({},n),{},{payload:F,label:Y,active:fe,activeIndex:q,coordinate:U,accessibilityLayer:L})));return x.createElement(x.Fragment,null,Xs.createPortal(re,Q),fe&&x.createElement(ere,{cursor:j,tooltipEventType:R,coordinate:U,payload:F,index:q}))}function Tre(e,t,r){return(t=Cre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cre(e){var t=Pre(e,"string");return typeof t=="symbol"?t:t+""}function Pre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Dre{constructor(t){Tre(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function zN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mre(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zN(Object(r),!0).forEach(function(n){Rre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rre(e,t,r){return(t=$re(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $re(e){var t=Lre(e,"string");return typeof t=="symbol"?t:t+""}function Lre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ire={cacheSize:2e3,enableCache:!0},P3=Mre({},Ire),UN=new Dre(P3.cacheSize),zre={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},BN="recharts_measurement_span";function Ure(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",s=t.fontStyle||"",l=t.letterSpacing||"",c=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(s,"|").concat(l,"|").concat(c)}var qN=(e,t)=>{try{var r=document.getElementById(BN);r||(r=document.createElement("span"),r.setAttribute("id",BN),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,zre,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Xu=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||jl.isSsr)return{width:0,height:0};if(!P3.enableCache)return qN(t,r);var n=Ure(t,r),a=UN.get(n);if(a)return a;var s=qN(t,r);return UN.set(n,s),s},HN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,FN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Bre=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,qre=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,D3={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Hre=Object.keys(D3),tl="NaN";function Fre(e,t){return e*D3[t]}class qr{static parse(t){var r,[,n,a]=(r=qre.exec(t))!==null&&r!==void 0?r:[];return new qr(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,hn(t)&&(this.unit=""),r!==""&&!Bre.test(r)&&(this.num=NaN,this.unit=""),Hre.includes(r)&&(this.num=Fre(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new qr(NaN,""):new qr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new qr(NaN,""):new qr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new qr(NaN,""):new qr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new qr(NaN,""):new qr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return hn(this.num)}}function M3(e){if(e.includes(tl))return tl;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,s]=(r=HN.exec(t))!==null&&r!==void 0?r:[],l=qr.parse(n??""),c=qr.parse(s??""),d=a==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return tl;t=t.replace(HN,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,m,g,v]=(f=FN.exec(t))!==null&&f!==void 0?f:[],y=qr.parse(m??""),S=qr.parse(v??""),k=g==="+"?y.add(S):y.subtract(S);if(k.isNaN())return tl;t=t.replace(FN,k.toString())}return t}var VN=/\(([^()]*)\)/;function Vre(e){for(var t=e,r;(r=VN.exec(t))!=null;){var[,n]=r;t=t.replace(VN,M3(n))}return t}function Kre(e){var t=e.replace(/\s+/g,"");return t=Vre(t),t=M3(t),t}function Zre(e){try{return Kre(e)}catch{return tl}}function py(e){var t=Zre(e.slice(5,-1));return t===tl?"":t}var Gre=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Yre=["dx","dy","angle","className","breakAll"];function Zb(){return Zb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zb.apply(null,arguments)}function KN(e,t){if(e==null)return{};var r,n,a=Wre(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Wre(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var R3=/[ \f\n\r\t\v\u2028\u2029]+/,$3=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];cr(t)||(r?a=t.toString().split(""):a=t.toString().split(R3));var s=a.map(c=>({word:c,width:Xu(c,n).width})),l=r?0:Xu("",n).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}};function Xre(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var L3=(e,t,r,n)=>e.reduce((a,s)=>{var{word:l,width:c}=s,d=a[a.length-1];if(d&&c!=null&&(t==null||n||d.width+c+r<Number(t)))d.words.push(l),d.width+=c+r;else{var f={words:[l],width:c};a.push(f)}return a},[]),I3=e=>e.reduce((t,r)=>t.width>r.width?t:r),Jre="",ZN=(e,t,r,n,a,s,l,c)=>{var d=e.slice(0,t),f=$3({breakAll:r,style:n,children:d+Jre});if(!f)return[!1,[]];var m=L3(f.wordsWithComputedWidth,s,l,c),g=m.length>a||I3(m).width>Number(s);return[g,m]},Qre=(e,t,r,n,a)=>{var{maxLines:s,children:l,style:c,breakAll:d}=e,f=Oe(s),m=String(l),g=L3(t,n,r,a);if(!f||a)return g;var v=g.length>s||I3(g).width>Number(n);if(!v)return g;for(var y=0,S=m.length-1,k=0,_;y<=S&&k<=m.length-1;){var j=Math.floor((y+S)/2),N=j-1,[E,C]=ZN(m,N,d,c,s,n,r,a),[A]=ZN(m,j,d,c,s,n,r,a);if(!E&&!A&&(y=j+1),E&&A&&(S=j-1),!E&&A){_=C;break}k++}return _||g},GN=e=>{var t=cr(e)?[]:e.toString().split(R3);return[{words:t,width:void 0}]},ene=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:s,maxLines:l}=e;if((t||r)&&!jl.isSsr){var c,d,f=$3({breakAll:s,children:n,style:a});if(f){var{wordsWithComputedWidth:m,spaceWidth:g}=f;c=m,d=g}else return GN(n);return Qre({breakAll:s,children:n,maxLines:l,style:a},c,d,t,!!r)}return GN(n)},z3="#808080",tne={angle:0,breakAll:!1,capHeight:"0.71em",fill:z3,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Xw=x.forwardRef((e,t)=>{var r=Kr(e,tne),{x:n,y:a,lineHeight:s,capHeight:l,fill:c,scaleToFit:d,textAnchor:f,verticalAnchor:m}=r,g=KN(r,Gre),v=x.useMemo(()=>ene({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:d,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,d,g.style,g.width]),{dx:y,dy:S,angle:k,className:_,breakAll:j}=g,N=KN(g,Yre);if(!Pn(n)||!Pn(a)||v.length===0)return null;var E=Number(n)+(Oe(y)?y:0),C=Number(a)+(Oe(S)?S:0);if(!st(E)||!st(C))return null;var A;switch(m){case"start":A=py("calc(".concat(l,")"));break;case"middle":A=py("calc(".concat((v.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:A=py("calc(".concat(v.length-1," * -").concat(s,")"));break}var T=[];if(d){var P=v[0].width,{width:M}=g;T.push("scale(".concat(Oe(M)&&Oe(P)?M/P:1,")"))}return k&&T.push("rotate(".concat(k,", ").concat(E,", ").concat(C,")")),T.length&&(N.transform=T.join(" ")),x.createElement("text",Zb({},fn(N),{ref:t,x:E,y:C,className:ot("recharts-text",_),textAnchor:f,fill:c.includes("url")?z3:c}),v.map(($,L)=>{var R=$.words.join(j?"":" ");return x.createElement("tspan",{x:E,dy:L===0?A:s,key:"".concat(R,"-").concat(L)},R)}))});Xw.displayName="Text";var rne=["labelRef"];function nne(e,t){if(e==null)return{};var r,n,a=ane(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ane(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function YN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Et(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YN(Object(r),!0).forEach(function(n){ine(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ine(e,t,r){return(t=sne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sne(e){var t=one(e,"string");return typeof t=="symbol"?t:t+""}function one(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ba(){return Ba=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ba.apply(null,arguments)}var U3=x.createContext(null),B3=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:l,children:c}=e,d=x.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:l}),[t,r,n,a,s,l]);return x.createElement(U3.Provider,{value:d},c)},q3=()=>{var e=x.useContext(U3),t=Pc();return e||QP(t)},lne=x.createContext(null),une=()=>{var e=x.useContext(lne),t=Ee(b4);return e||t},cne=e=>{var{value:t,formatter:r}=e,n=cr(e.children)?t:e.children;return typeof r=="function"?r(n):n},Jw=e=>e!=null&&typeof e=="function",dne=(e,t)=>{var r=Tn(t-e),n=Math.min(Math.abs(t-e),360);return r*n},fne=(e,t,r,n,a)=>{var{offset:s,className:l}=e,{cx:c,cy:d,innerRadius:f,outerRadius:m,startAngle:g,endAngle:v,clockWise:y}=a,S=(f+m)/2,k=dne(g,v),_=k>=0?1:-1,j,N;switch(t){case"insideStart":j=g+_*s,N=y;break;case"insideEnd":j=v-_*s,N=!y;break;case"end":j=v+_*s,N=y;break;default:throw new Error("Unsupported position ".concat(t))}N=k<=0?N:!N;var E=ur(c,d,S,j),C=ur(c,d,S,j+(N?1:-1)*359),A="M".concat(E.x,",").concat(E.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(N?0:1,`,
    `).concat(C.x,",").concat(C.y),T=cr(e.id)?sc("recharts-radial-line-"):e.id;return x.createElement("text",Ba({},n,{dominantBaseline:"central",className:ot("recharts-radial-bar-label",l)}),x.createElement("defs",null,x.createElement("path",{id:T,d:A})),x.createElement("textPath",{xlinkHref:"#".concat(T)},r))},hne=(e,t,r)=>{var{cx:n,cy:a,innerRadius:s,outerRadius:l,startAngle:c,endAngle:d}=e,f=(c+d)/2;if(r==="outside"){var{x:m,y:g}=ur(n,a,l+t,f);return{x:m,y:g,textAnchor:m>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var v=(s+l)/2,{x:y,y:S}=ur(n,a,v,f);return{x:y,y:S,textAnchor:"middle",verticalAnchor:"middle"}},Gb=e=>"cx"in e&&Oe(e.cx),mne=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,s;r!=null&&!Gb(r)&&(s=r);var{x:l,y:c,upperWidth:d,lowerWidth:f,height:m}=t,g=l,v=l+(d-f)/2,y=(g+v)/2,S=(d+f)/2,k=g+d/2,_=m>=0?1:-1,j=_*n,N=_>0?"end":"start",E=_>0?"start":"end",C=d>=0?1:-1,A=C*n,T=C>0?"end":"start",P=C>0?"start":"end";if(a==="top"){var M={x:g+d/2,y:c-j,textAnchor:"middle",verticalAnchor:N};return Et(Et({},M),s?{height:Math.max(c-s.y,0),width:d}:{})}if(a==="bottom"){var $={x:v+f/2,y:c+m+j,textAnchor:"middle",verticalAnchor:E};return Et(Et({},$),s?{height:Math.max(s.y+s.height-(c+m),0),width:f}:{})}if(a==="left"){var L={x:y-A,y:c+m/2,textAnchor:T,verticalAnchor:"middle"};return Et(Et({},L),s?{width:Math.max(L.x-s.x,0),height:m}:{})}if(a==="right"){var R={x:y+S+A,y:c+m/2,textAnchor:P,verticalAnchor:"middle"};return Et(Et({},R),s?{width:Math.max(s.x+s.width-R.x,0),height:m}:{})}var q=s?{width:S,height:m}:{};return a==="insideLeft"?Et({x:y+A,y:c+m/2,textAnchor:P,verticalAnchor:"middle"},q):a==="insideRight"?Et({x:y+S-A,y:c+m/2,textAnchor:T,verticalAnchor:"middle"},q):a==="insideTop"?Et({x:g+d/2,y:c+j,textAnchor:"middle",verticalAnchor:E},q):a==="insideBottom"?Et({x:v+f/2,y:c+m-j,textAnchor:"middle",verticalAnchor:N},q):a==="insideTopLeft"?Et({x:g+A,y:c+j,textAnchor:P,verticalAnchor:E},q):a==="insideTopRight"?Et({x:g+d-A,y:c+j,textAnchor:T,verticalAnchor:E},q):a==="insideBottomLeft"?Et({x:v+A,y:c+m-j,textAnchor:P,verticalAnchor:N},q):a==="insideBottomRight"?Et({x:v+f-A,y:c+m-j,textAnchor:T,verticalAnchor:N},q):a&&typeof a=="object"&&(Oe(a.x)||Xa(a.x))&&(Oe(a.y)||Xa(a.y))?Et({x:l+Zi(a.x,S),y:c+Zi(a.y,m),textAnchor:"end",verticalAnchor:"end"},q):Et({x:k,y:c+m/2,textAnchor:"middle",verticalAnchor:"middle"},q)},pne={angle:0,offset:5,zIndex:wr.label,position:"middle",textBreakAll:!1};function Ii(e){var t=Kr(e,pne),{viewBox:r,position:n,value:a,children:s,content:l,className:c="",textBreakAll:d,labelRef:f}=t,m=une(),g=q3(),v=n==="center"?g:m??g,y,S,k;if(r==null?y=v:Gb(r)?y=r:y=QP(r),!y||cr(a)&&cr(s)&&!x.isValidElement(l)&&typeof l!="function")return null;var _=Et(Et({},t),{},{viewBox:y});if(x.isValidElement(l)){var{labelRef:j}=_,N=nne(_,rne);return x.cloneElement(l,N)}if(typeof l=="function"){if(S=x.createElement(l,_),x.isValidElement(S))return S}else S=cne(t);var E=fn(t);if(Gb(y)){if(n==="insideStart"||n==="insideEnd"||n==="end")return fne(t,n,S,E,y);k=hne(y,t.offset,t.position)}else k=mne(t,y);return x.createElement(pa,{zIndex:t.zIndex},x.createElement(Xw,Ba({ref:f,className:ot("recharts-label",c)},E,k,{textAnchor:Xre(E.textAnchor)?E.textAnchor:k.textAnchor,breakAll:d}),S))}Ii.displayName="Label";var gne=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?x.createElement(Ii,Ba({key:"label-implicit"},n)):Pn(e)?x.createElement(Ii,Ba({key:"label-implicit",value:e},n)):x.isValidElement(e)?e.type===Ii?x.cloneElement(e,Et({key:"label-implicit"},n)):x.createElement(Ii,Ba({key:"label-implicit",content:e},n)):Jw(e)?x.createElement(Ii,Ba({key:"label-implicit",content:e},n)):e&&typeof e=="object"?x.createElement(Ii,Ba({},e,{key:"label-implicit"},n)):null};function H3(e){var{label:t,labelRef:r}=e,n=q3();return gne(t,n,r)||null}var gy={},vy={},WN;function vne(){return WN||(WN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(vy)),vy}var yy={},XN;function yne(){return XN||(XN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(yy)),yy}var JN;function bne(){return JN||(JN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vne(),r=yne(),n=zx();function a(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=a})(gy)),gy}var by,QN;function xne(){return QN||(QN=1,by=bne().last),by}var wne=xne();const _ne=ni(wne);var Sne=["valueAccessor"],kne=["dataKey","clockWise","id","textBreakAll","zIndex"];function r0(){return r0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r0.apply(null,arguments)}function e5(e,t){if(e==null)return{};var r,n,a=jne(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function jne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ene=e=>Array.isArray(e.value)?_ne(e.value):e.value,F3=x.createContext(void 0),One=F3.Provider,V3=x.createContext(void 0);V3.Provider;function Nne(){return x.useContext(F3)}function Ane(){return x.useContext(V3)}function nh(e){var{valueAccessor:t=Ene}=e,r=e5(e,Sne),{dataKey:n,clockWise:a,id:s,textBreakAll:l,zIndex:c}=r,d=e5(r,kne),f=Nne(),m=Ane(),g=f||m;return!g||!g.length?null:x.createElement(pa,{zIndex:c??wr.label},x.createElement(Wn,{className:"recharts-label-list"},g.map((v,y)=>{var S,k=cr(n)?t(v,y):_r(v&&v.payload,n),_=cr(s)?{}:{id:"".concat(s,"-").concat(y)};return x.createElement(Ii,r0({key:"label-".concat(y)},fn(v),d,_,{fill:(S=r.fill)!==null&&S!==void 0?S:v.fill,parentViewBox:v.parentViewBox,value:k,textBreakAll:l,viewBox:v.viewBox,index:y,zIndex:0}))})))}nh.displayName="LabelList";function Tne(e){var{label:t}=e;return t?t===!0?x.createElement(nh,{key:"labelList-implicit"}):x.isValidElement(t)||Jw(t)?x.createElement(nh,{key:"labelList-implicit",content:t}):typeof t=="object"?x.createElement(nh,r0({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Yb(){return Yb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yb.apply(null,arguments)}var K3=e=>{var{cx:t,cy:r,r:n,className:a}=e,s=ot("recharts-dot",a);return Oe(t)&&Oe(r)&&Oe(n)?x.createElement("circle",Yb({},Yn(e),Ix(e),{className:s,cx:t,cy:r,r:n})):null},Cne={radiusAxis:{},angleAxis:{}},Z3=Zr({name:"polarAxis",initialState:Cne,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:xue,removeRadiusAxis:wue,addAngleAxis:_ue,removeAngleAxis:Sue}=Z3.actions,Pne=Z3.reducer,G3=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0;function Dne(e){var{tooltipEntrySettings:t}=e,r=Bt(),n=Pr(),a=x.useRef(null);return x.useLayoutEffect(()=>{n||(a.current===null?r(wee(t)):a.current!==t&&r(_ee({prev:a.current,next:t})),a.current=t)},[t,r,n]),x.useLayoutEffect(()=>()=>{a.current&&(r(See(a.current)),a.current=null)},[r]),null}function Mne(e){var{legendPayload:t}=e,r=Bt(),n=Pr(),a=x.useRef(null);return x.useLayoutEffect(()=>{n||(a.current===null?r(XG(t)):a.current!==t&&r(JG({prev:a.current,next:t})),a.current=t)},[r,n,t]),x.useLayoutEffect(()=>()=>{a.current&&(r(QG(a.current)),a.current=null)},[r]),null}var xy,Rne=()=>{var[e]=x.useState(()=>sc("uid-"));return e},$ne=(xy=ky.useId)!==null&&xy!==void 0?xy:Rne;function Y3(e,t){var r=$ne();return t||(e?"".concat(e,"-").concat(r):r)}var Lne=x.createContext(void 0),Ine=e=>{var{id:t,type:r,children:n}=e,a=Y3("recharts-".concat(r),t);return x.createElement(Lne.Provider,{value:a},n(a))},zne={cartesianItems:[],polarItems:[]},W3=Zr({name:"graphicalItems",initialState:zne,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:mt()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Gn(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:mt()},removeCartesianGraphicalItem:{reducer(e,t){var r=Gn(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:mt()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:mt()},removePolarGraphicalItem:{reducer(e,t){var r=Gn(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:mt()}}}),{addCartesianGraphicalItem:Une,replaceCartesianGraphicalItem:Bne,removeCartesianGraphicalItem:qne,addPolarGraphicalItem:kue,removePolarGraphicalItem:jue}=W3.actions,Hne=W3.reducer,Fne=e=>{var t=Bt(),r=x.useRef(null);return x.useLayoutEffect(()=>{r.current===null?t(Une(e)):r.current!==e&&t(Bne({prev:r.current,next:e})),r.current=e},[t,e]),x.useLayoutEffect(()=>()=>{r.current&&(t(qne(r.current)),r.current=null)},[t]),null},Vne=x.memo(Fne),Kne=["points"];function t5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t5(Object(r),!0).forEach(function(n){Zne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zne(e,t,r){return(t=Gne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gne(e){var t=Yne(e,"string");return typeof t=="symbol"?t:t+""}function Yne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function n0(){return n0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n0.apply(null,arguments)}function Wne(e,t){if(e==null)return{};var r,n,a=Xne(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Xne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Jne(e){var{option:t,dotProps:r,className:n}=e;if(x.isValidElement(t))return x.cloneElement(t,r);if(typeof t=="function")return t(r);var a=ot(n,typeof t!="boolean"?t.className:""),s=r??{},{points:l}=s,c=Wne(s,Kne);return x.createElement(K3,n0({},c,{className:a}))}function Qne(e,t){return e==null?!1:t?!0:e.length===1}function eae(e){var{points:t,dot:r,className:n,dotClassName:a,dataKey:s,baseProps:l,needClip:c,clipPathId:d,zIndex:f=wr.scatter}=e;if(!Qne(t,r))return null;var m=G3(r),g=uV(r),v=t.map((S,k)=>{var _,j,N=wy(wy(wy({r:3},l),g),{},{index:k,cx:(_=S.x)!==null&&_!==void 0?_:void 0,cy:(j=S.y)!==null&&j!==void 0?j:void 0,dataKey:s,value:S.value,payload:S.payload,points:t});return x.createElement(Jne,{key:"dot-".concat(k),option:r,dotProps:N,className:a})}),y={};return c&&d!=null&&(y.clipPath="url(#clipPath-".concat(m?"":"dots-").concat(d,")")),x.createElement(pa,{zIndex:f},x.createElement(Wn,n0({className:n},y),v))}function r5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function n5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r5(Object(r),!0).forEach(function(n){tae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tae(e,t,r){return(t=rae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rae(e){var t=nae(e,"string");return typeof t=="symbol"?t:t+""}function nae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aae={xAxis:{},yAxis:{},zAxis:{}},X3=Zr({name:"cartesianAxis",initialState:aae,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:mt()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:mt()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:mt()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:mt()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:mt()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:mt()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:mt()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:mt()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:mt()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var s=a.widthHistory||[];if(s.length===3&&s[0]===s[2]&&n===s[1]&&n!==a.width&&Math.abs(n-s[0])<=1)return;var l=[...s,n].slice(-3);e.yAxis[r]=n5(n5({},e.yAxis[r]),{},{width:n,widthHistory:l})}}}}),{addXAxis:iae,replaceXAxis:sae,removeXAxis:oae,addYAxis:lae,replaceYAxis:uae,removeYAxis:cae,addZAxis:Eue,replaceZAxis:Oue,removeZAxis:Nue,updateYAxisWidth:dae}=X3.actions,fae=X3.reducer,hae=ne([hr],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),mae=ne([hae,oi,li],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),Qw=()=>Ee(mae),pae=()=>Ee(pte);function a5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _y(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a5(Object(r),!0).forEach(function(n){gae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gae(e,t,r){return(t=vae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vae(e){var t=yae(e,"string");return typeof t=="symbol"?t:t+""}function yae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bae=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:s,clipPath:l}=e;if(a===!1||t.x==null||t.y==null)return null;var c={index:r,dataKey:s,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},d=_y(_y(_y({},c),P0(a)),Ix(a)),f;return x.isValidElement(a)?f=x.cloneElement(a,d):typeof a=="function"?f=a(d):f=x.createElement(K3,d),x.createElement(Wn,{className:"recharts-active-dot",clipPath:l},f)};function i5(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a,clipPath:s,zIndex:l=wr.activeDot}=e,c=Ee(bc),d=pae();if(t==null||d==null)return null;var f=t.find(m=>d.includes(m.payload));return cr(f)?null:x.createElement(pa,{zIndex:l},x.createElement(bae,{point:f,childIndex:Number(c),mainColor:r,dataKey:a,activeDot:n,clipPath:s}))}var xae={},J3=Zr({name:"errorBars",initialState:xae,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?a:s))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:Aue,replaceErrorBar:Tue,removeErrorBar:Cue}=J3.actions,wae=J3.reducer;function Q3(e,t){var r,n,a=Ee(f=>ha(f,e)),s=Ee(f=>ma(f,t)),l=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:Yt.allowDataOverflow,c=(n=s?.allowDataOverflow)!==null&&n!==void 0?n:Wt.allowDataOverflow,d=l||c;return{needClip:d,needClipX:l,needClipY:c}}function _ae(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=Qw(),{needClipX:s,needClipY:l,needClip:c}=Q3(t,r);if(!c||!a)return null;var{x:d,y:f,width:m,height:g}=a;return x.createElement("clipPath",{id:"clipPath-".concat(n)},x.createElement("rect",{x:s?d:d-m/2,y:l?f:f-g/2,width:s?m:m*2,height:l?g:g*2}))}function Sae(e){e()}function kae(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Sae(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var s5={notify(){},get:()=>[]};function jae(e,t){let r,n=s5,a=0,s=!1;function l(k){m();const _=n.subscribe(k);let j=!1;return()=>{j||(j=!0,_(),g())}}function c(){n.notify()}function d(){S.onStateChange&&S.onStateChange()}function f(){return s}function m(){a++,r||(r=e.subscribe(d),n=kae())}function g(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=s5)}function v(){s||(s=!0,m())}function y(){s&&(s=!1,g())}const S={addNestedSub:l,notifyNestedSubs:c,handleChangeWrapper:d,isSubscribed:f,trySubscribe:v,tryUnsubscribe:y,getListeners:()=>n};return S}var Eae=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Oae=Eae(),Nae=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Aae=Nae(),Tae=()=>Oae||Aae?x.useLayoutEffect:x.useEffect,Cae=Tae();function o5(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Pae(e,t){if(o5(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!o5(e[r[a]],t[r[a]]))return!1;return!0}var Dae=Symbol.for("react-redux-context"),Mae=typeof globalThis<"u"?globalThis:{};function Rae(){if(!x.createContext)return{};const e=Mae[Dae]??=new Map;let t=e.get(x.createContext);return t||(t=x.createContext(null),e.set(x.createContext,t)),t}var $ae=Rae();function Lae(e){const{children:t,context:r,serverState:n,store:a}=e,s=x.useMemo(()=>{const d=jae(a);return{store:a,subscription:d,getServerState:n?()=>n:void 0}},[a,n]),l=x.useMemo(()=>a.getState(),[a]);Cae(()=>{const{subscription:d}=s;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==a.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[s,l]);const c=r||$ae;return x.createElement(c.Provider,{value:s},t)}var Iae=Lae,zae=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function Uae(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function e1(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(zae.has(n)){if(e[n]==null&&t[n]==null)continue;if(!Pae(e[n],t[n]))return!1}else if(!Uae(e[n],t[n]))return!1;return!0}var Bae=e=>{var{chartData:t}=e,r=Bt(),n=Pr();return x.useEffect(()=>n?()=>{}:(r(MN(t)),()=>{r(MN(void 0))}),[t,r,n]),null},l5={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},eM=Zr({name:"brush",initialState:l5,reducers:{setBrushSettings(e,t){return t.payload==null?l5:t.payload}}}),{setBrushSettings:Pue}=eM.actions,qae=eM.reducer;function u5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u5(Object(r),!0).forEach(function(n){tM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tM(e,t,r){return(t=Hae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hae(e){var t=Fae(e,"string");return typeof t=="symbol"?t:t+""}function Fae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vae=(e,t)=>{var{x:r,y:n}=e,{x:a,y:s}=t;return{x:Math.min(r,a),y:Math.min(n,s),width:Math.abs(a-r),height:Math.abs(s-n)}},Kae=e=>{var{x1:t,y1:r,x2:n,y2:a}=e;return Vae({x:t,y:r},{x:n,y:a})};class mm{static create(t){return new mm(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(r){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}tM(mm,"EPS",1e-4);var Zae=e=>{var t=Object.keys(e).reduce((r,n)=>Vf(Vf({},r),{},{[n]:mm.create(e[n])}),{});return Vf(Vf({},t),{},{apply(r){var{bandAware:n,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(r).map(s=>{var[l,c]=s;return[l,t[l].apply(c,{bandAware:n,position:a})]}))},isInRange(r){return Object.keys(r).every(n=>t[n].isInRange(r[n]))}})};function Gae(e){return(e%180+180)%180}var Yae=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Gae(a),l=s*Math.PI/180,c=Math.atan(n/r),d=l>c&&l<Math.PI-c?n/Math.sin(l):r/Math.cos(l);return Math.abs(d)},Wae={dots:[],areas:[],lines:[]},rM=Zr({name:"referenceElements",initialState:Wae,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Gn(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Gn(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Gn(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:Due,removeDot:Mue,addArea:Rue,removeArea:$ue,addLine:Xae,removeLine:Jae}=rM.actions,Qae=rM.reducer,nM=x.createContext(void 0),eie=e=>{var{children:t}=e,[r]=x.useState("".concat(sc("recharts"),"-clip")),n=Qw();if(n==null)return null;var{x:a,y:s,width:l,height:c}=n;return x.createElement(nM.Provider,{value:r},x.createElement("defs",null,x.createElement("clipPath",{id:r},x.createElement("rect",{x:a,y:s,height:c,width:l}))),t)},tie=()=>x.useContext(nM);function c5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function d5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c5(Object(r),!0).forEach(function(n){rie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rie(e,t,r){return(t=nie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nie(e){var t=aie(e,"string");return typeof t=="symbol"?t:t+""}function aie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function a0(){return a0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a0.apply(null,arguments)}var iie=(e,t)=>{var r;if(x.isValidElement(e))r=x.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{if(!st(t.x1)||!st(t.y1)||!st(t.x2)||!st(t.y2))return null;r=x.createElement("line",a0({},t,{className:"recharts-reference-line-line"}))}return r},sie=(e,t,r,n,a,s)=>{var{x:l,width:c}=s,d=a.y.apply(e,{position:r});if(hn(d)||t==="discard"&&!a.y.isInRange(d))return null;var f=[{x:l+c,y:d},{x:l,y:d}];return n==="left"?f.reverse():f},oie=(e,t,r,n,a,s)=>{var{y:l,height:c}=s,d=a.x.apply(e,{position:r});if(hn(d)||t==="discard"&&!a.x.isInRange(d))return null;var f=[{x:d,y:l+c},{x:d,y:l}];return n==="top"?f.reverse():f},lie=(e,t,r,n)=>{var a=e.map(s=>n.apply(s,{position:r}));return t==="discard"&&a.some(s=>!n.isInRange(s))?null:a},uie=(e,t,r,n,a,s)=>{var{x:l,y:c,segment:d,ifOverflow:f}=s,m=Pn(l),g=Pn(c);return g?sie(c,f,r,a,e,t):m?oie(l,f,r,n,e,t):d!=null&&d.length===2?lie(d,f,r,e):null};function cie(e){var t=Bt();return x.useEffect(()=>(t(Xae(e)),()=>{t(Jae(e))})),null}function die(e){var{xAxisId:t,yAxisId:r,shape:n,className:a,ifOverflow:s}=e,l=Pr(),c=tie(),d=Ee(T=>ha(T,t)),f=Ee(T=>ma(T,r)),m=Ee(T=>Yi(T,"xAxis",t,l)),g=Ee(T=>Yi(T,"yAxis",r,l)),v=Pc();if(!c||!v||d==null||f==null||m==null||g==null)return null;var y=Zae({x:m,y:g}),S=uie(y,v,e.position,d.orientation,f.orientation,e);if(!S)return null;var[{x:k,y:_},{x:j,y:N}]=S,E=s==="hidden"?"url(#".concat(c,")"):void 0,C=d5(d5({clipPath:E},fn(e)),{},{x1:k,y1:_,x2:j,y2:N}),A=Kae({x1:k,y1:_,x2:j,y2:N});return x.createElement(pa,{zIndex:e.zIndex},x.createElement(Wn,{className:ot("recharts-reference-line",a)},iie(n,C),x.createElement(B3,a0({},A,{lowerWidth:A.width,upperWidth:A.width}),x.createElement(H3,{label:e.label}),e.children)))}var fie={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:wr.line};function aM(e){var t=Kr(e,fie);return x.createElement(x.Fragment,null,x.createElement(cie,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y,segment:t.segment}),x.createElement(die,t))}aM.displayName="ReferenceLine";function iM(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r}function hie(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Yae(n,r)}function mie(e,t,r){var n=r==="width",{x:a,y:s,width:l,height:c}=e;return t===1?{start:n?a:s,end:n?a+l:s+c}:{start:n?a+l:s+c,end:n?a:s}}function i0(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function pie(e,t){return iM(e,t+1)}function gie(e,t,r,n,a){for(var s=(n||[]).slice(),{start:l,end:c}=t,d=0,f=1,m=l,g=function(){var S=n?.[d];if(S===void 0)return{v:iM(n,f)};var k=d,_,j=()=>(_===void 0&&(_=r(S,k)),_),N=S.coordinate,E=d===0||i0(e,N,j,m,c);E||(d=0,m=l,f+=1),E&&(m=N+e*(j()/2+a),d+=f)},v;f<=s.length;)if(v=g(),v)return v.v;return[]}function f5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function br(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f5(Object(r),!0).forEach(function(n){vie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vie(e,t,r){return(t=yie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yie(e){var t=bie(e,"string");return typeof t=="symbol"?t:t+""}function bie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xie(e,t,r,n,a){for(var s=(n||[]).slice(),l=s.length,{start:c}=t,{end:d}=t,f=function(v){var y=s[v],S,k=()=>(S===void 0&&(S=r(y,v)),S);if(v===l-1){var _=e*(y.coordinate+e*k()/2-d);s[v]=y=br(br({},y),{},{tickCoord:_>0?y.coordinate-_*e:y.coordinate})}else s[v]=y=br(br({},y),{},{tickCoord:y.coordinate});if(y.tickCoord!=null){var j=i0(e,y.tickCoord,k,c,d);j&&(d=y.tickCoord-e*(k()/2+a),s[v]=br(br({},y),{},{isShow:!0}))}},m=l-1;m>=0;m--)f(m);return s}function wie(e,t,r,n,a,s){var l=(n||[]).slice(),c=l.length,{start:d,end:f}=t;if(s){var m=n[c-1],g=r(m,c-1),v=e*(m.coordinate+e*g/2-f);if(l[c-1]=m=br(br({},m),{},{tickCoord:v>0?m.coordinate-v*e:m.coordinate}),m.tickCoord!=null){var y=i0(e,m.tickCoord,()=>g,d,f);y&&(f=m.tickCoord-e*(g/2+a),l[c-1]=br(br({},m),{},{isShow:!0}))}}for(var S=s?c-1:c,k=function(N){var E=l[N],C,A=()=>(C===void 0&&(C=r(E,N)),C);if(N===0){var T=e*(E.coordinate-e*A()/2-d);l[N]=E=br(br({},E),{},{tickCoord:T<0?E.coordinate-T*e:E.coordinate})}else l[N]=E=br(br({},E),{},{tickCoord:E.coordinate});if(E.tickCoord!=null){var P=i0(e,E.tickCoord,A,d,f);P&&(d=E.tickCoord+e*(A()/2+a),l[N]=br(br({},E),{},{isShow:!0}))}},_=0;_<S;_++)k(_);return l}function t1(e,t,r){var{tick:n,ticks:a,viewBox:s,minTickGap:l,orientation:c,interval:d,tickFormatter:f,unit:m,angle:g}=e;if(!a||!a.length||!n)return[];if(Oe(d)||jl.isSsr){var v;return(v=pie(a,Oe(d)?d:0))!==null&&v!==void 0?v:[]}var y=[],S=c==="top"||c==="bottom"?"width":"height",k=m&&S==="width"?Xu(m,{fontSize:t,letterSpacing:r}):{width:0,height:0},_=(E,C)=>{var A=typeof f=="function"?f(E.value,C):E.value;return S==="width"?hie(Xu(A,{fontSize:t,letterSpacing:r}),k,g):Xu(A,{fontSize:t,letterSpacing:r})[S]},j=a.length>=2?Tn(a[1].coordinate-a[0].coordinate):1,N=mie(s,j,S);return d==="equidistantPreserveStart"?gie(j,N,_,a,l):(d==="preserveStart"||d==="preserveStartEnd"?y=wie(j,N,_,a,l,d==="preserveStartEnd"):y=xie(j,N,_,a,l),y.filter(E=>E.isShow))}var _ie=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:s=0}=e,l=0;if(t){Array.from(t).forEach(m=>{if(m){var g=m.getBoundingClientRect();g.width>l&&(l=g.width)}});var c=r?r.getBoundingClientRect().width:0,d=a+s,f=l+d+c+(r?n:0);return Math.round(f)}return 0},Sie=["axisLine","width","height","className","hide","ticks","axisType"];function kie(e,t){if(e==null)return{};var r,n,a=jie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function jie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ks(){return Ks=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ks.apply(null,arguments)}function h5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h5(Object(r),!0).forEach(function(n){Eie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Eie(e,t,r){return(t=Oie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oie(e){var t=Nie(e,"string");return typeof t=="symbol"?t:t+""}function Nie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ga={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:wr.axis};function Aie(e){var{x:t,y:r,width:n,height:a,orientation:s,mirror:l,axisLine:c,otherSvgProps:d}=e;if(!c)return null;var f=Rt(Rt(Rt({},d),Yn(c)),{},{fill:"none"});if(s==="top"||s==="bottom"){var m=+(s==="top"&&!l||s==="bottom"&&l);f=Rt(Rt({},f),{},{x1:t,y1:r+m*a,x2:t+n,y2:r+m*a})}else{var g=+(s==="left"&&!l||s==="right"&&l);f=Rt(Rt({},f),{},{x1:t+g*n,y1:r,x2:t+g*n,y2:r+a})}return x.createElement("line",Ks({},f,{className:ot("recharts-cartesian-axis-line",R0(c,"className"))}))}function Tie(e,t,r,n,a,s,l,c,d){var f,m,g,v,y,S,k=c?-1:1,_=e.tickSize||l,j=Oe(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":f=m=e.coordinate,v=r+ +!c*a,g=v-k*_,S=g-k*d,y=j;break;case"left":g=v=e.coordinate,m=t+ +!c*n,f=m-k*_,y=f-k*d,S=j;break;case"right":g=v=e.coordinate,m=t+ +c*n,f=m+k*_,y=f+k*d,S=j;break;default:f=m=e.coordinate,v=r+ +c*a,g=v+k*_,S=g+k*d,y=j;break}return{line:{x1:f,y1:g,x2:m,y2:v},tick:{x:y,y:S}}}function Cie(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Pie(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Die(e){var{option:t,tickProps:r,value:n}=e,a,s=ot(r.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(t))a=x.cloneElement(t,Rt(Rt({},r),{},{className:s}));else if(typeof t=="function")a=t(Rt(Rt({},r),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=ot(l,t?.className)),a=x.createElement(Xw,Ks({},r,{className:l}),n)}return a}var Mie=x.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:s,tickFormatter:l,unit:c,padding:d,tickTextProps:f,orientation:m,mirror:g,x:v,y,width:S,height:k,tickSize:_,tickMargin:j,fontSize:N,letterSpacing:E,getTicksConfig:C,events:A,axisType:T}=e,P=t1(Rt(Rt({},C),{},{ticks:r}),N,E),M=Cie(m,g),$=Pie(m,g),L=Yn(C),R=P0(n),q={};typeof a=="object"&&(q=a);var V=Rt(Rt({},L),{},{fill:"none"},q),oe=P.map(K=>Rt({entry:K},Tie(K,v,y,S,k,m,_,g,j))),de=oe.map(K=>{var{entry:W,line:fe}=K;return x.createElement(Wn,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(W.value,"-").concat(W.coordinate,"-").concat(W.tickCoord)},a&&x.createElement("line",Ks({},V,fe,{className:ot("recharts-cartesian-axis-tick-line",R0(a,"className"))})))}),U=oe.map((K,W)=>{var{entry:fe,tick:pe}=K,I=Rt(Rt(Rt(Rt({textAnchor:M,verticalAnchor:$},L),{},{stroke:"none",fill:s},R),pe),{},{index:W,payload:fe,visibleTicksCount:P.length,tickFormatter:l,padding:d},f);return x.createElement(Wn,Ks({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(fe.value,"-").concat(fe.coordinate,"-").concat(fe.tickCoord)},VV(A,fe,W)),n&&x.createElement(Die,{option:n,tickProps:I,value:"".concat(typeof l=="function"?l(fe.value,W):fe.value).concat(c||"")}))});return x.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(T,"-ticks")},U.length>0&&x.createElement(pa,{zIndex:wr.label},x.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(T,"-tick-labels"),ref:t},U)),de.length>0&&x.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(T,"-tick-lines")},de))}),Rie=x.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:s,hide:l,ticks:c,axisType:d}=e,f=kie(e,Sie),[m,g]=x.useState(""),[v,y]=x.useState(""),S=x.useRef(null);x.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var _;return _ie({ticks:S.current,label:(_=e.labelRef)===null||_===void 0?void 0:_.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var k=x.useCallback(_=>{if(_){var j=_.getElementsByClassName("recharts-cartesian-axis-tick-value");S.current=j;var N=j[0];if(N){var E=window.getComputedStyle(N),C=E.fontSize,A=E.letterSpacing;(C!==m||A!==v)&&(g(C),y(A))}}},[m,v]);return l||n!=null&&n<=0||a!=null&&a<=0?null:x.createElement(pa,{zIndex:e.zIndex},x.createElement(Wn,{className:ot("recharts-cartesian-axis",s)},x.createElement(Aie,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Yn(e)}),x.createElement(Mie,{ref:k,axisType:d,events:f,fontSize:m,getTicksConfig:e,height:e.height,letterSpacing:v,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:c,unit:e.unit,width:e.width,x:e.x,y:e.y}),x.createElement(B3,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},x.createElement(H3,{label:e.label,labelRef:e.labelRef}),e.children)))}),r1=x.forwardRef((e,t)=>{var r=Kr(e,Ga);return x.createElement(Rie,Ks({},r,{ref:t}))});r1.displayName="CartesianAxis";var $ie=["x1","y1","x2","y2","key"],Lie=["offset"],Iie=["xAxisId","yAxisId"],zie=["xAxisId","yAxisId"];function m5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m5(Object(r),!0).forEach(function(n){Uie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uie(e,t,r){return(t=Bie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bie(e){var t=qie(e,"string");return typeof t=="symbol"?t:t+""}function qie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rs(){return Rs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rs.apply(null,arguments)}function s0(e,t){if(e==null)return{};var r,n,a=Hie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Hie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Fie=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:s,height:l,ry:c}=e;return x.createElement("rect",{x:n,y:a,ry:c,width:s,height:l,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function sM(e){var{option:t,lineItemProps:r}=e,n;if(x.isValidElement(t))n=x.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:s,y1:l,x2:c,y2:d,key:f}=r,m=s0(r,$ie),g=(a=Yn(m))!==null&&a!==void 0?a:{},{offset:v}=g,y=s0(g,Lie);n=x.createElement("line",Rs({},y,{x1:s,y1:l,x2:c,y2:d,fill:"none",key:f}))}return n}function Vie(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:l}=e,c=s0(e,Iie),d=a.map((f,m)=>{var g=xr(xr({},c),{},{x1:t,y1:f,x2:t+r,y2:f,key:"line-".concat(m),index:m});return x.createElement(sM,{key:"line-".concat(m),option:n,lineItemProps:g})});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function Kie(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:l}=e,c=s0(e,zie),d=a.map((f,m)=>{var g=xr(xr({},c),{},{x1:f,y1:t,x2:f,y2:t+r,key:"line-".concat(m),index:m});return x.createElement(sM,{option:n,lineItemProps:g,key:"line-".concat(m)})});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function Zie(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:s,height:l,horizontalPoints:c,horizontal:d=!0}=e;if(!d||!t||!t.length||c==null)return null;var f=c.map(g=>Math.round(g+a-a)).sort((g,v)=>g-v);a!==f[0]&&f.unshift(0);var m=f.map((g,v)=>{var y=!f[v+1],S=y?a+l-g:f[v+1]-g;if(S<=0)return null;var k=v%t.length;return x.createElement("rect",{key:"react-".concat(v),y:g,x:n,height:S,width:s,stroke:"none",fill:t[k],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function Gie(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:s,width:l,height:c,verticalPoints:d}=e;if(!t||!r||!r.length)return null;var f=d.map(g=>Math.round(g+a-a)).sort((g,v)=>g-v);a!==f[0]&&f.unshift(0);var m=f.map((g,v)=>{var y=!f[v+1],S=y?a+l-g:f[v+1]-g;if(S<=0)return null;var k=v%r.length;return x.createElement("rect",{key:"react-".concat(v),x:g,y:s,width:S,height:c,stroke:"none",fill:r[k],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var Yie=(e,t)=>{var{xAxis:r,width:n,height:a,offset:s}=e;return VP(t1(xr(xr(xr({},Ga),r),{},{ticks:KP(r),viewBox:{x:0,y:0,width:n,height:a}})),s.left,s.left+s.width,t)},Wie=(e,t)=>{var{yAxis:r,width:n,height:a,offset:s}=e;return VP(t1(xr(xr(xr({},Ga),r),{},{ticks:KP(r),viewBox:{x:0,y:0,width:n,height:a}})),s.top,s.top+s.height,t)},Xie={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:wr.grid};function oM(e){var t=tD(),r=rD(),n=eD(),a=xr(xr({},Kr(e,Xie)),{},{x:Oe(e.x)?e.x:n.left,y:Oe(e.y)?e.y:n.top,width:Oe(e.width)?e.width:n.width,height:Oe(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:l,x:c,y:d,width:f,height:m,syncWithTicks:g,horizontalValues:v,verticalValues:y}=a,S=Pr(),k=Ee($=>_N($,"xAxis",s,S)),_=Ee($=>_N($,"yAxis",l,S));if(!da(f)||!da(m)||!Oe(c)||!Oe(d))return null;var j=a.verticalCoordinatesGenerator||Yie,N=a.horizontalCoordinatesGenerator||Wie,{horizontalPoints:E,verticalPoints:C}=a;if((!E||!E.length)&&typeof N=="function"){var A=v&&v.length,T=N({yAxis:_?xr(xr({},_),{},{ticks:A?v:_.ticks}):void 0,width:t??f,height:r??m,offset:n},A?!0:g);Mh(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof T,"]")),Array.isArray(T)&&(E=T)}if((!C||!C.length)&&typeof j=="function"){var P=y&&y.length,M=j({xAxis:k?xr(xr({},k),{},{ticks:P?y:k.ticks}):void 0,width:t??f,height:r??m,offset:n},P?!0:g);Mh(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(C=M)}return x.createElement(pa,{zIndex:a.zIndex},x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(Fie,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),x.createElement(Zie,Rs({},a,{horizontalPoints:E})),x.createElement(Gie,Rs({},a,{verticalPoints:C})),x.createElement(Vie,Rs({},a,{offset:n,horizontalPoints:E,xAxis:k,yAxis:_})),x.createElement(Kie,Rs({},a,{offset:n,verticalPoints:C,xAxis:k,yAxis:_}))))}oM.displayName="CartesianGrid";function Jie(e){var t=P0(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:s}=t,l=Number(a),c=Number(s);return(Number.isNaN(l)||l<0)&&(l=r),(Number.isNaN(c)||c<0)&&(c=n),{r:l,strokeWidth:c}}return{r,strokeWidth:n}}var lM=(e,t,r,n)=>n3(e,"xAxis",t,n),uM=(e,t,r,n)=>r3(e,"xAxis",t,n),cM=(e,t,r,n)=>n3(e,"yAxis",r,n),dM=(e,t,r,n)=>r3(e,"yAxis",r,n),Qie=ne([lt,lM,cM,uM,dM],(e,t,r,n,a)=>si(e,"xAxis")?Dh(t,n,!1):Dh(r,a,!1)),ese=(e,t,r,n,a)=>a,fM=ne([j4,ese],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),tse=(e,t,r,n,a)=>{var s,l=fM(e,t,r,n,a);if(l!=null){var c=lt(e),d=si(c,"xAxis"),f;if(d?f=qb(e,"yAxis",r,n):f=qb(e,"xAxis",t,n),f!=null){var{stackId:m}=l,g=Tw(l);if(!(m==null||g==null)){var v=(s=f[m])===null||s===void 0?void 0:s.stackedData;return v?.find(y=>y.key===g)}}}},rse=ne([lt,lM,cM,uM,dM,tse,ww,Qie,fM,fQ],(e,t,r,n,a,s,l,c,d,f)=>{var{chartData:m,dataStartIndex:g,dataEndIndex:v}=l;if(!(d==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||a==null||n.length===0||a.length===0||c==null)){var{data:y}=d,S;if(y&&y.length>0?S=y:S=m?.slice(g,v+1),S!=null)return wse({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataStartIndex:g,areaSettings:d,stackedData:s,displayedData:S,chartBaseValue:f,bandSize:c})}}),nse=["id"],ase=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function zs(){return zs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zs.apply(null,arguments)}function hM(e,t){if(e==null)return{};var r,n,a=ise(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ise(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function p5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p5(Object(r),!0).forEach(function(n){sse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sse(e,t,r){return(t=ose(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ose(e){var t=lse(e,"string");return typeof t=="symbol"?t:t+""}function lse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function o0(e,t){return e&&e!=="none"?e:t}var use=e=>{var{dataKey:t,name:r,stroke:n,fill:a,legendType:s,hide:l}=e;return[{inactive:l,dataKey:t,type:s,color:o0(n,a),value:ZP(r,t),payload:e}]},cse=x.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:s,name:l,hide:c,unit:d,tooltipType:f}=e,m={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:s,dataKey:t,nameKey:void 0,name:ZP(l,t),hide:c,type:f,color:o0(n,s),unit:d}};return x.createElement(Dne,{tooltipEntrySettings:m})});function dse(e){var{clipPathId:t,points:r,props:n}=e,{needClip:a,dot:s,dataKey:l}=n,c=Yn(n);return x.createElement(eae,{points:r,dot:s,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:l,baseProps:c,needClip:a,clipPathId:t})}function fse(e){var{showLabels:t,children:r,points:n}=e,a=n.map(s=>{var l,c,d={x:(l=s.x)!==null&&l!==void 0?l:0,y:(c=s.y)!==null&&c!==void 0?c:0,width:0,lowerWidth:0,upperWidth:0,height:0};return rl(rl({},d),{},{value:s.value,payload:s.payload,parentViewBox:void 0,viewBox:d,fill:void 0})});return x.createElement(One,{value:t?a:void 0},r)}function g5(e){var{points:t,baseLine:r,needClip:n,clipPathId:a,props:s}=e,{layout:l,type:c,stroke:d,connectNulls:f,isRange:m}=s,{id:g}=s,v=hM(s,nse),y=Yn(v),S=fn(v);return x.createElement(x.Fragment,null,t?.length>1&&x.createElement(Wn,{clipPath:n?"url(#clipPath-".concat(a,")"):void 0},x.createElement(th,zs({},S,{id:g,points:t,connectNulls:f,type:c,baseLine:r,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&x.createElement(th,zs({},y,{className:"recharts-area-curve",layout:l,type:c,connectNulls:f,fill:"none",points:t})),d!=="none"&&m&&x.createElement(th,zs({},y,{className:"recharts-area-curve",layout:l,type:c,connectNulls:f,fill:"none",points:r}))),x.createElement(dse,{points:t,props:v,clipPathId:a}))}function hse(e){var{alpha:t,baseLine:r,points:n,strokeWidth:a}=e,s=n[0].y,l=n[n.length-1].y;if(!st(s)||!st(l))return null;var c=t*Math.abs(s-l),d=Math.max(...n.map(f=>f.x||0));return Oe(r)?d=Math.max(r,d):r&&Array.isArray(r)&&r.length&&(d=Math.max(...r.map(f=>f.x||0),d)),Oe(d)?x.createElement("rect",{x:0,y:s<l?s:s-c,width:d+(a?parseInt("".concat(a),10):1),height:Math.floor(c)}):null}function mse(e){var{alpha:t,baseLine:r,points:n,strokeWidth:a}=e,s=n[0].x,l=n[n.length-1].x;if(!st(s)||!st(l))return null;var c=t*Math.abs(s-l),d=Math.max(...n.map(f=>f.y||0));return Oe(r)?d=Math.max(r,d):r&&Array.isArray(r)&&r.length&&(d=Math.max(...r.map(f=>f.y||0),d)),Oe(d)?x.createElement("rect",{x:s<l?s:s-c,y:0,width:c,height:Math.floor(d+(a?parseInt("".concat(a),10):1))}):null}function pse(e){var{alpha:t,layout:r,points:n,baseLine:a,strokeWidth:s}=e;return r==="vertical"?x.createElement(hse,{alpha:t,points:n,baseLine:a,strokeWidth:s}):x.createElement(mse,{alpha:t,points:n,baseLine:a,strokeWidth:s})}function gse(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:s}=e,{points:l,baseLine:c,isAnimationActive:d,animationBegin:f,animationDuration:m,animationEasing:g,onAnimationStart:v,onAnimationEnd:y}=n,S=x.useMemo(()=>({points:l,baseLine:c}),[l,c]),k=pD(S,"recharts-area-"),_=LG(),[j,N]=x.useState(!1),E=!j,C=x.useCallback(()=>{typeof y=="function"&&y(),N(!1)},[y]),A=x.useCallback(()=>{typeof v=="function"&&v(),N(!0)},[v]);if(_==null)return null;var T=a.current,P=s.current;return x.createElement(fse,{showLabels:E,points:l},n.children,x.createElement(mD,{animationId:k,begin:f,duration:m,isActive:d,easing:g,onAnimationEnd:C,onAnimationStart:A,key:k},M=>{if(T){var $=T.length/l.length,L=M===1?l:l.map((q,V)=>{var oe=Math.floor(V*$);if(T[oe]){var de=T[oe];return rl(rl({},q),{},{x:sa(de.x,q.x,M),y:sa(de.y,q.y,M)})}return q}),R;return Oe(c)?R=sa(P,c,M):cr(c)||hn(c)?R=sa(P,0,M):R=c.map((q,V)=>{var oe=Math.floor(V*$);if(Array.isArray(P)&&P[oe]){var de=P[oe];return rl(rl({},q),{},{x:sa(de.x,q.x,M),y:sa(de.y,q.y,M)})}return q}),M>0&&(a.current=L,s.current=R),x.createElement(g5,{points:L,baseLine:R,needClip:t,clipPathId:r,props:n})}return M>0&&(a.current=l,s.current=c),x.createElement(Wn,null,d&&x.createElement("defs",null,x.createElement("clipPath",{id:"animationClipPath-".concat(r)},x.createElement(pse,{alpha:M,points:l,baseLine:c,layout:_,strokeWidth:n.strokeWidth}))),x.createElement(Wn,{clipPath:"url(#animationClipPath-".concat(r,")")},x.createElement(g5,{points:l,baseLine:c,needClip:t,clipPathId:r,props:n})))}),x.createElement(Tne,{label:n.label}))}function vse(e){var{needClip:t,clipPathId:r,props:n}=e,a=x.useRef(null),s=x.useRef();return x.createElement(gse,{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:s})}class yse extends x.PureComponent{render(){var{hide:t,dot:r,points:n,className:a,top:s,left:l,needClip:c,xAxisId:d,yAxisId:f,width:m,height:g,id:v,baseLine:y,zIndex:S}=this.props;if(t)return null;var k=ot("recharts-area",a),_=v,{r:j,strokeWidth:N}=Jie(r),E=G3(r),C=j*2+N,A=c?"url(#clipPath-".concat(E?"":"dots-").concat(_,")"):void 0;return x.createElement(pa,{zIndex:S},x.createElement(Wn,{className:k},c&&x.createElement("defs",null,x.createElement(_ae,{clipPathId:_,xAxisId:d,yAxisId:f}),!E&&x.createElement("clipPath",{id:"clipPath-dots-".concat(_)},x.createElement("rect",{x:l-C/2,y:s-C/2,width:m+C,height:g+C}))),x.createElement(vse,{needClip:c,clipPathId:_,props:this.props})),x.createElement(i5,{points:n,mainColor:o0(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:A}),this.props.isRange&&Array.isArray(y)&&x.createElement(i5,{points:y,mainColor:o0(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:A}))}}var mM={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:wr.area};function bse(e){var t,r=Kr(e,mM),{activeDot:n,animationBegin:a,animationDuration:s,animationEasing:l,connectNulls:c,dot:d,fill:f,fillOpacity:m,hide:g,isAnimationActive:v,legendType:y,stroke:S,xAxisId:k,yAxisId:_}=r,j=hM(r,ase),N=Dc(),E=k3(),{needClip:C}=Q3(k,_),A=Pr(),{points:T,isRange:P,baseLine:M}=(t=Ee(oe=>rse(oe,k,_,A,e.id)))!==null&&t!==void 0?t:{},$=Qw();if(N!=="horizontal"&&N!=="vertical"||$==null||E!=="AreaChart"&&E!=="ComposedChart")return null;var{height:L,width:R,x:q,y:V}=$;return!T||!T.length?null:x.createElement(yse,zs({},j,{activeDot:n,animationBegin:a,animationDuration:s,animationEasing:l,baseLine:M,connectNulls:c,dot:d,fill:f,fillOpacity:m,height:L,hide:g,layout:N,isAnimationActive:v==="auto"?!jl.isSsr:v,isRange:P,legendType:y,needClip:C,points:T,stroke:S,width:R,left:q,top:V,xAxisId:k,yAxisId:_}))}var xse=(e,t,r,n,a)=>{var s=r??t;if(Oe(s))return s;var l=e==="horizontal"?a:n,c=l.scale.domain();if(l.type==="number"){var d=Math.max(c[0],c[1]),f=Math.min(c[0],c[1]);return s==="dataMin"?f:s==="dataMax"||d<0?d:Math.max(Math.min(c[0],c[1]),0)}return s==="dataMin"?c[0]:s==="dataMax"?c[1]:c[0]};function wse(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:a,layout:s,chartBaseValue:l,xAxis:c,yAxis:d,displayedData:f,dataStartIndex:m,xAxisTicks:g,yAxisTicks:v,bandSize:y}=e,S=a&&a.length,k=xse(s,l,r,c,d),_=s==="horizontal",j=!1,N=f.map((C,A)=>{var T;S?T=a[m+A]:(T=_r(C,n),Array.isArray(T)?j=!0:T=[k,T]);var P=T[1]==null||S&&!t&&_r(C,n)==null;return _?{x:VE({axis:c,ticks:g,bandSize:y,entry:C,index:A}),y:P?null:d.scale(T[1]),value:T,payload:C}:{x:P?null:c.scale(T[1]),y:VE({axis:d,ticks:v,bandSize:y,entry:C,index:A}),value:T,payload:C}}),E;return S||j?E=N.map(C=>{var A=Array.isArray(C.value)?C.value[0]:null;return _?{x:C.x,y:A!=null&&C.y!=null?d.scale(A):null,payload:C.payload}:{x:A!=null?c.scale(A):null,y:C.y,payload:C.payload}}):E=_?d.scale(k):c.scale(k),{points:N,baseLine:E,isRange:j}}function _se(e){var t=Kr(e,mM),r=Pr();return x.createElement(Ine,{id:t.id,type:"area"},n=>x.createElement(x.Fragment,null,x.createElement(Mne,{legendPayload:use(t)}),x.createElement(cse,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),x.createElement(Vne,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:QZ(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),x.createElement(bse,zs({},t,{id:n}))))}var pM=x.memo(_se,e1);pM.displayName="Area";var Sse=["domain","range"],kse=["domain","range"];function v5(e,t){if(e==null)return{};var r,n,a=jse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function jse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function y5(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function gM(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=v5(e,Sse),{domain:s,range:l}=t,c=v5(t,kse);return!y5(r,s)||!y5(n,l)?!1:e1(a,c)}var Ese=["dangerouslySetInnerHTML","ticks"],Ose=["id"];function Wb(){return Wb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wb.apply(null,arguments)}function b5(e,t){if(e==null)return{};var r,n,a=Nse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Nse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ase(e){var t=Bt(),r=x.useRef(null);return x.useLayoutEffect(()=>{r.current===null?t(iae(e)):r.current!==e&&t(sae({prev:r.current,next:e})),r.current=e},[e,t]),x.useLayoutEffect(()=>()=>{r.current&&(t(oae(r.current)),r.current=null)},[t]),null}var Tse=e=>{var{xAxisId:t,className:r}=e,n=Ee(YP),a=Pr(),s="xAxis",l=Ee(_=>Yi(_,s,t,a)),c=Ee(_=>t3(_,s,t,a)),d=Ee(_=>aee(_,t)),f=Ee(_=>cee(_,t)),m=Ee(_=>w4(_,t));if(d==null||f==null||m==null)return null;var{dangerouslySetInnerHTML:g,ticks:v}=e,y=b5(e,Ese),{id:S}=m,k=b5(m,Ose);return x.createElement(r1,Wb({},y,k,{scale:l,x:f.x,y:f.y,width:d.width,height:d.height,className:ot("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:c,axisType:s}))},Cse={allowDataOverflow:Yt.allowDataOverflow,allowDecimals:Yt.allowDecimals,allowDuplicatedCategory:Yt.allowDuplicatedCategory,angle:Yt.angle,axisLine:Ga.axisLine,height:Yt.height,hide:!1,includeHidden:Yt.includeHidden,interval:Yt.interval,minTickGap:Yt.minTickGap,mirror:Yt.mirror,orientation:Yt.orientation,padding:Yt.padding,reversed:Yt.reversed,scale:Yt.scale,tick:Yt.tick,tickCount:Yt.tickCount,tickLine:Ga.tickLine,tickSize:Ga.tickSize,type:Yt.type,xAxisId:0},Pse=e=>{var t=Kr(e,Cse);return x.createElement(x.Fragment,null,x.createElement(Ase,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),x.createElement(Tse,t))},vM=x.memo(Pse,gM);vM.displayName="XAxis";var Dse=["dangerouslySetInnerHTML","ticks"],Mse=["id"];function Xb(){return Xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xb.apply(null,arguments)}function x5(e,t){if(e==null)return{};var r,n,a=Rse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Rse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function $se(e){var t=Bt(),r=x.useRef(null);return x.useLayoutEffect(()=>{r.current===null?t(lae(e)):r.current!==e&&t(uae({prev:r.current,next:e})),r.current=e},[e,t]),x.useLayoutEffect(()=>()=>{r.current&&(t(cae(r.current)),r.current=null)},[t]),null}var Lse=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,s=x.useRef(null),l=x.useRef(null),c=Ee(YP),d=Pr(),f=Bt(),m="yAxis",g=Ee(A=>Yi(A,m,t,d)),v=Ee(A=>hee(A,t)),y=Ee(A=>fee(A,t)),S=Ee(A=>t3(A,m,t,d)),k=Ee(A=>_4(A,t));if(x.useLayoutEffect(()=>{if(!(n!=="auto"||!v||Jw(a)||x.isValidElement(a)||k==null)){var A=s.current;if(A){var T=A.getCalculatedWidth();Math.round(v.width)!==Math.round(T)&&f(dae({id:t,width:T}))}}},[S,v,f,a,t,n,k]),v==null||y==null||k==null)return null;var{dangerouslySetInnerHTML:_,ticks:j}=e,N=x5(e,Dse),{id:E}=k,C=x5(k,Mse);return x.createElement(r1,Xb({},N,C,{ref:s,labelRef:l,scale:g,x:y.x,y:y.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:v.width,height:v.height,className:ot("recharts-".concat(m," ").concat(m),r),viewBox:c,ticks:S,axisType:m}))},Ise={allowDataOverflow:Wt.allowDataOverflow,allowDecimals:Wt.allowDecimals,allowDuplicatedCategory:Wt.allowDuplicatedCategory,angle:Wt.angle,axisLine:Ga.axisLine,hide:!1,includeHidden:Wt.includeHidden,interval:Wt.interval,minTickGap:Wt.minTickGap,mirror:Wt.mirror,orientation:Wt.orientation,padding:Wt.padding,reversed:Wt.reversed,scale:Wt.scale,tick:Wt.tick,tickCount:Wt.tickCount,tickLine:Ga.tickLine,tickSize:Ga.tickSize,type:Wt.type,width:Wt.width,yAxisId:0},zse=e=>{var t=Kr(e,Ise);return x.createElement(x.Fragment,null,x.createElement($se,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),x.createElement(Lse,t))},yM=x.memo(zse,gM);yM.displayName="YAxis";var Use=(e,t)=>t,n1=ne([Use,lt,b4,Ft,y3,ci,Ote,hr],Mte),a1=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},bM=Dn("mouseClick"),xM=Tc();xM.startListening({actionCreator:bM,effect:(e,t)=>{var r=e.payload,n=n1(t.getState(),a1(r));n?.activeIndex!=null&&t.dispatch(Eee({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Jb=Dn("mouseMove"),wM=Tc(),Kf=null;wM.startListening({actionCreator:Jb,effect:(e,t)=>{var r=e.payload;Kf!==null&&cancelAnimationFrame(Kf);var n=a1(r);Kf=requestAnimationFrame(()=>{var a=t.getState(),s=Bw(a,a.tooltip.settings.shared);if(s==="axis"){var l=n1(a,n);l?.activeIndex!=null?t.dispatch(c3({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):t.dispatch(u3())}Kf=null})}});var w5={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},_M=Zr({name:"rootProps",initialState:w5,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:w5.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Bse=_M.reducer,{updateOptions:qse}=_M.actions,SM=Zr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Lue}=SM.actions,Hse=SM.reducer,kM=Dn("keyDown"),jM=Dn("focus"),i1=Tc();i1.startListening({actionCreator:kM,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=qw(a,Pl(r),Bc(r),Kc(r)),c=l==null?-1:Number(l);if(!(!Number.isFinite(c)||c<0)){var d=ci(r);if(s==="Enter"){var f=t0(r,"axis","hover",String(a.index));t.dispatch(Fb({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:f}));return}var m=vee(r),g=m==="left-to-right"?1:-1,v=s==="ArrowRight"?1:-1,y=c+v*g;if(!(d==null||y>=d.length||y<0)){var S=t0(r,"axis","hover",String(y));t.dispatch(Fb({active:!0,activeIndex:y.toString(),activeDataKey:void 0,activeCoordinate:S}))}}}}}});i1.startListening({actionCreator:jM,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var s="0",l=t0(r,"axis","hover",String(s));t.dispatch(Fb({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:l}))}}}});var An=Dn("externalEvent"),EM=Tc(),Sy=new Map;EM.startListening({actionCreator:An,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,s=Sy.get(a);s!==void 0&&cancelAnimationFrame(s);var l=requestAnimationFrame(()=>{try{var c=t.getState(),d={activeCoordinate:fte(c),activeDataKey:cte(c),activeIndex:bc(c),activeLabel:w3(c),activeTooltipIndex:bc(c),isTooltipActive:hte(c)};r(d,n)}finally{Sy.delete(a)}});Sy.set(a,l)}}});var Fse=ne([Cl],e=>e.tooltipItemPayloads),Vse=ne([Fse,Fc,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(c=>c.settings.dataKey===n);if(a!=null){var{positions:s}=a;if(s!=null){var l=t(s,r);return l}}}),OM=Dn("touchMove"),NM=Tc();NM.startListening({actionCreator:OM,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=Bw(n,n.tooltip.settings.shared);if(a==="axis"){var s=n1(n,a1({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));s?.activeIndex!=null&&t.dispatch(c3({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(a==="item"){var l,c=r.touches[0];if(document.elementFromPoint==null)return;var d=document.elementFromPoint(c.clientX,c.clientY);if(!d||!d.getAttribute)return;var f=d.getAttribute(sG),m=(l=d.getAttribute(oG))!==null&&l!==void 0?l:void 0,g=Vse(t.getState(),f,m);t.dispatch(jee({activeDataKey:m,activeIndex:f,activeCoordinate:g}))}}}});var Kse=gP({brush:qae,cartesianAxis:fae,chartData:fre,errorBars:wae,graphicalItems:Hne,layout:HZ,legend:eY,options:ore,polarAxis:Pne,polarOptions:Hse,referenceElements:Qae,rootProps:Bse,tooltip:Oee,zIndex:Gte}),Zse=function(t){return mZ({reducer:Kse,preloadedState:t,middleware:r=>{var n;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((n="es6")!==null&&n!==void 0?n:"")}).concat([xM.middleware,wM.middleware,i1.middleware,EM.middleware,NM.middleware])},enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(CP({type:"raf"}))},devTools:jl.devToolsEnabled})};function Gse(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=Pr(),s=x.useRef(null);if(a)return r;s.current==null&&(s.current=Zse(t));var l=Ux;return x.createElement(Iae,{context:l,store:s.current},r)}function Yse(e){var{layout:t,margin:r}=e,n=Bt(),a=Pr();return x.useEffect(()=>{a||(n(UZ(t)),n(zZ(r)))},[n,a,t,r]),null}var Wse=x.memo(Yse,e1);function Xse(e){var t=Bt();return x.useEffect(()=>{t(qse(e))},[t,e]),null}function _5(e){var{zIndex:t,isPanorama:r}=e,n=r?"recharts-zindex-panorama-":"recharts-zindex-",a=Y3("".concat(n).concat(t)),s=Bt();return x.useLayoutEffect(()=>(s(Kte({zIndex:t,elementId:a,isPanorama:r})),()=>{s(Zte({zIndex:t,isPanorama:r}))}),[s,t,a,r]),x.createElement("g",{tabIndex:-1,id:a})}function S5(e){var{children:t,isPanorama:r}=e,n=Ee($te);if(!n||n.length===0)return t;var a=n.filter(l=>l<0),s=n.filter(l=>l>0);return x.createElement(x.Fragment,null,a.map(l=>x.createElement(_5,{key:l,zIndex:l,isPanorama:r})),t,s.map(l=>x.createElement(_5,{key:l,zIndex:l,isPanorama:r})))}var Jse=["children"];function Qse(e,t){if(e==null)return{};var r,n,a=eoe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function eoe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function l0(){return l0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l0.apply(null,arguments)}var toe={width:"100%",height:"100%",display:"block"},roe=x.forwardRef((e,t)=>{var r=tD(),n=rD(),a=cD();if(!da(r)||!da(n))return null;var{children:s,otherAttributes:l,title:c,desc:d}=e,f,m;return l!=null&&(typeof l.tabIndex=="number"?f=l.tabIndex:f=a?0:void 0,typeof l.role=="string"?m=l.role:m=a?"application":void 0),x.createElement(LC,l0({},l,{title:c,desc:d,role:m,tabIndex:f,width:r,height:n,style:toe,ref:t}),s)}),noe=e=>{var{children:t}=e,r=Ee(G0);if(!r)return null;var{width:n,height:a,y:s,x:l}=r;return x.createElement(LC,{width:n,height:a,x:l,y:s},t)},k5=x.forwardRef((e,t)=>{var{children:r}=e,n=Qse(e,Jse),a=Pr();return a?x.createElement(noe,null,x.createElement(S5,{isPanorama:!0},r)):x.createElement(roe,l0({ref:t},n),x.createElement(S5,{isPanorama:!1},r))});function aoe(){var e=Bt(),[t,r]=x.useState(null),n=Ee(iG);return x.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),s=a.width/t.offsetWidth;st(s)&&s!==n&&e(qZ(s))}},[t,e,n]),r}function j5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ioe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j5(Object(r),!0).forEach(function(n){soe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function soe(e,t,r){return(t=ooe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ooe(e){var t=loe(e,"string");return typeof t=="symbol"?t:t+""}function loe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zs(){return Zs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zs.apply(null,arguments)}var uoe=()=>(wre(),null);function u0(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var coe=x.forwardRef((e,t)=>{var r,n,a=x.useRef(null),[s,l]=x.useState({containerWidth:u0((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:u0((n=e.style)===null||n===void 0?void 0:n.height)}),c=x.useCallback((f,m)=>{l(g=>{var v=Math.round(f),y=Math.round(m);return g.containerWidth===v&&g.containerHeight===y?g:{containerWidth:v,containerHeight:y}})},[]),d=x.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null&&typeof ResizeObserver<"u"){var{width:m,height:g}=f.getBoundingClientRect();c(m,g);var v=S=>{var{width:k,height:_}=S[0].contentRect;c(k,_)},y=new ResizeObserver(v);y.observe(f),a.current=y}},[t,c]);return x.useEffect(()=>()=>{var f=a.current;f?.disconnect()},[c]),x.createElement(x.Fragment,null,x.createElement(Y0,{width:s.containerWidth,height:s.containerHeight}),x.createElement("div",Zs({ref:d},e)))}),doe=x.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,s]=x.useState({containerWidth:u0(r),containerHeight:u0(n)}),l=x.useCallback((d,f)=>{s(m=>{var g=Math.round(d),v=Math.round(f);return m.containerWidth===g&&m.containerHeight===v?m:{containerWidth:g,containerHeight:v}})},[]),c=x.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null){var{width:f,height:m}=d.getBoundingClientRect();l(f,m)}},[t,l]);return x.createElement(x.Fragment,null,x.createElement(Y0,{width:a.containerWidth,height:a.containerHeight}),x.createElement("div",Zs({ref:c},e)))}),foe=x.forwardRef((e,t)=>{var{width:r,height:n}=e;return x.createElement(x.Fragment,null,x.createElement(Y0,{width:r,height:n}),x.createElement("div",Zs({ref:t},e)))}),hoe=x.forwardRef((e,t)=>{var{width:r,height:n}=e;return Xa(r)||Xa(n)?x.createElement(doe,Zs({},e,{ref:t})):x.createElement(foe,Zs({},e,{ref:t}))});function moe(e){return e===!0?coe:hoe}var poe=x.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:s,onContextMenu:l,onDoubleClick:c,onMouseDown:d,onMouseEnter:f,onMouseLeave:m,onMouseMove:g,onMouseUp:v,onTouchEnd:y,onTouchMove:S,onTouchStart:k,style:_,width:j,responsive:N,dispatchTouchEvents:E=!0}=e,C=x.useRef(null),A=Bt(),[T,P]=x.useState(null),[M,$]=x.useState(null),L=aoe(),R=Yx(),q=R?.width>0?R.width:j,V=R?.height>0?R.height:a,oe=x.useCallback(X=>{L(X),typeof t=="function"&&t(X),P(X),$(X),X!=null&&(C.current=X)},[L,t,P,$]),de=x.useCallback(X=>{A(bM(X)),A(An({handler:s,reactEvent:X}))},[A,s]),U=x.useCallback(X=>{A(Jb(X)),A(An({handler:f,reactEvent:X}))},[A,f]),K=x.useCallback(X=>{A(u3()),A(An({handler:m,reactEvent:X}))},[A,m]),W=x.useCallback(X=>{A(Jb(X)),A(An({handler:g,reactEvent:X}))},[A,g]),fe=x.useCallback(()=>{A(jM())},[A]),pe=x.useCallback(X=>{A(kM(X.key))},[A]),I=x.useCallback(X=>{A(An({handler:l,reactEvent:X}))},[A,l]),Y=x.useCallback(X=>{A(An({handler:c,reactEvent:X}))},[A,c]),Q=x.useCallback(X=>{A(An({handler:d,reactEvent:X}))},[A,d]),F=x.useCallback(X=>{A(An({handler:v,reactEvent:X}))},[A,v]),ae=x.useCallback(X=>{A(An({handler:k,reactEvent:X}))},[A,k]),re=x.useCallback(X=>{E&&A(OM(X)),A(An({handler:S,reactEvent:X}))},[A,E,S]),ee=x.useCallback(X=>{A(An({handler:y,reactEvent:X}))},[A,y]),we=moe(N);return x.createElement(A3.Provider,{value:T},x.createElement(gV.Provider,{value:M},x.createElement(we,{width:q??_?.width,height:V??_?.height,className:ot("recharts-wrapper",n),style:ioe({position:"relative",cursor:"default",width:q,height:V},_),onClick:de,onContextMenu:I,onDoubleClick:Y,onFocus:fe,onKeyDown:pe,onMouseDown:Q,onMouseEnter:U,onMouseLeave:K,onMouseMove:W,onMouseUp:F,onTouchEnd:ee,onTouchMove:re,onTouchStart:ae,ref:oe},x.createElement(uoe,null),r)))}),goe=["width","height","responsive","children","className","style","compact","title","desc"];function voe(e,t){if(e==null)return{};var r,n,a=yoe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function yoe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var boe=x.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:s,className:l,style:c,compact:d,title:f,desc:m}=e,g=voe(e,goe),v=Yn(g);return d?x.createElement(x.Fragment,null,x.createElement(Y0,{width:r,height:n}),x.createElement(k5,{otherAttributes:v,title:f,desc:m},s)):x.createElement(poe,{className:l,style:c,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},x.createElement(k5,{otherAttributes:v,title:f,desc:m,ref:t},x.createElement(eie,null,s)))});function Qb(){return Qb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qb.apply(null,arguments)}var xoe={top:5,right:5,bottom:5,left:5},woe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:xoe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},_oe=x.forwardRef(function(t,r){var n,a=Kr(t.categoricalChartProps,woe),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,categoricalChartProps:f}=t,m={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0};return x.createElement(Gse,{preloadedState:{options:m},reduxStoreName:(n=f.id)!==null&&n!==void 0?n:s},x.createElement(Bae,{chartData:f.data}),x.createElement(Wse,{layout:a.layout,margin:a.margin}),x.createElement(Xse,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),x.createElement(boe,Qb({},a,{ref:r})))}),Soe=["axis"],koe=x.forwardRef((e,t)=>x.createElement(_oe,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Soe,tooltipPayloadSearcher:ire,categoricalChartProps:e,ref:t}));function joe({dailyLedger:e=[],safetyTargetBottles:t=0,specs:r={}}){const{theme:n}=Jn(),a=n==="dark",s=x.useMemo(()=>{if(!e.length||!r.bottlesPerCase)return[];const g=r.bottlesPerCase*(r.casesPerPallet||1),v=Math.round(t/g);return e.map(y=>{const S=y.balance/g,[k,_,j]=y.dateStr.split("-").map(Number),N=new Date(k,_-1,j);return{date:y.dateStr,displayDate:N.toLocaleDateString("en-US",{month:"numeric",day:"numeric"}),pallets:Math.round(S),safety:v}})},[e,t,r]);if(!s.length)return p.jsx("div",{className:"w-full h-80 flex items-center justify-center bg-gray-50 dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700",children:p.jsx("span",{className:"text-gray-400 font-medium",children:"No projection data available"})});const l=s[0]?.safety||0;Math.max(...s.map(g=>g.pallets),l*1.5);const c=a?"#9CA3AF":"#6B7280",d=a?"#374151":"#E5E7EB",f=a?"#1F2937":"#FFFFFF",m=a?"#F3F4F6":"#111827";return p.jsxs("div",{className:"w-full h-80 bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 flex flex-col transition-all",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4 px-2",children:[p.jsx("h3",{className:"text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"30-Day Inventory Projection"}),p.jsxs("div",{className:"flex items-center space-x-4 text-xs font-medium",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500 mr-1.5"}),p.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Projected Balance"})]}),p.jsxs("div",{className:"flex items-center",children:[p.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500 mr-1.5 opacity-50"}),p.jsxs("span",{className:"text-gray-600 dark:text-gray-300",children:["Safety Target (",l," plts)"]})]})]})]}),p.jsx("div",{className:"flex-1 w-full min-h-[200px]",children:p.jsx(RG,{width:"100%",height:"100%",children:p.jsxs(koe,{data:s,margin:{top:10,right:10,left:0,bottom:0},children:[p.jsxs("defs",{children:[p.jsxs("linearGradient",{id:"colorPv",x1:"0",y1:"0",x2:"0",y2:"1",children:[p.jsx("stop",{offset:"5%",stopColor:"#3B82F6",stopOpacity:.3}),p.jsx("stop",{offset:"95%",stopColor:"#3B82F6",stopOpacity:.05})]}),p.jsxs("linearGradient",{id:"colorSafety",x1:"0",y1:"0",x2:"0",y2:"1",children:[p.jsx("stop",{offset:"5%",stopColor:"#EF4444",stopOpacity:.1}),p.jsx("stop",{offset:"95%",stopColor:"#EF4444",stopOpacity:0})]})]}),p.jsx(oM,{strokeDasharray:"3 3",vertical:!1,stroke:d}),p.jsx(vM,{dataKey:"displayDate",tick:{fontSize:11,fill:c},axisLine:!1,tickLine:!1,interval:6}),p.jsx(yM,{tick:{fontSize:11,fill:c},axisLine:!1,tickLine:!1,domain:[0,"auto"]}),p.jsx(Are,{contentStyle:{backgroundColor:f,borderRadius:"8px",border:a?"1px solid #374151":"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",color:m,padding:"8px 12px"},itemStyle:{fontSize:"12px",fontWeight:600},labelStyle:{color:c,fontSize:"11px",marginBottom:"4px"},formatter:(g,v)=>[`${g} Pallets`,v==="pallets"?"Balance":"Safety"]}),p.jsx(aM,{y:l,stroke:"#EF4444",strokeDasharray:"3 3",strokeOpacity:.6}),p.jsx(pM,{type:"monotone",dataKey:"pallets",stroke:"#3B82F6",strokeWidth:2,fillOpacity:1,fill:"url(#colorPv)",animationDuration:1e3})]})})})]})}const Eoe=ge.memo(joe);function Ooe(){return{solve:(t,r,n,a,s,l,c)=>{if(!t||!t.dailyResults||!a||!n[a])return console.warn("Solver: Missing Data",{currentResults:t,selectedSize:a}),null;const d=n[a],f={...l.monthlyInbound||{}},m=t.dailyResults,g=un(),v=c!==void 0?c:s?.leadTimeDays||2,y=lr(g,Math.max(0,v-1));let S=0,k=0;return m.forEach((_,j)=>{const N=_.dateStr,C=_.projectedEndInventory+S;if(N<=y||l.monthlyProductionActuals&&l.monthlyProductionActuals[N])return;const A=_.safetyStockTarget||(r||0)*d.bottlesPerTruck;if(C<A){const T=A-C,P=Math.ceil(T/d.bottlesPerTruck);if(P>0){const M=f[N]||0,$=Number(M)+P;f[N]=$,S+=P*d.bottlesPerTruck,k++}}else if(C>A+d.bottlesPerTruck){let T=Number(f[N]||0);if(T>0){const P=C-A,M=Math.floor(P/d.bottlesPerTruck),$=Math.min(M,T);if($>0){const L=T-$;f[N]=L,S-=$*d.bottlesPerTruck,k++}}}}),{newInbound:f,updatesCount:k}}}}function Noe({monthlyDemand:e,monthlyProductionActuals:t,monthlyInbound:r,updateDateDemand:n,updateDateActual:a,poManifest:s={},dailyLedger:l=[],specs:c,userProfile:d}){const{saveProcurementEntry:f,deleteProcurementEntry:m}=Qn(),[g,v]=x.useState(()=>{const P=new Date;return P.setDate(P.getDate()-3),P}),[y,S]=x.useState(null),[k,_]=x.useState([]);x.useEffect(()=>{const P=[];for(let M=0;M<30;M++){const $=new Date(g);$.setDate(g.getDate()+M),P.push($)}_(P)},[g]);const j=P=>{const M=new Date(g);M.setDate(M.getDate()+P),v(M)},N=P=>l.find(M=>M.dateStr===P)||{},E=(P,M,$,L)=>{if(!P&&P!==0)return;let R=Number(P);R>0&&R<1e3&&(R*=1e3),Number(M)!==R&&$(L,R)},C=P=>{const M=s[P],$=M?.items?.length>0,L=$?M.items.length:r[P]||0,R=M?.items?.map(q=>q.time).filter(Boolean).sort()||[];return p.jsx("div",{className:`relative h-full w-full flex flex-col justify-center px-1 cursor-pointer transition-colors ${L>0?"bg-blue-50 text-blue-900 dark:bg-blue-900/40 dark:text-blue-200 hover:bg-blue-100 dark:hover:bg-blue-800":"hover:bg-gray-50 dark:hover:bg-gray-800"}`,onClick:()=>S(P),children:L>0?p.jsxs("div",{className:"flex flex-wrap gap-0.5",children:[p.jsxs("span",{className:`flex items-center gap-1 text-[10px] font-bold px-1 rounded-sm shadow-sm ${$?"bg-blue-600 text-white":"bg-blue-100 text-blue-800 border border-blue-200"}`,children:[p.jsx(dn,{className:"w-3 h-3"}),L," ",$?"":""]}),$&&R.slice(0,2).map((q,V)=>p.jsx("span",{className:"text-[9px] bg-blue-100 text-blue-800 px-0.5 border border-blue-200 rounded-sm dark:bg-blue-950 dark:text-blue-300 dark:border-blue-800",children:q},V)),R.length>2&&p.jsx("span",{className:"text-[8px] text-blue-400",children:"..."})]}):p.jsx("span",{className:"text-gray-200 text-xs text-center",children:"-"})})},A=P=>{const M=Math.round(P.projectedPallets||0),$=P.daysOfSupply||0;P.safetyStockTarget;let L="bg-emerald-50 text-emerald-900 dark:bg-emerald-900/40 dark:text-emerald-300";return $<2?L="bg-red-50 text-red-900 font-bold dark:bg-red-900/40 dark:text-red-300":$<4&&(L="bg-amber-50 text-amber-900 dark:bg-amber-900/40 dark:text-amber-300"),p.jsxs("div",{className:`h-full w-full flex flex-col justify-center px-1 text-right text-xs ${L}`,children:[p.jsxs("div",{children:[M," ",p.jsx("span",{className:"text-[9px] opacity-60",children:"plts"})]}),p.jsxs("div",{className:"text-[9px] opacity-75",children:[$.toFixed(1)," Days"]})]})},T=ge.useMemo(()=>{if(!c||!c.bottlesPerTruck||!c.bottlesPerCase)return null;let P=0,M=0;const $=c.bottlesPerTruck/c.bottlesPerCase;k.forEach(q=>{const V=vt(q),oe=e[V];oe&&(P+=Number(oe));const de=s[V],U=de?.items?.length>0?de.items.length:r[V]||0;M+=Number(U)});const L=Math.ceil(P/$),R=M-L;return{totalCases:P,trucksRequired:L,totalScheduled:M,gap:R}},[k,e,r,s,c]);return p.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-gray-800 shadow-sm border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden font-sans",children:[T&&p.jsxs("div",{className:"hidden md:flex flex-shrink-0 p-1.5 bg-slate-900 text-white items-center justify-between z-10 font-mono text-xs uppercase tracking-wider border-b border-slate-700",children:[p.jsxs("div",{className:"flex gap-4",children:[p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"text-slate-400 text-[8px]",children:"Total Plan"}),p.jsxs("span",{className:"font-bold text-xs text-blue-200",children:[T.totalCases.toLocaleString()," ",p.jsx("span",{className:"text-[8px] text-slate-500",children:"cs"})]})]}),p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"text-slate-400 text-[8px]",children:"Est. Trucks"}),p.jsxs("span",{className:"font-bold text-xs",children:[T.trucksRequired," ",p.jsx("span",{className:"text-[8px] text-slate-500",children:"trks"})]})]})]}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsxs("div",{className:"flex flex-col text-right",children:[p.jsx("span",{className:"text-slate-400 text-[8px]",children:"Scheduled"}),p.jsx("span",{className:"font-bold text-xs text-emerald-400",children:T.totalScheduled})]}),p.jsxs("div",{className:`flex flex-col items-center justify-center px-2 py-0.5 rounded border ${T.gap<0?"bg-red-500/20 border-red-500 text-red-200":"bg-emerald-500/20 border-emerald-500 text-emerald-200"}`,children:[p.jsx("span",{className:"text-[8px] opacity-75",children:"Gap"}),p.jsxs("span",{className:"font-black text-lg leading-none",children:[T.gap>0?"+":"",T.gap]})]})]})]}),p.jsxs("div",{className:"flex justify-between items-center p-2 border-b bg-gray-50 dark:bg-gray-900",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx($5,{className:"w-4 h-4 text-gray-500"}),p.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-gray-600",children:"Workbench View"})]}),p.jsxs("div",{className:"flex gap-1",children:[p.jsx("button",{onClick:()=>j(-7),className:"p-1 hover:bg-gray-200 rounded",children:p.jsx(tx,{className:"w-4 h-4"})}),p.jsx("button",{onClick:()=>v(new Date),className:"px-2 text-xs font-medium hover:bg-gray-200 rounded",children:"Today"}),p.jsx("button",{onClick:()=>j(7),className:"p-1 hover:bg-gray-200 rounded",children:p.jsx(rx,{className:"w-4 h-4"})})]})]}),p.jsx("div",{className:"flex-1 overflow-auto relative custom-scrollbar",children:p.jsxs("table",{className:"w-full border-collapse text-xs",children:[p.jsx("thead",{className:"sticky top-0 z-20 shadow-sm",children:p.jsxs("tr",{children:[p.jsx("th",{className:"sticky left-0 z-30 bg-slate-50 dark:bg-gray-800 w-32 border-b border-r border-slate-300 dark:border-gray-700 p-2 text-left font-bold text-slate-700 dark:text-gray-400 shadow-[4px_0_10px_-4px_rgba(0,0,0,0.1)]",children:"Metric"}),k.map(P=>{const M=vt(P),$=vt(new Date),L=M===$,R=P<new Date(new Date().setHours(0,0,0,0)),q=P.getDay()===0||P.getDay()===6;let V="min-w-[80px] p-1 border-b border-r border-slate-200 dark:border-gray-700 text-center font-medium transition-colors ";return L?V+="bg-blue-600 text-white border-blue-600 ring-2 ring-blue-600 ring-inset ring-offset-0 z-20 shadow-md":R?V+="bg-slate-100 dark:bg-gray-900/50 text-slate-400 dark:text-gray-500":q?V+="bg-slate-50 dark:bg-gray-800/50 text-slate-500 dark:text-gray-500":V+="bg-white dark:bg-gray-800 text-slate-800 dark:text-gray-200",p.jsxs("th",{className:V,children:[p.jsx("div",{className:`text-[10px] uppercase ${L?"text-blue-100":"opacity-60"}`,children:L?"TODAY":P.toLocaleDateString("en-US",{weekday:"short"})}),p.jsx("div",{className:L?"font-bold":"",children:P.toLocaleDateString("en-US",{day:"numeric",month:"numeric"})})]},M)})]})}),p.jsxs("tbody",{children:[p.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-gray-800 group",children:[p.jsxs("td",{className:"sticky left-0 z-10 bg-slate-50 dark:bg-gray-800 border-r border-b border-slate-300 dark:border-gray-700 p-2 font-bold text-slate-700 dark:text-gray-300 group-hover:bg-slate-100 dark:group-hover:bg-gray-800 shadow-[4px_0_10px_-4px_rgba(0,0,0,0.1)]",children:["Production Plan",p.jsx("span",{className:"block text-[9px] font-normal text-slate-400 dark:text-gray-500",children:"Cases"})]}),k.map(P=>{const M=vt(P),$=vt(new Date),L=M===$,R=P<new Date(new Date().setHours(0,0,0,0)),q=e[M]||"",V=t[M],oe=V!=null;let de="border-r border-b border-slate-200 dark:border-gray-700 p-0 h-10 relative ";return L?de+="bg-blue-50/80 dark:bg-blue-900/20 ring-2 ring-inset ring-blue-500 z-10 ":R?de+="bg-slate-100 dark:bg-gray-900/40 ":de+="bg-white dark:bg-gray-800 ",p.jsxs("td",{className:de,children:[p.jsx("input",{type:"text",className:`w-full h-full text-center border-none focus:ring-0 bg-transparent p-0 text-gray-900 dark:text-gray-100 ${V?"font-bold":""} ${L?"font-bold":""}`,value:q?Number(q).toLocaleString():"",onChange:U=>n(M,U.target.value.replace(/,/g,"")),onBlur:U=>E(U.target.value.replace(/,/g,""),q,n,M),placeholder:"-"}),oe&&p.jsxs("div",{className:"absolute bottom-0 right-0 text-[8px] bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400 px-1 pointer-events-none",title:`Actual: ${V}`,children:["Act: ",V]})]},M)})]}),p.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-gray-800 group",children:[p.jsxs("td",{className:"sticky left-0 z-10 bg-slate-50 dark:bg-gray-800 border-r border-b border-slate-300 dark:border-gray-700 p-2 font-bold text-blue-700 dark:text-blue-400 group-hover:bg-slate-100 dark:group-hover:bg-gray-800 shadow-[4px_0_10px_-4px_rgba(0,0,0,0.1)]",children:["Actual Reconciliation",p.jsx("span",{className:"block text-[9px] font-normal text-slate-400 dark:text-gray-500",children:"Past Dates Only"})]}),k.map(P=>{const M=vt(P),$=vt(new Date),L=M===$,R=P<new Date(new Date().setHours(0,0,0,0)),q=t[M]||"";let V="border-r border-b border-slate-200 dark:border-gray-700 p-0 h-10 relative ";L?V+="bg-blue-50/80 dark:bg-blue-900/20 ring-2 ring-inset ring-blue-500 z-10 ":R?V+="bg-white dark:bg-gray-800 ":V+="bg-slate-50/50 dark:bg-gray-800/50 ";const oe=!R;return p.jsx("td",{className:V,children:oe?p.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-300 dark:text-gray-600 text-[10px] select-none cursor-not-allowed italic",children:"Locked"}):p.jsx("input",{type:"text",className:"w-full h-full text-center border-none focus:ring-0 bg-transparent p-0 font-bold text-blue-700 dark:text-blue-300",value:q?Number(q).toLocaleString():"",onChange:de=>a(M,de.target.value.replace(/,/g,"")),onBlur:de=>E(de.target.value.replace(/,/g,""),q,a,M),placeholder:"-"})},M)})]}),p.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-gray-800 group",children:[p.jsxs("td",{className:"sticky left-0 z-10 bg-slate-50 dark:bg-gray-800 border-r border-b border-slate-300 dark:border-gray-700 p-2 font-bold text-slate-600 dark:text-gray-400 group-hover:bg-slate-100 dark:group-hover:bg-gray-800 shadow-[4px_0_10px_-4px_rgba(0,0,0,0.1)]",children:["Inbound Trucks",p.jsx("span",{className:"block text-[9px] font-normal text-slate-400 dark:text-gray-500",children:"Click to Manage"})]}),k.map(P=>{const M=vt(P),$=vt(new Date),L=M===$,R=P<new Date(new Date().setHours(0,0,0,0));let q="border-r border-b border-slate-200 dark:border-gray-700 p-0 h-12 align-middle ";return L?q+="bg-blue-50/80 dark:bg-blue-900/20 ring-2 ring-inset ring-blue-500 z-10 ":R?q+="bg-slate-100 dark:bg-gray-900/40 ":q+="bg-white dark:bg-gray-800 ",p.jsx("td",{className:q,children:C(M)},M)})]}),p.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-gray-800 group",children:[p.jsxs("td",{className:"sticky left-0 z-10 bg-slate-50 dark:bg-gray-800 border-r border-b border-slate-300 dark:border-gray-700 p-2 font-bold text-slate-600 dark:text-gray-400 group-hover:bg-slate-100 dark:group-hover:bg-gray-800 shadow-[4px_0_10px_-4px_rgba(0,0,0,0.1)]",children:["Projected End",p.jsx("span",{className:"block text-[9px] font-normal text-slate-400 dark:text-gray-500",children:"Pallets & DOS"})]}),k.map(P=>{const M=vt(P),$=vt(new Date),L=M===$,R=P<new Date(new Date().setHours(0,0,0,0)),q=N(M);let V="border-r border-b border-slate-200 dark:border-gray-700 p-0 h-12 align-middle ";return L?V+="bg-blue-50/80 dark:bg-blue-900/20 ring-2 ring-inset ring-blue-500 z-10 ":R?V+="bg-slate-100 dark:bg-gray-900/40 ":V+="bg-white dark:bg-gray-800 ",p.jsx("td",{className:V,children:A(q)},M)})]})]})]})}),y&&p.jsx(DC,{isOpen:!!y,onClose:()=>S(null),date:y,monthlyInbound:r,specs:c,orders:s[y]?.items||[],onSave:f,onDelete:m})]})}function Aoe({state:e,setters:t,results:r,readOnly:n=!1}){const{leadTimeDays:a,safetyStockLoads:s,schedulerSettings:l}=Jn(),{productMap:c}=fr(),{user:d}=Tr(),{solve:f}=Ooe(),m=r?.poManifest||{},[g,v]=x.useState(()=>{const me=new Date;return me.setDate(me.getDate()-3),me}),y=me=>{v(_e=>{const ce=new Date(_e);return ce.setDate(ce.getDate()+me),ce})},S=()=>{const me=new Date;me.setDate(me.getDate()-3),v(me)},[k,_]=x.useState(!1),j=()=>{const me=vt(new Date);let _e=`Monthly Replenishment Plan - Generated ${new Date().toLocaleDateString()}
`;_e+=`--------------------------------------------------

`;const ce=r.specs?.productionRate||0,Ge=r.specs?.casesPerTruck||(r.specs?.bottlesPerTruck||2e4)/(r.specs?.bottlesPerCase||1),[Pe,he]=(l?.shiftStartTime||"00:00").split(":").map(Number),ve=Pe+he/60;for(let je=0;je<30;je++){const ze=lr(me,je),Kt=Math.round(Number(e.monthlyInbound[ze]||0));if(Kt>0){const[Gr,pn,di]=ze.split("-").map(Number),mr=new Date(Gr,pn-1,di);if(_e+=`DATE: ${mr.toLocaleDateString(void 0,{weekday:"short",month:"numeric",day:"numeric",year:"numeric"})}
`,_e+=`TRUCKS: ${Kt}
`,ce>0){const Ye=Ge/ce;for(let gn=0;gn<Kt;gn++){const pr=ve+gn*Ye,ga=Math.round(pr%24)%24,bt=Math.round(pr%1*60),Lt=`${ga}:${bt.toString().padStart(2,"0")}`;_e+=`  - Truck ${gn+1}: Arrive approx ${Lt}
`}}_e+=`
`}}navigator.clipboard.writeText(_e).then(()=>{_(!0),setTimeout(()=>_(!1),2e3),alert("Copied 30-Day Plan to Clipboard!")})},N=e.selectedSize?c[e.selectedSize]:null,E=N?.leadTimeDays!==void 0&&N?.leadTimeDays!==null?N.leadTimeDays:a||2,C=N?.safetyStockLoads!==void 0&&N?.safetyStockLoads!==null?Number(N.safetyStockLoads):s||6,A=()=>{if(!confirm(`Auto-Balance will populate Planned Loads to ensure safety stock is met.

Settings:
 - Lead Time: ${E} days
 - Safety Stock: ${C} loads

Proceed?`))return;const{newInbound:me,updatesCount:_e}=f(r,C,c,e.selectedSize,l,e,E)||{};_e>0?t.setMonthlyInbound(me):alert("Schedule is already balanced! No changes needed.")},[T,P]=x.useState(!1),[M,$]=x.useState(!1),[L,R]=x.useState(!1),[q,V]=x.useState(!1),[oe,de]=x.useState(!1),[U,K]=x.useState(!1),[W,fe]=x.useState("grid"),[pe,I]=x.useState(!1);if(!r)return p.jsx("div",{children:"Loading..."});const{netInventory:Y,safetyTarget:Q,trucksToOrder:F,trucksToCancel:ae,specs:re,yardInventory:ee}=r;e.totalScheduledCases*re.bottlesPerCase;const we=me=>me?me.toLocaleString():"0",X=()=>{const me=re.bottlesPerTruck/re.bottlesPerCase/(re.casesPerPallet||1),_e=Math.round(r.calculatedPallets+r.yardInventory.effectiveCount*me),ce=r.daysOfSupply!==void 0?r.daysOfSupply:0,Ge=E!==void 0?Number(E):a||2,Pe=Ge+2;let he="Healthy",ve="bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 shadow-sm border-l-4 border-l-emerald-500",je="text-emerald-600 dark:text-emerald-400";ce<=Ge?(he="CRITICAL",ve="bg-red-50 border-red-200 border-l-4 border-l-red-500 animate-pulse",je="text-red-700"):ce<=Pe&&(he="Warning",ve="bg-amber-50 border-amber-200 border-l-4 border-l-amber-500",je="text-amber-700");const ze=Ye=>{const[gn,pr,ga]=Ye.split("-").map(Number);return new Date(gn,pr-1,ga)},Kt=r.firstStockoutDate?ze(r.firstStockoutDate):null;let Gr="Stable";if(Kt){const Ye=new Date;Ye.setHours(0,0,0,0),Kt<=Ye?Gr="NOW":Gr=Kt.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}const pn=new Date().setHours(0,0,0,0),di=Object.entries(r.plannedOrders||{}).filter(([Ye])=>new Date(Ye).setHours(0,0,0,0)<=pn).reduce((Ye,[gn,pr])=>Ye+pr.count,0),mr=e.isAutoReplenish?di:r.trucksToOrder;return p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-2",children:[p.jsxs("div",{className:`p-3 rounded-lg border ${ve} flex flex-col justify-between shadow-sm`,children:[p.jsxs("div",{className:"flex justify-between items-center mb-1",children:[p.jsxs("div",{className:"flex items-center gap-1.5",children:[p.jsx("h3",{className:"text-[10px] font-bold uppercase tracking-wider opacity-70 text-gray-500 dark:text-gray-400",children:"Coverage Health"}),p.jsx(Dg,{className:"w-3.5 h-3.5 text-gray-400 cursor-help",title:"Status of inventory relative to Lead Time. if (Days < Lead Time) => Critical."})]}),he==="CRITICAL"&&p.jsx("span",{className:"text-lg",children:""}),he==="Healthy"&&p.jsx(qa,{className:"w-5 h-5 text-emerald-500"})]}),p.jsxs("div",{children:[p.jsx("div",{className:`text-2xl font-black tracking-tight ${je} leading-none`,children:he}),p.jsx("div",{className:"text-xs font-medium opacity-80 mt-1 dark:text-gray-300",children:he==="CRITICAL"?Gr==="NOW"?"Stockout Computed":`Empty by ${Gr}`:he==="Warning"?"Approaching Safety Stock Limit":"Inventory Levels Optimal"})]})]}),p.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm flex flex-col justify-between",children:[p.jsxs("div",{className:"flex justify-between items-center mb-1",children:[p.jsxs("div",{className:"flex items-center gap-1.5",children:[p.jsx("h3",{className:"text-[10px] font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Days of Supply"}),p.jsx(Dg,{className:"w-3.5 h-3.5 text-gray-400 cursor-help",title:"Total Inventory (Floor + Yard) divided by Daily Production Rate."})]}),p.jsxs("div",{className:"text-[10px] font-bold text-gray-500 bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded",title:"Target Pallets = Safety Stock Loads * Pallets/Truck",children:["Target: ",Q?Math.round(Q/(re.bottlesPerCase*(re.casesPerPallet||1))):"-"," plts"]})]}),p.jsxs("div",{className:"flex items-end space-x-2",children:[p.jsx("div",{className:"text-3xl font-mono font-bold text-gray-800 dark:text-white leading-none",children:ce>=30?"30+":ce.toFixed(1)}),p.jsx("div",{className:"text-xs font-medium text-gray-400 mb-0.5",children:"Days"})]}),p.jsxs("div",{className:"mt-2 text-[10px] font-medium text-gray-500 flex justify-between items-center border-t pt-1 dark:border-gray-700",children:[p.jsx("span",{title:"Physically present inventory",children:"Current On-Hand"}),p.jsxs("span",{className:"font-bold text-gray-700 dark:text-gray-300",children:[we(_e)," Pallets"]})]})]}),p.jsxs("div",{className:`p-3 rounded-lg border flex flex-col justify-between shadow-sm transition-all ${mr>0?"bg-blue-600 border-blue-700 text-white":r.trucksToCancel>0?"bg-orange-100 border-orange-200 text-orange-900 dark:bg-orange-900/40 dark:border-orange-800 dark:text-orange-200":he==="CRITICAL"?"bg-red-50 border-red-200":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700"}`,children:[p.jsxs("div",{className:"flex justify-between items-center mb-1",children:[p.jsxs("div",{className:"flex items-center gap-1.5",children:[p.jsx("h3",{className:`text-[10px] font-bold uppercase tracking-wider ${mr>0?"text-blue-100":"text-gray-500 dark:text-gray-400"}`,children:"Replenishment"}),p.jsx(Dg,{className:`w-3.5 h-3.5 cursor-help ${mr>0?"text-blue-200":"text-gray-400"}`,title:"Orders required TODAY to restore Safety Stock."})]}),mr>0&&p.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full animate-ping"}),r.trucksToCancel>0&&!mr&&p.jsx("span",{className:"text-lg",children:""})]}),mr>0?p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-baseline space-x-2",children:[p.jsx("span",{className:"text-3xl font-black leading-none",children:mr}),p.jsx("span",{className:"text-xs font-bold opacity-90",children:"Trucks Needed"})]}),p.jsx("p",{className:"text-[10px] opacity-80 mt-1 font-medium leading-tight",children:e.isAutoReplenish?"Planned orders due today.":"Deficit based on target."})]}):r.trucksToCancel>0?p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-baseline space-x-2",children:[p.jsx("span",{className:"text-3xl font-black leading-none",children:r.trucksToCancel}),p.jsx("span",{className:"text-xs font-bold opacity-90",children:"Cancel Trucks"})]}),p.jsx("p",{className:"text-[10px] opacity-80 mt-1 font-medium leading-tight",children:"Excess inventory confirmed."})]}):p.jsxs("div",{children:[p.jsx("div",{className:"flex items-baseline space-x-2",children:he==="CRITICAL"?p.jsx("span",{className:"text-2xl font-bold leading-none text-red-600",children:"Expedite!"}):p.jsx("span",{className:"text-2xl font-bold leading-none text-gray-800 dark:text-white",children:"Standby"})}),p.jsx("p",{className:"text-[10px] text-gray-500 mt-1 leading-tight",children:he==="CRITICAL"?"Stockout imminent. Review.":"No immediate orders due."})]})]})]})};return p.jsxs("div",{className:"max-w-full mx-auto pb-12",children:[X(),p.jsxs("div",{className:"flex flex-col space-y-6",children:[p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 flex flex-col overflow-hidden",children:[p.jsxs("div",{className:"px-5 py-3 border-b border-gray-200 dark:border-gray-700 flex flex-col lg:flex-row justify-between items-center bg-gray-50 dark:bg-gray-900/50 gap-4",children:[p.jsxs("div",{className:"flex items-center gap-4 w-full lg:w-auto",children:[p.jsxs("div",{className:"flex bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-0.5",children:[p.jsx("button",{onClick:()=>y(-7),className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md text-gray-500 transition-colors",title:"Previous Week",children:p.jsx(tx,{className:"w-4 h-4"})}),p.jsx("button",{onClick:S,className:"px-3 py-1 text-xs font-bold text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 border-x border-gray-100 dark:border-gray-700 mx-0.5 transition-colors",children:"Today"}),p.jsx("button",{onClick:()=>y(7),className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md text-gray-500 transition-colors",title:"Next Week",children:p.jsx(rx,{className:"w-4 h-4"})})]}),p.jsxs("span",{className:"text-xs font-medium text-gray-400 hidden sm:block",children:[g.toLocaleDateString("en-US",{month:"short",day:"numeric"})," - ",lr(vt(g),6).split("-").slice(1).join("/")]})]}),p.jsxs("div",{className:"flex flex-wrap items-center gap-3 w-full lg:w-auto justify-end",children:[p.jsxs("div",{className:"flex items-center gap-1 bg-white dark:bg-gray-700 p-1 rounded-lg border border-gray-200 dark:border-gray-600 shadow-sm",children:[!n&&p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:()=>{confirm(`Force Cloud Sync?

This will clear your local cache and reload the latest data from the server.
Any unsaved local drafts might be lost.`)&&(Object.keys(localStorage).forEach(me=>{me.startsWith("mrp_")&&localStorage.removeItem(me)}),window.location.reload())},className:"p-1.5 text-gray-500 hover:text-sky-500 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-md transition-colors",title:"Force Cloud Sync (Clear Cache)",children:p.jsx(w6,{className:"w-5 h-5"})}),p.jsx("div",{className:"w-px h-4 bg-gray-300 dark:bg-gray-600 mx-1"}),p.jsx("button",{onClick:()=>I(!0),className:"p-1.5 text-gray-500 hover:text-orange-500 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-md transition-colors",title:"Morning True-Up",children:p.jsx(R5,{className:"w-5 h-5"})}),p.jsx("button",{onClick:()=>R(!0),className:"p-1.5 text-gray-500 hover:text-emerald-500 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-md transition-colors",title:"Import Inbound",children:p.jsx(ex,{className:"w-5 h-5"})}),p.jsx("button",{onClick:()=>K(!0),className:"p-1.5 text-gray-500 hover:text-purple-500 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-md transition-colors",title:"Manage POs",children:p.jsx(f2,{className:"w-5 h-5"})})]}),p.jsx("button",{onClick:()=>V(!0),className:"p-1.5 text-gray-500 hover:text-blue-500 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-md transition-colors",title:"Email Suppliers",children:p.jsx(D5,{className:"w-5 h-5"})})]}),!n&&!e.isAutoReplenish&&p.jsxs("button",{onClick:A,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-bold text-white bg-indigo-600 hover:bg-indigo-700 rounded-lg shadow-sm transition-all",title:"Manually calculate replenishment (Not needed in Auto-Pilot)",children:[p.jsx(t6,{className:"w-3.5 h-3.5"}),p.jsx("span",{className:"hidden sm:inline",children:"Auto-Balance"})]}),p.jsx("div",{className:"h-6 w-px bg-gray-300 dark:bg-gray-600 hidden md:block mx-1"}),p.jsxs("div",{className:"flex bg-white dark:bg-gray-700 p-1 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600",children:[p.jsx("button",{onClick:()=>fe("grid"),className:`px-2.5 py-1.5 rounded-md text-xs font-bold transition-all ${W==="grid"?"bg-blue-50 text-blue-700 dark:bg-slate-600 dark:text-blue-300 shadow-sm":"text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"Grid"}),p.jsx("button",{onClick:()=>fe("workbench"),className:`px-2.5 py-1.5 rounded-md text-xs font-bold transition-all ${W==="workbench"?"bg-blue-50 text-blue-700 dark:bg-slate-600 dark:text-blue-300 shadow-sm":"text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"Work"}),p.jsx("button",{onClick:()=>fe("calendar"),className:`px-2.5 py-1.5 rounded-md text-xs font-bold transition-all ${W==="calendar"?"bg-blue-50 text-blue-700 dark:bg-slate-600 dark:text-blue-300 shadow-sm":"text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"Cal"})]}),!n&&p.jsx("label",{className:"flex items-center cursor-pointer group",title:"Auto-Pilot Mode",children:p.jsxs("div",{className:"relative",children:[p.jsx("input",{type:"checkbox",className:"sr-only",checked:e.isAutoReplenish||!1,onChange:me=>t.setIsAutoReplenish(me.target.checked)}),p.jsx("div",{className:`block w-7 h-4 rounded-full transition-colors ${e.isAutoReplenish?"bg-purple-600":"bg-gray-300 dark:bg-gray-600"}`}),p.jsx("div",{className:`dot absolute left-1 top-1 bg-white w-2 h-2 rounded-full transition-transform ${e.isAutoReplenish?"transform translate-x-3":""}`})]})}),p.jsx("button",{onClick:j,className:`p-1.5 rounded-lg border transition-all ${k?"bg-green-50 border-green-200 text-green-600":"bg-white dark:bg-gray-700 border-gray-200 dark:border-gray-600 text-gray-500 hover:text-gray-700"}`,title:"Export 30-Day Plan",children:k?p.jsx(qa,{className:"w-5 h-5"}):p.jsx(f2,{className:"w-5 h-5"})})]})]}),p.jsx("div",{className:"flex-1 overflow-hidden relative bg-slate-200 dark:bg-slate-900 rounded-xl shadow-lg border border-slate-300 dark:border-slate-800",children:W==="calendar"?p.jsx("div",{className:"h-full p-4 overflow-auto",children:p.jsx(RB,{monthlyDemand:e.monthlyDemand||{},updateDateDemand:t.updateDateDemand,updateDateDemandBulk:t.updateDateDemandBulk,monthlyInbound:e.monthlyInbound||{},updateDateInbound:t.updateDateInbound,monthlyProductionActuals:e.monthlyProductionActuals||{},updateDateActual:t.updateDateActual,specs:r?.specs,trucksToCancel:r?.trucksToCancel,dailyLedger:r?.dailyLedger,safetyTarget:r?.safetyTarget,poManifest:m,readOnly:n})}):W==="workbench"?p.jsx(Noe,{monthlyDemand:e.monthlyDemand||{},updateDateDemand:t.updateDateDemand,monthlyInbound:e.monthlyInbound||{},monthlyProductionActuals:e.monthlyProductionActuals||{},updateDateActual:t.updateDateActual,specs:r?.specs,dailyLedger:r?.dailyLedger,userProfile:d,startDate:g,readOnly:n}):p.jsx(JF,{monthlyDemand:e.monthlyDemand||{},updateDateDemand:t.updateDateDemand,updateDateDemandBulk:t.updateDateDemandBulk,monthlyInbound:e.monthlyInbound||{},updateDateInbound:t.updateDateInbound,monthlyProductionActuals:e.monthlyProductionActuals||{},updateDateActual:t.updateDateActual,specs:r?.specs,safetyTarget:r?.safetyTarget,dailyLedger:r?.dailyLedger,userProfile:d,startDate:g,readOnly:n})})]}),p.jsx("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:p.jsx(Eoe,{dailyLedger:r.dailyLedger,safetyTargetBottles:r.safetyTarget,specs:r.specs})})]}),p.jsx(MC,{isOpen:pe,onClose:()=>I(!1),state:e,setters:t}),p.jsx(eV,{isOpen:L,onClose:()=>R(!1)}),p.jsx(tV,{isOpen:q,onClose:()=>V(!1),mrpResults:r}),p.jsx(rV,{isOpen:oe,onClose:()=>de(!1)}),p.jsx(aV,{isOpen:U,onClose:()=>K(!1)})]})}var ah={exports:{}},Toe=ah.exports,E5;function Coe(){return E5||(E5=1,(function(e,t){(function(r,n){n()})(Toe,function(){function r(f,m){return typeof m>"u"?m={autoBom:!1}:typeof m!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),m={autoBom:!m}),m.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(f.type)?new Blob(["\uFEFF",f],{type:f.type}):f}function n(f,m,g){var v=new XMLHttpRequest;v.open("GET",f),v.responseType="blob",v.onload=function(){d(v.response,m,g)},v.onerror=function(){console.error("could not download file")},v.send()}function a(f){var m=new XMLHttpRequest;m.open("HEAD",f,!1);try{m.send()}catch{}return 200<=m.status&&299>=m.status}function s(f){try{f.dispatchEvent(new MouseEvent("click"))}catch{var m=document.createEvent("MouseEvents");m.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),f.dispatchEvent(m)}}var l=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof ff=="object"&&ff.global===ff?ff:void 0,c=l.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),d=l.saveAs||(typeof window!="object"||window!==l?function(){}:"download"in HTMLAnchorElement.prototype&&!c?function(f,m,g){var v=l.URL||l.webkitURL,y=document.createElement("a");m=m||f.name||"download",y.download=m,y.rel="noopener",typeof f=="string"?(y.href=f,y.origin===location.origin?s(y):a(y.href)?n(f,m,g):s(y,y.target="_blank")):(y.href=v.createObjectURL(f),setTimeout(function(){v.revokeObjectURL(y.href)},4e4),setTimeout(function(){s(y)},0))}:"msSaveOrOpenBlob"in navigator?function(f,m,g){if(m=m||f.name||"download",typeof f!="string")navigator.msSaveOrOpenBlob(r(f,g),m);else if(a(f))n(f,m,g);else{var v=document.createElement("a");v.href=f,v.target="_blank",setTimeout(function(){s(v)})}}:function(f,m,g,v){if(v=v||open("","_blank"),v&&(v.document.title=v.document.body.innerText="downloading..."),typeof f=="string")return n(f,m,g);var y=f.type==="application/octet-stream",S=/constructor/i.test(l.HTMLElement)||l.safari,k=/CriOS\/[\d]+/.test(navigator.userAgent);if((k||y&&S||c)&&typeof FileReader<"u"){var _=new FileReader;_.onloadend=function(){var E=_.result;E=k?E:E.replace(/^data:[^;]*;/,"data:attachment/file;"),v?v.location.href=E:location=E,v=null},_.readAsDataURL(f)}else{var j=l.URL||l.webkitURL,N=j.createObjectURL(f);v?v.location=N:location.href=N,v=null,setTimeout(function(){j.revokeObjectURL(N)},4e4)}});l.saveAs=d.saveAs=d,e.exports=d})})(ah)),ah.exports}var Poe=Coe();function Doe({schedule:e,truckSchedule:t,onUpdatePO:r,onDelete:n,specs:a,readOnly:s=!1}){const l=(f,m)=>{if(!m||m===0)return[];let g=0;f.includes("08:00-16:00")?g=8:f.includes("16:00-00:00")?g=16:g=0;const y=8/m,S=[];for(let k=0;k<m;k++){const j=(g+y*k)%24,N=Math.round(j),C=(N===24?0:N).toString().padStart(2,"0");S.push(`${C}:00`)}return S},c=()=>!t||t.length===0?[]:t.map(f=>{const m=a?a.name:"Unknown",g=a?a.palletsPerTruck:0,[v]=f.time.split(":").map(Number);let y="Unknown";return v>=0&&v<8?y="Shift 1":v>=8&&v<16?y="Shift 2":y="Shift 3",{LoadID:f.id,Time:f.time,Shift:y,PO:f.po||"",BottleSize:m,Pallets:g}}),d=()=>{try{const f=c();if(!f||f.length===0){alert("No schedule to export.");return}let g="\uFEFF"+["Load ID","Delivery Time","Shift","PO Number","Bottle Size","Pallets"].join(",")+`
`;f.forEach(k=>{const _=String(k.PO||"").replace(/"/g,'""');g+=[k.LoadID,k.Time,k.Shift,`"${_}"`,k.BottleSize,k.Pallets].join(",")+`
`});const y=new Date().toISOString().slice(0,10),S=new Blob([g],{type:"text/csv;charset=utf-8"});Poe.saveAs(S,`Schedule_${y}.csv`)}catch(f){console.error(f),alert("Export failed")}};return p.jsxs("div",{className:"space-y-8",children:[p.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[p.jsxs("div",{children:[p.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[p.jsx(dn,{className:"w-6 h-6 text-indigo-500"}),"Live Dock Schedule"]}),p.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[t.length," Loads Scheduled  Auto-optimized intervals"]})]}),p.jsxs("button",{onClick:d,className:"flex items-center space-x-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 px-4 py-2 rounded-lg font-bold hover:bg-indigo-100 transition-colors",children:[p.jsx(ex,{className:"w-5 h-5"}),p.jsx("span",{children:"Export CSV"})]})]}),t&&t.length>0?p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map((f,m)=>{const g=f.po&&f.po.length>0;return p.jsxs("div",{className:`
                                    relative flex flex-col justify-between
                                    bg-white dark:bg-slate-800 
                                    rounded-2xl shadow-sm hover:shadow-md transition-shadow 
                                    border border-slate-200 dark:border-slate-700
                                    overflow-hidden group
                                `,children:[p.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1.5 ${g?"bg-emerald-500":"bg-amber-400"}`}),p.jsxs("div",{className:"p-5 pl-7",children:[" ",p.jsxs("div",{className:"flex justify-between items-start mb-4",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:`p-2 rounded-lg ${g?"bg-emerald-50 text-emerald-600 dark:bg-emerald-900/20":"bg-slate-100 text-slate-500 dark:bg-slate-700"}`,children:p.jsx(c0,{className:"w-6 h-6"})}),p.jsxs("div",{children:[p.jsx("div",{className:"text-xs font-bold uppercase text-slate-400",children:"Arrival"}),p.jsx("div",{className:"text-2xl font-black text-slate-800 dark:text-white leading-none",children:f.time})]})]}),p.jsxs("span",{className:"text-xs font-bold text-slate-300",children:["#",m+1]})]}),p.jsxs("div",{className:"mt-2",children:[p.jsxs("label",{className:"flex items-center gap-1 text-[10px] font-bold uppercase text-slate-500 mb-1",children:[p.jsx(N6,{className:"w-3 h-3"}),"Purchase Order"]}),p.jsx("input",{type:"text",placeholder:s?"Registered Only":"Enter PO...",value:f.po||"",disabled:s,onChange:v=>r(f.id,v.target.value),className:`
                                                w-full p-2 rounded-lg text-sm font-bold border transition-colors
                                                focus:ring-2 focus:ring-offset-0 outline-none
                                                ${s?"opacity-60 cursor-not-allowed bg-gray-100":""}
                                                ${g?"bg-emerald-50 border-emerald-200 text-emerald-700 focus:ring-emerald-500 dark:bg-emerald-900/10 dark:border-emerald-800 dark:text-emerald-400":"bg-slate-50 border-slate-200 text-slate-800 focus:ring-indigo-500 dark:bg-slate-900/50 dark:border-slate-600 dark:text-white"}
                                            `})]})]}),p.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 p-3 pl-7 border-t border-slate-100 dark:border-slate-700 flex justify-between items-center",children:[p.jsx("div",{className:"text-xs font-medium text-slate-400",children:g?"Confirmed":"Awaiting PO"}),!s&&p.jsx("button",{onClick:()=>n(f.id),className:"text-slate-400 hover:text-rose-500 transition-colors p-1",title:"Delete Load",children:p.jsx(Ya,{className:"w-5 h-5"})})]})]},f.id)})}):p.jsxs("div",{className:"text-center py-20 bg-slate-50 dark:bg-slate-800/50 rounded-xl border-2 border-dashed border-slate-200 dark:border-slate-700",children:[p.jsx(dn,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),p.jsx("h3",{className:"text-lg font-bold text-slate-500",children:"No Loads Scheduled"}),p.jsx("p",{className:"text-slate-400 text-sm",children:"Use the settings above to generate a schedule."})]}),p.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:[p.jsx("div",{className:"px-6 py-4 border-b border-slate-100 dark:border-slate-700 bg-slate-50 dark:bg-slate-800/80",children:p.jsx("h3",{className:"font-bold text-slate-700 dark:text-slate-200 text-sm uppercase tracking-wide",children:"Shift Distribution Check"})}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"min-w-full divide-y divide-slate-100 dark:divide-slate-700",children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-slate-400 uppercase",children:"Shift"}),p.jsx("th",{className:"px-6 py-3 text-center text-xs font-bold text-slate-400 uppercase",children:"Loads"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-slate-400 uppercase",children:"Timeline"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:e.map((f,m)=>p.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-slate-700 dark:text-slate-200",children:f.name}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:p.jsx("span",{className:"inline-flex items-center justify-center px-2.5 py-0.5 rounded-full text-xs font-bold bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-300",children:f.loads})}),p.jsx("td",{className:"px-6 py-4",children:p.jsxs("div",{className:"flex flex-wrap gap-2",children:[l(f.name,f.loads).map((g,v)=>p.jsx("span",{className:"bg-white border border-slate-200 dark:bg-slate-900 dark:border-slate-600 text-slate-600 dark:text-slate-400 px-2 py-1 rounded text-xs font-mono",children:g},v)),f.loads===0&&p.jsx("span",{className:"text-slate-300 text-xs italic",children:"Empty"})]})})]},m))})]})})]})]})}function Moe({state:e,setters:t,results:r,readOnly:n=!1}){const{productMap:a}=fr(),s=Object.keys(a);if(!r)return p.jsx("div",{children:"Loading..."});const{requiredDailyLoads:l,weeklyLoads:c,schedule:d}=r;return p.jsxs("div",{className:"space-y-8",children:[p.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md transition-colors",children:[p.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white mb-6 border-b dark:border-gray-700 pb-2",children:" Logistics Settings"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 items-end",children:[p.jsxs("div",{className:"col-span-1",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Bottle Size Reference"}),p.jsx("select",{value:e.selectedSize,disabled:n,onChange:f=>t.setSelectedSize(f.target.value),className:"block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-900 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500 py-2 disabled:opacity-50 disabled:cursor-not-allowed",children:s.map(f=>p.jsx("option",{value:f,children:f},f))})]}),p.jsxs("div",{className:"col-span-2",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Target Daily Production (Cases)"}),p.jsxs("div",{className:"relative rounded-md shadow-sm",children:[p.jsx("input",{type:"number",inputMode:"numeric",pattern:"[0-9]*",min:"0",disabled:n,value:e.targetDailyProduction||"",onChange:f=>t.setTargetDailyProduction(f.target.value),className:"block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-900 dark:text-white focus:border-blue-500 focus:ring-blue-500 text-2xl p-2 pl-4 disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"60000"}),p.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:p.jsx("span",{className:"text-gray-500 sm:text-sm",children:"cases/day"})})]})]})]}),p.jsxs("div",{className:"col-span-1 mt-6",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Production Start Time"}),p.jsx("input",{type:"time",value:e.shiftStartTime,disabled:n,onChange:f=>t.setShiftStartTime(f.target.value),className:"block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-900 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500 py-2 px-3 disabled:opacity-50 disabled:cursor-not-allowed"})]})]}),p.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4 border-t dark:border-gray-700 pt-6",children:[p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-3 rounded border border-gray-200 dark:border-gray-700",children:[p.jsx("span",{className:"block text-xs text-gray-500 dark:text-gray-400 uppercase font-bold",children:"Production Burn Rate"}),p.jsxs("span",{className:"block text-xl font-bold text-gray-800 dark:text-white",children:[Math.round(r.burnRate).toLocaleString()," cases/hr"]})]}),p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-3 rounded border border-gray-200 dark:border-gray-700",children:[p.jsx("span",{className:"block text-xs text-gray-500 dark:text-gray-400 uppercase font-bold",children:"Truck Interval"}),p.jsxs("span",{className:"block text-xl font-bold text-indigo-600 dark:text-indigo-400",children:["Every ",Math.floor(r.hoursPerTruck),"h ",Math.round(r.hoursPerTruck%1*60),"m"]})]}),p.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/30 p-3 rounded border border-blue-100 dark:border-blue-800 flex flex-col justify-center",children:[p.jsx("span",{className:"text-sm font-medium text-blue-800 dark:text-blue-200 uppercase",children:"Daily Truck Requirement"}),p.jsx("span",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:r.requiredDailyLoads})]})]}),p.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-4 rounded-md flex justify-between items-center text-sm text-gray-600 dark:text-gray-400 border border-gray-100 dark:border-gray-700",children:[p.jsxs("span",{children:["Total Weekly Volume: ",p.jsxs("strong",{className:"text-gray-900 dark:text-white",children:[c.toLocaleString()," Loads"]})]}),p.jsx("span",{children:"Based on 24/7 Production schedule"})]}),p.jsx(Doe,{schedule:r.schedule,truckSchedule:r.truckSchedule,onUpdatePO:t.updatePO,onDelete:t.toggleCancelled,specs:r.specs,readOnly:n})]})]})}const AM=(e,t)=>`mrp_${t}_${e}`,ir=(e,t,r,n=!1)=>{const a=AM(e,r),s=`mrp_${e}`;let l=localStorage.getItem(a);if(l===null&&r==="20oz"&&(l=localStorage.getItem(s)),l===null)return t;if(n)try{return JSON.parse(l)||t}catch{return t}return l},nn=(e,t,r,n=!1)=>{const a=AM(e,r),s=n?JSON.stringify(t):t;localStorage.setItem(a,s)};function Roe(){const{productMap:e}=fr(),t=Object.keys(e),{user:r}=Tr(),{fetchMRPState:n,migrateLocalStorage:a}=Sl(),[s,l]=x.useState(()=>localStorage.getItem("mrp_selectedSize")||"20oz"),[c,d]=x.useState(()=>ir("monthlyDemand",{},s,!0)),[f,m]=x.useState(()=>ir("monthlyProductionActuals",{},s,!0)),[g,v]=x.useState(()=>ir("monthlyInbound",{},s,!0)),[y,S]=x.useState(()=>ir("truckManifest",{},s,!0)),[k,_]=x.useState(()=>Number(ir("downtimeHours",0,s))),[j,N]=x.useState(()=>Number(ir("currentInventoryPallets",0,s))),[E,C]=x.useState(()=>ir("inventoryAnchor",{date:un(),count:0},s,!0)),[A,T]=x.useState(()=>Number(ir("incomingTrucks",0,s))),[P,M]=x.useState(()=>ir("yardInventory",{count:0,date:null,fileName:null},s,!0)),[$,L]=x.useState(()=>r?!0:ir("isAutoReplenish",!0,s,!0)),[R,q]=x.useState(null),[V,oe]=x.useState(0);return x.useEffect(()=>()=>{},[r]),x.useEffect(()=>{localStorage.setItem("mrp_selectedSize",s),r?(async()=>{try{const U=await n(r.id,s);if(U)q(U.product),d(U.monthlyDemand||{}),m(U.monthlyProductionActuals||{}),v(U.monthlyInbound||{}),S(U.truckManifest||{}),_(U.downtimeHours||0),L(U.isAutoReplenish),U.inventoryAnchor?C(K=>K?.date&&U.inventoryAnchor?.date&&new Date(K.date)>=new Date(U.inventoryAnchor.date)?K:U.inventoryAnchor||K):C({date:un(),count:0}),U.yardInventory?M(K=>K?.date&&U.yardInventory.date&&new Date(K.date)>=new Date(U.yardInventory.date)?K:U.yardInventory):M({count:0,date:null});else if((await a(r,t)).success){const W=await n(r.id,s);W&&(Object.keys(W.monthlyInbound||{}).length>0&&v(fe=>({...W.monthlyInbound,...fe})),Object.keys(W.truckManifest||{}).length>0&&S(fe=>({...W.truckManifest,...fe})),_(W.downtimeHours),L(W.isAutoReplenish),W.inventoryAnchor&&C(W.inventoryAnchor),W.yardInventory&&M(W.yardInventory))}}catch(U){console.error("Failed to load cloud state",U)}})():(d(ir("monthlyDemand",{},s,!0)),m(ir("monthlyProductionActuals",{},s,!0)),v(ir("monthlyInbound",{},s,!0)),S(ir("truckManifest",{},s,!0)),_(Number(ir("downtimeHours",0,s))),C(ir("inventoryAnchor",{date:un(),count:0},s,!0)),L(ir("isAutoReplenish",!0,s,!0)))},[s,r?.id]),nc({table:"planning_entries",filter:R?`product_id=eq.${R.id}`:void 0,enabled:!!R?.id,onDataChange:de=>{const{eventType:U,new:K,old:W}=de;if(U==="DELETE"){console.log("Supabase DELETE detected. Triggering state refresh."),r&&R&&n(r.id,s).then(I=>{I&&(I.monthlyDemand&&d(I.monthlyDemand),I.monthlyProductionActuals&&m(I.monthlyProductionActuals),I.monthlyInbound&&v(I.monthlyInbound),I.truckManifest&&S(I.truckManifest))});return}const fe=K.date,pe=Number(K.value);K.entry_type==="demand_plan"?d(I=>({...I,[fe]:pe})):K.entry_type==="production_actual"?m(I=>({...I,[fe]:pe})):K.entry_type==="inbound_trucks"&&v(I=>({...I,[fe]:pe}))}}),nc({table:"inventory_snapshots",filter:R?`product_id=eq.${R.id}`:void 0,enabled:!!R?.id,onDataChange:de=>{console.log("[InventorySync] Event Received:",de);const{eventType:U,new:K}=de;if(U==="DELETE")return;const W=Number(K.quantity_pallets),fe=K.date;K.location==="yard"?M(pe=>({...pe,count:W,date:fe||pe.date})):K.location==="floor"&&(N(W),C(pe=>({...pe,count:W,date:fe||pe.date})))}}),{selectedSize:s,setSelectedSize:l,monthlyDemand:c,setMonthlyDemand:d,monthlyProductionActuals:f,setMonthlyProductionActuals:m,monthlyInbound:g,setMonthlyInbound:v,truckManifest:y,setTruckManifest:S,downtimeHours:k,setDowntimeHours:_,currentInventoryPallets:j,setCurrentInventoryPallets:N,inventoryAnchor:E,setInventoryAnchor:C,incomingTrucks:A,setIncomingTrucks:T,yardInventory:P,setYardInventory:M,isAutoReplenish:$,setIsAutoReplenish:L,refreshTrigger:V}}const $oe=({todayStr:e,productionRate:t,downtimeHours:r,bottleSpecs:n,inventoryAnchor:a,yardInventory:s,incomingTrucks:l,monthlyDemand:c,monthlyProductionActuals:d,monthlyInbound:f,poManifest:m,safetyStockLoads:g})=>{if(!n)return null;const v=n,y=1+(v.scrapPercentage||0)/100,S=v.bottlesPerCase||12,k=v.bottlesPerTruck||1,_=v.casesPerPallet||1,j=new Set([...Object.keys(c||{}),...Object.keys(d||{})]),N=Array.from(j).reduce((ae,re)=>{if(re>=e){const ee=d[re],we=c[re],X=re>e,me=ee!=null&&(!X||Number(ee)!==0),_e=Number(me?ee:we);return ae+(_e||0)}return ae},0),E=r*t,C=Math.max(0,N-E),A=ae=>m&&m[ae]?.items?.length>0?m[ae].items.length:Number(f[ae])||0,T=new Set([...Object.keys(f),...Object.keys(m||{})]),P=Array.from(T).reduce((ae,re)=>re>=e?ae+A(re):ae,0),M=(l||0)+P,$=M*k,L=s?.count||0,R=L*k;let q=a.count;if(a.date){const ae=new Date(a.date),ee=new Date(e)-ae,we=Math.ceil(ee/(1e3*60*60*24));if(we>0&&we<365)for(let X=0;X<we;X++){const me=lr(a.date,X),_e=d[me],ce=c[me],Ge=me>e,Pe=_e!=null&&(!Ge||Number(_e)!==0),he=Number(Pe?_e:ce||0),ve=A(me),je=k/S/_,ze=ve*je,Kt=he/_;q=q+ze-Kt}}const V=q*_*S,oe=C*S*y,de=V+$+R-oe,U=g*k,K=[];let W=V+R,fe=null,pe=null;for(let ae=0;ae<30;ae++){const re=lr(e,ae),ee=d[re],we=c[re],X=re>e,me=ee!=null&&(!X||Number(ee)!==0),ce=Number(me?ee:we||0)*S*y,Pe=A(re)*k;W=W+Pe-ce,K.push({date:re,dateStr:re,balance:W,demand:ce,supply:Pe,projectedEndInventory:W,projectedPallets:W/(S*_||1),daysOfSupply:0}),W<U&&!fe&&(fe=re),W>U+k*2&&!pe&&(pe=re)}let I=0,Y=0;if(de<U)I=Math.ceil((U-de)/k);else if(de>U+k){const ae=de-U;if(ae>k){const re=Math.floor(ae/k);Y=Math.min(re,M)}}let Q=30;if(K.length>0){const ae=K.findIndex(re=>re.balance<0);if(ae!==-1){const re=K[ae],ee=ae>0?K[ae-1].balance:V+R;let we=0;re.demand>0&&ee>0&&(we=ee/re.demand),Q=ae+we}}const F={};return Object.entries(f).forEach(([ae,re])=>{Number(re)<=0||m&&m[ae]?.items?.length>0||(F[ae]||(F[ae]={count:0,items:[]}),F[ae].count+=Number(re),F[ae].items.push({needDate:ae,trucks:Number(re)}))}),{netInventory:de,safetyTarget:U,trucksToOrder:I,trucksToCancel:Y,lostProductionCases:E,effectiveScheduledCases:C,specs:v,yardInventory:{...s,effectiveCount:L,isOverridden:!1},dailyLedger:K,firstStockoutDate:fe,firstOverflowDate:pe,totalIncomingTrucks:M,initialInventory:V+R,calculatedPallets:q,daysOfSupply:Q,inventoryAnchor:a,plannedOrders:F}};function Loe(e,t={}){const{safetyStockLoads:r}=Jn(),{productMap:n}=fr(),{selectedSize:a,monthlyDemand:s,monthlyProductionActuals:l,monthlyInbound:c,downtimeHours:d,incomingTrucks:f,yardInventory:m,inventoryAnchor:g}=e,v=n[a],y=v?.productionRate||0,S=x.useMemo(()=>{if(!v)return null;const k={todayStr:un(),productionRate:y,downtimeHours:d,bottleSpecs:v,inventoryAnchor:g,yardInventory:m,incomingTrucks:f,monthlyDemand:s,monthlyProductionActuals:l,monthlyInbound:c,poManifest:t,safetyStockLoads:r};return $oe(k)},[a,y,d,f,n,r,m,s,c,g,t,l,v]);return x.useMemo(()=>({totalScheduledCases:S?.effectiveScheduledCases||0,productionRate:y,calculations:S}),[S,y])}function Ioe(e,t){const{safetyStockLoads:r,leadTimeDays:n}=Jn(),{productMap:a,refreshProducts:s}=fr(),{user:l,userRole:c}=Tr(),{savePlanningEntry:d,saveProductionSetting:f,saveInventorySnapshot:m}=Sl(),{selectedSize:g,setSelectedSize:v,monthlyDemand:y,setMonthlyDemand:S,monthlyProductionActuals:k,setMonthlyProductionActuals:_,monthlyInbound:j,setMonthlyInbound:N,truckManifest:E,setTruckManifest:C,setDowntimeHours:A,setCurrentInventoryPallets:T,setIncomingTrucks:P,setYardInventory:M,isAutoReplenish:$,setIsAutoReplenish:L,setInventoryAnchor:R,inventoryAnchor:q}=e,{calculations:V}=t,oe=x.useRef(0),de=x.useRef(y),U=x.useRef(k),K=x.useRef(j);x.useLayoutEffect(()=>{de.current=y},[y]),x.useLayoutEffect(()=>{U.current=k},[k]),x.useLayoutEffect(()=>{K.current=j},[j]);const[W,fe]=x.useState(!1),[pe,I]=x.useState(null),Y=x.useRef({}),Q=x.useRef({}),F=x.useCallback(async he=>{if(["admin","planner"].includes(c||"")){I(null);try{await he()}catch(je){console.error("Save Error",je),I(je.message||"Save Failed")}}},[c]),ae=x.useCallback((he,ve,je=1e3)=>{Y.current[he]&&clearTimeout(Y.current[he]),Y.current[he]=setTimeout(()=>{F(ve),delete Y.current[he]},je)},[F]),re=x.useCallback((he,ve,je=300)=>{Q.current[he]&&clearTimeout(Q.current[he]),Q.current[he]=setTimeout(()=>{ve(),delete Q.current[he]},je)},[]);x.useEffect(()=>()=>{Object.values(Y.current).forEach(clearTimeout),Object.values(Q.current).forEach(clearTimeout)},[]);const ee=x.useCallback(()=>{if(!V||!$)return;const he=de.current,ve=U.current,je=K.current,ze=a[g];if(!ze)return;const Kt=1+(ze.scrapPercentage||0)/100,Gr=(r||0)*ze.bottlesPerTruck;let pn=V.initialInventory||0;const di=n||2,mr={},Ye=un();for(let bt=0;bt<di;bt++){const Lt=lr(Ye,bt),gr=ve[Lt],Dl=he[Lt],Ml=Lt>Ye,va=gr!=null&&(!Ml||Number(gr)!==0),vn=Number(va?gr:Dl||0)*(ze.bottlesPerCase||1)*Kt,It=je[Lt]||0;pn=pn+It*ze.bottlesPerTruck-vn}for(let bt=di;bt<60;bt++){const Lt=lr(Ye,bt),gr=ve[Lt],Dl=he[Lt],Ml=Lt>Ye,va=gr!=null&&(!Ml||Number(gr)!==0),vn=Number(va?gr:Dl||0)*(ze.bottlesPerCase||1)*Kt;let It=0,no=pn-vn;if(no<Gr){const Gc=Math.ceil((Gr-no)/ze.bottlesPerTruck);It=Gc,no+=Gc*ze.bottlesPerTruck}It>0?mr[Lt]=It:je[Lt]&&(mr[Lt]=0),pn=no}let gn=!1;if(Object.entries(mr).forEach(([bt,Lt])=>{(je[bt]||0)!==Lt&&(gn=!0)}),!gn)return;const pr={...je,...mr};Object.keys(pr).forEach(bt=>{pr[bt]===0&&delete pr[bt]});const ga=bt=>Object.keys(bt).sort().reduce((Lt,gr)=>({...Lt,[gr]:bt[gr]}),{});JSON.stringify(ga(pr))!==JSON.stringify(ga(je))&&(N(pr),nn("monthlyInbound",pr,g,!0))},[V,$,a,g,r,n,l,c,d,N,F]),we=x.useCallback((he,ve)=>{const je=ve,ze={...de.current,[he]:je};S(ze),re("monthlyDemand",()=>{nn("monthlyDemand",ze,g,!0)},500),l&&ae(`demand-${he}`,async()=>d(l.id,g,he,"demand_plan",Number(je)),1e3)},[g,l,ae,re,S,d]),X=x.useCallback((he,ve)=>{const je=ve===""||ve===null?void 0:ve,ze={...U.current};je===void 0?delete ze[he]:ze[he]=je,_(ze),re("monthlyProductionActuals",()=>{nn("monthlyProductionActuals",ze,g,!0)},500),l&&ae(`actual-${he}`,async()=>d(l.id,g,he,"production_actual",je===void 0?null:Number(je)),1e3)},[g,l,ae,re,_,d]),me=x.useCallback((he,ve)=>{const je=ve,ze={...K.current};je===""||je==="0"||Number(je)===0?delete ze[he]:ze[he]=je,N(ze),re("monthlyInbound",()=>{nn("monthlyInbound",ze,g,!0)},500),l&&ae(`inbound-${he}`,async()=>d(l.id,g,he,"inbound_trucks",je===""||je==="0"||Number(je)===0?null:Number(je)),1e3)},[g,l,ae,re,N,d]);x.useEffect(()=>{if(!$||!V||Date.now()-oe.current<250)return;const he=setTimeout(()=>{ee()},50);return()=>clearTimeout(he)},[q,r,n,$,y,k,V,ee]);const _e=x.useCallback(he=>{const ve={...de.current,...he};S(ve),re("monthlyDemand",()=>{nn("monthlyDemand",ve,g,!0)},500),l&&ae(`demand-bulk-${Object.keys(he)[0]}`,async()=>{const je=Object.entries(he).map(([ze,Kt])=>d(l.id,g,ze,"demand_plan",Number(Kt)));await Promise.all(je)},1e3)},[g,l,ae,re,S,d]),[ce,Ge]=x.useState(a[g]?.productionRate||0);return x.useEffect(()=>{Ge(a[g]?.productionRate||0)},[g,a]),{setters:x.useMemo(()=>({setSelectedSize:v,updateDateDemand:we,updateDateDemandBulk:_e,updateDateActual:X,updateDateInbound:me,updateTruckManifest:(he,ve)=>{const je={...E,[he]:ve};(!ve||ve.length===0)&&delete je[he],C(je),nn("truckManifest",je,g,!0),l&&F(async()=>d(l.id,g,he,"truck_manifest_json",JSON.stringify(ve)))},setProductionRate:async he=>{const ve=Number(he);Ge(ve),l&&(await F(async()=>f(l.id,g,"production_rate",ve)),s())},setDowntimeHours:he=>{const ve=Number(he);A(ve),nn("downtimeHours",ve,g),l&&F(async()=>f(l.id,g,"downtime_hours",ve))},setCurrentInventoryPallets:he=>{const ve=Number(he);T(ve),nn("currentInventoryPallets",ve,g)},setIncomingTrucks:he=>{const ve=Number(he);P(ve),nn("incomingTrucks",ve,g)},setYardInventory:he=>{M(he),nn("yardInventory",he,g,!0)},updateYardInventory:he=>{const ve=Number(he),je=un();M({date:je,count:ve}),nn("yardInventory",{date:je,count:ve},g,!0),l&&F(async()=>m(l.id,g,je,ve,"yard"))},setIsAutoReplenish:he=>{L(he),nn("isAutoReplenish",he,g,!0),l&&F(async()=>f(l.id,g,"is_auto_replenish",he))},setInventoryAnchor:he=>{R(he),nn("inventoryAnchor",he,g,!0),l&&F(()=>m(l.id,g,he.date,he.count,"floor"))}}),[v,we,_e,X,me,E,C,g,l,F,d,Ge,f,s,A,T,P,M,L,R,m]),formState:{isSaving:W,saveError:pe,selectedSize:g,productionRate:ce}}}function zoe(e={}){const t=Roe(),r=x.useMemo(()=>{if(!t.selectedSize||!e)return{};const f={};return Object.entries(e).forEach(([m,g])=>{const v=g.items?.filter(y=>y.sku===t.selectedSize)||[];v.length>0&&(f[m]={items:v})}),f},[e,t.selectedSize]),{calculations:n,totalScheduledCases:a,productionRate:s}=Loe(t,r),l=x.useMemo(()=>({calculations:n}),[n]),{setters:c,formState:d}=Ioe(t,l);return{formState:{selectedSize:t.selectedSize,monthlyDemand:t.monthlyDemand,monthlyProductionActuals:t.monthlyProductionActuals,monthlyInbound:t.monthlyInbound,truckManifest:t.truckManifest,downtimeHours:t.downtimeHours,currentInventoryPallets:t.currentInventoryPallets,incomingTrucks:t.incomingTrucks,yardInventory:t.yardInventory,isAutoReplenish:t.isAutoReplenish,inventoryAnchor:t.inventoryAnchor,productionRate:d.productionRate??s,totalScheduledCases:a,isSaving:d.isSaving,saveError:d.saveError},setters:c,results:{...n,poManifest:r}}}function Uoe(){const{safetyStockLoads:e,schedulerSettings:t,updateSchedulerSetting:r}=Jn(),{productMap:n,updateProductSettings:a}=fr(),[s,l]=x.useState(()=>localStorage.getItem("sched_selectedSize")||"20oz");x.useEffect(()=>localStorage.setItem("sched_selectedSize",s),[s]);const{shiftStartTime:c="00:00",poAssignments:d={},cancelledLoads:f=[]}=t,m=x.useMemo(()=>{const y=n[s];if(!y)return null;const S=y.casesPerTruck?Math.ceil(y.casesPerTruck/(y.casesPerPallet||1)):0,k={...y,name:s,palletsPerTruck:y.palletsPerTruck||S},_=k.productionRate||0,j=_*24,N=isNaN(j)?0:j,E=k.casesPerTruck&&k.casesPerTruck>0?Math.ceil(N/k.casesPerTruck):0,C=E*7,A=[{name:"Shift 1 (00:00-08:00)",loads:0},{name:"Shift 2 (08:00-16:00)",loads:0},{name:"Shift 3 (16:00-00:00)",loads:0}],T=_,P=T,M=k.casesPerTruck||0,$=T>0&&M>0?M/T:0;let L=[];if($>0&&E>0){const[V,oe]=c.split(":").map(Number);let de=V+oe/60;for(let U=0;U<E;U++){const W=(de+$*U)%24,fe=Math.round(W),Y=`${(fe===24?0:fe).toString().padStart(2,"0")}:${0 .toString().padStart(2,"0")}`;L.push({id:U+1,time:Y,rawDecimal:W,po:d[String(U+1)]||""})}}const R=L.filter(V=>!f.includes(String(V.id)));R.forEach(V=>{const oe=V.rawDecimal;oe>=0&&oe<8?A[0].loads++:oe>=8&&oe<16?A[1].loads++:A[2].loads++}),L=R;const q=e<E;return{requiredDailyLoads:E,weeklyLoads:C,schedule:A,truckSchedule:L,burnRate:P,hoursPerTruck:$,isHighRisk:q,safetyStockLoads:e,specs:k}},[s,c,n,e,d,f]),g=(y,S)=>{const k={...d,[String(y)]:S};r("poAssignments",k)},v=y=>{const S=String(y),_=f.includes(S)?f.filter(j=>j!==S):[...f,S];r("cancelledLoads",_)};return{formState:{selectedSize:s,targetDailyProduction:(m?.burnRate||0)*24,shiftStartTime:c,poAssignments:d},setters:{setSelectedSize:l,setTargetDailyProduction:y=>{const S=Number(y),k=!isNaN(S)&&S>=0?S:0;a(s,{production_rate:k/24})},setShiftStartTime:y=>r("shiftStartTime",y),updatePO:g,toggleCancelled:v},results:m}}function Boe(e,t=!0){const{user:r}=Tr(),{fetchMRPState:n}=Sl(),[a,s]=x.useState({}),[l,c]=x.useState(!1),[d,f]=x.useState(0),m=x.useRef(null);return x.useEffect(()=>{if(!t)return;const v=async()=>{if(!t)return;c(!0);const y={},S=(j,N)=>{const E=`mrp_${j}`,C=`mrp_${N}_${j}`;let A=localStorage.getItem(C);A===null&&N==="20oz"&&(A=localStorage.getItem(E));try{return JSON.parse(A||"{}")}catch{return{}}},k=e.map(async j=>{if(r)try{const N=await n(r.id,j);return{sku:j,data:N?{demand:N.monthlyDemand||{},actuals:N.monthlyProductionActuals||{},inbound:N.monthlyInbound||{}}:{demand:{},actuals:{},inbound:{}}}}catch(N){return console.error(`Failed to load master state for ${j}`,N),{sku:j,data:{demand:{},actuals:{},inbound:{}}}}else return{sku:j,data:{demand:S("monthlyDemand",j),actuals:S("monthlyProductionActuals",j),inbound:S("monthlyInbound",j)}}});(await Promise.all(k)).forEach(({sku:j,data:N})=>{y[j]=N}),s(y),c(!1)};e.length>0&&v()},[e.join(","),r?.id,t,d]),nc({table:"planning_entries",enabled:t&&!!r,onDataChange:()=>{m.current&&clearTimeout(m.current),m.current=setTimeout(()=>{f(v=>v+1)},1e3)}}),{masterLedger:x.useMemo(()=>{const v={},y=new Set;return Object.values(a).forEach(k=>{Object.keys(k.demand).forEach(_=>y.add(_)),Object.keys(k.actuals).forEach(_=>y.add(_)),Object.keys(k.inbound).forEach(_=>y.add(_))}),Array.from(y).sort().forEach(k=>{const _=[];e.forEach(j=>{const N=a[j];if(!N)return;const E=Number(N.demand[k])||0,C=N.actuals[k]!==void 0?Number(N.actuals[k]):null,A=Number(N.inbound[k])||0;(E>0||C!==null&&C>0||A>0)&&_.push({sku:j,demand:E,actual:C,trucks:A})}),_.length>0&&(v[k]=_)}),v},[a,e]),loading:l,skuStates:a}}function qoe({masterLedger:e,loading:t}){const r=x.useMemo(()=>e?Object.keys(e).sort():[],[e]),n=a=>({"20oz":"bg-blue-100 dark:bg-blue-900/40 text-blue-800 dark:text-blue-200 border-blue-200 dark:border-blue-700","12oz":"bg-purple-100 dark:bg-purple-900/40 text-purple-800 dark:text-purple-200 border-purple-200 dark:border-purple-700","2L":"bg-green-100 dark:bg-green-900/40 text-green-800 dark:text-green-200 border-green-200 dark:border-green-700","1L":"bg-orange-100 dark:bg-orange-900/40 text-orange-800 dark:text-orange-200 border-orange-200 dark:border-orange-700"})[a]||"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200 border-gray-200 dark:border-gray-700";return t?p.jsxs("div",{className:"flex h-full items-center justify-center p-10",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),p.jsx("span",{className:"ml-3 text-gray-500",children:"Aggregating Master Plan..."})]}):r.length===0?p.jsxs("div",{className:"text-center p-10 bg-gray-50 dark:bg-gray-800 rounded-lg border-2 border-dashed border-gray-200 dark:border-gray-700",children:[p.jsx("h3",{className:"text-gray-400 dark:text-gray-500 font-bold mb-2",children:"No Active Production"}),p.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-sm",children:"Add demand or trucks to individual SKU plans to see them here."})]}):p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 mb-6",children:[p.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Master Schedule"}),p.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Global view of all production lines and logistics."})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("div",{className:"md:hidden space-y-4",children:r.map(a=>{const s=e[a]||[],l=new Date(a),c=new Date().toISOString().split("T")[0]===a;return s.length===0?null:p.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-lg shadow-sm border p-4 ${c?"border-blue-300 ring-1 ring-blue-100 dark:ring-blue-900":"border-gray-200 dark:border-gray-700"}`,children:[p.jsxs("div",{className:"flex justify-between items-center mb-3 pb-2 border-b border-gray-100 dark:border-gray-700",children:[p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:`text-lg font-bold ${c?"text-blue-600 dark:text-blue-400":"text-gray-900 dark:text-white"}`,children:l.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}),p.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500 font-mono",children:a})]}),c&&p.jsx("span",{className:"text-xs font-bold bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 px-2 py-1 rounded",children:"TODAY"})]}),p.jsx("div",{className:"space-y-2",children:s.map(d=>p.jsxs("div",{className:`flex items-center justify-between p-2 rounded border ${n(d.sku)}`,children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("span",{className:"font-bold text-sm mr-3 w-12",children:d.sku}),(d.demand>0||d.actual!==null&&d.actual>0)&&p.jsxs("span",{className:"font-mono font-bold text-sm",children:[d.actual!==null?d.actual.toLocaleString():d.demand.toLocaleString()," cases"]})]}),d.trucks>0&&p.jsxs("div",{className:"flex items-center space-x-1 bg-white dark:bg-gray-800 bg-opacity-60 px-2 py-1 rounded border border-black/5 dark:border-white/10",children:[p.jsx("span",{className:"text-base",children:""}),p.jsx("span",{className:"font-bold text-sm",children:d.trucks})]})]},`${a}-${d.sku}-mobile`))})]},a)})}),p.jsxs("div",{className:"hidden md:block bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:[p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 px-6 py-3 border-b border-gray-200 dark:border-gray-700 grid grid-cols-12 gap-4 text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[p.jsx("div",{className:"col-span-3 md:col-span-2",children:"Date"}),p.jsx("div",{className:"col-span-9 md:col-span-10",children:"Production & Logistics"})]}),p.jsx("div",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:r.map(a=>{const s=e[a]||[],l=new Date(a),c=new Date().toISOString().split("T")[0]===a;return p.jsxs("div",{className:`group grid grid-cols-12 gap-4 px-6 py-4 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors ${c?"bg-blue-50/30 dark:bg-blue-900/10":""}`,children:[p.jsxs("div",{className:"col-span-3 md:col-span-2 flex flex-col justify-center",children:[p.jsx("span",{className:`text-sm font-bold ${c?"text-blue-600 dark:text-blue-400":"text-gray-900 dark:text-white"}`,children:l.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}),p.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500 font-mono mt-1",children:a})]}),p.jsx("div",{className:"col-span-9 md:col-span-10 flex flex-col space-y-2 justify-center",children:s.map((d,f)=>p.jsxs("div",{className:`flex items-center p-2 rounded border ${n(d.sku)}`,children:[p.jsx("span",{className:"font-bold text-xs uppercase w-16 tracking-wide",children:d.sku}),p.jsxs("div",{className:"flex-1 flex items-center space-x-4",children:[(d.demand>0||d.actual!==null&&d.actual>0)&&p.jsxs("div",{className:"flex items-baseline space-x-1",children:[p.jsx("span",{className:"text-xs opacity-70",children:"Run:"}),p.jsx("span",{className:"font-mono font-bold text-sm",children:d.actual!==null?d.actual.toLocaleString():d.demand.toLocaleString()}),d.actual!==null&&p.jsx("span",{className:"text-[10px] bg-white bg-opacity-50 px-1 rounded ml-1",children:"ACT"})]}),(d.demand>0||d.actual>0)&&d.trucks>0&&p.jsx("span",{className:"text-gray-300 dark:text-gray-600",children:"|"}),d.trucks>0&&p.jsxs("div",{className:"flex items-center space-x-1",children:[p.jsx("span",{className:"text-lg",children:""}),p.jsx("span",{className:"font-bold text-sm",children:d.trucks}),p.jsx("span",{className:"text-xs opacity-70",children:"Trucks"})]})]})]},`${a}-${d.sku}`))})]},a)})})]})]})]})}function Hoe(){const{signIn:e,resendVerificationEmail:t}=Tr(),[r,n]=x.useState(""),[a,s]=x.useState(""),[l,c]=x.useState(null),[d,f]=x.useState(!1),[m,g]=x.useState(!1),v=async S=>{S.preventDefault(),c(null),f(!0);try{await e(r,a)}catch(k){c(k.message)}finally{f(!1)}},y=async()=>{try{f(!0),await t(r),g(!0),c("Confirmation email resent! Check your spam folder.")}catch(S){c(S.message)}finally{f(!1)}};return p.jsxs("div",{className:"min-h-screen bg-slate-950 flex flex-col items-center justify-center relative overflow-hidden font-sans selection:bg-blue-500 selection:text-white",children:[p.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-blue-950/20 via-slate-950 to-black z-0 pointer-events-none"}),p.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-5 z-0 pointer-events-none"}),p.jsx("main",{className:"relative z-10 w-full max-w-sm px-4",children:p.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-md border border-slate-800 rounded-3xl p-8 shadow-2xl",children:[p.jsxs("div",{className:"flex flex-col items-center mb-8",children:[p.jsx("div",{className:"h-20 w-20 bg-white rounded-full p-0.5 shadow-xl shadow-blue-900/20 mb-4 overflow-hidden ring-2 ring-slate-800",children:p.jsx("img",{src:g0,alt:"UBP",className:"h-full w-full object-contain"})}),p.jsx("h1",{className:"text-xl font-bold text-white tracking-tight",children:"MRP Portal"}),p.jsxs("div",{className:"flex items-center gap-1.5 text-slate-500 text-[10px] font-bold uppercase tracking-widest mt-1",children:[p.jsx(M5,{className:"w-3.5 h-3.5 text-emerald-500"}),p.jsx("span",{children:"Authorized Access Only"})]})]}),l&&p.jsxs("div",{className:`p-3 rounded-lg mb-6 text-xs font-medium border flex gap-2 items-start ${l.includes("resent")?"bg-emerald-900/20 text-emerald-400 border-emerald-900/50":"bg-rose-900/20 text-rose-400 border-rose-900/50"}`,children:[l.includes("resent")?p.jsx(qa,{className:"w-4 h-4 shrink-0"}):p.jsx(C6,{className:"w-4 h-4 shrink-0"}),p.jsxs("div",{children:[l,l.includes("Email not confirmed")&&!m&&p.jsx("button",{onClick:y,className:"block mt-1 underline hover:text-white transition-colors",children:"Resend Verification Email"})]})]}),p.jsxs("form",{onSubmit:v,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-semibold text-slate-400 mb-1.5 ml-1",children:"Email Address"}),p.jsx("input",{type:"email",required:!0,value:r,onChange:S=>n(S.target.value),className:"block w-full rounded-xl bg-slate-950 border border-slate-800 text-white placeholder-slate-600 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 py-2.5 px-4 text-sm transition-all",placeholder:"name@unionbevnj.com"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-semibold text-slate-400 mb-1.5 ml-1",children:"Password"}),p.jsx("input",{type:"password",required:!0,value:a,onChange:S=>s(S.target.value),className:"block w-full rounded-xl bg-slate-950 border border-slate-800 text-white placeholder-slate-600 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 py-2.5 px-4 text-sm transition-all",placeholder:""})]}),p.jsx("div",{className:"pt-2",children:p.jsx("button",{type:"submit",disabled:d,className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 rounded-xl shadow-lg shadow-blue-900/20 transition-all active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed flex justify-center",children:d?p.jsxs("span",{className:"flex items-center gap-2",children:[p.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing In..."]}):"Sign In to Dashboard"})})]}),p.jsx("div",{className:"mt-8 text-center border-t border-slate-800/50 pt-4",children:p.jsx("p",{className:"text-slate-500 text-xs",children:"Sign In to access planning tool."})})]})}),p.jsx("footer",{className:"absolute bottom-6 w-full text-center",children:p.jsxs("p",{className:"text-slate-800 text-[10px] font-medium uppercase tracking-wider",children:[" ",new Date().getFullYear()," Union Beverage Packers"]})})]})}function O5({date:e,totalRequired:t,manifest:r,onUpdate:n,readOnly:a=!1}){const[s,l]=x.useState(!1),c=r||[],d=Math.max(c.length,t),f=Math.max(0,d-c.length),[m,g]=x.useState(c),v=_=>{_&&(_.preventDefault(),_.stopPropagation()),n(e,m),l(!1)},y=()=>{g([...m,{id:crypto.randomUUID(),po:"",carrier:"",time:"",status:"scheduled"}])},S=_=>{const j=[...m];j.splice(_,1),g(j)},k=(_,j,N)=>{const E=[...m];E[_]={...E[_],[j]:N},g(E)};return s?p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-blue-200 dark:border-blue-900 shadow-lg",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white flex items-center",children:[p.jsx(Ju,{className:"w-5 h-5 mr-2 text-blue-500"}),"Edit Manifest: ",e]}),p.jsxs("div",{className:"space-x-2",children:[p.jsx("button",{type:"button",onClick:()=>l(!1),className:"text-xs text-gray-500 hover:text-gray-700",children:"Cancel"}),p.jsx("button",{type:"button",onClick:v,className:"px-3 py-1 bg-blue-600 text-white text-xs font-bold rounded shadow hover:bg-blue-500",children:"Save Changes"})]})]}),p.jsxs("div",{className:"space-y-2",children:[m.map((_,j)=>p.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 bg-gray-50 dark:bg-gray-700/50 p-3 rounded border border-gray-100 dark:border-gray-600",children:[p.jsxs("div",{className:"flex-1 w-full",children:[p.jsx("label",{className:"text-[10px] uppercase text-gray-400 font-bold block mb-1 sm:hidden",children:"Carrier"}),p.jsx("input",{className:"w-full text-sm font-bold bg-transparent border-b border-gray-300 focus:border-blue-500 outline-none dark:text-white pb-1",placeholder:"Carrier Name",value:_.carrier,onChange:N=>k(j,"carrier",N.target.value)})]}),p.jsxs("div",{className:"w-full sm:w-24",children:[p.jsx("label",{className:"text-[10px] uppercase text-gray-400 font-bold block mb-1 sm:hidden",children:"PO #"}),p.jsx("input",{className:"w-full text-sm font-mono bg-transparent border-b border-gray-300 focus:border-blue-500 outline-none dark:text-white pb-1",placeholder:"PO-123",value:_.po,onChange:N=>k(j,"po",N.target.value)})]}),p.jsxs("div",{className:"w-full sm:w-28",children:[p.jsx("label",{className:"text-[10px] uppercase text-gray-400 font-bold block mb-1 sm:hidden",children:"Time"}),p.jsxs("select",{className:"w-full text-sm bg-transparent border-b border-gray-300 focus:border-blue-500 outline-none dark:text-gray-200 dark:bg-gray-800 rounded px-1 pb-1",value:_.time,onChange:N=>k(j,"time",N.target.value),children:[p.jsx("option",{value:"",className:"text-gray-500",children:"TBD"}),Array.from({length:24}).map((N,E)=>{const C=E,T=`${String(C).padStart(2,"0")}:${String(0).padStart(2,"0")}`,P=C>=12?"PM":"AM",$=`${C%12||12}:00 ${P}`;return p.jsx("option",{value:T,className:"dark:bg-gray-800",children:$},T)})]})]}),p.jsx("div",{className:"w-full sm:w-auto flex justify-end",children:p.jsxs("button",{type:"button",onClick:()=>S(j),className:"text-red-400 hover:text-red-600 p-2 sm:p-1 bg-red-50 dark:bg-red-900/10 sm:bg-transparent rounded",children:[p.jsxs("div",{className:"flex items-center sm:hidden",children:[p.jsx(Ya,{className:"w-4 h-4 mr-1"}),p.jsx("span",{className:"text-xs font-bold",children:"Remove"})]}),p.jsx(Ya,{className:"w-4 h-4 hidden sm:block"})]})})]},_.id||j)),p.jsxs("button",{onClick:y,className:"w-full py-2 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded text-gray-400 dark:text-gray-500 hover:border-blue-400 hover:text-blue-500 flex items-center justify-center text-sm font-bold",children:[p.jsx(B6,{className:"w-4 h-4 mr-1"})," Add Truck"]})]})]}):p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("div",{}),!a&&(t>0||c.length>0)&&p.jsxs("button",{onClick:()=>{g(c.length?c:Array(t).fill().map(()=>({id:crypto.randomUUID(),po:"",carrier:"",time:""}))),l(!0)},className:"text-xs font-bold text-blue-600 hover:text-blue-500 flex items-center bg-blue-50 dark:bg-blue-900/20 px-2 py-1 rounded",children:[p.jsx(Ju,{className:"w-3 h-3 mr-1"}),"Edit Manifest"]})]}),c.map((_,j)=>p.jsx("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-gray-800 border-l-4 border-green-500 shadow-sm rounded-r-md",children:p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("span",{className:"font-bold text-gray-900 dark:text-white text-lg",children:_.carrier||_.supplier||"Pending Assignment"}),_.time&&p.jsxs("span",{className:"ml-2 text-sm font-bold bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 px-2 py-1 rounded flex items-center shadow-sm",children:[p.jsx(c0,{className:"w-4 h-4 mr-1"}),ac(_.time)]})]}),p.jsx("div",{className:"flex flex-col text-xs text-gray-500 mt-1",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx(K6,{className:"w-3 h-3 mr-1"}),p.jsxs("span",{className:"font-mono text-gray-700 dark:text-gray-300 font-bold mr-2",children:["PO: ",_.po||"N/A"]}),_.supplier&&_.carrier&&p.jsxs("span",{className:"text-gray-400",children:["(",_.supplier,")"]})]})})]})},j)),Array.from({length:f}).map((_,j)=>p.jsx("div",{className:"flex items-center justify-between p-3 bg-gray-50 border-l-4 border-gray-300 dark:border-gray-600 dark:bg-gray-800/50 rounded-r-md opacity-70 dashed-border",children:p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("div",{className:"p-1.5 bg-gray-200 dark:bg-gray-700 rounded-full",children:p.jsx(dn,{className:"w-5 h-5 text-gray-400"})}),p.jsxs("div",{children:[p.jsxs("p",{className:"text-sm font-bold text-gray-500 italic",children:["Planned Delivery Slot #",c.length+j+1]}),p.jsx("div",{className:"flex items-center text-xs text-gray-400 mt-0.5",children:p.jsx("span",{children:"Awaiting Carrier Assignment"})})]})]})},`p-${j}`)),d===0&&p.jsx("div",{className:"p-4 text-center text-gray-400 text-sm italic bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:"No Deliveries Needed"})]})}function Foe({state:e,setters:t,results:r,readOnly:n=!1}){const[a,s]=x.useState(!1),{productMap:l}=fr(),c=x.useMemo(()=>Object.keys(l||{}),[l]),[d,f]=x.useState({today:[],tomorrow:[]}),[m,g]=x.useState("ALL"),{poManifest:v,updateDailyManifest:y,bulkUpdateOrders:S}=Qn(),k=un(),_=lr(k,1),j=new Date(_+"T00:00:00");x.useEffect(()=>{try{const M={today:[],tomorrow:[]};c.forEach($=>{const L=`mrp_${$}_monthlyInbound`;let R={};try{const ee=localStorage.getItem(L);ee&&(R=JSON.parse(ee))}catch{}const q=`mrp_${$}_truckManifest`;let V={};try{const ee=localStorage.getItem(q);ee&&(V=JSON.parse(ee))}catch{}const oe=ee=>{try{const we=v[ee];return!we||!we.items?[]:we.items.filter(X=>X.sku===$)}catch(we){return console.warn("Error reading global POs for date:",ee,we),[]}},de=oe(k),U=oe(_),K=Number(R[k])||0,W=V[k]||[],fe=de.map(ee=>({id:ee.id,time:ee.time,carrier:ee.carrier||ee.supplier,type:"PO",po:ee.po,details:`PO#${ee.po} (${ee.qty})`,isGlobal:!0})),pe=[...W,...fe],I=Math.max(K,pe.length);(I>0||pe.length>0)&&M.today.push({sku:$,count:I,manifest:pe});const Y=Number(R[_])||0,Q=V[_]||[],F=U.map(ee=>({id:ee.id,time:ee.time,carrier:ee.carrier||ee.supplier,type:"PO",po:ee.po,details:`PO#${ee.po} (${ee.qty})`,isGlobal:!0})),ae=[...Q,...F],re=Math.max(Y,ae.length);(re>0||ae.length>0)&&M.tomorrow.push({sku:$,count:re,manifest:ae})}),f(M)}catch(M){console.error("Critical Error in LogisticsView Aggregation:",M),f({today:[],tomorrow:[]})}},[c,e.monthlyInbound,e.stateVersion,v,k,_]);const N=m==="ALL"?d.today:d.today.filter(M=>M.sku===m),E=m==="ALL"?d.tomorrow:d.tomorrow.filter(M=>M.sku===m),C=N.reduce((M,$)=>M+$.count,0),A=E.reduce((M,$)=>M+$.count,0),T=M=>M?M.toLocaleString():"0";if(!r)return p.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading Logistics Data..."});const{yardInventory:P}=r;return p.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[p.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center bg-slate-900 text-white p-6 rounded-2xl shadow-lg",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-black tracking-tight uppercase",children:"Floor Operations"}),p.jsxs("div",{className:"flex items-center space-x-2 mt-2 opacity-80",children:[p.jsxs("span",{className:"bg-slate-700 px-3 py-1 rounded text-sm font-mono",children:["ACTIVE: ",e.selectedSize]}),p.jsx("span",{className:"text-sm",children:new Date().toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})})]})]}),p.jsx("div",{className:"flex flex-col sm:flex-row gap-3 mt-4 md:mt-0 w-full md:w-auto",children:!n&&p.jsxs("button",{onClick:()=>s(!0),className:"flex items-center justify-center bg-emerald-500 hover:bg-emerald-400 text-slate-900 px-6 py-3 rounded-xl font-bold text-base md:text-lg transition-transform hover:scale-105 shadow-xl w-full sm:w-auto",children:[p.jsx(nx,{className:"w-6 h-6 md:w-8 md:h-8 mr-2"}),"START DAY"]})})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-2xl border-2 border-gray-100 dark:border-gray-700 shadow-sm flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-bold uppercase tracking-wider text-sm",children:"Floor Inventory"}),p.jsxs("div",{className:"flex items-baseline mt-2",children:[p.jsx("span",{className:"text-6xl font-black text-slate-800 dark:text-white",children:T(Math.round(r.calculatedPallets))}),p.jsx("span",{className:"ml-2 text-xl font-medium text-gray-400",children:"Pallets"})]})]}),p.jsx("div",{className:"h-16 w-16 bg-blue-50 rounded-full flex items-center justify-center",children:p.jsx(ax,{className:"w-8 h-8 text-blue-600"})})]}),p.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-2xl border-2 border-gray-100 dark:border-gray-700 shadow-sm flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-bold uppercase tracking-wider text-sm",children:"Yard Inventory"}),p.jsxs("div",{className:"flex items-baseline mt-2",children:[p.jsx("span",{className:"text-6xl font-black text-slate-800 dark:text-white",children:P.effectiveCount}),p.jsx("span",{className:"ml-2 text-xl font-medium text-gray-400",children:"Loads"})]}),P.isOverridden&&p.jsx("span",{className:"inline-block mt-2 px-2 py-1 bg-yellow-100 text-yellow-800 text-xs font-bold rounded",children:"MANUAL OVERRIDE"})]}),p.jsx("div",{className:"h-16 w-16 bg-orange-50 rounded-full flex items-center justify-center",children:p.jsx(dn,{className:"w-8 h-8 text-orange-600"})})]})]}),p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden",children:[p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[p.jsxs("h2",{className:"text-lg font-bold text-gray-800 dark:text-white flex items-center",children:[p.jsx(P5,{className:"w-5 h-5 mr-2 text-gray-500"}),"Master Dock Schedule"]}),p.jsxs("div",{className:"flex space-x-1 bg-white dark:bg-gray-800 rounded-lg p-1 border dark:border-gray-600",children:[p.jsx("button",{onClick:()=>g("ALL"),className:`px-3 py-1 text-[10px] uppercase font-bold rounded ${m==="ALL"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":"text-gray-400 hover:text-gray-600"}`,children:"All"}),c.map(M=>p.jsx("button",{onClick:()=>g(M),className:`px-3 py-1 text-[10px] uppercase font-bold rounded ${m===M?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":"text-gray-400 hover:text-gray-600"}`,children:M},M))]})]}),p.jsxs("div",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:[p.jsxs("div",{className:"p-6 transition-colors",children:[p.jsxs("div",{className:"flex items-center mb-4",children:[p.jsx("div",{className:`w-3 h-12 rounded-full mr-4 ${C>0?"bg-green-500":"bg-gray-300"}`}),p.jsxs("div",{children:[p.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"TODAY"}),p.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date().toLocaleDateString()})]}),p.jsx("div",{className:"ml-auto text-right",children:C>0?p.jsxs("span",{className:"text-sm font-bold text-green-600 bg-green-50 dark:bg-green-900/20 px-3 py-1 rounded-full uppercase",children:[C," Total Trucks"]}):null})]}),p.jsxs("div",{className:"pl-7 space-y-6",children:[N.length===0&&p.jsx("p",{className:"text-sm text-gray-400 italic",children:"No scheduled deliveries."}),N.map(M=>p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[p.jsxs("h4",{className:"flex items-center text-xs font-bold text-gray-500 uppercase mb-3",children:[p.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500 mr-2"}),M.sku," Production Supply (",M.count," Trucks)"]}),p.jsx(O5,{date:k,totalRequired:M.count,manifest:M.manifest,readOnly:n,onUpdate:($,L)=>{try{const q=r.specs?.bottlesPerTruck||2e4,V=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`uuid-${Date.now()}-${Math.random()}`,oe=L.map(W=>({id:W.id||V(),date:$,po:W.po||`TEMP-${Date.now()}`,sku:M.sku,qty:q,supplier:W.carrier||"Unknown",carrier:W.carrier,time:W.time,status:"scheduled",isGlobal:!0})),de=v[$]?.items||[],K=[...Array.isArray(de)?de.filter(W=>W.sku!==M.sku):[],...oe];y($,K)}catch(R){console.error("Failed to update manifest (Today) in LogicsticsView:",R),alert("Error saving manifest. See console.")}try{const R=`mrp_${M.sku}_truckManifest`,q=localStorage.getItem(R);if(q){const V=JSON.parse(q);V[$]&&(delete V[$],localStorage.setItem(R,JSON.stringify(V)))}}catch(R){console.warn("Legacy cleanup failed (Today)",R)}}})]},M.sku))]})]}),p.jsxs("div",{className:"p-6 transition-colors opacity-95",children:[p.jsxs("div",{className:"flex items-center mb-4",children:[p.jsx("div",{className:`w-3 h-12 rounded-full mr-4 ${A>0?"bg-blue-500":"bg-gray-300"}`}),p.jsxs("div",{children:[p.jsx("p",{className:"text-xl font-bold text-gray-700 dark:text-gray-300",children:"TOMORROW"}),p.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:j.toLocaleDateString()})]})]}),p.jsxs("div",{className:"pl-7 space-y-6",children:[E.length===0&&p.jsx("p",{className:"text-sm text-gray-400 italic",children:"No scheduled deliveries."}),E.map(M=>p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[p.jsxs("h4",{className:"flex items-center text-xs font-bold text-gray-500 uppercase mb-3",children:[p.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500 mr-2"}),M.sku," Production Supply (",M.count," Trucks)"]}),p.jsx(O5,{date:_,totalRequired:M.count,manifest:M.manifest,readOnly:n,onUpdate:($,L)=>{try{const q=r.specs?.bottlesPerTruck||2e4,V=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`uuid-${Date.now()}-${Math.random()}`,oe=L.map(W=>({id:W.id||V(),date:$,po:W.po||"TBD",sku:M.sku,qty:q,supplier:W.carrier||"Unknown",carrier:W.carrier,time:W.time,status:"scheduled",isGlobal:!0})),de=v[$]?.items||[],K=[...Array.isArray(de)?de.filter(W=>W.sku!==M.sku):[],...oe];y($,K)}catch(R){console.error("Failed to update manifest in LogicsticsView:",R),alert("Error saving manifest. See console.")}try{const R=`mrp_${M.sku}_truckManifest`,q=localStorage.getItem(R);if(q){const V=JSON.parse(q);V[$]&&(delete V[$],localStorage.setItem(R,JSON.stringify(V)))}}catch(R){console.warn("Legacy cleanup failed (tomorrow)",R)}}})]},M.sku))]})]})]}),p.jsx("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-4 text-center",children:p.jsx("p",{className:"text-xs text-gray-500",children:"For the full 30-day schedule, ask a Planner or switch to the Planning View."})})]}),p.jsx(MC,{isOpen:a,onClose:()=>s(!1),state:e,setters:t})]})}function Voe({isOpen:e,onClose:t,product:r,onSave:n,readOnly:a=!1}){const{user:s}=Tr(),[l,c]=x.useState({name:"",description:"",bottles_per_case:12,bottles_per_truck:2e4,cases_per_pallet:100,lead_time_days:2,safety_stock_loads:6,lines:[]}),[d,f]=x.useState(!1),[m,g]=x.useState(null);x.useEffect(()=>{e&&(c(r?{name:r.name,description:r.description||"",color_tag:r.color_tag||"#3B82F6",bottles_per_case:r.bottles_per_case||24,cases_per_pallet:r.cases_per_pallet||100,bottles_per_truck:r.bottles_per_truck||1e5,lead_time_days:r.lead_time_days!==null&&r.lead_time_days!==void 0?r.lead_time_days:2,safety_stock_loads:r.safety_stock_loads!==null&&r.safety_stock_loads!==void 0?r.safety_stock_loads:6,lines:r.production_settings?.length>0?r.production_settings.map(_=>({line_name:_.line_name,production_rate:_.production_rate})):[{line_name:"Line 1",production_rate:2500}]}:{name:"",description:"",color_tag:"#3B82F6",bottles_per_case:24,cases_per_pallet:100,bottles_per_truck:1e5,lead_time_days:2,safety_stock_loads:6,lines:[{line_name:"Line 1",production_rate:2500}]}),g(null))},[e,r]);const v=()=>{c(_=>({..._,lines:[..._.lines,{line_name:`Line ${_.lines.length+1}`,production_rate:2500}]}))},y=_=>{c(j=>({...j,lines:j.lines.filter((N,E)=>E!==_)}))},S=(_,j,N)=>{const E=[...l.lines];E[_][j]=N,c({...l,lines:E})},k=async _=>{if(_.preventDefault(),!(!s||a)){f(!0),g(null);try{const j={name:l.name,description:l.description,color_tag:l.color_tag,bottles_per_case:Number(l.bottles_per_case),bottles_per_truck:Number(l.bottles_per_truck),cases_per_pallet:Number(l.cases_per_pallet),lead_time_days:Number(l.lead_time_days),safety_stock_loads:Number(l.safety_stock_loads),user_id:s.id};r?.id&&(j.id=r.id);const{data:N,error:E}=await Re.from("products").upsert(j,{onConflict:"name"}).select().single();if(E)throw E;const C=l.lines.map(T=>({product_id:N.id,user_id:s.id,line_name:T.line_name||"Line 1",production_rate:Number(T.production_rate)})),{error:A}=await Re.from("production_settings").upsert(C,{onConflict:"product_id, line_name"});if(A)throw A;n(),t()}catch(j){console.error("Save Error:",j),g(j.message||"Failed to save product")}finally{f(!1)}}};return p.jsxs(Ot,{open:e,onClose:t,className:"relative z-50",children:[p.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm","aria-hidden":"true"}),p.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:p.jsxs(Ot.Panel,{className:"w-full max-w-lg rounded-2xl bg-white dark:bg-gray-800 p-6 shadow-xl border border-gray-200 dark:border-gray-700 max-h-[90vh] overflow-y-auto",children:[p.jsx(Ot.Title,{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:a?"View Product Configuration":r?"Edit Product Configuration":"Add New Product"}),m&&p.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg text-sm",children:m}),p.jsxs("form",{onSubmit:k,className:"space-y-5",children:[p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-xl space-y-4",children:[p.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Identification"}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] font-medium text-gray-500 uppercase mb-1",children:"SKU Name"}),p.jsx("input",{type:"text",required:!0,value:l.name,onChange:_=>c({...l,name:_.target.value}),disabled:!!r||a,className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white font-bold focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"e.g. 20oz Cola"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] font-medium text-gray-500 uppercase mb-1",children:"Display Color"}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("input",{type:"color",value:l.color_tag,onChange:_=>c({...l,color_tag:_.target.value}),disabled:a,className:"h-9 w-12 rounded cursor-pointer border-0 p-0 disabled:opacity-50"}),p.jsx("span",{className:"text-xs text-gray-400",children:"Calendar Tag"})]})]}),p.jsxs("div",{className:"col-span-2",children:[p.jsx("label",{className:"block text-[10px] font-medium text-gray-500 uppercase mb-1",children:"Description (Optional)"}),p.jsx("input",{type:"text",value:l.description,onChange:_=>c({...l,description:_.target.value}),disabled:a,className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm disabled:opacity-50",placeholder:"e.g. Standard 24pk Tray"})]})]})]}),p.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/10 p-4 rounded-xl space-y-4",children:[p.jsx("h3",{className:"text-xs font-bold text-emerald-600 uppercase tracking-wider",children:" Finished Product Spec"}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Pack Size"}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("input",{type:"number",required:!0,min:"1",value:l.bottles_per_case,onChange:_=>c({...l,bottles_per_case:_.target.value}),disabled:a,className:"w-full px-3 py-2 rounded-lg border border-emerald-200 dark:border-emerald-800 bg-emerald-50/50 dark:bg-emerald-900/20 text-emerald-900 dark:text-emerald-100 text-sm font-bold disabled:opacity-50"}),p.jsx("span",{className:"text-xs text-emerald-600 dark:text-emerald-400",children:"units/case"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Pallet Count"}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("input",{type:"number",required:!0,min:"1",value:l.cases_per_pallet,onChange:_=>c({...l,cases_per_pallet:_.target.value}),disabled:a,className:"w-full px-3 py-2 rounded-lg border border-emerald-200 dark:border-emerald-800 bg-emerald-50/50 dark:bg-emerald-900/20 text-emerald-900 dark:text-emerald-100 text-sm font-bold disabled:opacity-50"}),p.jsx("span",{className:"text-xs text-emerald-600 dark:text-emerald-400",children:"cases/plt"})]})]})]})]}),p.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/10 p-4 rounded-xl space-y-4",children:[p.jsx("h3",{className:"text-xs font-bold text-indigo-600 uppercase tracking-wider",children:" Planning Settings"}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Lead Time"}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("input",{type:"number",required:!0,min:"0",value:l.lead_time_days,onChange:_=>c({...l,lead_time_days:_.target.value}),disabled:a,className:"w-full px-3 py-2 rounded-lg border border-indigo-200 dark:border-indigo-800 bg-indigo-50/50 dark:bg-indigo-900/20 text-indigo-900 dark:text-indigo-100 text-sm font-bold disabled:opacity-50"}),p.jsx("span",{className:"text-xs text-indigo-600 dark:text-indigo-400",children:"days"})]}),p.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Frozen zone for auto-balance logic."})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Safety Stock"}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("input",{type:"number",required:!0,min:"0",value:l.safety_stock_loads,onChange:_=>c({...l,safety_stock_loads:_.target.value}),disabled:a,className:"w-full px-3 py-2 rounded-lg border border-indigo-200 dark:border-indigo-800 bg-indigo-50/50 dark:bg-indigo-900/20 text-indigo-900 dark:text-indigo-100 text-sm font-bold disabled:opacity-50"}),p.jsx("span",{className:"text-xs text-indigo-600 dark:text-indigo-400",children:"loads"})]}),p.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Target floor inventory (multiplier)."})]})]})]}),p.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-4 rounded-xl space-y-4",children:[p.jsx("h3",{className:"text-xs font-bold text-blue-600 uppercase tracking-wider",children:" Raw Material Truck Spec"}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Inbound Truck Quantity"}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("input",{type:"number",required:!0,min:"1",step:"100",value:l.bottles_per_truck,onChange:_=>c({...l,bottles_per_truck:_.target.value}),disabled:a,className:"w-full px-3 py-2 rounded-lg border border-blue-200 dark:border-blue-800 bg-blue-50/50 dark:bg-blue-900/20 text-blue-900 dark:text-blue-100 text-lg font-black tracking-tight disabled:opacity-50"}),p.jsx("span",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium",children:"units / truck"})]}),p.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Total quantity of empty bottles/cans on a single full truckload."})]})]}),p.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-4 rounded-xl space-y-3",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h3",{className:"text-xs font-bold text-blue-500 uppercase tracking-wider",children:"Production Lines"}),!a&&p.jsxs("button",{type:"button",onClick:v,className:"text-xs text-blue-600 hover:text-blue-800 font-medium flex items-center gap-1",children:[p.jsx(d0,{className:"w-3 h-3"})," Add Line"]})]}),p.jsxs("div",{className:"space-y-2",children:[l.lines.map((_,j)=>p.jsxs("div",{className:"flex gap-2 items-center",children:[p.jsx("input",{type:"text",value:_.line_name,onChange:N=>S(j,"line_name",N.target.value),placeholder:"Line Name",disabled:a,className:"flex-1 px-3 py-1.5 rounded-lg border border-gray-200 dark:border-gray-600 text-sm disabled:opacity-50"}),p.jsx("input",{type:"number",value:_.production_rate,onChange:N=>S(j,"production_rate",N.target.value),placeholder:"CPH",disabled:a,className:"w-24 px-3 py-1.5 rounded-lg border border-gray-200 dark:border-gray-600 text-sm text-right disabled:opacity-50"}),!a&&p.jsx("button",{type:"button",onClick:()=>y(j),className:"p-1.5 text-red-500 hover:bg-red-100 rounded-lg transition-colors",title:"Remove Line",children:p.jsx(Ya,{className:"w-4 h-4"})})]},j)),l.lines.length===0&&p.jsx("p",{className:"text-xs text-center text-gray-400 py-2",children:"No active production lines."})]})]}),p.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t dark:border-gray-700 mt-6",children:[p.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded-lg text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:a?"Close":"Cancel"}),!a&&p.jsx("button",{type:"submit",disabled:d,className:"px-4 py-2 rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50 shadow-sm",children:d?"Saving...":"Save Configuration"})]})]})]})})]})}function Koe({readOnly:e=!1}){const{user:t}=Tr(),{products:r,loading:n,refreshProducts:a}=fr(),[s,l]=x.useState(!1),[c,d]=x.useState(null),f=v=>{d(v),l(!0)},m=()=>{d(null),l(!0)},g=()=>{a()};return p.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[p.jsxs("div",{className:"flex justify-between items-center bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[p.jsxs("div",{children:[p.jsxs("h1",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[p.jsx(Zf,{className:"w-6 h-6 text-blue-600"}),"Product Master Data"]}),p.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage SKUs, dimensions, and run rates."})]}),p.jsx("div",{className:"flex gap-2",children:!e&&p.jsxs("button",{onClick:m,className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium shadow-sm transition-all",children:[p.jsx(d0,{className:"w-5 h-5"}),"Add Product"]})})]}),n?p.jsx("div",{className:"flex justify-center p-12",children:p.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.map(v=>p.jsxs("div",{onClick:()=>f(v),className:"group bg-white dark:bg-gray-800 rounded-xl p-5 border border-gray-200 dark:border-gray-700 shadow-sm hover:shadow-md hover:border-blue-300 dark:hover:border-blue-700 cursor-pointer transition-all",children:[p.jsxs("div",{className:"flex justify-between items-start mb-4",children:[p.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:p.jsx(Zf,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),p.jsxs("span",{className:"text-xs font-mono text-gray-400",children:["ID: ",v.id.slice(0,4),"..."]})]}),p.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1",children:v.name}),v.description&&p.jsx("p",{className:"text-xs text-gray-500 mb-4 line-clamp-2",children:v.description}),p.jsxs("div",{className:"space-y-3 text-sm mt-4",children:[p.jsxs("div",{className:"flex justify-between py-1 border-b border-gray-100 dark:border-gray-700/50",children:[p.jsxs("span",{className:"text-gray-500 flex items-center gap-2",children:[p.jsx(dn,{className:"w-4 h-4"}),"Bottles/Truck"]}),p.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-200",children:v.bottles_per_truck?.toLocaleString()})]}),p.jsxs("div",{className:"flex justify-between py-1 border-b border-gray-100 dark:border-gray-700/50",children:[p.jsx("span",{className:"text-gray-500",children:"Bottles/Case"}),p.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-200",children:v.bottles_per_case})]}),p.jsxs("div",{className:"flex justify-between py-1 border-b border-gray-100 dark:border-gray-700/50",children:[p.jsx("span",{className:"text-gray-500",children:"Cases/Pallet"}),p.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-200",children:v.cases_per_pallet})]}),p.jsxs("div",{className:"flex justify-between py-1 border-b border-gray-100 dark:border-gray-700/50",children:[p.jsx("span",{className:"text-gray-500",children:"Lead Time"}),p.jsxs("span",{className:"font-medium text-indigo-700 dark:text-indigo-300",children:[v.lead_time_days||2," Days"]})]}),p.jsxs("div",{className:"flex justify-between py-1 border-b border-gray-100 dark:border-gray-700/50",children:[p.jsx("span",{className:"text-gray-500",children:"Safety Stock"}),p.jsxs("span",{className:"font-medium text-indigo-700 dark:text-indigo-300",children:[v.safety_stock_loads||6," Loads"]})]}),p.jsxs("div",{className:"pt-2",children:[p.jsxs("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-2 block flex items-center gap-1",children:[p.jsx(u6,{className:"w-3 h-3 text-amber-500"}),"Run Rates (CPH)"]}),p.jsx("div",{className:"space-y-1",children:v.production_settings?.length>0?v.production_settings.map(y=>p.jsxs("div",{className:"flex justify-between text-xs bg-gray-50 dark:bg-gray-700/50 px-2 py-1 rounded",children:[p.jsx("span",{className:"text-gray-600 dark:text-gray-300 font-medium",children:y.line_name}),p.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:y.production_rate?.toLocaleString()})]},y.id||y.line_name)):p.jsx("div",{className:"text-xs text-gray-400 italic",children:"No rates configured"})})]})]})]},v.id)),r.length===0&&p.jsxs("div",{className:"col-span-full py-12 text-center text-gray-400 border-2 border-dashed border-gray-200 rounded-xl",children:[p.jsx(Zf,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),p.jsx("p",{children:"No products found. Add your first SKU!"})]})]}),p.jsx(Voe,{isOpen:s,onClose:()=>l(!1),product:c,onSave:g,readOnly:e})]})}function Zoe({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{fillRule:"evenodd",d:"M12.53 16.28a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 0 1 1.06-1.06L12 14.69l6.97-6.97a.75.75 0 1 1 1.06 1.06l-7.5 7.5Z",clipRule:"evenodd"}))}const Goe=x.forwardRef(Zoe);function Yoe({mrp:e,scheduler:t,activeSku:r}){const{formState:n,setters:a,results:s}=e,{productMap:l}=fr(),c=Object.keys(l);if(!s)return null;const d=vt(new Date),f=s?.dailyLedger||[];f.find(M=>M.date===d);const m=s.calculatedPallets||0,g=n.yardInventory?.count||0,v=s.specs||{},y=v.bottlesPerCase||1,S=v.casesPerPallet||1,_=(s.safetyTarget||0)/(y*S),j=(v.bottlesPerTruck||2e4)/(y*S),N=m+g*j;let E=0,C=!1;for(const M of f){if(M.balance<0){C=!0;break}M.date>=d&&E++}const A=C?E:"14+",T=C?E<=2?"text-rose-600 dark:text-rose-400":"text-amber-600 dark:text-amber-400":"text-emerald-600 dark:text-emerald-400",P=C?E<=2?"border-rose-200 dark:border-rose-900 bg-rose-50 dark:bg-rose-900/10":"border-amber-200 dark:border-amber-900 bg-amber-50 dark:bg-amber-900/10":"border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900";return p.jsx("div",{className:`w-full mb-6 rounded-xl border p-4 shadow-lg bg-slate-200 dark:bg-slate-800/50 transition-all ${P}`,children:p.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between gap-6",children:[p.jsxs("div",{className:"flex items-center gap-6 w-full lg:w-auto",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"h-12 w-12 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center flex-shrink-0 shadow-inner",children:p.jsx(ax,{className:"w-6 h-6 text-slate-500"})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-xs font-bold uppercase tracking-wider text-slate-500 dark:text-slate-400",children:"Production Plan"}),p.jsxs("div",{className:"relative group flex items-center",children:[p.jsx("select",{className:"appearance-none bg-transparent hover:bg-slate-50 dark:hover:bg-slate-800 text-xl font-extrabold text-slate-800 dark:text-white pr-6 py-0.5 rounded cursor-pointer outline-none focus:ring-2 focus:ring-blue-500 transition-colors",value:n.selectedSize,onChange:M=>a.setSelectedSize(M.target.value),children:c.map(M=>p.jsx("option",{value:M,children:M},M))}),p.jsx(Goe,{className:"w-4 h-4 text-slate-400 -ml-4 pointer-events-none group-hover:text-blue-500"})]})]})]}),p.jsxs("div",{className:"hidden md:flex items-center gap-4 border-l border-slate-200 dark:border-slate-700 pl-6",children:[p.jsx(A5,{label:"Rate (cph)",value:n.productionRate,onChange:M=>a.setProductionRate(M),width:"w-20"}),p.jsx(A5,{label:"Downtime (hr)",value:n.downtimeHours,onChange:M=>a.setDowntimeHours(M),width:"w-16"})]})]}),p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 w-full lg:w-auto flex-grow justify-end",children:[p.jsx("div",{className:"text-center md:text-right",children:p.jsx(N5,{label:"Floor Stock",value:Math.round(m),unit:"plts",onSave:M=>a.setInventoryAnchor({date:un(),count:Number(M)})})}),p.jsx("div",{className:"text-center md:text-right border-l dark:border-slate-700 pl-6",children:p.jsx(N5,{label:"Yard Stock",value:Number(g),unit:"loads",onSave:M=>a.updateYardInventory(M),colorClass:"text-blue-600 dark:text-blue-400"})}),p.jsxs("div",{className:"text-center md:text-right border-l dark:border-slate-700 pl-6",children:[p.jsx("div",{className:"text-xs font-bold uppercase tracking-wider text-slate-400",children:"Runway"}),p.jsxs("div",{className:`text-2xl font-black flex items-center justify-center md:justify-end gap-2 ${T}`,children:[C?p.jsx(D6,{className:"w-5 h-5"}):p.jsx(c0,{className:"w-5 h-5"}),A," ",p.jsx("span",{className:"text-sm text-slate-400 font-medium",children:"Days"})]})]}),p.jsx("div",{className:"hidden md:flex flex-col items-end justify-center border-l dark:border-slate-700 pl-6",children:p.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide border ${N>=_?"bg-emerald-50 text-emerald-700 border-emerald-200 dark:bg-emerald-900/20 dark:text-emerald-400":"bg-amber-50 text-amber-700 border-amber-200 dark:bg-amber-900/20 dark:text-amber-400"}`,children:N>=_?"Secure":"Below Safety"})})]})]})})}function N5({label:e,value:t,unit:r,onSave:n,colorClass:a="text-slate-700 dark:text-slate-200"}){const[s,l]=x.useState(!1),[c,d]=x.useState(t===0?"":t);x.useEffect(()=>d(t===0?"":t),[t]);const f=m=>{m.key==="Enter"&&(n(c),l(!1))};return s?p.jsxs("div",{className:"flex flex-col items-end",children:[p.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-slate-400 mb-1",children:e}),p.jsx("input",{autoFocus:!0,type:"number",className:"w-24 text-right text-xl font-bold p-1 bg-white dark:bg-slate-800 border-2 border-blue-400 rounded shadow-md outline-none",value:c,onChange:m=>d(m.target.value),onBlur:()=>{n(c),l(!1)},onKeyDown:f})]}):p.jsxs("div",{className:"group cursor-pointer relative",onClick:()=>l(!0),children:[p.jsxs("div",{className:"flex items-center justify-end gap-1 mb-0.5",children:[p.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-slate-400 group-hover:text-blue-500 transition-colors",children:e}),p.jsx(Ju,{className:"w-3 h-3 text-slate-300 opacity-0 group-hover:opacity-100 transition-opacity"})]}),p.jsxs("div",{className:`text-2xl font-black ${a} group-hover:bg-slate-50 dark:group-hover:bg-slate-800 rounded px-1 -mr-1 transition-colors`,children:[Number(t).toLocaleString()," ",p.jsx("span",{className:"text-xs font-medium text-slate-400",children:r})]})]})}function A5({label:e,value:t,onChange:r,width:n}){return p.jsxs("div",{className:"flex flex-col",children:[p.jsx("label",{className:"text-[10px] uppercase font-bold text-slate-400 mb-0.5 ml-1",children:e}),p.jsx("input",{type:"number",className:`${n} bg-transparent hover:bg-slate-50 dark:hover:bg-slate-800 border-b-2 border-transparent hover:border-slate-300 dark:hover:border-slate-600 rounded-t p-1 text-lg font-extrabold text-slate-800 dark:text-white focus:bg-white dark:focus:bg-slate-800 focus:border-blue-500 focus:ring-0 outline-none transition-all`,value:t===0?"":t,onChange:a=>r(a.target.value),onFocus:a=>a.target.select()})]})}function Woe(){const{user:e,loading:t,userRole:r}=Tr(),{uploadLocalData:n}=Sl(),{productMap:a}=fr(),s=Object.keys(a);return x.useEffect(()=>{e&&n(e,s,r)},[e,s,n,r]),x.useEffect(()=>{document.title="UBP Planner v2.25.42"},[]),t?p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-slate-900 transition-colors",children:p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx("div",{className:"h-24 w-24 bg-white rounded-full shadow-2xl shadow-blue-500/20 flex items-center justify-center overflow-hidden animate-pulse",children:p.jsx("img",{src:g0,className:"h-[95%] w-[95%] object-contain",alt:"Loading..."})}),p.jsx("div",{className:"mt-6 text-slate-400 font-extrabold tracking-[0.2em] uppercase text-xs animate-pulse",children:"Loading Planner..."})]})}):e?p.jsx(jB,{children:p.jsx(Xoe,{user:e})}):p.jsx(Hoe,{})}function Xoe({user:e}){const{userRole:t}=Tr(),r=t||"admin",n=["admin","planner"].includes(r),a=["admin","planner","logistics"].includes(r),[s,l]=x.useState(()=>localStorage.getItem("activeTab")||"logistics"),[c,d]=x.useState(!1);x.useEffect(()=>{(s==="mrp"||s==="master")&&!n&&l("logistics"),localStorage.setItem("activeTab",s)},[s,n]);const{poManifest:f}=Qn(),m=zoe(f),g=Uoe(),{activeSku:v}=Jn(),{productMap:y}=fr(),S=Object.keys(y),k=Boe(S,s==="master");return p.jsxs("div",{id:"main-app-wrapper",className:"min-h-screen flex flex-col transition-colors duration-200 bg-slate-300 dark:bg-slate-900",children:[p.jsx(N8,{onOpenSettings:()=>d(!0),isSaving:m.formState.isSaving,saveError:m.formState.saveError,activeTab:s,setActiveTab:l}),p.jsxs("main",{className:"flex-grow p-2 md:p-6 w-full pt-4",children:[p.jsx(Yoe,{mrp:m,scheduler:g,activeSku:v}),p.jsx("div",{className:s==="logistics"?"block":"hidden",children:p.jsx(Foe,{state:m.formState,setters:m.setters,results:m.results,readOnly:!a})}),p.jsx("div",{className:s==="mrp"?"block":"hidden",children:p.jsx(Aoe,{state:m.formState,setters:m.setters,results:m.results,readOnly:!n})}),p.jsx("div",{className:s==="scheduler"?"block":"hidden",children:p.jsx(Moe,{state:g.formState,setters:g.setters,results:g.results,readOnly:!a})}),p.jsx("div",{className:s==="master"?"block":"hidden",children:p.jsx(qoe,{masterLedger:k.masterLedger,loading:k.loading})}),p.jsx("div",{className:s==="products"?"block":"hidden",children:p.jsx(Koe,{readOnly:!a})})]}),c&&p.jsx(PB,{onClose:()=>d(!1)})]})}class Joe extends ge.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,r){this.setState({error:t,errorInfo:r}),console.error("Uncaught error:",t,r)}render(){return this.state.hasError?p.jsxs("div",{style:{padding:"20px",backgroundColor:"#fee2e2",border:"1px solid #ef4444",margin:"20px",borderRadius:"8px",color:"#7f1d1d"},children:[p.jsx("h1",{style:{fontSize:"1.5rem",fontWeight:"bold",marginBottom:"10px"},children:"Something went wrong."}),p.jsx("p",{style:{fontWeight:"bold"},children:this.state.error&&this.state.error.toString()}),p.jsx("details",{style:{marginTop:"10px",whiteSpace:"pre-wrap"},children:this.state.errorInfo&&this.state.errorInfo.componentStack})]}):this.props.children}}J$.createRoot(document.getElementById("root")).render(p.jsx(Joe,{children:p.jsx(E8,{children:p.jsx(SB,{children:p.jsx(kB,{children:p.jsx(Woe,{})})})})}));
