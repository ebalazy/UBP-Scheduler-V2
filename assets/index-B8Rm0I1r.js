function z5(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var df=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function _u(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){var a=!1;try{a=this instanceof n}catch{}return a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var Eg={exports:{}},Ec={};var s2;function c6(){if(s2)return Ec;s2=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,a,s){var l=null;if(s!==void 0&&(l=""+s),a.key!==void 0&&(l=""+a.key),"key"in a){s={};for(var u in a)u!=="key"&&(s[u]=a[u])}else s=a;return a=s.ref,{$$typeof:e,type:n,key:l,ref:a!==void 0?a:null,props:s}}return Ec.Fragment=t,Ec.jsx=r,Ec.jsxs=r,Ec}var o2;function u6(){return o2||(o2=1,Eg.exports=c6()),Eg.exports}var h=u6(),Ng={exports:{}},Le={};var l2;function d6(){if(l2)return Le;l2=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),v=Symbol.iterator;function y(L){return L===null||typeof L!="object"?null:(L=v&&L[v]||L["@@iterator"],typeof L=="function"?L:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,_={};function j(L,K,F){this.props=L,this.context=K,this.refs=_,this.updater=F||S}j.prototype.isReactComponent={},j.prototype.setState=function(L,K){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,K,"setState")},j.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function N(){}N.prototype=j.prototype;function E(L,K,F){this.props=L,this.context=K,this.refs=_,this.updater=F||S}var D=E.prototype=new N;D.constructor=E,k(D,j.prototype),D.isPureReactComponent=!0;var O=Array.isArray;function P(){}var C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(L,K,F){var Z=F.ref;return{$$typeof:e,type:L,key:K,ref:Z!==void 0?Z:null,props:F}}function M(L,K){return R(L.type,K,L.props)}function I(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function z(L){var K={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(F){return K[F]})}var q=/\/+/g;function te(L,K){return typeof L=="object"&&L!==null&&L.key!=null?z(""+L.key):K.toString(36)}function ue(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(P,P):(L.status="pending",L.then(function(K){L.status==="pending"&&(L.status="fulfilled",L.value=K)},function(K){L.status==="pending"&&(L.status="rejected",L.reason=K)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function B(L,K,F,Z,oe){var ce=typeof L;(ce==="undefined"||ce==="boolean")&&(L=null);var ae=!1;if(L===null)ae=!0;else switch(ce){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(L.$$typeof){case e:case t:ae=!0;break;case m:return ae=L._init,B(ae(L._payload),K,F,Z,oe)}}if(ae)return oe=oe(L),ae=Z===""?"."+te(L,0):Z,O(oe)?(F="",ae!=null&&(F=ae.replace(q,"$&/")+"/"),B(oe,K,F,"",function(xe){return xe})):oe!=null&&(I(oe)&&(oe=M(oe,F+(oe.key==null||L&&L.key===oe.key?"":(""+oe.key).replace(q,"$&/")+"/")+ae)),K.push(oe)),1;ae=0;var ye=Z===""?".":Z+":";if(O(L))for(var G=0;G<L.length;G++)Z=L[G],ce=ye+te(Z,G),ae+=B(Z,K,F,ce,oe);else if(G=y(L),typeof G=="function")for(L=G.call(L),G=0;!(Z=L.next()).done;)Z=Z.value,ce=ye+te(Z,G++),ae+=B(Z,K,F,ce,oe);else if(ce==="object"){if(typeof L.then=="function")return B(ue(L),K,F,Z,oe);throw K=String(L),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return ae}function H(L,K,F){if(L==null)return L;var Z=[],oe=0;return B(L,Z,"","",function(ce){return K.call(F,ce,oe++)}),Z}function X(L){if(L._status===-1){var K=L._result;K=K(),K.then(function(F){(L._status===0||L._status===-1)&&(L._status=1,L._result=F)},function(F){(L._status===0||L._status===-1)&&(L._status=2,L._result=F)}),L._status===-1&&(L._status=0,L._result=K)}if(L._status===1)return L._result.default;throw L._result}var ee=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},ve={map:H,forEach:function(L,K,F){H(L,function(){K.apply(this,arguments)},F)},count:function(L){var K=0;return H(L,function(){K++}),K},toArray:function(L){return H(L,function(K){return K})||[]},only:function(L){if(!I(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Le.Activity=g,Le.Children=ve,Le.Component=j,Le.Fragment=r,Le.Profiler=a,Le.PureComponent=E,Le.StrictMode=n,Le.Suspense=d,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Le.__COMPILER_RUNTIME={__proto__:null,c:function(L){return C.H.useMemoCache(L)}},Le.cache=function(L){return function(){return L.apply(null,arguments)}},Le.cacheSignal=function(){return null},Le.cloneElement=function(L,K,F){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var Z=k({},L.props),oe=L.key;if(K!=null)for(ce in K.key!==void 0&&(oe=""+K.key),K)!A.call(K,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&K.ref===void 0||(Z[ce]=K[ce]);var ce=arguments.length-2;if(ce===1)Z.children=F;else if(1<ce){for(var ae=Array(ce),ye=0;ye<ce;ye++)ae[ye]=arguments[ye+2];Z.children=ae}return R(L.type,oe,Z)},Le.createContext=function(L){return L={$$typeof:l,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:s,_context:L},L},Le.createElement=function(L,K,F){var Z,oe={},ce=null;if(K!=null)for(Z in K.key!==void 0&&(ce=""+K.key),K)A.call(K,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(oe[Z]=K[Z]);var ae=arguments.length-2;if(ae===1)oe.children=F;else if(1<ae){for(var ye=Array(ae),G=0;G<ae;G++)ye[G]=arguments[G+2];oe.children=ye}if(L&&L.defaultProps)for(Z in ae=L.defaultProps,ae)oe[Z]===void 0&&(oe[Z]=ae[Z]);return R(L,ce,oe)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(L){return{$$typeof:u,render:L}},Le.isValidElement=I,Le.lazy=function(L){return{$$typeof:m,_payload:{_status:-1,_result:L},_init:X}},Le.memo=function(L,K){return{$$typeof:f,type:L,compare:K===void 0?null:K}},Le.startTransition=function(L){var K=C.T,F={};C.T=F;try{var Z=L(),oe=C.S;oe!==null&&oe(F,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(P,ee)}catch(ce){ee(ce)}finally{K!==null&&F.types!==null&&(K.types=F.types),C.T=K}},Le.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Le.use=function(L){return C.H.use(L)},Le.useActionState=function(L,K,F){return C.H.useActionState(L,K,F)},Le.useCallback=function(L,K){return C.H.useCallback(L,K)},Le.useContext=function(L){return C.H.useContext(L)},Le.useDebugValue=function(){},Le.useDeferredValue=function(L,K){return C.H.useDeferredValue(L,K)},Le.useEffect=function(L,K){return C.H.useEffect(L,K)},Le.useEffectEvent=function(L){return C.H.useEffectEvent(L)},Le.useId=function(){return C.H.useId()},Le.useImperativeHandle=function(L,K,F){return C.H.useImperativeHandle(L,K,F)},Le.useInsertionEffect=function(L,K){return C.H.useInsertionEffect(L,K)},Le.useLayoutEffect=function(L,K){return C.H.useLayoutEffect(L,K)},Le.useMemo=function(L,K){return C.H.useMemo(L,K)},Le.useOptimistic=function(L,K){return C.H.useOptimistic(L,K)},Le.useReducer=function(L,K,F){return C.H.useReducer(L,K,F)},Le.useRef=function(L){return C.H.useRef(L)},Le.useState=function(L){return C.H.useState(L)},Le.useSyncExternalStore=function(L,K,F){return C.H.useSyncExternalStore(L,K,F)},Le.useTransition=function(){return C.H.useTransition()},Le.version="19.2.1",Le}var c2;function wl(){return c2||(c2=1,Ng.exports=d6()),Ng.exports}var x=wl();const _e=xa(x),ky=z5({__proto__:null,default:_e},[x]);var Og={exports:{}},Nc={},Ag={exports:{}},Tg={};var u2;function f6(){return u2||(u2=1,(function(e){function t(B,H){var X=B.length;B.push(H);e:for(;0<X;){var ee=X-1>>>1,ve=B[ee];if(0<a(ve,H))B[ee]=H,B[X]=ve,X=ee;else break e}}function r(B){return B.length===0?null:B[0]}function n(B){if(B.length===0)return null;var H=B[0],X=B.pop();if(X!==H){B[0]=X;e:for(var ee=0,ve=B.length,L=ve>>>1;ee<L;){var K=2*(ee+1)-1,F=B[K],Z=K+1,oe=B[Z];if(0>a(F,X))Z<ve&&0>a(oe,F)?(B[ee]=oe,B[Z]=X,ee=Z):(B[ee]=F,B[K]=X,ee=K);else if(Z<ve&&0>a(oe,X))B[ee]=oe,B[Z]=X,ee=Z;else break e}}return H}function a(B,H){var X=B.sortIndex-H.sortIndex;return X!==0?X:B.id-H.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],f=[],m=1,g=null,v=3,y=!1,S=!1,k=!1,_=!1,j=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function D(B){for(var H=r(f);H!==null;){if(H.callback===null)n(f);else if(H.startTime<=B)n(f),H.sortIndex=H.expirationTime,t(d,H);else break;H=r(f)}}function O(B){if(k=!1,D(B),!S)if(r(d)!==null)S=!0,P||(P=!0,z());else{var H=r(f);H!==null&&ue(O,H.startTime-B)}}var P=!1,C=-1,A=5,R=-1;function M(){return _?!0:!(e.unstable_now()-R<A)}function I(){if(_=!1,P){var B=e.unstable_now();R=B;var H=!0;try{e:{S=!1,k&&(k=!1,N(C),C=-1),y=!0;var X=v;try{t:{for(D(B),g=r(d);g!==null&&!(g.expirationTime>B&&M());){var ee=g.callback;if(typeof ee=="function"){g.callback=null,v=g.priorityLevel;var ve=ee(g.expirationTime<=B);if(B=e.unstable_now(),typeof ve=="function"){g.callback=ve,D(B),H=!0;break t}g===r(d)&&n(d),D(B)}else n(d);g=r(d)}if(g!==null)H=!0;else{var L=r(f);L!==null&&ue(O,L.startTime-B),H=!1}}break e}finally{g=null,v=X,y=!1}H=void 0}}finally{H?z():P=!1}}}var z;if(typeof E=="function")z=function(){E(I)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,te=q.port2;q.port1.onmessage=I,z=function(){te.postMessage(null)}}else z=function(){j(I,0)};function ue(B,H){C=j(function(){B(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(B){switch(v){case 1:case 2:case 3:var H=3;break;default:H=v}var X=v;v=H;try{return B()}finally{v=X}},e.unstable_requestPaint=function(){_=!0},e.unstable_runWithPriority=function(B,H){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var X=v;v=B;try{return H()}finally{v=X}},e.unstable_scheduleCallback=function(B,H,X){var ee=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ee+X:ee):X=ee,B){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=X+ve,B={id:m++,callback:H,priorityLevel:B,startTime:X,expirationTime:ve,sortIndex:-1},X>ee?(B.sortIndex=X,t(f,B),r(d)===null&&B===r(f)&&(k?(N(C),C=-1):k=!0,ue(O,X-ee))):(B.sortIndex=ve,t(d,B),S||y||(S=!0,P||(P=!0,z()))),B},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(B){var H=v;return function(){var X=v;v=H;try{return B.apply(this,arguments)}finally{v=X}}}})(Tg)),Tg}var d2;function h6(){return d2||(d2=1,Ag.exports=f6()),Ag.exports}var Cg={exports:{}},wr={};var f2;function m6(){if(f2)return wr;f2=1;var e=wl();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(d,f,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:d,containerInfo:f,implementation:m}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return wr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,wr.createPortal=function(d,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return s(d,f,null,m)},wr.flushSync=function(d){var f=l.T,m=n.p;try{if(l.T=null,n.p=2,d)return d()}finally{l.T=f,n.p=m,n.d.f()}},wr.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(d,f))},wr.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},wr.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var m=f.as,g=u(m,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,y=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?n.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:y}):m==="script"&&n.d.X(d,{crossOrigin:g,integrity:v,fetchPriority:y,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},wr.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=u(f.as,f.crossOrigin);n.d.M(d,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(d)},wr.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,g=u(m,f.crossOrigin);n.d.L(d,m,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},wr.preloadModule=function(d,f){if(typeof d=="string")if(f){var m=u(f.as,f.crossOrigin);n.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(d)},wr.requestFormReset=function(d){n.d.r(d)},wr.unstable_batchedUpdates=function(d,f){return d(f)},wr.useFormState=function(d,f,m){return l.H.useFormState(d,f,m)},wr.useFormStatus=function(){return l.H.useHostTransitionStatus()},wr.version="19.2.1",wr}var h2;function U5(){if(h2)return Cg.exports;h2=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Cg.exports=m6(),Cg.exports}var m2;function p6(){if(m2)return Nc;m2=1;var e=h6(),t=wl(),r=U5();function n(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function s(i){var o=i,c=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(c=o.return),i=o.return;while(i)}return o.tag===3?c:null}function l(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function u(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function d(i){if(s(i)!==i)throw Error(n(188))}function f(i){var o=i.alternate;if(!o){if(o=s(i),o===null)throw Error(n(188));return o!==i?null:i}for(var c=i,p=o;;){var b=c.return;if(b===null)break;var w=b.alternate;if(w===null){if(p=b.return,p!==null){c=p;continue}break}if(b.child===w.child){for(w=b.child;w;){if(w===c)return d(b),i;if(w===p)return d(b),o;w=w.sibling}throw Error(n(188))}if(c.return!==p.return)c=b,p=w;else{for(var T=!1,$=b.child;$;){if($===c){T=!0,c=b,p=w;break}if($===p){T=!0,p=b,c=w;break}$=$.sibling}if(!T){for($=w.child;$;){if($===c){T=!0,c=w,p=b;break}if($===p){T=!0,p=w,c=b;break}$=$.sibling}if(!T)throw Error(n(189))}}if(c.alternate!==p)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?i:o}function m(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=m(i),o!==null)return o;i=i.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),E=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function z(i){return i===null||typeof i!="object"?null:(i=I&&i[I]||i["@@iterator"],typeof i=="function"?i:null)}var q=Symbol.for("react.client.reference");function te(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===q?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case k:return"Fragment";case j:return"Profiler";case _:return"StrictMode";case O:return"Suspense";case P:return"SuspenseList";case R:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case S:return"Portal";case E:return i.displayName||"Context";case N:return(i._context.displayName||"Context")+".Consumer";case D:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case C:return o=i.displayName||null,o!==null?o:te(i.type)||"Memo";case A:o=i._payload,i=i._init;try{return te(i(o))}catch{}}return null}var ue=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},ee=[],ve=-1;function L(i){return{current:i}}function K(i){0>ve||(i.current=ee[ve],ee[ve]=null,ve--)}function F(i,o){ve++,ee[ve]=i.current,i.current=o}var Z=L(null),oe=L(null),ce=L(null),ae=L(null);function ye(i,o){switch(F(ce,o),F(oe,i),F(Z,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?Ak(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=Ak(o),i=Tk(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}K(Z),F(Z,i)}function G(){K(Z),K(oe),K(ce)}function xe(i){i.memoizedState!==null&&F(ae,i);var o=Z.current,c=Tk(o,i.type);o!==c&&(F(oe,i),F(Z,c))}function pe(i){oe.current===i&&(K(Z),K(oe)),ae.current===i&&(K(ae),_c._currentValue=X)}var Y,be;function ne(i){if(Y===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);Y=o&&o[1]||"",be=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Y+i+be}var ge=!1;function fe(i,o){if(!i||ge)return"";ge=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(o){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(ie){var re=ie}Reflect.construct(i,[],he)}else{try{he.call()}catch(ie){re=ie}i.call(he.prototype)}}else{try{throw Error()}catch(ie){re=ie}(he=i())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(ie){if(ie&&re&&typeof ie.stack=="string")return[ie.stack,re.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=p.DetermineComponentFrameRoot(),T=w[0],$=w[1];if(T&&$){var U=T.split(`
`),Q=$.split(`
`);for(b=p=0;p<U.length&&!U[p].includes("DetermineComponentFrameRoot");)p++;for(;b<Q.length&&!Q[b].includes("DetermineComponentFrameRoot");)b++;if(p===U.length||b===Q.length)for(p=U.length-1,b=Q.length-1;1<=p&&0<=b&&U[p]!==Q[b];)b--;for(;1<=p&&0<=b;p--,b--)if(U[p]!==Q[b]){if(p!==1||b!==1)do if(p--,b--,0>b||U[p]!==Q[b]){var le=`
`+U[p].replace(" at new "," at ");return i.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",i.displayName)),le}while(1<=p&&0<=b);break}}}finally{ge=!1,Error.prepareStackTrace=c}return(c=i?i.displayName||i.name:"")?ne(c):""}function we(i,o){switch(i.tag){case 26:case 27:case 5:return ne(i.type);case 16:return ne("Lazy");case 13:return i.child!==o&&o!==null?ne("Suspense Fallback"):ne("Suspense");case 19:return ne("SuspenseList");case 0:case 15:return fe(i.type,!1);case 11:return fe(i.type.render,!1);case 1:return fe(i.type,!0);case 31:return ne("Activity");default:return""}}function Ae(i){try{var o="",c=null;do o+=we(i,c),c=i,i=i.return;while(i);return o}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var Ue=Object.prototype.hasOwnProperty,qe=e.unstable_scheduleCallback,pt=e.unstable_cancelCallback,kt=e.unstable_shouldYield,Kt=e.unstable_requestPaint,$e=e.unstable_now,Qe=e.unstable_getCurrentPriorityLevel,Ie=e.unstable_ImmediatePriority,He=e.unstable_UserBlockingPriority,tt=e.unstable_NormalPriority,Bn=e.unstable_LowPriority,aa=e.unstable_IdlePriority,xn=e.log,Lr=e.unstable_setDisableYieldValue,Ar=null,Nt=null;function tn(i){if(typeof xn=="function"&&Lr(i),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(Ar,i)}catch{}}var xr=Math.clz32?Math.clz32:YM,ZM=Math.log,GM=Math.LN2;function YM(i){return i>>>=0,i===0?32:31-(ZM(i)/GM|0)|0}var Gu=256,Yu=262144,Wu=4194304;function as(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Xu(i,o,c){var p=i.pendingLanes;if(p===0)return 0;var b=0,w=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var $=p&134217727;return $!==0?(p=$&~w,p!==0?b=as(p):(T&=$,T!==0?b=as(T):c||(c=$&~i,c!==0&&(b=as(c))))):($=p&~w,$!==0?b=as($):T!==0?b=as(T):c||(c=p&~i,c!==0&&(b=as(c)))),b===0?0:o!==0&&o!==b&&(o&w)===0&&(w=b&-b,c=o&-o,w>=c||w===32&&(c&4194048)!==0)?o:b}function Ml(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function WM(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function u1(){var i=Wu;return Wu<<=1,(Wu&62914560)===0&&(Wu=4194304),i}function mm(i){for(var o=[],c=0;31>c;c++)o.push(i);return o}function $l(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function XM(i,o,c,p,b,w){var T=i.pendingLanes;i.pendingLanes=c,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=c,i.entangledLanes&=c,i.errorRecoveryDisabledLanes&=c,i.shellSuspendCounter=0;var $=i.entanglements,U=i.expirationTimes,Q=i.hiddenUpdates;for(c=T&~c;0<c;){var le=31-xr(c),he=1<<le;$[le]=0,U[le]=-1;var re=Q[le];if(re!==null)for(Q[le]=null,le=0;le<re.length;le++){var ie=re[le];ie!==null&&(ie.lane&=-536870913)}c&=~he}p!==0&&d1(i,p,0),w!==0&&b===0&&i.tag!==0&&(i.suspendedLanes|=w&~(T&~o))}function d1(i,o,c){i.pendingLanes|=o,i.suspendedLanes&=~o;var p=31-xr(o);i.entangledLanes|=o,i.entanglements[p]=i.entanglements[p]|1073741824|c&261930}function f1(i,o){var c=i.entangledLanes|=o;for(i=i.entanglements;c;){var p=31-xr(c),b=1<<p;b&o|i[p]&o&&(i[p]|=o),c&=~b}}function h1(i,o){var c=o&-o;return c=(c&42)!==0?1:pm(c),(c&(i.suspendedLanes|o))!==0?0:c}function pm(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function gm(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function m1(){var i=H.p;return i!==0?i:(i=window.event,i===void 0?32:Qk(i.type))}function p1(i,o){var c=H.p;try{return H.p=i,o()}finally{H.p=c}}var mi=Math.random().toString(36).slice(2),sr="__reactFiber$"+mi,zr="__reactProps$"+mi,so="__reactContainer$"+mi,vm="__reactEvents$"+mi,JM="__reactListeners$"+mi,QM="__reactHandles$"+mi,g1="__reactResources$"+mi,Il="__reactMarker$"+mi;function ym(i){delete i[sr],delete i[zr],delete i[vm],delete i[JM],delete i[QM]}function oo(i){var o=i[sr];if(o)return o;for(var c=i.parentNode;c;){if(o=c[so]||c[sr]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(i=Ik(i);i!==null;){if(c=i[sr])return c;i=Ik(i)}return o}i=c,c=i.parentNode}return null}function lo(i){if(i=i[sr]||i[so]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function Ll(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(n(33))}function co(i){var o=i[g1];return o||(o=i[g1]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function er(i){i[Il]=!0}var v1=new Set,y1={};function is(i,o){uo(i,o),uo(i+"Capture",o)}function uo(i,o){for(y1[i]=o,i=0;i<o.length;i++)v1.add(o[i])}var e3=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),b1={},x1={};function t3(i){return Ue.call(x1,i)?!0:Ue.call(b1,i)?!1:e3.test(i)?x1[i]=!0:(b1[i]=!0,!1)}function Ju(i,o,c){if(t3(o))if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var p=o.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+c)}}function Qu(i,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+c)}}function ka(i,o,c,p){if(p===null)i.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(c);return}i.setAttributeNS(o,c,""+p)}}function wn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function w1(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function r3(i,o,c){var p=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var b=p.get,w=p.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return b.call(this)},set:function(T){c=""+T,w.call(this,T)}}),Object.defineProperty(i,o,{enumerable:p.enumerable}),{getValue:function(){return c},setValue:function(T){c=""+T},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function bm(i){if(!i._valueTracker){var o=w1(i)?"checked":"value";i._valueTracker=r3(i,o,""+i[o])}}function _1(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var c=o.getValue(),p="";return i&&(p=w1(i)?i.checked?"true":"false":i.value),i=p,i!==c?(o.setValue(i),!0):!1}function ed(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var n3=/[\n"\\]/g;function _n(i){return i.replace(n3,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function xm(i,o,c,p,b,w,T,$){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),o!=null?T==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+wn(o)):i.value!==""+wn(o)&&(i.value=""+wn(o)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),o!=null?wm(i,T,wn(o)):c!=null?wm(i,T,wn(c)):p!=null&&i.removeAttribute("value"),b==null&&w!=null&&(i.defaultChecked=!!w),b!=null&&(i.checked=b&&typeof b!="function"&&typeof b!="symbol"),$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?i.name=""+wn($):i.removeAttribute("name")}function S1(i,o,c,p,b,w,T,$){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.type=w),o!=null||c!=null){if(!(w!=="submit"&&w!=="reset"||o!=null)){bm(i);return}c=c!=null?""+wn(c):"",o=o!=null?""+wn(o):c,$||o===i.value||(i.value=o),i.defaultValue=o}p=p??b,p=typeof p!="function"&&typeof p!="symbol"&&!!p,i.checked=$?i.checked:!!p,i.defaultChecked=!!p,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T),bm(i)}function wm(i,o,c){o==="number"&&ed(i.ownerDocument)===i||i.defaultValue===""+c||(i.defaultValue=""+c)}function fo(i,o,c,p){if(i=i.options,o){o={};for(var b=0;b<c.length;b++)o["$"+c[b]]=!0;for(c=0;c<i.length;c++)b=o.hasOwnProperty("$"+i[c].value),i[c].selected!==b&&(i[c].selected=b),b&&p&&(i[c].defaultSelected=!0)}else{for(c=""+wn(c),o=null,b=0;b<i.length;b++){if(i[b].value===c){i[b].selected=!0,p&&(i[b].defaultSelected=!0);return}o!==null||i[b].disabled||(o=i[b])}o!==null&&(o.selected=!0)}}function k1(i,o,c){if(o!=null&&(o=""+wn(o),o!==i.value&&(i.value=o),c==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=c!=null?""+wn(c):""}function j1(i,o,c,p){if(o==null){if(p!=null){if(c!=null)throw Error(n(92));if(ue(p)){if(1<p.length)throw Error(n(93));p=p[0]}c=p}c==null&&(c=""),o=c}c=wn(o),i.defaultValue=c,p=i.textContent,p===c&&p!==""&&p!==null&&(i.value=p),bm(i)}function ho(i,o){if(o){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=o;return}}i.textContent=o}var a3=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function E1(i,o,c){var p=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?p?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":p?i.setProperty(o,c):typeof c!="number"||c===0||a3.has(o)?o==="float"?i.cssFloat=c:i[o]=(""+c).trim():i[o]=c+"px"}function N1(i,o,c){if(o!=null&&typeof o!="object")throw Error(n(62));if(i=i.style,c!=null){for(var p in c)!c.hasOwnProperty(p)||o!=null&&o.hasOwnProperty(p)||(p.indexOf("--")===0?i.setProperty(p,""):p==="float"?i.cssFloat="":i[p]="");for(var b in o)p=o[b],o.hasOwnProperty(b)&&c[b]!==p&&E1(i,b,p)}else for(var w in o)o.hasOwnProperty(w)&&E1(i,w,o[w])}function _m(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var i3=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),s3=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function td(i){return s3.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ja(){}var Sm=null;function km(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var mo=null,po=null;function O1(i){var o=lo(i);if(o&&(i=o.stateNode)){var c=i[zr]||null;e:switch(i=o.stateNode,o.type){case"input":if(xm(i,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+_n(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var p=c[o];if(p!==i&&p.form===i.form){var b=p[zr]||null;if(!b)throw Error(n(90));xm(p,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(o=0;o<c.length;o++)p=c[o],p.form===i.form&&_1(p)}break e;case"textarea":k1(i,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&fo(i,!!c.multiple,o,!1)}}}var jm=!1;function A1(i,o,c){if(jm)return i(o,c);jm=!0;try{var p=i(o);return p}finally{if(jm=!1,(mo!==null||po!==null)&&(qd(),mo&&(o=mo,i=po,po=mo=null,O1(o),i)))for(o=0;o<i.length;o++)O1(i[o])}}function zl(i,o){var c=i.stateNode;if(c===null)return null;var p=c[zr]||null;if(p===null)return null;c=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(n(231,o,typeof c));return c}var Ea=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Em=!1;if(Ea)try{var Ul={};Object.defineProperty(Ul,"passive",{get:function(){Em=!0}}),window.addEventListener("test",Ul,Ul),window.removeEventListener("test",Ul,Ul)}catch{Em=!1}var pi=null,Nm=null,rd=null;function T1(){if(rd)return rd;var i,o=Nm,c=o.length,p,b="value"in pi?pi.value:pi.textContent,w=b.length;for(i=0;i<c&&o[i]===b[i];i++);var T=c-i;for(p=1;p<=T&&o[c-p]===b[w-p];p++);return rd=b.slice(i,1<p?1-p:void 0)}function nd(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function ad(){return!0}function C1(){return!1}function Ur(i){function o(c,p,b,w,T){this._reactName=c,this._targetInst=b,this.type=p,this.nativeEvent=w,this.target=T,this.currentTarget=null;for(var $ in i)i.hasOwnProperty($)&&(c=i[$],this[$]=c?c(w):w[$]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?ad:C1,this.isPropagationStopped=C1,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=ad)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=ad)},persist:function(){},isPersistent:ad}),o}var ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},id=Ur(ss),Bl=g({},ss,{view:0,detail:0}),o3=Ur(Bl),Om,Am,ql,sd=g({},Bl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cm,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ql&&(ql&&i.type==="mousemove"?(Om=i.screenX-ql.screenX,Am=i.screenY-ql.screenY):Am=Om=0,ql=i),Om)},movementY:function(i){return"movementY"in i?i.movementY:Am}}),P1=Ur(sd),l3=g({},sd,{dataTransfer:0}),c3=Ur(l3),u3=g({},Bl,{relatedTarget:0}),Tm=Ur(u3),d3=g({},ss,{animationName:0,elapsedTime:0,pseudoElement:0}),f3=Ur(d3),h3=g({},ss,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),m3=Ur(h3),p3=g({},ss,{data:0}),D1=Ur(p3),g3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},v3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},y3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function b3(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=y3[i])?!!o[i]:!1}function Cm(){return b3}var x3=g({},Bl,{key:function(i){if(i.key){var o=g3[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=nd(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?v3[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cm,charCode:function(i){return i.type==="keypress"?nd(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?nd(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),w3=Ur(x3),_3=g({},sd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),R1=Ur(_3),S3=g({},Bl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cm}),k3=Ur(S3),j3=g({},ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),E3=Ur(j3),N3=g({},sd,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),O3=Ur(N3),A3=g({},ss,{newState:0,oldState:0}),T3=Ur(A3),C3=[9,13,27,32],Pm=Ea&&"CompositionEvent"in window,Hl=null;Ea&&"documentMode"in document&&(Hl=document.documentMode);var P3=Ea&&"TextEvent"in window&&!Hl,M1=Ea&&(!Pm||Hl&&8<Hl&&11>=Hl),$1=" ",I1=!1;function L1(i,o){switch(i){case"keyup":return C3.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function z1(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var go=!1;function D3(i,o){switch(i){case"compositionend":return z1(o);case"keypress":return o.which!==32?null:(I1=!0,$1);case"textInput":return i=o.data,i===$1&&I1?null:i;default:return null}}function R3(i,o){if(go)return i==="compositionend"||!Pm&&L1(i,o)?(i=T1(),rd=Nm=pi=null,go=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return M1&&o.locale!=="ko"?null:o.data;default:return null}}var M3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function U1(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!M3[i.type]:o==="textarea"}function B1(i,o,c,p){mo?po?po.push(p):po=[p]:mo=p,o=Yd(o,"onChange"),0<o.length&&(c=new id("onChange","change",null,c,p),i.push({event:c,listeners:o}))}var Fl=null,Vl=null;function $3(i){Sk(i,0)}function od(i){var o=Ll(i);if(_1(o))return i}function q1(i,o){if(i==="change")return o}var H1=!1;if(Ea){var Dm;if(Ea){var Rm="oninput"in document;if(!Rm){var F1=document.createElement("div");F1.setAttribute("oninput","return;"),Rm=typeof F1.oninput=="function"}Dm=Rm}else Dm=!1;H1=Dm&&(!document.documentMode||9<document.documentMode)}function V1(){Fl&&(Fl.detachEvent("onpropertychange",K1),Vl=Fl=null)}function K1(i){if(i.propertyName==="value"&&od(Vl)){var o=[];B1(o,Vl,i,km(i)),A1($3,o)}}function I3(i,o,c){i==="focusin"?(V1(),Fl=o,Vl=c,Fl.attachEvent("onpropertychange",K1)):i==="focusout"&&V1()}function L3(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return od(Vl)}function z3(i,o){if(i==="click")return od(o)}function U3(i,o){if(i==="input"||i==="change")return od(o)}function B3(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var rn=typeof Object.is=="function"?Object.is:B3;function Kl(i,o){if(rn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var c=Object.keys(i),p=Object.keys(o);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var b=c[p];if(!Ue.call(o,b)||!rn(i[b],o[b]))return!1}return!0}function Z1(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function G1(i,o){var c=Z1(i);i=0;for(var p;c;){if(c.nodeType===3){if(p=i+c.textContent.length,i<=o&&p>=o)return{node:c,offset:o-i};i=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Z1(c)}}function Y1(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Y1(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function W1(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=ed(i.document);o instanceof i.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)i=o.contentWindow;else break;o=ed(i.document)}return o}function Mm(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var q3=Ea&&"documentMode"in document&&11>=document.documentMode,vo=null,$m=null,Zl=null,Im=!1;function X1(i,o,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Im||vo==null||vo!==ed(p)||(p=vo,"selectionStart"in p&&Mm(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Zl&&Kl(Zl,p)||(Zl=p,p=Yd($m,"onSelect"),0<p.length&&(o=new id("onSelect","select",null,o,c),i.push({event:o,listeners:p}),o.target=vo)))}function os(i,o){var c={};return c[i.toLowerCase()]=o.toLowerCase(),c["Webkit"+i]="webkit"+o,c["Moz"+i]="moz"+o,c}var yo={animationend:os("Animation","AnimationEnd"),animationiteration:os("Animation","AnimationIteration"),animationstart:os("Animation","AnimationStart"),transitionrun:os("Transition","TransitionRun"),transitionstart:os("Transition","TransitionStart"),transitioncancel:os("Transition","TransitionCancel"),transitionend:os("Transition","TransitionEnd")},Lm={},J1={};Ea&&(J1=document.createElement("div").style,"AnimationEvent"in window||(delete yo.animationend.animation,delete yo.animationiteration.animation,delete yo.animationstart.animation),"TransitionEvent"in window||delete yo.transitionend.transition);function ls(i){if(Lm[i])return Lm[i];if(!yo[i])return i;var o=yo[i],c;for(c in o)if(o.hasOwnProperty(c)&&c in J1)return Lm[i]=o[c];return i}var Q1=ls("animationend"),e_=ls("animationiteration"),t_=ls("animationstart"),H3=ls("transitionrun"),F3=ls("transitionstart"),V3=ls("transitioncancel"),r_=ls("transitionend"),n_=new Map,zm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zm.push("scrollEnd");function qn(i,o){n_.set(i,o),is(o,[i])}var ld=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Sn=[],bo=0,Um=0;function cd(){for(var i=bo,o=Um=bo=0;o<i;){var c=Sn[o];Sn[o++]=null;var p=Sn[o];Sn[o++]=null;var b=Sn[o];Sn[o++]=null;var w=Sn[o];if(Sn[o++]=null,p!==null&&b!==null){var T=p.pending;T===null?b.next=b:(b.next=T.next,T.next=b),p.pending=b}w!==0&&a_(c,b,w)}}function ud(i,o,c,p){Sn[bo++]=i,Sn[bo++]=o,Sn[bo++]=c,Sn[bo++]=p,Um|=p,i.lanes|=p,i=i.alternate,i!==null&&(i.lanes|=p)}function Bm(i,o,c,p){return ud(i,o,c,p),dd(i)}function cs(i,o){return ud(i,null,null,o),dd(i)}function a_(i,o,c){i.lanes|=c;var p=i.alternate;p!==null&&(p.lanes|=c);for(var b=!1,w=i.return;w!==null;)w.childLanes|=c,p=w.alternate,p!==null&&(p.childLanes|=c),w.tag===22&&(i=w.stateNode,i===null||i._visibility&1||(b=!0)),i=w,w=w.return;return i.tag===3?(w=i.stateNode,b&&o!==null&&(b=31-xr(c),i=w.hiddenUpdates,p=i[b],p===null?i[b]=[o]:p.push(o),o.lane=c|536870912),w):null}function dd(i){if(50<pc)throw pc=0,Wp=null,Error(n(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var xo={};function K3(i,o,c,p){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nn(i,o,c,p){return new K3(i,o,c,p)}function qm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Na(i,o){var c=i.alternate;return c===null?(c=nn(i.tag,o,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=o,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&65011712,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,o=i.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c.refCleanup=i.refCleanup,c}function i_(i,o){i.flags&=65011714;var c=i.alternate;return c===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=c.childLanes,i.lanes=c.lanes,i.child=c.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=c.memoizedProps,i.memoizedState=c.memoizedState,i.updateQueue=c.updateQueue,i.type=c.type,o=c.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function fd(i,o,c,p,b,w){var T=0;if(p=i,typeof i=="function")qm(i)&&(T=1);else if(typeof i=="string")T=X$(i,c,Z.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case R:return i=nn(31,c,o,b),i.elementType=R,i.lanes=w,i;case k:return us(c.children,b,w,o);case _:T=8,b|=24;break;case j:return i=nn(12,c,o,b|2),i.elementType=j,i.lanes=w,i;case O:return i=nn(13,c,o,b),i.elementType=O,i.lanes=w,i;case P:return i=nn(19,c,o,b),i.elementType=P,i.lanes=w,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case E:T=10;break e;case N:T=9;break e;case D:T=11;break e;case C:T=14;break e;case A:T=16,p=null;break e}T=29,c=Error(n(130,i===null?"null":typeof i,"")),p=null}return o=nn(T,c,o,b),o.elementType=i,o.type=p,o.lanes=w,o}function us(i,o,c,p){return i=nn(7,i,p,o),i.lanes=c,i}function Hm(i,o,c){return i=nn(6,i,null,o),i.lanes=c,i}function s_(i){var o=nn(18,null,null,0);return o.stateNode=i,o}function Fm(i,o,c){return o=nn(4,i.children!==null?i.children:[],i.key,o),o.lanes=c,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var o_=new WeakMap;function kn(i,o){if(typeof i=="object"&&i!==null){var c=o_.get(i);return c!==void 0?c:(o={value:i,source:o,stack:Ae(o)},o_.set(i,o),o)}return{value:i,source:o,stack:Ae(o)}}var wo=[],_o=0,hd=null,Gl=0,jn=[],En=0,gi=null,ia=1,sa="";function Oa(i,o){wo[_o++]=Gl,wo[_o++]=hd,hd=i,Gl=o}function l_(i,o,c){jn[En++]=ia,jn[En++]=sa,jn[En++]=gi,gi=i;var p=ia;i=sa;var b=32-xr(p)-1;p&=~(1<<b),c+=1;var w=32-xr(o)+b;if(30<w){var T=b-b%5;w=(p&(1<<T)-1).toString(32),p>>=T,b-=T,ia=1<<32-xr(o)+b|c<<b|p,sa=w+i}else ia=1<<w|c<<b|p,sa=i}function Vm(i){i.return!==null&&(Oa(i,1),l_(i,1,0))}function Km(i){for(;i===hd;)hd=wo[--_o],wo[_o]=null,Gl=wo[--_o],wo[_o]=null;for(;i===gi;)gi=jn[--En],jn[En]=null,sa=jn[--En],jn[En]=null,ia=jn[--En],jn[En]=null}function c_(i,o){jn[En++]=ia,jn[En++]=sa,jn[En++]=gi,ia=o.id,sa=o.overflow,gi=i}var or=null,gt=null,Ye=!1,vi=null,Nn=!1,Zm=Error(n(519));function yi(i){var o=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Yl(kn(o,i)),Zm}function u_(i){var o=i.stateNode,c=i.type,p=i.memoizedProps;switch(o[sr]=i,o[zr]=p,c){case"dialog":Ve("cancel",o),Ve("close",o);break;case"iframe":case"object":case"embed":Ve("load",o);break;case"video":case"audio":for(c=0;c<vc.length;c++)Ve(vc[c],o);break;case"source":Ve("error",o);break;case"img":case"image":case"link":Ve("error",o),Ve("load",o);break;case"details":Ve("toggle",o);break;case"input":Ve("invalid",o),S1(o,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":Ve("invalid",o);break;case"textarea":Ve("invalid",o),j1(o,p.value,p.defaultValue,p.children)}c=p.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||p.suppressHydrationWarning===!0||Nk(o.textContent,c)?(p.popover!=null&&(Ve("beforetoggle",o),Ve("toggle",o)),p.onScroll!=null&&Ve("scroll",o),p.onScrollEnd!=null&&Ve("scrollend",o),p.onClick!=null&&(o.onclick=ja),o=!0):o=!1,o||yi(i,!0)}function d_(i){for(or=i.return;or;)switch(or.tag){case 5:case 31:case 13:Nn=!1;return;case 27:case 3:Nn=!0;return;default:or=or.return}}function So(i){if(i!==or)return!1;if(!Ye)return d_(i),Ye=!0,!1;var o=i.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=i.type,c=!(c!=="form"&&c!=="button")||dg(i.type,i.memoizedProps)),c=!c),c&&gt&&yi(i),d_(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));gt=$k(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));gt=$k(i)}else o===27?(o=gt,Pi(i.type)?(i=gg,gg=null,gt=i):gt=o):gt=or?An(i.stateNode.nextSibling):null;return!0}function ds(){gt=or=null,Ye=!1}function Gm(){var i=vi;return i!==null&&(Fr===null?Fr=i:Fr.push.apply(Fr,i),vi=null),i}function Yl(i){vi===null?vi=[i]:vi.push(i)}var Ym=L(null),fs=null,Aa=null;function bi(i,o,c){F(Ym,o._currentValue),o._currentValue=c}function Ta(i){i._currentValue=Ym.current,K(Ym)}function Wm(i,o,c){for(;i!==null;){var p=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),i===c)break;i=i.return}}function Xm(i,o,c,p){var b=i.child;for(b!==null&&(b.return=i);b!==null;){var w=b.dependencies;if(w!==null){var T=b.child;w=w.firstContext;e:for(;w!==null;){var $=w;w=b;for(var U=0;U<o.length;U++)if($.context===o[U]){w.lanes|=c,$=w.alternate,$!==null&&($.lanes|=c),Wm(w.return,c,i),p||(T=null);break e}w=$.next}}else if(b.tag===18){if(T=b.return,T===null)throw Error(n(341));T.lanes|=c,w=T.alternate,w!==null&&(w.lanes|=c),Wm(T,c,i),T=null}else T=b.child;if(T!==null)T.return=b;else for(T=b;T!==null;){if(T===i){T=null;break}if(b=T.sibling,b!==null){b.return=T.return,T=b;break}T=T.return}b=T}}function ko(i,o,c,p){i=null;for(var b=o,w=!1;b!==null;){if(!w){if((b.flags&524288)!==0)w=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var T=b.alternate;if(T===null)throw Error(n(387));if(T=T.memoizedProps,T!==null){var $=b.type;rn(b.pendingProps.value,T.value)||(i!==null?i.push($):i=[$])}}else if(b===ae.current){if(T=b.alternate,T===null)throw Error(n(387));T.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(i!==null?i.push(_c):i=[_c])}b=b.return}i!==null&&Xm(o,i,c,p),o.flags|=262144}function md(i){for(i=i.firstContext;i!==null;){if(!rn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function hs(i){fs=i,Aa=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function lr(i){return f_(fs,i)}function pd(i,o){return fs===null&&hs(i),f_(i,o)}function f_(i,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},Aa===null){if(i===null)throw Error(n(308));Aa=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else Aa=Aa.next=o;return c}var Z3=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(c,p){i.push(p)}};this.abort=function(){o.aborted=!0,i.forEach(function(c){return c()})}},G3=e.unstable_scheduleCallback,Y3=e.unstable_NormalPriority,It={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jm(){return{controller:new Z3,data:new Map,refCount:0}}function Wl(i){i.refCount--,i.refCount===0&&G3(Y3,function(){i.controller.abort()})}var Xl=null,Qm=0,jo=0,Eo=null;function W3(i,o){if(Xl===null){var c=Xl=[];Qm=0,jo=rg(),Eo={status:"pending",value:void 0,then:function(p){c.push(p)}}}return Qm++,o.then(h_,h_),o}function h_(){if(--Qm===0&&Xl!==null){Eo!==null&&(Eo.status="fulfilled");var i=Xl;Xl=null,jo=0,Eo=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function X3(i,o){var c=[],p={status:"pending",value:null,reason:null,then:function(b){c.push(b)}};return i.then(function(){p.status="fulfilled",p.value=o;for(var b=0;b<c.length;b++)(0,c[b])(o)},function(b){for(p.status="rejected",p.reason=b,b=0;b<c.length;b++)(0,c[b])(void 0)}),p}var m_=B.S;B.S=function(i,o){XS=$e(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&W3(i,o),m_!==null&&m_(i,o)};var ms=L(null);function ep(){var i=ms.current;return i!==null?i:lt.pooledCache}function gd(i,o){o===null?F(ms,ms.current):F(ms,o.pool)}function p_(){var i=ep();return i===null?null:{parent:It._currentValue,pool:i}}var No=Error(n(460)),tp=Error(n(474)),vd=Error(n(542)),yd={then:function(){}};function g_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function v_(i,o,c){switch(c=i[c],c===void 0?i.push(o):c!==o&&(o.then(ja,ja),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,b_(i),i;default:if(typeof o.status=="string")o.then(ja,ja);else{if(i=lt,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=o,i.status="pending",i.then(function(p){if(o.status==="pending"){var b=o;b.status="fulfilled",b.value=p}},function(p){if(o.status==="pending"){var b=o;b.status="rejected",b.reason=p}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,b_(i),i}throw gs=o,No}}function ps(i){try{var o=i._init;return o(i._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(gs=c,No):c}}var gs=null;function y_(){if(gs===null)throw Error(n(459));var i=gs;return gs=null,i}function b_(i){if(i===No||i===vd)throw Error(n(483))}var Oo=null,Jl=0;function bd(i){var o=Jl;return Jl+=1,Oo===null&&(Oo=[]),v_(Oo,i,o)}function Ql(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function xd(i,o){throw o.$$typeof===v?Error(n(525)):(i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function x_(i){function o(W,V){if(i){var J=W.deletions;J===null?(W.deletions=[V],W.flags|=16):J.push(V)}}function c(W,V){if(!i)return null;for(;V!==null;)o(W,V),V=V.sibling;return null}function p(W){for(var V=new Map;W!==null;)W.key!==null?V.set(W.key,W):V.set(W.index,W),W=W.sibling;return V}function b(W,V){return W=Na(W,V),W.index=0,W.sibling=null,W}function w(W,V,J){return W.index=J,i?(J=W.alternate,J!==null?(J=J.index,J<V?(W.flags|=67108866,V):J):(W.flags|=67108866,V)):(W.flags|=1048576,V)}function T(W){return i&&W.alternate===null&&(W.flags|=67108866),W}function $(W,V,J,de){return V===null||V.tag!==6?(V=Hm(J,W.mode,de),V.return=W,V):(V=b(V,J),V.return=W,V)}function U(W,V,J,de){var Ce=J.type;return Ce===k?le(W,V,J.props.children,de,J.key):V!==null&&(V.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===A&&ps(Ce)===V.type)?(V=b(V,J.props),Ql(V,J),V.return=W,V):(V=fd(J.type,J.key,J.props,null,W.mode,de),Ql(V,J),V.return=W,V)}function Q(W,V,J,de){return V===null||V.tag!==4||V.stateNode.containerInfo!==J.containerInfo||V.stateNode.implementation!==J.implementation?(V=Fm(J,W.mode,de),V.return=W,V):(V=b(V,J.children||[]),V.return=W,V)}function le(W,V,J,de,Ce){return V===null||V.tag!==7?(V=us(J,W.mode,de,Ce),V.return=W,V):(V=b(V,J),V.return=W,V)}function he(W,V,J){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Hm(""+V,W.mode,J),V.return=W,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case y:return J=fd(V.type,V.key,V.props,null,W.mode,J),Ql(J,V),J.return=W,J;case S:return V=Fm(V,W.mode,J),V.return=W,V;case A:return V=ps(V),he(W,V,J)}if(ue(V)||z(V))return V=us(V,W.mode,J,null),V.return=W,V;if(typeof V.then=="function")return he(W,bd(V),J);if(V.$$typeof===E)return he(W,pd(W,V),J);xd(W,V)}return null}function re(W,V,J,de){var Ce=V!==null?V.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Ce!==null?null:$(W,V,""+J,de);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case y:return J.key===Ce?U(W,V,J,de):null;case S:return J.key===Ce?Q(W,V,J,de):null;case A:return J=ps(J),re(W,V,J,de)}if(ue(J)||z(J))return Ce!==null?null:le(W,V,J,de,null);if(typeof J.then=="function")return re(W,V,bd(J),de);if(J.$$typeof===E)return re(W,V,pd(W,J),de);xd(W,J)}return null}function ie(W,V,J,de,Ce){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return W=W.get(J)||null,$(V,W,""+de,Ce);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case y:return W=W.get(de.key===null?J:de.key)||null,U(V,W,de,Ce);case S:return W=W.get(de.key===null?J:de.key)||null,Q(V,W,de,Ce);case A:return de=ps(de),ie(W,V,J,de,Ce)}if(ue(de)||z(de))return W=W.get(J)||null,le(V,W,de,Ce,null);if(typeof de.then=="function")return ie(W,V,J,bd(de),Ce);if(de.$$typeof===E)return ie(W,V,J,pd(V,de),Ce);xd(V,de)}return null}function je(W,V,J,de){for(var Ce=null,We=null,Ee=V,Be=V=0,Ze=null;Ee!==null&&Be<J.length;Be++){Ee.index>Be?(Ze=Ee,Ee=null):Ze=Ee.sibling;var Xe=re(W,Ee,J[Be],de);if(Xe===null){Ee===null&&(Ee=Ze);break}i&&Ee&&Xe.alternate===null&&o(W,Ee),V=w(Xe,V,Be),We===null?Ce=Xe:We.sibling=Xe,We=Xe,Ee=Ze}if(Be===J.length)return c(W,Ee),Ye&&Oa(W,Be),Ce;if(Ee===null){for(;Be<J.length;Be++)Ee=he(W,J[Be],de),Ee!==null&&(V=w(Ee,V,Be),We===null?Ce=Ee:We.sibling=Ee,We=Ee);return Ye&&Oa(W,Be),Ce}for(Ee=p(Ee);Be<J.length;Be++)Ze=ie(Ee,W,Be,J[Be],de),Ze!==null&&(i&&Ze.alternate!==null&&Ee.delete(Ze.key===null?Be:Ze.key),V=w(Ze,V,Be),We===null?Ce=Ze:We.sibling=Ze,We=Ze);return i&&Ee.forEach(function(Ii){return o(W,Ii)}),Ye&&Oa(W,Be),Ce}function Re(W,V,J,de){if(J==null)throw Error(n(151));for(var Ce=null,We=null,Ee=V,Be=V=0,Ze=null,Xe=J.next();Ee!==null&&!Xe.done;Be++,Xe=J.next()){Ee.index>Be?(Ze=Ee,Ee=null):Ze=Ee.sibling;var Ii=re(W,Ee,Xe.value,de);if(Ii===null){Ee===null&&(Ee=Ze);break}i&&Ee&&Ii.alternate===null&&o(W,Ee),V=w(Ii,V,Be),We===null?Ce=Ii:We.sibling=Ii,We=Ii,Ee=Ze}if(Xe.done)return c(W,Ee),Ye&&Oa(W,Be),Ce;if(Ee===null){for(;!Xe.done;Be++,Xe=J.next())Xe=he(W,Xe.value,de),Xe!==null&&(V=w(Xe,V,Be),We===null?Ce=Xe:We.sibling=Xe,We=Xe);return Ye&&Oa(W,Be),Ce}for(Ee=p(Ee);!Xe.done;Be++,Xe=J.next())Xe=ie(Ee,W,Be,Xe.value,de),Xe!==null&&(i&&Xe.alternate!==null&&Ee.delete(Xe.key===null?Be:Xe.key),V=w(Xe,V,Be),We===null?Ce=Xe:We.sibling=Xe,We=Xe);return i&&Ee.forEach(function(l6){return o(W,l6)}),Ye&&Oa(W,Be),Ce}function ot(W,V,J,de){if(typeof J=="object"&&J!==null&&J.type===k&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case y:e:{for(var Ce=J.key;V!==null;){if(V.key===Ce){if(Ce=J.type,Ce===k){if(V.tag===7){c(W,V.sibling),de=b(V,J.props.children),de.return=W,W=de;break e}}else if(V.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===A&&ps(Ce)===V.type){c(W,V.sibling),de=b(V,J.props),Ql(de,J),de.return=W,W=de;break e}c(W,V);break}else o(W,V);V=V.sibling}J.type===k?(de=us(J.props.children,W.mode,de,J.key),de.return=W,W=de):(de=fd(J.type,J.key,J.props,null,W.mode,de),Ql(de,J),de.return=W,W=de)}return T(W);case S:e:{for(Ce=J.key;V!==null;){if(V.key===Ce)if(V.tag===4&&V.stateNode.containerInfo===J.containerInfo&&V.stateNode.implementation===J.implementation){c(W,V.sibling),de=b(V,J.children||[]),de.return=W,W=de;break e}else{c(W,V);break}else o(W,V);V=V.sibling}de=Fm(J,W.mode,de),de.return=W,W=de}return T(W);case A:return J=ps(J),ot(W,V,J,de)}if(ue(J))return je(W,V,J,de);if(z(J)){if(Ce=z(J),typeof Ce!="function")throw Error(n(150));return J=Ce.call(J),Re(W,V,J,de)}if(typeof J.then=="function")return ot(W,V,bd(J),de);if(J.$$typeof===E)return ot(W,V,pd(W,J),de);xd(W,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,V!==null&&V.tag===6?(c(W,V.sibling),de=b(V,J),de.return=W,W=de):(c(W,V),de=Hm(J,W.mode,de),de.return=W,W=de),T(W)):c(W,V)}return function(W,V,J,de){try{Jl=0;var Ce=ot(W,V,J,de);return Oo=null,Ce}catch(Ee){if(Ee===No||Ee===vd)throw Ee;var We=nn(29,Ee,null,W.mode);return We.lanes=de,We.return=W,We}finally{}}}var vs=x_(!0),w_=x_(!1),xi=!1;function rp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function np(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function wi(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function _i(i,o,c){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,(et&2)!==0){var b=p.pending;return b===null?o.next=o:(o.next=b.next,b.next=o),p.pending=o,o=dd(i),a_(i,null,c),o}return ud(i,p,o,c),dd(i)}function ec(i,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var p=o.lanes;p&=i.pendingLanes,c|=p,o.lanes=c,f1(i,c)}}function ap(i,o){var c=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var b=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var T={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};w===null?b=w=T:w=w.next=T,c=c.next}while(c!==null);w===null?b=w=o:w=w.next=o}else b=w=o;c={baseState:p.baseState,firstBaseUpdate:b,lastBaseUpdate:w,shared:p.shared,callbacks:p.callbacks},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=o:i.next=o,c.lastBaseUpdate=o}var ip=!1;function tc(){if(ip){var i=Eo;if(i!==null)throw i}}function rc(i,o,c,p){ip=!1;var b=i.updateQueue;xi=!1;var w=b.firstBaseUpdate,T=b.lastBaseUpdate,$=b.shared.pending;if($!==null){b.shared.pending=null;var U=$,Q=U.next;U.next=null,T===null?w=Q:T.next=Q,T=U;var le=i.alternate;le!==null&&(le=le.updateQueue,$=le.lastBaseUpdate,$!==T&&($===null?le.firstBaseUpdate=Q:$.next=Q,le.lastBaseUpdate=U))}if(w!==null){var he=b.baseState;T=0,le=Q=U=null,$=w;do{var re=$.lane&-536870913,ie=re!==$.lane;if(ie?(Ke&re)===re:(p&re)===re){re!==0&&re===jo&&(ip=!0),le!==null&&(le=le.next={lane:0,tag:$.tag,payload:$.payload,callback:null,next:null});e:{var je=i,Re=$;re=o;var ot=c;switch(Re.tag){case 1:if(je=Re.payload,typeof je=="function"){he=je.call(ot,he,re);break e}he=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=Re.payload,re=typeof je=="function"?je.call(ot,he,re):je,re==null)break e;he=g({},he,re);break e;case 2:xi=!0}}re=$.callback,re!==null&&(i.flags|=64,ie&&(i.flags|=8192),ie=b.callbacks,ie===null?b.callbacks=[re]:ie.push(re))}else ie={lane:re,tag:$.tag,payload:$.payload,callback:$.callback,next:null},le===null?(Q=le=ie,U=he):le=le.next=ie,T|=re;if($=$.next,$===null){if($=b.shared.pending,$===null)break;ie=$,$=ie.next,ie.next=null,b.lastBaseUpdate=ie,b.shared.pending=null}}while(!0);le===null&&(U=he),b.baseState=U,b.firstBaseUpdate=Q,b.lastBaseUpdate=le,w===null&&(b.shared.lanes=0),Ni|=T,i.lanes=T,i.memoizedState=he}}function __(i,o){if(typeof i!="function")throw Error(n(191,i));i.call(o)}function S_(i,o){var c=i.callbacks;if(c!==null)for(i.callbacks=null,i=0;i<c.length;i++)__(c[i],o)}var Ao=L(null),wd=L(0);function k_(i,o){i=za,F(wd,i),F(Ao,o),za=i|o.baseLanes}function sp(){F(wd,za),F(Ao,Ao.current)}function op(){za=wd.current,K(Ao),K(wd)}var an=L(null),On=null;function Si(i){var o=i.alternate;F(Pt,Pt.current&1),F(an,i),On===null&&(o===null||Ao.current!==null||o.memoizedState!==null)&&(On=i)}function lp(i){F(Pt,Pt.current),F(an,i),On===null&&(On=i)}function j_(i){i.tag===22?(F(Pt,Pt.current),F(an,i),On===null&&(On=i)):ki()}function ki(){F(Pt,Pt.current),F(an,an.current)}function sn(i){K(an),On===i&&(On=null),K(Pt)}var Pt=L(0);function _d(i){for(var o=i;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||mg(c)||pg(c)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Ca=0,ze=null,it=null,Lt=null,Sd=!1,To=!1,ys=!1,kd=0,nc=0,Co=null,J3=0;function Ot(){throw Error(n(321))}function cp(i,o){if(o===null)return!1;for(var c=0;c<o.length&&c<i.length;c++)if(!rn(i[c],o[c]))return!1;return!0}function up(i,o,c,p,b,w){return Ca=w,ze=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,B.H=i===null||i.memoizedState===null?lS:jp,ys=!1,w=c(p,b),ys=!1,To&&(w=N_(o,c,p,b)),E_(i),w}function E_(i){B.H=sc;var o=it!==null&&it.next!==null;if(Ca=0,Lt=it=ze=null,Sd=!1,nc=0,Co=null,o)throw Error(n(300));i===null||zt||(i=i.dependencies,i!==null&&md(i)&&(zt=!0))}function N_(i,o,c,p){ze=i;var b=0;do{if(To&&(Co=null),nc=0,To=!1,25<=b)throw Error(n(301));if(b+=1,Lt=it=null,i.updateQueue!=null){var w=i.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}B.H=cS,w=o(c,p)}while(To);return w}function Q3(){var i=B.H,o=i.useState()[0];return o=typeof o.then=="function"?ac(o):o,i=i.useState()[0],(it!==null?it.memoizedState:null)!==i&&(ze.flags|=1024),o}function dp(){var i=kd!==0;return kd=0,i}function fp(i,o,c){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~c}function hp(i){if(Sd){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Sd=!1}Ca=0,Lt=it=ze=null,To=!1,nc=kd=0,Co=null}function Tr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?ze.memoizedState=Lt=i:Lt=Lt.next=i,Lt}function Dt(){if(it===null){var i=ze.alternate;i=i!==null?i.memoizedState:null}else i=it.next;var o=Lt===null?ze.memoizedState:Lt.next;if(o!==null)Lt=o,it=i;else{if(i===null)throw ze.alternate===null?Error(n(467)):Error(n(310));it=i,i={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},Lt===null?ze.memoizedState=Lt=i:Lt=Lt.next=i}return Lt}function jd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ac(i){var o=nc;return nc+=1,Co===null&&(Co=[]),i=v_(Co,i,o),o=ze,(Lt===null?o.memoizedState:Lt.next)===null&&(o=o.alternate,B.H=o===null||o.memoizedState===null?lS:jp),i}function Ed(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ac(i);if(i.$$typeof===E)return lr(i)}throw Error(n(438,String(i)))}function mp(i){var o=null,c=ze.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var p=ze.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(o={data:p.data.map(function(b){return b.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=jd(),ze.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(i),p=0;p<i;p++)c[p]=M;return o.index++,c}function Pa(i,o){return typeof o=="function"?o(i):o}function Nd(i){var o=Dt();return pp(o,it,i)}function pp(i,o,c){var p=i.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=c;var b=i.baseQueue,w=p.pending;if(w!==null){if(b!==null){var T=b.next;b.next=w.next,w.next=T}o.baseQueue=b=w,p.pending=null}if(w=i.baseState,b===null)i.memoizedState=w;else{o=b.next;var $=T=null,U=null,Q=o,le=!1;do{var he=Q.lane&-536870913;if(he!==Q.lane?(Ke&he)===he:(Ca&he)===he){var re=Q.revertLane;if(re===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),he===jo&&(le=!0);else if((Ca&re)===re){Q=Q.next,re===jo&&(le=!0);continue}else he={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},U===null?($=U=he,T=w):U=U.next=he,ze.lanes|=re,Ni|=re;he=Q.action,ys&&c(w,he),w=Q.hasEagerState?Q.eagerState:c(w,he)}else re={lane:he,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},U===null?($=U=re,T=w):U=U.next=re,ze.lanes|=he,Ni|=he;Q=Q.next}while(Q!==null&&Q!==o);if(U===null?T=w:U.next=$,!rn(w,i.memoizedState)&&(zt=!0,le&&(c=Eo,c!==null)))throw c;i.memoizedState=w,i.baseState=T,i.baseQueue=U,p.lastRenderedState=w}return b===null&&(p.lanes=0),[i.memoizedState,p.dispatch]}function gp(i){var o=Dt(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=i;var p=c.dispatch,b=c.pending,w=o.memoizedState;if(b!==null){c.pending=null;var T=b=b.next;do w=i(w,T.action),T=T.next;while(T!==b);rn(w,o.memoizedState)||(zt=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),c.lastRenderedState=w}return[w,p]}function O_(i,o,c){var p=ze,b=Dt(),w=Ye;if(w){if(c===void 0)throw Error(n(407));c=c()}else c=o();var T=!rn((it||b).memoizedState,c);if(T&&(b.memoizedState=c,zt=!0),b=b.queue,bp(C_.bind(null,p,b,i),[i]),b.getSnapshot!==o||T||Lt!==null&&Lt.memoizedState.tag&1){if(p.flags|=2048,Po(9,{destroy:void 0},T_.bind(null,p,b,c,o),null),lt===null)throw Error(n(349));w||(Ca&127)!==0||A_(p,o,c)}return c}function A_(i,o,c){i.flags|=16384,i={getSnapshot:o,value:c},o=ze.updateQueue,o===null?(o=jd(),ze.updateQueue=o,o.stores=[i]):(c=o.stores,c===null?o.stores=[i]:c.push(i))}function T_(i,o,c,p){o.value=c,o.getSnapshot=p,P_(o)&&D_(i)}function C_(i,o,c){return c(function(){P_(o)&&D_(i)})}function P_(i){var o=i.getSnapshot;i=i.value;try{var c=o();return!rn(i,c)}catch{return!0}}function D_(i){var o=cs(i,2);o!==null&&Vr(o,i,2)}function vp(i){var o=Tr();if(typeof i=="function"){var c=i;if(i=c(),ys){tn(!0);try{c()}finally{tn(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pa,lastRenderedState:i},o}function R_(i,o,c,p){return i.baseState=c,pp(i,it,typeof p=="function"?p:Pa)}function e$(i,o,c,p,b){if(Td(i))throw Error(n(485));if(i=o.action,i!==null){var w={payload:b,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){w.listeners.push(T)}};B.T!==null?c(!0):w.isTransition=!1,p(w),c=o.pending,c===null?(w.next=o.pending=w,M_(o,w)):(w.next=c.next,o.pending=c.next=w)}}function M_(i,o){var c=o.action,p=o.payload,b=i.state;if(o.isTransition){var w=B.T,T={};B.T=T;try{var $=c(b,p),U=B.S;U!==null&&U(T,$),$_(i,o,$)}catch(Q){yp(i,o,Q)}finally{w!==null&&T.types!==null&&(w.types=T.types),B.T=w}}else try{w=c(b,p),$_(i,o,w)}catch(Q){yp(i,o,Q)}}function $_(i,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(p){I_(i,o,p)},function(p){return yp(i,o,p)}):I_(i,o,c)}function I_(i,o,c){o.status="fulfilled",o.value=c,L_(o),i.state=c,o=i.pending,o!==null&&(c=o.next,c===o?i.pending=null:(c=c.next,o.next=c,M_(i,c)))}function yp(i,o,c){var p=i.pending;if(i.pending=null,p!==null){p=p.next;do o.status="rejected",o.reason=c,L_(o),o=o.next;while(o!==p)}i.action=null}function L_(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function z_(i,o){return o}function U_(i,o){if(Ye){var c=lt.formState;if(c!==null){e:{var p=ze;if(Ye){if(gt){t:{for(var b=gt,w=Nn;b.nodeType!==8;){if(!w){b=null;break t}if(b=An(b.nextSibling),b===null){b=null;break t}}w=b.data,b=w==="F!"||w==="F"?b:null}if(b){gt=An(b.nextSibling),p=b.data==="F!";break e}}yi(p)}p=!1}p&&(o=c[0])}}return c=Tr(),c.memoizedState=c.baseState=o,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:z_,lastRenderedState:o},c.queue=p,c=iS.bind(null,ze,p),p.dispatch=c,p=vp(!1),w=kp.bind(null,ze,!1,p.queue),p=Tr(),b={state:o,dispatch:null,action:i,pending:null},p.queue=b,c=e$.bind(null,ze,b,w,c),b.dispatch=c,p.memoizedState=i,[o,c,!1]}function B_(i){var o=Dt();return q_(o,it,i)}function q_(i,o,c){if(o=pp(i,o,z_)[0],i=Nd(Pa)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var p=ac(o)}catch(T){throw T===No?vd:T}else p=o;o=Dt();var b=o.queue,w=b.dispatch;return c!==o.memoizedState&&(ze.flags|=2048,Po(9,{destroy:void 0},t$.bind(null,b,c),null)),[p,w,i]}function t$(i,o){i.action=o}function H_(i){var o=Dt(),c=it;if(c!==null)return q_(o,c,i);Dt(),o=o.memoizedState,c=Dt();var p=c.queue.dispatch;return c.memoizedState=i,[o,p,!1]}function Po(i,o,c,p){return i={tag:i,create:c,deps:p,inst:o,next:null},o=ze.updateQueue,o===null&&(o=jd(),ze.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=i.next=i:(p=c.next,c.next=i,i.next=p,o.lastEffect=i),i}function F_(){return Dt().memoizedState}function Od(i,o,c,p){var b=Tr();ze.flags|=i,b.memoizedState=Po(1|o,{destroy:void 0},c,p===void 0?null:p)}function Ad(i,o,c,p){var b=Dt();p=p===void 0?null:p;var w=b.memoizedState.inst;it!==null&&p!==null&&cp(p,it.memoizedState.deps)?b.memoizedState=Po(o,w,c,p):(ze.flags|=i,b.memoizedState=Po(1|o,w,c,p))}function V_(i,o){Od(8390656,8,i,o)}function bp(i,o){Ad(2048,8,i,o)}function r$(i){ze.flags|=4;var o=ze.updateQueue;if(o===null)o=jd(),ze.updateQueue=o,o.events=[i];else{var c=o.events;c===null?o.events=[i]:c.push(i)}}function K_(i){var o=Dt().memoizedState;return r$({ref:o,nextImpl:i}),function(){if((et&2)!==0)throw Error(n(440));return o.impl.apply(void 0,arguments)}}function Z_(i,o){return Ad(4,2,i,o)}function G_(i,o){return Ad(4,4,i,o)}function Y_(i,o){if(typeof o=="function"){i=i();var c=o(i);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function W_(i,o,c){c=c!=null?c.concat([i]):null,Ad(4,4,Y_.bind(null,o,i),c)}function xp(){}function X_(i,o){var c=Dt();o=o===void 0?null:o;var p=c.memoizedState;return o!==null&&cp(o,p[1])?p[0]:(c.memoizedState=[i,o],i)}function J_(i,o){var c=Dt();o=o===void 0?null:o;var p=c.memoizedState;if(o!==null&&cp(o,p[1]))return p[0];if(p=i(),ys){tn(!0);try{i()}finally{tn(!1)}}return c.memoizedState=[p,o],p}function wp(i,o,c){return c===void 0||(Ca&1073741824)!==0&&(Ke&261930)===0?i.memoizedState=o:(i.memoizedState=c,i=QS(),ze.lanes|=i,Ni|=i,c)}function Q_(i,o,c,p){return rn(c,o)?c:Ao.current!==null?(i=wp(i,c,p),rn(i,o)||(zt=!0),i):(Ca&42)===0||(Ca&1073741824)!==0&&(Ke&261930)===0?(zt=!0,i.memoizedState=c):(i=QS(),ze.lanes|=i,Ni|=i,o)}function eS(i,o,c,p,b){var w=H.p;H.p=w!==0&&8>w?w:8;var T=B.T,$={};B.T=$,kp(i,!1,o,c);try{var U=b(),Q=B.S;if(Q!==null&&Q($,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var le=X3(U,p);ic(i,o,le,cn(i))}else ic(i,o,p,cn(i))}catch(he){ic(i,o,{then:function(){},status:"rejected",reason:he},cn())}finally{H.p=w,T!==null&&$.types!==null&&(T.types=$.types),B.T=T}}function n$(){}function _p(i,o,c,p){if(i.tag!==5)throw Error(n(476));var b=tS(i).queue;eS(i,b,o,X,c===null?n$:function(){return rS(i),c(p)})}function tS(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pa,lastRenderedState:X},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pa,lastRenderedState:c},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function rS(i){var o=tS(i);o.next===null&&(o=i.alternate.memoizedState),ic(i,o.next.queue,{},cn())}function Sp(){return lr(_c)}function nS(){return Dt().memoizedState}function aS(){return Dt().memoizedState}function a$(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var c=cn();i=wi(c);var p=_i(o,i,c);p!==null&&(Vr(p,o,c),ec(p,o,c)),o={cache:Jm()},i.payload=o;return}o=o.return}}function i$(i,o,c){var p=cn();c={lane:p,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Td(i)?sS(o,c):(c=Bm(i,o,c,p),c!==null&&(Vr(c,i,p),oS(c,o,p)))}function iS(i,o,c){var p=cn();ic(i,o,c,p)}function ic(i,o,c,p){var b={lane:p,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Td(i))sS(o,b);else{var w=i.alternate;if(i.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var T=o.lastRenderedState,$=w(T,c);if(b.hasEagerState=!0,b.eagerState=$,rn($,T))return ud(i,o,b,0),lt===null&&cd(),!1}catch{}finally{}if(c=Bm(i,o,b,p),c!==null)return Vr(c,i,p),oS(c,o,p),!0}return!1}function kp(i,o,c,p){if(p={lane:2,revertLane:rg(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Td(i)){if(o)throw Error(n(479))}else o=Bm(i,c,p,2),o!==null&&Vr(o,i,2)}function Td(i){var o=i.alternate;return i===ze||o!==null&&o===ze}function sS(i,o){To=Sd=!0;var c=i.pending;c===null?o.next=o:(o.next=c.next,c.next=o),i.pending=o}function oS(i,o,c){if((c&4194048)!==0){var p=o.lanes;p&=i.pendingLanes,c|=p,o.lanes=c,f1(i,c)}}var sc={readContext:lr,use:Ed,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useLayoutEffect:Ot,useInsertionEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useSyncExternalStore:Ot,useId:Ot,useHostTransitionStatus:Ot,useFormState:Ot,useActionState:Ot,useOptimistic:Ot,useMemoCache:Ot,useCacheRefresh:Ot};sc.useEffectEvent=Ot;var lS={readContext:lr,use:Ed,useCallback:function(i,o){return Tr().memoizedState=[i,o===void 0?null:o],i},useContext:lr,useEffect:V_,useImperativeHandle:function(i,o,c){c=c!=null?c.concat([i]):null,Od(4194308,4,Y_.bind(null,o,i),c)},useLayoutEffect:function(i,o){return Od(4194308,4,i,o)},useInsertionEffect:function(i,o){Od(4,2,i,o)},useMemo:function(i,o){var c=Tr();o=o===void 0?null:o;var p=i();if(ys){tn(!0);try{i()}finally{tn(!1)}}return c.memoizedState=[p,o],p},useReducer:function(i,o,c){var p=Tr();if(c!==void 0){var b=c(o);if(ys){tn(!0);try{c(o)}finally{tn(!1)}}}else b=o;return p.memoizedState=p.baseState=b,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:b},p.queue=i,i=i.dispatch=i$.bind(null,ze,i),[p.memoizedState,i]},useRef:function(i){var o=Tr();return i={current:i},o.memoizedState=i},useState:function(i){i=vp(i);var o=i.queue,c=iS.bind(null,ze,o);return o.dispatch=c,[i.memoizedState,c]},useDebugValue:xp,useDeferredValue:function(i,o){var c=Tr();return wp(c,i,o)},useTransition:function(){var i=vp(!1);return i=eS.bind(null,ze,i.queue,!0,!1),Tr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,c){var p=ze,b=Tr();if(Ye){if(c===void 0)throw Error(n(407));c=c()}else{if(c=o(),lt===null)throw Error(n(349));(Ke&127)!==0||A_(p,o,c)}b.memoizedState=c;var w={value:c,getSnapshot:o};return b.queue=w,V_(C_.bind(null,p,w,i),[i]),p.flags|=2048,Po(9,{destroy:void 0},T_.bind(null,p,w,c,o),null),c},useId:function(){var i=Tr(),o=lt.identifierPrefix;if(Ye){var c=sa,p=ia;c=(p&~(1<<32-xr(p)-1)).toString(32)+c,o="_"+o+"R_"+c,c=kd++,0<c&&(o+="H"+c.toString(32)),o+="_"}else c=J3++,o="_"+o+"r_"+c.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:Sp,useFormState:U_,useActionState:U_,useOptimistic:function(i){var o=Tr();o.memoizedState=o.baseState=i;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=kp.bind(null,ze,!0,c),c.dispatch=o,[i,o]},useMemoCache:mp,useCacheRefresh:function(){return Tr().memoizedState=a$.bind(null,ze)},useEffectEvent:function(i){var o=Tr(),c={impl:i};return o.memoizedState=c,function(){if((et&2)!==0)throw Error(n(440));return c.impl.apply(void 0,arguments)}}},jp={readContext:lr,use:Ed,useCallback:X_,useContext:lr,useEffect:bp,useImperativeHandle:W_,useInsertionEffect:Z_,useLayoutEffect:G_,useMemo:J_,useReducer:Nd,useRef:F_,useState:function(){return Nd(Pa)},useDebugValue:xp,useDeferredValue:function(i,o){var c=Dt();return Q_(c,it.memoizedState,i,o)},useTransition:function(){var i=Nd(Pa)[0],o=Dt().memoizedState;return[typeof i=="boolean"?i:ac(i),o]},useSyncExternalStore:O_,useId:nS,useHostTransitionStatus:Sp,useFormState:B_,useActionState:B_,useOptimistic:function(i,o){var c=Dt();return R_(c,it,i,o)},useMemoCache:mp,useCacheRefresh:aS};jp.useEffectEvent=K_;var cS={readContext:lr,use:Ed,useCallback:X_,useContext:lr,useEffect:bp,useImperativeHandle:W_,useInsertionEffect:Z_,useLayoutEffect:G_,useMemo:J_,useReducer:gp,useRef:F_,useState:function(){return gp(Pa)},useDebugValue:xp,useDeferredValue:function(i,o){var c=Dt();return it===null?wp(c,i,o):Q_(c,it.memoizedState,i,o)},useTransition:function(){var i=gp(Pa)[0],o=Dt().memoizedState;return[typeof i=="boolean"?i:ac(i),o]},useSyncExternalStore:O_,useId:nS,useHostTransitionStatus:Sp,useFormState:H_,useActionState:H_,useOptimistic:function(i,o){var c=Dt();return it!==null?R_(c,it,i,o):(c.baseState=i,[i,c.queue.dispatch])},useMemoCache:mp,useCacheRefresh:aS};cS.useEffectEvent=K_;function Ep(i,o,c,p){o=i.memoizedState,c=c(p,o),c=c==null?o:g({},o,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var Np={enqueueSetState:function(i,o,c){i=i._reactInternals;var p=cn(),b=wi(p);b.payload=o,c!=null&&(b.callback=c),o=_i(i,b,p),o!==null&&(Vr(o,i,p),ec(o,i,p))},enqueueReplaceState:function(i,o,c){i=i._reactInternals;var p=cn(),b=wi(p);b.tag=1,b.payload=o,c!=null&&(b.callback=c),o=_i(i,b,p),o!==null&&(Vr(o,i,p),ec(o,i,p))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var c=cn(),p=wi(c);p.tag=2,o!=null&&(p.callback=o),o=_i(i,p,c),o!==null&&(Vr(o,i,c),ec(o,i,c))}};function uS(i,o,c,p,b,w,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,w,T):o.prototype&&o.prototype.isPureReactComponent?!Kl(c,p)||!Kl(b,w):!0}function dS(i,o,c,p){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,p),o.state!==i&&Np.enqueueReplaceState(o,o.state,null)}function bs(i,o){var c=o;if("ref"in o){c={};for(var p in o)p!=="ref"&&(c[p]=o[p])}if(i=i.defaultProps){c===o&&(c=g({},c));for(var b in i)c[b]===void 0&&(c[b]=i[b])}return c}function fS(i){ld(i)}function hS(i){console.error(i)}function mS(i){ld(i)}function Cd(i,o){try{var c=i.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(p){setTimeout(function(){throw p})}}function pS(i,o,c){try{var p=i.onCaughtError;p(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function Op(i,o,c){return c=wi(c),c.tag=3,c.payload={element:null},c.callback=function(){Cd(i,o)},c}function gS(i){return i=wi(i),i.tag=3,i}function vS(i,o,c,p){var b=c.type.getDerivedStateFromError;if(typeof b=="function"){var w=p.value;i.payload=function(){return b(w)},i.callback=function(){pS(o,c,p)}}var T=c.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){pS(o,c,p),typeof b!="function"&&(Oi===null?Oi=new Set([this]):Oi.add(this));var $=p.stack;this.componentDidCatch(p.value,{componentStack:$!==null?$:""})})}function s$(i,o,c,p,b){if(c.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(o=c.alternate,o!==null&&ko(o,c,b,!0),c=an.current,c!==null){switch(c.tag){case 31:case 13:return On===null?Hd():c.alternate===null&&At===0&&(At=3),c.flags&=-257,c.flags|=65536,c.lanes=b,p===yd?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([p]):o.add(p),Qp(i,p,b)),!1;case 22:return c.flags|=65536,p===yd?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([p])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([p]):c.add(p)),Qp(i,p,b)),!1}throw Error(n(435,c.tag))}return Qp(i,p,b),Hd(),!1}if(Ye)return o=an.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=b,p!==Zm&&(i=Error(n(422),{cause:p}),Yl(kn(i,c)))):(p!==Zm&&(o=Error(n(423),{cause:p}),Yl(kn(o,c))),i=i.current.alternate,i.flags|=65536,b&=-b,i.lanes|=b,p=kn(p,c),b=Op(i.stateNode,p,b),ap(i,b),At!==4&&(At=2)),!1;var w=Error(n(520),{cause:p});if(w=kn(w,c),mc===null?mc=[w]:mc.push(w),At!==4&&(At=2),o===null)return!0;p=kn(p,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,i=b&-b,c.lanes|=i,i=Op(c.stateNode,p,i),ap(c,i),!1;case 1:if(o=c.type,w=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Oi===null||!Oi.has(w))))return c.flags|=65536,b&=-b,c.lanes|=b,b=gS(b),vS(b,i,c,p),ap(c,b),!1}c=c.return}while(c!==null);return!1}var Ap=Error(n(461)),zt=!1;function cr(i,o,c,p){o.child=i===null?w_(o,null,c,p):vs(o,i.child,c,p)}function yS(i,o,c,p,b){c=c.render;var w=o.ref;if("ref"in p){var T={};for(var $ in p)$!=="ref"&&(T[$]=p[$])}else T=p;return hs(o),p=up(i,o,c,T,w,b),$=dp(),i!==null&&!zt?(fp(i,o,b),Da(i,o,b)):(Ye&&$&&Vm(o),o.flags|=1,cr(i,o,p,b),o.child)}function bS(i,o,c,p,b){if(i===null){var w=c.type;return typeof w=="function"&&!qm(w)&&w.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=w,xS(i,o,w,p,b)):(i=fd(c.type,null,p,o,o.mode,b),i.ref=o.ref,i.return=o,o.child=i)}if(w=i.child,!Ip(i,b)){var T=w.memoizedProps;if(c=c.compare,c=c!==null?c:Kl,c(T,p)&&i.ref===o.ref)return Da(i,o,b)}return o.flags|=1,i=Na(w,p),i.ref=o.ref,i.return=o,o.child=i}function xS(i,o,c,p,b){if(i!==null){var w=i.memoizedProps;if(Kl(w,p)&&i.ref===o.ref)if(zt=!1,o.pendingProps=p=w,Ip(i,b))(i.flags&131072)!==0&&(zt=!0);else return o.lanes=i.lanes,Da(i,o,b)}return Tp(i,o,c,p,b)}function wS(i,o,c,p){var b=p.children,w=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((o.flags&128)!==0){if(w=w!==null?w.baseLanes|c:c,i!==null){for(p=o.child=i.child,b=0;p!==null;)b=b|p.lanes|p.childLanes,p=p.sibling;p=b&~w}else p=0,o.child=null;return _S(i,o,w,c,p)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&gd(o,w!==null?w.cachePool:null),w!==null?k_(o,w):sp(),j_(o);else return p=o.lanes=536870912,_S(i,o,w!==null?w.baseLanes|c:c,c,p)}else w!==null?(gd(o,w.cachePool),k_(o,w),ki(),o.memoizedState=null):(i!==null&&gd(o,null),sp(),ki());return cr(i,o,b,c),o.child}function oc(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function _S(i,o,c,p,b){var w=ep();return w=w===null?null:{parent:It._currentValue,pool:w},o.memoizedState={baseLanes:c,cachePool:w},i!==null&&gd(o,null),sp(),j_(o),i!==null&&ko(i,o,p,!0),o.childLanes=b,null}function Pd(i,o){return o=Rd({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function SS(i,o,c){return vs(o,i.child,null,c),i=Pd(o,o.pendingProps),i.flags|=2,sn(o),o.memoizedState=null,i}function o$(i,o,c){var p=o.pendingProps,b=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(Ye){if(p.mode==="hidden")return i=Pd(o,p),o.lanes=536870912,oc(null,i);if(lp(o),(i=gt)?(i=Mk(i,Nn),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:gi!==null?{id:ia,overflow:sa}:null,retryLane:536870912,hydrationErrors:null},c=s_(i),c.return=o,o.child=c,or=o,gt=null)):i=null,i===null)throw yi(o);return o.lanes=536870912,null}return Pd(o,p)}var w=i.memoizedState;if(w!==null){var T=w.dehydrated;if(lp(o),b)if(o.flags&256)o.flags&=-257,o=SS(i,o,c);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(n(558));else if(zt||ko(i,o,c,!1),b=(c&i.childLanes)!==0,zt||b){if(p=lt,p!==null&&(T=h1(p,c),T!==0&&T!==w.retryLane))throw w.retryLane=T,cs(i,T),Vr(p,i,T),Ap;Hd(),o=SS(i,o,c)}else i=w.treeContext,gt=An(T.nextSibling),or=o,Ye=!0,vi=null,Nn=!1,i!==null&&c_(o,i),o=Pd(o,p),o.flags|=4096;return o}return i=Na(i.child,{mode:p.mode,children:p.children}),i.ref=o.ref,o.child=i,i.return=o,i}function Dd(i,o){var c=o.ref;if(c===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(n(284));(i===null||i.ref!==c)&&(o.flags|=4194816)}}function Tp(i,o,c,p,b){return hs(o),c=up(i,o,c,p,void 0,b),p=dp(),i!==null&&!zt?(fp(i,o,b),Da(i,o,b)):(Ye&&p&&Vm(o),o.flags|=1,cr(i,o,c,b),o.child)}function kS(i,o,c,p,b,w){return hs(o),o.updateQueue=null,c=N_(o,p,c,b),E_(i),p=dp(),i!==null&&!zt?(fp(i,o,w),Da(i,o,w)):(Ye&&p&&Vm(o),o.flags|=1,cr(i,o,c,w),o.child)}function jS(i,o,c,p,b){if(hs(o),o.stateNode===null){var w=xo,T=c.contextType;typeof T=="object"&&T!==null&&(w=lr(T)),w=new c(p,w),o.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Np,o.stateNode=w,w._reactInternals=o,w=o.stateNode,w.props=p,w.state=o.memoizedState,w.refs={},rp(o),T=c.contextType,w.context=typeof T=="object"&&T!==null?lr(T):xo,w.state=o.memoizedState,T=c.getDerivedStateFromProps,typeof T=="function"&&(Ep(o,c,T,p),w.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(T=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),T!==w.state&&Np.enqueueReplaceState(w,w.state,null),rc(o,p,w,b),tc(),w.state=o.memoizedState),typeof w.componentDidMount=="function"&&(o.flags|=4194308),p=!0}else if(i===null){w=o.stateNode;var $=o.memoizedProps,U=bs(c,$);w.props=U;var Q=w.context,le=c.contextType;T=xo,typeof le=="object"&&le!==null&&(T=lr(le));var he=c.getDerivedStateFromProps;le=typeof he=="function"||typeof w.getSnapshotBeforeUpdate=="function",$=o.pendingProps!==$,le||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||($||Q!==T)&&dS(o,w,p,T),xi=!1;var re=o.memoizedState;w.state=re,rc(o,p,w,b),tc(),Q=o.memoizedState,$||re!==Q||xi?(typeof he=="function"&&(Ep(o,c,he,p),Q=o.memoizedState),(U=xi||uS(o,c,U,p,re,Q,T))?(le||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(o.flags|=4194308)):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=Q),w.props=p,w.state=Q,w.context=T,p=U):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{w=o.stateNode,np(i,o),T=o.memoizedProps,le=bs(c,T),w.props=le,he=o.pendingProps,re=w.context,Q=c.contextType,U=xo,typeof Q=="object"&&Q!==null&&(U=lr(Q)),$=c.getDerivedStateFromProps,(Q=typeof $=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(T!==he||re!==U)&&dS(o,w,p,U),xi=!1,re=o.memoizedState,w.state=re,rc(o,p,w,b),tc();var ie=o.memoizedState;T!==he||re!==ie||xi||i!==null&&i.dependencies!==null&&md(i.dependencies)?(typeof $=="function"&&(Ep(o,c,$,p),ie=o.memoizedState),(le=xi||uS(o,c,le,p,re,ie,U)||i!==null&&i.dependencies!==null&&md(i.dependencies))?(Q||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(p,ie,U),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(p,ie,U)),typeof w.componentDidUpdate=="function"&&(o.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof w.componentDidUpdate!="function"||T===i.memoizedProps&&re===i.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&re===i.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=ie),w.props=p,w.state=ie,w.context=U,p=le):(typeof w.componentDidUpdate!="function"||T===i.memoizedProps&&re===i.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&re===i.memoizedState||(o.flags|=1024),p=!1)}return w=p,Dd(i,o),p=(o.flags&128)!==0,w||p?(w=o.stateNode,c=p&&typeof c.getDerivedStateFromError!="function"?null:w.render(),o.flags|=1,i!==null&&p?(o.child=vs(o,i.child,null,b),o.child=vs(o,null,c,b)):cr(i,o,c,b),o.memoizedState=w.state,i=o.child):i=Da(i,o,b),i}function ES(i,o,c,p){return ds(),o.flags|=256,cr(i,o,c,p),o.child}var Cp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pp(i){return{baseLanes:i,cachePool:p_()}}function Dp(i,o,c){return i=i!==null?i.childLanes&~c:0,o&&(i|=ln),i}function NS(i,o,c){var p=o.pendingProps,b=!1,w=(o.flags&128)!==0,T;if((T=w)||(T=i!==null&&i.memoizedState===null?!1:(Pt.current&2)!==0),T&&(b=!0,o.flags&=-129),T=(o.flags&32)!==0,o.flags&=-33,i===null){if(Ye){if(b?Si(o):ki(),(i=gt)?(i=Mk(i,Nn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:gi!==null?{id:ia,overflow:sa}:null,retryLane:536870912,hydrationErrors:null},c=s_(i),c.return=o,o.child=c,or=o,gt=null)):i=null,i===null)throw yi(o);return pg(i)?o.lanes=32:o.lanes=536870912,null}var $=p.children;return p=p.fallback,b?(ki(),b=o.mode,$=Rd({mode:"hidden",children:$},b),p=us(p,b,c,null),$.return=o,p.return=o,$.sibling=p,o.child=$,p=o.child,p.memoizedState=Pp(c),p.childLanes=Dp(i,T,c),o.memoizedState=Cp,oc(null,p)):(Si(o),Rp(o,$))}var U=i.memoizedState;if(U!==null&&($=U.dehydrated,$!==null)){if(w)o.flags&256?(Si(o),o.flags&=-257,o=Mp(i,o,c)):o.memoizedState!==null?(ki(),o.child=i.child,o.flags|=128,o=null):(ki(),$=p.fallback,b=o.mode,p=Rd({mode:"visible",children:p.children},b),$=us($,b,c,null),$.flags|=2,p.return=o,$.return=o,p.sibling=$,o.child=p,vs(o,i.child,null,c),p=o.child,p.memoizedState=Pp(c),p.childLanes=Dp(i,T,c),o.memoizedState=Cp,o=oc(null,p));else if(Si(o),pg($)){if(T=$.nextSibling&&$.nextSibling.dataset,T)var Q=T.dgst;T=Q,p=Error(n(419)),p.stack="",p.digest=T,Yl({value:p,source:null,stack:null}),o=Mp(i,o,c)}else if(zt||ko(i,o,c,!1),T=(c&i.childLanes)!==0,zt||T){if(T=lt,T!==null&&(p=h1(T,c),p!==0&&p!==U.retryLane))throw U.retryLane=p,cs(i,p),Vr(T,i,p),Ap;mg($)||Hd(),o=Mp(i,o,c)}else mg($)?(o.flags|=192,o.child=i.child,o=null):(i=U.treeContext,gt=An($.nextSibling),or=o,Ye=!0,vi=null,Nn=!1,i!==null&&c_(o,i),o=Rp(o,p.children),o.flags|=4096);return o}return b?(ki(),$=p.fallback,b=o.mode,U=i.child,Q=U.sibling,p=Na(U,{mode:"hidden",children:p.children}),p.subtreeFlags=U.subtreeFlags&65011712,Q!==null?$=Na(Q,$):($=us($,b,c,null),$.flags|=2),$.return=o,p.return=o,p.sibling=$,o.child=p,oc(null,p),p=o.child,$=i.child.memoizedState,$===null?$=Pp(c):(b=$.cachePool,b!==null?(U=It._currentValue,b=b.parent!==U?{parent:U,pool:U}:b):b=p_(),$={baseLanes:$.baseLanes|c,cachePool:b}),p.memoizedState=$,p.childLanes=Dp(i,T,c),o.memoizedState=Cp,oc(i.child,p)):(Si(o),c=i.child,i=c.sibling,c=Na(c,{mode:"visible",children:p.children}),c.return=o,c.sibling=null,i!==null&&(T=o.deletions,T===null?(o.deletions=[i],o.flags|=16):T.push(i)),o.child=c,o.memoizedState=null,c)}function Rp(i,o){return o=Rd({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function Rd(i,o){return i=nn(22,i,null,o),i.lanes=0,i}function Mp(i,o,c){return vs(o,i.child,null,c),i=Rp(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function OS(i,o,c){i.lanes|=o;var p=i.alternate;p!==null&&(p.lanes|=o),Wm(i.return,o,c)}function $p(i,o,c,p,b,w){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:b,treeForkCount:w}:(T.isBackwards=o,T.rendering=null,T.renderingStartTime=0,T.last=p,T.tail=c,T.tailMode=b,T.treeForkCount=w)}function AS(i,o,c){var p=o.pendingProps,b=p.revealOrder,w=p.tail;p=p.children;var T=Pt.current,$=(T&2)!==0;if($?(T=T&1|2,o.flags|=128):T&=1,F(Pt,T),cr(i,o,p,c),p=Ye?Gl:0,!$&&i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&OS(i,c,o);else if(i.tag===19)OS(i,c,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(b){case"forwards":for(c=o.child,b=null;c!==null;)i=c.alternate,i!==null&&_d(i)===null&&(b=c),c=c.sibling;c=b,c===null?(b=o.child,o.child=null):(b=c.sibling,c.sibling=null),$p(o,!1,b,c,w,p);break;case"backwards":case"unstable_legacy-backwards":for(c=null,b=o.child,o.child=null;b!==null;){if(i=b.alternate,i!==null&&_d(i)===null){o.child=b;break}i=b.sibling,b.sibling=c,c=b,b=i}$p(o,!0,c,null,w,p);break;case"together":$p(o,!1,null,null,void 0,p);break;default:o.memoizedState=null}return o.child}function Da(i,o,c){if(i!==null&&(o.dependencies=i.dependencies),Ni|=o.lanes,(c&o.childLanes)===0)if(i!==null){if(ko(i,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,c=Na(i,i.pendingProps),o.child=c,c.return=o;i.sibling!==null;)i=i.sibling,c=c.sibling=Na(i,i.pendingProps),c.return=o;c.sibling=null}return o.child}function Ip(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&md(i)))}function l$(i,o,c){switch(o.tag){case 3:ye(o,o.stateNode.containerInfo),bi(o,It,i.memoizedState.cache),ds();break;case 27:case 5:xe(o);break;case 4:ye(o,o.stateNode.containerInfo);break;case 10:bi(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,lp(o),null;break;case 13:var p=o.memoizedState;if(p!==null)return p.dehydrated!==null?(Si(o),o.flags|=128,null):(c&o.child.childLanes)!==0?NS(i,o,c):(Si(o),i=Da(i,o,c),i!==null?i.sibling:null);Si(o);break;case 19:var b=(i.flags&128)!==0;if(p=(c&o.childLanes)!==0,p||(ko(i,o,c,!1),p=(c&o.childLanes)!==0),b){if(p)return AS(i,o,c);o.flags|=128}if(b=o.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),F(Pt,Pt.current),p)break;return null;case 22:return o.lanes=0,wS(i,o,c,o.pendingProps);case 24:bi(o,It,i.memoizedState.cache)}return Da(i,o,c)}function TS(i,o,c){if(i!==null)if(i.memoizedProps!==o.pendingProps)zt=!0;else{if(!Ip(i,c)&&(o.flags&128)===0)return zt=!1,l$(i,o,c);zt=(i.flags&131072)!==0}else zt=!1,Ye&&(o.flags&1048576)!==0&&l_(o,Gl,o.index);switch(o.lanes=0,o.tag){case 16:e:{var p=o.pendingProps;if(i=ps(o.elementType),o.type=i,typeof i=="function")qm(i)?(p=bs(i,p),o.tag=1,o=jS(null,o,i,p,c)):(o.tag=0,o=Tp(null,o,i,p,c));else{if(i!=null){var b=i.$$typeof;if(b===D){o.tag=11,o=yS(null,o,i,p,c);break e}else if(b===C){o.tag=14,o=bS(null,o,i,p,c);break e}}throw o=te(i)||i,Error(n(306,o,""))}}return o;case 0:return Tp(i,o,o.type,o.pendingProps,c);case 1:return p=o.type,b=bs(p,o.pendingProps),jS(i,o,p,b,c);case 3:e:{if(ye(o,o.stateNode.containerInfo),i===null)throw Error(n(387));p=o.pendingProps;var w=o.memoizedState;b=w.element,np(i,o),rc(o,p,null,c);var T=o.memoizedState;if(p=T.cache,bi(o,It,p),p!==w.cache&&Xm(o,[It],c,!0),tc(),p=T.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:T.cache},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){o=ES(i,o,p,c);break e}else if(p!==b){b=kn(Error(n(424)),o),Yl(b),o=ES(i,o,p,c);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(gt=An(i.firstChild),or=o,Ye=!0,vi=null,Nn=!0,c=w_(o,null,p,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(ds(),p===b){o=Da(i,o,c);break e}cr(i,o,p,c)}o=o.child}return o;case 26:return Dd(i,o),i===null?(c=Bk(o.type,null,o.pendingProps,null))?o.memoizedState=c:Ye||(c=o.type,i=o.pendingProps,p=Wd(ce.current).createElement(c),p[sr]=o,p[zr]=i,ur(p,c,i),er(p),o.stateNode=p):o.memoizedState=Bk(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return xe(o),i===null&&Ye&&(p=o.stateNode=Lk(o.type,o.pendingProps,ce.current),or=o,Nn=!0,b=gt,Pi(o.type)?(gg=b,gt=An(p.firstChild)):gt=b),cr(i,o,o.pendingProps.children,c),Dd(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&Ye&&((b=p=gt)&&(p=L$(p,o.type,o.pendingProps,Nn),p!==null?(o.stateNode=p,or=o,gt=An(p.firstChild),Nn=!1,b=!0):b=!1),b||yi(o)),xe(o),b=o.type,w=o.pendingProps,T=i!==null?i.memoizedProps:null,p=w.children,dg(b,w)?p=null:T!==null&&dg(b,T)&&(o.flags|=32),o.memoizedState!==null&&(b=up(i,o,Q3,null,null,c),_c._currentValue=b),Dd(i,o),cr(i,o,p,c),o.child;case 6:return i===null&&Ye&&((i=c=gt)&&(c=z$(c,o.pendingProps,Nn),c!==null?(o.stateNode=c,or=o,gt=null,i=!0):i=!1),i||yi(o)),null;case 13:return NS(i,o,c);case 4:return ye(o,o.stateNode.containerInfo),p=o.pendingProps,i===null?o.child=vs(o,null,p,c):cr(i,o,p,c),o.child;case 11:return yS(i,o,o.type,o.pendingProps,c);case 7:return cr(i,o,o.pendingProps,c),o.child;case 8:return cr(i,o,o.pendingProps.children,c),o.child;case 12:return cr(i,o,o.pendingProps.children,c),o.child;case 10:return p=o.pendingProps,bi(o,o.type,p.value),cr(i,o,p.children,c),o.child;case 9:return b=o.type._context,p=o.pendingProps.children,hs(o),b=lr(b),p=p(b),o.flags|=1,cr(i,o,p,c),o.child;case 14:return bS(i,o,o.type,o.pendingProps,c);case 15:return xS(i,o,o.type,o.pendingProps,c);case 19:return AS(i,o,c);case 31:return o$(i,o,c);case 22:return wS(i,o,c,o.pendingProps);case 24:return hs(o),p=lr(It),i===null?(b=ep(),b===null&&(b=lt,w=Jm(),b.pooledCache=w,w.refCount++,w!==null&&(b.pooledCacheLanes|=c),b=w),o.memoizedState={parent:p,cache:b},rp(o),bi(o,It,b)):((i.lanes&c)!==0&&(np(i,o),rc(o,null,null,c),tc()),b=i.memoizedState,w=o.memoizedState,b.parent!==p?(b={parent:p,cache:p},o.memoizedState=b,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=b),bi(o,It,p)):(p=w.cache,bi(o,It,p),p!==b.cache&&Xm(o,[It],c,!0))),cr(i,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function Ra(i){i.flags|=4}function Lp(i,o,c,p,b){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(b&335544128)===b)if(i.stateNode.complete)i.flags|=8192;else if(nk())i.flags|=8192;else throw gs=yd,tp}else i.flags&=-16777217}function CS(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Kk(o))if(nk())i.flags|=8192;else throw gs=yd,tp}function Md(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?u1():536870912,i.lanes|=o,$o|=o)}function lc(i,o){if(!Ye)switch(i.tailMode){case"hidden":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function vt(i){var o=i.alternate!==null&&i.alternate.child===i.child,c=0,p=0;if(o)for(var b=i.child;b!==null;)c|=b.lanes|b.childLanes,p|=b.subtreeFlags&65011712,p|=b.flags&65011712,b.return=i,b=b.sibling;else for(b=i.child;b!==null;)c|=b.lanes|b.childLanes,p|=b.subtreeFlags,p|=b.flags,b.return=i,b=b.sibling;return i.subtreeFlags|=p,i.childLanes=c,o}function c$(i,o,c){var p=o.pendingProps;switch(Km(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(o),null;case 1:return vt(o),null;case 3:return c=o.stateNode,p=null,i!==null&&(p=i.memoizedState.cache),o.memoizedState.cache!==p&&(o.flags|=2048),Ta(It),G(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(i===null||i.child===null)&&(So(o)?Ra(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Gm())),vt(o),null;case 26:var b=o.type,w=o.memoizedState;return i===null?(Ra(o),w!==null?(vt(o),CS(o,w)):(vt(o),Lp(o,b,null,p,c))):w?w!==i.memoizedState?(Ra(o),vt(o),CS(o,w)):(vt(o),o.flags&=-16777217):(i=i.memoizedProps,i!==p&&Ra(o),vt(o),Lp(o,b,i,p,c)),null;case 27:if(pe(o),c=ce.current,b=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==p&&Ra(o);else{if(!p){if(o.stateNode===null)throw Error(n(166));return vt(o),null}i=Z.current,So(o)?u_(o):(i=Lk(b,p,c),o.stateNode=i,Ra(o))}return vt(o),null;case 5:if(pe(o),b=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==p&&Ra(o);else{if(!p){if(o.stateNode===null)throw Error(n(166));return vt(o),null}if(w=Z.current,So(o))u_(o);else{var T=Wd(ce.current);switch(w){case 1:w=T.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:w=T.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":w=T.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":w=T.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":w=T.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof p.is=="string"?T.createElement("select",{is:p.is}):T.createElement("select"),p.multiple?w.multiple=!0:p.size&&(w.size=p.size);break;default:w=typeof p.is=="string"?T.createElement(b,{is:p.is}):T.createElement(b)}}w[sr]=o,w[zr]=p;e:for(T=o.child;T!==null;){if(T.tag===5||T.tag===6)w.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===o)break e;for(;T.sibling===null;){if(T.return===null||T.return===o)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}o.stateNode=w;e:switch(ur(w,b,p),b){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&Ra(o)}}return vt(o),Lp(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,c),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==p&&Ra(o);else{if(typeof p!="string"&&o.stateNode===null)throw Error(n(166));if(i=ce.current,So(o)){if(i=o.stateNode,c=o.memoizedProps,p=null,b=or,b!==null)switch(b.tag){case 27:case 5:p=b.memoizedProps}i[sr]=o,i=!!(i.nodeValue===c||p!==null&&p.suppressHydrationWarning===!0||Nk(i.nodeValue,c)),i||yi(o,!0)}else i=Wd(i).createTextNode(p),i[sr]=o,o.stateNode=i}return vt(o),null;case 31:if(c=o.memoizedState,i===null||i.memoizedState!==null){if(p=So(o),c!==null){if(i===null){if(!p)throw Error(n(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(557));i[sr]=o}else ds(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;vt(o),i=!1}else c=Gm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=c),i=!0;if(!i)return o.flags&256?(sn(o),o):(sn(o),null);if((o.flags&128)!==0)throw Error(n(558))}return vt(o),null;case 13:if(p=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(b=So(o),p!==null&&p.dehydrated!==null){if(i===null){if(!b)throw Error(n(318));if(b=o.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));b[sr]=o}else ds(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;vt(o),b=!1}else b=Gm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=b),b=!0;if(!b)return o.flags&256?(sn(o),o):(sn(o),null)}return sn(o),(o.flags&128)!==0?(o.lanes=c,o):(c=p!==null,i=i!==null&&i.memoizedState!==null,c&&(p=o.child,b=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(b=p.alternate.memoizedState.cachePool.pool),w=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(w=p.memoizedState.cachePool.pool),w!==b&&(p.flags|=2048)),c!==i&&c&&(o.child.flags|=8192),Md(o,o.updateQueue),vt(o),null);case 4:return G(),i===null&&sg(o.stateNode.containerInfo),vt(o),null;case 10:return Ta(o.type),vt(o),null;case 19:if(K(Pt),p=o.memoizedState,p===null)return vt(o),null;if(b=(o.flags&128)!==0,w=p.rendering,w===null)if(b)lc(p,!1);else{if(At!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(w=_d(i),w!==null){for(o.flags|=128,lc(p,!1),i=w.updateQueue,o.updateQueue=i,Md(o,i),o.subtreeFlags=0,i=c,c=o.child;c!==null;)i_(c,i),c=c.sibling;return F(Pt,Pt.current&1|2),Ye&&Oa(o,p.treeForkCount),o.child}i=i.sibling}p.tail!==null&&$e()>Ud&&(o.flags|=128,b=!0,lc(p,!1),o.lanes=4194304)}else{if(!b)if(i=_d(w),i!==null){if(o.flags|=128,b=!0,i=i.updateQueue,o.updateQueue=i,Md(o,i),lc(p,!0),p.tail===null&&p.tailMode==="hidden"&&!w.alternate&&!Ye)return vt(o),null}else 2*$e()-p.renderingStartTime>Ud&&c!==536870912&&(o.flags|=128,b=!0,lc(p,!1),o.lanes=4194304);p.isBackwards?(w.sibling=o.child,o.child=w):(i=p.last,i!==null?i.sibling=w:o.child=w,p.last=w)}return p.tail!==null?(i=p.tail,p.rendering=i,p.tail=i.sibling,p.renderingStartTime=$e(),i.sibling=null,c=Pt.current,F(Pt,b?c&1|2:c&1),Ye&&Oa(o,p.treeForkCount),i):(vt(o),null);case 22:case 23:return sn(o),op(),p=o.memoizedState!==null,i!==null?i.memoizedState!==null!==p&&(o.flags|=8192):p&&(o.flags|=8192),p?(c&536870912)!==0&&(o.flags&128)===0&&(vt(o),o.subtreeFlags&6&&(o.flags|=8192)):vt(o),c=o.updateQueue,c!==null&&Md(o,c.retryQueue),c=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),p=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==c&&(o.flags|=2048),i!==null&&K(ms),null;case 24:return c=null,i!==null&&(c=i.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),Ta(It),vt(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function u$(i,o){switch(Km(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Ta(It),G(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return pe(o),null;case 31:if(o.memoizedState!==null){if(sn(o),o.alternate===null)throw Error(n(340));ds()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if(sn(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));ds()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return K(Pt),null;case 4:return G(),null;case 10:return Ta(o.type),null;case 22:case 23:return sn(o),op(),i!==null&&K(ms),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return Ta(It),null;case 25:return null;default:return null}}function PS(i,o){switch(Km(o),o.tag){case 3:Ta(It),G();break;case 26:case 27:case 5:pe(o);break;case 4:G();break;case 31:o.memoizedState!==null&&sn(o);break;case 13:sn(o);break;case 19:K(Pt);break;case 10:Ta(o.type);break;case 22:case 23:sn(o),op(),i!==null&&K(ms);break;case 24:Ta(It)}}function cc(i,o){try{var c=o.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var b=p.next;c=b;do{if((c.tag&i)===i){p=void 0;var w=c.create,T=c.inst;p=w(),T.destroy=p}c=c.next}while(c!==b)}}catch($){nt(o,o.return,$)}}function ji(i,o,c){try{var p=o.updateQueue,b=p!==null?p.lastEffect:null;if(b!==null){var w=b.next;p=w;do{if((p.tag&i)===i){var T=p.inst,$=T.destroy;if($!==void 0){T.destroy=void 0,b=o;var U=c,Q=$;try{Q()}catch(le){nt(b,U,le)}}}p=p.next}while(p!==w)}}catch(le){nt(o,o.return,le)}}function DS(i){var o=i.updateQueue;if(o!==null){var c=i.stateNode;try{S_(o,c)}catch(p){nt(i,i.return,p)}}}function RS(i,o,c){c.props=bs(i.type,i.memoizedProps),c.state=i.memoizedState;try{c.componentWillUnmount()}catch(p){nt(i,o,p)}}function uc(i,o){try{var c=i.ref;if(c!==null){switch(i.tag){case 26:case 27:case 5:var p=i.stateNode;break;case 30:p=i.stateNode;break;default:p=i.stateNode}typeof c=="function"?i.refCleanup=c(p):c.current=p}}catch(b){nt(i,o,b)}}function oa(i,o){var c=i.ref,p=i.refCleanup;if(c!==null)if(typeof p=="function")try{p()}catch(b){nt(i,o,b)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(b){nt(i,o,b)}else c.current=null}function MS(i){var o=i.type,c=i.memoizedProps,p=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&p.focus();break e;case"img":c.src?p.src=c.src:c.srcSet&&(p.srcset=c.srcSet)}}catch(b){nt(i,i.return,b)}}function zp(i,o,c){try{var p=i.stateNode;P$(p,i.type,c,o),p[zr]=o}catch(b){nt(i,i.return,b)}}function $S(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Pi(i.type)||i.tag===4}function Up(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||$S(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Pi(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Bp(i,o,c){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(i,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(i),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=ja));else if(p!==4&&(p===27&&Pi(i.type)&&(c=i.stateNode,o=null),i=i.child,i!==null))for(Bp(i,o,c),i=i.sibling;i!==null;)Bp(i,o,c),i=i.sibling}function $d(i,o,c){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?c.insertBefore(i,o):c.appendChild(i);else if(p!==4&&(p===27&&Pi(i.type)&&(c=i.stateNode),i=i.child,i!==null))for($d(i,o,c),i=i.sibling;i!==null;)$d(i,o,c),i=i.sibling}function IS(i){var o=i.stateNode,c=i.memoizedProps;try{for(var p=i.type,b=o.attributes;b.length;)o.removeAttributeNode(b[0]);ur(o,p,c),o[sr]=i,o[zr]=c}catch(w){nt(i,i.return,w)}}var Ma=!1,Ut=!1,qp=!1,LS=typeof WeakSet=="function"?WeakSet:Set,tr=null;function d$(i,o){if(i=i.containerInfo,cg=nf,i=W1(i),Mm(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var b=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var T=0,$=-1,U=-1,Q=0,le=0,he=i,re=null;t:for(;;){for(var ie;he!==c||b!==0&&he.nodeType!==3||($=T+b),he!==w||p!==0&&he.nodeType!==3||(U=T+p),he.nodeType===3&&(T+=he.nodeValue.length),(ie=he.firstChild)!==null;)re=he,he=ie;for(;;){if(he===i)break t;if(re===c&&++Q===b&&($=T),re===w&&++le===p&&(U=T),(ie=he.nextSibling)!==null)break;he=re,re=he.parentNode}he=ie}c=$===-1||U===-1?null:{start:$,end:U}}else c=null}c=c||{start:0,end:0}}else c=null;for(ug={focusedElem:i,selectionRange:c},nf=!1,tr=o;tr!==null;)if(o=tr,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,tr=i;else for(;tr!==null;){switch(o=tr,w=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(c=0;c<i.length;c++)b=i[c],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&w!==null){i=void 0,c=o,b=w.memoizedProps,w=w.memoizedState,p=c.stateNode;try{var je=bs(c.type,b);i=p.getSnapshotBeforeUpdate(je,w),p.__reactInternalSnapshotBeforeUpdate=i}catch(Re){nt(c,c.return,Re)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,c=i.nodeType,c===9)hg(i);else if(c===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":hg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=o.sibling,i!==null){i.return=o.return,tr=i;break}tr=o.return}}function zS(i,o,c){var p=c.flags;switch(c.tag){case 0:case 11:case 15:Ia(i,c),p&4&&cc(5,c);break;case 1:if(Ia(i,c),p&4)if(i=c.stateNode,o===null)try{i.componentDidMount()}catch(T){nt(c,c.return,T)}else{var b=bs(c.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(b,o,i.__reactInternalSnapshotBeforeUpdate)}catch(T){nt(c,c.return,T)}}p&64&&DS(c),p&512&&uc(c,c.return);break;case 3:if(Ia(i,c),p&64&&(i=c.updateQueue,i!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{S_(i,o)}catch(T){nt(c,c.return,T)}}break;case 27:o===null&&p&4&&IS(c);case 26:case 5:Ia(i,c),o===null&&p&4&&MS(c),p&512&&uc(c,c.return);break;case 12:Ia(i,c);break;case 31:Ia(i,c),p&4&&qS(i,c);break;case 13:Ia(i,c),p&4&&HS(i,c),p&64&&(i=c.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(c=x$.bind(null,c),U$(i,c))));break;case 22:if(p=c.memoizedState!==null||Ma,!p){o=o!==null&&o.memoizedState!==null||Ut,b=Ma;var w=Ut;Ma=p,(Ut=o)&&!w?La(i,c,(c.subtreeFlags&8772)!==0):Ia(i,c),Ma=b,Ut=w}break;case 30:break;default:Ia(i,c)}}function US(i){var o=i.alternate;o!==null&&(i.alternate=null,US(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&ym(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var bt=null,Br=!1;function $a(i,o,c){for(c=c.child;c!==null;)BS(i,o,c),c=c.sibling}function BS(i,o,c){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(Ar,c)}catch{}switch(c.tag){case 26:Ut||oa(c,o),$a(i,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Ut||oa(c,o);var p=bt,b=Br;Pi(c.type)&&(bt=c.stateNode,Br=!1),$a(i,o,c),bc(c.stateNode),bt=p,Br=b;break;case 5:Ut||oa(c,o);case 6:if(p=bt,b=Br,bt=null,$a(i,o,c),bt=p,Br=b,bt!==null)if(Br)try{(bt.nodeType===9?bt.body:bt.nodeName==="HTML"?bt.ownerDocument.body:bt).removeChild(c.stateNode)}catch(w){nt(c,o,w)}else try{bt.removeChild(c.stateNode)}catch(w){nt(c,o,w)}break;case 18:bt!==null&&(Br?(i=bt,Dk(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,c.stateNode),Fo(i)):Dk(bt,c.stateNode));break;case 4:p=bt,b=Br,bt=c.stateNode.containerInfo,Br=!0,$a(i,o,c),bt=p,Br=b;break;case 0:case 11:case 14:case 15:ji(2,c,o),Ut||ji(4,c,o),$a(i,o,c);break;case 1:Ut||(oa(c,o),p=c.stateNode,typeof p.componentWillUnmount=="function"&&RS(c,o,p)),$a(i,o,c);break;case 21:$a(i,o,c);break;case 22:Ut=(p=Ut)||c.memoizedState!==null,$a(i,o,c),Ut=p;break;default:$a(i,o,c)}}function qS(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Fo(i)}catch(c){nt(o,o.return,c)}}}function HS(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Fo(i)}catch(c){nt(o,o.return,c)}}function f$(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new LS),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new LS),o;default:throw Error(n(435,i.tag))}}function Id(i,o){var c=f$(i);o.forEach(function(p){if(!c.has(p)){c.add(p);var b=w$.bind(null,i,p);p.then(b,b)}})}function qr(i,o){var c=o.deletions;if(c!==null)for(var p=0;p<c.length;p++){var b=c[p],w=i,T=o,$=T;e:for(;$!==null;){switch($.tag){case 27:if(Pi($.type)){bt=$.stateNode,Br=!1;break e}break;case 5:bt=$.stateNode,Br=!1;break e;case 3:case 4:bt=$.stateNode.containerInfo,Br=!0;break e}$=$.return}if(bt===null)throw Error(n(160));BS(w,T,b),bt=null,Br=!1,w=b.alternate,w!==null&&(w.return=null),b.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)FS(o,i),o=o.sibling}var Hn=null;function FS(i,o){var c=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:qr(o,i),Hr(i),p&4&&(ji(3,i,i.return),cc(3,i),ji(5,i,i.return));break;case 1:qr(o,i),Hr(i),p&512&&(Ut||c===null||oa(c,c.return)),p&64&&Ma&&(i=i.updateQueue,i!==null&&(p=i.callbacks,p!==null&&(c=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=c===null?p:c.concat(p))));break;case 26:var b=Hn;if(qr(o,i),Hr(i),p&512&&(Ut||c===null||oa(c,c.return)),p&4){var w=c!==null?c.memoizedState:null;if(p=i.memoizedState,c===null)if(p===null)if(i.stateNode===null){e:{p=i.type,c=i.memoizedProps,b=b.ownerDocument||b;t:switch(p){case"title":w=b.getElementsByTagName("title")[0],(!w||w[Il]||w[sr]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=b.createElement(p),b.head.insertBefore(w,b.querySelector("head > title"))),ur(w,p,c),w[sr]=i,er(w),p=w;break e;case"link":var T=Fk("link","href",b).get(p+(c.href||""));if(T){for(var $=0;$<T.length;$++)if(w=T[$],w.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&w.getAttribute("rel")===(c.rel==null?null:c.rel)&&w.getAttribute("title")===(c.title==null?null:c.title)&&w.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){T.splice($,1);break t}}w=b.createElement(p),ur(w,p,c),b.head.appendChild(w);break;case"meta":if(T=Fk("meta","content",b).get(p+(c.content||""))){for($=0;$<T.length;$++)if(w=T[$],w.getAttribute("content")===(c.content==null?null:""+c.content)&&w.getAttribute("name")===(c.name==null?null:c.name)&&w.getAttribute("property")===(c.property==null?null:c.property)&&w.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&w.getAttribute("charset")===(c.charSet==null?null:c.charSet)){T.splice($,1);break t}}w=b.createElement(p),ur(w,p,c),b.head.appendChild(w);break;default:throw Error(n(468,p))}w[sr]=i,er(w),p=w}i.stateNode=p}else Vk(b,i.type,i.stateNode);else i.stateNode=Hk(b,p,i.memoizedProps);else w!==p?(w===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):w.count--,p===null?Vk(b,i.type,i.stateNode):Hk(b,p,i.memoizedProps)):p===null&&i.stateNode!==null&&zp(i,i.memoizedProps,c.memoizedProps)}break;case 27:qr(o,i),Hr(i),p&512&&(Ut||c===null||oa(c,c.return)),c!==null&&p&4&&zp(i,i.memoizedProps,c.memoizedProps);break;case 5:if(qr(o,i),Hr(i),p&512&&(Ut||c===null||oa(c,c.return)),i.flags&32){b=i.stateNode;try{ho(b,"")}catch(je){nt(i,i.return,je)}}p&4&&i.stateNode!=null&&(b=i.memoizedProps,zp(i,b,c!==null?c.memoizedProps:b)),p&1024&&(qp=!0);break;case 6:if(qr(o,i),Hr(i),p&4){if(i.stateNode===null)throw Error(n(162));p=i.memoizedProps,c=i.stateNode;try{c.nodeValue=p}catch(je){nt(i,i.return,je)}}break;case 3:if(Qd=null,b=Hn,Hn=Xd(o.containerInfo),qr(o,i),Hn=b,Hr(i),p&4&&c!==null&&c.memoizedState.isDehydrated)try{Fo(o.containerInfo)}catch(je){nt(i,i.return,je)}qp&&(qp=!1,VS(i));break;case 4:p=Hn,Hn=Xd(i.stateNode.containerInfo),qr(o,i),Hr(i),Hn=p;break;case 12:qr(o,i),Hr(i);break;case 31:qr(o,i),Hr(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,Id(i,p)));break;case 13:qr(o,i),Hr(i),i.child.flags&8192&&i.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(zd=$e()),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,Id(i,p)));break;case 22:b=i.memoizedState!==null;var U=c!==null&&c.memoizedState!==null,Q=Ma,le=Ut;if(Ma=Q||b,Ut=le||U,qr(o,i),Ut=le,Ma=Q,Hr(i),p&8192)e:for(o=i.stateNode,o._visibility=b?o._visibility&-2:o._visibility|1,b&&(c===null||U||Ma||Ut||xs(i)),c=null,o=i;;){if(o.tag===5||o.tag===26){if(c===null){U=c=o;try{if(w=U.stateNode,b)T=w.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{$=U.stateNode;var he=U.memoizedProps.style,re=he!=null&&he.hasOwnProperty("display")?he.display:null;$.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(je){nt(U,U.return,je)}}}else if(o.tag===6){if(c===null){U=o;try{U.stateNode.nodeValue=b?"":U.memoizedProps}catch(je){nt(U,U.return,je)}}}else if(o.tag===18){if(c===null){U=o;try{var ie=U.stateNode;b?Rk(ie,!0):Rk(U.stateNode,!1)}catch(je){nt(U,U.return,je)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}p&4&&(p=i.updateQueue,p!==null&&(c=p.retryQueue,c!==null&&(p.retryQueue=null,Id(i,c))));break;case 19:qr(o,i),Hr(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,Id(i,p)));break;case 30:break;case 21:break;default:qr(o,i),Hr(i)}}function Hr(i){var o=i.flags;if(o&2){try{for(var c,p=i.return;p!==null;){if($S(p)){c=p;break}p=p.return}if(c==null)throw Error(n(160));switch(c.tag){case 27:var b=c.stateNode,w=Up(i);$d(i,w,b);break;case 5:var T=c.stateNode;c.flags&32&&(ho(T,""),c.flags&=-33);var $=Up(i);$d(i,$,T);break;case 3:case 4:var U=c.stateNode.containerInfo,Q=Up(i);Bp(i,Q,U);break;default:throw Error(n(161))}}catch(le){nt(i,i.return,le)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function VS(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;VS(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function Ia(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)zS(i,o.alternate,o),o=o.sibling}function xs(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:ji(4,o,o.return),xs(o);break;case 1:oa(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&RS(o,o.return,c),xs(o);break;case 27:bc(o.stateNode);case 26:case 5:oa(o,o.return),xs(o);break;case 22:o.memoizedState===null&&xs(o);break;case 30:xs(o);break;default:xs(o)}i=i.sibling}}function La(i,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var p=o.alternate,b=i,w=o,T=w.flags;switch(w.tag){case 0:case 11:case 15:La(b,w,c),cc(4,w);break;case 1:if(La(b,w,c),p=w,b=p.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(Q){nt(p,p.return,Q)}if(p=w,b=p.updateQueue,b!==null){var $=p.stateNode;try{var U=b.shared.hiddenCallbacks;if(U!==null)for(b.shared.hiddenCallbacks=null,b=0;b<U.length;b++)__(U[b],$)}catch(Q){nt(p,p.return,Q)}}c&&T&64&&DS(w),uc(w,w.return);break;case 27:IS(w);case 26:case 5:La(b,w,c),c&&p===null&&T&4&&MS(w),uc(w,w.return);break;case 12:La(b,w,c);break;case 31:La(b,w,c),c&&T&4&&qS(b,w);break;case 13:La(b,w,c),c&&T&4&&HS(b,w);break;case 22:w.memoizedState===null&&La(b,w,c),uc(w,w.return);break;case 30:break;default:La(b,w,c)}o=o.sibling}}function Hp(i,o){var c=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==c&&(i!=null&&i.refCount++,c!=null&&Wl(c))}function Fp(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Wl(i))}function Fn(i,o,c,p){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)KS(i,o,c,p),o=o.sibling}function KS(i,o,c,p){var b=o.flags;switch(o.tag){case 0:case 11:case 15:Fn(i,o,c,p),b&2048&&cc(9,o);break;case 1:Fn(i,o,c,p);break;case 3:Fn(i,o,c,p),b&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Wl(i)));break;case 12:if(b&2048){Fn(i,o,c,p),i=o.stateNode;try{var w=o.memoizedProps,T=w.id,$=w.onPostCommit;typeof $=="function"&&$(T,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(U){nt(o,o.return,U)}}else Fn(i,o,c,p);break;case 31:Fn(i,o,c,p);break;case 13:Fn(i,o,c,p);break;case 23:break;case 22:w=o.stateNode,T=o.alternate,o.memoizedState!==null?w._visibility&2?Fn(i,o,c,p):dc(i,o):w._visibility&2?Fn(i,o,c,p):(w._visibility|=2,Do(i,o,c,p,(o.subtreeFlags&10256)!==0||!1)),b&2048&&Hp(T,o);break;case 24:Fn(i,o,c,p),b&2048&&Fp(o.alternate,o);break;default:Fn(i,o,c,p)}}function Do(i,o,c,p,b){for(b=b&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var w=i,T=o,$=c,U=p,Q=T.flags;switch(T.tag){case 0:case 11:case 15:Do(w,T,$,U,b),cc(8,T);break;case 23:break;case 22:var le=T.stateNode;T.memoizedState!==null?le._visibility&2?Do(w,T,$,U,b):dc(w,T):(le._visibility|=2,Do(w,T,$,U,b)),b&&Q&2048&&Hp(T.alternate,T);break;case 24:Do(w,T,$,U,b),b&&Q&2048&&Fp(T.alternate,T);break;default:Do(w,T,$,U,b)}o=o.sibling}}function dc(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=i,p=o,b=p.flags;switch(p.tag){case 22:dc(c,p),b&2048&&Hp(p.alternate,p);break;case 24:dc(c,p),b&2048&&Fp(p.alternate,p);break;default:dc(c,p)}o=o.sibling}}var fc=8192;function Ro(i,o,c){if(i.subtreeFlags&fc)for(i=i.child;i!==null;)ZS(i,o,c),i=i.sibling}function ZS(i,o,c){switch(i.tag){case 26:Ro(i,o,c),i.flags&fc&&i.memoizedState!==null&&J$(c,Hn,i.memoizedState,i.memoizedProps);break;case 5:Ro(i,o,c);break;case 3:case 4:var p=Hn;Hn=Xd(i.stateNode.containerInfo),Ro(i,o,c),Hn=p;break;case 22:i.memoizedState===null&&(p=i.alternate,p!==null&&p.memoizedState!==null?(p=fc,fc=16777216,Ro(i,o,c),fc=p):Ro(i,o,c));break;default:Ro(i,o,c)}}function GS(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function hc(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var p=o[c];tr=p,WS(p,i)}GS(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)YS(i),i=i.sibling}function YS(i){switch(i.tag){case 0:case 11:case 15:hc(i),i.flags&2048&&ji(9,i,i.return);break;case 3:hc(i);break;case 12:hc(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,Ld(i)):hc(i);break;default:hc(i)}}function Ld(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var p=o[c];tr=p,WS(p,i)}GS(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:ji(8,o,o.return),Ld(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,Ld(o));break;default:Ld(o)}i=i.sibling}}function WS(i,o){for(;tr!==null;){var c=tr;switch(c.tag){case 0:case 11:case 15:ji(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var p=c.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Wl(c.memoizedState.cache)}if(p=c.child,p!==null)p.return=c,tr=p;else e:for(c=i;tr!==null;){p=tr;var b=p.sibling,w=p.return;if(US(p),p===c){tr=null;break e}if(b!==null){b.return=w,tr=b;break e}tr=w}}}var h$={getCacheForType:function(i){var o=lr(It),c=o.data.get(i);return c===void 0&&(c=i(),o.data.set(i,c)),c},cacheSignal:function(){return lr(It).controller.signal}},m$=typeof WeakMap=="function"?WeakMap:Map,et=0,lt=null,Fe=null,Ke=0,rt=0,on=null,Ei=!1,Mo=!1,Vp=!1,za=0,At=0,Ni=0,ws=0,Kp=0,ln=0,$o=0,mc=null,Fr=null,Zp=!1,zd=0,XS=0,Ud=1/0,Bd=null,Oi=null,Zt=0,Ai=null,Io=null,Ua=0,Gp=0,Yp=null,JS=null,pc=0,Wp=null;function cn(){return(et&2)!==0&&Ke!==0?Ke&-Ke:B.T!==null?rg():m1()}function QS(){if(ln===0)if((Ke&536870912)===0||Ye){var i=Yu;Yu<<=1,(Yu&3932160)===0&&(Yu=262144),ln=i}else ln=536870912;return i=an.current,i!==null&&(i.flags|=32),ln}function Vr(i,o,c){(i===lt&&(rt===2||rt===9)||i.cancelPendingCommit!==null)&&(Lo(i,0),Ti(i,Ke,ln,!1)),$l(i,c),((et&2)===0||i!==lt)&&(i===lt&&((et&2)===0&&(ws|=c),At===4&&Ti(i,Ke,ln,!1)),la(i))}function ek(i,o,c){if((et&6)!==0)throw Error(n(327));var p=!c&&(o&127)===0&&(o&i.expiredLanes)===0||Ml(i,o),b=p?v$(i,o):Jp(i,o,!0),w=p;do{if(b===0){Mo&&!p&&Ti(i,o,0,!1);break}else{if(c=i.current.alternate,w&&!p$(c)){b=Jp(i,o,!1),w=!1;continue}if(b===2){if(w=o,i.errorRecoveryDisabledLanes&w)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){o=T;e:{var $=i;b=mc;var U=$.current.memoizedState.isDehydrated;if(U&&(Lo($,T).flags|=256),T=Jp($,T,!1),T!==2){if(Vp&&!U){$.errorRecoveryDisabledLanes|=w,ws|=w,b=4;break e}w=Fr,Fr=b,w!==null&&(Fr===null?Fr=w:Fr.push.apply(Fr,w))}b=T}if(w=!1,b!==2)continue}}if(b===1){Lo(i,0),Ti(i,o,0,!0);break}e:{switch(p=i,w=b,w){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:Ti(p,o,ln,!Ei);break e;case 2:Fr=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(b=zd+300-$e(),10<b)){if(Ti(p,o,ln,!Ei),Xu(p,0,!0)!==0)break e;Ua=o,p.timeoutHandle=Ck(tk.bind(null,p,c,Fr,Bd,Zp,o,ln,ws,$o,Ei,w,"Throttled",-0,0),b);break e}tk(p,c,Fr,Bd,Zp,o,ln,ws,$o,Ei,w,null,-0,0)}}break}while(!0);la(i)}function tk(i,o,c,p,b,w,T,$,U,Q,le,he,re,ie){if(i.timeoutHandle=-1,he=o.subtreeFlags,he&8192||(he&16785408)===16785408){he={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ja},ZS(o,w,he);var je=(w&62914560)===w?zd-$e():(w&4194048)===w?XS-$e():0;if(je=Q$(he,je),je!==null){Ua=w,i.cancelPendingCommit=je(ck.bind(null,i,o,w,c,p,b,T,$,U,le,he,null,re,ie)),Ti(i,w,T,!Q);return}}ck(i,o,w,c,p,b,T,$,U)}function p$(i){for(var o=i;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var p=0;p<c.length;p++){var b=c[p],w=b.getSnapshot;b=b.value;try{if(!rn(w(),b))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ti(i,o,c,p){o&=~Kp,o&=~ws,i.suspendedLanes|=o,i.pingedLanes&=~o,p&&(i.warmLanes|=o),p=i.expirationTimes;for(var b=o;0<b;){var w=31-xr(b),T=1<<w;p[w]=-1,b&=~T}c!==0&&d1(i,c,o)}function qd(){return(et&6)===0?(gc(0),!1):!0}function Xp(){if(Fe!==null){if(rt===0)var i=Fe.return;else i=Fe,Aa=fs=null,hp(i),Oo=null,Jl=0,i=Fe;for(;i!==null;)PS(i.alternate,i),i=i.return;Fe=null}}function Lo(i,o){var c=i.timeoutHandle;c!==-1&&(i.timeoutHandle=-1,M$(c)),c=i.cancelPendingCommit,c!==null&&(i.cancelPendingCommit=null,c()),Ua=0,Xp(),lt=i,Fe=c=Na(i.current,null),Ke=o,rt=0,on=null,Ei=!1,Mo=Ml(i,o),Vp=!1,$o=ln=Kp=ws=Ni=At=0,Fr=mc=null,Zp=!1,(o&8)!==0&&(o|=o&32);var p=i.entangledLanes;if(p!==0)for(i=i.entanglements,p&=o;0<p;){var b=31-xr(p),w=1<<b;o|=i[b],p&=~w}return za=o,cd(),c}function rk(i,o){ze=null,B.H=sc,o===No||o===vd?(o=y_(),rt=3):o===tp?(o=y_(),rt=4):rt=o===Ap?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,on=o,Fe===null&&(At=1,Cd(i,kn(o,i.current)))}function nk(){var i=an.current;return i===null?!0:(Ke&4194048)===Ke?On===null:(Ke&62914560)===Ke||(Ke&536870912)!==0?i===On:!1}function ak(){var i=B.H;return B.H=sc,i===null?sc:i}function ik(){var i=B.A;return B.A=h$,i}function Hd(){At=4,Ei||(Ke&4194048)!==Ke&&an.current!==null||(Mo=!0),(Ni&134217727)===0&&(ws&134217727)===0||lt===null||Ti(lt,Ke,ln,!1)}function Jp(i,o,c){var p=et;et|=2;var b=ak(),w=ik();(lt!==i||Ke!==o)&&(Bd=null,Lo(i,o)),o=!1;var T=At;e:do try{if(rt!==0&&Fe!==null){var $=Fe,U=on;switch(rt){case 8:Xp(),T=6;break e;case 3:case 2:case 9:case 6:an.current===null&&(o=!0);var Q=rt;if(rt=0,on=null,zo(i,$,U,Q),c&&Mo){T=0;break e}break;default:Q=rt,rt=0,on=null,zo(i,$,U,Q)}}g$(),T=At;break}catch(le){rk(i,le)}while(!0);return o&&i.shellSuspendCounter++,Aa=fs=null,et=p,B.H=b,B.A=w,Fe===null&&(lt=null,Ke=0,cd()),T}function g$(){for(;Fe!==null;)sk(Fe)}function v$(i,o){var c=et;et|=2;var p=ak(),b=ik();lt!==i||Ke!==o?(Bd=null,Ud=$e()+500,Lo(i,o)):Mo=Ml(i,o);e:do try{if(rt!==0&&Fe!==null){o=Fe;var w=on;t:switch(rt){case 1:rt=0,on=null,zo(i,o,w,1);break;case 2:case 9:if(g_(w)){rt=0,on=null,ok(o);break}o=function(){rt!==2&&rt!==9||lt!==i||(rt=7),la(i)},w.then(o,o);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:g_(w)?(rt=0,on=null,ok(o)):(rt=0,on=null,zo(i,o,w,7));break;case 5:var T=null;switch(Fe.tag){case 26:T=Fe.memoizedState;case 5:case 27:var $=Fe;if(T?Kk(T):$.stateNode.complete){rt=0,on=null;var U=$.sibling;if(U!==null)Fe=U;else{var Q=$.return;Q!==null?(Fe=Q,Fd(Q)):Fe=null}break t}}rt=0,on=null,zo(i,o,w,5);break;case 6:rt=0,on=null,zo(i,o,w,6);break;case 8:Xp(),At=6;break e;default:throw Error(n(462))}}y$();break}catch(le){rk(i,le)}while(!0);return Aa=fs=null,B.H=p,B.A=b,et=c,Fe!==null?0:(lt=null,Ke=0,cd(),At)}function y$(){for(;Fe!==null&&!kt();)sk(Fe)}function sk(i){var o=TS(i.alternate,i,za);i.memoizedProps=i.pendingProps,o===null?Fd(i):Fe=o}function ok(i){var o=i,c=o.alternate;switch(o.tag){case 15:case 0:o=kS(c,o,o.pendingProps,o.type,void 0,Ke);break;case 11:o=kS(c,o,o.pendingProps,o.type.render,o.ref,Ke);break;case 5:hp(o);default:PS(c,o),o=Fe=i_(o,za),o=TS(c,o,za)}i.memoizedProps=i.pendingProps,o===null?Fd(i):Fe=o}function zo(i,o,c,p){Aa=fs=null,hp(o),Oo=null,Jl=0;var b=o.return;try{if(s$(i,b,o,c,Ke)){At=1,Cd(i,kn(c,i.current)),Fe=null;return}}catch(w){if(b!==null)throw Fe=b,w;At=1,Cd(i,kn(c,i.current)),Fe=null;return}o.flags&32768?(Ye||p===1?i=!0:Mo||(Ke&536870912)!==0?i=!1:(Ei=i=!0,(p===2||p===9||p===3||p===6)&&(p=an.current,p!==null&&p.tag===13&&(p.flags|=16384))),lk(o,i)):Fd(o)}function Fd(i){var o=i;do{if((o.flags&32768)!==0){lk(o,Ei);return}i=o.return;var c=c$(o.alternate,o,za);if(c!==null){Fe=c;return}if(o=o.sibling,o!==null){Fe=o;return}Fe=o=i}while(o!==null);At===0&&(At=5)}function lk(i,o){do{var c=u$(i.alternate,i);if(c!==null){c.flags&=32767,Fe=c;return}if(c=i.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(i=i.sibling,i!==null)){Fe=i;return}Fe=i=c}while(i!==null);At=6,Fe=null}function ck(i,o,c,p,b,w,T,$,U){i.cancelPendingCommit=null;do Vd();while(Zt!==0);if((et&6)!==0)throw Error(n(327));if(o!==null){if(o===i.current)throw Error(n(177));if(w=o.lanes|o.childLanes,w|=Um,XM(i,c,w,T,$,U),i===lt&&(Fe=lt=null,Ke=0),Io=o,Ai=i,Ua=c,Gp=w,Yp=b,JS=p,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,_$(tt,function(){return mk(),null})):(i.callbackNode=null,i.callbackPriority=0),p=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||p){p=B.T,B.T=null,b=H.p,H.p=2,T=et,et|=4;try{d$(i,o,c)}finally{et=T,H.p=b,B.T=p}}Zt=1,uk(),dk(),fk()}}function uk(){if(Zt===1){Zt=0;var i=Ai,o=Io,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=B.T,B.T=null;var p=H.p;H.p=2;var b=et;et|=4;try{FS(o,i);var w=ug,T=W1(i.containerInfo),$=w.focusedElem,U=w.selectionRange;if(T!==$&&$&&$.ownerDocument&&Y1($.ownerDocument.documentElement,$)){if(U!==null&&Mm($)){var Q=U.start,le=U.end;if(le===void 0&&(le=Q),"selectionStart"in $)$.selectionStart=Q,$.selectionEnd=Math.min(le,$.value.length);else{var he=$.ownerDocument||document,re=he&&he.defaultView||window;if(re.getSelection){var ie=re.getSelection(),je=$.textContent.length,Re=Math.min(U.start,je),ot=U.end===void 0?Re:Math.min(U.end,je);!ie.extend&&Re>ot&&(T=ot,ot=Re,Re=T);var W=G1($,Re),V=G1($,ot);if(W&&V&&(ie.rangeCount!==1||ie.anchorNode!==W.node||ie.anchorOffset!==W.offset||ie.focusNode!==V.node||ie.focusOffset!==V.offset)){var J=he.createRange();J.setStart(W.node,W.offset),ie.removeAllRanges(),Re>ot?(ie.addRange(J),ie.extend(V.node,V.offset)):(J.setEnd(V.node,V.offset),ie.addRange(J))}}}}for(he=[],ie=$;ie=ie.parentNode;)ie.nodeType===1&&he.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof $.focus=="function"&&$.focus(),$=0;$<he.length;$++){var de=he[$];de.element.scrollLeft=de.left,de.element.scrollTop=de.top}}nf=!!cg,ug=cg=null}finally{et=b,H.p=p,B.T=c}}i.current=o,Zt=2}}function dk(){if(Zt===2){Zt=0;var i=Ai,o=Io,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=B.T,B.T=null;var p=H.p;H.p=2;var b=et;et|=4;try{zS(i,o.alternate,o)}finally{et=b,H.p=p,B.T=c}}Zt=3}}function fk(){if(Zt===4||Zt===3){Zt=0,Kt();var i=Ai,o=Io,c=Ua,p=JS;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Zt=5:(Zt=0,Io=Ai=null,hk(i,i.pendingLanes));var b=i.pendingLanes;if(b===0&&(Oi=null),gm(c),o=o.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(Ar,o,void 0,(o.current.flags&128)===128)}catch{}if(p!==null){o=B.T,b=H.p,H.p=2,B.T=null;try{for(var w=i.onRecoverableError,T=0;T<p.length;T++){var $=p[T];w($.value,{componentStack:$.stack})}}finally{B.T=o,H.p=b}}(Ua&3)!==0&&Vd(),la(i),b=i.pendingLanes,(c&261930)!==0&&(b&42)!==0?i===Wp?pc++:(pc=0,Wp=i):pc=0,gc(0)}}function hk(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,Wl(o)))}function Vd(){return uk(),dk(),fk(),mk()}function mk(){if(Zt!==5)return!1;var i=Ai,o=Gp;Gp=0;var c=gm(Ua),p=B.T,b=H.p;try{H.p=32>c?32:c,B.T=null,c=Yp,Yp=null;var w=Ai,T=Ua;if(Zt=0,Io=Ai=null,Ua=0,(et&6)!==0)throw Error(n(331));var $=et;if(et|=4,YS(w.current),KS(w,w.current,T,c),et=$,gc(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(Ar,w)}catch{}return!0}finally{H.p=b,B.T=p,hk(i,o)}}function pk(i,o,c){o=kn(c,o),o=Op(i.stateNode,o,2),i=_i(i,o,2),i!==null&&($l(i,2),la(i))}function nt(i,o,c){if(i.tag===3)pk(i,i,c);else for(;o!==null;){if(o.tag===3){pk(o,i,c);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Oi===null||!Oi.has(p))){i=kn(c,i),c=gS(2),p=_i(o,c,2),p!==null&&(vS(c,p,o,i),$l(p,2),la(p));break}}o=o.return}}function Qp(i,o,c){var p=i.pingCache;if(p===null){p=i.pingCache=new m$;var b=new Set;p.set(o,b)}else b=p.get(o),b===void 0&&(b=new Set,p.set(o,b));b.has(c)||(Vp=!0,b.add(c),i=b$.bind(null,i,o,c),o.then(i,i))}function b$(i,o,c){var p=i.pingCache;p!==null&&p.delete(o),i.pingedLanes|=i.suspendedLanes&c,i.warmLanes&=~c,lt===i&&(Ke&c)===c&&(At===4||At===3&&(Ke&62914560)===Ke&&300>$e()-zd?(et&2)===0&&Lo(i,0):Kp|=c,$o===Ke&&($o=0)),la(i)}function gk(i,o){o===0&&(o=u1()),i=cs(i,o),i!==null&&($l(i,o),la(i))}function x$(i){var o=i.memoizedState,c=0;o!==null&&(c=o.retryLane),gk(i,c)}function w$(i,o){var c=0;switch(i.tag){case 31:case 13:var p=i.stateNode,b=i.memoizedState;b!==null&&(c=b.retryLane);break;case 19:p=i.stateNode;break;case 22:p=i.stateNode._retryCache;break;default:throw Error(n(314))}p!==null&&p.delete(o),gk(i,c)}function _$(i,o){return qe(i,o)}var Kd=null,Uo=null,eg=!1,Zd=!1,tg=!1,Ci=0;function la(i){i!==Uo&&i.next===null&&(Uo===null?Kd=Uo=i:Uo=Uo.next=i),Zd=!0,eg||(eg=!0,k$())}function gc(i,o){if(!tg&&Zd){tg=!0;do for(var c=!1,p=Kd;p!==null;){if(i!==0){var b=p.pendingLanes;if(b===0)var w=0;else{var T=p.suspendedLanes,$=p.pingedLanes;w=(1<<31-xr(42|i)+1)-1,w&=b&~(T&~$),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(c=!0,xk(p,w))}else w=Ke,w=Xu(p,p===lt?w:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(w&3)===0||Ml(p,w)||(c=!0,xk(p,w));p=p.next}while(c);tg=!1}}function S$(){vk()}function vk(){Zd=eg=!1;var i=0;Ci!==0&&R$()&&(i=Ci);for(var o=$e(),c=null,p=Kd;p!==null;){var b=p.next,w=yk(p,o);w===0?(p.next=null,c===null?Kd=b:c.next=b,b===null&&(Uo=c)):(c=p,(i!==0||(w&3)!==0)&&(Zd=!0)),p=b}Zt!==0&&Zt!==5||gc(i),Ci!==0&&(Ci=0)}function yk(i,o){for(var c=i.suspendedLanes,p=i.pingedLanes,b=i.expirationTimes,w=i.pendingLanes&-62914561;0<w;){var T=31-xr(w),$=1<<T,U=b[T];U===-1?(($&c)===0||($&p)!==0)&&(b[T]=WM($,o)):U<=o&&(i.expiredLanes|=$),w&=~$}if(o=lt,c=Ke,c=Xu(i,i===o?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p=i.callbackNode,c===0||i===o&&(rt===2||rt===9)||i.cancelPendingCommit!==null)return p!==null&&p!==null&&pt(p),i.callbackNode=null,i.callbackPriority=0;if((c&3)===0||Ml(i,c)){if(o=c&-c,o===i.callbackPriority)return o;switch(p!==null&&pt(p),gm(c)){case 2:case 8:c=He;break;case 32:c=tt;break;case 268435456:c=aa;break;default:c=tt}return p=bk.bind(null,i),c=qe(c,p),i.callbackPriority=o,i.callbackNode=c,o}return p!==null&&p!==null&&pt(p),i.callbackPriority=2,i.callbackNode=null,2}function bk(i,o){if(Zt!==0&&Zt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var c=i.callbackNode;if(Vd()&&i.callbackNode!==c)return null;var p=Ke;return p=Xu(i,i===lt?p:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p===0?null:(ek(i,p,o),yk(i,$e()),i.callbackNode!=null&&i.callbackNode===c?bk.bind(null,i):null)}function xk(i,o){if(Vd())return null;ek(i,o,!0)}function k$(){$$(function(){(et&6)!==0?qe(Ie,S$):vk()})}function rg(){if(Ci===0){var i=jo;i===0&&(i=Gu,Gu<<=1,(Gu&261888)===0&&(Gu=256)),Ci=i}return Ci}function wk(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:td(""+i)}function _k(i,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,i.id&&c.setAttribute("form",i.id),o.parentNode.insertBefore(c,o),i=new FormData(i),c.parentNode.removeChild(c),i}function j$(i,o,c,p,b){if(o==="submit"&&c&&c.stateNode===b){var w=wk((b[zr]||null).action),T=p.submitter;T&&(o=(o=T[zr]||null)?wk(o.formAction):T.getAttribute("formAction"),o!==null&&(w=o,T=null));var $=new id("action","action",null,p,b);i.push({event:$,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(Ci!==0){var U=T?_k(b,T):new FormData(b);_p(c,{pending:!0,data:U,method:b.method,action:w},null,U)}}else typeof w=="function"&&($.preventDefault(),U=T?_k(b,T):new FormData(b),_p(c,{pending:!0,data:U,method:b.method,action:w},w,U))},currentTarget:b}]})}}for(var ng=0;ng<zm.length;ng++){var ag=zm[ng],E$=ag.toLowerCase(),N$=ag[0].toUpperCase()+ag.slice(1);qn(E$,"on"+N$)}qn(Q1,"onAnimationEnd"),qn(e_,"onAnimationIteration"),qn(t_,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(H3,"onTransitionRun"),qn(F3,"onTransitionStart"),qn(V3,"onTransitionCancel"),qn(r_,"onTransitionEnd"),uo("onMouseEnter",["mouseout","mouseover"]),uo("onMouseLeave",["mouseout","mouseover"]),uo("onPointerEnter",["pointerout","pointerover"]),uo("onPointerLeave",["pointerout","pointerover"]),is("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),is("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),is("onBeforeInput",["compositionend","keypress","textInput","paste"]),is("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),is("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),is("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O$=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vc));function Sk(i,o){o=(o&4)!==0;for(var c=0;c<i.length;c++){var p=i[c],b=p.event;p=p.listeners;e:{var w=void 0;if(o)for(var T=p.length-1;0<=T;T--){var $=p[T],U=$.instance,Q=$.currentTarget;if($=$.listener,U!==w&&b.isPropagationStopped())break e;w=$,b.currentTarget=Q;try{w(b)}catch(le){ld(le)}b.currentTarget=null,w=U}else for(T=0;T<p.length;T++){if($=p[T],U=$.instance,Q=$.currentTarget,$=$.listener,U!==w&&b.isPropagationStopped())break e;w=$,b.currentTarget=Q;try{w(b)}catch(le){ld(le)}b.currentTarget=null,w=U}}}}function Ve(i,o){var c=o[vm];c===void 0&&(c=o[vm]=new Set);var p=i+"__bubble";c.has(p)||(kk(o,i,2,!1),c.add(p))}function ig(i,o,c){var p=0;o&&(p|=4),kk(c,i,p,o)}var Gd="_reactListening"+Math.random().toString(36).slice(2);function sg(i){if(!i[Gd]){i[Gd]=!0,v1.forEach(function(c){c!=="selectionchange"&&(O$.has(c)||ig(c,!1,i),ig(c,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Gd]||(o[Gd]=!0,ig("selectionchange",!1,o))}}function kk(i,o,c,p){switch(Qk(o)){case 2:var b=r6;break;case 8:b=n6;break;default:b=wg}c=b.bind(null,o,c,i),b=void 0,!Em||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(b=!0),p?b!==void 0?i.addEventListener(o,c,{capture:!0,passive:b}):i.addEventListener(o,c,!0):b!==void 0?i.addEventListener(o,c,{passive:b}):i.addEventListener(o,c,!1)}function og(i,o,c,p,b){var w=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var T=p.tag;if(T===3||T===4){var $=p.stateNode.containerInfo;if($===b)break;if(T===4)for(T=p.return;T!==null;){var U=T.tag;if((U===3||U===4)&&T.stateNode.containerInfo===b)return;T=T.return}for(;$!==null;){if(T=oo($),T===null)return;if(U=T.tag,U===5||U===6||U===26||U===27){p=w=T;continue e}$=$.parentNode}}p=p.return}A1(function(){var Q=w,le=km(c),he=[];e:{var re=n_.get(i);if(re!==void 0){var ie=id,je=i;switch(i){case"keypress":if(nd(c)===0)break e;case"keydown":case"keyup":ie=w3;break;case"focusin":je="focus",ie=Tm;break;case"focusout":je="blur",ie=Tm;break;case"beforeblur":case"afterblur":ie=Tm;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=P1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=c3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=k3;break;case Q1:case e_:case t_:ie=f3;break;case r_:ie=E3;break;case"scroll":case"scrollend":ie=o3;break;case"wheel":ie=O3;break;case"copy":case"cut":case"paste":ie=m3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=R1;break;case"toggle":case"beforetoggle":ie=T3}var Re=(o&4)!==0,ot=!Re&&(i==="scroll"||i==="scrollend"),W=Re?re!==null?re+"Capture":null:re;Re=[];for(var V=Q,J;V!==null;){var de=V;if(J=de.stateNode,de=de.tag,de!==5&&de!==26&&de!==27||J===null||W===null||(de=zl(V,W),de!=null&&Re.push(yc(V,de,J))),ot)break;V=V.return}0<Re.length&&(re=new ie(re,je,null,c,le),he.push({event:re,listeners:Re}))}}if((o&7)===0){e:{if(re=i==="mouseover"||i==="pointerover",ie=i==="mouseout"||i==="pointerout",re&&c!==Sm&&(je=c.relatedTarget||c.fromElement)&&(oo(je)||je[so]))break e;if((ie||re)&&(re=le.window===le?le:(re=le.ownerDocument)?re.defaultView||re.parentWindow:window,ie?(je=c.relatedTarget||c.toElement,ie=Q,je=je?oo(je):null,je!==null&&(ot=s(je),Re=je.tag,je!==ot||Re!==5&&Re!==27&&Re!==6)&&(je=null)):(ie=null,je=Q),ie!==je)){if(Re=P1,de="onMouseLeave",W="onMouseEnter",V="mouse",(i==="pointerout"||i==="pointerover")&&(Re=R1,de="onPointerLeave",W="onPointerEnter",V="pointer"),ot=ie==null?re:Ll(ie),J=je==null?re:Ll(je),re=new Re(de,V+"leave",ie,c,le),re.target=ot,re.relatedTarget=J,de=null,oo(le)===Q&&(Re=new Re(W,V+"enter",je,c,le),Re.target=J,Re.relatedTarget=ot,de=Re),ot=de,ie&&je)t:{for(Re=A$,W=ie,V=je,J=0,de=W;de;de=Re(de))J++;de=0;for(var Ce=V;Ce;Ce=Re(Ce))de++;for(;0<J-de;)W=Re(W),J--;for(;0<de-J;)V=Re(V),de--;for(;J--;){if(W===V||V!==null&&W===V.alternate){Re=W;break t}W=Re(W),V=Re(V)}Re=null}else Re=null;ie!==null&&jk(he,re,ie,Re,!1),je!==null&&ot!==null&&jk(he,ot,je,Re,!0)}}e:{if(re=Q?Ll(Q):window,ie=re.nodeName&&re.nodeName.toLowerCase(),ie==="select"||ie==="input"&&re.type==="file")var We=q1;else if(U1(re))if(H1)We=U3;else{We=L3;var Ee=I3}else ie=re.nodeName,!ie||ie.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?Q&&_m(Q.elementType)&&(We=q1):We=z3;if(We&&(We=We(i,Q))){B1(he,We,c,le);break e}Ee&&Ee(i,re,Q),i==="focusout"&&Q&&re.type==="number"&&Q.memoizedProps.value!=null&&wm(re,"number",re.value)}switch(Ee=Q?Ll(Q):window,i){case"focusin":(U1(Ee)||Ee.contentEditable==="true")&&(vo=Ee,$m=Q,Zl=null);break;case"focusout":Zl=$m=vo=null;break;case"mousedown":Im=!0;break;case"contextmenu":case"mouseup":case"dragend":Im=!1,X1(he,c,le);break;case"selectionchange":if(q3)break;case"keydown":case"keyup":X1(he,c,le)}var Be;if(Pm)e:{switch(i){case"compositionstart":var Ze="onCompositionStart";break e;case"compositionend":Ze="onCompositionEnd";break e;case"compositionupdate":Ze="onCompositionUpdate";break e}Ze=void 0}else go?L1(i,c)&&(Ze="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(Ze="onCompositionStart");Ze&&(M1&&c.locale!=="ko"&&(go||Ze!=="onCompositionStart"?Ze==="onCompositionEnd"&&go&&(Be=T1()):(pi=le,Nm="value"in pi?pi.value:pi.textContent,go=!0)),Ee=Yd(Q,Ze),0<Ee.length&&(Ze=new D1(Ze,i,null,c,le),he.push({event:Ze,listeners:Ee}),Be?Ze.data=Be:(Be=z1(c),Be!==null&&(Ze.data=Be)))),(Be=P3?D3(i,c):R3(i,c))&&(Ze=Yd(Q,"onBeforeInput"),0<Ze.length&&(Ee=new D1("onBeforeInput","beforeinput",null,c,le),he.push({event:Ee,listeners:Ze}),Ee.data=Be)),j$(he,i,Q,c,le)}Sk(he,o)})}function yc(i,o,c){return{instance:i,listener:o,currentTarget:c}}function Yd(i,o){for(var c=o+"Capture",p=[];i!==null;){var b=i,w=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||w===null||(b=zl(i,c),b!=null&&p.unshift(yc(i,b,w)),b=zl(i,o),b!=null&&p.push(yc(i,b,w))),i.tag===3)return p;i=i.return}return[]}function A$(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function jk(i,o,c,p,b){for(var w=o._reactName,T=[];c!==null&&c!==p;){var $=c,U=$.alternate,Q=$.stateNode;if($=$.tag,U!==null&&U===p)break;$!==5&&$!==26&&$!==27||Q===null||(U=Q,b?(Q=zl(c,w),Q!=null&&T.unshift(yc(c,Q,U))):b||(Q=zl(c,w),Q!=null&&T.push(yc(c,Q,U)))),c=c.return}T.length!==0&&i.push({event:o,listeners:T})}var T$=/\r\n?/g,C$=/\u0000|\uFFFD/g;function Ek(i){return(typeof i=="string"?i:""+i).replace(T$,`
`).replace(C$,"")}function Nk(i,o){return o=Ek(o),Ek(i)===o}function st(i,o,c,p,b,w){switch(c){case"children":typeof p=="string"?o==="body"||o==="textarea"&&p===""||ho(i,p):(typeof p=="number"||typeof p=="bigint")&&o!=="body"&&ho(i,""+p);break;case"className":Qu(i,"class",p);break;case"tabIndex":Qu(i,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Qu(i,c,p);break;case"style":N1(i,p,w);break;case"data":if(o!=="object"){Qu(i,"data",p);break}case"src":case"href":if(p===""&&(o!=="a"||c!=="href")){i.removeAttribute(c);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(c);break}p=td(""+p),i.setAttribute(c,p);break;case"action":case"formAction":if(typeof p=="function"){i.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(c==="formAction"?(o!=="input"&&st(i,o,"name",b.name,b,null),st(i,o,"formEncType",b.formEncType,b,null),st(i,o,"formMethod",b.formMethod,b,null),st(i,o,"formTarget",b.formTarget,b,null)):(st(i,o,"encType",b.encType,b,null),st(i,o,"method",b.method,b,null),st(i,o,"target",b.target,b,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(c);break}p=td(""+p),i.setAttribute(c,p);break;case"onClick":p!=null&&(i.onclick=ja);break;case"onScroll":p!=null&&Ve("scroll",i);break;case"onScrollEnd":p!=null&&Ve("scrollend",i);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(c=p.__html,c!=null){if(b.children!=null)throw Error(n(60));i.innerHTML=c}}break;case"multiple":i.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":i.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){i.removeAttribute("xlink:href");break}c=td(""+p),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(c,""+p):i.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(c,""):i.removeAttribute(c);break;case"capture":case"download":p===!0?i.setAttribute(c,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(c,p):i.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?i.setAttribute(c,p):i.removeAttribute(c);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?i.removeAttribute(c):i.setAttribute(c,p);break;case"popover":Ve("beforetoggle",i),Ve("toggle",i),Ju(i,"popover",p);break;case"xlinkActuate":ka(i,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":ka(i,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":ka(i,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":ka(i,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":ka(i,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":ka(i,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":ka(i,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":ka(i,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":ka(i,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Ju(i,"is",p);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=i3.get(c)||c,Ju(i,c,p))}}function lg(i,o,c,p,b,w){switch(c){case"style":N1(i,p,w);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(c=p.__html,c!=null){if(b.children!=null)throw Error(n(60));i.innerHTML=c}}break;case"children":typeof p=="string"?ho(i,p):(typeof p=="number"||typeof p=="bigint")&&ho(i,""+p);break;case"onScroll":p!=null&&Ve("scroll",i);break;case"onScrollEnd":p!=null&&Ve("scrollend",i);break;case"onClick":p!=null&&(i.onclick=ja);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!y1.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(b=c.endsWith("Capture"),o=c.slice(2,b?c.length-7:void 0),w=i[zr]||null,w=w!=null?w[c]:null,typeof w=="function"&&i.removeEventListener(o,w,b),typeof p=="function")){typeof w!="function"&&w!==null&&(c in i?i[c]=null:i.hasAttribute(c)&&i.removeAttribute(c)),i.addEventListener(o,p,b);break e}c in i?i[c]=p:p===!0?i.setAttribute(c,""):Ju(i,c,p)}}}function ur(i,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",i),Ve("load",i);var p=!1,b=!1,w;for(w in c)if(c.hasOwnProperty(w)){var T=c[w];if(T!=null)switch(w){case"src":p=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:st(i,o,w,T,c,null)}}b&&st(i,o,"srcSet",c.srcSet,c,null),p&&st(i,o,"src",c.src,c,null);return;case"input":Ve("invalid",i);var $=w=T=b=null,U=null,Q=null;for(p in c)if(c.hasOwnProperty(p)){var le=c[p];if(le!=null)switch(p){case"name":b=le;break;case"type":T=le;break;case"checked":U=le;break;case"defaultChecked":Q=le;break;case"value":w=le;break;case"defaultValue":$=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(n(137,o));break;default:st(i,o,p,le,c,null)}}S1(i,w,$,U,Q,T,b,!1);return;case"select":Ve("invalid",i),p=T=w=null;for(b in c)if(c.hasOwnProperty(b)&&($=c[b],$!=null))switch(b){case"value":w=$;break;case"defaultValue":T=$;break;case"multiple":p=$;default:st(i,o,b,$,c,null)}o=w,c=T,i.multiple=!!p,o!=null?fo(i,!!p,o,!1):c!=null&&fo(i,!!p,c,!0);return;case"textarea":Ve("invalid",i),w=b=p=null;for(T in c)if(c.hasOwnProperty(T)&&($=c[T],$!=null))switch(T){case"value":p=$;break;case"defaultValue":b=$;break;case"children":w=$;break;case"dangerouslySetInnerHTML":if($!=null)throw Error(n(91));break;default:st(i,o,T,$,c,null)}j1(i,p,b,w);return;case"option":for(U in c)if(c.hasOwnProperty(U)&&(p=c[U],p!=null))switch(U){case"selected":i.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:st(i,o,U,p,c,null)}return;case"dialog":Ve("beforetoggle",i),Ve("toggle",i),Ve("cancel",i),Ve("close",i);break;case"iframe":case"object":Ve("load",i);break;case"video":case"audio":for(p=0;p<vc.length;p++)Ve(vc[p],i);break;case"image":Ve("error",i),Ve("load",i);break;case"details":Ve("toggle",i);break;case"embed":case"source":case"link":Ve("error",i),Ve("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in c)if(c.hasOwnProperty(Q)&&(p=c[Q],p!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:st(i,o,Q,p,c,null)}return;default:if(_m(o)){for(le in c)c.hasOwnProperty(le)&&(p=c[le],p!==void 0&&lg(i,o,le,p,c,void 0));return}}for($ in c)c.hasOwnProperty($)&&(p=c[$],p!=null&&st(i,o,$,p,c,null))}function P$(i,o,c,p){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,w=null,T=null,$=null,U=null,Q=null,le=null;for(ie in c){var he=c[ie];if(c.hasOwnProperty(ie)&&he!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":U=he;default:p.hasOwnProperty(ie)||st(i,o,ie,null,p,he)}}for(var re in p){var ie=p[re];if(he=c[re],p.hasOwnProperty(re)&&(ie!=null||he!=null))switch(re){case"type":w=ie;break;case"name":b=ie;break;case"checked":Q=ie;break;case"defaultChecked":le=ie;break;case"value":T=ie;break;case"defaultValue":$=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(n(137,o));break;default:ie!==he&&st(i,o,re,ie,p,he)}}xm(i,T,$,U,Q,le,w,b);return;case"select":ie=T=$=re=null;for(w in c)if(U=c[w],c.hasOwnProperty(w)&&U!=null)switch(w){case"value":break;case"multiple":ie=U;default:p.hasOwnProperty(w)||st(i,o,w,null,p,U)}for(b in p)if(w=p[b],U=c[b],p.hasOwnProperty(b)&&(w!=null||U!=null))switch(b){case"value":re=w;break;case"defaultValue":$=w;break;case"multiple":T=w;default:w!==U&&st(i,o,b,w,p,U)}o=$,c=T,p=ie,re!=null?fo(i,!!c,re,!1):!!p!=!!c&&(o!=null?fo(i,!!c,o,!0):fo(i,!!c,c?[]:"",!1));return;case"textarea":ie=re=null;for($ in c)if(b=c[$],c.hasOwnProperty($)&&b!=null&&!p.hasOwnProperty($))switch($){case"value":break;case"children":break;default:st(i,o,$,null,p,b)}for(T in p)if(b=p[T],w=c[T],p.hasOwnProperty(T)&&(b!=null||w!=null))switch(T){case"value":re=b;break;case"defaultValue":ie=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(n(91));break;default:b!==w&&st(i,o,T,b,p,w)}k1(i,re,ie);return;case"option":for(var je in c)if(re=c[je],c.hasOwnProperty(je)&&re!=null&&!p.hasOwnProperty(je))switch(je){case"selected":i.selected=!1;break;default:st(i,o,je,null,p,re)}for(U in p)if(re=p[U],ie=c[U],p.hasOwnProperty(U)&&re!==ie&&(re!=null||ie!=null))switch(U){case"selected":i.selected=re&&typeof re!="function"&&typeof re!="symbol";break;default:st(i,o,U,re,p,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in c)re=c[Re],c.hasOwnProperty(Re)&&re!=null&&!p.hasOwnProperty(Re)&&st(i,o,Re,null,p,re);for(Q in p)if(re=p[Q],ie=c[Q],p.hasOwnProperty(Q)&&re!==ie&&(re!=null||ie!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(n(137,o));break;default:st(i,o,Q,re,p,ie)}return;default:if(_m(o)){for(var ot in c)re=c[ot],c.hasOwnProperty(ot)&&re!==void 0&&!p.hasOwnProperty(ot)&&lg(i,o,ot,void 0,p,re);for(le in p)re=p[le],ie=c[le],!p.hasOwnProperty(le)||re===ie||re===void 0&&ie===void 0||lg(i,o,le,re,p,ie);return}}for(var W in c)re=c[W],c.hasOwnProperty(W)&&re!=null&&!p.hasOwnProperty(W)&&st(i,o,W,null,p,re);for(he in p)re=p[he],ie=c[he],!p.hasOwnProperty(he)||re===ie||re==null&&ie==null||st(i,o,he,re,p,ie)}function Ok(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function D$(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,c=performance.getEntriesByType("resource"),p=0;p<c.length;p++){var b=c[p],w=b.transferSize,T=b.initiatorType,$=b.duration;if(w&&$&&Ok(T)){for(T=0,$=b.responseEnd,p+=1;p<c.length;p++){var U=c[p],Q=U.startTime;if(Q>$)break;var le=U.transferSize,he=U.initiatorType;le&&Ok(he)&&(U=U.responseEnd,T+=le*(U<$?1:($-Q)/(U-Q)))}if(--p,o+=8*(w+T)/(b.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var cg=null,ug=null;function Wd(i){return i.nodeType===9?i:i.ownerDocument}function Ak(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Tk(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function dg(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var fg=null;function R$(){var i=window.event;return i&&i.type==="popstate"?i===fg?!1:(fg=i,!0):(fg=null,!1)}var Ck=typeof setTimeout=="function"?setTimeout:void 0,M$=typeof clearTimeout=="function"?clearTimeout:void 0,Pk=typeof Promise=="function"?Promise:void 0,$$=typeof queueMicrotask=="function"?queueMicrotask:typeof Pk<"u"?function(i){return Pk.resolve(null).then(i).catch(I$)}:Ck;function I$(i){setTimeout(function(){throw i})}function Pi(i){return i==="head"}function Dk(i,o){var c=o,p=0;do{var b=c.nextSibling;if(i.removeChild(c),b&&b.nodeType===8)if(c=b.data,c==="/$"||c==="/&"){if(p===0){i.removeChild(b),Fo(o);return}p--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")p++;else if(c==="html")bc(i.ownerDocument.documentElement);else if(c==="head"){c=i.ownerDocument.head,bc(c);for(var w=c.firstChild;w;){var T=w.nextSibling,$=w.nodeName;w[Il]||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&w.rel.toLowerCase()==="stylesheet"||c.removeChild(w),w=T}}else c==="body"&&bc(i.ownerDocument.body);c=b}while(c);Fo(o)}function Rk(i,o){var c=i;i=0;do{var p=c.nextSibling;if(c.nodeType===1?o?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(o?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),p&&p.nodeType===8)if(c=p.data,c==="/$"){if(i===0)break;i--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||i++;c=p}while(c)}function hg(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":hg(c),ym(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}i.removeChild(c)}}function L$(i,o,c,p){for(;i.nodeType===1;){var b=c;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!p&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(p){if(!i[Il])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(w=i.getAttribute("rel"),w==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(w!==b.rel||i.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||i.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||i.getAttribute("title")!==(b.title==null?null:b.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(w=i.getAttribute("src"),(w!==(b.src==null?null:b.src)||i.getAttribute("type")!==(b.type==null?null:b.type)||i.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&w&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var w=b.name==null?null:""+b.name;if(b.type==="hidden"&&i.getAttribute("name")===w)return i}else return i;if(i=An(i.nextSibling),i===null)break}return null}function z$(i,o,c){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!c||(i=An(i.nextSibling),i===null))return null;return i}function Mk(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=An(i.nextSibling),i===null))return null;return i}function mg(i){return i.data==="$?"||i.data==="$~"}function pg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function U$(i,o){var c=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||c.readyState!=="loading")o();else{var p=function(){o(),c.removeEventListener("DOMContentLoaded",p)};c.addEventListener("DOMContentLoaded",p),i._reactRetry=p}}function An(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var gg=null;function $k(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"||c==="/&"){if(o===0)return An(i.nextSibling);o--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||o++}i=i.nextSibling}return null}function Ik(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(o===0)return i;o--}else c!=="/$"&&c!=="/&"||o++}i=i.previousSibling}return null}function Lk(i,o,c){switch(o=Wd(c),i){case"html":if(i=o.documentElement,!i)throw Error(n(452));return i;case"head":if(i=o.head,!i)throw Error(n(453));return i;case"body":if(i=o.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function bc(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);ym(i)}var Tn=new Map,zk=new Set;function Xd(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ba=H.d;H.d={f:B$,r:q$,D:H$,C:F$,L:V$,m:K$,X:G$,S:Z$,M:Y$};function B$(){var i=Ba.f(),o=qd();return i||o}function q$(i){var o=lo(i);o!==null&&o.tag===5&&o.type==="form"?rS(o):Ba.r(i)}var Bo=typeof document>"u"?null:document;function Uk(i,o,c){var p=Bo;if(p&&typeof o=="string"&&o){var b=_n(o);b='link[rel="'+i+'"][href="'+b+'"]',typeof c=="string"&&(b+='[crossorigin="'+c+'"]'),zk.has(b)||(zk.add(b),i={rel:i,crossOrigin:c,href:o},p.querySelector(b)===null&&(o=p.createElement("link"),ur(o,"link",i),er(o),p.head.appendChild(o)))}}function H$(i){Ba.D(i),Uk("dns-prefetch",i,null)}function F$(i,o){Ba.C(i,o),Uk("preconnect",i,o)}function V$(i,o,c){Ba.L(i,o,c);var p=Bo;if(p&&i&&o){var b='link[rel="preload"][as="'+_n(o)+'"]';o==="image"&&c&&c.imageSrcSet?(b+='[imagesrcset="'+_n(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(b+='[imagesizes="'+_n(c.imageSizes)+'"]')):b+='[href="'+_n(i)+'"]';var w=b;switch(o){case"style":w=qo(i);break;case"script":w=Ho(i)}Tn.has(w)||(i=g({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:i,as:o},c),Tn.set(w,i),p.querySelector(b)!==null||o==="style"&&p.querySelector(xc(w))||o==="script"&&p.querySelector(wc(w))||(o=p.createElement("link"),ur(o,"link",i),er(o),p.head.appendChild(o)))}}function K$(i,o){Ba.m(i,o);var c=Bo;if(c&&i){var p=o&&typeof o.as=="string"?o.as:"script",b='link[rel="modulepreload"][as="'+_n(p)+'"][href="'+_n(i)+'"]',w=b;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Ho(i)}if(!Tn.has(w)&&(i=g({rel:"modulepreload",href:i},o),Tn.set(w,i),c.querySelector(b)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(wc(w)))return}p=c.createElement("link"),ur(p,"link",i),er(p),c.head.appendChild(p)}}}function Z$(i,o,c){Ba.S(i,o,c);var p=Bo;if(p&&i){var b=co(p).hoistableStyles,w=qo(i);o=o||"default";var T=b.get(w);if(!T){var $={loading:0,preload:null};if(T=p.querySelector(xc(w)))$.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":o},c),(c=Tn.get(w))&&vg(i,c);var U=T=p.createElement("link");er(U),ur(U,"link",i),U._p=new Promise(function(Q,le){U.onload=Q,U.onerror=le}),U.addEventListener("load",function(){$.loading|=1}),U.addEventListener("error",function(){$.loading|=2}),$.loading|=4,Jd(T,o,p)}T={type:"stylesheet",instance:T,count:1,state:$},b.set(w,T)}}}function G$(i,o){Ba.X(i,o);var c=Bo;if(c&&i){var p=co(c).hoistableScripts,b=Ho(i),w=p.get(b);w||(w=c.querySelector(wc(b)),w||(i=g({src:i,async:!0},o),(o=Tn.get(b))&&yg(i,o),w=c.createElement("script"),er(w),ur(w,"link",i),c.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},p.set(b,w))}}function Y$(i,o){Ba.M(i,o);var c=Bo;if(c&&i){var p=co(c).hoistableScripts,b=Ho(i),w=p.get(b);w||(w=c.querySelector(wc(b)),w||(i=g({src:i,async:!0,type:"module"},o),(o=Tn.get(b))&&yg(i,o),w=c.createElement("script"),er(w),ur(w,"link",i),c.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},p.set(b,w))}}function Bk(i,o,c,p){var b=(b=ce.current)?Xd(b):null;if(!b)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=qo(c.href),c=co(b).hoistableStyles,p=c.get(o),p||(p={type:"style",instance:null,count:0,state:null},c.set(o,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){i=qo(c.href);var w=co(b).hoistableStyles,T=w.get(i);if(T||(b=b.ownerDocument||b,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(i,T),(w=b.querySelector(xc(i)))&&!w._p&&(T.instance=w,T.state.loading=5),Tn.has(i)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Tn.set(i,c),w||W$(b,i,c,T.state))),o&&p===null)throw Error(n(528,""));return T}if(o&&p!==null)throw Error(n(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Ho(c),c=co(b).hoistableScripts,p=c.get(o),p||(p={type:"script",instance:null,count:0,state:null},c.set(o,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function qo(i){return'href="'+_n(i)+'"'}function xc(i){return'link[rel="stylesheet"]['+i+"]"}function qk(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function W$(i,o,c,p){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?p.loading=1:(o=i.createElement("link"),p.preload=o,o.addEventListener("load",function(){return p.loading|=1}),o.addEventListener("error",function(){return p.loading|=2}),ur(o,"link",c),er(o),i.head.appendChild(o))}function Ho(i){return'[src="'+_n(i)+'"]'}function wc(i){return"script[async]"+i}function Hk(i,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var p=i.querySelector('style[data-href~="'+_n(c.href)+'"]');if(p)return o.instance=p,er(p),p;var b=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return p=(i.ownerDocument||i).createElement("style"),er(p),ur(p,"style",b),Jd(p,c.precedence,i),o.instance=p;case"stylesheet":b=qo(c.href);var w=i.querySelector(xc(b));if(w)return o.state.loading|=4,o.instance=w,er(w),w;p=qk(c),(b=Tn.get(b))&&vg(p,b),w=(i.ownerDocument||i).createElement("link"),er(w);var T=w;return T._p=new Promise(function($,U){T.onload=$,T.onerror=U}),ur(w,"link",p),o.state.loading|=4,Jd(w,c.precedence,i),o.instance=w;case"script":return w=Ho(c.src),(b=i.querySelector(wc(w)))?(o.instance=b,er(b),b):(p=c,(b=Tn.get(w))&&(p=g({},c),yg(p,b)),i=i.ownerDocument||i,b=i.createElement("script"),er(b),ur(b,"link",p),i.head.appendChild(b),o.instance=b);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(p=o.instance,o.state.loading|=4,Jd(p,c.precedence,i));return o.instance}function Jd(i,o,c){for(var p=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=p.length?p[p.length-1]:null,w=b,T=0;T<p.length;T++){var $=p[T];if($.dataset.precedence===o)w=$;else if(w!==b)break}w?w.parentNode.insertBefore(i,w.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(i,o.firstChild))}function vg(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function yg(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var Qd=null;function Fk(i,o,c){if(Qd===null){var p=new Map,b=Qd=new Map;b.set(c,p)}else b=Qd,p=b.get(c),p||(p=new Map,b.set(c,p));if(p.has(i))return p;for(p.set(i,null),c=c.getElementsByTagName(i),b=0;b<c.length;b++){var w=c[b];if(!(w[Il]||w[sr]||i==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var T=w.getAttribute(o)||"";T=i+T;var $=p.get(T);$?$.push(w):p.set(T,[w])}}return p}function Vk(i,o,c){i=i.ownerDocument||i,i.head.insertBefore(c,o==="title"?i.querySelector("head > title"):null)}function X$(i,o,c){if(c===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function Kk(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function J$(i,o,c,p){if(c.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var b=qo(p.href),w=o.querySelector(xc(b));if(w){o=w._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=ef.bind(i),o.then(i,i)),c.state.loading|=4,c.instance=w,er(w);return}w=o.ownerDocument||o,p=qk(p),(b=Tn.get(b))&&vg(p,b),w=w.createElement("link"),er(w);var T=w;T._p=new Promise(function($,U){T.onload=$,T.onerror=U}),ur(w,"link",p),c.instance=w}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(i.count++,c=ef.bind(i),o.addEventListener("load",c),o.addEventListener("error",c))}}var bg=0;function Q$(i,o){return i.stylesheets&&i.count===0&&rf(i,i.stylesheets),0<i.count||0<i.imgCount?function(c){var p=setTimeout(function(){if(i.stylesheets&&rf(i,i.stylesheets),i.unsuspend){var w=i.unsuspend;i.unsuspend=null,w()}},6e4+o);0<i.imgBytes&&bg===0&&(bg=62500*D$());var b=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&rf(i,i.stylesheets),i.unsuspend)){var w=i.unsuspend;i.unsuspend=null,w()}},(i.imgBytes>bg?50:800)+o);return i.unsuspend=c,function(){i.unsuspend=null,clearTimeout(p),clearTimeout(b)}}:null}function ef(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)rf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var tf=null;function rf(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,tf=new Map,o.forEach(e6,i),tf=null,ef.call(i))}function e6(i,o){if(!(o.state.loading&4)){var c=tf.get(i);if(c)var p=c.get(null);else{c=new Map,tf.set(i,c);for(var b=i.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<b.length;w++){var T=b[w];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(c.set(T.dataset.precedence,T),p=T)}p&&c.set(null,p)}b=o.instance,T=b.getAttribute("data-precedence"),w=c.get(T)||p,w===p&&c.set(null,b),c.set(T,b),this.count++,p=ef.bind(this),b.addEventListener("load",p),b.addEventListener("error",p),w?w.parentNode.insertBefore(b,w.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(b,i.firstChild)),o.state.loading|=4}}var _c={$$typeof:E,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function t6(i,o,c,p,b,w,T,$,U){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mm(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mm(0),this.hiddenUpdates=mm(null),this.identifierPrefix=p,this.onUncaughtError=b,this.onCaughtError=w,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function Zk(i,o,c,p,b,w,T,$,U,Q,le,he){return i=new t6(i,o,c,T,U,Q,le,he,$),o=1,w===!0&&(o|=24),w=nn(3,null,null,o),i.current=w,w.stateNode=i,o=Jm(),o.refCount++,i.pooledCache=o,o.refCount++,w.memoizedState={element:p,isDehydrated:c,cache:o},rp(w),i}function Gk(i){return i?(i=xo,i):xo}function Yk(i,o,c,p,b,w){b=Gk(b),p.context===null?p.context=b:p.pendingContext=b,p=wi(o),p.payload={element:c},w=w===void 0?null:w,w!==null&&(p.callback=w),c=_i(i,p,o),c!==null&&(Vr(c,i,o),ec(c,i,o))}function Wk(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<o?c:o}}function xg(i,o){Wk(i,o),(i=i.alternate)&&Wk(i,o)}function Xk(i){if(i.tag===13||i.tag===31){var o=cs(i,67108864);o!==null&&Vr(o,i,67108864),xg(i,67108864)}}function Jk(i){if(i.tag===13||i.tag===31){var o=cn();o=pm(o);var c=cs(i,o);c!==null&&Vr(c,i,o),xg(i,o)}}var nf=!0;function r6(i,o,c,p){var b=B.T;B.T=null;var w=H.p;try{H.p=2,wg(i,o,c,p)}finally{H.p=w,B.T=b}}function n6(i,o,c,p){var b=B.T;B.T=null;var w=H.p;try{H.p=8,wg(i,o,c,p)}finally{H.p=w,B.T=b}}function wg(i,o,c,p){if(nf){var b=_g(p);if(b===null)og(i,o,p,af,c),e2(i,p);else if(i6(b,i,o,c,p))p.stopPropagation();else if(e2(i,p),o&4&&-1<a6.indexOf(i)){for(;b!==null;){var w=lo(b);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var T=as(w.pendingLanes);if(T!==0){var $=w;for($.pendingLanes|=2,$.entangledLanes|=2;T;){var U=1<<31-xr(T);$.entanglements[1]|=U,T&=~U}la(w),(et&6)===0&&(Ud=$e()+500,gc(0))}}break;case 31:case 13:$=cs(w,2),$!==null&&Vr($,w,2),qd(),xg(w,2)}if(w=_g(p),w===null&&og(i,o,p,af,c),w===b)break;b=w}b!==null&&p.stopPropagation()}else og(i,o,p,null,c)}}function _g(i){return i=km(i),Sg(i)}var af=null;function Sg(i){if(af=null,i=oo(i),i!==null){var o=s(i);if(o===null)i=null;else{var c=o.tag;if(c===13){if(i=l(o),i!==null)return i;i=null}else if(c===31){if(i=u(o),i!==null)return i;i=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return af=i,null}function Qk(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qe()){case Ie:return 2;case He:return 8;case tt:case Bn:return 32;case aa:return 268435456;default:return 32}default:return 32}}var kg=!1,Di=null,Ri=null,Mi=null,Sc=new Map,kc=new Map,$i=[],a6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function e2(i,o){switch(i){case"focusin":case"focusout":Di=null;break;case"dragenter":case"dragleave":Ri=null;break;case"mouseover":case"mouseout":Mi=null;break;case"pointerover":case"pointerout":Sc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":kc.delete(o.pointerId)}}function jc(i,o,c,p,b,w){return i===null||i.nativeEvent!==w?(i={blockedOn:o,domEventName:c,eventSystemFlags:p,nativeEvent:w,targetContainers:[b]},o!==null&&(o=lo(o),o!==null&&Xk(o)),i):(i.eventSystemFlags|=p,o=i.targetContainers,b!==null&&o.indexOf(b)===-1&&o.push(b),i)}function i6(i,o,c,p,b){switch(o){case"focusin":return Di=jc(Di,i,o,c,p,b),!0;case"dragenter":return Ri=jc(Ri,i,o,c,p,b),!0;case"mouseover":return Mi=jc(Mi,i,o,c,p,b),!0;case"pointerover":var w=b.pointerId;return Sc.set(w,jc(Sc.get(w)||null,i,o,c,p,b)),!0;case"gotpointercapture":return w=b.pointerId,kc.set(w,jc(kc.get(w)||null,i,o,c,p,b)),!0}return!1}function t2(i){var o=oo(i.target);if(o!==null){var c=s(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){i.blockedOn=o,p1(i.priority,function(){Jk(c)});return}}else if(o===31){if(o=u(c),o!==null){i.blockedOn=o,p1(i.priority,function(){Jk(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function sf(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var c=_g(i.nativeEvent);if(c===null){c=i.nativeEvent;var p=new c.constructor(c.type,c);Sm=p,c.target.dispatchEvent(p),Sm=null}else return o=lo(c),o!==null&&Xk(o),i.blockedOn=c,!1;o.shift()}return!0}function r2(i,o,c){sf(i)&&c.delete(o)}function s6(){kg=!1,Di!==null&&sf(Di)&&(Di=null),Ri!==null&&sf(Ri)&&(Ri=null),Mi!==null&&sf(Mi)&&(Mi=null),Sc.forEach(r2),kc.forEach(r2)}function of(i,o){i.blockedOn===o&&(i.blockedOn=null,kg||(kg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,s6)))}var lf=null;function n2(i){lf!==i&&(lf=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){lf===i&&(lf=null);for(var o=0;o<i.length;o+=3){var c=i[o],p=i[o+1],b=i[o+2];if(typeof p!="function"){if(Sg(p||c)===null)continue;break}var w=lo(c);w!==null&&(i.splice(o,3),o-=3,_p(w,{pending:!0,data:b,method:c.method,action:p},p,b))}}))}function Fo(i){function o(U){return of(U,i)}Di!==null&&of(Di,i),Ri!==null&&of(Ri,i),Mi!==null&&of(Mi,i),Sc.forEach(o),kc.forEach(o);for(var c=0;c<$i.length;c++){var p=$i[c];p.blockedOn===i&&(p.blockedOn=null)}for(;0<$i.length&&(c=$i[0],c.blockedOn===null);)t2(c),c.blockedOn===null&&$i.shift();if(c=(i.ownerDocument||i).$$reactFormReplay,c!=null)for(p=0;p<c.length;p+=3){var b=c[p],w=c[p+1],T=b[zr]||null;if(typeof w=="function")T||n2(c);else if(T){var $=null;if(w&&w.hasAttribute("formAction")){if(b=w,T=w[zr]||null)$=T.formAction;else if(Sg(b)!==null)continue}else $=T.action;typeof $=="function"?c[p+1]=$:(c.splice(p,3),p-=3),n2(c)}}}function a2(){function i(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(T){return b=T})},focusReset:"manual",scroll:"manual"})}function o(){b!==null&&(b(),b=null),p||setTimeout(c,20)}function c(){if(!p&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,b=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(c,100),function(){p=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),b!==null&&(b(),b=null)}}}function jg(i){this._internalRoot=i}cf.prototype.render=jg.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));var c=o.current,p=cn();Yk(c,p,i,o,null,null)},cf.prototype.unmount=jg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Yk(i.current,2,null,i,null,null),qd(),o[so]=null}};function cf(i){this._internalRoot=i}cf.prototype.unstable_scheduleHydration=function(i){if(i){var o=m1();i={blockedOn:null,target:i,priority:o};for(var c=0;c<$i.length&&o!==0&&o<$i[c].priority;c++);$i.splice(c,0,i),c===0&&t2(i)}};var i2=t.version;if(i2!=="19.2.1")throw Error(n(527,i2,"19.2.1"));H.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=f(o),i=i!==null?m(i):null,i=i===null?null:i.stateNode,i};var o6={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uf.isDisabled&&uf.supportsFiber)try{Ar=uf.inject(o6),Nt=uf}catch{}}return Nc.createRoot=function(i,o){if(!a(i))throw Error(n(299));var c=!1,p="",b=fS,w=hS,T=mS;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(b=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(T=o.onRecoverableError)),o=Zk(i,1,!1,null,null,c,p,null,b,w,T,a2),i[so]=o.current,sg(i),new jg(o)},Nc.hydrateRoot=function(i,o,c){if(!a(i))throw Error(n(299));var p=!1,b="",w=fS,T=hS,$=mS,U=null;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(b=c.identifierPrefix),c.onUncaughtError!==void 0&&(w=c.onUncaughtError),c.onCaughtError!==void 0&&(T=c.onCaughtError),c.onRecoverableError!==void 0&&($=c.onRecoverableError),c.formState!==void 0&&(U=c.formState)),o=Zk(i,1,!0,o,c??null,p,b,U,w,T,$,a2),o.context=Gk(null),c=o.current,p=cn(),p=pm(p),b=wi(p),b.callback=null,_i(c,b,p),c=p,o.current.lanes=c,$l(o,c),la(o),i[so]=o.current,sg(i),new cf(o)},Nc.version="19.2.1",Nc}var p2;function g6(){if(p2)return Og.exports;p2=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Og.exports=p6(),Og.exports}var v6=g6();function y6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const nx=x.forwardRef(y6);function b6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const B5=x.forwardRef(b6);function x6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m12.75 15 3-3m0 0-3-3m3 3h-7.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const w6=x.forwardRef(x6);function _6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const S6=x.forwardRef(_6);function k6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))}const j6=x.forwardRef(k6);function E6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"}))}const N6=x.forwardRef(E6);function O6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"}))}const q5=x.forwardRef(O6);function A6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const T6=x.forwardRef(A6);function C6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const fa=x.forwardRef(C6);function P6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const ax=x.forwardRef(P6);function D6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const ix=x.forwardRef(D6);function R6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"}))}const sx=x.forwardRef(R6);function M6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"}))}const g2=x.forwardRef(M6);function $6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"}))}const jy=x.forwardRef($6);function I6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const u0=x.forwardRef(I6);function L6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9.75v6.75m0 0-3-3m3 3 3-3m-8.25 6a4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H6.75Z"}))}const z6=x.forwardRef(L6);function U6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15a4.5 4.5 0 0 0 4.5 4.5H18a3.75 3.75 0 0 0 1.332-7.257 3 3 0 0 0-3.758-3.848 5.25 5.25 0 0 0-10.233 2.33A4.502 4.502 0 0 0 2.25 15Z"}))}const B6=x.forwardRef(U6);function q6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const H6=x.forwardRef(q6);function F6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 7.5-9-5.25L3 7.5m18 0-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9"}))}const ah=x.forwardRef(F6);function V6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const K6=x.forwardRef(V6);function Z6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const H5=x.forwardRef(Z6);function G6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const F5=x.forwardRef(G6);function Y6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const V5=x.forwardRef(Y6);function W6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const Pg=x.forwardRef(W6);function X6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const J6=x.forwardRef(X6);function Q6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"}))}const eI=x.forwardRef(Q6);function tI({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const Qc=x.forwardRef(tI);function rI({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const nI=x.forwardRef(rI);function aI({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const d0=x.forwardRef(aI);function iI({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0 1 10.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0 .229 2.523a1.125 1.125 0 0 1-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0 0 21 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 0 0-1.913-.247M6.34 18H5.25A2.25 2.25 0 0 1 3 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 0 1 1.913-.247m10.5 0a48.536 48.536 0 0 0-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5Zm-3 0h.008v.008H15V10.5Z"}))}const sI=x.forwardRef(iI);function oI({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 3.75 9.375v-4.5ZM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 0 1-1.125-1.125v-4.5ZM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 13.5 9.375v-4.5Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 6.75h.75v.75h-.75v-.75ZM6.75 16.5h.75v.75h-.75v-.75ZM16.5 6.75h.75v.75h-.75v-.75ZM13.5 13.5h.75v.75h-.75v-.75ZM13.5 19.5h.75v.75h-.75v-.75ZM19.5 13.5h.75v.75h-.75v-.75ZM19.5 19.5h.75v.75h-.75v-.75ZM16.5 16.5h.75v.75h-.75v-.75Z"}))}const lI=x.forwardRef(oI);function cI({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const K5=x.forwardRef(cI);function uI({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"}))}const Z5=x.forwardRef(uI);function dI({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 0 1-1.125-1.125M3.375 19.5h7.5c.621 0 1.125-.504 1.125-1.125m-9.75 0V5.625m0 12.75v-1.5c0-.621.504-1.125 1.125-1.125m18.375 2.625V5.625m0 12.75c0 .621-.504 1.125-1.125 1.125m1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125m0 3.75h-7.5A1.125 1.125 0 0 1 12 18.375m9.75-12.75c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125m19.5 0v1.5c0 .621-.504 1.125-1.125 1.125M2.25 5.625v1.5c0 .621.504 1.125 1.125 1.125m0 0h17.25m-17.25 0h7.5c.621 0 1.125.504 1.125 1.125M3.375 8.25c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125m17.25-3.75h-7.5c-.621 0-1.125.504-1.125 1.125m8.625-1.125c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125M12 10.875v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 10.875c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125M13.125 12h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125M20.625 12c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5M12 14.625v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 14.625c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125m0 1.5v-1.5m0 0c0-.621.504-1.125 1.125-1.125m0 0h7.5"}))}const G5=x.forwardRef(dI);function fI({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const ga=x.forwardRef(fI);function hI({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 0 1-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 0 0-3.213-9.193 2.056 2.056 0 0 0-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 0 0-10.026 0 1.106 1.106 0 0 0-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"}))}const gn=x.forwardRef(hI);function mI({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const pI=x.forwardRef(mI);function gI({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Xs=x.forwardRef(gI);const vI=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yI=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),v2=e=>{const t=yI(e);return t.charAt(0).toUpperCase()+t.slice(1)},Y5=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),bI=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var xI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const wI=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:l,...u},d)=>x.createElement("svg",{ref:d,...xI,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Y5("lucide",a),...!s&&!bI(u)&&{"aria-hidden":"true"},...u},[...l.map(([f,m])=>x.createElement(f,m)),...Array.isArray(s)?s:[s]]));const Ji=(e,t)=>{const r=x.forwardRef(({className:n,...a},s)=>x.createElement(wI,{ref:s,iconNode:t,className:Y5(`lucide-${vI(v2(e))}`,`lucide-${e}`,n),...a}));return r.displayName=v2(e),r};const _I=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],Ey=Ji("boxes",_I);const SI=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],W5=Ji("calendar-clock",SI);const kI=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],X5=Ji("crown",kI);const jI=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],EI=Ji("menu",jI);const NI=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Zc=Ji("package",NI);const OI=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],J5=Ji("truck",OI);const AI=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Q5=Ji("upload",AI);const TI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],CI=Ji("x",TI);var qa={},ff={},Ny=function(e,t){return Ny=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},Ny(e,t)};function eA(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ny(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var ih=function(){return ih=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},ih.apply(this,arguments)};function _l(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function tA(e,t,r,n){var a=arguments.length,s=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var u=e.length-1;u>=0;u--)(l=e[u])&&(s=(a<3?l(s):a>3?l(t,r,s):l(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s}function rA(e,t){return function(r,n){t(r,n,e)}}function nA(e,t,r,n,a,s){function l(j){if(j!==void 0&&typeof j!="function")throw new TypeError("Function expected");return j}for(var u=n.kind,d=u==="getter"?"get":u==="setter"?"set":"value",f=!t&&e?n.static?e:e.prototype:null,m=t||(f?Object.getOwnPropertyDescriptor(f,n.name):{}),g,v=!1,y=r.length-1;y>=0;y--){var S={};for(var k in n)S[k]=k==="access"?{}:n[k];for(var k in n.access)S.access[k]=n.access[k];S.addInitializer=function(j){if(v)throw new TypeError("Cannot add initializers after decoration has completed");s.push(l(j||null))};var _=(0,r[y])(u==="accessor"?{get:m.get,set:m.set}:m[d],S);if(u==="accessor"){if(_===void 0)continue;if(_===null||typeof _!="object")throw new TypeError("Object expected");(g=l(_.get))&&(m.get=g),(g=l(_.set))&&(m.set=g),(g=l(_.init))&&a.unshift(g)}else(g=l(_))&&(u==="field"?a.unshift(g):m[d]=g)}f&&Object.defineProperty(f,n.name,m),v=!0}function aA(e,t,r){for(var n=arguments.length>2,a=0;a<t.length;a++)r=n?t[a].call(e,r):t[a].call(e);return n?r:void 0}function iA(e){return typeof e=="symbol"?e:"".concat(e)}function sA(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function oA(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Se(e,t,r,n){function a(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function u(m){try{f(n.next(m))}catch(g){l(g)}}function d(m){try{f(n.throw(m))}catch(g){l(g)}}function f(m){m.done?s(m.value):a(m.value).then(u,d)}f((n=n.apply(e,t||[])).next())})}function lA(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,a,s,l=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return l.next=u(0),l.throw=u(1),l.return=u(2),typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(f){return function(m){return d([f,m])}}function d(f){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,f[0]&&(r=0)),r;)try{if(n=1,a&&(s=f[0]&2?a.return:f[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,f[1])).done)return s;switch(a=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,a=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){r.label=f[1];break}if(f[0]===6&&r.label<s[1]){r.label=s[1],s=f;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(f);break}s[2]&&r.ops.pop(),r.trys.pop();continue}f=t.call(e,r)}catch(m){f=[6,m],a=0}finally{n=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var f0=Object.create?(function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]});function cA(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&f0(t,e,r)}function sh(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ox(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,s=[],l;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(u){l={error:u}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(l)throw l.error}}return s}function uA(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ox(arguments[t]));return e}function dA(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var s=arguments[t],l=0,u=s.length;l<u;l++,a++)n[a]=s[l];return n}function fA(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function dl(e){return this instanceof dl?(this.v=e,this):new dl(e)}function hA(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,s=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),a[Symbol.asyncIterator]=function(){return this},a;function l(y){return function(S){return Promise.resolve(S).then(y,g)}}function u(y,S){n[y]&&(a[y]=function(k){return new Promise(function(_,j){s.push([y,k,_,j])>1||d(y,k)})},S&&(a[y]=S(a[y])))}function d(y,S){try{f(n[y](S))}catch(k){v(s[0][3],k)}}function f(y){y.value instanceof dl?Promise.resolve(y.value.v).then(m,g):v(s[0][2],y)}function m(y){d("next",y)}function g(y){d("throw",y)}function v(y,S){y(S),s.shift(),s.length&&d(s[0][0],s[0][1])}}function mA(e){var t,r;return t={},n("next"),n("throw",function(a){throw a}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(a,s){t[a]=e[a]?function(l){return(r=!r)?{value:dl(e[a](l)),done:!1}:s?s(l):l}:s}}function pA(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof sh=="function"?sh(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(l){return new Promise(function(u,d){l=e[s](l),a(u,d,l.done,l.value)})}}function a(s,l,u,d){Promise.resolve(d).then(function(f){s({value:f,done:u})},l)}}function gA(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var PI=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},Oy=function(e){return Oy=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Oy(e)};function vA(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Oy(e),n=0;n<r.length;n++)r[n]!=="default"&&f0(t,e,r[n]);return PI(t,e),t}function yA(e){return e&&e.__esModule?e:{default:e}}function bA(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function xA(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r}function wA(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function _A(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(a=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var DI=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function SA(e){function t(s){e.error=e.hasError?new DI(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var r,n=0;function a(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(a);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(a,function(l){return t(l),a()})}else n|=1}catch(l){t(l)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return a()}function kA(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,a,s,l){return n?t?".jsx":".js":a&&(!s||!l)?r:a+s+"."+l.toLowerCase()+"js"}):e}const RI={__extends:eA,__assign:ih,__rest:_l,__decorate:tA,__param:rA,__esDecorate:nA,__runInitializers:aA,__propKey:iA,__setFunctionName:sA,__metadata:oA,__awaiter:Se,__generator:lA,__createBinding:f0,__exportStar:cA,__values:sh,__read:ox,__spread:uA,__spreadArrays:dA,__spreadArray:fA,__await:dl,__asyncGenerator:hA,__asyncDelegator:mA,__asyncValues:pA,__makeTemplateObject:gA,__importStar:vA,__importDefault:yA,__classPrivateFieldGet:bA,__classPrivateFieldSet:xA,__classPrivateFieldIn:wA,__addDisposableResource:_A,__disposeResources:SA,__rewriteRelativeImportExtension:kA},MI=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:_A,get __assign(){return ih},__asyncDelegator:mA,__asyncGenerator:hA,__asyncValues:pA,__await:dl,__awaiter:Se,__classPrivateFieldGet:bA,__classPrivateFieldIn:wA,__classPrivateFieldSet:xA,__createBinding:f0,__decorate:tA,__disposeResources:SA,__esDecorate:nA,__exportStar:cA,__extends:eA,__generator:lA,__importDefault:yA,__importStar:vA,__makeTemplateObject:gA,__metadata:oA,__param:rA,__propKey:iA,__read:ox,__rest:_l,__rewriteRelativeImportExtension:kA,__runInitializers:aA,__setFunctionName:sA,__spread:uA,__spreadArray:fA,__spreadArrays:dA,__values:sh,default:RI},Symbol.toStringTag,{value:"Module"})),$I=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);let h0=class extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}},jA=class extends h0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},Ay=class extends h0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},Ty=class extends h0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var oh;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(oh||(oh={}));class II{constructor(t,{headers:r={},customFetch:n,region:a=oh.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=$I(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Se(this,arguments,void 0,function*(r,n={}){var a;let s,l;try{const{headers:u,method:d,body:f,signal:m,timeout:g}=n;let v={},{region:y}=n;y||(y=this.region);const S=new URL(`${this.url}/${r}`);y&&y!=="any"&&(v["x-region"]=y,S.searchParams.set("forceFunctionRegion",y));let k;f&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",k=f):typeof f=="string"?(v["Content-Type"]="text/plain",k=f):typeof FormData<"u"&&f instanceof FormData?k=f:(v["Content-Type"]="application/json",k=JSON.stringify(f)):k=f;let _=m;g&&(l=new AbortController,s=setTimeout(()=>l.abort(),g),m?(_=l.signal,m.addEventListener("abort",()=>l.abort())):_=l.signal);const j=yield this.fetch(S.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),u),body:k,signal:_}).catch(O=>{throw new jA(O)}),N=j.headers.get("x-relay-error");if(N&&N==="true")throw new Ay(j);if(!j.ok)throw new Ty(j);let E=((a=j.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),D;return E==="application/json"?D=yield j.json():E==="application/octet-stream"||E==="application/pdf"?D=yield j.blob():E==="text/event-stream"?D=j:E==="multipart/form-data"?D=yield j.formData():D=yield j.text(),{data:D,error:null,response:j}}catch(u){return{data:null,error:u,response:u instanceof Ty||u instanceof Ay?u.context:void 0}}finally{s&&clearTimeout(s)}})}}const LI=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return oh},FunctionsClient:II,FunctionsError:h0,FunctionsFetchError:jA,FunctionsHttpError:Ty,FunctionsRelayError:Ay},Symbol.toStringTag,{value:"Module"})),EA=_u(LI);var _r={};const Sl=_u(MI);var hf={},mf={},pf={},gf={},vf={},yf={},y2;function NA(){if(y2)return yf;y2=1,Object.defineProperty(yf,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return yf.default=e,yf}var b2;function OA(){if(b2)return vf;b2=1,Object.defineProperty(vf,"__esModule",{value:!0});const t=Sl.__importDefault(NA());let r=class{constructor(a){var s,l;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(s=a.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=a.signal,this.isMaybeSingle=(l=a.isMaybeSingle)!==null&&l!==void 0?l:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,s){return this.headers=new Headers(this.headers),this.headers.set(a,s),this}then(a,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let u=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var f,m,g,v;let y=null,S=null,k=null,_=d.status,j=d.statusText;if(d.ok){if(this.method!=="HEAD"){const O=await d.text();O===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?S=O:S=JSON.parse(O))}const E=(m=this.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),D=(g=d.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");E&&D&&D.length>1&&(k=parseInt(D[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(y={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,k=null,_=406,j="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const E=await d.text();try{y=JSON.parse(E),Array.isArray(y)&&d.status===404&&(S=[],y=null,_=200,j="OK")}catch{d.status===404&&E===""?(_=204,j="No Content"):y={message:E}}if(y&&this.isMaybeSingle&&(!((v=y?.details)===null||v===void 0)&&v.includes("0 rows"))&&(y=null,_=200,j="OK"),y&&this.shouldThrowOnError)throw new t.default(y)}return{error:y,data:S,count:k,status:_,statusText:j}});return this.shouldThrowOnError||(u=u.catch(d=>{var f,m,g,v,y,S;let k="";const _=d?.cause;if(_){const j=(f=_?.message)!==null&&f!==void 0?f:"",N=(m=_?.code)!==null&&m!==void 0?m:"";k=`${(g=d?.name)!==null&&g!==void 0?g:"FetchError"}: ${d?.message}`,k+=`

Caused by: ${(v=_?.name)!==null&&v!==void 0?v:"Error"}: ${j}`,N&&(k+=` (${N})`),_?.stack&&(k+=`
${_.stack}`)}else k=(y=d?.stack)!==null&&y!==void 0?y:"";return{error:{message:`${(S=d?.name)!==null&&S!==void 0?S:"FetchError"}: ${d?.message}`,details:k,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),u.then(a,s)}returns(){return this}overrideTypes(){return this}};return vf.default=r,vf}var x2;function AA(){if(x2)return gf;x2=1,Object.defineProperty(gf,"__esModule",{value:!0});const t=Sl.__importDefault(OA());let r=class extends t.default{select(a){let s=!1;const l=(a??"*").split("").map(u=>/\s/.test(u)&&!s?"":(u==='"'&&(s=!s),u)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:s=!0,nullsFirst:l,foreignTable:u,referencedTable:d=u}={}){const f=d?`${d}.order`:"order",m=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${m?`${m},`:""}${a}.${s?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:s,referencedTable:l=s}={}){const u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${a}`),this}range(a,s,{foreignTable:l,referencedTable:u=l}={}){const d=typeof u>"u"?"offset":`${u}.offset`,f=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${a}`),this.url.searchParams.set(f,`${s-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:s=!1,settings:l=!1,buffers:u=!1,wal:d=!1,format:f="text"}={}){var m;const g=[a?"analyze":null,s?"verbose":null,l?"settings":null,u?"buffers":null,d?"wal":null].filter(Boolean).join("|"),v=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${v}"; options=${g};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}};return gf.default=r,gf}var w2;function lx(){if(w2)return pf;w2=1,Object.defineProperty(pf,"__esModule",{value:!0});const t=Sl.__importDefault(AA()),r=new RegExp("[,()]");let n=class extends t.default{eq(s,l){return this.url.searchParams.append(s,`eq.${l}`),this}neq(s,l){return this.url.searchParams.append(s,`neq.${l}`),this}gt(s,l){return this.url.searchParams.append(s,`gt.${l}`),this}gte(s,l){return this.url.searchParams.append(s,`gte.${l}`),this}lt(s,l){return this.url.searchParams.append(s,`lt.${l}`),this}lte(s,l){return this.url.searchParams.append(s,`lte.${l}`),this}like(s,l){return this.url.searchParams.append(s,`like.${l}`),this}likeAllOf(s,l){return this.url.searchParams.append(s,`like(all).{${l.join(",")}}`),this}likeAnyOf(s,l){return this.url.searchParams.append(s,`like(any).{${l.join(",")}}`),this}ilike(s,l){return this.url.searchParams.append(s,`ilike.${l}`),this}ilikeAllOf(s,l){return this.url.searchParams.append(s,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(s,l){return this.url.searchParams.append(s,`ilike(any).{${l.join(",")}}`),this}regexMatch(s,l){return this.url.searchParams.append(s,`match.${l}`),this}regexIMatch(s,l){return this.url.searchParams.append(s,`imatch.${l}`),this}is(s,l){return this.url.searchParams.append(s,`is.${l}`),this}isDistinct(s,l){return this.url.searchParams.append(s,`isdistinct.${l}`),this}in(s,l){const u=Array.from(new Set(l)).map(d=>typeof d=="string"&&r.test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(s,`in.(${u})`),this}contains(s,l){return typeof l=="string"?this.url.searchParams.append(s,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(s,`cs.{${l.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(l)}`),this}containedBy(s,l){return typeof l=="string"?this.url.searchParams.append(s,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(s,`cd.{${l.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(l)}`),this}rangeGt(s,l){return this.url.searchParams.append(s,`sr.${l}`),this}rangeGte(s,l){return this.url.searchParams.append(s,`nxl.${l}`),this}rangeLt(s,l){return this.url.searchParams.append(s,`sl.${l}`),this}rangeLte(s,l){return this.url.searchParams.append(s,`nxr.${l}`),this}rangeAdjacent(s,l){return this.url.searchParams.append(s,`adj.${l}`),this}overlaps(s,l){return typeof l=="string"?this.url.searchParams.append(s,`ov.${l}`):this.url.searchParams.append(s,`ov.{${l.join(",")}}`),this}textSearch(s,l,{config:u,type:d}={}){let f="";d==="plain"?f="pl":d==="phrase"?f="ph":d==="websearch"&&(f="w");const m=u===void 0?"":`(${u})`;return this.url.searchParams.append(s,`${f}fts${m}.${l}`),this}match(s){return Object.entries(s).forEach(([l,u])=>{this.url.searchParams.append(l,`eq.${u}`)}),this}not(s,l,u){return this.url.searchParams.append(s,`not.${l}.${u}`),this}or(s,{foreignTable:l,referencedTable:u=l}={}){const d=u?`${u}.or`:"or";return this.url.searchParams.append(d,`(${s})`),this}filter(s,l,u){return this.url.searchParams.append(s,`${l}.${u}`),this}};return pf.default=n,pf}var _2;function TA(){if(_2)return mf;_2=1,Object.defineProperty(mf,"__esModule",{value:!0});const t=Sl.__importDefault(lx());let r=class{constructor(a,{headers:s={},schema:l,fetch:u}){this.url=a,this.headers=new Headers(s),this.schema=l,this.fetch=u}select(a,s){const{head:l=!1,count:u}=s??{},d=l?"HEAD":"GET";let f=!1;const m=(a??"*").split("").map(g=>/\s/.test(g)&&!f?"":(g==='"'&&(f=!f),g)).join("");return this.url.searchParams.set("select",m),u&&this.headers.append("Prefer",`count=${u}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:s,defaultToNull:l=!0}={}){var u;const d="POST";if(s&&this.headers.append("Prefer",`count=${s}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const f=a.reduce((m,g)=>m.concat(Object.keys(g)),[]);if(f.length>0){const m=[...new Set(f)].map(g=>`"${g}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(a,{onConflict:s,ignoreDuplicates:l=!1,count:u,defaultToNull:d=!0}={}){var f;const m="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),u&&this.headers.append("Prefer",`count=${u}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const g=a.reduce((v,y)=>v.concat(Object.keys(y)),[]);if(g.length>0){const v=[...new Set(g)].map(y=>`"${y}"`);this.url.searchParams.set("columns",v.join(","))}}return new t.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(a,{count:s}={}){var l;const u="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:a}={}){var s;const l="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};return mf.default=r,mf}var S2;function zI(){if(S2)return hf;S2=1,Object.defineProperty(hf,"__esModule",{value:!0});const e=Sl,t=e.__importDefault(TA()),r=e.__importDefault(lx());let n=class CA{constructor(s,{headers:l={},schema:u,fetch:d}={}){this.url=s,this.headers=new Headers(l),this.schemaName=u,this.fetch=d}from(s){if(!s||typeof s!="string"||s.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const l=new URL(`${this.url}/${s}`);return new t.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new CA(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,l={},{head:u=!1,get:d=!1,count:f}={}){var m;let g;const v=new URL(`${this.url}/rpc/${s}`);let y;u||d?(g=u?"HEAD":"GET",Object.entries(l).filter(([k,_])=>_!==void 0).map(([k,_])=>[k,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([k,_])=>{v.searchParams.append(k,_)})):(g="POST",y=l);const S=new Headers(this.headers);return f&&S.set("Prefer",`count=${f}`),new r.default({method:g,url:v,headers:S,schema:this.schemaName,body:y,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}};return hf.default=n,hf}var k2;function PA(){if(k2)return _r;k2=1,Object.defineProperty(_r,"__esModule",{value:!0}),_r.PostgrestError=_r.PostgrestBuilder=_r.PostgrestTransformBuilder=_r.PostgrestFilterBuilder=_r.PostgrestQueryBuilder=_r.PostgrestClient=void 0;const e=Sl,t=e.__importDefault(zI());_r.PostgrestClient=t.default;const r=e.__importDefault(TA());_r.PostgrestQueryBuilder=r.default;const n=e.__importDefault(lx());_r.PostgrestFilterBuilder=n.default;const a=e.__importDefault(AA());_r.PostgrestTransformBuilder=a.default;const s=e.__importDefault(OA());_r.PostgrestBuilder=s.default;const l=e.__importDefault(NA());return _r.PostgrestError=l.default,_r.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:s.default,PostgrestError:l.default},_r}class DA{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const UI="2.87.1",BI=`realtime-js/${UI}`,RA="1.0.0",qI="2.0.0",j2=RA,Cy=1e4,HI=1e3,FI=100;var Ts;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ts||(Ts={}));var Bt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Bt||(Bt={}));var Zn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Zn||(Zn={}));var Py;(function(e){e.websocket="websocket"})(Py||(Py={}));var Cs;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Cs||(Cs={}));class VI{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},l=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(t,r,n){var a,s;const l=t.topic,u=(a=t.ref)!==null&&a!==void 0?a:"",d=(s=t.join_ref)!==null&&s!==void 0?s:"",f=t.payload.event,m=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},g=Object.keys(m).length===0?"":JSON.stringify(m);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`metadata length ${g.length} exceeds maximum of 255`);const v=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+u.length+l.length+f.length+g.length,y=new ArrayBuffer(this.HEADER_LENGTH+v);let S=new DataView(y),k=0;S.setUint8(k++,this.KINDS.userBroadcastPush),S.setUint8(k++,d.length),S.setUint8(k++,u.length),S.setUint8(k++,l.length),S.setUint8(k++,f.length),S.setUint8(k++,g.length),S.setUint8(k++,r),Array.from(d,j=>S.setUint8(k++,j.charCodeAt(0))),Array.from(u,j=>S.setUint8(k++,j.charCodeAt(0))),Array.from(l,j=>S.setUint8(k++,j.charCodeAt(0))),Array.from(f,j=>S.setUint8(k++,j.charCodeAt(0))),Array.from(g,j=>S.setUint8(k++,j.charCodeAt(0)));var _=new Uint8Array(y.byteLength+n.byteLength);return _.set(new Uint8Array(y),0),_.set(new Uint8Array(n),y.byteLength),_.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,s,l,u,d]=n;return r({join_ref:a,ref:s,topic:l,event:u,payload:d})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),s=r.getUint8(2),l=r.getUint8(3),u=r.getUint8(4);let d=this.HEADER_LENGTH+4;const f=n.decode(t.slice(d,d+a));d=d+a;const m=n.decode(t.slice(d,d+s));d=d+s;const g=n.decode(t.slice(d,d+l));d=d+l;const v=t.slice(d,t.byteLength),y=u===this.JSON_ENCODING?JSON.parse(n.decode(v)):v,S={type:this.BROADCAST_EVENT,event:m,payload:y};return l>0&&(S.meta=JSON.parse(g)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class MA{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ut;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ut||(ut={}));const E2=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((s,l)=>(s[l]=KI(l,e,t,a),s),{}):{}},KI=(e,t,r,n)=>{const a=t.find(u=>u.name===e),s=a?.type,l=r[e];return s&&!n.includes(s)?$A(s,l):Dy(l)},$A=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return WI(t,r)}switch(e){case ut.bool:return ZI(t);case ut.float4:case ut.float8:case ut.int2:case ut.int4:case ut.int8:case ut.numeric:case ut.oid:return GI(t);case ut.json:case ut.jsonb:return YI(t);case ut.timestamp:return XI(t);case ut.abstime:case ut.date:case ut.daterange:case ut.int4range:case ut.int8range:case ut.money:case ut.reltime:case ut.text:case ut.time:case ut.timestamptz:case ut.timetz:case ut.tsrange:case ut.tstzrange:return Dy(t);default:return Dy(t)}},Dy=e=>e,ZI=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},GI=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},YI=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},WI=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const l=e.slice(1,r);try{s=JSON.parse("["+l+"]")}catch{s=l?l.split(","):[]}return s.map(u=>$A(t,u))}return e},XI=e=>typeof e=="string"?e.replace(" ","T"):e,IA=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Dg{constructor(t,r,n={},a=Cy){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ry;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Ry||(Ry={}));let LA=class Kf{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:s,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Kf.syncState(this.state,a,s,l),this.pendingDiffs.forEach(d=>{this.state=Kf.syncDiff(this.state,d,s,l)}),this.pendingDiffs=[],u()}),this.channel._on(n.diff,{},a=>{const{onJoin:s,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Kf.syncDiff(this.state,a,s,l),u())}),this.onJoin((a,s,l)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:s,newPresences:l})}),this.onLeave((a,s,l)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:s,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const s=this.cloneDeep(t),l=this.transformState(r),u={},d={};return this.map(s,(f,m)=>{l[f]||(d[f]=m)}),this.map(l,(f,m)=>{const g=s[f];if(g){const v=m.map(_=>_.presence_ref),y=g.map(_=>_.presence_ref),S=m.filter(_=>y.indexOf(_.presence_ref)<0),k=g.filter(_=>v.indexOf(_.presence_ref)<0);S.length>0&&(u[f]=S),k.length>0&&(d[f]=k)}else u[f]=m}),this.syncDiff(s,{joins:u,leaves:d},n,a)}static syncDiff(t,r,n,a){const{joins:s,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(s,(u,d)=>{var f;const m=(f=t[u])!==null&&f!==void 0?f:[];if(t[u]=this.cloneDeep(d),m.length>0){const g=t[u].map(y=>y.presence_ref),v=m.filter(y=>g.indexOf(y.presence_ref)<0);t[u].unshift(...v)}n(u,m,d)}),this.map(l,(u,d)=>{let f=t[u];if(!f)return;const m=d.map(g=>g.presence_ref);f=f.filter(g=>m.indexOf(g.presence_ref)<0),t[u]=f,a(u,f,d),f.length===0&&delete t[u]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var My;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(My||(My={}));var il;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(il||(il={}));var ua;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ua||(ua={}));const JI=Bt;let zA=class Lc{constructor(t,r={config:{}},n){var a,s;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Bt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Dg(this,Zn.join,this.params,this.timeout),this.rejoinTimer=new MA(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Bt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Bt.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Zn.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new LA(this),this.broadcastEndpointURL=IA(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Bt.closed){const{config:{broadcast:l,presence:u,private:d}}=this.params,f=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(y=>y.filter))!==null&&a!==void 0?a:[],m=!!this.bindings[il.PRESENCE]&&this.bindings[il.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,g={},v={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:m}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(y=>t?.(ua.CHANNEL_ERROR,y)),this._onClose(()=>t?.(ua.CLOSED)),this.updateJoinPayload(Object.assign({config:v},g)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:y})=>{var S;if(this.socket._isManualToken()||this.socket.setAuth(),y===void 0){t?.(ua.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,_=(S=k?.length)!==null&&S!==void 0?S:0,j=[];for(let N=0;N<_;N++){const E=k[N],{filter:{event:D,schema:O,table:P,filter:C}}=E,A=y&&y[N];if(A&&A.event===D&&Lc.isFilterValueEqual(A.schema,O)&&Lc.isFilterValueEqual(A.table,P)&&Lc.isFilterValueEqual(A.filter,C))j.push(Object.assign(Object.assign({},E),{id:A.id}));else{this.unsubscribe(),this.state=Bt.errored,t?.(ua.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,t&&t(ua.SUBSCRIBED);return}}).receive("error",y=>{this.state=Bt.errored,t?.(ua.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{t?.(ua.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Bt.joined&&t===il.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const l={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(u.status===202)return{success:!0};let d=u.statusText;try{const f=await u.json();d=f.error||f.message||d}catch{}return Promise.reject(new Error(d))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:l}=t,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:l,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=f.body)===null||a===void 0?void 0:a.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var l,u,d;const f=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&s("ok"),f.receive("ok",()=>s("ok")),f.receive("error",()=>s("error")),f.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Bt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Zn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Dg(this,Zn.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Bt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,s=setTimeout(()=>a.abort(),n),l=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(s),l}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Dg(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>FI){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,s;const l=t.toLocaleLowerCase(),{close:u,error:d,leave:f,join:m}=Zn;if(n&&[u,d,f,m].indexOf(l)>=0&&n!==this._joinRef())return;let v=this._onMessage(l,r,n);if(r&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(y=>{var S,k,_;return((S=y.filter)===null||S===void 0?void 0:S.event)==="*"||((_=(k=y.filter)===null||k===void 0?void 0:k.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===l}).map(y=>y.callback(v,n)):(s=this.bindings[l])===null||s===void 0||s.filter(y=>{var S,k,_,j,N,E;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in y){const D=y.id,O=(S=y.filter)===null||S===void 0?void 0:S.event;return D&&((k=r.ids)===null||k===void 0?void 0:k.includes(D))&&(O==="*"||O?.toLocaleLowerCase()===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const D=(N=(j=y?.filter)===null||j===void 0?void 0:j.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return D==="*"||D===((E=r?.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===l}).map(y=>{if(typeof v=="object"&&"ids"in v){const S=v.data,{schema:k,table:_,commit_timestamp:j,type:N,errors:E}=S;v=Object.assign(Object.assign({},{schema:k,table:_,commit_timestamp:j,eventType:N,new:{},old:{},errors:E}),this._getPayloadRecords(S))}y.callback(v,n)})}_isClosed(){return this.state===Bt.closed}_isJoined(){return this.state===Bt.joined}_isJoining(){return this.state===Bt.joining}_isLeaving(){return this.state===Bt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),s={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(s):this.bindings[a]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var s;return!(((s=a.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&Lc.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Zn.close,{},t)}_onError(t){this._on(Zn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Bt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=E2(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=E2(t.columns,t.old_record)),r}};const Rg=()=>{},bf={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},QI=[1e3,2e3,5e3,1e4],eL=1e4,tL=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let rL=class{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Cy,this.transport=null,this.heartbeatIntervalMs=bf.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Rg,this.ref=0,this.reconnectTimer=null,this.vsn=j2,this.logger=Rg,this.conn=null,this.sendBuffer=[],this.serializer=new VI,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...s)=>a(...s):(...s)=>fetch(...s),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Py.websocket}`,this.httpEndpoint=IA(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=DA.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ts.connecting:return Cs.Connecting;case Ts.open:return Cs.Open;case Ts.closing:return Cs.Closing;default:return Cs.Closed}}isConnected(){return this.connectionState()===Cs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(s=>s.topic===n);if(a)return a;{const s=new zA(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:a,ref:s}=t,l=()=>{this.encode(t,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${r} ${n} (${s})`,a),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(HI,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},bf.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:s,ref:l}=r,u=l?`(${l})`:"",d=s.status||"";this.log("receive",`${d} ${n} ${a} ${u}`.trim(),s),this.channels.filter(f=>f._isMember(n)).forEach(f=>f._trigger(a,s,l)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ts.open||this.conn.readyState===Ts.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Zn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([tL],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const s={access_token:r,version:BI};r&&a.updateJoinPayload(s),a.joinedOnce&&a._isJoined()&&a._push(Zn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new MA(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},bf.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,s,l,u,d,f,m,g,v,y;switch(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t?.timeout)!==null&&n!==void 0?n:Cy,this.heartbeatIntervalMs=(a=t?.heartbeatIntervalMs)!==null&&a!==void 0?a:bf.HEARTBEAT_INTERVAL,this.worker=(s=t?.worker)!==null&&s!==void 0?s:!1,this.accessToken=(l=t?.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=t?.heartbeatCallback)!==null&&u!==void 0?u:Rg,this.vsn=(d=t?.vsn)!==null&&d!==void 0?d:j2,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=t?.reconnectAfterMs)!==null&&f!==void 0?f:(S=>QI[S-1]||eL),this.vsn){case RA:this.encode=(m=t?.encode)!==null&&m!==void 0?m:((S,k)=>k(JSON.stringify(S))),this.decode=(g=t?.decode)!==null&&g!==void 0?g:((S,k)=>k(JSON.parse(S)));break;case qI:this.encode=(v=t?.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(y=t?.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};const nL=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:JI,get REALTIME_LISTEN_TYPES(){return il},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return My},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Ry},get REALTIME_SUBSCRIBE_STATES(){return ua},RealtimeChannel:zA,RealtimeClient:rL,RealtimePresence:LA,WebSocketFactory:DA},Symbol.toStringTag,{value:"Module"})),UA=_u(nL);class Su extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function xt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class BA extends Su{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class lh extends Su{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const cx=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),aL=()=>Response,$y=e=>{if(Array.isArray(e))return e.map(r=>$y(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[a]=$y(n)}),t},iL=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},sL=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),Mg=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},oL=(e,t,r)=>Se(void 0,void 0,void 0,function*(){const n=yield aL();e instanceof n&&!r?.noResolveJson?e.json().then(a=>{const s=e.status||500,l=a?.statusCode||s+"";t(new BA(Mg(a),s,l))}).catch(a=>{t(new lh(Mg(a),a))}):t(new lh(Mg(e),e))}),lL=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"||!n?a:(iL(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(n)):a.body=n,t?.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function ku(e,t,r,n,a,s){return Se(this,void 0,void 0,function*(){return new Promise((l,u)=>{e(r,lL(t,n,a,s)).then(d=>{if(!d.ok)throw d;return n?.noResolveJson?d:d.json()}).then(d=>l(d)).catch(d=>oL(d,u,n))})})}function eu(e,t,r,n){return Se(this,void 0,void 0,function*(){return ku(e,"GET",t,r,n)})}function Kn(e,t,r,n,a){return Se(this,void 0,void 0,function*(){return ku(e,"POST",t,n,a,r)})}function Iy(e,t,r,n,a){return Se(this,void 0,void 0,function*(){return ku(e,"PUT",t,n,a,r)})}function cL(e,t,r,n){return Se(this,void 0,void 0,function*(){return ku(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function ux(e,t,r,n,a){return Se(this,void 0,void 0,function*(){return ku(e,"DELETE",t,n,a,r)})}class uL{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return Se(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(xt(t))return{data:null,error:t};throw t}})}}var qA;class dL{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[qA]="BlobDownloadBuilder",this.promise=null}asStream(){return new uL(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Se(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(xt(t))return{data:null,error:t};throw t}})}}qA=Symbol.toStringTag;const fL={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},N2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class hL{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=cx(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return Se(this,void 0,void 0,function*(){try{let s;const l=Object.assign(Object.assign({},N2),a);let u=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",l.cacheControl),d&&s.append("metadata",this.encodeMetadata(d)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.has("cacheControl")||s.append("cacheControl",l.cacheControl),d&&!s.has("metadata")&&s.append("metadata",this.encodeMetadata(d))):(s=n,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,d&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(d))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!l.duplex&&(l.duplex="half")),a?.headers&&(u=Object.assign(Object.assign({},u),a.headers));const f=this._removeEmptyFolders(r),m=this._getFinalPath(f),g=yield(t=="PUT"?Iy:Kn)(this.fetch,`${this.url}/object/${m}`,s,Object.assign({headers:u},l?.duplex?{duplex:l.duplex}:{}));return{data:{path:f,id:g.Id,fullPath:g.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(xt(s))return{data:null,error:s};throw s}})}upload(t,r,n){return Se(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return Se(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),l=this._getFinalPath(s),u=new URL(this.url+`/object/upload/sign/${l}`);u.searchParams.set("token",r);try{let d;const f=Object.assign({upsert:N2.upsert},a),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.append("cacheControl",f.cacheControl)):(d=n,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType);const g=yield Iy(this.fetch,u.toString(),d,{headers:m});return{data:{path:s,fullPath:g.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(xt(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(t,r){return Se(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r?.upsert&&(a["x-upsert"]="true");const s=yield Kn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),l=new URL(this.url+s.url),u=l.searchParams.get("token");if(!u)throw new Su("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:u},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}})}update(t,r,n){return Se(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Se(this,void 0,void 0,function*(){try{return{data:yield Kn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(xt(a))return{data:null,error:a};throw a}})}copy(t,r,n){return Se(this,void 0,void 0,function*(){try{return{data:{path:(yield Kn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(xt(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return Se(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),s=yield Kn(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const l=n?.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${l}`)},{data:s,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(xt(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return Se(this,void 0,void 0,function*(){try{const a=yield Kn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${s}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(xt(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof r?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(r?.transform||{}),l=s?`?${s}`:"",u=this._getFinalPath(t),d=()=>eu(this.fetch,`${this.url}/${a}/${u}${l}`,{headers:this.headers,noResolveJson:!0});return new dL(d,this.shouldThrowOnError)}info(t){return Se(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield eu(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:$y(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}})}exists(t){return Se(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield cL(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n)&&n instanceof lh){const a=n.originalError;if([400,404].includes(a?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],s=r?.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&a.push(s);const u=typeof r?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(r?.transform||{});d!==""&&a.push(d);let f=a.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${n}${f}`)}}}remove(t){return Se(this,void 0,void 0,function*(){try{return{data:yield ux(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}})}list(t,r,n){return Se(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},fL),r),{prefix:t||""});return{data:yield Kn(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(xt(a))return{data:null,error:a};throw a}})}listV2(t,r){return Se(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Kn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const HA="2.87.1",FA={"X-Client-Info":`storage-js/${HA}`};class mL{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const s=new URL(t);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},FA),r),this.fetch=cx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Se(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield eu(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}})}getBucket(t){return Se(this,void 0,void 0,function*(){try{return{data:yield eu(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}})}createBucket(t){return Se(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Kn(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(xt(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return Se(this,void 0,void 0,function*(){try{return{data:yield Iy(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Se(this,void 0,void 0,function*(){try{return{data:yield Kn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Se(this,void 0,void 0,function*(){try{return{data:yield ux(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var tu=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function pL(e,t,r){const n=new URL(t,e);if(r)for(const[a,s]of Object.entries(r))s!==void 0&&n.searchParams.set(a,s);return n.toString()}async function gL(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function vL(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:s,headers:l}){const u=pL(e.baseUrl,n,a),d=await gL(e.auth),f=await t(u,{method:r,headers:{...s?{"Content-Type":"application/json"}:{},...d,...l},body:s?JSON.stringify(s):void 0}),m=await f.text(),g=(f.headers.get("content-type")||"").includes("application/json"),v=g&&m?JSON.parse(m):m;if(!f.ok){const y=g?v:void 0,S=y?.error;throw new tu(S?.message??`Request failed with status ${f.status}`,{status:f.status,icebergType:S?.type,icebergCode:S?.code,details:y})}return{status:f.status,headers:f.headers,data:v}}}}function xf(e){return e.join("")}var yL=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:xf(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${xf(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${xf(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${xf(e.namespace)}`}),!0}catch(t){if(t instanceof tu&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof tu&&r.status===409)return;throw r}}};function Vo(e){return e.join("")}var bL=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Vo(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Vo(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Vo(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Vo(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Vo(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Vo(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof tu&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof tu&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},xL=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=vL({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new yL(this.client,t),this.tableOps=new bL(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class VA{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},FA),r),this.fetch=cx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Se(this,void 0,void 0,function*(){try{return{data:yield Kn(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}})}listBuckets(t){return Se(this,void 0,void 0,function*(){try{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const n=r.toString(),a=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield eu(this.fetch,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Se(this,void 0,void 0,function*(){try{return{data:yield ux(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}})}from(t){if(!sL(t))throw new Su("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new xL({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>Se(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,l){const u=s[l];return typeof u!="function"?u:(...d)=>Se(this,void 0,void 0,function*(){try{return{data:yield u.apply(s,d),error:null}}catch(f){if(n)throw f;return{data:null,error:f}}})}})}}const dx={"X-Client-Info":`storage-js/${HA}`,"Content-Type":"application/json"};class fx extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Yr(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Zf extends fx{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class KA extends fx{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var Ly;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Ly||(Ly={}));const m0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),wL=()=>Response,ZA=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},_L=e=>Array.from(new Float32Array(e)),SL=(e,t)=>{if(t!==void 0&&e.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`)},O2=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),kL=(e,t,r)=>Se(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!r?.noResolveJson){const a=e.status||500,s=e;if(typeof s.json=="function")s.json().then(l=>{const u=l?.statusCode||l?.code||a+"";t(new Zf(O2(l),a,u))}).catch(()=>{const l=a+"",u=s.statusText||`HTTP ${a} error`;t(new Zf(u,a,l))});else{const l=a+"",u=s.statusText||`HTTP ${a} error`;t(new Zf(u,a,l))}}else t(new KA(O2(e),e))}),jL=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return n?(ZA(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r)):a};function EL(e,t,r,n,a,s){return Se(this,void 0,void 0,function*(){return new Promise((l,u)=>{e(r,jL(t,n,a,s)).then(d=>{if(!d.ok)throw d;if(n?.noResolveJson)return d;const f=d.headers.get("content-type");return!f||!f.includes("application/json")?{}:d.json()}).then(d=>l(d)).catch(d=>kL(d,u,n))})})}function fn(e,t,r,n,a){return Se(this,void 0,void 0,function*(){return EL(e,"POST",t,n,a,r)})}class GA{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},dx),r),this.fetch=m0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Se(this,void 0,void 0,function*(){try{return{data:(yield fn(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yr(r))return{data:null,error:r};throw r}})}getIndex(t,r){return Se(this,void 0,void 0,function*(){try{return{data:yield fn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Yr(n))return{data:null,error:n};throw n}})}listIndexes(t){return Se(this,void 0,void 0,function*(){try{return{data:yield fn(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yr(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return Se(this,void 0,void 0,function*(){try{return{data:(yield fn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Yr(n))return{data:null,error:n};throw n}})}}class YA{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},dx),r),this.fetch=m0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Se(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield fn(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yr(r))return{data:null,error:r};throw r}})}getVectors(t){return Se(this,void 0,void 0,function*(){try{return{data:yield fn(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yr(r))return{data:null,error:r};throw r}})}listVectors(t){return Se(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield fn(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yr(r))return{data:null,error:r};throw r}})}queryVectors(t){return Se(this,void 0,void 0,function*(){try{return{data:yield fn(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yr(r))return{data:null,error:r};throw r}})}deleteVectors(t){return Se(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield fn(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yr(r))return{data:null,error:r};throw r}})}}class WA{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},dx),r),this.fetch=m0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Se(this,void 0,void 0,function*(){try{return{data:(yield fn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yr(r))return{data:null,error:r};throw r}})}getBucket(t){return Se(this,void 0,void 0,function*(){try{return{data:yield fn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yr(r))return{data:null,error:r};throw r}})}listBuckets(){return Se(this,arguments,void 0,function*(t={}){try{return{data:yield fn(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Se(this,void 0,void 0,function*(){try{return{data:(yield fn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yr(r))return{data:null,error:r};throw r}})}}class XA extends WA{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new JA(this.url,this.headers,t,this.fetch)}createBucket(t){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return Se(this,void 0,void 0,function*(){return r.createBucket.call(this,t)})}getBucket(t){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return Se(this,void 0,void 0,function*(){return r.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return Se(this,arguments,void 0,function*(r={}){return t.listBuckets.call(this,r)})}deleteBucket(t){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return Se(this,void 0,void 0,function*(){return r.deleteBucket.call(this,t)})}}class JA extends GA{constructor(t,r,n,a){super(t,r,a),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Se(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Se(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Se(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Se(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new QA(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class QA extends YA{constructor(t,r,n,a,s){super(t,r,s),this.vectorBucketName=n,this.indexName=a}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Se(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Se(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Se(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Se(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Se(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class NL extends mL{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new hL(this.url,this.headers,t,this.fetch)}get vectors(){return new XA(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new VA(this.url+"/iceberg",this.headers,this.fetch)}}const OL=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:VA,StorageApiError:BA,StorageClient:NL,StorageError:Su,StorageUnknownError:lh,StorageVectorsApiError:Zf,StorageVectorsClient:XA,StorageVectorsError:fx,get StorageVectorsErrorCode(){return Ly},StorageVectorsUnknownError:KA,VectorBucketApi:WA,VectorBucketScope:JA,VectorDataApi:YA,VectorIndexApi:GA,VectorIndexScope:QA,isPlainObject:ZA,isStorageError:xt,isStorageVectorsError:Yr,normalizeToFloat32:_L,resolveFetch:m0,resolveResponse:wL,validateVectorDimension:SL},Symbol.toStringTag,{value:"Module"})),AL=_u(OL);var $g={},Oc={},A2;function TL(){return A2||(A2=1,Object.defineProperty(Oc,"__esModule",{value:!0}),Oc.version=void 0,Oc.version="2.87.1"),Oc}var T2;function CL(){return T2||(T2=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_REALTIME_OPTIONS=e.DEFAULT_AUTH_OPTIONS=e.DEFAULT_DB_OPTIONS=e.DEFAULT_GLOBAL_OPTIONS=e.DEFAULT_HEADERS=void 0;const t=TL();let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",e.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${t.version}`},e.DEFAULT_GLOBAL_OPTIONS={headers:e.DEFAULT_HEADERS},e.DEFAULT_DB_OPTIONS={schema:"public"},e.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e.DEFAULT_REALTIME_OPTIONS={}})($g)),$g}var Ig={},C2;function PL(){return C2||(C2=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWithAuth=e.resolveHeadersConstructor=e.resolveFetch=void 0;const t=a=>a?(...s)=>a(...s):(...s)=>fetch(...s);e.resolveFetch=t;const r=()=>Headers;e.resolveHeadersConstructor=r;const n=(a,s,l)=>{const u=(0,e.resolveFetch)(l),d=(0,e.resolveHeadersConstructor)();return async(f,m)=>{var g;const v=(g=await s())!==null&&g!==void 0?g:a;let y=new d(m?.headers);return y.has("apikey")||y.set("apikey",a),y.has("Authorization")||y.set("Authorization",`Bearer ${v}`),u(f,Object.assign(Object.assign({},m),{headers:y}))}};e.fetchWithAuth=n})(Ig)),Ig}var Ha={},P2;function DL(){if(P2)return Ha;P2=1,Object.defineProperty(Ha,"__esModule",{value:!0}),Ha.isBrowser=void 0,Ha.uuid=e,Ha.ensureTrailingSlash=t,Ha.applySettingDefaults=n,Ha.validateSupabaseUrl=a;function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){var l=Math.random()*16|0,u=s=="x"?l:l&3|8;return u.toString(16)})}function t(s){return s.endsWith("/")?s:s+"/"}const r=()=>typeof window<"u";Ha.isBrowser=r;function n(s,l){var u,d;const{db:f,auth:m,realtime:g,global:v}=s,{db:y,auth:S,realtime:k,global:_}=l,j={db:Object.assign(Object.assign({},y),f),auth:Object.assign(Object.assign({},S),m),realtime:Object.assign(Object.assign({},k),g),storage:{},global:Object.assign(Object.assign(Object.assign({},_),v),{headers:Object.assign(Object.assign({},(u=_?.headers)!==null&&u!==void 0?u:{}),(d=v?.headers)!==null&&d!==void 0?d:{})}),accessToken:async()=>""};return s.accessToken?j.accessToken=s.accessToken:delete j.accessToken,j}function a(s){const l=s?.trim();if(!l)throw new Error("supabaseUrl is required.");if(!l.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t(l))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return Ha}var Ac={};const eT="2.87.1",Jo=30*1e3,zy=3,Lg=zy*Jo,RL="http://localhost:9999",ML="supabase.auth.token",$L={"X-Client-Info":`gotrue-js/${eT}`},Uy="X-Supabase-Api-Version",tT={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},IL=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,LL=600*1e3;let fl=class extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}};function Ne(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}let rT=class extends fl{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}};function nT(e){return Ne(e)&&e.name==="AuthApiError"}let Bi=class extends fl{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}},oi=class extends fl{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}},Zr=class extends oi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function aT(e){return Ne(e)&&e.name==="AuthSessionMissingError"}let ks=class extends oi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},zc=class extends oi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},Uc=class extends oi{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function iT(e){return Ne(e)&&e.name==="AuthImplicitGrantRedirectError"}let By=class extends oi{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},ch=class extends oi{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}};function Gf(e){return Ne(e)&&e.name==="AuthRetryableFetchError"}let qy=class extends oi{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}};function zL(e){return Ne(e)&&e.name==="AuthWeakPasswordError"}let uh=class extends oi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const dh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),D2=` 	
\r=`.split(""),UL=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<D2.length;t+=1)e[D2[t].charCodeAt(0)]=-2;for(let t=0;t<dh.length;t+=1)e[dh[t].charCodeAt(0)]=t;return e})();function R2(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(dh[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(dh[n]),t.queuedBits-=6}}function sT(e,t,r){const n=UL[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function M2(e){const t=[],r=l=>{t.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=l=>{HL(l,n,r)};for(let l=0;l<e.length;l+=1)sT(e.charCodeAt(l),a,s);return t.join("")}function BL(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function qL(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}BL(n,t)}}function HL(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function sl(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)sT(e.charCodeAt(a),r,n);return new Uint8Array(t)}function FL(e){const t=[];return qL(e,r=>t.push(r)),new Uint8Array(t)}function Ds(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>R2(a,r,n)),R2(null,r,n),t.join("")}function VL(e){return Math.round(Date.now()/1e3)+e}function KL(){return Symbol("auth-callback")}const hr=()=>typeof window<"u"&&typeof document<"u",_s={tested:!1,writable:!1},oT=()=>{if(!hr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(_s.tested)return _s.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),_s.tested=!0,_s.writable=!0}catch{_s.tested=!0,_s.writable=!1}return _s.writable};function ZL(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,s)=>{t[s]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const lT=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),GL=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Qo=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ss=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},dr=async(e,t)=>{await e.removeItem(t)};class p0{constructor(){this.promise=new p0.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}p0.promiseConstructor=Promise;function zg(e){const t=e.split(".");if(t.length!==3)throw new uh("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!IL.test(t[n]))throw new uh("JWT not in base64url format");return{header:JSON.parse(M2(t[0])),payload:JSON.parse(M2(t[1])),signature:sl(t[2]),raw:{header:t[0],payload:t[1]}}}async function YL(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function WL(e,t){return new Promise((n,a)=>{(async()=>{for(let s=0;s<1/0;s++)try{const l=await e(s);if(!t(s,null,l)){n(l);return}}catch(l){if(!t(s,l)){a(l);return}}})()})}function XL(e){return("0"+e.toString(16)).substr(-2)}function JL(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let s=0;s<56;s++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,XL).join("")}async function QL(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(s=>String.fromCharCode(s)).join("")}async function e8(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await QL(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ko(e,t,r=!1){const n=JL();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Qo(e,`${t}-code-verifier`,a);const s=await e8(n);return[s,n===s?"plain":"s256"]}const t8=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function r8(e){const t=e.headers.get(Uy);if(!t||!t.match(t8))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function n8(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function a8(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const i8=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Zo(e){if(!i8.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ug(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function s8(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function $2(e){return JSON.parse(JSON.stringify(e))}const js=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),o8=[502,503,504];async function I2(e){var t;if(!GL(e))throw new ch(js(e),0);if(o8.includes(e.status))throw new ch(js(e),e.status);let r;try{r=await e.json()}catch(s){throw new Bi(js(s),s)}let n;const a=r8(e);if(a&&a.getTime()>=tT["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new qy(js(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Zr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,l)=>s&&typeof l=="string",!0))throw new qy(js(r),e.status,r.weak_password.reasons);throw new rT(js(r),e.status||500,n)}const l8=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Me(e,t,r,n){var a;const s=Object.assign({},n?.headers);s[Uy]||(s[Uy]=tT["2024-01-01"].name),n?.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const l=(a=n?.query)!==null&&a!==void 0?a:{};n?.redirectTo&&(l.redirect_to=n.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await c8(e,t,r+u,{headers:s,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(d):{data:Object.assign({},d),error:null}}async function c8(e,t,r,n,a,s){const l=l8(t,n,a,s);let u;try{u=await e(r,Object.assign({},l))}catch(d){throw console.error(d),new ch(js(d),0)}if(u.ok||await I2(u),n?.noResolveJson)return u;try{return await u.json()}catch(d){await I2(d)}}function Vn(e){var t;let r=null;f8(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=VL(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function L2(e){const t=Vn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function qi(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function u8(e){return{data:e,error:null}}function d8(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s}=e,l=_l(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s},d=Object.assign({},l);return{data:{properties:u,user:d},error:null}}function z2(e){return e}function f8(e){return e.access_token&&e.refresh_token&&e.expires_in}const Yf=["global","local","others"];let hx=class{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=lT(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Yf[0]){if(Yf.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Yf.join(", ")}`);try{return await Me(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Me(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:qi})}catch(n){if(Ne(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=_l(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n?.newEmail,delete a.newEmail),await Me(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:d8,redirectTo:r?.redirectTo})}catch(r){if(Ne(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Me(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:qi})}catch(r){if(Ne(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,s,l,u,d;try{const f={nextPage:null,lastPage:0,total:0},m=await Me(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:z2});if(m.error)throw m.error;const g=await m.json(),v=(l=m.headers.get("x-total-count"))!==null&&l!==void 0?l:0,y=(d=(u=m.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return y.length>0&&(y.forEach(S=>{const k=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(S.split(";")[1].split("=")[1]);f[`${_}Page`]=k}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},g),f),error:null}}catch(f){if(Ne(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){Zo(t);try{return await Me(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:qi})}catch(r){if(Ne(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Zo(t);try{return await Me(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:qi})}catch(n){if(Ne(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Zo(t);try{return await Me(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:qi})}catch(n){if(Ne(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Zo(t.userId);try{const{data:r,error:n}=await Me(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Ne(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Zo(t.userId),Zo(t.id);try{return{data:await Me(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ne(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,s,l,u,d;try{const f={nextPage:null,lastPage:0,total:0},m=await Me(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:z2});if(m.error)throw m.error;const g=await m.json(),v=(l=m.headers.get("x-total-count"))!==null&&l!==void 0?l:0,y=(d=(u=m.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return y.length>0&&(y.forEach(S=>{const k=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(S.split(";")[1].split("=")[1]);f[`${_}Page`]=k}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},g),f),error:null}}catch(f){if(Ne(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(t){try{return await Me(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ne(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Me(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ne(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Me(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Me(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ne(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Me(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ne(r))return{data:null,error:r};throw r}}};function U2(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Es={debug:!!(globalThis&&oT()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class mx extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let cT=class extends mx{};class h8 extends mx{}async function uT(e,t,r){Es.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Es.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Es.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Es.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Es.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new cT(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Es.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const B2={};async function m8(e,t,r){var n;const a=(n=B2[e])!==null&&n!==void 0?n:Promise.resolve(),s=Promise.race([a.catch(()=>null),t>=0?new Promise((l,u)=>{setTimeout(()=>{u(new h8(`Acquring process lock with name "${e}" timed out`))},t)}):null].filter(l=>l)).catch(l=>{if(l&&l.isAcquireTimeout)throw l;return null}).then(async()=>await r());return B2[e]=s.catch(async l=>{if(l&&l.isAcquireTimeout)return await a,null;throw l}),await s}function p8(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function dT(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function g8(e){return parseInt(e,16)}function v8(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function y8(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:s=new Date,nonce:l,notBefore:u,requestId:d,resources:f,scheme:m,uri:g,version:v}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const y=dT(e.address),S=m?`${m}://${n}`:n,k=e.statement?`${e.statement}
`:"",_=`${S} wants you to sign in with your Ethereum account:
${y}

${k}`;let j=`URI: ${g}
Version: ${v}
Chain ID: ${r}${l?`
Nonce: ${l}`:""}
Issued At: ${s.toISOString()}`;if(a&&(j+=`
Expiration Time: ${a.toISOString()}`),u&&(j+=`
Not Before: ${u.toISOString()}`),d&&(j+=`
Request ID: ${d}`),f){let N=`
Resources:`;for(const E of f){if(!E||typeof E!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${E}`);N+=`
- ${E}`}j+=N}return`${_}
${j}`}class qt extends Error{constructor({message:t,code:r,cause:n,name:a}){var s;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=a??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class fh extends qt{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function b8({error:e,options:t}){var r,n,a;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new qt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new qt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new qt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=s.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new qt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new qt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new qt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new qt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new qt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(fT(l)){if(s.rp.id!==l)return new qt({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new qt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new qt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new qt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new qt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function x8({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new qt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new qt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(fT(n)){if(r.rpId!==n)return new qt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new qt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new qt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new qt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class w8{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const _8=new w8;function S8(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=_l(e,["challenge","user","excludeCredentials"]),s=sl(t).buffer,l=Object.assign(Object.assign({},r),{id:sl(r.id).buffer}),u=Object.assign(Object.assign({},a),{challenge:s,user:l});if(n&&n.length>0){u.excludeCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const f=n[d];u.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:sl(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function k8(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=_l(e,["challenge","allowCredentials"]),a=sl(t).buffer,s=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];s.allowCredentials[l]=Object.assign(Object.assign({},u),{id:sl(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function j8(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ds(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ds(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function E8(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ds(new Uint8Array(a.authenticatorData)),clientDataJSON:Ds(new Uint8Array(a.clientDataJSON)),signature:Ds(new Uint8Array(a.signature)),userHandle:a.userHandle?Ds(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function fT(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function q2(){var e,t;return!!(hr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function N8(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new fh("Browser returned unexpected credential type",t)}:{data:null,error:new fh("Empty credential response",t)}}catch(t){return{data:null,error:b8({error:t,options:e})}}}async function O8(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new fh("Browser returned unexpected credential type",t)}:{data:null,error:new fh("Empty credential response",t)}}catch(t){return{data:null,error:x8({error:t,options:e})}}}const A8={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},T8={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function hh(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const s in a){const l=a[s];if(l!==void 0)if(Array.isArray(l))n[s]=l;else if(r(l))n[s]=l;else if(t(l)){const u=n[s];t(u)?n[s]=hh(u,l):n[s]=hh(l)}else n[s]=l}return n}function C8(e,t){return hh(A8,e,t||{})}function P8(e,t){return hh(T8,e,t||{})}class D8{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},s){try{const{data:l,error:u}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!l)return{data:null,error:u};const d=a??_8.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:f}=l.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${n}`),f.displayName||(f.displayName=f.name)}switch(l.webauthn.type){case"create":{const f=C8(l.webauthn.credential_options.publicKey,s?.create),{data:m,error:g}=await N8({publicKey:f,signal:d});return m?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:m}},error:null}:{data:null,error:g}}case"request":{const f=P8(l.webauthn.credential_options.publicKey,s?.request),{data:m,error:g}=await O8(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:f,signal:d}));return m?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:m}},error:null}:{data:null,error:g}}}}catch(l){return Ne(l)?{data:null,error:l}:{data:null,error:new Bi("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},s){if(!r)return{data:null,error:new fl("rpId is required for WebAuthn authentication")};try{if(!q2())return{data:null,error:new Bi("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:s});if(!l)return{data:null,error:u};const{webauthn:d}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:d.type,rpId:r,rpOrigins:n,credential_response:d.credential_response}})}catch(l){return Ne(l)?{data:null,error:l}:{data:null,error:new Bi("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},s){if(!r)return{data:null,error:new fl("rpId is required for WebAuthn registration")};try{if(!q2())return{data:null,error:new Bi("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(m=>{var g;return(g=m.data)===null||g===void 0?void 0:g.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===t&&v.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m?.id}):void 0),{data:null,error:u};const{data:d,error:f}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:s});return d?this._verify({factorId:l.id,challengeId:d.challengeId,webauthn:{rpId:r,rpOrigins:n,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(l){return Ne(l)?{data:null,error:l}:{data:null,error:new Bi("Unexpected error in register",l)}}}}p8();const R8={url:RL,storageKey:ML,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:$L,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function H2(e,t,r){return await r()}const Go={};let px=class Hy{get jwks(){var t,r;return(r=(t=Go[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Go[this.storageKey]=Object.assign(Object.assign({},Go[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Go[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Go[this.storageKey]=Object.assign(Object.assign({},Go[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},R8),t);if(this.storageKey=s.storageKey,this.instanceID=(r=Hy.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Hy.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&hr()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new hx({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=lT(s.fetch),this.lock=s.lock||H2,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:this.persistSession&&hr()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=uT:this.lock=H2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new D8(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:oT()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=U2(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=U2(this.memoryStorage)),hr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${eT}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(hr()&&(r=ZL(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),hr()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),iT(s)){const d=(t=s.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:l,redirectType:u}=a;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ne(r)?this._returnResult({error:r}):this._returnResult({error:new Bi("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const s=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t?.options)===null||a===void 0?void 0:a.captchaToken}},xform:Vn}),{data:l,error:u}=s;if(u||!l)return this._returnResult({data:{user:null,session:null},error:u});const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(s){if(Ne(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(t){var r,n,a;try{let s;if("email"in t){const{email:m,password:g,options:v}=t;let y=null,S=null;this.flowType==="pkce"&&([y,S]=await Ko(this.storage,this.storageKey)),s=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:m,password:g,data:(r=v?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:y,code_challenge_method:S},xform:Vn})}else if("phone"in t){const{phone:m,password:g,options:v}=t;s=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:g,data:(n=v?.data)!==null&&n!==void 0?n:{},channel:(a=v?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:Vn})}else throw new zc("You must provide either an email or phone number and a password");const{data:l,error:u}=s;if(u||!l)return await dr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(s){if(await dr(this.storage,`${this.storageKey}-code-verifier`),Ne(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:l,options:u}=t;r=await Me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:L2})}else if("phone"in t){const{phone:s,password:l,options:u}=t;r=await Me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:L2})}else throw new zc("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const s=new ks;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,s,l,u,d,f,m,g,v;let y,S;if("message"in t)y=t.message,S=t.signature;else{const{chain:k,wallet:_,statement:j,options:N}=t;let E;if(hr())if(typeof _=="object")E=_;else{const R=window;if("ethereum"in R&&typeof R.ethereum=="object"&&"request"in R.ethereum&&typeof R.ethereum.request=="function")E=R.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=_}const D=new URL((r=N?.url)!==null&&r!==void 0?r:window.location.href),O=await E.request({method:"eth_requestAccounts"}).then(R=>R).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!O||O.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const P=dT(O[0]);let C=(n=N?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!C){const R=await E.request({method:"eth_chainId"});C=g8(R)}const A={domain:D.host,address:P,statement:j,uri:D.href,version:"1",chainId:C,nonce:(a=N?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(l=(s=N?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(u=N?.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(d=N?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=N?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(m=N?.signInWithEthereum)===null||m===void 0?void 0:m.resources};y=y8(A),S=await E.request({method:"personal_sign",params:[v8(y),P]})}try{const{data:k,error:_}=await Me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:S},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Vn});if(_)throw _;if(!k||!k.session||!k.user){const j=new ks;return this._returnResult({data:{user:null,session:null},error:j})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:_})}catch(k){if(Ne(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async signInWithSolana(t){var r,n,a,s,l,u,d,f,m,g,v,y;let S,k;if("message"in t)S=t.message,k=t.signature;else{const{chain:_,wallet:j,statement:N,options:E}=t;let D;if(hr())if(typeof j=="object")D=j;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))D=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=j}const O=new URL((r=E?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in D&&D.signIn){const P=await D.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E?.signInWithSolana),{version:"1",domain:O.host,uri:O.href}),N?{statement:N}:null));let C;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")C=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)C=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)S=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),k=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in D)||typeof D.signMessage!="function"||!("publicKey"in D)||typeof D!="object"||!D.publicKey||!("toBase58"in D.publicKey)||typeof D.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${O.host} wants you to sign in with your Solana account:`,D.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${O.href}`,`Issued At: ${(a=(n=E?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((s=E?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((l=E?.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((u=E?.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((d=E?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((f=E?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((g=(m=E?.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||g===void 0)&&g.length?["Resources",...E.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const P=await D.signMessage(new TextEncoder().encode(S),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=P}}try{const{data:_,error:j}=await Me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:Ds(k)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Vn});if(j)throw j;if(!_||!_.session||!_.user){const N=new ks;return this._returnResult({data:{user:null,session:null},error:N})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:j})}catch(_){if(Ne(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(t){const r=await Ss(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:s,error:l}=await Me(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Vn});if(await dr(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!s||!s.session||!s.user){const u=new ks;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:a??null}),error:l})}catch(s){if(await dr(this.storage,`${this.storageKey}-code-verifier`),Ne(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:s,nonce:l}=t,u=await Me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:s,nonce:l,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Vn}),{data:d,error:f}=u;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d||!d.session||!d.user){const m=new ks;return this._returnResult({data:{user:null,session:null},error:m})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:f})}catch(r){if(Ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,s,l;try{if("email"in t){const{email:u,options:d}=t;let f=null,m=null;this.flowType==="pkce"&&([f,m]=await Ko(this.storage,this.storageKey));const{error:g}=await Me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=d?.data)!==null&&r!==void 0?r:{},create_user:(n=d?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:f,code_challenge_method:m},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in t){const{phone:u,options:d}=t,{data:f,error:m}=await Me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(a=d?.data)!==null&&a!==void 0?a:{},create_user:(s=d?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(l=d?.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:m})}throw new zc("You must provide either an email or phone number.")}catch(u){if(await dr(this.storage,`${this.storageKey}-code-verifier`),Ne(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(t){var r,n;try{let a,s;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:u}=await Me(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:a,xform:Vn});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,f=l.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(a){if(Ne(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,s,l;try{let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ko(this.storage,this.storageKey));const f=await Me(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:d}),headers:this.headers,xform:u8});return!((s=f.data)===null||s===void 0)&&s.url&&hr()&&!(!((l=t.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(u){if(await dr(this.storage,`${this.storageKey}-code-verifier`),Ne(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Zr;const{error:a}=await Me(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(Ne(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:s}=t,{error:l}=await Me(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in t){const{phone:n,type:a,options:s}=t,{data:l,error:u}=await Me(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l?.message_id},error:u})}throw new zc("You must provide either an email or phone number and a type")}catch(r){if(Ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ss(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Lg:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const l=await Ss(this.userStorage,this.storageKey+"-user");l?.user?t.user=l.user:t.user=Ug()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};t.user=s8(t.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:qi}):await this._useSession(async r=>{var n,a,s;const{data:l,error:u}=r;if(u)throw u;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Zr}:await Me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0,xform:qi})})}catch(r){if(Ne(r))return aT(r)&&(await this._removeSession(),await dr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:s}=n;if(s)throw s;if(!a.session)throw new Zr;const l=a.session;let u=null,d=null;this.flowType==="pkce"&&t.email!=null&&([u,d]=await Ko(this.storage,this.storageKey));const{data:f,error:m}=await Me(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:d}),jwt:l.access_token,xform:qi});if(m)throw m;return l.user=f.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(n){if(await dr(this.storage,`${this.storageKey}-code-verifier`),Ne(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Zr;const r=Date.now()/1e3;let n=r,a=!0,s=null;const{payload:l}=zg(t.access_token);if(l.exp&&(n=l.exp,a=n<=r),a){const{data:u,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u)return{data:{user:null,session:null},error:null};s=u}else{const{data:u,error:d}=await this._getUser(t.access_token);if(d)throw d;s={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(Ne(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:l,error:u}=r;if(u)throw u;t=(n=l.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new Zr;const{data:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!hr())throw new Uc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Uc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new By("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Uc("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new By("No code detected.");const{data:N,error:E}=await this._exchangeCodeForSession(t.code);if(E)throw E;const D=new URL(window.location.href);return D.searchParams.delete("code"),window.history.replaceState(window.history.state,"",D.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:s,refresh_token:l,expires_in:u,expires_at:d,token_type:f}=t;if(!s||!u||!l||!f)throw new Uc("No session defined in URL");const m=Math.round(Date.now()/1e3),g=parseInt(u);let v=m+g;d&&(v=parseInt(d));const y=v-m;y*1e3<=Jo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${g}s`);const S=v-g;m-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,v,m):m-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,v,m);const{data:k,error:_}=await this._getUser(s);if(_)throw _;const j={provider_token:n,provider_refresh_token:a,access_token:s,expires_in:g,expires_at:v,refresh_token:l,token_type:f,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:j,redirectType:t.type},error:null})}catch(n){if(Ne(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ss(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({error:s});const l=(n=a.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:u}=await this.admin.signOut(l,t);if(u&&!(nT(u)&&(u.status===404||u.status===401||u.status===403)))return this._returnResult({error:u})}return t!=="others"&&(await this._removeSession(),await dr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=KL(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:s},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Ko(this.storage,this.storageKey,!0));try{return await Me(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(await dr(this.storage,`${this.storageKey}-code-verifier`),Ne(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async s=>{var l,u,d,f,m;const{data:g,error:v}=s;if(v)throw v;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Me(this.fetch,"GET",y,{headers:this.headers,jwt:(m=(f=g.session)===null||f===void 0?void 0:f.access_token)!==null&&m!==void 0?m:void 0})});if(a)throw a;return hr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:t.provider,url:n?.url},error:null})}catch(n){if(Ne(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:s}}=r;if(a)throw a;const{options:l,provider:u,token:d,access_token:f,nonce:m}=t,g=await Me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:u,id_token:d,access_token:f,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Vn}),{data:v,error:y}=g;return y?this._returnResult({data:{user:null,session:null},error:y}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new ks}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:y}))}catch(a){if(await dr(this.storage,`${this.storageKey}-code-verifier`),Ne(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:l}=r;if(l)throw l;return await Me(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await WL(async a=>(a>0&&await YL(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Me(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Vn})),(a,s)=>{const l=200*Math.pow(2,a);return s&&Gf(s)&&Date.now()+l-n<Jo})}catch(n){if(this._debug(r,"error",n),Ne(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),hr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Ss(this.storage,this.storageKey);if(a&&this.userStorage){let l=await Ss(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:a.user},await Qo(this.userStorage,this.storageKey+"-user",l)),a.user=(t=l?.user)!==null&&t!==void 0?t:Ug()}else if(a&&!a.user&&!a.user){const l=await Ss(this.storage,this.storageKey+"-user");l&&l?.user?(a.user=l.user,await dr(this.storage,this.storageKey+"-user"),await Qo(this.storage,this.storageKey,a)):a.user=Ug()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const s=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Lg;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Lg}s`),s){if(this.autoRefreshToken&&a.refresh_token){const{error:l}=await this._callRefreshToken(a.refresh_token);l&&(console.error(l),Gf(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(a.access_token);!u&&l?.user?(a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(n,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Zr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new p0;const{data:s,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!s.session)throw new Zr;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const u={data:s.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(s){if(this._debug(a,"error",s),Ne(s)){const l={data:null,error:s};return Gf(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,r)}catch(d){s.push(d)}});if(await Promise.all(l),s.length>0){for(let u=0;u<s.length;u+=1)console.error(s[u]);throw s[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await dr(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Qo(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const s=$2(a);await Qo(this.storage,this.storageKey,s)}else{const a=$2(r);await Qo(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await dr(this.storage,this.storageKey),await dr(this.storage,this.storageKey+"-code-verifier"),await dr(this.storage,this.storageKey+"-user"),this.userStorage&&await dr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&hr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Jo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Jo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Jo}ms, refresh threshold is ${zy} ticks`),a<=zy&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof mx)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!hr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,l]=await Ko(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(l)}`});a.push(u.toString())}if(n?.queryParams){const s=new URLSearchParams(n.queryParams);a.push(s.toString())}return n?.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;return s?this._returnResult({data:null,error:s}):await Me(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:l}=r;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:d,error:f}=await Me(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token});return f?this._returnResult({data:null,error:f}):(t.factorType==="totp"&&d.type==="totp"&&(!((a=d?.totp)===null||a===void 0)&&a.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?j8(t.webauthn.credential_response):E8(t.webauthn.credential_response)})}:{code:t.code}),{data:u,error:d}=await Me(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:d}))})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const l=await Me(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});if(l.error)return l;const{data:u}=l;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:S8(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:k8(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=r?.factors)!==null&&t!==void 0?t:[])a.all.push(s),s.status==="verified"&&a[s.factor_type].push(s);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=zg(n.access_token);let l=null;s.aal&&(l=s.aal);let u=l;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(m=>m.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const f=s.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await Me(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Zr})})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!a)return this._returnResult({data:null,error:new Zr});const l=await Me(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&hr()&&!r?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(n){if(Ne(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!a)return this._returnResult({data:null,error:new Zr});const l=await Me(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&hr()&&!r?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(n){if(Ne(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await Me(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Zr})})}catch(t){if(Ne(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await Me(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Zr})})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(u=>u.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(u=>u.kid===t),n&&this.jwks_cached_at+LL>a)return n;const{data:s,error:l}=await Me(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=a,n=s.keys.find(u=>u.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:y,error:S}=await this.getSession();if(S||!y.session)return this._returnResult({data:null,error:S});n=y.session.access_token}const{header:a,payload:s,signature:l,raw:{header:u,payload:d}}=zg(n);r?.allowExpired||n8(s.exp);const f=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!f){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:s,header:a,signature:l},error:null}}const m=a8(a.alg),g=await crypto.subtle.importKey("jwk",f,m,!0,["verify"]);if(!await crypto.subtle.verify(m,g,l,FL(`${u}.${d}`)))throw new uh("Invalid JWT signature");return{data:{claims:s,header:a,signature:l},error:null}}catch(n){if(Ne(n))return this._returnResult({data:null,error:n});throw n}}};px.nextInstanceID={};const M8=hx,$8=px,I8=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:M8,AuthApiError:rT,AuthClient:$8,AuthError:fl,AuthImplicitGrantRedirectError:Uc,AuthInvalidCredentialsError:zc,AuthInvalidJwtError:uh,AuthInvalidTokenResponseError:ks,AuthPKCEGrantCodeExchangeError:By,AuthRetryableFetchError:ch,AuthSessionMissingError:Zr,AuthUnknownError:Bi,AuthWeakPasswordError:qy,CustomAuthError:oi,GoTrueAdminApi:hx,GoTrueClient:px,NavigatorLockAcquireTimeoutError:cT,SIGN_OUT_SCOPES:Yf,isAuthApiError:nT,isAuthError:Ne,isAuthImplicitGrantRedirectError:iT,isAuthRetryableFetchError:Gf,isAuthSessionMissingError:aT,isAuthWeakPasswordError:zL,lockInternals:Es,navigatorLock:uT,processLock:m8},Symbol.toStringTag,{value:"Module"})),hT=_u(I8);var F2;function L8(){if(F2)return Ac;F2=1,Object.defineProperty(Ac,"__esModule",{value:!0}),Ac.SupabaseAuthClient=void 0;const e=hT;let t=class extends e.AuthClient{constructor(n){super(n)}};return Ac.SupabaseAuthClient=t,Ac}var V2;function K2(){if(V2)return ff;V2=1,Object.defineProperty(ff,"__esModule",{value:!0});const e=EA,t=PA(),r=UA,n=AL,a=CL(),s=PL(),l=DL(),u=L8();class d{constructor(m,g,v){var y,S,k;this.supabaseUrl=m,this.supabaseKey=g;const _=(0,l.validateSupabaseUrl)(m);if(!g)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",_),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",_),this.storageUrl=new URL("storage/v1",_),this.functionsUrl=new URL("functions/v1",_);const j=`sb-${_.hostname.split(".")[0]}-auth-token`,N={db:a.DEFAULT_DB_OPTIONS,realtime:a.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},a.DEFAULT_AUTH_OPTIONS),{storageKey:j}),global:a.DEFAULT_GLOBAL_OPTIONS},E=(0,l.applySettingDefaults)(v??{},N);this.storageKey=(y=E.auth.storageKey)!==null&&y!==void 0?y:"",this.headers=(S=E.global.headers)!==null&&S!==void 0?S:{},E.accessToken?(this.accessToken=E.accessToken,this.auth=new Proxy({},{get:(D,O)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(O)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((k=E.auth)!==null&&k!==void 0?k:{},this.headers,E.global.fetch),this.fetch=(0,s.fetchWithAuth)(g,this._getAccessToken.bind(this),E.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},E.realtime)),this.accessToken&&this.accessToken().then(D=>this.realtime.setAuth(D)).catch(D=>console.warn("Failed to set initial Realtime auth token:",D)),this.rest=new t.PostgrestClient(new URL("rest/v1",_).href,{headers:this.headers,schema:E.db.schema,fetch:this.fetch}),this.storage=new n.StorageClient(this.storageUrl.href,this.headers,this.fetch,v?.storage),E.accessToken||this._listenForAuthEvents()}get functions(){return new e.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(m){return this.rest.from(m)}schema(m){return this.rest.schema(m)}rpc(m,g={},v={head:!1,get:!1,count:void 0}){return this.rest.rpc(m,g,v)}channel(m,g={config:{}}){return this.realtime.channel(m,g)}getChannels(){return this.realtime.getChannels()}removeChannel(m){return this.realtime.removeChannel(m)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var m,g;if(this.accessToken)return await this.accessToken();const{data:v}=await this.auth.getSession();return(g=(m=v.session)===null||m===void 0?void 0:m.access_token)!==null&&g!==void 0?g:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:m,persistSession:g,detectSessionInUrl:v,storage:y,userStorage:S,storageKey:k,flowType:_,lock:j,debug:N,throwOnError:E},D,O){const P={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new u.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},P),D),storageKey:k,autoRefreshToken:m,persistSession:g,detectSessionInUrl:v,storage:y,userStorage:S,flowType:_,lock:j,debug:N,throwOnError:E,fetch:O,hasCustomAuthorizationHeader:Object.keys(this.headers).some(C=>C.toLowerCase()==="authorization")})}_initRealtimeClient(m){return new r.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},m),{params:Object.assign({apikey:this.supabaseKey},m?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((g,v)=>{this._handleTokenChanged(g,"CLIENT",v?.access_token)})}_handleTokenChanged(m,g,v){(m==="TOKEN_REFRESHED"||m==="SIGNED_IN")&&this.changedAccessToken!==v?(this.changedAccessToken=v,this.realtime.setAuth(v)):m==="SIGNED_OUT"&&(this.realtime.setAuth(),g=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return ff.default=d,ff}var Z2;function z8(){return Z2||(Z2=1,(function(e){var t=qa&&qa.__createBinding||(Object.create?(function(m,g,v,y){y===void 0&&(y=v);var S=Object.getOwnPropertyDescriptor(g,v);(!S||("get"in S?!g.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return g[v]}}),Object.defineProperty(m,y,S)}):(function(m,g,v,y){y===void 0&&(y=v),m[y]=g[v]})),r=qa&&qa.__exportStar||function(m,g){for(var v in m)v!=="default"&&!Object.prototype.hasOwnProperty.call(g,v)&&t(g,m,v)},n=qa&&qa.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(e,"__esModule",{value:!0}),e.createClient=e.SupabaseClient=e.FunctionRegion=e.FunctionsError=e.FunctionsRelayError=e.FunctionsFetchError=e.FunctionsHttpError=e.PostgrestError=void 0;const a=n(K2());r(hT,e);var s=PA();Object.defineProperty(e,"PostgrestError",{enumerable:!0,get:function(){return s.PostgrestError}});var l=EA;Object.defineProperty(e,"FunctionsHttpError",{enumerable:!0,get:function(){return l.FunctionsHttpError}}),Object.defineProperty(e,"FunctionsFetchError",{enumerable:!0,get:function(){return l.FunctionsFetchError}}),Object.defineProperty(e,"FunctionsRelayError",{enumerable:!0,get:function(){return l.FunctionsRelayError}}),Object.defineProperty(e,"FunctionsError",{enumerable:!0,get:function(){return l.FunctionsError}}),Object.defineProperty(e,"FunctionRegion",{enumerable:!0,get:function(){return l.FunctionRegion}}),r(UA,e);var u=K2();Object.defineProperty(e,"SupabaseClient",{enumerable:!0,get:function(){return n(u).default}});const d=(m,g,v)=>new a.default(m,g,v);e.createClient=d;function f(){if(typeof window<"u"||typeof process>"u")return!1;const m=process.version;if(m==null)return!1;const g=m.match(/^v(\d+)\./);return g?parseInt(g[1],10)<=18:!1}f()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(qa)),qa}var mT=z8();const pT=xa(mT),U8=z5({__proto__:null,default:pT},[mT]),{PostgrestError:ace,FunctionsHttpError:ice,FunctionsFetchError:sce,FunctionsRelayError:oce,FunctionsError:lce,FunctionRegion:cce,SupabaseClient:uce,createClient:gT,GoTrueAdminApi:dce,GoTrueClient:fce,AuthAdminApi:hce,AuthClient:mce,navigatorLock:pce,NavigatorLockAcquireTimeoutError:gce,lockInternals:vce,processLock:yce,SIGN_OUT_SCOPES:bce,AuthError:xce,AuthApiError:wce,AuthUnknownError:_ce,CustomAuthError:Sce,AuthSessionMissingError:kce,AuthInvalidTokenResponseError:jce,AuthInvalidCredentialsError:Ece,AuthImplicitGrantRedirectError:Nce,AuthPKCEGrantCodeExchangeError:Oce,AuthRetryableFetchError:Ace,AuthWeakPasswordError:Tce,AuthInvalidJwtError:Cce,isAuthError:Pce,isAuthApiError:Dce,isAuthSessionMissingError:Rce,isAuthImplicitGrantRedirectError:Mce,isAuthRetryableFetchError:$ce,isAuthWeakPasswordError:Ice,RealtimePresence:Lce,RealtimeChannel:zce,RealtimeClient:Uce,REALTIME_LISTEN_TYPES:Bce,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:qce,REALTIME_PRESENCE_LISTEN_EVENTS:Hce,REALTIME_SUBSCRIBE_STATES:Fce,REALTIME_CHANNEL_STATES:Vce}=pT||U8,B8="https://jbedxxdpqtmprixfxgos.supabase.co",q8="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpiZWR4eGRwcXRtcHJpeGZ4Z29zIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU0NjQxODcsImV4cCI6MjA4MTA0MDE4N30.U-3j_SAvrno9vMAVCsa2RHrmYFs0wLfyYka-Ax0TUQ4",vT=B8,yT=q8;console.warn("Using Fallback Supabase Keys. Please set VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY in your .env file.");const De=gT(vT,yT),bT=x.createContext();function H8({children:e}){const[t,r]=x.useState(()=>{try{const y=localStorage.getItem("ubp_session_user");return y?JSON.parse(y):null}catch{return null}}),[n,a]=x.useState(()=>localStorage.getItem("ubp_user_role")||null),[s,l]=x.useState(()=>!localStorage.getItem("ubp_session_user")),u=async y=>{if(!y){a(null),localStorage.removeItem("ubp_user_role");return}try{const{data:S,error:k}=await De.from("user_roles").select("role").eq("email",y).maybeSingle();if(k){k.code!=="42P01"&&console.error("Error fetching role:",k),a("viewer");return}const _=S?.role||"viewer";a(_),localStorage.setItem("ubp_user_role",_)}catch(S){console.error("Unexpected error fetching role:",S),a("viewer")}};x.useEffect(()=>{let y=!0;De.auth.getSession().then(({data:{session:k}})=>{if(!y)return;const _=k?.user??null;r(_),_?(localStorage.setItem("ubp_session_user",JSON.stringify(_)),u(_.email)):(localStorage.removeItem("ubp_session_user"),localStorage.removeItem("ubp_user_role"),l(!1))});const{data:{subscription:S}}=De.auth.onAuthStateChange((k,_)=>{if(!y)return;const j=_?.user??null;r(j),j?(localStorage.setItem("ubp_session_user",JSON.stringify(j)),u(j.email)):(a(null),localStorage.removeItem("ubp_user_role"),localStorage.removeItem("ubp_session_user"),l(!1))});return()=>{y=!1,S.unsubscribe()}},[]);const v={user:t,userRole:n,signIn:async(y,S)=>{const{error:k}=await De.auth.signInWithPassword({email:y,password:S});if(k)throw k},signUp:async(y,S)=>{const{data:k,error:_}=await De.auth.signUp({email:y,password:S,options:{emailRedirectTo:window.location.origin}});if(_)throw _;return k},signOut:async()=>{const{error:y}=await De.auth.signOut();if(y)throw y},resendVerificationEmail:async y=>{const{error:S}=await De.auth.resend({type:"signup",email:y,options:{emailRedirectTo:window.location.origin}});if(S)throw S},loading:s};return h.jsx(bT.Provider,{value:v,children:!s&&e})}function Nr(){return x.useContext(bT)}const F8="/UBP-Scheduler-V2/assets/ubp_logo_v4-BJtcTMQd.png";function V8({isOpen:e,onClose:t}){const{signIn:r}=Nr(),[n,a]=x.useState(""),[s,l]=x.useState(""),[u,d]=x.useState(null),[f,m]=x.useState(!1);if(!e)return null;const g=async v=>{v.preventDefault(),d(null),m(!0);try{await r(n,s),t()}catch(y){d(y.message)}finally{m(!1)}};return h.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4 transition-all",children:h.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden relative",children:[h.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-500 hover:text-white transition-colors",children:h.jsx(Xs,{className:"h-6 w-6"})}),h.jsxs("div",{className:"p-8",children:[h.jsx("div",{className:"flex justify-center mb-6",children:h.jsx("div",{className:"h-20 w-20 bg-white rounded-full shadow-2xl shadow-blue-500/20 flex items-center justify-center overflow-hidden",children:h.jsx("img",{src:F8,alt:"UBP",className:"h-full w-full object-cover transform scale-105"})})}),h.jsx("h2",{className:"text-2xl font-bold text-white mb-2 text-center",children:"Welcome Back"}),h.jsx("p",{className:"text-gray-400 text-sm mb-6 text-center",children:"Sign in to access your production schedule."}),u&&h.jsx("div",{className:"p-3 rounded-lg mb-4 text-sm font-medium border bg-red-900/30 text-red-300 border-red-800",children:u}),h.jsxs("form",{onSubmit:g,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Email"}),h.jsx("input",{type:"email",required:!0,value:n,onChange:v=>a(v.target.value),className:"mt-1 block w-full rounded-lg bg-gray-800 border-gray-700 text-white placeholder-gray-500 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2.5 border transition-colors",placeholder:"name@company.com"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Password"}),h.jsx("input",{type:"password",required:!0,value:s,onChange:v=>l(v.target.value),className:"mt-1 block w-full rounded-lg bg-gray-800 border-gray-700 text-white placeholder-gray-500 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2.5 border transition-colors",placeholder:""})]}),h.jsx("button",{type:"submit",disabled:f,className:"w-full bg-blue-600 text-white rounded-lg py-2.5 font-bold hover:bg-blue-500 transition-all disabled:opacity-50 shadow-lg shadow-blue-900/20",children:f?"Processing...":"Sign In"})]}),h.jsx("div",{className:"mt-6 text-center text-sm text-gray-500",children:h.jsx("span",{className:"italic",children:"Authorized personnel only."})})]})]})})}const gx="/UBP-Scheduler-V2/assets/ubp_logo_v2-DAzpVElw.png";function K8({onOpenSettings:e,isSaving:t,saveError:r,activeTab:n,setActiveTab:a}){const{user:s,userRole:l,signOut:u}=Nr(),[d,f]=x.useState(!1),[m,g]=x.useState(navigator.onLine),[v,y]=x.useState(!1),S=["admin","planner"].includes(l||"admin");x.useEffect(()=>{const _=()=>y(window.scrollY>10);window.addEventListener("scroll",_);const j=()=>g(!0),N=()=>g(!1);return window.addEventListener("online",j),window.addEventListener("offline",N),()=>{window.removeEventListener("scroll",_),window.removeEventListener("online",j),window.removeEventListener("offline",N)}},[]);const k=({id:_,label:j,icon:N,activeColor:E})=>{const D=n===_;return h.jsxs("button",{onClick:()=>a(_),className:`
                    relative group flex items-center gap-2 px-4 py-2 rounded-full text-sm font-bold transition-all duration-300
                    ${D?"bg-white text-slate-900 shadow-md ring-1 ring-black/5 dark:bg-slate-700 dark:text-white dark:ring-white/10":"text-slate-500 hover:text-slate-800 hover:bg-slate-100/50 dark:text-slate-400 dark:hover:text-slate-200 dark:hover:bg-slate-800/50"}
                `,children:[h.jsx(N,{className:`w-4 h-4 transition-transform duration-300 ${D?"scale-110 "+E:"group-hover:scale-110 opacity-70 group-hover:opacity-100"}`}),h.jsx("span",{children:j}),D&&h.jsx("span",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 w-1 h-1 rounded-full bg-slate-900 dark:bg-white opacity-20"})]})};return h.jsxs(h.Fragment,{children:[h.jsx(V8,{isOpen:d,onClose:()=>f(!1)}),h.jsx("header",{className:`
                sticky top-0 z-50 w-full transition-all duration-500 ease-in-out border-b
                ${v?"bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl border-slate-200/50 dark:border-slate-800/50 shadow-sm py-2":"bg-white dark:bg-slate-900 border-transparent py-4"}
            `,children:h.jsxs("div",{className:"max-w-[1920px] mx-auto px-6 flex justify-between items-center",children:[h.jsxs("div",{className:"flex items-center gap-4 w-[280px]",children:[h.jsx("div",{className:`
                            relative h-10 w-10 rounded-xl bg-gradient-to-br from-blue-600 to-indigo-700 shadow-lg shadow-blue-500/20 
                            flex items-center justify-center overflow-hidden transition-transform hover:scale-105 duration-300
                            ${v?"ring-2 ring-white dark:ring-slate-800":""}
                        `,children:h.jsx("img",{src:gx,alt:"UBP",className:"h-[90%] w-[90%] object-contain drop-shadow-md"})}),h.jsxs("div",{className:"flex flex-col",children:[h.jsxs("h1",{className:"text-base font-black tracking-tight text-slate-900 dark:text-white leading-none",children:["UBP ",h.jsx("span",{className:"text-slate-400 font-medium",children:"Scheduler"})]}),h.jsx("span",{className:"text-[10px] font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-500 to-indigo-500 uppercase tracking-widest mt-0.5",children:"Co-Packer Edition"})]})]}),s&&h.jsxs("nav",{className:`
                            hidden lg:flex items-center p-1.5 rounded-full transition-all duration-300
                            ${v?"bg-slate-100/80 dark:bg-slate-800/80 backdrop-blur-md shadow-inner border border-white/20 dark:border-slate-700/50":"bg-slate-50 dark:bg-slate-800/30"}
                        `,children:[h.jsx(k,{id:"logistics",label:"Floor Ops",icon:J5,activeColor:"text-emerald-500"}),S&&h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"w-px h-4 bg-slate-300 dark:bg-slate-700 mx-2 opacity-50"}),h.jsx(k,{id:"mrp",label:"Materials",icon:Ey,activeColor:"text-blue-500"}),h.jsx(k,{id:"scheduler",label:"Scheduler",icon:W5,activeColor:"text-purple-500"}),h.jsx(k,{id:"master",label:"Master Plan",icon:X5,activeColor:"text-amber-500"})]}),h.jsx("div",{className:"w-px h-4 bg-slate-300 dark:bg-slate-700 mx-2 opacity-50"}),h.jsx(k,{id:"products",label:"Catalog",icon:Zc,activeColor:"text-pink-500"}),S&&h.jsx(k,{id:"import",label:"Import",icon:Q5,activeColor:"text-cyan-500"})]}),h.jsxs("div",{className:"flex items-center justify-end gap-5 w-[280px]",children:[s&&h.jsx("div",{className:"flex items-center gap-3",children:h.jsxs("div",{className:`
                                    flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-bold transition-colors
                                    ${t?"bg-blue-50 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400":r?"bg-rose-50 text-rose-600 dark:bg-rose-900/30 dark:text-rose-400":m?"bg-emerald-50 text-emerald-600 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-slate-100 text-slate-500 dark:bg-slate-800 dark:text-slate-400"}
                                `,title:r||(m?"Online & Synced":"Offline"),children:[h.jsx(B6,{className:`h-3.5 w-3.5 ${t?"animate-bounce":""}`}),h.jsx("span",{className:"hidden xl:inline",children:t?"Saving...":r?"Error":"Synced"})]})}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:()=>window.print(),className:"p-2 text-slate-400 hover:text-slate-700 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-all",title:"Print View",children:h.jsx(sI,{className:"h-5 w-5"})}),h.jsx("button",{onClick:e,className:"p-2 text-slate-400 hover:text-slate-700 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-all group",title:"Settings",children:h.jsx(H6,{className:"h-5 w-5 group-hover:rotate-180 transition-transform duration-700"})})]}),s?h.jsx("div",{className:"flex items-center pl-5 border-l border-slate-200 dark:border-slate-800",children:h.jsxs("button",{onClick:u,className:"flex items-center gap-3 group pl-2",title:"Click to Sign Out",children:[h.jsxs("div",{className:"text-right hidden xl:block",children:[h.jsx("div",{className:"text-xs font-bold text-slate-700 dark:text-slate-200 group-hover:text-rose-500 transition-colors",children:s.email?.split("@")[0]}),h.jsx("div",{className:"text-[10px] font-medium text-slate-400 uppercase tracking-widest group-hover:text-rose-400 transition-colors",children:l||"User"})]}),h.jsx("div",{className:"h-9 w-9 rounded-full bg-gradient-to-tr from-indigo-500 to-purple-600 shadow-md ring-2 ring-white dark:ring-slate-900 flex items-center justify-center text-xs font-bold text-white group-hover:ring-rose-500 transition-all",children:s.email?.[0].toUpperCase()}),h.jsx(S6,{className:"w-4 h-4 text-slate-400 group-hover:text-rose-500 transition-colors xl:hidden"})]})}):h.jsx("button",{onClick:()=>f(!0),className:"px-5 py-2 rounded-full bg-slate-900 text-white text-sm font-bold shadow-lg hover:shadow-xl hover:-translate-y-0.5 transition-all dark:bg-white dark:text-slate-900",children:"Sign In"})]})]})})]})}const wf=async(e,t,r={})=>{const{data:n,error:a}=await De.from("products").select("id").eq("user_id",e).eq("name",t).order("created_at",{ascending:!0}).limit(1).maybeSingle();if(a)throw a;if(n)return n.id;const{data:s,error:l}=await De.from("products").insert({user_id:e,name:t,bottles_per_case:r.bottles_per_case||12,bottles_per_truck:r.bottles_per_truck||2e4,cases_per_pallet:r.cases_per_pallet||100}).select("id").single();if(l)throw console.error("Error creating product:",l),l;return s.id},Z8=async(e,t)=>{const{data:r,error:n}=await De.from("products").select("*").eq("user_id",e).eq("name",t).order("created_at",{ascending:!0}).limit(1).maybeSingle();if(n)throw n;return r},G8=async e=>{const{data:t,error:r}=await De.from("products").select("*").eq("user_id",e);if(r)throw r;return t||[]},Y8=async e=>{const{error:t}=await De.from("products").delete().eq("id",e);if(t)throw t};function me(e,t,r){function n(u,d){if(u._zod||Object.defineProperty(u,"_zod",{value:{def:d,constr:l,traits:new Set},enumerable:!1}),u._zod.traits.has(e))return;u._zod.traits.add(e),t(u,d);const f=l.prototype,m=Object.keys(f);for(let g=0;g<m.length;g++){const v=m[g];v in u||(u[v]=f[v].bind(u))}}const a=r?.Parent??Object;class s extends a{}Object.defineProperty(s,"name",{value:e});function l(u){var d;const f=r?.Parent?new s:this;n(f,u),(d=f._zod).deferred??(d.deferred=[]);for(const m of f._zod.deferred)m();return f}return Object.defineProperty(l,"init",{value:n}),Object.defineProperty(l,Symbol.hasInstance,{value:u=>r?.Parent&&u instanceof r.Parent?!0:u?._zod?.traits?.has(e)}),Object.defineProperty(l,"name",{value:e}),l}class ol extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class xT extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const wT={};function Hs(e){return wT}function _T(e){const t=Object.values(e).filter(n=>typeof n=="number");return Object.entries(e).filter(([n,a])=>t.indexOf(+n)===-1).map(([n,a])=>a)}function Fy(e,t){return typeof t=="bigint"?t.toString():t}function vx(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function yx(e){return e==null}function bx(e){const t=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}function W8(e,t){const r=(e.toString().split(".")[1]||"").length,n=t.toString();let a=(n.split(".")[1]||"").length;if(a===0&&/\d?e-\d?/.test(n)){const d=n.match(/\d?e-(\d?)/);d?.[1]&&(a=Number.parseInt(d[1]))}const s=r>a?r:a,l=Number.parseInt(e.toFixed(s).replace(".","")),u=Number.parseInt(t.toFixed(s).replace(".",""));return l%u/10**s}const G2=Symbol("evaluating");function dt(e,t,r){let n;Object.defineProperty(e,t,{get(){if(n!==G2)return n===void 0&&(n=G2,n=r()),n},set(a){Object.defineProperty(e,t,{value:a})},configurable:!0})}function Js(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function Qs(...e){const t={};for(const r of e){const n=Object.getOwnPropertyDescriptors(r);Object.assign(t,n)}return Object.defineProperties({},t)}function Y2(e){return JSON.stringify(e)}function X8(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const ST="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function mh(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const J8=vx(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function ru(e){if(mh(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const r=t.prototype;return!(mh(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function kT(e){return ru(e)?{...e}:Array.isArray(e)?[...e]:e}const Q8=new Set(["string","number","symbol"]);function g0(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Qi(e,t,r){const n=new e._zod.constr(t??e._zod.def);return(!t||r?.parent)&&(n._zod.parent=e),n}function Pe(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function ez(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const tz={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function rz(e,t){const r=e._zod.def,n=Qs(e._zod.def,{get shape(){const a={};for(const s in t){if(!(s in r.shape))throw new Error(`Unrecognized key: "${s}"`);t[s]&&(a[s]=r.shape[s])}return Js(this,"shape",a),a},checks:[]});return Qi(e,n)}function nz(e,t){const r=e._zod.def,n=Qs(e._zod.def,{get shape(){const a={...e._zod.def.shape};for(const s in t){if(!(s in r.shape))throw new Error(`Unrecognized key: "${s}"`);t[s]&&delete a[s]}return Js(this,"shape",a),a},checks:[]});return Qi(e,n)}function az(e,t){if(!ru(t))throw new Error("Invalid input to extend: expected a plain object");const r=e._zod.def.checks;if(r&&r.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const a=Qs(e._zod.def,{get shape(){const s={...e._zod.def.shape,...t};return Js(this,"shape",s),s},checks:[]});return Qi(e,a)}function iz(e,t){if(!ru(t))throw new Error("Invalid input to safeExtend: expected a plain object");const r={...e._zod.def,get shape(){const n={...e._zod.def.shape,...t};return Js(this,"shape",n),n},checks:e._zod.def.checks};return Qi(e,r)}function sz(e,t){const r=Qs(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return Js(this,"shape",n),n},get catchall(){return t._zod.def.catchall},checks:[]});return Qi(e,r)}function oz(e,t,r){const n=Qs(t._zod.def,{get shape(){const a=t._zod.def.shape,s={...a};if(r)for(const l in r){if(!(l in a))throw new Error(`Unrecognized key: "${l}"`);r[l]&&(s[l]=e?new e({type:"optional",innerType:a[l]}):a[l])}else for(const l in a)s[l]=e?new e({type:"optional",innerType:a[l]}):a[l];return Js(this,"shape",s),s},checks:[]});return Qi(t,n)}function lz(e,t,r){const n=Qs(t._zod.def,{get shape(){const a=t._zod.def.shape,s={...a};if(r)for(const l in r){if(!(l in s))throw new Error(`Unrecognized key: "${l}"`);r[l]&&(s[l]=new e({type:"nonoptional",innerType:a[l]}))}else for(const l in a)s[l]=new e({type:"nonoptional",innerType:a[l]});return Js(this,"shape",s),s},checks:[]});return Qi(t,n)}function tl(e,t=0){if(e.aborted===!0)return!0;for(let r=t;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}function jT(e,t){return t.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(e),r})}function _f(e){return typeof e=="string"?e:e?.message}function Fs(e,t,r){const n={...e,path:e.path??[]};if(!e.message){const a=_f(e.inst?._zod.def?.error?.(e))??_f(t?.error?.(e))??_f(r.customError?.(e))??_f(r.localeError?.(e))??"Invalid input";n.message=a}return delete n.inst,delete n.continue,t?.reportInput||delete n.input,n}function xx(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function nu(...e){const[t,r,n]=e;return typeof t=="string"?{message:t,code:"custom",input:r,inst:n}:{...t}}const ET=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,Fy,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},NT=me("$ZodError",ET),OT=me("$ZodError",ET,{Parent:Error});function cz(e,t=r=>r.message){const r={},n=[];for(const a of e.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(t(a))):n.push(t(a));return{formErrors:n,fieldErrors:r}}function uz(e,t=r=>r.message){const r={_errors:[]},n=a=>{for(const s of a.issues)if(s.code==="invalid_union"&&s.errors.length)s.errors.map(l=>n({issues:l}));else if(s.code==="invalid_key")n({issues:s.issues});else if(s.code==="invalid_element")n({issues:s.issues});else if(s.path.length===0)r._errors.push(t(s));else{let l=r,u=0;for(;u<s.path.length;){const d=s.path[u];u===s.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(t(s))):l[d]=l[d]||{_errors:[]},l=l[d],u++}}};return n(e),r}const wx=e=>(t,r,n,a)=>{const s=n?Object.assign(n,{async:!1}):{async:!1},l=t._zod.run({value:r,issues:[]},s);if(l instanceof Promise)throw new ol;if(l.issues.length){const u=new(a?.Err??e)(l.issues.map(d=>Fs(d,s,Hs())));throw ST(u,a?.callee),u}return l.value},_x=e=>async(t,r,n,a)=>{const s=n?Object.assign(n,{async:!0}):{async:!0};let l=t._zod.run({value:r,issues:[]},s);if(l instanceof Promise&&(l=await l),l.issues.length){const u=new(a?.Err??e)(l.issues.map(d=>Fs(d,s,Hs())));throw ST(u,a?.callee),u}return l.value},v0=e=>(t,r,n)=>{const a=n?{...n,async:!1}:{async:!1},s=t._zod.run({value:r,issues:[]},a);if(s instanceof Promise)throw new ol;return s.issues.length?{success:!1,error:new(e??NT)(s.issues.map(l=>Fs(l,a,Hs())))}:{success:!0,data:s.value}},dz=v0(OT),y0=e=>async(t,r,n)=>{const a=n?Object.assign(n,{async:!0}):{async:!0};let s=t._zod.run({value:r,issues:[]},a);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new e(s.issues.map(l=>Fs(l,a,Hs())))}:{success:!0,data:s.value}},fz=y0(OT),hz=e=>(t,r,n)=>{const a=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return wx(e)(t,r,a)},mz=e=>(t,r,n)=>wx(e)(t,r,n),pz=e=>async(t,r,n)=>{const a=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return _x(e)(t,r,a)},gz=e=>async(t,r,n)=>_x(e)(t,r,n),vz=e=>(t,r,n)=>{const a=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return v0(e)(t,r,a)},yz=e=>(t,r,n)=>v0(e)(t,r,n),bz=e=>async(t,r,n)=>{const a=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return y0(e)(t,r,a)},xz=e=>async(t,r,n)=>y0(e)(t,r,n),wz=/^[cC][^\s-]{8,}$/,_z=/^[0-9a-z]+$/,Sz=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,kz=/^[0-9a-vA-V]{20}$/,jz=/^[A-Za-z0-9]{27}$/,Ez=/^[a-zA-Z0-9_-]{21}$/,Nz=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,Oz=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,W2=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,Az=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,Tz="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function Cz(){return new RegExp(Tz,"u")}const Pz=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Dz=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,Rz=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,Mz=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,$z=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,AT=/^[A-Za-z0-9_-]*$/,Iz=/^\+(?:[0-9]){6,14}[0-9]$/,TT="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",Lz=new RegExp(`^${TT}$`);function CT(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function zz(e){return new RegExp(`^${CT(e)}$`)}function Uz(e){const t=CT({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const n=`${t}(?:${r.join("|")})`;return new RegExp(`^${TT}T(?:${n})$`)}const Bz=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},qz=/^-?\d+$/,Hz=/^-?\d+(?:\.\d+)?/,Fz=/^(?:true|false)$/i,Vz=/^[^A-Z]*$/,Kz=/^[^a-z]*$/,Jr=me("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),PT={number:"number",bigint:"bigint",object:"date"},DT=me("$ZodCheckLessThan",(e,t)=>{Jr.init(e,t);const r=PT[typeof t.value];e._zod.onattach.push(n=>{const a=n._zod.bag,s=(t.inclusive?a.maximum:a.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<s&&(t.inclusive?a.maximum=t.value:a.exclusiveMaximum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value<=t.value:n.value<t.value)||n.issues.push({origin:r,code:"too_big",maximum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),RT=me("$ZodCheckGreaterThan",(e,t)=>{Jr.init(e,t);const r=PT[typeof t.value];e._zod.onattach.push(n=>{const a=n._zod.bag,s=(t.inclusive?a.minimum:a.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>s&&(t.inclusive?a.minimum=t.value:a.exclusiveMinimum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value>=t.value:n.value>t.value)||n.issues.push({origin:r,code:"too_small",minimum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Zz=me("$ZodCheckMultipleOf",(e,t)=>{Jr.init(e,t),e._zod.onattach.push(r=>{var n;(n=r._zod.bag).multipleOf??(n.multipleOf=t.value)}),e._zod.check=r=>{if(typeof r.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%t.value===BigInt(0):W8(r.value,t.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:e,continue:!t.abort})}}),Gz=me("$ZodCheckNumberFormat",(e,t)=>{Jr.init(e,t),t.format=t.format||"float64";const r=t.format?.includes("int"),n=r?"int":"number",[a,s]=tz[t.format];e._zod.onattach.push(l=>{const u=l._zod.bag;u.format=t.format,u.minimum=a,u.maximum=s,r&&(u.pattern=qz)}),e._zod.check=l=>{const u=l.value;if(r){if(!Number.isInteger(u)){l.issues.push({expected:n,format:t.format,code:"invalid_type",continue:!1,input:u,inst:e});return}if(!Number.isSafeInteger(u)){u>0?l.issues.push({input:u,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort}):l.issues.push({input:u,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort});return}}u<a&&l.issues.push({origin:"number",input:u,code:"too_small",minimum:a,inclusive:!0,inst:e,continue:!t.abort}),u>s&&l.issues.push({origin:"number",input:u,code:"too_big",maximum:s,inst:e})}}),Yz=me("$ZodCheckMaxLength",(e,t)=>{var r;Jr.init(e,t),(r=e._zod.def).when??(r.when=n=>{const a=n.value;return!yx(a)&&a.length!==void 0}),e._zod.onattach.push(n=>{const a=n._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<a&&(n._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{const a=n.value;if(a.length<=t.maximum)return;const l=xx(a);n.issues.push({origin:l,code:"too_big",maximum:t.maximum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),Wz=me("$ZodCheckMinLength",(e,t)=>{var r;Jr.init(e,t),(r=e._zod.def).when??(r.when=n=>{const a=n.value;return!yx(a)&&a.length!==void 0}),e._zod.onattach.push(n=>{const a=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>a&&(n._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{const a=n.value;if(a.length>=t.minimum)return;const l=xx(a);n.issues.push({origin:l,code:"too_small",minimum:t.minimum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),Xz=me("$ZodCheckLengthEquals",(e,t)=>{var r;Jr.init(e,t),(r=e._zod.def).when??(r.when=n=>{const a=n.value;return!yx(a)&&a.length!==void 0}),e._zod.onattach.push(n=>{const a=n._zod.bag;a.minimum=t.length,a.maximum=t.length,a.length=t.length}),e._zod.check=n=>{const a=n.value,s=a.length;if(s===t.length)return;const l=xx(a),u=s>t.length;n.issues.push({origin:l,...u?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),b0=me("$ZodCheckStringFormat",(e,t)=>{var r,n;Jr.init(e,t),e._zod.onattach.push(a=>{const s=a._zod.bag;s.format=t.format,t.pattern&&(s.patterns??(s.patterns=new Set),s.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=a=>{t.pattern.lastIndex=0,!t.pattern.test(a.value)&&a.issues.push({origin:"string",code:"invalid_format",format:t.format,input:a.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(n=e._zod).check??(n.check=()=>{})}),Jz=me("$ZodCheckRegex",(e,t)=>{b0.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),Qz=me("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=Vz),b0.init(e,t)}),e7=me("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=Kz),b0.init(e,t)}),t7=me("$ZodCheckIncludes",(e,t)=>{Jr.init(e,t);const r=g0(t.includes),n=new RegExp(typeof t.position=="number"?`^.{${t.position}}${r}`:r);t.pattern=n,e._zod.onattach.push(a=>{const s=a._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),e._zod.check=a=>{a.value.includes(t.includes,t.position)||a.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:a.value,inst:e,continue:!t.abort})}}),r7=me("$ZodCheckStartsWith",(e,t)=>{Jr.init(e,t);const r=new RegExp(`^${g0(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const a=n._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(r)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),n7=me("$ZodCheckEndsWith",(e,t)=>{Jr.init(e,t);const r=new RegExp(`.*${g0(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const a=n._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(r)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}}),a7=me("$ZodCheckOverwrite",(e,t)=>{Jr.init(e,t),e._zod.check=r=>{r.value=t.tx(r.value)}});class i7{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const n=t.split(`
`).filter(l=>l),a=Math.min(...n.map(l=>l.length-l.trimStart().length)),s=n.map(l=>l.slice(a)).map(l=>" ".repeat(this.indent*2)+l);for(const l of s)this.content.push(l)}compile(){const t=Function,r=this?.args,a=[...(this?.content??[""]).map(s=>`  ${s}`)];return new t(...r,a.join(`
`))}}const s7={major:4,minor:2,patch:1},Ct=me("$ZodType",(e,t)=>{var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=s7;const n=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&n.unshift(e);for(const a of n)for(const s of a._zod.onattach)s(e);if(n.length===0)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const a=(l,u,d)=>{let f=tl(l),m;for(const g of u){if(g._zod.def.when){if(!g._zod.def.when(l))continue}else if(f)continue;const v=l.issues.length,y=g._zod.check(l);if(y instanceof Promise&&d?.async===!1)throw new ol;if(m||y instanceof Promise)m=(m??Promise.resolve()).then(async()=>{await y,l.issues.length!==v&&(f||(f=tl(l,v)))});else{if(l.issues.length===v)continue;f||(f=tl(l,v))}}return m?m.then(()=>l):l},s=(l,u,d)=>{if(tl(l))return l.aborted=!0,l;const f=a(u,n,d);if(f instanceof Promise){if(d.async===!1)throw new ol;return f.then(m=>e._zod.parse(m,d))}return e._zod.parse(f,d)};e._zod.run=(l,u)=>{if(u.skipChecks)return e._zod.parse(l,u);if(u.direction==="backward"){const f=e._zod.parse({value:l.value,issues:[]},{...u,skipChecks:!0});return f instanceof Promise?f.then(m=>s(m,l,u)):s(f,l,u)}const d=e._zod.parse(l,u);if(d instanceof Promise){if(u.async===!1)throw new ol;return d.then(f=>a(f,n,u))}return a(d,n,u)}}e["~standard"]={validate:a=>{try{const s=dz(e,a);return s.success?{value:s.data}:{issues:s.error?.issues}}catch{return fz(e,a).then(l=>l.success?{value:l.data}:{issues:l.error?.issues})}},vendor:"zod",version:1}}),Sx=me("$ZodString",(e,t)=>{Ct.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??Bz(e._zod.bag),e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),St=me("$ZodStringFormat",(e,t)=>{b0.init(e,t),Sx.init(e,t)}),o7=me("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=Oz),St.init(e,t)}),l7=me("$ZodUUID",(e,t)=>{if(t.version){const n={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(n===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=W2(n))}else t.pattern??(t.pattern=W2());St.init(e,t)}),c7=me("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=Az),St.init(e,t)}),u7=me("$ZodURL",(e,t)=>{St.init(e,t),e._zod.check=r=>{try{const n=r.value.trim(),a=new URL(n);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(a.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(a.protocol.endsWith(":")?a.protocol.slice(0,-1):a.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),t.normalize?r.value=a.href:r.value=n;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),d7=me("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=Cz()),St.init(e,t)}),f7=me("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=Ez),St.init(e,t)}),h7=me("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=wz),St.init(e,t)}),m7=me("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=_z),St.init(e,t)}),p7=me("$ZodULID",(e,t)=>{t.pattern??(t.pattern=Sz),St.init(e,t)}),g7=me("$ZodXID",(e,t)=>{t.pattern??(t.pattern=kz),St.init(e,t)}),v7=me("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=jz),St.init(e,t)}),y7=me("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=Uz(t)),St.init(e,t)}),b7=me("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=Lz),St.init(e,t)}),x7=me("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=zz(t)),St.init(e,t)}),w7=me("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=Nz),St.init(e,t)}),_7=me("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=Pz),St.init(e,t),e._zod.bag.format="ipv4"}),S7=me("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=Dz),St.init(e,t),e._zod.bag.format="ipv6",e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),k7=me("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=Rz),St.init(e,t)}),j7=me("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=Mz),St.init(e,t),e._zod.check=r=>{const n=r.value.split("/");try{if(n.length!==2)throw new Error;const[a,s]=n;if(!s)throw new Error;const l=Number(s);if(`${l}`!==s)throw new Error;if(l<0||l>128)throw new Error;new URL(`http://[${a}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function MT(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const E7=me("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=$z),St.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=r=>{MT(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function N7(e){if(!AT.test(e))return!1;const t=e.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=t.padEnd(Math.ceil(t.length/4)*4,"=");return MT(r)}const O7=me("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=AT),St.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=r=>{N7(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),A7=me("$ZodE164",(e,t)=>{t.pattern??(t.pattern=Iz),St.init(e,t)});function T7(e,t=null){try{const r=e.split(".");if(r.length!==3)return!1;const[n]=r;if(!n)return!1;const a=JSON.parse(atob(n));return!("typ"in a&&a?.typ!=="JWT"||!a.alg||t&&(!("alg"in a)||a.alg!==t))}catch{return!1}}const C7=me("$ZodJWT",(e,t)=>{St.init(e,t),e._zod.check=r=>{T7(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),$T=me("$ZodNumber",(e,t)=>{Ct.init(e,t),e._zod.pattern=e._zod.bag.pattern??Hz,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=Number(r.value)}catch{}const a=r.value;if(typeof a=="number"&&!Number.isNaN(a)&&Number.isFinite(a))return r;const s=typeof a=="number"?Number.isNaN(a)?"NaN":Number.isFinite(a)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:a,inst:e,...s?{received:s}:{}}),r}}),P7=me("$ZodNumberFormat",(e,t)=>{Gz.init(e,t),$T.init(e,t)}),D7=me("$ZodBoolean",(e,t)=>{Ct.init(e,t),e._zod.pattern=Fz,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=!!r.value}catch{}const a=r.value;return typeof a=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:a,inst:e}),r}}),R7=me("$ZodAny",(e,t)=>{Ct.init(e,t),e._zod.parse=r=>r}),M7=me("$ZodUnknown",(e,t)=>{Ct.init(e,t),e._zod.parse=r=>r}),$7=me("$ZodNever",(e,t)=>{Ct.init(e,t),e._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)});function X2(e,t,r){e.issues.length&&t.issues.push(...jT(r,e.issues)),t.value[r]=e.value}const I7=me("$ZodArray",(e,t)=>{Ct.init(e,t),e._zod.parse=(r,n)=>{const a=r.value;if(!Array.isArray(a))return r.issues.push({expected:"array",code:"invalid_type",input:a,inst:e}),r;r.value=Array(a.length);const s=[];for(let l=0;l<a.length;l++){const u=a[l],d=t.element._zod.run({value:u,issues:[]},n);d instanceof Promise?s.push(d.then(f=>X2(f,r,l))):X2(d,r,l)}return s.length?Promise.all(s).then(()=>r):r}});function ph(e,t,r,n){e.issues.length&&t.issues.push(...jT(r,e.issues)),e.value===void 0?r in n&&(t.value[r]=void 0):t.value[r]=e.value}function IT(e){const t=Object.keys(e.shape);for(const n of t)if(!e.shape?.[n]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${n}": expected a Zod schema`);const r=ez(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(r)}}function LT(e,t,r,n,a,s){const l=[],u=a.keySet,d=a.catchall._zod,f=d.def.type;for(const m in t){if(u.has(m))continue;if(f==="never"){l.push(m);continue}const g=d.run({value:t[m],issues:[]},n);g instanceof Promise?e.push(g.then(v=>ph(v,r,m,t))):ph(g,r,m,t)}return l.length&&r.issues.push({code:"unrecognized_keys",keys:l,input:t,inst:s}),e.length?Promise.all(e).then(()=>r):r}const L7=me("$ZodObject",(e,t)=>{if(Ct.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){const u=t.shape;Object.defineProperty(t,"shape",{get:()=>{const d={...u};return Object.defineProperty(t,"shape",{value:d}),d}})}const n=vx(()=>IT(t));dt(e._zod,"propValues",()=>{const u=t.shape,d={};for(const f in u){const m=u[f]._zod;if(m.values){d[f]??(d[f]=new Set);for(const g of m.values)d[f].add(g)}}return d});const a=mh,s=t.catchall;let l;e._zod.parse=(u,d)=>{l??(l=n.value);const f=u.value;if(!a(f))return u.issues.push({expected:"object",code:"invalid_type",input:f,inst:e}),u;u.value={};const m=[],g=l.shape;for(const v of l.keys){const S=g[v]._zod.run({value:f[v],issues:[]},d);S instanceof Promise?m.push(S.then(k=>ph(k,u,v,f))):ph(S,u,v,f)}return s?LT(m,f,u,d,n.value,e):m.length?Promise.all(m).then(()=>u):u}}),z7=me("$ZodObjectJIT",(e,t)=>{L7.init(e,t);const r=e._zod.parse,n=vx(()=>IT(t)),a=v=>{const y=new i7(["shape","payload","ctx"]),S=n.value,k=E=>{const D=Y2(E);return`shape[${D}]._zod.run({ value: input[${D}], issues: [] }, ctx)`};y.write("const input = payload.value;");const _=Object.create(null);let j=0;for(const E of S.keys)_[E]=`key_${j++}`;y.write("const newResult = {};");for(const E of S.keys){const D=_[E],O=Y2(E);y.write(`const ${D} = ${k(E)};`),y.write(`
        if (${D}.issues.length) {
          payload.issues = payload.issues.concat(${D}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${O}, ...iss.path] : [${O}]
          })));
        }
        
        
        if (${D}.value === undefined) {
          if (${O} in input) {
            newResult[${O}] = undefined;
          }
        } else {
          newResult[${O}] = ${D}.value;
        }
        
      `)}y.write("payload.value = newResult;"),y.write("return payload;");const N=y.compile();return(E,D)=>N(v,E,D)};let s;const l=mh,u=!wT.jitless,f=u&&J8.value,m=t.catchall;let g;e._zod.parse=(v,y)=>{g??(g=n.value);const S=v.value;return l(S)?u&&f&&y?.async===!1&&y.jitless!==!0?(s||(s=a(t.shape)),v=s(v,y),m?LT([],S,v,y,g,e):v):r(v,y):(v.issues.push({expected:"object",code:"invalid_type",input:S,inst:e}),v)}});function J2(e,t,r,n){for(const s of e)if(s.issues.length===0)return t.value=s.value,t;const a=e.filter(s=>!tl(s));return a.length===1?(t.value=a[0].value,a[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(s=>s.issues.map(l=>Fs(l,n,Hs())))}),t)}const U7=me("$ZodUnion",(e,t)=>{Ct.init(e,t),dt(e._zod,"optin",()=>t.options.some(a=>a._zod.optin==="optional")?"optional":void 0),dt(e._zod,"optout",()=>t.options.some(a=>a._zod.optout==="optional")?"optional":void 0),dt(e._zod,"values",()=>{if(t.options.every(a=>a._zod.values))return new Set(t.options.flatMap(a=>Array.from(a._zod.values)))}),dt(e._zod,"pattern",()=>{if(t.options.every(a=>a._zod.pattern)){const a=t.options.map(s=>s._zod.pattern);return new RegExp(`^(${a.map(s=>bx(s.source)).join("|")})$`)}});const r=t.options.length===1,n=t.options[0]._zod.run;e._zod.parse=(a,s)=>{if(r)return n(a,s);let l=!1;const u=[];for(const d of t.options){const f=d._zod.run({value:a.value,issues:[]},s);if(f instanceof Promise)u.push(f),l=!0;else{if(f.issues.length===0)return f;u.push(f)}}return l?Promise.all(u).then(d=>J2(d,a,e,s)):J2(u,a,e,s)}}),B7=me("$ZodIntersection",(e,t)=>{Ct.init(e,t),e._zod.parse=(r,n)=>{const a=r.value,s=t.left._zod.run({value:a,issues:[]},n),l=t.right._zod.run({value:a,issues:[]},n);return s instanceof Promise||l instanceof Promise?Promise.all([s,l]).then(([d,f])=>Q2(r,d,f)):Q2(r,s,l)}});function Vy(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(ru(e)&&ru(t)){const r=Object.keys(t),n=Object.keys(e).filter(s=>r.indexOf(s)!==-1),a={...e,...t};for(const s of n){const l=Vy(e[s],t[s]);if(!l.valid)return{valid:!1,mergeErrorPath:[s,...l.mergeErrorPath]};a[s]=l.data}return{valid:!0,data:a}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let n=0;n<e.length;n++){const a=e[n],s=t[n],l=Vy(a,s);if(!l.valid)return{valid:!1,mergeErrorPath:[n,...l.mergeErrorPath]};r.push(l.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function Q2(e,t,r){if(t.issues.length&&e.issues.push(...t.issues),r.issues.length&&e.issues.push(...r.issues),tl(e))return e;const n=Vy(t.value,r.value);if(!n.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(n.mergeErrorPath)}`);return e.value=n.data,e}const q7=me("$ZodEnum",(e,t)=>{Ct.init(e,t);const r=_T(t.entries),n=new Set(r);e._zod.values=n,e._zod.pattern=new RegExp(`^(${r.filter(a=>Q8.has(typeof a)).map(a=>typeof a=="string"?g0(a):a.toString()).join("|")})$`),e._zod.parse=(a,s)=>{const l=a.value;return n.has(l)||a.issues.push({code:"invalid_value",values:r,input:l,inst:e}),a}}),H7=me("$ZodTransform",(e,t)=>{Ct.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new xT(e.constructor.name);const a=t.transform(r.value,r);if(n.async)return(a instanceof Promise?a:Promise.resolve(a)).then(l=>(r.value=l,r));if(a instanceof Promise)throw new ol;return r.value=a,r}});function ej(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const F7=me("$ZodOptional",(e,t)=>{Ct.init(e,t),e._zod.optin="optional",e._zod.optout="optional",dt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),dt(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${bx(r.source)})?$`):void 0}),e._zod.parse=(r,n)=>{if(t.innerType._zod.optin==="optional"){const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(s=>ej(s,r.value)):ej(a,r.value)}return r.value===void 0?r:t.innerType._zod.run(r,n)}}),V7=me("$ZodNullable",(e,t)=>{Ct.init(e,t),dt(e._zod,"optin",()=>t.innerType._zod.optin),dt(e._zod,"optout",()=>t.innerType._zod.optout),dt(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${bx(r.source)}|null)$`):void 0}),dt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(r,n)=>r.value===null?r:t.innerType._zod.run(r,n)}),K7=me("$ZodDefault",(e,t)=>{Ct.init(e,t),e._zod.optin="optional",dt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);if(r.value===void 0)return r.value=t.defaultValue,r;const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(s=>tj(s,t)):tj(a,t)}});function tj(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const Z7=me("$ZodPrefault",(e,t)=>{Ct.init(e,t),e._zod.optin="optional",dt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>(n.direction==="backward"||r.value===void 0&&(r.value=t.defaultValue),t.innerType._zod.run(r,n))}),G7=me("$ZodNonOptional",(e,t)=>{Ct.init(e,t),dt(e._zod,"values",()=>{const r=t.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),e._zod.parse=(r,n)=>{const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(s=>rj(s,e)):rj(a,e)}});function rj(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const Y7=me("$ZodCatch",(e,t)=>{Ct.init(e,t),dt(e._zod,"optin",()=>t.innerType._zod.optin),dt(e._zod,"optout",()=>t.innerType._zod.optout),dt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(s=>(r.value=s.value,s.issues.length&&(r.value=t.catchValue({...r,error:{issues:s.issues.map(l=>Fs(l,n,Hs()))},input:r.value}),r.issues=[]),r)):(r.value=a.value,a.issues.length&&(r.value=t.catchValue({...r,error:{issues:a.issues.map(s=>Fs(s,n,Hs()))},input:r.value}),r.issues=[]),r)}}),W7=me("$ZodPipe",(e,t)=>{Ct.init(e,t),dt(e._zod,"values",()=>t.in._zod.values),dt(e._zod,"optin",()=>t.in._zod.optin),dt(e._zod,"optout",()=>t.out._zod.optout),dt(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(r,n)=>{if(n.direction==="backward"){const s=t.out._zod.run(r,n);return s instanceof Promise?s.then(l=>Sf(l,t.in,n)):Sf(s,t.in,n)}const a=t.in._zod.run(r,n);return a instanceof Promise?a.then(s=>Sf(s,t.out,n)):Sf(a,t.out,n)}});function Sf(e,t,r){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},r)}const X7=me("$ZodReadonly",(e,t)=>{Ct.init(e,t),dt(e._zod,"propValues",()=>t.innerType._zod.propValues),dt(e._zod,"values",()=>t.innerType._zod.values),dt(e._zod,"optin",()=>t.innerType?._zod?.optin),dt(e._zod,"optout",()=>t.innerType?._zod?.optout),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(nj):nj(a)}});function nj(e){return e.value=Object.freeze(e.value),e}const J7=me("$ZodCustom",(e,t)=>{Jr.init(e,t),Ct.init(e,t),e._zod.parse=(r,n)=>r,e._zod.check=r=>{const n=r.value,a=t.fn(n);if(a instanceof Promise)return a.then(s=>aj(s,r,n,e));aj(a,r,n,e)}});function aj(e,t,r,n){if(!e){const a={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(a.params=n._zod.def.params),t.issues.push(nu(a))}}var ij;class Q7{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...r){const n=r[0];if(this._map.set(t,n),n&&typeof n=="object"&&"id"in n){if(this._idmap.has(n.id))throw new Error(`ID ${n.id} already exists in the registry`);this._idmap.set(n.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const r=this._map.get(t);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(t),this}get(t){const r=t._zod.parent;if(r){const n={...this.get(r)??{}};delete n.id;const a={...n,...this._map.get(t)};return Object.keys(a).length?a:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function eU(){return new Q7}(ij=globalThis).__zod_globalRegistry??(ij.__zod_globalRegistry=eU());const Bc=globalThis.__zod_globalRegistry;function tU(e,t){return new e({type:"string",...Pe(t)})}function rU(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...Pe(t)})}function sj(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...Pe(t)})}function nU(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...Pe(t)})}function aU(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Pe(t)})}function iU(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Pe(t)})}function sU(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Pe(t)})}function oU(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...Pe(t)})}function lU(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...Pe(t)})}function cU(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...Pe(t)})}function uU(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...Pe(t)})}function dU(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...Pe(t)})}function fU(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...Pe(t)})}function hU(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...Pe(t)})}function mU(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...Pe(t)})}function pU(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...Pe(t)})}function gU(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...Pe(t)})}function vU(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Pe(t)})}function yU(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Pe(t)})}function bU(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...Pe(t)})}function xU(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...Pe(t)})}function wU(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...Pe(t)})}function _U(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...Pe(t)})}function SU(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Pe(t)})}function kU(e,t){return new e({type:"string",format:"date",check:"string_format",...Pe(t)})}function jU(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...Pe(t)})}function EU(e,t){return new e({type:"string",format:"duration",check:"string_format",...Pe(t)})}function NU(e,t){return new e({type:"number",checks:[],...Pe(t)})}function OU(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...Pe(t)})}function AU(e,t){return new e({type:"boolean",...Pe(t)})}function TU(e){return new e({type:"any"})}function CU(e){return new e({type:"unknown"})}function PU(e,t){return new e({type:"never",...Pe(t)})}function oj(e,t){return new DT({check:"less_than",...Pe(t),value:e,inclusive:!1})}function Bg(e,t){return new DT({check:"less_than",...Pe(t),value:e,inclusive:!0})}function lj(e,t){return new RT({check:"greater_than",...Pe(t),value:e,inclusive:!1})}function qg(e,t){return new RT({check:"greater_than",...Pe(t),value:e,inclusive:!0})}function cj(e,t){return new Zz({check:"multiple_of",...Pe(t),value:e})}function zT(e,t){return new Yz({check:"max_length",...Pe(t),maximum:e})}function gh(e,t){return new Wz({check:"min_length",...Pe(t),minimum:e})}function UT(e,t){return new Xz({check:"length_equals",...Pe(t),length:e})}function DU(e,t){return new Jz({check:"string_format",format:"regex",...Pe(t),pattern:e})}function RU(e){return new Qz({check:"string_format",format:"lowercase",...Pe(e)})}function MU(e){return new e7({check:"string_format",format:"uppercase",...Pe(e)})}function $U(e,t){return new t7({check:"string_format",format:"includes",...Pe(t),includes:e})}function IU(e,t){return new r7({check:"string_format",format:"starts_with",...Pe(t),prefix:e})}function LU(e,t){return new n7({check:"string_format",format:"ends_with",...Pe(t),suffix:e})}function kl(e){return new a7({check:"overwrite",tx:e})}function zU(e){return kl(t=>t.normalize(e))}function UU(){return kl(e=>e.trim())}function BU(){return kl(e=>e.toLowerCase())}function qU(){return kl(e=>e.toUpperCase())}function HU(){return kl(e=>X8(e))}function FU(e,t,r){return new e({type:"array",element:t,...Pe(r)})}function VU(e,t,r){return new e({type:"custom",check:"custom",fn:t,...Pe(r)})}function KU(e){const t=ZU(r=>(r.addIssue=n=>{if(typeof n=="string")r.issues.push(nu(n,r.value,t._zod.def));else{const a=n;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=r.value),a.inst??(a.inst=t),a.continue??(a.continue=!t._zod.def.abort),r.issues.push(nu(a))}},e(r.value,r)));return t}function ZU(e,t){const r=new Jr({check:"custom",...Pe(t)});return r._zod.check=e,r}function BT(e){let t=e?.target??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:e?.metadata??Bc,target:t,unrepresentable:e?.unrepresentable??"throw",override:e?.override??(()=>{}),io:e?.io??"output",counter:0,seen:new Map,cycles:e?.cycles??"ref",reused:e?.reused??"inline",external:e?.external??void 0}}function vr(e,t,r={path:[],schemaPath:[]}){var n;const a=e._zod.def,s=t.seen.get(e);if(s)return s.count++,r.schemaPath.includes(e)&&(s.cycle=r.path),s.schema;const l={schema:{},count:1,cycle:void 0,path:r.path};t.seen.set(e,l);const u=e._zod.toJSONSchema?.();if(u)l.schema=u;else{const m={...r,schemaPath:[...r.schemaPath,e],path:r.path},g=e._zod.parent;if(g)l.ref=g,vr(g,t,m),t.seen.get(g).isParent=!0;else if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,l.schema,m);else{const v=l.schema,y=t.processors[a.type];if(!y)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${a.type}`);y(e,t,v,m)}}const d=t.metadataRegistry.get(e);return d&&Object.assign(l.schema,d),t.io==="input"&&Cr(e)&&(delete l.schema.examples,delete l.schema.default),t.io==="input"&&l.schema._prefault&&((n=l.schema).default??(n.default=l.schema._prefault)),delete l.schema._prefault,t.seen.get(e).schema}function qT(e,t){const r=e.seen.get(t);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");const n=s=>{const l=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const m=e.external.registry.get(s[0])?.id,g=e.external.uri??(y=>y);if(m)return{ref:g(m)};const v=s[1].defId??s[1].schema.id??`schema${e.counter++}`;return s[1].defId=v,{defId:v,ref:`${g("__shared")}#/${l}/${v}`}}if(s[1]===r)return{ref:"#"};const d=`#/${l}/`,f=s[1].schema.id??`__schema${e.counter++}`;return{defId:f,ref:d+f}},a=s=>{if(s[1].schema.$ref)return;const l=s[1],{ref:u,defId:d}=n(s);l.def={...l.schema},d&&(l.defId=d);const f=l.schema;for(const m in f)delete f[m];f.$ref=u};if(e.cycles==="throw")for(const s of e.seen.entries()){const l=s[1];if(l.cycle)throw new Error(`Cycle detected: #/${l.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const s of e.seen.entries()){const l=s[1];if(t===s[0]){a(s);continue}if(e.external){const d=e.external.registry.get(s[0])?.id;if(t!==s[0]&&d){a(s);continue}}if(e.metadataRegistry.get(s[0])?.id){a(s);continue}if(l.cycle){a(s);continue}if(l.count>1&&e.reused==="ref"){a(s);continue}}}function HT(e,t){const r=e.seen.get(t);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");const n=l=>{const u=e.seen.get(l),d=u.def??u.schema,f={...d};if(u.ref===null)return;const m=u.ref;if(u.ref=null,m){n(m);const g=e.seen.get(m).schema;g.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(d.allOf=d.allOf??[],d.allOf.push(g)):(Object.assign(d,g),Object.assign(d,f))}u.isParent||e.override({zodSchema:l,jsonSchema:d,path:u.path??[]})};for(const l of[...e.seen.entries()].reverse())n(l[0]);const a={};if(e.target==="draft-2020-12"?a.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?a.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?a.$schema="http://json-schema.org/draft-04/schema#":e.target,e.external?.uri){const l=e.external.registry.get(t)?.id;if(!l)throw new Error("Schema is missing an `id` property");a.$id=e.external.uri(l)}Object.assign(a,r.def??r.schema);const s=e.external?.defs??{};for(const l of e.seen.entries()){const u=l[1];u.def&&u.defId&&(s[u.defId]=u.def)}e.external||Object.keys(s).length>0&&(e.target==="draft-2020-12"?a.$defs=s:a.definitions=s);try{const l=JSON.parse(JSON.stringify(a));return Object.defineProperty(l,"~standard",{value:{...t["~standard"],jsonSchema:{input:vh(t,"input"),output:vh(t,"output")}},enumerable:!1,writable:!1}),l}catch{throw new Error("Error converting schema to JSON.")}}function Cr(e,t){const r=t??{seen:new Set};if(r.seen.has(e))return!1;r.seen.add(e);const n=e._zod.def;if(n.type==="transform")return!0;if(n.type==="array")return Cr(n.element,r);if(n.type==="set")return Cr(n.valueType,r);if(n.type==="lazy")return Cr(n.getter(),r);if(n.type==="promise"||n.type==="optional"||n.type==="nonoptional"||n.type==="nullable"||n.type==="readonly"||n.type==="default"||n.type==="prefault")return Cr(n.innerType,r);if(n.type==="intersection")return Cr(n.left,r)||Cr(n.right,r);if(n.type==="record"||n.type==="map")return Cr(n.keyType,r)||Cr(n.valueType,r);if(n.type==="pipe")return Cr(n.in,r)||Cr(n.out,r);if(n.type==="object"){for(const a in n.shape)if(Cr(n.shape[a],r))return!0;return!1}if(n.type==="union"){for(const a of n.options)if(Cr(a,r))return!0;return!1}if(n.type==="tuple"){for(const a of n.items)if(Cr(a,r))return!0;return!!(n.rest&&Cr(n.rest,r))}return!1}const GU=(e,t={})=>r=>{const n=BT({...r,processors:t});return vr(e,n),qT(n,e),HT(n,e)},vh=(e,t)=>r=>{const{libraryOptions:n,target:a}=r??{},s=BT({...n??{},target:a,io:t,processors:{}});return vr(e,s),qT(s,e),HT(s,e)},YU={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},WU=(e,t,r,n)=>{const a=r;a.type="string";const{minimum:s,maximum:l,format:u,patterns:d,contentEncoding:f}=e._zod.bag;if(typeof s=="number"&&(a.minLength=s),typeof l=="number"&&(a.maxLength=l),u&&(a.format=YU[u]??u,a.format===""&&delete a.format),f&&(a.contentEncoding=f),d&&d.size>0){const m=[...d];m.length===1?a.pattern=m[0].source:m.length>1&&(a.allOf=[...m.map(g=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:g.source}))])}},XU=(e,t,r,n)=>{const a=r,{minimum:s,maximum:l,format:u,multipleOf:d,exclusiveMaximum:f,exclusiveMinimum:m}=e._zod.bag;typeof u=="string"&&u.includes("int")?a.type="integer":a.type="number",typeof m=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(a.minimum=m,a.exclusiveMinimum=!0):a.exclusiveMinimum=m),typeof s=="number"&&(a.minimum=s,typeof m=="number"&&t.target!=="draft-04"&&(m>=s?delete a.minimum:delete a.exclusiveMinimum)),typeof f=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(a.maximum=f,a.exclusiveMaximum=!0):a.exclusiveMaximum=f),typeof l=="number"&&(a.maximum=l,typeof f=="number"&&t.target!=="draft-04"&&(f<=l?delete a.maximum:delete a.exclusiveMaximum)),typeof d=="number"&&(a.multipleOf=d)},JU=(e,t,r,n)=>{r.type="boolean"},QU=(e,t,r,n)=>{r.not={}},e9=(e,t,r,n)=>{},t9=(e,t,r,n)=>{},r9=(e,t,r,n)=>{const a=e._zod.def,s=_T(a.entries);s.every(l=>typeof l=="number")&&(r.type="number"),s.every(l=>typeof l=="string")&&(r.type="string"),r.enum=s},n9=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},a9=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},i9=(e,t,r,n)=>{const a=r,s=e._zod.def,{minimum:l,maximum:u}=e._zod.bag;typeof l=="number"&&(a.minItems=l),typeof u=="number"&&(a.maxItems=u),a.type="array",a.items=vr(s.element,t,{...n,path:[...n.path,"items"]})},s9=(e,t,r,n)=>{const a=r,s=e._zod.def;a.type="object",a.properties={};const l=s.shape;for(const f in l)a.properties[f]=vr(l[f],t,{...n,path:[...n.path,"properties",f]});const u=new Set(Object.keys(l)),d=new Set([...u].filter(f=>{const m=s.shape[f]._zod;return t.io==="input"?m.optin===void 0:m.optout===void 0}));d.size>0&&(a.required=Array.from(d)),s.catchall?._zod.def.type==="never"?a.additionalProperties=!1:s.catchall?s.catchall&&(a.additionalProperties=vr(s.catchall,t,{...n,path:[...n.path,"additionalProperties"]})):t.io==="output"&&(a.additionalProperties=!1)},o9=(e,t,r,n)=>{const a=e._zod.def,s=a.inclusive===!1,l=a.options.map((u,d)=>vr(u,t,{...n,path:[...n.path,s?"oneOf":"anyOf",d]}));s?r.oneOf=l:r.anyOf=l},l9=(e,t,r,n)=>{const a=e._zod.def,s=vr(a.left,t,{...n,path:[...n.path,"allOf",0]}),l=vr(a.right,t,{...n,path:[...n.path,"allOf",1]}),u=f=>"allOf"in f&&Object.keys(f).length===1,d=[...u(s)?s.allOf:[s],...u(l)?l.allOf:[l]];r.allOf=d},c9=(e,t,r,n)=>{const a=e._zod.def,s=vr(a.innerType,t,n),l=t.seen.get(e);t.target==="openapi-3.0"?(l.ref=a.innerType,r.nullable=!0):r.anyOf=[s,{type:"null"}]},u9=(e,t,r,n)=>{const a=e._zod.def;vr(a.innerType,t,n);const s=t.seen.get(e);s.ref=a.innerType},d9=(e,t,r,n)=>{const a=e._zod.def;vr(a.innerType,t,n);const s=t.seen.get(e);s.ref=a.innerType,r.default=JSON.parse(JSON.stringify(a.defaultValue))},f9=(e,t,r,n)=>{const a=e._zod.def;vr(a.innerType,t,n);const s=t.seen.get(e);s.ref=a.innerType,t.io==="input"&&(r._prefault=JSON.parse(JSON.stringify(a.defaultValue)))},h9=(e,t,r,n)=>{const a=e._zod.def;vr(a.innerType,t,n);const s=t.seen.get(e);s.ref=a.innerType;let l;try{l=a.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}r.default=l},m9=(e,t,r,n)=>{const a=e._zod.def,s=t.io==="input"?a.in._zod.def.type==="transform"?a.out:a.in:a.out;vr(s,t,n);const l=t.seen.get(e);l.ref=s},p9=(e,t,r,n)=>{const a=e._zod.def;vr(a.innerType,t,n);const s=t.seen.get(e);s.ref=a.innerType,r.readOnly=!0},g9=(e,t,r,n)=>{const a=e._zod.def;vr(a.innerType,t,n);const s=t.seen.get(e);s.ref=a.innerType},v9=me("ZodISODateTime",(e,t)=>{y7.init(e,t),Et.init(e,t)});function y9(e){return SU(v9,e)}const b9=me("ZodISODate",(e,t)=>{b7.init(e,t),Et.init(e,t)});function x9(e){return kU(b9,e)}const w9=me("ZodISOTime",(e,t)=>{x7.init(e,t),Et.init(e,t)});function _9(e){return jU(w9,e)}const S9=me("ZodISODuration",(e,t)=>{w7.init(e,t),Et.init(e,t)});function k9(e){return EU(S9,e)}const j9=(e,t)=>{NT.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:r=>uz(e,r)},flatten:{value:r=>cz(e,r)},addIssue:{value:r=>{e.issues.push(r),e.message=JSON.stringify(e.issues,Fy,2)}},addIssues:{value:r=>{e.issues.push(...r),e.message=JSON.stringify(e.issues,Fy,2)}},isEmpty:{get(){return e.issues.length===0}}})},Ln=me("ZodError",j9,{Parent:Error}),E9=wx(Ln),N9=_x(Ln),O9=v0(Ln),A9=y0(Ln),T9=hz(Ln),C9=mz(Ln),P9=pz(Ln),D9=gz(Ln),R9=vz(Ln),M9=yz(Ln),$9=bz(Ln),I9=xz(Ln),$t=me("ZodType",(e,t)=>(Ct.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:vh(e,"input"),output:vh(e,"output")}}),e.toJSONSchema=GU(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone(Qs(t,{checks:[...t.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]})),e.clone=(r,n)=>Qi(e,r,n),e.brand=()=>e,e.register=((r,n)=>(r.add(e,n),e)),e.parse=(r,n)=>E9(e,r,n,{callee:e.parse}),e.safeParse=(r,n)=>O9(e,r,n),e.parseAsync=async(r,n)=>N9(e,r,n,{callee:e.parseAsync}),e.safeParseAsync=async(r,n)=>A9(e,r,n),e.spa=e.safeParseAsync,e.encode=(r,n)=>T9(e,r,n),e.decode=(r,n)=>C9(e,r,n),e.encodeAsync=async(r,n)=>P9(e,r,n),e.decodeAsync=async(r,n)=>D9(e,r,n),e.safeEncode=(r,n)=>R9(e,r,n),e.safeDecode=(r,n)=>M9(e,r,n),e.safeEncodeAsync=async(r,n)=>$9(e,r,n),e.safeDecodeAsync=async(r,n)=>I9(e,r,n),e.refine=(r,n)=>e.check(CB(r,n)),e.superRefine=r=>e.check(PB(r)),e.overwrite=r=>e.check(kl(r)),e.optional=()=>hj(e),e.nullable=()=>mj(e),e.nullish=()=>hj(mj(e)),e.nonoptional=r=>kB(e,r),e.array=()=>dB(e),e.or=r=>mB([e,r]),e.and=r=>gB(e,r),e.transform=r=>pj(e,yB(r)),e.default=r=>wB(e,r),e.prefault=r=>SB(e,r),e.catch=r=>EB(e,r),e.pipe=r=>pj(e,r),e.readonly=()=>AB(e),e.describe=r=>{const n=e.clone();return Bc.add(n,{description:r}),n},Object.defineProperty(e,"description",{get(){return Bc.get(e)?.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return Bc.get(e);const n=e.clone();return Bc.add(n,r[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),FT=me("_ZodString",(e,t)=>{Sx.init(e,t),$t.init(e,t),e._zod.processJSONSchema=(n,a,s)=>WU(e,n,a);const r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...n)=>e.check(DU(...n)),e.includes=(...n)=>e.check($U(...n)),e.startsWith=(...n)=>e.check(IU(...n)),e.endsWith=(...n)=>e.check(LU(...n)),e.min=(...n)=>e.check(gh(...n)),e.max=(...n)=>e.check(zT(...n)),e.length=(...n)=>e.check(UT(...n)),e.nonempty=(...n)=>e.check(gh(1,...n)),e.lowercase=n=>e.check(RU(n)),e.uppercase=n=>e.check(MU(n)),e.trim=()=>e.check(UU()),e.normalize=(...n)=>e.check(zU(...n)),e.toLowerCase=()=>e.check(BU()),e.toUpperCase=()=>e.check(qU()),e.slugify=()=>e.check(HU())}),L9=me("ZodString",(e,t)=>{Sx.init(e,t),FT.init(e,t),e.email=r=>e.check(rU(z9,r)),e.url=r=>e.check(oU(U9,r)),e.jwt=r=>e.check(_U(tB,r)),e.emoji=r=>e.check(lU(B9,r)),e.guid=r=>e.check(sj(uj,r)),e.uuid=r=>e.check(nU(kf,r)),e.uuidv4=r=>e.check(aU(kf,r)),e.uuidv6=r=>e.check(iU(kf,r)),e.uuidv7=r=>e.check(sU(kf,r)),e.nanoid=r=>e.check(cU(q9,r)),e.guid=r=>e.check(sj(uj,r)),e.cuid=r=>e.check(uU(H9,r)),e.cuid2=r=>e.check(dU(F9,r)),e.ulid=r=>e.check(fU(V9,r)),e.base64=r=>e.check(bU(J9,r)),e.base64url=r=>e.check(xU(Q9,r)),e.xid=r=>e.check(hU(K9,r)),e.ksuid=r=>e.check(mU(Z9,r)),e.ipv4=r=>e.check(pU(G9,r)),e.ipv6=r=>e.check(gU(Y9,r)),e.cidrv4=r=>e.check(vU(W9,r)),e.cidrv6=r=>e.check(yU(X9,r)),e.e164=r=>e.check(wU(eB,r)),e.datetime=r=>e.check(y9(r)),e.date=r=>e.check(x9(r)),e.time=r=>e.check(_9(r)),e.duration=r=>e.check(k9(r))});function kx(e){return tU(L9,e)}const Et=me("ZodStringFormat",(e,t)=>{St.init(e,t),FT.init(e,t)}),z9=me("ZodEmail",(e,t)=>{c7.init(e,t),Et.init(e,t)}),uj=me("ZodGUID",(e,t)=>{o7.init(e,t),Et.init(e,t)}),kf=me("ZodUUID",(e,t)=>{l7.init(e,t),Et.init(e,t)}),U9=me("ZodURL",(e,t)=>{u7.init(e,t),Et.init(e,t)}),B9=me("ZodEmoji",(e,t)=>{d7.init(e,t),Et.init(e,t)}),q9=me("ZodNanoID",(e,t)=>{f7.init(e,t),Et.init(e,t)}),H9=me("ZodCUID",(e,t)=>{h7.init(e,t),Et.init(e,t)}),F9=me("ZodCUID2",(e,t)=>{m7.init(e,t),Et.init(e,t)}),V9=me("ZodULID",(e,t)=>{p7.init(e,t),Et.init(e,t)}),K9=me("ZodXID",(e,t)=>{g7.init(e,t),Et.init(e,t)}),Z9=me("ZodKSUID",(e,t)=>{v7.init(e,t),Et.init(e,t)}),G9=me("ZodIPv4",(e,t)=>{_7.init(e,t),Et.init(e,t)}),Y9=me("ZodIPv6",(e,t)=>{S7.init(e,t),Et.init(e,t)}),W9=me("ZodCIDRv4",(e,t)=>{k7.init(e,t),Et.init(e,t)}),X9=me("ZodCIDRv6",(e,t)=>{j7.init(e,t),Et.init(e,t)}),J9=me("ZodBase64",(e,t)=>{E7.init(e,t),Et.init(e,t)}),Q9=me("ZodBase64URL",(e,t)=>{O7.init(e,t),Et.init(e,t)}),eB=me("ZodE164",(e,t)=>{A7.init(e,t),Et.init(e,t)}),tB=me("ZodJWT",(e,t)=>{C7.init(e,t),Et.init(e,t)}),VT=me("ZodNumber",(e,t)=>{$T.init(e,t),$t.init(e,t),e._zod.processJSONSchema=(n,a,s)=>XU(e,n,a),e.gt=(n,a)=>e.check(lj(n,a)),e.gte=(n,a)=>e.check(qg(n,a)),e.min=(n,a)=>e.check(qg(n,a)),e.lt=(n,a)=>e.check(oj(n,a)),e.lte=(n,a)=>e.check(Bg(n,a)),e.max=(n,a)=>e.check(Bg(n,a)),e.int=n=>e.check(dj(n)),e.safe=n=>e.check(dj(n)),e.positive=n=>e.check(lj(0,n)),e.nonnegative=n=>e.check(qg(0,n)),e.negative=n=>e.check(oj(0,n)),e.nonpositive=n=>e.check(Bg(0,n)),e.multipleOf=(n,a)=>e.check(cj(n,a)),e.step=(n,a)=>e.check(cj(n,a)),e.finite=()=>e;const r=e._zod.bag;e.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function Vi(e){return NU(VT,e)}const rB=me("ZodNumberFormat",(e,t)=>{P7.init(e,t),VT.init(e,t)});function dj(e){return OU(rB,e)}const nB=me("ZodBoolean",(e,t)=>{D7.init(e,t),$t.init(e,t),e._zod.processJSONSchema=(r,n,a)=>JU(e,r,n)});function aB(e){return AU(nB,e)}const iB=me("ZodAny",(e,t)=>{R7.init(e,t),$t.init(e,t),e._zod.processJSONSchema=(r,n,a)=>e9()});function sB(){return TU(iB)}const oB=me("ZodUnknown",(e,t)=>{M7.init(e,t),$t.init(e,t),e._zod.processJSONSchema=(r,n,a)=>t9()});function fj(){return CU(oB)}const lB=me("ZodNever",(e,t)=>{$7.init(e,t),$t.init(e,t),e._zod.processJSONSchema=(r,n,a)=>QU(e,r,n)});function cB(e){return PU(lB,e)}const uB=me("ZodArray",(e,t)=>{I7.init(e,t),$t.init(e,t),e._zod.processJSONSchema=(r,n,a)=>i9(e,r,n,a),e.element=t.element,e.min=(r,n)=>e.check(gh(r,n)),e.nonempty=r=>e.check(gh(1,r)),e.max=(r,n)=>e.check(zT(r,n)),e.length=(r,n)=>e.check(UT(r,n)),e.unwrap=()=>e.element});function dB(e,t){return FU(uB,e,t)}const fB=me("ZodObject",(e,t)=>{z7.init(e,t),$t.init(e,t),e._zod.processJSONSchema=(r,n,a)=>s9(e,r,n,a),dt(e,"shape",()=>t.shape),e.keyof=()=>jx(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:fj()}),e.loose=()=>e.clone({...e._zod.def,catchall:fj()}),e.strict=()=>e.clone({...e._zod.def,catchall:cB()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>az(e,r),e.safeExtend=r=>iz(e,r),e.merge=r=>sz(e,r),e.pick=r=>rz(e,r),e.omit=r=>nz(e,r),e.partial=(...r)=>oz(KT,e,r[0]),e.required=(...r)=>lz(ZT,e,r[0])});function x0(e,t){const r={type:"object",shape:e??{},...Pe(t)};return new fB(r)}const hB=me("ZodUnion",(e,t)=>{U7.init(e,t),$t.init(e,t),e._zod.processJSONSchema=(r,n,a)=>o9(e,r,n,a),e.options=t.options});function mB(e,t){return new hB({type:"union",options:e,...Pe(t)})}const pB=me("ZodIntersection",(e,t)=>{B7.init(e,t),$t.init(e,t),e._zod.processJSONSchema=(r,n,a)=>l9(e,r,n,a)});function gB(e,t){return new pB({type:"intersection",left:e,right:t})}const Ky=me("ZodEnum",(e,t)=>{q7.init(e,t),$t.init(e,t),e._zod.processJSONSchema=(n,a,s)=>r9(e,n,a),e.enum=t.entries,e.options=Object.values(t.entries);const r=new Set(Object.keys(t.entries));e.extract=(n,a)=>{const s={};for(const l of n)if(r.has(l))s[l]=t.entries[l];else throw new Error(`Key ${l} not found in enum`);return new Ky({...t,checks:[],...Pe(a),entries:s})},e.exclude=(n,a)=>{const s={...t.entries};for(const l of n)if(r.has(l))delete s[l];else throw new Error(`Key ${l} not found in enum`);return new Ky({...t,checks:[],...Pe(a),entries:s})}});function jx(e,t){const r=Array.isArray(e)?Object.fromEntries(e.map(n=>[n,n])):e;return new Ky({type:"enum",entries:r,...Pe(t)})}const vB=me("ZodTransform",(e,t)=>{H7.init(e,t),$t.init(e,t),e._zod.processJSONSchema=(r,n,a)=>a9(e,r),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new xT(e.constructor.name);r.addIssue=s=>{if(typeof s=="string")r.issues.push(nu(s,r.value,t));else{const l=s;l.fatal&&(l.continue=!1),l.code??(l.code="custom"),l.input??(l.input=r.value),l.inst??(l.inst=e),r.issues.push(nu(l))}};const a=t.transform(r.value,r);return a instanceof Promise?a.then(s=>(r.value=s,r)):(r.value=a,r)}});function yB(e){return new vB({type:"transform",transform:e})}const KT=me("ZodOptional",(e,t)=>{F7.init(e,t),$t.init(e,t),e._zod.processJSONSchema=(r,n,a)=>g9(e,r,n,a),e.unwrap=()=>e._zod.def.innerType});function hj(e){return new KT({type:"optional",innerType:e})}const bB=me("ZodNullable",(e,t)=>{V7.init(e,t),$t.init(e,t),e._zod.processJSONSchema=(r,n,a)=>c9(e,r,n,a),e.unwrap=()=>e._zod.def.innerType});function mj(e){return new bB({type:"nullable",innerType:e})}const xB=me("ZodDefault",(e,t)=>{K7.init(e,t),$t.init(e,t),e._zod.processJSONSchema=(r,n,a)=>d9(e,r,n,a),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function wB(e,t){return new xB({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():kT(t)}})}const _B=me("ZodPrefault",(e,t)=>{Z7.init(e,t),$t.init(e,t),e._zod.processJSONSchema=(r,n,a)=>f9(e,r,n,a),e.unwrap=()=>e._zod.def.innerType});function SB(e,t){return new _B({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():kT(t)}})}const ZT=me("ZodNonOptional",(e,t)=>{G7.init(e,t),$t.init(e,t),e._zod.processJSONSchema=(r,n,a)=>u9(e,r,n,a),e.unwrap=()=>e._zod.def.innerType});function kB(e,t){return new ZT({type:"nonoptional",innerType:e,...Pe(t)})}const jB=me("ZodCatch",(e,t)=>{Y7.init(e,t),$t.init(e,t),e._zod.processJSONSchema=(r,n,a)=>h9(e,r,n,a),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function EB(e,t){return new jB({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const NB=me("ZodPipe",(e,t)=>{W7.init(e,t),$t.init(e,t),e._zod.processJSONSchema=(r,n,a)=>m9(e,r,n,a),e.in=t.in,e.out=t.out});function pj(e,t){return new NB({type:"pipe",in:e,out:t})}const OB=me("ZodReadonly",(e,t)=>{X7.init(e,t),$t.init(e,t),e._zod.processJSONSchema=(r,n,a)=>p9(e,r,n,a),e.unwrap=()=>e._zod.def.innerType});function AB(e){return new OB({type:"readonly",innerType:e})}const TB=me("ZodCustom",(e,t)=>{J7.init(e,t),$t.init(e,t),e._zod.processJSONSchema=(r,n,a)=>n9(e,r)});function CB(e,t={}){return VU(TB,e,t)}function PB(e){return KU(e)}x0({name:kx().min(1,"SKU Name is required"),bottlesPerCase:Vi().min(1),bottlesPerTruck:Vi().min(1),casesPerPallet:Vi().min(1),scrapPercentage:Vi().min(0).default(0)});const DB=x0({date:kx().regex(/^\d{4}-\d{2}-\d{2}$/,"Date must be YYYY-MM-DD"),type:jx(["demand_plan","inbound_trucks","production_actual","truck_manifest_json"]),value:Vi(),metaJson:sB().optional()});x0({productionRate:Vi().min(0),downtimeHours:Vi().min(0),isAutoReplenish:aB().optional()});const RB=x0({date:kx().regex(/^\d{4}-\d{2}-\d{2}$/),count:Vi().min(0),location:jx(["floor","yard"])}),MB=async e=>{const[t,r,n,a]=await Promise.all([De.from("planning_entries").select("date, entry_type, value, meta_json").eq("product_id",e),De.from("production_settings").select("*").eq("product_id",e).maybeSingle(),De.from("inventory_snapshots").select("*").eq("product_id",e).eq("location","floor").order("date",{ascending:!1}).limit(1).maybeSingle(),De.from("inventory_snapshots").select("*").eq("product_id",e).eq("location","yard").order("date",{ascending:!1}).limit(1).maybeSingle()]);return{entries:t.data||[],settings:r.data,snapshotFloor:n.data,snapshotYard:a.data}},$B=async(e,t,r,n,a,s=null)=>{if(a==null){const{error:d}=await De.from("planning_entries").delete().eq("product_id",e).eq("date",r).eq("entry_type",n);if(d)throw d;return}try{DB.parse({date:r,type:n,value:a,metaJson:s})}catch(d){throw console.error("Validation Failed:",d),new Error(`Invalid Planning Entry: ${d.errors[0].message}`)}const{data:l}=await De.from("planning_entries").select("id").eq("product_id",e).eq("date",r).eq("entry_type",n).maybeSingle(),u={product_id:e,user_id:t,date:r,entry_type:n,value:a,meta_json:s};if(l){const{error:d}=await De.from("planning_entries").update({value:a,meta_json:s,user_id:t}).eq("id",l.id);if(d)throw d}else{const{error:d}=await De.from("planning_entries").insert(u);if(d)throw d}},jf=async(e,t,r)=>{if(t==="production_rate"&&typeof r=="number"&&r<0)throw new Error("Production Rate cannot be negative");if(t==="downtime_hours"&&typeof r=="number"&&r<0)throw new Error("Downtime cannot be negative");const{data:n}=await De.from("production_settings").select("id").eq("product_id",e).limit(1),a=n&&n.length>0?n[0].id:null,s={product_id:e,[t]:r};a&&(s.id=a);const{error:l}=await De.from("production_settings").upsert(s);if(l)throw console.error("Error saving production setting:",l),l},IB=async e=>{if(!e.length)return;const{error:t}=await De.from("planning_entries").upsert(e,{onConflict:"product_id, date, entry_type"});if(t)throw t},gj=async(e,t,r,n,a="floor")=>{try{RB.parse({date:r,count:n,location:a})}catch(l){throw new Error(`Invalid Snapshot: ${l.errors[0].message}`)}const{error:s}=await De.from("inventory_snapshots").upsert({product_id:e,user_id:t,date:r,location:a,quantity_pallets:n},{onConflict:"product_id, date, location"});if(s)throw s},LB=async()=>{const{data:e,error:t}=await De.from("procurement_orders").select("*").order("date",{ascending:!0});if(t)throw t;return e||[]},zB=async(e,t)=>{const r={po_number:e.po,quantity:e.qty,sku:e.sku,supplier:e.supplier,carrier:e.carrier,status:e.status||"planned",date:e.date,delivery_time:e.time,user_id:t},{data:n}=await De.from("procurement_orders").select("id").eq("po_number",e.po).maybeSingle();n?await De.from("procurement_orders").update(r).eq("id",n.id):await De.from("procurement_orders").insert(r)},UB=async e=>{const{error:t}=await De.from("procurement_orders").delete().eq("po_number",e);if(t)throw t},BB=async e=>{const{data:t,error:r}=await De.from("profiles").select("lead_time_days, safety_stock_loads, dashboard_layout, theme").eq("id",e).maybeSingle();return r?(console.error("Error fetching profile:",r),null):t},qB=async(e,t)=>{const r={id:e,...t,updated_at:new Date().toISOString()},{error:n}=await De.from("profiles").upsert(r);if(n)throw n},jl=()=>{const e=x.useCallback(async(g,v)=>{if(!g)return{success:!1,error:"No user"};try{for(const y of v){const S=await wf(g.id,y),k=localStorage.getItem(`mrp_${y}_productionRate`),_=localStorage.getItem(`mrp_${y}_downtimeHours`),j=localStorage.getItem(`mrp_${y}_isAutoReplenish`);(k||_||j)&&(await jf(S,"production_rate",k?Number(k):null),await jf(S,"downtime_hours",_?Number(_):null),await jf(S,"is_auto_replenish",j==="true"));const N=[{key:"monthlyDemand",type:"demand_plan"},{key:"monthlyInbound",type:"inbound_trucks"},{key:"monthlyProductionActuals",type:"production_actual"}],E=[];for(const{key:O,type:P}of N){const C=localStorage.getItem(`mrp_${y}_${O}`);if(C)try{const A=JSON.parse(C);Object.entries(A).forEach(([R,M])=>{E.push({product_id:S,user_id:g.id,date:R,entry_type:P,value:Number(M)})})}catch{}}E.length>0&&await IB(E);const D=localStorage.getItem(`mrp_${y}_inventoryAnchor`);if(D)try{const O=JSON.parse(D);await gj(S,g.id,O.date,Number(O.count),"floor")}catch{}}return{success:!0}}catch(y){return console.error("Migration Failed:",y),{success:!1,error:y}}},[]),t=x.useCallback(async(g,v)=>{console.log(`[SupabaseSync] Fetching MRP State for User: ${g}, SKU: ${v}`);const y=await Z8(g,v);if(!y)return console.warn(`[SupabaseSync] Product not found: ${v}`),null;console.log(`[SupabaseSync] Product Found: ${y.id}. Fetching Details...`);const{entries:S,settings:k,snapshotFloor:_,snapshotYard:j}=await MB(y.id);console.log(`[SupabaseSync] Entries fetched: ${S?.length||0}`);const N={},E={},D={},O={};S?.forEach(A=>{const R=Number(A.value);A.entry_type==="demand_plan"&&(N[A.date]=R),A.entry_type==="inbound_trucks"&&(E[A.date]=R),A.entry_type==="production_actual"&&(D[A.date]=R),A.entry_type==="truck_manifest_json"&&(O[A.date]=A.meta_json||[])});const P=_?{date:_.date,count:Number(_.quantity_pallets)}:null,C=j?{count:Number(j.quantity_pallets),date:j.date}:{count:0,date:null};return{product:y,monthlyDemand:N,monthlyInbound:E,monthlyProductionActuals:D,productionRate:k?.production_rate||5e3,downtimeHours:k?.downtime_hours||0,isAutoReplenish:k?.is_auto_replenish!==!1,inventoryAnchor:P,yardInventory:C,truckManifest:O}},[]),r=x.useCallback(async(g,v,y,S,k)=>{const _=await wf(g,v);let j=typeof k=="number"?k:null,N=null;S==="truck_manifest_json"&&Array.isArray(k)?(j=k.length,N=k):j=Number(k),await $B(_,g,y,S,j,N)},[]),n=x.useCallback(async(g,v,y,S)=>{const k=await wf(g,v);await jf(k,y,S)},[]),a=x.useCallback(async(g,v,y,S,k="floor")=>{const _=await wf(g,v);await gj(_,g,y,S,k)},[]),s=x.useCallback(async g=>await BB(g),[]),l=x.useCallback(async(g,v)=>{await qB(g,v)},[]),u=x.useCallback(async(g,v,y="viewer")=>{if(!g)return;if(!["admin","planner"].includes(y)){console.warn("Upload skipped: insufficient role (client-side check). RLS would likely reject this.");return}const{count:S,error:k}=await De.from("products").select("*",{count:"exact",head:!0}).eq("user_id",g.id);if(k){console.error("Migration Check Failed:",k);return}S===0&&await e(g,v)},[e]),d=x.useCallback(async g=>{if(!g.po)return;const v=(await De.auth.getUser()).data.user;v&&await zB(g,v.id)},[]),f=x.useCallback(async g=>{await UB(g)},[]),m=x.useCallback(async()=>{const g=await LB(),v={};return g.forEach(y=>{v[y.date]||(v[y.date]={items:[]}),v[y.date].items.push({id:y.id,po:y.po_number,qty:Number(y.quantity),sku:y.sku||"",supplier:y.supplier,status:y.status,date:y.date,time:y.delivery_time||"",carrier:y.carrier||"",palletStats:y.meta_data?y.meta_data.palletStats:void 0})}),v},[]);return{supabase:De,fetchMRPState:t,savePlanningEntry:r,saveProductionSetting:n,saveInventorySnapshot:a,migrateLocalStorage:e,uploadLocalData:u,fetchUserProfile:s,saveUserProfile:l,saveProcurementEntry:d,deleteProcurementEntry:f,fetchProcurementData:m}};function au({table:e,filter:t,event:r="*",schema:n="public",onDataChange:a,enabled:s=!0}){x.useEffect(()=>{if(!s)return;const l=`public:${e}${t?`:${t}`:""}`,u={event:r,schema:n,table:e,filter:t||void 0},d=De.channel(l).on("postgres_changes",u,f=>{a(f)}).subscribe(f=>{});return()=>{De.removeChannel(d)}},[e,t,r,n,a,s])}const un={safetyStockLoads:6,csvMapping:{statusColumn:"Trailer State",fullValue:"Loaded - Inbound",skuColumn:"Commodity"},dashboardLayout:{top:["kpis"],col1:["demand"],col2:["chart","inventory","production"]},leadTimeDays:2},GT=x.createContext(void 0);function HB({children:e}){const{user:t}=Nr(),{fetchUserProfile:r,saveUserProfile:n}=jl(),[a,s]=x.useState(()=>{try{const P=localStorage.getItem("safetyStockLoads");if(P===null)return un.safetyStockLoads;const C=Number(P);return!isNaN(C)&&C>=0?C:un.safetyStockLoads}catch{return un.safetyStockLoads}}),[l,u]=x.useState(()=>{try{const P=localStorage.getItem("csvMapping");return P?JSON.parse(P):un.csvMapping}catch{return un.csvMapping}}),[d,f]=x.useState(()=>{try{const P=localStorage.getItem("dashboardLayout");let C=P?JSON.parse(P):un.dashboardLayout;return C.top&&C.top.includes("demand")&&(C.top=C.top.filter(A=>A!=="demand"),C.col1.includes("demand")||C.col1.unshift("demand")),{top:C.top||["kpis"],col1:C.col1||["demand"],col2:C.col2||["chart","inventory","production"],...C}}catch{return un.dashboardLayout}}),[m,g]=x.useState(()=>{try{const P=localStorage.getItem("leadTimeDays"),C=Number(P);return!isNaN(C)&&C>=0?C:un.leadTimeDays}catch{return un.leadTimeDays}}),[v,y]=x.useState(()=>localStorage.getItem("activeSku")||"20oz"),[S,k]=x.useState(()=>localStorage.getItem("theme")||"light"),[_,j]=x.useState(()=>{try{const P=localStorage.getItem("sched_targetDailyProduction"),C=localStorage.getItem("sched_shiftStartTime"),A=localStorage.getItem("sched_poAssignments"),R=localStorage.getItem("sched_cancelledLoads");return P!==null||C!==null||A!==null?{targetDailyProduction:P?Number(P):0,shiftStartTime:C||"00:00",poAssignments:A?JSON.parse(A):{},cancelledLoads:R?JSON.parse(R):[]}:{targetDailyProduction:0,shiftStartTime:"00:00",poAssignments:{},cancelledLoads:[]}}catch{return{targetDailyProduction:0,shiftStartTime:"00:00",poAssignments:{},cancelledLoads:[]}}});au({table:"profiles",filter:t?`id=eq.${t.id}`:void 0,event:"UPDATE",enabled:!!t,onDataChange:P=>{const C=P.new;if(C&&(C.lead_time_days!==void 0&&C.lead_time_days!==null&&g(Number(C.lead_time_days)),C.safety_stock_loads!==void 0&&C.safety_stock_loads!==null&&s(Number(C.safety_stock_loads)),C.theme&&k(C.theme),C.dashboard_layout)){const A=C.dashboard_layout;f(R=>({...R,top:A.top||R.top,col1:A.col1||R.col1,col2:A.col2||R.col2})),A.scheduler&&j(R=>({...R,...A.scheduler}))}}}),x.useEffect(()=>{t&&r(t.id).then(P=>{if(P){if(P.lead_time_days!==null&&g(P.lead_time_days),P.safety_stock_loads!==null&&s(P.safety_stock_loads),P.dashboard_layout){const C=P.dashboard_layout;f(A=>({...A,top:C.top||A.top,col1:C.col1||A.col1,col2:C.col2||A.col2})),C.scheduler&&j(A=>({...A,...C.scheduler}))}P.theme&&k(P.theme)}})},[t,r]),x.useEffect(()=>{localStorage.setItem("safetyStockLoads",JSON.stringify(a)),t&&n(t.id,{safety_stock_loads:a})},[a,t,n]),x.useEffect(()=>{localStorage.setItem("leadTimeDays",JSON.stringify(m)),t&&n(t.id,{lead_time_days:m})},[m,t,n]),x.useEffect(()=>{localStorage.setItem("csvMapping",JSON.stringify(l))},[l]),x.useEffect(()=>{localStorage.setItem("activeSku",v)},[v]),x.useEffect(()=>{const P=window.document.documentElement;S==="dark"?P.classList.add("dark"):P.classList.remove("dark"),localStorage.setItem("theme",S),t&&n(t.id,{theme:S})},[S,t,n]),x.useEffect(()=>{if(localStorage.setItem("dashboardLayout",JSON.stringify(d)),localStorage.setItem("settings_scheduler",JSON.stringify(_)),t){const P={...d,scheduler:_};n(t.id,{dashboard_layout:P})}},[d,_,t,n]);const N=x.useCallback((P,C)=>{u(A=>({...A,[P]:C}))},[]),E=x.useCallback((P,C)=>{j(A=>({...A,[P]:C}))},[]),D=x.useCallback(()=>{s(un.safetyStockLoads),g(un.leadTimeDays),u(un.csvMapping),f(un.dashboardLayout),j({targetDailyProduction:0,shiftStartTime:"00:00",poAssignments:{},cancelledLoads:[]})},[]),O=x.useMemo(()=>({safetyStockLoads:a,leadTimeDays:m,csvMapping:l,dashboardLayout:d,schedulerSettings:_,theme:S,activeSku:v,setTheme:k,setDashboardLayout:f,setSafetyStockLoads:P=>{const C=Number(P);s(!isNaN(C)&&C>=0?C:0)},setLeadTimeDays:P=>{const C=Number(P);g(!isNaN(C)&&C>=0?C:2)},updateCsvMapping:N,updateSchedulerSetting:E,resetDefaults:D,setActiveSku:y,updateGlobalSetting:(P,C)=>{P==="leadTimeDays"&&g(Number(C)),P==="safetyStockLoads"&&s(Number(C))}}),[a,m,l,d,_,S,v,N,E,D]);return h.jsx(GT.Provider,{value:O,children:e})}function ra(){const e=x.useContext(GT);if(!e)throw new Error("useSettings must be used within a SettingsProvider");return e}const YT=x.createContext();function yr(){return x.useContext(YT)}function FB({children:e}){const{user:t}=Nr(),[r,n]=x.useState(()=>{try{const m=localStorage.getItem("ubp_products_list");return m?JSON.parse(m):[]}catch{return[]}}),[a,s]=x.useState(()=>!localStorage.getItem("ubp_products_list")),l=async()=>{if(t)try{const{data:m,error:g}=await De.from("products").select(`
                    *,
                    production_settings (
                        line_name,
                        production_rate
                    )
                `);if(g)throw g;const v=m||[];n(v),localStorage.setItem("ubp_products_list",JSON.stringify(v))}catch(m){console.error("Error loading products:",m)}finally{s(!1)}},u=async(m,g)=>{const v=r.find(S=>S.name===m);if(!v)return;const y=r.map(S=>S.name===m?{...S,...g}:S);n(y);try{const{error:S}=await De.from("products").update(g).eq("id",v.id);if(S)throw S}catch(S){console.error("Failed to update product settings",S),l()}};x.useEffect(()=>{l()},[t]);const d=x.useMemo(()=>{const m={};return r.forEach(g=>{const y=(g.production_settings?.find(S=>S.line_name==="Line 1")||g.production_settings?.[0])?.production_rate||0;m[g.name]={bottlesPerCase:g.bottles_per_case,bottlesPerTruck:g.bottles_per_truck,casesPerTruck:Math.floor((g.bottles_per_truck||0)/(g.bottles_per_case||1)),casesPerPallet:g.cases_per_pallet,palletsPerTruck:22,productionRate:y,scrapPercentage:0,leadTimeDays:g.lead_time_days,safetyStockLoads:g.safety_stock_loads,id:g.id}}),m},[r]),f={products:r,productMap:d,loading:a,refreshProducts:l,updateProductSettings:u,getProductSpecs:m=>d[m]||null};return h.jsx(YT.Provider,{value:f,children:e})}const WT=(e,t="00:00",r,n,a=1,s=0)=>{if(!n||n<=0)return"";let l=n,u=r;a>1&&n<1e4&&r>2e4&&(u=r/a);const d=u/l;let f=d;s>0&&s*d>23.5&&(f=23.5/s);const[m,g]=t.split(":").map(Number);let S=((m||0)+(g||0)/60+e*f)%24;S<0&&(S+=24);const k=Math.floor(S),_=Math.round((S-k)*60),j=(k+Math.floor(_/60))%24,N=_%60;return`${String(j).padStart(2,"0")}:${String(N).padStart(2,"0")}`},XT=x.createContext(void 0);function VB({children:e}){const{user:t}=Nr(),{fetchProcurementData:r,saveProcurementEntry:n,deleteProcurementEntry:a}=jl(),{schedulerSettings:s,activeSku:l}=ra(),{getProductSpecs:u}=yr(),[d,f]=x.useState(()=>{try{const E=localStorage.getItem("poManifest");return E?JSON.parse(E):{}}catch{return{}}});x.useEffect(()=>{localStorage.setItem("poManifest",JSON.stringify(d))},[d]),au({table:"procurement_orders",event:"*",enabled:!!t,onDataChange:E=>{const{eventType:D,new:O,old:P}=E;if(D==="DELETE"){const R=P.id,M=P.po_number;if(!R&&!M)return;f(I=>{const z={...I};let q=null,te=null;for(const[ue,B]of Object.entries(z)){const H=B.items.find(X=>R&&X.id===R||M&&X.po===M);if(H){q=ue,te=H;break}}return q&&te&&(z[q].items=z[q].items.filter(ue=>ue!==te),z[q].items.length===0&&delete z[q]),z});return}const C=O.date,A={id:O.id||crypto.randomUUID(),po:O.po_number,date:O.date,qty:Number(O.quantity),status:O.status,supplier:O.supplier,sku:O.sku,time:O.delivery_time,carrier:O.carrier,palletStats:O.meta_data?O.meta_data.palletStats:void 0};f(R=>{const M={...R};for(const[I,z]of Object.entries(M)){const q=z.items.filter(te=>te.po!==A.po);q.length!==z.items.length&&(M[I]={items:q},q.length===0&&delete M[I])}return M[C]||(M[C]={items:[]}),M[C].items.push(A),M})}});const m=(E,D)=>{if(f(O=>({...O,[E]:{items:D}})),t)try{D.forEach(O=>{n(O).catch(P=>console.error("Cloud Save Failed for Item:",O,P))})}catch(O){console.error("Error initiating cloud sync:",O)}},g=E=>{f(D=>{const O={...D},P=E.reduce((C,A)=>(C[A.date]||(C[A.date]=[]),C[A.date].push(A),C),{});return Object.entries(P).forEach(([C,A])=>{let M=(O[C]?.items||[]).length;A.forEach((I,z)=>{if(I.id||(I.id=crypto.randomUUID()),!I.time){const q=I.sku||l,te=u(q),ue=s?.shiftStartTime||"00:00";if(te&&te.productionRate>0){const B=te.bottlesPerTruck||2e4,H=te.productionRate,X=te.bottlesPerCase||1;I.time=WT(M+z,ue,B,H,X)}}O[C]||(O[C]={items:[]}),O[C].items.push(I)})}),t&&E.forEach(C=>{n(C).catch(A=>console.error("Cloud Sync Error",A))}),O})},v=(E,D,O)=>{f(P=>{const C={...P};return C[E]&&(C[E].items=C[E].items.filter(A=>A.id!==D)),C}),t&&O&&a(O)},y=(E,D)=>{f(O=>{const P={...O};return P[E]?.items&&(P[E].items=P[E].items.map(C=>C.id===D.id?D:C)),P}),t&&n(D)},S=E=>{f(D=>{const O={...D};return E.forEach(P=>{O[P.date]?.items&&(O[P.date].items=O[P.date].items.filter(C=>C.id!==P.id))}),O}),t&&E.forEach(D=>{D.po&&a(D.po)})},k=(E,D,O)=>{if(f(P=>{const C={...P};C[E]?.items&&(C[E].items=C[E].items.filter(M=>M.id!==O.id));const A=C[D]?.items||[],R={...O,date:D};return C[D]={items:[...A,R]},C}),t){const P={...O,date:D};n(P)}},_=E=>{f(D=>{const O={...D};return E.forEach(P=>{let C=null;for(const[R,M]of Object.entries(O)){if(M.items.some(I=>I.id===P.id)){C=R;break}if(M.items.some(I=>I.po===P.po)){C=R;break}}const A=P.date;if(C&&C!==A)O[C]?.items&&(O[C].items=O[C].items.filter(R=>R.id!==P.id),O[C].items.length===0&&delete O[C]),O[A]||(O[A]={items:[]}),O[A].items.push(P);else{const R=C||A;O[R]?O[R].items=O[R].items.map(M=>M.id===P.id?P:M):(O[R]||(O[R]={items:[]}),O[R].items.push(P))}}),O}),t&&E.forEach(D=>n(D))},j=()=>f({});x.useEffect(()=>{t&&r().then(E=>{E&&Object.keys(E).length>0&&f(E)})},[t,r]);const N={poManifest:d,updateDailyManifest:m,addOrdersBulk:g,removeOrder:v,updateOrder:y,deleteOrdersBulk:S,moveOrder:k,bulkUpdateOrders:_,clearManifest:j};return h.jsx(XT.Provider,{value:N,children:e})}function na(){const e=x.useContext(XT);if(!e)throw new Error("useProcurement must be used within a ProcurementProvider");return e}const KB=async()=>{const{data:e,error:t}=await De.from("user_roles").select("*").order("created_at",{ascending:!1});if(t)throw t.code==="42P01",t;return e||[]},ZB=async(e,t)=>{const{error:r}=await De.from("user_roles").update({role:t}).match({email:e});if(r)throw r},GB=async e=>{const{error:t}=await De.from("user_roles").delete().match({email:e});if(t)throw t},YB=async(e,t)=>{const{error:r}=await De.from("user_roles").upsert({email:e.toLowerCase(),role:t},{onConflict:"email"});if(r)throw r},WB=async(e,t)=>{const r=gT(vT,yT,{auth:{persistSession:!1,autoRefreshToken:!1,detectSessionInUrl:!1}}),{data:n,error:a}=await r.auth.signUp({email:e,password:t});if(a)throw a;return n};function XB(){const{user:e}=Nr(),[t,r]=x.useState(!1),[n,a]=x.useState([]),[s,l]=x.useState(null),u=async()=>{if(e){r(!0),a([]),l(null);try{const m=(await G8(e.id)).reduce((v,y)=>{const S=y.name.trim();return v[S]||(v[S]=[]),v[S].push(y),v},{}),g=[];Object.entries(m).forEach(([v,y])=>{if(y.length>1){y.sort((_,j)=>{const N=new Date(_.created_at||0),E=new Date(j.created_at||0);return N-E});const S=y[0],k=y.slice(1);g.push({name:v,keeper:S,toDelete:k})}}),a(g),l(`Scan Complete. Found ${g.length} duplicate groups.`)}catch(f){console.error(f),l("Error scanning database.")}finally{r(!1)}}},d=async f=>{const m=n[f];if(confirm(`Permanently delete ${m.toDelete.length} duplicate(s) for "${m.name}"?

The oldest record (ID: ...${m.keeper.id.slice(-4)}) will be kept.
Newer duplicates will be removed.`))try{for(const v of m.toDelete)await Y8(v.id);const g=[...n];g.splice(f,1),a(g),alert("Cleaned successfully.")}catch(g){alert("Error deleting: "+g.message)}};return h.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm",children:[h.jsxs("div",{className:"flex justify-between items-start mb-4",children:[h.jsxs("div",{children:[h.jsxs("h3",{className:"text-sm font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[h.jsx(V5,{className:"w-4 h-4 text-amber-500"}),"Database Health: Duplicate SKU Cleaner"]}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Find and remove "ghost" duplicates that cause loading errors.'})]}),h.jsxs("button",{onClick:u,disabled:t,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-white bg-indigo-600 hover:bg-indigo-700 rounded-md transition-colors disabled:opacity-50",children:[h.jsx(B5,{className:`w-3.5 h-3.5 ${t?"animate-spin":""}`}),t?"Scanning...":"Scan Now"]})]}),s&&h.jsx("div",{className:"mb-4 text-xs font-medium text-gray-600 dark:text-gray-300",children:s}),n.length>0&&h.jsx("div",{className:"space-y-3",children:n.map((f,m)=>h.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/10 border border-red-100 dark:border-red-900 rounded-md",children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-sm font-bold text-red-800 dark:text-red-300",children:f.name}),h.jsxs("div",{className:"text-xs text-red-600 dark:text-red-400 mt-0.5",children:["Keeping: ",h.jsx("span",{className:"font-mono",children:f.keeper.id})," (Created: ",new Date(f.keeper.created_at).toLocaleDateString(),")"]}),h.jsxs("div",{className:"text-xs text-red-500 dark:text-red-400/80",children:["Deleting ",f.toDelete.length," newer copies."]})]}),h.jsx("button",{onClick:()=>d(m),className:"p-2 text-red-600 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-full transition-colors",title:"Fix this Duplicate",children:h.jsx(ga,{className:"w-5 h-5"})})]})},m))}),s&&n.length===0&&h.jsxs("div",{className:"text-center py-6 text-gray-400",children:[h.jsx(fa,{className:"w-8 h-8 mx-auto mb-2 text-emerald-500 opacity-50"}),h.jsx("p",{className:"text-xs",children:"Database is clean. No duplicates found."})]})]})}const Tc=[{id:"admin",label:"Administrator",badge:"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300",desc:"Full system access. Can manage users, settings, and master data."},{id:"planner",label:"Lead Planner",badge:"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300",desc:"Can edit Master Schedule, MRP, and Production Plans."},{id:"logistics",label:"Floor / Logistics",badge:"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300",desc:"Can manage Trucks, Verify Shifts, and view Schedule. No MRP editing."},{id:"viewer",label:"Read-Only Viewer",badge:"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300",desc:"Can view dashboards and schedules but cannot make changes."}];function JB(){const[e,t]=x.useState([]),[r,n]=x.useState(!0),[a,s]=x.useState(""),[l,u]=x.useState("viewer"),[d,f]=x.useState(null),[m,g]=x.useState(null),[v,y]=x.useState(!1);x.useEffect(()=>{S()},[]);const S=async()=>{try{n(!0);const N=await KB();t(N),y(!1)}catch(N){console.error(N),N.code==="42P01"||N.message?.includes("Could not find the table")?(y(!0),t([])):f(N.message)}finally{n(!1)}},k=async N=>{if(N.preventDefault(),!a)return;n(!0),f(null);const E="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",D=new Uint32Array(10);crypto.getRandomValues(D);let O="";for(let P=0;P<10;P++)O+=E[D[P]%E.length];try{try{await WB(a,O)}catch(P){throw P.message?.includes("Signups not allowed")?new Error("Cannot create user: Public Signups are disabled. Enable them or use Enterprise Invite."):P}await YB(a,l),t(P=>[{email:a.toLowerCase(),role:l,created_at:new Date().toISOString()},...P.filter(C=>C.email!==a.toLowerCase())]),g({email:a,password:O}),s("")}catch(P){console.error("Provisioning Error:",P),f(P.message)}finally{n(!1),S()}},_=async N=>{if(confirm(`Revoke access for ${N}?`))try{await GB(N),t(e.filter(E=>E.email!==N))}catch(E){f(E.message)}},j=async(N,E)=>{try{t(e.map(D=>D.email===N?{...D,role:E}:D)),await ZB(N,E)}catch(D){f(D.message),S()}};return v?h.jsxs("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 rounded-lg border border-amber-200 dark:border-amber-700/50",children:[h.jsx("h3",{className:"font-bold text-amber-800 dark:text-amber-200 mb-2",children:"Setup Required"}),h.jsxs("p",{className:"text-sm text-amber-700 dark:text-amber-300 mb-4",children:["The ",h.jsx("code",{children:"user_roles"})," table is missing. Run this SQL in your Supabase SQL Editor:"]}),h.jsxs("div",{className:"bg-slate-900 rounded p-4 relative group",children:[h.jsx("code",{className:"text-xs text-green-400 font-mono block whitespace-pre-wrap",children:`create table user_roles (
  id uuid default gen_random_uuid() primary key,
  email text unique not null,
  role text default 'viewer',
  created_at timestamptz default now()
);

alter table user_roles enable row level security;
create policy "Allow read access for all auth users" on user_roles for select to authenticated using (true);
create policy "Allow insert/update/delete for authenticated" on user_roles for all to authenticated using (true); 
-- In production, replace the write policy with: using (auth.email() IN (SELECT email FROM user_roles WHERE role = 'admin'))`}),h.jsxs("button",{onClick:()=>navigator.clipboard.writeText(`create table user_roles ( id uuid default gen_random_uuid() primary key, email text unique not null, role text default 'viewer', created_at timestamptz default now() ); alter table user_roles enable row level security; create policy "Allow read access" on user_roles for select to authenticated using (true); create policy "Allow all write" on user_roles for all to authenticated using (true);`),className:"absolute top-2 right-2 bg-slate-700 hover:bg-slate-600 text-white text-xs px-2 py-1 rounded flex items-center gap-1",children:[h.jsx(jy,{className:"w-3 h-3"})," Copy"]})]}),h.jsx("div",{className:"mt-4 flex gap-2",children:h.jsx("button",{onClick:S,className:"px-4 py-2 bg-amber-200 hover:bg-amber-300 rounded text-amber-900 font-bold text-sm",children:"I've ran the SQL, Try Again"})})]}):h.jsxs("div",{className:"space-y-8 relative",children:[h.jsx(XB,{}),m&&h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:h.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-2xl max-w-md w-full border border-slate-200 dark:border-slate-700 overflow-hidden transform scale-100 transition-all",children:[h.jsx("div",{className:"bg-emerald-500 h-2 w-full"}),h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx("div",{className:"bg-emerald-100 dark:bg-emerald-900/30 p-2 rounded-full",children:h.jsx(K5,{className:"w-6 h-6 text-emerald-600 dark:text-emerald-400"})}),h.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"User Created!"})]}),h.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-6",children:["The account for ",h.jsx("strong",{className:"text-slate-700 dark:text-slate-200",children:m.email})," is ready. Please copy the temporary password below."]}),h.jsxs("div",{className:"bg-slate-100 dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700 mb-6",children:[h.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1 block",children:"Temporary Password"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("code",{className:"text-lg font-mono font-bold text-slate-800 dark:text-emerald-400 break-all",children:m.password}),h.jsx("button",{onClick:()=>{navigator.clipboard.writeText(m.password),alert("Password Copied!")},className:"ml-auto p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-slate-700 rounded-lg transition-colors",title:"Copy Password",children:h.jsx(jy,{className:"w-5 h-5"})})]})]}),h.jsx("button",{onClick:()=>g(null),className:"w-full bg-slate-900 dark:bg-slate-700 hover:bg-slate-800 text-white font-bold py-3 rounded-xl transition-colors",children:"Done"})]})]})}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:Tc.map(N=>h.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-white dark:bg-slate-800 border border-slate-100 dark:border-slate-700 shadow-sm",children:[h.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wide shrink-0 mt-0.5 ${N.badge}`,children:N.label}),h.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 leading-tight",children:N.desc})]},N.id))}),h.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[h.jsxs("h3",{className:"text-sm font-bold text-slate-700 dark:text-slate-300 mb-2 uppercase tracking-wider flex items-center gap-2",children:[h.jsx(pI,{className:"w-5 h-5 text-blue-500"})," Provision New User"]}),h.jsx("p",{className:"text-xs text-slate-500 mb-4",children:"Instantly create a user account. The system will generate a temporary password for you to give to them."}),h.jsxs("form",{onSubmit:k,className:"flex flex-col sm:flex-row gap-4 items-end",children:[h.jsxs("div",{className:"flex-1 w-full",children:[h.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"User Email"}),h.jsx("input",{type:"email",required:!0,placeholder:"colleague@company.com",value:a,onChange:N=>s(N.target.value),className:"w-full rounded-lg border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white p-2.5 focus:ring-blue-500 focus:border-blue-500 shadow-sm"})]}),h.jsxs("div",{className:"w-full sm:w-48",children:[h.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"Role"}),h.jsx("select",{value:l,onChange:N=>u(N.target.value),className:"w-full rounded-lg border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white p-2.5 focus:ring-blue-500 focus:border-blue-500 shadow-sm",children:Tc.map(N=>h.jsx("option",{value:N.id,children:N.label},N.id))})]}),h.jsx("div",{className:"w-full sm:w-auto",children:h.jsx("button",{type:"submit",disabled:r,className:"w-full sm:w-auto bg-blue-600 hover:bg-blue-500 text-white font-bold py-2.5 px-6 rounded-lg transition-colors shadow-lg shadow-blue-500/30 flex items-center justify-center gap-2 disabled:opacity-50",children:r?"Processing...":h.jsxs(h.Fragment,{children:[h.jsx(d0,{className:"w-5 h-5"}),h.jsx("span",{children:"Create User"})]})})})]})]}),h.jsxs("div",{children:[h.jsx("div",{className:"flex justify-between items-end mb-3",children:h.jsxs("h3",{className:"text-sm font-bold text-slate-700 dark:text-slate-300 uppercase tracking-wider",children:["Authorized Users (",e.length,")"]})}),d&&h.jsx("div",{className:"mb-4 text-rose-500 text-sm bg-rose-50 dark:bg-rose-900/20 p-2 rounded border border-rose-100 dark:border-rose-800",children:d}),h.jsx("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl divide-y divide-slate-100 dark:divide-slate-700 shadow-sm overflow-hidden",children:r?h.jsx("div",{className:"p-8 text-center text-slate-500 animate-pulse text-sm",children:"Loading users..."}):e.length===0?h.jsx("div",{className:"p-8 text-center text-slate-400 text-sm italic",children:"No users found. Create one above."}):e.map(N=>{const E=Tc.find(D=>D.id===N.role)||Tc[3];return h.jsxs("div",{className:"p-4 flex flex-col sm:flex-row sm:items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors gap-3",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 dark:bg-slate-700 ring-2 ring-white dark:ring-slate-800 flex items-center justify-center text-sm font-bold text-slate-600 dark:text-slate-300 uppercase shadow-sm",children:N.email.substring(0,2)}),h.jsxs("div",{children:[h.jsx("div",{className:"text-sm font-bold text-slate-900 dark:text-white",children:N.email}),h.jsxs("div",{className:"text-[10px] text-slate-500 dark:text-slate-400 flex items-center gap-1",children:["Added ",new Date(N.created_at).toLocaleDateString()]})]})]}),h.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3 w-full sm:w-auto pl-14 sm:pl-0",children:[h.jsx("select",{value:N.role,onChange:D=>j(N.email,D.target.value),className:`text-xs font-bold rounded-full py-1.5 px-3 border-0 cursor-pointer focus:ring-2 focus:ring-offset-1 transition-colors outline-none ${E.badge}`,children:Tc.map(D=>h.jsx("option",{value:D.id,children:D.label},D.id))}),h.jsx("button",{title:"Revoke Access",onClick:()=>_(N.email),className:"p-2 text-slate-400 hover:text-rose-600 hover:bg-rose-50 dark:hover:bg-rose-900/30 rounded-lg transition-colors",children:h.jsx(ga,{className:"w-4 h-4"})})]})]},N.id)})})]})]})}function QB({onClose:e}){const[t,r]=x.useState("general"),{userRole:n}=Nr(),a=n==="admin",{csvMapping:s,updateCsvMapping:l,resetDefaults:u,theme:d,setTheme:f}=ra(),{poManifest:m}=na();return h.jsx("div",{className:"fixed inset-0 z-50 flex justify-center bg-black bg-opacity-50 overflow-y-auto px-4 py-6 backdrop-blur-sm",children:h.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-xl w-full max-w-2xl relative h-fit my-auto p-6 border dark:border-gray-700 transition-colors",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Master Settings"}),h.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 font-bold text-xl",children:""})]}),h.jsxs("div",{className:"flex border-b border-slate-200 dark:border-slate-700 mb-6",children:[h.jsx("button",{className:`pb-2 px-1 text-sm font-bold mr-6 border-b-2 transition-colors ${t==="general"?"border-blue-600 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400"}`,onClick:()=>r("general"),children:"General & Appearance"}),a&&h.jsx("button",{className:`pb-2 px-1 text-sm font-bold border-b-2 transition-colors ${t==="users"?"border-blue-600 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400"}`,onClick:()=>r("users"),children:"User Management"})]}),h.jsx("div",{className:"space-y-6 h-[60vh] overflow-y-auto pr-2 custom-scrollbar",children:t==="general"?h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex items-center justify-between bg-gray-50 dark:bg-gray-800 p-4 rounded-md border border-gray-200 dark:border-gray-700",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-bold text-gray-800 dark:text-gray-200",children:"Appearance"}),h.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Choose your interface theme."})]}),h.jsxs("div",{className:"flex bg-gray-200 dark:bg-gray-700 p-1 rounded-lg",children:[h.jsxs("button",{onClick:()=>f("light"),className:`flex items-center space-x-2 px-3 py-1.5 rounded-md text-sm font-medium transition-all ${d==="light"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"}`,children:[h.jsx(Z5,{className:"w-4 h-4"}),h.jsx("span",{children:"Light"})]}),h.jsxs("button",{onClick:()=>f("dark"),className:`flex items-center space-x-2 px-3 py-1.5 rounded-md text-sm font-medium transition-all ${d==="dark"?"bg-gray-600 text-white shadow-sm":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"}`,children:[h.jsx(eI,{className:"w-4 h-4"}),h.jsx("span",{children:"Dark"})]})]})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-200 mb-4",children:"CSV Integration Mappings"}),h.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-md border border-gray-200 dark:border-gray-700 grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Status Column Header"}),h.jsx("input",{type:"text",value:s.statusColumn,onChange:g=>l("statusColumn",g.target.value),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm",placeholder:"e.g. Trailer State"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:'"Full" Keyword'}),h.jsx("input",{type:"text",value:s.fullValue,onChange:g=>l("fullValue",g.target.value),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm",placeholder:"e.g. Loaded"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"SKU/Product Column"}),h.jsx("input",{type:"text",value:s.skuColumn,onChange:g=>l("skuColumn",g.target.value),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm",placeholder:"e.g. Commodity"})]}),h.jsx("div",{className:"col-span-1 md:col-span-3",children:h.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 italic",children:["The importer will look for rows where ",h.jsx("strong",{children:s.statusColumn}),' contains "',h.jsx("strong",{children:s.fullValue}),'"',s.skuColumn?h.jsxs("span",{children:[" and ",h.jsx("strong",{children:s.skuColumn}),' contains the active bottle size (e.g. "20oz").']}):"."]})})]})]})]}):h.jsx(JB,{})}),h.jsxs("div",{className:"mt-8 bg-gray-50 dark:bg-gray-800 -mx-6 -mb-6 p-4 rounded-b-lg border-t dark:border-gray-700",children:[h.jsxs("div",{className:"flex flex-col-reverse md:flex-row justify-between items-center gap-4",children:[h.jsx("button",{onClick:()=>{confirm("Are you sure you want to reset all settings to factory defaults?")&&u()},className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 text-sm font-medium",children:"Reset to Defaults"}),h.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-4 w-full md:w-auto",children:[h.jsxs("button",{onClick:()=>window.location.reload(),className:"w-full md:w-auto px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 text-sm font-bold flex items-center justify-center",children:[h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4 mr-2",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 4.992l3.181-3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})}),"Reload & Sync"]}),h.jsx("button",{onClick:e,className:"w-full md:w-auto px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm font-bold shadow-sm",children:"Done"})]})]}),h.jsx("div",{className:"text-center mt-4",children:h.jsxs("p",{className:"text-[10px] text-gray-400 dark:text-gray-600",children:["v","2.25.42"," (Smart Planner)"]})})]})]})})}var eo=U5();const Wr=e=>{const t=e?new Date(e):new Date,r=t.getTimezoneOffset()*6e4;return new Date(t.getTime()-r).toISOString().split("T")[0]},Ft=(e,t)=>{if(!e)return"";try{let r;if(e instanceof Date)r=new Date(e),r.setDate(r.getDate()+t);else{const[l,u,d]=e.split("-").map(Number);r=new Date(l,u-1,d+t)}const n=r.getFullYear(),a=String(r.getMonth()+1).padStart(2,"0"),s=String(r.getDate()).padStart(2,"0");return`${n}-${a}-${s}`}catch(r){return console.error("addDays Error",r),String(e)}},jt=e=>{if(!e)return"";const t=new Date(e);if(isNaN(t.getTime()))return"";if(typeof e=="string"&&e.match(/^\d{4}-\d{2}-\d{2}$/))return e;const r=t.getTimezoneOffset()*6e4;return new Date(t.getTime()-r).toISOString().split("T")[0]},iu=e=>{if(!e)return"";const[t,r]=e.split(":").map(Number);if(isNaN(t))return e;const n=t>=12?"PM":"AM",a=t%12||12,s=r!==void 0?String(r).padStart(2,"0"):"00";return`${a}:${s} ${n}`},eq=e=>e.isSafetyRisk?"bg-red-500":e.isOverflow?"bg-amber-400":"bg-emerald-400",tq=x.memo(({day:e,isToday:t,updateDateDemand:r,updateDateActual:n,updateDateInbound:a,onContextMenu:s,performBulkFill:l,readOnly:u})=>{const[d,f]=x.useState(e?.val?Number(e.val).toLocaleString():0),[m,g]=x.useState(e?.actual?Number(e.actual).toLocaleString():""),[v,y]=x.useState(e?.trucks||0);if(x.useEffect(()=>{f(e?.val?Number(e.val).toLocaleString():0)},[e?.val]),x.useEffect(()=>{g(e?.actual?Number(e.actual).toLocaleString():"")},[e?.actual]),x.useEffect(()=>{y(e?.trucks||0)},[e?.trucks]),!e)return h.jsx("div",{className:"bg-transparent"});const S=Number(v)>0,k=Number(d)>0,_=m!==""&&m!==null&&m!==void 0,j=()=>{let O=String(d).replace(/,/g,"").trim();if(O===""&&(O="0"),!isNaN(O)){let P=Number(O);P>0&&P<1e3&&(P*=1e3),f(P.toLocaleString()),P!==Number(e.val)&&r(e.dateStr,P)}},N=()=>{let O=String(m).replace(/,/g,"").trim();if(O==="")e.actual!==null&&e.actual!==""&&n(e.dateStr,null);else if(!isNaN(O)){let P=Number(O);P>0&&P<1e3&&(P*=1e3),g(P.toLocaleString()),P!==Number(e.actual)&&n(e.dateStr,P)}},E=()=>{const O=String(v).replace(/,/g,"");!isNaN(O)&&Number(O)!==Number(e.trucks)&&a(e.dateStr,O)},D=(O,P)=>{(O.key==="Enter"||O.code==="Enter"||O.code==="NumpadEnter")&&(O.preventDefault(),O.target.blur())};return h.jsxs("div",{onContextMenu:O=>s(O,e.dateStr,d),className:`
                relative group flex flex-col justify-between p-2 rounded-xl transition-all duration-200 border
                ${t?"bg-white dark:bg-slate-800 ring-2 ring-blue-500 border-blue-500 shadow-blue-500/10 z-10 scale-[1.02]":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 hover:border-blue-300 dark:hover:border-blue-700 hover:shadow-md hover:-translate-y-0.5"}
                ${e.isSafetyRisk?"ring-1 ring-red-500/20 bg-red-50/10":""}
            `,children:[h.jsxs("div",{className:"flex justify-between items-center mb-1",children:[h.jsx("span",{className:`
                    text-sm font-bold w-6 h-6 flex items-center justify-center rounded-full
                    ${t?"bg-blue-600 text-white shadow-sm":"text-slate-700 dark:text-slate-300 group-hover:bg-slate-100 dark:group-hover:bg-slate-700"}
                `,children:e.dayNum}),e.isConfirmed&&h.jsx("span",{title:"Confirmed POs",className:"text-[10px] font-bold text-emerald-600 bg-emerald-50 dark:bg-emerald-900/30 px-1.5 py-0.5 rounded border border-emerald-100 dark:border-emerald-800",children:"PO"})]}),h.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-1.5 py-1 min-h-0",children:[h.jsxs("div",{className:"w-full relative group/demand",children:[h.jsx("div",{className:"text-[9px] font-black text-slate-300 dark:text-slate-600 uppercase tracking-widest text-center mb-0.5 group-hover/demand:text-blue-400 transition-colors",children:"Demand"}),h.jsx("input",{className:`
                            w-full text-center outline-none bg-transparent transition-all
                            ${u?"cursor-not-allowed":"cursor-text"}
                            ${k?"text-2xl font-black text-slate-700 dark:text-white":"text-xl font-bold text-slate-300 dark:text-slate-600"}
                            focus:scale-110 focus:text-blue-600 dark:focus:text-blue-400
                        `,value:d||"",placeholder:"-",disabled:u,onChange:O=>f(O.target.value),onBlur:j,onKeyDown:O=>D(O)})]}),h.jsx("div",{className:"flex items-center justify-center w-full",children:h.jsxs("div",{className:`
                        flex items-center gap-1.5 px-2 py-0.5 rounded-md transition-all
                        ${_?"bg-blue-50 dark:bg-blue-900/30 ring-1 ring-blue-100 dark:ring-blue-800":"bg-slate-50 dark:bg-slate-800/50 hover:bg-slate-100 dark:hover:bg-slate-700"}
                     `,children:[h.jsx("span",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-wider select-none",children:"Act"}),h.jsx("input",{className:`
                                w-12 text-center text-xs font-bold bg-transparent outline-none
                                ${_?"text-blue-700 dark:text-blue-300":"text-slate-400"}
                                focus:text-blue-600 dark:focus:text-blue-400
                            `,value:m,placeholder:"-",disabled:u,onChange:O=>g(O.target.value),onBlur:N,onKeyDown:O=>D(O)})]})})]}),h.jsx("div",{className:"mt-2 flex items-center justify-end",children:h.jsxs("div",{className:`
                    flex items-center gap-1 px-1.5 py-0.5 rounded transition-colors
                    ${S?"bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-400 border border-emerald-100 dark:border-emerald-800/50":"text-slate-300"}
                `,children:[h.jsx(gn,{className:"w-3 h-3"}),h.jsx("input",{className:"w-4 text-center text-[10px] font-bold bg-transparent outline-none",value:v||"",placeholder:"0",disabled:u,onChange:O=>y(O.target.value),onBlur:E,onKeyDown:O=>D(O)})]})}),h.jsx("div",{className:"mt-2 h-1.5 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden flex",children:h.jsx("div",{className:`h-full ${eq(e)}`,style:{width:"100%"},title:`Inventory Health: ${e.isSafetyRisk?"Critical":"Healthy"}`})})]})},(e,t)=>!(e.day?.dateStr!==t.day?.dateStr||e.day?.val!==t.day?.val||e.day?.actual!==t.day?.actual||e.day?.trucks!==t.day?.trucks||e.day?.isSafetyRisk!==t.day?.isSafetyRisk||e.day?.isOverflow!==t.day?.isOverflow||e.day?.isConfirmed!==t.day?.isConfirmed||e.isToday!==t.isToday||e.readOnly!==t.readOnly));function rq({monthlyDemand:e,updateDateDemand:t,updateDateDemandBulk:r,monthlyInbound:n,updateDateInbound:a,monthlyProductionActuals:s,updateDateActual:l,specs:u,trucksToCancel:d,dailyLedger:f,safetyTarget:m,poManifest:g={},readOnly:v=!1}){const[y,S]=x.useState(new Date),{days:k,monthLabel:_,totalMonthlyDemand:j,totalEstTrucks:N}=x.useMemo(()=>{const R=y.getFullYear(),M=y.getMonth(),I=new Date(R,M,1),q=new Date(R,M+1,0).getDate(),te=I.getDay(),ue=Array(te).fill(null),B=new Date().toLocaleDateString("en-CA");let H=null;d>0&&(H=Object.keys(n||{}).sort().find(F=>F>=B&&n[F]>0));const X=(f||[]).reduce((K,F)=>(K[F.date]=F.balance,K),{}),ee=Array.from({length:q},(K,F)=>{const Z=new Date(R,M,F+1),oe=Z.getFullYear(),ce=String(Z.getMonth()+1).padStart(2,"0"),ae=String(Z.getDate()).padStart(2,"0"),ye=`${oe}-${ce}-${ae}`,G=X[ye];let xe=null;return G!==void 0&&u?.bottlesPerCase&&(xe=Math.round(G/u.bottlesPerCase)),{date:Z,dateStr:ye,dayNum:F+1,val:e[ye]||0,trucks:n?.[ye]||0,actual:s?.[ye],isPushCandidate:H===ye,endInvCases:xe,isSafetyRisk:G!==void 0&&G<(m||0),isOverflow:G!==void 0&&G>(m||0)+(u?.bottlesPerTruck||0)*2,isConfirmed:g[ye]?.items?.length>0}}),ve=ee.reduce((K,F)=>{const Z=F.actual!==void 0&&F.actual!==null?Number(F.actual):Number(F.val||0);return K+Z},0);let L=0;if(u&&u.bottlesPerTruck&&u.bottlesPerCase){const K=u.bottlesPerTruck/u.bottlesPerCase;L=Math.ceil(ve/K)}return{days:[...ue,...ee],monthLabel:I.toLocaleString("default",{month:"long",year:"numeric"}),totalMonthlyDemand:ve,totalEstTrucks:L}},[y,e,n,s,u,d,g,f,m]),E=R=>{S(M=>{const I=new Date(M);return I.setMonth(I.getMonth()+R),I})},[D,O]=x.useState(null),P=()=>O(null),C=(R,M,I)=>{v||(R.preventDefault(),O({x:R.clientX,y:R.clientY,dateStr:M,currentVal:I}))},A=R=>{if(!D)return;const{dateStr:M,currentVal:I}=D,z=String(I||"").replace(/,/g,""),q=parseInt(z,10);if(!q&&q!==0){P();return}const te={};if(te[M]=q.toString(),R==="week")for(let ue=1;ue<7;ue++)te[Ft(M,ue)]=q.toString();if(R==="month"){const[ue,B]=M.split("-").map(Number),H=B-1;let X=1;for(;;){const ee=Ft(M,X),[ve,L]=ee.split("-").map(Number);if(L-1!==H||(te[ee]=q.toString(),X++,X>31))break}}if(R==="restOfWeek"){new Date(M.replace(/-/g,"/"));const[ue,B,H]=M.split("-").map(Number);let X=1;for(;;){const ee=Ft(M,X),[ve,L,K]=ee.split("-").map(Number);if(new Date(ve,L-1,K).getDay()===0||(te[ee]=q.toString(),X++,X>7))break}}r&&r(te),P()};return h.jsxs("div",{className:"h-full flex flex-col bg-slate-50 dark:bg-slate-900/50 p-4 rounded-xl",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("button",{onClick:()=>E(-1),className:"p-2 hover:bg-white dark:hover:bg-slate-800 rounded-full shadow-sm transition-all text-slate-500 hover:text-blue-600",children:h.jsx(ax,{className:"w-5 h-5"})}),h.jsxs("h2",{className:"text-2xl font-black text-slate-800 dark:text-white tracking-tight flex items-center gap-2",children:[_,h.jsx("span",{className:"text-sm font-medium text-slate-400 font-mono tracking-normal bg-slate-200 dark:bg-slate-800 px-2 py-0.5 rounded-md",children:y.getFullYear()})]}),h.jsx("button",{onClick:()=>E(1),className:"p-2 hover:bg-white dark:hover:bg-slate-800 rounded-full shadow-sm transition-all text-slate-500 hover:text-blue-600",children:h.jsx(ix,{className:"w-5 h-5"})})]}),h.jsx("div",{className:"flex gap-4 text-xs font-bold text-slate-500",children:h.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[h.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500"}),h.jsxs("span",{children:[N," Trucks Est."]})]})})]}),h.jsx("div",{className:"grid grid-cols-7 gap-4 mb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((R,M)=>h.jsx("div",{className:`text-center text-xs font-bold uppercase tracking-wider py-1
                        ${M===0||M===6?"text-slate-400":"text-slate-600 dark:text-slate-300"}
                    `,children:R},R))}),h.jsx("div",{className:"flex-1 grid grid-cols-7 grid-rows-5 gap-3 min-h-0",children:k.map((R,M)=>{if(!R)return h.jsx("div",{className:"bg-transparent"},`pad-${M}`);const I=R.dateStr===new Date().toLocaleDateString("en-CA");return h.jsx(tq,{day:R,isToday:I,updateDateDemand:t,updateDateActual:l,updateDateInbound:a,onContextMenu:C,performBulkFill:A,readOnly:v},R.dateStr)})}),D&&eo.createPortal(h.jsxs("div",{className:"fixed z-50 bg-white dark:bg-slate-800 rounded-lg shadow-xl border border-slate-200 dark:border-slate-700 py-1 min-w-[160px] animate-in fade-in zoom-in-95 duration-100",style:{top:D.y,left:D.x},onClick:R=>R.stopPropagation(),children:[h.jsx("div",{className:"px-3 py-2 border-b dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50",children:h.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Quick Fill"})}),h.jsxs("button",{onClick:()=>A("week"),className:"w-full text-left px-4 py-2 text-sm text-slate-700 dark:text-slate-200 hover:bg-blue-50 dark:hover:bg-blue-900/30 hover:text-blue-600 flex items-center gap-2",children:[h.jsx("span",{children:""})," Fill Next 7 Days"]}),h.jsxs("button",{onClick:()=>A("restOfWeek"),className:"w-full text-left px-4 py-2 text-sm text-slate-700 dark:text-slate-200 hover:bg-blue-50 dark:hover:bg-blue-900/30 hover:text-blue-600 flex items-center gap-2",children:[h.jsx("span",{children:""})," Rest of Week"]}),h.jsxs("button",{onClick:()=>A("month"),className:"w-full text-left px-4 py-2 text-sm text-slate-700 dark:text-slate-200 hover:bg-blue-50 dark:hover:bg-blue-900/30 hover:text-blue-600 flex items-center gap-2",children:[h.jsx("span",{children:""})," Fill Rest of Month"]}),h.jsx("div",{className:"border-t dark:border-slate-700 my-1"}),h.jsx("button",{onClick:P,className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:"Cancel"})]}),document.body)]})}const JT=typeof document<"u"?_e.useLayoutEffect:()=>{};var Hg;const nq=(Hg=_e.useInsertionEffect)!==null&&Hg!==void 0?Hg:JT;function aq(e){const t=x.useRef(null);return nq(()=>{t.current=e},[e]),x.useCallback((...r)=>{const n=t.current;return n?.(...r)},[])}const es=e=>{var t;return(t=e?.ownerDocument)!==null&&t!==void 0?t:document},Rs=e=>e&&"window"in e&&e.window===e?e:es(e).defaultView||window;function iq(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function sq(e){return iq(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}let oq=!1;function Ex(){return oq}function QT(e,t){if(!Ex())return t&&e?e.contains(t):!1;if(!e||!t)return!1;let r=t;for(;r!==null;){if(r===e)return!0;r.tagName==="SLOT"&&r.assignedSlot?r=r.assignedSlot.parentNode:sq(r)?r=r.host:r=r.parentNode}return!1}const Zy=(e=document)=>{var t;if(!Ex())return e.activeElement;let r=e.activeElement;for(;r&&"shadowRoot"in r&&(!((t=r.shadowRoot)===null||t===void 0)&&t.activeElement);)r=r.shadowRoot.activeElement;return r};function eC(e){return Ex()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}function tC(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=tC(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ht(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=tC(e))&&(n&&(n+=" "),n+=t);return n}function lq(e){var t;if(typeof window>"u"||window.navigator==null)return!1;let r=(t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands;return Array.isArray(r)&&r.some(n=>e.test(n.brand))||e.test(window.navigator.userAgent)}function cq(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function rC(e){let t=null;return()=>(t==null&&(t=e()),t)}const uq=rC(function(){return cq(/^Mac/i)}),dq=rC(function(){return lq(/Android/i)});function nC(){let e=x.useRef(new Map),t=x.useCallback((a,s,l,u)=>{let d=u?.once?(...f)=>{e.current.delete(l),l(...f)}:l;e.current.set(l,{type:s,eventTarget:a,fn:d,options:u}),a.addEventListener(s,d,u)},[]),r=x.useCallback((a,s,l,u)=>{var d;let f=((d=e.current.get(l))===null||d===void 0?void 0:d.fn)||l;a.removeEventListener(s,f,u),e.current.delete(l)},[]),n=x.useCallback(()=>{e.current.forEach((a,s)=>{r(a.eventTarget,a.type,s,a.options)})},[r]);return x.useEffect(()=>n,[n]),{addGlobalListener:t,removeGlobalListener:r,removeAllGlobalListeners:n}}function fq(e){return e.pointerType===""&&e.isTrusted?!0:dq()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function aC(e){let t=e;return t.nativeEvent=e,t.isDefaultPrevented=()=>t.defaultPrevented,t.isPropagationStopped=()=>t.cancelBubble,t.persist=()=>{},t}function hq(e,t){Object.defineProperty(e,"target",{value:t}),Object.defineProperty(e,"currentTarget",{value:t})}function iC(e){let t=x.useRef({isFocused:!1,observer:null});JT(()=>{const n=t.current;return()=>{n.observer&&(n.observer.disconnect(),n.observer=null)}},[]);let r=aq(n=>{e?.(n)});return x.useCallback(n=>{if(n.target instanceof HTMLButtonElement||n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLSelectElement){t.current.isFocused=!0;let a=n.target,s=l=>{if(t.current.isFocused=!1,a.disabled){let u=aC(l);r(u)}t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};a.addEventListener("focusout",s,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&a.disabled){var l;(l=t.current.observer)===null||l===void 0||l.disconnect();let u=a===document.activeElement?null:document.activeElement;a.dispatchEvent(new FocusEvent("blur",{relatedTarget:u})),a.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:u}))}}),t.current.observer.observe(a,{attributes:!0,attributeFilter:["disabled"]})}},[r])}let mq=!1,ju=null,Gy=new Set,Gc=new Map,Vs=!1,Yy=!1;const pq={Tab:!0,Escape:!0};function Nx(e,t){for(let r of Gy)r(e,t)}function gq(e){return!(e.metaKey||!uq()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function yh(e){Vs=!0,gq(e)&&(ju="keyboard",Nx("keyboard",e))}function ll(e){ju="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(Vs=!0,Nx("pointer",e))}function sC(e){fq(e)&&(Vs=!0,ju="virtual")}function oC(e){e.target===window||e.target===document||mq||!e.isTrusted||(!Vs&&!Yy&&(ju="virtual",Nx("virtual",e)),Vs=!1,Yy=!1)}function lC(){Vs=!1,Yy=!0}function Wy(e){if(typeof window>"u"||typeof document>"u"||Gc.get(Rs(e)))return;const t=Rs(e),r=es(e);let n=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){Vs=!0,n.apply(this,arguments)},r.addEventListener("keydown",yh,!0),r.addEventListener("keyup",yh,!0),r.addEventListener("click",sC,!0),t.addEventListener("focus",oC,!0),t.addEventListener("blur",lC,!1),typeof PointerEvent<"u"&&(r.addEventListener("pointerdown",ll,!0),r.addEventListener("pointermove",ll,!0),r.addEventListener("pointerup",ll,!0)),t.addEventListener("beforeunload",()=>{cC(e)},{once:!0}),Gc.set(t,{focus:n})}const cC=(e,t)=>{const r=Rs(e),n=es(e);t&&n.removeEventListener("DOMContentLoaded",t),Gc.has(r)&&(r.HTMLElement.prototype.focus=Gc.get(r).focus,n.removeEventListener("keydown",yh,!0),n.removeEventListener("keyup",yh,!0),n.removeEventListener("click",sC,!0),r.removeEventListener("focus",oC,!0),r.removeEventListener("blur",lC,!1),typeof PointerEvent<"u"&&(n.removeEventListener("pointerdown",ll,!0),n.removeEventListener("pointermove",ll,!0),n.removeEventListener("pointerup",ll,!0)),Gc.delete(r))};function vq(e){const t=es(e);let r;return t.readyState!=="loading"?Wy(e):(r=()=>{Wy(e)},t.addEventListener("DOMContentLoaded",r)),()=>cC(e,r)}typeof document<"u"&&vq();function uC(){return ju!=="pointer"}const yq=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function bq(e,t,r){let n=es(r?.target);const a=typeof window<"u"?Rs(r?.target).HTMLInputElement:HTMLInputElement,s=typeof window<"u"?Rs(r?.target).HTMLTextAreaElement:HTMLTextAreaElement,l=typeof window<"u"?Rs(r?.target).HTMLElement:HTMLElement,u=typeof window<"u"?Rs(r?.target).KeyboardEvent:KeyboardEvent;return e=e||n.activeElement instanceof a&&!yq.has(n.activeElement.type)||n.activeElement instanceof s||n.activeElement instanceof l&&n.activeElement.isContentEditable,!(e&&t==="keyboard"&&r instanceof u&&!pq[r.key])}function xq(e,t,r){Wy(),x.useEffect(()=>{let n=(a,s)=>{bq(!!r?.isTextInput,a,s)&&e(uC())};return Gy.add(n),()=>{Gy.delete(n)}},t)}function wq(e){let{isDisabled:t,onFocus:r,onBlur:n,onFocusChange:a}=e;const s=x.useCallback(d=>{if(d.target===d.currentTarget)return n&&n(d),a&&a(!1),!0},[n,a]),l=iC(s),u=x.useCallback(d=>{const f=es(d.target),m=f?Zy(f):Zy();d.target===d.currentTarget&&m===eC(d.nativeEvent)&&(r&&r(d),a&&a(!0),l(d))},[a,r,l]);return{focusProps:{onFocus:!t&&(r||a||n)?u:void 0,onBlur:!t&&(n||a)?s:void 0}}}function _q(e){let{isDisabled:t,onBlurWithin:r,onFocusWithin:n,onFocusWithinChange:a}=e,s=x.useRef({isFocusWithin:!1}),{addGlobalListener:l,removeAllGlobalListeners:u}=nC(),d=x.useCallback(g=>{g.currentTarget.contains(g.target)&&s.current.isFocusWithin&&!g.currentTarget.contains(g.relatedTarget)&&(s.current.isFocusWithin=!1,u(),r&&r(g),a&&a(!1))},[r,a,s,u]),f=iC(d),m=x.useCallback(g=>{if(!g.currentTarget.contains(g.target))return;const v=es(g.target),y=Zy(v);if(!s.current.isFocusWithin&&y===eC(g.nativeEvent)){n&&n(g),a&&a(!0),s.current.isFocusWithin=!0,f(g);let S=g.currentTarget;l(v,"focus",k=>{if(s.current.isFocusWithin&&!QT(S,k.target)){let _=new v.defaultView.FocusEvent("blur",{relatedTarget:k.target});hq(_,S);let j=aC(_);d(j)}},{capture:!0})}},[n,a,f,l,d]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:m,onBlur:d}}}let Xy=!1,Ef=0;function Sq(){Xy=!0,setTimeout(()=>{Xy=!1},50)}function vj(e){e.pointerType==="touch"&&Sq()}function kq(){if(!(typeof document>"u"))return Ef===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",vj),Ef++,()=>{Ef--,!(Ef>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",vj)}}function jq(e){let{onHoverStart:t,onHoverChange:r,onHoverEnd:n,isDisabled:a}=e,[s,l]=x.useState(!1),u=x.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;x.useEffect(kq,[]);let{addGlobalListener:d,removeAllGlobalListeners:f}=nC(),{hoverProps:m,triggerHoverEnd:g}=x.useMemo(()=>{let v=(k,_)=>{if(u.pointerType=_,a||_==="touch"||u.isHovered||!k.currentTarget.contains(k.target))return;u.isHovered=!0;let j=k.currentTarget;u.target=j,d(es(k.target),"pointerover",N=>{u.isHovered&&u.target&&!QT(u.target,N.target)&&y(N,N.pointerType)},{capture:!0}),t&&t({type:"hoverstart",target:j,pointerType:_}),r&&r(!0),l(!0)},y=(k,_)=>{let j=u.target;u.pointerType="",u.target=null,!(_==="touch"||!u.isHovered||!j)&&(u.isHovered=!1,f(),n&&n({type:"hoverend",target:j,pointerType:_}),r&&r(!1),l(!1))},S={};return typeof PointerEvent<"u"&&(S.onPointerEnter=k=>{Xy&&k.pointerType==="mouse"||v(k,k.pointerType)},S.onPointerLeave=k=>{!a&&k.currentTarget.contains(k.target)&&y(k,k.pointerType)}),{hoverProps:S,triggerHoverEnd:y}},[t,r,n,a,u,d,f]);return x.useEffect(()=>{a&&g({currentTarget:u.target},u.pointerType)},[a]),{hoverProps:m,isHovered:s}}function Eq(e={}){let{autoFocus:t=!1,isTextInput:r,within:n}=e,a=x.useRef({isFocused:!1,isFocusVisible:t||uC()}),[s,l]=x.useState(!1),[u,d]=x.useState(()=>a.current.isFocused&&a.current.isFocusVisible),f=x.useCallback(()=>d(a.current.isFocused&&a.current.isFocusVisible),[]),m=x.useCallback(y=>{a.current.isFocused=y,l(y),f()},[f]);xq(y=>{a.current.isFocusVisible=y,f()},[],{isTextInput:r});let{focusProps:g}=wq({isDisabled:n,onFocusChange:m}),{focusWithinProps:v}=_q({isDisabled:!n,onFocusWithinChange:m});return{isFocused:s,isFocusVisible:u,focusProps:n?v:g}}var Nq=Object.defineProperty,Oq=(e,t,r)=>t in e?Nq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Fg=(e,t,r)=>(Oq(e,typeof t!="symbol"?t+"":t,r),r);let Aq=class{constructor(){Fg(this,"current",this.detect()),Fg(this,"handoffState","pending"),Fg(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},ma=new Aq;function El(e){var t;return ma.isServer?null:e==null?document:(t=e?.ownerDocument)!=null?t:document}function Jy(e){var t,r;return ma.isServer?null:e==null?document:(r=(t=e?.getRootNode)==null?void 0:t.call(e))!=null?r:document}function dC(e){var t,r;return(r=(t=Jy(e))==null?void 0:t.activeElement)!=null?r:null}function Tq(e){return dC(e)===e}function w0(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function li(){let e=[],t={addEventListener(r,n,a,s){return r.addEventListener(n,a,s),t.add(()=>r.removeEventListener(n,a,s))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return t.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return t.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return w0(()=>{n.current&&r[0]()}),t.add(()=>{n.current=!1})},style(r,n,a){let s=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:a}),this.add(()=>{Object.assign(r.style,{[n]:s})})},group(r){let n=li();return r(n),this.add(()=>n.dispose())},add(r){return e.includes(r)||e.push(r),()=>{let n=e.indexOf(r);if(n>=0)for(let a of e.splice(n,1))a()}},dispose(){for(let r of e.splice(0))r()}};return t}function to(){let[e]=x.useState(li);return x.useEffect(()=>()=>e.dispose(),[e]),e}let Dr=(e,t)=>{ma.isServer?x.useEffect(e,t):x.useLayoutEffect(e,t)};function ro(e){let t=x.useRef(e);return Dr(()=>{t.current=e},[e]),t}let Ge=function(e){let t=ro(e);return _e.useCallback((...r)=>t.current(...r),[t])};function Cq(e){let t=e.width/2,r=e.height/2;return{top:e.clientY-r,right:e.clientX+t,bottom:e.clientY+r,left:e.clientX-t}}function Pq(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function Dq({disabled:e=!1}={}){let t=x.useRef(null),[r,n]=x.useState(!1),a=to(),s=Ge(()=>{t.current=null,n(!1),a.dispose()}),l=Ge(u=>{if(a.dispose(),t.current===null){t.current=u.currentTarget,n(!0);{let d=El(u.currentTarget);a.addEventListener(d,"pointerup",s,!1),a.addEventListener(d,"pointermove",f=>{if(t.current){let m=Cq(f);n(Pq(m,t.current.getBoundingClientRect()))}},!1),a.addEventListener(d,"pointercancel",s,!1)}}});return{pressed:r,pressProps:e?{}:{onPointerDown:l,onPointerUp:s,onClick:s}}}function no(e){return x.useMemo(()=>e,Object.values(e))}let Rq=x.createContext(void 0);function Ox(){return x.useContext(Rq)}function Qy(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function ei(e,t,...r){if(e in t){let a=t[e];return typeof a=="function"?a(...r):a}let n=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ei),n}var bh=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(bh||{}),Ki=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Ki||{});function Mr(){let e=$q();return x.useCallback(t=>Mq({mergeRefs:e,...t}),[e])}function Mq({ourProps:e,theirProps:t,slot:r,defaultTag:n,features:a,visible:s=!0,name:l,mergeRefs:u}){u=u??Iq;let d=fC(t,e);if(s)return Nf(d,r,n,l,u);let f=a??0;if(f&2){let{static:m=!1,...g}=d;if(m)return Nf(g,r,n,l,u)}if(f&1){let{unmount:m=!0,...g}=d;return ei(m?0:1,{0(){return null},1(){return Nf({...g,hidden:!0,style:{display:"none"}},r,n,l,u)}})}return Nf(d,r,n,l,u)}function Nf(e,t={},r,n,a){let{as:s=r,children:l,refName:u="ref",...d}=Vg(e,["unmount","static"]),f=e.ref!==void 0?{[u]:e.ref}:{},m=typeof l=="function"?l(t):l;"className"in d&&d.className&&typeof d.className=="function"&&(d.className=d.className(t)),d["aria-labelledby"]&&d["aria-labelledby"]===d.id&&(d["aria-labelledby"]=void 0);let g={};if(t){let v=!1,y=[];for(let[S,k]of Object.entries(t))typeof k=="boolean"&&(v=!0),k===!0&&y.push(S.replace(/([A-Z])/g,_=>`-${_.toLowerCase()}`));if(v){g["data-headlessui-state"]=y.join(" ");for(let S of y)g[`data-${S}`]=""}}if(Yc(s)&&(Object.keys(Li(d)).length>0||Object.keys(Li(g)).length>0))if(!x.isValidElement(m)||Array.isArray(m)&&m.length>1||Uq(m)){if(Object.keys(Li(d)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Li(d)).concat(Object.keys(Li(g))).map(v=>`  - ${v}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(v=>`  - ${v}`).join(`
`)].join(`
`))}else{let v=m.props,y=v?.className,S=typeof y=="function"?(...j)=>Qy(y(...j),d.className):Qy(y,d.className),k=S?{className:S}:{},_=fC(m.props,Li(Vg(d,["ref"])));for(let j in g)j in _&&delete g[j];return x.cloneElement(m,Object.assign({},_,g,f,{ref:a(zq(m),f.ref)},k))}return x.createElement(s,Object.assign({},Vg(d,["ref"]),!Yc(s)&&f,!Yc(s)&&g),m)}function $q(){let e=x.useRef([]),t=x.useCallback(r=>{for(let n of e.current)n!=null&&(typeof n=="function"?n(r):n.current=r)},[]);return(...r)=>{if(!r.every(n=>n==null))return e.current=r,t}}function Iq(...e){return e.every(t=>t==null)?void 0:t=>{for(let r of e)r!=null&&(typeof r=="function"?r(t):r.current=t)}}function fC(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},r={};for(let n of e)for(let a in n)a.startsWith("on")&&typeof n[a]=="function"?(r[a]!=null||(r[a]=[]),r[a].push(n[a])):t[a]=n[a];if(t.disabled||t["aria-disabled"])for(let n in r)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(n)&&(r[n]=[a=>{var s;return(s=a?.preventDefault)==null?void 0:s.call(a)}]);for(let n in r)Object.assign(t,{[n](a,...s){let l=r[n];for(let u of l){if((a instanceof Event||a?.nativeEvent instanceof Event)&&a.defaultPrevented)return;u(a,...s)}}});return t}function Lq(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},r={};for(let n of e)for(let a in n)a.startsWith("on")&&typeof n[a]=="function"?(r[a]!=null||(r[a]=[]),r[a].push(n[a])):t[a]=n[a];for(let n in r)Object.assign(t,{[n](...a){let s=r[n];for(let l of s)l?.(...a)}});return t}function Or(e){var t;return Object.assign(x.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Li(e){let t=Object.assign({},e);for(let r in t)t[r]===void 0&&delete t[r];return t}function Vg(e,t=[]){let r=Object.assign({},e);for(let n of t)n in r&&delete r[n];return r}function zq(e){return _e.version.split(".")[0]>="19"?e.props.ref:e.ref}function Yc(e){return e===x.Fragment||e===Symbol.for("react.fragment")}function Uq(e){return Yc(e.type)}function Bq(e,t,r){let[n,a]=x.useState(r),s=e!==void 0,l=x.useRef(s),u=x.useRef(!1),d=x.useRef(!1);return s&&!l.current&&!u.current?(u.current=!0,l.current=s,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!s&&l.current&&!d.current&&(d.current=!0,l.current=s,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[s?e:n,Ge(f=>(s||eo.flushSync(()=>a(f)),t?.(f)))]}function qq(e){let[t]=x.useState(e);return t}function hC(e={},t=null,r=[]){for(let[n,a]of Object.entries(e))pC(r,mC(t,n),a);return r}function mC(e,t){return e?e+"["+t+"]":t}function pC(e,t,r){if(Array.isArray(r))for(let[n,a]of r.entries())pC(e,mC(t,n.toString()),a);else r instanceof Date?e.push([t,r.toISOString()]):typeof r=="boolean"?e.push([t,r?"1":"0"]):typeof r=="string"?e.push([t,r]):typeof r=="number"?e.push([t,`${r}`]):r==null?e.push([t,""]):Fq(r)&&!x.isValidElement(r)&&hC(r,t,e)}function Hq(e){var t,r;let n=(t=e?.form)!=null?t:e.closest("form");if(n){for(let a of n.elements)if(a!==e&&(a.tagName==="INPUT"&&a.type==="submit"||a.tagName==="BUTTON"&&a.type==="submit"||a.nodeName==="INPUT"&&a.type==="image")){a.click();return}(r=n.requestSubmit)==null||r.call(n)}}function Fq(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}let Vq="span";var hl=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(hl||{});function Kq(e,t){var r;let{features:n=1,...a}=e,s={ref:t,"aria-hidden":(n&2)===2?!0:(r=a["aria-hidden"])!=null?r:void 0,hidden:(n&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return Mr()({ourProps:s,theirProps:a,slot:{},defaultTag:Vq,name:"Hidden"})}let su=Or(Kq),Zq=x.createContext(null);function Gq({children:e}){let t=x.useContext(Zq);if(!t)return _e.createElement(_e.Fragment,null,e);let{target:r}=t;return r?eo.createPortal(_e.createElement(_e.Fragment,null,e),r):null}function Yq({data:e,form:t,disabled:r,onReset:n,overrides:a}){let[s,l]=x.useState(null),u=to();return x.useEffect(()=>{if(n&&s)return u.addEventListener(s,"reset",n)},[s,t,n]),_e.createElement(Gq,null,_e.createElement(Wq,{setForm:l,formId:t}),hC(e).map(([d,f])=>_e.createElement(su,{features:hl.Hidden,...Li({key:d,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:t,disabled:r,name:d,value:f,...a})})))}function Wq({setForm:e,formId:t}){return x.useEffect(()=>{if(t){let r=document.getElementById(t);r&&e(r)}},[e,t]),t?null:_e.createElement(su,{features:hl.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:r=>{if(!r)return;let n=r.closest("form");n&&e(n)}})}let Xq=x.createContext(void 0);function gC(){return x.useContext(Xq)}function Jq(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function Wa(e){return Jq(e)&&"tagName"in e}function va(e){return Wa(e)&&"accessKey"in e}function Zi(e){return Wa(e)&&"tabIndex"in e}function Qq(e){return Wa(e)&&"style"in e}function eH(e){return va(e)&&e.nodeName==="IFRAME"}function vC(e){return va(e)&&e.nodeName==="INPUT"}function eb(e){return va(e)&&e.nodeName==="LABEL"}function tH(e){return va(e)&&e.nodeName==="FIELDSET"}function yC(e){return va(e)&&e.nodeName==="LEGEND"}function rH(e){return Wa(e)?e.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function nH(e){let t=e.parentElement,r=null;for(;t&&!tH(t);)yC(t)&&(r=t),t=t.parentElement;let n=t?.getAttribute("disabled")==="";return n&&aH(r)?!1:n}function aH(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(yC(t))return!1;t=t.previousElementSibling}return!0}let bC=Symbol();function iH(e,t=!0){return Object.assign(e,{[bC]:t})}function zn(...e){let t=x.useRef(e);x.useEffect(()=>{t.current=e},[e]);let r=Ge(n=>{for(let a of t.current)a!=null&&(typeof a=="function"?a(n):a.current=n)});return e.every(n=>n==null||n?.[bC])?void 0:r}let _0=x.createContext(null);_0.displayName="DescriptionContext";function xC(){let e=x.useContext(_0);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,xC),t}return e}function sH(){var e,t;return(t=(e=x.useContext(_0))==null?void 0:e.value)!=null?t:void 0}function wC(){let[e,t]=x.useState([]);return[e.length>0?e.join(" "):void 0,x.useMemo(()=>function(r){let n=Ge(s=>(t(l=>[...l,s]),()=>t(l=>{let u=l.slice(),d=u.indexOf(s);return d!==-1&&u.splice(d,1),u}))),a=x.useMemo(()=>({register:n,slot:r.slot,name:r.name,props:r.props,value:r.value}),[n,r.slot,r.name,r.props,r.value]);return _e.createElement(_0.Provider,{value:a},r.children)},[t])]}let oH="p";function lH(e,t){let r=x.useId(),n=Ox(),{id:a=`headlessui-description-${r}`,...s}=e,l=xC(),u=zn(t);Dr(()=>l.register(a),[a,l.register]);let d=no({...l.slot,disabled:n||!1}),f={ref:u,...l.props,id:a};return Mr()({ourProps:f,theirProps:s,slot:d,defaultTag:oH,name:l.name||"Description"})}let cH=Or(lH),_C=Object.assign(cH,{});var xh=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(xh||{});let S0=x.createContext(null);S0.displayName="LabelContext";function SC(){let e=x.useContext(S0);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,SC),t}return e}function kC(e){var t,r,n;let a=(r=(t=x.useContext(S0))==null?void 0:t.value)!=null?r:void 0;return((n=void 0)!=null?n:0)>0?[a,...e].filter(Boolean).join(" "):a}function uH({inherit:e=!1}={}){let t=kC(),[r,n]=x.useState([]),a=e?[t,...r].filter(Boolean):r;return[a.length>0?a.join(" "):void 0,x.useMemo(()=>function(s){let l=Ge(d=>(n(f=>[...f,d]),()=>n(f=>{let m=f.slice(),g=m.indexOf(d);return g!==-1&&m.splice(g,1),m}))),u=x.useMemo(()=>({register:l,slot:s.slot,name:s.name,props:s.props,value:s.value}),[l,s.slot,s.name,s.props,s.value]);return _e.createElement(S0.Provider,{value:u},s.children)},[n])]}let dH="label";function fH(e,t){var r;let n=x.useId(),a=SC(),s=gC(),l=Ox(),{id:u=`headlessui-label-${n}`,htmlFor:d=s??((r=a.props)==null?void 0:r.htmlFor),passive:f=!1,...m}=e,g=zn(t);Dr(()=>a.register(u),[u,a.register]);let v=Ge(k=>{let _=k.currentTarget;if(!(k.target!==k.currentTarget&&rH(k.target))&&(eb(_)&&k.preventDefault(),a.props&&"onClick"in a.props&&typeof a.props.onClick=="function"&&a.props.onClick(k),eb(_))){let j=document.getElementById(_.htmlFor);if(j){let N=j.getAttribute("disabled");if(N==="true"||N==="")return;let E=j.getAttribute("aria-disabled");if(E==="true"||E==="")return;(vC(j)&&(j.type==="file"||j.type==="radio"||j.type==="checkbox")||j.role==="radio"||j.role==="checkbox"||j.role==="switch")&&j.click(),j.focus({preventScroll:!0})}}}),y=no({...a.slot,disabled:l||!1}),S={ref:g,...a.props,id:u,htmlFor:d,onClick:v};return f&&("onClick"in S&&(delete S.htmlFor,delete S.onClick),"onClick"in m&&delete m.onClick),Mr()({ourProps:S,theirProps:m,slot:y,defaultTag:d?dH:"div",name:a.name||"Label"})}let hH=Or(fH),mH=Object.assign(hH,{}),pH=x.createContext(()=>{});function gH({value:e,children:t}){return _e.createElement(pH.Provider,{value:e},t)}let jC=class extends Map{constructor(t){super(),this.factory=t}get(t){let r=super.get(t);return r===void 0&&(r=this.factory(t),this.set(t,r)),r}};var vH=Object.defineProperty,yH=(e,t,r)=>t in e?vH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,bH=(e,t,r)=>(yH(e,t+"",r),r),EC=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},Cn=(e,t,r)=>(EC(e,t,"read from private field"),r?r.call(e):t.get(e)),Kg=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},yj=(e,t,r,n)=>(EC(e,t,"write to private field"),t.set(e,r),r),ca,qc,Hc;let xH=class{constructor(t){Kg(this,ca,{}),Kg(this,qc,new jC(()=>new Set)),Kg(this,Hc,new Set),bH(this,"disposables",li()),yj(this,ca,t),ma.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return Cn(this,ca)}subscribe(t,r){if(ma.isServer)return()=>{};let n={selector:t,callback:r,current:t(Cn(this,ca))};return Cn(this,Hc).add(n),this.disposables.add(()=>{Cn(this,Hc).delete(n)})}on(t,r){return ma.isServer?()=>{}:(Cn(this,qc).get(t).add(r),this.disposables.add(()=>{Cn(this,qc).get(t).delete(r)}))}send(t){let r=this.reduce(Cn(this,ca),t);if(r!==Cn(this,ca)){yj(this,ca,r);for(let n of Cn(this,Hc)){let a=n.selector(Cn(this,ca));NC(n.current,a)||(n.current=a,n.callback(a))}for(let n of Cn(this,qc).get(t.type))n(Cn(this,ca),t)}}};ca=new WeakMap,qc=new WeakMap,Hc=new WeakMap;function NC(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:Zg(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:Zg(e.entries(),t.entries()):bj(e)&&bj(t)?Zg(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function Zg(e,t){do{let r=e.next(),n=t.next();if(r.done&&n.done)return!0;if(r.done||n.done||!Object.is(r.value,n.value))return!1}while(!0)}function bj(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}var wH=Object.defineProperty,_H=(e,t,r)=>t in e?wH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,xj=(e,t,r)=>(_H(e,typeof t!="symbol"?t+"":t,r),r),SH=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(SH||{});let kH={0(e,t){let r=t.id,n=e.stack,a=e.stack.indexOf(r);if(a!==-1){let s=e.stack.slice();return s.splice(a,1),s.push(r),n=s,{...e,stack:n}}return{...e,stack:[...e.stack,r]}},1(e,t){let r=t.id,n=e.stack.indexOf(r);if(n===-1)return e;let a=e.stack.slice();return a.splice(n,1),{...e,stack:a}}},jH=class OC extends xH{constructor(){super(...arguments),xj(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),xj(this,"selectors",{isTop:(t,r)=>t.stack[t.stack.length-1]===r,inStack:(t,r)=>t.stack.includes(r)})}static new(){return new OC({stack:[]})}reduce(t,r){return ei(r.type,kH,t,r)}};const AC=new jC(()=>jH.new());var Gg={exports:{}},Yg={};var wj;function EH(){if(wj)return Yg;wj=1;var e=wl();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,a=e.useRef,s=e.useEffect,l=e.useMemo,u=e.useDebugValue;return Yg.useSyncExternalStoreWithSelector=function(d,f,m,g,v){var y=a(null);if(y.current===null){var S={hasValue:!1,value:null};y.current=S}else S=y.current;y=l(function(){function _(O){if(!j){if(j=!0,N=O,O=g(O),v!==void 0&&S.hasValue){var P=S.value;if(v(P,O))return E=P}return E=O}if(P=E,r(N,O))return P;var C=g(O);return v!==void 0&&v(P,C)?(N=O,P):(N=O,E=C)}var j=!1,N,E,D=m===void 0?null:m;return[function(){return _(f())},D===null?void 0:function(){return _(D())}]},[f,m,g,v]);var k=n(d,y[0],y[1]);return s(function(){S.hasValue=!0,S.value=k},[k]),u(k),k},Yg}var _j;function NH(){return _j||(_j=1,Gg.exports=EH()),Gg.exports}var OH=NH();function TC(e,t,r=NC){return OH.useSyncExternalStoreWithSelector(Ge(n=>e.subscribe(AH,n)),Ge(()=>e.state),Ge(()=>e.state),Ge(t),r)}function AH(e){return e}function Eu(e,t){let r=x.useId(),n=AC.get(t),[a,s]=TC(n,x.useCallback(l=>[n.selectors.isTop(l,r),n.selectors.inStack(l,r)],[n,r]));return Dr(()=>{if(e)return n.actions.push(r),()=>n.actions.pop(r)},[n,e,r]),e?s?a:!0:!1}let tb=new Map,Wc=new Map;function Sj(e){var t;let r=(t=Wc.get(e))!=null?t:0;return Wc.set(e,r+1),r!==0?()=>kj(e):(tb.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>kj(e))}function kj(e){var t;let r=(t=Wc.get(e))!=null?t:1;if(r===1?Wc.delete(e):Wc.set(e,r-1),r!==1)return;let n=tb.get(e);n&&(n["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",n["aria-hidden"]),e.inert=n.inert,tb.delete(e))}function TH(e,{allowed:t,disallowed:r}={}){let n=Eu(e,"inert-others");Dr(()=>{var a,s;if(!n)return;let l=li();for(let d of(a=r?.())!=null?a:[])d&&l.add(Sj(d));let u=(s=t?.())!=null?s:[];for(let d of u){if(!d)continue;let f=El(d);if(!f)continue;let m=d.parentElement;for(;m&&m!==f.body;){for(let g of m.children)u.some(v=>g.contains(v))||l.add(Sj(g));m=m.parentElement}}return l.dispose},[n,t,r])}function CH(e,t,r){let n=ro(a=>{let s=a.getBoundingClientRect();s.x===0&&s.y===0&&s.width===0&&s.height===0&&r()});x.useEffect(()=>{if(!e)return;let a=t===null?null:va(t)?t:t.current;if(!a)return;let s=li();if(typeof ResizeObserver<"u"){let l=new ResizeObserver(()=>n.current(a));l.observe(a),s.add(()=>l.disconnect())}if(typeof IntersectionObserver<"u"){let l=new IntersectionObserver(()=>n.current(a));l.observe(a),s.add(()=>l.disconnect())}return()=>s.dispose()},[t,n,e])}let wh=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),PH=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Va=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(Va||{}),rb=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(rb||{}),DH=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(DH||{});function RH(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(wh)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}function MH(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(PH)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var CC=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(CC||{});function $H(e,t=0){var r;return e===((r=El(e))==null?void 0:r.body)?!1:ei(t,{0(){return e.matches(wh)},1(){let n=e;for(;n!==null;){if(n.matches(wh))return!0;n=n.parentElement}return!1}})}var IH=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(IH||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Xa(e){e?.focus({preventScroll:!0})}let LH=["textarea","input"].join(",");function zH(e){var t,r;return(r=(t=e?.matches)==null?void 0:t.call(e,LH))!=null?r:!1}function UH(e,t=r=>r){return e.slice().sort((r,n)=>{let a=t(r),s=t(n);if(a===null||s===null)return 0;let l=a.compareDocumentPosition(s);return l&Node.DOCUMENT_POSITION_FOLLOWING?-1:l&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Xc(e,t,{sorted:r=!0,relativeTo:n=null,skipElements:a=[]}={}){let s=Array.isArray(e)?e.length>0?Jy(e[0]):document:Jy(e),l=Array.isArray(e)?r?UH(e):e:t&64?MH(e):RH(e);a.length>0&&l.length>1&&(l=l.filter(y=>!a.some(S=>S!=null&&"current"in S?S?.current===y:S===y))),n=n??s?.activeElement;let u=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,l.indexOf(n))-1;if(t&4)return Math.max(0,l.indexOf(n))+1;if(t&8)return l.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=t&32?{preventScroll:!0}:{},m=0,g=l.length,v;do{if(m>=g||m+g<=0)return 0;let y=d+m;if(t&16)y=(y+g)%g;else{if(y<0)return 3;if(y>=g)return 1}v=l[y],v?.focus(f),m+=u}while(v!==dC(v));return t&6&&zH(v)&&v.select(),2}function PC(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function BH(){return/Android/gi.test(window.navigator.userAgent)}function jj(){return PC()||BH()}function Of(e,t,r,n){let a=ro(r);x.useEffect(()=>{if(!e)return;function s(l){a.current(l)}return document.addEventListener(t,s,n),()=>document.removeEventListener(t,s,n)},[e,t,n])}function DC(e,t,r,n){let a=ro(r);x.useEffect(()=>{if(!e)return;function s(l){a.current(l)}return window.addEventListener(t,s,n),()=>window.removeEventListener(t,s,n)},[e,t,n])}const Ej=30;function qH(e,t,r){let n=ro(r),a=x.useCallback(function(u,d){if(u.defaultPrevented)return;let f=d(u);if(f===null||!f.getRootNode().contains(f)||!f.isConnected)return;let m=(function g(v){return typeof v=="function"?g(v()):Array.isArray(v)||v instanceof Set?v:[v]})(t);for(let g of m)if(g!==null&&(g.contains(f)||u.composed&&u.composedPath().includes(g)))return;return!$H(f,CC.Loose)&&f.tabIndex!==-1&&u.preventDefault(),n.current(u,f)},[n,t]),s=x.useRef(null);Of(e,"pointerdown",u=>{var d,f;jj()||(s.current=((f=(d=u.composedPath)==null?void 0:d.call(u))==null?void 0:f[0])||u.target)},!0),Of(e,"pointerup",u=>{if(jj()||!s.current)return;let d=s.current;return s.current=null,a(u,()=>d)},!0);let l=x.useRef({x:0,y:0});Of(e,"touchstart",u=>{l.current.x=u.touches[0].clientX,l.current.y=u.touches[0].clientY},!0),Of(e,"touchend",u=>{let d={x:u.changedTouches[0].clientX,y:u.changedTouches[0].clientY};if(!(Math.abs(d.x-l.current.x)>=Ej||Math.abs(d.y-l.current.y)>=Ej))return a(u,()=>Zi(u.target)?u.target:null)},!0),DC(e,"blur",u=>a(u,()=>eH(window.document.activeElement)?window.document.activeElement:null),!0)}function Ax(...e){return x.useMemo(()=>El(...e),[...e])}function RC(e,t,r,n){let a=ro(r);x.useEffect(()=>{e=e??window;function s(l){a.current(l)}return e.addEventListener(t,s,n),()=>e.removeEventListener(t,s,n)},[e,t,n])}function HH(e,t){return x.useMemo(()=>{var r;if(e.type)return e.type;let n=(r=e.as)!=null?r:"button";if(typeof n=="string"&&n.toLowerCase()==="button"||t?.tagName==="BUTTON"&&!t.hasAttribute("type"))return"button"},[e.type,e.as,t])}function FH(e){return x.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}function VH(e,t){let r=e(),n=new Set;return{getSnapshot(){return r},subscribe(a){return n.add(a),()=>n.delete(a)},dispatch(a,...s){let l=t[a].call(r,...s);l&&(r=l,n.forEach(u=>u()))}}}function KH(){let e;return{before({doc:t}){var r;let n=t.documentElement,a=(r=t.defaultView)!=null?r:window;e=Math.max(0,a.innerWidth-n.clientWidth)},after({doc:t,d:r}){let n=t.documentElement,a=Math.max(0,n.clientWidth-n.offsetWidth),s=Math.max(0,e-a);r.style(n,"paddingRight",`${s}px`)}}}function ZH(){return PC()?{before({doc:e,d:t,meta:r}){function n(a){for(let s of r().containers)for(let l of s())if(l.contains(a))return!0;return!1}t.microTask(()=>{var a;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let u=li();u.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>u.dispose()))}let s=(a=window.scrollY)!=null?a:window.pageYOffset,l=null;t.addEventListener(e,"click",u=>{if(Zi(u.target))try{let d=u.target.closest("a");if(!d)return;let{hash:f}=new URL(d.href),m=e.querySelector(f);Zi(m)&&!n(m)&&(l=m)}catch{}},!0),t.group(u=>{t.addEventListener(e,"touchstart",d=>{if(u.dispose(),Zi(d.target)&&Qq(d.target))if(n(d.target)){let f=d.target;for(;f.parentElement&&n(f.parentElement);)f=f.parentElement;u.style(f,"overscrollBehavior","contain")}else u.style(d.target,"touchAction","none")})}),t.addEventListener(e,"touchmove",u=>{if(Zi(u.target)){if(vC(u.target))return;if(n(u.target)){let d=u.target;for(;d.parentElement&&d.dataset.headlessuiPortal!==""&&!(d.scrollHeight>d.clientHeight||d.scrollWidth>d.clientWidth);)d=d.parentElement;d.dataset.headlessuiPortal===""&&u.preventDefault()}else u.preventDefault()}},{passive:!1}),t.add(()=>{var u;let d=(u=window.scrollY)!=null?u:window.pageYOffset;s!==d&&window.scrollTo(0,s),l&&l.isConnected&&(l.scrollIntoView({block:"nearest"}),l=null)})})}}:{}}function GH(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Nj(e){let t={};for(let r of e)Object.assign(t,r(t));return t}let Ms=VH(()=>new Map,{PUSH(e,t){var r;let n=(r=this.get(e))!=null?r:{doc:e,count:0,d:li(),meta:new Set,computedMeta:{}};return n.count++,n.meta.add(t),n.computedMeta=Nj(n.meta),this.set(e,n),this},POP(e,t){let r=this.get(e);return r&&(r.count--,r.meta.delete(t),r.computedMeta=Nj(r.meta)),this},SCROLL_PREVENT(e){let t={doc:e.doc,d:e.d,meta(){return e.computedMeta}},r=[ZH(),KH(),GH()];r.forEach(({before:n})=>n?.(t)),r.forEach(({after:n})=>n?.(t))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Ms.subscribe(()=>{let e=Ms.getSnapshot(),t=new Map;for(let[r]of e)t.set(r,r.documentElement.style.overflow);for(let r of e.values()){let n=t.get(r.doc)==="hidden",a=r.count!==0;(a&&!n||!a&&n)&&Ms.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&Ms.dispatch("TEARDOWN",r)}});function YH(e,t,r=()=>({containers:[]})){let n=FH(Ms),a=t?n.get(t):void 0,s=a?a.count>0:!1;return Dr(()=>{if(!(!t||!e))return Ms.dispatch("PUSH",t,r),()=>Ms.dispatch("POP",t,r)},[e,t]),s}function WH(e,t,r=()=>[document.body]){let n=Eu(e,"scroll-lock");YH(n,t,a=>{var s;return{containers:[...(s=a.containers)!=null?s:[],r]}})}function XH(e=0){let[t,r]=x.useState(e),n=x.useCallback(d=>r(d),[]),a=x.useCallback(d=>r(f=>f|d),[]),s=x.useCallback(d=>(t&d)===d,[t]),l=x.useCallback(d=>r(f=>f&~d),[]),u=x.useCallback(d=>r(f=>f^d),[]);return{flags:t,setFlag:n,addFlag:a,hasFlag:s,removeFlag:l,toggleFlag:u}}var JH={},Oj,Aj;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((Oj=process==null?void 0:JH)==null?void 0:Oj.NODE_ENV)==="test"&&typeof((Aj=Element?.prototype)==null?void 0:Aj.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var QH=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(QH||{});function eF(e){let t={};for(let r in e)e[r]===!0&&(t[`data-${r}`]="");return t}function tF(e,t,r,n){let[a,s]=x.useState(r),{hasFlag:l,addFlag:u,removeFlag:d}=XH(e&&a?3:0),f=x.useRef(!1),m=x.useRef(!1),g=to();return Dr(()=>{var v;if(e){if(r&&s(!0),!t){r&&u(3);return}return(v=n?.start)==null||v.call(n,r),rF(t,{inFlight:f,prepare(){m.current?m.current=!1:m.current=f.current,f.current=!0,!m.current&&(r?(u(3),d(4)):(u(4),d(2)))},run(){m.current?r?(d(3),u(4)):(d(4),u(3)):r?d(1):u(1)},done(){var y;m.current&&iF(t)||(f.current=!1,d(7),r||s(!1),(y=n?.end)==null||y.call(n,r))}})}},[e,r,t,g]),e?[a,{closed:l(1),enter:l(2),leave:l(4),transition:l(2)||l(4)}]:[r,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function rF(e,{prepare:t,run:r,done:n,inFlight:a}){let s=li();return aF(e,{prepare:t,inFlight:a}),s.nextFrame(()=>{r(),s.requestAnimationFrame(()=>{s.add(nF(e,n))})}),s.dispose}function nF(e,t){var r,n;let a=li();if(!e)return a.dispose;let s=!1;a.add(()=>{s=!0});let l=(n=(r=e.getAnimations)==null?void 0:r.call(e).filter(u=>u instanceof CSSTransition))!=null?n:[];return l.length===0?(t(),a.dispose):(Promise.allSettled(l.map(u=>u.finished)).then(()=>{s||t()}),a.dispose)}function aF(e,{inFlight:t,prepare:r}){if(t!=null&&t.current){r();return}let n=e.style.transition;e.style.transition="none",r(),e.offsetHeight,e.style.transition=n}function iF(e){var t,r;return((r=(t=e.getAnimations)==null?void 0:t.call(e))!=null?r:[]).some(n=>n instanceof CSSTransition&&n.playState!=="finished")}function Tx(e,t){let r=x.useRef([]),n=Ge(e);x.useEffect(()=>{let a=[...r.current];for(let[s,l]of t.entries())if(r.current[s]!==l){let u=n(t,a);return r.current=t,u}},[n,...t])}let k0=x.createContext(null);k0.displayName="OpenClosedContext";var Xn=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Xn||{});function j0(){return x.useContext(k0)}function sF({value:e,children:t}){return _e.createElement(k0.Provider,{value:e},t)}function oF({children:e}){return _e.createElement(k0.Provider,{value:null},e)}function lF(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let Hi=[];lF(()=>{function e(t){if(!Zi(t.target)||t.target===document.body||Hi[0]===t.target)return;let r=t.target;r=r.closest(wh),Hi.unshift(r??t.target),Hi=Hi.filter(n=>n!=null&&n.isConnected),Hi.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function MC(e){let t=Ge(e),r=x.useRef(!1);x.useEffect(()=>(r.current=!1,()=>{r.current=!0,w0(()=>{r.current&&t()})}),[t])}let $C=x.createContext(!1);function cF(){return x.useContext($C)}function Tj(e){return _e.createElement($C.Provider,{value:e.force},e.children)}function uF(e){let t=cF(),r=x.useContext(LC),[n,a]=x.useState(()=>{var s;if(!t&&r!==null)return(s=r.current)!=null?s:null;if(ma.isServer)return null;let l=e?.getElementById("headlessui-portal-root");if(l)return l;if(e===null)return null;let u=e.createElement("div");return u.setAttribute("id","headlessui-portal-root"),e.body.appendChild(u)});return x.useEffect(()=>{n!==null&&(e!=null&&e.body.contains(n)||e==null||e.body.appendChild(n))},[n,e]),x.useEffect(()=>{t||r!==null&&a(r.current)},[r,a,t]),n}let IC=x.Fragment,dF=Or(function(e,t){let{ownerDocument:r=null,...n}=e,a=x.useRef(null),s=zn(iH(v=>{a.current=v}),t),l=Ax(a.current),u=r??l,d=uF(u),f=x.useContext(nb),m=to(),g=Mr();return MC(()=>{var v;d&&d.childNodes.length<=0&&((v=d.parentElement)==null||v.removeChild(d))}),d?eo.createPortal(_e.createElement("div",{"data-headlessui-portal":"",ref:v=>{m.dispose(),f&&v&&m.add(f.register(v))}},g({ourProps:{ref:s},theirProps:n,slot:{},defaultTag:IC,name:"Portal"})),d):null});function fF(e,t){let r=zn(t),{enabled:n=!0,ownerDocument:a,...s}=e,l=Mr();return n?_e.createElement(dF,{...s,ownerDocument:a,ref:r}):l({ourProps:{ref:r},theirProps:s,slot:{},defaultTag:IC,name:"Portal"})}let hF=x.Fragment,LC=x.createContext(null);function mF(e,t){let{target:r,...n}=e,a={ref:zn(t)},s=Mr();return _e.createElement(LC.Provider,{value:r},s({ourProps:a,theirProps:n,defaultTag:hF,name:"Popover.Group"}))}let nb=x.createContext(null);function pF(){let e=x.useContext(nb),t=x.useRef([]),r=Ge(s=>(t.current.push(s),e&&e.register(s),()=>n(s))),n=Ge(s=>{let l=t.current.indexOf(s);l!==-1&&t.current.splice(l,1),e&&e.unregister(s)}),a=x.useMemo(()=>({register:r,unregister:n,portals:t}),[r,n,t]);return[t,x.useMemo(()=>function({children:s}){return _e.createElement(nb.Provider,{value:a},s)},[a])]}let gF=Or(fF),zC=Or(mF),vF=Object.assign(gF,{Group:zC});function yF(e,t=typeof document<"u"?document.defaultView:null,r){let n=Eu(e,"escape");RC(t,"keydown",a=>{n&&(a.defaultPrevented||a.key===xh.Escape&&r(a))})}function bF(){var e;let[t]=x.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[r,n]=x.useState((e=t?.matches)!=null?e:!1);return Dr(()=>{if(!t)return;function a(s){n(s.matches)}return t.addEventListener("change",a),()=>t.removeEventListener("change",a)},[t]),r}function xF({defaultContainers:e=[],portals:t,mainTreeNode:r}={}){let n=Ge(()=>{var a,s;let l=El(r),u=[];for(let d of e)d!==null&&(Wa(d)?u.push(d):"current"in d&&Wa(d.current)&&u.push(d.current));if(t!=null&&t.current)for(let d of t.current)u.push(d);for(let d of(a=l?.querySelectorAll("html > *, body > *"))!=null?a:[])d!==document.body&&d!==document.head&&Wa(d)&&d.id!=="headlessui-portal-root"&&(r&&(d.contains(r)||d.contains((s=r?.getRootNode())==null?void 0:s.host))||u.some(f=>d.contains(f))||u.push(d));return u});return{resolveContainers:n,contains:Ge(a=>n().some(s=>s.contains(a)))}}let UC=x.createContext(null);function Cj({children:e,node:t}){let[r,n]=x.useState(null),a=BC(t??r);return _e.createElement(UC.Provider,{value:a},e,a===null&&_e.createElement(su,{features:hl.Hidden,ref:s=>{var l,u;if(s){for(let d of(u=(l=El(s))==null?void 0:l.querySelectorAll("html > *, body > *"))!=null?u:[])if(d!==document.body&&d!==document.head&&Wa(d)&&d!=null&&d.contains(s)){n(d);break}}}}))}function BC(e=null){var t;return(t=x.useContext(UC))!=null?t:e}function wF(){let e=typeof document>"u";return"useSyncExternalStore"in ky?(t=>t.useSyncExternalStore)(ky)(()=>()=>{},()=>!1,()=>!e):!1}function E0(){let e=wF(),[t,r]=x.useState(ma.isHandoffComplete);return t&&ma.isHandoffComplete===!1&&r(!1),x.useEffect(()=>{t!==!0&&r(!0)},[t]),x.useEffect(()=>ma.handoff(),[]),e?!1:t}function Cx(){let e=x.useRef(!1);return Dr(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var Fc=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Fc||{});function _F(){let e=x.useRef(0);return DC(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function qC(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let r of e.current)Wa(r.current)&&t.add(r.current);return t}let SF="div";var Ps=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(Ps||{});function kF(e,t){let r=x.useRef(null),n=zn(r,t),{initialFocus:a,initialFocusFallback:s,containers:l,features:u=15,...d}=e;E0()||(u=0);let f=Ax(r.current);OF(u,{ownerDocument:f});let m=AF(u,{ownerDocument:f,container:r,initialFocus:a,initialFocusFallback:s});TF(u,{ownerDocument:f,container:r,containers:l,previousActiveElement:m});let g=_F(),v=Ge(N=>{if(!va(r.current))return;let E=r.current;(D=>D())(()=>{ei(g.current,{[Fc.Forwards]:()=>{Xc(E,Va.First,{skipElements:[N.relatedTarget,s]})},[Fc.Backwards]:()=>{Xc(E,Va.Last,{skipElements:[N.relatedTarget,s]})}})})}),y=Eu(!!(u&2),"focus-trap#tab-lock"),S=to(),k=x.useRef(!1),_={ref:n,onKeyDown(N){N.key=="Tab"&&(k.current=!0,S.requestAnimationFrame(()=>{k.current=!1}))},onBlur(N){if(!(u&4))return;let E=qC(l);va(r.current)&&E.add(r.current);let D=N.relatedTarget;Zi(D)&&D.dataset.headlessuiFocusGuard!=="true"&&(HC(E,D)||(k.current?Xc(r.current,ei(g.current,{[Fc.Forwards]:()=>Va.Next,[Fc.Backwards]:()=>Va.Previous})|Va.WrapAround,{relativeTo:N.target}):Zi(N.target)&&Xa(N.target)))}},j=Mr();return _e.createElement(_e.Fragment,null,y&&_e.createElement(su,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:v,features:hl.Focusable}),j({ourProps:_,theirProps:d,defaultTag:SF,name:"FocusTrap"}),y&&_e.createElement(su,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:v,features:hl.Focusable}))}let jF=Or(kF),EF=Object.assign(jF,{features:Ps});function NF(e=!0){let t=x.useRef(Hi.slice());return Tx(([r],[n])=>{n===!0&&r===!1&&w0(()=>{t.current.splice(0)}),n===!1&&r===!0&&(t.current=Hi.slice())},[e,Hi,t]),Ge(()=>{var r;return(r=t.current.find(n=>n!=null&&n.isConnected))!=null?r:null})}function OF(e,{ownerDocument:t}){let r=!!(e&8),n=NF(r);Tx(()=>{r||Tq(t?.body)&&Xa(n())},[r]),MC(()=>{r&&Xa(n())})}function AF(e,{ownerDocument:t,container:r,initialFocus:n,initialFocusFallback:a}){let s=x.useRef(null),l=Eu(!!(e&1),"focus-trap#initial-focus"),u=Cx();return Tx(()=>{if(e===0)return;if(!l){a!=null&&a.current&&Xa(a.current);return}let d=r.current;d&&w0(()=>{if(!u.current)return;let f=t?.activeElement;if(n!=null&&n.current){if(n?.current===f){s.current=f;return}}else if(d.contains(f)){s.current=f;return}if(n!=null&&n.current)Xa(n.current);else{if(e&16){if(Xc(d,Va.First|Va.AutoFocus)!==rb.Error)return}else if(Xc(d,Va.First)!==rb.Error)return;if(a!=null&&a.current&&(Xa(a.current),t?.activeElement===a.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}s.current=t?.activeElement})},[a,l,e]),s}function TF(e,{ownerDocument:t,container:r,containers:n,previousActiveElement:a}){let s=Cx(),l=!!(e&4);RC(t?.defaultView,"focus",u=>{if(!l||!s.current)return;let d=qC(n);va(r.current)&&d.add(r.current);let f=a.current;if(!f)return;let m=u.target;va(m)?HC(d,m)?(a.current=m,Xa(m)):(u.preventDefault(),u.stopPropagation(),Xa(f)):Xa(a.current)},!0)}function HC(e,t){for(let r of e)if(r.contains(t))return!0;return!1}function FC(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||!Yc((t=e.as)!=null?t:KC)||_e.Children.count(e.children)===1}let N0=x.createContext(null);N0.displayName="TransitionContext";var CF=(e=>(e.Visible="visible",e.Hidden="hidden",e))(CF||{});function PF(){let e=x.useContext(N0);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function DF(){let e=x.useContext(O0);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let O0=x.createContext(null);O0.displayName="NestingContext";function A0(e){return"children"in e?A0(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function VC(e,t){let r=ro(e),n=x.useRef([]),a=Cx(),s=to(),l=Ge((y,S=Ki.Hidden)=>{let k=n.current.findIndex(({el:_})=>_===y);k!==-1&&(ei(S,{[Ki.Unmount](){n.current.splice(k,1)},[Ki.Hidden](){n.current[k].state="hidden"}}),s.microTask(()=>{var _;!A0(n)&&a.current&&((_=r.current)==null||_.call(r))}))}),u=Ge(y=>{let S=n.current.find(({el:k})=>k===y);return S?S.state!=="visible"&&(S.state="visible"):n.current.push({el:y,state:"visible"}),()=>l(y,Ki.Unmount)}),d=x.useRef([]),f=x.useRef(Promise.resolve()),m=x.useRef({enter:[],leave:[]}),g=Ge((y,S,k)=>{d.current.splice(0),t&&(t.chains.current[S]=t.chains.current[S].filter(([_])=>_!==y)),t?.chains.current[S].push([y,new Promise(_=>{d.current.push(_)})]),t?.chains.current[S].push([y,new Promise(_=>{Promise.all(m.current[S].map(([j,N])=>N)).then(()=>_())})]),S==="enter"?f.current=f.current.then(()=>t?.wait.current).then(()=>k(S)):k(S)}),v=Ge((y,S,k)=>{Promise.all(m.current[S].splice(0).map(([_,j])=>j)).then(()=>{var _;(_=d.current.shift())==null||_()}).then(()=>k(S))});return x.useMemo(()=>({children:n,register:u,unregister:l,onStart:g,onStop:v,wait:f,chains:m}),[u,l,n,g,v,m,f])}let KC=x.Fragment,ZC=bh.RenderStrategy;function RF(e,t){var r,n;let{transition:a=!0,beforeEnter:s,afterEnter:l,beforeLeave:u,afterLeave:d,enter:f,enterFrom:m,enterTo:g,entered:v,leave:y,leaveFrom:S,leaveTo:k,..._}=e,[j,N]=x.useState(null),E=x.useRef(null),D=FC(e),O=zn(...D?[E,t,N]:t===null?[]:[t]),P=(r=_.unmount)==null||r?Ki.Unmount:Ki.Hidden,{show:C,appear:A,initial:R}=PF(),[M,I]=x.useState(C?"visible":"hidden"),z=DF(),{register:q,unregister:te}=z;Dr(()=>q(E),[q,E]),Dr(()=>{if(P===Ki.Hidden&&E.current){if(C&&M!=="visible"){I("visible");return}return ei(M,{hidden:()=>te(E),visible:()=>q(E)})}},[M,E,q,te,C,P]);let ue=E0();Dr(()=>{if(D&&ue&&M==="visible"&&E.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[E,M,ue,D]);let B=R&&!A,H=A&&C&&R,X=x.useRef(!1),ee=VC(()=>{X.current||(I("hidden"),te(E))},z),ve=Ge(ae=>{X.current=!0;let ye=ae?"enter":"leave";ee.onStart(E,ye,G=>{G==="enter"?s?.():G==="leave"&&u?.()})}),L=Ge(ae=>{let ye=ae?"enter":"leave";X.current=!1,ee.onStop(E,ye,G=>{G==="enter"?l?.():G==="leave"&&d?.()}),ye==="leave"&&!A0(ee)&&(I("hidden"),te(E))});x.useEffect(()=>{D&&a||(ve(C),L(C))},[C,D,a]);let K=!(!a||!D||!ue||B),[,F]=tF(K,j,C,{start:ve,end:L}),Z=Li({ref:O,className:((n=Qy(_.className,H&&f,H&&m,F.enter&&f,F.enter&&F.closed&&m,F.enter&&!F.closed&&g,F.leave&&y,F.leave&&!F.closed&&S,F.leave&&F.closed&&k,!F.transition&&C&&v))==null?void 0:n.trim())||void 0,...eF(F)}),oe=0;M==="visible"&&(oe|=Xn.Open),M==="hidden"&&(oe|=Xn.Closed),C&&M==="hidden"&&(oe|=Xn.Opening),!C&&M==="visible"&&(oe|=Xn.Closing);let ce=Mr();return _e.createElement(O0.Provider,{value:ee},_e.createElement(sF,{value:oe},ce({ourProps:Z,theirProps:_,defaultTag:KC,features:ZC,visible:M==="visible",name:"Transition.Child"})))}function MF(e,t){let{show:r,appear:n=!1,unmount:a=!0,...s}=e,l=x.useRef(null),u=FC(e),d=zn(...u?[l,t]:t===null?[]:[t]);E0();let f=j0();if(r===void 0&&f!==null&&(r=(f&Xn.Open)===Xn.Open),r===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[m,g]=x.useState(r?"visible":"hidden"),v=VC(()=>{r||g("hidden")}),[y,S]=x.useState(!0),k=x.useRef([r]);Dr(()=>{y!==!1&&k.current[k.current.length-1]!==r&&(k.current.push(r),S(!1))},[k,r]);let _=x.useMemo(()=>({show:r,appear:n,initial:y}),[r,n,y]);Dr(()=>{r?g("visible"):!A0(v)&&l.current!==null&&g("hidden")},[r,v]);let j={unmount:a},N=Ge(()=>{var O;y&&S(!1),(O=e.beforeEnter)==null||O.call(e)}),E=Ge(()=>{var O;y&&S(!1),(O=e.beforeLeave)==null||O.call(e)}),D=Mr();return _e.createElement(O0.Provider,{value:v},_e.createElement(N0.Provider,{value:_},D({ourProps:{...j,as:x.Fragment,children:_e.createElement(GC,{ref:d,...j,...s,beforeEnter:N,beforeLeave:E})},theirProps:{},defaultTag:x.Fragment,features:ZC,visible:m==="visible",name:"Transition"})))}function $F(e,t){let r=x.useContext(N0)!==null,n=j0()!==null;return _e.createElement(_e.Fragment,null,!r&&n?_e.createElement(ab,{ref:t,...e}):_e.createElement(GC,{ref:t,...e}))}let ab=Or(MF),GC=Or(RF),Px=Or($F),IF=Object.assign(ab,{Child:Px,Root:ab});var LF=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(LF||{}),zF=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(zF||{});let UF={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},Dx=x.createContext(null);Dx.displayName="DialogContext";function T0(e){let t=x.useContext(Dx);if(t===null){let r=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,T0),r}return t}function BF(e,t){return ei(t.type,UF,e,t)}let Pj=Or(function(e,t){let r=x.useId(),{id:n=`headlessui-dialog-${r}`,open:a,onClose:s,initialFocus:l,role:u="dialog",autoFocus:d=!0,__demoMode:f=!1,unmount:m=!1,...g}=e,v=x.useRef(!1);u=(function(){return u==="dialog"||u==="alertdialog"?u:(v.current||(v.current=!0,console.warn(`Invalid role [${u}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")})();let y=j0();a===void 0&&y!==null&&(a=(y&Xn.Open)===Xn.Open);let S=x.useRef(null),k=zn(S,t),_=Ax(S.current),j=a?0:1,[N,E]=x.useReducer(BF,{titleId:null,descriptionId:null,panelRef:x.createRef()}),D=Ge(()=>s(!1)),O=Ge(F=>E({type:0,id:F})),P=E0()?j===0:!1,[C,A]=pF(),R={get current(){var F;return(F=N.panelRef.current)!=null?F:S.current}},M=BC(),{resolveContainers:I}=xF({mainTreeNode:M,portals:C,defaultContainers:[R]}),z=y!==null?(y&Xn.Closing)===Xn.Closing:!1;TH(f||z?!1:P,{allowed:Ge(()=>{var F,Z;return[(Z=(F=S.current)==null?void 0:F.closest("[data-headlessui-portal]"))!=null?Z:null]}),disallowed:Ge(()=>{var F;return[(F=M?.closest("body > *:not(#headlessui-portal-root)"))!=null?F:null]})});let q=AC.get(null);Dr(()=>{if(P)return q.actions.push(n),()=>q.actions.pop(n)},[q,n,P]);let te=TC(q,x.useCallback(F=>q.selectors.isTop(F,n),[q,n]));qH(te,I,F=>{F.preventDefault(),D()}),yF(te,_?.defaultView,F=>{F.preventDefault(),F.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),D()}),WH(f||z?!1:P,_,I),CH(P,S,D);let[ue,B]=wC(),H=x.useMemo(()=>[{dialogState:j,close:D,setTitleId:O,unmount:m},N],[j,D,O,m,N]),X=no({open:j===0}),ee={ref:k,id:n,role:u,tabIndex:-1,"aria-modal":f?void 0:j===0?!0:void 0,"aria-labelledby":N.titleId,"aria-describedby":ue,unmount:m},ve=!bF(),L=Ps.None;P&&!f&&(L|=Ps.RestoreFocus,L|=Ps.TabLock,d&&(L|=Ps.AutoFocus),ve&&(L|=Ps.InitialFocus));let K=Mr();return _e.createElement(oF,null,_e.createElement(Tj,{force:!0},_e.createElement(vF,null,_e.createElement(Dx.Provider,{value:H},_e.createElement(zC,{target:S},_e.createElement(Tj,{force:!1},_e.createElement(B,{slot:X},_e.createElement(A,null,_e.createElement(EF,{initialFocus:l,initialFocusFallback:S,containers:I,features:L},_e.createElement(gH,{value:D},K({ourProps:ee,theirProps:g,slot:X,defaultTag:qF,features:HF,visible:j===0,name:"Dialog"})))))))))))}),qF="div",HF=bh.RenderStrategy|bh.Static;function FF(e,t){let{transition:r=!1,open:n,...a}=e,s=j0(),l=e.hasOwnProperty("open")||s!==null,u=e.hasOwnProperty("onClose");if(!l&&!u)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!l)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!u)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!s&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(n!==void 0||r)&&!a.static?_e.createElement(Cj,null,_e.createElement(IF,{show:n,transition:r,unmount:a.unmount},_e.createElement(Pj,{ref:t,...a}))):_e.createElement(Cj,null,_e.createElement(Pj,{ref:t,open:n,...a}))}let VF="div";function KF(e,t){let r=x.useId(),{id:n=`headlessui-dialog-panel-${r}`,transition:a=!1,...s}=e,[{dialogState:l,unmount:u},d]=T0("Dialog.Panel"),f=zn(t,d.panelRef),m=no({open:l===0}),g=Ge(_=>{_.stopPropagation()}),v={ref:f,id:n,onClick:g},y=a?Px:x.Fragment,S=a?{unmount:u}:{},k=Mr();return _e.createElement(y,{...S},k({ourProps:v,theirProps:s,slot:m,defaultTag:VF,name:"Dialog.Panel"}))}let ZF="div";function GF(e,t){let{transition:r=!1,...n}=e,[{dialogState:a,unmount:s}]=T0("Dialog.Backdrop"),l=no({open:a===0}),u={ref:t,"aria-hidden":!0},d=r?Px:x.Fragment,f=r?{unmount:s}:{},m=Mr();return _e.createElement(d,{...f},m({ourProps:u,theirProps:n,slot:l,defaultTag:ZF,name:"Dialog.Backdrop"}))}let YF="h2";function WF(e,t){let r=x.useId(),{id:n=`headlessui-dialog-title-${r}`,...a}=e,[{dialogState:s,setTitleId:l}]=T0("Dialog.Title"),u=zn(t);x.useEffect(()=>(l(n),()=>l(null)),[n,l]);let d=no({open:s===0}),f={ref:u,id:n};return Mr()({ourProps:f,theirProps:a,slot:d,defaultTag:YF,name:"Dialog.Title"})}let XF=Or(FF),JF=Or(KF);Or(GF);let QF=Or(WF),Mt=Object.assign(XF,{Panel:JF,Title:QF,Description:_C}),Rx=x.createContext(null);Rx.displayName="GroupContext";let eV=x.Fragment;function tV(e){var t;let[r,n]=x.useState(null),[a,s]=uH(),[l,u]=wC(),d=x.useMemo(()=>({switch:r,setSwitch:n}),[r,n]),f={},m=e,g=Mr();return _e.createElement(u,{name:"Switch.Description",value:l},_e.createElement(s,{name:"Switch.Label",value:a,props:{htmlFor:(t=d.switch)==null?void 0:t.id,onClick(v){r&&(eb(v.currentTarget)&&v.preventDefault(),r.click(),r.focus({preventScroll:!0}))}}},_e.createElement(Rx.Provider,{value:d},g({ourProps:f,theirProps:m,slot:{},defaultTag:eV,name:"Switch.Group"}))))}let rV="button";function nV(e,t){var r;let n=x.useId(),a=gC(),s=Ox(),{id:l=a||`headlessui-switch-${n}`,disabled:u=s||!1,checked:d,defaultChecked:f,onChange:m,name:g,value:v,form:y,autoFocus:S=!1,...k}=e,_=x.useContext(Rx),[j,N]=x.useState(null),E=x.useRef(null),D=zn(E,t,_===null?null:_.setSwitch,N),O=qq(f),[P,C]=Bq(d,m,O??!1),A=to(),[R,M]=x.useState(!1),I=Ge(()=>{M(!0),C?.(!P),A.nextFrame(()=>{M(!1)})}),z=Ge(ae=>{if(nH(ae.currentTarget))return ae.preventDefault();ae.preventDefault(),I()}),q=Ge(ae=>{ae.key===xh.Space?(ae.preventDefault(),I()):ae.key===xh.Enter&&Hq(ae.currentTarget)}),te=Ge(ae=>ae.preventDefault()),ue=kC(),B=sH(),{isFocusVisible:H,focusProps:X}=Eq({autoFocus:S}),{isHovered:ee,hoverProps:ve}=jq({isDisabled:u}),{pressed:L,pressProps:K}=Dq({disabled:u}),F=no({checked:P,disabled:u,hover:ee,focus:H,active:L,autofocus:S,changing:R}),Z=Lq({id:l,ref:D,role:"switch",type:HH(e,j),tabIndex:e.tabIndex===-1?0:(r=e.tabIndex)!=null?r:0,"aria-checked":P,"aria-labelledby":ue,"aria-describedby":B,disabled:u||void 0,autoFocus:S,onClick:z,onKeyUp:q,onKeyPress:te},X,ve,K),oe=x.useCallback(()=>{if(O!==void 0)return C?.(O)},[C,O]),ce=Mr();return _e.createElement(_e.Fragment,null,g!=null&&_e.createElement(Yq,{disabled:u,data:{[g]:v||"on"},overrides:{type:"checkbox",checked:P},form:y,onReset:oe}),ce({ourProps:Z,theirProps:k,slot:F,defaultTag:rV,name:"Switch"}))}let aV=Or(nV),iV=tV,sV=mH,oV=_C,lV=Object.assign(aV,{Group:iV,Label:sV,Description:oV});function YC({isOpen:e,onClose:t,date:r,orders:n=[],monthlyInbound:a,updateDateInbound:s}){const{updateDailyManifest:l,addOrdersBulk:u,removeOrder:d,updateOrder:f}=na(),{schedulerSettings:m,activeSku:g}=ra(),{getProductSpecs:v,productMap:y}=yr(),[S,k]=x.useState(null),[_,j]=x.useState({}),[N,E]=x.useState(""),[D,O]=x.useState(null),P=[...n].sort((Z,oe)=>{const ce=ae=>{if(!ae||ae==="00:00")return 99999;const[ye,G]=ae.split(":").map(Number);return ye*60+(G||0)};return ce(Z.time)-ce(oe.time)}),C=Z=>"1.0",A=Z=>1,R=Z=>{if(!m)return"TBD (Settings)";const ce=P[Z]?.sku||g,ae=v(ce)||y?.[ce];if(!ae)return"TBD (No SKU)";const ye=Number(ae.productionRate),G=Number(ae.bottlesPerTruck);if(!ye||ye<=0)return"TBD (No Rate)";if(!G)return"TBD (No Cap)";const xe=WT(Z,m.shiftStartTime||"06:00",G,ye,Number(ae.bottlesPerCase)||1,Math.max(P.length,Math.round(Number(a[r]||0))));return xe?iu(xe):"TBD"},M=(Z,oe)=>{if(!s)return;const ce=oe.length;s(Z,ce)},[I,z]=x.useState(null),q=Z=>{const oe=n.find(ae=>ae.id===Z);d(r,Z,oe?.po);const ce=n.filter(ae=>ae.id!==Z);M(r,ce),z(null)},te=Z=>{z({title:"Cancel Delivery?",message:"Are you sure you want to remove this delivery? This action cannot be undone if not synced with SAP.",type:"danger",onConfirm:()=>q(Z)})},ue=Z=>{f(r,{...Z,status:"received"}),z(null)},B=Z=>{ue(Z)},H=Z=>{O(Z);const oe=Ft(new Date(r+"T00:00:00"),1);E(jt(oe))},X=()=>{if(!N||!D)return;const Z=n.find(ae=>ae.id===D);if(!Z)return;const oe=S===D?{...Z,..._,date:N}:{...Z,date:N};u([oe]),d(r,D,Z.po);const ce=n.filter(ae=>ae.id!==D);if(M(r,ce),s&&a){const ae=Number(a[N]||0),ye=A(oe.qty);s(N,ae+ye)}O(null),E(""),k(null)},[ee,ve]=x.useState(!1),L=()=>{const Z=Math.round(Number(a[r]||0));let oe=`Replenishment Plan - ${new Date(r+"T00:00:00").toLocaleDateString()}
`;oe+=`Total Planned Trucks: ${Z}
`,oe+=`--------------------------------
`;for(let ce=0;ce<Z;ce++)oe+=`Load #${ce+1}: ${R(ce)}
`;navigator.clipboard.writeText(oe),ve(!0),setTimeout(()=>ve(!1),2e3)},K=Z=>{k(Z.id),j({...Z})},F=()=>{if(!S)return;const Z={...n.find(ce=>ce.id===S),..._};f(r,Z);const oe=n.map(ce=>ce.id===S?Z:ce);M(r,oe),k(null)};return h.jsxs(Mt,{open:e,onClose:t,className:"relative z-50",children:[h.jsx("div",{className:"fixed inset-0 bg-black/30","aria-hidden":"true"}),h.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:h.jsxs(Mt.Panel,{className:"w-full max-w-3xl bg-white dark:bg-gray-900 rounded-2xl shadow-xl overflow-hidden flex flex-col max-h-[90vh]",children:[h.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800/50",children:[h.jsxs("div",{children:[h.jsxs(Mt.Title,{className:"text-lg font-bold flex items-center gap-2 text-gray-900 dark:text-white uppercase tracking-wide",children:[h.jsx(q5,{className:"w-5 h-5 text-blue-500"}),new Date(r+"T00:00:00").toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"})]}),h.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Found ",n.length," Scheduled Deliveries"]})]}),h.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:h.jsx(Xs,{className:"w-6 h-6"})})]}),I&&h.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/20 backdrop-blur-sm p-4 animate-fadeIn",children:h.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700 p-6 w-full max-w-sm flex flex-col items-center text-center transform transition-all scale-100",children:[h.jsx("div",{className:`p-4 rounded-full mb-4 ${I.type==="danger"?"bg-red-100 text-red-600":"bg-blue-100 text-blue-600"}`,children:I.type==="danger"?h.jsx(ga,{className:"w-8 h-8"}):h.jsx(fa,{className:"w-8 h-8"})}),h.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:I.title}),h.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6 leading-relaxed",children:I.message}),h.jsxs("div",{className:"flex gap-3 w-full",children:[h.jsx("button",{onClick:()=>z(null),className:"flex-1 px-4 py-2 rounded-lg border border-gray-300 text-gray-700 font-bold hover:bg-gray-50 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),h.jsx("button",{onClick:()=>I.onConfirm(),className:`flex-1 px-4 py-2 rounded-lg text-white font-bold shadow-lg transition-transform hover:scale-105 ${I.type==="danger"?"bg-red-600 hover:bg-red-700 shadow-red-500/30":"bg-emerald-600 hover:bg-emerald-700 shadow-emerald-500/30"}`,children:"Confirm"})]})]})}),h.jsxs("div",{className:"p-6 overflow-y-auto space-y-4",children:[n.length===0?h.jsx(h.Fragment,{children:a&&Number(a[r]||0)>0?h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center justify-between bg-blue-50 dark:bg-blue-900/20 p-3 rounded-md",children:[h.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-200 flex items-center gap-2",children:[h.jsx("span",{className:"text-xl",children:""}),h.jsxs("span",{children:[h.jsxs("strong",{children:[Number(a[r])," Trucks Planned"]})," via Auto-Replenishment.",h.jsx("br",{}),"Purchase Orders have not been imported yet."]})]}),h.jsx("button",{onClick:L,className:`flex items-center px-3 py-1.5 rounded-lg text-xs font-bold transition-all ${ee?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-white text-gray-600 border border-gray-200 hover:bg-gray-50 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600"}`,children:ee?h.jsxs(h.Fragment,{children:[h.jsx(fa,{className:"w-4 h-4 mr-1.5"}),"Copied!"]}):h.jsxs(h.Fragment,{children:[h.jsx(sx,{className:"w-4 h-4 mr-1.5"}),"Copy Plan"]})})]}),Array.from({length:Math.round(Number(a[r]))}).map((Z,oe)=>h.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-4 flex items-center justify-between opacity-75 grayscale",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"bg-gray-200 dark:bg-gray-700 p-3 rounded-lg",children:h.jsx(gn,{className:"w-6 h-6 text-gray-400"})}),h.jsxs("div",{children:[h.jsxs("h3",{className:"text-lg font-bold text-gray-500 dark:text-gray-400 italic",children:["Planned Load #",oe+1]}),h.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[h.jsxs("div",{className:"flex items-center text-xs font-mono font-bold text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/30 px-2 py-0.5 rounded",children:[h.jsx(u0,{className:"w-3 h-3 mr-1"}),"Est. ",R(oe)]}),h.jsx("span",{className:"text-xs text-gray-400",children:"Awaiting PO"})]})]})]}),h.jsx("div",{className:"px-3 py-1 bg-gray-100 dark:bg-gray-700 text-xs font-bold text-gray-500 rounded-full",children:"AUTO-PLAN"})]},`planned-${oe}`))]}):h.jsx("div",{className:"text-center py-10 text-gray-400 italic bg-gray-50 dark:bg-gray-800 rounded-lg",children:"No deliveries scheduled for this day."})}):P.map((Z,oe)=>h.jsx("div",{className:"bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-lg shadow-sm p-4 relative group hover:border-blue-300 dark:hover:border-blue-700 transition-colors",children:S===Z.id?h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[h.jsxs("div",{className:"col-span-1",children:[h.jsx("label",{className:"text-xs font-bold text-gray-500",children:"PO Number"}),h.jsx("input",{type:"text",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:_.po||"",onChange:ce=>j(ae=>({...ae,po:ce.target.value}))})]}),h.jsxs("div",{className:"col-span-1",children:[h.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Appointment Time"}),h.jsx("input",{type:"time",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:_.time||"",onChange:ce=>j(ae=>({...ae,time:ce.target.value}))})]}),h.jsxs("div",{className:"col-span-1",children:[h.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Appointment Time"}),h.jsx("input",{type:"time",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:_.time||"",onChange:ce=>j(ae=>({...ae,time:ce.target.value}))})]}),h.jsxs("div",{className:"col-span-1",children:[h.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Supplier"}),h.jsx("input",{type:"text",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:_.supplier||"",onChange:ce=>j(ae=>({...ae,supplier:ce.target.value}))})]}),h.jsxs("div",{className:"col-span-1",children:[h.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Quantity"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("input",{type:"number",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:_.qty||0,onChange:ce=>j(ae=>({...ae,qty:ce.target.value}))}),h.jsxs("span",{className:"text-xs text-gray-400 whitespace-nowrap",children:["= ",C(_.qty||0)," Trucks"]})]})]})]}),h.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg flex items-center gap-3",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("label",{className:"text-xs font-bold text-blue-700 dark:text-blue-300",children:"Move to Date"}),h.jsx("input",{type:"date",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white mt-1",value:N,onChange:ce=>{E(ce.target.value),D||O(Z.id)}})]}),h.jsxs("button",{onClick:X,disabled:!N,className:"mt-5 px-4 py-2 bg-blue-600 text-white rounded-lg font-bold text-sm disabled:opacity-50 hover:bg-blue-500 flex items-center",children:[h.jsx(w6,{className:"w-5 h-5 mr-1"}),"Reschedule"]})]}),h.jsxs("div",{className:"flex justify-between border-t dark:border-gray-700 pt-3",children:[h.jsx("button",{onClick:()=>k(null),className:"text-sm text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:"Cancel"}),h.jsxs("button",{onClick:F,className:"flex items-center text-sm font-bold text-green-600 hover:text-green-700",children:[h.jsx(fa,{className:"w-5 h-5 mr-1"}),"Save Changes"]})]})]}):h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{className:"flex items-start gap-4",children:[h.jsx("div",{className:"bg-blue-100 dark:bg-blue-900 p-3 rounded-lg",children:h.jsx(gn,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),h.jsxs("div",{children:[h.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center",children:[h.jsx("span",{className:"font-mono",children:Z.time&&Z.time!=="00:00"?iu(Z.time):"TBD"}),h.jsx("span",{className:"mx-2 text-gray-300",children:"|"}),"PO #",Z.po,Z.loadId&&h.jsxs("span",{className:"ml-2 px-2 py-0.5 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs rounded-full font-bold",children:["Load ID: ",Z.loadId]}),h.jsx("span",{className:"ml-2 px-2 py-0.5 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-100 text-xs rounded-full font-bold",children:"1 Truck"}),h.jsx("button",{onClick:ce=>{ce.stopPropagation();const ae=Z.status||"ordered";ae==="received"?confirm("Revert 'Received' status back to 'Ordered'?")&&f(r,{...Z,status:"ordered"}):f(r,{...Z,status:ae==="confirmed"?"ordered":"confirmed"})},className:`ml-2 px-2 py-0.5 text-xs rounded-full font-bold border transition-colors ${Z.status==="received"?"bg-emerald-100 text-emerald-800 border-emerald-200 hover:bg-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-300 dark:border-emerald-800":Z.status==="confirmed"?"bg-blue-100 text-blue-800 border-blue-200 hover:bg-blue-200 dark:bg-blue-900/30 dark:text-blue-300 dark:border-blue-800":"bg-yellow-100 text-yellow-800 border-yellow-200 hover:bg-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-300 dark:border-yellow-800"}`,title:"Toggle Status",children:Z.status==="received"?"Received":Z.status==="confirmed"?"Confirmed":"Ordered"})]}),h.jsxs("div",{className:"flex flex-col gap-1 mt-1",children:[h.jsxs("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[h.jsx("span",{children:Z.supplier||Z.vendor||"Unknown Supplier"}),h.jsx("span",{className:"text-gray-300",children:"|"}),h.jsx("span",{className:"text-gray-600 dark:text-gray-400 font-bold",children:Z.sku||g}),h.jsxs("span",{className:"text-gray-400 font-normal",children:["- ",y[Z.sku||g]?.description||"No Description"]})]}),Number(Z.qty)>0&&h.jsxs("span",{className:"text-xs text-gray-400",children:["(",Number(String(Z.qty).replace(/,/g,"")).toLocaleString()," units)"]})]})]})]}),h.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[Z.status!=="received"&&h.jsx("button",{onClick:ce=>{ce.stopPropagation(),B(Z)},className:"p-2 text-gray-400 hover:text-emerald-600 hover:bg-emerald-50 rounded-lg dark:hover:bg-emerald-900/30",title:"Mark as Received",children:h.jsx(fa,{className:"w-5 h-5"})}),h.jsx("button",{onClick:()=>{K(Z),H(Z.id)},className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg dark:hover:bg-blue-900/30",title:"Edit or Reschedule",children:h.jsx(Qc,{className:"w-5 h-5"})}),h.jsx("button",{onClick:ce=>{ce.stopPropagation(),te(Z.id)},className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg dark:hover:bg-red-900/30",title:"Cancel Delivery",children:h.jsx(ga,{className:"w-5 h-5"})})]})]})},Z.id||oe)),h.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-lg flex gap-3 text-xs text-yellow-800 dark:text-yellow-200",children:[h.jsx("span",{className:"text-lg",children:""}),h.jsxs("p",{children:[h.jsx("strong",{children:"Schedule Exception Management"}),h.jsx("br",{}),"Use this tool to handle cancellations or delays. Removing a PO here is permanent unless re-imported from SAP."]})]})]})]})})]})}const cV=x.memo(({dates:e,todayStr:t})=>h.jsx("thead",{className:"sticky top-0 z-20",children:h.jsxs("tr",{children:[h.jsx("th",{className:"sticky left-0 min-w-[140px] w-[140px] h-10 bg-slate-800 dark:bg-slate-950 border-b border-r border-slate-600 dark:border-slate-700 pl-2 pr-2 text-left text-xs font-bold text-white dark:text-slate-200 uppercase tracking-wider z-30 shadow-md",children:h.jsx("div",{className:"flex items-center h-full",children:h.jsx("span",{children:"Metric"})})}),e.map(r=>{const n=jt(r),a=new Date(n+"T00:00:00"),s=n===t,l=a.getDay()===0||a.getDay()===6;return h.jsx("th",{className:`
                            min-w-[100px] w-[100px] h-10 p-0 border-b border-r border-slate-600 dark:border-slate-700 transition-colors
                            ${s?"bg-blue-600 text-white font-extrabold shadow-md":"bg-slate-800 dark:bg-slate-950 text-slate-200 dark:text-slate-400"}
                            ${l&&!s?"bg-slate-700/50 dark:bg-slate-900/50 text-slate-400":""}
                        `,children:h.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center",children:[h.jsx("div",{className:`uppercase text-[9px] leading-tight font-semibold ${s?"opacity-90":"opacity-60"}`,children:(()=>{const[u,d,f]=n.split("-").map(Number);return new Date(u,d-1,f).toLocaleDateString("en-US",{weekday:"short"})})()}),h.jsx("div",{className:"text-sm leading-none mt-0.5",children:n.split("-")[2].replace(/^0/,"")})]})},n)})]})}));function uV({date:e,todayStr:t,demandVal:r,updateDateDemand:n,actualVal:a,updateDateActual:s,manifestItems:l,monthlyInboundVal:u,updateDateInbound:d,ledgerItem:f,openManager:m,readOnly:g=!1}){const v=jt(e),y=v===t,S=a!==void 0,k=l&&l.length>0,_=k?l.length:u||0;return h.jsxs("div",{className:`p-4 rounded-xl border-2 mb-4 shadow-sm ${y?"bg-blue-50 border-blue-200 dark:bg-blue-900/20 dark:border-blue-800":"bg-white border-gray-100 dark:bg-gray-800 dark:border-gray-700"}`,children:[h.jsxs("div",{className:"flex justify-between items-center mb-3",children:[h.jsxs("div",{children:[h.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:new Date(e).toLocaleDateString("en-US",{weekday:"long"})}),h.jsx("div",{className:"text-lg font-black text-gray-800 dark:text-white",children:new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]}),y&&h.jsx("span",{className:"bg-blue-100 text-blue-700 px-2 py-0.5 rounded text-[10px] font-bold uppercase",children:"Today"})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-2 rounded-lg",children:[h.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"Production Plan"}),h.jsx("input",{className:`w-full bg-white dark:bg-gray-600 rounded border border-gray-200 dark:border-gray-500 p-2 text-sm font-bold text-center outline-none ${g?"cursor-default opacity-80":"focus:ring-2 focus:ring-blue-500"}`,placeholder:g?"":"-",value:r||"",disabled:g,onChange:j=>n(v,j.target.value)})]}),h.jsxs("div",{className:"bg-blue-50/50 dark:bg-blue-900/10 p-2 rounded-lg border border-blue-100 dark:border-blue-900",children:[h.jsx("label",{className:"text-[10px] font-bold text-blue-400 uppercase block mb-1",children:"Actual / Prod"}),h.jsx("input",{className:`w-full bg-white dark:bg-gray-600 rounded border border-blue-200 dark:border-blue-800 p-2 text-sm font-bold text-center text-blue-700 dark:text-blue-300 outline-none ${g?"cursor-default opacity-80":"focus:ring-2 focus:ring-blue-500"}`,placeholder:g?"":"-",value:S?Number(a).toLocaleString():"",disabled:g,onChange:j=>{const N=j.target.value.replace(/,/g,"");isNaN(N)||s(v,N)}})]}),h.jsxs("div",{className:"bg-green-50/50 dark:bg-green-900/10 p-2 rounded-lg border border-green-100 dark:border-green-900",children:[h.jsx("label",{className:"text-[10px] font-bold text-green-400 uppercase block mb-1",children:"Inbound Trucks"}),k?h.jsxs("button",{className:`w-full bg-white dark:bg-gray-600 rounded border border-green-200 dark:border-green-800 p-2 text-sm font-bold text-center text-green-700 dark:text-green-400 flex items-center justify-center gap-2 ${g?"cursor-default opacity-80":""}`,onClick:()=>!g&&m(v),disabled:g,children:[_," ",h.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"})]}):h.jsx("input",{className:`w-full bg-white dark:bg-gray-600 rounded border border-green-200 dark:border-green-800 p-2 text-sm font-bold text-center text-green-700 dark:text-green-400 outline-none ${g?"cursor-default opacity-80":"focus:ring-2 focus:ring-green-500"}`,placeholder:g?"":"0",value:_||"",disabled:g,onChange:j=>{const N=j.target.value.replace(/,/g,"");isNaN(N)||d(v,N)}})]}),h.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-2 rounded-lg flex flex-col justify-center items-center",children:[h.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"End Balance"}),h.jsx("div",{className:"text-sm font-black text-gray-700 dark:text-gray-300",children:f?f.balance.toLocaleString():"-"})]})]})]})}const dV=x.memo(({dates:e,monthlyDemand:t,updateDateDemand:r,updateDateDemandBulk:n,readOnly:a=!1,todayStr:s})=>{const l=x.useRef(r);return x.useEffect(()=>{l.current=r},[r]),h.jsxs("tr",{className:"group/row",children:[h.jsx("th",{className:"sticky left-0 min-w-[140px] w-[140px] h-8 bg-slate-300 dark:bg-slate-800 border-r border-slate-400 dark:border-slate-600 pl-2 pr-2 text-left text-xs font-bold text-slate-800 dark:text-slate-300 z-10 shadow-md relative",children:h.jsx("div",{className:"w-full h-full flex items-center",children:"Production (Plan)"})}),e.map(u=>{const d=jt(u),f=t[d];return h.jsx(fV,{date:u,dateStr:d,initialValue:f,updateDateDemand:r,updateDateDemandBulk:n,readOnly:a,isToday:d===s},d)})]})}),fV=x.memo(({date:e,dateStr:t,initialValue:r,updateDateDemand:n,updateDateDemandBulk:a,readOnly:s,isToday:l})=>{const u=x.useRef(null),[d,f]=x.useState(null);x.useEffect(()=>{u.current&&document.activeElement!==u.current&&(u.current.value=r?Number(r).toLocaleString():"")},[r]);const m=_=>{if(!_)return"";const j=_.toString().toLowerCase().trim().replace(/,/g,"");let N=1;j.endsWith("k")?N=1e3:j.endsWith("m")&&(N=1e6);let E=parseFloat(j.replace(/[km]/g,""));return isNaN(E)?_:(E*=N,N===1&&E>0&&E<1e3&&(E*=1e3),E.toString())},g=()=>{if(!s&&u.current){const _=m(u.current.value);_!==r&&n(t,_),_&&!isNaN(_)&&(u.current.value=Number(_).toLocaleString())}},v=_=>{if(!s&&_.key==="Enter"){_.preventDefault();const j=_.target.value.replace(/,/g,""),N=m(j);n(t,N),N&&!isNaN(N)&&(_.target.value=Number(N).toLocaleString());const D=`demand-${Ft(t,1)}`;setTimeout(()=>{const O=document.getElementById(D);O&&(O.focus(),O.select())},0)}},y=_=>{s||(_.preventDefault(),f({x:_.clientX,y:_.clientY}))},S=()=>f(null),k=_=>{const j=u.current?m(u.current.value):r;if(!j)return;const N={};if(N[t]=j,_==="week")for(let E=1;E<7;E++)N[Ft(t,E)]=j;if(_==="month"){const E=new Date(e).getMonth();let D=1;for(;;){const O=Ft(t,D);if(new Date(O).getMonth()!==E||(N[O]=j,D++,D>31))break}}if(_==="restOfWeek"){new Date(e).getDay();let E=1;for(;;){const D=Ft(t,E),O=new Date(D);if(N[D]=j,O.getDay()===0||(E++,E>7))break}}a&&a(N),S()};return h.jsxs("td",{className:`min-w-[100px] w-[100px] h-8 p-0 border-r border-slate-300 dark:border-slate-700 transition-colors 
            ${l?"bg-blue-50/50 dark:bg-blue-900/10 border-x-2 border-x-blue-300":"bg-slate-200 dark:bg-slate-800/50"}`,children:[h.jsx("div",{className:"w-full h-full relative group/cell",onContextMenu:y,children:h.jsx("input",{ref:u,id:`demand-${t}`,type:"text",inputMode:"decimal",className:`
                        w-full h-full text-center outline-none transition-all font-bold text-sm m-0 p-0
                        ${s?"cursor-not-allowed text-slate-500 bg-transparent":"cursor-text text-slate-800 dark:text-slate-100 bg-transparent focus:bg-white dark:focus:bg-slate-700 hover:ring-1 hover:ring-slate-300 dark:hover:ring-slate-600 focus:ring-2 focus:ring-inset focus:ring-blue-500 focus:z-10 focus:shadow-sm"}
                        placeholder:text-slate-300 dark:placeholder:text-slate-600
                    `,placeholder:s?"":"-",disabled:s,onBlur:g,onKeyDown:v,autoComplete:"off"})}),d&&h.jsx(hV,{x:d.x,y:d.y,onClose:S,onAction:k})]})}),hV=({x:e,y:t,onClose:r,onAction:n})=>{x.useEffect(()=>{const s=()=>r();return window.addEventListener("click",s),()=>window.removeEventListener("click",s)},[r]);const a=s=>s.stopPropagation();return eo.createPortal(h.jsxs("div",{className:"fixed z-[100] min-w-[180px] bg-white dark:bg-slate-800 rounded-lg shadow-xl ring-1 ring-black/5 dark:ring-white/10 py-1 origin-top-left transform transition-all animate-in fade-in zoom-in-95 duration-100",style:{top:t,left:e},onClick:a,onContextMenu:s=>s.preventDefault(),children:[h.jsx("div",{className:"px-3 py-2 text-[10px] font-bold text-slate-400 uppercase tracking-wider border-b border-slate-100 dark:border-slate-700 mb-1",children:"Quick Fill"}),h.jsxs("button",{onClick:()=>n("week"),className:"w-full text-left px-4 py-2 text-sm text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700 flex items-center gap-2 group",children:[h.jsx("div",{className:"p-1 rounded-md bg-emerald-50 text-emerald-600 group-hover:bg-emerald-100 dark:bg-emerald-900/30 dark:text-emerald-400",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"})})}),h.jsx("span",{children:"Next 7 Days"})]}),h.jsxs("button",{onClick:()=>n("restOfWeek"),className:"w-full text-left px-4 py-2 text-sm text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700 flex items-center gap-2 group",children:[h.jsx("div",{className:"p-1 rounded-md bg-blue-50 text-blue-600 group-hover:bg-blue-100 dark:bg-blue-900/30 dark:text-blue-400",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0h9m3.102-1.296a4.5 4.5 0 016.3 6.3m0-6.3a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0z"})})}),h.jsx("span",{children:"Rest of Week"})]}),h.jsxs("button",{onClick:()=>n("month"),className:"w-full text-left px-4 py-2 text-sm text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700 flex items-center gap-2 group",children:[h.jsx("div",{className:"p-1 rounded-md bg-purple-50 text-purple-600 group-hover:bg-purple-100 dark:bg-purple-900/30 dark:text-purple-400",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0h9m3.102-1.296a4.5 4.5 0 016.3 6.3m0-6.3a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0z"})})}),h.jsx("span",{children:"Rest of Month"})]})]}),document.body)},mV=x.memo(({dates:e,monthlyProductionActuals:t,updateDateActual:r,readOnly:n=!1,todayStr:a})=>h.jsxs("tr",{className:"bg-sky-50/20 dark:bg-sky-900/10",children:[h.jsx("th",{className:"sticky left-0 min-w-[140px] w-[140px] h-8 bg-sky-50 dark:bg-slate-800 border-r border-slate-300 dark:border-slate-600 pl-2 pr-2 text-left text-xs font-bold text-sky-700 dark:text-sky-400 z-10 shadow-md",children:h.jsx("div",{className:"w-full h-full flex items-center",children:"Actual / Prod"})}),e.map(s=>{const l=jt(s),u=t[l];return h.jsx(pV,{date:s,dateStr:l,initialValue:u,updateDateActual:r,readOnly:n,isToday:l===a},l)})]})),pV=_e.memo(({dateStr:e,initialValue:t,updateDateActual:r,readOnly:n,isToday:a})=>{const[s,l]=_e.useState(t?Number(t).toLocaleString():"");_e.useEffect(()=>{l(t?Number(t).toLocaleString():"")},[t]);const u=()=>{if(n)return;let d=s.toString().toLowerCase().trim().replace(/,/g,""),f=1;d.endsWith("k")?f=1e3:d.endsWith("m")&&(f=1e6);let m=parseFloat(d.replace(/[km]/g,""));f===1&&m>0&&m<1e3&&(m*=1e3);const g=isNaN(m)?null:m*f;g!==t&&r(e,g),g!==null&&l(g.toLocaleString())};return h.jsx("td",{className:`min-w-[100px] w-[100px] h-8 p-0 border-r border-slate-200 dark:border-slate-700 
            ${a?"bg-blue-50/50 dark:bg-blue-900/10 border-x-2 border-x-blue-300":"bg-sky-50/10 dark:bg-sky-900/5"}
            ${n?"":"hover:bg-sky-50/30"}
        `,children:h.jsx("input",{type:"text",className:`w-full h-full text-center text-sm bg-transparent outline-none font-bold text-sky-700 dark:text-sky-300 rounded-sm ${n?"cursor-default opacity-80":"focus:bg-white dark:focus:bg-slate-700 focus:ring-2 focus:ring-inset focus:ring-sky-400"}`,value:s,onChange:d=>l(d.target.value),onBlur:u,onKeyDown:d=>{d.key==="Enter"&&d.target.blur()},placeholder:n?"":"-",disabled:n})})}),gV=x.memo(({dates:e,poManifest:t,monthlyInbound:r,updateDateInbound:n,openManager:a,readOnly:s=!1,todayStr:l})=>h.jsxs("tr",{children:[h.jsx("th",{className:"sticky left-0 min-w-[140px] w-[140px] h-8 bg-white dark:bg-slate-800 border-r border-slate-300 dark:border-slate-600 pl-2 pr-2 text-left text-xs font-bold text-emerald-700 dark:text-emerald-400 z-10 shadow-md",children:h.jsx("div",{className:"w-full h-full flex items-center",children:"Inbound Trucks"})}),e.map(u=>{const d=jt(u),f=t[d]?.items||[],m=f.length>0,g=m?f.length:r[d]||0,v=d===l,y=f.length>0&&f.every(k=>k.status==="received"),S=f.filter(k=>k.status==="received").length;return h.jsx("td",{className:`min-w-[100px] w-[100px] h-8 p-0 border-r border-slate-200 dark:border-slate-700 relative group transition-colors 
                        ${v?"bg-blue-50/50 dark:bg-blue-900/10 border-x-2 border-x-blue-300":""}
                        ${s?"":"hover:bg-slate-50 dark:hover:bg-slate-700"}
                    `,children:m?h.jsx("button",{className:`w-full h-full p-1 flex items-center justify-center ${s?"cursor-default":""}`,onClick:()=>!s&&a(d),title:`${f.length} POs (${S} Received)${s?" (Read Only)":""}`,disabled:s,children:h.jsx("span",{className:`flex items-center gap-1 rounded px-2 py-0.5 text-sm font-bold shadow-sm whitespace-nowrap transition-colors 
                                    ${y?"bg-emerald-100 text-emerald-800 border border-emerald-200 dark:bg-emerald-900/50 dark:text-emerald-300 dark:border-emerald-700":s?"bg-indigo-600/70 text-white/90":"bg-indigo-600 text-white dark:bg-indigo-500 hover:bg-indigo-700"}
                                `,children:y?h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"text-emerald-600 dark:text-emerald-400",children:""}),g," OK"]}):h.jsxs(h.Fragment,{children:[h.jsx(gn,{className:"w-3 h-3"}),g," PO"]})})}):h.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[Number(g)>0&&h.jsx(gn,{className:"w-3 h-3 text-emerald-500 absolute left-2 pointer-events-none opacity-50"}),h.jsx("input",{className:`w-full h-full text-center text-sm bg-transparent font-bold rounded-sm outline-none
                                        ${g>0?"text-emerald-600 dark:text-emerald-400 pl-4":"text-slate-300"}
                                        ${s?"cursor-default":"focus:bg-emerald-50 dark:focus:bg-slate-700 focus:ring-2 focus:ring-inset focus:ring-emerald-400"}
                                    `,value:g||"",placeholder:s?"":"0",disabled:s,onChange:k=>{const _=k.target.value.replace(/,/g,"");isNaN(_)||n(d,_)},onDoubleClick:()=>!s&&a(d)})]})},d)})]})),vV=x.memo(({dates:e,ledgerMap:t,specs:r,safetyTarget:n,todayStr:a})=>h.jsxs("tr",{className:"bg-slate-200 dark:bg-slate-800 border-t-2 border-slate-300 dark:border-slate-600",children:[h.jsx("th",{className:"sticky left-0 min-w-[140px] w-[140px] h-8 bg-slate-200 dark:bg-slate-800 border-r border-slate-300 dark:border-slate-600 pl-2 pr-2 text-left text-xs font-bold text-slate-800 dark:text-white z-10 shadow-md",children:h.jsx("div",{className:"w-full h-full flex items-center",children:"End Inventory"})}),e.map(s=>{const l=jt(s),u=t[l],d=u?u.balance:null,f=l===a,m=r?.casesPerPallet||100,g=r?.bottlesPerCase||1,v=r?.bottlesPerTruck||2e4,y=d!==null?Math.round(d/g/m):null;let S="-";if(y!==null){const _=Math.floor(v/g/m)||22;if(Math.abs(y)>=_){const j=y<0?"-":"",N=Math.abs(y),E=Math.floor(N/_),D=N%_;S=`${j}${E}T ${D}P`}else S=`${y}`}let k="";return d!==null&&n&&(d<n?k="bg-red-100 dark:bg-red-900/40 text-red-800 dark:text-red-200 font-bold":d>n+v*2?k="bg-orange-100 dark:bg-orange-900/40 text-orange-900 dark:text-orange-200":k="text-slate-700 dark:text-slate-200"),f&&(k+=" bg-blue-50/50 dark:bg-blue-900/10 border-x-2 border-x-blue-300"),h.jsx("td",{className:`min-w-[100px] w-[100px] h-8 p-0 border-r border-slate-300 dark:border-slate-600 ${k}`,children:h.jsx("div",{className:"w-full h-full flex items-center justify-center",children:S})},l)})]})),yV=x.memo(({dates:e,ledgerMap:t,monthlyDemand:r,monthlyInbound:n,poManifest:a,specs:s,todayStr:l,leadTimeDays:u=2})=>{const d=f=>a&&a[f]?.items?.length>0?a[f].items.length:Number(n[f])||0;return h.jsxs("tr",{className:"border-t border-slate-300 dark:border-slate-600 bg-slate-200 dark:bg-slate-800",children:[h.jsx("th",{className:"sticky left-0 min-w-[140px] w-[140px] h-8 bg-slate-300 dark:bg-slate-800 border-r border-slate-400 dark:border-slate-600 pl-2 pr-2 text-left text-xs font-bold text-slate-500 uppercase z-10 shadow-md",children:h.jsx("div",{className:"w-full h-full flex items-center",children:"Coverage (DOS)"})}),e.map(f=>{const m=jt(f),g=t[m],v=1+(s?.scrapPercentage||0)/100,y=m===l,S=Ft(m,-1),k=t[S],_=k?k.balance:g?.balance||0,N=d(m)*(s?.bottlesPerTruck||2e4);let E=0,D=_+N,O=!1;for(let I=0;I<=30;I++){const z=new Date(f);z.setDate(z.getDate()+I);const q=jt(z),te=(r[q]||0)*s.bottlesPerCase*v;if(te===0){E+=1,I===30&&(O=!0);continue}if(D>=te)D-=te,E+=1;else{E+=D/te,D=0;break}}const P=E.toFixed(1),C=parseFloat(P),A=u,R=u+2;let M="text-slate-400";return _+N>0&&(C<=A?M="bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300 font-bold":C<=R?M="bg-yellow-100 dark:bg-yellow-900/50 text-yellow-700 dark:text-yellow-300 font-bold":M="bg-green-100 dark:bg-green-900/40 text-green-700 dark:text-green-300 font-bold"),y&&(M+=" bg-blue-50/50 dark:bg-blue-900/10 border-x-2 border-x-blue-300"),h.jsx("td",{className:`min-w-[100px] w-[100px] h-8 p-0 text-center text-xs border-r border-slate-300 dark:border-slate-600 ${M}`,title:`Coverage: ${P} days | Lead Time: ${u} days`,children:h.jsx("div",{className:"w-full h-full flex items-center justify-center",children:O?"":P})},m)})]})});function bV({monthlyDemand:e,monthlyProductionActuals:t,monthlyInbound:r,updateDateDemand:n,updateDateDemandBulk:a,updateDateActual:s,updateDateInbound:l,dailyLedger:u=[],specs:d,userProfile:f,startDate:m,readOnly:g=!1,poManifest:v={},leadTimeDays:y=2}){const{updateDailyManifest:S,removeOrder:k}=na(),[_,j]=x.useState({isOpen:!1,date:null}),N=Wr(new Date),E=x.useMemo(()=>{const I=[],z=m?new Date(m):new Date;for(let q=0;q<60;q++)I.push(Ft(z,q));return I},[m]),D=x.useMemo(()=>u.reduce((I,z)=>(I[z.date]=z,I),{}),[u]),O=I=>{g||j({isOpen:!0,date:I})},P=()=>{j({isOpen:!1,date:null})},C=I=>{_.date&&S(_.date,I)},A=I=>{_.date&&k(_.date,I)},R=()=>h.jsx(YC,{isOpen:_.isOpen,onClose:P,date:_.date||"",orders:_.date?v[_.date]?.items||[]:[],monthlyInbound:r,updateDateInbound:l,onSave:C,onDelete:A,specs:d}),M=x.useMemo(()=>{if(!d||!d.bottlesPerTruck||!d.bottlesPerCase)return null;let I=0,z=0;const q=d.bottlesPerTruck/d.bottlesPerCase;E.forEach(B=>{const H=Wr(B),X=e[H];X&&(I+=Number(X));const ee=v[H],ve=ee?.items?.length>0?ee.items.length:r[H]||0;z+=Number(ve)});const te=Math.ceil(I/q),ue=z-te;return{totalCases:I,trucksRequired:te,totalScheduled:z,gap:ue}},[E,e,r,v,d]);return h.jsxs("div",{className:"relative",children:[M&&h.jsxs("div",{className:"hidden md:flex sticky left-0 right-0 mb-2 mx-1 p-1.5 bg-slate-900 text-white rounded-lg shadow-md items-center justify-between z-10 font-mono text-xs uppercase tracking-wider",children:[h.jsxs("div",{className:"flex gap-4",children:[h.jsxs("div",{className:"flex flex-col",children:[h.jsx("span",{className:"text-slate-400 text-[8px]",children:"Total Plan"}),h.jsxs("span",{className:"font-bold text-sm text-blue-200",children:[M.totalCases.toLocaleString()," ",h.jsx("span",{className:"text-[8px] text-slate-500",children:"cs"})]})]}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("span",{className:"text-slate-400 text-[8px]",children:"Est. Trucks"}),h.jsxs("span",{className:"font-bold text-sm",children:[M.trucksRequired," ",h.jsx("span",{className:"text-[8px] text-slate-500",children:"trks"})]})]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("div",{className:"flex flex-col text-right",children:[h.jsx("span",{className:"text-slate-400 text-[8px]",children:"Scheduled"}),h.jsx("span",{className:"font-bold text-sm text-emerald-400",children:M.totalScheduled})]}),h.jsxs("div",{className:`flex flex-col items-center justify-center px-3 py-0.5 rounded border ${M.gap<0?"bg-red-500/20 border-red-500 text-red-200":"bg-emerald-500/20 border-emerald-500 text-emerald-200"}`,children:[h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("span",{className:"text-[8px] opacity-75",children:"Gap"}),h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-3 h-3 opacity-60 cursor-help",title:"Gap = Scheduled Trucks - Demand Trucks (simple difference). Replenishment Card shows True MRP need including safety stock.",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"})})]}),h.jsxs("span",{className:"font-black text-lg leading-none",children:[M.gap>0?"+":"",M.gap]})]})]})]}),h.jsx("div",{className:"md:hidden space-y-4 pb-20",children:E.slice(0,30).map(I=>{const z=Wr(I);return h.jsx(uV,{date:I,todayStr:N,demandVal:e[z],updateDateDemand:n,actualVal:t[z],updateDateActual:s,manifestItems:v[z]?.items||[],monthlyInboundVal:r[z],updateDateInbound:l,ledgerItem:D[z],openManager:O,readOnly:g},z)})}),h.jsx("div",{className:"hidden md:block overflow-x-auto pb-4 relative custom-scrollbar",children:h.jsxs("table",{className:"w-full border-collapse text-sm",children:[h.jsx(cV,{dates:E,todayStr:N}),h.jsxs("tbody",{children:[h.jsx(dV,{dates:E,monthlyDemand:e,updateDateDemand:n,updateDateDemandBulk:a,readOnly:g,todayStr:N}),h.jsx(mV,{dates:E,monthlyProductionActuals:t,updateDateActual:s,readOnly:g,todayStr:N}),h.jsx(gV,{dates:E,poManifest:v,monthlyInbound:r,updateDateInbound:l,openManager:O,readOnly:g,todayStr:N}),h.jsx(vV,{dates:E,ledgerMap:D,specs:d,safetyTarget:d?.bottles_per_truck?d.bottles_per_truck*2:0,todayStr:N}),h.jsx(yV,{dates:E,ledgerMap:D,monthlyDemand:e,monthlyInbound:r,poManifest:v,specs:d,todayStr:N,leadTimeDays:y})]})]})}),R()]})}const xV=(e,t)=>{const r={};e.forEach(a=>{r[a.date]||(r[a.date]=[]),r[a.date].push(a)});const n=[];return Object.entries(r).forEach(([a,s])=>{s.sort((f,m)=>{const g=f.po?String(f.po).replace(/\D/g,""):"",v=m.po?String(m.po).replace(/\D/g,""):"";return g&&v?Number(g)-Number(v):(f.po||"").localeCompare(m.po||"")});let[l,u]=(t.schedulerSettings?.shiftStartTime||"06:00").split(":").map(Number),d=new Date;d.setHours(l,u,0,0),s.forEach(f=>{const m=f.sku||Object.keys(t.bottleDefinitions)[0],g=t.bottleDefinitions[m],v=new Date(d);v.getMinutes()>=30&&v.setHours(v.getHours()+1),v.setMinutes(0);const y=v.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"});if(n.push({...f,time:y}),!g)return;const S=(f.qty||1)*(g.bottlesPerTruck||2e4),k=g.productionRate||1e3,j=S/k*60;d.setMinutes(d.getMinutes()+j)})}),n};function wV({isOpen:e,onClose:t}){const{addOrdersBulk:r}=na(),{schedulerSettings:n}=ra(),{productMap:a}=yr(),[s,l]=x.useState(1),[u,d]=x.useState(""),[f,m]=x.useState([]),[g,v]=x.useState({po:-1,date:-1,qty:-1,supplier:-1,sku:-1}),y=O=>{const P=O.trim().split(/\r?\n/);if(P.length===0)return[];const R=P[0].includes("	")?"	":",";return P.map(M=>M.split(R).map(I=>I.trim()))},S=()=>{if(s===1){const O=y(u);m(O.slice(0,5)),l(2)}else s===2&&N()},k=O=>{if(!O)return null;const P=O.trim();if(P.match(/^\d{4}-\d{2}-\d{2}$/))return P;const C=P.split(/[\-\s\/]/);if(C.length===2||C.length===3){const R={jan:0,feb:1,mar:2,apr:3,may:4,jun:5,jul:6,aug:7,sep:8,oct:9,nov:10,dec:11};let M,I,z=new Date().getFullYear();const q=C[0].toLowerCase(),te=C[1].toLowerCase();if(C[2]&&C[2].toLowerCase(),R[te]!==void 0?(M=parseInt(q),I=R[te]):R[q]!==void 0&&(I=R[q],M=parseInt(te)),M&&I!==void 0)return new Date(z,I,M).toISOString().split("T")[0]}const A=new Date(P);return isNaN(A.getTime())?null:A.toISOString().split("T")[0]},_=O=>O?O.match(/^\d+(\.\d+)?[eE]\+\d+$/)?Number(O).toLocaleString("fullwide",{useGrouping:!1}):O:"",j=O=>{if(!O)return 0;const P=String(O).replace(/[^0-9.\-]/g,""),C=parseFloat(P);return isNaN(C)?0:C},N=()=>{const O=y(u);let P=0;const C=O.map(R=>{const M=R[g.date],I=k(M);return I?{id:crypto.randomUUID(),po:_(R[g.po]),date:I,qty:j(R[g.qty]),supplier:R[g.supplier]||"Unknown",sku:R[g.sku]||g.defaultSku||"",status:"planned"}:null}).filter(R=>R&&R.po&&R.date?(P++,!0):!1),A=xV(C,{bottleDefinitions:a,schedulerSettings:n});r(A),alert(`Successfully imported ${P} orders! Check the Planning Grid for blue badges.`),t(),d(""),l(1)},E=()=>h.jsxs("div",{className:"space-y-4",children:[h.jsxs("p",{className:"text-sm text-gray-500",children:["Copy your rows from Excel or SAP and paste them below. Make sure to include the ",h.jsx("strong",{children:"PO Number"})," and ",h.jsx("strong",{children:"Delivery Date"}),"."]}),h.jsx("textarea",{className:"w-full h-64 p-3 border rounded-lg font-mono text-xs bg-gray-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 focus:ring-2 focus:ring-blue-500",placeholder:`Example:
450001234	${new Date().toISOString().split("T")[0]}	44000	Supplier A
450001235	${new Date(Date.now()+864e5).toISOString().split("T")[0]}	22000	Supplier B`,value:u,onChange:O=>d(O.target.value)})]}),D=()=>h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 text-sm rounded-lg",children:["Identify the columns. We found ",h.jsxs("strong",{children:[y(u).length," rows"]}),"."]}),h.jsx("div",{className:"overflow-x-auto border rounded-lg dark:border-gray-700",children:h.jsxs("table",{className:"w-full text-xs text-left",children:[h.jsx("thead",{className:"bg-gray-100 dark:bg-gray-800 text-gray-500 uppercase",children:h.jsxs("tr",{children:[f[0]?.map((O,P)=>h.jsxs("th",{className:"p-2 border-b dark:border-gray-700 min-w-[120px]",children:[h.jsxs("div",{className:"mb-2",children:["Column ",P+1]}),h.jsxs("select",{className:"w-full p-1 border rounded bg-white dark:bg-gray-700 dark:border-gray-600",value:Object.keys(g).find(C=>g[C]===P)||"",onChange:C=>{const A=C.target.value;v(R=>{const M={...R};if(!A){const I=Object.keys(M).find(z=>M[z]===P);return I&&(M[I]=-1),M}return M[A]=P,M})},children:[h.jsx("option",{value:"",children:"-- Ignore --"}),h.jsx("option",{value:"po",children:"PO Number *"}),h.jsx("option",{value:"date",children:"Date *"}),h.jsx("option",{value:"qty",children:"Quantity"}),h.jsx("option",{value:"supplier",children:"Supplier"}),h.jsx("option",{value:"sku",children:"Material / SKU"})]})]},P)),g.qty!==-1&&h.jsx("th",{className:"p-2 border-b dark:border-gray-700 w-[100px] bg-blue-50 dark:bg-blue-900/10",children:h.jsx("div",{className:"mb-2 text-blue-600",children:"Detected Qty"})})]})}),h.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:f.map((O,P)=>h.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[O.map((C,A)=>h.jsx("td",{className:`p-2 font-mono truncate max-w-[150px] ${Object.values(g).includes(A)?"font-bold text-gray-800 dark:text-white":"text-gray-400"}`,children:C},A)),g.qty!==-1&&h.jsx("td",{className:"p-2 font-mono font-bold text-blue-600 bg-blue-50/50",children:O[g.qty]?j(O[g.qty]).toLocaleString():"-"})]},P))})]})}),h.jsx("p",{className:"text-xs text-red-500",children:"* Required Fields"})]});return h.jsxs(Mt,{open:e,onClose:t,className:"relative z-50",children:[h.jsx("div",{className:"fixed inset-0 bg-black/30","aria-hidden":"true"}),h.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:h.jsxs(Mt.Panel,{className:"w-full max-w-4xl bg-white dark:bg-gray-900 rounded-2xl shadow-xl overflow-hidden flex flex-col max-h-[90vh]",children:[h.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800/50",children:[h.jsxs(Mt.Title,{className:"text-lg font-bold flex items-center gap-2 text-gray-900 dark:text-white",children:[h.jsx(j6,{className:"w-5 h-5 text-blue-600"}),"Import Purchase Orders"]}),h.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:h.jsx(Xs,{className:"w-6 h-6"})})]}),h.jsxs("div",{className:"p-6 overflow-y-auto flex-1",children:[s===1&&E(),s===2&&D()]}),h.jsxs("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-800/50 border-t border-gray-200 dark:border-gray-700 flex justify-end space-x-3",children:[s===2&&h.jsx("button",{onClick:()=>l(1),className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:"Back"}),h.jsx("button",{onClick:S,disabled:u.trim().length===0||s===2&&(g.po===-1||g.date===-1),className:"px-6 py-2 bg-blue-600 text-white font-bold rounded-lg shadow hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:s===1?"Next: Map Columns":`Import ${y(u).length} Orders`})]})]})})]})}function _V({isOpen:e,onClose:t,mrpResults:r}){const{poManifest:n}=na(),a=r||{},{activeSku:s}=ra(),[l,u]=x.useState({start:"",end:""}),[d,f]=x.useState("new"),m=x.useRef(!1),g=x.useMemo(()=>{const O=[];return Object.entries(n).sort().forEach(([P,C])=>{C.items.forEach(A=>{O.push({...A,date:P})})}),O},[n]),v=x.useMemo(()=>g.filter(O=>new Date(O.date)>=new Date().setHours(0,0,0,0)),[g]);x.useEffect(()=>{if(e&&a?.trucksToCancel>0&&y.size===0){const P=v.filter(C=>C.status==="confirmed").sort((C,A)=>new Date(A.date)-new Date(C.date)).slice(0,a.trucksToCancel);if(P.length>0){const C=new Set(P.map(A=>A.po+A.date));m.current=!0,S(C),f("cancel"),setTimeout(()=>m.current=!1,500)}}},[e,a?.trucksToCancel]);const[y,S]=x.useState(new Set);x.useEffect(()=>{e||(S(new Set),m.current=!1)},[e]);const k=O=>{const P=new Set(y);P.has(O)?P.delete(O):P.add(O),S(P)},_=()=>{const O=v.filter(R=>y.has(R.po+R.date));if(O.length===0)return"";const P=O.map((R,M)=>{const I=R.status==="cancelled"?"[CANCEL] ":"",z=R.time?` @ ${iu(R.time)}`:" @ TBD";return`${M+1}. ${I}PO #${R.po}: ${R.date}${z} (1 Truck)`}).join(`
`),C=`${O.length} Truck${O.length!==1?"s":""}`;return(N[d]||N.new).body(P,C)},j=()=>{y.size===v.length?S(new Set):S(new Set(v.map(O=>O.po+O.date)))},N={new:{subject:(O,P)=>`New Orders for Approval - ${s}`,body:(O,P)=>`Hello Team,

Please confirm the following NEW orders for ${s}:

${O}

Total: ${P}

Please configure delivery appointments for each.

Thanks,
Planner`},add:{subject:(O,P)=>`URGENT: ADD to Schedule (Week of ${P.start}) - ${s}`,body:(O,P)=>`Hello Team,

Please ADD the following loads to our existing schedule for ${s}:

${O}

Total: ${P}

This is an addition to the already confirmed plan.

Thanks,
Planner`},cancel:{subject:(O,P)=>`URGENT: CANCELLATION REQUEST - ${O} Orders - ${s}`,body:(O,P)=>`Hello Team,

Please CANCEL the following purchase orders immediately:

${O}

Total: ${P}

Please confirm cancellation.

Thanks,
Planner`}};x.useEffect(()=>{if(y.size===0||m.current)return;const O=v.filter(R=>y.has(R.po+R.date));if(O.some(R=>R.status==="cancelled")){f("cancel");return}const C=new Set(O.map(R=>R.date)),A=g.some(R=>C.has(R.date)&&!y.has(R.po+R.date)&&R.status==="confirmed");f(A?"add":"new")},[y,v,g]);const E=()=>{const O=v.filter(C=>y.has(C.po+C.date));return(N[d]||N.new).subject(O.length,{start:O[0]?.date||"..."})},D=()=>{const O=`Subject: ${E()}

${_()}`;navigator.clipboard.writeText(O),alert("Email copied to clipboard!")};return h.jsxs(Mt,{open:e,onClose:t,className:"relative z-50",children:[h.jsx("div",{className:"fixed inset-0 bg-black/30","aria-hidden":"true"}),h.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:h.jsxs(Mt.Panel,{className:"w-full max-w-5xl bg-white dark:bg-gray-900 rounded-2xl shadow-xl overflow-hidden flex flex-col max-h-[90vh]",children:[h.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800/50",children:[h.jsxs(Mt.Title,{className:"text-lg font-bold flex items-center gap-2 text-gray-900 dark:text-white",children:[h.jsx(H5,{className:"w-5 h-5 text-indigo-600"}),"Email Supplier"]}),h.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:h.jsx(Xs,{className:"w-6 h-6"})})]}),h.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-6 py-3 flex items-center gap-4",children:[h.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:"Email Type:"}),h.jsx("div",{className:"flex gap-2",children:["new","add","cancel"].map(O=>h.jsx("button",{onClick:()=>f(O),className:`px-3 py-1 rounded-full text-xs font-bold capitalize transition-colors ${d===O?"bg-blue-600 text-white shadow-sm":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 border border-gray-200 dark:border-gray-600 hover:bg-gray-50"}`,children:O==="new"?"New Orders":O==="add"?"Add to Schedule":"Cancellation"},O))})]}),h.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[h.jsxs("div",{className:"w-1/2 border-r border-gray-200 dark:border-gray-700 flex flex-col",children:[h.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800/30 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[h.jsx("h3",{className:"text-xs font-bold uppercase text-gray-500",children:"Available Orders"}),h.jsx("button",{onClick:j,className:"text-xs text-blue-600 font-bold hover:underline",children:y.size===v.length?"Deselect All":"Select All"})]}),h.jsxs("div",{className:"overflow-y-auto p-2 space-y-2 flex-1",children:[v.length===0&&h.jsx("p",{className:"text-center text-sm text-gray-400 mt-10",children:"No future orders found."}),v.map((O,P)=>{const C=O.po+O.date,A=y.has(C);return h.jsxs("div",{onClick:()=>k(C),className:`p-3 rounded-lg border cursor-pointer transition-all flex justify-between items-center ${A?"bg-indigo-50 border-indigo-200 dark:bg-indigo-900/30 dark:border-indigo-700":"bg-white border-gray-100 hover:border-gray-300 dark:bg-gray-800 dark:border-gray-700"}`,children:[h.jsxs("div",{children:[h.jsxs("div",{className:"font-bold text-sm text-gray-800 dark:text-gray-200",children:["PO #",O.po]}),h.jsxs("div",{className:"text-xs text-gray-500",children:[O.date,"  ",O.qty?O.qty.toLocaleString():"-"," units"]})]}),A&&h.jsx("div",{className:"w-4 h-4 bg-indigo-600 rounded-full flex items-center justify-center text-white text-[10px]",children:""})]},P)})]})]}),h.jsxs("div",{className:"w-1/2 flex flex-col bg-gray-50 dark:bg-gray-900/50",children:[h.jsx("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700",children:h.jsx("h3",{className:"text-xs font-bold uppercase text-gray-500",children:"Email Preview"})}),h.jsx("div",{className:"flex-1 p-4",children:h.jsx("textarea",{className:"w-full h-full p-4 text-sm font-mono border rounded-lg resize-none focus:ring-2 focus:ring-indigo-500 bg-white dark:bg-gray-800 dark:border-gray-700 dark:text-gray-300",value:_(),readOnly:!0})}),h.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 flex justify-end",children:h.jsxs("button",{onClick:D,className:"flex items-center gap-2 bg-indigo-600 hover:bg-indigo-500 text-white px-4 py-2 rounded-lg font-bold shadow-sm transition-all active:scale-95",children:[h.jsx(jy,{className:"w-4 h-4"}),"Copy to Clipboard"]})})]})]})]})})]})}function SV({isOpen:e,onClose:t}){const{poManifest:r}=na(),n=x.useMemo(()=>{const k=[];return Object.entries(r).forEach(([_,j])=>{j.items.forEach(N=>{k.push({...N,date:_})})}),k.sort((_,j)=>_.date.localeCompare(j.date))},[r]),a=n.filter(k=>new Date(k.date)>=new Date().setHours(0,0,0,0)),[s,l]=x.useState(`YMS_Import_${new Date().toISOString().slice(0,10)}`),[u,d]=x.useState(!0),f=[{id:"date",label:"Expected Arrival Date"},{id:"po",label:"PO Number"},{id:"qty",label:"Quantity"},{id:"supplier",label:"Supplier Name"},{id:"status",label:"Status"},{id:"carrier",label:"Carrier (Empty)"},{id:"trailer_type",label:"Trailer Type (Dry Van)"}],[m,g]=x.useState(f.map(k=>k.id)),v=k=>{m.includes(k)?g(_=>_.filter(j=>j!==k)):g(_=>[..._,k])},y=()=>{const k=[];return u&&k.push(m.map(_=>{const j=f.find(N=>N.id===_);return j?j.label:_}).join(",")),a.forEach(_=>{const j=m.map(N=>{switch(N){case"carrier":return"";case"trailer_type":return"Dry Van";case"qty":return _.qty||0;default:return _[N]||""}});k.push(j.join(","))}),k.join(`
`)},S=()=>{const k=y(),_=new Blob([k],{type:"text/csv;charset=utf-8;"}),j=document.createElement("a");if(j.download!==void 0){const N=URL.createObjectURL(_);j.setAttribute("href",N),j.setAttribute("download",`${s}.csv`),j.style.visibility="hidden",document.body.appendChild(j),j.click(),document.body.removeChild(j)}t()};return h.jsxs(Mt,{open:e,onClose:t,className:"relative z-50",children:[h.jsx("div",{className:"fixed inset-0 bg-black/30","aria-hidden":"true"}),h.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:h.jsxs(Mt.Panel,{className:"w-full max-w-2xl bg-white dark:bg-gray-900 rounded-2xl shadow-xl overflow-hidden flex flex-col",children:[h.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800/50",children:[h.jsxs(Mt.Title,{className:"text-lg font-bold flex items-center gap-2 text-gray-900 dark:text-white",children:[h.jsx(nx,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"}),"Export for YMS"]}),h.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:h.jsx(Xs,{className:"w-6 h-6"})})]}),h.jsxs("div",{className:"p-6 space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Filename"}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("input",{type:"text",value:s,onChange:k=>l(k.target.value),className:"w-full p-2 border rounded-l-lg dark:bg-gray-800 dark:border-gray-600"}),h.jsx("span",{className:"bg-gray-100 dark:bg-gray-700 px-3 py-2 border border-l-0 rounded-r-lg text-gray-500 dark:border-gray-600",children:".csv"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Include Columns"}),h.jsx("div",{className:"grid grid-cols-2 gap-3",children:f.map(k=>h.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer p-2 rounded hover:bg-gray-50 dark:hover:bg-gray-800 border dark:border-gray-700",children:[h.jsx("input",{type:"checkbox",checked:m.includes(k.id),onChange:()=>v(k.id),className:"rounded text-blue-600 focus:ring-blue-500"}),h.jsx("span",{className:"text-sm font-medium dark:text-gray-200",children:k.label})]},k.id))})]}),h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("span",{className:"text-sm font-medium dark:text-gray-300",children:"Include Headers?"}),h.jsx(lV,{checked:u,onChange:d,className:`${u?"bg-blue-600":"bg-gray-200"} relative inline-flex h-6 w-11 items-center rounded-full transition-colors`,children:h.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition ${u?"translate-x-6":"translate-x-1"}`})})]}),h.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-2 rounded text-xs font-mono text-gray-500 overflow-x-auto whitespace-pre",children:[u&&m.map(k=>f.find(_=>_.id===k)?.label).join(","),`
`,n.length>0&&m.map(k=>k==="carrier"?'""':n[0][k]||'""').join(","),n.length===0&&"(No data to export)","..."]})]}),h.jsx("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-800/50 border-t border-gray-200 dark:border-gray-700 flex justify-end",children:h.jsx("button",{onClick:S,disabled:n.length===0,className:"px-6 py-2 bg-gray-900 dark:bg-white dark:text-gray-900 text-white font-bold rounded-lg shadow hover:opacity-90 transition-all disabled:opacity-50",children:"Download CSV"})})]})})]})}function kV({isOpen:e,onClose:t,order:r,date:n}){const{addOrdersBulk:a,updateOrder:s,moveOrder:l}=na(),{productMap:u}=yr(),d=Object.keys(u),[f,m]=x.useState({po:"",date:"",qty:"",supplier:"",carrier:"",sku:""});x.useEffect(()=>{e&&m(r?{po:r.po,date:n||r.date,time:r.time||"",qty:r.qty,supplier:r.supplier,carrier:r.carrier||"",sku:r.sku||""}:{po:"",date:n||new Date().toISOString().split("T")[0],time:"",qty:"",supplier:"",carrier:"",sku:""})},[e,r,n]);const g=()=>{if(!f.po||!f.date||!f.qty){alert("PO, Date, and Quantity are required.");return}const v={id:r?.id||crypto.randomUUID(),po:f.po,date:f.date,time:f.time,qty:Number(f.qty),supplier:f.supplier||"Unknown",carrier:f.carrier,sku:f.sku};r?f.date!==r.date?l(r.date,f.date,v):s(f.date,v):a([v]),t()};return h.jsxs(Mt,{open:e,onClose:t,className:"relative z-50",children:[h.jsx("div",{className:"fixed inset-0 bg-black/30","aria-hidden":"true"}),h.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:h.jsxs(Mt.Panel,{className:"w-full max-w-md bg-white dark:bg-gray-800 rounded-xl shadow-xl overflow-hidden",children:[h.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center",children:[h.jsx(Mt.Title,{className:"text-lg font-bold text-gray-900 dark:text-white",children:r?"Edit Order":"New Purchase Order"}),h.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500",children:h.jsx(Xs,{className:"w-5 h-5"})})]}),h.jsxs("div",{className:"p-6 space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Material / SKU"}),h.jsxs("select",{className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:f.sku,onChange:v=>m({...f,sku:v.target.value}),children:[h.jsx("option",{value:"",children:"-- Any / All --"}),d.map(v=>h.jsx("option",{value:v,children:v},v))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"PO Number"}),h.jsx("input",{type:"text",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:f.po,onChange:v=>m({...f,po:v.target.value}),autoFocus:!0})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Delivery Date"}),h.jsxs("div",{className:"relative",children:[h.jsx(T6,{className:"absolute left-2 top-2.5 w-4 h-4 text-gray-400"}),h.jsx("input",{type:"date",className:"w-full pl-8 p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:f.date,onChange:v=>m({...f,date:v.target.value})})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Time (Hour)"}),h.jsxs("select",{className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:f.time,onChange:v=>m({...f,time:v.target.value}),children:[h.jsx("option",{value:"",children:"-- TBD --"}),Array.from({length:24}).map((v,y)=>{const S=`${String(y).padStart(2,"0")}:00`,k=y>=12?"PM":"AM",j=`${y%12||12}:00 ${k}`;return h.jsx("option",{value:S,children:j},S)})]})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Quantity"}),h.jsx("input",{type:"number",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:f.qty,onChange:v=>m({...f,qty:v.target.value})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Supplier"}),h.jsx("input",{type:"text",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:f.supplier,onChange:v=>m({...f,supplier:v.target.value})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Carrier (Optional)"}),h.jsxs("div",{className:"relative",children:[h.jsx(gn,{className:"absolute left-2 top-2.5 w-4 h-4 text-gray-400"}),h.jsx("input",{type:"text",className:"w-full pl-8 p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:f.carrier,onChange:v=>m({...f,carrier:v.target.value})})]})]})]}),h.jsxs("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-700/50 flex justify-end gap-2",children:[h.jsx("button",{onClick:t,className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800",children:"Cancel"}),h.jsx("button",{onClick:g,className:"px-4 py-2 bg-blue-600 text-white text-sm font-bold rounded hover:bg-blue-500",children:"Save Order"})]})]})})]})}function jV({isOpen:e,onClose:t}){const{poManifest:r,deleteOrdersBulk:n,bulkUpdateOrders:a}=na(),{productMap:s}=yr(),[l,u]=x.useState(""),[d,f]=x.useState(new Set),[m,g]=x.useState(!1),[v,y]=x.useState(null),S=M=>{y(M),g(!0)},k=()=>{y(null),g(!0)},_=x.useMemo(()=>{const M=[];return Object.entries(r).forEach(([I,z])=>{z.items&&z.items.forEach(q=>{M.push({...q,date:I})})}),M.sort((I,z)=>{const q=new Date(z.date)-new Date(I.date);if(q!==0)return q;const te=ue=>{if(!ue||ue==="00:00")return 99999;const[B,H]=ue.split(":").map(Number);return B*60+(H||0)};return te(I.time)-te(z.time)})},[r]),j=x.useMemo(()=>{if(!l)return _;const M=l.toLowerCase();return _.filter(I=>(I.po||"").toLowerCase().includes(M)||(I.supplier||"").toLowerCase().includes(M)||(I.date||"").includes(M))},[_,l]),N=M=>{const I=new Set(d);I.has(M)?I.delete(M):I.add(M),f(I)},E=()=>{if(d.size===j.length&&j.length>0)f(new Set);else{const M=new Set;j.forEach(I=>M.add(I.id)),f(M)}},[D,O]=x.useState(null),P=()=>{d.size!==0&&O({title:`Delete ${d.size} Orders?`,message:`Are you sure you want to PERMANENTLY delete ${d.size} selected orders? This action cannot be undone.`,type:"danger",onConfirm:()=>{const M=_.filter(I=>d.has(I.id));n(M),f(new Set),O(null)}})},C=M=>{if(!M||d.size===0||!confirm(`Set SKU to "${M}" for ${d.size} orders?`))return;const I=_.filter(z=>d.has(z.id)).map(z=>({...z,sku:M}));a(I),f(new Set)},A=M=>{const I=parseInt(M);if(isNaN(I)||I<2e3||I>2100){alert("Invalid Year");return}if(!confirm(`Update YEAR to "${I}" for ${d.size} orders? (Month/Day will be preserved)`))return;const z=_.filter(q=>d.has(q.id)).map(q=>{const te=q.date.split("-");if(te.length!==3)return q;const ue=`${I}-${te[1]}-${te[2]}`;return{...q,date:ue}});a(z),f(new Set)},R=M=>{if(!confirm(`Update status to "${M.toUpperCase()}" for ${d.size} orders?`))return;const I=_.filter(z=>d.has(z.id)).map(z=>({...z,status:M}));a(I),f(new Set)};return h.jsxs(Mt,{open:e,onClose:t,className:"relative z-50",children:[h.jsx("div",{className:"fixed inset-0 bg-black/50","aria-hidden":"true"}),h.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:h.jsxs(Mt.Panel,{className:"w-full max-w-5xl h-[80vh] bg-white dark:bg-gray-900 rounded-2xl shadow-2xl flex flex-col overflow-hidden",children:[h.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"bg-purple-100 dark:bg-purple-900 p-2 rounded-lg",children:h.jsx(G5,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),h.jsxs("div",{children:[h.jsx(Mt.Title,{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Global Procurement Manager"}),h.jsx("p",{className:"text-sm text-gray-500",children:"Manage all Inbound Orders across all dates."})]}),D&&h.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/20 backdrop-blur-sm p-4 animate-fadeIn",children:h.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700 p-6 w-full max-w-sm flex flex-col items-center text-center transform transition-all scale-100",children:[h.jsx("div",{className:`p-4 rounded-full mb-4 ${D.type==="danger"?"bg-red-100 text-red-600":"bg-blue-100 text-blue-600"}`,children:D.type==="danger"?h.jsx(ga,{className:"w-8 h-8"}):h.jsx(fa,{className:"w-8 h-8"})}),h.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:D.title}),h.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6 leading-relaxed",children:D.message}),h.jsxs("div",{className:"flex gap-3 w-full",children:[h.jsx("button",{onClick:()=>O(null),className:"flex-1 px-4 py-2 rounded-lg border border-gray-300 text-gray-700 font-bold hover:bg-gray-50 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),h.jsx("button",{onClick:()=>D.onConfirm(),className:`flex-1 px-4 py-2 rounded-lg text-white font-bold shadow-lg transition-transform hover:scale-105 ${D.type==="danger"?"bg-red-600 hover:bg-red-700 shadow-red-500/30":"bg-emerald-600 hover:bg-emerald-700 shadow-emerald-500/30"}`,children:"Confirm"})]})]})})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("button",{onClick:k,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white hover:bg-blue-500 rounded-lg font-bold transition-colors shadow-sm",children:[h.jsx(d0,{className:"w-5 h-5"}),"New Order"]}),h.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 ml-4",children:h.jsx(Xs,{className:"w-6 h-6"})})]})]}),h.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex flex-col md:flex-row gap-4 items-center justify-between",children:[h.jsxs("div",{className:"relative w-full max-w-md",children:[h.jsx(J6,{className:"absolute left-3 top-2.5 w-5 h-5 text-gray-400"}),h.jsx("input",{type:"text",placeholder:"Search PO, Supplier, or Date...",className:"w-full pl-10 pr-4 py-2 border rounded-lg dark:bg-gray-800 dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none",value:l,onChange:M=>u(M.target.value)})]}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("span",{className:"text-sm text-gray-500",children:[d.size," selected"]}),d.size>0&&h.jsx("div",{className:"flex items-center gap-2",children:h.jsxs("div",{className:"relative group",children:[h.jsx("button",{className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-sm font-bold shadow-sm hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",children:"Bulk Actions"}),h.jsx("div",{className:"absolute top-full left-0 pt-2 w-48 z-50 hidden group-hover:block",children:h.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:h.jsxs("div",{className:"p-2",children:[h.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase px-2 py-1",children:"Set Status"}),h.jsxs("button",{onClick:()=>R("received"),className:"w-full text-left px-2 py-2 hover:bg-emerald-50 dark:hover:bg-emerald-900/30 rounded text-sm text-emerald-700 dark:text-emerald-400 font-bold flex items-center gap-2",children:[h.jsx("span",{children:""})," Mark as Received"]}),h.jsx("button",{onClick:()=>R("confirmed"),className:"w-full text-left px-2 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded text-sm text-blue-700 dark:text-blue-400 font-bold",children:"Mark as Confirmed"}),h.jsx("button",{onClick:()=>R("ordered"),className:"w-full text-left px-2 py-2 hover:bg-yellow-50 dark:hover:bg-yellow-900/30 rounded text-sm text-yellow-700 dark:text-yellow-400",children:"Mark as Ordered"}),h.jsx("button",{onClick:()=>R("cancelled"),className:"w-full text-left px-2 py-2 hover:bg-red-50 dark:hover:bg-red-900/30 rounded text-sm text-red-600 dark:text-red-400 font-bold",children:"Mark for Cancellation"}),h.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700 my-1"}),h.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase px-2 py-1",children:"Set properties"}),h.jsx("button",{onClick:()=>{const M=prompt("Enter Target Year (e.g. 2025):",new Date().getFullYear());M&&A(M)},className:"w-full text-left px-2 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded text-sm text-gray-700 dark:text-gray-200",children:"Set Year..."}),h.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700 my-1"}),h.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase px-2 py-1",children:"Assign SKU"}),Object.keys(s).map(M=>h.jsx("button",{onClick:()=>C(M),className:"w-full text-left px-2 py-1.5 hover:bg-purple-50 dark:hover:bg-purple-900/30 rounded text-sm text-gray-700 dark:text-gray-200",children:M},M))]})})})]})}),h.jsxs("button",{onClick:P,disabled:d.size===0,className:"flex items-center gap-2 px-4 py-2 bg-red-50 text-red-600 hover:bg-red-100 rounded-lg font-bold disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[h.jsx(ga,{className:"w-5 h-5"}),"Delete"]})]})]}),h.jsx("div",{className:"flex-1 overflow-auto",children:h.jsxs("table",{className:"w-full text-left border-collapse",children:[h.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800 sticky top-0 z-10 shadow-sm",children:h.jsxs("tr",{children:[h.jsx("th",{className:"p-4 w-12 border-b dark:border-gray-700",children:h.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500",checked:j.length>0&&d.size===j.length,onChange:E})}),h.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase border-b dark:border-gray-700",children:"Date"}),h.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase border-b dark:border-gray-700",children:"Time"}),h.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase border-b dark:border-gray-700",children:"PO Number"}),h.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase border-b dark:border-gray-700",children:"SKU"}),h.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase border-b dark:border-gray-700",children:"Supplier"}),h.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase border-b dark:border-gray-700",children:"Trucks"}),h.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase border-b dark:border-gray-700",children:"Carrier"}),h.jsx("th",{className:"p-4 w-12 border-b dark:border-gray-700"})]})}),h.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700 bg-white dark:bg-gray-900",children:j.length===0?h.jsx("tr",{children:h.jsx("td",{colSpan:"7",className:"p-10 text-center text-gray-400 italic",children:"No orders found matching your search."})}):j.map(M=>h.jsxs("tr",{className:`hover:bg-blue-50 dark:hover:bg-gray-800 transition-colors ${d.has(M.id)?"bg-blue-50 dark:bg-blue-900/20":""}`,children:[h.jsx("td",{className:"p-4",children:h.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500",checked:d.has(M.id),onChange:()=>N(M.id)})}),h.jsx("td",{className:"p-4 text-sm font-medium text-gray-900 dark:text-white text-nowrap",children:new Date(M.date+"T00:00:00").toLocaleDateString()}),h.jsx("td",{className:"p-4 text-sm text-gray-500 dark:text-gray-400 font-mono",children:M.time&&M.time!=="00:00"?iu(M.time):"-"}),h.jsx("td",{className:"p-4 text-sm font-mono text-gray-600 dark:text-gray-300",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:`font-mono ${M.status==="received"?"line-through text-gray-400":"text-gray-600 dark:text-gray-300"}`,children:M.po}),M.status==="received"&&h.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] font-bold bg-emerald-100 text-emerald-800 border border-emerald-200 uppercase tracking-wide",children:"RCVD"})]})}),h.jsx("td",{className:"p-4",children:M.sku?h.jsx("span",{className:"px-2 py-1 bg-purple-100 dark:bg-purple-900 text-purple-700 dark:text-purple-300 rounded text-xs font-bold",children:M.sku}):h.jsx("span",{className:"text-gray-400 text-xs italic",children:"Any"})}),h.jsx("td",{className:"p-4 text-sm text-gray-600 dark:text-gray-300",children:M.supplier}),h.jsx("td",{className:"p-4",children:h.jsx("span",{className:"px-2 py-0.5 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded text-xs font-bold",children:"1 Truck"})}),h.jsx("td",{className:"p-4 text-sm text-gray-500 dark:text-gray-400",children:M.carrier||"-"}),h.jsxs("td",{className:"p-4",children:[M.status!=="received"&&h.jsx("button",{onClick:()=>{confirm("Mark this order as Received?")&&a([{...M,status:"received"}])},className:"p-1 text-gray-400 hover:text-emerald-600 transition-colors mr-1",title:"Mark Received",children:""}),h.jsx("button",{onClick:()=>S(M),className:"p-1 text-gray-400 hover:text-blue-600 transition-colors",title:"Edit Order",children:h.jsx(Qc,{className:"w-5 h-5"})})]})]},M.id))})]})}),h.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 text-xs text-gray-500 border-t border-gray-200 dark:border-gray-700 flex justify-between",children:[h.jsxs("span",{children:["Showing ",j.length," of ",_.length," orders"]}),h.jsx("span",{className:"text-gray-400",children:"Press Shift to select range (coming soon)"})]})]})}),h.jsx(kV,{isOpen:m,onClose:()=>g(!1),order:v})]})}function EV({selectedSize:e,setSelectedSize:t,floorCount:r,setFloorCount:n,yardCount:a,setYardCount:s,yardUnit:l,setYardUnit:u,sizes:d,palletsPerTruck:f}){return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-4 rounded-lg border border-purple-100 dark:border-purple-800",children:[h.jsx("h3",{className:"font-bold text-purple-900 dark:text-purple-300 mb-1",children:"Morning Inventory Count"}),h.jsxs("p",{className:"text-sm text-purple-700 dark:text-purple-400",children:["What is physically on the floor and in the yard ",h.jsx("strong",{children:"right now"}),"?"]})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg border border-gray-200 dark:border-gray-700",children:[h.jsx("label",{className:"block text-xs uppercase font-bold text-gray-500 mb-2",children:"Select Product"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:d.map(m=>h.jsx("button",{onClick:()=>t(m),className:`px-3 py-1.5 rounded-md text-sm font-bold transition-colors ${e===m?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:m},m))})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:"Floor Count (Pallets)"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(ah,{className:"h-5 w-5 text-gray-400"})}),h.jsx("input",{type:"number",autoFocus:!0,value:r,onChange:m=>n(m.target.value),className:"w-full pl-10 pr-4 py-3 text-xl font-bold border rounded-lg shadow-sm focus:ring-2 focus:ring-purple-500 dark:bg-gray-800 dark:text-white dark:border-gray-600"})]}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Count all finished goods on the floor."})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between items-center mb-2",children:[h.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300",children:"Yard Count"}),h.jsxs("div",{className:"flex bg-gray-200 dark:bg-gray-700 rounded-md p-0.5",children:[h.jsx("button",{onClick:()=>u("loads"),className:`px-2 py-0.5 text-xs font-bold rounded-sm ${l==="loads"?"bg-white text-blue-600 shadow-sm":"text-gray-500"}`,children:"Loads"}),h.jsx("button",{onClick:()=>u("pallets"),className:`px-2 py-0.5 text-xs font-bold rounded-sm ${l==="pallets"?"bg-white text-blue-600 shadow-sm":"text-gray-500"}`,children:"Pallets"})]})]}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(gn,{className:"h-5 w-5 text-gray-400"})}),h.jsx("input",{type:"number",value:l==="loads"?a:a===""?"":Math.round(a*f),onChange:m=>{const g=m.target.value===""?"":Number(m.target.value);s(l==="loads"?g:g===""?"":g/f)},className:"w-full pl-10 pr-4 py-3 text-xl font-bold border rounded-lg shadow-sm focus:ring-2 focus:ring-purple-500 dark:bg-gray-800 dark:text-white dark:border-gray-600"})]}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:l==="loads"?"Number of fully loaded trailers.":`Total pallets (~${Math.round(f)} per load).`})]})]})]})}function WC({isOpen:e,onClose:t,state:r,setters:n}){const{productMap:a}=yr(),s=Object.keys(a),l=a[r.selectedSize],u=l?.bottlesPerTruck||2e4,d=(l?.bottlesPerCase||12)*(l?.casesPerPallet||100),f=u/d,[m,g]=x.useState(1),[v,y]=x.useState(""),[S,k]=x.useState(""),[_,j]=x.useState("loads");x.useEffect(()=>{e&&(y(r.inventoryAnchor?.count||0),k(r.yardInventory?.effectiveCount||0),g(1))},[e,r.inventoryAnchor,r.yardInventory]);const N=()=>{const D=Wr();n.setInventoryAnchor({date:D,count:Number(v)}),n.updateYardInventory(Number(S)),t()},E=()=>h.jsxs("div",{className:"text-center py-6 space-y-6",children:[h.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100 dark:bg-green-900/30",children:h.jsx(fa,{className:"h-10 w-10 text-green-600 dark:text-green-400"})}),h.jsxs("div",{children:[h.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:["Ready to Update ",r.selectedSize,"?"]}),h.jsxs("p",{className:"text-gray-500 dark:text-gray-400 mt-2 max-w-sm mx-auto",children:["The system will reset the ",h.jsx("strong",{children:r.selectedSize})," inventory baseline to ",h.jsxs("strong",{children:[v," Pallets"]})," + ",h.jsxs("strong",{children:[S," Loads"]}),"."]})]}),h.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700 max-w-sm mx-auto text-left text-sm space-y-2",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-gray-500",children:"New Floor Count:"}),h.jsxs("span",{className:"font-mono font-bold",children:[v," plts"]})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-gray-500",children:"New Yard Count:"}),h.jsxs("span",{className:"font-mono font-bold",children:[Number(S).toFixed(1)," loads ",h.jsxs("span",{className:"text-gray-400 text-xs",children:["(",Math.round(S*f)," plts)"]})]})]})]})]});return e?h.jsxs("div",{className:"relative z-50","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:[h.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"}),h.jsx("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto",children:h.jsx("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:h.jsxs("div",{className:"relative transform overflow-hidden rounded-lg bg-white dark:bg-gray-900 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg border dark:border-gray-700 p-6",children:[h.jsxs("div",{className:"sm:flex sm:items-start mb-6",children:[h.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-blue-100 dark:bg-blue-900/30 sm:mx-0 sm:h-10 sm:w-10",children:h.jsx(sx,{className:"h-6 w-6 text-blue-600 dark:text-blue-400","aria-hidden":"true"})}),h.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[h.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 dark:text-white",id:"modal-title",children:"Morning True-Up"}),h.jsx("div",{className:"mt-2 text-left",children:h.jsxs("div",{className:"flex items-center space-x-2 text-xs font-medium text-gray-400",children:[h.jsx("span",{className:`${m===1?"text-blue-600 dark:text-blue-400":""}`,children:"1. Inventory"}),h.jsx("span",{children:""}),h.jsx("span",{className:`${m===2?"text-blue-600 dark:text-blue-400":""}`,children:"2. Confirm"})]})})]})]}),h.jsxs("div",{className:"mt-2",children:[m===1&&h.jsx(EV,{selectedSize:r.selectedSize,setSelectedSize:n.setSelectedSize,floorCount:v,setFloorCount:y,yardCount:S,setYardCount:k,yardUnit:_,setYardUnit:j,sizes:s,palletsPerTruck:f}),m===2&&E()]}),h.jsxs("div",{className:"mt-8 sm:mt-6 sm:grid sm:grid-flow-row-dense sm:grid-cols-2 sm:gap-3",children:[m<2?h.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:col-start-2 sm:text-sm",onClick:()=>g(D=>D+1),children:"Next Step"}):h.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-green-600 text-base font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 sm:col-start-2 sm:text-sm",onClick:N,children:"Update Plan"}),m>1?h.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 dark:border-gray-600 shadow-sm px-4 py-2 bg-white dark:bg-gray-800 text-base font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:col-start-1 sm:mt-0 sm:text-sm",onClick:()=>g(D=>D-1),children:"Back"}):h.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 dark:border-gray-600 shadow-sm px-4 py-2 bg-white dark:bg-gray-800 text-base font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:col-start-1 sm:mt-0 sm:text-sm",onClick:t,children:"Cancel"})]})]})})})]}):null}var NV=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Mx(e){if(typeof e!="string")return!1;var t=NV;return t.includes(e)}var OV=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],AV=new Set(OV);function XC(e){return typeof e!="string"?!1:AV.has(e)}function JC(e){return typeof e=="string"&&e.startsWith("data-")}function Qn(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(XC(r)||JC(r))&&(t[r]=e[r]);return t}function C0(e){if(e==null)return null;if(x.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Qn(t)}return typeof e=="object"&&!Array.isArray(e)?Qn(e):null}function vn(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(XC(r)||JC(r)||Mx(r))&&(t[r]=e[r]);return t}function TV(e){return e==null?null:x.isValidElement(e)?vn(e.props):typeof e=="object"&&!Array.isArray(e)?vn(e):null}var CV=["children","width","height","viewBox","className","style","title","desc"];function ib(){return ib=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ib.apply(null,arguments)}function PV(e,t){if(e==null)return{};var r,n,a=DV(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function DV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var QC=x.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:s,className:l,style:u,title:d,desc:f}=e,m=PV(e,CV),g=s||{width:n,height:a,x:0,y:0},v=ht("recharts-surface",l);return x.createElement("svg",ib({},vn(m),{className:v,width:n,height:a,style:u,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:t}),x.createElement("title",null,d),x.createElement("desc",null,f),r)}),RV=["children","className"];function sb(){return sb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sb.apply(null,arguments)}function MV(e,t){if(e==null)return{};var r,n,a=$V(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function $V(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ea=x.forwardRef((e,t)=>{var{children:r,className:n}=e,a=MV(e,RV),s=ht("recharts-layer",n);return x.createElement("g",sb({className:s},vn(a),{ref:t}),r)}),IV=x.createContext(null);function Tt(e){return function(){return e}}const ob=Math.PI,lb=2*ob,Ns=1e-6,LV=lb-Ns;function eP(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function zV(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return eP;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class UV{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?eP:zV(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,l){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+l}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,u=this._y1,d=n-t,f=a-r,m=l-t,g=u-r,v=m*m+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(v>Ns)if(!(Math.abs(g*d-f*m)>Ns)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let y=n-l,S=a-u,k=d*d+f*f,_=y*y+S*S,j=Math.sqrt(k),N=Math.sqrt(v),E=s*Math.tan((ob-Math.acos((k+v-_)/(2*j*N)))/2),D=E/N,O=E/j;Math.abs(D-1)>Ns&&this._append`L${t+D*m},${r+D*g}`,this._append`A${s},${s},0,0,${+(g*y>m*S)},${this._x1=t+O*d},${this._y1=r+O*f}`}}arc(t,r,n,a,s,l){if(t=+t,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(a),d=n*Math.sin(a),f=t+u,m=r+d,g=1^l,v=l?a-s:s-a;this._x1===null?this._append`M${f},${m}`:(Math.abs(this._x1-f)>Ns||Math.abs(this._y1-m)>Ns)&&this._append`L${f},${m}`,n&&(v<0&&(v=v%lb+lb),v>LV?this._append`A${n},${n},0,1,${g},${t-u},${r-d}A${n},${n},0,1,${g},${this._x1=f},${this._y1=m}`:v>Ns&&this._append`A${n},${n},0,${+(v>=ob)},${g},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function tP(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new UV(t)}function $x(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function rP(e){this._context=e}rP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function P0(e){return new rP(e)}function nP(e){return e[0]}function aP(e){return e[1]}function iP(e,t){var r=Tt(!0),n=null,a=P0,s=null,l=tP(u);e=typeof e=="function"?e:e===void 0?nP:Tt(e),t=typeof t=="function"?t:t===void 0?aP:Tt(t);function u(d){var f,m=(d=$x(d)).length,g,v=!1,y;for(n==null&&(s=a(y=l())),f=0;f<=m;++f)!(f<m&&r(g=d[f],f,d))===v&&((v=!v)?s.lineStart():s.lineEnd()),v&&s.point(+e(g,f,d),+t(g,f,d));if(y)return s=null,y+""||null}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:Tt(+d),u):e},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:Tt(+d),u):t},u.defined=function(d){return arguments.length?(r=typeof d=="function"?d:Tt(!!d),u):r},u.curve=function(d){return arguments.length?(a=d,n!=null&&(s=a(n)),u):a},u.context=function(d){return arguments.length?(d==null?n=s=null:s=a(n=d),u):n},u}function Af(e,t,r){var n=null,a=Tt(!0),s=null,l=P0,u=null,d=tP(f);e=typeof e=="function"?e:e===void 0?nP:Tt(+e),t=typeof t=="function"?t:Tt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?aP:Tt(+r);function f(g){var v,y,S,k=(g=$x(g)).length,_,j=!1,N,E=new Array(k),D=new Array(k);for(s==null&&(u=l(N=d())),v=0;v<=k;++v){if(!(v<k&&a(_=g[v],v,g))===j)if(j=!j)y=v,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),S=v-1;S>=y;--S)u.point(E[S],D[S]);u.lineEnd(),u.areaEnd()}j&&(E[v]=+e(_,v,g),D[v]=+t(_,v,g),u.point(n?+n(_,v,g):E[v],r?+r(_,v,g):D[v]))}if(N)return u=null,N+""||null}function m(){return iP().defined(a).curve(l).context(s)}return f.x=function(g){return arguments.length?(e=typeof g=="function"?g:Tt(+g),n=null,f):e},f.x0=function(g){return arguments.length?(e=typeof g=="function"?g:Tt(+g),f):e},f.x1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:Tt(+g),f):n},f.y=function(g){return arguments.length?(t=typeof g=="function"?g:Tt(+g),r=null,f):t},f.y0=function(g){return arguments.length?(t=typeof g=="function"?g:Tt(+g),f):t},f.y1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:Tt(+g),f):r},f.lineX0=f.lineY0=function(){return m().x(e).y(t)},f.lineY1=function(){return m().x(e).y(r)},f.lineX1=function(){return m().x(n).y(t)},f.defined=function(g){return arguments.length?(a=typeof g=="function"?g:Tt(!!g),f):a},f.curve=function(g){return arguments.length?(l=g,s!=null&&(u=l(s)),f):l},f.context=function(g){return arguments.length?(g==null?s=u=null:u=l(s=g),f):s},f}class sP{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function BV(e){return new sP(e,!0)}function qV(e){return new sP(e,!1)}function _h(){}function Sh(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function oP(e){this._context=e}oP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Sh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Sh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function HV(e){return new oP(e)}function lP(e){this._context=e}lP.prototype={areaStart:_h,areaEnd:_h,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Sh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function FV(e){return new lP(e)}function cP(e){this._context=e}cP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Sh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function VV(e){return new cP(e)}function uP(e){this._context=e}uP.prototype={areaStart:_h,areaEnd:_h,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function KV(e){return new uP(e)}function Dj(e){return e<0?-1:1}function Rj(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),l=(r-e._y1)/(a||n<0&&-0),u=(s*a+l*n)/(n+a);return(Dj(s)+Dj(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(u))||0}function Mj(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Wg(e,t,r){var n=e._x0,a=e._y0,s=e._x1,l=e._y1,u=(s-n)/3;e._context.bezierCurveTo(n+u,a+u*t,s-u,l-u*r,s,l)}function kh(e){this._context=e}kh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Wg(this,this._t0,Mj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Wg(this,Mj(this,r=Rj(this,e,t)),r);break;default:Wg(this,this._t0,r=Rj(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function dP(e){this._context=new fP(e)}(dP.prototype=Object.create(kh.prototype)).point=function(e,t){kh.prototype.point.call(this,t,e)};function fP(e){this._context=e}fP.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function ZV(e){return new kh(e)}function GV(e){return new dP(e)}function hP(e){this._context=e}hP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=$j(e),a=$j(t),s=0,l=1;l<r;++s,++l)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function $j(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),l=new Array(r);for(a[0]=0,s[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,l[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,l[t]-=n*l[t-1];for(a[r-1]=l[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(l[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function YV(e){return new hP(e)}function D0(e,t){this._context=e,this._t=t}D0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function WV(e){return new D0(e,.5)}function XV(e){return new D0(e,0)}function JV(e){return new D0(e,1)}function ml(e,t){if((l=e.length)>1)for(var r=1,n,a,s=e[t[0]],l,u=s.length;r<l;++r)for(a=s,s=e[t[r]],n=0;n<u;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function cb(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function QV(e,t){return e[t]}function eK(e){const t=[];return t.key=e,t}function tK(){var e=Tt([]),t=cb,r=ml,n=QV;function a(s){var l=Array.from(e.apply(this,arguments),eK),u,d=l.length,f=-1,m;for(const g of s)for(u=0,++f;u<d;++u)(l[u][f]=[0,+n(g,l[u].key,f,s)]).data=g;for(u=0,m=$x(t(l));u<d;++u)l[m[u]].index=u;return r(l,m),l}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Tt(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:Tt(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?cb:typeof s=="function"?s:Tt(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??ml,a):r},a}function rK(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,l;a<s;++a){for(l=r=0;r<n;++r)l+=e[r][a][1]||0;if(l)for(r=0;r<n;++r)e[r][a][1]/=l}ml(e,t)}}function nK(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var l=0,u=0;l<a;++l)u+=e[l][r][1]||0;n[r][1]+=n[r][0]=-u/2}ml(e,t)}}function aK(e,t){if(!(!((l=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,l;n<s;++n){for(var u=0,d=0,f=0;u<l;++u){for(var m=e[t[u]],g=m[n][1]||0,v=m[n-1][1]||0,y=(g-v)/2,S=0;S<u;++S){var k=e[t[S]],_=k[n][1]||0,j=k[n-1][1]||0;y+=_-j}d+=g,f+=y*g}a[n-1][1]+=a[n-1][0]=r,d&&(r-=f/d)}a[n-1][1]+=a[n-1][0]=r,ml(e,t)}}var Xg={},Jg={},Ij;function iK(){return Ij||(Ij=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(Jg)),Jg}var Qg={},Lj;function mP(){return Lj||(Lj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Qg)),Qg}var ev={},zj;function Ix(){return zj||(zj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(ev)),ev}var tv={},rv={},Uj;function sK(){return Uj||(Uj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(rv)),rv}var Bj;function Lx(){return Bj||(Bj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sK(),r=Ix();function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const s=[],l=a.length;if(l===0)return s;let u=0,d="",f="",m=!1;for(a.charCodeAt(0)===46&&(s.push(""),u++);u<l;){const g=a[u];f?g==="\\"&&u+1<l?(u++,d+=a[u]):g===f?f="":d+=g:m?g==='"'||g==="'"?f=g:g==="]"?(m=!1,s.push(d),d=""):d+=g:g==="["?(m=!0,d&&(s.push(d),d="")):g==="."?d&&(s.push(d),d=""):d+=g,u++}return d&&s.push(d),s}e.toPath=n})(tv)),tv}var qj;function zx(){return qj||(qj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iK(),r=mP(),n=Ix(),a=Lx();function s(u,d,f){if(u==null)return f;switch(typeof d){case"string":{if(t.isUnsafeProperty(d))return f;const m=u[d];return m===void 0?r.isDeepKey(d)?s(u,a.toPath(d),f):f:m}case"number":case"symbol":{typeof d=="number"&&(d=n.toKey(d));const m=u[d];return m===void 0?f:m}default:{if(Array.isArray(d))return l(u,d,f);if(Object.is(d?.valueOf(),-0)?d="-0":d=String(d),t.isUnsafeProperty(d))return f;const m=u[d];return m===void 0?f:m}}}function l(u,d,f){if(d.length===0)return f;let m=u;for(let g=0;g<d.length;g++){if(m==null||t.isUnsafeProperty(d[g]))return f;m=m[d[g]]}return m===void 0?f:m}e.get=s})(Xg)),Xg}var nv,Hj;function oK(){return Hj||(Hj=1,nv=zx().get),nv}var lK=oK();const R0=xa(lK);var Dn=e=>e===0?0:e>0?1:-1,yn=e=>typeof e=="number"&&e!=+e,ti=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Te=e=>(typeof e=="number"||e instanceof Number)&&!yn(e),Mn=e=>Te(e)||typeof e=="string",cK=0,ou=e=>{var t=++cK;return"".concat(e||"").concat(t)},Yi=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Te(t)&&typeof t!="string")return n;var s;if(ti(t)){if(r==null)return n;var l=t.indexOf("%");s=r*parseFloat(t.slice(0,l))/100}else s=+t;return yn(s)&&(s=n),a&&r!=null&&s>r&&(s=r),s},pP=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function da(e,t,r){return Te(e)&&Te(t)?e+r*(t-e):t}function gP(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):R0(n,t))===r)}var gr=e=>e===null||typeof e>"u",Ux=e=>gr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function uK(e){return e!=null}function Nu(){}var vP=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,Bx=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(x.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{Mx(a)&&(n[a]=(s=>r[a](r,s)))}),n},dK=(e,t,r)=>n=>(e(t,r,n),null),fK=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var s=e[a];Mx(a)&&typeof s=="function"&&(n||(n={}),n[a]=dK(s,t,r))}),n};function Fj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fj(Object(r),!0).forEach(function(n){mK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mK(e,t,r){return(t=pK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pK(e){var t=gK(e,"string");return typeof t=="symbol"?t:t+""}function gK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qr(e,t){var r=hK({},e),n=t,a=Object.keys(t),s=a.reduce((l,u)=>(l[u]===void 0&&n[u]!==void 0&&(l[u]=n[u]),l),r);return s}var av={},iv={},Vj;function vK(){return Vj||(Vj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let s=0;s<r.length;s++){const l=r[s],u=n(l);a.has(u)||a.set(u,l)}return Array.from(a.values())}e.uniqBy=t})(iv)),iv}var sv={},Kj;function yP(){return Kj||(Kj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(sv)),sv}var ov={},lv={},cv={},Zj;function yK(){return Zj||(Zj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(cv)),cv}var Gj;function qx(){return Gj||(Gj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yK();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(lv)),lv}var uv={},Yj;function bK(){return Yj||(Yj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(uv)),uv}var Wj;function xK(){return Wj||(Wj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qx(),r=bK();function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(ov)),ov}var dv={},fv={},Xj;function wK(){return Xj||(Xj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zx();function r(n){return function(a){return t.get(a,n)}}e.property=r})(fv)),fv}var hv={},mv={},pv={},gv={},Jj;function bP(){return Jj||(Jj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(gv)),gv}var vv={},Qj;function xP(){return Qj||(Qj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(vv)),vv}var yv={},eE;function wP(){return eE||(eE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(yv)),yv}var tE;function _K(){return tE||(tE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bP(),r=xP(),n=wP();function a(m,g,v){return typeof v!="function"?a(m,g,()=>{}):s(m,g,function y(S,k,_,j,N,E){const D=v(S,k,_,j,N,E);return D!==void 0?!!D:s(S,k,y,E)},new Map)}function s(m,g,v,y){if(g===m)return!0;switch(typeof g){case"object":return l(m,g,v,y);case"function":return Object.keys(g).length>0?s(m,{...g},v,y):n.eq(m,g);default:return t.isObject(m)?typeof g=="string"?g==="":!0:n.eq(m,g)}}function l(m,g,v,y){if(g==null)return!0;if(Array.isArray(g))return d(m,g,v,y);if(g instanceof Map)return u(m,g,v,y);if(g instanceof Set)return f(m,g,v,y);const S=Object.keys(g);if(m==null)return S.length===0;if(S.length===0)return!0;if(y?.has(g))return y.get(g)===m;y?.set(g,m);try{for(let k=0;k<S.length;k++){const _=S[k];if(!r.isPrimitive(m)&&!(_ in m)||g[_]===void 0&&m[_]!==void 0||g[_]===null&&m[_]!==null||!v(m[_],g[_],_,m,g,y))return!1}return!0}finally{y?.delete(g)}}function u(m,g,v,y){if(g.size===0)return!0;if(!(m instanceof Map))return!1;for(const[S,k]of g.entries()){const _=m.get(S);if(v(_,k,S,m,g,y)===!1)return!1}return!0}function d(m,g,v,y){if(g.length===0)return!0;if(!Array.isArray(m))return!1;const S=new Set;for(let k=0;k<g.length;k++){const _=g[k];let j=!1;for(let N=0;N<m.length;N++){if(S.has(N))continue;const E=m[N];let D=!1;if(v(E,_,k,m,g,y)&&(D=!0),D){S.add(N),j=!0;break}}if(!j)return!1}return!0}function f(m,g,v,y){return g.size===0?!0:m instanceof Set?d([...m],[...g],v,y):!1}e.isMatchWith=a,e.isSetMatch=f})(pv)),pv}var rE;function _P(){return rE||(rE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_K();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(mv)),mv}var bv={},xv={},wv={},nE;function SK(){return nE||(nE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(wv)),wv}var _v={},aE;function SP(){return aE||(aE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(_v)),_v}var Sv={},iE;function kP(){return iE||(iE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",s="[object Arguments]",l="[object Symbol]",u="[object Date]",d="[object Map]",f="[object Set]",m="[object Array]",g="[object Function]",v="[object ArrayBuffer]",y="[object Object]",S="[object Error]",k="[object DataView]",_="[object Uint8Array]",j="[object Uint8ClampedArray]",N="[object Uint16Array]",E="[object Uint32Array]",D="[object BigUint64Array]",O="[object Int8Array]",P="[object Int16Array]",C="[object Int32Array]",A="[object BigInt64Array]",R="[object Float32Array]",M="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=v,e.arrayTag=m,e.bigInt64ArrayTag=A,e.bigUint64ArrayTag=D,e.booleanTag=a,e.dataViewTag=k,e.dateTag=u,e.errorTag=S,e.float32ArrayTag=R,e.float64ArrayTag=M,e.functionTag=g,e.int16ArrayTag=P,e.int32ArrayTag=C,e.int8ArrayTag=O,e.mapTag=d,e.numberTag=n,e.objectTag=y,e.regexpTag=t,e.setTag=f,e.stringTag=r,e.symbolTag=l,e.uint16ArrayTag=N,e.uint32ArrayTag=E,e.uint8ArrayTag=_,e.uint8ClampedArrayTag=j})(Sv)),Sv}var kv={},sE;function kK(){return sE||(sE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(kv)),kv}var oE;function jP(){return oE||(oE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SK(),r=SP(),n=kP(),a=xP(),s=kK();function l(m,g){return u(m,void 0,m,new Map,g)}function u(m,g,v,y=new Map,S=void 0){const k=S?.(m,g,v,y);if(k!==void 0)return k;if(a.isPrimitive(m))return m;if(y.has(m))return y.get(m);if(Array.isArray(m)){const _=new Array(m.length);y.set(m,_);for(let j=0;j<m.length;j++)_[j]=u(m[j],j,v,y,S);return Object.hasOwn(m,"index")&&(_.index=m.index),Object.hasOwn(m,"input")&&(_.input=m.input),_}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const _=new RegExp(m.source,m.flags);return _.lastIndex=m.lastIndex,_}if(m instanceof Map){const _=new Map;y.set(m,_);for(const[j,N]of m)_.set(j,u(N,j,v,y,S));return _}if(m instanceof Set){const _=new Set;y.set(m,_);for(const j of m)_.add(u(j,void 0,v,y,S));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(s.isTypedArray(m)){const _=new(Object.getPrototypeOf(m)).constructor(m.length);y.set(m,_);for(let j=0;j<m.length;j++)_[j]=u(m[j],j,v,y,S);return _}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const _=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return y.set(m,_),d(_,m,v,y,S),_}if(typeof File<"u"&&m instanceof File){const _=new File([m],m.name,{type:m.type});return y.set(m,_),d(_,m,v,y,S),_}if(typeof Blob<"u"&&m instanceof Blob){const _=new Blob([m],{type:m.type});return y.set(m,_),d(_,m,v,y,S),_}if(m instanceof Error){const _=new m.constructor;return y.set(m,_),_.message=m.message,_.name=m.name,_.stack=m.stack,_.cause=m.cause,d(_,m,v,y,S),_}if(m instanceof Boolean){const _=new Boolean(m.valueOf());return y.set(m,_),d(_,m,v,y,S),_}if(m instanceof Number){const _=new Number(m.valueOf());return y.set(m,_),d(_,m,v,y,S),_}if(m instanceof String){const _=new String(m.valueOf());return y.set(m,_),d(_,m,v,y,S),_}if(typeof m=="object"&&f(m)){const _=Object.create(Object.getPrototypeOf(m));return y.set(m,_),d(_,m,v,y,S),_}return m}function d(m,g,v=m,y,S){const k=[...Object.keys(g),...t.getSymbols(g)];for(let _=0;_<k.length;_++){const j=k[_],N=Object.getOwnPropertyDescriptor(m,j);(N==null||N.writable)&&(m[j]=u(g[j],j,v,y,S))}}function f(m){switch(r.getTag(m)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=u,e.copyProperties=d})(xv)),xv}var lE;function jK(){return lE||(lE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jP();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(bv)),bv}var cE;function EK(){return cE||(cE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_P(),r=jK();function n(a){return a=r.cloneDeep(a),s=>t.isMatch(s,a)}e.matches=n})(hv)),hv}var jv={},Ev={},Nv={},uE;function NK(){return uE||(uE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jP(),r=kP();function n(a,s){return t.cloneDeepWith(a,(l,u,d,f)=>{const m=s?.(l,u,d,f);if(m!==void 0)return m;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const g=new a.constructor(a?.valueOf());return t.copyProperties(g,a),g}case r.argumentsTag:{const g={};return t.copyProperties(g,a),g.length=a.length,g[Symbol.iterator]=a[Symbol.iterator],g}default:return}})}e.cloneDeepWith=n})(Nv)),Nv}var dE;function OK(){return dE||(dE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NK();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(Ev)),Ev}var Ov={},Av={},fE;function EP(){return fE||(fE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Av)),Av}var Tv={},hE;function AK(){return hE||(hE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SP();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(Tv)),Tv}var mE;function TK(){return mE||(mE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mP(),r=EP(),n=AK(),a=Lx();function s(l,u){let d;if(Array.isArray(u)?d=u:typeof u=="string"&&t.isDeepKey(u)&&l?.[u]==null?d=a.toPath(u):d=[u],d.length===0)return!1;let f=l;for(let m=0;m<d.length;m++){const g=d[m];if((f==null||!Object.hasOwn(f,g))&&!((Array.isArray(f)||n.isArguments(f))&&r.isIndex(g)&&g<f.length))return!1;f=f[g]}return!0}e.has=s})(Ov)),Ov}var pE;function CK(){return pE||(pE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_P(),r=Ix(),n=OK(),a=zx(),s=TK();function l(u,d){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=r.toKey(u);break}}return d=n.cloneDeep(d),function(f){const m=a.get(f,u);return m===void 0?s.has(f,u):d===void 0?m===void 0:t.isMatch(m,d)}}e.matchesProperty=l})(jv)),jv}var gE;function PK(){return gE||(gE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yP(),r=wK(),n=EK(),a=CK();function s(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?a.matchesProperty(l[0],l[1]):n.matches(l);case"string":case"symbol":case"number":return r.property(l)}}e.iteratee=s})(dv)),dv}var vE;function DK(){return vE||(vE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vK(),r=yP(),n=xK(),a=PK();function s(l,u=r.identity){return n.isArrayLikeObject(l)?t.uniqBy(Array.from(l),a.iteratee(u)):[]}e.uniqBy=s})(av)),av}var Cv,yE;function RK(){return yE||(yE=1,Cv=DK().uniqBy),Cv}var MK=RK();const bE=xa(MK);function $K(e,t,r){return t===!0?bE(e,r):typeof t=="function"?bE(e,t):e}var Pv={exports:{}},Dv={},Rv={exports:{}},Mv={};var xE;function IK(){if(xE)return Mv;xE=1;var e=wl();function t(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,s=e.useLayoutEffect,l=e.useDebugValue;function u(g,v){var y=v(),S=n({inst:{value:y,getSnapshot:v}}),k=S[0].inst,_=S[1];return s(function(){k.value=y,k.getSnapshot=v,d(k)&&_({inst:k})},[g,y,v]),a(function(){return d(k)&&_({inst:k}),g(function(){d(k)&&_({inst:k})})},[g]),l(y),y}function d(g){var v=g.getSnapshot;g=g.value;try{var y=v();return!r(g,y)}catch{return!0}}function f(g,v){return v()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return Mv.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:m,Mv}var wE;function LK(){return wE||(wE=1,Rv.exports=IK()),Rv.exports}var _E;function zK(){if(_E)return Dv;_E=1;var e=wl(),t=LK();function r(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var n=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,s=e.useRef,l=e.useEffect,u=e.useMemo,d=e.useDebugValue;return Dv.useSyncExternalStoreWithSelector=function(f,m,g,v,y){var S=s(null);if(S.current===null){var k={hasValue:!1,value:null};S.current=k}else k=S.current;S=u(function(){function j(P){if(!N){if(N=!0,E=P,P=v(P),y!==void 0&&k.hasValue){var C=k.value;if(y(C,P))return D=C}return D=P}if(C=D,n(E,P))return C;var A=v(P);return y!==void 0&&y(C,A)?(E=P,C):(E=P,D=A)}var N=!1,E,D,O=g===void 0?null:g;return[function(){return j(m())},O===null?void 0:function(){return j(O())}]},[m,g,v,y]);var _=a(f,S[0],S[1]);return l(function(){k.hasValue=!0,k.value=_},[_]),d(_),_},Dv}var SE;function UK(){return SE||(SE=1,Pv.exports=zK()),Pv.exports}var BK=UK(),Hx=x.createContext(null),qK=e=>e,Yt=()=>{var e=x.useContext(Hx);return e?e.store.dispatch:qK},Wf=()=>{},HK=()=>Wf,FK=(e,t)=>e===t;function Oe(e){var t=x.useContext(Hx);return BK.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:HK,t?t.store.getState:Wf,t?t.store.getState:Wf,t?e:Wf,FK)}function VK(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function KK(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function ZK(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var kE=e=>Array.isArray(e)?e:[e];function GK(e){const t=Array.isArray(e[0])?e[0]:e;return ZK(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function YK(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var WK=class{constructor(e){this.value=e}deref(){return this.value}},XK=typeof WeakRef<"u"?WeakRef:WK,JK=0,jE=1;function Tf(){return{s:JK,v:void 0,o:null,p:null}}function NP(e,t={}){let r=Tf();const{resultEqualityCheck:n}=t;let a,s=0;function l(){let u=r;const{length:d}=arguments;for(let g=0,v=d;g<v;g++){const y=arguments[g];if(typeof y=="function"||typeof y=="object"&&y!==null){let S=u.o;S===null&&(u.o=S=new WeakMap);const k=S.get(y);k===void 0?(u=Tf(),S.set(y,u)):u=k}else{let S=u.p;S===null&&(u.p=S=new Map);const k=S.get(y);k===void 0?(u=Tf(),S.set(y,u)):u=k}}const f=u;let m;if(u.s===jE)m=u.v;else if(m=e.apply(null,arguments),s++,n){const g=a?.deref?.()??a;g!=null&&n(g,m)&&(m=g,s!==0&&s--),a=typeof m=="object"&&m!==null||typeof m=="function"?new XK(m):m}return f.s=jE,f.v=m,m}return l.clearCache=()=>{r=Tf(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function QK(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let s=0,l=0,u,d={},f=a.pop();typeof f=="object"&&(d=f,f=a.pop()),VK(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const m={...r,...d},{memoize:g,memoizeOptions:v=[],argsMemoize:y=NP,argsMemoizeOptions:S=[]}=m,k=kE(v),_=kE(S),j=GK(a),N=g(function(){return s++,f.apply(null,arguments)},...k),E=y(function(){l++;const O=YK(j,arguments);return u=N.apply(null,O),u},..._);return Object.assign(E,{resultFunc:f,memoizedResultFunc:N,dependencies:j,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:g,argsMemoize:y})};return Object.assign(n,{withTypes:()=>n}),n}var se=QK(NP),eZ=Object.assign((e,t=se)=>{KK(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((l,u,d)=>(l[r[d]]=u,l),{}))},{withTypes:()=>eZ}),$v={},Iv={},Lv={},EE;function tZ(){return EE||(EE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,s)=>{if(n!==a){const l=t(n),u=t(a);if(l===u&&l===0){if(n<a)return s==="desc"?1:-1;if(n>a)return s==="desc"?-1:1}return s==="desc"?u-l:l-u}return 0};e.compareValues=r})(Lv)),Lv}var zv={},Uv={},NE;function OP(){return NE||(NE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Uv)),Uv}var OE;function rZ(){return OE||(OE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OP(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||l!=null&&Object.hasOwn(l,s)}e.isKey=a})(zv)),zv}var AE;function nZ(){return AE||(AE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tZ(),r=rZ(),n=Lx();function a(s,l,u,d){if(s==null)return[];u=d?void 0:u,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(y=>String(y));const f=(y,S)=>{let k=y;for(let _=0;_<S.length&&k!=null;++_)k=k[S[_]];return k},m=(y,S)=>S==null||y==null?S:typeof y=="object"&&"key"in y?Object.hasOwn(S,y.key)?S[y.key]:f(S,y.path):typeof y=="function"?y(S):Array.isArray(y)?f(S,y):typeof S=="object"?S[y]:S,g=l.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||r.isKey(y)?y:{key:y,path:n.toPath(y)}));return s.map(y=>({original:y,criteria:g.map(S=>m(S,y))})).slice().sort((y,S)=>{for(let k=0;k<g.length;k++){const _=t.compareValues(y.criteria[k],S.criteria[k],u[k]);if(_!==0)return _}return 0}).map(y=>y.original)}e.orderBy=a})(Iv)),Iv}var Bv={},TE;function aZ(){return TE||(TE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],s=Math.floor(n),l=(u,d)=>{for(let f=0;f<u.length;f++){const m=u[f];Array.isArray(m)&&d<s?l(m,d+1):a.push(m)}};return l(r,0),a}e.flatten=t})(Bv)),Bv}var qv={},CE;function AP(){return CE||(CE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EP(),r=qx(),n=bP(),a=wP();function s(l,u,d){return n.isObject(d)&&(typeof u=="number"&&r.isArrayLike(d)&&t.isIndex(u)&&u<d.length||typeof u=="string"&&u in d)?a.eq(d[u],l):!1}e.isIterateeCall=s})(qv)),qv}var PE;function iZ(){return PE||(PE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nZ(),r=aZ(),n=AP();function a(s,...l){const u=l.length;return u>1&&n.isIterateeCall(s,l[0],l[1])?l=[]:u>2&&n.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(s,r.flatten(l),["asc"])}e.sortBy=a})($v)),$v}var Hv,DE;function sZ(){return DE||(DE=1,Hv=iZ().sortBy),Hv}var oZ=sZ();const M0=xa(oZ);var TP=e=>e.legend.settings,lZ=e=>e.legend.size,cZ=e=>e.legend.payload;se([cZ,TP],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?M0(n,r):n});var Cf=1;function uZ(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=x.useState({height:0,left:0,top:0,width:0}),n=x.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-t.height)>Cf||Math.abs(l.left-t.left)>Cf||Math.abs(l.top-t.top)>Cf||Math.abs(l.width-t.width)>Cf)&&r({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function mr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var dZ=typeof Symbol=="function"&&Symbol.observable||"@@observable",RE=dZ,Fv=()=>Math.random().toString(36).substring(7).split("").join("."),fZ={INIT:`@@redux/INIT${Fv()}`,REPLACE:`@@redux/REPLACE${Fv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Fv()}`},jh=fZ;function Fx(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function CP(e,t,r){if(typeof e!="function")throw new Error(mr(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(mr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(mr(1));return r(CP)(e,t)}let n=e,a=t,s=new Map,l=s,u=0,d=!1;function f(){l===s&&(l=new Map,s.forEach((_,j)=>{l.set(j,_)}))}function m(){if(d)throw new Error(mr(3));return a}function g(_){if(typeof _!="function")throw new Error(mr(4));if(d)throw new Error(mr(5));let j=!0;f();const N=u++;return l.set(N,_),function(){if(j){if(d)throw new Error(mr(6));j=!1,f(),l.delete(N),s=null}}}function v(_){if(!Fx(_))throw new Error(mr(7));if(typeof _.type>"u")throw new Error(mr(8));if(typeof _.type!="string")throw new Error(mr(17));if(d)throw new Error(mr(9));try{d=!0,a=n(a,_)}finally{d=!1}return(s=l).forEach(N=>{N()}),_}function y(_){if(typeof _!="function")throw new Error(mr(10));n=_,v({type:jh.REPLACE})}function S(){const _=g;return{subscribe(j){if(typeof j!="object"||j===null)throw new Error(mr(11));function N(){const D=j;D.next&&D.next(m())}return N(),{unsubscribe:_(N)}},[RE](){return this}}}return v({type:jh.INIT}),{dispatch:v,subscribe:g,getState:m,replaceReducer:y,[RE]:S}}function hZ(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:jh.INIT})>"u")throw new Error(mr(12));if(typeof r(void 0,{type:jh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(mr(13))})}function PP(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const l=t[s];typeof e[l]=="function"&&(r[l]=e[l])}const n=Object.keys(r);let a;try{hZ(r)}catch(s){a=s}return function(l={},u){if(a)throw a;let d=!1;const f={};for(let m=0;m<n.length;m++){const g=n[m],v=r[g],y=l[g],S=v(y,u);if(typeof S>"u")throw u&&u.type,new Error(mr(14));f[g]=S,d=d||S!==y}return d=d||n.length!==Object.keys(l).length,d?f:l}}function Eh(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function mZ(...e){return t=>(r,n)=>{const a=t(r,n);let s=()=>{throw new Error(mr(15))};const l={getState:a.getState,dispatch:(d,...f)=>s(d,...f)},u=e.map(d=>d(l));return s=Eh(...u)(a.dispatch),{...a,dispatch:s}}}function DP(e){return Fx(e)&&"type"in e&&typeof e.type=="string"}var RP=Symbol.for("immer-nothing"),ME=Symbol.for("immer-draftable"),Rr=Symbol.for("immer-state");function Gn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var mn=Object,pl=mn.getPrototypeOf,Nh="constructor",$0="prototype",ub="configurable",Oh="enumerable",Xf="writable",lu="value",ri=e=>!!e&&!!e[Rr];function ta(e){return e?MP(e)||I0(e)||!!e[ME]||!!e[Nh]?.[ME]||L0(e)||z0(e):!1}var pZ=mn[$0][Nh].toString(),$E=new WeakMap;function MP(e){if(!e||!Vx(e))return!1;const t=pl(e);if(t===null||t===mn[$0])return!0;const r=mn.hasOwnProperty.call(t,Nh)&&t[Nh];if(r===Object)return!0;if(!el(r))return!1;let n=$E.get(r);return n===void 0&&(n=Function.toString.call(r),$E.set(r,n)),n===pZ}function Ou(e,t,r=!0){Au(e)===0?(r?Reflect.ownKeys(e):mn.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Au(e){const t=e[Rr];return t?t.type_:I0(e)?1:L0(e)?2:z0(e)?3:0}var IE=(e,t,r=Au(e))=>r===2?e.has(t):mn[$0].hasOwnProperty.call(e,t),db=(e,t,r=Au(e))=>r===2?e.get(t):e[t],Ah=(e,t,r,n=Au(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function gZ(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var I0=Array.isArray,L0=e=>e instanceof Map,z0=e=>e instanceof Set,Vx=e=>typeof e=="object",el=e=>typeof e=="function",Vv=e=>typeof e=="boolean",Fa=e=>e.copy_||e.base_,Kx=e=>e.modified_?e.copy_:e.base_;function fb(e,t){if(L0(e))return new Map(e);if(z0(e))return new Set(e);if(I0(e))return Array[$0].slice.call(e);const r=MP(e);if(t===!0||t==="class_only"&&!r){const n=mn.getOwnPropertyDescriptors(e);delete n[Rr];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const l=a[s],u=n[l];u[Xf]===!1&&(u[Xf]=!0,u[ub]=!0),(u.get||u.set)&&(n[l]={[ub]:!0,[Xf]:!0,[Oh]:u[Oh],[lu]:e[l]})}return mn.create(pl(e),n)}else{const n=pl(e);if(n!==null&&r)return{...e};const a=mn.create(n);return mn.assign(a,e)}}function Zx(e,t=!1){return U0(e)||ri(e)||!ta(e)||(Au(e)>1&&mn.defineProperties(e,{set:Pf,add:Pf,clear:Pf,delete:Pf}),mn.freeze(e),t&&Ou(e,(r,n)=>{Zx(n,!0)},!1)),e}function vZ(){Gn(2)}var Pf={[lu]:vZ};function U0(e){return e===null||!Vx(e)?!0:mn.isFrozen(e)}var Th="MapSet",hb="Patches",$P={};function gl(e){const t=$P[e];return t||Gn(0,e),t}var yZ=e=>!!$P[e],cu,IP=()=>cu,bZ=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:yZ(Th)?gl(Th):void 0});function LE(e,t){t&&(e.patchPlugin_=gl(hb),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function mb(e){pb(e),e.drafts_.forEach(xZ),e.drafts_=null}function pb(e){e===cu&&(cu=e.parent_)}var zE=e=>cu=bZ(cu,e);function xZ(e){const t=e[Rr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function UE(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[Rr].modified_&&(mb(t),Gn(4)),ta(e)&&(e=BE(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[Rr].base_,e,t)}else e=BE(t,r);return wZ(t,e,!0),mb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==RP?e:void 0}function BE(e,t){if(U0(t))return t;const r=t[Rr];if(!r)return Gx(t,e.handledSet_,e);if(!B0(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);UP(r,e)}return r.copy_}function wZ(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Zx(t,r)}function LP(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var B0=(e,t)=>e.scope_===t,_Z=[];function zP(e,t,r,n){const a=Fa(e),s=e.type_;if(n!==void 0&&db(a,n,s)===t){Ah(a,n,r,s);return}if(!e.draftLocations_){const u=e.draftLocations_=new Map;Ou(a,(d,f)=>{if(ri(f)){const m=u.get(f)||[];m.push(d),u.set(f,m)}})}const l=e.draftLocations_.get(t)??_Z;for(const u of l)Ah(a,u,r,s)}function SZ(e,t,r){e.callbacks_.push(function(a){const s=t;if(!s||!B0(s,a))return;a.mapSetPlugin_?.fixSetContents(s);const l=Kx(s);zP(e,s.draft_??s,l,r),UP(s,a)})}function UP(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||(e.assigned_?.size??0)>0)){const{patchPlugin_:n}=t;if(n){const a=n.getPath(e);a&&n.generatePatches_(e,a,t)}LP(e)}}function kZ(e,t,r){const{scope_:n}=e;if(ri(r)){const a=r[Rr];B0(a,n)&&a.callbacks_.push(function(){Jf(e);const l=Kx(a);zP(e,r,l,t)})}else ta(r)&&e.callbacks_.push(function(){const s=Fa(e);db(s,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Gx(db(e.copy_,t,e.type_),n.handledSet_,n)})}function Gx(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||ri(e)||t.has(e)||!ta(e)||U0(e)||(t.add(e),Ou(e,(n,a)=>{if(ri(a)){const s=a[Rr];if(B0(s,r)){const l=Kx(s);Ah(e,n,l,e.type_),LP(s)}}else ta(a)&&Gx(a,t,r)})),e}function jZ(e,t){const r=I0(e),n={type_:r?1:0,scope_:t?t.scope_:IP(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,s=Yx;r&&(a=[n],s=uu);const{revoke:l,proxy:u}=Proxy.revocable(a,s);return n.draft_=u,n.revoke_=l,[u,n]}var Yx={get(e,t){if(t===Rr)return e;const r=Fa(e);if(!IE(r,t,e.type_))return EZ(e,r,t);const n=r[t];if(e.finalized_||!ta(n))return n;if(n===Kv(e.base_,t)){Jf(e);const a=e.type_===1?+t:t,s=vb(e.scope_,n,e,a);return e.copy_[a]=s}return n},has(e,t){return t in Fa(e)},ownKeys(e){return Reflect.ownKeys(Fa(e))},set(e,t,r){const n=BP(Fa(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Kv(Fa(e),t),s=a?.[Rr];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(gZ(r,a)&&(r!==void 0||IE(e.base_,t,e.type_)))return!0;Jf(e),gb(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),kZ(e,t,r)),!0},deleteProperty(e,t){return Jf(e),Kv(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),gb(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Fa(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[Xf]:!0,[ub]:e.type_!==1||t!=="length",[Oh]:n[Oh],[lu]:r[t]}},defineProperty(){Gn(11)},getPrototypeOf(e){return pl(e.base_)},setPrototypeOf(){Gn(12)}},uu={};Ou(Yx,(e,t)=>{uu[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});uu.deleteProperty=function(e,t){return uu.set.call(this,e,t,void 0)};uu.set=function(e,t,r){return Yx.set.call(this,e[0],t,r,e[0])};function Kv(e,t){const r=e[Rr];return(r?Fa(r):e)[t]}function EZ(e,t,r){const n=BP(t,r);return n?lu in n?n[lu]:n.get?.call(e.draft_):void 0}function BP(e,t){if(!(t in e))return;let r=pl(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=pl(r)}}function gb(e){e.modified_||(e.modified_=!0,e.parent_&&gb(e.parent_))}function Jf(e){e.copy_||(e.assigned_=new Map,e.copy_=fb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var NZ=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(el(r)&&!el(n)){const l=n;n=r;const u=this;return function(f=l,...m){return u.produce(f,g=>n.call(this,g,...m))}}el(n)||Gn(6),a!==void 0&&!el(a)&&Gn(7);let s;if(ta(r)){const l=zE(this),u=vb(l,r,void 0);let d=!0;try{s=n(u),d=!1}finally{d?mb(l):pb(l)}return LE(l,a),UE(s,l)}else if(!r||!Vx(r)){if(s=n(r),s===void 0&&(s=r),s===RP&&(s=void 0),this.autoFreeze_&&Zx(s,!0),a){const l=[],u=[];gl(hb).generateReplacementPatches_(r,s,{patches_:l,inversePatches_:u}),a(l,u)}return s}else Gn(1,r)},this.produceWithPatches=(r,n)=>{if(el(r))return(u,...d)=>this.produceWithPatches(u,f=>r(f,...d));let a,s;return[this.produce(r,n,(u,d)=>{a=u,s=d}),a,s]},Vv(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Vv(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Vv(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){ta(t)||Gn(8),ri(t)&&(t=Jn(t));const r=zE(this),n=vb(r,t,void 0);return n[Rr].isManual_=!0,pb(r),n}finishDraft(t,r){const n=t&&t[Rr];(!n||!n.isManual_)&&Gn(9);const{scope_:a}=n;return LE(a,r),UE(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const s=r[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(r=r.slice(n+1));const a=gl(hb).applyPatches_;return ri(t)?a(t,r):this.produce(t,s=>a(s,r))}};function vb(e,t,r,n){const[a,s]=L0(t)?gl(Th).proxyMap_(t,r):z0(t)?gl(Th).proxySet_(t,r):jZ(t,r);return(r?.scope_??IP()).drafts_.push(a),s.callbacks_=r?.callbacks_??[],s.key_=n,r&&n!==void 0?SZ(r,s,n):s.callbacks_.push(function(d){d.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:f}=d;s.modified_&&f&&f.generatePatches_(s,[],d)}),a}function Jn(e){return ri(e)||Gn(10,e),qP(e)}function qP(e){if(!ta(e)||U0(e))return e;const t=e[Rr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=fb(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=fb(e,!0);return Ou(r,(a,s)=>{Ah(r,a,qP(s))},n),t&&(t.finalized_=!1),r}var OZ=new NZ,HP=OZ.produce;function FP(e){return({dispatch:r,getState:n})=>a=>s=>typeof s=="function"?s(r,n,e):a(s)}var AZ=FP(),TZ=FP,CZ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Eh:Eh.apply(null,arguments)};function $n(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(pn(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>DP(n)&&n.type===e,r}var VP=class Vc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Vc.prototype)}static get[Symbol.species](){return Vc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Vc(...t[0].concat(this)):new Vc(...t.concat(this))}};function qE(e){return ta(e)?HP(e,()=>{}):e}function Df(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function PZ(e){return typeof e=="boolean"}var DZ=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=t??{};let l=new VP;return r&&(PZ(r)?l.push(AZ):l.push(TZ(r.extraArgument))),l},KP="RTK_autoBatch",wt=()=>e=>({payload:e,meta:{[KP]:!0}}),HE=e=>t=>{setTimeout(t,e)},ZP=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,s=!1,l=!1;const u=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:HE(10):e.type==="callback"?e.queueNotification:HE(e.timeout),f=()=>{l=!1,s&&(s=!1,u.forEach(m=>m()))};return Object.assign({},n,{subscribe(m){const g=()=>a&&m(),v=n.subscribe(g);return u.add(m),()=>{v(),u.delete(m)}},dispatch(m){try{return a=!m?.meta?.[KP],s=!a,s&&(l||(l=!0,d(f))),n.dispatch(m)}finally{a=!0}}})},RZ=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new VP(e);return n&&a.push(ZP(typeof n=="object"?n:void 0)),a};function MZ(e){const t=DZ(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:s=void 0,enhancers:l=void 0}=e||{};let u;if(typeof r=="function")u=r;else if(Fx(r))u=PP(r);else throw new Error(pn(1));let d;typeof n=="function"?d=n(t):d=t();let f=Eh;a&&(f=CZ({trace:!1,...typeof a=="object"&&a}));const m=mZ(...d),g=RZ(m);let v=typeof l=="function"?l(g):g();const y=f(...v);return CP(u,s,y)}function GP(e){const t={},r=[];let n;const a={addCase(s,l){const u=typeof s=="string"?s:s.type;if(!u)throw new Error(pn(28));if(u in t)throw new Error(pn(29));return t[u]=l,a},addAsyncThunk(s,l){return l.pending&&(t[s.pending.type]=l.pending),l.rejected&&(t[s.rejected.type]=l.rejected),l.fulfilled&&(t[s.fulfilled.type]=l.fulfilled),l.settled&&r.push({matcher:s.settled,reducer:l.settled}),a},addMatcher(s,l){return r.push({matcher:s,reducer:l}),a},addDefaultCase(s){return n=s,a}};return e(a),[t,r,n]}function $Z(e){return typeof e=="function"}function IZ(e,t){let[r,n,a]=GP(t),s;if($Z(e))s=()=>qE(e());else{const u=qE(e);s=()=>u}function l(u=s(),d){let f=[r[d.type],...n.filter(({matcher:m})=>m(d)).map(({reducer:m})=>m)];return f.filter(m=>!!m).length===0&&(f=[a]),f.reduce((m,g)=>{if(g)if(ri(m)){const y=g(m,d);return y===void 0?m:y}else{if(ta(m))return HP(m,v=>g(v,d));{const v=g(m,d);if(v===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return m},u)}return l.getInitialState=s,l}var LZ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",zZ=(e=21)=>{let t="",r=e;for(;r--;)t+=LZ[Math.random()*64|0];return t},UZ=Symbol.for("rtk-slice-createasyncthunk");function BZ(e,t){return`${e}/${t}`}function qZ({creators:e}={}){const t=e?.asyncThunk?.[UZ];return function(n){const{name:a,reducerPath:s=a}=n;if(!a)throw new Error(pn(11));const l=(typeof n.reducers=="function"?n.reducers(FZ()):n.reducers)||{},u=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(E,D){const O=typeof E=="string"?E:E.type;if(!O)throw new Error(pn(12));if(O in d.sliceCaseReducersByType)throw new Error(pn(13));return d.sliceCaseReducersByType[O]=D,f},addMatcher(E,D){return d.sliceMatchers.push({matcher:E,reducer:D}),f},exposeAction(E,D){return d.actionCreators[E]=D,f},exposeCaseReducer(E,D){return d.sliceCaseReducersByName[E]=D,f}};u.forEach(E=>{const D=l[E],O={reducerName:E,type:BZ(a,E),createNotation:typeof n.reducers=="function"};KZ(D)?GZ(O,D,f,t):VZ(O,D,f)});function m(){const[E={},D=[],O=void 0]=typeof n.extraReducers=="function"?GP(n.extraReducers):[n.extraReducers],P={...E,...d.sliceCaseReducersByType};return IZ(n.initialState,C=>{for(let A in P)C.addCase(A,P[A]);for(let A of d.sliceMatchers)C.addMatcher(A.matcher,A.reducer);for(let A of D)C.addMatcher(A.matcher,A.reducer);O&&C.addDefaultCase(O)})}const g=E=>E,v=new Map,y=new WeakMap;let S;function k(E,D){return S||(S=m()),S(E,D)}function _(){return S||(S=m()),S.getInitialState()}function j(E,D=!1){function O(C){let A=C[E];return typeof A>"u"&&D&&(A=Df(y,O,_)),A}function P(C=g){const A=Df(v,D,()=>new WeakMap);return Df(A,C,()=>{const R={};for(const[M,I]of Object.entries(n.selectors??{}))R[M]=HZ(I,C,()=>Df(y,C,_),D);return R})}return{reducerPath:E,getSelectors:P,get selectors(){return P(O)},selectSlice:O}}const N={name:a,reducer:k,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:_,...j(s),injectInto(E,{reducerPath:D,...O}={}){const P=D??s;return E.inject({reducerPath:P,reducer:k},O),{...N,...j(P,!0)}}};return N}}function HZ(e,t,r,n){function a(s,...l){let u=t(s);return typeof u>"u"&&n&&(u=r()),e(u,...l)}return a.unwrapped=e,a}var en=qZ();function FZ(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function VZ({type:e,reducerName:t,createNotation:r},n,a){let s,l;if("reducer"in n){if(r&&!ZZ(n))throw new Error(pn(17));s=n.reducer,l=n.prepare}else s=n;a.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,l?$n(e,l):$n(e))}function KZ(e){return e._reducerDefinitionType==="asyncThunk"}function ZZ(e){return e._reducerDefinitionType==="reducerWithPrepare"}function GZ({type:e,reducerName:t},r,n,a){if(!a)throw new Error(pn(18));const{payloadCreator:s,fulfilled:l,pending:u,rejected:d,settled:f,options:m}=r,g=a(e,s,m);n.exposeAction(t,g),l&&n.addCase(g.fulfilled,l),u&&n.addCase(g.pending,u),d&&n.addCase(g.rejected,d),f&&n.addMatcher(g.settled,f),n.exposeCaseReducer(t,{fulfilled:l||Rf,pending:u||Rf,rejected:d||Rf,settled:f||Rf})}function Rf(){}var YZ="task",YP="listener",WP="completed",Wx="cancelled",WZ=`task-${Wx}`,XZ=`task-${WP}`,yb=`${YP}-${Wx}`,JZ=`${YP}-${WP}`,q0=class{constructor(e){this.code=e,this.message=`${YZ} ${Wx} (reason: ${e})`}name="TaskAbortError";message},Xx=(e,t)=>{if(typeof e!="function")throw new TypeError(pn(32))},Ch=()=>{},XP=(e,t=Ch)=>(e.catch(t),e),JP=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),zs=e=>{if(e.aborted)throw new q0(e.reason)};function QP(e,t){let r=Ch;return new Promise((n,a)=>{const s=()=>a(new q0(e.reason));if(e.aborted){s();return}r=JP(e,s),t.finally(()=>r()).then(n,a)}).finally(()=>{r=Ch})}var QZ=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof q0?"cancelled":"rejected",error:r}}finally{t?.()}},Ph=e=>t=>XP(QP(e,t).then(r=>(zs(e),r))),eD=e=>{const t=Ph(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:cl}=Object,FE={},H0="listenerMiddleware",eG=(e,t)=>{const r=n=>JP(e,()=>n.abort(e.reason));return(n,a)=>{Xx(n);const s=new AbortController;r(s);const l=QZ(async()=>{zs(e),zs(s.signal);const u=await n({pause:Ph(s.signal),delay:eD(s.signal),signal:s.signal});return zs(s.signal),u},()=>s.abort(XZ));return a?.autoJoin&&t.push(l.catch(Ch)),{result:Ph(e)(l),cancel(){s.abort(WZ)}}}},tG=(e,t)=>{const r=async(n,a)=>{zs(t);let s=()=>{};const u=[new Promise((d,f)=>{let m=e({predicate:n,effect:(g,v)=>{v.unsubscribe(),d([g,v.getState(),v.getOriginalState()])}});s=()=>{m(),f()}})];a!=null&&u.push(new Promise(d=>setTimeout(d,a,null)));try{const d=await QP(t,Promise.race(u));return zs(t),d}finally{s()}};return(n,a)=>XP(r(n,a))},tD=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:s}=e;if(t)a=$n(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(pn(21));return Xx(s),{predicate:a,type:t,effect:s}},rD=cl(e=>{const{type:t,predicate:r,effect:n}=tD(e);return{id:zZ(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(pn(22))}}},{withTypes:()=>rD}),VE=(e,t)=>{const{type:r,effect:n,predicate:a}=tD(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===a)&&s.effect===n)},bb=e=>{e.pending.forEach(t=>{t.abort(yb)})},rG=(e,t)=>()=>{for(const r of t.keys())bb(r);e.clear()},KE=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},nD=cl($n(`${H0}/add`),{withTypes:()=>nD}),nG=$n(`${H0}/removeAll`),aD=cl($n(`${H0}/remove`),{withTypes:()=>aD}),aG=(...e)=>{console.error(`${H0}/error`,...e)},Tu=(e={})=>{const t=new Map,r=new Map,n=y=>{const S=r.get(y)??0;r.set(y,S+1)},a=y=>{const S=r.get(y)??1;S===1?r.delete(y):r.set(y,S-1)},{extra:s,onError:l=aG}=e;Xx(l);const u=y=>(y.unsubscribe=()=>t.delete(y.id),t.set(y.id,y),S=>{y.unsubscribe(),S?.cancelActive&&bb(y)}),d=y=>{const S=VE(t,y)??rD(y);return u(S)};cl(d,{withTypes:()=>d});const f=y=>{const S=VE(t,y);return S&&(S.unsubscribe(),y.cancelActive&&bb(S)),!!S};cl(f,{withTypes:()=>f});const m=async(y,S,k,_)=>{const j=new AbortController,N=tG(d,j.signal),E=[];try{y.pending.add(j),n(y),await Promise.resolve(y.effect(S,cl({},k,{getOriginalState:_,condition:(D,O)=>N(D,O).then(Boolean),take:N,delay:eD(j.signal),pause:Ph(j.signal),extra:s,signal:j.signal,fork:eG(j.signal,E),unsubscribe:y.unsubscribe,subscribe:()=>{t.set(y.id,y)},cancelActiveListeners:()=>{y.pending.forEach((D,O,P)=>{D!==j&&(D.abort(yb),P.delete(D))})},cancel:()=>{j.abort(yb),y.pending.delete(j)},throwIfCancelled:()=>{zs(j.signal)}})))}catch(D){D instanceof q0||KE(l,D,{raisedBy:"effect"})}finally{await Promise.all(E),j.abort(JZ),a(y),y.pending.delete(j)}},g=rG(t,r);return{middleware:y=>S=>k=>{if(!DP(k))return S(k);if(nD.match(k))return d(k.payload);if(nG.match(k)){g();return}if(aD.match(k))return f(k.payload);let _=y.getState();const j=()=>{if(_===FE)throw new Error(pn(23));return _};let N;try{if(N=S(k),t.size>0){const E=y.getState(),D=Array.from(t.values());for(const O of D){let P=!1;try{P=O.predicate(k,E,_)}catch(C){P=!1,KE(l,C,{raisedBy:"predicate"})}P&&m(O,k,y,j)}}}finally{_=FE}return N},startListening:d,stopListening:f,clearListeners:g}};function pn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var iG={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},iD=en({name:"chartLayout",initialState:iG,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,s;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:sG,setLayout:oG,setChartSize:lG,setScale:cG}=iD.actions,uG=iD.reducer;function sD(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function ZE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZE(Object(r),!0).forEach(function(n){dG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dG(e,t,r){return(t=fG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fG(e){var t=hG(e,"string");return typeof t=="symbol"?t:t+""}function hG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Er(e,t,r){return gr(e)||gr(t)?r:Mn(t)?R0(e,t,r):typeof t=="function"?t(e):r}var mG=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:s,verticalAlign:l,layout:u}=t;if((u==="vertical"||u==="horizontal"&&l==="middle")&&s!=="center"&&Te(e[s]))return rl(rl({},e),{},{[s]:e[s]+(n||0)});if((u==="horizontal"||u==="vertical"&&s==="center")&&l!=="middle"&&Te(e[l]))return rl(rl({},e),{},{[l]:e[l]+(a||0)})}return e},ci=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",oD=(e,t,r,n)=>{if(n)return e.map(u=>u.coordinate);var a,s,l=e.map(u=>(u.coordinate===t&&(a=!0),u.coordinate===r&&(s=!0),u.coordinate));return a||l.push(t),s||l.push(r),l},lD=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:s,scale:l,realScaleType:u,isCategorical:d,categoricalDomain:f,tickCount:m,ticks:g,niceTicks:v,axisType:y}=e;if(!l)return null;var S=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,k=a==="category"&&l.bandwidth?l.bandwidth()/S:0;if(k=y==="angleAxis"&&s&&s.length>=2?Dn(s[0]-s[1])*2*k:k,g||v){var _=(g||v||[]).map((j,N)=>{var E=n?n.indexOf(j):j;return{coordinate:l(E)+k,value:j,offset:k,index:N}});return _.filter(j=>!yn(j.coordinate))}return d&&f?f.map((j,N)=>({coordinate:l(j)+k,value:j,index:N,offset:k})):l.ticks&&m!=null?l.ticks(m).map((j,N)=>({coordinate:l(j)+k,value:j,offset:k,index:N})):l.domain().map((j,N)=>({coordinate:l(j)+k,value:n?n[j]:j,index:N,offset:k}))},GE=1e-4,pG=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-GE,s=Math.max(n[0],n[1])+GE,l=e(t[0]),u=e(t[r-1]);(l<a||l>s||u<a||u>s)&&e.domain([t[0],t[r-1]])}},gG=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,s=0,l=0;l<t;++l){var u=yn(e[l][r][1])?e[l][r][0]:e[l][r][1];u>=0?(e[l][r][0]=a,e[l][r][1]=a+u,a=e[l][r][1]):(e[l][r][0]=s,e[l][r][1]=s+u,s=e[l][r][1])}},vG=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,s=0;s<t;++s){var l=yn(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},yG={sign:gG,expand:rK,none:ml,silhouette:nK,wiggle:aK,positive:vG},bG=(e,t,r)=>{var n=yG[r],a=tK().keys(t).value((s,l)=>Number(Er(s,l,0))).order(cb).offset(n);return a(e)};function xG(e){return e==null?void 0:String(e)}function YE(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:s,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!gr(a[t.dataKey])){var u=gP(r,"value",a[t.dataKey]);if(u)return u.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var d=Er(a,gr(l)?t.dataKey:l);return gr(d)?null:t.scale(d)}var wG=e=>{var t=e.flat(2).filter(Te);return[Math.min(...t),Math.max(...t)]},_G=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],SG=(e,t,r)=>{if(e!=null)return _G(Object.keys(e).reduce((n,a)=>{var s=e[a],{stackedData:l}=s,u=l.reduce((d,f)=>{var m=sD(f,t,r),g=wG(m);return[Math.min(d[0],g[0]),Math.max(d[1],g[1])]},[1/0,-1/0]);return[Math.min(u[0],n[0]),Math.max(u[1],n[1])]},[1/0,-1/0]))},WE=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,XE=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Dh=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=M0(t,m=>m.coordinate),s=1/0,l=1,u=a.length;l<u;l++){var d=a[l],f=a[l-1];s=Math.min((d.coordinate||0)-(f.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function JE(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:s}=e;return rl(rl({},t),{},{dataKey:r,payload:n,value:a,name:s})}function cD(e,t){if(e)return String(e);if(typeof t=="string")return t}var kG=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},jG=(e,t)=>t==="centric"?e.angle:e.radius,ui=e=>e.layout.width,di=e=>e.layout.height,EG=e=>e.layout.scale,uD=e=>e.layout.margin,F0=se(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),V0=se(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),NG="data-recharts-item-index",OG="data-recharts-item-data-key",Cu=60;function QE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QE(Object(r),!0).forEach(function(n){AG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AG(e,t,r){return(t=TG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TG(e){var t=CG(e,"string");return typeof t=="symbol"?t:t+""}function CG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PG=e=>e.brush.height;function DG(e){var t=V0(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Cu;return r+a}return r},0)}function RG(e){var t=V0(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Cu;return r+a}return r},0)}function MG(e){var t=F0(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function $G(e){var t=F0(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var br=se([ui,di,uD,PG,DG,RG,MG,$G,TP,lZ],(e,t,r,n,a,s,l,u,d,f)=>{var m={left:(r.left||0)+a,right:(r.right||0)+s},g={top:(r.top||0)+l,bottom:(r.bottom||0)+u},v=Mf(Mf({},g),m),y=v.bottom;v.bottom+=n,v=mG(v,d,f);var S=e-v.left-v.right,k=t-v.top-v.bottom;return Mf(Mf({brushBottom:y},v),{},{width:Math.max(S,0),height:Math.max(k,0)})}),IG=se(br,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),dD=se(ui,di,(e,t)=>({x:0,y:0,width:e,height:t})),LG=x.createContext(null),$r=()=>x.useContext(LG)!=null,K0=e=>e.brush,Z0=se([K0,br,uD],(e,t,r)=>({height:e.height,x:Te(e.x)?e.x:t.left,y:Te(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:Te(e.width)?e.width:t.width})),Zv={},Gv={},Yv={},eN;function zG(){return eN||(eN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:s}={}){let l,u=null;const d=s!=null&&s.includes("leading"),f=s==null||s.includes("trailing"),m=()=>{u!==null&&(r.apply(l,u),l=void 0,u=null)},g=()=>{f&&m(),k()};let v=null;const y=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,g()},n)},S=()=>{v!==null&&(clearTimeout(v),v=null)},k=()=>{S(),l=void 0,u=null},_=()=>{m()},j=function(...N){if(a?.aborted)return;l=this,u=N;const E=v==null;y(),d&&E&&m()};return j.schedule=y,j.cancel=k,j.flush=_,a?.addEventListener("abort",k,{once:!0}),j}e.debounce=t})(Yv)),Yv}var tN;function UG(){return tN||(tN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zG();function r(n,a=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:u=!0,maxWait:d}=s,f=Array(2);l&&(f[0]="leading"),u&&(f[1]="trailing");let m,g=null;const v=t.debounce(function(...k){m=n.apply(this,k),g=null},a,{edges:f}),y=function(...k){return d!=null&&(g===null&&(g=Date.now()),Date.now()-g>=d)?(m=n.apply(this,k),g=Date.now(),v.cancel(),v.schedule(),m):(v.apply(this,k),m)},S=()=>(v.flush(),m);return y.cancel=v.cancel,y.flush=S,y}e.debounce=r})(Gv)),Gv}var rN;function BG(){return rN||(rN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UG();function r(n,a=0,s={}){const{leading:l=!0,trailing:u=!0}=s;return t.debounce(n,a,{leading:l,maxWait:a,trailing:u})}e.throttle=r})(Zv)),Zv}var Wv,nN;function qG(){return nN||(nN=1,Wv=BG().throttle),Wv}var HG=qG();const FG=xa(HG);var Rh=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(r.replace(/%s/g,()=>a[l++]))}},fD=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:s,maxHeight:l}=r,u=ti(n)?e:Number(n),d=ti(a)?t:Number(a);return s&&s>0&&(u?d=u/s:d&&(u=d*s),l&&d!=null&&d>l&&(d=l)),{calculatedWidth:u,calculatedHeight:d}},VG={width:0,height:0,overflow:"visible"},KG={width:0,overflowX:"visible"},ZG={height:0,overflowY:"visible"},GG={},YG=e=>{var{width:t,height:r}=e,n=ti(t),a=ti(r);return n&&a?VG:n?KG:a?ZG:GG};function WG(e){var{width:t,height:r,aspect:n}=e,a=t,s=r;return a===void 0&&s===void 0?(a="100%",s="100%"):a===void 0?a=n&&n>0?void 0:"100%":s===void 0&&(s=n&&n>0?void 0:"100%"),{width:a,height:s}}function ft(e){return Number.isFinite(e)}function ya(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function xb(){return xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xb.apply(null,arguments)}function aN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aN(Object(r),!0).forEach(function(n){XG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XG(e,t,r){return(t=JG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JG(e){var t=QG(e,"string");return typeof t=="symbol"?t:t+""}function QG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hD=x.createContext({width:-1,height:-1});function eY(e){return ya(e.width)&&ya(e.height)}function mD(e){var{children:t,width:r,height:n}=e,a=x.useMemo(()=>({width:r,height:n}),[r,n]);return eY(a)?x.createElement(hD.Provider,{value:a},t):null}var Jx=()=>x.useContext(hD),tY=x.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:s,minWidth:l=0,minHeight:u,maxHeight:d,children:f,debounce:m=0,id:g,className:v,onResize:y,style:S={}}=e,k=x.useRef(null),_=x.useRef();_.current=y,x.useImperativeHandle(t,()=>k.current);var[j,N]=x.useState({containerWidth:n.width,containerHeight:n.height}),E=x.useCallback((A,R)=>{N(M=>{var I=Math.round(A),z=Math.round(R);return M.containerWidth===I&&M.containerHeight===z?M:{containerWidth:I,containerHeight:z}})},[]);x.useEffect(()=>{if(k.current==null||typeof ResizeObserver>"u")return Nu;var A=z=>{var q,{width:te,height:ue}=z[0].contentRect;E(te,ue),(q=_.current)===null||q===void 0||q.call(_,te,ue)};m>0&&(A=FG(A,m,{trailing:!0,leading:!1}));var R=new ResizeObserver(A),{width:M,height:I}=k.current.getBoundingClientRect();return E(M,I),R.observe(k.current),()=>{R.disconnect()}},[E,m]);var{containerWidth:D,containerHeight:O}=j;Rh(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:P,calculatedHeight:C}=fD(D,O,{width:a,height:s,aspect:r,maxHeight:d});return Rh(P!=null&&P>0||C!=null&&C>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,C,a,s,l,u,r),x.createElement("div",{id:g?"".concat(g):void 0,className:ht("recharts-responsive-container",v),style:iN(iN({},S),{},{width:a,height:s,minWidth:l,minHeight:u,maxHeight:d}),ref:k},x.createElement("div",{style:YG({width:a,height:s})},x.createElement(mD,{width:P,height:C},f)))}),rY=x.forwardRef((e,t)=>{var r=Jx();if(ya(r.width)&&ya(r.height))return e.children;var{width:n,height:a}=WG({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:l}=fD(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return Te(s)&&Te(l)?x.createElement(mD,{width:s,height:l},e.children):x.createElement(tY,xb({},e,{width:n,height:a,ref:t}))});function pD(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Pu=()=>{var e,t=$r(),r=Oe(IG),n=Oe(Z0),a=(e=Oe(K0))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},nY={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},gD=()=>{var e;return(e=Oe(br))!==null&&e!==void 0?e:nY},vD=()=>Oe(ui),yD=()=>Oe(di),mt=e=>e.layout.layoutType,Du=()=>Oe(mt),aY=()=>{var e=Du();if(e==="horizontal"||e==="vertical")return e},iY=()=>{var e=Du();return e!==void 0},G0=e=>{var t=Yt(),r=$r(),{width:n,height:a}=e,s=Jx(),l=n,u=a;return s&&(l=s.width>0?s.width:n,u=s.height>0?s.height:a),x.useEffect(()=>{!r&&ya(l)&&ya(u)&&t(lG({width:l,height:u}))},[t,r,l,u]),null},bD=Symbol.for("immer-nothing"),sN=Symbol.for("immer-draftable"),bn=Symbol.for("immer-state");function Yn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var du=Object.getPrototypeOf;function vl(e){return!!e&&!!e[bn]}function Ks(e){return e?xD(e)||Array.isArray(e)||!!e[sN]||!!e.constructor?.[sN]||Ru(e)||W0(e):!1}var sY=Object.prototype.constructor.toString(),oN=new WeakMap;function xD(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=oN.get(r);return n===void 0&&(n=Function.toString.call(r),oN.set(r,n)),n===sY}function Mh(e,t,r=!0){Y0(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Y0(e){const t=e[bn];return t?t.type_:Array.isArray(e)?1:Ru(e)?2:W0(e)?3:0}function wb(e,t){return Y0(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function wD(e,t,r){const n=Y0(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function oY(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Ru(e){return e instanceof Map}function W0(e){return e instanceof Set}function Os(e){return e.copy_||e.base_}function _b(e,t){if(Ru(e))return new Map(e);if(W0(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=xD(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[bn];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const l=a[s],u=n[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(n[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[l]})}return Object.create(du(e),n)}else{const n=du(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function Qx(e,t=!1){return X0(e)||vl(e)||!Ks(e)||(Y0(e)>1&&Object.defineProperties(e,{set:$f,add:$f,clear:$f,delete:$f}),Object.freeze(e),t&&Object.values(e).forEach(r=>Qx(r,!0))),e}function lY(){Yn(2)}var $f={value:lY};function X0(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var cY={};function Zs(e){const t=cY[e];return t||Yn(0,e),t}var fu;function _D(){return fu}function uY(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function lN(e,t){t&&(Zs("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Sb(e){kb(e),e.drafts_.forEach(dY),e.drafts_=null}function kb(e){e===fu&&(fu=e.parent_)}function cN(e){return fu=uY(fu,e)}function dY(e){const t=e[bn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function uN(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[bn].modified_&&(Sb(t),Yn(4)),Ks(e)&&(e=$h(t,e),t.parent_||Ih(t,e)),t.patches_&&Zs("Patches").generateReplacementPatches_(r[bn].base_,e,t.patches_,t.inversePatches_)):e=$h(t,r,[]),Sb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==bD?e:void 0}function $h(e,t,r){if(X0(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[bn];if(!a)return Mh(t,(s,l)=>dN(e,a,t,s,l,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return Ih(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let l=s,u=!1;a.type_===3&&(l=new Set(s),s.clear(),u=!0),Mh(l,(d,f)=>dN(e,a,s,d,f,r,u),n),Ih(e,s,!1),r&&e.patches_&&Zs("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function dN(e,t,r,n,a,s,l){if(a==null||typeof a!="object"&&!l)return;const u=X0(a);if(!(u&&!l)){if(vl(a)){const d=s&&t&&t.type_!==3&&!wb(t.assigned_,n)?s.concat(n):void 0,f=$h(e,a,d);if(wD(r,n,f),vl(f))e.canAutoFreeze_=!1;else return}else l&&r.add(a);if(Ks(a)&&!u){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&u)return;$h(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Ru(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Ih(e,a)}}}function Ih(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Qx(t,r)}function fY(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:_D(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=ew;r&&(a=[n],s=hu);const{revoke:l,proxy:u}=Proxy.revocable(a,s);return n.draft_=u,n.revoke_=l,u}var ew={get(e,t){if(t===bn)return e;const r=Os(e);if(!wb(r,t))return hY(e,r,t);const n=r[t];return e.finalized_||!Ks(n)?n:n===Xv(e.base_,t)?(Jv(e),e.copy_[t]=Eb(n,e)):n},has(e,t){return t in Os(e)},ownKeys(e){return Reflect.ownKeys(Os(e))},set(e,t,r){const n=SD(Os(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Xv(Os(e),t),s=a?.[bn];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(oY(r,a)&&(r!==void 0||wb(e.base_,t)))return!0;Jv(e),jb(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Xv(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Jv(e),jb(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Os(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Yn(11)},getPrototypeOf(e){return du(e.base_)},setPrototypeOf(){Yn(12)}},hu={};Mh(ew,(e,t)=>{hu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});hu.deleteProperty=function(e,t){return hu.set.call(this,e,t,void 0)};hu.set=function(e,t,r){return ew.set.call(this,e[0],t,r,e[0])};function Xv(e,t){const r=e[bn];return(r?Os(r):e)[t]}function hY(e,t,r){const n=SD(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function SD(e,t){if(!(t in e))return;let r=du(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=du(r)}}function jb(e){e.modified_||(e.modified_=!0,e.parent_&&jb(e.parent_))}function Jv(e){e.copy_||(e.copy_=_b(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var mY=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const l=this;return function(d=s,...f){return l.produce(d,m=>r.call(this,m,...f))}}typeof r!="function"&&Yn(6),n!==void 0&&typeof n!="function"&&Yn(7);let a;if(Ks(t)){const s=cN(this),l=Eb(t,void 0);let u=!0;try{a=r(l),u=!1}finally{u?Sb(s):kb(s)}return lN(s,n),uN(a,s)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===bD&&(a=void 0),this.autoFreeze_&&Qx(a,!0),n){const s=[],l=[];Zs("Patches").generateReplacementPatches_(t,a,s,l),n(s,l)}return a}else Yn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(l,...u)=>this.produceWithPatches(l,d=>t(d,...u));let n,a;return[this.produce(t,r,(l,u)=>{n=l,a=u}),n,a]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ks(e)||Yn(8),vl(e)&&(e=pY(e));const t=cN(this),r=Eb(e,void 0);return r[bn].isManual_=!0,kb(t),r}finishDraft(e,t){const r=e&&e[bn];(!r||!r.isManual_)&&Yn(9);const{scope_:n}=r;return lN(n,t),uN(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=Zs("Patches").applyPatches_;return vl(e)?n(e,t):this.produce(e,a=>n(a,t))}};function Eb(e,t){const r=Ru(e)?Zs("MapSet").proxyMap_(e,t):W0(e)?Zs("MapSet").proxySet_(e,t):fY(e,t);return(t?t.scope_:_D()).drafts_.push(r),r}function pY(e){return vl(e)||Yn(10,e),kD(e)}function kD(e){if(!Ks(e)||X0(e))return e;const t=e[bn];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=_b(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=_b(e,!0);return Mh(r,(a,s)=>{wD(r,a,kD(s))},n),t&&(t.finalized_=!1),r}var gY=new mY;gY.produce;var vY={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},jD=en({name:"legend",initialState:vY,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:wt()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Jn(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:wt()},removeLegendPayload:{reducer(e,t){var r=Jn(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:wt()}}}),{setLegendSize:Wce,setLegendSettings:Xce,addLegendPayload:yY,replaceLegendPayload:bY,removeLegendPayload:xY}=jD.actions,wY=jD.reducer;function Nb(){return Nb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nb.apply(null,arguments)}function fN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fN(Object(r),!0).forEach(function(n){_Y(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Y(e,t,r){return(t=SY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SY(e){var t=kY(e,"string");return typeof t=="symbol"?t:t+""}function kY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jY(e){return Array.isArray(e)&&Mn(e[0])&&Mn(e[1])?e.join(" ~ "):e}var EY=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:s,formatter:l,itemSorter:u,wrapperClassName:d,labelClassName:f,label:m,labelFormatter:g,accessibilityLayer:v=!1}=e,y=()=>{if(s&&s.length){var O={padding:0,margin:0},P=(u?M0(s,u):s).map((C,A)=>{if(C.type==="none")return null;var R=C.formatter||l||jY,{value:M,name:I}=C,z=M,q=I;if(R){var te=R(M,I,C,A,s);if(Array.isArray(te))[z,q]=te;else if(te!=null)z=te;else return null}var ue=Qv({display:"block",paddingTop:4,paddingBottom:4,color:C.color||"#000"},n);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(A),style:ue},Mn(q)?x.createElement("span",{className:"recharts-tooltip-item-name"},q):null,Mn(q)?x.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,x.createElement("span",{className:"recharts-tooltip-item-value"},z),x.createElement("span",{className:"recharts-tooltip-item-unit"},C.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:O},P)}return null},S=Qv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),k=Qv({margin:0},a),_=!gr(m),j=_?m:"",N=ht("recharts-default-tooltip",d),E=ht("recharts-tooltip-label",f);_&&g&&s!==void 0&&s!==null&&(j=g(m,s));var D=v?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",Nb({className:N,style:S},D),x.createElement("p",{className:E,style:k},x.isValidElement(j)?j:"".concat(j)),y())},Cc="recharts-tooltip-wrapper",NY={visibility:"hidden"};function OY(e){var{coordinate:t,translateX:r,translateY:n}=e;return ht(Cc,{["".concat(Cc,"-right")]:Te(r)&&t&&Te(t.x)&&r>=t.x,["".concat(Cc,"-left")]:Te(r)&&t&&Te(t.x)&&r<t.x,["".concat(Cc,"-bottom")]:Te(n)&&t&&Te(t.y)&&n>=t.y,["".concat(Cc,"-top")]:Te(n)&&t&&Te(t.y)&&n<t.y})}function hN(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:s,reverseDirection:l,tooltipDimension:u,viewBox:d,viewBoxDimension:f}=e;if(s&&Te(s[n]))return s[n];var m=r[n]-u-(a>0?a:0),g=r[n]+a;if(t[n])return l[n]?m:g;var v=d[n];if(v==null)return 0;if(l[n]){var y=m,S=v;return y<S?Math.max(g,v):Math.max(m,v)}if(f==null)return 0;var k=g+u,_=v+f;return k>_?Math.max(m,v):Math.max(g,v)}function AY(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function TY(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:s,tooltipBox:l,useTranslate3d:u,viewBox:d}=e,f,m,g;return l.height>0&&l.width>0&&r?(m=hN({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),g=hN({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),f=AY({translateX:m,translateY:g,useTranslate3d:u})):f=NY,{cssProperties:f,cssClasses:OY({translateX:m,translateY:g,coordinate:r})}}function mN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function If(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mN(Object(r),!0).forEach(function(n){Ob(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ob(e,t,r){return(t=CY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CY(e){var t=PY(e,"string");return typeof t=="symbol"?t:t+""}function PY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class DY extends x.PureComponent{constructor(){super(...arguments),Ob(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Ob(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:s,coordinate:l,hasPayload:u,isAnimationActive:d,offset:f,position:m,reverseDirection:g,useTranslate3d:v,viewBox:y,wrapperStyle:S,lastBoundingBox:k,innerRef:_,hasPortalFromProps:j}=this.props,{cssClasses:N,cssProperties:E}=TY({allowEscapeViewBox:r,coordinate:l,offsetTopLeft:f,position:m,reverseDirection:g,tooltipBox:{height:k.height,width:k.width},useTranslate3d:v,viewBox:y}),D=j?{}:If(If({transition:d&&t?"transform ".concat(n,"ms ").concat(a):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),O=If(If({},D),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},S);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:N,style:O,ref:_},s)}}var ED=()=>{var e;return(e=Oe(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Ab(){return Ab=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ab.apply(null,arguments)}function pN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pN(Object(r),!0).forEach(function(n){RY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RY(e,t,r){return(t=MY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MY(e){var t=$Y(e,"string");return typeof t=="symbol"?t:t+""}function $Y(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vN={curveBasisClosed:FV,curveBasisOpen:VV,curveBasis:HV,curveBumpX:BV,curveBumpY:qV,curveLinearClosed:KV,curveLinear:P0,curveMonotoneX:ZV,curveMonotoneY:GV,curveNatural:YV,curveStep:WV,curveStepAfter:JV,curveStepBefore:XV},Lh=e=>ft(e.x)&&ft(e.y),yN=e=>e.base!=null&&Lh(e.base)&&Lh(e),Pc=e=>e.x,Dc=e=>e.y,IY=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Ux(e));return(r==="curveMonotone"||r==="curveBump")&&t?vN["".concat(r).concat(t==="vertical"?"Y":"X")]:vN[r]||P0},LY=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:s=!1}=e,l=IY(t,a),u=s?r.filter(Lh):r,d;if(Array.isArray(n)){var f=r.map((y,S)=>gN(gN({},y),{},{base:n[S]}));a==="vertical"?d=Af().y(Dc).x1(Pc).x0(y=>y.base.x):d=Af().x(Pc).y1(Dc).y0(y=>y.base.y);var m=d.defined(yN).curve(l),g=s?f.filter(yN):f;return m(g)}a==="vertical"&&Te(n)?d=Af().y(Dc).x1(Pc).x0(n):Te(n)?d=Af().x(Pc).y1(Dc).y0(n):d=iP().x(Pc).y(Dc);var v=d.defined(Lh).curve(l);return v(u)},Qf=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var s=r&&r.length?LY(e):n;return x.createElement("path",Ab({},Qn(e),Bx(e),{className:ht("recharts-curve",t),d:s===null?void 0:s,ref:a}))},zY=["x","y","top","left","width","height","className"];function Tb(){return Tb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tb.apply(null,arguments)}function bN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function UY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bN(Object(r),!0).forEach(function(n){BY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BY(e,t,r){return(t=qY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qY(e){var t=HY(e,"string");return typeof t=="symbol"?t:t+""}function HY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FY(e,t){if(e==null)return{};var r,n,a=VY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function VY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var KY=(e,t,r,n,a,s)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),ZY=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:s=0,height:l=0,className:u}=e,d=FY(e,zY),f=UY({x:t,y:r,top:n,left:a,width:s,height:l},d);return!Te(t)||!Te(r)||!Te(s)||!Te(l)||!Te(n)||!Te(a)?null:x.createElement("path",Tb({},vn(f),{className:ht("recharts-cross",u),d:KY(t,r,s,l,n,a)}))};function GY(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function xN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xN(Object(r),!0).forEach(function(n){YY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YY(e,t,r){return(t=WY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WY(e){var t=XY(e,"string");return typeof t=="symbol"?t:t+""}function XY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JY=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),QY=(e,t,r)=>e.map(n=>"".concat(JY(n)," ").concat(t,"ms ").concat(r)).join(","),eW=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),mu=(e,t)=>Object.keys(t).reduce((r,n)=>wN(wN({},r),{},{[n]:e(n,t[n])}),{});function _N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_N(Object(r),!0).forEach(function(n){tW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_N(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tW(e,t,r){return(t=rW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rW(e){var t=nW(e,"string");return typeof t=="symbol"?t:t+""}function nW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zh=(e,t,r)=>e+(t-e)*r,Cb=e=>{var{from:t,to:r}=e;return t!==r},ND=(e,t,r)=>{var n=mu((a,s)=>{if(Cb(s)){var[l,u]=e(s.from,s.to,s.velocity);return Gt(Gt({},s),{},{from:l,velocity:u})}return s},t);return r<1?mu((a,s)=>Cb(s)?Gt(Gt({},s),{},{velocity:zh(s.velocity,n[a].velocity,r),from:zh(s.from,n[a].from,r)}):s,t):ND(e,n,r-1)};function aW(e,t,r,n,a,s){var l,u=n.reduce((v,y)=>Gt(Gt({},v),{},{[y]:{from:e[y],velocity:0,to:t[y]}}),{}),d=()=>mu((v,y)=>y.from,u),f=()=>!Object.values(u).filter(Cb).length,m=null,g=v=>{l||(l=v);var y=v-l,S=y/r.dt;u=ND(r,u,S),a(Gt(Gt(Gt({},e),t),d())),l=v,f()||(m=s.setTimeout(g))};return()=>(m=s.setTimeout(g),()=>{var v;(v=m)===null||v===void 0||v()})}function iW(e,t,r,n,a,s,l){var u=null,d=a.reduce((g,v)=>Gt(Gt({},g),{},{[v]:[e[v],t[v]]}),{}),f,m=g=>{f||(f=g);var v=(g-f)/n,y=mu((k,_)=>zh(..._,r(v)),d);if(s(Gt(Gt(Gt({},e),t),y)),v<1)u=l.setTimeout(m);else{var S=mu((k,_)=>zh(..._,r(1)),d);s(Gt(Gt(Gt({},e),t),S))}};return()=>(u=l.setTimeout(m),()=>{var g;(g=u)===null||g===void 0||g()})}const sW=(e,t,r,n,a,s)=>{var l=eW(e,t);return r==null?()=>(a(Gt(Gt({},e),t)),()=>{}):r.isStepper===!0?aW(e,t,r,l,a,s):iW(e,t,r,n,l,a,s)};var Uh=1e-4,OD=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],AD=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),SN=(e,t)=>r=>{var n=OD(e,t);return AD(n,r)},oW=(e,t)=>r=>{var n=OD(e,t),a=[...n.map((s,l)=>s*l).slice(1),0];return AD(a,r)},lW=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a,s=r[0].split("(");if(s[0]==="cubic-bezier"&&((a=s[1])===null||a===void 0?void 0:a.split(")")[0].split(",").length)===4){var l=s[1].split(")")[0].split(",").map(u=>parseFloat(u));return[l[0],l[1],l[2],l[3]]}}}return r.length===4?r:[0,0,1,1]},cW=(e,t,r,n)=>{var a=SN(e,r),s=SN(t,n),l=oW(e,r),u=f=>f>1?1:f<0?0:f,d=f=>{for(var m=f>1?1:f,g=m,v=0;v<8;++v){var y=a(g)-m,S=l(g);if(Math.abs(y-m)<Uh||S<Uh)return s(g);g=u(g-y/S)}return s(g)};return d.isStepper=!1,d},kN=function(){return cW(...lW(...arguments))},uW=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,s=(l,u,d)=>{var f=-(l-u)*r,m=d*n,g=d+(f-m)*a/1e3,v=d*a/1e3+l;return Math.abs(v-u)<Uh&&Math.abs(g)<Uh?[u,0]:[v,g]};return s.isStepper=!0,s.dt=a,s},dW=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return kN(e);case"spring":return uW();default:if(e.split("(")[0]==="cubic-bezier")return kN(e)}return typeof e=="function"?e:null};function fW(e){var t,r=()=>null,n=!1,a=null,s=l=>{if(!n){if(Array.isArray(l)){if(!l.length)return;var u=l,[d,...f]=u;if(typeof d=="number"){a=e.setTimeout(s.bind(null,f),d);return}s(d),a=e.setTimeout(s.bind(null,f));return}typeof l=="string"&&(t=l,r(t)),typeof l=="object"&&(t=l,r(t)),typeof l=="function"&&l()}};return{stop:()=>{n=!0},start:l=>{n=!1,a&&(a(),a=null),s(l)},subscribe:l=>(r=l,()=>{r=()=>null}),getTimeoutController:()=>e}}class hW{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,s=l=>{l-n>=r?t(l):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{a!=null&&cancelAnimationFrame(a)}}}function mW(){return fW(new hW)}var pW=x.createContext(mW);function gW(e,t){var r=x.useContext(pW);return x.useMemo(()=>t??r(e),[e,t,r])}var vW=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Nl={devToolsEnabled:!1,isSsr:vW()},yW={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},jN={t:0},ey={t:1};function TD(e){var t=Qr(e,yW),{isActive:r,canBegin:n,duration:a,easing:s,begin:l,onAnimationEnd:u,onAnimationStart:d,children:f}=t,m=r==="auto"?!Nl.isSsr:r,g=gW(t.animationId,t.animationManager),[v,y]=x.useState(m?jN:ey),S=x.useRef(null);return x.useEffect(()=>{m||y(ey)},[m]),x.useEffect(()=>{if(!m||!n)return Nu;var k=sW(jN,ey,dW(s),a,y,g.getTimeoutController()),_=()=>{S.current=k()};return g.start([d,l,_,a,u]),()=>{g.stop(),S.current&&S.current(),u()}},[m,n,a,s,l,d,u,g]),f(v.t)}function CD(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=x.useRef(ou(t)),n=x.useRef(e);return n.current!==e&&(r.current=ou(t),n.current=e),r.current}var bW=["radius"],xW=["radius"];function EN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function NN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EN(Object(r),!0).forEach(function(n){wW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wW(e,t,r){return(t=_W(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _W(e){var t=SW(e,"string");return typeof t=="symbol"?t:t+""}function SW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bh(){return Bh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bh.apply(null,arguments)}function ON(e,t){if(e==null)return{};var r,n,a=kW(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function kW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var AN=(e,t,r,n,a)=>{var s=Math.min(Math.abs(r)/2,Math.abs(n)/2),l=n>=0?1:-1,u=r>=0?1:-1,d=n>=0&&r>=0||n<0&&r<0?1:0,f;if(s>0&&a instanceof Array){for(var m=[0,0,0,0],g=0,v=4;g<v;g++)m[g]=a[g]>s?s:a[g];f="M".concat(e,",").concat(t+l*m[0]),m[0]>0&&(f+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(d,",").concat(e+u*m[0],",").concat(t)),f+="L ".concat(e+r-u*m[1],",").concat(t),m[1]>0&&(f+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(d,`,
        `).concat(e+r,",").concat(t+l*m[1])),f+="L ".concat(e+r,",").concat(t+n-l*m[2]),m[2]>0&&(f+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(d,`,
        `).concat(e+r-u*m[2],",").concat(t+n)),f+="L ".concat(e+u*m[3],",").concat(t+n),m[3]>0&&(f+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(t+n-l*m[3])),f+="Z"}else if(s>0&&a===+a&&a>0){var y=Math.min(s,a);f="M ".concat(e,",").concat(t+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e+u*y,",").concat(t,`
            L `).concat(e+r-u*y,",").concat(t,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e+r,",").concat(t+l*y,`
            L `).concat(e+r,",").concat(t+n-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e+r-u*y,",").concat(t+n,`
            L `).concat(e+u*y,",").concat(t+n,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e,",").concat(t+n-l*y," Z")}else f="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return f},TN={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},jW=e=>{var t=Qr(e,TN),r=x.useRef(null),[n,a]=x.useState(-1);x.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var H=r.current.getTotalLength();H&&a(H)}catch{}},[]);var{x:s,y:l,width:u,height:d,radius:f,className:m}=t,{animationEasing:g,animationDuration:v,animationBegin:y,isAnimationActive:S,isUpdateAnimationActive:k}=t,_=x.useRef(u),j=x.useRef(d),N=x.useRef(s),E=x.useRef(l),D=x.useMemo(()=>({x:s,y:l,width:u,height:d,radius:f}),[s,l,u,d,f]),O=CD(D,"rectangle-");if(s!==+s||l!==+l||u!==+u||d!==+d||u===0||d===0)return null;var P=ht("recharts-rectangle",m);if(!k){var C=vn(t),{radius:A}=C,R=ON(C,bW);return x.createElement("path",Bh({},R,{radius:typeof f=="number"?f:void 0,className:P,d:AN(s,l,u,d,f)}))}var M=_.current,I=j.current,z=N.current,q=E.current,te="0px ".concat(n===-1?1:n,"px"),ue="".concat(n,"px 0px"),B=QY(["strokeDasharray"],v,typeof g=="string"?g:TN.animationEasing);return x.createElement(TD,{animationId:O,key:O,canBegin:n>0,duration:v,easing:g,isActive:k,begin:y},H=>{var X=da(M,u,H),ee=da(I,d,H),ve=da(z,s,H),L=da(q,l,H);r.current&&(_.current=X,j.current=ee,N.current=ve,E.current=L);var K;S?H>0?K={transition:B,strokeDasharray:ue}:K={strokeDasharray:te}:K={strokeDasharray:ue};var F=vn(t),{radius:Z}=F,oe=ON(F,xW);return x.createElement("path",Bh({},oe,{radius:typeof f=="number"?f:void 0,className:P,d:AN(ve,L,X,ee,f),ref:r,style:NN(NN({},K),t.style)}))})};function CN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CN(Object(r),!0).forEach(function(n){EW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EW(e,t,r){return(t=NW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NW(e){var t=OW(e,"string");return typeof t=="symbol"?t:t+""}function OW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qh=Math.PI/180,AW=e=>e*180/Math.PI,pr=(e,t,r,n)=>({x:e+Math.cos(-qh*n)*r,y:t+Math.sin(-qh*n)*r}),TW=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},CW=(e,t)=>{var{x:r,y:n}=e,{x:a,y:s}=t;return Math.sqrt((r-a)**2+(n-s)**2)},PW=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:s}=t,l=CW({x:r,y:n},{x:a,y:s});if(l<=0)return{radius:l,angle:0};var u=(r-a)/l,d=Math.acos(u);return n>s&&(d=2*Math.PI-d),{radius:l,angle:AW(d),angleInRadian:d}},DW=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),s=Math.min(n,a);return{startAngle:t-s*360,endAngle:r-s*360}},RW=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),s=Math.floor(n/360),l=Math.min(a,s);return e+l*360},MW=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:s}=PW({x:r,y:n},t),{innerRadius:l,outerRadius:u}=t;if(a<l||a>u||a===0)return null;var{startAngle:d,endAngle:f}=DW(t),m=s,g;if(d<=f){for(;m>f;)m-=360;for(;m<d;)m+=360;g=m>=d&&m<=f}else{for(;m>d;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=d}return g?PN(PN({},t),{},{radius:a,angle:RW(m,t)}):null};function PD(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:s}=e,l=pr(t,r,n,a),u=pr(t,r,n,s);return{points:[l,u],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function Pb(){return Pb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pb.apply(null,arguments)}var $W=(e,t)=>{var r=Dn(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Lf=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:s,isExternal:l,cornerRadius:u,cornerIsExternal:d}=e,f=u*(l?1:-1)+n,m=Math.asin(u/f)/qh,g=d?a:a+s*m,v=pr(t,r,f,g),y=pr(t,r,n,g),S=d?a-s*m:a,k=pr(t,r,f*Math.cos(m*qh),S);return{center:v,circleTangency:y,lineTangency:k,theta:m}},DD=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:s,endAngle:l}=e,u=$W(s,l),d=s+u,f=pr(t,r,a,s),m=pr(t,r,a,d),g="M ".concat(f.x,",").concat(f.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(s>d),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(n>0){var v=pr(t,r,n,s),y=pr(t,r,n,d);g+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(s<=d),`,
            `).concat(v.x,",").concat(v.y," Z")}else g+="L ".concat(t,",").concat(r," Z");return g},IW=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}=e,m=Dn(f-d),{circleTangency:g,lineTangency:v,theta:y}=Lf({cx:t,cy:r,radius:a,angle:d,sign:m,cornerRadius:s,cornerIsExternal:u}),{circleTangency:S,lineTangency:k,theta:_}=Lf({cx:t,cy:r,radius:a,angle:f,sign:-m,cornerRadius:s,cornerIsExternal:u}),j=u?Math.abs(d-f):Math.abs(d-f)-y-_;if(j<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):DD({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:d,endAngle:f});var N="M ".concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(j>180),",").concat(+(m<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(k.x,",").concat(k.y,`
  `);if(n>0){var{circleTangency:E,lineTangency:D,theta:O}=Lf({cx:t,cy:r,radius:n,angle:d,sign:m,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),{circleTangency:P,lineTangency:C,theta:A}=Lf({cx:t,cy:r,radius:n,angle:f,sign:-m,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),R=u?Math.abs(d-f):Math.abs(d-f)-O-A;if(R<0&&s===0)return"".concat(N,"L").concat(t,",").concat(r,"Z");N+="L".concat(C.x,",").concat(C.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(R>180),",").concat(+(m>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(D.x,",").concat(D.y,"Z")}else N+="L".concat(t,",").concat(r,"Z");return N},LW={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},zW=e=>{var t=Qr(e,LW),{cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:d,startAngle:f,endAngle:m,className:g}=t;if(s<a||f===m)return null;var v=ht("recharts-sector",g),y=s-a,S=Yi(l,y,0,!0),k;return S>0&&Math.abs(f-m)<360?k=IW({cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:Math.min(S,y/2),forceCornerRadius:u,cornerIsExternal:d,startAngle:f,endAngle:m}):k=DD({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:f,endAngle:m}),x.createElement("path",Pb({},vn(t),{className:v,d:k}))};function UW(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(vP(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:s,outerRadius:l,angle:u}=t,d=pr(n,a,s,u),f=pr(n,a,l,u);return[{x:d.x,y:d.y},{x:f.x,y:f.y}]}return PD(t)}}var ty={},ry={},ny={},DN;function BW(){return DN||(DN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OP();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(ny)),ny}var RN;function qW(){return RN||(RN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BW();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(ry)),ry}var MN;function HW(){return MN||(MN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AP(),r=qW();function n(a,s,l){l&&typeof l!="number"&&t.isIterateeCall(a,s,l)&&(s=l=void 0),a=r.toFinite(a),s===void 0?(s=a,a=0):s=r.toFinite(s),l=l===void 0?a<s?1:-1:r.toFinite(l);const u=Math.max(Math.ceil((s-a)/(l||1)),0),d=new Array(u);for(let f=0;f<u;f++)d[f]=a,a+=l;return d}e.range=n})(ty)),ty}var ay,$N;function FW(){return $N||($N=1,ay=HW().range),ay}var VW=FW();const RD=xa(VW);function Gi(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function KW(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function tw(e){let t,r,n;e.length!==2?(t=Gi,r=(u,d)=>Gi(e(u),d),n=(u,d)=>e(u)-d):(t=e===Gi||e===KW?e:ZW,r=e,n=e);function a(u,d,f=0,m=u.length){if(f<m){if(t(d,d)!==0)return m;do{const g=f+m>>>1;r(u[g],d)<0?f=g+1:m=g}while(f<m)}return f}function s(u,d,f=0,m=u.length){if(f<m){if(t(d,d)!==0)return m;do{const g=f+m>>>1;r(u[g],d)<=0?f=g+1:m=g}while(f<m)}return f}function l(u,d,f=0,m=u.length){const g=a(u,d,f,m-1);return g>f&&n(u[g-1],d)>-n(u[g],d)?g-1:g}return{left:a,center:l,right:s}}function ZW(){return 0}function MD(e){return e===null?NaN:+e}function*GW(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const YW=tw(Gi),Mu=YW.right;tw(MD).center;class IN extends Map{constructor(t,r=JW){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(LN(this,t))}has(t){return super.has(LN(this,t))}set(t,r){return super.set(WW(this,t),r)}delete(t){return super.delete(XW(this,t))}}function LN({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function WW({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function XW({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function JW(e){return e!==null&&typeof e=="object"?e.valueOf():e}function QW(e=Gi){if(e===Gi)return $D;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function $D(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const eX=Math.sqrt(50),tX=Math.sqrt(10),rX=Math.sqrt(2);function Hh(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),l=s>=eX?10:s>=tX?5:s>=rX?2:1;let u,d,f;return a<0?(f=Math.pow(10,-a)/l,u=Math.round(e*f),d=Math.round(t*f),u/f<e&&++u,d/f>t&&--d,f=-f):(f=Math.pow(10,a)*l,u=Math.round(e/f),d=Math.round(t/f),u*f<e&&++u,d*f>t&&--d),d<u&&.5<=r&&r<2?Hh(e,t,r*2):[u,d,f]}function Db(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,l]=n?Hh(t,e,r):Hh(e,t,r);if(!(s>=a))return[];const u=s-a+1,d=new Array(u);if(n)if(l<0)for(let f=0;f<u;++f)d[f]=(s-f)/-l;else for(let f=0;f<u;++f)d[f]=(s-f)*l;else if(l<0)for(let f=0;f<u;++f)d[f]=(a+f)/-l;else for(let f=0;f<u;++f)d[f]=(a+f)*l;return d}function Rb(e,t,r){return t=+t,e=+e,r=+r,Hh(e,t,r)[2]}function Mb(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Rb(t,e,r):Rb(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function zN(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function UN(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function ID(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?$D:QW(a);n>r;){if(n-r>600){const d=n-r+1,f=t-r+1,m=Math.log(d),g=.5*Math.exp(2*m/3),v=.5*Math.sqrt(m*g*(d-g)/d)*(f-d/2<0?-1:1),y=Math.max(r,Math.floor(t-f*g/d+v)),S=Math.min(n,Math.floor(t+(d-f)*g/d+v));ID(e,t,y,S,a)}const s=e[t];let l=r,u=n;for(Rc(e,r,t),a(e[n],s)>0&&Rc(e,r,n);l<u;){for(Rc(e,l,u),++l,--u;a(e[l],s)<0;)++l;for(;a(e[u],s)>0;)--u}a(e[r],s)===0?Rc(e,r,u):(++u,Rc(e,u,n)),u<=t&&(r=u+1),t<=u&&(n=u-1)}return e}function Rc(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function nX(e,t,r){if(e=Float64Array.from(GW(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return UN(e);if(t>=1)return zN(e);var n,a=(n-1)*t,s=Math.floor(a),l=zN(ID(e,s).subarray(0,s+1)),u=UN(e.subarray(s+1));return l+(u-l)*(a-s)}}function aX(e,t,r=MD){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),l=+r(e[s],s,e),u=+r(e[s+1],s+1,e);return l+(u-l)*(a-s)}}function iX(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function Un(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function fi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const $b=Symbol("implicit");function rw(){var e=new IN,t=[],r=[],n=$b;function a(s){let l=e.get(s);if(l===void 0){if(n!==$b)return n;e.set(s,l=t.push(s)-1)}return r[l%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new IN;for(const l of s)e.has(l)||e.set(l,t.push(l)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return rw(t,r).unknown(n)},Un.apply(a,arguments),a}function nw(){var e=rw().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,l,u=!1,d=0,f=0,m=.5;delete e.unknown;function g(){var v=t().length,y=a<n,S=y?a:n,k=y?n:a;s=(k-S)/Math.max(1,v-d+f*2),u&&(s=Math.floor(s)),S+=(k-S-s*(v-d))*m,l=s*(1-d),u&&(S=Math.round(S),l=Math.round(l));var _=iX(v).map(function(j){return S+s*j});return r(y?_.reverse():_)}return e.domain=function(v){return arguments.length?(t(v),g()):t()},e.range=function(v){return arguments.length?([n,a]=v,n=+n,a=+a,g()):[n,a]},e.rangeRound=function(v){return[n,a]=v,n=+n,a=+a,u=!0,g()},e.bandwidth=function(){return l},e.step=function(){return s},e.round=function(v){return arguments.length?(u=!!v,g()):u},e.padding=function(v){return arguments.length?(d=Math.min(1,f=+v),g()):d},e.paddingInner=function(v){return arguments.length?(d=Math.min(1,v),g()):d},e.paddingOuter=function(v){return arguments.length?(f=+v,g()):f},e.align=function(v){return arguments.length?(m=Math.max(0,Math.min(1,v)),g()):m},e.copy=function(){return nw(t(),[n,a]).round(u).paddingInner(d).paddingOuter(f).align(m)},Un.apply(g(),arguments)}function LD(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return LD(t())},e}function sX(){return LD(nw.apply(null,arguments).paddingInner(1))}function aw(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function zD(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function $u(){}var pu=.7,Fh=1/pu,ul="\\s*([+-]?\\d+)\\s*",gu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",oX=/^#([0-9a-f]{3,8})$/,lX=new RegExp(`^rgb\\(${ul},${ul},${ul}\\)$`),cX=new RegExp(`^rgb\\(${pa},${pa},${pa}\\)$`),uX=new RegExp(`^rgba\\(${ul},${ul},${ul},${gu}\\)$`),dX=new RegExp(`^rgba\\(${pa},${pa},${pa},${gu}\\)$`),fX=new RegExp(`^hsl\\(${gu},${pa},${pa}\\)$`),hX=new RegExp(`^hsla\\(${gu},${pa},${pa},${gu}\\)$`),BN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};aw($u,vu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:qN,formatHex:qN,formatHex8:mX,formatHsl:pX,formatRgb:HN,toString:HN});function qN(){return this.rgb().formatHex()}function mX(){return this.rgb().formatHex8()}function pX(){return UD(this).formatHsl()}function HN(){return this.rgb().formatRgb()}function vu(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=oX.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?FN(t):r===3?new Xr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?zf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?zf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=lX.exec(e))?new Xr(t[1],t[2],t[3],1):(t=cX.exec(e))?new Xr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=uX.exec(e))?zf(t[1],t[2],t[3],t[4]):(t=dX.exec(e))?zf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=fX.exec(e))?ZN(t[1],t[2]/100,t[3]/100,1):(t=hX.exec(e))?ZN(t[1],t[2]/100,t[3]/100,t[4]):BN.hasOwnProperty(e)?FN(BN[e]):e==="transparent"?new Xr(NaN,NaN,NaN,0):null}function FN(e){return new Xr(e>>16&255,e>>8&255,e&255,1)}function zf(e,t,r,n){return n<=0&&(e=t=r=NaN),new Xr(e,t,r,n)}function gX(e){return e instanceof $u||(e=vu(e)),e?(e=e.rgb(),new Xr(e.r,e.g,e.b,e.opacity)):new Xr}function Ib(e,t,r,n){return arguments.length===1?gX(e):new Xr(e,t,r,n??1)}function Xr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}aw(Xr,Ib,zD($u,{brighter(e){return e=e==null?Fh:Math.pow(Fh,e),new Xr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?pu:Math.pow(pu,e),new Xr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Xr(Us(this.r),Us(this.g),Us(this.b),Vh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:VN,formatHex:VN,formatHex8:vX,formatRgb:KN,toString:KN}));function VN(){return`#${$s(this.r)}${$s(this.g)}${$s(this.b)}`}function vX(){return`#${$s(this.r)}${$s(this.g)}${$s(this.b)}${$s((isNaN(this.opacity)?1:this.opacity)*255)}`}function KN(){const e=Vh(this.opacity);return`${e===1?"rgb(":"rgba("}${Us(this.r)}, ${Us(this.g)}, ${Us(this.b)}${e===1?")":`, ${e})`}`}function Vh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Us(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function $s(e){return e=Us(e),(e<16?"0":"")+e.toString(16)}function ZN(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Wn(e,t,r,n)}function UD(e){if(e instanceof Wn)return new Wn(e.h,e.s,e.l,e.opacity);if(e instanceof $u||(e=vu(e)),!e)return new Wn;if(e instanceof Wn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),l=NaN,u=s-a,d=(s+a)/2;return u?(t===s?l=(r-n)/u+(r<n)*6:r===s?l=(n-t)/u+2:l=(t-r)/u+4,u/=d<.5?s+a:2-s-a,l*=60):u=d>0&&d<1?0:l,new Wn(l,u,d,e.opacity)}function yX(e,t,r,n){return arguments.length===1?UD(e):new Wn(e,t,r,n??1)}function Wn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}aw(Wn,yX,zD($u,{brighter(e){return e=e==null?Fh:Math.pow(Fh,e),new Wn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?pu:Math.pow(pu,e),new Wn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Xr(iy(e>=240?e-240:e+120,a,n),iy(e,a,n),iy(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Wn(GN(this.h),Uf(this.s),Uf(this.l),Vh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Vh(this.opacity);return`${e===1?"hsl(":"hsla("}${GN(this.h)}, ${Uf(this.s)*100}%, ${Uf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function GN(e){return e=(e||0)%360,e<0?e+360:e}function Uf(e){return Math.max(0,Math.min(1,e||0))}function iy(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const iw=e=>()=>e;function bX(e,t){return function(r){return e+r*t}}function xX(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function wX(e){return(e=+e)==1?BD:function(t,r){return r-t?xX(t,r,e):iw(isNaN(t)?r:t)}}function BD(e,t){var r=t-e;return r?bX(e,r):iw(isNaN(e)?t:e)}const YN=(function e(t){var r=wX(t);function n(a,s){var l=r((a=Ib(a)).r,(s=Ib(s)).r),u=r(a.g,s.g),d=r(a.b,s.b),f=BD(a.opacity,s.opacity);return function(m){return a.r=l(m),a.g=u(m),a.b=d(m),a.opacity=f(m),a+""}}return n.gamma=e,n})(1);function _X(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function SX(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function kX(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),l;for(l=0;l<n;++l)a[l]=Ol(e[l],t[l]);for(;l<r;++l)s[l]=t[l];return function(u){for(l=0;l<n;++l)s[l]=a[l](u);return s}}function jX(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Kh(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function EX(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Ol(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var Lb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,sy=new RegExp(Lb.source,"g");function NX(e){return function(){return e}}function OX(e){return function(t){return e(t)+""}}function AX(e,t){var r=Lb.lastIndex=sy.lastIndex=0,n,a,s,l=-1,u=[],d=[];for(e=e+"",t=t+"";(n=Lb.exec(e))&&(a=sy.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),u[l]?u[l]+=s:u[++l]=s),(n=n[0])===(a=a[0])?u[l]?u[l]+=a:u[++l]=a:(u[++l]=null,d.push({i:l,x:Kh(n,a)})),r=sy.lastIndex;return r<t.length&&(s=t.slice(r),u[l]?u[l]+=s:u[++l]=s),u.length<2?d[0]?OX(d[0].x):NX(t):(t=d.length,function(f){for(var m=0,g;m<t;++m)u[(g=d[m]).i]=g.x(f);return u.join("")})}function Ol(e,t){var r=typeof t,n;return t==null||r==="boolean"?iw(t):(r==="number"?Kh:r==="string"?(n=vu(t))?(t=n,YN):AX:t instanceof vu?YN:t instanceof Date?jX:SX(t)?_X:Array.isArray(t)?kX:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?EX:Kh)(e,t)}function sw(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function TX(e,t){t===void 0&&(t=e,e=Ol);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(l){var u=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return s[u](l-u)}}function CX(e){return function(){return e}}function Zh(e){return+e}var WN=[0,1];function Pr(e){return e}function zb(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:CX(isNaN(t)?NaN:.5)}function PX(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function DX(e,t,r){var n=e[0],a=e[1],s=t[0],l=t[1];return a<n?(n=zb(a,n),s=r(l,s)):(n=zb(n,a),s=r(s,l)),function(u){return s(n(u))}}function RX(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),l=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<n;)a[l]=zb(e[l],e[l+1]),s[l]=r(t[l],t[l+1]);return function(u){var d=Mu(e,u,1,n)-1;return s[d](a[d](u))}}function Iu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function J0(){var e=WN,t=WN,r=Ol,n,a,s,l=Pr,u,d,f;function m(){var v=Math.min(e.length,t.length);return l!==Pr&&(l=PX(e[0],e[v-1])),u=v>2?RX:DX,d=f=null,g}function g(v){return v==null||isNaN(v=+v)?s:(d||(d=u(e.map(n),t,r)))(n(l(v)))}return g.invert=function(v){return l(a((f||(f=u(t,e.map(n),Kh)))(v)))},g.domain=function(v){return arguments.length?(e=Array.from(v,Zh),m()):e.slice()},g.range=function(v){return arguments.length?(t=Array.from(v),m()):t.slice()},g.rangeRound=function(v){return t=Array.from(v),r=sw,m()},g.clamp=function(v){return arguments.length?(l=v?!0:Pr,m()):l!==Pr},g.interpolate=function(v){return arguments.length?(r=v,m()):r},g.unknown=function(v){return arguments.length?(s=v,g):s},function(v,y){return n=v,a=y,m()}}function ow(){return J0()(Pr,Pr)}function MX(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Gh(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function yl(e){return e=Gh(Math.abs(e)),e?e[1]:NaN}function $X(e,t){return function(r,n){for(var a=r.length,s=[],l=0,u=e[0],d=0;a>0&&u>0&&(d+u+1>n&&(u=Math.max(1,n-d)),s.push(r.substring(a-=u,a+u)),!((d+=u+1)>n));)u=e[l=(l+1)%e.length];return s.reverse().join(t)}}function IX(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var LX=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function yu(e){if(!(t=LX.exec(e)))throw new Error("invalid format: "+e);var t;return new lw({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}yu.prototype=lw.prototype;function lw(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}lw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function zX(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var qD;function UX(e,t){var r=Gh(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(qD=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=n.length;return s===l?n:s>l?n+new Array(s-l+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Gh(e,Math.max(0,t+s-1))[0]}function XN(e,t){var r=Gh(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const JN={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:MX,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>XN(e*100,t),r:XN,s:UX,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function QN(e){return e}var eO=Array.prototype.map,tO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function BX(e){var t=e.grouping===void 0||e.thousands===void 0?QN:$X(eO.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?QN:IX(eO.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function f(g){g=yu(g);var v=g.fill,y=g.align,S=g.sign,k=g.symbol,_=g.zero,j=g.width,N=g.comma,E=g.precision,D=g.trim,O=g.type;O==="n"?(N=!0,O="g"):JN[O]||(E===void 0&&(E=12),D=!0,O="g"),(_||v==="0"&&y==="=")&&(_=!0,v="0",y="=");var P=k==="$"?r:k==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",C=k==="$"?n:/[%p]/.test(O)?l:"",A=JN[O],R=/[defgprs%]/.test(O);E=E===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function M(I){var z=P,q=C,te,ue,B;if(O==="c")q=A(I)+q,I="";else{I=+I;var H=I<0||1/I<0;if(I=isNaN(I)?d:A(Math.abs(I),E),D&&(I=zX(I)),H&&+I==0&&S!=="+"&&(H=!1),z=(H?S==="("?S:u:S==="-"||S==="("?"":S)+z,q=(O==="s"?tO[8+qD/3]:"")+q+(H&&S==="("?")":""),R){for(te=-1,ue=I.length;++te<ue;)if(B=I.charCodeAt(te),48>B||B>57){q=(B===46?a+I.slice(te+1):I.slice(te))+q,I=I.slice(0,te);break}}}N&&!_&&(I=t(I,1/0));var X=z.length+I.length+q.length,ee=X<j?new Array(j-X+1).join(v):"";switch(N&&_&&(I=t(ee+I,ee.length?j-q.length:1/0),ee=""),y){case"<":I=z+I+q+ee;break;case"=":I=z+ee+I+q;break;case"^":I=ee.slice(0,X=ee.length>>1)+z+I+q+ee.slice(X);break;default:I=ee+z+I+q;break}return s(I)}return M.toString=function(){return g+""},M}function m(g,v){var y=f((g=yu(g),g.type="f",g)),S=Math.max(-8,Math.min(8,Math.floor(yl(v)/3)))*3,k=Math.pow(10,-S),_=tO[8+S/3];return function(j){return y(k*j)+_}}return{format:f,formatPrefix:m}}var Bf,cw,HD;qX({thousands:",",grouping:[3],currency:["$",""]});function qX(e){return Bf=BX(e),cw=Bf.format,HD=Bf.formatPrefix,Bf}function HX(e){return Math.max(0,-yl(Math.abs(e)))}function FX(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(yl(t)/3)))*3-yl(Math.abs(e)))}function VX(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,yl(t)-yl(e))+1}function FD(e,t,r,n){var a=Mb(e,t,r),s;switch(n=yu(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=FX(a,l))&&(n.precision=s),HD(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=VX(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=HX(a))&&(n.precision=s-(n.type==="%")*2);break}}return cw(n)}function ts(e){var t=e.domain;return e.ticks=function(r){var n=t();return Db(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return FD(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,l=n[a],u=n[s],d,f,m=10;for(u<l&&(f=l,l=u,u=f,f=a,a=s,s=f);m-- >0;){if(f=Rb(l,u,r),f===d)return n[a]=l,n[s]=u,t(n);if(f>0)l=Math.floor(l/f)*f,u=Math.ceil(u/f)*f;else if(f<0)l=Math.ceil(l*f)/f,u=Math.floor(u*f)/f;else break;d=f}return e},e}function VD(){var e=ow();return e.copy=function(){return Iu(e,VD())},Un.apply(e,arguments),ts(e)}function KD(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Zh),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return KD(e).unknown(t)},e=arguments.length?Array.from(e,Zh):[0,1],ts(r)}function ZD(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],l;return s<a&&(l=r,r=n,n=l,l=a,a=s,s=l),e[r]=t.floor(a),e[n]=t.ceil(s),e}function rO(e){return Math.log(e)}function nO(e){return Math.exp(e)}function KX(e){return-Math.log(-e)}function ZX(e){return-Math.exp(-e)}function GX(e){return isFinite(e)?+("1e"+e):e<0?0:e}function YX(e){return e===10?GX:e===Math.E?Math.exp:t=>Math.pow(e,t)}function WX(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function aO(e){return(t,r)=>-e(-t,r)}function uw(e){const t=e(rO,nO),r=t.domain;let n=10,a,s;function l(){return a=WX(n),s=YX(n),r()[0]<0?(a=aO(a),s=aO(s),e(KX,ZX)):e(rO,nO),t}return t.base=function(u){return arguments.length?(n=+u,l()):n},t.domain=function(u){return arguments.length?(r(u),l()):r()},t.ticks=u=>{const d=r();let f=d[0],m=d[d.length-1];const g=m<f;g&&([f,m]=[m,f]);let v=a(f),y=a(m),S,k;const _=u==null?10:+u;let j=[];if(!(n%1)&&y-v<_){if(v=Math.floor(v),y=Math.ceil(y),f>0){for(;v<=y;++v)for(S=1;S<n;++S)if(k=v<0?S/s(-v):S*s(v),!(k<f)){if(k>m)break;j.push(k)}}else for(;v<=y;++v)for(S=n-1;S>=1;--S)if(k=v>0?S/s(-v):S*s(v),!(k<f)){if(k>m)break;j.push(k)}j.length*2<_&&(j=Db(f,m,_))}else j=Db(v,y,Math.min(y-v,_)).map(s);return g?j.reverse():j},t.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=yu(d)).precision==null&&(d.trim=!0),d=cw(d)),u===1/0)return d;const f=Math.max(1,n*u/t.ticks().length);return m=>{let g=m/s(Math.round(a(m)));return g*n<n-.5&&(g*=n),g<=f?d(m):""}},t.nice=()=>r(ZD(r(),{floor:u=>s(Math.floor(a(u))),ceil:u=>s(Math.ceil(a(u)))})),t}function GD(){const e=uw(J0()).domain([1,10]);return e.copy=()=>Iu(e,GD()).base(e.base()),Un.apply(e,arguments),e}function iO(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function sO(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function dw(e){var t=1,r=e(iO(t),sO(t));return r.constant=function(n){return arguments.length?e(iO(t=+n),sO(t)):t},ts(r)}function YD(){var e=dw(J0());return e.copy=function(){return Iu(e,YD()).constant(e.constant())},Un.apply(e,arguments)}function oO(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function XX(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function JX(e){return e<0?-e*e:e*e}function fw(e){var t=e(Pr,Pr),r=1;function n(){return r===1?e(Pr,Pr):r===.5?e(XX,JX):e(oO(r),oO(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},ts(t)}function hw(){var e=fw(J0());return e.copy=function(){return Iu(e,hw()).exponent(e.exponent())},Un.apply(e,arguments),e}function QX(){return hw.apply(null,arguments).exponent(.5)}function lO(e){return Math.sign(e)*e*e}function eJ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function WD(){var e=ow(),t=[0,1],r=!1,n;function a(s){var l=eJ(e(s));return isNaN(l)?n:r?Math.round(l):l}return a.invert=function(s){return e.invert(lO(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,Zh)).map(lO)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return WD(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Un.apply(a,arguments),ts(a)}function XD(){var e=[],t=[],r=[],n;function a(){var l=0,u=Math.max(1,t.length);for(r=new Array(u-1);++l<u;)r[l-1]=aX(e,l/u);return s}function s(l){return l==null||isNaN(l=+l)?n:t[Mu(r,l)]}return s.invertExtent=function(l){var u=t.indexOf(l);return u<0?[NaN,NaN]:[u>0?r[u-1]:e[0],u<r.length?r[u]:e[e.length-1]]},s.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let u of l)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Gi),a()},s.range=function(l){return arguments.length?(t=Array.from(l),a()):t.slice()},s.unknown=function(l){return arguments.length?(n=l,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return XD().domain(e).range(t).unknown(n)},Un.apply(s,arguments)}function JD(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function l(d){return d!=null&&d<=d?a[Mu(n,d,0,r)]:s}function u(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*t-(d-r)*e)/(r+1);return l}return l.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,u()):[e,t]},l.range=function(d){return arguments.length?(r=(a=Array.from(d)).length-1,u()):a.slice()},l.invertExtent=function(d){var f=a.indexOf(d);return f<0?[NaN,NaN]:f<1?[e,n[0]]:f>=r?[n[r-1],t]:[n[f-1],n[f]]},l.unknown=function(d){return arguments.length&&(s=d),l},l.thresholds=function(){return n.slice()},l.copy=function(){return JD().domain([e,t]).range(a).unknown(s)},Un.apply(ts(l),arguments)}function QD(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[Mu(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var l=t.indexOf(s);return[e[l-1],e[l]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return QD().domain(e).range(t).unknown(r)},Un.apply(a,arguments)}const oy=new Date,ly=new Date;function Wt(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const l=a(s),u=a.ceil(s);return s-l<u-s?l:u},a.offset=(s,l)=>(t(s=new Date(+s),l==null?1:Math.floor(l)),s),a.range=(s,l,u)=>{const d=[];if(s=a.ceil(s),u=u==null?1:Math.floor(u),!(s<l)||!(u>0))return d;let f;do d.push(f=new Date(+s)),t(s,u),e(s);while(f<s&&s<l);return d},a.filter=s=>Wt(l=>{if(l>=l)for(;e(l),!s(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!s(l););else for(;--u>=0;)for(;t(l,1),!s(l););}),r&&(a.count=(s,l)=>(oy.setTime(+s),ly.setTime(+l),e(oy),e(ly),Math.floor(r(oy,ly))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?l=>n(l)%s===0:l=>a.count(0,l)%s===0):a)),a}const Yh=Wt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Yh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Wt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Yh);Yh.range;const Ga=1e3,Rn=Ga*60,Ya=Rn*60,ni=Ya*24,mw=ni*7,cO=ni*30,cy=ni*365,Is=Wt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ga)},(e,t)=>(t-e)/Ga,e=>e.getUTCSeconds());Is.range;const pw=Wt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ga)},(e,t)=>{e.setTime(+e+t*Rn)},(e,t)=>(t-e)/Rn,e=>e.getMinutes());pw.range;const gw=Wt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Rn)},(e,t)=>(t-e)/Rn,e=>e.getUTCMinutes());gw.range;const vw=Wt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ga-e.getMinutes()*Rn)},(e,t)=>{e.setTime(+e+t*Ya)},(e,t)=>(t-e)/Ya,e=>e.getHours());vw.range;const yw=Wt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ya)},(e,t)=>(t-e)/Ya,e=>e.getUTCHours());yw.range;const Lu=Wt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Rn)/ni,e=>e.getDate()-1);Lu.range;const Q0=Wt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ni,e=>e.getUTCDate()-1);Q0.range;const e4=Wt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ni,e=>Math.floor(e/ni));e4.range;function ao(e){return Wt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Rn)/mw)}const em=ao(0),Wh=ao(1),tJ=ao(2),rJ=ao(3),bl=ao(4),nJ=ao(5),aJ=ao(6);em.range;Wh.range;tJ.range;rJ.range;bl.range;nJ.range;aJ.range;function io(e){return Wt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/mw)}const tm=io(0),Xh=io(1),iJ=io(2),sJ=io(3),xl=io(4),oJ=io(5),lJ=io(6);tm.range;Xh.range;iJ.range;sJ.range;xl.range;oJ.range;lJ.range;const bw=Wt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());bw.range;const xw=Wt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());xw.range;const ai=Wt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ai.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Wt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});ai.range;const ii=Wt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ii.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Wt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ii.range;function t4(e,t,r,n,a,s){const l=[[Is,1,Ga],[Is,5,5*Ga],[Is,15,15*Ga],[Is,30,30*Ga],[s,1,Rn],[s,5,5*Rn],[s,15,15*Rn],[s,30,30*Rn],[a,1,Ya],[a,3,3*Ya],[a,6,6*Ya],[a,12,12*Ya],[n,1,ni],[n,2,2*ni],[r,1,mw],[t,1,cO],[t,3,3*cO],[e,1,cy]];function u(f,m,g){const v=m<f;v&&([f,m]=[m,f]);const y=g&&typeof g.range=="function"?g:d(f,m,g),S=y?y.range(f,+m+1):[];return v?S.reverse():S}function d(f,m,g){const v=Math.abs(m-f)/g,y=tw(([,,_])=>_).right(l,v);if(y===l.length)return e.every(Mb(f/cy,m/cy,g));if(y===0)return Yh.every(Math.max(Mb(f,m,g),1));const[S,k]=l[v/l[y-1][2]<l[y][2]/v?y-1:y];return S.every(k)}return[u,d]}const[cJ,uJ]=t4(ii,xw,tm,e4,yw,gw),[dJ,fJ]=t4(ai,bw,em,Lu,vw,pw);function uy(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function dy(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Mc(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function hJ(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,l=e.shortDays,u=e.months,d=e.shortMonths,f=$c(a),m=Ic(a),g=$c(s),v=Ic(s),y=$c(l),S=Ic(l),k=$c(u),_=Ic(u),j=$c(d),N=Ic(d),E={a:H,A:X,b:ee,B:ve,c:null,d:pO,e:pO,f:$J,g:KJ,G:GJ,H:DJ,I:RJ,j:MJ,L:r4,m:IJ,M:LJ,p:L,q:K,Q:yO,s:bO,S:zJ,u:UJ,U:BJ,V:qJ,w:HJ,W:FJ,x:null,X:null,y:VJ,Y:ZJ,Z:YJ,"%":vO},D={a:F,A:Z,b:oe,B:ce,c:null,d:gO,e:gO,f:QJ,g:cQ,G:dQ,H:WJ,I:XJ,j:JJ,L:a4,m:eQ,M:tQ,p:ae,q:ye,Q:yO,s:bO,S:rQ,u:nQ,U:aQ,V:iQ,w:sQ,W:oQ,x:null,X:null,y:lQ,Y:uQ,Z:fQ,"%":vO},O={a:M,A:I,b:z,B:q,c:te,d:hO,e:hO,f:AJ,g:fO,G:dO,H:mO,I:mO,j:jJ,L:OJ,m:kJ,M:EJ,p:R,q:SJ,Q:CJ,s:PJ,S:NJ,u:yJ,U:bJ,V:xJ,w:vJ,W:wJ,x:ue,X:B,y:fO,Y:dO,Z:_J,"%":TJ};E.x=P(r,E),E.X=P(n,E),E.c=P(t,E),D.x=P(r,D),D.X=P(n,D),D.c=P(t,D);function P(G,xe){return function(pe){var Y=[],be=-1,ne=0,ge=G.length,fe,we,Ae;for(pe instanceof Date||(pe=new Date(+pe));++be<ge;)G.charCodeAt(be)===37&&(Y.push(G.slice(ne,be)),(we=uO[fe=G.charAt(++be)])!=null?fe=G.charAt(++be):we=fe==="e"?" ":"0",(Ae=xe[fe])&&(fe=Ae(pe,we)),Y.push(fe),ne=be+1);return Y.push(G.slice(ne,be)),Y.join("")}}function C(G,xe){return function(pe){var Y=Mc(1900,void 0,1),be=A(Y,G,pe+="",0),ne,ge;if(be!=pe.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(xe&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(ne=dy(Mc(Y.y,0,1)),ge=ne.getUTCDay(),ne=ge>4||ge===0?Xh.ceil(ne):Xh(ne),ne=Q0.offset(ne,(Y.V-1)*7),Y.y=ne.getUTCFullYear(),Y.m=ne.getUTCMonth(),Y.d=ne.getUTCDate()+(Y.w+6)%7):(ne=uy(Mc(Y.y,0,1)),ge=ne.getDay(),ne=ge>4||ge===0?Wh.ceil(ne):Wh(ne),ne=Lu.offset(ne,(Y.V-1)*7),Y.y=ne.getFullYear(),Y.m=ne.getMonth(),Y.d=ne.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),ge="Z"in Y?dy(Mc(Y.y,0,1)).getUTCDay():uy(Mc(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(ge+5)%7:Y.w+Y.U*7-(ge+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,dy(Y)):uy(Y)}}function A(G,xe,pe,Y){for(var be=0,ne=xe.length,ge=pe.length,fe,we;be<ne;){if(Y>=ge)return-1;if(fe=xe.charCodeAt(be++),fe===37){if(fe=xe.charAt(be++),we=O[fe in uO?xe.charAt(be++):fe],!we||(Y=we(G,pe,Y))<0)return-1}else if(fe!=pe.charCodeAt(Y++))return-1}return Y}function R(G,xe,pe){var Y=f.exec(xe.slice(pe));return Y?(G.p=m.get(Y[0].toLowerCase()),pe+Y[0].length):-1}function M(G,xe,pe){var Y=y.exec(xe.slice(pe));return Y?(G.w=S.get(Y[0].toLowerCase()),pe+Y[0].length):-1}function I(G,xe,pe){var Y=g.exec(xe.slice(pe));return Y?(G.w=v.get(Y[0].toLowerCase()),pe+Y[0].length):-1}function z(G,xe,pe){var Y=j.exec(xe.slice(pe));return Y?(G.m=N.get(Y[0].toLowerCase()),pe+Y[0].length):-1}function q(G,xe,pe){var Y=k.exec(xe.slice(pe));return Y?(G.m=_.get(Y[0].toLowerCase()),pe+Y[0].length):-1}function te(G,xe,pe){return A(G,t,xe,pe)}function ue(G,xe,pe){return A(G,r,xe,pe)}function B(G,xe,pe){return A(G,n,xe,pe)}function H(G){return l[G.getDay()]}function X(G){return s[G.getDay()]}function ee(G){return d[G.getMonth()]}function ve(G){return u[G.getMonth()]}function L(G){return a[+(G.getHours()>=12)]}function K(G){return 1+~~(G.getMonth()/3)}function F(G){return l[G.getUTCDay()]}function Z(G){return s[G.getUTCDay()]}function oe(G){return d[G.getUTCMonth()]}function ce(G){return u[G.getUTCMonth()]}function ae(G){return a[+(G.getUTCHours()>=12)]}function ye(G){return 1+~~(G.getUTCMonth()/3)}return{format:function(G){var xe=P(G+="",E);return xe.toString=function(){return G},xe},parse:function(G){var xe=C(G+="",!1);return xe.toString=function(){return G},xe},utcFormat:function(G){var xe=P(G+="",D);return xe.toString=function(){return G},xe},utcParse:function(G){var xe=C(G+="",!0);return xe.toString=function(){return G},xe}}}var uO={"-":"",_:" ",0:"0"},ir=/^\s*\d+/,mJ=/^%/,pJ=/[\\^$*+?|[\]().{}]/g;function Je(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function gJ(e){return e.replace(pJ,"\\$&")}function $c(e){return new RegExp("^(?:"+e.map(gJ).join("|")+")","i")}function Ic(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function vJ(e,t,r){var n=ir.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function yJ(e,t,r){var n=ir.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function bJ(e,t,r){var n=ir.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function xJ(e,t,r){var n=ir.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function wJ(e,t,r){var n=ir.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function dO(e,t,r){var n=ir.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function fO(e,t,r){var n=ir.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function _J(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function SJ(e,t,r){var n=ir.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function kJ(e,t,r){var n=ir.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function hO(e,t,r){var n=ir.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function jJ(e,t,r){var n=ir.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function mO(e,t,r){var n=ir.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function EJ(e,t,r){var n=ir.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function NJ(e,t,r){var n=ir.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function OJ(e,t,r){var n=ir.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function AJ(e,t,r){var n=ir.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function TJ(e,t,r){var n=mJ.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function CJ(e,t,r){var n=ir.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function PJ(e,t,r){var n=ir.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function pO(e,t){return Je(e.getDate(),t,2)}function DJ(e,t){return Je(e.getHours(),t,2)}function RJ(e,t){return Je(e.getHours()%12||12,t,2)}function MJ(e,t){return Je(1+Lu.count(ai(e),e),t,3)}function r4(e,t){return Je(e.getMilliseconds(),t,3)}function $J(e,t){return r4(e,t)+"000"}function IJ(e,t){return Je(e.getMonth()+1,t,2)}function LJ(e,t){return Je(e.getMinutes(),t,2)}function zJ(e,t){return Je(e.getSeconds(),t,2)}function UJ(e){var t=e.getDay();return t===0?7:t}function BJ(e,t){return Je(em.count(ai(e)-1,e),t,2)}function n4(e){var t=e.getDay();return t>=4||t===0?bl(e):bl.ceil(e)}function qJ(e,t){return e=n4(e),Je(bl.count(ai(e),e)+(ai(e).getDay()===4),t,2)}function HJ(e){return e.getDay()}function FJ(e,t){return Je(Wh.count(ai(e)-1,e),t,2)}function VJ(e,t){return Je(e.getFullYear()%100,t,2)}function KJ(e,t){return e=n4(e),Je(e.getFullYear()%100,t,2)}function ZJ(e,t){return Je(e.getFullYear()%1e4,t,4)}function GJ(e,t){var r=e.getDay();return e=r>=4||r===0?bl(e):bl.ceil(e),Je(e.getFullYear()%1e4,t,4)}function YJ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Je(t/60|0,"0",2)+Je(t%60,"0",2)}function gO(e,t){return Je(e.getUTCDate(),t,2)}function WJ(e,t){return Je(e.getUTCHours(),t,2)}function XJ(e,t){return Je(e.getUTCHours()%12||12,t,2)}function JJ(e,t){return Je(1+Q0.count(ii(e),e),t,3)}function a4(e,t){return Je(e.getUTCMilliseconds(),t,3)}function QJ(e,t){return a4(e,t)+"000"}function eQ(e,t){return Je(e.getUTCMonth()+1,t,2)}function tQ(e,t){return Je(e.getUTCMinutes(),t,2)}function rQ(e,t){return Je(e.getUTCSeconds(),t,2)}function nQ(e){var t=e.getUTCDay();return t===0?7:t}function aQ(e,t){return Je(tm.count(ii(e)-1,e),t,2)}function i4(e){var t=e.getUTCDay();return t>=4||t===0?xl(e):xl.ceil(e)}function iQ(e,t){return e=i4(e),Je(xl.count(ii(e),e)+(ii(e).getUTCDay()===4),t,2)}function sQ(e){return e.getUTCDay()}function oQ(e,t){return Je(Xh.count(ii(e)-1,e),t,2)}function lQ(e,t){return Je(e.getUTCFullYear()%100,t,2)}function cQ(e,t){return e=i4(e),Je(e.getUTCFullYear()%100,t,2)}function uQ(e,t){return Je(e.getUTCFullYear()%1e4,t,4)}function dQ(e,t){var r=e.getUTCDay();return e=r>=4||r===0?xl(e):xl.ceil(e),Je(e.getUTCFullYear()%1e4,t,4)}function fQ(){return"+0000"}function vO(){return"%"}function yO(e){return+e}function bO(e){return Math.floor(+e/1e3)}var Yo,s4,o4;hQ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function hQ(e){return Yo=hJ(e),s4=Yo.format,Yo.parse,o4=Yo.utcFormat,Yo.utcParse,Yo}function mQ(e){return new Date(e)}function pQ(e){return e instanceof Date?+e:+new Date(+e)}function ww(e,t,r,n,a,s,l,u,d,f){var m=ow(),g=m.invert,v=m.domain,y=f(".%L"),S=f(":%S"),k=f("%I:%M"),_=f("%I %p"),j=f("%a %d"),N=f("%b %d"),E=f("%B"),D=f("%Y");function O(P){return(d(P)<P?y:u(P)<P?S:l(P)<P?k:s(P)<P?_:n(P)<P?a(P)<P?j:N:r(P)<P?E:D)(P)}return m.invert=function(P){return new Date(g(P))},m.domain=function(P){return arguments.length?v(Array.from(P,pQ)):v().map(mQ)},m.ticks=function(P){var C=v();return e(C[0],C[C.length-1],P??10)},m.tickFormat=function(P,C){return C==null?O:f(C)},m.nice=function(P){var C=v();return(!P||typeof P.range!="function")&&(P=t(C[0],C[C.length-1],P??10)),P?v(ZD(C,P)):m},m.copy=function(){return Iu(m,ww(e,t,r,n,a,s,l,u,d,f))},m}function gQ(){return Un.apply(ww(dJ,fJ,ai,bw,em,Lu,vw,pw,Is,s4).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function vQ(){return Un.apply(ww(cJ,uJ,ii,xw,tm,Q0,yw,gw,Is,o4).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function rm(){var e=0,t=1,r,n,a,s,l=Pr,u=!1,d;function f(g){return g==null||isNaN(g=+g)?d:l(a===0?.5:(g=(s(g)-r)*a,u?Math.max(0,Math.min(1,g)):g))}f.domain=function(g){return arguments.length?([e,t]=g,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),f):[e,t]},f.clamp=function(g){return arguments.length?(u=!!g,f):u},f.interpolator=function(g){return arguments.length?(l=g,f):l};function m(g){return function(v){var y,S;return arguments.length?([y,S]=v,l=g(y,S),f):[l(0),l(1)]}}return f.range=m(Ol),f.rangeRound=m(sw),f.unknown=function(g){return arguments.length?(d=g,f):d},function(g){return s=g,r=g(e),n=g(t),a=r===n?0:1/(n-r),f}}function rs(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function l4(){var e=ts(rm()(Pr));return e.copy=function(){return rs(e,l4())},fi.apply(e,arguments)}function c4(){var e=uw(rm()).domain([1,10]);return e.copy=function(){return rs(e,c4()).base(e.base())},fi.apply(e,arguments)}function u4(){var e=dw(rm());return e.copy=function(){return rs(e,u4()).constant(e.constant())},fi.apply(e,arguments)}function _w(){var e=fw(rm());return e.copy=function(){return rs(e,_w()).exponent(e.exponent())},fi.apply(e,arguments)}function yQ(){return _w.apply(null,arguments).exponent(.5)}function d4(){var e=[],t=Pr;function r(n){if(n!=null&&!isNaN(n=+n))return t((Mu(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Gi),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>nX(e,s/n))},r.copy=function(){return d4(t).domain(e)},fi.apply(r,arguments)}function nm(){var e=0,t=.5,r=1,n=1,a,s,l,u,d,f=Pr,m,g=!1,v;function y(k){return isNaN(k=+k)?v:(k=.5+((k=+m(k))-s)*(n*k<n*s?u:d),f(g?Math.max(0,Math.min(1,k)):k))}y.domain=function(k){return arguments.length?([e,t,r]=k,a=m(e=+e),s=m(t=+t),l=m(r=+r),u=a===s?0:.5/(s-a),d=s===l?0:.5/(l-s),n=s<a?-1:1,y):[e,t,r]},y.clamp=function(k){return arguments.length?(g=!!k,y):g},y.interpolator=function(k){return arguments.length?(f=k,y):f};function S(k){return function(_){var j,N,E;return arguments.length?([j,N,E]=_,f=TX(k,[j,N,E]),y):[f(0),f(.5),f(1)]}}return y.range=S(Ol),y.rangeRound=S(sw),y.unknown=function(k){return arguments.length?(v=k,y):v},function(k){return m=k,a=k(e),s=k(t),l=k(r),u=a===s?0:.5/(s-a),d=s===l?0:.5/(l-s),n=s<a?-1:1,y}}function f4(){var e=ts(nm()(Pr));return e.copy=function(){return rs(e,f4())},fi.apply(e,arguments)}function h4(){var e=uw(nm()).domain([.1,1,10]);return e.copy=function(){return rs(e,h4()).base(e.base())},fi.apply(e,arguments)}function m4(){var e=dw(nm());return e.copy=function(){return rs(e,m4()).constant(e.constant())},fi.apply(e,arguments)}function Sw(){var e=fw(nm());return e.copy=function(){return rs(e,Sw()).exponent(e.exponent())},fi.apply(e,arguments)}function bQ(){return Sw.apply(null,arguments).exponent(.5)}const Kc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:nw,scaleDiverging:f4,scaleDivergingLog:h4,scaleDivergingPow:Sw,scaleDivergingSqrt:bQ,scaleDivergingSymlog:m4,scaleIdentity:KD,scaleImplicit:$b,scaleLinear:VD,scaleLog:GD,scaleOrdinal:rw,scalePoint:sX,scalePow:hw,scaleQuantile:XD,scaleQuantize:JD,scaleRadial:WD,scaleSequential:l4,scaleSequentialLog:c4,scaleSequentialPow:_w,scaleSequentialQuantile:d4,scaleSequentialSqrt:yQ,scaleSequentialSymlog:u4,scaleSqrt:QX,scaleSymlog:YD,scaleThreshold:QD,scaleTime:gQ,scaleUtc:vQ,tickFormat:FD},Symbol.toStringTag,{value:"Module"}));var ns=e=>e.chartData,xQ=se([ns],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),kw=(e,t,r,n)=>n?xQ(e):ns(e);function Wi(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(ft(t)&&ft(r))return!0}return!1}function xO(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function p4(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,s;if(ft(r))a=r;else if(typeof r=="function")return;if(ft(n))s=n;else if(typeof n=="function")return;var l=[a,s];if(Wi(l))return l}}function wQ(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Wi(n))return xO(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,s]=e,l,u;if(a==="auto")t!=null&&(l=Math.min(...t));else if(Te(a))l=a;else if(typeof a=="function")try{t!=null&&(l=a(t?.[0]))}catch{}else if(typeof a=="string"&&WE.test(a)){var d=WE.exec(a);if(d==null||t==null)l=void 0;else{var f=+d[1];l=t[0]-f}}else l=t?.[0];if(s==="auto")t!=null&&(u=Math.max(...t));else if(Te(s))u=s;else if(typeof s=="function")try{t!=null&&(u=s(t?.[1]))}catch{}else if(typeof s=="string"&&XE.test(s)){var m=XE.exec(s);if(m==null||t==null)u=void 0;else{var g=+m[1];u=t[1]+g}}else u=t?.[1];var v=[l,u];if(Wi(v))return t==null?v:xO(v,t,r)}}}var Al=1e9,_Q={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Ew,_t=!0,In="[DecimalError] ",Bs=In+"Invalid argument: ",jw=In+"Exponent out of range: ",Tl=Math.floor,As=Math.pow,SQ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,hn,ar=1e7,yt=7,g4=9007199254740991,Jh=Tl(g4/yt),ke={};ke.absoluteValue=ke.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ke.comparedTo=ke.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};ke.decimalPlaces=ke.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*yt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ke.dividedBy=ke.div=function(e){return Ja(this,new this.constructor(e))};ke.dividedToIntegerBy=ke.idiv=function(e){var t=this,r=t.constructor;return ct(Ja(t,new r(e),0,1),r.precision)};ke.equals=ke.eq=function(e){return!this.cmp(e)};ke.exponent=function(){return Vt(this)};ke.greaterThan=ke.gt=function(e){return this.cmp(e)>0};ke.greaterThanOrEqualTo=ke.gte=function(e){return this.cmp(e)>=0};ke.isInteger=ke.isint=function(){return this.e>this.d.length-2};ke.isNegative=ke.isneg=function(){return this.s<0};ke.isPositive=ke.ispos=function(){return this.s>0};ke.isZero=function(){return this.s===0};ke.lessThan=ke.lt=function(e){return this.cmp(e)<0};ke.lessThanOrEqualTo=ke.lte=function(e){return this.cmp(e)<1};ke.logarithm=ke.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(hn))throw Error(In+"NaN");if(r.s<1)throw Error(In+(r.s?"NaN":"-Infinity"));return r.eq(hn)?new n(0):(_t=!1,t=Ja(bu(r,s),bu(e,s),s),_t=!0,ct(t,a))};ke.minus=ke.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?b4(t,e):v4(t,(e.s=-e.s,e))};ke.modulo=ke.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(In+"NaN");return r.s?(_t=!1,t=Ja(r,e,0,1).times(e),_t=!0,r.minus(t)):ct(new n(r),a)};ke.naturalExponential=ke.exp=function(){return y4(this)};ke.naturalLogarithm=ke.ln=function(){return bu(this)};ke.negated=ke.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ke.plus=ke.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?v4(t,e):b4(t,(e.s=-e.s,e))};ke.precision=ke.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Bs+e);if(t=Vt(a)+1,n=a.d.length-1,r=n*yt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ke.squareRoot=ke.sqrt=function(){var e,t,r,n,a,s,l,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(In+"NaN")}for(e=Vt(u),_t=!1,a=Math.sqrt(+u),a==0||a==1/0?(t=ha(u.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Tl((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new d(t)):n=new d(a.toString()),r=d.precision,a=l=r+3;;)if(s=n,n=s.plus(Ja(u,s,l+2)).times(.5),ha(s.d).slice(0,l)===(t=ha(n.d)).slice(0,l)){if(t=t.slice(l-3,l+1),a==l&&t=="4999"){if(ct(s,r+1,0),s.times(s).eq(u)){n=s;break}}else if(t!="9999")break;l+=4}return _t=!0,ct(n,r)};ke.times=ke.mul=function(e){var t,r,n,a,s,l,u,d,f,m=this,g=m.constructor,v=m.d,y=(e=new g(e)).d;if(!m.s||!e.s)return new g(0);for(e.s*=m.s,r=m.e+e.e,d=v.length,f=y.length,d<f&&(s=v,v=y,y=s,l=d,d=f,f=l),s=[],l=d+f,n=l;n--;)s.push(0);for(n=f;--n>=0;){for(t=0,a=d+n;a>n;)u=s[a]+y[n]*v[a-n-1]+t,s[a--]=u%ar|0,t=u/ar|0;s[a]=(s[a]+t)%ar|0}for(;!s[--l];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,_t?ct(e,g.precision):e};ke.toDecimalPlaces=ke.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ba(e,0,Al),t===void 0?t=n.rounding:ba(t,0,8),ct(r,e+Vt(r)+1,t))};ke.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Gs(n,!0):(ba(e,0,Al),t===void 0?t=a.rounding:ba(t,0,8),n=ct(new a(n),e+1,t),r=Gs(n,!0,e+1)),r};ke.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?Gs(a):(ba(e,0,Al),t===void 0?t=s.rounding:ba(t,0,8),n=ct(new s(a),e+Vt(a)+1,t),r=Gs(n.abs(),!1,e+Vt(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};ke.toInteger=ke.toint=function(){var e=this,t=e.constructor;return ct(new t(e),Vt(e)+1,t.rounding)};ke.toNumber=function(){return+this};ke.toPower=ke.pow=function(e){var t,r,n,a,s,l,u=this,d=u.constructor,f=12,m=+(e=new d(e));if(!e.s)return new d(hn);if(u=new d(u),!u.s){if(e.s<1)throw Error(In+"Infinity");return u}if(u.eq(hn))return u;if(n=d.precision,e.eq(hn))return ct(u,n);if(t=e.e,r=e.d.length-1,l=t>=r,s=u.s,l){if((r=m<0?-m:m)<=g4){for(a=new d(hn),t=Math.ceil(n/yt+4),_t=!1;r%2&&(a=a.times(u),_O(a.d,t)),r=Tl(r/2),r!==0;)u=u.times(u),_O(u.d,t);return _t=!0,e.s<0?new d(hn).div(a):ct(a,n)}}else if(s<0)throw Error(In+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,u.s=1,_t=!1,a=e.times(bu(u,n+f)),_t=!0,a=y4(a),a.s=s,a};ke.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=Vt(a),n=Gs(a,r<=s.toExpNeg||r>=s.toExpPos)):(ba(e,1,Al),t===void 0?t=s.rounding:ba(t,0,8),a=ct(new s(a),e,t),r=Vt(a),n=Gs(a,e<=r||r<=s.toExpNeg,e)),n};ke.toSignificantDigits=ke.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ba(e,1,Al),t===void 0?t=n.rounding:ba(t,0,8)),ct(new n(r),e,t)};ke.toString=ke.valueOf=ke.val=ke.toJSON=ke[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Vt(e),r=e.constructor;return Gs(e,t<=r.toExpNeg||t>=r.toExpPos)};function v4(e,t){var r,n,a,s,l,u,d,f,m=e.constructor,g=m.precision;if(!e.s||!t.s)return t.s||(t=new m(e)),_t?ct(t,g):t;if(d=e.d,f=t.d,l=e.e,a=t.e,d=d.slice(),s=l-a,s){for(s<0?(n=d,s=-s,u=f.length):(n=f,a=l,u=d.length),l=Math.ceil(g/yt),u=l>u?l+1:u+1,s>u&&(s=u,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(u=d.length,s=f.length,u-s<0&&(s=u,n=f,f=d,d=n),r=0;s;)r=(d[--s]=d[s]+f[s]+r)/ar|0,d[s]%=ar;for(r&&(d.unshift(r),++a),u=d.length;d[--u]==0;)d.pop();return t.d=d,t.e=a,_t?ct(t,g):t}function ba(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Bs+e)}function ha(e){var t,r,n,a=e.length-1,s="",l=e[0];if(a>0){for(s+=l,t=1;t<a;t++)n=e[t]+"",r=yt-n.length,r&&(s+=zi(r)),s+=n;l=e[t],n=l+"",r=yt-n.length,r&&(s+=zi(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var Ja=(function(){function e(n,a){var s,l=0,u=n.length;for(n=n.slice();u--;)s=n[u]*a+l,n[u]=s%ar|0,l=s/ar|0;return l&&n.unshift(l),n}function t(n,a,s,l){var u,d;if(s!=l)d=s>l?1:-1;else for(u=d=0;u<s;u++)if(n[u]!=a[u]){d=n[u]>a[u]?1:-1;break}return d}function r(n,a,s){for(var l=0;s--;)n[s]-=l,l=n[s]<a[s]?1:0,n[s]=l*ar+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,l){var u,d,f,m,g,v,y,S,k,_,j,N,E,D,O,P,C,A,R=n.constructor,M=n.s==a.s?1:-1,I=n.d,z=a.d;if(!n.s)return new R(n);if(!a.s)throw Error(In+"Division by zero");for(d=n.e-a.e,C=z.length,O=I.length,y=new R(M),S=y.d=[],f=0;z[f]==(I[f]||0);)++f;if(z[f]>(I[f]||0)&&--d,s==null?N=s=R.precision:l?N=s+(Vt(n)-Vt(a))+1:N=s,N<0)return new R(0);if(N=N/yt+2|0,f=0,C==1)for(m=0,z=z[0],N++;(f<O||m)&&N--;f++)E=m*ar+(I[f]||0),S[f]=E/z|0,m=E%z|0;else{for(m=ar/(z[0]+1)|0,m>1&&(z=e(z,m),I=e(I,m),C=z.length,O=I.length),D=C,k=I.slice(0,C),_=k.length;_<C;)k[_++]=0;A=z.slice(),A.unshift(0),P=z[0],z[1]>=ar/2&&++P;do m=0,u=t(z,k,C,_),u<0?(j=k[0],C!=_&&(j=j*ar+(k[1]||0)),m=j/P|0,m>1?(m>=ar&&(m=ar-1),g=e(z,m),v=g.length,_=k.length,u=t(g,k,v,_),u==1&&(m--,r(g,C<v?A:z,v))):(m==0&&(u=m=1),g=z.slice()),v=g.length,v<_&&g.unshift(0),r(k,g,_),u==-1&&(_=k.length,u=t(z,k,C,_),u<1&&(m++,r(k,C<_?A:z,_))),_=k.length):u===0&&(m++,k=[0]),S[f++]=m,u&&k[0]?k[_++]=I[D]||0:(k=[I[D]],_=1);while((D++<O||k[0]!==void 0)&&N--)}return S[0]||S.shift(),y.e=d,ct(y,l?s+Vt(y)+1:s)}})();function y4(e,t){var r,n,a,s,l,u,d=0,f=0,m=e.constructor,g=m.precision;if(Vt(e)>16)throw Error(jw+Vt(e));if(!e.s)return new m(hn);for(_t=!1,u=g,l=new m(.03125);e.abs().gte(.1);)e=e.times(l),f+=5;for(n=Math.log(As(2,f))/Math.LN10*2+5|0,u+=n,r=a=s=new m(hn),m.precision=u;;){if(a=ct(a.times(e),u),r=r.times(++d),l=s.plus(Ja(a,r,u)),ha(l.d).slice(0,u)===ha(s.d).slice(0,u)){for(;f--;)s=ct(s.times(s),u);return m.precision=g,t==null?(_t=!0,ct(s,g)):s}s=l}}function Vt(e){for(var t=e.e*yt,r=e.d[0];r>=10;r/=10)t++;return t}function fy(e,t,r){if(t>e.LN10.sd())throw _t=!0,r&&(e.precision=r),Error(In+"LN10 precision limit exceeded");return ct(new e(e.LN10),t)}function zi(e){for(var t="";e--;)t+="0";return t}function bu(e,t){var r,n,a,s,l,u,d,f,m,g=1,v=10,y=e,S=y.d,k=y.constructor,_=k.precision;if(y.s<1)throw Error(In+(y.s?"NaN":"-Infinity"));if(y.eq(hn))return new k(0);if(t==null?(_t=!1,f=_):f=t,y.eq(10))return t==null&&(_t=!0),fy(k,f);if(f+=v,k.precision=f,r=ha(S),n=r.charAt(0),s=Vt(y),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)y=y.times(e),r=ha(y.d),n=r.charAt(0),g++;s=Vt(y),n>1?(y=new k("0."+r),s++):y=new k(n+"."+r.slice(1))}else return d=fy(k,f+2,_).times(s+""),y=bu(new k(n+"."+r.slice(1)),f-v).plus(d),k.precision=_,t==null?(_t=!0,ct(y,_)):y;for(u=l=y=Ja(y.minus(hn),y.plus(hn),f),m=ct(y.times(y),f),a=3;;){if(l=ct(l.times(m),f),d=u.plus(Ja(l,new k(a),f)),ha(d.d).slice(0,f)===ha(u.d).slice(0,f))return u=u.times(2),s!==0&&(u=u.plus(fy(k,f+2,_).times(s+""))),u=Ja(u,new k(g),f),k.precision=_,t==null?(_t=!0,ct(u,_)):u;u=d,a+=2}}function wO(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Tl(r/yt),e.d=[],n=(r+1)%yt,r<0&&(n+=yt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=yt;n<a;)e.d.push(+t.slice(n,n+=yt));t=t.slice(n),n=yt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),_t&&(e.e>Jh||e.e<-Jh))throw Error(jw+r)}else e.s=0,e.e=0,e.d=[0];return e}function ct(e,t,r){var n,a,s,l,u,d,f,m,g=e.d;for(l=1,s=g[0];s>=10;s/=10)l++;if(n=t-l,n<0)n+=yt,a=t,f=g[m=0];else{if(m=Math.ceil((n+1)/yt),s=g.length,m>=s)return e;for(f=s=g[m],l=1;s>=10;s/=10)l++;n%=yt,a=n-yt+l}if(r!==void 0&&(s=As(10,l-a-1),u=f/s%10|0,d=t<0||g[m+1]!==void 0||f%s,d=r<4?(u||d)&&(r==0||r==(e.s<0?3:2)):u>5||u==5&&(r==4||d||r==6&&(n>0?a>0?f/As(10,l-a):0:g[m-1])%10&1||r==(e.s<0?8:7))),t<1||!g[0])return d?(s=Vt(e),g.length=1,t=t-s-1,g[0]=As(10,(yt-t%yt)%yt),e.e=Tl(-t/yt)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(n==0?(g.length=m,s=1,m--):(g.length=m+1,s=As(10,yt-n),g[m]=a>0?(f/As(10,l-a)%As(10,a)|0)*s:0),d)for(;;)if(m==0){(g[0]+=s)==ar&&(g[0]=1,++e.e);break}else{if(g[m]+=s,g[m]!=ar)break;g[m--]=0,s=1}for(n=g.length;g[--n]===0;)g.pop();if(_t&&(e.e>Jh||e.e<-Jh))throw Error(jw+Vt(e));return e}function b4(e,t){var r,n,a,s,l,u,d,f,m,g,v=e.constructor,y=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),_t?ct(t,y):t;if(d=e.d,g=t.d,n=t.e,f=e.e,d=d.slice(),l=f-n,l){for(m=l<0,m?(r=d,l=-l,u=g.length):(r=g,n=f,u=d.length),a=Math.max(Math.ceil(y/yt),u)+2,l>a&&(l=a,r.length=1),r.reverse(),a=l;a--;)r.push(0);r.reverse()}else{for(a=d.length,u=g.length,m=a<u,m&&(u=a),a=0;a<u;a++)if(d[a]!=g[a]){m=d[a]<g[a];break}l=0}for(m&&(r=d,d=g,g=r,t.s=-t.s),u=d.length,a=g.length-u;a>0;--a)d[u++]=0;for(a=g.length;a>l;){if(d[--a]<g[a]){for(s=a;s&&d[--s]===0;)d[s]=ar-1;--d[s],d[a]+=ar}d[a]-=g[a]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(t.d=d,t.e=n,_t?ct(t,y):t):new v(0)}function Gs(e,t,r){var n,a=Vt(e),s=ha(e.d),l=s.length;return t?(r&&(n=r-l)>0?s=s.charAt(0)+"."+s.slice(1)+zi(n):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+zi(-a-1)+s,r&&(n=r-l)>0&&(s+=zi(n))):a>=l?(s+=zi(a+1-l),r&&(n=r-a-1)>0&&(s=s+"."+zi(n))):((n=a+1)<l&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-l)>0&&(a+1===l&&(s+="."),s+=zi(n))),e.s<0?"-"+s:s}function _O(e,t){if(e.length>t)return e.length=t,!0}function x4(e){var t,r,n;function a(s){var l=this;if(!(l instanceof a))return new a(s);if(l.constructor=a,s instanceof a){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Bs+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return wO(l,s.toString())}else if(typeof s!="string")throw Error(Bs+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,SQ.test(s))wO(l,s);else throw Error(Bs+s)}if(a.prototype=ke,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=x4,a.config=a.set=kQ,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function kQ(e){if(!e||typeof e!="object")throw Error(In+"Object expected");var t,r,n,a=["precision",1,Al,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Tl(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Bs+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Bs+r+": "+n);return this}var Ew=x4(_Q);hn=new Ew(1);const at=Ew;var jQ=e=>e,w4={},_4=e=>e===w4,SO=e=>function t(){return arguments.length===0||arguments.length===1&&_4(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},S4=(e,t)=>e===1?t:SO(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var s=n.filter(l=>l!==w4).length;return s>=e?t(...n):S4(e-s,SO(function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];var f=n.map(m=>_4(m)?u.shift():m);return t(...f,...u)}))}),EQ=e=>S4(e.length,e),Ub=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},NQ=EQ((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),OQ=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return jQ;var a=r.reverse(),s=a[0],l=a.slice(1);return function(){return l.reduce((u,d)=>d(u),s(...arguments))}},Bb=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function k4(e){var t;return e===0?t=1:t=Math.floor(new at(e).abs().log(10).toNumber())+1,t}function j4(e,t,r){for(var n=new at(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var E4=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},N4=(e,t,r)=>{if(e.lte(0))return new at(0);var n=k4(e.toNumber()),a=new at(10).pow(n),s=e.div(a),l=n!==1?.05:.1,u=new at(Math.ceil(s.div(l).toNumber())).add(r).mul(l),d=u.mul(a);return t?new at(d.toNumber()):new at(Math.ceil(d.toNumber()))},AQ=(e,t,r)=>{var n=new at(1),a=new at(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new at(10).pow(k4(e)-1),a=new at(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new at(Math.floor(e)))}else e===0?a=new at(Math.floor((t-1)/2)):r||(a=new at(Math.floor(e)));var l=Math.floor((t-1)/2),u=OQ(NQ(d=>a.add(new at(d-l).mul(n)).toNumber()),Ub);return u(0,t)},O4=function(t,r,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new at(0),tickMin:new at(0),tickMax:new at(0)};var l=N4(new at(r).sub(t).div(n-1),a,s),u;t<=0&&r>=0?u=new at(0):(u=new at(t).add(r).div(2),u=u.sub(new at(u).mod(l)));var d=Math.ceil(u.sub(t).div(l).toNumber()),f=Math.ceil(new at(r).sub(u).div(l).toNumber()),m=d+f+1;return m>n?O4(t,r,n,a,s+1):(m<n&&(f=r>0?f+(n-m):f,d=r>0?d:d+(n-m)),{step:l,tickMin:u.sub(new at(d).mul(l)),tickMax:u.add(new at(f).mul(l))})},TQ=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(a,2),[u,d]=E4([r,n]);if(u===-1/0||d===1/0){var f=d===1/0?[u,...Ub(0,a-1).map(()=>1/0)]:[...Ub(0,a-1).map(()=>-1/0),d];return r>n?Bb(f):f}if(u===d)return AQ(u,a,s);var{step:m,tickMin:g,tickMax:v}=O4(u,d,l,s,0),y=j4(g,v.add(new at(.1).mul(m)),m);return r>n?Bb(y):y},CQ=function(t,r){var[n,a]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,u]=E4([n,a]);if(l===-1/0||u===1/0)return[n,a];if(l===u)return[l];var d=Math.max(r,2),f=N4(new at(u).sub(l).div(d-1),s,0),m=[...j4(new at(l),new at(u),f),u];return s===!1&&(m=m.map(g=>Math.round(g))),n>a?Bb(m):m},PQ=e=>e.rootProps.barCategoryGap,am=e=>e.rootProps.stackOffset,A4=e=>e.rootProps.reverseStackOrder,Nw=e=>e.options.chartName,Ow=e=>e.rootProps.syncId,T4=e=>e.rootProps.syncMethod,Aw=e=>e.options.eventEmitter,DQ=e=>e.rootProps.baseValue,jr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Ka={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},dn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},im=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},RQ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ka.angleAxisId,includeHidden:!1,name:void 0,reversed:Ka.reversed,scale:Ka.scale,tick:Ka.tick,tickCount:void 0,ticks:void 0,type:Ka.type,unit:void 0},MQ={allowDataOverflow:dn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:dn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:dn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:dn.scale,tick:dn.tick,tickCount:dn.tickCount,ticks:void 0,type:dn.type,unit:void 0},$Q={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ka.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ka.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ka.scale,tick:Ka.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},IQ={allowDataOverflow:dn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:dn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:dn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:dn.scale,tick:dn.tick,tickCount:dn.tickCount,ticks:void 0,type:"category",unit:void 0},Tw=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?$Q:RQ,Cw=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?IQ:MQ,sm=e=>e.polarOptions,Pw=se([ui,di,br],TW),C4=se([sm,Pw],(e,t)=>{if(e!=null)return Yi(e.innerRadius,t,0)}),P4=se([sm,Pw],(e,t)=>{if(e!=null)return Yi(e.outerRadius,t,t*.8)}),LQ=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},D4=se([sm],LQ);se([Tw,D4],im);var R4=se([Pw,C4,P4],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});se([Cw,R4],im);var M4=se([mt,sm,C4,P4,ui,di],(e,t,r,n,a,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:l,cy:u,startAngle:d,endAngle:f}=t;return{cx:Yi(l,a,a/2),cy:Yi(u,s,s/2),innerRadius:r,outerRadius:n,startAngle:d,endAngle:f,clockWise:!1}}}),Xt=(e,t)=>t,om=(e,t,r)=>r;function Dw(e){return e?.id}function $4(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:s}=r,l=new Map;return e.forEach(u=>{var d,f=(d=u.data)!==null&&d!==void 0?d:n;if(!(f==null||f.length===0)){var m=Dw(u);f.forEach((g,v)=>{var y=s==null||a?v:String(Er(g,s,null)),S=Er(g,u.dataKey,0),k;l.has(y)?k=l.get(y):k={},Object.assign(k,{[m]:S}),l.set(y,k)})}}),Array.from(l.values())}function Rw(e){return e.stackId!=null&&e.dataKey!=null}var lm=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function cm(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function zQ(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var Jt=e=>{var t=mt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Cl=e=>e.tooltip.settings.axisId;function kO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kO(Object(r),!0).forEach(function(n){UQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UQ(e,t,r){return(t=BQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BQ(e){var t=qQ(e,"string");return typeof t=="symbol"?t:t+""}function qQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qb=[0,"auto"],rr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},I4=(e,t)=>e.cartesianAxis.xAxis[t],wa=(e,t)=>{var r=I4(e,t);return r??rr},nr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:qb,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Cu},L4=(e,t)=>e.cartesianAxis.yAxis[t],_a=(e,t)=>{var r=L4(e,t);return r??nr},HQ={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Mw=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??HQ},Ir=(e,t,r)=>{switch(t){case"xAxis":return wa(e,r);case"yAxis":return _a(e,r);case"zAxis":return Mw(e,r);case"angleAxis":return Tw(e,r);case"radiusAxis":return Cw(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},FQ=(e,t,r)=>{switch(t){case"xAxis":return wa(e,r);case"yAxis":return _a(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},zu=(e,t,r)=>{switch(t){case"xAxis":return wa(e,r);case"yAxis":return _a(e,r);case"angleAxis":return Tw(e,r);case"radiusAxis":return Cw(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},z4=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function U4(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var B4=e=>e.graphicalItems.cartesianItems,VQ=se([Xt,om],U4),q4=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),Uu=se([B4,Ir,VQ],q4,{memoizeOptions:{resultEqualityCheck:cm}}),H4=se([Uu],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Rw)),F4=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),KQ=se([Uu],F4),V4=e=>e.map(t=>t.data).filter(Boolean).flat(1),ZQ=se([Uu],V4,{memoizeOptions:{resultEqualityCheck:cm}}),K4=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},$w=se([ZQ,kw],K4),Z4=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:Er(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:Er(a,n)}))):e.map(n=>({value:n})),um=se([$w,Ir,Uu],Z4);function G4(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function eh(e){if(Mn(e)||e instanceof Date){var t=Number(e);if(ft(t))return t}}function jO(e){if(Array.isArray(e)){var t=[eh(e[0]),eh(e[1])];return Wi(t)?t:void 0}var r=eh(e);if(r!=null)return[r,r]}function si(e){return e.map(eh).filter(uK)}function GQ(e,t,r){return!r||typeof t!="number"||yn(t)?[]:r.length?si(r.flatMap(n=>{var a=Er(e,n.dataKey),s,l;if(Array.isArray(a)?[s,l]=a:s=l=a,!(!ft(s)||!ft(l)))return[t-s,t+l]})):[]}var Qt=e=>{var t=Jt(e),r=Cl(e);return zu(e,t,r)},Bu=se([Qt],e=>e?.dataKey),YQ=se([H4,kw,Qt],$4),Y4=(e,t,r,n)=>{var a={},s=t.reduce((l,u)=>(u.stackId==null||(l[u.stackId]==null&&(l[u.stackId]=[]),l[u.stackId].push(u)),l),a);return Object.fromEntries(Object.entries(s).map(l=>{var[u,d]=l,f=n?[...d].reverse():d,m=f.map(Dw);return[u,{stackedData:bG(e,m,r),graphicalItems:f}]}))},Hb=se([YQ,H4,am,A4],Y4),W4=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:s}=t;if(n==null&&r!=="zAxis"){var l=SG(e,a,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},WQ=se([Ir],e=>e.allowDataOverflow),Iw=e=>{var t;if(e==null||!("domain"in e))return qb;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=si(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:qb},X4=se([Ir],Iw),J4=se([X4,WQ],p4),XQ=se([Hb,ns,Xt,J4],W4,{memoizeOptions:{resultEqualityCheck:lm}}),Lw=e=>e.errorBars,JQ=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>G4(r,n)),e0=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var s=a.flat(),l=Math.min(...s),u=Math.max(...s);return[l,u]}},Q4=(e,t,r,n,a)=>{var s,l;if(r.length>0&&e.forEach(u=>{r.forEach(d=>{var f,m,g=(f=n[d.id])===null||f===void 0?void 0:f.filter(j=>G4(a,j)),v=Er(u,(m=t.dataKey)!==null&&m!==void 0?m:d.dataKey),y=GQ(u,v,g);if(y.length>=2){var S=Math.min(...y),k=Math.max(...y);(s==null||S<s)&&(s=S),(l==null||k>l)&&(l=k)}var _=jO(v);_!=null&&(s=s==null?_[0]:Math.min(s,_[0]),l=l==null?_[1]:Math.max(l,_[1]))})}),t?.dataKey!=null&&e.forEach(u=>{var d=jO(Er(u,t.dataKey));d!=null&&(s=s==null?d[0]:Math.min(s,d[0]),l=l==null?d[1]:Math.max(l,d[1]))}),ft(s)&&ft(l))return[s,l]},QQ=se([$w,Ir,KQ,Lw,Xt],Q4,{memoizeOptions:{resultEqualityCheck:lm}});function eee(e){var{value:t}=e;if(Mn(t)||t instanceof Date)return t}var tee=(e,t,r)=>{var n=e.map(eee).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&pP(n))?RD(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},eR=e=>e.referenceElements.dots,Pl=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),ree=se([eR,Xt,om],Pl),tR=e=>e.referenceElements.areas,nee=se([tR,Xt,om],Pl),rR=e=>e.referenceElements.lines,aee=se([rR,Xt,om],Pl),nR=(e,t)=>{var r=si(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},iee=se(ree,Xt,nR),aR=(e,t)=>{var r=si(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},see=se([nee,Xt],aR);function oee(e){var t;if(e.x!=null)return si([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:si(r)}function lee(e){var t;if(e.y!=null)return si([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:si(r)}var iR=(e,t)=>{var r=e.flatMap(n=>t==="xAxis"?oee(n):lee(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},cee=se([aee,Xt],iR),uee=se(iee,cee,see,(e,t,r)=>e0(e,r,t)),sR=(e,t,r,n,a,s,l,u)=>{if(r!=null)return r;var d=l==="vertical"&&u==="xAxis"||l==="horizontal"&&u==="yAxis",f=d?e0(n,s,a):e0(s,a);return wQ(t,f,e.allowDataOverflow)},dee=se([Ir,X4,J4,XQ,QQ,uee,mt,Xt],sR,{memoizeOptions:{resultEqualityCheck:lm}}),fee=[0,1],oR=(e,t,r,n,a,s,l)=>{if(!((e==null||r==null||r.length===0)&&l===void 0)){var{dataKey:u,type:d}=e,f=ci(t,s);if(f&&u==null){var m;return RD(0,(m=r?.length)!==null&&m!==void 0?m:0)}return d==="category"?tee(n,e,f):a==="expand"?fee:l}},zw=se([Ir,mt,$w,um,am,Xt,dee],oR),lR=(e,t,r,n,a)=>{if(e!=null){var{scale:s,type:l}=e;if(s==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":l==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":l==="category"?"band":"linear";if(typeof s=="string"){var u="scale".concat(Ux(s));return u in Kc?u:"point"}}},qu=se([Ir,mt,z4,Nw,Xt],lR);function hee(e){if(e!=null){if(e in Kc)return Kc[e]();var t="scale".concat(Ux(e));if(t in Kc)return Kc[t]()}}function Uw(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=hee(t);if(a!=null){var s=a.domain(r).range(n);return pG(s),s}}}var cR=(e,t,r)=>{var n=Iw(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Wi(e))return TQ(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Wi(e))return CQ(e,t.tickCount,t.allowDecimals)}},Bw=se([zw,zu,qu],cR),uR=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&Wi(t)&&Array.isArray(r)&&r.length>0){var a=t[0],s=r[0],l=t[1],u=r[r.length-1];return[Math.min(a,s),Math.max(l,u)]}return t},mee=se([Ir,zw,Bw,Xt],uR),pee=se(um,Ir,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(si(e.map(u=>u.value))).sort((u,d)=>u-d);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var s=0;s<n.length-1;s++){var l=n[s+1]-n[s];r=Math.min(r,l)}return r/a}}),dR=se(pee,mt,PQ,br,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!ft(e))return 0;var s=t==="vertical"?n.height:n.width;if(a==="gap")return e*s/2;if(a==="no-gap"){var l=Yi(r,e*s),u=e*s/2;return u-l-(u-l)/s*l}return 0}),gee=(e,t)=>{var r=wa(e,t);return r==null||typeof r.padding!="string"?0:dR(e,"xAxis",t,r.padding)},vee=(e,t)=>{var r=_a(e,t);return r==null||typeof r.padding!="string"?0:dR(e,"yAxis",t,r.padding)},yee=se(wa,gee,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),bee=se(_a,vee,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),xee=se([br,yee,Z0,K0,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:s}=n;return a?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),wee=se([br,mt,bee,Z0,K0,(e,t,r)=>r],(e,t,r,n,a,s)=>{var{padding:l}=a;return s?[n.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Hu=(e,t,r,n)=>{var a;switch(t){case"xAxis":return xee(e,r,n);case"yAxis":return wee(e,r,n);case"zAxis":return(a=Mw(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return D4(e);case"radiusAxis":return R4(e,r);default:return}},fR=se([Ir,Hu],im),Xi=se([Ir,qu,mee,fR],Uw);se([Uu,Lw,Xt],JQ);function hR(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var dm=(e,t)=>t,fm=(e,t,r)=>r,_ee=se(F0,dm,fm,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(hR)),See=se(V0,dm,fm,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(hR)),mR=(e,t)=>({width:e.width,height:t.height}),kee=(e,t)=>{var r=typeof t.width=="number"?t.width:Cu;return{width:r,height:e.height}},jee=se(br,wa,mR),Eee=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},Nee=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},Oee=se(di,br,_ee,dm,fm,(e,t,r,n,a)=>{var s={},l;return r.forEach(u=>{var d=mR(t,u);l==null&&(l=Eee(t,n,e));var f=n==="top"&&!a||n==="bottom"&&a;s[u.id]=l-Number(f)*d.height,l+=(f?-1:1)*d.height}),s}),Aee=se(ui,br,See,dm,fm,(e,t,r,n,a)=>{var s={},l;return r.forEach(u=>{var d=kee(t,u);l==null&&(l=Nee(t,n,e));var f=n==="left"&&!a||n==="right"&&a;s[u.id]=l-Number(f)*d.width,l+=(f?-1:1)*d.width}),s}),Tee=(e,t)=>{var r=wa(e,t);if(r!=null)return Oee(e,r.orientation,r.mirror)},Cee=se([br,wa,Tee,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),Pee=(e,t)=>{var r=_a(e,t);if(r!=null)return Aee(e,r.orientation,r.mirror)},Dee=se([br,_a,Pee,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),Ree=se(br,_a,(e,t)=>{var r=typeof t.width=="number"?t.width:Cu;return{width:r,height:e.height}}),pR=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:s,dataKey:l}=r,u=ci(e,n),d=t.map(f=>f.value);if(l&&u&&s==="category"&&a&&pP(d))return d}},qw=se([mt,um,Ir,Xt],pR),gR=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:s}=r,l=ci(e,n);if(l&&(a==="number"||s!=="auto"))return t.map(u=>u.value)}},Hw=se([mt,um,zu,Xt],gR),EO=se([mt,FQ,qu,Xi,qw,Hw,Hu,Bw,Xt],(e,t,r,n,a,s,l,u,d)=>{if(t!=null){var f=ci(e,d);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:d,categoricalDomain:s,duplicateDomain:a,isCategorical:f,niceTicks:u,range:l,realScaleType:r,scale:n}}}),Mee=(e,t,r,n,a,s,l,u,d)=>{if(!(t==null||n==null)){var f=ci(e,d),{type:m,ticks:g,tickCount:v}=t,y=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,S=m==="category"&&n.bandwidth?n.bandwidth()/y:0;S=d==="angleAxis"&&s!=null&&s.length>=2?Dn(s[0]-s[1])*2*S:S;var k=g||a;if(k){var _=k.map((j,N)=>{var E=l?l.indexOf(j):j;return{index:N,coordinate:n(E)+S,value:j,offset:S}});return _.filter(j=>ft(j.coordinate))}return f&&u?u.map((j,N)=>({coordinate:n(j)+S,value:j,index:N,offset:S})).filter(j=>ft(j.coordinate)):n.ticks?n.ticks(v).map(j=>({coordinate:n(j)+S,value:j,offset:S})):n.domain().map((j,N)=>({coordinate:n(j)+S,value:l?l[j]:j,index:N,offset:S}))}},vR=se([mt,zu,qu,Xi,Bw,Hu,qw,Hw,Xt],Mee),$ee=(e,t,r,n,a,s,l)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var u=ci(e,l),{tickCount:d}=t,f=0;return f=l==="angleAxis"&&n?.length>=2?Dn(n[0]-n[1])*2*f:f,u&&s?s.map((m,g)=>({coordinate:r(m)+f,value:m,index:g,offset:f})):r.ticks?r.ticks(d).map(m=>({coordinate:r(m)+f,value:m,offset:f})):r.domain().map((m,g)=>({coordinate:r(m)+f,value:a?a[m]:m,index:g,offset:f}))}},yR=se([mt,zu,Xi,Hu,qw,Hw,Xt],$ee),bR=se(Ir,Xi,(e,t)=>{if(!(e==null||t==null))return Qh(Qh({},e),{},{scale:t})}),Iee=se([Ir,qu,zw,fR],Uw);se((e,t,r)=>Mw(e,r),Iee,(e,t)=>{if(!(e==null||t==null))return Qh(Qh({},e),{},{scale:t})});var Lee=se([mt,F0,V0],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),xR=e=>e.options.defaultTooltipEventType,wR=e=>e.options.validateTooltipEventTypes;function _R(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Fw(e,t){var r=xR(e),n=wR(e);return _R(t,r,n)}function zee(e){return Oe(t=>Fw(t,e))}var SR=(e,t)=>{var r,n=Number(t);if(!(yn(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},Uee=e=>e.tooltip.settings,Fi={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Bee={itemInteraction:{click:Fi,hover:Fi},axisInteraction:{click:Fi,hover:Fi},keyboardInteraction:Fi,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},kR=en({name:"tooltip",initialState:Bee,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:wt()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Jn(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:wt()},removeTooltipEntrySettings:{reducer(e,t){var r=Jn(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:wt()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:qee,replaceTooltipEntrySettings:Hee,removeTooltipEntrySettings:Fee,setTooltipSettingsState:Vee,setActiveMouseOverItemIndex:Kee,mouseLeaveItem:Jce,mouseLeaveChart:jR,setActiveClickItemIndex:Qce,setMouseOverAxisIndex:ER,setMouseClickAxisIndex:Zee,setSyncInteraction:Fb,setKeyboardInteraction:Vb}=kR.actions,Gee=kR.reducer;function NO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NO(Object(r),!0).forEach(function(n){Yee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yee(e,t,r){return(t=Wee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wee(e){var t=Xee(e,"string");return typeof t=="symbol"?t:t+""}function Xee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jee(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Qee(e){return e.index!=null}var NR=(e,t,r,n)=>{if(t==null)return Fi;var a=Jee(e,t,r);if(a==null)return Fi;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(Qee(a)){if(s)return qf(qf({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return qf(qf({},Fi),{},{coordinate:a.coordinate})};function ete(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function tte(e,t){var r=ete(e),n=t[0],a=t[1];if(r===void 0)return!1;var s=Math.min(n,a),l=Math.max(n,a);return r>=s&&r<=l}function rte(e,t,r){if(r==null||t==null)return!0;var n=Er(e,t);return n==null||!Wi(r)?!0:tte(n,r)}var Vw=(e,t,r,n)=>{var a=e?.index;if(a==null)return null;var s=Number(a);if(!ft(s))return a;var l=0,u=1/0;t.length>0&&(u=t.length-1);var d=Math.max(l,Math.min(s,u)),f=t[d];return f==null||rte(f,r,n)?String(d):null},OR=(e,t,r,n,a,s,l,u)=>{if(!(s==null||u==null)){var d=l[0],f=d==null?void 0:u(d.positions,s);if(f!=null)return f;var m=a?.[Number(s)];if(m)switch(r){case"horizontal":return{x:m.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:m.coordinate}}}},AR=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(s=>{var l;return((l=s.settings)===null||l===void 0?void 0:l.dataKey)===a})},Fu=e=>e.options.tooltipPayloadSearcher,Dl=e=>e.tooltip;function OO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function AO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OO(Object(r),!0).forEach(function(n){nte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nte(e,t,r){return(t=ate(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ate(e){var t=ite(e,"string");return typeof t=="symbol"?t:t+""}function ite(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ste(e,t){return e??t}var TR=(e,t,r,n,a,s,l)=>{if(!(t==null||s==null)){var{chartData:u,computedData:d,dataStartIndex:f,dataEndIndex:m}=r,g=[];return e.reduce((v,y)=>{var S,{dataDefinedOnItem:k,settings:_}=y,j=ste(k,u),N=Array.isArray(j)?sD(j,f,m):j,E=(S=_?.dataKey)!==null&&S!==void 0?S:n,D=_?.nameKey,O;if(n&&Array.isArray(N)&&!Array.isArray(N[0])&&l==="axis"?O=gP(N,n,a):O=s(N,t,d,D),Array.isArray(O))O.forEach(C=>{var A=AO(AO({},_),{},{name:C.name,unit:C.unit,color:void 0,fill:void 0});v.push(JE({tooltipEntrySettings:A,dataKey:C.dataKey,payload:C.payload,value:Er(C.payload,C.dataKey),name:C.name}))});else{var P;v.push(JE({tooltipEntrySettings:_,dataKey:E,payload:O,value:Er(O,E),name:(P=Er(O,D))!==null&&P!==void 0?P:_?.name}))}return v},g)}},Kw=se([Qt,mt,z4,Nw,Jt],lR),ote=se([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),lte=se([Jt,Cl],U4),Vu=se([ote,Qt,lte],q4,{memoizeOptions:{resultEqualityCheck:cm}}),cte=se([Vu],e=>e.filter(Rw)),ute=se([Vu],V4,{memoizeOptions:{resultEqualityCheck:cm}}),Rl=se([ute,ns],K4),dte=se([cte,ns,Qt],$4),Zw=se([Rl,Qt,Vu],Z4),CR=se([Qt],Iw),fte=se([Qt],e=>e.allowDataOverflow),PR=se([CR,fte],p4),hte=se([Vu],e=>e.filter(Rw)),mte=se([dte,hte,am,A4],Y4),pte=se([mte,ns,Jt,PR],W4),gte=se([Vu],F4),vte=se([Rl,Qt,gte,Lw,Jt],Q4,{memoizeOptions:{resultEqualityCheck:lm}}),yte=se([eR,Jt,Cl],Pl),bte=se([yte,Jt],nR),xte=se([tR,Jt,Cl],Pl),wte=se([xte,Jt],aR),_te=se([rR,Jt,Cl],Pl),Ste=se([_te,Jt],iR),kte=se([bte,Ste,wte],e0),jte=se([Qt,CR,PR,pte,vte,kte,mt,Jt],sR),Ku=se([Qt,mt,Rl,Zw,am,Jt,jte],oR),Ete=se([Ku,Qt,Kw],cR),Nte=se([Qt,Ku,Ete,Jt],uR),DR=e=>{var t=Jt(e),r=Cl(e),n=!1;return Hu(e,t,r,n)},RR=se([Qt,DR],im),MR=se([Qt,Kw,Nte,RR],Uw),Ote=se([mt,Zw,Qt,Jt],pR),Ate=se([mt,Zw,Qt,Jt],gR),Tte=(e,t,r,n,a,s,l,u)=>{if(t){var{type:d}=t,f=ci(e,u);if(n){var m=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,g=d==="category"&&n.bandwidth?n.bandwidth()/m:0;return g=u==="angleAxis"&&a!=null&&a?.length>=2?Dn(a[0]-a[1])*2*g:g,f&&l?l.map((v,y)=>({coordinate:n(v)+g,value:v,index:y,offset:g})):n.domain().map((v,y)=>({coordinate:n(v)+g,value:s?s[v]:v,index:y,offset:g}))}}},hi=se([mt,Qt,Kw,MR,DR,Ote,Ate,Jt],Tte),Gw=se([xR,wR,Uee],(e,t,r)=>_R(r.shared,e,t)),$R=e=>e.tooltip.settings.trigger,Yw=e=>e.tooltip.settings.defaultIndex,Zu=se([Dl,Gw,$R,Yw],NR),xu=se([Zu,Rl,Bu,Ku],Vw),IR=se([hi,xu],SR),Cte=se([Zu],e=>{if(e)return e.dataKey});se([Zu],e=>{if(e)return e.graphicalItemId});var LR=se([Dl,Gw,$R,Yw],AR),Pte=se([ui,di,mt,br,hi,Yw,LR,Fu],OR),Dte=se([Zu,Pte],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Rte=se([Zu],e=>e.active),Mte=se([LR,xu,ns,Bu,IR,Fu,Gw],TR),$te=se([Mte],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function TO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function CO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TO(Object(r),!0).forEach(function(n){Ite(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ite(e,t,r){return(t=Lte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lte(e){var t=zte(e,"string");return typeof t=="symbol"?t:t+""}function zte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ute=()=>Oe(Qt),Bte=()=>{var e=Ute(),t=Oe(hi),r=Oe(MR);return Dh(!e||!r?void 0:CO(CO({},e),{},{scale:r}),t)};function PO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PO(Object(r),!0).forEach(function(n){qte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qte(e,t,r){return(t=Hte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hte(e){var t=Fte(e,"string");return typeof t=="symbol"?t:t+""}function Fte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vte=(e,t,r,n)=>{var a=t.find(s=>s&&s.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},Kte=(e,t,r,n)=>{var a=t.find(f=>f&&f.index===r);if(a){if(e==="centric"){var s=a.coordinate,{radius:l}=n;return Wo(Wo(Wo({},n),pr(n.cx,n.cy,l,s)),{},{angle:s,radius:l})}var u=a.coordinate,{angle:d}=n;return Wo(Wo(Wo({},n),pr(n.cx,n.cy,u,d)),{},{angle:d,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Zte(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var zR=(e,t,r,n,a)=>{var s,l=-1,u=(s=t?.length)!==null&&s!==void 0?s:0;if(u<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var d=0;d<u;d++){var f=d>0?r[d-1].coordinate:r[u-1].coordinate,m=r[d].coordinate,g=d>=u-1?r[0].coordinate:r[d+1].coordinate,v=void 0;if(Dn(m-f)!==Dn(g-m)){var y=[];if(Dn(g-m)===Dn(a[1]-a[0])){v=g;var S=m+a[1]-a[0];y[0]=Math.min(S,(S+f)/2),y[1]=Math.max(S,(S+f)/2)}else{v=f;var k=g+a[1]-a[0];y[0]=Math.min(m,(k+m)/2),y[1]=Math.max(m,(k+m)/2)}var _=[Math.min(m,(v+m)/2),Math.max(m,(v+m)/2)];if(e>_[0]&&e<=_[1]||e>=y[0]&&e<=y[1]){({index:l}=r[d]);break}}else{var j=Math.min(f,g),N=Math.max(f,g);if(e>(j+m)/2&&e<=(N+m)/2){({index:l}=r[d]);break}}}else if(t){for(var E=0;E<u;E++)if(E===0&&e<=(t[E].coordinate+t[E+1].coordinate)/2||E>0&&E<u-1&&e>(t[E].coordinate+t[E-1].coordinate)/2&&e<=(t[E].coordinate+t[E+1].coordinate)/2||E===u-1&&e>(t[E].coordinate+t[E-1].coordinate)/2){({index:l}=t[E]);break}}return l},UR=()=>Oe(Nw),Ww=(e,t)=>t,BR=(e,t,r)=>r,Xw=(e,t,r,n)=>n,Gte=se(hi,e=>M0(e,t=>t.coordinate)),Jw=se([Dl,Ww,BR,Xw],NR),Qw=se([Jw,Rl,Bu,Ku],Vw),Yte=(e,t,r)=>{if(t!=null){var n=Dl(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},qR=se([Dl,Ww,BR,Xw],AR),t0=se([ui,di,mt,br,hi,Xw,qR,Fu],OR),Wte=se([Jw,t0],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),HR=se([hi,Qw],SR),Xte=se([qR,Qw,ns,Bu,HR,Fu,Ww],TR),Jte=se([Jw,Qw],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),Qte=(e,t,r,n,a,s,l)=>{if(!(!e||!r||!n||!a)&&Zte(e,l)){var u=kG(e,t),d=zR(u,s,a,r,n),f=Vte(t,a,d,e);return{activeIndex:String(d),activeCoordinate:f}}},ere=(e,t,r,n,a,s,l)=>{if(!(!e||!n||!a||!s||!r)){var u=MW(e,r);if(u){var d=jG(u,t),f=zR(d,l,s,n,a),m=Kte(t,s,f,u);return{activeIndex:String(f),activeCoordinate:m}}}},tre=(e,t,r,n,a,s,l,u)=>{if(!(!e||!t||!n||!a||!s))return t==="horizontal"||t==="vertical"?Qte(e,t,n,a,s,l,u):ere(e,t,r,n,a,s,l)},rre=se(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElementId:n.elementId}}),nre=se(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(jr)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:zQ}});function DO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function RO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DO(Object(r),!0).forEach(function(n){are(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function are(e,t,r){return(t=ire(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ire(e){var t=sre(e,"string");return typeof t=="symbol"?t:t+""}function sre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ore={},lre={zIndexMap:Object.values(jr).reduce((e,t)=>RO(RO({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),ore)},cre=new Set(Object.values(jr));function ure(e){return cre.has(e)}var FR=en({name:"zIndex",initialState:lre,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:wt()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!ure(r)&&delete e.zIndexMap[r])},prepare:wt()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElementId=n:e.zIndexMap[r].elementId=n:e.zIndexMap[r]={consumers:0,elementId:a?void 0:n,panoramaElementId:a?n:void 0}},prepare:wt()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:wt()}}}),{registerZIndexPortal:dre,unregisterZIndexPortal:fre,registerZIndexPortalId:hre,unregisterZIndexPortalId:mre}=FR.actions,pre=FR.reducer;function Sa(e){var{zIndex:t,children:r}=e,n=iY(),a=n&&t!==void 0&&t!==0,s=$r(),l=Yt();x.useLayoutEffect(()=>a?(l(dre({zIndex:t})),()=>{l(fre({zIndex:t}))}):Nu,[l,t,a]);var u=Oe(f=>rre(f,t,s));if(!a)return r;if(!u)return null;var d=document.getElementById(u);return d?eo.createPortal(r,d):null}function Kb(){return Kb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kb.apply(null,arguments)}function MO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MO(Object(r),!0).forEach(function(n){gre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gre(e,t,r){return(t=vre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vre(e){var t=yre(e,"string");return typeof t=="symbol"?t:t+""}function yre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bre(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return x.isValidElement(t)?x.cloneElement(t,n):x.createElement(r,n)}function xre(e){var t,{coordinate:r,payload:n,index:a,offset:s,tooltipAxisBandSize:l,layout:u,cursor:d,tooltipEventType:f,chartName:m}=e,g=r,v=n,y=a;if(!d||!g||m!=="ScatterChart"&&f!=="axis")return null;var S,k,_;if(m==="ScatterChart")S=g,k=ZY,_=jr.cursorLine;else if(m==="BarChart")S=GY(u,g,s,l),k=jW,_=jr.cursorRectangle;else if(u==="radial"&&vP(g)){var{cx:j,cy:N,radius:E,startAngle:D,endAngle:O}=PD(g);S={cx:j,cy:N,startAngle:D,endAngle:O,innerRadius:E,outerRadius:E},k=zW,_=jr.cursorLine}else S={points:UW(u,g,s)},k=Qf,_=jr.cursorLine;var P=typeof d=="object"&&"className"in d?d.className:void 0,C=Hf(Hf(Hf(Hf({stroke:"#ccc",pointerEvents:"none"},s),S),C0(d)),{},{payload:v,payloadIndex:y,className:ht("recharts-tooltip-cursor",P)});return x.createElement(Sa,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:_},x.createElement(bre,{cursor:d,cursorComp:k,cursorProps:C}))}function wre(e){var t=Bte(),r=gD(),n=Du(),a=UR();return t==null||r==null||n==null||a==null?null:x.createElement(xre,Kb({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var VR=x.createContext(null),_re=()=>x.useContext(VR),hy={exports:{}},$O;function Sre(){return $O||($O=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(d,f,m){this.fn=d,this.context=f,this.once=m||!1}function s(d,f,m,g,v){if(typeof m!="function")throw new TypeError("The listener must be a function");var y=new a(m,g||d,v),S=r?r+f:f;return d._events[S]?d._events[S].fn?d._events[S]=[d._events[S],y]:d._events[S].push(y):(d._events[S]=y,d._eventsCount++),d}function l(d,f){--d._eventsCount===0?d._events=new n:delete d._events[f]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],m,g;if(this._eventsCount===0)return f;for(g in m=this._events)t.call(m,g)&&f.push(r?g.slice(1):g);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(m)):f},u.prototype.listeners=function(f){var m=r?r+f:f,g=this._events[m];if(!g)return[];if(g.fn)return[g.fn];for(var v=0,y=g.length,S=new Array(y);v<y;v++)S[v]=g[v].fn;return S},u.prototype.listenerCount=function(f){var m=r?r+f:f,g=this._events[m];return g?g.fn?1:g.length:0},u.prototype.emit=function(f,m,g,v,y,S){var k=r?r+f:f;if(!this._events[k])return!1;var _=this._events[k],j=arguments.length,N,E;if(_.fn){switch(_.once&&this.removeListener(f,_.fn,void 0,!0),j){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,m),!0;case 3:return _.fn.call(_.context,m,g),!0;case 4:return _.fn.call(_.context,m,g,v),!0;case 5:return _.fn.call(_.context,m,g,v,y),!0;case 6:return _.fn.call(_.context,m,g,v,y,S),!0}for(E=1,N=new Array(j-1);E<j;E++)N[E-1]=arguments[E];_.fn.apply(_.context,N)}else{var D=_.length,O;for(E=0;E<D;E++)switch(_[E].once&&this.removeListener(f,_[E].fn,void 0,!0),j){case 1:_[E].fn.call(_[E].context);break;case 2:_[E].fn.call(_[E].context,m);break;case 3:_[E].fn.call(_[E].context,m,g);break;case 4:_[E].fn.call(_[E].context,m,g,v);break;default:if(!N)for(O=1,N=new Array(j-1);O<j;O++)N[O-1]=arguments[O];_[E].fn.apply(_[E].context,N)}}return!0},u.prototype.on=function(f,m,g){return s(this,f,m,g,!1)},u.prototype.once=function(f,m,g){return s(this,f,m,g,!0)},u.prototype.removeListener=function(f,m,g,v){var y=r?r+f:f;if(!this._events[y])return this;if(!m)return l(this,y),this;var S=this._events[y];if(S.fn)S.fn===m&&(!v||S.once)&&(!g||S.context===g)&&l(this,y);else{for(var k=0,_=[],j=S.length;k<j;k++)(S[k].fn!==m||v&&!S[k].once||g&&S[k].context!==g)&&_.push(S[k]);_.length?this._events[y]=_.length===1?_[0]:_:l(this,y)}return this},u.prototype.removeAllListeners=function(f){var m;return f?(m=r?r+f:f,this._events[m]&&l(this,m)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u})(hy)),hy.exports}var kre=Sre();const jre=xa(kre);var wu=new jre,Zb="recharts.syncEvent.tooltip",IO="recharts.syncEvent.brush";function Ere(e,t){if(t){var r=Number.parseInt(t,10);if(!yn(r))return e?.[r]}}var Nre={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},KR=en({name:"options",initialState:Nre,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Ore=KR.reducer,{createEventEmitter:Are}=KR.actions;function Tre(e){return e.tooltip.syncInteraction}var Cre={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},ZR=en({name:"chartData",initialState:Cre,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:LO,setDataStartEndIndexes:Pre,setComputedData:eue}=ZR.actions,Dre=ZR.reducer,Rre=["x","y"];function zO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zO(Object(r),!0).forEach(function(n){Mre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mre(e,t,r){return(t=$re(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $re(e){var t=Ire(e,"string");return typeof t=="symbol"?t:t+""}function Ire(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lre(e,t){if(e==null)return{};var r,n,a=zre(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function zre(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ure(){var e=Oe(Ow),t=Oe(Aw),r=Yt(),n=Oe(T4),a=Oe(hi),s=Du(),l=Pu(),u=Oe(d=>d.rootProps.className);x.useEffect(()=>{if(e==null)return Nu;var d=(f,m,g)=>{if(t!==g&&e===f){if(n==="index"){var v;if(l&&m!==null&&m!==void 0&&(v=m.payload)!==null&&v!==void 0&&v.coordinate&&m.payload.sourceViewBox){var y=m.payload.coordinate,{x:S,y:k}=y,_=Lre(y,Rre),{x:j,y:N,width:E,height:D}=m.payload.sourceViewBox,O=Xo(Xo({},_),{},{x:l.x+(E?(S-j)/E:0)*l.width,y:l.y+(D?(k-N)/D:0)*l.height});r(Xo(Xo({},m),{},{payload:Xo(Xo({},m.payload),{},{coordinate:O})}))}else r(m);return}if(a!=null){var P;if(typeof n=="function"){var C={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},A=n(a,C);P=a[A]}else n==="value"&&(P=a.find(B=>String(B.value)===m.payload.label));var{coordinate:R}=m.payload;if(P==null||m.payload.active===!1||R==null||l==null){r(Fb({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:M,y:I}=R,z=Math.min(M,l.x+l.width),q=Math.min(I,l.y+l.height),te={x:s==="horizontal"?P.coordinate:z,y:s==="horizontal"?q:P.coordinate},ue=Fb({active:m.payload.active,coordinate:te,dataKey:m.payload.dataKey,index:String(P.index),label:m.payload.label,sourceViewBox:m.payload.sourceViewBox,graphicalItemId:m.payload.graphicalItemId});r(ue)}}};return wu.on(Zb,d),()=>{wu.off(Zb,d)}},[u,r,t,e,n,a,s,l])}function Bre(){var e=Oe(Ow),t=Oe(Aw),r=Yt();x.useEffect(()=>{if(e==null)return Nu;var n=(a,s,l)=>{t!==l&&e===a&&r(Pre(s))};return wu.on(IO,n),()=>{wu.off(IO,n)}},[r,t,e])}function qre(){var e=Yt();x.useEffect(()=>{e(Are())},[e]),Ure(),Bre()}function Hre(e,t,r,n,a,s){var l=Oe(y=>Yte(y,e,t)),u=Oe(Aw),d=Oe(Ow),f=Oe(T4),m=Oe(Tre),g=m?.active,v=Pu();x.useEffect(()=>{if(!g&&d!=null&&u!=null){var y=Fb({active:s,coordinate:r,dataKey:l,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:v,graphicalItemId:void 0});wu.emit(Zb,d,y,u)}},[g,r,l,a,n,u,d,f,s,v])}function UO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function BO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UO(Object(r),!0).forEach(function(n){Fre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fre(e,t,r){return(t=Vre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vre(e){var t=Kre(e,"string");return typeof t=="symbol"?t:t+""}function Kre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zre(e){return e.dataKey}function Gre(e,t){return x.isValidElement(e)?x.cloneElement(e,t):typeof e=="function"?x.createElement(e,t):x.createElement(EY,t)}var qO=[],Yre={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Wre(e){var t,r,n=Qr(e,Yre),{active:a,allowEscapeViewBox:s,animationDuration:l,animationEasing:u,content:d,filterNull:f,isAnimationActive:m,offset:g,payloadUniqBy:v,position:y,reverseDirection:S,useTranslate3d:k,wrapperStyle:_,cursor:j,shared:N,trigger:E,defaultIndex:D,portal:O,axisId:P}=n,C=Yt(),A=typeof D=="number"?String(D):D;x.useEffect(()=>{C(Vee({shared:N,trigger:E,axisId:P,active:a,defaultIndex:A}))},[C,N,E,P,a,A]);var R=Pu(),M=ED(),I=zee(N),{activeIndex:z,isActive:q}=(t=Oe(ae=>Jte(ae,I,E,A)))!==null&&t!==void 0?t:{},te=Oe(ae=>Xte(ae,I,E,A)),ue=Oe(ae=>HR(ae,I,E,A)),B=Oe(ae=>Wte(ae,I,E,A)),H=te,X=_re(),ee=(r=a??q)!==null&&r!==void 0?r:!1,[ve,L]=uZ([H,ee]),K=I==="axis"?ue:void 0;Hre(I,E,B,K,z,ee);var F=O??X;if(F==null||R==null||I==null)return null;var Z=H??qO;ee||(Z=qO),f&&Z.length&&(Z=$K(Z.filter(ae=>ae.value!=null&&(ae.hide!==!0||n.includeHidden)),v,Zre));var oe=Z.length>0,ce=x.createElement(DY,{allowEscapeViewBox:s,animationDuration:l,animationEasing:u,isAnimationActive:m,active:ee,coordinate:B,hasPayload:oe,offset:g,position:y,reverseDirection:S,useTranslate3d:k,viewBox:R,wrapperStyle:_,lastBoundingBox:ve,innerRef:L,hasPortalFromProps:!!O},Gre(d,BO(BO({},n),{},{payload:Z,label:K,active:ee,activeIndex:z,coordinate:B,accessibilityLayer:M})));return x.createElement(x.Fragment,null,eo.createPortal(ce,F),ee&&x.createElement(wre,{cursor:j,tooltipEventType:I,coordinate:B,payload:Z,index:z}))}function Xre(e,t,r){return(t=Jre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jre(e){var t=Qre(e,"string");return typeof t=="symbol"?t:t+""}function Qre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class ene{constructor(t){Xre(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function HO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tne(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HO(Object(r),!0).forEach(function(n){rne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rne(e,t,r){return(t=nne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nne(e){var t=ane(e,"string");return typeof t=="symbol"?t:t+""}function ane(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ine={cacheSize:2e3,enableCache:!0},GR=tne({},ine),FO=new ene(GR.cacheSize),sne={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},VO="recharts_measurement_span";function one(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",s=t.fontStyle||"",l=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(s,"|").concat(l,"|").concat(u)}var KO=(e,t)=>{try{var r=document.getElementById(VO);r||(r=document.createElement("span"),r.setAttribute("id",VO),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,sne,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Jc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Nl.isSsr)return{width:0,height:0};if(!GR.enableCache)return KO(t,r);var n=one(t,r),a=FO.get(n);if(a)return a;var s=KO(t,r);return FO.set(n,s),s},ZO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,GO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,lne=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,cne=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,YR={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},une=Object.keys(YR),nl="NaN";function dne(e,t){return e*YR[t]}class Gr{static parse(t){var r,[,n,a]=(r=cne.exec(t))!==null&&r!==void 0?r:[];return new Gr(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,yn(t)&&(this.unit=""),r!==""&&!lne.test(r)&&(this.num=NaN,this.unit=""),une.includes(r)&&(this.num=dne(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Gr(NaN,""):new Gr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Gr(NaN,""):new Gr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Gr(NaN,""):new Gr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Gr(NaN,""):new Gr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return yn(this.num)}}function WR(e){if(e.includes(nl))return nl;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,s]=(r=ZO.exec(t))!==null&&r!==void 0?r:[],l=Gr.parse(n??""),u=Gr.parse(s??""),d=a==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return nl;t=t.replace(ZO,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,m,g,v]=(f=GO.exec(t))!==null&&f!==void 0?f:[],y=Gr.parse(m??""),S=Gr.parse(v??""),k=g==="+"?y.add(S):y.subtract(S);if(k.isNaN())return nl;t=t.replace(GO,k.toString())}return t}var YO=/\(([^()]*)\)/;function fne(e){for(var t=e,r;(r=YO.exec(t))!=null;){var[,n]=r;t=t.replace(YO,WR(n))}return t}function hne(e){var t=e.replace(/\s+/g,"");return t=fne(t),t=WR(t),t}function mne(e){try{return hne(e)}catch{return nl}}function my(e){var t=mne(e.slice(5,-1));return t===nl?"":t}var pne=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],gne=["dx","dy","angle","className","breakAll"];function Gb(){return Gb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gb.apply(null,arguments)}function WO(e,t){if(e==null)return{};var r,n,a=vne(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function vne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var XR=/[ \f\n\r\t\v\u2028\u2029]+/,JR=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];gr(t)||(r?a=t.toString().split(""):a=t.toString().split(XR));var s=a.map(u=>({word:u,width:Jc(u,n).width})),l=r?0:Jc("",n).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}};function yne(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var QR=(e,t,r,n)=>e.reduce((a,s)=>{var{word:l,width:u}=s,d=a[a.length-1];if(d&&u!=null&&(t==null||n||d.width+u+r<Number(t)))d.words.push(l),d.width+=u+r;else{var f={words:[l],width:u};a.push(f)}return a},[]),eM=e=>e.reduce((t,r)=>t.width>r.width?t:r),bne="",XO=(e,t,r,n,a,s,l,u)=>{var d=e.slice(0,t),f=JR({breakAll:r,style:n,children:d+bne});if(!f)return[!1,[]];var m=QR(f.wordsWithComputedWidth,s,l,u),g=m.length>a||eM(m).width>Number(s);return[g,m]},xne=(e,t,r,n,a)=>{var{maxLines:s,children:l,style:u,breakAll:d}=e,f=Te(s),m=String(l),g=QR(t,n,r,a);if(!f||a)return g;var v=g.length>s||eM(g).width>Number(n);if(!v)return g;for(var y=0,S=m.length-1,k=0,_;y<=S&&k<=m.length-1;){var j=Math.floor((y+S)/2),N=j-1,[E,D]=XO(m,N,d,u,s,n,r,a),[O]=XO(m,j,d,u,s,n,r,a);if(!E&&!O&&(y=j+1),E&&O&&(S=j-1),!E&&O){_=D;break}k++}return _||g},JO=e=>{var t=gr(e)?[]:e.toString().split(XR);return[{words:t,width:void 0}]},wne=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:s,maxLines:l}=e;if((t||r)&&!Nl.isSsr){var u,d,f=JR({breakAll:s,children:n,style:a});if(f){var{wordsWithComputedWidth:m,spaceWidth:g}=f;u=m,d=g}else return JO(n);return xne({breakAll:s,children:n,maxLines:l,style:a},u,d,t,!!r)}return JO(n)},tM="#808080",_ne={angle:0,breakAll:!1,capHeight:"0.71em",fill:tM,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},e1=x.forwardRef((e,t)=>{var r=Qr(e,_ne),{x:n,y:a,lineHeight:s,capHeight:l,fill:u,scaleToFit:d,textAnchor:f,verticalAnchor:m}=r,g=WO(r,pne),v=x.useMemo(()=>wne({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:d,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,d,g.style,g.width]),{dx:y,dy:S,angle:k,className:_,breakAll:j}=g,N=WO(g,gne);if(!Mn(n)||!Mn(a)||v.length===0)return null;var E=Number(n)+(Te(y)?y:0),D=Number(a)+(Te(S)?S:0);if(!ft(E)||!ft(D))return null;var O;switch(m){case"start":O=my("calc(".concat(l,")"));break;case"middle":O=my("calc(".concat((v.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:O=my("calc(".concat(v.length-1," * -").concat(s,")"));break}var P=[];if(d){var C=v[0].width,{width:A}=g;P.push("scale(".concat(Te(A)&&Te(C)?A/C:1,")"))}return k&&P.push("rotate(".concat(k,", ").concat(E,", ").concat(D,")")),P.length&&(N.transform=P.join(" ")),x.createElement("text",Gb({},vn(N),{ref:t,x:E,y:D,className:ht("recharts-text",_),textAnchor:f,fill:u.includes("url")?tM:u}),v.map((R,M)=>{var I=R.words.join(j?"":" ");return x.createElement("tspan",{x:E,dy:M===0?O:s,key:"".concat(I,"-").concat(M)},I)}))});e1.displayName="Text";var Sne=["labelRef"];function kne(e,t){if(e==null)return{};var r,n,a=jne(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function jne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function QO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QO(Object(r),!0).forEach(function(n){Ene(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ene(e,t,r){return(t=Nne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nne(e){var t=One(e,"string");return typeof t=="symbol"?t:t+""}function One(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Za(){return Za=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Za.apply(null,arguments)}var rM=x.createContext(null),nM=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:l,children:u}=e,d=x.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:l}),[t,r,n,a,s,l]);return x.createElement(rM.Provider,{value:d},u)},aM=()=>{var e=x.useContext(rM),t=Pu();return e||pD(t)},Ane=x.createContext(null),Tne=()=>{var e=x.useContext(Ane),t=Oe(M4);return e||t},Cne=e=>{var{value:t,formatter:r}=e,n=gr(e.children)?t:e.children;return typeof r=="function"?r(n):n},t1=e=>e!=null&&typeof e=="function",Pne=(e,t)=>{var r=Dn(t-e),n=Math.min(Math.abs(t-e),360);return r*n},Dne=(e,t,r,n,a)=>{var{offset:s,className:l}=e,{cx:u,cy:d,innerRadius:f,outerRadius:m,startAngle:g,endAngle:v,clockWise:y}=a,S=(f+m)/2,k=Pne(g,v),_=k>=0?1:-1,j,N;switch(t){case"insideStart":j=g+_*s,N=y;break;case"insideEnd":j=v-_*s,N=!y;break;case"end":j=v+_*s,N=y;break;default:throw new Error("Unsupported position ".concat(t))}N=k<=0?N:!N;var E=pr(u,d,S,j),D=pr(u,d,S,j+(N?1:-1)*359),O="M".concat(E.x,",").concat(E.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(N?0:1,`,
    `).concat(D.x,",").concat(D.y),P=gr(e.id)?ou("recharts-radial-line-"):e.id;return x.createElement("text",Za({},n,{dominantBaseline:"central",className:ht("recharts-radial-bar-label",l)}),x.createElement("defs",null,x.createElement("path",{id:P,d:O})),x.createElement("textPath",{xlinkHref:"#".concat(P)},r))},Rne=(e,t,r)=>{var{cx:n,cy:a,innerRadius:s,outerRadius:l,startAngle:u,endAngle:d}=e,f=(u+d)/2;if(r==="outside"){var{x:m,y:g}=pr(n,a,l+t,f);return{x:m,y:g,textAnchor:m>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var v=(s+l)/2,{x:y,y:S}=pr(n,a,v,f);return{x:y,y:S,textAnchor:"middle",verticalAnchor:"middle"}},Yb=e=>"cx"in e&&Te(e.cx),Mne=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,s;r!=null&&!Yb(r)&&(s=r);var{x:l,y:u,upperWidth:d,lowerWidth:f,height:m}=t,g=l,v=l+(d-f)/2,y=(g+v)/2,S=(d+f)/2,k=g+d/2,_=m>=0?1:-1,j=_*n,N=_>0?"end":"start",E=_>0?"start":"end",D=d>=0?1:-1,O=D*n,P=D>0?"end":"start",C=D>0?"start":"end";if(a==="top"){var A={x:g+d/2,y:u-j,textAnchor:"middle",verticalAnchor:N};return Rt(Rt({},A),s?{height:Math.max(u-s.y,0),width:d}:{})}if(a==="bottom"){var R={x:v+f/2,y:u+m+j,textAnchor:"middle",verticalAnchor:E};return Rt(Rt({},R),s?{height:Math.max(s.y+s.height-(u+m),0),width:f}:{})}if(a==="left"){var M={x:y-O,y:u+m/2,textAnchor:P,verticalAnchor:"middle"};return Rt(Rt({},M),s?{width:Math.max(M.x-s.x,0),height:m}:{})}if(a==="right"){var I={x:y+S+O,y:u+m/2,textAnchor:C,verticalAnchor:"middle"};return Rt(Rt({},I),s?{width:Math.max(s.x+s.width-I.x,0),height:m}:{})}var z=s?{width:S,height:m}:{};return a==="insideLeft"?Rt({x:y+O,y:u+m/2,textAnchor:C,verticalAnchor:"middle"},z):a==="insideRight"?Rt({x:y+S-O,y:u+m/2,textAnchor:P,verticalAnchor:"middle"},z):a==="insideTop"?Rt({x:g+d/2,y:u+j,textAnchor:"middle",verticalAnchor:E},z):a==="insideBottom"?Rt({x:v+f/2,y:u+m-j,textAnchor:"middle",verticalAnchor:N},z):a==="insideTopLeft"?Rt({x:g+O,y:u+j,textAnchor:C,verticalAnchor:E},z):a==="insideTopRight"?Rt({x:g+d-O,y:u+j,textAnchor:P,verticalAnchor:E},z):a==="insideBottomLeft"?Rt({x:v+O,y:u+m-j,textAnchor:C,verticalAnchor:N},z):a==="insideBottomRight"?Rt({x:v+f-O,y:u+m-j,textAnchor:P,verticalAnchor:N},z):a&&typeof a=="object"&&(Te(a.x)||ti(a.x))&&(Te(a.y)||ti(a.y))?Rt({x:l+Yi(a.x,S),y:u+Yi(a.y,m),textAnchor:"end",verticalAnchor:"end"},z):Rt({x:k,y:u+m/2,textAnchor:"middle",verticalAnchor:"middle"},z)},$ne={angle:0,offset:5,zIndex:jr.label,position:"middle",textBreakAll:!1};function Ui(e){var t=Qr(e,$ne),{viewBox:r,position:n,value:a,children:s,content:l,className:u="",textBreakAll:d,labelRef:f}=t,m=Tne(),g=aM(),v=n==="center"?g:m??g,y,S,k;if(r==null?y=v:Yb(r)?y=r:y=pD(r),!y||gr(a)&&gr(s)&&!x.isValidElement(l)&&typeof l!="function")return null;var _=Rt(Rt({},t),{},{viewBox:y});if(x.isValidElement(l)){var{labelRef:j}=_,N=kne(_,Sne);return x.cloneElement(l,N)}if(typeof l=="function"){if(S=x.createElement(l,_),x.isValidElement(S))return S}else S=Cne(t);var E=vn(t);if(Yb(y)){if(n==="insideStart"||n==="insideEnd"||n==="end")return Dne(t,n,S,E,y);k=Rne(y,t.offset,t.position)}else k=Mne(t,y);return x.createElement(Sa,{zIndex:t.zIndex},x.createElement(e1,Za({ref:f,className:ht("recharts-label",u)},E,k,{textAnchor:yne(E.textAnchor)?E.textAnchor:k.textAnchor,breakAll:d}),S))}Ui.displayName="Label";var Ine=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?x.createElement(Ui,Za({key:"label-implicit"},n)):Mn(e)?x.createElement(Ui,Za({key:"label-implicit",value:e},n)):x.isValidElement(e)?e.type===Ui?x.cloneElement(e,Rt({key:"label-implicit"},n)):x.createElement(Ui,Za({key:"label-implicit",content:e},n)):t1(e)?x.createElement(Ui,Za({key:"label-implicit",content:e},n)):e&&typeof e=="object"?x.createElement(Ui,Za({},e,{key:"label-implicit"},n)):null};function iM(e){var{label:t,labelRef:r}=e,n=aM();return Ine(t,n,r)||null}var py={},gy={},e5;function Lne(){return e5||(e5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(gy)),gy}var vy={},t5;function zne(){return t5||(t5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(vy)),vy}var r5;function Une(){return r5||(r5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Lne(),r=zne(),n=qx();function a(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=a})(py)),py}var yy,n5;function Bne(){return n5||(n5=1,yy=Une().last),yy}var qne=Bne();const Hne=xa(qne);var Fne=["valueAccessor"],Vne=["dataKey","clockWise","id","textBreakAll","zIndex"];function r0(){return r0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r0.apply(null,arguments)}function a5(e,t){if(e==null)return{};var r,n,a=Kne(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Kne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Zne=e=>Array.isArray(e.value)?Hne(e.value):e.value,sM=x.createContext(void 0),Gne=sM.Provider,oM=x.createContext(void 0);oM.Provider;function Yne(){return x.useContext(sM)}function Wne(){return x.useContext(oM)}function th(e){var{valueAccessor:t=Zne}=e,r=a5(e,Fne),{dataKey:n,clockWise:a,id:s,textBreakAll:l,zIndex:u}=r,d=a5(r,Vne),f=Yne(),m=Wne(),g=f||m;return!g||!g.length?null:x.createElement(Sa,{zIndex:u??jr.label},x.createElement(ea,{className:"recharts-label-list"},g.map((v,y)=>{var S,k=gr(n)?t(v,y):Er(v&&v.payload,n),_=gr(s)?{}:{id:"".concat(s,"-").concat(y)};return x.createElement(Ui,r0({key:"label-".concat(y)},vn(v),d,_,{fill:(S=r.fill)!==null&&S!==void 0?S:v.fill,parentViewBox:v.parentViewBox,value:k,textBreakAll:l,viewBox:v.viewBox,index:y,zIndex:0}))})))}th.displayName="LabelList";function Xne(e){var{label:t}=e;return t?t===!0?x.createElement(th,{key:"labelList-implicit"}):x.isValidElement(t)||t1(t)?x.createElement(th,{key:"labelList-implicit",content:t}):typeof t=="object"?x.createElement(th,r0({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Wb(){return Wb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wb.apply(null,arguments)}var lM=e=>{var{cx:t,cy:r,r:n,className:a}=e,s=ht("recharts-dot",a);return Te(t)&&Te(r)&&Te(n)?x.createElement("circle",Wb({},Qn(e),Bx(e),{className:s,cx:t,cy:r,r:n})):null},Jne={radiusAxis:{},angleAxis:{}},cM=en({name:"polarAxis",initialState:Jne,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:tue,removeRadiusAxis:rue,addAngleAxis:nue,removeAngleAxis:aue}=cM.actions,Qne=cM.reducer,uM=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0;function eae(e){var{tooltipEntrySettings:t}=e,r=Yt(),n=$r(),a=x.useRef(null);return x.useLayoutEffect(()=>{n||(a.current===null?r(qee(t)):a.current!==t&&r(Hee({prev:a.current,next:t})),a.current=t)},[t,r,n]),x.useLayoutEffect(()=>()=>{a.current&&(r(Fee(a.current)),a.current=null)},[r]),null}function tae(e){var{legendPayload:t}=e,r=Yt(),n=$r(),a=x.useRef(null);return x.useLayoutEffect(()=>{n||(a.current===null?r(yY(t)):a.current!==t&&r(bY({prev:a.current,next:t})),a.current=t)},[r,n,t]),x.useLayoutEffect(()=>()=>{a.current&&(r(xY(a.current)),a.current=null)},[r]),null}var by,rae=()=>{var[e]=x.useState(()=>ou("uid-"));return e},nae=(by=ky.useId)!==null&&by!==void 0?by:rae;function dM(e,t){var r=nae();return t||(e?"".concat(e,"-").concat(r):r)}var aae=x.createContext(void 0),iae=e=>{var{id:t,type:r,children:n}=e,a=dM("recharts-".concat(r),t);return x.createElement(aae.Provider,{value:a},n(a))},sae={cartesianItems:[],polarItems:[]},fM=en({name:"graphicalItems",initialState:sae,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:wt()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Jn(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:wt()},removeCartesianGraphicalItem:{reducer(e,t){var r=Jn(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:wt()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:wt()},removePolarGraphicalItem:{reducer(e,t){var r=Jn(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:wt()}}}),{addCartesianGraphicalItem:oae,replaceCartesianGraphicalItem:lae,removeCartesianGraphicalItem:cae,addPolarGraphicalItem:iue,removePolarGraphicalItem:sue}=fM.actions,uae=fM.reducer,dae=e=>{var t=Yt(),r=x.useRef(null);return x.useLayoutEffect(()=>{r.current===null?t(oae(e)):r.current!==e&&t(lae({prev:r.current,next:e})),r.current=e},[t,e]),x.useLayoutEffect(()=>()=>{r.current&&(t(cae(r.current)),r.current=null)},[t]),null},fae=x.memo(dae),hae=["points"];function i5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i5(Object(r),!0).forEach(function(n){mae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mae(e,t,r){return(t=pae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pae(e){var t=gae(e,"string");return typeof t=="symbol"?t:t+""}function gae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function n0(){return n0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n0.apply(null,arguments)}function vae(e,t){if(e==null)return{};var r,n,a=yae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function yae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function bae(e){var{option:t,dotProps:r,className:n}=e;if(x.isValidElement(t))return x.cloneElement(t,r);if(typeof t=="function")return t(r);var a=ht(n,typeof t!="boolean"?t.className:""),s=r??{},{points:l}=s,u=vae(s,hae);return x.createElement(lM,n0({},u,{className:a}))}function xae(e,t){return e==null?!1:t?!0:e.length===1}function wae(e){var{points:t,dot:r,className:n,dotClassName:a,dataKey:s,baseProps:l,needClip:u,clipPathId:d,zIndex:f=jr.scatter}=e;if(!xae(t,r))return null;var m=uM(r),g=TV(r),v=t.map((S,k)=>{var _,j,N=xy(xy(xy({r:3},l),g),{},{index:k,cx:(_=S.x)!==null&&_!==void 0?_:void 0,cy:(j=S.y)!==null&&j!==void 0?j:void 0,dataKey:s,value:S.value,payload:S.payload,points:t});return x.createElement(bae,{key:"dot-".concat(k),option:r,dotProps:N,className:a})}),y={};return u&&d!=null&&(y.clipPath="url(#clipPath-".concat(m?"":"dots-").concat(d,")")),x.createElement(Sa,{zIndex:f},x.createElement(ea,n0({className:n},y),v))}function s5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function o5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s5(Object(r),!0).forEach(function(n){_ae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _ae(e,t,r){return(t=Sae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sae(e){var t=kae(e,"string");return typeof t=="symbol"?t:t+""}function kae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jae={xAxis:{},yAxis:{},zAxis:{}},hM=en({name:"cartesianAxis",initialState:jae,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:wt()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:wt()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:wt()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:wt()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:wt()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:wt()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:wt()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:wt()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:wt()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var s=a.widthHistory||[];if(s.length===3&&s[0]===s[2]&&n===s[1]&&n!==a.width&&Math.abs(n-s[0])<=1)return;var l=[...s,n].slice(-3);e.yAxis[r]=o5(o5({},e.yAxis[r]),{},{width:n,widthHistory:l})}}}}),{addXAxis:Eae,replaceXAxis:Nae,removeXAxis:Oae,addYAxis:Aae,replaceYAxis:Tae,removeYAxis:Cae,addZAxis:oue,replaceZAxis:lue,removeZAxis:cue,updateYAxisWidth:Pae}=hM.actions,Dae=hM.reducer,Rae=se([br],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Mae=se([Rae,ui,di],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),r1=()=>Oe(Mae),$ae=()=>Oe($te);function l5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l5(Object(r),!0).forEach(function(n){Iae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Iae(e,t,r){return(t=Lae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lae(e){var t=zae(e,"string");return typeof t=="symbol"?t:t+""}function zae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Uae=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:s,clipPath:l}=e;if(a===!1||t.x==null||t.y==null)return null;var u={index:r,dataKey:s,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},d=wy(wy(wy({},u),C0(a)),Bx(a)),f;return x.isValidElement(a)?f=x.cloneElement(a,d):typeof a=="function"?f=a(d):f=x.createElement(lM,d),x.createElement(ea,{className:"recharts-active-dot",clipPath:l},f)};function c5(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a,clipPath:s,zIndex:l=jr.activeDot}=e,u=Oe(xu),d=$ae();if(t==null||d==null)return null;var f=t.find(m=>d.includes(m.payload));return gr(f)?null:x.createElement(Sa,{zIndex:l},x.createElement(Uae,{point:f,childIndex:Number(u),mainColor:r,dataKey:a,activeDot:n,clipPath:s}))}var Bae={},mM=en({name:"errorBars",initialState:Bae,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?a:s))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:uue,replaceErrorBar:due,removeErrorBar:fue}=mM.actions,qae=mM.reducer;function pM(e,t){var r,n,a=Oe(f=>wa(f,e)),s=Oe(f=>_a(f,t)),l=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:rr.allowDataOverflow,u=(n=s?.allowDataOverflow)!==null&&n!==void 0?n:nr.allowDataOverflow,d=l||u;return{needClip:d,needClipX:l,needClipY:u}}function Hae(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=r1(),{needClipX:s,needClipY:l,needClip:u}=pM(t,r);if(!u||!a)return null;var{x:d,y:f,width:m,height:g}=a;return x.createElement("clipPath",{id:"clipPath-".concat(n)},x.createElement("rect",{x:s?d:d-m/2,y:l?f:f-g/2,width:s?m:m*2,height:l?g:g*2}))}function Fae(e){e()}function Vae(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Fae(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var u5={notify(){},get:()=>[]};function Kae(e,t){let r,n=u5,a=0,s=!1;function l(k){m();const _=n.subscribe(k);let j=!1;return()=>{j||(j=!0,_(),g())}}function u(){n.notify()}function d(){S.onStateChange&&S.onStateChange()}function f(){return s}function m(){a++,r||(r=e.subscribe(d),n=Vae())}function g(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=u5)}function v(){s||(s=!0,m())}function y(){s&&(s=!1,g())}const S={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:d,isSubscribed:f,trySubscribe:v,tryUnsubscribe:y,getListeners:()=>n};return S}var Zae=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Gae=Zae(),Yae=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Wae=Yae(),Xae=()=>Gae||Wae?x.useLayoutEffect:x.useEffect,Jae=Xae();function d5(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Qae(e,t){if(d5(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!d5(e[r[a]],t[r[a]]))return!1;return!0}var eie=Symbol.for("react-redux-context"),tie=typeof globalThis<"u"?globalThis:{};function rie(){if(!x.createContext)return{};const e=tie[eie]??=new Map;let t=e.get(x.createContext);return t||(t=x.createContext(null),e.set(x.createContext,t)),t}var nie=rie();function aie(e){const{children:t,context:r,serverState:n,store:a}=e,s=x.useMemo(()=>{const d=Kae(a);return{store:a,subscription:d,getServerState:n?()=>n:void 0}},[a,n]),l=x.useMemo(()=>a.getState(),[a]);Jae(()=>{const{subscription:d}=s;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==a.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[s,l]);const u=r||nie;return x.createElement(u.Provider,{value:s},t)}var iie=aie,sie=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function oie(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function n1(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(sie.has(n)){if(e[n]==null&&t[n]==null)continue;if(!Qae(e[n],t[n]))return!1}else if(!oie(e[n],t[n]))return!1;return!0}var lie=e=>{var{chartData:t}=e,r=Yt(),n=$r();return x.useEffect(()=>n?()=>{}:(r(LO(t)),()=>{r(LO(void 0))}),[t,r,n]),null},f5={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},gM=en({name:"brush",initialState:f5,reducers:{setBrushSettings(e,t){return t.payload==null?f5:t.payload}}}),{setBrushSettings:hue}=gM.actions,cie=gM.reducer;function h5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ff(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h5(Object(r),!0).forEach(function(n){vM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vM(e,t,r){return(t=uie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uie(e){var t=die(e,"string");return typeof t=="symbol"?t:t+""}function die(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fie=(e,t)=>{var{x:r,y:n}=e,{x:a,y:s}=t;return{x:Math.min(r,a),y:Math.min(n,s),width:Math.abs(a-r),height:Math.abs(s-n)}},hie=e=>{var{x1:t,y1:r,x2:n,y2:a}=e;return fie({x:t,y:r},{x:n,y:a})};class hm{static create(t){return new hm(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(r){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}vM(hm,"EPS",1e-4);var mie=e=>{var t=Object.keys(e).reduce((r,n)=>Ff(Ff({},r),{},{[n]:hm.create(e[n])}),{});return Ff(Ff({},t),{},{apply(r){var{bandAware:n,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(r).map(s=>{var[l,u]=s;return[l,t[l].apply(u,{bandAware:n,position:a})]}))},isInRange(r){return Object.keys(r).every(n=>t[n].isInRange(r[n]))}})};function pie(e){return(e%180+180)%180}var gie=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=pie(a),l=s*Math.PI/180,u=Math.atan(n/r),d=l>u&&l<Math.PI-u?n/Math.sin(l):r/Math.cos(l);return Math.abs(d)},vie={dots:[],areas:[],lines:[]},yM=en({name:"referenceElements",initialState:vie,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Jn(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Jn(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Jn(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:mue,removeDot:pue,addArea:gue,removeArea:vue,addLine:yie,removeLine:bie}=yM.actions,xie=yM.reducer,bM=x.createContext(void 0),wie=e=>{var{children:t}=e,[r]=x.useState("".concat(ou("recharts"),"-clip")),n=r1();if(n==null)return null;var{x:a,y:s,width:l,height:u}=n;return x.createElement(bM.Provider,{value:r},x.createElement("defs",null,x.createElement("clipPath",{id:r},x.createElement("rect",{x:a,y:s,height:u,width:l}))),t)},_ie=()=>x.useContext(bM);function m5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function p5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m5(Object(r),!0).forEach(function(n){Sie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sie(e,t,r){return(t=kie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kie(e){var t=jie(e,"string");return typeof t=="symbol"?t:t+""}function jie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function a0(){return a0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a0.apply(null,arguments)}var Eie=(e,t)=>{var r;if(x.isValidElement(e))r=x.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{if(!ft(t.x1)||!ft(t.y1)||!ft(t.x2)||!ft(t.y2))return null;r=x.createElement("line",a0({},t,{className:"recharts-reference-line-line"}))}return r},Nie=(e,t,r,n,a,s)=>{var{x:l,width:u}=s,d=a.y.apply(e,{position:r});if(yn(d)||t==="discard"&&!a.y.isInRange(d))return null;var f=[{x:l+u,y:d},{x:l,y:d}];return n==="left"?f.reverse():f},Oie=(e,t,r,n,a,s)=>{var{y:l,height:u}=s,d=a.x.apply(e,{position:r});if(yn(d)||t==="discard"&&!a.x.isInRange(d))return null;var f=[{x:d,y:l+u},{x:d,y:l}];return n==="top"?f.reverse():f},Aie=(e,t,r,n)=>{var a=e.map(s=>n.apply(s,{position:r}));return t==="discard"&&a.some(s=>!n.isInRange(s))?null:a},Tie=(e,t,r,n,a,s)=>{var{x:l,y:u,segment:d,ifOverflow:f}=s,m=Mn(l),g=Mn(u);return g?Nie(u,f,r,a,e,t):m?Oie(l,f,r,n,e,t):d!=null&&d.length===2?Aie(d,f,r,e):null};function Cie(e){var t=Yt();return x.useEffect(()=>(t(yie(e)),()=>{t(bie(e))})),null}function Pie(e){var{xAxisId:t,yAxisId:r,shape:n,className:a,ifOverflow:s}=e,l=$r(),u=_ie(),d=Oe(P=>wa(P,t)),f=Oe(P=>_a(P,r)),m=Oe(P=>Xi(P,"xAxis",t,l)),g=Oe(P=>Xi(P,"yAxis",r,l)),v=Pu();if(!u||!v||d==null||f==null||m==null||g==null)return null;var y=mie({x:m,y:g}),S=Tie(y,v,e.position,d.orientation,f.orientation,e);if(!S)return null;var[{x:k,y:_},{x:j,y:N}]=S,E=s==="hidden"?"url(#".concat(u,")"):void 0,D=p5(p5({clipPath:E},vn(e)),{},{x1:k,y1:_,x2:j,y2:N}),O=hie({x1:k,y1:_,x2:j,y2:N});return x.createElement(Sa,{zIndex:e.zIndex},x.createElement(ea,{className:ht("recharts-reference-line",a)},Eie(n,D),x.createElement(nM,a0({},O,{lowerWidth:O.width,upperWidth:O.width}),x.createElement(iM,{label:e.label}),e.children)))}var Die={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:jr.line};function xM(e){var t=Qr(e,Die);return x.createElement(x.Fragment,null,x.createElement(Cie,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y,segment:t.segment}),x.createElement(Pie,t))}xM.displayName="ReferenceLine";function wM(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r}function Rie(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return gie(n,r)}function Mie(e,t,r){var n=r==="width",{x:a,y:s,width:l,height:u}=e;return t===1?{start:n?a:s,end:n?a+l:s+u}:{start:n?a+l:s+u,end:n?a:s}}function i0(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function $ie(e,t){return wM(e,t+1)}function Iie(e,t,r,n,a){for(var s=(n||[]).slice(),{start:l,end:u}=t,d=0,f=1,m=l,g=function(){var S=n?.[d];if(S===void 0)return{v:wM(n,f)};var k=d,_,j=()=>(_===void 0&&(_=r(S,k)),_),N=S.coordinate,E=d===0||i0(e,N,j,m,u);E||(d=0,m=l,f+=1),E&&(m=N+e*(j()/2+a),d+=f)},v;f<=s.length;)if(v=g(),v)return v.v;return[]}function g5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g5(Object(r),!0).forEach(function(n){Lie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lie(e,t,r){return(t=zie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zie(e){var t=Uie(e,"string");return typeof t=="symbol"?t:t+""}function Uie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bie(e,t,r,n,a){for(var s=(n||[]).slice(),l=s.length,{start:u}=t,{end:d}=t,f=function(v){var y=s[v],S,k=()=>(S===void 0&&(S=r(y,v)),S);if(v===l-1){var _=e*(y.coordinate+e*k()/2-d);s[v]=y=Sr(Sr({},y),{},{tickCoord:_>0?y.coordinate-_*e:y.coordinate})}else s[v]=y=Sr(Sr({},y),{},{tickCoord:y.coordinate});if(y.tickCoord!=null){var j=i0(e,y.tickCoord,k,u,d);j&&(d=y.tickCoord-e*(k()/2+a),s[v]=Sr(Sr({},y),{},{isShow:!0}))}},m=l-1;m>=0;m--)f(m);return s}function qie(e,t,r,n,a,s){var l=(n||[]).slice(),u=l.length,{start:d,end:f}=t;if(s){var m=n[u-1],g=r(m,u-1),v=e*(m.coordinate+e*g/2-f);if(l[u-1]=m=Sr(Sr({},m),{},{tickCoord:v>0?m.coordinate-v*e:m.coordinate}),m.tickCoord!=null){var y=i0(e,m.tickCoord,()=>g,d,f);y&&(f=m.tickCoord-e*(g/2+a),l[u-1]=Sr(Sr({},m),{},{isShow:!0}))}}for(var S=s?u-1:u,k=function(N){var E=l[N],D,O=()=>(D===void 0&&(D=r(E,N)),D);if(N===0){var P=e*(E.coordinate-e*O()/2-d);l[N]=E=Sr(Sr({},E),{},{tickCoord:P<0?E.coordinate-P*e:E.coordinate})}else l[N]=E=Sr(Sr({},E),{},{tickCoord:E.coordinate});if(E.tickCoord!=null){var C=i0(e,E.tickCoord,O,d,f);C&&(d=E.tickCoord+e*(O()/2+a),l[N]=Sr(Sr({},E),{},{isShow:!0}))}},_=0;_<S;_++)k(_);return l}function a1(e,t,r){var{tick:n,ticks:a,viewBox:s,minTickGap:l,orientation:u,interval:d,tickFormatter:f,unit:m,angle:g}=e;if(!a||!a.length||!n)return[];if(Te(d)||Nl.isSsr){var v;return(v=$ie(a,Te(d)?d:0))!==null&&v!==void 0?v:[]}var y=[],S=u==="top"||u==="bottom"?"width":"height",k=m&&S==="width"?Jc(m,{fontSize:t,letterSpacing:r}):{width:0,height:0},_=(E,D)=>{var O=typeof f=="function"?f(E.value,D):E.value;return S==="width"?Rie(Jc(O,{fontSize:t,letterSpacing:r}),k,g):Jc(O,{fontSize:t,letterSpacing:r})[S]},j=a.length>=2?Dn(a[1].coordinate-a[0].coordinate):1,N=Mie(s,j,S);return d==="equidistantPreserveStart"?Iie(j,N,_,a,l):(d==="preserveStart"||d==="preserveStartEnd"?y=qie(j,N,_,a,l,d==="preserveStartEnd"):y=Bie(j,N,_,a,l),y.filter(E=>E.isShow))}var Hie=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:s=0}=e,l=0;if(t){Array.from(t).forEach(m=>{if(m){var g=m.getBoundingClientRect();g.width>l&&(l=g.width)}});var u=r?r.getBoundingClientRect().width:0,d=a+s,f=l+d+u+(r?n:0);return Math.round(f)}return 0},Fie=["axisLine","width","height","className","hide","ticks","axisType"];function Vie(e,t){if(e==null)return{};var r,n,a=Kie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Kie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ys(){return Ys=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ys.apply(null,arguments)}function v5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ht(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v5(Object(r),!0).forEach(function(n){Zie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zie(e,t,r){return(t=Gie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gie(e){var t=Yie(e,"string");return typeof t=="symbol"?t:t+""}function Yie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qa={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:jr.axis};function Wie(e){var{x:t,y:r,width:n,height:a,orientation:s,mirror:l,axisLine:u,otherSvgProps:d}=e;if(!u)return null;var f=Ht(Ht(Ht({},d),Qn(u)),{},{fill:"none"});if(s==="top"||s==="bottom"){var m=+(s==="top"&&!l||s==="bottom"&&l);f=Ht(Ht({},f),{},{x1:t,y1:r+m*a,x2:t+n,y2:r+m*a})}else{var g=+(s==="left"&&!l||s==="right"&&l);f=Ht(Ht({},f),{},{x1:t+g*n,y1:r,x2:t+g*n,y2:r+a})}return x.createElement("line",Ys({},f,{className:ht("recharts-cartesian-axis-line",R0(u,"className"))}))}function Xie(e,t,r,n,a,s,l,u,d){var f,m,g,v,y,S,k=u?-1:1,_=e.tickSize||l,j=Te(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":f=m=e.coordinate,v=r+ +!u*a,g=v-k*_,S=g-k*d,y=j;break;case"left":g=v=e.coordinate,m=t+ +!u*n,f=m-k*_,y=f-k*d,S=j;break;case"right":g=v=e.coordinate,m=t+ +u*n,f=m+k*_,y=f+k*d,S=j;break;default:f=m=e.coordinate,v=r+ +u*a,g=v+k*_,S=g+k*d,y=j;break}return{line:{x1:f,y1:g,x2:m,y2:v},tick:{x:y,y:S}}}function Jie(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Qie(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function ese(e){var{option:t,tickProps:r,value:n}=e,a,s=ht(r.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(t))a=x.cloneElement(t,Ht(Ht({},r),{},{className:s}));else if(typeof t=="function")a=t(Ht(Ht({},r),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=ht(l,t?.className)),a=x.createElement(e1,Ys({},r,{className:l}),n)}return a}var tse=x.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:s,tickFormatter:l,unit:u,padding:d,tickTextProps:f,orientation:m,mirror:g,x:v,y,width:S,height:k,tickSize:_,tickMargin:j,fontSize:N,letterSpacing:E,getTicksConfig:D,events:O,axisType:P}=e,C=a1(Ht(Ht({},D),{},{ticks:r}),N,E),A=Jie(m,g),R=Qie(m,g),M=Qn(D),I=C0(n),z={};typeof a=="object"&&(z=a);var q=Ht(Ht({},M),{},{fill:"none"},z),te=C.map(H=>Ht({entry:H},Xie(H,v,y,S,k,m,_,g,j))),ue=te.map(H=>{var{entry:X,line:ee}=H;return x.createElement(ea,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(X.value,"-").concat(X.coordinate,"-").concat(X.tickCoord)},a&&x.createElement("line",Ys({},q,ee,{className:ht("recharts-cartesian-axis-tick-line",R0(a,"className"))})))}),B=te.map((H,X)=>{var{entry:ee,tick:ve}=H,L=Ht(Ht(Ht(Ht({textAnchor:A,verticalAnchor:R},M),{},{stroke:"none",fill:s},I),ve),{},{index:X,payload:ee,visibleTicksCount:C.length,tickFormatter:l,padding:d},f);return x.createElement(ea,Ys({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ee.value,"-").concat(ee.coordinate,"-").concat(ee.tickCoord)},fK(O,ee,X)),n&&x.createElement(ese,{option:n,tickProps:L,value:"".concat(typeof l=="function"?l(ee.value,X):ee.value).concat(u||"")}))});return x.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(P,"-ticks")},B.length>0&&x.createElement(Sa,{zIndex:jr.label},x.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(P,"-tick-labels"),ref:t},B)),ue.length>0&&x.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(P,"-tick-lines")},ue))}),rse=x.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:s,hide:l,ticks:u,axisType:d}=e,f=Vie(e,Fie),[m,g]=x.useState(""),[v,y]=x.useState(""),S=x.useRef(null);x.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var _;return Hie({ticks:S.current,label:(_=e.labelRef)===null||_===void 0?void 0:_.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var k=x.useCallback(_=>{if(_){var j=_.getElementsByClassName("recharts-cartesian-axis-tick-value");S.current=j;var N=j[0];if(N){var E=window.getComputedStyle(N),D=E.fontSize,O=E.letterSpacing;(D!==m||O!==v)&&(g(D),y(O))}}},[m,v]);return l||n!=null&&n<=0||a!=null&&a<=0?null:x.createElement(Sa,{zIndex:e.zIndex},x.createElement(ea,{className:ht("recharts-cartesian-axis",s)},x.createElement(Wie,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Qn(e)}),x.createElement(tse,{ref:k,axisType:d,events:f,fontSize:m,getTicksConfig:e,height:e.height,letterSpacing:v,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:u,unit:e.unit,width:e.width,x:e.x,y:e.y}),x.createElement(nM,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},x.createElement(iM,{label:e.label,labelRef:e.labelRef}),e.children)))}),i1=x.forwardRef((e,t)=>{var r=Qr(e,Qa);return x.createElement(rse,Ys({},r,{ref:t}))});i1.displayName="CartesianAxis";var nse=["x1","y1","x2","y2","key"],ase=["offset"],ise=["xAxisId","yAxisId"],sse=["xAxisId","yAxisId"];function y5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y5(Object(r),!0).forEach(function(n){ose(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ose(e,t,r){return(t=lse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lse(e){var t=cse(e,"string");return typeof t=="symbol"?t:t+""}function cse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ls(){return Ls=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ls.apply(null,arguments)}function s0(e,t){if(e==null)return{};var r,n,a=use(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function use(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var dse=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:s,height:l,ry:u}=e;return x.createElement("rect",{x:n,y:a,ry:u,width:s,height:l,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function _M(e){var{option:t,lineItemProps:r}=e,n;if(x.isValidElement(t))n=x.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:s,y1:l,x2:u,y2:d,key:f}=r,m=s0(r,nse),g=(a=Qn(m))!==null&&a!==void 0?a:{},{offset:v}=g,y=s0(g,ase);n=x.createElement("line",Ls({},y,{x1:s,y1:l,x2:u,y2:d,fill:"none",key:f}))}return n}function fse(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:l}=e,u=s0(e,ise),d=a.map((f,m)=>{var g=kr(kr({},u),{},{x1:t,y1:f,x2:t+r,y2:f,key:"line-".concat(m),index:m});return x.createElement(_M,{key:"line-".concat(m),option:n,lineItemProps:g})});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function hse(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:l}=e,u=s0(e,sse),d=a.map((f,m)=>{var g=kr(kr({},u),{},{x1:f,y1:t,x2:f,y2:t+r,key:"line-".concat(m),index:m});return x.createElement(_M,{option:n,lineItemProps:g,key:"line-".concat(m)})});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function mse(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:s,height:l,horizontalPoints:u,horizontal:d=!0}=e;if(!d||!t||!t.length||u==null)return null;var f=u.map(g=>Math.round(g+a-a)).sort((g,v)=>g-v);a!==f[0]&&f.unshift(0);var m=f.map((g,v)=>{var y=!f[v+1],S=y?a+l-g:f[v+1]-g;if(S<=0)return null;var k=v%t.length;return x.createElement("rect",{key:"react-".concat(v),y:g,x:n,height:S,width:s,stroke:"none",fill:t[k],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function pse(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:s,width:l,height:u,verticalPoints:d}=e;if(!t||!r||!r.length)return null;var f=d.map(g=>Math.round(g+a-a)).sort((g,v)=>g-v);a!==f[0]&&f.unshift(0);var m=f.map((g,v)=>{var y=!f[v+1],S=y?a+l-g:f[v+1]-g;if(S<=0)return null;var k=v%r.length;return x.createElement("rect",{key:"react-".concat(v),x:g,y:s,width:S,height:u,stroke:"none",fill:r[k],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var gse=(e,t)=>{var{xAxis:r,width:n,height:a,offset:s}=e;return oD(a1(kr(kr(kr({},Qa),r),{},{ticks:lD(r),viewBox:{x:0,y:0,width:n,height:a}})),s.left,s.left+s.width,t)},vse=(e,t)=>{var{yAxis:r,width:n,height:a,offset:s}=e;return oD(a1(kr(kr(kr({},Qa),r),{},{ticks:lD(r),viewBox:{x:0,y:0,width:n,height:a}})),s.top,s.top+s.height,t)},yse={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:jr.grid};function SM(e){var t=vD(),r=yD(),n=gD(),a=kr(kr({},Qr(e,yse)),{},{x:Te(e.x)?e.x:n.left,y:Te(e.y)?e.y:n.top,width:Te(e.width)?e.width:n.width,height:Te(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:l,x:u,y:d,width:f,height:m,syncWithTicks:g,horizontalValues:v,verticalValues:y}=a,S=$r(),k=Oe(R=>EO(R,"xAxis",s,S)),_=Oe(R=>EO(R,"yAxis",l,S));if(!ya(f)||!ya(m)||!Te(u)||!Te(d))return null;var j=a.verticalCoordinatesGenerator||gse,N=a.horizontalCoordinatesGenerator||vse,{horizontalPoints:E,verticalPoints:D}=a;if((!E||!E.length)&&typeof N=="function"){var O=v&&v.length,P=N({yAxis:_?kr(kr({},_),{},{ticks:O?v:_.ticks}):void 0,width:t??f,height:r??m,offset:n},O?!0:g);Rh(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(E=P)}if((!D||!D.length)&&typeof j=="function"){var C=y&&y.length,A=j({xAxis:k?kr(kr({},k),{},{ticks:C?y:k.ticks}):void 0,width:t??f,height:r??m,offset:n},C?!0:g);Rh(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof A,"]")),Array.isArray(A)&&(D=A)}return x.createElement(Sa,{zIndex:a.zIndex},x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(dse,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),x.createElement(mse,Ls({},a,{horizontalPoints:E})),x.createElement(pse,Ls({},a,{verticalPoints:D})),x.createElement(fse,Ls({},a,{offset:n,horizontalPoints:E,xAxis:k,yAxis:_})),x.createElement(hse,Ls({},a,{offset:n,verticalPoints:D,xAxis:k,yAxis:_}))))}SM.displayName="CartesianGrid";function bse(e){var t=C0(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:s}=t,l=Number(a),u=Number(s);return(Number.isNaN(l)||l<0)&&(l=r),(Number.isNaN(u)||u<0)&&(u=n),{r:l,strokeWidth:u}}return{r,strokeWidth:n}}var kM=(e,t,r,n)=>bR(e,"xAxis",t,n),jM=(e,t,r,n)=>yR(e,"xAxis",t,n),EM=(e,t,r,n)=>bR(e,"yAxis",r,n),NM=(e,t,r,n)=>yR(e,"yAxis",r,n),xse=se([mt,kM,EM,jM,NM],(e,t,r,n,a)=>ci(e,"xAxis")?Dh(t,n,!1):Dh(r,a,!1)),wse=(e,t,r,n,a)=>a,OM=se([B4,wse],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),_se=(e,t,r,n,a)=>{var s,l=OM(e,t,r,n,a);if(l!=null){var u=mt(e),d=ci(u,"xAxis"),f;if(d?f=Hb(e,"yAxis",r,n):f=Hb(e,"xAxis",t,n),f!=null){var{stackId:m}=l,g=Dw(l);if(!(m==null||g==null)){var v=(s=f[m])===null||s===void 0?void 0:s.stackedData;return v?.find(y=>y.key===g)}}}},Sse=se([mt,kM,EM,jM,NM,_se,kw,xse,OM,DQ],(e,t,r,n,a,s,l,u,d,f)=>{var{chartData:m,dataStartIndex:g,dataEndIndex:v}=l;if(!(d==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||a==null||n.length===0||a.length===0||u==null)){var{data:y}=d,S;if(y&&y.length>0?S=y:S=m?.slice(g,v+1),S!=null)return qse({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataStartIndex:g,areaSettings:d,stackedData:s,displayedData:S,chartBaseValue:f,bandSize:u})}}),kse=["id"],jse=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function qs(){return qs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qs.apply(null,arguments)}function AM(e,t){if(e==null)return{};var r,n,a=Ese(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ese(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function b5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function al(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b5(Object(r),!0).forEach(function(n){Nse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nse(e,t,r){return(t=Ose(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ose(e){var t=Ase(e,"string");return typeof t=="symbol"?t:t+""}function Ase(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function o0(e,t){return e&&e!=="none"?e:t}var Tse=e=>{var{dataKey:t,name:r,stroke:n,fill:a,legendType:s,hide:l}=e;return[{inactive:l,dataKey:t,type:s,color:o0(n,a),value:cD(r,t),payload:e}]},Cse=x.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:s,name:l,hide:u,unit:d,tooltipType:f}=e,m={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:s,dataKey:t,nameKey:void 0,name:cD(l,t),hide:u,type:f,color:o0(n,s),unit:d}};return x.createElement(eae,{tooltipEntrySettings:m})});function Pse(e){var{clipPathId:t,points:r,props:n}=e,{needClip:a,dot:s,dataKey:l}=n,u=Qn(n);return x.createElement(wae,{points:r,dot:s,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:l,baseProps:u,needClip:a,clipPathId:t})}function Dse(e){var{showLabels:t,children:r,points:n}=e,a=n.map(s=>{var l,u,d={x:(l=s.x)!==null&&l!==void 0?l:0,y:(u=s.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return al(al({},d),{},{value:s.value,payload:s.payload,parentViewBox:void 0,viewBox:d,fill:void 0})});return x.createElement(Gne,{value:t?a:void 0},r)}function x5(e){var{points:t,baseLine:r,needClip:n,clipPathId:a,props:s}=e,{layout:l,type:u,stroke:d,connectNulls:f,isRange:m}=s,{id:g}=s,v=AM(s,kse),y=Qn(v),S=vn(v);return x.createElement(x.Fragment,null,t?.length>1&&x.createElement(ea,{clipPath:n?"url(#clipPath-".concat(a,")"):void 0},x.createElement(Qf,qs({},S,{id:g,points:t,connectNulls:f,type:u,baseLine:r,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&x.createElement(Qf,qs({},y,{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:t})),d!=="none"&&m&&x.createElement(Qf,qs({},y,{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:r}))),x.createElement(Pse,{points:t,props:v,clipPathId:a}))}function Rse(e){var{alpha:t,baseLine:r,points:n,strokeWidth:a}=e,s=n[0].y,l=n[n.length-1].y;if(!ft(s)||!ft(l))return null;var u=t*Math.abs(s-l),d=Math.max(...n.map(f=>f.x||0));return Te(r)?d=Math.max(r,d):r&&Array.isArray(r)&&r.length&&(d=Math.max(...r.map(f=>f.x||0),d)),Te(d)?x.createElement("rect",{x:0,y:s<l?s:s-u,width:d+(a?parseInt("".concat(a),10):1),height:Math.floor(u)}):null}function Mse(e){var{alpha:t,baseLine:r,points:n,strokeWidth:a}=e,s=n[0].x,l=n[n.length-1].x;if(!ft(s)||!ft(l))return null;var u=t*Math.abs(s-l),d=Math.max(...n.map(f=>f.y||0));return Te(r)?d=Math.max(r,d):r&&Array.isArray(r)&&r.length&&(d=Math.max(...r.map(f=>f.y||0),d)),Te(d)?x.createElement("rect",{x:s<l?s:s-u,y:0,width:u,height:Math.floor(d+(a?parseInt("".concat(a),10):1))}):null}function $se(e){var{alpha:t,layout:r,points:n,baseLine:a,strokeWidth:s}=e;return r==="vertical"?x.createElement(Rse,{alpha:t,points:n,baseLine:a,strokeWidth:s}):x.createElement(Mse,{alpha:t,points:n,baseLine:a,strokeWidth:s})}function Ise(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:s}=e,{points:l,baseLine:u,isAnimationActive:d,animationBegin:f,animationDuration:m,animationEasing:g,onAnimationStart:v,onAnimationEnd:y}=n,S=x.useMemo(()=>({points:l,baseLine:u}),[l,u]),k=CD(S,"recharts-area-"),_=aY(),[j,N]=x.useState(!1),E=!j,D=x.useCallback(()=>{typeof y=="function"&&y(),N(!1)},[y]),O=x.useCallback(()=>{typeof v=="function"&&v(),N(!0)},[v]);if(_==null)return null;var P=a.current,C=s.current;return x.createElement(Dse,{showLabels:E,points:l},n.children,x.createElement(TD,{animationId:k,begin:f,duration:m,isActive:d,easing:g,onAnimationEnd:D,onAnimationStart:O,key:k},A=>{if(P){var R=P.length/l.length,M=A===1?l:l.map((z,q)=>{var te=Math.floor(q*R);if(P[te]){var ue=P[te];return al(al({},z),{},{x:da(ue.x,z.x,A),y:da(ue.y,z.y,A)})}return z}),I;return Te(u)?I=da(C,u,A):gr(u)||yn(u)?I=da(C,0,A):I=u.map((z,q)=>{var te=Math.floor(q*R);if(Array.isArray(C)&&C[te]){var ue=C[te];return al(al({},z),{},{x:da(ue.x,z.x,A),y:da(ue.y,z.y,A)})}return z}),A>0&&(a.current=M,s.current=I),x.createElement(x5,{points:M,baseLine:I,needClip:t,clipPathId:r,props:n})}return A>0&&(a.current=l,s.current=u),x.createElement(ea,null,d&&x.createElement("defs",null,x.createElement("clipPath",{id:"animationClipPath-".concat(r)},x.createElement($se,{alpha:A,points:l,baseLine:u,layout:_,strokeWidth:n.strokeWidth}))),x.createElement(ea,{clipPath:"url(#animationClipPath-".concat(r,")")},x.createElement(x5,{points:l,baseLine:u,needClip:t,clipPathId:r,props:n})))}),x.createElement(Xne,{label:n.label}))}function Lse(e){var{needClip:t,clipPathId:r,props:n}=e,a=x.useRef(null),s=x.useRef();return x.createElement(Ise,{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:s})}class zse extends x.PureComponent{render(){var{hide:t,dot:r,points:n,className:a,top:s,left:l,needClip:u,xAxisId:d,yAxisId:f,width:m,height:g,id:v,baseLine:y,zIndex:S}=this.props;if(t)return null;var k=ht("recharts-area",a),_=v,{r:j,strokeWidth:N}=bse(r),E=uM(r),D=j*2+N,O=u?"url(#clipPath-".concat(E?"":"dots-").concat(_,")"):void 0;return x.createElement(Sa,{zIndex:S},x.createElement(ea,{className:k},u&&x.createElement("defs",null,x.createElement(Hae,{clipPathId:_,xAxisId:d,yAxisId:f}),!E&&x.createElement("clipPath",{id:"clipPath-dots-".concat(_)},x.createElement("rect",{x:l-D/2,y:s-D/2,width:m+D,height:g+D}))),x.createElement(Lse,{needClip:u,clipPathId:_,props:this.props})),x.createElement(c5,{points:n,mainColor:o0(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:O}),this.props.isRange&&Array.isArray(y)&&x.createElement(c5,{points:y,mainColor:o0(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:O}))}}var TM={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:jr.area};function Use(e){var t,r=Qr(e,TM),{activeDot:n,animationBegin:a,animationDuration:s,animationEasing:l,connectNulls:u,dot:d,fill:f,fillOpacity:m,hide:g,isAnimationActive:v,legendType:y,stroke:S,xAxisId:k,yAxisId:_}=r,j=AM(r,jse),N=Du(),E=UR(),{needClip:D}=pM(k,_),O=$r(),{points:P,isRange:C,baseLine:A}=(t=Oe(te=>Sse(te,k,_,O,e.id)))!==null&&t!==void 0?t:{},R=r1();if(N!=="horizontal"&&N!=="vertical"||R==null||E!=="AreaChart"&&E!=="ComposedChart")return null;var{height:M,width:I,x:z,y:q}=R;return!P||!P.length?null:x.createElement(zse,qs({},j,{activeDot:n,animationBegin:a,animationDuration:s,animationEasing:l,baseLine:A,connectNulls:u,dot:d,fill:f,fillOpacity:m,height:M,hide:g,layout:N,isAnimationActive:v==="auto"?!Nl.isSsr:v,isRange:C,legendType:y,needClip:D,points:P,stroke:S,width:I,left:z,top:q,xAxisId:k,yAxisId:_}))}var Bse=(e,t,r,n,a)=>{var s=r??t;if(Te(s))return s;var l=e==="horizontal"?a:n,u=l.scale.domain();if(l.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return s==="dataMin"?f:s==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return s==="dataMin"?u[0]:s==="dataMax"?u[1]:u[0]};function qse(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:a,layout:s,chartBaseValue:l,xAxis:u,yAxis:d,displayedData:f,dataStartIndex:m,xAxisTicks:g,yAxisTicks:v,bandSize:y}=e,S=a&&a.length,k=Bse(s,l,r,u,d),_=s==="horizontal",j=!1,N=f.map((D,O)=>{var P;S?P=a[m+O]:(P=Er(D,n),Array.isArray(P)?j=!0:P=[k,P]);var C=P[1]==null||S&&!t&&Er(D,n)==null;return _?{x:YE({axis:u,ticks:g,bandSize:y,entry:D,index:O}),y:C?null:d.scale(P[1]),value:P,payload:D}:{x:C?null:u.scale(P[1]),y:YE({axis:d,ticks:v,bandSize:y,entry:D,index:O}),value:P,payload:D}}),E;return S||j?E=N.map(D=>{var O=Array.isArray(D.value)?D.value[0]:null;return _?{x:D.x,y:O!=null&&D.y!=null?d.scale(O):null,payload:D.payload}:{x:O!=null?u.scale(O):null,y:D.y,payload:D.payload}}):E=_?d.scale(k):u.scale(k),{points:N,baseLine:E,isRange:j}}function Hse(e){var t=Qr(e,TM),r=$r();return x.createElement(iae,{id:t.id,type:"area"},n=>x.createElement(x.Fragment,null,x.createElement(tae,{legendPayload:Tse(t)}),x.createElement(Cse,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),x.createElement(fae,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:xG(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),x.createElement(Use,qs({},t,{id:n}))))}var CM=x.memo(Hse,n1);CM.displayName="Area";var Fse=["domain","range"],Vse=["domain","range"];function w5(e,t){if(e==null)return{};var r,n,a=Kse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Kse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function _5(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function PM(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=w5(e,Fse),{domain:s,range:l}=t,u=w5(t,Vse);return!_5(r,s)||!_5(n,l)?!1:n1(a,u)}var Zse=["dangerouslySetInnerHTML","ticks"],Gse=["id"];function Xb(){return Xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xb.apply(null,arguments)}function S5(e,t){if(e==null)return{};var r,n,a=Yse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Yse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Wse(e){var t=Yt(),r=x.useRef(null);return x.useLayoutEffect(()=>{r.current===null?t(Eae(e)):r.current!==e&&t(Nae({prev:r.current,next:e})),r.current=e},[e,t]),x.useLayoutEffect(()=>()=>{r.current&&(t(Oae(r.current)),r.current=null)},[t]),null}var Xse=e=>{var{xAxisId:t,className:r}=e,n=Oe(dD),a=$r(),s="xAxis",l=Oe(_=>Xi(_,s,t,a)),u=Oe(_=>vR(_,s,t,a)),d=Oe(_=>jee(_,t)),f=Oe(_=>Cee(_,t)),m=Oe(_=>I4(_,t));if(d==null||f==null||m==null)return null;var{dangerouslySetInnerHTML:g,ticks:v}=e,y=S5(e,Zse),{id:S}=m,k=S5(m,Gse);return x.createElement(i1,Xb({},y,k,{scale:l,x:f.x,y:f.y,width:d.width,height:d.height,className:ht("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:u,axisType:s}))},Jse={allowDataOverflow:rr.allowDataOverflow,allowDecimals:rr.allowDecimals,allowDuplicatedCategory:rr.allowDuplicatedCategory,angle:rr.angle,axisLine:Qa.axisLine,height:rr.height,hide:!1,includeHidden:rr.includeHidden,interval:rr.interval,minTickGap:rr.minTickGap,mirror:rr.mirror,orientation:rr.orientation,padding:rr.padding,reversed:rr.reversed,scale:rr.scale,tick:rr.tick,tickCount:rr.tickCount,tickLine:Qa.tickLine,tickSize:Qa.tickSize,type:rr.type,xAxisId:0},Qse=e=>{var t=Qr(e,Jse);return x.createElement(x.Fragment,null,x.createElement(Wse,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),x.createElement(Xse,t))},DM=x.memo(Qse,PM);DM.displayName="XAxis";var eoe=["dangerouslySetInnerHTML","ticks"],toe=["id"];function Jb(){return Jb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jb.apply(null,arguments)}function k5(e,t){if(e==null)return{};var r,n,a=roe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function roe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function noe(e){var t=Yt(),r=x.useRef(null);return x.useLayoutEffect(()=>{r.current===null?t(Aae(e)):r.current!==e&&t(Tae({prev:r.current,next:e})),r.current=e},[e,t]),x.useLayoutEffect(()=>()=>{r.current&&(t(Cae(r.current)),r.current=null)},[t]),null}var aoe=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,s=x.useRef(null),l=x.useRef(null),u=Oe(dD),d=$r(),f=Yt(),m="yAxis",g=Oe(O=>Xi(O,m,t,d)),v=Oe(O=>Ree(O,t)),y=Oe(O=>Dee(O,t)),S=Oe(O=>vR(O,m,t,d)),k=Oe(O=>L4(O,t));if(x.useLayoutEffect(()=>{if(!(n!=="auto"||!v||t1(a)||x.isValidElement(a)||k==null)){var O=s.current;if(O){var P=O.getCalculatedWidth();Math.round(v.width)!==Math.round(P)&&f(Pae({id:t,width:P}))}}},[S,v,f,a,t,n,k]),v==null||y==null||k==null)return null;var{dangerouslySetInnerHTML:_,ticks:j}=e,N=k5(e,eoe),{id:E}=k,D=k5(k,toe);return x.createElement(i1,Jb({},N,D,{ref:s,labelRef:l,scale:g,x:y.x,y:y.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:v.width,height:v.height,className:ht("recharts-".concat(m," ").concat(m),r),viewBox:u,ticks:S,axisType:m}))},ioe={allowDataOverflow:nr.allowDataOverflow,allowDecimals:nr.allowDecimals,allowDuplicatedCategory:nr.allowDuplicatedCategory,angle:nr.angle,axisLine:Qa.axisLine,hide:!1,includeHidden:nr.includeHidden,interval:nr.interval,minTickGap:nr.minTickGap,mirror:nr.mirror,orientation:nr.orientation,padding:nr.padding,reversed:nr.reversed,scale:nr.scale,tick:nr.tick,tickCount:nr.tickCount,tickLine:Qa.tickLine,tickSize:Qa.tickSize,type:nr.type,width:nr.width,yAxisId:0},soe=e=>{var t=Qr(e,ioe);return x.createElement(x.Fragment,null,x.createElement(noe,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),x.createElement(aoe,t))},RM=x.memo(soe,PM);RM.displayName="YAxis";var ooe=(e,t)=>t,s1=se([ooe,mt,M4,Jt,RR,hi,Gte,br],tre),o1=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},MM=$n("mouseClick"),$M=Tu();$M.startListening({actionCreator:MM,effect:(e,t)=>{var r=e.payload,n=s1(t.getState(),o1(r));n?.activeIndex!=null&&t.dispatch(Zee({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Qb=$n("mouseMove"),IM=Tu(),Vf=null;IM.startListening({actionCreator:Qb,effect:(e,t)=>{var r=e.payload;Vf!==null&&cancelAnimationFrame(Vf);var n=o1(r);Vf=requestAnimationFrame(()=>{var a=t.getState(),s=Fw(a,a.tooltip.settings.shared);if(s==="axis"){var l=s1(a,n);l?.activeIndex!=null?t.dispatch(ER({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):t.dispatch(jR())}Vf=null})}});var j5={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},LM=en({name:"rootProps",initialState:j5,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:j5.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),loe=LM.reducer,{updateOptions:coe}=LM.actions,zM=en({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:yue}=zM.actions,uoe=zM.reducer,UM=$n("keyDown"),BM=$n("focus"),l1=Tu();l1.startListening({actionCreator:UM,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=Vw(a,Rl(r),Bu(r),Ku(r)),u=l==null?-1:Number(l);if(!(!Number.isFinite(u)||u<0)){var d=hi(r);if(s==="Enter"){var f=t0(r,"axis","hover",String(a.index));t.dispatch(Vb({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:f}));return}var m=Lee(r),g=m==="left-to-right"?1:-1,v=s==="ArrowRight"?1:-1,y=u+v*g;if(!(d==null||y>=d.length||y<0)){var S=t0(r,"axis","hover",String(y));t.dispatch(Vb({active:!0,activeIndex:y.toString(),activeDataKey:void 0,activeCoordinate:S}))}}}}}});l1.startListening({actionCreator:BM,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var s="0",l=t0(r,"axis","hover",String(s));t.dispatch(Vb({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:l}))}}}});var Pn=$n("externalEvent"),qM=Tu(),_y=new Map;qM.startListening({actionCreator:Pn,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,s=_y.get(a);s!==void 0&&cancelAnimationFrame(s);var l=requestAnimationFrame(()=>{try{var u=t.getState(),d={activeCoordinate:Dte(u),activeDataKey:Cte(u),activeIndex:xu(u),activeLabel:IR(u),activeTooltipIndex:xu(u),isTooltipActive:Rte(u)};r(d,n)}finally{_y.delete(a)}});_y.set(a,l)}}});var doe=se([Dl],e=>e.tooltipItemPayloads),foe=se([doe,Fu,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(u=>u.settings.dataKey===n);if(a!=null){var{positions:s}=a;if(s!=null){var l=t(s,r);return l}}}),HM=$n("touchMove"),FM=Tu();FM.startListening({actionCreator:HM,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=Fw(n,n.tooltip.settings.shared);if(a==="axis"){var s=s1(n,o1({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));s?.activeIndex!=null&&t.dispatch(ER({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(a==="item"){var l,u=r.touches[0];if(document.elementFromPoint==null)return;var d=document.elementFromPoint(u.clientX,u.clientY);if(!d||!d.getAttribute)return;var f=d.getAttribute(NG),m=(l=d.getAttribute(OG))!==null&&l!==void 0?l:void 0,g=foe(t.getState(),f,m);t.dispatch(Kee({activeDataKey:m,activeIndex:f,activeCoordinate:g}))}}}});var hoe=PP({brush:cie,cartesianAxis:Dae,chartData:Dre,errorBars:qae,graphicalItems:uae,layout:uG,legend:wY,options:Ore,polarAxis:Qne,polarOptions:uoe,referenceElements:xie,rootProps:loe,tooltip:Gee,zIndex:pre}),moe=function(t){return MZ({reducer:hoe,preloadedState:t,middleware:r=>{var n;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((n="es6")!==null&&n!==void 0?n:"")}).concat([$M.middleware,IM.middleware,l1.middleware,qM.middleware,FM.middleware])},enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(ZP({type:"raf"}))},devTools:Nl.devToolsEnabled})};function poe(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=$r(),s=x.useRef(null);if(a)return r;s.current==null&&(s.current=moe(t));var l=Hx;return x.createElement(iie,{context:l,store:s.current},r)}function goe(e){var{layout:t,margin:r}=e,n=Yt(),a=$r();return x.useEffect(()=>{a||(n(oG(t)),n(sG(r)))},[n,a,t,r]),null}var voe=x.memo(goe,n1);function yoe(e){var t=Yt();return x.useEffect(()=>{t(coe(e))},[t,e]),null}function E5(e){var{zIndex:t,isPanorama:r}=e,n=r?"recharts-zindex-panorama-":"recharts-zindex-",a=dM("".concat(n).concat(t)),s=Yt();return x.useLayoutEffect(()=>(s(hre({zIndex:t,elementId:a,isPanorama:r})),()=>{s(mre({zIndex:t,isPanorama:r}))}),[s,t,a,r]),x.createElement("g",{tabIndex:-1,id:a})}function N5(e){var{children:t,isPanorama:r}=e,n=Oe(nre);if(!n||n.length===0)return t;var a=n.filter(l=>l<0),s=n.filter(l=>l>0);return x.createElement(x.Fragment,null,a.map(l=>x.createElement(E5,{key:l,zIndex:l,isPanorama:r})),t,s.map(l=>x.createElement(E5,{key:l,zIndex:l,isPanorama:r})))}var boe=["children"];function xoe(e,t){if(e==null)return{};var r,n,a=woe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function woe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function l0(){return l0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l0.apply(null,arguments)}var _oe={width:"100%",height:"100%",display:"block"},Soe=x.forwardRef((e,t)=>{var r=vD(),n=yD(),a=ED();if(!ya(r)||!ya(n))return null;var{children:s,otherAttributes:l,title:u,desc:d}=e,f,m;return l!=null&&(typeof l.tabIndex=="number"?f=l.tabIndex:f=a?0:void 0,typeof l.role=="string"?m=l.role:m=a?"application":void 0),x.createElement(QC,l0({},l,{title:u,desc:d,role:m,tabIndex:f,width:r,height:n,style:_oe,ref:t}),s)}),koe=e=>{var{children:t}=e,r=Oe(Z0);if(!r)return null;var{width:n,height:a,y:s,x:l}=r;return x.createElement(QC,{width:n,height:a,x:l,y:s},t)},O5=x.forwardRef((e,t)=>{var{children:r}=e,n=xoe(e,boe),a=$r();return a?x.createElement(koe,null,x.createElement(N5,{isPanorama:!0},r)):x.createElement(Soe,l0({ref:t},n),x.createElement(N5,{isPanorama:!1},r))});function joe(){var e=Yt(),[t,r]=x.useState(null),n=Oe(EG);return x.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),s=a.width/t.offsetWidth;ft(s)&&s!==n&&e(cG(s))}},[t,e,n]),r}function A5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Eoe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A5(Object(r),!0).forEach(function(n){Noe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Noe(e,t,r){return(t=Ooe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ooe(e){var t=Aoe(e,"string");return typeof t=="symbol"?t:t+""}function Aoe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ws(){return Ws=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ws.apply(null,arguments)}var Toe=()=>(qre(),null);function c0(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Coe=x.forwardRef((e,t)=>{var r,n,a=x.useRef(null),[s,l]=x.useState({containerWidth:c0((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:c0((n=e.style)===null||n===void 0?void 0:n.height)}),u=x.useCallback((f,m)=>{l(g=>{var v=Math.round(f),y=Math.round(m);return g.containerWidth===v&&g.containerHeight===y?g:{containerWidth:v,containerHeight:y}})},[]),d=x.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null&&typeof ResizeObserver<"u"){var{width:m,height:g}=f.getBoundingClientRect();u(m,g);var v=S=>{var{width:k,height:_}=S[0].contentRect;u(k,_)},y=new ResizeObserver(v);y.observe(f),a.current=y}},[t,u]);return x.useEffect(()=>()=>{var f=a.current;f?.disconnect()},[u]),x.createElement(x.Fragment,null,x.createElement(G0,{width:s.containerWidth,height:s.containerHeight}),x.createElement("div",Ws({ref:d},e)))}),Poe=x.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,s]=x.useState({containerWidth:c0(r),containerHeight:c0(n)}),l=x.useCallback((d,f)=>{s(m=>{var g=Math.round(d),v=Math.round(f);return m.containerWidth===g&&m.containerHeight===v?m:{containerWidth:g,containerHeight:v}})},[]),u=x.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null){var{width:f,height:m}=d.getBoundingClientRect();l(f,m)}},[t,l]);return x.createElement(x.Fragment,null,x.createElement(G0,{width:a.containerWidth,height:a.containerHeight}),x.createElement("div",Ws({ref:u},e)))}),Doe=x.forwardRef((e,t)=>{var{width:r,height:n}=e;return x.createElement(x.Fragment,null,x.createElement(G0,{width:r,height:n}),x.createElement("div",Ws({ref:t},e)))}),Roe=x.forwardRef((e,t)=>{var{width:r,height:n}=e;return ti(r)||ti(n)?x.createElement(Poe,Ws({},e,{ref:t})):x.createElement(Doe,Ws({},e,{ref:t}))});function Moe(e){return e===!0?Coe:Roe}var $oe=x.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:s,onContextMenu:l,onDoubleClick:u,onMouseDown:d,onMouseEnter:f,onMouseLeave:m,onMouseMove:g,onMouseUp:v,onTouchEnd:y,onTouchMove:S,onTouchStart:k,style:_,width:j,responsive:N,dispatchTouchEvents:E=!0}=e,D=x.useRef(null),O=Yt(),[P,C]=x.useState(null),[A,R]=x.useState(null),M=joe(),I=Jx(),z=I?.width>0?I.width:j,q=I?.height>0?I.height:a,te=x.useCallback(G=>{M(G),typeof t=="function"&&t(G),C(G),R(G),G!=null&&(D.current=G)},[M,t,C,R]),ue=x.useCallback(G=>{O(MM(G)),O(Pn({handler:s,reactEvent:G}))},[O,s]),B=x.useCallback(G=>{O(Qb(G)),O(Pn({handler:f,reactEvent:G}))},[O,f]),H=x.useCallback(G=>{O(jR()),O(Pn({handler:m,reactEvent:G}))},[O,m]),X=x.useCallback(G=>{O(Qb(G)),O(Pn({handler:g,reactEvent:G}))},[O,g]),ee=x.useCallback(()=>{O(BM())},[O]),ve=x.useCallback(G=>{O(UM(G.key))},[O]),L=x.useCallback(G=>{O(Pn({handler:l,reactEvent:G}))},[O,l]),K=x.useCallback(G=>{O(Pn({handler:u,reactEvent:G}))},[O,u]),F=x.useCallback(G=>{O(Pn({handler:d,reactEvent:G}))},[O,d]),Z=x.useCallback(G=>{O(Pn({handler:v,reactEvent:G}))},[O,v]),oe=x.useCallback(G=>{O(Pn({handler:k,reactEvent:G}))},[O,k]),ce=x.useCallback(G=>{E&&O(HM(G)),O(Pn({handler:S,reactEvent:G}))},[O,E,S]),ae=x.useCallback(G=>{O(Pn({handler:y,reactEvent:G}))},[O,y]),ye=Moe(N);return x.createElement(VR.Provider,{value:P},x.createElement(IV.Provider,{value:A},x.createElement(ye,{width:z??_?.width,height:q??_?.height,className:ht("recharts-wrapper",n),style:Eoe({position:"relative",cursor:"default",width:z,height:q},_),onClick:ue,onContextMenu:L,onDoubleClick:K,onFocus:ee,onKeyDown:ve,onMouseDown:F,onMouseEnter:B,onMouseLeave:H,onMouseMove:X,onMouseUp:Z,onTouchEnd:ae,onTouchMove:ce,onTouchStart:oe,ref:te},x.createElement(Toe,null),r)))}),Ioe=["width","height","responsive","children","className","style","compact","title","desc"];function Loe(e,t){if(e==null)return{};var r,n,a=zoe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function zoe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Uoe=x.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:s,className:l,style:u,compact:d,title:f,desc:m}=e,g=Loe(e,Ioe),v=Qn(g);return d?x.createElement(x.Fragment,null,x.createElement(G0,{width:r,height:n}),x.createElement(O5,{otherAttributes:v,title:f,desc:m},s)):x.createElement($oe,{className:l,style:u,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},x.createElement(O5,{otherAttributes:v,title:f,desc:m,ref:t},x.createElement(wie,null,s)))});function ex(){return ex=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ex.apply(null,arguments)}var Boe={top:5,right:5,bottom:5,left:5},qoe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Boe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Hoe=x.forwardRef(function(t,r){var n,a=Qr(t.categoricalChartProps,qoe),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,categoricalChartProps:f}=t,m={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return x.createElement(poe,{preloadedState:{options:m},reduxStoreName:(n=f.id)!==null&&n!==void 0?n:s},x.createElement(lie,{chartData:f.data}),x.createElement(voe,{layout:a.layout,margin:a.margin}),x.createElement(yoe,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),x.createElement(Uoe,ex({},a,{ref:r})))}),Foe=["axis"],Voe=x.forwardRef((e,t)=>x.createElement(Hoe,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Foe,tooltipPayloadSearcher:Ere,categoricalChartProps:e,ref:t}));function Koe({dailyLedger:e=[],safetyTargetBottles:t=0,specs:r={}}){const{theme:n}=ra(),a=n==="dark",s=x.useMemo(()=>{if(!e.length||!r.bottlesPerCase)return[];const g=r.bottlesPerCase*(r.casesPerPallet||1),v=Math.round(t/g);return e.map(y=>{const S=y.balance/g,[k,_,j]=y.dateStr.split("-").map(Number),N=new Date(k,_-1,j);return{date:y.dateStr,displayDate:N.toLocaleDateString("en-US",{month:"numeric",day:"numeric"}),pallets:Math.round(S),safety:v}})},[e,t,r]);if(!s.length)return h.jsx("div",{className:"w-full h-80 flex items-center justify-center bg-gray-50 dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700",children:h.jsx("span",{className:"text-gray-400 font-medium",children:"No projection data available"})});const l=s[0]?.safety||0;Math.max(...s.map(g=>g.pallets),l*1.5);const u=a?"#9CA3AF":"#6B7280",d=a?"#374151":"#E5E7EB",f=a?"#1F2937":"#FFFFFF",m=a?"#F3F4F6":"#111827";return h.jsxs("div",{className:"w-full h-80 bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 flex flex-col transition-all",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4 px-2",children:[h.jsx("h3",{className:"text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"30-Day Inventory Projection"}),h.jsxs("div",{className:"flex items-center space-x-4 text-xs font-medium",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500 mr-1.5"}),h.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Projected Balance"})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500 mr-1.5 opacity-50"}),h.jsxs("span",{className:"text-gray-600 dark:text-gray-300",children:["Safety Target (",l," plts)"]})]})]})]}),h.jsx("div",{className:"flex-1 w-full min-h-[200px]",children:h.jsx(rY,{width:"100%",height:"100%",children:h.jsxs(Voe,{data:s,margin:{top:10,right:10,left:0,bottom:0},children:[h.jsxs("defs",{children:[h.jsxs("linearGradient",{id:"colorPv",x1:"0",y1:"0",x2:"0",y2:"1",children:[h.jsx("stop",{offset:"5%",stopColor:"#3B82F6",stopOpacity:.3}),h.jsx("stop",{offset:"95%",stopColor:"#3B82F6",stopOpacity:.05})]}),h.jsxs("linearGradient",{id:"colorSafety",x1:"0",y1:"0",x2:"0",y2:"1",children:[h.jsx("stop",{offset:"5%",stopColor:"#EF4444",stopOpacity:.1}),h.jsx("stop",{offset:"95%",stopColor:"#EF4444",stopOpacity:0})]})]}),h.jsx(SM,{strokeDasharray:"3 3",vertical:!1,stroke:d}),h.jsx(DM,{dataKey:"displayDate",tick:{fontSize:11,fill:u},axisLine:!1,tickLine:!1,interval:6}),h.jsx(RM,{tick:{fontSize:11,fill:u},axisLine:!1,tickLine:!1,domain:[0,"auto"]}),h.jsx(Wre,{contentStyle:{backgroundColor:f,borderRadius:"8px",border:a?"1px solid #374151":"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",color:m,padding:"8px 12px"},itemStyle:{fontSize:"12px",fontWeight:600},labelStyle:{color:u,fontSize:"11px",marginBottom:"4px"},formatter:(g,v)=>[`${g} Pallets`,v==="pallets"?"Balance":"Safety"]}),h.jsx(xM,{y:l,stroke:"#EF4444",strokeDasharray:"3 3",strokeOpacity:.6}),h.jsx(CM,{type:"monotone",dataKey:"pallets",stroke:"#3B82F6",strokeWidth:2,fillOpacity:1,fill:"url(#colorPv)",animationDuration:1e3})]})})})]})}const Zoe=_e.memo(Koe);function Goe(){return{solve:(t,r,n,a,s,l,u)=>{if(!t||!t.dailyLedger||!a||!n[a])return console.warn("Solver: Missing Data",{currentResults:t,selectedSize:a}),null;const d=n[a],f={...l.monthlyInbound||{}},m=t.dailyLedger,g=Wr(),v=u!==void 0?u:s?.leadTimeDays||2,y=Ft(g,Math.max(0,v-1));let S=0,k=0;return m.forEach((_,j)=>{const N=_.dateStr,D=_.projectedEndInventory+S;if(N<=y){console.log(`[Solver] Skipping Frozen Date: ${N} (Until: ${y})`);return}if(l.monthlyProductionActuals&&l.monthlyProductionActuals[N])return;const O=_.safetyStockTarget||(r||0)*d.bottlesPerTruck;if(D<O){const P=O-D,C=Math.ceil(P/d.bottlesPerTruck);if(C>0){const A=f[N]||0,R=Number(A)+C;f[N]=R,S+=C*d.bottlesPerTruck,k++}}else if(D>O+d.bottlesPerTruck){let P=Number(f[N]||0);if(P>0){const C=D-O,A=Math.floor(C/d.bottlesPerTruck),R=Math.min(A,P);if(R>0){const M=P-R;f[N]=M,S-=R*d.bottlesPerTruck,k++}}}}),{newInbound:f,updatesCount:k}}}}function Yoe({monthlyDemand:e,monthlyProductionActuals:t,monthlyInbound:r,updateDateDemand:n,updateDateActual:a,poManifest:s={},dailyLedger:l=[],specs:u,userProfile:d}){const{saveProcurementEntry:f,deleteProcurementEntry:m}=na(),[g,v]=x.useState(()=>{const C=new Date;return C.setDate(C.getDate()-3),C}),[y,S]=x.useState(null),[k,_]=x.useState([]);x.useEffect(()=>{const C=[];for(let A=0;A<30;A++){const R=new Date(g);R.setDate(g.getDate()+A),C.push(R)}_(C)},[g]);const j=C=>{const A=new Date(g);A.setDate(A.getDate()+C),v(A)},N=C=>l.find(A=>A.dateStr===C)||{},E=(C,A,R,M)=>{if(!C&&C!==0)return;let I=Number(C);I>0&&I<1e3&&(I*=1e3),Number(A)!==I&&R(M,I)},D=C=>{const A=s[C],R=A?.items?.length>0,M=R?A.items.length:r[C]||0,I=A?.items?.map(z=>z.time).filter(Boolean).sort()||[];return h.jsx("div",{className:`relative h-full w-full flex flex-col justify-center px-1 cursor-pointer transition-colors ${M>0?"bg-blue-50 text-blue-900 dark:bg-blue-900/40 dark:text-blue-200 hover:bg-blue-100 dark:hover:bg-blue-800":"hover:bg-gray-50 dark:hover:bg-gray-800"}`,onClick:()=>S(C),children:M>0?h.jsxs("div",{className:"flex flex-wrap gap-0.5",children:[h.jsxs("span",{className:`flex items-center gap-1 text-[10px] font-bold px-1 rounded-sm shadow-sm ${R?"bg-blue-600 text-white":"bg-blue-100 text-blue-800 border border-blue-200"}`,children:[h.jsx(gn,{className:"w-3 h-3"}),M," ",R?"":""]}),R&&I.slice(0,2).map((z,q)=>h.jsx("span",{className:"text-[9px] bg-blue-100 text-blue-800 px-0.5 border border-blue-200 rounded-sm dark:bg-blue-950 dark:text-blue-300 dark:border-blue-800",children:z},q)),I.length>2&&h.jsx("span",{className:"text-[8px] text-blue-400",children:"..."})]}):h.jsx("span",{className:"text-gray-200 text-xs text-center",children:"-"})})},O=C=>{const A=Math.round(C.projectedPallets||0),R=C.daysOfSupply||0;C.safetyStockTarget;let M="bg-emerald-50 text-emerald-900 dark:bg-emerald-900/40 dark:text-emerald-300";return R<2?M="bg-red-50 text-red-900 font-bold dark:bg-red-900/40 dark:text-red-300":R<4&&(M="bg-amber-50 text-amber-900 dark:bg-amber-900/40 dark:text-amber-300"),h.jsxs("div",{className:`h-full w-full flex flex-col justify-center px-1 text-right text-xs ${M}`,children:[h.jsxs("div",{children:[A," ",h.jsx("span",{className:"text-[9px] opacity-60",children:"plts"})]}),h.jsxs("div",{className:"text-[9px] opacity-75",children:[R.toFixed(1)," Days"]})]})},P=_e.useMemo(()=>{if(!u||!u.bottlesPerTruck||!u.bottlesPerCase)return null;let C=0,A=0;const R=u.bottlesPerTruck/u.bottlesPerCase;k.forEach(z=>{const q=jt(z),te=e[q];te&&(C+=Number(te));const ue=s[q],B=ue?.items?.length>0?ue.items.length:r[q]||0;A+=Number(B)});const M=Math.ceil(C/R),I=A-M;return{totalCases:C,trucksRequired:M,totalScheduled:A,gap:I}},[k,e,r,s,u]);return h.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-gray-800 shadow-sm border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden font-sans",children:[P&&h.jsxs("div",{className:"hidden md:flex flex-shrink-0 p-1.5 bg-slate-900 text-white items-center justify-between z-10 font-mono text-xs uppercase tracking-wider border-b border-slate-700",children:[h.jsxs("div",{className:"flex gap-4",children:[h.jsxs("div",{className:"flex flex-col",children:[h.jsx("span",{className:"text-slate-400 text-[8px]",children:"Total Plan"}),h.jsxs("span",{className:"font-bold text-xs text-blue-200",children:[P.totalCases.toLocaleString()," ",h.jsx("span",{className:"text-[8px] text-slate-500",children:"cs"})]})]}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("span",{className:"text-slate-400 text-[8px]",children:"Est. Trucks"}),h.jsxs("span",{className:"font-bold text-xs",children:[P.trucksRequired," ",h.jsx("span",{className:"text-[8px] text-slate-500",children:"trks"})]})]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("div",{className:"flex flex-col text-right",children:[h.jsx("span",{className:"text-slate-400 text-[8px]",children:"Scheduled"}),h.jsx("span",{className:"font-bold text-xs text-emerald-400",children:P.totalScheduled})]}),h.jsxs("div",{className:`flex flex-col items-center justify-center px-2 py-0.5 rounded border ${P.gap<0?"bg-red-500/20 border-red-500 text-red-200":"bg-emerald-500/20 border-emerald-500 text-emerald-200"}`,children:[h.jsx("span",{className:"text-[8px] opacity-75",children:"Gap"}),h.jsxs("span",{className:"font-black text-lg leading-none",children:[P.gap>0?"+":"",P.gap]})]})]})]}),h.jsxs("div",{className:"flex justify-between items-center p-2 border-b bg-gray-50 dark:bg-gray-900",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(G5,{className:"w-4 h-4 text-gray-500"}),h.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-gray-600",children:"Workbench View"})]}),h.jsxs("div",{className:"flex gap-1",children:[h.jsx("button",{onClick:()=>j(-7),className:"p-1 hover:bg-gray-200 rounded",children:h.jsx(ax,{className:"w-4 h-4"})}),h.jsx("button",{onClick:()=>v(new Date),className:"px-2 text-xs font-medium hover:bg-gray-200 rounded",children:"Today"}),h.jsx("button",{onClick:()=>j(7),className:"p-1 hover:bg-gray-200 rounded",children:h.jsx(ix,{className:"w-4 h-4"})})]})]}),h.jsx("div",{className:"flex-1 overflow-auto relative custom-scrollbar",children:h.jsxs("table",{className:"w-full border-collapse text-xs",children:[h.jsx("thead",{className:"sticky top-0 z-20 shadow-sm",children:h.jsxs("tr",{children:[h.jsx("th",{className:"sticky left-0 z-30 bg-slate-50 dark:bg-gray-800 w-32 border-b border-r border-slate-300 dark:border-gray-700 p-2 text-left font-bold text-slate-700 dark:text-gray-400 shadow-[4px_0_10px_-4px_rgba(0,0,0,0.1)]",children:"Metric"}),k.map(C=>{const A=jt(C),R=jt(new Date),M=A===R,I=C<new Date(new Date().setHours(0,0,0,0)),z=C.getDay()===0||C.getDay()===6;let q="min-w-[80px] p-1 border-b border-r border-slate-200 dark:border-gray-700 text-center font-medium transition-colors ";return M?q+="bg-blue-600 text-white border-blue-600 ring-2 ring-blue-600 ring-inset ring-offset-0 z-20 shadow-md":I?q+="bg-slate-100 dark:bg-gray-900/50 text-slate-400 dark:text-gray-500":z?q+="bg-slate-50 dark:bg-gray-800/50 text-slate-500 dark:text-gray-500":q+="bg-white dark:bg-gray-800 text-slate-800 dark:text-gray-200",h.jsxs("th",{className:q,children:[h.jsx("div",{className:`text-[10px] uppercase ${M?"text-blue-100":"opacity-60"}`,children:M?"TODAY":C.toLocaleDateString("en-US",{weekday:"short"})}),h.jsx("div",{className:M?"font-bold":"",children:C.toLocaleDateString("en-US",{day:"numeric",month:"numeric"})})]},A)})]})}),h.jsxs("tbody",{children:[h.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-gray-800 group",children:[h.jsxs("td",{className:"sticky left-0 z-10 bg-slate-50 dark:bg-gray-800 border-r border-b border-slate-300 dark:border-gray-700 p-2 font-bold text-slate-700 dark:text-gray-300 group-hover:bg-slate-100 dark:group-hover:bg-gray-800 shadow-[4px_0_10px_-4px_rgba(0,0,0,0.1)]",children:["Production Plan",h.jsx("span",{className:"block text-[9px] font-normal text-slate-400 dark:text-gray-500",children:"Cases"})]}),k.map(C=>{const A=jt(C),R=jt(new Date),M=A===R,I=C<new Date(new Date().setHours(0,0,0,0)),z=e[A]||"",q=t[A],te=q!=null;let ue="border-r border-b border-slate-200 dark:border-gray-700 p-0 h-10 relative ";return M?ue+="bg-blue-50/80 dark:bg-blue-900/20 ring-2 ring-inset ring-blue-500 z-10 ":I?ue+="bg-slate-100 dark:bg-gray-900/40 ":ue+="bg-white dark:bg-gray-800 ",h.jsxs("td",{className:ue,children:[h.jsx("input",{type:"text",className:`w-full h-full text-center border-none focus:ring-0 bg-transparent p-0 text-gray-900 dark:text-gray-100 ${q?"font-bold":""} ${M?"font-bold":""}`,value:z?Number(z).toLocaleString():"",onChange:B=>n(A,B.target.value.replace(/,/g,"")),onBlur:B=>E(B.target.value.replace(/,/g,""),z,n,A),placeholder:"-"}),te&&h.jsxs("div",{className:"absolute bottom-0 right-0 text-[8px] bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400 px-1 pointer-events-none",title:`Actual: ${q}`,children:["Act: ",q]})]},A)})]}),h.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-gray-800 group",children:[h.jsxs("td",{className:"sticky left-0 z-10 bg-slate-50 dark:bg-gray-800 border-r border-b border-slate-300 dark:border-gray-700 p-2 font-bold text-blue-700 dark:text-blue-400 group-hover:bg-slate-100 dark:group-hover:bg-gray-800 shadow-[4px_0_10px_-4px_rgba(0,0,0,0.1)]",children:["Actual Reconciliation",h.jsx("span",{className:"block text-[9px] font-normal text-slate-400 dark:text-gray-500",children:"Past Dates Only"})]}),k.map(C=>{const A=jt(C),R=jt(new Date),M=A===R,I=C<new Date(new Date().setHours(0,0,0,0)),z=t[A]||"";let q="border-r border-b border-slate-200 dark:border-gray-700 p-0 h-10 relative ";M?q+="bg-blue-50/80 dark:bg-blue-900/20 ring-2 ring-inset ring-blue-500 z-10 ":I?q+="bg-white dark:bg-gray-800 ":q+="bg-slate-50/50 dark:bg-gray-800/50 ";const te=!I;return h.jsx("td",{className:q,children:te?h.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-300 dark:text-gray-600 text-[10px] select-none cursor-not-allowed italic",children:"Locked"}):h.jsx("input",{type:"text",className:"w-full h-full text-center border-none focus:ring-0 bg-transparent p-0 font-bold text-blue-700 dark:text-blue-300",value:z?Number(z).toLocaleString():"",onChange:ue=>a(A,ue.target.value.replace(/,/g,"")),onBlur:ue=>E(ue.target.value.replace(/,/g,""),z,a,A),placeholder:"-"})},A)})]}),h.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-gray-800 group",children:[h.jsxs("td",{className:"sticky left-0 z-10 bg-slate-50 dark:bg-gray-800 border-r border-b border-slate-300 dark:border-gray-700 p-2 font-bold text-slate-600 dark:text-gray-400 group-hover:bg-slate-100 dark:group-hover:bg-gray-800 shadow-[4px_0_10px_-4px_rgba(0,0,0,0.1)]",children:["Inbound Trucks",h.jsx("span",{className:"block text-[9px] font-normal text-slate-400 dark:text-gray-500",children:"Click to Manage"})]}),k.map(C=>{const A=jt(C),R=jt(new Date),M=A===R,I=C<new Date(new Date().setHours(0,0,0,0));let z="border-r border-b border-slate-200 dark:border-gray-700 p-0 h-12 align-middle ";return M?z+="bg-blue-50/80 dark:bg-blue-900/20 ring-2 ring-inset ring-blue-500 z-10 ":I?z+="bg-slate-100 dark:bg-gray-900/40 ":z+="bg-white dark:bg-gray-800 ",h.jsx("td",{className:z,children:D(A)},A)})]}),h.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-gray-800 group",children:[h.jsxs("td",{className:"sticky left-0 z-10 bg-slate-50 dark:bg-gray-800 border-r border-b border-slate-300 dark:border-gray-700 p-2 font-bold text-slate-600 dark:text-gray-400 group-hover:bg-slate-100 dark:group-hover:bg-gray-800 shadow-[4px_0_10px_-4px_rgba(0,0,0,0.1)]",children:["Projected End",h.jsx("span",{className:"block text-[9px] font-normal text-slate-400 dark:text-gray-500",children:"Pallets & DOS"})]}),k.map(C=>{const A=jt(C),R=jt(new Date),M=A===R,I=C<new Date(new Date().setHours(0,0,0,0)),z=N(A);let q="border-r border-b border-slate-200 dark:border-gray-700 p-0 h-12 align-middle ";return M?q+="bg-blue-50/80 dark:bg-blue-900/20 ring-2 ring-inset ring-blue-500 z-10 ":I?q+="bg-slate-100 dark:bg-gray-900/40 ":q+="bg-white dark:bg-gray-800 ",h.jsx("td",{className:q,children:O(z)},A)})]})]})]})}),y&&h.jsx(YC,{isOpen:!!y,onClose:()=>S(null),date:y,monthlyInbound:r,specs:u,orders:s[y]?.items||[],onSave:f,onDelete:m})]})}function Woe({state:e,setters:t,results:r,readOnly:n=!1}){const{leadTimeDays:a,safetyStockLoads:s,schedulerSettings:l}=ra(),{productMap:u}=yr(),{user:d}=Nr(),{solve:f}=Goe(),m=r?.poManifest||{},[g,v]=x.useState(()=>{const pe=new Date;return pe.setDate(pe.getDate()-3),pe}),y=pe=>{v(Y=>{const be=new Date(Y);return be.setDate(be.getDate()+pe),be})},S=()=>{const pe=new Date;pe.setDate(pe.getDate()-3),v(pe)},[k,_]=x.useState(!1),j=()=>{const pe=jt(new Date);let Y=`Monthly Replenishment Plan - Generated ${new Date().toLocaleDateString()}
`;Y+=`--------------------------------------------------

`;const be=r.specs?.productionRate||0,ne=r.specs?.casesPerTruck||(r.specs?.bottlesPerTruck||2e4)/(r.specs?.bottlesPerCase||1),[ge,fe]=(l?.shiftStartTime||"00:00").split(":").map(Number),we=ge+fe/60;for(let Ae=0;Ae<30;Ae++){const Ue=Ft(pe,Ae),qe=Math.round(Number(e.monthlyInbound[Ue]||0));if(qe>0){const[pt,kt,Kt]=Ue.split("-").map(Number),$e=new Date(pt,kt-1,Kt);if(Y+=`DATE: ${$e.toLocaleDateString(void 0,{weekday:"short",month:"numeric",day:"numeric",year:"numeric"})}
`,Y+=`TRUCKS: ${qe}
`,be>0){const Qe=ne/be;for(let Ie=0;Ie<qe;Ie++){const He=we+Ie*Qe,tt=Math.round(He%24)%24,Bn=Math.round(He%1*60),aa=`${tt}:${Bn.toString().padStart(2,"0")}`;Y+=`  - Truck ${Ie+1}: Arrive approx ${aa}
`}}Y+=`
`}}navigator.clipboard.writeText(Y).then(()=>{_(!0),setTimeout(()=>_(!1),2e3),alert("Copied 30-Day Plan to Clipboard!")})},N=e.selectedSize?u[e.selectedSize]:null,E=N?.leadTimeDays!==void 0&&N?.leadTimeDays!==null?N.leadTimeDays:a||2,D=N?.safetyStockLoads!==void 0&&N?.safetyStockLoads!==null?Number(N.safetyStockLoads):s||6,O=()=>{if(!confirm(`Auto-Balance will populate Planned Loads to ensure safety stock is met.

Settings:
 - Lead Time: ${E} days
 - Safety Stock: ${D} loads

Proceed?`))return;console.log("[Auto-Balance] Starting with inputs:",{results:r,effectiveSafetyStockLoads:D,bottleDefinitions:u,selectedSize:e.selectedSize,schedulerSettings:l,state:e,effectiveLeadTime:E});const pe=f(r,D,u,e.selectedSize,l,e,E);if(console.log("[Auto-Balance] Solver returned:",pe),!pe){console.error("[Auto-Balance] Solver returned null!"),alert("Auto-Balance failed: Solver returned no results. Check console for details.");return}const{newInbound:Y,updatesCount:be}=pe;console.log("[Auto-Balance] Updates:",{updatesCount:be,newInbound:Y}),be>0?(console.log("[Auto-Balance] Calling setMonthlyInbound with:",Y),t.setMonthlyInbound(Y),console.log("[Auto-Balance] Success - grid should update now")):alert("Schedule is already balanced! No changes needed.")},[P,C]=x.useState(!1),[A,R]=x.useState(!1),[M,I]=x.useState(!1),[z,q]=x.useState(!1),[te,ue]=x.useState(!1),[B,H]=x.useState(!1),[X,ee]=x.useState("grid"),[ve,L]=x.useState(!1);if(!r)return h.jsx("div",{children:"Loading..."});const{netInventory:K,safetyTarget:F,trucksToOrder:Z,trucksToCancel:oe,specs:ce,yardInventory:ae}=r,ye=e.totalScheduledCases*ce.bottlesPerCase,G=pe=>pe?pe.toLocaleString():"0",xe=()=>{const pe=ce.bottlesPerTruck/ce.bottlesPerCase/(ce.casesPerPallet||1),Y=Math.round(r.calculatedPallets+r.yardInventory.effectiveCount*pe),be=r.daysOfSupply!==void 0?r.daysOfSupply:0,ne=E!==void 0?Number(E):a||2,ge=ne+2;let fe="Healthy",we="bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 shadow-sm border-l-4 border-l-emerald-500",Ae="text-emerald-600 dark:text-emerald-400";be<=ne?(fe="CRITICAL",we="bg-red-50 border-red-200 border-l-4 border-l-red-500 animate-pulse",Ae="text-red-700"):be<=ge&&(fe="Warning",we="bg-amber-50 border-amber-200 border-l-4 border-l-amber-500",Ae="text-amber-700");const Ue=Qe=>{const[Ie,He,tt]=Qe.split("-").map(Number);return new Date(Ie,He-1,tt)},qe=r.firstStockoutDate?Ue(r.firstStockoutDate):null;let pt="Stable";if(qe){const Qe=new Date;Qe.setHours(0,0,0,0),qe<=Qe?pt="NOW":pt=qe.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}const kt=new Date().setHours(0,0,0,0),Kt=Object.entries(r.plannedOrders||{}).filter(([Qe])=>new Date(Qe).setHours(0,0,0,0)<=kt).reduce((Qe,[Ie,He])=>Qe+He.count,0),$e=r.trucksToCancel>0?0:r.trucksToOrder>0?r.trucksToOrder:e.isAutoReplenish?Kt:0;return console.log("[MRPView] Display Logic:",{isAutoReplenish:e.isAutoReplenish,actionableTrucks:Kt,"results.trucksToOrder":r.trucksToOrder,displayTrucks:$e,"results.trucksToCancel":r.trucksToCancel}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-2",children:[h.jsxs("div",{className:`p-3 rounded-lg border ${we} flex flex-col justify-between shadow-sm`,children:[h.jsxs("div",{className:"flex justify-between items-center mb-1",children:[h.jsxs("div",{className:"flex items-center gap-1.5",children:[h.jsx("h3",{className:"text-[10px] font-bold uppercase tracking-wider opacity-70 text-gray-500 dark:text-gray-400",children:"Coverage Health"}),h.jsx(Pg,{className:"w-3.5 h-3.5 text-gray-400 cursor-help",title:"Status of inventory relative to Lead Time. if (Days < Lead Time) => Critical."})]}),fe==="CRITICAL"&&h.jsx("span",{className:"text-lg",children:""}),fe==="Healthy"&&h.jsx(fa,{className:"w-5 h-5 text-emerald-500"})]}),h.jsxs("div",{children:[h.jsx("div",{className:`text-2xl font-black tracking-tight ${Ae} leading-none`,children:fe}),h.jsx("div",{className:"text-xs font-medium opacity-80 mt-1 dark:text-gray-300",children:fe==="CRITICAL"?pt==="NOW"?"Stockout Computed":`Empty by ${pt}`:fe==="Warning"?"Approaching Safety Stock Limit":"Inventory Levels Optimal"})]})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm flex flex-col justify-between",children:[h.jsxs("div",{className:"flex justify-between items-center mb-1",children:[h.jsxs("div",{className:"flex items-center gap-1.5",children:[h.jsx("h3",{className:"text-[10px] font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Days of Supply"}),h.jsx(Pg,{className:"w-3.5 h-3.5 text-gray-400 cursor-help",title:"Total Inventory (Floor + Yard) divided by Daily Production Rate."})]}),h.jsxs("div",{className:"text-[10px] font-bold text-gray-500 bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded",title:"Target Pallets = Safety Stock Loads * Pallets/Truck",children:["Target: ",F?Math.round(F/(ce.bottlesPerCase*(ce.casesPerPallet||1))):"-"," plts"]})]}),h.jsxs("div",{className:"flex items-end space-x-2",children:[h.jsx("div",{className:"text-3xl font-mono font-bold text-gray-800 dark:text-white leading-none",children:be>=30?ye===0?"N/A":"30+":be.toFixed(1)}),h.jsx("div",{className:"text-xs font-medium text-gray-400 mb-0.5",children:"Days"})]}),h.jsxs("div",{className:"mt-2 text-[10px] font-medium text-gray-500 flex justify-between items-center border-t pt-1 dark:border-gray-700",children:[h.jsx("span",{title:"Physically present inventory",children:"Current On-Hand"}),h.jsxs("span",{className:"font-bold text-gray-700 dark:text-gray-300",children:[G(Y)," Pallets"]})]})]}),h.jsxs("div",{className:`p-3 rounded-lg border flex flex-col justify-between shadow-sm transition-all ${$e>0?"bg-blue-600 border-blue-700 text-white":r.trucksToCancel>0?"bg-orange-100 border-orange-200 text-orange-900 dark:bg-orange-900/40 dark:border-orange-800 dark:text-orange-200":fe==="CRITICAL"?"bg-red-50 border-red-200":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700"}`,children:[h.jsxs("div",{className:"flex justify-between items-center mb-1",children:[h.jsxs("div",{className:"flex items-center gap-1.5",children:[h.jsx("h3",{className:`text-[10px] font-bold uppercase tracking-wider ${$e>0?"text-blue-100":"text-gray-500 dark:text-gray-400"}`,children:"Replenishment"}),h.jsx(Pg,{className:`w-3.5 h-3.5 cursor-help ${$e>0?"text-blue-200":"text-gray-400"}`,title:"True MRP Replenishment: Orders needed to reach safety stock target. Includes safety buffer (Gap shows simple scheduled vs demand difference)."})]}),$e>0&&h.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full animate-ping"}),r.trucksToCancel>0&&!$e&&h.jsx("span",{className:"text-lg",children:""})]}),$e>0?h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-baseline space-x-2",children:[h.jsx("span",{className:"text-3xl font-black leading-none",children:$e}),h.jsx("span",{className:"text-xs font-bold opacity-90",children:"Trucks Needed"}),be<3&&h.jsx("span",{className:"ml-2 px-2 py-0.5 text-[10px] font-black bg-red-500/20 text-red-100 border border-red-400 rounded-full animate-pulse",children:"EXPEDITE!"})]}),h.jsx("p",{className:"text-[10px] opacity-80 mt-1 font-medium leading-tight",children:be<3?`Critical: Only ${be.toFixed(1)} days left!`:e.isAutoReplenish?"Planned orders due today.":"Deficit based on target."})]}):r.trucksToCancel>0?h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-baseline space-x-2",children:[h.jsx("span",{className:"text-3xl font-black leading-none",children:r.trucksToCancel}),h.jsx("span",{className:"text-xs font-bold opacity-90",children:"Cancel Trucks"})]}),h.jsx("p",{className:"text-[10px] opacity-80 mt-1 font-medium leading-tight",children:"Excess inventory confirmed."})]}):h.jsxs("div",{children:[h.jsx("div",{className:"flex items-baseline space-x-2",children:fe==="CRITICAL"?h.jsx("span",{className:"text-2xl font-bold leading-none text-red-600",children:"Expedite!"}):h.jsx("span",{className:"text-2xl font-bold leading-none text-gray-800 dark:text-white",children:"Standby"})}),h.jsx("p",{className:"text-[10px] text-gray-500 mt-1 leading-tight",children:fe==="CRITICAL"?"Stockout imminent. Review.":"No immediate orders due."})]})]})]})};return h.jsxs("div",{className:"max-w-full mx-auto pb-12",children:[xe(),h.jsxs("div",{className:"flex flex-col space-y-6",children:[h.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 flex flex-col overflow-hidden",children:[h.jsxs("div",{className:"px-5 py-3 border-b border-gray-200 dark:border-gray-700 flex flex-col lg:flex-row justify-between items-center bg-gray-50 dark:bg-gray-900/50 gap-4",children:[h.jsxs("div",{className:"flex items-center gap-4 w-full lg:w-auto",children:[h.jsxs("div",{className:"flex bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-0.5",children:[h.jsx("button",{onClick:()=>y(-7),className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md text-gray-500 transition-colors",title:"Previous Week",children:h.jsx(ax,{className:"w-4 h-4"})}),h.jsx("button",{onClick:S,className:"px-3 py-1 text-xs font-bold text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 border-x border-gray-100 dark:border-gray-700 mx-0.5 transition-colors",children:"Today"}),h.jsx("button",{onClick:()=>y(7),className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md text-gray-500 transition-colors",title:"Next Week",children:h.jsx(ix,{className:"w-4 h-4"})})]}),h.jsxs("span",{className:"text-xs font-medium text-gray-400 hidden sm:block",children:[g.toLocaleDateString("en-US",{month:"short",day:"numeric"})," - ",Ft(jt(g),6).split("-").slice(1).join("/")]})]}),h.jsxs("div",{className:"flex flex-wrap items-center gap-3 w-full lg:w-auto justify-end",children:[h.jsxs("div",{className:"flex items-center gap-1 bg-white dark:bg-gray-700 p-1 rounded-lg border border-gray-200 dark:border-gray-600 shadow-sm",children:[!n&&h.jsxs(h.Fragment,{children:[h.jsx("button",{onClick:()=>{confirm(`Force Cloud Sync?

This will clear your local cache and reload the latest data from the server.
Any unsaved local drafts might be lost.`)&&(Object.keys(localStorage).forEach(pe=>{pe.startsWith("mrp_")&&localStorage.removeItem(pe)}),window.location.reload())},className:"p-1.5 text-gray-500 hover:text-sky-500 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-md transition-colors",title:"Force Cloud Sync (Clear Cache)",children:h.jsx(z6,{className:"w-5 h-5"})}),h.jsx("div",{className:"w-px h-4 bg-gray-300 dark:bg-gray-600 mx-1"}),h.jsx("button",{onClick:()=>L(!0),className:"p-1.5 text-gray-500 hover:text-orange-500 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-md transition-colors",title:"Morning True-Up",children:h.jsx(Z5,{className:"w-5 h-5"})}),h.jsx("button",{onClick:()=>I(!0),className:"p-1.5 text-gray-500 hover:text-emerald-500 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-md transition-colors",title:"Import Inbound",children:h.jsx(nx,{className:"w-5 h-5"})}),h.jsx("button",{onClick:()=>H(!0),className:"p-1.5 text-gray-500 hover:text-purple-500 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-md transition-colors",title:"Manage POs",children:h.jsx(g2,{className:"w-5 h-5"})})]}),h.jsx("button",{onClick:()=>q(!0),className:"p-1.5 text-gray-500 hover:text-blue-500 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-md transition-colors",title:"Email Suppliers",children:h.jsx(H5,{className:"w-5 h-5"})})]}),!n&&!e.isAutoReplenish&&h.jsxs("button",{onClick:O,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-bold text-white bg-indigo-600 hover:bg-indigo-700 rounded-lg shadow-sm transition-all",title:"Manually calculate replenishment (Not needed in Auto-Pilot)",children:[h.jsx(B5,{className:"w-3.5 h-3.5"}),h.jsx("span",{className:"hidden sm:inline",children:"Auto-Balance"})]}),h.jsx("div",{className:"h-6 w-px bg-gray-300 dark:bg-gray-600 hidden md:block mx-1"}),h.jsxs("div",{className:"flex bg-white dark:bg-gray-700 p-1 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600",children:[h.jsx("button",{onClick:()=>ee("grid"),className:`px-2.5 py-1.5 rounded-md text-xs font-bold transition-all ${X==="grid"?"bg-blue-50 text-blue-700 dark:bg-slate-600 dark:text-blue-300 shadow-sm":"text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"Grid"}),h.jsx("button",{onClick:()=>ee("workbench"),className:`px-2.5 py-1.5 rounded-md text-xs font-bold transition-all ${X==="workbench"?"bg-blue-50 text-blue-700 dark:bg-slate-600 dark:text-blue-300 shadow-sm":"text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"Work"}),h.jsx("button",{onClick:()=>ee("calendar"),className:`px-2.5 py-1.5 rounded-md text-xs font-bold transition-all ${X==="calendar"?"bg-blue-50 text-blue-700 dark:bg-slate-600 dark:text-blue-300 shadow-sm":"text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"Cal"})]}),!n&&h.jsx("label",{className:"flex items-center cursor-pointer group",title:"Auto-Pilot Mode",children:h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:"checkbox",className:"sr-only",checked:e.isAutoReplenish||!1,onChange:pe=>t.setIsAutoReplenish(pe.target.checked)}),h.jsx("div",{className:`block w-7 h-4 rounded-full transition-colors ${e.isAutoReplenish?"bg-purple-600":"bg-gray-300 dark:bg-gray-600"}`}),h.jsx("div",{className:`dot absolute left-1 top-1 bg-white w-2 h-2 rounded-full transition-transform ${e.isAutoReplenish?"transform translate-x-3":""}`})]})}),h.jsx("button",{onClick:j,className:`p-1.5 rounded-lg border transition-all ${k?"bg-green-50 border-green-200 text-green-600":"bg-white dark:bg-gray-700 border-gray-200 dark:border-gray-600 text-gray-500 hover:text-gray-700"}`,title:"Export 30-Day Plan",children:k?h.jsx(fa,{className:"w-5 h-5"}):h.jsx(g2,{className:"w-5 h-5"})})]})]}),h.jsx("div",{className:"flex-1 overflow-hidden relative bg-slate-200 dark:bg-slate-900 rounded-xl shadow-lg border border-slate-300 dark:border-slate-800",children:X==="calendar"?h.jsx("div",{className:"h-full p-4 overflow-auto",children:h.jsx(rq,{monthlyDemand:e.monthlyDemand||{},updateDateDemand:t.updateDateDemand,updateDateDemandBulk:t.updateDateDemandBulk,monthlyInbound:e.monthlyInbound||{},updateDateInbound:t.updateDateInbound,monthlyProductionActuals:e.monthlyProductionActuals||{},updateDateActual:t.updateDateActual,specs:r?.specs,trucksToCancel:r?.trucksToCancel,dailyLedger:r?.dailyLedger,safetyTarget:r?.safetyTarget,poManifest:m,readOnly:n})}):X==="workbench"?h.jsx(Yoe,{monthlyDemand:e.monthlyDemand||{},updateDateDemand:t.updateDateDemand,monthlyInbound:e.monthlyInbound||{},monthlyProductionActuals:e.monthlyProductionActuals||{},updateDateActual:t.updateDateActual,specs:r?.specs,dailyLedger:r?.dailyLedger,userProfile:d,startDate:g,readOnly:n}):h.jsx(bV,{monthlyDemand:e.monthlyDemand||{},updateDateDemand:t.updateDateDemand,updateDateDemandBulk:t.updateDateDemandBulk,monthlyInbound:e.monthlyInbound||{},updateDateInbound:t.updateDateInbound,monthlyProductionActuals:e.monthlyProductionActuals||{},updateDateActual:t.updateDateActual,specs:r?.specs,safetyTarget:r?.safetyTarget,dailyLedger:r?.dailyLedger,userProfile:d,startDate:g,readOnly:n,leadTimeDays:E})})]}),h.jsx("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:h.jsx(Zoe,{dailyLedger:r.dailyLedger,safetyTargetBottles:r.safetyTarget,specs:r.specs})})]}),h.jsx(WC,{isOpen:ve,onClose:()=>L(!1),state:e,setters:t}),h.jsx(wV,{isOpen:M,onClose:()=>I(!1)}),h.jsx(_V,{isOpen:z,onClose:()=>q(!1),mrpResults:r}),h.jsx(SV,{isOpen:te,onClose:()=>ue(!1)}),h.jsx(jV,{isOpen:B,onClose:()=>H(!1)})]})}var rh={exports:{}},Xoe=rh.exports,T5;function Joe(){return T5||(T5=1,(function(e,t){(function(r,n){n()})(Xoe,function(){function r(f,m){return typeof m>"u"?m={autoBom:!1}:typeof m!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),m={autoBom:!m}),m.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(f.type)?new Blob(["\uFEFF",f],{type:f.type}):f}function n(f,m,g){var v=new XMLHttpRequest;v.open("GET",f),v.responseType="blob",v.onload=function(){d(v.response,m,g)},v.onerror=function(){console.error("could not download file")},v.send()}function a(f){var m=new XMLHttpRequest;m.open("HEAD",f,!1);try{m.send()}catch{}return 200<=m.status&&299>=m.status}function s(f){try{f.dispatchEvent(new MouseEvent("click"))}catch{var m=document.createEvent("MouseEvents");m.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),f.dispatchEvent(m)}}var l=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof df=="object"&&df.global===df?df:void 0,u=l.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),d=l.saveAs||(typeof window!="object"||window!==l?function(){}:"download"in HTMLAnchorElement.prototype&&!u?function(f,m,g){var v=l.URL||l.webkitURL,y=document.createElement("a");m=m||f.name||"download",y.download=m,y.rel="noopener",typeof f=="string"?(y.href=f,y.origin===location.origin?s(y):a(y.href)?n(f,m,g):s(y,y.target="_blank")):(y.href=v.createObjectURL(f),setTimeout(function(){v.revokeObjectURL(y.href)},4e4),setTimeout(function(){s(y)},0))}:"msSaveOrOpenBlob"in navigator?function(f,m,g){if(m=m||f.name||"download",typeof f!="string")navigator.msSaveOrOpenBlob(r(f,g),m);else if(a(f))n(f,m,g);else{var v=document.createElement("a");v.href=f,v.target="_blank",setTimeout(function(){s(v)})}}:function(f,m,g,v){if(v=v||open("","_blank"),v&&(v.document.title=v.document.body.innerText="downloading..."),typeof f=="string")return n(f,m,g);var y=f.type==="application/octet-stream",S=/constructor/i.test(l.HTMLElement)||l.safari,k=/CriOS\/[\d]+/.test(navigator.userAgent);if((k||y&&S||u)&&typeof FileReader<"u"){var _=new FileReader;_.onloadend=function(){var E=_.result;E=k?E:E.replace(/^data:[^;]*;/,"data:attachment/file;"),v?v.location.href=E:location=E,v=null},_.readAsDataURL(f)}else{var j=l.URL||l.webkitURL,N=j.createObjectURL(f);v?v.location=N:location.href=N,v=null,setTimeout(function(){j.revokeObjectURL(N)},4e4)}});l.saveAs=d.saveAs=d,e.exports=d})})(rh)),rh.exports}var Qoe=Joe();function ele({schedule:e,truckSchedule:t,onUpdatePO:r,onDelete:n,specs:a,readOnly:s=!1}){const l=(f,m)=>{if(!m||m===0)return[];let g=0;f.includes("08:00-16:00")?g=8:f.includes("16:00-00:00")?g=16:g=0;const y=8/m,S=[];for(let k=0;k<m;k++){const j=(g+y*k)%24,N=Math.round(j),D=(N===24?0:N).toString().padStart(2,"0");S.push(`${D}:00`)}return S},u=()=>!t||t.length===0?[]:t.map(f=>{const m=a?a.name:"Unknown",g=a?a.palletsPerTruck:0,[v]=f.time.split(":").map(Number);let y="Unknown";return v>=0&&v<8?y="Shift 1":v>=8&&v<16?y="Shift 2":y="Shift 3",{LoadID:f.id,Time:f.time,Shift:y,PO:f.po||"",BottleSize:m,Pallets:g}}),d=()=>{try{const f=u();if(!f||f.length===0){alert("No schedule to export.");return}let g="\uFEFF"+["Load ID","Delivery Time","Shift","PO Number","Bottle Size","Pallets"].join(",")+`
`;f.forEach(k=>{const _=String(k.PO||"").replace(/"/g,'""');g+=[k.LoadID,k.Time,k.Shift,`"${_}"`,k.BottleSize,k.Pallets].join(",")+`
`});const y=new Date().toISOString().slice(0,10),S=new Blob([g],{type:"text/csv;charset=utf-8"});Qoe.saveAs(S,`Schedule_${y}.csv`)}catch(f){console.error(f),alert("Export failed")}};return h.jsxs("div",{className:"space-y-8",children:[h.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[h.jsxs("div",{children:[h.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[h.jsx(gn,{className:"w-6 h-6 text-indigo-500"}),"Live Dock Schedule"]}),h.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[t.length," Loads Scheduled  Auto-optimized intervals"]})]}),h.jsxs("button",{onClick:d,className:"flex items-center space-x-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 px-4 py-2 rounded-lg font-bold hover:bg-indigo-100 transition-colors",children:[h.jsx(nx,{className:"w-5 h-5"}),h.jsx("span",{children:"Export CSV"})]})]}),t&&t.length>0?h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map((f,m)=>{const g=f.po&&f.po.length>0;return h.jsxs("div",{className:`
                                    relative flex flex-col justify-between
                                    bg-white dark:bg-slate-800 
                                    rounded-2xl shadow-sm hover:shadow-md transition-shadow 
                                    border border-slate-200 dark:border-slate-700
                                    overflow-hidden group
                                `,children:[h.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1.5 ${g?"bg-emerald-500":"bg-amber-400"}`}),h.jsxs("div",{className:"p-5 pl-7",children:[" ",h.jsxs("div",{className:"flex justify-between items-start mb-4",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:`p-2 rounded-lg ${g?"bg-emerald-50 text-emerald-600 dark:bg-emerald-900/20":"bg-slate-100 text-slate-500 dark:bg-slate-700"}`,children:h.jsx(u0,{className:"w-6 h-6"})}),h.jsxs("div",{children:[h.jsx("div",{className:"text-xs font-bold uppercase text-slate-400",children:"Arrival"}),h.jsx("div",{className:"text-2xl font-black text-slate-800 dark:text-white leading-none",children:f.time})]})]}),h.jsxs("span",{className:"text-xs font-bold text-slate-300",children:["#",m+1]})]}),h.jsxs("div",{className:"mt-2",children:[h.jsxs("label",{className:"flex items-center gap-1 text-[10px] font-bold uppercase text-slate-500 mb-1",children:[h.jsx(K6,{className:"w-3 h-3"}),"Purchase Order"]}),h.jsx("input",{type:"text",placeholder:s?"Registered Only":"Enter PO...",value:f.po||"",disabled:s,onChange:v=>r(f.id,v.target.value),className:`
                                                w-full p-2 rounded-lg text-sm font-bold border transition-colors
                                                focus:ring-2 focus:ring-offset-0 outline-none
                                                ${s?"opacity-60 cursor-not-allowed bg-gray-100":""}
                                                ${g?"bg-emerald-50 border-emerald-200 text-emerald-700 focus:ring-emerald-500 dark:bg-emerald-900/10 dark:border-emerald-800 dark:text-emerald-400":"bg-slate-50 border-slate-200 text-slate-800 focus:ring-indigo-500 dark:bg-slate-900/50 dark:border-slate-600 dark:text-white"}
                                            `})]})]}),h.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 p-3 pl-7 border-t border-slate-100 dark:border-slate-700 flex justify-between items-center",children:[h.jsx("div",{className:"text-xs font-medium text-slate-400",children:g?"Confirmed":"Awaiting PO"}),!s&&h.jsx("button",{onClick:()=>n(f.id),className:"text-slate-400 hover:text-rose-500 transition-colors p-1",title:"Delete Load",children:h.jsx(ga,{className:"w-5 h-5"})})]})]},f.id)})}):h.jsxs("div",{className:"text-center py-20 bg-slate-50 dark:bg-slate-800/50 rounded-xl border-2 border-dashed border-slate-200 dark:border-slate-700",children:[h.jsx(gn,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),h.jsx("h3",{className:"text-lg font-bold text-slate-500",children:"No Loads Scheduled"}),h.jsx("p",{className:"text-slate-400 text-sm",children:"Use the settings above to generate a schedule."})]}),h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:[h.jsx("div",{className:"px-6 py-4 border-b border-slate-100 dark:border-slate-700 bg-slate-50 dark:bg-slate-800/80",children:h.jsx("h3",{className:"font-bold text-slate-700 dark:text-slate-200 text-sm uppercase tracking-wide",children:"Shift Distribution Check"})}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full divide-y divide-slate-100 dark:divide-slate-700",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-slate-400 uppercase",children:"Shift"}),h.jsx("th",{className:"px-6 py-3 text-center text-xs font-bold text-slate-400 uppercase",children:"Loads"}),h.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-slate-400 uppercase",children:"Timeline"})]})}),h.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:e.map((f,m)=>h.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-slate-700 dark:text-slate-200",children:f.name}),h.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:h.jsx("span",{className:"inline-flex items-center justify-center px-2.5 py-0.5 rounded-full text-xs font-bold bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-300",children:f.loads})}),h.jsx("td",{className:"px-6 py-4",children:h.jsxs("div",{className:"flex flex-wrap gap-2",children:[l(f.name,f.loads).map((g,v)=>h.jsx("span",{className:"bg-white border border-slate-200 dark:bg-slate-900 dark:border-slate-600 text-slate-600 dark:text-slate-400 px-2 py-1 rounded text-xs font-mono",children:g},v)),f.loads===0&&h.jsx("span",{className:"text-slate-300 text-xs italic",children:"Empty"})]})})]},m))})]})})]})]})}function tle({state:e,setters:t,results:r,readOnly:n=!1}){const{productMap:a}=yr(),s=Object.keys(a);if(!r)return h.jsx("div",{children:"Loading..."});const{requiredDailyLoads:l,weeklyLoads:u,schedule:d}=r;return h.jsxs("div",{className:"space-y-8",children:[h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md transition-colors",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white mb-6 border-b dark:border-gray-700 pb-2",children:" Logistics Settings"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 items-end",children:[h.jsxs("div",{className:"col-span-1",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Bottle Size Reference"}),h.jsx("select",{value:e.selectedSize,disabled:n,onChange:f=>t.setSelectedSize(f.target.value),className:"block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-900 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500 py-2 disabled:opacity-50 disabled:cursor-not-allowed",children:s.map(f=>h.jsx("option",{value:f,children:f},f))})]}),h.jsxs("div",{className:"col-span-2",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Target Daily Production (Cases)"}),h.jsxs("div",{className:"relative rounded-md shadow-sm",children:[h.jsx("input",{type:"number",inputMode:"numeric",pattern:"[0-9]*",min:"0",disabled:n,value:e.targetDailyProduction||"",onChange:f=>t.setTargetDailyProduction(f.target.value),className:"block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-900 dark:text-white focus:border-blue-500 focus:ring-blue-500 text-2xl p-2 pl-4 disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"60000"}),h.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:h.jsx("span",{className:"text-gray-500 sm:text-sm",children:"cases/day"})})]})]})]}),h.jsxs("div",{className:"col-span-1 mt-6",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Production Start Time"}),h.jsx("input",{type:"time",value:e.shiftStartTime,disabled:n,onChange:f=>t.setShiftStartTime(f.target.value),className:"block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-900 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500 py-2 px-3 disabled:opacity-50 disabled:cursor-not-allowed"})]})]}),h.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4 border-t dark:border-gray-700 pt-6",children:[h.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-3 rounded border border-gray-200 dark:border-gray-700",children:[h.jsx("span",{className:"block text-xs text-gray-500 dark:text-gray-400 uppercase font-bold",children:"Production Burn Rate"}),h.jsxs("span",{className:"block text-xl font-bold text-gray-800 dark:text-white",children:[Math.round(r.burnRate).toLocaleString()," cases/hr"]})]}),h.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-3 rounded border border-gray-200 dark:border-gray-700",children:[h.jsx("span",{className:"block text-xs text-gray-500 dark:text-gray-400 uppercase font-bold",children:"Truck Interval"}),h.jsxs("span",{className:"block text-xl font-bold text-indigo-600 dark:text-indigo-400",children:["Every ",Math.floor(r.hoursPerTruck),"h ",Math.round(r.hoursPerTruck%1*60),"m"]})]}),h.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/30 p-3 rounded border border-blue-100 dark:border-blue-800 flex flex-col justify-center",children:[h.jsx("span",{className:"text-sm font-medium text-blue-800 dark:text-blue-200 uppercase",children:"Daily Truck Requirement"}),h.jsx("span",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:r.requiredDailyLoads})]})]}),h.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[h.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-4 rounded-md flex justify-between items-center text-sm text-gray-600 dark:text-gray-400 border border-gray-100 dark:border-gray-700",children:[h.jsxs("span",{children:["Total Weekly Volume: ",h.jsxs("strong",{className:"text-gray-900 dark:text-white",children:[u.toLocaleString()," Loads"]})]}),h.jsx("span",{children:"Based on 24/7 Production schedule"})]}),h.jsx(ele,{schedule:r.schedule,truckSchedule:r.truckSchedule,onUpdatePO:t.updatePO,onDelete:t.toggleCancelled,specs:r.specs,readOnly:n})]})]})}const VM=(e,t)=>`mrp_${t}_${e}`,fr=(e,t,r,n=!1)=>{const a=VM(e,r),s=`mrp_${e}`;let l=localStorage.getItem(a);if(l===null&&r==="20oz"&&(l=localStorage.getItem(s)),l===null)return t;if(n)try{return JSON.parse(l)||t}catch{return t}return l},Kr=(e,t,r,n=!1)=>{const a=VM(e,r),s=n?JSON.stringify(t):t;localStorage.setItem(a,s)};function rle(){const{productMap:e}=yr(),t=Object.keys(e),{user:r}=Nr(),{fetchMRPState:n,migrateLocalStorage:a}=jl(),[s,l]=x.useState(()=>localStorage.getItem("mrp_selectedSize")||"20oz"),[u,d]=x.useState(()=>fr("monthlyDemand",{},s,!0)),[f,m]=x.useState(()=>fr("monthlyProductionActuals",{},s,!0)),[g,v]=x.useState(()=>fr("monthlyInbound",{},s,!0)),[y,S]=x.useState(()=>fr("truckManifest",{},s,!0)),[k,_]=x.useState(()=>Number(fr("downtimeHours",0,s))),[j,N]=x.useState(()=>Number(fr("currentInventoryPallets",0,s))),[E,D]=x.useState(()=>fr("inventoryAnchor",{date:Wr(),count:0},s,!0)),[O,P]=x.useState(()=>Number(fr("incomingTrucks",0,s))),[C,A]=x.useState(()=>fr("yardInventory",{count:0,date:null,fileName:null},s,!0)),[R,M]=x.useState(()=>r?!0:fr("isAutoReplenish",!0,s,!0)),[I,z]=x.useState(null),[q,te]=x.useState(0);return x.useEffect(()=>()=>{},[r]),x.useEffect(()=>{console.log("Flux: SKU Changed to:",s),localStorage.setItem("mrp_selectedSize",s),r?(async()=>{console.log("Flux: Fetching Cloud Data for",s);try{const B=await n(r.id,s);if(console.log("Flux: Cloud Data Result:",B?"Found":"Null",B),B)z(B.product),d(B.monthlyDemand||{}),m(B.monthlyProductionActuals||{}),v(B.monthlyInbound||{}),S(B.truckManifest||{}),_(B.downtimeHours||0),M(B.isAutoReplenish),B.inventoryAnchor?D(H=>H?.date&&B.inventoryAnchor?.date&&new Date(H.date)>=new Date(B.inventoryAnchor.date)?H:B.inventoryAnchor||H):D({date:Wr(),count:0}),B.yardInventory?A(H=>H?.date&&B.yardInventory.date&&new Date(H.date)>=new Date(B.yardInventory.date)?H:B.yardInventory):A({count:0,date:null});else{if((await a(r,t)).success){const X=await n(r.id,s);if(X){d(X.monthlyDemand||{}),m(X.monthlyProductionActuals||{}),v(X.monthlyInbound||{}),S(X.truckManifest||{}),_(X.downtimeHours),M(X.isAutoReplenish),X.inventoryAnchor&&D(X.inventoryAnchor),X.yardInventory&&A(X.yardInventory);return}}d({}),m({}),v({}),S({}),_(0),P(0),D({date:Wr(),count:0}),A({count:0,date:null})}}catch(B){console.error("Failed to load cloud state",B)}})():(console.log("Flux: Local Mode Init"),d(fr("monthlyDemand",{},s,!0)),m(fr("monthlyProductionActuals",{},s,!0)),v(fr("monthlyInbound",{},s,!0)),S(fr("truckManifest",{},s,!0)),_(Number(fr("downtimeHours",0,s))),D(fr("inventoryAnchor",{date:Wr(),count:0},s,!0)),M(fr("isAutoReplenish",!0,s,!0)))},[s,r?.id]),au({table:"planning_entries",filter:I?`product_id=eq.${I.id}`:void 0,enabled:!!I?.id,onDataChange:ue=>{const{eventType:B,new:H,old:X}=ue;if(B==="DELETE"){console.log("Supabase DELETE detected. Triggering state refresh."),r&&I&&n(r.id,s).then(L=>{L&&(L.monthlyDemand&&d(L.monthlyDemand),L.monthlyProductionActuals&&m(L.monthlyProductionActuals),L.monthlyInbound&&v(L.monthlyInbound),L.truckManifest&&S(L.truckManifest))});return}const ee=H.date,ve=Number(H.value);H.entry_type==="demand_plan"?d(L=>({...L,[ee]:ve})):H.entry_type==="production_actual"?m(L=>({...L,[ee]:ve})):H.entry_type==="inbound_trucks"&&v(L=>({...L,[ee]:ve}))}}),au({table:"inventory_snapshots",filter:I?`product_id=eq.${I.id}`:void 0,enabled:!!I?.id,onDataChange:ue=>{console.log("[InventorySync] Event Received:",ue);const{eventType:B,new:H}=ue;if(B==="DELETE")return;const X=Number(H.quantity_pallets),ee=H.date;H.location==="yard"?A(ve=>({...ve,count:X,date:ee||ve.date})):H.location==="floor"&&(N(X),D(ve=>({...ve,count:X,date:ee||ve.date})))}}),{selectedSize:s,setSelectedSize:l,monthlyDemand:u,setMonthlyDemand:d,monthlyProductionActuals:f,setMonthlyProductionActuals:m,monthlyInbound:g,setMonthlyInbound:v,truckManifest:y,setTruckManifest:S,downtimeHours:k,setDowntimeHours:_,currentInventoryPallets:j,setCurrentInventoryPallets:N,inventoryAnchor:E,setInventoryAnchor:D,incomingTrucks:O,setIncomingTrucks:P,yardInventory:C,setYardInventory:A,isAutoReplenish:R,setIsAutoReplenish:M,refreshTrigger:q}}const nle=({todayStr:e,productionRate:t,downtimeHours:r,bottleSpecs:n,inventoryAnchor:a,yardInventory:s,incomingTrucks:l,monthlyDemand:u,monthlyProductionActuals:d,monthlyInbound:f,poManifest:m,safetyStockLoads:g,leadTimeDays:v=2})=>{if(!n)return null;const y=n,S=1+(y.scrapPercentage||0)/100,k=y.bottlesPerCase||12,_=y.bottlesPerTruck||1,j=y.casesPerPallet||1,N=new Set([...Object.keys(u||{}),...Object.keys(d||{})]),E=Array.from(N).reduce((Y,be)=>{if(be>=e){const ne=d[be],ge=u[be],fe=be>e,we=ne!=null&&(!fe||Number(ne)!==0),Ae=Number(we?ne:ge);return Y+(Ae||0)}return Y},0),D=r*t,O=Math.max(0,E-D),P=Y=>m&&m[Y]?.items?.length>0?m[Y].items.length:Number(f[Y])||0,C=new Set([...Object.keys(f),...Object.keys(m||{})]),A=Array.from(C).reduce((Y,be)=>be>=e?Y+P(be):Y,0),R=(l||0)+A,M=R*_,I=s?.count||0,z=I*_;let q=a.count;if(a.date){const Y=new Date(a.date),ne=new Date(e)-Y,ge=Math.ceil(ne/(1e3*60*60*24));if(ge>0&&ge<365)for(let fe=0;fe<ge;fe++){const we=Ft(a.date,fe),Ae=d[we],Ue=u[we],qe=we>e,pt=Ae!=null&&(!qe||Number(Ae)!==0),kt=Number(pt?Ae:Ue||0),Kt=P(we),$e=_/k/j,Qe=Kt*$e,Ie=kt/j;q=q+Qe-Ie}}const te=q*j*k,ue=O*k*S,B=te+M+z-ue,H=g*_,X=[];let ee=te+z,ve=null,L=null;for(let Y=0;Y<30;Y++){const be=Ft(e,Y),ne=d[be],ge=u[be],fe=be>e,we=ne!=null&&(!fe||Number(ne)!==0),Ue=Number(we?ne:ge||0)*k*S,pt=P(be)*_;ee=ee+pt-Ue,X.push({date:be,dateStr:be,balance:ee,demand:Ue,supply:pt,projectedEndInventory:ee,projectedPallets:ee/(k*j||1),daysOfSupply:0}),ee<H&&!ve&&(ve=be),ee>H+_*2&&!L&&(L=be)}let K=0;for(let Y=0;Y<=v;Y++){const be=Ft(e,Y);K+=P(be)}const F=K*_,Z=te+z+F;console.log("[MRP DEBUG] Step 1: Inventory Calc",{todayStr:e,leadTimeDays:v,inventoryBottles:te,yardBottles:z,inboundWithinLeadTime:K,inboundBottlesWithinLeadTime:F,availableInventory:Z});let oe=0;for(let Y=0;Y<=v;Y++){const be=Ft(e,Y),ne=(u[be]||0)*k*S;oe+=ne}const ce=oe+H;console.log("[MRP DEBUG] Step 2: Demand & Need Calc",{demandWithinLeadTime:oe,safetyTarget:H,totalMaterialNeed:ce,availableInventory:Z,deficit:ce-Z});let ae=0,ye=0;if(Z<ce)ae=Math.ceil((ce-Z)/_),console.log("[MRP DEBUG] Step 3: ORDER Decision",{trucksToOrder:ae,reason:"availableInventory < totalMaterialNeed"});else if(Z>H+oe+_){const Y=Z-(H+oe);Y>_&&(ye=Math.min(Math.floor(Y/_),R),console.log("[MRP DEBUG] Step 3: CANCEL Decision",{trucksToCancel:ye,immediateExcess:Y,totalIncomingTrucks:R,reason:"availableInventory > safetyTarget + demandWithinLeadTime + bottlesPerTruck"}))}ye>A&&(console.warn(`[MRP] Capping trucksToCancel from ${ye} to ${A}`),ye=A);let G=30;const xe=te+z;if(xe<H)G=0;else if(X.length>0){const Y=X.findIndex(be=>be.balance<0);if(Y!==-1){const be=X[Y],ne=Y>0?X[Y-1].balance:xe;let ge=0;be.demand>0&&ne>0&&(ge=ne/be.demand),G=Y+ge}}const pe={};return Object.entries(f).forEach(([Y,be])=>{Number(be)<=0||m&&m[Y]?.items?.length>0||(pe[Y]||(pe[Y]={count:0,items:[]}),pe[Y].count+=Number(be),pe[Y].items.push({needDate:Y,trucks:Number(be)}))}),{netInventory:B,safetyTarget:H,trucksToOrder:ae,trucksToCancel:ye,lostProductionCases:D,effectiveScheduledCases:O,specs:y,yardInventory:{...s,effectiveCount:I,isOverridden:!1},dailyLedger:X,firstStockoutDate:ve,firstOverflowDate:L,totalIncomingTrucks:R,initialInventory:te+z,calculatedPallets:q,daysOfSupply:G,inventoryAnchor:a,plannedOrders:pe}};function ale(e,t={}){const{safetyStockLoads:r,leadTimeDays:n}=ra(),{productMap:a}=yr(),{selectedSize:s,monthlyDemand:l,monthlyProductionActuals:u,monthlyInbound:d,downtimeHours:f,incomingTrucks:m,yardInventory:g,inventoryAnchor:v}=e,y=a[s],S=y?.productionRate||0,k=y?.leadTimeDays!==void 0&&y?.leadTimeDays!==null?y.leadTimeDays:n||2,_=x.useMemo(()=>{if(!y)return null;const j={todayStr:Wr(),productionRate:S,downtimeHours:f,bottleSpecs:y,inventoryAnchor:v,yardInventory:g,incomingTrucks:m,monthlyDemand:l,monthlyProductionActuals:u,monthlyInbound:d,poManifest:t,safetyStockLoads:r,leadTimeDays:k};return nle(j)},[s,S,f,m,a,r,g,l,d,v,t,u,y,k]);return x.useMemo(()=>({totalScheduledCases:_?.effectiveScheduledCases||0,productionRate:S,calculations:_}),[_,S])}function ile(e,t){const{safetyStockLoads:r,leadTimeDays:n}=ra(),{productMap:a,refreshProducts:s}=yr(),{user:l,userRole:u}=Nr(),{savePlanningEntry:d,saveProductionSetting:f,saveInventorySnapshot:m}=jl(),{selectedSize:g,setSelectedSize:v,monthlyDemand:y,setMonthlyDemand:S,monthlyProductionActuals:k,setMonthlyProductionActuals:_,monthlyInbound:j,setMonthlyInbound:N,truckManifest:E,setTruckManifest:D,setDowntimeHours:O,setCurrentInventoryPallets:P,setIncomingTrucks:C,setYardInventory:A,isAutoReplenish:R,setIsAutoReplenish:M,setInventoryAnchor:I,inventoryAnchor:z}=e,{calculations:q}=t,te=x.useRef(0),ue=x.useRef(y),B=x.useRef(k),H=x.useRef(j);x.useLayoutEffect(()=>{ue.current=y},[y]),x.useLayoutEffect(()=>{B.current=k},[k]),x.useLayoutEffect(()=>{H.current=j},[j]);const[X]=x.useState(!1),[ee,ve]=x.useState(null),L=x.useRef({}),K=x.useRef({}),F=x.useCallback(async ne=>{if(["admin","planner"].includes(u||"")){ve(null);try{await ne()}catch(fe){console.error("Save Error",fe),ve(fe.message||"Save Failed")}}},[u]),Z=x.useCallback((ne,ge,fe=1e3)=>{L.current[ne]&&clearTimeout(L.current[ne]),L.current[ne]=setTimeout(()=>{F(ge),delete L.current[ne]},fe)},[F]),oe=x.useCallback((ne,ge,fe=300)=>{K.current[ne]&&clearTimeout(K.current[ne]),K.current[ne]=setTimeout(()=>{ge(),delete K.current[ne]},fe)},[]);x.useEffect(()=>()=>{Object.values(L.current).forEach(clearTimeout),Object.values(K.current).forEach(clearTimeout)},[]);const ce=x.useCallback(()=>{if(!q||!R)return;const ne=ue.current,ge=B.current,fe=H.current,we=a[g];if(!we)return;const Ae=1+(we.scrapPercentage||0)/100,Ue=(r||0)*we.bottlesPerTruck;let qe=q.initialInventory||0;const pt=we.leadTimeDays!==void 0&&we.leadTimeDays!==null?we.leadTimeDays:n||2,kt={},Kt=Wr();for(let Ie=0;Ie<pt;Ie++){const He=Ft(Kt,Ie),tt=ge[He],Bn=ne[He],xn=He<Kt&&tt!=null&&Number(tt)!==0,Ar=Number(xn?tt:Bn||0)*(we.bottlesPerCase||1)*Ae,Nt=fe[He]||0;qe=qe+Nt*we.bottlesPerTruck-Ar}for(let Ie=pt;Ie<60;Ie++){const He=Ft(Kt,Ie),tt=ge[He],Bn=ne[He],aa=He>Kt,xn=tt!=null&&(!aa||Number(tt)!==0),Ar=Number(xn?tt:Bn||0)*(we.bottlesPerCase||1)*Ae;let Nt=0,tn=qe-Ar;if(tn<Ue){const xr=Math.ceil((Ue-tn)/we.bottlesPerTruck);Nt=xr,tn+=xr*we.bottlesPerTruck}Nt>0?kt[He]=Nt:fe[He]&&(kt[He]=0),qe=tn}let $e=!1;if(Object.entries(kt).forEach(([Ie,He])=>{(fe[Ie]||0)!==He&&($e=!0)}),!$e)return;const Qe={...fe,...kt};Object.keys(Qe).forEach(Ie=>{Qe[Ie]===0&&delete Qe[Ie]}),N(Qe),Kr("monthlyInbound",Qe,g,!0)},[q,R,a,g,r,n,l,u,d,N,F]),ae=x.useCallback((ne,ge)=>{const fe=ge,we={...ue.current,[ne]:fe};S(we),oe("monthlyDemand",()=>{Kr("monthlyDemand",we,g,!0)},500),l&&Z(`demand-${ne}`,async()=>d(l.id,g,ne,"demand_plan",Number(fe)),1e3)},[g,l,Z,oe,S,d]),ye=x.useCallback((ne,ge)=>{const fe=ge===""||ge===null?void 0:ge,we={...B.current};fe===void 0?delete we[ne]:we[ne]=fe,_(we),oe("monthlyProductionActuals",()=>{Kr("monthlyProductionActuals",we,g,!0)},500),l&&Z(`actual-${ne}`,async()=>d(l.id,g,ne,"production_actual",fe===void 0?null:Number(fe)),1e3)},[g,l,Z,oe,_,d]),G=x.useCallback((ne,ge)=>{const fe=ge,we={...H.current};fe===""||fe==="0"||Number(fe)===0?delete we[ne]:we[ne]=fe,N(we),oe("monthlyInbound",()=>{Kr("monthlyInbound",we,g,!0)},500),l&&Z(`inbound-${ne}`,async()=>d(l.id,g,ne,"inbound_trucks",fe===""||fe==="0"||Number(fe)===0?null:Number(fe)),1e3)},[g,l,Z,oe,N,d]);x.useEffect(()=>{if(!R||!q||Date.now()-te.current<250)return;const ne=setTimeout(()=>{ce()},50);return()=>clearTimeout(ne)},[z,r,n,R,y,k,q,ce]);const xe=x.useCallback(ne=>{const ge={...ue.current,...ne};S(ge),oe("monthlyDemand",()=>{Kr("monthlyDemand",ge,g,!0)},500),l&&Z(`demand-bulk-${Object.keys(ne)[0]}`,async()=>{const fe=Object.entries(ne).map(([we,Ae])=>d(l.id,g,we,"demand_plan",Number(Ae)));await Promise.all(fe)},1e3)},[g,l,Z,oe,S,d]),[pe,Y]=x.useState(a[g]?.productionRate||0);return x.useEffect(()=>{Y(a[g]?.productionRate||0)},[g,a]),{setters:x.useMemo(()=>({setSelectedSize:v,updateDateDemand:ae,updateDateDemandBulk:xe,updateDateActual:ye,updateDateInbound:G,updateTruckManifest:(ne,ge)=>{const fe={...E,[ne]:ge};(!ge||ge.length===0)&&delete fe[ne],D(fe),Kr("truckManifest",fe,g,!0),l&&F(async()=>d(l.id,g,ne,"truck_manifest_json",JSON.stringify(ge)))},setProductionRate:async ne=>{const ge=Number(ne);Y(ge),l&&(await F(async()=>f(l.id,g,"production_rate",ge)),s())},setDowntimeHours:ne=>{const ge=Number(ne);O(ge),Kr("downtimeHours",ge,g),l&&F(async()=>f(l.id,g,"downtime_hours",ge))},setCurrentInventoryPallets:ne=>{const ge=Number(ne);P(ge),Kr("currentInventoryPallets",ge,g)},setIncomingTrucks:ne=>{const ge=Number(ne);C(ge),Kr("incomingTrucks",ge,g)},setYardInventory:ne=>{A(ne),Kr("yardInventory",ne,g,!0)},updateYardInventory:ne=>{const ge=Number(ne),fe=Wr();A({date:fe,count:ge}),Kr("yardInventory",{date:fe,count:ge},g,!0),l&&F(async()=>m(l.id,g,fe,ge,"yard"))},setIsAutoReplenish:ne=>{M(ne),Kr("isAutoReplenish",ne,g,!0),l&&F(async()=>f(l.id,g,"is_auto_replenish",ne))},setInventoryAnchor:ne=>{I(ne),Kr("inventoryAnchor",ne,g,!0),l&&F(()=>m(l.id,g,ne.date,ne.count,"floor"))},setMonthlyInbound:ne=>{N(ne),Kr("monthlyInbound",ne,g,!0)}}),[v,ae,xe,ye,G,E,D,g,l,F,d,Y,f,s,O,P,C,A,M,I,m]),formState:{isSaving:X,saveError:ee,selectedSize:g,productionRate:pe}}}function sle(e={}){const t=rle(),r=x.useMemo(()=>{if(!t.selectedSize||!e)return{};const f={};return Object.entries(e).forEach(([m,g])=>{const v=g.items?.filter(y=>y.sku===t.selectedSize)||[];v.length>0&&(f[m]={items:v})}),f},[e,t.selectedSize]),{calculations:n,totalScheduledCases:a,productionRate:s}=ale(t,r),l=x.useMemo(()=>({calculations:n}),[n]),{setters:u,formState:d}=ile(t,l);return{formState:{selectedSize:t.selectedSize,monthlyDemand:t.monthlyDemand,monthlyProductionActuals:t.monthlyProductionActuals,monthlyInbound:t.monthlyInbound,truckManifest:t.truckManifest,downtimeHours:t.downtimeHours,currentInventoryPallets:t.currentInventoryPallets,incomingTrucks:t.incomingTrucks,yardInventory:t.yardInventory,isAutoReplenish:t.isAutoReplenish,inventoryAnchor:t.inventoryAnchor,productionRate:d.productionRate??s,totalScheduledCases:a,isSaving:d.isSaving,saveError:d.saveError},setters:u,results:n?{...n,poManifest:r}:null}}function ole(){const{safetyStockLoads:e,schedulerSettings:t,updateSchedulerSetting:r}=ra(),{productMap:n,updateProductSettings:a}=yr(),[s,l]=x.useState(()=>localStorage.getItem("sched_selectedSize")||"20oz");x.useEffect(()=>localStorage.setItem("sched_selectedSize",s),[s]);const{shiftStartTime:u="00:00",poAssignments:d={},cancelledLoads:f=[]}=t,m=x.useMemo(()=>{const y=n[s];if(!y)return null;const S=y.casesPerTruck?Math.ceil(y.casesPerTruck/(y.casesPerPallet||1)):0,k={...y,name:s,palletsPerTruck:y.palletsPerTruck||S},_=k.productionRate||0,j=_*24,N=isNaN(j)?0:j,E=k.casesPerTruck&&k.casesPerTruck>0?Math.ceil(N/k.casesPerTruck):0,D=E*7,O=[{name:"Shift 1 (00:00-08:00)",loads:0},{name:"Shift 2 (08:00-16:00)",loads:0},{name:"Shift 3 (16:00-00:00)",loads:0}],P=_,C=P,A=k.casesPerTruck||0,R=P>0&&A>0?A/P:0;let M=[];if(R>0&&E>0){const[q,te]=u.split(":").map(Number);let ue=q+te/60;for(let B=0;B<E;B++){const X=(ue+R*B)%24,ee=Math.round(X),K=`${(ee===24?0:ee).toString().padStart(2,"0")}:${0 .toString().padStart(2,"0")}`;M.push({id:B+1,time:K,rawDecimal:X,po:d[String(B+1)]||""})}}const I=M.filter(q=>!f.includes(String(q.id)));I.forEach(q=>{const te=q.rawDecimal;te>=0&&te<8?O[0].loads++:te>=8&&te<16?O[1].loads++:O[2].loads++}),M=I;const z=e<E;return{requiredDailyLoads:E,weeklyLoads:D,schedule:O,truckSchedule:M,burnRate:C,hoursPerTruck:R,isHighRisk:z,safetyStockLoads:e,specs:k}},[s,u,n,e,d,f]),g=(y,S)=>{const k={...d,[String(y)]:S};r("poAssignments",k)},v=y=>{const S=String(y),_=f.includes(S)?f.filter(j=>j!==S):[...f,S];r("cancelledLoads",_)};return{formState:{selectedSize:s,targetDailyProduction:(m?.burnRate||0)*24,shiftStartTime:u,poAssignments:d},setters:{setSelectedSize:l,setTargetDailyProduction:y=>{const S=Number(y),k=!isNaN(S)&&S>=0?S:0;a(s,{production_rate:k/24})},setShiftStartTime:y=>r("shiftStartTime",y),updatePO:g,toggleCancelled:v},results:m}}function lle(e,t=!0){const{user:r}=Nr(),{fetchMRPState:n}=jl(),[a,s]=x.useState({}),[l,u]=x.useState(!1),[d,f]=x.useState(0),m=x.useRef(null);return x.useEffect(()=>{if(!t)return;const v=async()=>{if(!t)return;u(!0);const y={},S=(j,N)=>{const E=`mrp_${j}`,D=`mrp_${N}_${j}`;let O=localStorage.getItem(D);O===null&&N==="20oz"&&(O=localStorage.getItem(E));try{return JSON.parse(O||"{}")}catch{return{}}},k=e.map(async j=>{if(r)try{const N=await n(r.id,j);return{sku:j,data:N?{demand:N.monthlyDemand||{},actuals:N.monthlyProductionActuals||{},inbound:N.monthlyInbound||{}}:{demand:{},actuals:{},inbound:{}}}}catch(N){return console.error(`Failed to load master state for ${j}`,N),{sku:j,data:{demand:{},actuals:{},inbound:{}}}}else return{sku:j,data:{demand:S("monthlyDemand",j),actuals:S("monthlyProductionActuals",j),inbound:S("monthlyInbound",j)}}});(await Promise.all(k)).forEach(({sku:j,data:N})=>{y[j]=N}),s(y),u(!1)};e.length>0&&v()},[e.join(","),r?.id,t,d]),au({table:"planning_entries",enabled:t&&!!r,onDataChange:()=>{m.current&&clearTimeout(m.current),m.current=setTimeout(()=>{f(v=>v+1)},1e3)}}),{masterLedger:x.useMemo(()=>{const v={},y=new Set;return Object.values(a).forEach(k=>{Object.keys(k.demand).forEach(_=>y.add(_)),Object.keys(k.actuals).forEach(_=>y.add(_)),Object.keys(k.inbound).forEach(_=>y.add(_))}),Array.from(y).sort().forEach(k=>{const _=[];e.forEach(j=>{const N=a[j];if(!N)return;const E=Number(N.demand[k])||0,D=N.actuals[k]!==void 0?Number(N.actuals[k]):null,O=Number(N.inbound[k])||0;(E>0||D!==null&&D>0||O>0)&&_.push({sku:j,demand:E,actual:D,trucks:O})}),_.length>0&&(v[k]=_)}),v},[a,e]),loading:l,skuStates:a}}function cle({masterLedger:e,loading:t}){const r=x.useMemo(()=>e?Object.keys(e).sort():[],[e]),n=a=>({"20oz":"bg-blue-100 dark:bg-blue-900/40 text-blue-800 dark:text-blue-200 border-blue-200 dark:border-blue-700","12oz":"bg-purple-100 dark:bg-purple-900/40 text-purple-800 dark:text-purple-200 border-purple-200 dark:border-purple-700","2L":"bg-green-100 dark:bg-green-900/40 text-green-800 dark:text-green-200 border-green-200 dark:border-green-700","1L":"bg-orange-100 dark:bg-orange-900/40 text-orange-800 dark:text-orange-200 border-orange-200 dark:border-orange-700"})[a]||"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200 border-gray-200 dark:border-gray-700";return t?h.jsxs("div",{className:"flex h-full items-center justify-center p-10",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),h.jsx("span",{className:"ml-3 text-gray-500",children:"Aggregating Master Plan..."})]}):r.length===0?h.jsxs("div",{className:"text-center p-10 bg-gray-50 dark:bg-gray-800 rounded-lg border-2 border-dashed border-gray-200 dark:border-gray-700",children:[h.jsx("h3",{className:"text-gray-400 dark:text-gray-500 font-bold mb-2",children:"No Active Production"}),h.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-sm",children:"Add demand or trucks to individual SKU plans to see them here."})]}):h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 mb-6",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Master Schedule"}),h.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Global view of all production lines and logistics."})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{className:"md:hidden space-y-4",children:r.map(a=>{const s=e[a]||[],l=new Date(a),u=new Date().toISOString().split("T")[0]===a;return s.length===0?null:h.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-lg shadow-sm border p-4 ${u?"border-blue-300 ring-1 ring-blue-100 dark:ring-blue-900":"border-gray-200 dark:border-gray-700"}`,children:[h.jsxs("div",{className:"flex justify-between items-center mb-3 pb-2 border-b border-gray-100 dark:border-gray-700",children:[h.jsxs("div",{className:"flex flex-col",children:[h.jsx("span",{className:`text-lg font-bold ${u?"text-blue-600 dark:text-blue-400":"text-gray-900 dark:text-white"}`,children:l.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}),h.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500 font-mono",children:a})]}),u&&h.jsx("span",{className:"text-xs font-bold bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 px-2 py-1 rounded",children:"TODAY"})]}),h.jsx("div",{className:"space-y-2",children:s.map(d=>h.jsxs("div",{className:`flex items-center justify-between p-2 rounded border ${n(d.sku)}`,children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("span",{className:"font-bold text-sm mr-3 w-12",children:d.sku}),(d.demand>0||d.actual!==null&&d.actual>0)&&h.jsxs("span",{className:"font-mono font-bold text-sm",children:[d.actual!==null?d.actual.toLocaleString():d.demand.toLocaleString()," cases"]})]}),d.trucks>0&&h.jsxs("div",{className:"flex items-center space-x-1 bg-white dark:bg-gray-800 bg-opacity-60 px-2 py-1 rounded border border-black/5 dark:border-white/10",children:[h.jsx("span",{className:"text-base",children:""}),h.jsx("span",{className:"font-bold text-sm",children:d.trucks})]})]},`${a}-${d.sku}-mobile`))})]},a)})}),h.jsxs("div",{className:"hidden md:block bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:[h.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 px-6 py-3 border-b border-gray-200 dark:border-gray-700 grid grid-cols-12 gap-4 text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[h.jsx("div",{className:"col-span-3 md:col-span-2",children:"Date"}),h.jsx("div",{className:"col-span-9 md:col-span-10",children:"Production & Logistics"})]}),h.jsx("div",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:r.map(a=>{const s=e[a]||[],l=new Date(a),u=new Date().toISOString().split("T")[0]===a;return h.jsxs("div",{className:`group grid grid-cols-12 gap-4 px-6 py-4 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors ${u?"bg-blue-50/30 dark:bg-blue-900/10":""}`,children:[h.jsxs("div",{className:"col-span-3 md:col-span-2 flex flex-col justify-center",children:[h.jsx("span",{className:`text-sm font-bold ${u?"text-blue-600 dark:text-blue-400":"text-gray-900 dark:text-white"}`,children:l.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}),h.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500 font-mono mt-1",children:a})]}),h.jsx("div",{className:"col-span-9 md:col-span-10 flex flex-col space-y-2 justify-center",children:s.map((d,f)=>h.jsxs("div",{className:`flex items-center p-2 rounded border ${n(d.sku)}`,children:[h.jsx("span",{className:"font-bold text-xs uppercase w-16 tracking-wide",children:d.sku}),h.jsxs("div",{className:"flex-1 flex items-center space-x-4",children:[(d.demand>0||d.actual!==null&&d.actual>0)&&h.jsxs("div",{className:"flex items-baseline space-x-1",children:[h.jsx("span",{className:"text-xs opacity-70",children:"Run:"}),h.jsx("span",{className:"font-mono font-bold text-sm",children:d.actual!==null?d.actual.toLocaleString():d.demand.toLocaleString()}),d.actual!==null&&h.jsx("span",{className:"text-[10px] bg-white bg-opacity-50 px-1 rounded ml-1",children:"ACT"})]}),(d.demand>0||d.actual>0)&&d.trucks>0&&h.jsx("span",{className:"text-gray-300 dark:text-gray-600",children:"|"}),d.trucks>0&&h.jsxs("div",{className:"flex items-center space-x-1",children:[h.jsx("span",{className:"text-lg",children:""}),h.jsx("span",{className:"font-bold text-sm",children:d.trucks}),h.jsx("span",{className:"text-xs opacity-70",children:"Trucks"})]})]})]},`${a}-${d.sku}`))})]},a)})})]})]})]})}function ule(){const{signIn:e,resendVerificationEmail:t}=Nr(),[r,n]=x.useState(""),[a,s]=x.useState(""),[l,u]=x.useState(null),[d,f]=x.useState(!1),[m,g]=x.useState(!1),v=async S=>{S.preventDefault(),u(null),f(!0);try{await e(r,a)}catch(k){u(k.message)}finally{f(!1)}},y=async()=>{try{f(!0),await t(r),g(!0),u("Confirmation email resent! Check your spam folder.")}catch(S){u(S.message)}finally{f(!1)}};return h.jsxs("div",{className:"min-h-screen bg-slate-950 flex flex-col items-center justify-center relative overflow-hidden font-sans selection:bg-blue-500 selection:text-white",children:[h.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-blue-950/20 via-slate-950 to-black z-0 pointer-events-none"}),h.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-5 z-0 pointer-events-none"}),h.jsx("div",{className:"absolute top-0 -left-4 w-72 h-72 bg-purple-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),h.jsx("div",{className:"absolute top-0 -right-4 w-72 h-72 bg-blue-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),h.jsx("div",{className:"absolute -bottom-8 left-20 w-72 h-72 bg-emerald-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"}),h.jsx("main",{className:"relative z-10 w-full max-w-sm px-4 animate-slide-up",children:h.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-md border border-slate-800 rounded-3xl p-8 shadow-2xl",children:[h.jsxs("div",{className:"flex flex-col items-center mb-8",children:[h.jsx("div",{className:"h-24 w-24 bg-white rounded-full p-1 shadow-2xl shadow-blue-500/20 mb-6 overflow-hidden ring-4 ring-slate-800 transition-transform duration-700 hover:scale-110 hover:shadow-blue-500/40",children:h.jsx("img",{src:gx,alt:"UBP",className:"h-full w-full object-contain"})}),h.jsx("h1",{className:"text-xl font-bold text-white tracking-tight",children:"MRP Portal"}),h.jsxs("div",{className:"flex items-center gap-1.5 text-slate-500 text-[10px] font-bold uppercase tracking-widest mt-1",children:[h.jsx(K5,{className:"w-3.5 h-3.5 text-emerald-500"}),h.jsx("span",{children:"Authorized Access Only"})]})]}),l&&h.jsxs("div",{className:`p-3 rounded-lg mb-6 text-xs font-medium border flex gap-2 items-start ${l.includes("resent")?"bg-emerald-900/20 text-emerald-400 border-emerald-900/50":"bg-rose-900/20 text-rose-400 border-rose-900/50"}`,children:[l.includes("resent")?h.jsx(fa,{className:"w-4 h-4 shrink-0"}):h.jsx(F5,{className:"w-4 h-4 shrink-0"}),h.jsxs("div",{children:[l,l.includes("Email not confirmed")&&!m&&h.jsx("button",{onClick:y,className:"block mt-1 underline hover:text-white transition-colors",children:"Resend Verification Email"})]})]}),h.jsxs("form",{onSubmit:v,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-semibold text-slate-400 mb-1.5 ml-1",children:"Email Address"}),h.jsx("input",{type:"email",required:!0,value:r,onChange:S=>n(S.target.value),className:"block w-full rounded-xl bg-slate-950 border border-slate-800 text-white placeholder-slate-600 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 py-2.5 px-4 text-sm transition-all",placeholder:"name@unionbevnj.com"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-semibold text-slate-400 mb-1.5 ml-1",children:"Password"}),h.jsx("input",{type:"password",required:!0,value:a,onChange:S=>s(S.target.value),className:"block w-full rounded-xl bg-slate-950 border border-slate-800 text-white placeholder-slate-600 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 py-2.5 px-4 text-sm transition-all",placeholder:""})]}),h.jsx("div",{className:"pt-2",children:h.jsx("button",{type:"submit",disabled:d,className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 rounded-xl shadow-lg shadow-blue-900/20 transition-all active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed flex justify-center",children:d?h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing In..."]}):"Sign In to Dashboard"})})]}),h.jsx("div",{className:"mt-8 text-center border-t border-slate-800/50 pt-4",children:h.jsx("p",{className:"text-slate-500 text-xs",children:"Sign In to access planning tool."})})]})}),h.jsx("footer",{className:"absolute bottom-6 w-full text-center",children:h.jsxs("p",{className:"text-slate-800 text-[10px] font-medium uppercase tracking-wider",children:[" ",new Date().getFullYear()," Union Beverage Packers"]})})]})}function C5({date:e,totalRequired:t,manifest:r,onUpdate:n,readOnly:a=!1}){const[s,l]=x.useState(!1),u=r||[],d=Math.max(u.length,t),f=Math.max(0,d-u.length),[m,g]=x.useState(u),v=_=>{_&&(_.preventDefault(),_.stopPropagation()),n(e,m),l(!1)},y=()=>{g([...m,{id:crypto.randomUUID(),po:"",carrier:"",time:"",status:"scheduled"}])},S=_=>{const j=[...m];j.splice(_,1),g(j)},k=(_,j,N)=>{const E=[...m];E[_]={...E[_],[j]:N},g(E)};return s?h.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-blue-200 dark:border-blue-900 shadow-lg",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white flex items-center",children:[h.jsx(Qc,{className:"w-5 h-5 mr-2 text-blue-500"}),"Edit Manifest: ",e]}),h.jsxs("div",{className:"space-x-2",children:[h.jsx("button",{type:"button",onClick:()=>l(!1),className:"text-xs text-gray-500 hover:text-gray-700",children:"Cancel"}),h.jsx("button",{type:"button",onClick:v,className:"px-3 py-1 bg-blue-600 text-white text-xs font-bold rounded shadow hover:bg-blue-500",children:"Save Changes"})]})]}),h.jsxs("div",{className:"space-y-2",children:[m.map((_,j)=>h.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 bg-gray-50 dark:bg-gray-700/50 p-3 rounded border border-gray-100 dark:border-gray-600",children:[h.jsxs("div",{className:"flex-1 w-full",children:[h.jsx("label",{className:"text-[10px] uppercase text-gray-400 font-bold block mb-1 sm:hidden",children:"Carrier"}),h.jsx("input",{className:"w-full text-sm font-bold bg-transparent border-b border-gray-300 focus:border-blue-500 outline-none dark:text-white pb-1",placeholder:"Carrier Name",value:_.carrier,onChange:N=>k(j,"carrier",N.target.value)})]}),h.jsxs("div",{className:"w-full sm:w-24",children:[h.jsx("label",{className:"text-[10px] uppercase text-gray-400 font-bold block mb-1 sm:hidden",children:"PO #"}),h.jsx("input",{className:"w-full text-sm font-mono bg-transparent border-b border-gray-300 focus:border-blue-500 outline-none dark:text-white pb-1",placeholder:"PO-123",value:_.po,onChange:N=>k(j,"po",N.target.value)})]}),h.jsxs("div",{className:"w-full sm:w-28",children:[h.jsx("label",{className:"text-[10px] uppercase text-gray-400 font-bold block mb-1 sm:hidden",children:"Time"}),h.jsxs("select",{className:"w-full text-sm bg-transparent border-b border-gray-300 focus:border-blue-500 outline-none dark:text-gray-200 dark:bg-gray-800 rounded px-1 pb-1",value:_.time,onChange:N=>k(j,"time",N.target.value),children:[h.jsx("option",{value:"",className:"text-gray-500",children:"TBD"}),Array.from({length:24}).map((N,E)=>{const D=E,P=`${String(D).padStart(2,"0")}:${String(0).padStart(2,"0")}`,C=D>=12?"PM":"AM",R=`${D%12||12}:00 ${C}`;return h.jsx("option",{value:P,className:"dark:bg-gray-800",children:R},P)})]})]}),h.jsx("div",{className:"w-full sm:w-auto flex justify-end",children:h.jsxs("button",{type:"button",onClick:()=>S(j),className:"text-red-400 hover:text-red-600 p-2 sm:p-1 bg-red-50 dark:bg-red-900/10 sm:bg-transparent rounded",children:[h.jsxs("div",{className:"flex items-center sm:hidden",children:[h.jsx(ga,{className:"w-4 h-4 mr-1"}),h.jsx("span",{className:"text-xs font-bold",children:"Remove"})]}),h.jsx(ga,{className:"w-4 h-4 hidden sm:block"})]})})]},_.id||j)),h.jsxs("button",{onClick:y,className:"w-full py-2 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded text-gray-400 dark:text-gray-500 hover:border-blue-400 hover:text-blue-500 flex items-center justify-center text-sm font-bold",children:[h.jsx(nI,{className:"w-4 h-4 mr-1"})," Add Truck"]})]})]}):h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("div",{}),!a&&(t>0||u.length>0)&&h.jsxs("button",{onClick:()=>{g(u.length?u:Array(t).fill().map(()=>({id:crypto.randomUUID(),po:"",carrier:"",time:""}))),l(!0)},className:"text-xs font-bold text-blue-600 hover:text-blue-500 flex items-center bg-blue-50 dark:bg-blue-900/20 px-2 py-1 rounded",children:[h.jsx(Qc,{className:"w-3 h-3 mr-1"}),"Edit Manifest"]})]}),u.map((_,j)=>h.jsx("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-gray-800 border-l-4 border-green-500 shadow-sm rounded-r-md",children:h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("span",{className:"font-bold text-gray-900 dark:text-white text-lg",children:_.carrier||_.supplier||"Pending Assignment"}),_.time&&h.jsxs("span",{className:"ml-2 text-sm font-bold bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 px-2 py-1 rounded flex items-center shadow-sm",children:[h.jsx(u0,{className:"w-4 h-4 mr-1"}),iu(_.time)]})]}),h.jsx("div",{className:"flex flex-col text-xs text-gray-500 mt-1",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx(lI,{className:"w-3 h-3 mr-1"}),h.jsxs("span",{className:"font-mono text-gray-700 dark:text-gray-300 font-bold mr-2",children:["PO: ",_.po||"N/A"]}),_.supplier&&_.carrier&&h.jsxs("span",{className:"text-gray-400",children:["(",_.supplier,")"]})]})})]})},j)),Array.from({length:f}).map((_,j)=>h.jsx("div",{className:"flex items-center justify-between p-3 bg-gray-50 border-l-4 border-gray-300 dark:border-gray-600 dark:bg-gray-800/50 rounded-r-md opacity-70 dashed-border",children:h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"p-1.5 bg-gray-200 dark:bg-gray-700 rounded-full",children:h.jsx(gn,{className:"w-5 h-5 text-gray-400"})}),h.jsxs("div",{children:[h.jsxs("p",{className:"text-sm font-bold text-gray-500 italic",children:["Planned Delivery Slot #",u.length+j+1]}),h.jsx("div",{className:"flex items-center text-xs text-gray-400 mt-0.5",children:h.jsx("span",{children:"Awaiting Carrier Assignment"})})]})]})},`p-${j}`)),d===0&&h.jsx("div",{className:"p-4 text-center text-gray-400 text-sm italic bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:"No Deliveries Needed"})]})}function dle({state:e,setters:t,results:r,readOnly:n=!1}){const[a,s]=x.useState(!1),{productMap:l}=yr(),u=x.useMemo(()=>Object.keys(l||{}),[l]),[d,f]=x.useState({today:[],tomorrow:[]}),[m,g]=x.useState("ALL"),{poManifest:v,updateDailyManifest:y,bulkUpdateOrders:S}=na(),k=Wr(),_=Ft(k,1),j=new Date(_+"T00:00:00");x.useEffect(()=>{try{const A={today:[],tomorrow:[]};u.forEach(R=>{const M=`mrp_${R}_monthlyInbound`;let I={};try{const ae=localStorage.getItem(M);ae&&(I=JSON.parse(ae))}catch{}const z=`mrp_${R}_truckManifest`;let q={};try{const ae=localStorage.getItem(z);ae&&(q=JSON.parse(ae))}catch{}const te=ae=>{try{const ye=v[ae];return!ye||!ye.items?[]:ye.items.filter(G=>G.sku===R)}catch(ye){return console.warn("Error reading global POs for date:",ae,ye),[]}},ue=te(k),B=te(_),H=Number(I[k])||0,X=q[k]||[],ee=ue.map(ae=>({id:ae.id,time:ae.time,carrier:ae.carrier||ae.supplier,type:"PO",po:ae.po,details:`PO#${ae.po} (${ae.qty})`,isGlobal:!0})),ve=[...X,...ee],L=Math.max(H,ve.length);(L>0||ve.length>0)&&A.today.push({sku:R,count:L,manifest:ve});const K=Number(I[_])||0,F=q[_]||[],Z=B.map(ae=>({id:ae.id,time:ae.time,carrier:ae.carrier||ae.supplier,type:"PO",po:ae.po,details:`PO#${ae.po} (${ae.qty})`,isGlobal:!0})),oe=[...F,...Z],ce=Math.max(K,oe.length);(ce>0||oe.length>0)&&A.tomorrow.push({sku:R,count:ce,manifest:oe})}),f(A)}catch(A){console.error("Critical Error in LogisticsView Aggregation:",A),f({today:[],tomorrow:[]})}},[u,e.monthlyInbound,e.stateVersion,v,k,_]);const N=m==="ALL"?d.today:d.today.filter(A=>A.sku===m),E=m==="ALL"?d.tomorrow:d.tomorrow.filter(A=>A.sku===m),D=N.reduce((A,R)=>A+R.count,0),O=E.reduce((A,R)=>A+R.count,0),P=A=>A?A.toLocaleString():"0";if(!r)return h.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading Logistics Data..."});const{yardInventory:C}=r;return h.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[h.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center bg-slate-900 text-white p-6 rounded-2xl shadow-lg",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-black tracking-tight uppercase",children:"Floor Operations"}),h.jsxs("div",{className:"flex items-center space-x-2 mt-2 opacity-80",children:[h.jsxs("span",{className:"bg-slate-700 px-3 py-1 rounded text-sm font-mono",children:["ACTIVE: ",e.selectedSize]}),h.jsx("span",{className:"text-sm",children:new Date().toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})})]})]}),h.jsx("div",{className:"flex flex-col sm:flex-row gap-3 mt-4 md:mt-0 w-full md:w-auto",children:!n&&h.jsxs("button",{onClick:()=>s(!0),className:"flex items-center justify-center bg-emerald-500 hover:bg-emerald-400 text-slate-900 px-6 py-3 rounded-xl font-bold text-base md:text-lg transition-transform hover:scale-105 shadow-xl w-full sm:w-auto",children:[h.jsx(sx,{className:"w-6 h-6 md:w-8 md:h-8 mr-2"}),"START DAY"]})})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(()=>{const A=r.daysOfSupply!==void 0?r.daysOfSupply:0,R=2,M=A<=R,I=A<=R+2;let z="bg-white dark:bg-gray-800 border-gray-100 dark:border-gray-700",q="bg-blue-50 text-blue-600",te=null;return M?(z="bg-red-50 border-red-200 animate-pulse-slow",q="bg-red-100 text-red-600",te=h.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 border border-red-200 mt-2",children:[h.jsx(F5,{className:"w-4 h-4 mr-1"}),"CRITICAL: ",A.toFixed(1)," Days"]})):I?(z="bg-amber-50 border-amber-200",q="bg-amber-100 text-amber-600",te=h.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-amber-100 text-amber-800 border border-amber-200 mt-2",children:["Warning: ",A.toFixed(1)," Days"]})):te=h.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-emerald-50 text-emerald-700 border border-emerald-200 mt-2",children:["Healthy: ",A.toFixed(1)," Days"]}),h.jsxs("div",{className:`p-8 rounded-2xl border-2 shadow-sm flex items-center justify-between transition-colors duration-500 ${z}`,children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-bold uppercase tracking-wider text-sm",children:"Floor Inventory"}),h.jsxs("div",{className:"flex items-baseline mt-2",children:[h.jsx("span",{className:"text-6xl font-black text-slate-800 dark:text-white",children:P(Math.round(r.calculatedPallets))}),h.jsx("span",{className:"ml-2 text-xl font-medium text-gray-400",children:"Pallets"})]}),te]}),h.jsx("div",{className:`h-16 w-16 rounded-full flex items-center justify-center ${q}`,children:h.jsx(ah,{className:"w-8 h-8"})})]})})(),h.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-2xl border-2 border-gray-100 dark:border-gray-700 shadow-sm flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-bold uppercase tracking-wider text-sm",children:"Yard Inventory"}),h.jsxs("div",{className:"flex items-baseline mt-2",children:[h.jsx("span",{className:"text-6xl font-black text-slate-800 dark:text-white",children:C.effectiveCount}),h.jsx("span",{className:"ml-2 text-xl font-medium text-gray-400",children:"Loads"})]}),C.isOverridden&&h.jsx("span",{className:"inline-block mt-2 px-2 py-1 bg-yellow-100 text-yellow-800 text-xs font-bold rounded",children:"MANUAL OVERRIDE"})]}),h.jsx("div",{className:"h-16 w-16 bg-orange-50 rounded-full flex items-center justify-center",children:h.jsx(gn,{className:"w-8 h-8 text-orange-600"})})]})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden",children:[h.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[h.jsxs("h2",{className:"text-lg font-bold text-gray-800 dark:text-white flex items-center",children:[h.jsx(q5,{className:"w-5 h-5 mr-2 text-gray-500"}),"Master Dock Schedule"]}),h.jsxs("div",{className:"flex space-x-1 bg-white dark:bg-gray-800 rounded-lg p-1 border dark:border-gray-600",children:[h.jsx("button",{onClick:()=>g("ALL"),className:`px-3 py-1 text-[10px] uppercase font-bold rounded ${m==="ALL"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":"text-gray-400 hover:text-gray-600"}`,children:"All"}),u.map(A=>h.jsx("button",{onClick:()=>g(A),className:`px-3 py-1 text-[10px] uppercase font-bold rounded ${m===A?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":"text-gray-400 hover:text-gray-600"}`,children:A},A))]})]}),h.jsxs("div",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:[h.jsxs("div",{className:"p-6 transition-colors",children:[h.jsxs("div",{className:"flex items-center mb-4",children:[h.jsx("div",{className:`w-3 h-12 rounded-full mr-4 ${D>0?"bg-green-500":"bg-gray-300"}`}),h.jsxs("div",{children:[h.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"TODAY"}),h.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date().toLocaleDateString()})]}),h.jsx("div",{className:"ml-auto text-right",children:D>0?h.jsxs("span",{className:"text-sm font-bold text-green-600 bg-green-50 dark:bg-green-900/20 px-3 py-1 rounded-full uppercase",children:[D," Total Trucks"]}):null})]}),h.jsxs("div",{className:"pl-7 space-y-6",children:[N.length===0&&h.jsx("p",{className:"text-sm text-gray-400 italic",children:"No scheduled deliveries."}),N.map(A=>h.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[h.jsxs("h4",{className:"flex items-center text-xs font-bold text-gray-500 uppercase mb-3",children:[h.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500 mr-2"}),A.sku," Production Supply (",A.count," Trucks)"]}),h.jsx(C5,{date:k,totalRequired:A.count,manifest:A.manifest,readOnly:n,onUpdate:(R,M)=>{try{const z=r.specs?.bottlesPerTruck||2e4,q=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`uuid-${Date.now()}-${Math.random()}`,te=M.map(X=>({id:X.id||q(),date:R,po:X.po||`TEMP-${Date.now()}`,sku:A.sku,qty:z,supplier:X.carrier||"Unknown",carrier:X.carrier,time:X.time,status:"scheduled",isGlobal:!0})),ue=v[R]?.items||[],H=[...Array.isArray(ue)?ue.filter(X=>X.sku!==A.sku):[],...te];y(R,H)}catch(I){console.error("Failed to update manifest (Today) in LogicsticsView:",I),alert("Error saving manifest. See console.")}try{const I=`mrp_${A.sku}_truckManifest`,z=localStorage.getItem(I);if(z){const q=JSON.parse(z);q[R]&&(delete q[R],localStorage.setItem(I,JSON.stringify(q)))}}catch(I){console.warn("Legacy cleanup failed (Today)",I)}}})]},A.sku))]})]}),h.jsxs("div",{className:"p-6 transition-colors opacity-95",children:[h.jsxs("div",{className:"flex items-center mb-4",children:[h.jsx("div",{className:`w-3 h-12 rounded-full mr-4 ${O>0?"bg-blue-500":"bg-gray-300"}`}),h.jsxs("div",{children:[h.jsx("p",{className:"text-xl font-bold text-gray-700 dark:text-gray-300",children:"TOMORROW"}),h.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:j.toLocaleDateString()})]})]}),h.jsxs("div",{className:"pl-7 space-y-6",children:[E.length===0&&h.jsx("p",{className:"text-sm text-gray-400 italic",children:"No scheduled deliveries."}),E.map(A=>h.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[h.jsxs("h4",{className:"flex items-center text-xs font-bold text-gray-500 uppercase mb-3",children:[h.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500 mr-2"}),A.sku," Production Supply (",A.count," Trucks)"]}),h.jsx(C5,{date:_,totalRequired:A.count,manifest:A.manifest,readOnly:n,onUpdate:(R,M)=>{try{const z=r.specs?.bottlesPerTruck||2e4,q=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`uuid-${Date.now()}-${Math.random()}`,te=M.map(X=>({id:X.id||q(),date:R,po:X.po||"TBD",sku:A.sku,qty:z,supplier:X.carrier||"Unknown",carrier:X.carrier,time:X.time,status:"scheduled",isGlobal:!0})),ue=v[R]?.items||[],H=[...Array.isArray(ue)?ue.filter(X=>X.sku!==A.sku):[],...te];y(R,H)}catch(I){console.error("Failed to update manifest in LogicsticsView:",I),alert("Error saving manifest. See console.")}try{const I=`mrp_${A.sku}_truckManifest`,z=localStorage.getItem(I);if(z){const q=JSON.parse(z);q[R]&&(delete q[R],localStorage.setItem(I,JSON.stringify(q)))}}catch(I){console.warn("Legacy cleanup failed (tomorrow)",I)}}})]},A.sku))]})]})]}),h.jsx("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-4 text-center",children:h.jsx("p",{className:"text-xs text-gray-500",children:"For the full 30-day schedule, ask a Planner or switch to the Planning View."})})]}),h.jsx(WC,{isOpen:a,onClose:()=>s(!1),state:e,setters:t})]})}function fle({isOpen:e,onClose:t,product:r,onSave:n,readOnly:a=!1}){const{user:s}=Nr(),[l,u]=x.useState({name:"",description:"",material_code:"",bottles_per_case:12,bottles_per_truck:2e4,cases_per_pallet:100,lead_time_days:2,safety_stock_loads:6,lines:[]}),[d,f]=x.useState(!1),[m,g]=x.useState(null);x.useEffect(()=>{e&&(u(r?{name:r.name,description:r.description||"",material_code:r.material_code||"",color_tag:r.color_tag||"#3B82F6",bottles_per_case:r.bottles_per_case||24,cases_per_pallet:r.cases_per_pallet||100,bottles_per_truck:r.bottles_per_truck||1e5,lead_time_days:r.lead_time_days!==null&&r.lead_time_days!==void 0?r.lead_time_days:2,safety_stock_loads:r.safety_stock_loads!==null&&r.safety_stock_loads!==void 0?r.safety_stock_loads:6,lines:r.production_settings?.length>0?r.production_settings.map(_=>({line_name:_.line_name,production_rate:_.production_rate})):[{line_name:"Line 1",production_rate:2500}]}:{name:"",description:"",material_code:"",color_tag:"#3B82F6",bottles_per_case:24,cases_per_pallet:100,bottles_per_truck:1e5,lead_time_days:2,safety_stock_loads:6,lines:[{line_name:"Line 1",production_rate:2500}]}),g(null))},[e,r]);const v=()=>{u(_=>({..._,lines:[..._.lines,{line_name:`Line ${_.lines.length+1}`,production_rate:2500}]}))},y=_=>{u(j=>({...j,lines:j.lines.filter((N,E)=>E!==_)}))},S=(_,j,N)=>{const E=[...l.lines];E[_][j]=N,u({...l,lines:E})},k=async _=>{if(_.preventDefault(),!(!s||a)){f(!0),g(null);try{const j={name:l.name,description:l.description,material_code:l.material_code||null,bottles_per_case:Number(l.bottles_per_case),bottles_per_truck:Number(l.bottles_per_truck),cases_per_pallet:Number(l.cases_per_pallet),lead_time_days:Number(l.lead_time_days),safety_stock_loads:Number(l.safety_stock_loads),user_id:s.id};r?.id&&(j.id=r.id);const{data:N,error:E}=await De.from("products").upsert(j,{onConflict:"name"}).select().single();if(E)throw E;const D=l.lines.map(P=>({product_id:N.id,user_id:s.id,line_name:P.line_name||"Line 1",production_rate:Number(P.production_rate)})),{error:O}=await De.from("production_settings").upsert(D,{onConflict:"product_id, line_name"});if(O)throw O;n(),t()}catch(j){console.error("Save Error:",j),g(j.message||"Failed to save product")}finally{f(!1)}}};return h.jsxs(Mt,{open:e,onClose:t,className:"relative z-50",children:[h.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm","aria-hidden":"true"}),h.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:h.jsxs(Mt.Panel,{className:"w-full max-w-lg rounded-2xl bg-white dark:bg-gray-800 p-6 shadow-xl border border-gray-200 dark:border-gray-700 max-h-[90vh] overflow-y-auto",children:[h.jsx(Mt.Title,{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:a?"View Product Configuration":r?"Edit Product Configuration":"Add New Product"}),m&&h.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg text-sm",children:m}),h.jsxs("form",{onSubmit:k,className:"space-y-5",children:[h.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-xl space-y-4",children:[h.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Identification"}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-[10px] font-medium text-gray-500 uppercase mb-1",children:"SKU Name"}),h.jsx("input",{type:"text",required:!0,value:l.name,onChange:_=>u({...l,name:_.target.value}),disabled:!!r||a,className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white font-bold focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"e.g. 20oz Cola"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-[10px] font-medium text-gray-500 uppercase mb-1",children:"Display Color"}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("input",{type:"color",value:l.color_tag,onChange:_=>u({...l,color_tag:_.target.value}),disabled:a,className:"h-9 w-12 rounded cursor-pointer border-0 p-0 disabled:opacity-50"}),h.jsx("span",{className:"text-xs text-gray-400",children:"Calendar Tag"})]})]}),h.jsxs("div",{className:"col-span-2",children:[h.jsx("label",{className:"block text-[10px] font-medium text-gray-500 uppercase mb-1",children:"Description (Optional)"}),h.jsx("input",{type:"text",value:l.description,onChange:_=>u({...l,description:_.target.value}),disabled:a,className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm disabled:opacity-50",placeholder:"e.g. Standard 24pk Tray"})]}),h.jsxs("div",{className:"col-span-2",children:[h.jsxs("label",{className:"block text-[10px] font-medium text-gray-500 uppercase mb-1",children:["SAP Material Code ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",required:!0,value:l.material_code,onChange:_=>u({...l,material_code:_.target.value}),disabled:a,className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm font-mono disabled:opacity-50",placeholder:"e.g. 1855526"}),h.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Required for SAP import mapping"})]})]})]}),h.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/10 p-4 rounded-xl space-y-4",children:[h.jsx("h3",{className:"text-xs font-bold text-emerald-600 uppercase tracking-wider",children:" Finished Product Spec"}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Pack Size"}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("input",{type:"number",required:!0,min:"1",value:l.bottles_per_case,onChange:_=>u({...l,bottles_per_case:_.target.value}),disabled:a,className:"w-full px-3 py-2 rounded-lg border border-emerald-200 dark:border-emerald-800 bg-emerald-50/50 dark:bg-emerald-900/20 text-emerald-900 dark:text-emerald-100 text-sm font-bold disabled:opacity-50"}),h.jsx("span",{className:"text-xs text-emerald-600 dark:text-emerald-400",children:"units/case"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Pallet Count"}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("input",{type:"number",required:!0,min:"1",value:l.cases_per_pallet,onChange:_=>u({...l,cases_per_pallet:_.target.value}),disabled:a,className:"w-full px-3 py-2 rounded-lg border border-emerald-200 dark:border-emerald-800 bg-emerald-50/50 dark:bg-emerald-900/20 text-emerald-900 dark:text-emerald-100 text-sm font-bold disabled:opacity-50"}),h.jsx("span",{className:"text-xs text-emerald-600 dark:text-emerald-400",children:"cases/plt"})]})]})]})]}),h.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/10 p-4 rounded-xl space-y-4",children:[h.jsx("h3",{className:"text-xs font-bold text-indigo-600 uppercase tracking-wider",children:" Planning Settings"}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Lead Time"}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("input",{type:"number",required:!0,min:"0",value:l.lead_time_days,onChange:_=>u({...l,lead_time_days:_.target.value}),disabled:a,className:"w-full px-3 py-2 rounded-lg border border-indigo-200 dark:border-indigo-800 bg-indigo-50/50 dark:bg-indigo-900/20 text-indigo-900 dark:text-indigo-100 text-sm font-bold disabled:opacity-50"}),h.jsx("span",{className:"text-xs text-indigo-600 dark:text-indigo-400",children:"days"})]}),h.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Frozen zone for auto-balance logic."})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Safety Stock"}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("input",{type:"number",required:!0,min:"0",value:l.safety_stock_loads,onChange:_=>u({...l,safety_stock_loads:_.target.value}),disabled:a,className:"w-full px-3 py-2 rounded-lg border border-indigo-200 dark:border-indigo-800 bg-indigo-50/50 dark:bg-indigo-900/20 text-indigo-900 dark:text-indigo-100 text-sm font-bold disabled:opacity-50"}),h.jsx("span",{className:"text-xs text-indigo-600 dark:text-indigo-400",children:"loads"})]}),h.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Target floor inventory (multiplier)."})]})]})]}),h.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-4 rounded-xl space-y-4",children:[h.jsx("h3",{className:"text-xs font-bold text-blue-600 uppercase tracking-wider",children:" Raw Material Truck Spec"}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Inbound Truck Quantity"}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("input",{type:"number",required:!0,min:"1",step:"1",value:l.bottles_per_truck,onChange:_=>u({...l,bottles_per_truck:_.target.value}),disabled:a,className:"w-full px-3 py-2 rounded-lg border border-blue-200 dark:border-blue-800 bg-blue-50/50 dark:bg-blue-900/20 text-blue-900 dark:text-blue-100 text-lg font-black tracking-tight disabled:opacity-50"}),h.jsx("span",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium",children:"units / truck"})]}),h.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Total quantity of empty bottles/cans on a single full truckload."})]})]}),h.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-4 rounded-xl space-y-3",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h3",{className:"text-xs font-bold text-blue-500 uppercase tracking-wider",children:"Production Lines"}),!a&&h.jsxs("button",{type:"button",onClick:v,className:"text-xs text-blue-600 hover:text-blue-800 font-medium flex items-center gap-1",children:[h.jsx(d0,{className:"w-3 h-3"})," Add Line"]})]}),h.jsxs("div",{className:"space-y-2",children:[l.lines.map((_,j)=>h.jsxs("div",{className:"flex gap-2 items-center",children:[h.jsx("input",{type:"text",value:_.line_name,onChange:N=>S(j,"line_name",N.target.value),placeholder:"Line Name",disabled:a,className:"flex-1 px-3 py-1.5 rounded-lg border border-gray-200 dark:border-gray-600 text-sm disabled:opacity-50"}),h.jsx("input",{type:"number",value:_.production_rate,onChange:N=>S(j,"production_rate",N.target.value),placeholder:"CPH",disabled:a,className:"w-24 px-3 py-1.5 rounded-lg border border-gray-200 dark:border-gray-600 text-sm text-right disabled:opacity-50"}),!a&&h.jsx("button",{type:"button",onClick:()=>y(j),className:"p-1.5 text-red-500 hover:bg-red-100 rounded-lg transition-colors",title:"Remove Line",children:h.jsx(ga,{className:"w-4 h-4"})})]},j)),l.lines.length===0&&h.jsx("p",{className:"text-xs text-center text-gray-400 py-2",children:"No active production lines."})]})]}),h.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t dark:border-gray-700 mt-6",children:[h.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded-lg text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:a?"Close":"Cancel"}),!a&&h.jsx("button",{type:"submit",disabled:d,className:"px-4 py-2 rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50 shadow-sm",children:d?"Saving...":"Save Configuration"})]})]})]})})]})}function hle({readOnly:e=!1}){const{user:t}=Nr(),{products:r,loading:n,refreshProducts:a}=yr(),[s,l]=x.useState(!1),[u,d]=x.useState(null),f=v=>{d(v),l(!0)},m=()=>{d(null),l(!0)},g=()=>{a()};return h.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[h.jsxs("div",{className:"flex justify-between items-center bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[h.jsx(Zc,{className:"w-6 h-6 text-blue-600"}),"Product Master Data"]}),h.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage SKUs, dimensions, and run rates."})]}),h.jsx("div",{className:"flex gap-2",children:!e&&h.jsxs("button",{onClick:m,className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium shadow-sm transition-all",children:[h.jsx(d0,{className:"w-5 h-5"}),"Add Product"]})})]}),n?h.jsx("div",{className:"flex justify-center p-12",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.map(v=>h.jsxs("div",{onClick:()=>f(v),className:"group bg-white dark:bg-gray-800 rounded-xl p-5 border border-gray-200 dark:border-gray-700 shadow-sm hover:shadow-md hover:border-blue-300 dark:hover:border-blue-700 cursor-pointer transition-all",children:[h.jsxs("div",{className:"flex justify-between items-start mb-4",children:[h.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:h.jsx(Zc,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),h.jsxs("span",{className:"text-xs font-mono text-gray-400",children:["ID: ",v.id.slice(0,4),"..."]})]}),h.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1",children:v.name}),v.description&&h.jsx("p",{className:"text-xs text-gray-500 mb-4 line-clamp-2",children:v.description}),h.jsxs("div",{className:"space-y-3 text-sm mt-4",children:[h.jsxs("div",{className:"flex justify-between py-1 border-b border-gray-100 dark:border-gray-700/50",children:[h.jsxs("span",{className:"text-gray-500 flex items-center gap-2",children:[h.jsx(gn,{className:"w-4 h-4"}),"Bottles/Truck"]}),h.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-200",children:v.bottles_per_truck?.toLocaleString()})]}),h.jsxs("div",{className:"flex justify-between py-1 border-b border-gray-100 dark:border-gray-700/50",children:[h.jsx("span",{className:"text-gray-500",children:"Bottles/Case"}),h.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-200",children:v.bottles_per_case})]}),h.jsxs("div",{className:"flex justify-between py-1 border-b border-gray-100 dark:border-gray-700/50",children:[h.jsx("span",{className:"text-gray-500",children:"Cases/Pallet"}),h.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-200",children:v.cases_per_pallet})]}),h.jsxs("div",{className:"flex justify-between py-1 border-b border-gray-100 dark:border-gray-700/50",children:[h.jsx("span",{className:"text-gray-500",children:"Lead Time"}),h.jsxs("span",{className:"font-medium text-indigo-700 dark:text-indigo-300",children:[v.lead_time_days||2," Days"]})]}),h.jsxs("div",{className:"flex justify-between py-1 border-b border-gray-100 dark:border-gray-700/50",children:[h.jsx("span",{className:"text-gray-500",children:"Safety Stock"}),h.jsxs("span",{className:"font-medium text-indigo-700 dark:text-indigo-300",children:[v.safety_stock_loads||6," Loads"]})]}),h.jsxs("div",{className:"pt-2",children:[h.jsxs("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-2 block flex items-center gap-1",children:[h.jsx(N6,{className:"w-3 h-3 text-amber-500"}),"Run Rates (CPH)"]}),h.jsx("div",{className:"space-y-1",children:v.production_settings?.length>0?v.production_settings.map(y=>h.jsxs("div",{className:"flex justify-between text-xs bg-gray-50 dark:bg-gray-700/50 px-2 py-1 rounded",children:[h.jsx("span",{className:"text-gray-600 dark:text-gray-300 font-medium",children:y.line_name}),h.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:y.production_rate?.toLocaleString()})]},y.id||y.line_name)):h.jsx("div",{className:"text-xs text-gray-400 italic",children:"No rates configured"})})]})]})]},v.id)),r.length===0&&h.jsxs("div",{className:"col-span-full py-12 text-center text-gray-400 border-2 border-dashed border-gray-200 rounded-xl",children:[h.jsx(Zc,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),h.jsx("p",{children:"No products found. Add your first SKU!"})]})]}),h.jsx(fle,{isOpen:s,onClose:()=>l(!1),product:u,onSave:g,readOnly:e})]})}function tx(e){console.log("Checking YMS format. Headers found:",e);const t=["ref #1","arrival date","open status"],r=e.map(s=>s.toLowerCase().trim());console.log("Lower headers:",r);const a=t.map(s=>{const l=r.some(u=>u.includes(s));return console.log(`Looking for "${s}": ${l}`),l}).every(s=>s);return console.log("YMS format valid:",a),a}function mle(e){if(!e)return"Unknown";const t=[/(\d+\.?\d*\s?oz)/i,/(\d+\s?liter)/i,/(bottle|can)/i];for(const r of t){const n=e.match(r);if(n)return n[1].trim()}return e.trim()}function ple(e){if(!e)return null;try{const t=e.match(/(\d{1,2})\/(\d{1,2})\/(\d{4})(?:\s+(\d{1,2}):(\d{2}))?/);if(!t)return null;const[,r,n,a,s="00",l="00"]=t,u=`${a}-${r.padStart(2,"0")}-${n.padStart(2,"0")}`,d=`${u}T${s.padStart(2,"0")}:${l.padStart(2,"0")}:00`;return{date:u,timestamp:d}}catch(t){return console.error("Error parsing YMS date:",e,t),null}}function gle(e){const t=[],r=[];let n=0;return e.forEach((a,s)=>{const l=s+2,u=a["Open Status"]||"";if(!u.toLowerCase().includes("complete")){n++;return}const d=ple(a["Arrival Date"]);if(!d){t.push(`Row ${l}: Invalid date format "${a["Arrival Date"]}"`);return}const f=a["Ref#1"]?.trim();if(!f){t.push(`Row ${l}: Missing PO (Ref#1)`);return}const m=mle(a["Sub Load Type"]);m==="Unknown"&&t.push(`Row ${l}: Could not extract SKU from "${a["Sub Load Type"]}"`);const g={date:d.date,po_number:f,product_sku:m,location:"yard",loads:1,yms_reference:a.Trailer?.trim(),checked_in_at:d.timestamp,status:u};r.push(g)}),{success:t.length===0,data:r,errors:t,skipped:n,totalRows:e.length}}function P5(e){try{const r=require("papaparse").parse(e,{header:!0,skipEmptyLines:!0,transformHeader:n=>n.trim()});return r.errors.length>0?{success:!1,data:[],errors:r.errors.map(n=>n.message),skipped:0,totalRows:0}:tx(r.meta.fields||[])?gle(r.data):{success:!1,data:[],errors:["Not a valid YMS export format. Missing required columns: Ref#1, Arrival Date, Open Status"],skipped:0,totalRows:0}}catch(t){return{success:!1,data:[],errors:[`Failed to parse CSV: ${t instanceof Error?t.message:"Unknown error"}`],skipped:0,totalRows:0}}}function rx(e){const t=e.map(s=>s.toLowerCase().trim()),r=t.some(s=>s.includes("date")||s.includes("day")||s.includes("production")),n=t.some(s=>s.includes("sku")||s.includes("product")||s.includes("item")),a=t.some(s=>s.includes("case")||s.includes("quantity")||s.includes("produced"));return r&&n&&a}function vle(e){const t=e.map(r=>r.toLowerCase().trim());return{date:e.find((r,n)=>t[n].includes("production")&&t[n].includes("date")||t[n]==="date"||t[n].includes("run date")),sku:e.find((r,n)=>t[n].includes("product code")||t[n].includes("sku")||t[n]==="product"),cases:e.find((r,n)=>t[n].includes("cases produced")||t[n].includes("cases")||t[n].includes("quantity")),bottles:e.find((r,n)=>t[n].includes("bottles produced")||t[n].includes("bottles")||t[n].includes("units")),shift:e.find((r,n)=>t[n].includes("shift"))}}function yle(e){if(!e)return null;try{if(/^\d{4}-\d{2}-\d{2}/.test(e))return e.split("T")[0];const t=e.match(/(\d{1,2})\/(\d{1,2})\/(\d{4})/);if(t){const[,a,s,l]=t;return`${l}-${a.padStart(2,"0")}-${s.padStart(2,"0")}`}const r=e.match(/(\d{1,2})\/(\d{1,2})\/(\d{4})/);if(r){const[,a,s,l]=r;return`${l}-${s.padStart(2,"0")}-${a.padStart(2,"0")}`}const n=new Date(e);return isNaN(n.getTime())?null:n.toISOString().split("T")[0]}catch{return null}}function ble(e,t){const r=[],n=[];return e.forEach((a,s)=>{const l=s+2,u=t.date?a[t.date]:null,d=yle(u);if(!d){r.push(`Row ${l}: Invalid or missing date "${u}"`);return}const f=t.sku?String(a[t.sku]).trim():"";if(!f){r.push(`Row ${l}: Missing product SKU`);return}const m=t.cases?a[t.cases]:null,g=parseInt(String(m).replace(/,/g,""),10);if(isNaN(g)){r.push(`Row ${l}: Invalid cases value "${m}"`);return}const v=t.bottles?a[t.bottles]:null,y=v?parseInt(String(v).replace(/,/g,""),10):void 0,S=t.shift?String(a[t.shift]).trim():void 0;n.push({date:d,product_sku:f,cases:g,bottles:y,shift:S})}),{success:r.length===0,data:n,errors:r,totalRows:e.length,columnMapping:t}}function D5(e){try{const r=require("papaparse").parse(e,{header:!0,skipEmptyLines:!0,transformHeader:s=>s.trim()});if(r.errors.length>0)return{success:!1,data:[],errors:r.errors.map(s=>s.message),totalRows:0,columnMapping:{}};const n=r.meta.fields||[];if(!rx(n))return{success:!1,data:[],errors:["Not a valid MES export format. Expected columns with date, product/SKU, and cases."],totalRows:0,columnMapping:{}};const a=vle(n);return!a.date||!a.sku||!a.cases?{success:!1,data:[],errors:["Could not auto-detect required columns.",`Detected: date=${a.date}, sku=${a.sku}, cases=${a.cases}`,"Please verify CSV format."],totalRows:0,columnMapping:a}:ble(r.data,a)}catch(t){return{success:!1,data:[],errors:[`Failed to parse CSV: ${t instanceof Error?t.message:"Unknown error"}`],totalRows:0,columnMapping:{}}}}var nh={exports:{}};var xle=nh.exports,R5;function wle(){return R5||(R5=1,(function(e,t){((r,n)=>{e.exports=n()})(xle,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},a,s=!n.document&&!!n.postMessage,l=n.IS_PAPA_WORKER||!1,u={},d=0,f={};function m(A){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(R){var M=O(R);M.chunkSize=parseInt(M.chunkSize),R.step||R.chunk||(M.chunkSize=null),this._handle=new k(M),(this._handle.streamer=this)._config=M}).call(this,A),this.parseChunk=function(R,M){var I=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<I){let q=this._config.newline;q||(z=this._config.quoteChar||'"',q=this._handle.guessLineEndings(R,z)),R=[...R.split(q).slice(I)].join(q)}this.isFirstChunk&&C(this._config.beforeFirstChunk)&&(z=this._config.beforeFirstChunk(R))!==void 0&&(R=z),this.isFirstChunk=!1,this._halted=!1;var I=this._partialLine+R,z=(this._partialLine="",this._handle.parse(I,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(R=z.meta.cursor,I=(this._finished||(this._partialLine=I.substring(R-this._baseIndex),this._baseIndex=R),z&&z.data&&(this._rowCount+=z.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),l)n.postMessage({results:z,workerId:f.WORKER_ID,finished:I});else if(C(this._config.chunk)&&!M){if(this._config.chunk(z,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=z=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(z.data),this._completeResults.errors=this._completeResults.errors.concat(z.errors),this._completeResults.meta=z.meta),this._completed||!I||!C(this._config.complete)||z&&z.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),I||z&&z.meta.paused||this._nextChunk(),z}this._halted=!0},this._sendError=function(R){C(this._config.error)?this._config.error(R):l&&this._config.error&&n.postMessage({workerId:f.WORKER_ID,error:R,finished:!1})}}function g(A){var R;(A=A||{}).chunkSize||(A.chunkSize=f.RemoteChunkSize),m.call(this,A),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(M){this._input=M,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(R=new XMLHttpRequest,this._config.withCredentials&&(R.withCredentials=this._config.withCredentials),s||(R.onload=P(this._chunkLoaded,this),R.onerror=P(this._chunkError,this)),R.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var M,I=this._config.downloadRequestHeaders;for(M in I)R.setRequestHeader(M,I[M])}var z;this._config.chunkSize&&(z=this._start+this._config.chunkSize-1,R.setRequestHeader("Range","bytes="+this._start+"-"+z));try{R.send(this._config.downloadRequestBody)}catch(q){this._chunkError(q.message)}s&&R.status===0&&this._chunkError()}},this._chunkLoaded=function(){R.readyState===4&&(R.status<200||400<=R.status?this._chunkError():(this._start+=this._config.chunkSize||R.responseText.length,this._finished=!this._config.chunkSize||this._start>=(M=>(M=M.getResponseHeader("Content-Range"))!==null?parseInt(M.substring(M.lastIndexOf("/")+1)):-1)(R),this.parseChunk(R.responseText)))},this._chunkError=function(M){M=R.statusText||M,this._sendError(new Error(M))}}function v(A){(A=A||{}).chunkSize||(A.chunkSize=f.LocalChunkSize),m.call(this,A);var R,M,I=typeof FileReader<"u";this.stream=function(z){this._input=z,M=z.slice||z.webkitSlice||z.mozSlice,I?((R=new FileReader).onload=P(this._chunkLoaded,this),R.onerror=P(this._chunkError,this)):R=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var z=this._input,q=(this._config.chunkSize&&(q=Math.min(this._start+this._config.chunkSize,this._input.size),z=M.call(z,this._start,q)),R.readAsText(z,this._config.encoding));I||this._chunkLoaded({target:{result:q}})},this._chunkLoaded=function(z){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(z.target.result)},this._chunkError=function(){this._sendError(R.error)}}function y(A){var R;m.call(this,A=A||{}),this.stream=function(M){return R=M,this._nextChunk()},this._nextChunk=function(){var M,I;if(!this._finished)return M=this._config.chunkSize,R=M?(I=R.substring(0,M),R.substring(M)):(I=R,""),this._finished=!R,this.parseChunk(I)}}function S(A){m.call(this,A=A||{});var R=[],M=!0,I=!1;this.pause=function(){m.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){m.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(z){this._input=z,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){I&&R.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),R.length?this.parseChunk(R.shift()):M=!0},this._streamData=P(function(z){try{R.push(typeof z=="string"?z:z.toString(this._config.encoding)),M&&(M=!1,this._checkIsFinished(),this.parseChunk(R.shift()))}catch(q){this._streamError(q)}},this),this._streamError=P(function(z){this._streamCleanUp(),this._sendError(z)},this),this._streamEnd=P(function(){this._streamCleanUp(),I=!0,this._streamData("")},this),this._streamCleanUp=P(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function k(A){var R,M,I,z,q=Math.pow(2,53),te=-q,ue=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,B=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,H=this,X=0,ee=0,ve=!1,L=!1,K=[],F={data:[],errors:[],meta:{}};function Z(ye){return A.skipEmptyLines==="greedy"?ye.join("").trim()==="":ye.length===1&&ye[0].length===0}function oe(){if(F&&I&&(ae("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+f.DefaultDelimiter+"'"),I=!1),A.skipEmptyLines&&(F.data=F.data.filter(function(Y){return!Z(Y)})),ce()){let Y=function(be,ne){C(A.transformHeader)&&(be=A.transformHeader(be,ne)),K.push(be)};var pe=Y;if(F)if(Array.isArray(F.data[0])){for(var ye=0;ce()&&ye<F.data.length;ye++)F.data[ye].forEach(Y);F.data.splice(0,1)}else F.data.forEach(Y)}function G(Y,be){for(var ne=A.header?{}:[],ge=0;ge<Y.length;ge++){var fe=ge,we=Y[ge],we=((Ae,Ue)=>(qe=>(A.dynamicTypingFunction&&A.dynamicTyping[qe]===void 0&&(A.dynamicTyping[qe]=A.dynamicTypingFunction(qe)),(A.dynamicTyping[qe]||A.dynamicTyping)===!0))(Ae)?Ue==="true"||Ue==="TRUE"||Ue!=="false"&&Ue!=="FALSE"&&((qe=>{if(ue.test(qe)&&(qe=parseFloat(qe),te<qe&&qe<q))return 1})(Ue)?parseFloat(Ue):B.test(Ue)?new Date(Ue):Ue===""?null:Ue):Ue)(fe=A.header?ge>=K.length?"__parsed_extra":K[ge]:fe,we=A.transform?A.transform(we,fe):we);fe==="__parsed_extra"?(ne[fe]=ne[fe]||[],ne[fe].push(we)):ne[fe]=we}return A.header&&(ge>K.length?ae("FieldMismatch","TooManyFields","Too many fields: expected "+K.length+" fields but parsed "+ge,ee+be):ge<K.length&&ae("FieldMismatch","TooFewFields","Too few fields: expected "+K.length+" fields but parsed "+ge,ee+be)),ne}var xe;F&&(A.header||A.dynamicTyping||A.transform)&&(xe=1,!F.data.length||Array.isArray(F.data[0])?(F.data=F.data.map(G),xe=F.data.length):F.data=G(F.data,0),A.header&&F.meta&&(F.meta.fields=K),ee+=xe)}function ce(){return A.header&&K.length===0}function ae(ye,G,xe,pe){ye={type:ye,code:G,message:xe},pe!==void 0&&(ye.row=pe),F.errors.push(ye)}C(A.step)&&(z=A.step,A.step=function(ye){F=ye,ce()?oe():(oe(),F.data.length!==0&&(X+=ye.data.length,A.preview&&X>A.preview?M.abort():(F.data=F.data[0],z(F,H))))}),this.parse=function(ye,G,xe){var pe=A.quoteChar||'"',pe=(A.newline||(A.newline=this.guessLineEndings(ye,pe)),I=!1,A.delimiter?C(A.delimiter)&&(A.delimiter=A.delimiter(ye),F.meta.delimiter=A.delimiter):((pe=((Y,be,ne,ge,fe)=>{var we,Ae,Ue,qe;fe=fe||[",","	","|",";",f.RECORD_SEP,f.UNIT_SEP];for(var pt=0;pt<fe.length;pt++){for(var kt,Kt=fe[pt],$e=0,Qe=0,Ie=0,He=(Ue=void 0,new j({comments:ge,delimiter:Kt,newline:be,preview:10}).parse(Y)),tt=0;tt<He.data.length;tt++)ne&&Z(He.data[tt])?Ie++:(kt=He.data[tt].length,Qe+=kt,Ue===void 0?Ue=kt:0<kt&&($e+=Math.abs(kt-Ue),Ue=kt));0<He.data.length&&(Qe/=He.data.length-Ie),(Ae===void 0||$e<=Ae)&&(qe===void 0||qe<Qe)&&1.99<Qe&&(Ae=$e,we=Kt,qe=Qe)}return{successful:!!(A.delimiter=we),bestDelimiter:we}})(ye,A.newline,A.skipEmptyLines,A.comments,A.delimitersToGuess)).successful?A.delimiter=pe.bestDelimiter:(I=!0,A.delimiter=f.DefaultDelimiter),F.meta.delimiter=A.delimiter),O(A));return A.preview&&A.header&&pe.preview++,R=ye,M=new j(pe),F=M.parse(R,G,xe),oe(),ve?{meta:{paused:!0}}:F||{meta:{paused:!1}}},this.paused=function(){return ve},this.pause=function(){ve=!0,M.abort(),R=C(A.chunk)?"":R.substring(M.getCharIndex())},this.resume=function(){H.streamer._halted?(ve=!1,H.streamer.parseChunk(R,!0)):setTimeout(H.resume,3)},this.aborted=function(){return L},this.abort=function(){L=!0,M.abort(),F.meta.aborted=!0,C(A.complete)&&A.complete(F),R=""},this.guessLineEndings=function(Y,pe){Y=Y.substring(0,1048576);var pe=new RegExp(_(pe)+"([^]*?)"+_(pe),"gm"),xe=(Y=Y.replace(pe,"")).split("\r"),pe=Y.split(`
`),Y=1<pe.length&&pe[0].length<xe[0].length;if(xe.length===1||Y)return`
`;for(var be=0,ne=0;ne<xe.length;ne++)xe[ne][0]===`
`&&be++;return be>=xe.length/2?`\r
`:"\r"}}function _(A){return A.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function j(A){var R=(A=A||{}).delimiter,M=A.newline,I=A.comments,z=A.step,q=A.preview,te=A.fastMode,ue=null,B=!1,H=A.quoteChar==null?'"':A.quoteChar,X=H;if(A.escapeChar!==void 0&&(X=A.escapeChar),(typeof R!="string"||-1<f.BAD_DELIMITERS.indexOf(R))&&(R=","),I===R)throw new Error("Comment character same as delimiter");I===!0?I="#":(typeof I!="string"||-1<f.BAD_DELIMITERS.indexOf(I))&&(I=!1),M!==`
`&&M!=="\r"&&M!==`\r
`&&(M=`
`);var ee=0,ve=!1;this.parse=function(L,K,F){if(typeof L!="string")throw new Error("Input must be a string");var Z=L.length,oe=R.length,ce=M.length,ae=I.length,ye=C(z),G=[],xe=[],pe=[],Y=ee=0;if(!L)return $e();if(te||te!==!1&&L.indexOf(H)===-1){for(var be=L.split(M),ne=0;ne<be.length;ne++){if(pe=be[ne],ee+=pe.length,ne!==be.length-1)ee+=M.length;else if(F)return $e();if(!I||pe.substring(0,ae)!==I){if(ye){if(G=[],qe(pe.split(R)),Qe(),ve)return $e()}else qe(pe.split(R));if(q&&q<=ne)return G=G.slice(0,q),$e(!0)}}return $e()}for(var ge=L.indexOf(R,ee),fe=L.indexOf(M,ee),we=new RegExp(_(X)+_(H),"g"),Ae=L.indexOf(H,ee);;)if(L[ee]===H)for(Ae=ee,ee++;;){if((Ae=L.indexOf(H,Ae+1))===-1)return F||xe.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:G.length,index:ee}),kt();if(Ae===Z-1)return kt(L.substring(ee,Ae).replace(we,H));if(H===X&&L[Ae+1]===X)Ae++;else if(H===X||Ae===0||L[Ae-1]!==X){ge!==-1&&ge<Ae+1&&(ge=L.indexOf(R,Ae+1));var Ue=pt((fe=fe!==-1&&fe<Ae+1?L.indexOf(M,Ae+1):fe)===-1?ge:Math.min(ge,fe));if(L.substr(Ae+1+Ue,oe)===R){pe.push(L.substring(ee,Ae).replace(we,H)),L[ee=Ae+1+Ue+oe]!==H&&(Ae=L.indexOf(H,ee)),ge=L.indexOf(R,ee),fe=L.indexOf(M,ee);break}if(Ue=pt(fe),L.substring(Ae+1+Ue,Ae+1+Ue+ce)===M){if(pe.push(L.substring(ee,Ae).replace(we,H)),Kt(Ae+1+Ue+ce),ge=L.indexOf(R,ee),Ae=L.indexOf(H,ee),ye&&(Qe(),ve))return $e();if(q&&G.length>=q)return $e(!0);break}xe.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:G.length,index:ee}),Ae++}}else if(I&&pe.length===0&&L.substring(ee,ee+ae)===I){if(fe===-1)return $e();ee=fe+ce,fe=L.indexOf(M,ee),ge=L.indexOf(R,ee)}else if(ge!==-1&&(ge<fe||fe===-1))pe.push(L.substring(ee,ge)),ee=ge+oe,ge=L.indexOf(R,ee);else{if(fe===-1)break;if(pe.push(L.substring(ee,fe)),Kt(fe+ce),ye&&(Qe(),ve))return $e();if(q&&G.length>=q)return $e(!0)}return kt();function qe(Ie){G.push(Ie),Y=ee}function pt(Ie){var He=0;return He=Ie!==-1&&(Ie=L.substring(Ae+1,Ie))&&Ie.trim()===""?Ie.length:He}function kt(Ie){return F||(Ie===void 0&&(Ie=L.substring(ee)),pe.push(Ie),ee=Z,qe(pe),ye&&Qe()),$e()}function Kt(Ie){ee=Ie,qe(pe),pe=[],fe=L.indexOf(M,ee)}function $e(Ie){if(A.header&&!K&&G.length&&!B){var He=G[0],tt=Object.create(null),Bn=new Set(He);let aa=!1;for(let xn=0;xn<He.length;xn++){let Lr=He[xn];if(tt[Lr=C(A.transformHeader)?A.transformHeader(Lr,xn):Lr]){let Ar,Nt=tt[Lr];for(;Ar=Lr+"_"+Nt,Nt++,Bn.has(Ar););Bn.add(Ar),He[xn]=Ar,tt[Lr]++,aa=!0,(ue=ue===null?{}:ue)[Ar]=Lr}else tt[Lr]=1,He[xn]=Lr;Bn.add(Lr)}aa&&console.warn("Duplicate headers found and renamed."),B=!0}return{data:G,errors:xe,meta:{delimiter:R,linebreak:M,aborted:ve,truncated:!!Ie,cursor:Y+(K||0),renamedHeaders:ue}}}function Qe(){z($e()),G=[],xe=[]}},this.abort=function(){ve=!0},this.getCharIndex=function(){return ee}}function N(A){var R=A.data,M=u[R.workerId],I=!1;if(R.error)M.userError(R.error,R.file);else if(R.results&&R.results.data){var z={abort:function(){I=!0,E(R.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:D,resume:D};if(C(M.userStep)){for(var q=0;q<R.results.data.length&&(M.userStep({data:R.results.data[q],errors:R.results.errors,meta:R.results.meta},z),!I);q++);delete R.results}else C(M.userChunk)&&(M.userChunk(R.results,z,R.file),delete R.results)}R.finished&&!I&&E(R.workerId,R.results)}function E(A,R){var M=u[A];C(M.userComplete)&&M.userComplete(R),M.terminate(),delete u[A]}function D(){throw new Error("Not implemented.")}function O(A){if(typeof A!="object"||A===null)return A;var R,M=Array.isArray(A)?[]:{};for(R in A)M[R]=O(A[R]);return M}function P(A,R){return function(){A.apply(R,arguments)}}function C(A){return typeof A=="function"}return f.parse=function(A,R){var M=(R=R||{}).dynamicTyping||!1;if(C(M)&&(R.dynamicTypingFunction=M,M={}),R.dynamicTyping=M,R.transform=!!C(R.transform)&&R.transform,!R.worker||!f.WORKERS_SUPPORTED)return M=null,f.NODE_STREAM_INPUT,typeof A=="string"?(A=(I=>I.charCodeAt(0)!==65279?I:I.slice(1))(A),M=new(R.download?g:y)(R)):A.readable===!0&&C(A.read)&&C(A.on)?M=new S(R):(n.File&&A instanceof File||A instanceof Object)&&(M=new v(R)),M.stream(A);(M=(()=>{var I;return!!f.WORKERS_SUPPORTED&&(I=(()=>{var z=n.URL||n.webkitURL||null,q=r.toString();return f.BLOB_URL||(f.BLOB_URL=z.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",q,")();"],{type:"text/javascript"})))})(),(I=new n.Worker(I)).onmessage=N,I.id=d++,u[I.id]=I)})()).userStep=R.step,M.userChunk=R.chunk,M.userComplete=R.complete,M.userError=R.error,R.step=C(R.step),R.chunk=C(R.chunk),R.complete=C(R.complete),R.error=C(R.error),delete R.worker,M.postMessage({input:A,config:R,workerId:M.id})},f.unparse=function(A,R){var M=!1,I=!0,z=",",q=`\r
`,te='"',ue=te+te,B=!1,H=null,X=!1,ee=((()=>{if(typeof R=="object"){if(typeof R.delimiter!="string"||f.BAD_DELIMITERS.filter(function(K){return R.delimiter.indexOf(K)!==-1}).length||(z=R.delimiter),typeof R.quotes!="boolean"&&typeof R.quotes!="function"&&!Array.isArray(R.quotes)||(M=R.quotes),typeof R.skipEmptyLines!="boolean"&&typeof R.skipEmptyLines!="string"||(B=R.skipEmptyLines),typeof R.newline=="string"&&(q=R.newline),typeof R.quoteChar=="string"&&(te=R.quoteChar),typeof R.header=="boolean"&&(I=R.header),Array.isArray(R.columns)){if(R.columns.length===0)throw new Error("Option columns is empty");H=R.columns}R.escapeChar!==void 0&&(ue=R.escapeChar+te),R.escapeFormulae instanceof RegExp?X=R.escapeFormulae:typeof R.escapeFormulae=="boolean"&&R.escapeFormulae&&(X=/^[=+\-@\t\r].*$/)}})(),new RegExp(_(te),"g"));if(typeof A=="string"&&(A=JSON.parse(A)),Array.isArray(A)){if(!A.length||Array.isArray(A[0]))return ve(null,A,B);if(typeof A[0]=="object")return ve(H||Object.keys(A[0]),A,B)}else if(typeof A=="object")return typeof A.data=="string"&&(A.data=JSON.parse(A.data)),Array.isArray(A.data)&&(A.fields||(A.fields=A.meta&&A.meta.fields||H),A.fields||(A.fields=Array.isArray(A.data[0])?A.fields:typeof A.data[0]=="object"?Object.keys(A.data[0]):[]),Array.isArray(A.data[0])||typeof A.data[0]=="object"||(A.data=[A.data])),ve(A.fields||[],A.data||[],B);throw new Error("Unable to serialize unrecognized input");function ve(K,F,Z){var oe="",ce=(typeof K=="string"&&(K=JSON.parse(K)),typeof F=="string"&&(F=JSON.parse(F)),Array.isArray(K)&&0<K.length),ae=!Array.isArray(F[0]);if(ce&&I){for(var ye=0;ye<K.length;ye++)0<ye&&(oe+=z),oe+=L(K[ye],ye);0<F.length&&(oe+=q)}for(var G=0;G<F.length;G++){var xe=(ce?K:F[G]).length,pe=!1,Y=ce?Object.keys(F[G]).length===0:F[G].length===0;if(Z&&!ce&&(pe=Z==="greedy"?F[G].join("").trim()==="":F[G].length===1&&F[G][0].length===0),Z==="greedy"&&ce){for(var be=[],ne=0;ne<xe;ne++){var ge=ae?K[ne]:ne;be.push(F[G][ge])}pe=be.join("").trim()===""}if(!pe){for(var fe=0;fe<xe;fe++){0<fe&&!Y&&(oe+=z);var we=ce&&ae?K[fe]:fe;oe+=L(F[G][we],fe)}G<F.length-1&&(!Z||0<xe&&!Y)&&(oe+=q)}}return oe}function L(K,F){var Z,oe;return K==null?"":K.constructor===Date?JSON.stringify(K).slice(1,25):(oe=!1,X&&typeof K=="string"&&X.test(K)&&(K="'"+K,oe=!0),Z=K.toString().replace(ee,ue),(oe=oe||M===!0||typeof M=="function"&&M(K,F)||Array.isArray(M)&&M[F]||((ce,ae)=>{for(var ye=0;ye<ae.length;ye++)if(-1<ce.indexOf(ae[ye]))return!0;return!1})(Z,f.BAD_DELIMITERS)||-1<Z.indexOf(z)||Z.charAt(0)===" "||Z.charAt(Z.length-1)===" ")?te+Z+te:Z)}},f.RECORD_SEP="",f.UNIT_SEP="",f.BYTE_ORDER_MARK="\uFEFF",f.BAD_DELIMITERS=["\r",`
`,'"',f.BYTE_ORDER_MARK],f.WORKERS_SUPPORTED=!s&&!!n.Worker,f.NODE_STREAM_INPUT=1,f.LocalChunkSize=10485760,f.RemoteChunkSize=5242880,f.DefaultDelimiter=",",f.Parser=j,f.ParserHandle=k,f.NetworkStreamer=g,f.FileStreamer=v,f.StringStreamer=y,f.ReadableStreamStreamer=S,n.jQuery&&((a=n.jQuery).fn.parse=function(A){var R=A.config||{},M=[];return this.each(function(q){if(!(a(this).prop("tagName").toUpperCase()==="INPUT"&&a(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var te=0;te<this.files.length;te++)M.push({file:this.files[te],inputElem:this,instanceConfig:a.extend({},R)})}),I(),this;function I(){if(M.length===0)C(A.complete)&&A.complete();else{var q,te,ue,B,H=M[0];if(C(A.before)){var X=A.before(H.file,H.inputElem);if(typeof X=="object"){if(X.action==="abort")return q="AbortError",te=H.file,ue=H.inputElem,B=X.reason,void(C(A.error)&&A.error({name:q},te,ue,B));if(X.action==="skip")return void z();typeof X.config=="object"&&(H.instanceConfig=a.extend(H.instanceConfig,X.config))}else if(X==="skip")return void z()}var ee=H.instanceConfig.complete;H.instanceConfig.complete=function(ve){C(ee)&&ee(ve,H.file,H.inputElem),z()},f.parse(H.file,H.instanceConfig)}}function z(){M.splice(0,1),I()}}),l&&(n.onmessage=function(A){A=A.data,f.WORKER_ID===void 0&&A&&(f.WORKER_ID=A.workerId),typeof A.input=="string"?n.postMessage({workerId:f.WORKER_ID,results:f.parse(A.input,A.config),finished:!0}):(n.File&&A.input instanceof File||A.input instanceof Object)&&(A=f.parse(A.input,A.config))&&n.postMessage({workerId:f.WORKER_ID,results:A,finished:!0})}),(g.prototype=Object.create(m.prototype)).constructor=g,(v.prototype=Object.create(m.prototype)).constructor=v,(y.prototype=Object.create(y.prototype)).constructor=y,(S.prototype=Object.create(m.prototype)).constructor=S,f})})(nh)),nh.exports}var _le=wle();const KM=xa(_le);function M5(e){const t=e.map(n=>n.trim().toLowerCase());return["due date","purch doc","material","scheduled qty"].every(n=>t.some(a=>a.includes(n.toLowerCase())))}function $5(e){const t={success:!0,data:[],errors:[],totalRows:0};try{console.log("[SAP Parser] Received text (first 500 chars):",e.substring(0,500));const r=e.includes("|")?"|":",",n=KM.parse(e,{header:!0,skipEmptyLines:!0,delimiter:r,transformHeader:a=>a.trim()});t.totalRows=n.data.length,n.data.forEach((a,s)=>{try{s===0&&(console.log("[SAP Parser DEBUG] First row keys:",Object.keys(a)),console.log("[SAP Parser DEBUG] First row data:",a),console.log("[SAP Parser DEBUG] Due Date value:",a["Due Date"]),console.log("[SAP Parser DEBUG] Stat. Delivery Date value:",a["Stat. Delivery Date"]));const l=g=>{if(!g||g.trim()==="")return"";const v=g.match(/(\d{1,2})\/(\d{1,2})\/(\d{4})/);if(v){const y=v[1].padStart(2,"0"),S=v[2].padStart(2,"0");return`${v[3]}-${y}-${S}`}return t.errors.push(`Row ${s+1}: Invalid date format: ${g}`),""},u=g=>{if(!g||g.trim()==="")return 0;const v=g.replace(/,/g,""),y=parseFloat(v);return isNaN(y)?0:y},d=l(a["Due Date"]),f=l(a["Stat. Delivery Date"]),m=u(a["Scheduled Qty"]);if(!d&&!f){t.errors.push(`Row ${s+1}: Missing delivery date`);return}if(!a["Purch Doc."]||a["Purch Doc."].trim()===""){t.errors.push(`Row ${s+1}: Missing PO number`);return}if(m===0){t.errors.push(`Row ${s+1}: Zero scheduled quantity`);return}t.data.push({dueDate:d||f,deliveryDate:f||d,plant:(a.Plnt||"").trim(),vendorName:(a["Vendor Name"]||"").trim(),poNumber:(a["Purch Doc."]||"").trim(),material:(a.Material||"").trim(),materialDescription:(a["Material Description"]||"").trim(),openQty:u(a["Open Qty"]),scheduledQty:m,receivedQty:u(a["Qty Received(GR Qty)"]),materialDoc:(a["Mat. Doc."]||"").trim(),grBatch:(a["GR Batch"]||"").trim()})}catch(l){t.errors.push(`Row ${s+1}: ${l instanceof Error?l.message:"Parse error"}`)}}),t.data.length===0&&(t.success=!1,t.errors.push("No valid rows found in SAP export"))}catch(r){t.success=!1,t.errors.push(`Parse error: ${r instanceof Error?r.message:"Unknown error"}`)}return t}function Sle(e,t){const r=e.trim(),n=t.toUpperCase(),a={1855526:"20oz"};return a[r]?a[r]:n.includes("20OZ")?"20oz":n.includes("16.9OZ")?"16.9oz":n.includes("12OZ")?"12oz":r}async function kle(e){const t=[];let r=0,n=0,a=0;try{const{data:s}=await De.from("products").select("id, sku, name"),l=new Map(s?.map(m=>[m.sku?.toLowerCase(),m.id])||[]),u=e.map(m=>{let g=l.get(m.product_sku.toLowerCase());return g||(g=Array.from(l.entries()).find(([y])=>m.product_sku.toLowerCase().includes(y)||y.includes(m.product_sku.toLowerCase()))?.[1]),{date:m.date,po_number:m.po_number,product_id:g,loads:m.loads,location:m.location,yms_reference:m.yms_reference,checked_in_at:m.checked_in_at,status:m.status,import_source:"yms"}}),{data:d,error:f}=await De.from("inbound_receipts").upsert(u,{onConflict:"date,po_number",ignoreDuplicates:!0}).select();return f?(t.push(`Database error: ${f.message}`),a=e.length):(r=d?.length||0,n=e.length-r),await c1("yms",{rows_total:e.length,rows_imported:r,rows_skipped:n,rows_failed:a,error_details:t.length>0?{errors:t}:null}),{success:t.length===0,imported:r,skipped:n,failed:a,errors:t}}catch(s){const l=s instanceof Error?s.message:"Unknown error";return{success:!1,imported:0,skipped:0,failed:e.length,errors:[l]}}}async function jle(e){const t=[];let r=0,n=0,a=0;try{const{data:s}=await De.from("products").select("id, sku, name"),l=new Map(s?.map(m=>[m.sku?.toLowerCase(),m.id])||[]),u=e.map(m=>{let g=l.get(m.product_sku.toLowerCase());return g||(g=Array.from(l.entries()).find(([y])=>m.product_sku.toLowerCase().includes(y)||y.includes(m.product_sku.toLowerCase()))?.[1]),{date:m.date,product_id:g,cases:m.cases,bottles:m.bottles,shift:m.shift||"day",import_source:"mes"}}),{data:d,error:f}=await De.from("production_actuals").upsert(u,{onConflict:"date,product_id,shift",ignoreDuplicates:!1}).select();return f?(t.push(`Database error: ${f.message}`),a=e.length):(r=d?.length||0,n=e.length-r),await c1("mes",{rows_total:e.length,rows_imported:r,rows_skipped:n,rows_failed:a,error_details:t.length>0?{errors:t}:null}),{success:t.length===0,imported:r,skipped:n,failed:a,errors:t}}catch(s){const l=s instanceof Error?s.message:"Unknown error";return{success:!1,imported:0,skipped:0,failed:e.length,errors:[l]}}}async function Ele(e){const t=[];let r=0,n=0,a=0;try{const{data:s}=await De.from("products").select("id, sku, name, material_code"),l=new Map(s?.map(v=>[v.sku?.toLowerCase(),v.id])||[]),u=new Map(s?.filter(v=>v.material_code).map(v=>[v.material_code,v.id])||[]),d=e.map(v=>{let y=u.get(v.material);if(!y){const S=Sle(v.material,v.materialDescription);y=l.get(S.toLowerCase())}if(!y){const S=v.materialDescription.toUpperCase();y=Array.from(l.entries()).find(([_])=>S.includes(_.toUpperCase())||_.toUpperCase().includes(S))?.[1]}return y||t.push(`Unmapped material: ${v.material} (${v.materialDescription})`),{date:v.deliveryDate||v.dueDate,po_number:v.poNumber,product_id:y,scheduled_qty:v.scheduledQty,open_qty:v.openQty,received_qty:v.receivedQty,vendor_name:v.vendorName,plant:v.plant,import_source:"sap"}}),f=d.filter(v=>v.product_id);if(a=d.length-f.length,f.length===0)return{success:!1,imported:0,skipped:0,failed:d.length,errors:["No valid product mappings found. Check material codes.",...t]};const{data:m,error:g}=await De.from("planned_inbound").upsert(f,{onConflict:"date,po_number,product_id",ignoreDuplicates:!0}).select();return g?(t.push(`Database error: ${g.message}`),a+=f.length):(r=m?.length||0,n=f.length-r),await c1("sap",{rows_total:e.length,rows_imported:r,rows_skipped:n,rows_failed:a,error_details:t.length>0?{errors:t}:null}),{success:t.length===0||r>0,imported:r,skipped:n,failed:a,errors:t}}catch(s){const l=s instanceof Error?s.message:"Unknown error";return{success:!1,imported:0,skipped:0,failed:e.length,errors:[l]}}}async function c1(e,t){try{const{data:{user:r}}=await De.auth.getUser();await De.from("import_log").insert({import_type:e,...t,imported_by:r?.id})}catch(r){console.error("Failed to log import:",r)}}function Nle(){const[e,t]=x.useState(null),[r,n]=x.useState(null),[a,s]=x.useState(""),[l,u]=x.useState(!1),[d,f]=x.useState(!1),[m,g]=x.useState(!1),v=x.useCallback(N=>{N.preventDefault(),N.stopPropagation(),N.type==="dragenter"||N.type==="dragover"?g(!0):N.type==="dragleave"&&g(!1)},[]),y=x.useCallback(N=>{N.preventDefault(),N.stopPropagation(),g(!1),N.dataTransfer.files&&N.dataTransfer.files[0]&&k(N.dataTransfer.files[0])},[]),S=N=>{N.target.files&&N.target.files[0]&&k(N.target.files[0])},k=async N=>{if(!N.name.endsWith(".csv")){alert("Please upload a CSV file");return}t(N),f(!1);const E=await N.text(),D=E.split(`
`).filter(P=>{const C=P.trim();return!(/^[\-\|\s]+$/.test(C)||C.startsWith("*")||/^\|\s*\*/.test(C))}).map(P=>{let C=P.trim();return C.startsWith('"')&&C.endsWith('"')&&(C=C.slice(1,-1)),C.startsWith("|")&&(C=C.slice(1)),C.endsWith("|")&&(C=C.slice(0,-1)),C.trim()}).join(`
`);s(D);const O=D.includes("|")?"|":",";KM.parse(D,{header:!0,preview:1,delimiter:O,complete:P=>{const C=P.meta.fields||[];if(console.log("[CSV Import DEBUG] Delimiter:",O),console.log("[CSV Import DEBUG] Headers detected:",C),console.log("[CSV Import DEBUG] isSAPFormat result:",M5(C)),console.log("[CSV Import DEBUG] isYMSFormat result:",tx(C)),console.log("[CSV Import DEBUG] isMESFormat result:",rx(C)),tx(C)){const A=P5(E);n({type:"yms",rows:A.data.slice(0,5),errors:A.errors,totalRows:A.totalRows,skippedCount:A.skipped})}else if(rx(C)){const A=D5(E);n({type:"mes",rows:A.data.slice(0,5),errors:A.errors,totalRows:A.totalRows})}else if(M5(C)){const A=$5(D);n({type:"sap",rows:A.data.slice(0,5),errors:A.errors,totalRows:A.totalRows})}else n({type:"unknown",rows:[],errors:["File format not recognized. Expected YMS, MES, or SAP export."],totalRows:0})}})},_=async()=>{if(!(!e||!r)){u(!0);try{const N=await e.text();if(r.type==="yms"){const E=P5(N);if(!E.success){alert("Failed to parse YMS file: "+E.errors.join(", "));return}const D=await kle(E.data);n(O=>O?{...O,importedCount:D.imported,skippedCount:D.skipped}:null),f(!0),D.errors.length>0&&alert(`Import completed with errors:
${D.errors.join(`
`)}`)}else if(r.type==="mes"){const E=D5(N);if(!E.success){alert("Failed to parse MES file: "+E.errors.join(", "));return}const D=await jle(E.data);n(O=>O?{...O,importedCount:D.imported,skippedCount:D.skipped}:null),f(!0),D.errors.length>0&&alert(`Import completed with errors:
${D.errors.join(`
`)}`)}else if(r.type==="sap"){const E=$5(a);if(!E.success){alert("Failed to parse SAP file: "+E.errors.join(", "));return}const D=await Ele(E.data);n(O=>O?{...O,importedCount:D.imported,skippedCount:D.skipped}:null),f(!0),D.errors.length>0&&alert(`Import completed with errors:
${D.errors.join(`
`)}`)}}catch(N){alert(`Import failed: ${N instanceof Error?N.message:"Unknown error"}`)}finally{u(!1)}}},j=()=>{t(null),n(null),f(!1)};return h.jsx("div",{className:"p-6 max-w-4xl mx-auto",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[h.jsx("h2",{className:"text-2xl font-bold mb-4",children:" Import YMS / MES Data"}),!e&&h.jsxs("div",{className:`border-2 border-dashed rounded-lg p-12 text-center transition-colors ${m?"border-blue-500 bg-blue-50":"border-gray-300"}`,onDragEnter:v,onDragLeave:v,onDragOver:v,onDrop:y,children:[h.jsx("div",{className:"text-6xl mb-4",children:""}),h.jsx("p",{className:"text-lg mb-4",children:"Drag & drop CSV file here or click to browse"}),h.jsx("input",{type:"file",accept:".csv",onChange:S,className:"hidden",id:"file-upload"}),h.jsx("label",{htmlFor:"file-upload",className:"bg-blue-600 text-white px-6 py-2 rounded cursor-pointer hover:bg-blue-700",children:"Browse Files"}),h.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Supported: YMS Hub exports, MES production exports, SAP planned inbound shipments"})]}),r&&h.jsxs("div",{className:"mt-6",children:[h.jsxs("div",{className:`p-4 rounded mb-4 ${r.type==="unknown"?"bg-red-100":"bg-green-100"}`,children:[r.type==="yms"&&` Detected: YMS Export (${r.totalRows} rows)`,r.type==="mes"&&` Detected: MES Export (${r.totalRows} rows)`,r.type==="sap"&&` Detected: SAP Export (${r.totalRows} rows)`,r.type==="unknown"&&" Format not recognized"]}),r.errors.length>0&&h.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-4 mb-4",children:[h.jsx("h3",{className:"font-bold text-yellow-900 mb-2",children:" Warnings:"}),h.jsxs("ul",{className:"list-disc list-inside text-sm text-yellow-800",children:[r.errors.slice(0,10).map((N,E)=>h.jsx("li",{children:N},E)),r.errors.length>10&&h.jsxs("li",{children:["... and ",r.errors.length-10," more"]})]})]}),r.rows.length>0&&h.jsxs("div",{className:"mb-4",children:[h.jsx("h3",{className:"font-bold mb-2",children:"Preview (first 5 rows):"}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[h.jsx("thead",{className:"bg-gray-50",children:h.jsx("tr",{children:Object.keys(r.rows[0]).map(N=>h.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:N},N))})}),h.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.rows.map((N,E)=>h.jsx("tr",{children:Object.values(N).map((D,O)=>h.jsx("td",{className:"px-3 py-2 text-sm text-gray-900 whitespace-nowrap",children:String(D)},O))},E))})]})})]}),!d&&r.type!=="unknown"&&h.jsxs("div",{className:"bg-blue-50 rounded p-4 mb-4",children:[h.jsx("h3",{className:"font-bold mb-2",children:"Summary:"}),h.jsxs("ul",{className:"text-sm",children:[h.jsxs("li",{children:[" Total rows: ",r.totalRows]}),r.skippedCount!==void 0&&h.jsxs("li",{children:[" Rows to skip: ",r.skippedCount," (not checked in)"]}),h.jsxs("li",{children:[" Rows to import: ",r.totalRows-(r.skippedCount||0)]})]})]}),d&&h.jsxs("div",{className:"bg-green-50 rounded p-4 mb-4",children:[h.jsx("h3",{className:"font-bold text-green-900 mb-2",children:" Import Complete!"}),h.jsxs("ul",{className:"text-sm text-green-800",children:[h.jsxs("li",{children:[" Imported: ",r.importedCount]}),h.jsxs("li",{children:[" Skipped (duplicates): ",r.skippedCount]})]})]}),h.jsxs("div",{className:"flex gap-4",children:[h.jsx("button",{onClick:j,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-50",children:d?"Import Another File":"Cancel"}),!d&&r.type!=="unknown"&&h.jsx("button",{onClick:_,disabled:l,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:bg-gray-400",children:l?"Importing...":`Import ${r.totalRows-(r.skippedCount||0)} Rows`})]})]})]})})}function Ole({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{fillRule:"evenodd",d:"M12.53 16.28a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 0 1 1.06-1.06L12 14.69l6.97-6.97a.75.75 0 1 1 1.06 1.06l-7.5 7.5Z",clipRule:"evenodd"}))}const Sy=x.forwardRef(Ole);function Ale({mrp:e,scheduler:t,activeSku:r}){const{formState:n,setters:a,results:s}=e,[l,u]=x.useState(!1),{productMap:d}=yr(),f=Object.keys(d);if(!s)return null;const m=jt(new Date),g=s?.dailyLedger||[];g.find(M=>M.date===m);const v=s.calculatedPallets||0,y=n.yardInventory?.count||0,S=s.specs||{},k=S.bottlesPerCase||1,_=S.casesPerPallet||1,N=(s.safetyTarget||0)/(k*_),E=(S.bottlesPerTruck||2e4)/(k*_),D=v+y*E;let O=0,P=!1;for(const M of g){if(M.balance<0){P=!0;break}M.date>=m&&O++}const C=P?O:"14+",A=P?O<=2?"text-rose-600 dark:text-rose-400":"text-amber-600 dark:text-amber-400":"text-emerald-600 dark:text-emerald-400",R=P?O<=2?"border-rose-200 dark:border-rose-900 bg-rose-50 dark:bg-rose-900/10":"border-amber-200 dark:border-amber-900 bg-amber-50 dark:bg-amber-900/10":"border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900";return h.jsxs("div",{className:`w-full mb-6 rounded-xl border shadow-lg bg-slate-200 dark:bg-slate-800/50 transition-all duration-300 relative ${R} ${l?"p-2":"p-4"}`,children:[h.jsx("button",{onClick:()=>u(!l),className:"absolute top-0 right-0 p-1.5 m-1 text-slate-400 hover:text-blue-500 transition-colors z-10",title:l?"Expand Dashboard":"Collapse Dashboard",children:l?h.jsx(Sy,{className:"w-4 h-4"}):h.jsx(Sy,{className:"w-4 h-4 rotate-180"})}),l?h.jsxs("div",{className:"flex items-center justify-between px-2 pr-8",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"h-6 w-6 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center shadow-inner",children:h.jsx(ah,{className:"w-3.5 h-3.5 text-slate-500"})}),h.jsx("span",{className:"text-sm font-black text-slate-700 dark:text-slate-200",children:n.selectedSize})]}),h.jsx("div",{className:"h-4 w-px bg-slate-300 dark:bg-slate-700"}),h.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[h.jsx("span",{className:"font-bold text-slate-500 uppercase tracking-wider",children:"Floor:"}),h.jsx("span",{className:"font-mono font-bold text-slate-800 dark:text-slate-200",children:Math.round(v)})]}),h.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[h.jsx("span",{className:"font-bold text-slate-500 uppercase tracking-wider",children:"Runway:"}),h.jsxs("span",{className:`font-mono font-black ${A}`,children:[C," Days"]})]})]}),h.jsx("div",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-wide border ${D>=N?"bg-emerald-50 text-emerald-700 border-emerald-200 dark:bg-emerald-900/20 dark:text-emerald-400":"bg-amber-50 text-amber-700 border-amber-200 dark:bg-amber-900/20 dark:text-amber-400"}`,children:D>=N?"Secure":"Below Safety"})]}):h.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between gap-6",children:[h.jsxs("div",{className:"flex items-center gap-6 w-full lg:w-auto",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"h-12 w-12 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center flex-shrink-0 shadow-inner",children:h.jsx(ah,{className:"w-6 h-6 text-slate-500"})}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-xs font-bold uppercase tracking-wider text-slate-500 dark:text-slate-400",children:"Production Plan"}),h.jsxs("div",{className:"relative group flex items-center",children:[h.jsx("select",{className:"appearance-none bg-transparent hover:bg-slate-50 dark:hover:bg-slate-800 text-xl font-extrabold text-slate-800 dark:text-white pr-6 py-0.5 rounded cursor-pointer outline-none focus:ring-2 focus:ring-blue-500 transition-colors",value:n.selectedSize,onChange:M=>a.setSelectedSize(M.target.value),children:f.map(M=>h.jsx("option",{value:M,children:M},M))}),h.jsx(Sy,{className:"w-4 h-4 text-slate-400 -ml-4 pointer-events-none group-hover:text-blue-500"})]})]})]}),h.jsxs("div",{className:"hidden md:flex items-center gap-4 border-l border-slate-200 dark:border-slate-700 pl-6",children:[h.jsx(L5,{label:"Rate (cph)",value:n.productionRate,onChange:M=>a.setProductionRate(M),width:"w-20"}),h.jsx(L5,{label:"Downtime (hr)",value:n.downtimeHours,onChange:M=>a.setDowntimeHours(M),width:"w-16"})]})]}),h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 w-full lg:w-auto flex-grow justify-end",children:[h.jsx("div",{className:"text-center md:text-right",children:h.jsx(I5,{label:"Floor Stock",value:Math.round(v),unit:"plts",onSave:M=>a.setInventoryAnchor({date:Wr(),count:Number(M)})})}),h.jsx("div",{className:"text-center md:text-right border-l dark:border-slate-700 pl-6",children:h.jsx(I5,{label:"Yard Stock",value:Number(y),unit:"loads",onSave:M=>a.updateYardInventory(M),colorClass:"text-blue-600 dark:text-blue-400"})}),h.jsxs("div",{className:"text-center md:text-right border-l dark:border-slate-700 pl-6",children:[h.jsx("div",{className:"text-xs font-bold uppercase tracking-wider text-slate-400",children:"Runway"}),h.jsxs("div",{className:`text-2xl font-black flex items-center justify-center md:justify-end gap-2 ${A}`,children:[P?h.jsx(V5,{className:"w-5 h-5"}):h.jsx(u0,{className:"w-5 h-5"}),C," ",h.jsx("span",{className:"text-sm text-slate-400 font-medium",children:"Days"})]})]}),h.jsx("div",{className:"hidden md:flex flex-col items-end justify-center border-l dark:border-slate-700 pl-6",children:h.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide border ${D>=N?"bg-emerald-50 text-emerald-700 border-emerald-200 dark:bg-emerald-900/20 dark:text-emerald-400":"bg-amber-50 text-amber-700 border-amber-200 dark:bg-amber-900/20 dark:text-amber-400"}`,children:D>=N?"Secure":"Below Safety"})})]})]})]})}function I5({label:e,value:t,unit:r,onSave:n,colorClass:a="text-slate-700 dark:text-slate-200"}){const[s,l]=x.useState(!1),[u,d]=x.useState(t===0?"":t);x.useEffect(()=>d(t===0?"":t),[t]);const f=m=>{m.key==="Enter"&&(n(u),l(!1))};return s?h.jsxs("div",{className:"flex flex-col items-end",children:[h.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-slate-400 mb-1",children:e}),h.jsx("input",{autoFocus:!0,type:"number",className:"w-24 text-right text-xl font-bold p-1 bg-white dark:bg-slate-800 border-2 border-blue-400 rounded shadow-md outline-none",value:u,onChange:m=>d(m.target.value),onBlur:()=>{n(u),l(!1)},onKeyDown:f})]}):h.jsxs("div",{className:"group cursor-pointer relative",onClick:()=>l(!0),children:[h.jsxs("div",{className:"flex items-center justify-end gap-1 mb-0.5",children:[h.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-slate-400 group-hover:text-blue-500 transition-colors",children:e}),h.jsx(Qc,{className:"w-3 h-3 text-slate-300 opacity-0 group-hover:opacity-100 transition-opacity"})]}),h.jsxs("div",{className:`text-2xl font-black ${a} group-hover:bg-slate-50 dark:group-hover:bg-slate-800 rounded px-1 -mr-1 transition-colors`,children:[Number(t).toLocaleString()," ",h.jsx("span",{className:"text-xs font-medium text-slate-400",children:r})]})]})}function L5({label:e,value:t,onChange:r,width:n}){return h.jsxs("div",{className:"flex flex-col",children:[h.jsx("label",{className:"text-[10px] uppercase font-bold text-slate-400 mb-0.5 ml-1",children:e}),h.jsx("input",{type:"number",className:`${n} bg-transparent hover:bg-slate-50 dark:hover:bg-slate-800 border-b-2 border-transparent hover:border-slate-300 dark:hover:border-slate-600 rounded-t p-1 text-lg font-extrabold text-slate-800 dark:text-white focus:bg-white dark:focus:bg-slate-800 focus:border-blue-500 focus:ring-0 outline-none transition-all`,value:t===0?"":t,onChange:a=>r(a.target.value),onFocus:a=>a.target.select()})]})}function Tle({activeTab:e,setActiveTab:t,userRole:r}){const[n,a]=x.useState(!1),s=["admin","planner"].includes(r||"admin"),l=({id:u,label:d,icon:f,activeColor:m})=>{const g=e===u;return h.jsxs("button",{onClick:()=>{t(u),a(!1)},className:`flex flex-col items-center justify-center w-full h-full space-y-1 ${g?m:"text-slate-400 dark:text-slate-500"}`,children:[h.jsx(f,{className:`w-6 h-6 ${g?"fill-current opacity-20":""} absolute transform scale-150 transition-opacity`}),h.jsx(f,{className:`w-6 h-6 z-10 ${g?"scale-110":""}`}),h.jsx("span",{className:"text-[10px] font-bold",children:d})]})};return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"h-20 lg:hidden block"}),n&&h.jsx("div",{className:"fixed inset-0 z-40 bg-black/60 backdrop-blur-sm lg:hidden flex flex-col justify-end pb-24 px-4 animation-delay-100",onClick:()=>a(!1),children:h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-4 shadow-2xl border border-slate-200 dark:border-slate-700 animate-slide-up space-y-2",children:[h.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-slate-400 mb-2 px-2",children:"More Options"}),h.jsxs("button",{onClick:()=>{t("master"),a(!1)},className:"flex items-center gap-4 w-full p-3 rounded-xl hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors text-slate-700 dark:text-slate-200",children:[h.jsx("div",{className:"p-2 bg-amber-100 text-amber-600 rounded-lg",children:h.jsx(X5,{className:"w-5 h-5"})}),h.jsx("span",{className:"font-bold",children:"Master Plan"})]}),h.jsxs("button",{onClick:()=>{t("products"),a(!1)},className:"flex items-center gap-4 w-full p-3 rounded-xl hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors text-slate-700 dark:text-slate-200",children:[h.jsx("div",{className:"p-2 bg-pink-100 text-pink-600 rounded-lg",children:h.jsx(Zc,{className:"w-5 h-5"})}),h.jsx("span",{className:"font-bold",children:"Product Catalog"})]}),s&&h.jsxs("button",{onClick:()=>{t("import"),a(!1)},className:"flex items-center gap-4 w-full p-3 rounded-xl hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors text-slate-700 dark:text-slate-200",children:[h.jsx("div",{className:"p-2 bg-cyan-100 text-cyan-600 rounded-lg",children:h.jsx(Q5,{className:"w-5 h-5"})}),h.jsx("span",{className:"font-bold",children:"Import Data"})]})]})}),h.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 bg-white dark:bg-slate-900 border-t border-slate-200 dark:border-slate-800 h-20 shadow-2xl lg:hidden pb-safe",children:h.jsxs("div",{className:"grid grid-cols-4 h-full items-center",children:[h.jsx(l,{id:"logistics",label:"Floor",icon:J5,activeColor:"text-emerald-600 dark:text-emerald-400"}),s?h.jsx(l,{id:"mrp",label:"Materials",icon:Ey,activeColor:"text-blue-600 dark:text-blue-400"}):h.jsx("div",{className:"text-center opacity-20",children:h.jsx(Ey,{className:"w-6 h-6 mx-auto"})}),h.jsx(l,{id:"scheduler",label:"Schedule",icon:W5,activeColor:"text-purple-600 dark:text-purple-400"}),h.jsxs("button",{onClick:()=>a(!n),className:`flex flex-col items-center justify-center w-full h-full space-y-1 ${n?"text-slate-900 dark:text-white":"text-slate-400 dark:text-slate-500"}`,children:[n?h.jsx(CI,{className:"w-6 h-6"}):h.jsx(EI,{className:"w-6 h-6"}),h.jsx("span",{className:"text-[10px] font-bold",children:"Menu"})]})]})})]})}function Cle(){const{user:e,loading:t,userRole:r}=Nr(),{uploadLocalData:n}=jl(),{productMap:a}=yr(),s=Object.keys(a);return x.useEffect(()=>{e&&n(e,s,r)},[e,s,n,r]),x.useEffect(()=>{document.title="UBP Planner v2.25.42"},[]),t?h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-slate-900 transition-colors",children:h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("div",{className:"h-24 w-24 bg-white rounded-full shadow-2xl shadow-blue-500/20 flex items-center justify-center overflow-hidden animate-pulse",children:h.jsx("img",{src:gx,className:"h-[95%] w-[95%] object-contain",alt:"Loading..."})}),h.jsx("div",{className:"mt-6 text-slate-400 font-extrabold tracking-[0.2em] uppercase text-xs animate-pulse",children:"Loading Planner..."})]})}):e?h.jsx(VB,{children:h.jsx(Ple,{user:e})}):h.jsx(ule,{})}function Ple({user:e}){const{userRole:t}=Nr(),r=t||"admin",n=["admin","planner"].includes(r),a=["admin","planner","logistics"].includes(r),[s,l]=x.useState(()=>localStorage.getItem("activeTab")||"logistics"),[u,d]=x.useState(!1);x.useEffect(()=>{(s==="mrp"||s==="master")&&!n&&l("logistics"),localStorage.setItem("activeTab",s)},[s,n]);const{poManifest:f}=na(),m=sle(f),g=ole(),{activeSku:v}=ra(),{productMap:y}=yr(),S=Object.keys(y),k=lle(S,s==="master");return h.jsxs("div",{id:"main-app-wrapper",className:"min-h-screen flex flex-col transition-colors duration-200 bg-slate-300 dark:bg-slate-900",children:[h.jsx(K8,{onOpenSettings:()=>d(!0),isSaving:m.formState.isSaving,saveError:m.formState.saveError,activeTab:s,setActiveTab:l}),h.jsxs("main",{className:"flex-grow p-2 md:p-6 w-full pt-4",children:[["logistics","mrp","scheduler"].includes(s)&&h.jsx(Ale,{mrp:m,scheduler:g,activeSku:v}),h.jsx("div",{className:s==="logistics"?"block":"hidden",children:h.jsx(dle,{state:m.formState,setters:m.setters,results:m.results,readOnly:!a})}),h.jsx("div",{className:s==="mrp"?"block":"hidden",children:h.jsx(Woe,{state:m.formState,setters:m.setters,results:m.results,readOnly:!n})}),h.jsx("div",{className:s==="scheduler"?"block":"hidden",children:h.jsx(tle,{state:g.formState,setters:g.setters,results:g.results,readOnly:!a})}),h.jsx("div",{className:s==="master"?"block":"hidden",children:h.jsx(cle,{masterLedger:k.masterLedger,loading:k.loading})}),h.jsx("div",{className:s==="products"?"block":"hidden",children:h.jsx(hle,{readOnly:!a})}),h.jsx("div",{className:s==="import"?"block":"hidden",children:h.jsx(Nle,{})})]}),u&&h.jsx(QB,{onClose:()=>d(!1)}),h.jsx(Tle,{activeTab:s,setActiveTab:l,userRole:t})]})}class Dle extends _e.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,r){this.setState({error:t,errorInfo:r}),console.error("Uncaught error:",t,r)}render(){return this.state.hasError?h.jsxs("div",{style:{padding:"20px",backgroundColor:"#fee2e2",border:"1px solid #ef4444",margin:"20px",borderRadius:"8px",color:"#7f1d1d"},children:[h.jsx("h1",{style:{fontSize:"1.5rem",fontWeight:"bold",marginBottom:"10px"},children:"Something went wrong."}),h.jsx("p",{style:{fontWeight:"bold"},children:this.state.error&&this.state.error.toString()}),h.jsx("details",{style:{marginTop:"10px",whiteSpace:"pre-wrap"},children:this.state.errorInfo&&this.state.errorInfo.componentStack})]}):this.props.children}}v6.createRoot(document.getElementById("root")).render(h.jsx(Dle,{children:h.jsx(H8,{children:h.jsx(HB,{children:h.jsx(FB,{children:h.jsx(Cle,{})})})})}));
