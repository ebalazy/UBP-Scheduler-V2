function LN(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const l=Object.getOwnPropertyDescriptor(n,i);l&&Object.defineProperty(e,i,l.get?l:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(i){if(i.ep)return;i.ep=!0;const l=r(i);fetch(i.href,l)}})();var Gd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function aa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function rc(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){var i=!1;try{i=this instanceof n}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var Zg={exports:{}},uu={};var __;function OR(){if(__)return uu;__=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,i,l){var o=null;if(l!==void 0&&(o=""+l),i.key!==void 0&&(o=""+i.key),"key"in i){l={};for(var c in i)c!=="key"&&(l[c]=i[c])}else l=i;return i=l.ref,{$$typeof:e,type:n,key:o,ref:i!==void 0?i:null,props:l}}return uu.Fragment=t,uu.jsx=r,uu.jsxs=r,uu}var k_;function NR(){return k_||(k_=1,Zg.exports=OR()),Zg.exports}var g=NR(),Jg={exports:{}},Pe={};var j_;function AR(){if(j_)return Pe;j_=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),v=Symbol.iterator;function x(L){return L===null||typeof L!="object"?null:(L=v&&L[v]||L["@@iterator"],typeof L=="function"?L:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,_={};function j(L,H,X){this.props=L,this.context=H,this.refs=_,this.updater=X||S}j.prototype.isReactComponent={},j.prototype.setState=function(L,H){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,H,"setState")},j.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function N(){}N.prototype=j.prototype;function E(L,H,X){this.props=L,this.context=H,this.refs=_,this.updater=X||S}var P=E.prototype=new N;P.constructor=E,k(P,j.prototype),P.isPureReactComponent=!0;var A=Array.isArray;function T(){}var C={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function $(L,H,X){var oe=X.ref;return{$$typeof:e,type:L,key:H,ref:oe!==void 0?oe:null,props:X}}function R(L,H){return $(L.type,H,L.props)}function I(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function q(L){var H={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(X){return H[X]})}var ae=/\/+/g;function te(L,H){return typeof L=="object"&&L!==null&&L.key!=null?q(""+L.key):H.toString(36)}function ie(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(T,T):(L.status="pending",L.then(function(H){L.status==="pending"&&(L.status="fulfilled",L.value=H)},function(H){L.status==="pending"&&(L.status="rejected",L.reason=H)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function B(L,H,X,oe,fe){var ce=typeof L;(ce==="undefined"||ce==="boolean")&&(L=null);var me=!1;if(L===null)me=!0;else switch(ce){case"bigint":case"string":case"number":me=!0;break;case"object":switch(L.$$typeof){case e:case t:me=!0;break;case m:return me=L._init,B(me(L._payload),H,X,oe,fe)}}if(me)return fe=fe(L),me=oe===""?"."+te(L,0):oe,A(fe)?(X="",me!=null&&(X=me.replace(ae,"$&/")+"/"),B(fe,H,X,"",function(we){return we})):fe!=null&&(I(fe)&&(fe=R(fe,X+(fe.key==null||L&&L.key===fe.key?"":(""+fe.key).replace(ae,"$&/")+"/")+me)),H.push(fe)),1;me=0;var Ee=oe===""?".":oe+":";if(A(L))for(var Z=0;Z<L.length;Z++)oe=L[Z],ce=Ee+te(oe,Z),me+=B(oe,H,X,ce,fe);else if(Z=x(L),typeof Z=="function")for(L=Z.call(L),Z=0;!(oe=L.next()).done;)oe=oe.value,ce=Ee+te(oe,Z++),me+=B(oe,H,X,ce,fe);else if(ce==="object"){if(typeof L.then=="function")return B(ie(L),H,X,oe,fe);throw H=String(L),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return me}function K(L,H,X){if(L==null)return L;var oe=[],fe=0;return B(L,oe,"","",function(ce){return H.call(X,ce,fe++)}),oe}function le(L){if(L._status===-1){var H=L._result;H=H(),H.then(function(X){(L._status===0||L._status===-1)&&(L._status=1,L._result=X)},function(X){(L._status===0||L._status===-1)&&(L._status=2,L._result=X)}),L._status===-1&&(L._status=0,L._result=H)}if(L._status===1)return L._result.default;throw L._result}var W=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},de={map:K,forEach:function(L,H,X){K(L,function(){H.apply(this,arguments)},X)},count:function(L){var H=0;return K(L,function(){H++}),H},toArray:function(L){return K(L,function(H){return H})||[]},only:function(L){if(!I(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Pe.Activity=p,Pe.Children=de,Pe.Component=j,Pe.Fragment=r,Pe.Profiler=i,Pe.PureComponent=E,Pe.StrictMode=n,Pe.Suspense=d,Pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Pe.__COMPILER_RUNTIME={__proto__:null,c:function(L){return C.H.useMemoCache(L)}},Pe.cache=function(L){return function(){return L.apply(null,arguments)}},Pe.cacheSignal=function(){return null},Pe.cloneElement=function(L,H,X){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var oe=k({},L.props),fe=L.key;if(H!=null)for(ce in H.key!==void 0&&(fe=""+H.key),H)!M.call(H,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&H.ref===void 0||(oe[ce]=H[ce]);var ce=arguments.length-2;if(ce===1)oe.children=X;else if(1<ce){for(var me=Array(ce),Ee=0;Ee<ce;Ee++)me[Ee]=arguments[Ee+2];oe.children=me}return $(L.type,fe,oe)},Pe.createContext=function(L){return L={$$typeof:o,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},Pe.createElement=function(L,H,X){var oe,fe={},ce=null;if(H!=null)for(oe in H.key!==void 0&&(ce=""+H.key),H)M.call(H,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(fe[oe]=H[oe]);var me=arguments.length-2;if(me===1)fe.children=X;else if(1<me){for(var Ee=Array(me),Z=0;Z<me;Z++)Ee[Z]=arguments[Z+2];fe.children=Ee}if(L&&L.defaultProps)for(oe in me=L.defaultProps,me)fe[oe]===void 0&&(fe[oe]=me[oe]);return $(L,ce,fe)},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(L){return{$$typeof:c,render:L}},Pe.isValidElement=I,Pe.lazy=function(L){return{$$typeof:m,_payload:{_status:-1,_result:L},_init:le}},Pe.memo=function(L,H){return{$$typeof:h,type:L,compare:H===void 0?null:H}},Pe.startTransition=function(L){var H=C.T,X={};C.T=X;try{var oe=L(),fe=C.S;fe!==null&&fe(X,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(T,W)}catch(ce){W(ce)}finally{H!==null&&X.types!==null&&(H.types=X.types),C.T=H}},Pe.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Pe.use=function(L){return C.H.use(L)},Pe.useActionState=function(L,H,X){return C.H.useActionState(L,H,X)},Pe.useCallback=function(L,H){return C.H.useCallback(L,H)},Pe.useContext=function(L){return C.H.useContext(L)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(L,H){return C.H.useDeferredValue(L,H)},Pe.useEffect=function(L,H){return C.H.useEffect(L,H)},Pe.useEffectEvent=function(L){return C.H.useEffectEvent(L)},Pe.useId=function(){return C.H.useId()},Pe.useImperativeHandle=function(L,H,X){return C.H.useImperativeHandle(L,H,X)},Pe.useInsertionEffect=function(L,H){return C.H.useInsertionEffect(L,H)},Pe.useLayoutEffect=function(L,H){return C.H.useLayoutEffect(L,H)},Pe.useMemo=function(L,H){return C.H.useMemo(L,H)},Pe.useOptimistic=function(L,H){return C.H.useOptimistic(L,H)},Pe.useReducer=function(L,H,X){return C.H.useReducer(L,H,X)},Pe.useRef=function(L){return C.H.useRef(L)},Pe.useState=function(L){return C.H.useState(L)},Pe.useSyncExternalStore=function(L,H,X){return C.H.useSyncExternalStore(L,H,X)},Pe.useTransition=function(){return C.H.useTransition()},Pe.version="19.2.1",Pe}var E_;function eo(){return E_||(E_=1,Jg.exports=AR()),Jg.exports}var b=eo();const ge=aa(b),Wv=LN({__proto__:null,default:ge},[b]);var Qg={exports:{}},cu={},ep={exports:{}},tp={};var O_;function TR(){return O_||(O_=1,(function(e){function t(B,K){var le=B.length;B.push(K);e:for(;0<le;){var W=le-1>>>1,de=B[W];if(0<i(de,K))B[W]=K,B[le]=de,le=W;else break e}}function r(B){return B.length===0?null:B[0]}function n(B){if(B.length===0)return null;var K=B[0],le=B.pop();if(le!==K){B[0]=le;e:for(var W=0,de=B.length,L=de>>>1;W<L;){var H=2*(W+1)-1,X=B[H],oe=H+1,fe=B[oe];if(0>i(X,le))oe<de&&0>i(fe,X)?(B[W]=fe,B[oe]=le,W=oe):(B[W]=X,B[H]=le,W=H);else if(oe<de&&0>i(fe,le))B[W]=fe,B[oe]=le,W=oe;else break e}}return K}function i(B,K){var le=B.sortIndex-K.sortIndex;return le!==0?le:B.id-K.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var o=Date,c=o.now();e.unstable_now=function(){return o.now()-c}}var d=[],h=[],m=1,p=null,v=3,x=!1,S=!1,k=!1,_=!1,j=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function P(B){for(var K=r(h);K!==null;){if(K.callback===null)n(h);else if(K.startTime<=B)n(h),K.sortIndex=K.expirationTime,t(d,K);else break;K=r(h)}}function A(B){if(k=!1,P(B),!S)if(r(d)!==null)S=!0,T||(T=!0,q());else{var K=r(h);K!==null&&ie(A,K.startTime-B)}}var T=!1,C=-1,M=5,$=-1;function R(){return _?!0:!(e.unstable_now()-$<M)}function I(){if(_=!1,T){var B=e.unstable_now();$=B;var K=!0;try{e:{S=!1,k&&(k=!1,N(C),C=-1),x=!0;var le=v;try{t:{for(P(B),p=r(d);p!==null&&!(p.expirationTime>B&&R());){var W=p.callback;if(typeof W=="function"){p.callback=null,v=p.priorityLevel;var de=W(p.expirationTime<=B);if(B=e.unstable_now(),typeof de=="function"){p.callback=de,P(B),K=!0;break t}p===r(d)&&n(d),P(B)}else n(d);p=r(d)}if(p!==null)K=!0;else{var L=r(h);L!==null&&ie(A,L.startTime-B),K=!1}}break e}finally{p=null,v=le,x=!1}K=void 0}}finally{K?q():T=!1}}}var q;if(typeof E=="function")q=function(){E(I)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,te=ae.port2;ae.port1.onmessage=I,q=function(){te.postMessage(null)}}else q=function(){j(I,0)};function ie(B,K){C=j(function(){B(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(B){switch(v){case 1:case 2:case 3:var K=3;break;default:K=v}var le=v;v=K;try{return B()}finally{v=le}},e.unstable_requestPaint=function(){_=!0},e.unstable_runWithPriority=function(B,K){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var le=v;v=B;try{return K()}finally{v=le}},e.unstable_scheduleCallback=function(B,K,le){var W=e.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?W+le:W):le=W,B){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=le+de,B={id:m++,callback:K,priorityLevel:B,startTime:le,expirationTime:de,sortIndex:-1},le>W?(B.sortIndex=le,t(h,B),r(d)===null&&B===r(h)&&(k?(N(C),C=-1):k=!0,ie(A,le-W))):(B.sortIndex=de,t(d,B),S||x||(S=!0,T||(T=!0,q()))),B},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(B){var K=v;return function(){var le=v;v=K;try{return B.apply(this,arguments)}finally{v=le}}}})(tp)),tp}var N_;function CR(){return N_||(N_=1,ep.exports=TR()),ep.exports}var rp={exports:{}},or={};var A_;function PR(){if(A_)return or;A_=1;var e=eo();function t(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function l(d,h,m){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:d,containerInfo:h,implementation:m}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return or.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,or.createPortal=function(d,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return l(d,h,null,m)},or.flushSync=function(d){var h=o.T,m=n.p;try{if(o.T=null,n.p=2,d)return d()}finally{o.T=h,n.p=m,n.d.f()}},or.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,n.d.C(d,h))},or.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},or.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var m=h.as,p=c(m,h.crossOrigin),v=typeof h.integrity=="string"?h.integrity:void 0,x=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?n.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:p,integrity:v,fetchPriority:x}):m==="script"&&n.d.X(d,{crossOrigin:p,integrity:v,fetchPriority:x,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},or.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=c(h.as,h.crossOrigin);n.d.M(d,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&n.d.M(d)},or.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,p=c(m,h.crossOrigin);n.d.L(d,m,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},or.preloadModule=function(d,h){if(typeof d=="string")if(h){var m=c(h.as,h.crossOrigin);n.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else n.d.m(d)},or.requestFormReset=function(d){n.d.r(d)},or.unstable_batchedUpdates=function(d,h){return d(h)},or.useFormState=function(d,h,m){return o.H.useFormState(d,h,m)},or.useFormStatus=function(){return o.H.useHostTransitionStatus()},or.version="19.2.1",or}var T_;function IN(){if(T_)return rp.exports;T_=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),rp.exports=PR(),rp.exports}var C_;function DR(){if(C_)return cu;C_=1;var e=CR(),t=eo(),r=IN();function n(a){var s="https://react.dev/errors/"+a;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function l(a){var s=a,u=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(u=s.return),a=s.return;while(a)}return s.tag===3?u:null}function o(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function c(a){if(a.tag===31){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function d(a){if(l(a)!==a)throw Error(n(188))}function h(a){var s=a.alternate;if(!s){if(s=l(a),s===null)throw Error(n(188));return s!==a?null:a}for(var u=a,f=s;;){var y=u.return;if(y===null)break;var w=y.alternate;if(w===null){if(f=y.return,f!==null){u=f;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===u)return d(y),a;if(w===f)return d(y),s;w=w.sibling}throw Error(n(188))}if(u.return!==f.return)u=y,f=w;else{for(var O=!1,D=y.child;D;){if(D===u){O=!0,u=y,f=w;break}if(D===f){O=!0,f=y,u=w;break}D=D.sibling}if(!O){for(D=w.child;D;){if(D===u){O=!0,u=w,f=y;break}if(D===f){O=!0,f=w,u=y;break}D=D.sibling}if(!O)throw Error(n(189))}}if(u.alternate!==f)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?a:s}function m(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a;for(a=a.child;a!==null;){if(s=m(a),s!==null)return s;a=a.sibling}return null}var p=Object.assign,v=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),E=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),R=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function q(a){return a===null||typeof a!="object"?null:(a=I&&a[I]||a["@@iterator"],typeof a=="function"?a:null)}var ae=Symbol.for("react.client.reference");function te(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===ae?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case k:return"Fragment";case j:return"Profiler";case _:return"StrictMode";case A:return"Suspense";case T:return"SuspenseList";case $:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case S:return"Portal";case E:return a.displayName||"Context";case N:return(a._context.displayName||"Context")+".Consumer";case P:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case C:return s=a.displayName||null,s!==null?s:te(a.type)||"Memo";case M:s=a._payload,a=a._init;try{return te(a(s))}catch{}}return null}var ie=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},W=[],de=-1;function L(a){return{current:a}}function H(a){0>de||(a.current=W[de],W[de]=null,de--)}function X(a,s){de++,W[de]=a.current,a.current=s}var oe=L(null),fe=L(null),ce=L(null),me=L(null);function Ee(a,s){switch(X(ce,s),X(fe,a),X(oe,null),s.nodeType){case 9:case 11:a=(a=s.documentElement)&&(a=a.namespaceURI)?V2(a):0;break;default:if(a=s.tagName,s=s.namespaceURI)s=V2(s),a=G2(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}H(oe),X(oe,a)}function Z(){H(oe),H(fe),H(ce)}function we(a){a.memoizedState!==null&&X(me,a);var s=oe.current,u=G2(s,a.type);s!==u&&(X(fe,a),X(oe,u))}function he(a){fe.current===a&&(H(oe),H(fe)),me.current===a&&(H(me),iu._currentValue=le)}var ee,Ae;function Te(a){if(ee===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);ee=s&&s[1]||"",Ae=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ee+a+Ae}var ue=!1;function pe(a,s){if(!a||ue)return"";ue=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(s){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(J){var Y=J}Reflect.construct(a,[],se)}else{try{se.call()}catch(J){Y=J}a.call(se.prototype)}}else{try{throw Error()}catch(J){Y=J}(se=a())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(J){if(J&&Y&&typeof J.stack=="string")return[J.stack,Y.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=f.DetermineComponentFrameRoot(),O=w[0],D=w[1];if(O&&D){var U=O.split(`
`),G=D.split(`
`);for(y=f=0;f<U.length&&!U[f].includes("DetermineComponentFrameRoot");)f++;for(;y<G.length&&!G[y].includes("DetermineComponentFrameRoot");)y++;if(f===U.length||y===G.length)for(f=U.length-1,y=G.length-1;1<=f&&0<=y&&U[f]!==G[y];)y--;for(;1<=f&&0<=y;f--,y--)if(U[f]!==G[y]){if(f!==1||y!==1)do if(f--,y--,0>y||U[f]!==G[y]){var re=`
`+U[f].replace(" at new "," at ");return a.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",a.displayName)),re}while(1<=f&&0<=y);break}}}finally{ue=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?Te(u):""}function Oe(a,s){switch(a.tag){case 26:case 27:case 5:return Te(a.type);case 16:return Te("Lazy");case 13:return a.child!==s&&s!==null?Te("Suspense Fallback"):Te("Suspense");case 19:return Te("SuspenseList");case 0:case 15:return pe(a.type,!1);case 11:return pe(a.type.render,!1);case 1:return pe(a.type,!0);case 31:return Te("Activity");default:return""}}function Be(a){try{var s="",u=null;do s+=Oe(a,u),u=a,a=a.return;while(a);return s}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var gr=Object.prototype.hasOwnProperty,_t=e.unstable_scheduleCallback,Xt=e.unstable_cancelCallback,ia=e.unstable_shouldYield,lr=e.unstable_requestPaint,ht=e.unstable_now,Us=e.unstable_getCurrentPriorityLevel,En=e.unstable_ImmediatePriority,Bi=e.unstable_UserBlockingPriority,mt=e.unstable_NormalPriority,Dt=e.unstable_LowPriority,Bt=e.unstable_IdlePriority,po=e.log,vo=e.unstable_setDisableYieldValue,sa=null,pr=null;function rn(a){if(typeof po=="function"&&vo(a),pr&&typeof pr.setStrictMode=="function")try{pr.setStrictMode(sa,a)}catch{}}var Mt=Math.clz32?Math.clz32:h3,zs=Math.log,Tc=Math.LN2;function h3(a){return a>>>=0,a===0?32:31-(zs(a)/Tc|0)|0}var Cc=256,Pc=262144,Dc=4194304;function qi(a){var s=a&42;if(s!==0)return s;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Mc(a,s,u){var f=a.pendingLanes;if(f===0)return 0;var y=0,w=a.suspendedLanes,O=a.pingedLanes;a=a.warmLanes;var D=f&134217727;return D!==0?(f=D&~w,f!==0?y=qi(f):(O&=D,O!==0?y=qi(O):u||(u=D&~a,u!==0&&(y=qi(u))))):(D=f&~w,D!==0?y=qi(D):O!==0?y=qi(O):u||(u=f&~a,u!==0&&(y=qi(u)))),y===0?0:s!==0&&s!==y&&(s&w)===0&&(w=y&-y,u=s&-s,w>=u||w===32&&(u&4194048)!==0)?s:y}function yo(a,s){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&s)===0}function m3(a,s){switch(a){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ow(){var a=Dc;return Dc<<=1,(Dc&62914560)===0&&(Dc=4194304),a}function U0(a){for(var s=[],u=0;31>u;u++)s.push(a);return s}function bo(a,s){a.pendingLanes|=s,s!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function g3(a,s,u,f,y,w){var O=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var D=a.entanglements,U=a.expirationTimes,G=a.hiddenUpdates;for(u=O&~u;0<u;){var re=31-Mt(u),se=1<<re;D[re]=0,U[re]=-1;var Y=G[re];if(Y!==null)for(G[re]=null,re=0;re<Y.length;re++){var J=Y[re];J!==null&&(J.lane&=-536870913)}u&=~se}f!==0&&Nw(a,f,0),w!==0&&y===0&&a.tag!==0&&(a.suspendedLanes|=w&~(O&~s))}function Nw(a,s,u){a.pendingLanes|=s,a.suspendedLanes&=~s;var f=31-Mt(s);a.entangledLanes|=s,a.entanglements[f]=a.entanglements[f]|1073741824|u&261930}function Aw(a,s){var u=a.entangledLanes|=s;for(a=a.entanglements;u;){var f=31-Mt(u),y=1<<f;y&s|a[f]&s&&(a[f]|=s),u&=~y}}function Tw(a,s){var u=s&-s;return u=(u&42)!==0?1:z0(u),(u&(a.suspendedLanes|s))!==0?0:u}function z0(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function B0(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Cw(){var a=K.p;return a!==0?a:(a=window.event,a===void 0?32:p_(a.type))}function Pw(a,s){var u=K.p;try{return K.p=a,s()}finally{K.p=u}}var Qa=Math.random().toString(36).slice(2),Zt="__reactFiber$"+Qa,Er="__reactProps$"+Qa,Bs="__reactContainer$"+Qa,q0="__reactEvents$"+Qa,p3="__reactListeners$"+Qa,v3="__reactHandles$"+Qa,Dw="__reactResources$"+Qa,xo="__reactMarker$"+Qa;function H0(a){delete a[Zt],delete a[Er],delete a[q0],delete a[p3],delete a[v3]}function qs(a){var s=a[Zt];if(s)return s;for(var u=a.parentNode;u;){if(s=u[Bs]||u[Zt]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(a=e_(a);a!==null;){if(u=a[Zt])return u;a=e_(a)}return s}a=u,u=a.parentNode}return null}function Hs(a){if(a=a[Zt]||a[Bs]){var s=a.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return a}return null}function wo(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a.stateNode;throw Error(n(33))}function Fs(a){var s=a[Dw];return s||(s=a[Dw]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function qt(a){a[xo]=!0}var Mw=new Set,Rw={};function Hi(a,s){Ks(a,s),Ks(a+"Capture",s)}function Ks(a,s){for(Rw[a]=s,a=0;a<s.length;a++)Mw.add(s[a])}var y3=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$w={},Lw={};function b3(a){return gr.call(Lw,a)?!0:gr.call($w,a)?!1:y3.test(a)?Lw[a]=!0:($w[a]=!0,!1)}function Rc(a,s,u){if(b3(s))if(u===null)a.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(s);return;case"boolean":var f=s.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){a.removeAttribute(s);return}}a.setAttribute(s,""+u)}}function $c(a,s,u){if(u===null)a.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttribute(s,""+u)}}function la(a,s,u,f){if(f===null)a.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(s,u,""+f)}}function nn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Iw(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function x3(a,s,u){var f=Object.getOwnPropertyDescriptor(a.constructor.prototype,s);if(!a.hasOwnProperty(s)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var y=f.get,w=f.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return y.call(this)},set:function(O){u=""+O,w.call(this,O)}}),Object.defineProperty(a,s,{enumerable:f.enumerable}),{getValue:function(){return u},setValue:function(O){u=""+O},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function F0(a){if(!a._valueTracker){var s=Iw(a)?"checked":"value";a._valueTracker=x3(a,s,""+a[s])}}function Uw(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var u=s.getValue(),f="";return a&&(f=Iw(a)?a.checked?"true":"false":a.value),a=f,a!==u?(s.setValue(a),!0):!1}function Lc(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var w3=/[\n"\\]/g;function an(a){return a.replace(w3,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function K0(a,s,u,f,y,w,O,D){a.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?a.type=O:a.removeAttribute("type"),s!=null?O==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+nn(s)):a.value!==""+nn(s)&&(a.value=""+nn(s)):O!=="submit"&&O!=="reset"||a.removeAttribute("value"),s!=null?V0(a,O,nn(s)):u!=null?V0(a,O,nn(u)):f!=null&&a.removeAttribute("value"),y==null&&w!=null&&(a.defaultChecked=!!w),y!=null&&(a.checked=y&&typeof y!="function"&&typeof y!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?a.name=""+nn(D):a.removeAttribute("name")}function zw(a,s,u,f,y,w,O,D){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(a.type=w),s!=null||u!=null){if(!(w!=="submit"&&w!=="reset"||s!=null)){F0(a);return}u=u!=null?""+nn(u):"",s=s!=null?""+nn(s):u,D||s===a.value||(a.value=s),a.defaultValue=s}f=f??y,f=typeof f!="function"&&typeof f!="symbol"&&!!f,a.checked=D?a.checked:!!f,a.defaultChecked=!!f,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(a.name=O),F0(a)}function V0(a,s,u){s==="number"&&Lc(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function Vs(a,s,u,f){if(a=a.options,s){s={};for(var y=0;y<u.length;y++)s["$"+u[y]]=!0;for(u=0;u<a.length;u++)y=s.hasOwnProperty("$"+a[u].value),a[u].selected!==y&&(a[u].selected=y),y&&f&&(a[u].defaultSelected=!0)}else{for(u=""+nn(u),s=null,y=0;y<a.length;y++){if(a[y].value===u){a[y].selected=!0,f&&(a[y].defaultSelected=!0);return}s!==null||a[y].disabled||(s=a[y])}s!==null&&(s.selected=!0)}}function Bw(a,s,u){if(s!=null&&(s=""+nn(s),s!==a.value&&(a.value=s),u==null)){a.defaultValue!==s&&(a.defaultValue=s);return}a.defaultValue=u!=null?""+nn(u):""}function qw(a,s,u,f){if(s==null){if(f!=null){if(u!=null)throw Error(n(92));if(ie(f)){if(1<f.length)throw Error(n(93));f=f[0]}u=f}u==null&&(u=""),s=u}u=nn(s),a.defaultValue=u,f=a.textContent,f===u&&f!==""&&f!==null&&(a.value=f),F0(a)}function Gs(a,s){if(s){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=s;return}}a.textContent=s}var S3=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hw(a,s,u){var f=s.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?a.setProperty(s,""):s==="float"?a.cssFloat="":a[s]="":f?a.setProperty(s,u):typeof u!="number"||u===0||S3.has(s)?s==="float"?a.cssFloat=u:a[s]=(""+u).trim():a[s]=u+"px"}function Fw(a,s,u){if(s!=null&&typeof s!="object")throw Error(n(62));if(a=a.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||s!=null&&s.hasOwnProperty(f)||(f.indexOf("--")===0?a.setProperty(f,""):f==="float"?a.cssFloat="":a[f]="");for(var y in s)f=s[y],s.hasOwnProperty(y)&&u[y]!==f&&Hw(a,y,f)}else for(var w in s)s.hasOwnProperty(w)&&Hw(a,w,s[w])}function G0(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _3=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),k3=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ic(a){return k3.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function oa(){}var Y0=null;function W0(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ys=null,Ws=null;function Kw(a){var s=Hs(a);if(s&&(a=s.stateNode)){var u=a[Er]||null;e:switch(a=s.stateNode,s.type){case"input":if(K0(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),s=u.name,u.type==="radio"&&s!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+an(""+s)+'"][type="radio"]'),s=0;s<u.length;s++){var f=u[s];if(f!==a&&f.form===a.form){var y=f[Er]||null;if(!y)throw Error(n(90));K0(f,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(s=0;s<u.length;s++)f=u[s],f.form===a.form&&Uw(f)}break e;case"textarea":Bw(a,u.value,u.defaultValue);break e;case"select":s=u.value,s!=null&&Vs(a,!!u.multiple,s,!1)}}}var X0=!1;function Vw(a,s,u){if(X0)return a(s,u);X0=!0;try{var f=a(s);return f}finally{if(X0=!1,(Ys!==null||Ws!==null)&&(jd(),Ys&&(s=Ys,a=Ws,Ws=Ys=null,Kw(s),a)))for(s=0;s<a.length;s++)Kw(a[s])}}function So(a,s){var u=a.stateNode;if(u===null)return null;var f=u[Er]||null;if(f===null)return null;u=f[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(a=a.type,f=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!f;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(n(231,s,typeof u));return u}var ua=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Z0=!1;if(ua)try{var _o={};Object.defineProperty(_o,"passive",{get:function(){Z0=!0}}),window.addEventListener("test",_o,_o),window.removeEventListener("test",_o,_o)}catch{Z0=!1}var ei=null,J0=null,Uc=null;function Gw(){if(Uc)return Uc;var a,s=J0,u=s.length,f,y="value"in ei?ei.value:ei.textContent,w=y.length;for(a=0;a<u&&s[a]===y[a];a++);var O=u-a;for(f=1;f<=O&&s[u-f]===y[w-f];f++);return Uc=y.slice(a,1<f?1-f:void 0)}function zc(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function Bc(){return!0}function Yw(){return!1}function Or(a){function s(u,f,y,w,O){this._reactName=u,this._targetInst=y,this.type=f,this.nativeEvent=w,this.target=O,this.currentTarget=null;for(var D in a)a.hasOwnProperty(D)&&(u=a[D],this[D]=u?u(w):w[D]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Bc:Yw,this.isPropagationStopped=Yw,this}return p(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Bc)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Bc)},persist:function(){},isPersistent:Bc}),s}var Fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qc=Or(Fi),ko=p({},Fi,{view:0,detail:0}),j3=Or(ko),Q0,em,jo,Hc=p({},ko,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rm,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==jo&&(jo&&a.type==="mousemove"?(Q0=a.screenX-jo.screenX,em=a.screenY-jo.screenY):em=Q0=0,jo=a),Q0)},movementY:function(a){return"movementY"in a?a.movementY:em}}),Ww=Or(Hc),E3=p({},Hc,{dataTransfer:0}),O3=Or(E3),N3=p({},ko,{relatedTarget:0}),tm=Or(N3),A3=p({},Fi,{animationName:0,elapsedTime:0,pseudoElement:0}),T3=Or(A3),C3=p({},Fi,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),P3=Or(C3),D3=p({},Fi,{data:0}),Xw=Or(D3),M3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},R3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function L3(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=$3[a])?!!s[a]:!1}function rm(){return L3}var I3=p({},ko,{key:function(a){if(a.key){var s=M3[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=zc(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?R3[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rm,charCode:function(a){return a.type==="keypress"?zc(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?zc(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),U3=Or(I3),z3=p({},Hc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zw=Or(z3),B3=p({},ko,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rm}),q3=Or(B3),H3=p({},Fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),F3=Or(H3),K3=p({},Hc,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),V3=Or(K3),G3=p({},Fi,{newState:0,oldState:0}),Y3=Or(G3),W3=[9,13,27,32],nm=ua&&"CompositionEvent"in window,Eo=null;ua&&"documentMode"in document&&(Eo=document.documentMode);var X3=ua&&"TextEvent"in window&&!Eo,Jw=ua&&(!nm||Eo&&8<Eo&&11>=Eo),Qw=" ",e1=!1;function t1(a,s){switch(a){case"keyup":return W3.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function r1(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Xs=!1;function Z3(a,s){switch(a){case"compositionend":return r1(s);case"keypress":return s.which!==32?null:(e1=!0,Qw);case"textInput":return a=s.data,a===Qw&&e1?null:a;default:return null}}function J3(a,s){if(Xs)return a==="compositionend"||!nm&&t1(a,s)?(a=Gw(),Uc=J0=ei=null,Xs=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Jw&&s.locale!=="ko"?null:s.data;default:return null}}var Q3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function n1(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!Q3[a.type]:s==="textarea"}function a1(a,s,u,f){Ys?Ws?Ws.push(f):Ws=[f]:Ys=f,s=Pd(s,"onChange"),0<s.length&&(u=new qc("onChange","change",null,u,f),a.push({event:u,listeners:s}))}var Oo=null,No=null;function eM(a){z2(a,0)}function Fc(a){var s=wo(a);if(Uw(s))return a}function i1(a,s){if(a==="change")return s}var s1=!1;if(ua){var am;if(ua){var im="oninput"in document;if(!im){var l1=document.createElement("div");l1.setAttribute("oninput","return;"),im=typeof l1.oninput=="function"}am=im}else am=!1;s1=am&&(!document.documentMode||9<document.documentMode)}function o1(){Oo&&(Oo.detachEvent("onpropertychange",u1),No=Oo=null)}function u1(a){if(a.propertyName==="value"&&Fc(No)){var s=[];a1(s,No,a,W0(a)),Vw(eM,s)}}function tM(a,s,u){a==="focusin"?(o1(),Oo=s,No=u,Oo.attachEvent("onpropertychange",u1)):a==="focusout"&&o1()}function rM(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Fc(No)}function nM(a,s){if(a==="click")return Fc(s)}function aM(a,s){if(a==="input"||a==="change")return Fc(s)}function iM(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var Hr=typeof Object.is=="function"?Object.is:iM;function Ao(a,s){if(Hr(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var u=Object.keys(a),f=Object.keys(s);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var y=u[f];if(!gr.call(s,y)||!Hr(a[y],s[y]))return!1}return!0}function c1(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function d1(a,s){var u=c1(a);a=0;for(var f;u;){if(u.nodeType===3){if(f=a+u.textContent.length,a<=s&&f>=s)return{node:u,offset:s-a};a=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=c1(u)}}function f1(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?f1(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function h1(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var s=Lc(a.document);s instanceof a.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)a=s.contentWindow;else break;s=Lc(a.document)}return s}function sm(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}var sM=ua&&"documentMode"in document&&11>=document.documentMode,Zs=null,lm=null,To=null,om=!1;function m1(a,s,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;om||Zs==null||Zs!==Lc(f)||(f=Zs,"selectionStart"in f&&sm(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),To&&Ao(To,f)||(To=f,f=Pd(lm,"onSelect"),0<f.length&&(s=new qc("onSelect","select",null,s,u),a.push({event:s,listeners:f}),s.target=Zs)))}function Ki(a,s){var u={};return u[a.toLowerCase()]=s.toLowerCase(),u["Webkit"+a]="webkit"+s,u["Moz"+a]="moz"+s,u}var Js={animationend:Ki("Animation","AnimationEnd"),animationiteration:Ki("Animation","AnimationIteration"),animationstart:Ki("Animation","AnimationStart"),transitionrun:Ki("Transition","TransitionRun"),transitionstart:Ki("Transition","TransitionStart"),transitioncancel:Ki("Transition","TransitionCancel"),transitionend:Ki("Transition","TransitionEnd")},um={},g1={};ua&&(g1=document.createElement("div").style,"AnimationEvent"in window||(delete Js.animationend.animation,delete Js.animationiteration.animation,delete Js.animationstart.animation),"TransitionEvent"in window||delete Js.transitionend.transition);function Vi(a){if(um[a])return um[a];if(!Js[a])return a;var s=Js[a],u;for(u in s)if(s.hasOwnProperty(u)&&u in g1)return um[a]=s[u];return a}var p1=Vi("animationend"),v1=Vi("animationiteration"),y1=Vi("animationstart"),lM=Vi("transitionrun"),oM=Vi("transitionstart"),uM=Vi("transitioncancel"),b1=Vi("transitionend"),x1=new Map,cm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cm.push("scrollEnd");function On(a,s){x1.set(a,s),Hi(s,[a])}var Kc=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},sn=[],Qs=0,dm=0;function Vc(){for(var a=Qs,s=dm=Qs=0;s<a;){var u=sn[s];sn[s++]=null;var f=sn[s];sn[s++]=null;var y=sn[s];sn[s++]=null;var w=sn[s];if(sn[s++]=null,f!==null&&y!==null){var O=f.pending;O===null?y.next=y:(y.next=O.next,O.next=y),f.pending=y}w!==0&&w1(u,y,w)}}function Gc(a,s,u,f){sn[Qs++]=a,sn[Qs++]=s,sn[Qs++]=u,sn[Qs++]=f,dm|=f,a.lanes|=f,a=a.alternate,a!==null&&(a.lanes|=f)}function fm(a,s,u,f){return Gc(a,s,u,f),Yc(a)}function Gi(a,s){return Gc(a,null,null,s),Yc(a)}function w1(a,s,u){a.lanes|=u;var f=a.alternate;f!==null&&(f.lanes|=u);for(var y=!1,w=a.return;w!==null;)w.childLanes|=u,f=w.alternate,f!==null&&(f.childLanes|=u),w.tag===22&&(a=w.stateNode,a===null||a._visibility&1||(y=!0)),a=w,w=w.return;return a.tag===3?(w=a.stateNode,y&&s!==null&&(y=31-Mt(u),a=w.hiddenUpdates,f=a[y],f===null?a[y]=[s]:f.push(s),s.lane=u|536870912),w):null}function Yc(a){if(50<Jo)throw Jo=0,wg=null,Error(n(185));for(var s=a.return;s!==null;)a=s,s=a.return;return a.tag===3?a.stateNode:null}var el={};function cM(a,s,u,f){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fr(a,s,u,f){return new cM(a,s,u,f)}function hm(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ca(a,s){var u=a.alternate;return u===null?(u=Fr(a.tag,s,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=s,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,s=a.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function S1(a,s){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,s=u.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a}function Wc(a,s,u,f,y,w){var O=0;if(f=a,typeof a=="function")hm(a)&&(O=1);else if(typeof a=="string")O=gR(a,u,oe.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case $:return a=Fr(31,u,s,y),a.elementType=$,a.lanes=w,a;case k:return Yi(u.children,y,w,s);case _:O=8,y|=24;break;case j:return a=Fr(12,u,s,y|2),a.elementType=j,a.lanes=w,a;case A:return a=Fr(13,u,s,y),a.elementType=A,a.lanes=w,a;case T:return a=Fr(19,u,s,y),a.elementType=T,a.lanes=w,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case E:O=10;break e;case N:O=9;break e;case P:O=11;break e;case C:O=14;break e;case M:O=16,f=null;break e}O=29,u=Error(n(130,a===null?"null":typeof a,"")),f=null}return s=Fr(O,u,s,y),s.elementType=a,s.type=f,s.lanes=w,s}function Yi(a,s,u,f){return a=Fr(7,a,f,s),a.lanes=u,a}function mm(a,s,u){return a=Fr(6,a,null,s),a.lanes=u,a}function _1(a){var s=Fr(18,null,null,0);return s.stateNode=a,s}function gm(a,s,u){return s=Fr(4,a.children!==null?a.children:[],a.key,s),s.lanes=u,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}var k1=new WeakMap;function ln(a,s){if(typeof a=="object"&&a!==null){var u=k1.get(a);return u!==void 0?u:(s={value:a,source:s,stack:Be(s)},k1.set(a,s),s)}return{value:a,source:s,stack:Be(s)}}var tl=[],rl=0,Xc=null,Co=0,on=[],un=0,ti=null,Bn=1,qn="";function da(a,s){tl[rl++]=Co,tl[rl++]=Xc,Xc=a,Co=s}function j1(a,s,u){on[un++]=Bn,on[un++]=qn,on[un++]=ti,ti=a;var f=Bn;a=qn;var y=32-Mt(f)-1;f&=~(1<<y),u+=1;var w=32-Mt(s)+y;if(30<w){var O=y-y%5;w=(f&(1<<O)-1).toString(32),f>>=O,y-=O,Bn=1<<32-Mt(s)+y|u<<y|f,qn=w+a}else Bn=1<<w|u<<y|f,qn=a}function pm(a){a.return!==null&&(da(a,1),j1(a,1,0))}function vm(a){for(;a===Xc;)Xc=tl[--rl],tl[rl]=null,Co=tl[--rl],tl[rl]=null;for(;a===ti;)ti=on[--un],on[un]=null,qn=on[--un],on[un]=null,Bn=on[--un],on[un]=null}function E1(a,s){on[un++]=Bn,on[un++]=qn,on[un++]=ti,Bn=s.id,qn=s.overflow,ti=a}var Jt=null,at=null,qe=!1,ri=null,cn=!1,ym=Error(n(519));function ni(a){var s=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Po(ln(s,a)),ym}function O1(a){var s=a.stateNode,u=a.type,f=a.memoizedProps;switch(s[Zt]=a,s[Er]=f,u){case"dialog":Le("cancel",s),Le("close",s);break;case"iframe":case"object":case"embed":Le("load",s);break;case"video":case"audio":for(u=0;u<eu.length;u++)Le(eu[u],s);break;case"source":Le("error",s);break;case"img":case"image":case"link":Le("error",s),Le("load",s);break;case"details":Le("toggle",s);break;case"input":Le("invalid",s),zw(s,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":Le("invalid",s);break;case"textarea":Le("invalid",s),qw(s,f.value,f.defaultValue,f.children)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||s.textContent===""+u||f.suppressHydrationWarning===!0||F2(s.textContent,u)?(f.popover!=null&&(Le("beforetoggle",s),Le("toggle",s)),f.onScroll!=null&&Le("scroll",s),f.onScrollEnd!=null&&Le("scrollend",s),f.onClick!=null&&(s.onclick=oa),s=!0):s=!1,s||ni(a,!0)}function N1(a){for(Jt=a.return;Jt;)switch(Jt.tag){case 5:case 31:case 13:cn=!1;return;case 27:case 3:cn=!0;return;default:Jt=Jt.return}}function nl(a){if(a!==Jt)return!1;if(!qe)return N1(a),qe=!0,!1;var s=a.tag,u;if((u=s!==3&&s!==27)&&((u=s===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||$g(a.type,a.memoizedProps)),u=!u),u&&at&&ni(a),N1(a),s===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));at=Q2(a)}else if(s===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));at=Q2(a)}else s===27?(s=at,vi(a.type)?(a=Bg,Bg=null,at=a):at=s):at=Jt?fn(a.stateNode.nextSibling):null;return!0}function Wi(){at=Jt=null,qe=!1}function bm(){var a=ri;return a!==null&&(Cr===null?Cr=a:Cr.push.apply(Cr,a),ri=null),a}function Po(a){ri===null?ri=[a]:ri.push(a)}var xm=L(null),Xi=null,fa=null;function ai(a,s,u){X(xm,s._currentValue),s._currentValue=u}function ha(a){a._currentValue=xm.current,H(xm)}function wm(a,s,u){for(;a!==null;){var f=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),a===u)break;a=a.return}}function Sm(a,s,u,f){var y=a.child;for(y!==null&&(y.return=a);y!==null;){var w=y.dependencies;if(w!==null){var O=y.child;w=w.firstContext;e:for(;w!==null;){var D=w;w=y;for(var U=0;U<s.length;U++)if(D.context===s[U]){w.lanes|=u,D=w.alternate,D!==null&&(D.lanes|=u),wm(w.return,u,a),f||(O=null);break e}w=D.next}}else if(y.tag===18){if(O=y.return,O===null)throw Error(n(341));O.lanes|=u,w=O.alternate,w!==null&&(w.lanes|=u),wm(O,u,a),O=null}else O=y.child;if(O!==null)O.return=y;else for(O=y;O!==null;){if(O===a){O=null;break}if(y=O.sibling,y!==null){y.return=O.return,O=y;break}O=O.return}y=O}}function al(a,s,u,f){a=null;for(var y=s,w=!1;y!==null;){if(!w){if((y.flags&524288)!==0)w=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var O=y.alternate;if(O===null)throw Error(n(387));if(O=O.memoizedProps,O!==null){var D=y.type;Hr(y.pendingProps.value,O.value)||(a!==null?a.push(D):a=[D])}}else if(y===me.current){if(O=y.alternate,O===null)throw Error(n(387));O.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(a!==null?a.push(iu):a=[iu])}y=y.return}a!==null&&Sm(s,a,u,f),s.flags|=262144}function Zc(a){for(a=a.firstContext;a!==null;){if(!Hr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Zi(a){Xi=a,fa=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Qt(a){return A1(Xi,a)}function Jc(a,s){return Xi===null&&Zi(a),A1(a,s)}function A1(a,s){var u=s._currentValue;if(s={context:s,memoizedValue:u,next:null},fa===null){if(a===null)throw Error(n(308));fa=s,a.dependencies={lanes:0,firstContext:s},a.flags|=524288}else fa=fa.next=s;return u}var dM=typeof AbortController<"u"?AbortController:function(){var a=[],s=this.signal={aborted:!1,addEventListener:function(u,f){a.push(f)}};this.abort=function(){s.aborted=!0,a.forEach(function(u){return u()})}},fM=e.unstable_scheduleCallback,hM=e.unstable_NormalPriority,kt={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _m(){return{controller:new dM,data:new Map,refCount:0}}function Do(a){a.refCount--,a.refCount===0&&fM(hM,function(){a.controller.abort()})}var Mo=null,km=0,il=0,sl=null;function mM(a,s){if(Mo===null){var u=Mo=[];km=0,il=Og(),sl={status:"pending",value:void 0,then:function(f){u.push(f)}}}return km++,s.then(T1,T1),s}function T1(){if(--km===0&&Mo!==null){sl!==null&&(sl.status="fulfilled");var a=Mo;Mo=null,il=0,sl=null;for(var s=0;s<a.length;s++)(0,a[s])()}}function gM(a,s){var u=[],f={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return a.then(function(){f.status="fulfilled",f.value=s;for(var y=0;y<u.length;y++)(0,u[y])(s)},function(y){for(f.status="rejected",f.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),f}var C1=B.S;B.S=function(a,s){m2=ht(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&mM(a,s),C1!==null&&C1(a,s)};var Ji=L(null);function jm(){var a=Ji.current;return a!==null?a:et.pooledCache}function Qc(a,s){s===null?X(Ji,Ji.current):X(Ji,s.pool)}function P1(){var a=jm();return a===null?null:{parent:kt._currentValue,pool:a}}var ll=Error(n(460)),Em=Error(n(474)),ed=Error(n(542)),td={then:function(){}};function D1(a){return a=a.status,a==="fulfilled"||a==="rejected"}function M1(a,s,u){switch(u=a[u],u===void 0?a.push(s):u!==s&&(s.then(oa,oa),s=u),s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,$1(a),a;default:if(typeof s.status=="string")s.then(oa,oa);else{if(a=et,a!==null&&100<a.shellSuspendCounter)throw Error(n(482));a=s,a.status="pending",a.then(function(f){if(s.status==="pending"){var y=s;y.status="fulfilled",y.value=f}},function(f){if(s.status==="pending"){var y=s;y.status="rejected",y.reason=f}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,$1(a),a}throw es=s,ll}}function Qi(a){try{var s=a._init;return s(a._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(es=u,ll):u}}var es=null;function R1(){if(es===null)throw Error(n(459));var a=es;return es=null,a}function $1(a){if(a===ll||a===ed)throw Error(n(483))}var ol=null,Ro=0;function rd(a){var s=Ro;return Ro+=1,ol===null&&(ol=[]),M1(ol,a,s)}function $o(a,s){s=s.props.ref,a.ref=s!==void 0?s:null}function nd(a,s){throw s.$$typeof===v?Error(n(525)):(a=Object.prototype.toString.call(s),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a)))}function L1(a){function s(F,z){if(a){var V=F.deletions;V===null?(F.deletions=[z],F.flags|=16):V.push(z)}}function u(F,z){if(!a)return null;for(;z!==null;)s(F,z),z=z.sibling;return null}function f(F){for(var z=new Map;F!==null;)F.key!==null?z.set(F.key,F):z.set(F.index,F),F=F.sibling;return z}function y(F,z){return F=ca(F,z),F.index=0,F.sibling=null,F}function w(F,z,V){return F.index=V,a?(V=F.alternate,V!==null?(V=V.index,V<z?(F.flags|=67108866,z):V):(F.flags|=67108866,z)):(F.flags|=1048576,z)}function O(F){return a&&F.alternate===null&&(F.flags|=67108866),F}function D(F,z,V,ne){return z===null||z.tag!==6?(z=mm(V,F.mode,ne),z.return=F,z):(z=y(z,V),z.return=F,z)}function U(F,z,V,ne){var ke=V.type;return ke===k?re(F,z,V.props.children,ne,V.key):z!==null&&(z.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===M&&Qi(ke)===z.type)?(z=y(z,V.props),$o(z,V),z.return=F,z):(z=Wc(V.type,V.key,V.props,null,F.mode,ne),$o(z,V),z.return=F,z)}function G(F,z,V,ne){return z===null||z.tag!==4||z.stateNode.containerInfo!==V.containerInfo||z.stateNode.implementation!==V.implementation?(z=gm(V,F.mode,ne),z.return=F,z):(z=y(z,V.children||[]),z.return=F,z)}function re(F,z,V,ne,ke){return z===null||z.tag!==7?(z=Yi(V,F.mode,ne,ke),z.return=F,z):(z=y(z,V),z.return=F,z)}function se(F,z,V){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=mm(""+z,F.mode,V),z.return=F,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case x:return V=Wc(z.type,z.key,z.props,null,F.mode,V),$o(V,z),V.return=F,V;case S:return z=gm(z,F.mode,V),z.return=F,z;case M:return z=Qi(z),se(F,z,V)}if(ie(z)||q(z))return z=Yi(z,F.mode,V,null),z.return=F,z;if(typeof z.then=="function")return se(F,rd(z),V);if(z.$$typeof===E)return se(F,Jc(F,z),V);nd(F,z)}return null}function Y(F,z,V,ne){var ke=z!==null?z.key:null;if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return ke!==null?null:D(F,z,""+V,ne);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case x:return V.key===ke?U(F,z,V,ne):null;case S:return V.key===ke?G(F,z,V,ne):null;case M:return V=Qi(V),Y(F,z,V,ne)}if(ie(V)||q(V))return ke!==null?null:re(F,z,V,ne,null);if(typeof V.then=="function")return Y(F,z,rd(V),ne);if(V.$$typeof===E)return Y(F,z,Jc(F,V),ne);nd(F,V)}return null}function J(F,z,V,ne,ke){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return F=F.get(V)||null,D(z,F,""+ne,ke);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case x:return F=F.get(ne.key===null?V:ne.key)||null,U(z,F,ne,ke);case S:return F=F.get(ne.key===null?V:ne.key)||null,G(z,F,ne,ke);case M:return ne=Qi(ne),J(F,z,V,ne,ke)}if(ie(ne)||q(ne))return F=F.get(V)||null,re(z,F,ne,ke,null);if(typeof ne.then=="function")return J(F,z,V,rd(ne),ke);if(ne.$$typeof===E)return J(F,z,V,Jc(z,ne),ke);nd(z,ne)}return null}function be(F,z,V,ne){for(var ke=null,He=null,xe=z,Me=z=0,Ue=null;xe!==null&&Me<V.length;Me++){xe.index>Me?(Ue=xe,xe=null):Ue=xe.sibling;var Fe=Y(F,xe,V[Me],ne);if(Fe===null){xe===null&&(xe=Ue);break}a&&xe&&Fe.alternate===null&&s(F,xe),z=w(Fe,z,Me),He===null?ke=Fe:He.sibling=Fe,He=Fe,xe=Ue}if(Me===V.length)return u(F,xe),qe&&da(F,Me),ke;if(xe===null){for(;Me<V.length;Me++)xe=se(F,V[Me],ne),xe!==null&&(z=w(xe,z,Me),He===null?ke=xe:He.sibling=xe,He=xe);return qe&&da(F,Me),ke}for(xe=f(xe);Me<V.length;Me++)Ue=J(xe,F,Me,V[Me],ne),Ue!==null&&(a&&Ue.alternate!==null&&xe.delete(Ue.key===null?Me:Ue.key),z=w(Ue,z,Me),He===null?ke=Ue:He.sibling=Ue,He=Ue);return a&&xe.forEach(function(Si){return s(F,Si)}),qe&&da(F,Me),ke}function Ne(F,z,V,ne){if(V==null)throw Error(n(151));for(var ke=null,He=null,xe=z,Me=z=0,Ue=null,Fe=V.next();xe!==null&&!Fe.done;Me++,Fe=V.next()){xe.index>Me?(Ue=xe,xe=null):Ue=xe.sibling;var Si=Y(F,xe,Fe.value,ne);if(Si===null){xe===null&&(xe=Ue);break}a&&xe&&Si.alternate===null&&s(F,xe),z=w(Si,z,Me),He===null?ke=Si:He.sibling=Si,He=Si,xe=Ue}if(Fe.done)return u(F,xe),qe&&da(F,Me),ke;if(xe===null){for(;!Fe.done;Me++,Fe=V.next())Fe=se(F,Fe.value,ne),Fe!==null&&(z=w(Fe,z,Me),He===null?ke=Fe:He.sibling=Fe,He=Fe);return qe&&da(F,Me),ke}for(xe=f(xe);!Fe.done;Me++,Fe=V.next())Fe=J(xe,F,Me,Fe.value,ne),Fe!==null&&(a&&Fe.alternate!==null&&xe.delete(Fe.key===null?Me:Fe.key),z=w(Fe,z,Me),He===null?ke=Fe:He.sibling=Fe,He=Fe);return a&&xe.forEach(function(ER){return s(F,ER)}),qe&&da(F,Me),ke}function Je(F,z,V,ne){if(typeof V=="object"&&V!==null&&V.type===k&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case x:e:{for(var ke=V.key;z!==null;){if(z.key===ke){if(ke=V.type,ke===k){if(z.tag===7){u(F,z.sibling),ne=y(z,V.props.children),ne.return=F,F=ne;break e}}else if(z.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===M&&Qi(ke)===z.type){u(F,z.sibling),ne=y(z,V.props),$o(ne,V),ne.return=F,F=ne;break e}u(F,z);break}else s(F,z);z=z.sibling}V.type===k?(ne=Yi(V.props.children,F.mode,ne,V.key),ne.return=F,F=ne):(ne=Wc(V.type,V.key,V.props,null,F.mode,ne),$o(ne,V),ne.return=F,F=ne)}return O(F);case S:e:{for(ke=V.key;z!==null;){if(z.key===ke)if(z.tag===4&&z.stateNode.containerInfo===V.containerInfo&&z.stateNode.implementation===V.implementation){u(F,z.sibling),ne=y(z,V.children||[]),ne.return=F,F=ne;break e}else{u(F,z);break}else s(F,z);z=z.sibling}ne=gm(V,F.mode,ne),ne.return=F,F=ne}return O(F);case M:return V=Qi(V),Je(F,z,V,ne)}if(ie(V))return be(F,z,V,ne);if(q(V)){if(ke=q(V),typeof ke!="function")throw Error(n(150));return V=ke.call(V),Ne(F,z,V,ne)}if(typeof V.then=="function")return Je(F,z,rd(V),ne);if(V.$$typeof===E)return Je(F,z,Jc(F,V),ne);nd(F,V)}return typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint"?(V=""+V,z!==null&&z.tag===6?(u(F,z.sibling),ne=y(z,V),ne.return=F,F=ne):(u(F,z),ne=mm(V,F.mode,ne),ne.return=F,F=ne),O(F)):u(F,z)}return function(F,z,V,ne){try{Ro=0;var ke=Je(F,z,V,ne);return ol=null,ke}catch(xe){if(xe===ll||xe===ed)throw xe;var He=Fr(29,xe,null,F.mode);return He.lanes=ne,He.return=F,He}finally{}}}var ts=L1(!0),I1=L1(!1),ii=!1;function Om(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nm(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function si(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function li(a,s,u){var f=a.updateQueue;if(f===null)return null;if(f=f.shared,(Ve&2)!==0){var y=f.pending;return y===null?s.next=s:(s.next=y.next,y.next=s),f.pending=s,s=Yc(a),w1(a,null,u),s}return Gc(a,f,s,u),Yc(a)}function Lo(a,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194048)!==0)){var f=s.lanes;f&=a.pendingLanes,u|=f,s.lanes=u,Aw(a,u)}}function Am(a,s){var u=a.updateQueue,f=a.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var y=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var O={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};w===null?y=w=O:w=w.next=O,u=u.next}while(u!==null);w===null?y=w=s:w=w.next=s}else y=w=s;u={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:f.shared,callbacks:f.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=s:a.next=s,u.lastBaseUpdate=s}var Tm=!1;function Io(){if(Tm){var a=sl;if(a!==null)throw a}}function Uo(a,s,u,f){Tm=!1;var y=a.updateQueue;ii=!1;var w=y.firstBaseUpdate,O=y.lastBaseUpdate,D=y.shared.pending;if(D!==null){y.shared.pending=null;var U=D,G=U.next;U.next=null,O===null?w=G:O.next=G,O=U;var re=a.alternate;re!==null&&(re=re.updateQueue,D=re.lastBaseUpdate,D!==O&&(D===null?re.firstBaseUpdate=G:D.next=G,re.lastBaseUpdate=U))}if(w!==null){var se=y.baseState;O=0,re=G=U=null,D=w;do{var Y=D.lane&-536870913,J=Y!==D.lane;if(J?(Ie&Y)===Y:(f&Y)===Y){Y!==0&&Y===il&&(Tm=!0),re!==null&&(re=re.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var be=a,Ne=D;Y=s;var Je=u;switch(Ne.tag){case 1:if(be=Ne.payload,typeof be=="function"){se=be.call(Je,se,Y);break e}se=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=Ne.payload,Y=typeof be=="function"?be.call(Je,se,Y):be,Y==null)break e;se=p({},se,Y);break e;case 2:ii=!0}}Y=D.callback,Y!==null&&(a.flags|=64,J&&(a.flags|=8192),J=y.callbacks,J===null?y.callbacks=[Y]:J.push(Y))}else J={lane:Y,tag:D.tag,payload:D.payload,callback:D.callback,next:null},re===null?(G=re=J,U=se):re=re.next=J,O|=Y;if(D=D.next,D===null){if(D=y.shared.pending,D===null)break;J=D,D=J.next,J.next=null,y.lastBaseUpdate=J,y.shared.pending=null}}while(!0);re===null&&(U=se),y.baseState=U,y.firstBaseUpdate=G,y.lastBaseUpdate=re,w===null&&(y.shared.lanes=0),fi|=O,a.lanes=O,a.memoizedState=se}}function U1(a,s){if(typeof a!="function")throw Error(n(191,a));a.call(s)}function z1(a,s){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)U1(u[a],s)}var ul=L(null),ad=L(0);function B1(a,s){a=Sa,X(ad,a),X(ul,s),Sa=a|s.baseLanes}function Cm(){X(ad,Sa),X(ul,ul.current)}function Pm(){Sa=ad.current,H(ul),H(ad)}var Kr=L(null),dn=null;function oi(a){var s=a.alternate;X(yt,yt.current&1),X(Kr,a),dn===null&&(s===null||ul.current!==null||s.memoizedState!==null)&&(dn=a)}function Dm(a){X(yt,yt.current),X(Kr,a),dn===null&&(dn=a)}function q1(a){a.tag===22?(X(yt,yt.current),X(Kr,a),dn===null&&(dn=a)):ui()}function ui(){X(yt,yt.current),X(Kr,Kr.current)}function Vr(a){H(Kr),dn===a&&(dn=null),H(yt)}var yt=L(0);function id(a){for(var s=a;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Ug(u)||zg(u)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ma=0,De=null,Xe=null,jt=null,sd=!1,cl=!1,rs=!1,ld=0,zo=0,dl=null,pM=0;function gt(){throw Error(n(321))}function Mm(a,s){if(s===null)return!1;for(var u=0;u<s.length&&u<a.length;u++)if(!Hr(a[u],s[u]))return!1;return!0}function Rm(a,s,u,f,y,w){return ma=w,De=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,B.H=a===null||a.memoizedState===null?jS:Xm,rs=!1,w=u(f,y),rs=!1,cl&&(w=F1(s,u,f,y)),H1(a),w}function H1(a){B.H=Ho;var s=Xe!==null&&Xe.next!==null;if(ma=0,jt=Xe=De=null,sd=!1,zo=0,dl=null,s)throw Error(n(300));a===null||Et||(a=a.dependencies,a!==null&&Zc(a)&&(Et=!0))}function F1(a,s,u,f){De=a;var y=0;do{if(cl&&(dl=null),zo=0,cl=!1,25<=y)throw Error(n(301));if(y+=1,jt=Xe=null,a.updateQueue!=null){var w=a.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}B.H=ES,w=s(u,f)}while(cl);return w}function vM(){var a=B.H,s=a.useState()[0];return s=typeof s.then=="function"?Bo(s):s,a=a.useState()[0],(Xe!==null?Xe.memoizedState:null)!==a&&(De.flags|=1024),s}function $m(){var a=ld!==0;return ld=0,a}function Lm(a,s,u){s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~u}function Im(a){if(sd){for(a=a.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}sd=!1}ma=0,jt=Xe=De=null,cl=!1,zo=ld=0,dl=null}function vr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?De.memoizedState=jt=a:jt=jt.next=a,jt}function bt(){if(Xe===null){var a=De.alternate;a=a!==null?a.memoizedState:null}else a=Xe.next;var s=jt===null?De.memoizedState:jt.next;if(s!==null)jt=s,Xe=a;else{if(a===null)throw De.alternate===null?Error(n(467)):Error(n(310));Xe=a,a={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},jt===null?De.memoizedState=jt=a:jt=jt.next=a}return jt}function od(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bo(a){var s=zo;return zo+=1,dl===null&&(dl=[]),a=M1(dl,a,s),s=De,(jt===null?s.memoizedState:jt.next)===null&&(s=s.alternate,B.H=s===null||s.memoizedState===null?jS:Xm),a}function ud(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Bo(a);if(a.$$typeof===E)return Qt(a)}throw Error(n(438,String(a)))}function Um(a){var s=null,u=De.updateQueue;if(u!==null&&(s=u.memoCache),s==null){var f=De.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(s={data:f.data.map(function(y){return y.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),u===null&&(u=od(),De.updateQueue=u),u.memoCache=s,u=s.data[s.index],u===void 0)for(u=s.data[s.index]=Array(a),f=0;f<a;f++)u[f]=R;return s.index++,u}function ga(a,s){return typeof s=="function"?s(a):s}function cd(a){var s=bt();return zm(s,Xe,a)}function zm(a,s,u){var f=a.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=u;var y=a.baseQueue,w=f.pending;if(w!==null){if(y!==null){var O=y.next;y.next=w.next,w.next=O}s.baseQueue=y=w,f.pending=null}if(w=a.baseState,y===null)a.memoizedState=w;else{s=y.next;var D=O=null,U=null,G=s,re=!1;do{var se=G.lane&-536870913;if(se!==G.lane?(Ie&se)===se:(ma&se)===se){var Y=G.revertLane;if(Y===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),se===il&&(re=!0);else if((ma&Y)===Y){G=G.next,Y===il&&(re=!0);continue}else se={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},U===null?(D=U=se,O=w):U=U.next=se,De.lanes|=Y,fi|=Y;se=G.action,rs&&u(w,se),w=G.hasEagerState?G.eagerState:u(w,se)}else Y={lane:se,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},U===null?(D=U=Y,O=w):U=U.next=Y,De.lanes|=se,fi|=se;G=G.next}while(G!==null&&G!==s);if(U===null?O=w:U.next=D,!Hr(w,a.memoizedState)&&(Et=!0,re&&(u=sl,u!==null)))throw u;a.memoizedState=w,a.baseState=O,a.baseQueue=U,f.lastRenderedState=w}return y===null&&(f.lanes=0),[a.memoizedState,f.dispatch]}function Bm(a){var s=bt(),u=s.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=a;var f=u.dispatch,y=u.pending,w=s.memoizedState;if(y!==null){u.pending=null;var O=y=y.next;do w=a(w,O.action),O=O.next;while(O!==y);Hr(w,s.memoizedState)||(Et=!0),s.memoizedState=w,s.baseQueue===null&&(s.baseState=w),u.lastRenderedState=w}return[w,f]}function K1(a,s,u){var f=De,y=bt(),w=qe;if(w){if(u===void 0)throw Error(n(407));u=u()}else u=s();var O=!Hr((Xe||y).memoizedState,u);if(O&&(y.memoizedState=u,Et=!0),y=y.queue,Fm(Y1.bind(null,f,y,a),[a]),y.getSnapshot!==s||O||jt!==null&&jt.memoizedState.tag&1){if(f.flags|=2048,fl(9,{destroy:void 0},G1.bind(null,f,y,u,s),null),et===null)throw Error(n(349));w||(ma&127)!==0||V1(f,s,u)}return u}function V1(a,s,u){a.flags|=16384,a={getSnapshot:s,value:u},s=De.updateQueue,s===null?(s=od(),De.updateQueue=s,s.stores=[a]):(u=s.stores,u===null?s.stores=[a]:u.push(a))}function G1(a,s,u,f){s.value=u,s.getSnapshot=f,W1(s)&&X1(a)}function Y1(a,s,u){return u(function(){W1(s)&&X1(a)})}function W1(a){var s=a.getSnapshot;a=a.value;try{var u=s();return!Hr(a,u)}catch{return!0}}function X1(a){var s=Gi(a,2);s!==null&&Pr(s,a,2)}function qm(a){var s=vr();if(typeof a=="function"){var u=a;if(a=u(),rs){rn(!0);try{u()}finally{rn(!1)}}}return s.memoizedState=s.baseState=a,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:a},s}function Z1(a,s,u,f){return a.baseState=u,zm(a,Xe,typeof f=="function"?f:ga)}function yM(a,s,u,f,y){if(hd(a))throw Error(n(485));if(a=s.action,a!==null){var w={payload:y,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){w.listeners.push(O)}};B.T!==null?u(!0):w.isTransition=!1,f(w),u=s.pending,u===null?(w.next=s.pending=w,J1(s,w)):(w.next=u.next,s.pending=u.next=w)}}function J1(a,s){var u=s.action,f=s.payload,y=a.state;if(s.isTransition){var w=B.T,O={};B.T=O;try{var D=u(y,f),U=B.S;U!==null&&U(O,D),Q1(a,s,D)}catch(G){Hm(a,s,G)}finally{w!==null&&O.types!==null&&(w.types=O.types),B.T=w}}else try{w=u(y,f),Q1(a,s,w)}catch(G){Hm(a,s,G)}}function Q1(a,s,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){eS(a,s,f)},function(f){return Hm(a,s,f)}):eS(a,s,u)}function eS(a,s,u){s.status="fulfilled",s.value=u,tS(s),a.state=u,s=a.pending,s!==null&&(u=s.next,u===s?a.pending=null:(u=u.next,s.next=u,J1(a,u)))}function Hm(a,s,u){var f=a.pending;if(a.pending=null,f!==null){f=f.next;do s.status="rejected",s.reason=u,tS(s),s=s.next;while(s!==f)}a.action=null}function tS(a){a=a.listeners;for(var s=0;s<a.length;s++)(0,a[s])()}function rS(a,s){return s}function nS(a,s){if(qe){var u=et.formState;if(u!==null){e:{var f=De;if(qe){if(at){t:{for(var y=at,w=cn;y.nodeType!==8;){if(!w){y=null;break t}if(y=fn(y.nextSibling),y===null){y=null;break t}}w=y.data,y=w==="F!"||w==="F"?y:null}if(y){at=fn(y.nextSibling),f=y.data==="F!";break e}}ni(f)}f=!1}f&&(s=u[0])}}return u=vr(),u.memoizedState=u.baseState=s,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rS,lastRenderedState:s},u.queue=f,u=SS.bind(null,De,f),f.dispatch=u,f=qm(!1),w=Wm.bind(null,De,!1,f.queue),f=vr(),y={state:s,dispatch:null,action:a,pending:null},f.queue=y,u=yM.bind(null,De,y,w,u),y.dispatch=u,f.memoizedState=a,[s,u,!1]}function aS(a){var s=bt();return iS(s,Xe,a)}function iS(a,s,u){if(s=zm(a,s,rS)[0],a=cd(ga)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var f=Bo(s)}catch(O){throw O===ll?ed:O}else f=s;s=bt();var y=s.queue,w=y.dispatch;return u!==s.memoizedState&&(De.flags|=2048,fl(9,{destroy:void 0},bM.bind(null,y,u),null)),[f,w,a]}function bM(a,s){a.action=s}function sS(a){var s=bt(),u=Xe;if(u!==null)return iS(s,u,a);bt(),s=s.memoizedState,u=bt();var f=u.queue.dispatch;return u.memoizedState=a,[s,f,!1]}function fl(a,s,u,f){return a={tag:a,create:u,deps:f,inst:s,next:null},s=De.updateQueue,s===null&&(s=od(),De.updateQueue=s),u=s.lastEffect,u===null?s.lastEffect=a.next=a:(f=u.next,u.next=a,a.next=f,s.lastEffect=a),a}function lS(){return bt().memoizedState}function dd(a,s,u,f){var y=vr();De.flags|=a,y.memoizedState=fl(1|s,{destroy:void 0},u,f===void 0?null:f)}function fd(a,s,u,f){var y=bt();f=f===void 0?null:f;var w=y.memoizedState.inst;Xe!==null&&f!==null&&Mm(f,Xe.memoizedState.deps)?y.memoizedState=fl(s,w,u,f):(De.flags|=a,y.memoizedState=fl(1|s,w,u,f))}function oS(a,s){dd(8390656,8,a,s)}function Fm(a,s){fd(2048,8,a,s)}function xM(a){De.flags|=4;var s=De.updateQueue;if(s===null)s=od(),De.updateQueue=s,s.events=[a];else{var u=s.events;u===null?s.events=[a]:u.push(a)}}function uS(a){var s=bt().memoizedState;return xM({ref:s,nextImpl:a}),function(){if((Ve&2)!==0)throw Error(n(440));return s.impl.apply(void 0,arguments)}}function cS(a,s){return fd(4,2,a,s)}function dS(a,s){return fd(4,4,a,s)}function fS(a,s){if(typeof s=="function"){a=a();var u=s(a);return function(){typeof u=="function"?u():s(null)}}if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function hS(a,s,u){u=u!=null?u.concat([a]):null,fd(4,4,fS.bind(null,s,a),u)}function Km(){}function mS(a,s){var u=bt();s=s===void 0?null:s;var f=u.memoizedState;return s!==null&&Mm(s,f[1])?f[0]:(u.memoizedState=[a,s],a)}function gS(a,s){var u=bt();s=s===void 0?null:s;var f=u.memoizedState;if(s!==null&&Mm(s,f[1]))return f[0];if(f=a(),rs){rn(!0);try{a()}finally{rn(!1)}}return u.memoizedState=[f,s],f}function Vm(a,s,u){return u===void 0||(ma&1073741824)!==0&&(Ie&261930)===0?a.memoizedState=s:(a.memoizedState=u,a=p2(),De.lanes|=a,fi|=a,u)}function pS(a,s,u,f){return Hr(u,s)?u:ul.current!==null?(a=Vm(a,u,f),Hr(a,s)||(Et=!0),a):(ma&42)===0||(ma&1073741824)!==0&&(Ie&261930)===0?(Et=!0,a.memoizedState=u):(a=p2(),De.lanes|=a,fi|=a,s)}function vS(a,s,u,f,y){var w=K.p;K.p=w!==0&&8>w?w:8;var O=B.T,D={};B.T=D,Wm(a,!1,s,u);try{var U=y(),G=B.S;if(G!==null&&G(D,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var re=gM(U,f);qo(a,s,re,Wr(a))}else qo(a,s,f,Wr(a))}catch(se){qo(a,s,{then:function(){},status:"rejected",reason:se},Wr())}finally{K.p=w,O!==null&&D.types!==null&&(O.types=D.types),B.T=O}}function wM(){}function Gm(a,s,u,f){if(a.tag!==5)throw Error(n(476));var y=yS(a).queue;vS(a,y,s,le,u===null?wM:function(){return bS(a),u(f)})}function yS(a){var s=a.memoizedState;if(s!==null)return s;s={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:le},next:null};var u={};return s.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:u},next:null},a.memoizedState=s,a=a.alternate,a!==null&&(a.memoizedState=s),s}function bS(a){var s=yS(a);s.next===null&&(s=a.alternate.memoizedState),qo(a,s.next.queue,{},Wr())}function Ym(){return Qt(iu)}function xS(){return bt().memoizedState}function wS(){return bt().memoizedState}function SM(a){for(var s=a.return;s!==null;){switch(s.tag){case 24:case 3:var u=Wr();a=si(u);var f=li(s,a,u);f!==null&&(Pr(f,s,u),Lo(f,s,u)),s={cache:_m()},a.payload=s;return}s=s.return}}function _M(a,s,u){var f=Wr();u={lane:f,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},hd(a)?_S(s,u):(u=fm(a,s,u,f),u!==null&&(Pr(u,a,f),kS(u,s,f)))}function SS(a,s,u){var f=Wr();qo(a,s,u,f)}function qo(a,s,u,f){var y={lane:f,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(hd(a))_S(s,y);else{var w=a.alternate;if(a.lanes===0&&(w===null||w.lanes===0)&&(w=s.lastRenderedReducer,w!==null))try{var O=s.lastRenderedState,D=w(O,u);if(y.hasEagerState=!0,y.eagerState=D,Hr(D,O))return Gc(a,s,y,0),et===null&&Vc(),!1}catch{}finally{}if(u=fm(a,s,y,f),u!==null)return Pr(u,a,f),kS(u,s,f),!0}return!1}function Wm(a,s,u,f){if(f={lane:2,revertLane:Og(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},hd(a)){if(s)throw Error(n(479))}else s=fm(a,u,f,2),s!==null&&Pr(s,a,2)}function hd(a){var s=a.alternate;return a===De||s!==null&&s===De}function _S(a,s){cl=sd=!0;var u=a.pending;u===null?s.next=s:(s.next=u.next,u.next=s),a.pending=s}function kS(a,s,u){if((u&4194048)!==0){var f=s.lanes;f&=a.pendingLanes,u|=f,s.lanes=u,Aw(a,u)}}var Ho={readContext:Qt,use:ud,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt};Ho.useEffectEvent=gt;var jS={readContext:Qt,use:ud,useCallback:function(a,s){return vr().memoizedState=[a,s===void 0?null:s],a},useContext:Qt,useEffect:oS,useImperativeHandle:function(a,s,u){u=u!=null?u.concat([a]):null,dd(4194308,4,fS.bind(null,s,a),u)},useLayoutEffect:function(a,s){return dd(4194308,4,a,s)},useInsertionEffect:function(a,s){dd(4,2,a,s)},useMemo:function(a,s){var u=vr();s=s===void 0?null:s;var f=a();if(rs){rn(!0);try{a()}finally{rn(!1)}}return u.memoizedState=[f,s],f},useReducer:function(a,s,u){var f=vr();if(u!==void 0){var y=u(s);if(rs){rn(!0);try{u(s)}finally{rn(!1)}}}else y=s;return f.memoizedState=f.baseState=y,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:y},f.queue=a,a=a.dispatch=_M.bind(null,De,a),[f.memoizedState,a]},useRef:function(a){var s=vr();return a={current:a},s.memoizedState=a},useState:function(a){a=qm(a);var s=a.queue,u=SS.bind(null,De,s);return s.dispatch=u,[a.memoizedState,u]},useDebugValue:Km,useDeferredValue:function(a,s){var u=vr();return Vm(u,a,s)},useTransition:function(){var a=qm(!1);return a=vS.bind(null,De,a.queue,!0,!1),vr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,s,u){var f=De,y=vr();if(qe){if(u===void 0)throw Error(n(407));u=u()}else{if(u=s(),et===null)throw Error(n(349));(Ie&127)!==0||V1(f,s,u)}y.memoizedState=u;var w={value:u,getSnapshot:s};return y.queue=w,oS(Y1.bind(null,f,w,a),[a]),f.flags|=2048,fl(9,{destroy:void 0},G1.bind(null,f,w,u,s),null),u},useId:function(){var a=vr(),s=et.identifierPrefix;if(qe){var u=qn,f=Bn;u=(f&~(1<<32-Mt(f)-1)).toString(32)+u,s="_"+s+"R_"+u,u=ld++,0<u&&(s+="H"+u.toString(32)),s+="_"}else u=pM++,s="_"+s+"r_"+u.toString(32)+"_";return a.memoizedState=s},useHostTransitionStatus:Ym,useFormState:nS,useActionState:nS,useOptimistic:function(a){var s=vr();s.memoizedState=s.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=u,s=Wm.bind(null,De,!0,u),u.dispatch=s,[a,s]},useMemoCache:Um,useCacheRefresh:function(){return vr().memoizedState=SM.bind(null,De)},useEffectEvent:function(a){var s=vr(),u={impl:a};return s.memoizedState=u,function(){if((Ve&2)!==0)throw Error(n(440));return u.impl.apply(void 0,arguments)}}},Xm={readContext:Qt,use:ud,useCallback:mS,useContext:Qt,useEffect:Fm,useImperativeHandle:hS,useInsertionEffect:cS,useLayoutEffect:dS,useMemo:gS,useReducer:cd,useRef:lS,useState:function(){return cd(ga)},useDebugValue:Km,useDeferredValue:function(a,s){var u=bt();return pS(u,Xe.memoizedState,a,s)},useTransition:function(){var a=cd(ga)[0],s=bt().memoizedState;return[typeof a=="boolean"?a:Bo(a),s]},useSyncExternalStore:K1,useId:xS,useHostTransitionStatus:Ym,useFormState:aS,useActionState:aS,useOptimistic:function(a,s){var u=bt();return Z1(u,Xe,a,s)},useMemoCache:Um,useCacheRefresh:wS};Xm.useEffectEvent=uS;var ES={readContext:Qt,use:ud,useCallback:mS,useContext:Qt,useEffect:Fm,useImperativeHandle:hS,useInsertionEffect:cS,useLayoutEffect:dS,useMemo:gS,useReducer:Bm,useRef:lS,useState:function(){return Bm(ga)},useDebugValue:Km,useDeferredValue:function(a,s){var u=bt();return Xe===null?Vm(u,a,s):pS(u,Xe.memoizedState,a,s)},useTransition:function(){var a=Bm(ga)[0],s=bt().memoizedState;return[typeof a=="boolean"?a:Bo(a),s]},useSyncExternalStore:K1,useId:xS,useHostTransitionStatus:Ym,useFormState:sS,useActionState:sS,useOptimistic:function(a,s){var u=bt();return Xe!==null?Z1(u,Xe,a,s):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:Um,useCacheRefresh:wS};ES.useEffectEvent=uS;function Zm(a,s,u,f){s=a.memoizedState,u=u(f,s),u=u==null?s:p({},s,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var Jm={enqueueSetState:function(a,s,u){a=a._reactInternals;var f=Wr(),y=si(f);y.payload=s,u!=null&&(y.callback=u),s=li(a,y,f),s!==null&&(Pr(s,a,f),Lo(s,a,f))},enqueueReplaceState:function(a,s,u){a=a._reactInternals;var f=Wr(),y=si(f);y.tag=1,y.payload=s,u!=null&&(y.callback=u),s=li(a,y,f),s!==null&&(Pr(s,a,f),Lo(s,a,f))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var u=Wr(),f=si(u);f.tag=2,s!=null&&(f.callback=s),s=li(a,f,u),s!==null&&(Pr(s,a,u),Lo(s,a,u))}};function OS(a,s,u,f,y,w,O){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(f,w,O):s.prototype&&s.prototype.isPureReactComponent?!Ao(u,f)||!Ao(y,w):!0}function NS(a,s,u,f){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,f),s.state!==a&&Jm.enqueueReplaceState(s,s.state,null)}function ns(a,s){var u=s;if("ref"in s){u={};for(var f in s)f!=="ref"&&(u[f]=s[f])}if(a=a.defaultProps){u===s&&(u=p({},u));for(var y in a)u[y]===void 0&&(u[y]=a[y])}return u}function AS(a){Kc(a)}function TS(a){console.error(a)}function CS(a){Kc(a)}function md(a,s){try{var u=a.onUncaughtError;u(s.value,{componentStack:s.stack})}catch(f){setTimeout(function(){throw f})}}function PS(a,s,u){try{var f=a.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Qm(a,s,u){return u=si(u),u.tag=3,u.payload={element:null},u.callback=function(){md(a,s)},u}function DS(a){return a=si(a),a.tag=3,a}function MS(a,s,u,f){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var w=f.value;a.payload=function(){return y(w)},a.callback=function(){PS(s,u,f)}}var O=u.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(a.callback=function(){PS(s,u,f),typeof y!="function"&&(hi===null?hi=new Set([this]):hi.add(this));var D=f.stack;this.componentDidCatch(f.value,{componentStack:D!==null?D:""})})}function kM(a,s,u,f,y){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(s=u.alternate,s!==null&&al(s,u,y,!0),u=Kr.current,u!==null){switch(u.tag){case 31:case 13:return dn===null?Ed():u.alternate===null&&pt===0&&(pt=3),u.flags&=-257,u.flags|=65536,u.lanes=y,f===td?u.flags|=16384:(s=u.updateQueue,s===null?u.updateQueue=new Set([f]):s.add(f),kg(a,f,y)),!1;case 22:return u.flags|=65536,f===td?u.flags|=16384:(s=u.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=s):(u=s.retryQueue,u===null?s.retryQueue=new Set([f]):u.add(f)),kg(a,f,y)),!1}throw Error(n(435,u.tag))}return kg(a,f,y),Ed(),!1}if(qe)return s=Kr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=y,f!==ym&&(a=Error(n(422),{cause:f}),Po(ln(a,u)))):(f!==ym&&(s=Error(n(423),{cause:f}),Po(ln(s,u))),a=a.current.alternate,a.flags|=65536,y&=-y,a.lanes|=y,f=ln(f,u),y=Qm(a.stateNode,f,y),Am(a,y),pt!==4&&(pt=2)),!1;var w=Error(n(520),{cause:f});if(w=ln(w,u),Zo===null?Zo=[w]:Zo.push(w),pt!==4&&(pt=2),s===null)return!0;f=ln(f,u),u=s;do{switch(u.tag){case 3:return u.flags|=65536,a=y&-y,u.lanes|=a,a=Qm(u.stateNode,f,a),Am(u,a),!1;case 1:if(s=u.type,w=u.stateNode,(u.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(hi===null||!hi.has(w))))return u.flags|=65536,y&=-y,u.lanes|=y,y=DS(y),MS(y,a,u,f),Am(u,y),!1}u=u.return}while(u!==null);return!1}var eg=Error(n(461)),Et=!1;function er(a,s,u,f){s.child=a===null?I1(s,null,u,f):ts(s,a.child,u,f)}function RS(a,s,u,f,y){u=u.render;var w=s.ref;if("ref"in f){var O={};for(var D in f)D!=="ref"&&(O[D]=f[D])}else O=f;return Zi(s),f=Rm(a,s,u,O,w,y),D=$m(),a!==null&&!Et?(Lm(a,s,y),pa(a,s,y)):(qe&&D&&pm(s),s.flags|=1,er(a,s,f,y),s.child)}function $S(a,s,u,f,y){if(a===null){var w=u.type;return typeof w=="function"&&!hm(w)&&w.defaultProps===void 0&&u.compare===null?(s.tag=15,s.type=w,LS(a,s,w,f,y)):(a=Wc(u.type,null,f,s,s.mode,y),a.ref=s.ref,a.return=s,s.child=a)}if(w=a.child,!og(a,y)){var O=w.memoizedProps;if(u=u.compare,u=u!==null?u:Ao,u(O,f)&&a.ref===s.ref)return pa(a,s,y)}return s.flags|=1,a=ca(w,f),a.ref=s.ref,a.return=s,s.child=a}function LS(a,s,u,f,y){if(a!==null){var w=a.memoizedProps;if(Ao(w,f)&&a.ref===s.ref)if(Et=!1,s.pendingProps=f=w,og(a,y))(a.flags&131072)!==0&&(Et=!0);else return s.lanes=a.lanes,pa(a,s,y)}return tg(a,s,u,f,y)}function IS(a,s,u,f){var y=f.children,w=a!==null?a.memoizedState:null;if(a===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((s.flags&128)!==0){if(w=w!==null?w.baseLanes|u:u,a!==null){for(f=s.child=a.child,y=0;f!==null;)y=y|f.lanes|f.childLanes,f=f.sibling;f=y&~w}else f=0,s.child=null;return US(a,s,w,u,f)}if((u&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},a!==null&&Qc(s,w!==null?w.cachePool:null),w!==null?B1(s,w):Cm(),q1(s);else return f=s.lanes=536870912,US(a,s,w!==null?w.baseLanes|u:u,u,f)}else w!==null?(Qc(s,w.cachePool),B1(s,w),ui(),s.memoizedState=null):(a!==null&&Qc(s,null),Cm(),ui());return er(a,s,y,u),s.child}function Fo(a,s){return a!==null&&a.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function US(a,s,u,f,y){var w=jm();return w=w===null?null:{parent:kt._currentValue,pool:w},s.memoizedState={baseLanes:u,cachePool:w},a!==null&&Qc(s,null),Cm(),q1(s),a!==null&&al(a,s,f,!0),s.childLanes=y,null}function gd(a,s){return s=vd({mode:s.mode,children:s.children},a.mode),s.ref=a.ref,a.child=s,s.return=a,s}function zS(a,s,u){return ts(s,a.child,null,u),a=gd(s,s.pendingProps),a.flags|=2,Vr(s),s.memoizedState=null,a}function jM(a,s,u){var f=s.pendingProps,y=(s.flags&128)!==0;if(s.flags&=-129,a===null){if(qe){if(f.mode==="hidden")return a=gd(s,f),s.lanes=536870912,Fo(null,a);if(Dm(s),(a=at)?(a=J2(a,cn),a=a!==null&&a.data==="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:ti!==null?{id:Bn,overflow:qn}:null,retryLane:536870912,hydrationErrors:null},u=_1(a),u.return=s,s.child=u,Jt=s,at=null)):a=null,a===null)throw ni(s);return s.lanes=536870912,null}return gd(s,f)}var w=a.memoizedState;if(w!==null){var O=w.dehydrated;if(Dm(s),y)if(s.flags&256)s.flags&=-257,s=zS(a,s,u);else if(s.memoizedState!==null)s.child=a.child,s.flags|=128,s=null;else throw Error(n(558));else if(Et||al(a,s,u,!1),y=(u&a.childLanes)!==0,Et||y){if(f=et,f!==null&&(O=Tw(f,u),O!==0&&O!==w.retryLane))throw w.retryLane=O,Gi(a,O),Pr(f,a,O),eg;Ed(),s=zS(a,s,u)}else a=w.treeContext,at=fn(O.nextSibling),Jt=s,qe=!0,ri=null,cn=!1,a!==null&&E1(s,a),s=gd(s,f),s.flags|=4096;return s}return a=ca(a.child,{mode:f.mode,children:f.children}),a.ref=s.ref,s.child=a,a.return=s,a}function pd(a,s){var u=s.ref;if(u===null)a!==null&&a.ref!==null&&(s.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(n(284));(a===null||a.ref!==u)&&(s.flags|=4194816)}}function tg(a,s,u,f,y){return Zi(s),u=Rm(a,s,u,f,void 0,y),f=$m(),a!==null&&!Et?(Lm(a,s,y),pa(a,s,y)):(qe&&f&&pm(s),s.flags|=1,er(a,s,u,y),s.child)}function BS(a,s,u,f,y,w){return Zi(s),s.updateQueue=null,u=F1(s,f,u,y),H1(a),f=$m(),a!==null&&!Et?(Lm(a,s,w),pa(a,s,w)):(qe&&f&&pm(s),s.flags|=1,er(a,s,u,w),s.child)}function qS(a,s,u,f,y){if(Zi(s),s.stateNode===null){var w=el,O=u.contextType;typeof O=="object"&&O!==null&&(w=Qt(O)),w=new u(f,w),s.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Jm,s.stateNode=w,w._reactInternals=s,w=s.stateNode,w.props=f,w.state=s.memoizedState,w.refs={},Om(s),O=u.contextType,w.context=typeof O=="object"&&O!==null?Qt(O):el,w.state=s.memoizedState,O=u.getDerivedStateFromProps,typeof O=="function"&&(Zm(s,u,O,f),w.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(O=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),O!==w.state&&Jm.enqueueReplaceState(w,w.state,null),Uo(s,f,w,y),Io(),w.state=s.memoizedState),typeof w.componentDidMount=="function"&&(s.flags|=4194308),f=!0}else if(a===null){w=s.stateNode;var D=s.memoizedProps,U=ns(u,D);w.props=U;var G=w.context,re=u.contextType;O=el,typeof re=="object"&&re!==null&&(O=Qt(re));var se=u.getDerivedStateFromProps;re=typeof se=="function"||typeof w.getSnapshotBeforeUpdate=="function",D=s.pendingProps!==D,re||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(D||G!==O)&&NS(s,w,f,O),ii=!1;var Y=s.memoizedState;w.state=Y,Uo(s,f,w,y),Io(),G=s.memoizedState,D||Y!==G||ii?(typeof se=="function"&&(Zm(s,u,se,f),G=s.memoizedState),(U=ii||OS(s,u,U,f,Y,G,O))?(re||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=G),w.props=f,w.state=G,w.context=O,f=U):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{w=s.stateNode,Nm(a,s),O=s.memoizedProps,re=ns(u,O),w.props=re,se=s.pendingProps,Y=w.context,G=u.contextType,U=el,typeof G=="object"&&G!==null&&(U=Qt(G)),D=u.getDerivedStateFromProps,(G=typeof D=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(O!==se||Y!==U)&&NS(s,w,f,U),ii=!1,Y=s.memoizedState,w.state=Y,Uo(s,f,w,y),Io();var J=s.memoizedState;O!==se||Y!==J||ii||a!==null&&a.dependencies!==null&&Zc(a.dependencies)?(typeof D=="function"&&(Zm(s,u,D,f),J=s.memoizedState),(re=ii||OS(s,u,re,f,Y,J,U)||a!==null&&a.dependencies!==null&&Zc(a.dependencies))?(G||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(f,J,U),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(f,J,U)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||O===a.memoizedProps&&Y===a.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||O===a.memoizedProps&&Y===a.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=J),w.props=f,w.state=J,w.context=U,f=re):(typeof w.componentDidUpdate!="function"||O===a.memoizedProps&&Y===a.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||O===a.memoizedProps&&Y===a.memoizedState||(s.flags|=1024),f=!1)}return w=f,pd(a,s),f=(s.flags&128)!==0,w||f?(w=s.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:w.render(),s.flags|=1,a!==null&&f?(s.child=ts(s,a.child,null,y),s.child=ts(s,null,u,y)):er(a,s,u,y),s.memoizedState=w.state,a=s.child):a=pa(a,s,y),a}function HS(a,s,u,f){return Wi(),s.flags|=256,er(a,s,u,f),s.child}var rg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ng(a){return{baseLanes:a,cachePool:P1()}}function ag(a,s,u){return a=a!==null?a.childLanes&~u:0,s&&(a|=Yr),a}function FS(a,s,u){var f=s.pendingProps,y=!1,w=(s.flags&128)!==0,O;if((O=w)||(O=a!==null&&a.memoizedState===null?!1:(yt.current&2)!==0),O&&(y=!0,s.flags&=-129),O=(s.flags&32)!==0,s.flags&=-33,a===null){if(qe){if(y?oi(s):ui(),(a=at)?(a=J2(a,cn),a=a!==null&&a.data!=="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:ti!==null?{id:Bn,overflow:qn}:null,retryLane:536870912,hydrationErrors:null},u=_1(a),u.return=s,s.child=u,Jt=s,at=null)):a=null,a===null)throw ni(s);return zg(a)?s.lanes=32:s.lanes=536870912,null}var D=f.children;return f=f.fallback,y?(ui(),y=s.mode,D=vd({mode:"hidden",children:D},y),f=Yi(f,y,u,null),D.return=s,f.return=s,D.sibling=f,s.child=D,f=s.child,f.memoizedState=ng(u),f.childLanes=ag(a,O,u),s.memoizedState=rg,Fo(null,f)):(oi(s),ig(s,D))}var U=a.memoizedState;if(U!==null&&(D=U.dehydrated,D!==null)){if(w)s.flags&256?(oi(s),s.flags&=-257,s=sg(a,s,u)):s.memoizedState!==null?(ui(),s.child=a.child,s.flags|=128,s=null):(ui(),D=f.fallback,y=s.mode,f=vd({mode:"visible",children:f.children},y),D=Yi(D,y,u,null),D.flags|=2,f.return=s,D.return=s,f.sibling=D,s.child=f,ts(s,a.child,null,u),f=s.child,f.memoizedState=ng(u),f.childLanes=ag(a,O,u),s.memoizedState=rg,s=Fo(null,f));else if(oi(s),zg(D)){if(O=D.nextSibling&&D.nextSibling.dataset,O)var G=O.dgst;O=G,f=Error(n(419)),f.stack="",f.digest=O,Po({value:f,source:null,stack:null}),s=sg(a,s,u)}else if(Et||al(a,s,u,!1),O=(u&a.childLanes)!==0,Et||O){if(O=et,O!==null&&(f=Tw(O,u),f!==0&&f!==U.retryLane))throw U.retryLane=f,Gi(a,f),Pr(O,a,f),eg;Ug(D)||Ed(),s=sg(a,s,u)}else Ug(D)?(s.flags|=192,s.child=a.child,s=null):(a=U.treeContext,at=fn(D.nextSibling),Jt=s,qe=!0,ri=null,cn=!1,a!==null&&E1(s,a),s=ig(s,f.children),s.flags|=4096);return s}return y?(ui(),D=f.fallback,y=s.mode,U=a.child,G=U.sibling,f=ca(U,{mode:"hidden",children:f.children}),f.subtreeFlags=U.subtreeFlags&65011712,G!==null?D=ca(G,D):(D=Yi(D,y,u,null),D.flags|=2),D.return=s,f.return=s,f.sibling=D,s.child=f,Fo(null,f),f=s.child,D=a.child.memoizedState,D===null?D=ng(u):(y=D.cachePool,y!==null?(U=kt._currentValue,y=y.parent!==U?{parent:U,pool:U}:y):y=P1(),D={baseLanes:D.baseLanes|u,cachePool:y}),f.memoizedState=D,f.childLanes=ag(a,O,u),s.memoizedState=rg,Fo(a.child,f)):(oi(s),u=a.child,a=u.sibling,u=ca(u,{mode:"visible",children:f.children}),u.return=s,u.sibling=null,a!==null&&(O=s.deletions,O===null?(s.deletions=[a],s.flags|=16):O.push(a)),s.child=u,s.memoizedState=null,u)}function ig(a,s){return s=vd({mode:"visible",children:s},a.mode),s.return=a,a.child=s}function vd(a,s){return a=Fr(22,a,null,s),a.lanes=0,a}function sg(a,s,u){return ts(s,a.child,null,u),a=ig(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function KS(a,s,u){a.lanes|=s;var f=a.alternate;f!==null&&(f.lanes|=s),wm(a.return,s,u)}function lg(a,s,u,f,y,w){var O=a.memoizedState;O===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:y,treeForkCount:w}:(O.isBackwards=s,O.rendering=null,O.renderingStartTime=0,O.last=f,O.tail=u,O.tailMode=y,O.treeForkCount=w)}function VS(a,s,u){var f=s.pendingProps,y=f.revealOrder,w=f.tail;f=f.children;var O=yt.current,D=(O&2)!==0;if(D?(O=O&1|2,s.flags|=128):O&=1,X(yt,O),er(a,s,f,u),f=qe?Co:0,!D&&a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&KS(a,u,s);else if(a.tag===19)KS(a,u,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(y){case"forwards":for(u=s.child,y=null;u!==null;)a=u.alternate,a!==null&&id(a)===null&&(y=u),u=u.sibling;u=y,u===null?(y=s.child,s.child=null):(y=u.sibling,u.sibling=null),lg(s,!1,y,u,w,f);break;case"backwards":case"unstable_legacy-backwards":for(u=null,y=s.child,s.child=null;y!==null;){if(a=y.alternate,a!==null&&id(a)===null){s.child=y;break}a=y.sibling,y.sibling=u,u=y,y=a}lg(s,!0,u,null,w,f);break;case"together":lg(s,!1,null,null,void 0,f);break;default:s.memoizedState=null}return s.child}function pa(a,s,u){if(a!==null&&(s.dependencies=a.dependencies),fi|=s.lanes,(u&s.childLanes)===0)if(a!==null){if(al(a,s,u,!1),(u&s.childLanes)===0)return null}else return null;if(a!==null&&s.child!==a.child)throw Error(n(153));if(s.child!==null){for(a=s.child,u=ca(a,a.pendingProps),s.child=u,u.return=s;a.sibling!==null;)a=a.sibling,u=u.sibling=ca(a,a.pendingProps),u.return=s;u.sibling=null}return s.child}function og(a,s){return(a.lanes&s)!==0?!0:(a=a.dependencies,!!(a!==null&&Zc(a)))}function EM(a,s,u){switch(s.tag){case 3:Ee(s,s.stateNode.containerInfo),ai(s,kt,a.memoizedState.cache),Wi();break;case 27:case 5:we(s);break;case 4:Ee(s,s.stateNode.containerInfo);break;case 10:ai(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Dm(s),null;break;case 13:var f=s.memoizedState;if(f!==null)return f.dehydrated!==null?(oi(s),s.flags|=128,null):(u&s.child.childLanes)!==0?FS(a,s,u):(oi(s),a=pa(a,s,u),a!==null?a.sibling:null);oi(s);break;case 19:var y=(a.flags&128)!==0;if(f=(u&s.childLanes)!==0,f||(al(a,s,u,!1),f=(u&s.childLanes)!==0),y){if(f)return VS(a,s,u);s.flags|=128}if(y=s.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),X(yt,yt.current),f)break;return null;case 22:return s.lanes=0,IS(a,s,u,s.pendingProps);case 24:ai(s,kt,a.memoizedState.cache)}return pa(a,s,u)}function GS(a,s,u){if(a!==null)if(a.memoizedProps!==s.pendingProps)Et=!0;else{if(!og(a,u)&&(s.flags&128)===0)return Et=!1,EM(a,s,u);Et=(a.flags&131072)!==0}else Et=!1,qe&&(s.flags&1048576)!==0&&j1(s,Co,s.index);switch(s.lanes=0,s.tag){case 16:e:{var f=s.pendingProps;if(a=Qi(s.elementType),s.type=a,typeof a=="function")hm(a)?(f=ns(a,f),s.tag=1,s=qS(null,s,a,f,u)):(s.tag=0,s=tg(null,s,a,f,u));else{if(a!=null){var y=a.$$typeof;if(y===P){s.tag=11,s=RS(null,s,a,f,u);break e}else if(y===C){s.tag=14,s=$S(null,s,a,f,u);break e}}throw s=te(a)||a,Error(n(306,s,""))}}return s;case 0:return tg(a,s,s.type,s.pendingProps,u);case 1:return f=s.type,y=ns(f,s.pendingProps),qS(a,s,f,y,u);case 3:e:{if(Ee(s,s.stateNode.containerInfo),a===null)throw Error(n(387));f=s.pendingProps;var w=s.memoizedState;y=w.element,Nm(a,s),Uo(s,f,null,u);var O=s.memoizedState;if(f=O.cache,ai(s,kt,f),f!==w.cache&&Sm(s,[kt],u,!0),Io(),f=O.element,w.isDehydrated)if(w={element:f,isDehydrated:!1,cache:O.cache},s.updateQueue.baseState=w,s.memoizedState=w,s.flags&256){s=HS(a,s,f,u);break e}else if(f!==y){y=ln(Error(n(424)),s),Po(y),s=HS(a,s,f,u);break e}else{switch(a=s.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(at=fn(a.firstChild),Jt=s,qe=!0,ri=null,cn=!0,u=I1(s,null,f,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Wi(),f===y){s=pa(a,s,u);break e}er(a,s,f,u)}s=s.child}return s;case 26:return pd(a,s),a===null?(u=a_(s.type,null,s.pendingProps,null))?s.memoizedState=u:qe||(u=s.type,a=s.pendingProps,f=Dd(ce.current).createElement(u),f[Zt]=s,f[Er]=a,tr(f,u,a),qt(f),s.stateNode=f):s.memoizedState=a_(s.type,a.memoizedProps,s.pendingProps,a.memoizedState),null;case 27:return we(s),a===null&&qe&&(f=s.stateNode=t_(s.type,s.pendingProps,ce.current),Jt=s,cn=!0,y=at,vi(s.type)?(Bg=y,at=fn(f.firstChild)):at=y),er(a,s,s.pendingProps.children,u),pd(a,s),a===null&&(s.flags|=4194304),s.child;case 5:return a===null&&qe&&((y=f=at)&&(f=rR(f,s.type,s.pendingProps,cn),f!==null?(s.stateNode=f,Jt=s,at=fn(f.firstChild),cn=!1,y=!0):y=!1),y||ni(s)),we(s),y=s.type,w=s.pendingProps,O=a!==null?a.memoizedProps:null,f=w.children,$g(y,w)?f=null:O!==null&&$g(y,O)&&(s.flags|=32),s.memoizedState!==null&&(y=Rm(a,s,vM,null,null,u),iu._currentValue=y),pd(a,s),er(a,s,f,u),s.child;case 6:return a===null&&qe&&((a=u=at)&&(u=nR(u,s.pendingProps,cn),u!==null?(s.stateNode=u,Jt=s,at=null,a=!0):a=!1),a||ni(s)),null;case 13:return FS(a,s,u);case 4:return Ee(s,s.stateNode.containerInfo),f=s.pendingProps,a===null?s.child=ts(s,null,f,u):er(a,s,f,u),s.child;case 11:return RS(a,s,s.type,s.pendingProps,u);case 7:return er(a,s,s.pendingProps,u),s.child;case 8:return er(a,s,s.pendingProps.children,u),s.child;case 12:return er(a,s,s.pendingProps.children,u),s.child;case 10:return f=s.pendingProps,ai(s,s.type,f.value),er(a,s,f.children,u),s.child;case 9:return y=s.type._context,f=s.pendingProps.children,Zi(s),y=Qt(y),f=f(y),s.flags|=1,er(a,s,f,u),s.child;case 14:return $S(a,s,s.type,s.pendingProps,u);case 15:return LS(a,s,s.type,s.pendingProps,u);case 19:return VS(a,s,u);case 31:return jM(a,s,u);case 22:return IS(a,s,u,s.pendingProps);case 24:return Zi(s),f=Qt(kt),a===null?(y=jm(),y===null&&(y=et,w=_m(),y.pooledCache=w,w.refCount++,w!==null&&(y.pooledCacheLanes|=u),y=w),s.memoizedState={parent:f,cache:y},Om(s),ai(s,kt,y)):((a.lanes&u)!==0&&(Nm(a,s),Uo(s,null,null,u),Io()),y=a.memoizedState,w=s.memoizedState,y.parent!==f?(y={parent:f,cache:f},s.memoizedState=y,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=y),ai(s,kt,f)):(f=w.cache,ai(s,kt,f),f!==y.cache&&Sm(s,[kt],u,!0))),er(a,s,s.pendingProps.children,u),s.child;case 29:throw s.pendingProps}throw Error(n(156,s.tag))}function va(a){a.flags|=4}function ug(a,s,u,f,y){if((s=(a.mode&32)!==0)&&(s=!1),s){if(a.flags|=16777216,(y&335544128)===y)if(a.stateNode.complete)a.flags|=8192;else if(x2())a.flags|=8192;else throw es=td,Em}else a.flags&=-16777217}function YS(a,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!u_(s))if(x2())a.flags|=8192;else throw es=td,Em}function yd(a,s){s!==null&&(a.flags|=4),a.flags&16384&&(s=a.tag!==22?Ow():536870912,a.lanes|=s,pl|=s)}function Ko(a,s){if(!qe)switch(a.tailMode){case"hidden":s=a.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:f.sibling=null}}function it(a){var s=a.alternate!==null&&a.alternate.child===a.child,u=0,f=0;if(s)for(var y=a.child;y!==null;)u|=y.lanes|y.childLanes,f|=y.subtreeFlags&65011712,f|=y.flags&65011712,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)u|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=f,a.childLanes=u,s}function OM(a,s,u){var f=s.pendingProps;switch(vm(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(s),null;case 1:return it(s),null;case 3:return u=s.stateNode,f=null,a!==null&&(f=a.memoizedState.cache),s.memoizedState.cache!==f&&(s.flags|=2048),ha(kt),Z(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(nl(s)?va(s):a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,bm())),it(s),null;case 26:var y=s.type,w=s.memoizedState;return a===null?(va(s),w!==null?(it(s),YS(s,w)):(it(s),ug(s,y,null,f,u))):w?w!==a.memoizedState?(va(s),it(s),YS(s,w)):(it(s),s.flags&=-16777217):(a=a.memoizedProps,a!==f&&va(s),it(s),ug(s,y,a,f,u)),null;case 27:if(he(s),u=ce.current,y=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==f&&va(s);else{if(!f){if(s.stateNode===null)throw Error(n(166));return it(s),null}a=oe.current,nl(s)?O1(s):(a=t_(y,f,u),s.stateNode=a,va(s))}return it(s),null;case 5:if(he(s),y=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==f&&va(s);else{if(!f){if(s.stateNode===null)throw Error(n(166));return it(s),null}if(w=oe.current,nl(s))O1(s);else{var O=Dd(ce.current);switch(w){case 1:w=O.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:w=O.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":w=O.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":w=O.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":w=O.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof f.is=="string"?O.createElement("select",{is:f.is}):O.createElement("select"),f.multiple?w.multiple=!0:f.size&&(w.size=f.size);break;default:w=typeof f.is=="string"?O.createElement(y,{is:f.is}):O.createElement(y)}}w[Zt]=s,w[Er]=f;e:for(O=s.child;O!==null;){if(O.tag===5||O.tag===6)w.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===s)break e;for(;O.sibling===null;){if(O.return===null||O.return===s)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}s.stateNode=w;e:switch(tr(w,y,f),y){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&va(s)}}return it(s),ug(s,s.type,a===null?null:a.memoizedProps,s.pendingProps,u),null;case 6:if(a&&s.stateNode!=null)a.memoizedProps!==f&&va(s);else{if(typeof f!="string"&&s.stateNode===null)throw Error(n(166));if(a=ce.current,nl(s)){if(a=s.stateNode,u=s.memoizedProps,f=null,y=Jt,y!==null)switch(y.tag){case 27:case 5:f=y.memoizedProps}a[Zt]=s,a=!!(a.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||F2(a.nodeValue,u)),a||ni(s,!0)}else a=Dd(a).createTextNode(f),a[Zt]=s,s.stateNode=a}return it(s),null;case 31:if(u=s.memoizedState,a===null||a.memoizedState!==null){if(f=nl(s),u!==null){if(a===null){if(!f)throw Error(n(318));if(a=s.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(557));a[Zt]=s}else Wi(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;it(s),a=!1}else u=bm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=u),a=!0;if(!a)return s.flags&256?(Vr(s),s):(Vr(s),null);if((s.flags&128)!==0)throw Error(n(558))}return it(s),null;case 13:if(f=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(y=nl(s),f!==null&&f.dehydrated!==null){if(a===null){if(!y)throw Error(n(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[Zt]=s}else Wi(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;it(s),y=!1}else y=bm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=y),y=!0;if(!y)return s.flags&256?(Vr(s),s):(Vr(s),null)}return Vr(s),(s.flags&128)!==0?(s.lanes=u,s):(u=f!==null,a=a!==null&&a.memoizedState!==null,u&&(f=s.child,y=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(y=f.alternate.memoizedState.cachePool.pool),w=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(w=f.memoizedState.cachePool.pool),w!==y&&(f.flags|=2048)),u!==a&&u&&(s.child.flags|=8192),yd(s,s.updateQueue),it(s),null);case 4:return Z(),a===null&&Cg(s.stateNode.containerInfo),it(s),null;case 10:return ha(s.type),it(s),null;case 19:if(H(yt),f=s.memoizedState,f===null)return it(s),null;if(y=(s.flags&128)!==0,w=f.rendering,w===null)if(y)Ko(f,!1);else{if(pt!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(w=id(a),w!==null){for(s.flags|=128,Ko(f,!1),a=w.updateQueue,s.updateQueue=a,yd(s,a),s.subtreeFlags=0,a=u,u=s.child;u!==null;)S1(u,a),u=u.sibling;return X(yt,yt.current&1|2),qe&&da(s,f.treeForkCount),s.child}a=a.sibling}f.tail!==null&&ht()>_d&&(s.flags|=128,y=!0,Ko(f,!1),s.lanes=4194304)}else{if(!y)if(a=id(w),a!==null){if(s.flags|=128,y=!0,a=a.updateQueue,s.updateQueue=a,yd(s,a),Ko(f,!0),f.tail===null&&f.tailMode==="hidden"&&!w.alternate&&!qe)return it(s),null}else 2*ht()-f.renderingStartTime>_d&&u!==536870912&&(s.flags|=128,y=!0,Ko(f,!1),s.lanes=4194304);f.isBackwards?(w.sibling=s.child,s.child=w):(a=f.last,a!==null?a.sibling=w:s.child=w,f.last=w)}return f.tail!==null?(a=f.tail,f.rendering=a,f.tail=a.sibling,f.renderingStartTime=ht(),a.sibling=null,u=yt.current,X(yt,y?u&1|2:u&1),qe&&da(s,f.treeForkCount),a):(it(s),null);case 22:case 23:return Vr(s),Pm(),f=s.memoizedState!==null,a!==null?a.memoizedState!==null!==f&&(s.flags|=8192):f&&(s.flags|=8192),f?(u&536870912)!==0&&(s.flags&128)===0&&(it(s),s.subtreeFlags&6&&(s.flags|=8192)):it(s),u=s.updateQueue,u!==null&&yd(s,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),f=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==u&&(s.flags|=2048),a!==null&&H(Ji),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),ha(kt),it(s),null;case 25:return null;case 30:return null}throw Error(n(156,s.tag))}function NM(a,s){switch(vm(s),s.tag){case 1:return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return ha(kt),Z(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 26:case 27:case 5:return he(s),null;case 31:if(s.memoizedState!==null){if(Vr(s),s.alternate===null)throw Error(n(340));Wi()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 13:if(Vr(s),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(n(340));Wi()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return H(yt),null;case 4:return Z(),null;case 10:return ha(s.type),null;case 22:case 23:return Vr(s),Pm(),a!==null&&H(Ji),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 24:return ha(kt),null;case 25:return null;default:return null}}function WS(a,s){switch(vm(s),s.tag){case 3:ha(kt),Z();break;case 26:case 27:case 5:he(s);break;case 4:Z();break;case 31:s.memoizedState!==null&&Vr(s);break;case 13:Vr(s);break;case 19:H(yt);break;case 10:ha(s.type);break;case 22:case 23:Vr(s),Pm(),a!==null&&H(Ji);break;case 24:ha(kt)}}function Vo(a,s){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var y=f.next;u=y;do{if((u.tag&a)===a){f=void 0;var w=u.create,O=u.inst;f=w(),O.destroy=f}u=u.next}while(u!==y)}}catch(D){Ye(s,s.return,D)}}function ci(a,s,u){try{var f=s.updateQueue,y=f!==null?f.lastEffect:null;if(y!==null){var w=y.next;f=w;do{if((f.tag&a)===a){var O=f.inst,D=O.destroy;if(D!==void 0){O.destroy=void 0,y=s;var U=u,G=D;try{G()}catch(re){Ye(y,U,re)}}}f=f.next}while(f!==w)}}catch(re){Ye(s,s.return,re)}}function XS(a){var s=a.updateQueue;if(s!==null){var u=a.stateNode;try{z1(s,u)}catch(f){Ye(a,a.return,f)}}}function ZS(a,s,u){u.props=ns(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(f){Ye(a,s,f)}}function Go(a,s){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var f=a.stateNode;break;case 30:f=a.stateNode;break;default:f=a.stateNode}typeof u=="function"?a.refCleanup=u(f):u.current=f}}catch(y){Ye(a,s,y)}}function Hn(a,s){var u=a.ref,f=a.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(y){Ye(a,s,y)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){Ye(a,s,y)}else u.current=null}function JS(a){var s=a.type,u=a.memoizedProps,f=a.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break e;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(y){Ye(a,a.return,y)}}function cg(a,s,u){try{var f=a.stateNode;XM(f,a.type,u,s),f[Er]=s}catch(y){Ye(a,a.return,y)}}function QS(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&vi(a.type)||a.tag===4}function dg(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||QS(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&vi(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function fg(a,s,u){var f=a.tag;if(f===5||f===6)a=a.stateNode,s?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,s):(s=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,s.appendChild(a),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=oa));else if(f!==4&&(f===27&&vi(a.type)&&(u=a.stateNode,s=null),a=a.child,a!==null))for(fg(a,s,u),a=a.sibling;a!==null;)fg(a,s,u),a=a.sibling}function bd(a,s,u){var f=a.tag;if(f===5||f===6)a=a.stateNode,s?u.insertBefore(a,s):u.appendChild(a);else if(f!==4&&(f===27&&vi(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(bd(a,s,u),a=a.sibling;a!==null;)bd(a,s,u),a=a.sibling}function e2(a){var s=a.stateNode,u=a.memoizedProps;try{for(var f=a.type,y=s.attributes;y.length;)s.removeAttributeNode(y[0]);tr(s,f,u),s[Zt]=a,s[Er]=u}catch(w){Ye(a,a.return,w)}}var ya=!1,Ot=!1,hg=!1,t2=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function AM(a,s){if(a=a.containerInfo,Mg=zd,a=h1(a),sm(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var y=f.anchorOffset,w=f.focusNode;f=f.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break e}var O=0,D=-1,U=-1,G=0,re=0,se=a,Y=null;t:for(;;){for(var J;se!==u||y!==0&&se.nodeType!==3||(D=O+y),se!==w||f!==0&&se.nodeType!==3||(U=O+f),se.nodeType===3&&(O+=se.nodeValue.length),(J=se.firstChild)!==null;)Y=se,se=J;for(;;){if(se===a)break t;if(Y===u&&++G===y&&(D=O),Y===w&&++re===f&&(U=O),(J=se.nextSibling)!==null)break;se=Y,Y=se.parentNode}se=J}u=D===-1||U===-1?null:{start:D,end:U}}else u=null}u=u||{start:0,end:0}}else u=null;for(Rg={focusedElem:a,selectionRange:u},zd=!1,Ht=s;Ht!==null;)if(s=Ht,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,Ht=a;else for(;Ht!==null;){switch(s=Ht,w=s.alternate,a=s.flags,s.tag){case 0:if((a&4)!==0&&(a=s.updateQueue,a=a!==null?a.events:null,a!==null))for(u=0;u<a.length;u++)y=a[u],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&w!==null){a=void 0,u=s,y=w.memoizedProps,w=w.memoizedState,f=u.stateNode;try{var be=ns(u.type,y);a=f.getSnapshotBeforeUpdate(be,w),f.__reactInternalSnapshotBeforeUpdate=a}catch(Ne){Ye(u,u.return,Ne)}}break;case 3:if((a&1024)!==0){if(a=s.stateNode.containerInfo,u=a.nodeType,u===9)Ig(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Ig(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(n(163))}if(a=s.sibling,a!==null){a.return=s.return,Ht=a;break}Ht=s.return}}function r2(a,s,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:xa(a,u),f&4&&Vo(5,u);break;case 1:if(xa(a,u),f&4)if(a=u.stateNode,s===null)try{a.componentDidMount()}catch(O){Ye(u,u.return,O)}else{var y=ns(u.type,s.memoizedProps);s=s.memoizedState;try{a.componentDidUpdate(y,s,a.__reactInternalSnapshotBeforeUpdate)}catch(O){Ye(u,u.return,O)}}f&64&&XS(u),f&512&&Go(u,u.return);break;case 3:if(xa(a,u),f&64&&(a=u.updateQueue,a!==null)){if(s=null,u.child!==null)switch(u.child.tag){case 27:case 5:s=u.child.stateNode;break;case 1:s=u.child.stateNode}try{z1(a,s)}catch(O){Ye(u,u.return,O)}}break;case 27:s===null&&f&4&&e2(u);case 26:case 5:xa(a,u),s===null&&f&4&&JS(u),f&512&&Go(u,u.return);break;case 12:xa(a,u);break;case 31:xa(a,u),f&4&&i2(a,u);break;case 13:xa(a,u),f&4&&s2(a,u),f&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=IM.bind(null,u),aR(a,u))));break;case 22:if(f=u.memoizedState!==null||ya,!f){s=s!==null&&s.memoizedState!==null||Ot,y=ya;var w=Ot;ya=f,(Ot=s)&&!w?wa(a,u,(u.subtreeFlags&8772)!==0):xa(a,u),ya=y,Ot=w}break;case 30:break;default:xa(a,u)}}function n2(a){var s=a.alternate;s!==null&&(a.alternate=null,n2(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&H0(s)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var ut=null,Nr=!1;function ba(a,s,u){for(u=u.child;u!==null;)a2(a,s,u),u=u.sibling}function a2(a,s,u){if(pr&&typeof pr.onCommitFiberUnmount=="function")try{pr.onCommitFiberUnmount(sa,u)}catch{}switch(u.tag){case 26:Ot||Hn(u,s),ba(a,s,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Ot||Hn(u,s);var f=ut,y=Nr;vi(u.type)&&(ut=u.stateNode,Nr=!1),ba(a,s,u),ru(u.stateNode),ut=f,Nr=y;break;case 5:Ot||Hn(u,s);case 6:if(f=ut,y=Nr,ut=null,ba(a,s,u),ut=f,Nr=y,ut!==null)if(Nr)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(u.stateNode)}catch(w){Ye(u,s,w)}else try{ut.removeChild(u.stateNode)}catch(w){Ye(u,s,w)}break;case 18:ut!==null&&(Nr?(a=ut,X2(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),kl(a)):X2(ut,u.stateNode));break;case 4:f=ut,y=Nr,ut=u.stateNode.containerInfo,Nr=!0,ba(a,s,u),ut=f,Nr=y;break;case 0:case 11:case 14:case 15:ci(2,u,s),Ot||ci(4,u,s),ba(a,s,u);break;case 1:Ot||(Hn(u,s),f=u.stateNode,typeof f.componentWillUnmount=="function"&&ZS(u,s,f)),ba(a,s,u);break;case 21:ba(a,s,u);break;case 22:Ot=(f=Ot)||u.memoizedState!==null,ba(a,s,u),Ot=f;break;default:ba(a,s,u)}}function i2(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{kl(a)}catch(u){Ye(s,s.return,u)}}}function s2(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{kl(a)}catch(u){Ye(s,s.return,u)}}function TM(a){switch(a.tag){case 31:case 13:case 19:var s=a.stateNode;return s===null&&(s=a.stateNode=new t2),s;case 22:return a=a.stateNode,s=a._retryCache,s===null&&(s=a._retryCache=new t2),s;default:throw Error(n(435,a.tag))}}function xd(a,s){var u=TM(a);s.forEach(function(f){if(!u.has(f)){u.add(f);var y=UM.bind(null,a,f);f.then(y,y)}})}function Ar(a,s){var u=s.deletions;if(u!==null)for(var f=0;f<u.length;f++){var y=u[f],w=a,O=s,D=O;e:for(;D!==null;){switch(D.tag){case 27:if(vi(D.type)){ut=D.stateNode,Nr=!1;break e}break;case 5:ut=D.stateNode,Nr=!1;break e;case 3:case 4:ut=D.stateNode.containerInfo,Nr=!0;break e}D=D.return}if(ut===null)throw Error(n(160));a2(w,O,y),ut=null,Nr=!1,w=y.alternate,w!==null&&(w.return=null),y.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)l2(s,a),s=s.sibling}var Nn=null;function l2(a,s){var u=a.alternate,f=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Ar(s,a),Tr(a),f&4&&(ci(3,a,a.return),Vo(3,a),ci(5,a,a.return));break;case 1:Ar(s,a),Tr(a),f&512&&(Ot||u===null||Hn(u,u.return)),f&64&&ya&&(a=a.updateQueue,a!==null&&(f=a.callbacks,f!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var y=Nn;if(Ar(s,a),Tr(a),f&512&&(Ot||u===null||Hn(u,u.return)),f&4){var w=u!==null?u.memoizedState:null;if(f=a.memoizedState,u===null)if(f===null)if(a.stateNode===null){e:{f=a.type,u=a.memoizedProps,y=y.ownerDocument||y;t:switch(f){case"title":w=y.getElementsByTagName("title")[0],(!w||w[xo]||w[Zt]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=y.createElement(f),y.head.insertBefore(w,y.querySelector("head > title"))),tr(w,f,u),w[Zt]=a,qt(w),f=w;break e;case"link":var O=l_("link","href",y).get(f+(u.href||""));if(O){for(var D=0;D<O.length;D++)if(w=O[D],w.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&w.getAttribute("rel")===(u.rel==null?null:u.rel)&&w.getAttribute("title")===(u.title==null?null:u.title)&&w.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){O.splice(D,1);break t}}w=y.createElement(f),tr(w,f,u),y.head.appendChild(w);break;case"meta":if(O=l_("meta","content",y).get(f+(u.content||""))){for(D=0;D<O.length;D++)if(w=O[D],w.getAttribute("content")===(u.content==null?null:""+u.content)&&w.getAttribute("name")===(u.name==null?null:u.name)&&w.getAttribute("property")===(u.property==null?null:u.property)&&w.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&w.getAttribute("charset")===(u.charSet==null?null:u.charSet)){O.splice(D,1);break t}}w=y.createElement(f),tr(w,f,u),y.head.appendChild(w);break;default:throw Error(n(468,f))}w[Zt]=a,qt(w),f=w}a.stateNode=f}else o_(y,a.type,a.stateNode);else a.stateNode=s_(y,f,a.memoizedProps);else w!==f?(w===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):w.count--,f===null?o_(y,a.type,a.stateNode):s_(y,f,a.memoizedProps)):f===null&&a.stateNode!==null&&cg(a,a.memoizedProps,u.memoizedProps)}break;case 27:Ar(s,a),Tr(a),f&512&&(Ot||u===null||Hn(u,u.return)),u!==null&&f&4&&cg(a,a.memoizedProps,u.memoizedProps);break;case 5:if(Ar(s,a),Tr(a),f&512&&(Ot||u===null||Hn(u,u.return)),a.flags&32){y=a.stateNode;try{Gs(y,"")}catch(be){Ye(a,a.return,be)}}f&4&&a.stateNode!=null&&(y=a.memoizedProps,cg(a,y,u!==null?u.memoizedProps:y)),f&1024&&(hg=!0);break;case 6:if(Ar(s,a),Tr(a),f&4){if(a.stateNode===null)throw Error(n(162));f=a.memoizedProps,u=a.stateNode;try{u.nodeValue=f}catch(be){Ye(a,a.return,be)}}break;case 3:if($d=null,y=Nn,Nn=Md(s.containerInfo),Ar(s,a),Nn=y,Tr(a),f&4&&u!==null&&u.memoizedState.isDehydrated)try{kl(s.containerInfo)}catch(be){Ye(a,a.return,be)}hg&&(hg=!1,o2(a));break;case 4:f=Nn,Nn=Md(a.stateNode.containerInfo),Ar(s,a),Tr(a),Nn=f;break;case 12:Ar(s,a),Tr(a);break;case 31:Ar(s,a),Tr(a),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,xd(a,f)));break;case 13:Ar(s,a),Tr(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Sd=ht()),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,xd(a,f)));break;case 22:y=a.memoizedState!==null;var U=u!==null&&u.memoizedState!==null,G=ya,re=Ot;if(ya=G||y,Ot=re||U,Ar(s,a),Ot=re,ya=G,Tr(a),f&8192)e:for(s=a.stateNode,s._visibility=y?s._visibility&-2:s._visibility|1,y&&(u===null||U||ya||Ot||as(a)),u=null,s=a;;){if(s.tag===5||s.tag===26){if(u===null){U=u=s;try{if(w=U.stateNode,y)O=w.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{D=U.stateNode;var se=U.memoizedProps.style,Y=se!=null&&se.hasOwnProperty("display")?se.display:null;D.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(be){Ye(U,U.return,be)}}}else if(s.tag===6){if(u===null){U=s;try{U.stateNode.nodeValue=y?"":U.memoizedProps}catch(be){Ye(U,U.return,be)}}}else if(s.tag===18){if(u===null){U=s;try{var J=U.stateNode;y?Z2(J,!0):Z2(U.stateNode,!1)}catch(be){Ye(U,U.return,be)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===a)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;u===s&&(u=null),s=s.return}u===s&&(u=null),s.sibling.return=s.return,s=s.sibling}f&4&&(f=a.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,xd(a,u))));break;case 19:Ar(s,a),Tr(a),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,xd(a,f)));break;case 30:break;case 21:break;default:Ar(s,a),Tr(a)}}function Tr(a){var s=a.flags;if(s&2){try{for(var u,f=a.return;f!==null;){if(QS(f)){u=f;break}f=f.return}if(u==null)throw Error(n(160));switch(u.tag){case 27:var y=u.stateNode,w=dg(a);bd(a,w,y);break;case 5:var O=u.stateNode;u.flags&32&&(Gs(O,""),u.flags&=-33);var D=dg(a);bd(a,D,O);break;case 3:case 4:var U=u.stateNode.containerInfo,G=dg(a);fg(a,G,U);break;default:throw Error(n(161))}}catch(re){Ye(a,a.return,re)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function o2(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var s=a;o2(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),a=a.sibling}}function xa(a,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)r2(a,s.alternate,s),s=s.sibling}function as(a){for(a=a.child;a!==null;){var s=a;switch(s.tag){case 0:case 11:case 14:case 15:ci(4,s,s.return),as(s);break;case 1:Hn(s,s.return);var u=s.stateNode;typeof u.componentWillUnmount=="function"&&ZS(s,s.return,u),as(s);break;case 27:ru(s.stateNode);case 26:case 5:Hn(s,s.return),as(s);break;case 22:s.memoizedState===null&&as(s);break;case 30:as(s);break;default:as(s)}a=a.sibling}}function wa(a,s,u){for(u=u&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var f=s.alternate,y=a,w=s,O=w.flags;switch(w.tag){case 0:case 11:case 15:wa(y,w,u),Vo(4,w);break;case 1:if(wa(y,w,u),f=w,y=f.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(G){Ye(f,f.return,G)}if(f=w,y=f.updateQueue,y!==null){var D=f.stateNode;try{var U=y.shared.hiddenCallbacks;if(U!==null)for(y.shared.hiddenCallbacks=null,y=0;y<U.length;y++)U1(U[y],D)}catch(G){Ye(f,f.return,G)}}u&&O&64&&XS(w),Go(w,w.return);break;case 27:e2(w);case 26:case 5:wa(y,w,u),u&&f===null&&O&4&&JS(w),Go(w,w.return);break;case 12:wa(y,w,u);break;case 31:wa(y,w,u),u&&O&4&&i2(y,w);break;case 13:wa(y,w,u),u&&O&4&&s2(y,w);break;case 22:w.memoizedState===null&&wa(y,w,u),Go(w,w.return);break;case 30:break;default:wa(y,w,u)}s=s.sibling}}function mg(a,s){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&Do(u))}function gg(a,s){a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Do(a))}function An(a,s,u,f){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)u2(a,s,u,f),s=s.sibling}function u2(a,s,u,f){var y=s.flags;switch(s.tag){case 0:case 11:case 15:An(a,s,u,f),y&2048&&Vo(9,s);break;case 1:An(a,s,u,f);break;case 3:An(a,s,u,f),y&2048&&(a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Do(a)));break;case 12:if(y&2048){An(a,s,u,f),a=s.stateNode;try{var w=s.memoizedProps,O=w.id,D=w.onPostCommit;typeof D=="function"&&D(O,s.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(U){Ye(s,s.return,U)}}else An(a,s,u,f);break;case 31:An(a,s,u,f);break;case 13:An(a,s,u,f);break;case 23:break;case 22:w=s.stateNode,O=s.alternate,s.memoizedState!==null?w._visibility&2?An(a,s,u,f):Yo(a,s):w._visibility&2?An(a,s,u,f):(w._visibility|=2,hl(a,s,u,f,(s.subtreeFlags&10256)!==0||!1)),y&2048&&mg(O,s);break;case 24:An(a,s,u,f),y&2048&&gg(s.alternate,s);break;default:An(a,s,u,f)}}function hl(a,s,u,f,y){for(y=y&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var w=a,O=s,D=u,U=f,G=O.flags;switch(O.tag){case 0:case 11:case 15:hl(w,O,D,U,y),Vo(8,O);break;case 23:break;case 22:var re=O.stateNode;O.memoizedState!==null?re._visibility&2?hl(w,O,D,U,y):Yo(w,O):(re._visibility|=2,hl(w,O,D,U,y)),y&&G&2048&&mg(O.alternate,O);break;case 24:hl(w,O,D,U,y),y&&G&2048&&gg(O.alternate,O);break;default:hl(w,O,D,U,y)}s=s.sibling}}function Yo(a,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var u=a,f=s,y=f.flags;switch(f.tag){case 22:Yo(u,f),y&2048&&mg(f.alternate,f);break;case 24:Yo(u,f),y&2048&&gg(f.alternate,f);break;default:Yo(u,f)}s=s.sibling}}var Wo=8192;function ml(a,s,u){if(a.subtreeFlags&Wo)for(a=a.child;a!==null;)c2(a,s,u),a=a.sibling}function c2(a,s,u){switch(a.tag){case 26:ml(a,s,u),a.flags&Wo&&a.memoizedState!==null&&pR(u,Nn,a.memoizedState,a.memoizedProps);break;case 5:ml(a,s,u);break;case 3:case 4:var f=Nn;Nn=Md(a.stateNode.containerInfo),ml(a,s,u),Nn=f;break;case 22:a.memoizedState===null&&(f=a.alternate,f!==null&&f.memoizedState!==null?(f=Wo,Wo=16777216,ml(a,s,u),Wo=f):ml(a,s,u));break;default:ml(a,s,u)}}function d2(a){var s=a.alternate;if(s!==null&&(a=s.child,a!==null)){s.child=null;do s=a.sibling,a.sibling=null,a=s;while(a!==null)}}function Xo(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var f=s[u];Ht=f,h2(f,a)}d2(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)f2(a),a=a.sibling}function f2(a){switch(a.tag){case 0:case 11:case 15:Xo(a),a.flags&2048&&ci(9,a,a.return);break;case 3:Xo(a);break;case 12:Xo(a);break;case 22:var s=a.stateNode;a.memoizedState!==null&&s._visibility&2&&(a.return===null||a.return.tag!==13)?(s._visibility&=-3,wd(a)):Xo(a);break;default:Xo(a)}}function wd(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var f=s[u];Ht=f,h2(f,a)}d2(a)}for(a=a.child;a!==null;){switch(s=a,s.tag){case 0:case 11:case 15:ci(8,s,s.return),wd(s);break;case 22:u=s.stateNode,u._visibility&2&&(u._visibility&=-3,wd(s));break;default:wd(s)}a=a.sibling}}function h2(a,s){for(;Ht!==null;){var u=Ht;switch(u.tag){case 0:case 11:case 15:ci(8,u,s);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Do(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,Ht=f;else e:for(u=a;Ht!==null;){f=Ht;var y=f.sibling,w=f.return;if(n2(f),f===u){Ht=null;break e}if(y!==null){y.return=w,Ht=y;break e}Ht=w}}}var CM={getCacheForType:function(a){var s=Qt(kt),u=s.data.get(a);return u===void 0&&(u=a(),s.data.set(a,u)),u},cacheSignal:function(){return Qt(kt).controller.signal}},PM=typeof WeakMap=="function"?WeakMap:Map,Ve=0,et=null,$e=null,Ie=0,Ge=0,Gr=null,di=!1,gl=!1,pg=!1,Sa=0,pt=0,fi=0,is=0,vg=0,Yr=0,pl=0,Zo=null,Cr=null,yg=!1,Sd=0,m2=0,_d=1/0,kd=null,hi=null,Rt=0,mi=null,vl=null,_a=0,bg=0,xg=null,g2=null,Jo=0,wg=null;function Wr(){return(Ve&2)!==0&&Ie!==0?Ie&-Ie:B.T!==null?Og():Cw()}function p2(){if(Yr===0)if((Ie&536870912)===0||qe){var a=Pc;Pc<<=1,(Pc&3932160)===0&&(Pc=262144),Yr=a}else Yr=536870912;return a=Kr.current,a!==null&&(a.flags|=32),Yr}function Pr(a,s,u){(a===et&&(Ge===2||Ge===9)||a.cancelPendingCommit!==null)&&(yl(a,0),gi(a,Ie,Yr,!1)),bo(a,u),((Ve&2)===0||a!==et)&&(a===et&&((Ve&2)===0&&(is|=u),pt===4&&gi(a,Ie,Yr,!1)),Fn(a))}function v2(a,s,u){if((Ve&6)!==0)throw Error(n(327));var f=!u&&(s&127)===0&&(s&a.expiredLanes)===0||yo(a,s),y=f?RM(a,s):_g(a,s,!0),w=f;do{if(y===0){gl&&!f&&gi(a,s,0,!1);break}else{if(u=a.current.alternate,w&&!DM(u)){y=_g(a,s,!1),w=!1;continue}if(y===2){if(w=s,a.errorRecoveryDisabledLanes&w)var O=0;else O=a.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){s=O;e:{var D=a;y=Zo;var U=D.current.memoizedState.isDehydrated;if(U&&(yl(D,O).flags|=256),O=_g(D,O,!1),O!==2){if(pg&&!U){D.errorRecoveryDisabledLanes|=w,is|=w,y=4;break e}w=Cr,Cr=y,w!==null&&(Cr===null?Cr=w:Cr.push.apply(Cr,w))}y=O}if(w=!1,y!==2)continue}}if(y===1){yl(a,0),gi(a,s,0,!0);break}e:{switch(f=a,w=y,w){case 0:case 1:throw Error(n(345));case 4:if((s&4194048)!==s)break;case 6:gi(f,s,Yr,!di);break e;case 2:Cr=null;break;case 3:case 5:break;default:throw Error(n(329))}if((s&62914560)===s&&(y=Sd+300-ht(),10<y)){if(gi(f,s,Yr,!di),Mc(f,0,!0)!==0)break e;_a=s,f.timeoutHandle=Y2(y2.bind(null,f,u,Cr,kd,yg,s,Yr,is,pl,di,w,"Throttled",-0,0),y);break e}y2(f,u,Cr,kd,yg,s,Yr,is,pl,di,w,null,-0,0)}}break}while(!0);Fn(a)}function y2(a,s,u,f,y,w,O,D,U,G,re,se,Y,J){if(a.timeoutHandle=-1,se=s.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:oa},c2(s,w,se);var be=(w&62914560)===w?Sd-ht():(w&4194048)===w?m2-ht():0;if(be=vR(se,be),be!==null){_a=w,a.cancelPendingCommit=be(E2.bind(null,a,s,w,u,f,y,O,D,U,re,se,null,Y,J)),gi(a,w,O,!G);return}}E2(a,s,w,u,f,y,O,D,U)}function DM(a){for(var s=a;;){var u=s.tag;if((u===0||u===11||u===15)&&s.flags&16384&&(u=s.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var y=u[f],w=y.getSnapshot;y=y.value;try{if(!Hr(w(),y))return!1}catch{return!1}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function gi(a,s,u,f){s&=~vg,s&=~is,a.suspendedLanes|=s,a.pingedLanes&=~s,f&&(a.warmLanes|=s),f=a.expirationTimes;for(var y=s;0<y;){var w=31-Mt(y),O=1<<w;f[w]=-1,y&=~O}u!==0&&Nw(a,u,s)}function jd(){return(Ve&6)===0?(Qo(0),!1):!0}function Sg(){if($e!==null){if(Ge===0)var a=$e.return;else a=$e,fa=Xi=null,Im(a),ol=null,Ro=0,a=$e;for(;a!==null;)WS(a.alternate,a),a=a.return;$e=null}}function yl(a,s){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,QM(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),_a=0,Sg(),et=a,$e=u=ca(a.current,null),Ie=s,Ge=0,Gr=null,di=!1,gl=yo(a,s),pg=!1,pl=Yr=vg=is=fi=pt=0,Cr=Zo=null,yg=!1,(s&8)!==0&&(s|=s&32);var f=a.entangledLanes;if(f!==0)for(a=a.entanglements,f&=s;0<f;){var y=31-Mt(f),w=1<<y;s|=a[y],f&=~w}return Sa=s,Vc(),u}function b2(a,s){De=null,B.H=Ho,s===ll||s===ed?(s=R1(),Ge=3):s===Em?(s=R1(),Ge=4):Ge=s===eg?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Gr=s,$e===null&&(pt=1,md(a,ln(s,a.current)))}function x2(){var a=Kr.current;return a===null?!0:(Ie&4194048)===Ie?dn===null:(Ie&62914560)===Ie||(Ie&536870912)!==0?a===dn:!1}function w2(){var a=B.H;return B.H=Ho,a===null?Ho:a}function S2(){var a=B.A;return B.A=CM,a}function Ed(){pt=4,di||(Ie&4194048)!==Ie&&Kr.current!==null||(gl=!0),(fi&134217727)===0&&(is&134217727)===0||et===null||gi(et,Ie,Yr,!1)}function _g(a,s,u){var f=Ve;Ve|=2;var y=w2(),w=S2();(et!==a||Ie!==s)&&(kd=null,yl(a,s)),s=!1;var O=pt;e:do try{if(Ge!==0&&$e!==null){var D=$e,U=Gr;switch(Ge){case 8:Sg(),O=6;break e;case 3:case 2:case 9:case 6:Kr.current===null&&(s=!0);var G=Ge;if(Ge=0,Gr=null,bl(a,D,U,G),u&&gl){O=0;break e}break;default:G=Ge,Ge=0,Gr=null,bl(a,D,U,G)}}MM(),O=pt;break}catch(re){b2(a,re)}while(!0);return s&&a.shellSuspendCounter++,fa=Xi=null,Ve=f,B.H=y,B.A=w,$e===null&&(et=null,Ie=0,Vc()),O}function MM(){for(;$e!==null;)_2($e)}function RM(a,s){var u=Ve;Ve|=2;var f=w2(),y=S2();et!==a||Ie!==s?(kd=null,_d=ht()+500,yl(a,s)):gl=yo(a,s);e:do try{if(Ge!==0&&$e!==null){s=$e;var w=Gr;t:switch(Ge){case 1:Ge=0,Gr=null,bl(a,s,w,1);break;case 2:case 9:if(D1(w)){Ge=0,Gr=null,k2(s);break}s=function(){Ge!==2&&Ge!==9||et!==a||(Ge=7),Fn(a)},w.then(s,s);break e;case 3:Ge=7;break e;case 4:Ge=5;break e;case 7:D1(w)?(Ge=0,Gr=null,k2(s)):(Ge=0,Gr=null,bl(a,s,w,7));break;case 5:var O=null;switch($e.tag){case 26:O=$e.memoizedState;case 5:case 27:var D=$e;if(O?u_(O):D.stateNode.complete){Ge=0,Gr=null;var U=D.sibling;if(U!==null)$e=U;else{var G=D.return;G!==null?($e=G,Od(G)):$e=null}break t}}Ge=0,Gr=null,bl(a,s,w,5);break;case 6:Ge=0,Gr=null,bl(a,s,w,6);break;case 8:Sg(),pt=6;break e;default:throw Error(n(462))}}$M();break}catch(re){b2(a,re)}while(!0);return fa=Xi=null,B.H=f,B.A=y,Ve=u,$e!==null?0:(et=null,Ie=0,Vc(),pt)}function $M(){for(;$e!==null&&!ia();)_2($e)}function _2(a){var s=GS(a.alternate,a,Sa);a.memoizedProps=a.pendingProps,s===null?Od(a):$e=s}function k2(a){var s=a,u=s.alternate;switch(s.tag){case 15:case 0:s=BS(u,s,s.pendingProps,s.type,void 0,Ie);break;case 11:s=BS(u,s,s.pendingProps,s.type.render,s.ref,Ie);break;case 5:Im(s);default:WS(u,s),s=$e=S1(s,Sa),s=GS(u,s,Sa)}a.memoizedProps=a.pendingProps,s===null?Od(a):$e=s}function bl(a,s,u,f){fa=Xi=null,Im(s),ol=null,Ro=0;var y=s.return;try{if(kM(a,y,s,u,Ie)){pt=1,md(a,ln(u,a.current)),$e=null;return}}catch(w){if(y!==null)throw $e=y,w;pt=1,md(a,ln(u,a.current)),$e=null;return}s.flags&32768?(qe||f===1?a=!0:gl||(Ie&536870912)!==0?a=!1:(di=a=!0,(f===2||f===9||f===3||f===6)&&(f=Kr.current,f!==null&&f.tag===13&&(f.flags|=16384))),j2(s,a)):Od(s)}function Od(a){var s=a;do{if((s.flags&32768)!==0){j2(s,di);return}a=s.return;var u=OM(s.alternate,s,Sa);if(u!==null){$e=u;return}if(s=s.sibling,s!==null){$e=s;return}$e=s=a}while(s!==null);pt===0&&(pt=5)}function j2(a,s){do{var u=NM(a.alternate,a);if(u!==null){u.flags&=32767,$e=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!s&&(a=a.sibling,a!==null)){$e=a;return}$e=a=u}while(a!==null);pt=6,$e=null}function E2(a,s,u,f,y,w,O,D,U){a.cancelPendingCommit=null;do Nd();while(Rt!==0);if((Ve&6)!==0)throw Error(n(327));if(s!==null){if(s===a.current)throw Error(n(177));if(w=s.lanes|s.childLanes,w|=dm,g3(a,u,w,O,D,U),a===et&&($e=et=null,Ie=0),vl=s,mi=a,_a=u,bg=w,xg=y,g2=f,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,zM(mt,function(){return C2(),null})):(a.callbackNode=null,a.callbackPriority=0),f=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||f){f=B.T,B.T=null,y=K.p,K.p=2,O=Ve,Ve|=4;try{AM(a,s,u)}finally{Ve=O,K.p=y,B.T=f}}Rt=1,O2(),N2(),A2()}}function O2(){if(Rt===1){Rt=0;var a=mi,s=vl,u=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||u){u=B.T,B.T=null;var f=K.p;K.p=2;var y=Ve;Ve|=4;try{l2(s,a);var w=Rg,O=h1(a.containerInfo),D=w.focusedElem,U=w.selectionRange;if(O!==D&&D&&D.ownerDocument&&f1(D.ownerDocument.documentElement,D)){if(U!==null&&sm(D)){var G=U.start,re=U.end;if(re===void 0&&(re=G),"selectionStart"in D)D.selectionStart=G,D.selectionEnd=Math.min(re,D.value.length);else{var se=D.ownerDocument||document,Y=se&&se.defaultView||window;if(Y.getSelection){var J=Y.getSelection(),be=D.textContent.length,Ne=Math.min(U.start,be),Je=U.end===void 0?Ne:Math.min(U.end,be);!J.extend&&Ne>Je&&(O=Je,Je=Ne,Ne=O);var F=d1(D,Ne),z=d1(D,Je);if(F&&z&&(J.rangeCount!==1||J.anchorNode!==F.node||J.anchorOffset!==F.offset||J.focusNode!==z.node||J.focusOffset!==z.offset)){var V=se.createRange();V.setStart(F.node,F.offset),J.removeAllRanges(),Ne>Je?(J.addRange(V),J.extend(z.node,z.offset)):(V.setEnd(z.node,z.offset),J.addRange(V))}}}}for(se=[],J=D;J=J.parentNode;)J.nodeType===1&&se.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<se.length;D++){var ne=se[D];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}zd=!!Mg,Rg=Mg=null}finally{Ve=y,K.p=f,B.T=u}}a.current=s,Rt=2}}function N2(){if(Rt===2){Rt=0;var a=mi,s=vl,u=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||u){u=B.T,B.T=null;var f=K.p;K.p=2;var y=Ve;Ve|=4;try{r2(a,s.alternate,s)}finally{Ve=y,K.p=f,B.T=u}}Rt=3}}function A2(){if(Rt===4||Rt===3){Rt=0,lr();var a=mi,s=vl,u=_a,f=g2;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Rt=5:(Rt=0,vl=mi=null,T2(a,a.pendingLanes));var y=a.pendingLanes;if(y===0&&(hi=null),B0(u),s=s.stateNode,pr&&typeof pr.onCommitFiberRoot=="function")try{pr.onCommitFiberRoot(sa,s,void 0,(s.current.flags&128)===128)}catch{}if(f!==null){s=B.T,y=K.p,K.p=2,B.T=null;try{for(var w=a.onRecoverableError,O=0;O<f.length;O++){var D=f[O];w(D.value,{componentStack:D.stack})}}finally{B.T=s,K.p=y}}(_a&3)!==0&&Nd(),Fn(a),y=a.pendingLanes,(u&261930)!==0&&(y&42)!==0?a===wg?Jo++:(Jo=0,wg=a):Jo=0,Qo(0)}}function T2(a,s){(a.pooledCacheLanes&=s)===0&&(s=a.pooledCache,s!=null&&(a.pooledCache=null,Do(s)))}function Nd(){return O2(),N2(),A2(),C2()}function C2(){if(Rt!==5)return!1;var a=mi,s=bg;bg=0;var u=B0(_a),f=B.T,y=K.p;try{K.p=32>u?32:u,B.T=null,u=xg,xg=null;var w=mi,O=_a;if(Rt=0,vl=mi=null,_a=0,(Ve&6)!==0)throw Error(n(331));var D=Ve;if(Ve|=4,f2(w.current),u2(w,w.current,O,u),Ve=D,Qo(0,!1),pr&&typeof pr.onPostCommitFiberRoot=="function")try{pr.onPostCommitFiberRoot(sa,w)}catch{}return!0}finally{K.p=y,B.T=f,T2(a,s)}}function P2(a,s,u){s=ln(u,s),s=Qm(a.stateNode,s,2),a=li(a,s,2),a!==null&&(bo(a,2),Fn(a))}function Ye(a,s,u){if(a.tag===3)P2(a,a,u);else for(;s!==null;){if(s.tag===3){P2(s,a,u);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(hi===null||!hi.has(f))){a=ln(u,a),u=DS(2),f=li(s,u,2),f!==null&&(MS(u,f,s,a),bo(f,2),Fn(f));break}}s=s.return}}function kg(a,s,u){var f=a.pingCache;if(f===null){f=a.pingCache=new PM;var y=new Set;f.set(s,y)}else y=f.get(s),y===void 0&&(y=new Set,f.set(s,y));y.has(u)||(pg=!0,y.add(u),a=LM.bind(null,a,s,u),s.then(a,a))}function LM(a,s,u){var f=a.pingCache;f!==null&&f.delete(s),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,et===a&&(Ie&u)===u&&(pt===4||pt===3&&(Ie&62914560)===Ie&&300>ht()-Sd?(Ve&2)===0&&yl(a,0):vg|=u,pl===Ie&&(pl=0)),Fn(a)}function D2(a,s){s===0&&(s=Ow()),a=Gi(a,s),a!==null&&(bo(a,s),Fn(a))}function IM(a){var s=a.memoizedState,u=0;s!==null&&(u=s.retryLane),D2(a,u)}function UM(a,s){var u=0;switch(a.tag){case 31:case 13:var f=a.stateNode,y=a.memoizedState;y!==null&&(u=y.retryLane);break;case 19:f=a.stateNode;break;case 22:f=a.stateNode._retryCache;break;default:throw Error(n(314))}f!==null&&f.delete(s),D2(a,u)}function zM(a,s){return _t(a,s)}var Ad=null,xl=null,jg=!1,Td=!1,Eg=!1,pi=0;function Fn(a){a!==xl&&a.next===null&&(xl===null?Ad=xl=a:xl=xl.next=a),Td=!0,jg||(jg=!0,qM())}function Qo(a,s){if(!Eg&&Td){Eg=!0;do for(var u=!1,f=Ad;f!==null;){if(a!==0){var y=f.pendingLanes;if(y===0)var w=0;else{var O=f.suspendedLanes,D=f.pingedLanes;w=(1<<31-Mt(42|a)+1)-1,w&=y&~(O&~D),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(u=!0,L2(f,w))}else w=Ie,w=Mc(f,f===et?w:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(w&3)===0||yo(f,w)||(u=!0,L2(f,w));f=f.next}while(u);Eg=!1}}function BM(){M2()}function M2(){Td=jg=!1;var a=0;pi!==0&&JM()&&(a=pi);for(var s=ht(),u=null,f=Ad;f!==null;){var y=f.next,w=R2(f,s);w===0?(f.next=null,u===null?Ad=y:u.next=y,y===null&&(xl=u)):(u=f,(a!==0||(w&3)!==0)&&(Td=!0)),f=y}Rt!==0&&Rt!==5||Qo(a),pi!==0&&(pi=0)}function R2(a,s){for(var u=a.suspendedLanes,f=a.pingedLanes,y=a.expirationTimes,w=a.pendingLanes&-62914561;0<w;){var O=31-Mt(w),D=1<<O,U=y[O];U===-1?((D&u)===0||(D&f)!==0)&&(y[O]=m3(D,s)):U<=s&&(a.expiredLanes|=D),w&=~D}if(s=et,u=Ie,u=Mc(a,a===s?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),f=a.callbackNode,u===0||a===s&&(Ge===2||Ge===9)||a.cancelPendingCommit!==null)return f!==null&&f!==null&&Xt(f),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||yo(a,u)){if(s=u&-u,s===a.callbackPriority)return s;switch(f!==null&&Xt(f),B0(u)){case 2:case 8:u=Bi;break;case 32:u=mt;break;case 268435456:u=Bt;break;default:u=mt}return f=$2.bind(null,a),u=_t(u,f),a.callbackPriority=s,a.callbackNode=u,s}return f!==null&&f!==null&&Xt(f),a.callbackPriority=2,a.callbackNode=null,2}function $2(a,s){if(Rt!==0&&Rt!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(Nd()&&a.callbackNode!==u)return null;var f=Ie;return f=Mc(a,a===et?f:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),f===0?null:(v2(a,f,s),R2(a,ht()),a.callbackNode!=null&&a.callbackNode===u?$2.bind(null,a):null)}function L2(a,s){if(Nd())return null;v2(a,s,!0)}function qM(){eR(function(){(Ve&6)!==0?_t(En,BM):M2()})}function Og(){if(pi===0){var a=il;a===0&&(a=Cc,Cc<<=1,(Cc&261888)===0&&(Cc=256)),pi=a}return pi}function I2(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Ic(""+a)}function U2(a,s){var u=s.ownerDocument.createElement("input");return u.name=s.name,u.value=s.value,a.id&&u.setAttribute("form",a.id),s.parentNode.insertBefore(u,s),a=new FormData(a),u.parentNode.removeChild(u),a}function HM(a,s,u,f,y){if(s==="submit"&&u&&u.stateNode===y){var w=I2((y[Er]||null).action),O=f.submitter;O&&(s=(s=O[Er]||null)?I2(s.formAction):O.getAttribute("formAction"),s!==null&&(w=s,O=null));var D=new qc("action","action",null,f,y);a.push({event:D,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(pi!==0){var U=O?U2(y,O):new FormData(y);Gm(u,{pending:!0,data:U,method:y.method,action:w},null,U)}}else typeof w=="function"&&(D.preventDefault(),U=O?U2(y,O):new FormData(y),Gm(u,{pending:!0,data:U,method:y.method,action:w},w,U))},currentTarget:y}]})}}for(var Ng=0;Ng<cm.length;Ng++){var Ag=cm[Ng],FM=Ag.toLowerCase(),KM=Ag[0].toUpperCase()+Ag.slice(1);On(FM,"on"+KM)}On(p1,"onAnimationEnd"),On(v1,"onAnimationIteration"),On(y1,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(lM,"onTransitionRun"),On(oM,"onTransitionStart"),On(uM,"onTransitionCancel"),On(b1,"onTransitionEnd"),Ks("onMouseEnter",["mouseout","mouseover"]),Ks("onMouseLeave",["mouseout","mouseover"]),Ks("onPointerEnter",["pointerout","pointerover"]),Ks("onPointerLeave",["pointerout","pointerover"]),Hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(eu));function z2(a,s){s=(s&4)!==0;for(var u=0;u<a.length;u++){var f=a[u],y=f.event;f=f.listeners;e:{var w=void 0;if(s)for(var O=f.length-1;0<=O;O--){var D=f[O],U=D.instance,G=D.currentTarget;if(D=D.listener,U!==w&&y.isPropagationStopped())break e;w=D,y.currentTarget=G;try{w(y)}catch(re){Kc(re)}y.currentTarget=null,w=U}else for(O=0;O<f.length;O++){if(D=f[O],U=D.instance,G=D.currentTarget,D=D.listener,U!==w&&y.isPropagationStopped())break e;w=D,y.currentTarget=G;try{w(y)}catch(re){Kc(re)}y.currentTarget=null,w=U}}}}function Le(a,s){var u=s[q0];u===void 0&&(u=s[q0]=new Set);var f=a+"__bubble";u.has(f)||(B2(s,a,2,!1),u.add(f))}function Tg(a,s,u){var f=0;s&&(f|=4),B2(u,a,f,s)}var Cd="_reactListening"+Math.random().toString(36).slice(2);function Cg(a){if(!a[Cd]){a[Cd]=!0,Mw.forEach(function(u){u!=="selectionchange"&&(VM.has(u)||Tg(u,!1,a),Tg(u,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[Cd]||(s[Cd]=!0,Tg("selectionchange",!1,s))}}function B2(a,s,u,f){switch(p_(s)){case 2:var y=xR;break;case 8:y=wR;break;default:y=Vg}u=y.bind(null,s,u,a),y=void 0,!Z0||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(y=!0),f?y!==void 0?a.addEventListener(s,u,{capture:!0,passive:y}):a.addEventListener(s,u,!0):y!==void 0?a.addEventListener(s,u,{passive:y}):a.addEventListener(s,u,!1)}function Pg(a,s,u,f,y){var w=f;if((s&1)===0&&(s&2)===0&&f!==null)e:for(;;){if(f===null)return;var O=f.tag;if(O===3||O===4){var D=f.stateNode.containerInfo;if(D===y)break;if(O===4)for(O=f.return;O!==null;){var U=O.tag;if((U===3||U===4)&&O.stateNode.containerInfo===y)return;O=O.return}for(;D!==null;){if(O=qs(D),O===null)return;if(U=O.tag,U===5||U===6||U===26||U===27){f=w=O;continue e}D=D.parentNode}}f=f.return}Vw(function(){var G=w,re=W0(u),se=[];e:{var Y=x1.get(a);if(Y!==void 0){var J=qc,be=a;switch(a){case"keypress":if(zc(u)===0)break e;case"keydown":case"keyup":J=U3;break;case"focusin":be="focus",J=tm;break;case"focusout":be="blur",J=tm;break;case"beforeblur":case"afterblur":J=tm;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=Ww;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=O3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=q3;break;case p1:case v1:case y1:J=T3;break;case b1:J=F3;break;case"scroll":case"scrollend":J=j3;break;case"wheel":J=V3;break;case"copy":case"cut":case"paste":J=P3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Zw;break;case"toggle":case"beforetoggle":J=Y3}var Ne=(s&4)!==0,Je=!Ne&&(a==="scroll"||a==="scrollend"),F=Ne?Y!==null?Y+"Capture":null:Y;Ne=[];for(var z=G,V;z!==null;){var ne=z;if(V=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||V===null||F===null||(ne=So(z,F),ne!=null&&Ne.push(tu(z,ne,V))),Je)break;z=z.return}0<Ne.length&&(Y=new J(Y,be,null,u,re),se.push({event:Y,listeners:Ne}))}}if((s&7)===0){e:{if(Y=a==="mouseover"||a==="pointerover",J=a==="mouseout"||a==="pointerout",Y&&u!==Y0&&(be=u.relatedTarget||u.fromElement)&&(qs(be)||be[Bs]))break e;if((J||Y)&&(Y=re.window===re?re:(Y=re.ownerDocument)?Y.defaultView||Y.parentWindow:window,J?(be=u.relatedTarget||u.toElement,J=G,be=be?qs(be):null,be!==null&&(Je=l(be),Ne=be.tag,be!==Je||Ne!==5&&Ne!==27&&Ne!==6)&&(be=null)):(J=null,be=G),J!==be)){if(Ne=Ww,ne="onMouseLeave",F="onMouseEnter",z="mouse",(a==="pointerout"||a==="pointerover")&&(Ne=Zw,ne="onPointerLeave",F="onPointerEnter",z="pointer"),Je=J==null?Y:wo(J),V=be==null?Y:wo(be),Y=new Ne(ne,z+"leave",J,u,re),Y.target=Je,Y.relatedTarget=V,ne=null,qs(re)===G&&(Ne=new Ne(F,z+"enter",be,u,re),Ne.target=V,Ne.relatedTarget=Je,ne=Ne),Je=ne,J&&be)t:{for(Ne=GM,F=J,z=be,V=0,ne=F;ne;ne=Ne(ne))V++;ne=0;for(var ke=z;ke;ke=Ne(ke))ne++;for(;0<V-ne;)F=Ne(F),V--;for(;0<ne-V;)z=Ne(z),ne--;for(;V--;){if(F===z||z!==null&&F===z.alternate){Ne=F;break t}F=Ne(F),z=Ne(z)}Ne=null}else Ne=null;J!==null&&q2(se,Y,J,Ne,!1),be!==null&&Je!==null&&q2(se,Je,be,Ne,!0)}}e:{if(Y=G?wo(G):window,J=Y.nodeName&&Y.nodeName.toLowerCase(),J==="select"||J==="input"&&Y.type==="file")var He=i1;else if(n1(Y))if(s1)He=aM;else{He=rM;var xe=tM}else J=Y.nodeName,!J||J.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?G&&G0(G.elementType)&&(He=i1):He=nM;if(He&&(He=He(a,G))){a1(se,He,u,re);break e}xe&&xe(a,Y,G),a==="focusout"&&G&&Y.type==="number"&&G.memoizedProps.value!=null&&V0(Y,"number",Y.value)}switch(xe=G?wo(G):window,a){case"focusin":(n1(xe)||xe.contentEditable==="true")&&(Zs=xe,lm=G,To=null);break;case"focusout":To=lm=Zs=null;break;case"mousedown":om=!0;break;case"contextmenu":case"mouseup":case"dragend":om=!1,m1(se,u,re);break;case"selectionchange":if(sM)break;case"keydown":case"keyup":m1(se,u,re)}var Me;if(nm)e:{switch(a){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else Xs?t1(a,u)&&(Ue="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(Ue="onCompositionStart");Ue&&(Jw&&u.locale!=="ko"&&(Xs||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&Xs&&(Me=Gw()):(ei=re,J0="value"in ei?ei.value:ei.textContent,Xs=!0)),xe=Pd(G,Ue),0<xe.length&&(Ue=new Xw(Ue,a,null,u,re),se.push({event:Ue,listeners:xe}),Me?Ue.data=Me:(Me=r1(u),Me!==null&&(Ue.data=Me)))),(Me=X3?Z3(a,u):J3(a,u))&&(Ue=Pd(G,"onBeforeInput"),0<Ue.length&&(xe=new Xw("onBeforeInput","beforeinput",null,u,re),se.push({event:xe,listeners:Ue}),xe.data=Me)),HM(se,a,G,u,re)}z2(se,s)})}function tu(a,s,u){return{instance:a,listener:s,currentTarget:u}}function Pd(a,s){for(var u=s+"Capture",f=[];a!==null;){var y=a,w=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||w===null||(y=So(a,u),y!=null&&f.unshift(tu(a,y,w)),y=So(a,s),y!=null&&f.push(tu(a,y,w))),a.tag===3)return f;a=a.return}return[]}function GM(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function q2(a,s,u,f,y){for(var w=s._reactName,O=[];u!==null&&u!==f;){var D=u,U=D.alternate,G=D.stateNode;if(D=D.tag,U!==null&&U===f)break;D!==5&&D!==26&&D!==27||G===null||(U=G,y?(G=So(u,w),G!=null&&O.unshift(tu(u,G,U))):y||(G=So(u,w),G!=null&&O.push(tu(u,G,U)))),u=u.return}O.length!==0&&a.push({event:s,listeners:O})}var YM=/\r\n?/g,WM=/\u0000|\uFFFD/g;function H2(a){return(typeof a=="string"?a:""+a).replace(YM,`
`).replace(WM,"")}function F2(a,s){return s=H2(s),H2(a)===s}function Ze(a,s,u,f,y,w){switch(u){case"children":typeof f=="string"?s==="body"||s==="textarea"&&f===""||Gs(a,f):(typeof f=="number"||typeof f=="bigint")&&s!=="body"&&Gs(a,""+f);break;case"className":$c(a,"class",f);break;case"tabIndex":$c(a,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":$c(a,u,f);break;case"style":Fw(a,f,w);break;case"data":if(s!=="object"){$c(a,"data",f);break}case"src":case"href":if(f===""&&(s!=="a"||u!=="href")){a.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(u);break}f=Ic(""+f),a.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(u==="formAction"?(s!=="input"&&Ze(a,s,"name",y.name,y,null),Ze(a,s,"formEncType",y.formEncType,y,null),Ze(a,s,"formMethod",y.formMethod,y,null),Ze(a,s,"formTarget",y.formTarget,y,null)):(Ze(a,s,"encType",y.encType,y,null),Ze(a,s,"method",y.method,y,null),Ze(a,s,"target",y.target,y,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(u);break}f=Ic(""+f),a.setAttribute(u,f);break;case"onClick":f!=null&&(a.onclick=oa);break;case"onScroll":f!=null&&Le("scroll",a);break;case"onScrollEnd":f!=null&&Le("scrollend",a);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(n(61));if(u=f.__html,u!=null){if(y.children!=null)throw Error(n(60));a.innerHTML=u}}break;case"multiple":a.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":a.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){a.removeAttribute("xlink:href");break}u=Ic(""+f),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(u,""+f):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":f===!0?a.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(u,f):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?a.setAttribute(u,f):a.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?a.removeAttribute(u):a.setAttribute(u,f);break;case"popover":Le("beforetoggle",a),Le("toggle",a),Rc(a,"popover",f);break;case"xlinkActuate":la(a,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":la(a,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":la(a,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":la(a,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":la(a,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":la(a,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":la(a,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":la(a,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":la(a,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Rc(a,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=_3.get(u)||u,Rc(a,u,f))}}function Dg(a,s,u,f,y,w){switch(u){case"style":Fw(a,f,w);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(n(61));if(u=f.__html,u!=null){if(y.children!=null)throw Error(n(60));a.innerHTML=u}}break;case"children":typeof f=="string"?Gs(a,f):(typeof f=="number"||typeof f=="bigint")&&Gs(a,""+f);break;case"onScroll":f!=null&&Le("scroll",a);break;case"onScrollEnd":f!=null&&Le("scrollend",a);break;case"onClick":f!=null&&(a.onclick=oa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rw.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),s=u.slice(2,y?u.length-7:void 0),w=a[Er]||null,w=w!=null?w[u]:null,typeof w=="function"&&a.removeEventListener(s,w,y),typeof f=="function")){typeof w!="function"&&w!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(s,f,y);break e}u in a?a[u]=f:f===!0?a.setAttribute(u,""):Rc(a,u,f)}}}function tr(a,s,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",a),Le("load",a);var f=!1,y=!1,w;for(w in u)if(u.hasOwnProperty(w)){var O=u[w];if(O!=null)switch(w){case"src":f=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:Ze(a,s,w,O,u,null)}}y&&Ze(a,s,"srcSet",u.srcSet,u,null),f&&Ze(a,s,"src",u.src,u,null);return;case"input":Le("invalid",a);var D=w=O=y=null,U=null,G=null;for(f in u)if(u.hasOwnProperty(f)){var re=u[f];if(re!=null)switch(f){case"name":y=re;break;case"type":O=re;break;case"checked":U=re;break;case"defaultChecked":G=re;break;case"value":w=re;break;case"defaultValue":D=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(n(137,s));break;default:Ze(a,s,f,re,u,null)}}zw(a,w,D,U,G,O,y,!1);return;case"select":Le("invalid",a),f=O=w=null;for(y in u)if(u.hasOwnProperty(y)&&(D=u[y],D!=null))switch(y){case"value":w=D;break;case"defaultValue":O=D;break;case"multiple":f=D;default:Ze(a,s,y,D,u,null)}s=w,u=O,a.multiple=!!f,s!=null?Vs(a,!!f,s,!1):u!=null&&Vs(a,!!f,u,!0);return;case"textarea":Le("invalid",a),w=y=f=null;for(O in u)if(u.hasOwnProperty(O)&&(D=u[O],D!=null))switch(O){case"value":f=D;break;case"defaultValue":y=D;break;case"children":w=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(n(91));break;default:Ze(a,s,O,D,u,null)}qw(a,f,y,w);return;case"option":for(U in u)if(u.hasOwnProperty(U)&&(f=u[U],f!=null))switch(U){case"selected":a.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Ze(a,s,U,f,u,null)}return;case"dialog":Le("beforetoggle",a),Le("toggle",a),Le("cancel",a),Le("close",a);break;case"iframe":case"object":Le("load",a);break;case"video":case"audio":for(f=0;f<eu.length;f++)Le(eu[f],a);break;case"image":Le("error",a),Le("load",a);break;case"details":Le("toggle",a);break;case"embed":case"source":case"link":Le("error",a),Le("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in u)if(u.hasOwnProperty(G)&&(f=u[G],f!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:Ze(a,s,G,f,u,null)}return;default:if(G0(s)){for(re in u)u.hasOwnProperty(re)&&(f=u[re],f!==void 0&&Dg(a,s,re,f,u,void 0));return}}for(D in u)u.hasOwnProperty(D)&&(f=u[D],f!=null&&Ze(a,s,D,f,u,null))}function XM(a,s,u,f){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,w=null,O=null,D=null,U=null,G=null,re=null;for(J in u){var se=u[J];if(u.hasOwnProperty(J)&&se!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":U=se;default:f.hasOwnProperty(J)||Ze(a,s,J,null,f,se)}}for(var Y in f){var J=f[Y];if(se=u[Y],f.hasOwnProperty(Y)&&(J!=null||se!=null))switch(Y){case"type":w=J;break;case"name":y=J;break;case"checked":G=J;break;case"defaultChecked":re=J;break;case"value":O=J;break;case"defaultValue":D=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(n(137,s));break;default:J!==se&&Ze(a,s,Y,J,f,se)}}K0(a,O,D,U,G,re,w,y);return;case"select":J=O=D=Y=null;for(w in u)if(U=u[w],u.hasOwnProperty(w)&&U!=null)switch(w){case"value":break;case"multiple":J=U;default:f.hasOwnProperty(w)||Ze(a,s,w,null,f,U)}for(y in f)if(w=f[y],U=u[y],f.hasOwnProperty(y)&&(w!=null||U!=null))switch(y){case"value":Y=w;break;case"defaultValue":D=w;break;case"multiple":O=w;default:w!==U&&Ze(a,s,y,w,f,U)}s=D,u=O,f=J,Y!=null?Vs(a,!!u,Y,!1):!!f!=!!u&&(s!=null?Vs(a,!!u,s,!0):Vs(a,!!u,u?[]:"",!1));return;case"textarea":J=Y=null;for(D in u)if(y=u[D],u.hasOwnProperty(D)&&y!=null&&!f.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:Ze(a,s,D,null,f,y)}for(O in f)if(y=f[O],w=u[O],f.hasOwnProperty(O)&&(y!=null||w!=null))switch(O){case"value":Y=y;break;case"defaultValue":J=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(n(91));break;default:y!==w&&Ze(a,s,O,y,f,w)}Bw(a,Y,J);return;case"option":for(var be in u)if(Y=u[be],u.hasOwnProperty(be)&&Y!=null&&!f.hasOwnProperty(be))switch(be){case"selected":a.selected=!1;break;default:Ze(a,s,be,null,f,Y)}for(U in f)if(Y=f[U],J=u[U],f.hasOwnProperty(U)&&Y!==J&&(Y!=null||J!=null))switch(U){case"selected":a.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:Ze(a,s,U,Y,f,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in u)Y=u[Ne],u.hasOwnProperty(Ne)&&Y!=null&&!f.hasOwnProperty(Ne)&&Ze(a,s,Ne,null,f,Y);for(G in f)if(Y=f[G],J=u[G],f.hasOwnProperty(G)&&Y!==J&&(Y!=null||J!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(n(137,s));break;default:Ze(a,s,G,Y,f,J)}return;default:if(G0(s)){for(var Je in u)Y=u[Je],u.hasOwnProperty(Je)&&Y!==void 0&&!f.hasOwnProperty(Je)&&Dg(a,s,Je,void 0,f,Y);for(re in f)Y=f[re],J=u[re],!f.hasOwnProperty(re)||Y===J||Y===void 0&&J===void 0||Dg(a,s,re,Y,f,J);return}}for(var F in u)Y=u[F],u.hasOwnProperty(F)&&Y!=null&&!f.hasOwnProperty(F)&&Ze(a,s,F,null,f,Y);for(se in f)Y=f[se],J=u[se],!f.hasOwnProperty(se)||Y===J||Y==null&&J==null||Ze(a,s,se,Y,f,J)}function K2(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ZM(){if(typeof performance.getEntriesByType=="function"){for(var a=0,s=0,u=performance.getEntriesByType("resource"),f=0;f<u.length;f++){var y=u[f],w=y.transferSize,O=y.initiatorType,D=y.duration;if(w&&D&&K2(O)){for(O=0,D=y.responseEnd,f+=1;f<u.length;f++){var U=u[f],G=U.startTime;if(G>D)break;var re=U.transferSize,se=U.initiatorType;re&&K2(se)&&(U=U.responseEnd,O+=re*(U<D?1:(D-G)/(U-G)))}if(--f,s+=8*(w+O)/(y.duration/1e3),a++,10<a)break}}if(0<a)return s/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Mg=null,Rg=null;function Dd(a){return a.nodeType===9?a:a.ownerDocument}function V2(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function G2(a,s){if(a===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&s==="foreignObject"?0:a}function $g(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Lg=null;function JM(){var a=window.event;return a&&a.type==="popstate"?a===Lg?!1:(Lg=a,!0):(Lg=null,!1)}var Y2=typeof setTimeout=="function"?setTimeout:void 0,QM=typeof clearTimeout=="function"?clearTimeout:void 0,W2=typeof Promise=="function"?Promise:void 0,eR=typeof queueMicrotask=="function"?queueMicrotask:typeof W2<"u"?function(a){return W2.resolve(null).then(a).catch(tR)}:Y2;function tR(a){setTimeout(function(){throw a})}function vi(a){return a==="head"}function X2(a,s){var u=s,f=0;do{var y=u.nextSibling;if(a.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"||u==="/&"){if(f===0){a.removeChild(y),kl(s);return}f--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")f++;else if(u==="html")ru(a.ownerDocument.documentElement);else if(u==="head"){u=a.ownerDocument.head,ru(u);for(var w=u.firstChild;w;){var O=w.nextSibling,D=w.nodeName;w[xo]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&w.rel.toLowerCase()==="stylesheet"||u.removeChild(w),w=O}}else u==="body"&&ru(a.ownerDocument.body);u=y}while(u);kl(s)}function Z2(a,s){var u=a;a=0;do{var f=u.nextSibling;if(u.nodeType===1?s?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(s?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),f&&f.nodeType===8)if(u=f.data,u==="/$"){if(a===0)break;a--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||a++;u=f}while(u)}function Ig(a){var s=a.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var u=s;switch(s=s.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Ig(u),H0(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function rR(a,s,u,f){for(;a.nodeType===1;){var y=u;if(a.nodeName.toLowerCase()!==s.toLowerCase()){if(!f&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(f){if(!a[xo])switch(s){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(w=a.getAttribute("rel"),w==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(w!==y.rel||a.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||a.getAttribute("title")!==(y.title==null?null:y.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(w=a.getAttribute("src"),(w!==(y.src==null?null:y.src)||a.getAttribute("type")!==(y.type==null?null:y.type)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&w&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(s==="input"&&a.type==="hidden"){var w=y.name==null?null:""+y.name;if(y.type==="hidden"&&a.getAttribute("name")===w)return a}else return a;if(a=fn(a.nextSibling),a===null)break}return null}function nR(a,s,u){if(s==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=fn(a.nextSibling),a===null))return null;return a}function J2(a,s){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!s||(a=fn(a.nextSibling),a===null))return null;return a}function Ug(a){return a.data==="$?"||a.data==="$~"}function zg(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function aR(a,s){var u=a.ownerDocument;if(a.data==="$~")a._reactRetry=s;else if(a.data!=="$?"||u.readyState!=="loading")s();else{var f=function(){s(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),a._reactRetry=f}}function fn(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return a}var Bg=null;function Q2(a){a=a.nextSibling;for(var s=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"||u==="/&"){if(s===0)return fn(a.nextSibling);s--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||s++}a=a.nextSibling}return null}function e_(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(s===0)return a;s--}else u!=="/$"&&u!=="/&"||s++}a=a.previousSibling}return null}function t_(a,s,u){switch(s=Dd(u),a){case"html":if(a=s.documentElement,!a)throw Error(n(452));return a;case"head":if(a=s.head,!a)throw Error(n(453));return a;case"body":if(a=s.body,!a)throw Error(n(454));return a;default:throw Error(n(451))}}function ru(a){for(var s=a.attributes;s.length;)a.removeAttributeNode(s[0]);H0(a)}var hn=new Map,r_=new Set;function Md(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var ka=K.d;K.d={f:iR,r:sR,D:lR,C:oR,L:uR,m:cR,X:fR,S:dR,M:hR};function iR(){var a=ka.f(),s=jd();return a||s}function sR(a){var s=Hs(a);s!==null&&s.tag===5&&s.type==="form"?bS(s):ka.r(a)}var wl=typeof document>"u"?null:document;function n_(a,s,u){var f=wl;if(f&&typeof s=="string"&&s){var y=an(s);y='link[rel="'+a+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),r_.has(y)||(r_.add(y),a={rel:a,crossOrigin:u,href:s},f.querySelector(y)===null&&(s=f.createElement("link"),tr(s,"link",a),qt(s),f.head.appendChild(s)))}}function lR(a){ka.D(a),n_("dns-prefetch",a,null)}function oR(a,s){ka.C(a,s),n_("preconnect",a,s)}function uR(a,s,u){ka.L(a,s,u);var f=wl;if(f&&a&&s){var y='link[rel="preload"][as="'+an(s)+'"]';s==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+an(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+an(u.imageSizes)+'"]')):y+='[href="'+an(a)+'"]';var w=y;switch(s){case"style":w=Sl(a);break;case"script":w=_l(a)}hn.has(w)||(a=p({rel:"preload",href:s==="image"&&u&&u.imageSrcSet?void 0:a,as:s},u),hn.set(w,a),f.querySelector(y)!==null||s==="style"&&f.querySelector(nu(w))||s==="script"&&f.querySelector(au(w))||(s=f.createElement("link"),tr(s,"link",a),qt(s),f.head.appendChild(s)))}}function cR(a,s){ka.m(a,s);var u=wl;if(u&&a){var f=s&&typeof s.as=="string"?s.as:"script",y='link[rel="modulepreload"][as="'+an(f)+'"][href="'+an(a)+'"]',w=y;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=_l(a)}if(!hn.has(w)&&(a=p({rel:"modulepreload",href:a},s),hn.set(w,a),u.querySelector(y)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(au(w)))return}f=u.createElement("link"),tr(f,"link",a),qt(f),u.head.appendChild(f)}}}function dR(a,s,u){ka.S(a,s,u);var f=wl;if(f&&a){var y=Fs(f).hoistableStyles,w=Sl(a);s=s||"default";var O=y.get(w);if(!O){var D={loading:0,preload:null};if(O=f.querySelector(nu(w)))D.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":s},u),(u=hn.get(w))&&qg(a,u);var U=O=f.createElement("link");qt(U),tr(U,"link",a),U._p=new Promise(function(G,re){U.onload=G,U.onerror=re}),U.addEventListener("load",function(){D.loading|=1}),U.addEventListener("error",function(){D.loading|=2}),D.loading|=4,Rd(O,s,f)}O={type:"stylesheet",instance:O,count:1,state:D},y.set(w,O)}}}function fR(a,s){ka.X(a,s);var u=wl;if(u&&a){var f=Fs(u).hoistableScripts,y=_l(a),w=f.get(y);w||(w=u.querySelector(au(y)),w||(a=p({src:a,async:!0},s),(s=hn.get(y))&&Hg(a,s),w=u.createElement("script"),qt(w),tr(w,"link",a),u.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},f.set(y,w))}}function hR(a,s){ka.M(a,s);var u=wl;if(u&&a){var f=Fs(u).hoistableScripts,y=_l(a),w=f.get(y);w||(w=u.querySelector(au(y)),w||(a=p({src:a,async:!0,type:"module"},s),(s=hn.get(y))&&Hg(a,s),w=u.createElement("script"),qt(w),tr(w,"link",a),u.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},f.set(y,w))}}function a_(a,s,u,f){var y=(y=ce.current)?Md(y):null;if(!y)throw Error(n(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(s=Sl(u.href),u=Fs(y).hoistableStyles,f=u.get(s),f||(f={type:"style",instance:null,count:0,state:null},u.set(s,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=Sl(u.href);var w=Fs(y).hoistableStyles,O=w.get(a);if(O||(y=y.ownerDocument||y,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(a,O),(w=y.querySelector(nu(a)))&&!w._p&&(O.instance=w,O.state.loading=5),hn.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},hn.set(a,u),w||mR(y,a,u,O.state))),s&&f===null)throw Error(n(528,""));return O}if(s&&f!==null)throw Error(n(529,""));return null;case"script":return s=u.async,u=u.src,typeof u=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=_l(u),u=Fs(y).hoistableScripts,f=u.get(s),f||(f={type:"script",instance:null,count:0,state:null},u.set(s,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,a))}}function Sl(a){return'href="'+an(a)+'"'}function nu(a){return'link[rel="stylesheet"]['+a+"]"}function i_(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function mR(a,s,u,f){a.querySelector('link[rel="preload"][as="style"]['+s+"]")?f.loading=1:(s=a.createElement("link"),f.preload=s,s.addEventListener("load",function(){return f.loading|=1}),s.addEventListener("error",function(){return f.loading|=2}),tr(s,"link",u),qt(s),a.head.appendChild(s))}function _l(a){return'[src="'+an(a)+'"]'}function au(a){return"script[async]"+a}function s_(a,s,u){if(s.count++,s.instance===null)switch(s.type){case"style":var f=a.querySelector('style[data-href~="'+an(u.href)+'"]');if(f)return s.instance=f,qt(f),f;var y=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(a.ownerDocument||a).createElement("style"),qt(f),tr(f,"style",y),Rd(f,u.precedence,a),s.instance=f;case"stylesheet":y=Sl(u.href);var w=a.querySelector(nu(y));if(w)return s.state.loading|=4,s.instance=w,qt(w),w;f=i_(u),(y=hn.get(y))&&qg(f,y),w=(a.ownerDocument||a).createElement("link"),qt(w);var O=w;return O._p=new Promise(function(D,U){O.onload=D,O.onerror=U}),tr(w,"link",f),s.state.loading|=4,Rd(w,u.precedence,a),s.instance=w;case"script":return w=_l(u.src),(y=a.querySelector(au(w)))?(s.instance=y,qt(y),y):(f=u,(y=hn.get(w))&&(f=p({},u),Hg(f,y)),a=a.ownerDocument||a,y=a.createElement("script"),qt(y),tr(y,"link",f),a.head.appendChild(y),s.instance=y);case"void":return null;default:throw Error(n(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(f=s.instance,s.state.loading|=4,Rd(f,u.precedence,a));return s.instance}function Rd(a,s,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=f.length?f[f.length-1]:null,w=y,O=0;O<f.length;O++){var D=f[O];if(D.dataset.precedence===s)w=D;else if(w!==y)break}w?w.parentNode.insertBefore(a,w.nextSibling):(s=u.nodeType===9?u.head:u,s.insertBefore(a,s.firstChild))}function qg(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.title==null&&(a.title=s.title)}function Hg(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.integrity==null&&(a.integrity=s.integrity)}var $d=null;function l_(a,s,u){if($d===null){var f=new Map,y=$d=new Map;y.set(u,f)}else y=$d,f=y.get(u),f||(f=new Map,y.set(u,f));if(f.has(a))return f;for(f.set(a,null),u=u.getElementsByTagName(a),y=0;y<u.length;y++){var w=u[y];if(!(w[xo]||w[Zt]||a==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var O=w.getAttribute(s)||"";O=a+O;var D=f.get(O);D?D.push(w):f.set(O,[w])}}return f}function o_(a,s,u){a=a.ownerDocument||a,a.head.insertBefore(u,s==="title"?a.querySelector("head > title"):null)}function gR(a,s,u){if(u===1||s.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return a=s.disabled,typeof s.precedence=="string"&&a==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function u_(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function pR(a,s,u,f){if(u.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var y=Sl(f.href),w=s.querySelector(nu(y));if(w){s=w._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(a.count++,a=Ld.bind(a),s.then(a,a)),u.state.loading|=4,u.instance=w,qt(w);return}w=s.ownerDocument||s,f=i_(f),(y=hn.get(y))&&qg(f,y),w=w.createElement("link"),qt(w);var O=w;O._p=new Promise(function(D,U){O.onload=D,O.onerror=U}),tr(w,"link",f),u.instance=w}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(u,s),(s=u.state.preload)&&(u.state.loading&3)===0&&(a.count++,u=Ld.bind(a),s.addEventListener("load",u),s.addEventListener("error",u))}}var Fg=0;function vR(a,s){return a.stylesheets&&a.count===0&&Ud(a,a.stylesheets),0<a.count||0<a.imgCount?function(u){var f=setTimeout(function(){if(a.stylesheets&&Ud(a,a.stylesheets),a.unsuspend){var w=a.unsuspend;a.unsuspend=null,w()}},6e4+s);0<a.imgBytes&&Fg===0&&(Fg=62500*ZM());var y=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Ud(a,a.stylesheets),a.unsuspend)){var w=a.unsuspend;a.unsuspend=null,w()}},(a.imgBytes>Fg?50:800)+s);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(f),clearTimeout(y)}}:null}function Ld(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ud(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Id=null;function Ud(a,s){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Id=new Map,s.forEach(yR,a),Id=null,Ld.call(a))}function yR(a,s){if(!(s.state.loading&4)){var u=Id.get(a);if(u)var f=u.get(null);else{u=new Map,Id.set(a,u);for(var y=a.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<y.length;w++){var O=y[w];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(u.set(O.dataset.precedence,O),f=O)}f&&u.set(null,f)}y=s.instance,O=y.getAttribute("data-precedence"),w=u.get(O)||f,w===f&&u.set(null,y),u.set(O,y),this.count++,f=Ld.bind(this),y.addEventListener("load",f),y.addEventListener("error",f),w?w.parentNode.insertBefore(y,w.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(y,a.firstChild)),s.state.loading|=4}}var iu={$$typeof:E,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function bR(a,s,u,f,y,w,O,D,U){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=U0(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=U0(0),this.hiddenUpdates=U0(null),this.identifierPrefix=f,this.onUncaughtError=y,this.onCaughtError=w,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function c_(a,s,u,f,y,w,O,D,U,G,re,se){return a=new bR(a,s,u,O,U,G,re,se,D),s=1,w===!0&&(s|=24),w=Fr(3,null,null,s),a.current=w,w.stateNode=a,s=_m(),s.refCount++,a.pooledCache=s,s.refCount++,w.memoizedState={element:f,isDehydrated:u,cache:s},Om(w),a}function d_(a){return a?(a=el,a):el}function f_(a,s,u,f,y,w){y=d_(y),f.context===null?f.context=y:f.pendingContext=y,f=si(s),f.payload={element:u},w=w===void 0?null:w,w!==null&&(f.callback=w),u=li(a,f,s),u!==null&&(Pr(u,a,s),Lo(u,a,s))}function h_(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<s?u:s}}function Kg(a,s){h_(a,s),(a=a.alternate)&&h_(a,s)}function m_(a){if(a.tag===13||a.tag===31){var s=Gi(a,67108864);s!==null&&Pr(s,a,67108864),Kg(a,67108864)}}function g_(a){if(a.tag===13||a.tag===31){var s=Wr();s=z0(s);var u=Gi(a,s);u!==null&&Pr(u,a,s),Kg(a,s)}}var zd=!0;function xR(a,s,u,f){var y=B.T;B.T=null;var w=K.p;try{K.p=2,Vg(a,s,u,f)}finally{K.p=w,B.T=y}}function wR(a,s,u,f){var y=B.T;B.T=null;var w=K.p;try{K.p=8,Vg(a,s,u,f)}finally{K.p=w,B.T=y}}function Vg(a,s,u,f){if(zd){var y=Gg(f);if(y===null)Pg(a,s,f,Bd,u),v_(a,f);else if(_R(y,a,s,u,f))f.stopPropagation();else if(v_(a,f),s&4&&-1<SR.indexOf(a)){for(;y!==null;){var w=Hs(y);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var O=qi(w.pendingLanes);if(O!==0){var D=w;for(D.pendingLanes|=2,D.entangledLanes|=2;O;){var U=1<<31-Mt(O);D.entanglements[1]|=U,O&=~U}Fn(w),(Ve&6)===0&&(_d=ht()+500,Qo(0))}}break;case 31:case 13:D=Gi(w,2),D!==null&&Pr(D,w,2),jd(),Kg(w,2)}if(w=Gg(f),w===null&&Pg(a,s,f,Bd,u),w===y)break;y=w}y!==null&&f.stopPropagation()}else Pg(a,s,f,null,u)}}function Gg(a){return a=W0(a),Yg(a)}var Bd=null;function Yg(a){if(Bd=null,a=qs(a),a!==null){var s=l(a);if(s===null)a=null;else{var u=s.tag;if(u===13){if(a=o(s),a!==null)return a;a=null}else if(u===31){if(a=c(s),a!==null)return a;a=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return Bd=a,null}function p_(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Us()){case En:return 2;case Bi:return 8;case mt:case Dt:return 32;case Bt:return 268435456;default:return 32}default:return 32}}var Wg=!1,yi=null,bi=null,xi=null,su=new Map,lu=new Map,wi=[],SR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function v_(a,s){switch(a){case"focusin":case"focusout":yi=null;break;case"dragenter":case"dragleave":bi=null;break;case"mouseover":case"mouseout":xi=null;break;case"pointerover":case"pointerout":su.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":lu.delete(s.pointerId)}}function ou(a,s,u,f,y,w){return a===null||a.nativeEvent!==w?(a={blockedOn:s,domEventName:u,eventSystemFlags:f,nativeEvent:w,targetContainers:[y]},s!==null&&(s=Hs(s),s!==null&&m_(s)),a):(a.eventSystemFlags|=f,s=a.targetContainers,y!==null&&s.indexOf(y)===-1&&s.push(y),a)}function _R(a,s,u,f,y){switch(s){case"focusin":return yi=ou(yi,a,s,u,f,y),!0;case"dragenter":return bi=ou(bi,a,s,u,f,y),!0;case"mouseover":return xi=ou(xi,a,s,u,f,y),!0;case"pointerover":var w=y.pointerId;return su.set(w,ou(su.get(w)||null,a,s,u,f,y)),!0;case"gotpointercapture":return w=y.pointerId,lu.set(w,ou(lu.get(w)||null,a,s,u,f,y)),!0}return!1}function y_(a){var s=qs(a.target);if(s!==null){var u=l(s);if(u!==null){if(s=u.tag,s===13){if(s=o(u),s!==null){a.blockedOn=s,Pw(a.priority,function(){g_(u)});return}}else if(s===31){if(s=c(u),s!==null){a.blockedOn=s,Pw(a.priority,function(){g_(u)});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function qd(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var u=Gg(a.nativeEvent);if(u===null){u=a.nativeEvent;var f=new u.constructor(u.type,u);Y0=f,u.target.dispatchEvent(f),Y0=null}else return s=Hs(u),s!==null&&m_(s),a.blockedOn=u,!1;s.shift()}return!0}function b_(a,s,u){qd(a)&&u.delete(s)}function kR(){Wg=!1,yi!==null&&qd(yi)&&(yi=null),bi!==null&&qd(bi)&&(bi=null),xi!==null&&qd(xi)&&(xi=null),su.forEach(b_),lu.forEach(b_)}function Hd(a,s){a.blockedOn===s&&(a.blockedOn=null,Wg||(Wg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,kR)))}var Fd=null;function x_(a){Fd!==a&&(Fd=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Fd===a&&(Fd=null);for(var s=0;s<a.length;s+=3){var u=a[s],f=a[s+1],y=a[s+2];if(typeof f!="function"){if(Yg(f||u)===null)continue;break}var w=Hs(u);w!==null&&(a.splice(s,3),s-=3,Gm(w,{pending:!0,data:y,method:u.method,action:f},f,y))}}))}function kl(a){function s(U){return Hd(U,a)}yi!==null&&Hd(yi,a),bi!==null&&Hd(bi,a),xi!==null&&Hd(xi,a),su.forEach(s),lu.forEach(s);for(var u=0;u<wi.length;u++){var f=wi[u];f.blockedOn===a&&(f.blockedOn=null)}for(;0<wi.length&&(u=wi[0],u.blockedOn===null);)y_(u),u.blockedOn===null&&wi.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var y=u[f],w=u[f+1],O=y[Er]||null;if(typeof w=="function")O||x_(u);else if(O){var D=null;if(w&&w.hasAttribute("formAction")){if(y=w,O=w[Er]||null)D=O.formAction;else if(Yg(y)!==null)continue}else D=O.action;typeof D=="function"?u[f+1]=D:(u.splice(f,3),f-=3),x_(u)}}}function w_(){function a(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(O){return y=O})},focusReset:"manual",scroll:"manual"})}function s(){y!==null&&(y(),y=null),f||setTimeout(u,20)}function u(){if(!f&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,y=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(u,100),function(){f=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),y!==null&&(y(),y=null)}}}function Xg(a){this._internalRoot=a}Kd.prototype.render=Xg.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(n(409));var u=s.current,f=Wr();f_(u,f,a,s,null,null)},Kd.prototype.unmount=Xg.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;f_(a.current,2,null,a,null,null),jd(),s[Bs]=null}};function Kd(a){this._internalRoot=a}Kd.prototype.unstable_scheduleHydration=function(a){if(a){var s=Cw();a={blockedOn:null,target:a,priority:s};for(var u=0;u<wi.length&&s!==0&&s<wi[u].priority;u++);wi.splice(u,0,a),u===0&&y_(a)}};var S_=t.version;if(S_!=="19.2.1")throw Error(n(527,S_,"19.2.1"));K.findDOMNode=function(a){var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=h(s),a=a!==null?m(a):null,a=a===null?null:a.stateNode,a};var jR={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vd.isDisabled&&Vd.supportsFiber)try{sa=Vd.inject(jR),pr=Vd}catch{}}return cu.createRoot=function(a,s){if(!i(a))throw Error(n(299));var u=!1,f="",y=AS,w=TS,O=CS;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(y=s.onUncaughtError),s.onCaughtError!==void 0&&(w=s.onCaughtError),s.onRecoverableError!==void 0&&(O=s.onRecoverableError)),s=c_(a,1,!1,null,null,u,f,null,y,w,O,w_),a[Bs]=s.current,Cg(a),new Xg(s)},cu.hydrateRoot=function(a,s,u){if(!i(a))throw Error(n(299));var f=!1,y="",w=AS,O=TS,D=CS,U=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(w=u.onUncaughtError),u.onCaughtError!==void 0&&(O=u.onCaughtError),u.onRecoverableError!==void 0&&(D=u.onRecoverableError),u.formState!==void 0&&(U=u.formState)),s=c_(a,1,!0,s,u??null,f,y,U,w,O,D,w_),s.context=d_(null),u=s.current,f=Wr(),f=z0(f),y=si(f),y.callback=null,li(u,y,f),u=f,s.current.lanes=u,bo(s,u),Fn(s),a[Bs]=s.current,Cg(a),new Kd(s)},cu.version="19.2.1",cu}var P_;function MR(){if(P_)return Qg.exports;P_=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Qg.exports=DR(),Qg.exports}var RR=MR();function $R({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const jb=b.forwardRef($R);function LR({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const UN=b.forwardRef(LR);function IR({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m12.75 15 3-3m0 0-3-3m3 3h-7.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const UR=b.forwardRef(IR);function zR({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const BR=b.forwardRef(zR);function qR({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))}const HR=b.forwardRef(qR);function FR({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"}))}const KR=b.forwardRef(FR);function VR({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"}))}const zN=b.forwardRef(VR);function GR({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const YR=b.forwardRef(GR);function WR({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const ql=b.forwardRef(WR);function XR({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const BN=b.forwardRef(XR);function ZR({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const qN=b.forwardRef(ZR);function JR({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"}))}const Mu=b.forwardRef(JR);function QR({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"}))}const D_=b.forwardRef(QR);function e6({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"}))}const Xv=b.forwardRef(e6);function t6({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const nc=b.forwardRef(t6);function r6({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15a4.5 4.5 0 0 0 4.5 4.5H18a3.75 3.75 0 0 0 1.332-7.257 3 3 0 0 0-3.758-3.848 5.25 5.25 0 0 0-10.233 2.33A4.502 4.502 0 0 0 2.25 15Z"}))}const M_=b.forwardRef(r6);function n6({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const a6=b.forwardRef(n6);function i6({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 7.5-9-5.25L3 7.5m18 0-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9"}))}const Eb=b.forwardRef(i6);function s6({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const l6=b.forwardRef(s6);function o6({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const HN=b.forwardRef(o6);function u6({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const c6=b.forwardRef(u6);function d6({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const FN=b.forwardRef(d6);function f6({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const h6=b.forwardRef(f6);function m6({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"}))}const g6=b.forwardRef(m6);function p6({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const Ru=b.forwardRef(p6);function v6({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const y6=b.forwardRef(v6);function b6({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const Ih=b.forwardRef(b6);function x6({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0 1 10.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0 .229 2.523a1.125 1.125 0 0 1-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0 0 21 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 0 0-1.913-.247M6.34 18H5.25A2.25 2.25 0 0 1 3 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 0 1 1.913-.247m10.5 0a48.536 48.536 0 0 0-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5Zm-3 0h.008v.008H15V10.5Z"}))}const w6=b.forwardRef(x6);function S6({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 3.75 9.375v-4.5ZM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 0 1-1.125-1.125v-4.5ZM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 13.5 9.375v-4.5Z"}),b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 6.75h.75v.75h-.75v-.75ZM6.75 16.5h.75v.75h-.75v-.75ZM16.5 6.75h.75v.75h-.75v-.75ZM13.5 13.5h.75v.75h-.75v-.75ZM13.5 19.5h.75v.75h-.75v-.75ZM19.5 13.5h.75v.75h-.75v-.75ZM19.5 19.5h.75v.75h-.75v-.75ZM16.5 16.5h.75v.75h-.75v-.75Z"}))}const _6=b.forwardRef(S6);function k6({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const KN=b.forwardRef(k6);function j6({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"}))}const VN=b.forwardRef(j6);function E6({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 0 1-1.125-1.125M3.375 19.5h7.5c.621 0 1.125-.504 1.125-1.125m-9.75 0V5.625m0 12.75v-1.5c0-.621.504-1.125 1.125-1.125m18.375 2.625V5.625m0 12.75c0 .621-.504 1.125-1.125 1.125m1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125m0 3.75h-7.5A1.125 1.125 0 0 1 12 18.375m9.75-12.75c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125m19.5 0v1.5c0 .621-.504 1.125-1.125 1.125M2.25 5.625v1.5c0 .621.504 1.125 1.125 1.125m0 0h17.25m-17.25 0h7.5c.621 0 1.125.504 1.125 1.125M3.375 8.25c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125m17.25-3.75h-7.5c-.621 0-1.125.504-1.125 1.125m8.625-1.125c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125M12 10.875v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 10.875c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125M13.125 12h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125M20.625 12c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5M12 14.625v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 14.625c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125m0 1.5v-1.5m0 0c0-.621.504-1.125 1.125-1.125m0 0h7.5"}))}const GN=b.forwardRef(E6);function O6({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Es=b.forwardRef(O6);function N6({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 0 1-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 0 0-3.213-9.193 2.056 2.056 0 0 0-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 0 0-10.026 0 1.106 1.106 0 0 0-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"}))}const Zn=b.forwardRef(N6);function A6({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const T6=b.forwardRef(A6);function C6({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const P6=b.forwardRef(C6);function D6({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Ds=b.forwardRef(D6);var ja={},Yd={},Zv=function(e,t){return Zv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Zv(e,t)};function YN(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Zv(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Mf=function(){return Mf=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(t[l]=r[l])}return t},Mf.apply(this,arguments)};function to(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function WN(e,t,r,n){var i=arguments.length,l=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(l=(i<3?o(l):i>3?o(t,r,l):o(t,r))||l);return i>3&&l&&Object.defineProperty(t,r,l),l}function XN(e,t){return function(r,n){t(r,n,e)}}function ZN(e,t,r,n,i,l){function o(j){if(j!==void 0&&typeof j!="function")throw new TypeError("Function expected");return j}for(var c=n.kind,d=c==="getter"?"get":c==="setter"?"set":"value",h=!t&&e?n.static?e:e.prototype:null,m=t||(h?Object.getOwnPropertyDescriptor(h,n.name):{}),p,v=!1,x=r.length-1;x>=0;x--){var S={};for(var k in n)S[k]=k==="access"?{}:n[k];for(var k in n.access)S.access[k]=n.access[k];S.addInitializer=function(j){if(v)throw new TypeError("Cannot add initializers after decoration has completed");l.push(o(j||null))};var _=(0,r[x])(c==="accessor"?{get:m.get,set:m.set}:m[d],S);if(c==="accessor"){if(_===void 0)continue;if(_===null||typeof _!="object")throw new TypeError("Object expected");(p=o(_.get))&&(m.get=p),(p=o(_.set))&&(m.set=p),(p=o(_.init))&&i.unshift(p)}else(p=o(_))&&(c==="field"?i.unshift(p):m[d]=p)}h&&Object.defineProperty(h,n.name,m),v=!0}function JN(e,t,r){for(var n=arguments.length>2,i=0;i<t.length;i++)r=n?t[i].call(e,r):t[i].call(e);return n?r:void 0}function QN(e){return typeof e=="symbol"?e:"".concat(e)}function e5(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function t5(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function ve(e,t,r,n){function i(l){return l instanceof r?l:new r(function(o){o(l)})}return new(r||(r=Promise))(function(l,o){function c(m){try{h(n.next(m))}catch(p){o(p)}}function d(m){try{h(n.throw(m))}catch(p){o(p)}}function h(m){m.done?l(m.value):i(m.value).then(c,d)}h((n=n.apply(e,t||[])).next())})}function r5(e,t){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},n,i,l,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=c(0),o.throw=c(1),o.return=c(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(h){return function(m){return d([h,m])}}function d(h){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,h[0]&&(r=0)),r;)try{if(n=1,i&&(l=h[0]&2?i.return:h[0]?i.throw||((l=i.return)&&l.call(i),0):i.next)&&!(l=l.call(i,h[1])).done)return l;switch(i=0,l&&(h=[h[0]&2,l.value]),h[0]){case 0:case 1:l=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,i=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!l||h[1]>l[0]&&h[1]<l[3])){r.label=h[1];break}if(h[0]===6&&r.label<l[1]){r.label=l[1],l=h;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(h);break}l[2]&&r.ops.pop(),r.trys.pop();continue}h=t.call(e,r)}catch(m){h=[6,m],i=0}finally{n=l=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}var Uh=Object.create?(function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]});function n5(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Uh(t,e,r)}function Rf(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ob(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,l=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)l.push(i.value)}catch(c){o={error:c}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return l}function a5(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ob(arguments[t]));return e}function i5(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var l=arguments[t],o=0,c=l.length;o<c;o++,i++)n[i]=l[o];return n}function s5(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,l;n<i;n++)(l||!(n in t))&&(l||(l=Array.prototype.slice.call(t,0,n)),l[n]=t[n]);return e.concat(l||Array.prototype.slice.call(t))}function Hl(e){return this instanceof Hl?(this.v=e,this):new Hl(e)}function l5(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,l=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(x){return function(S){return Promise.resolve(S).then(x,p)}}function c(x,S){n[x]&&(i[x]=function(k){return new Promise(function(_,j){l.push([x,k,_,j])>1||d(x,k)})},S&&(i[x]=S(i[x])))}function d(x,S){try{h(n[x](S))}catch(k){v(l[0][3],k)}}function h(x){x.value instanceof Hl?Promise.resolve(x.value.v).then(m,p):v(l[0][2],x)}function m(x){d("next",x)}function p(x){d("throw",x)}function v(x,S){x(S),l.shift(),l.length&&d(l[0][0],l[0][1])}}function o5(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,l){t[i]=e[i]?function(o){return(r=!r)?{value:Hl(e[i](o)),done:!1}:l?l(o):o}:l}}function u5(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Rf=="function"?Rf(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(l){r[l]=e[l]&&function(o){return new Promise(function(c,d){o=e[l](o),i(c,d,o.done,o.value)})}}function i(l,o,c,d){Promise.resolve(d).then(function(h){l({value:h,done:c})},o)}}function c5(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var M6=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},Jv=function(e){return Jv=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Jv(e)};function d5(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Jv(e),n=0;n<r.length;n++)r[n]!=="default"&&Uh(t,e,r[n]);return M6(t,e),t}function f5(e){return e&&e.__esModule?e:{default:e}}function h5(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function m5(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r}function g5(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function p5(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(l){return Promise.reject(l)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var R6=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function v5(e){function t(l){e.error=e.hasError?new R6(l,e.error,"An error was suppressed during disposal."):l,e.hasError=!0}var r,n=0;function i(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(i);if(r.dispose){var l=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(l).then(i,function(o){return t(o),i()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function y5(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,l,o){return n?t?".jsx":".js":i&&(!l||!o)?r:i+l+"."+o.toLowerCase()+"js"}):e}const $6={__extends:YN,__assign:Mf,__rest:to,__decorate:WN,__param:XN,__esDecorate:ZN,__runInitializers:JN,__propKey:QN,__setFunctionName:e5,__metadata:t5,__awaiter:ve,__generator:r5,__createBinding:Uh,__exportStar:n5,__values:Rf,__read:Ob,__spread:a5,__spreadArrays:i5,__spreadArray:s5,__await:Hl,__asyncGenerator:l5,__asyncDelegator:o5,__asyncValues:u5,__makeTemplateObject:c5,__importStar:d5,__importDefault:f5,__classPrivateFieldGet:h5,__classPrivateFieldSet:m5,__classPrivateFieldIn:g5,__addDisposableResource:p5,__disposeResources:v5,__rewriteRelativeImportExtension:y5},L6=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:p5,get __assign(){return Mf},__asyncDelegator:o5,__asyncGenerator:l5,__asyncValues:u5,__await:Hl,__awaiter:ve,__classPrivateFieldGet:h5,__classPrivateFieldIn:g5,__classPrivateFieldSet:m5,__createBinding:Uh,__decorate:WN,__disposeResources:v5,__esDecorate:ZN,__exportStar:n5,__extends:YN,__generator:r5,__importDefault:f5,__importStar:d5,__makeTemplateObject:c5,__metadata:t5,__param:XN,__propKey:QN,__read:Ob,__rest:to,__rewriteRelativeImportExtension:y5,__runInitializers:JN,__setFunctionName:e5,__spread:a5,__spreadArray:s5,__spreadArrays:i5,__values:Rf,default:$6},Symbol.toStringTag,{value:"Module"})),I6=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);let zh=class extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}},b5=class extends zh{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},Qv=class extends zh{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},ey=class extends zh{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var $f;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})($f||($f={}));class U6{constructor(t,{headers:r={},customFetch:n,region:i=$f.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=I6(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return ve(this,arguments,void 0,function*(r,n={}){var i;let l,o;try{const{headers:c,method:d,body:h,signal:m,timeout:p}=n;let v={},{region:x}=n;x||(x=this.region);const S=new URL(`${this.url}/${r}`);x&&x!=="any"&&(v["x-region"]=x,S.searchParams.set("forceFunctionRegion",x));let k;h&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",k=h):typeof h=="string"?(v["Content-Type"]="text/plain",k=h):typeof FormData<"u"&&h instanceof FormData?k=h:(v["Content-Type"]="application/json",k=JSON.stringify(h)):k=h;let _=m;p&&(o=new AbortController,l=setTimeout(()=>o.abort(),p),m?(_=o.signal,m.addEventListener("abort",()=>o.abort())):_=o.signal);const j=yield this.fetch(S.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),c),body:k,signal:_}).catch(A=>{throw new b5(A)}),N=j.headers.get("x-relay-error");if(N&&N==="true")throw new Qv(j);if(!j.ok)throw new ey(j);let E=((i=j.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),P;return E==="application/json"?P=yield j.json():E==="application/octet-stream"||E==="application/pdf"?P=yield j.blob():E==="text/event-stream"?P=j:E==="multipart/form-data"?P=yield j.formData():P=yield j.text(),{data:P,error:null,response:j}}catch(c){return{data:null,error:c,response:c instanceof ey||c instanceof Qv?c.context:void 0}}finally{l&&clearTimeout(l)}})}}const z6=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return $f},FunctionsClient:U6,FunctionsError:zh,FunctionsFetchError:b5,FunctionsHttpError:ey,FunctionsRelayError:Qv},Symbol.toStringTag,{value:"Module"})),x5=rc(z6);var ur={};const ro=rc(L6);var Wd={},Xd={},Zd={},Jd={},Qd={},ef={},R_;function w5(){if(R_)return ef;R_=1,Object.defineProperty(ef,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return ef.default=e,ef}var $_;function S5(){if($_)return Qd;$_=1,Object.defineProperty(Qd,"__esModule",{value:!0});const t=ro.__importDefault(w5());let r=class{constructor(i){var l,o;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(l=i.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=i.signal,this.isMaybeSingle=(o=i.isMaybeSingle)!==null&&o!==void 0?o:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,l){return this.headers=new Headers(this.headers),this.headers.set(i,l),this}then(i,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let c=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var h,m,p,v;let x=null,S=null,k=null,_=d.status,j=d.statusText;if(d.ok){if(this.method!=="HEAD"){const A=await d.text();A===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((h=this.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?S=A:S=JSON.parse(A))}const E=(m=this.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),P=(p=d.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");E&&P&&P.length>1&&(k=parseInt(P[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(x={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,k=null,_=406,j="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const E=await d.text();try{x=JSON.parse(E),Array.isArray(x)&&d.status===404&&(S=[],x=null,_=200,j="OK")}catch{d.status===404&&E===""?(_=204,j="No Content"):x={message:E}}if(x&&this.isMaybeSingle&&(!((v=x?.details)===null||v===void 0)&&v.includes("0 rows"))&&(x=null,_=200,j="OK"),x&&this.shouldThrowOnError)throw new t.default(x)}return{error:x,data:S,count:k,status:_,statusText:j}});return this.shouldThrowOnError||(c=c.catch(d=>{var h,m,p,v,x,S;let k="";const _=d?.cause;if(_){const j=(h=_?.message)!==null&&h!==void 0?h:"",N=(m=_?.code)!==null&&m!==void 0?m:"";k=`${(p=d?.name)!==null&&p!==void 0?p:"FetchError"}: ${d?.message}`,k+=`

Caused by: ${(v=_?.name)!==null&&v!==void 0?v:"Error"}: ${j}`,N&&(k+=` (${N})`),_?.stack&&(k+=`
${_.stack}`)}else k=(x=d?.stack)!==null&&x!==void 0?x:"";return{error:{message:`${(S=d?.name)!==null&&S!==void 0?S:"FetchError"}: ${d?.message}`,details:k,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(i,l)}returns(){return this}overrideTypes(){return this}};return Qd.default=r,Qd}var L_;function _5(){if(L_)return Jd;L_=1,Object.defineProperty(Jd,"__esModule",{value:!0});const t=ro.__importDefault(S5());let r=class extends t.default{select(i){let l=!1;const o=(i??"*").split("").map(c=>/\s/.test(c)&&!l?"":(c==='"'&&(l=!l),c)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:l=!0,nullsFirst:o,foreignTable:c,referencedTable:d=c}={}){const h=d?`${d}.order`:"order",m=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${m?`${m},`:""}${i}.${l?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:l,referencedTable:o=l}={}){const c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(c,`${i}`),this}range(i,l,{foreignTable:o,referencedTable:c=o}={}){const d=typeof c>"u"?"offset":`${c}.offset`,h=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${i}`),this.url.searchParams.set(h,`${l-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:l=!1,settings:o=!1,buffers:c=!1,wal:d=!1,format:h="text"}={}){var m;const p=[i?"analyze":null,l?"verbose":null,o?"settings":null,c?"buffers":null,d?"wal":null].filter(Boolean).join("|"),v=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${v}"; options=${p};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};return Jd.default=r,Jd}var I_;function Nb(){if(I_)return Zd;I_=1,Object.defineProperty(Zd,"__esModule",{value:!0});const t=ro.__importDefault(_5()),r=new RegExp("[,()]");let n=class extends t.default{eq(l,o){return this.url.searchParams.append(l,`eq.${o}`),this}neq(l,o){return this.url.searchParams.append(l,`neq.${o}`),this}gt(l,o){return this.url.searchParams.append(l,`gt.${o}`),this}gte(l,o){return this.url.searchParams.append(l,`gte.${o}`),this}lt(l,o){return this.url.searchParams.append(l,`lt.${o}`),this}lte(l,o){return this.url.searchParams.append(l,`lte.${o}`),this}like(l,o){return this.url.searchParams.append(l,`like.${o}`),this}likeAllOf(l,o){return this.url.searchParams.append(l,`like(all).{${o.join(",")}}`),this}likeAnyOf(l,o){return this.url.searchParams.append(l,`like(any).{${o.join(",")}}`),this}ilike(l,o){return this.url.searchParams.append(l,`ilike.${o}`),this}ilikeAllOf(l,o){return this.url.searchParams.append(l,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(l,o){return this.url.searchParams.append(l,`ilike(any).{${o.join(",")}}`),this}regexMatch(l,o){return this.url.searchParams.append(l,`match.${o}`),this}regexIMatch(l,o){return this.url.searchParams.append(l,`imatch.${o}`),this}is(l,o){return this.url.searchParams.append(l,`is.${o}`),this}isDistinct(l,o){return this.url.searchParams.append(l,`isdistinct.${o}`),this}in(l,o){const c=Array.from(new Set(o)).map(d=>typeof d=="string"&&r.test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(l,`in.(${c})`),this}contains(l,o){return typeof o=="string"?this.url.searchParams.append(l,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(l,`cs.{${o.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(o)}`),this}containedBy(l,o){return typeof o=="string"?this.url.searchParams.append(l,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(l,`cd.{${o.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(o)}`),this}rangeGt(l,o){return this.url.searchParams.append(l,`sr.${o}`),this}rangeGte(l,o){return this.url.searchParams.append(l,`nxl.${o}`),this}rangeLt(l,o){return this.url.searchParams.append(l,`sl.${o}`),this}rangeLte(l,o){return this.url.searchParams.append(l,`nxr.${o}`),this}rangeAdjacent(l,o){return this.url.searchParams.append(l,`adj.${o}`),this}overlaps(l,o){return typeof o=="string"?this.url.searchParams.append(l,`ov.${o}`):this.url.searchParams.append(l,`ov.{${o.join(",")}}`),this}textSearch(l,o,{config:c,type:d}={}){let h="";d==="plain"?h="pl":d==="phrase"?h="ph":d==="websearch"&&(h="w");const m=c===void 0?"":`(${c})`;return this.url.searchParams.append(l,`${h}fts${m}.${o}`),this}match(l){return Object.entries(l).forEach(([o,c])=>{this.url.searchParams.append(o,`eq.${c}`)}),this}not(l,o,c){return this.url.searchParams.append(l,`not.${o}.${c}`),this}or(l,{foreignTable:o,referencedTable:c=o}={}){const d=c?`${c}.or`:"or";return this.url.searchParams.append(d,`(${l})`),this}filter(l,o,c){return this.url.searchParams.append(l,`${o}.${c}`),this}};return Zd.default=n,Zd}var U_;function k5(){if(U_)return Xd;U_=1,Object.defineProperty(Xd,"__esModule",{value:!0});const t=ro.__importDefault(Nb());let r=class{constructor(i,{headers:l={},schema:o,fetch:c}){this.url=i,this.headers=new Headers(l),this.schema=o,this.fetch=c}select(i,l){const{head:o=!1,count:c}=l??{},d=o?"HEAD":"GET";let h=!1;const m=(i??"*").split("").map(p=>/\s/.test(p)&&!h?"":(p==='"'&&(h=!h),p)).join("");return this.url.searchParams.set("select",m),c&&this.headers.append("Prefer",`count=${c}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:l,defaultToNull:o=!0}={}){var c;const d="POST";if(l&&this.headers.append("Prefer",`count=${l}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const h=i.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(h.length>0){const m=[...new Set(h)].map(p=>`"${p}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}upsert(i,{onConflict:l,ignoreDuplicates:o=!1,count:c,defaultToNull:d=!0}={}){var h;const m="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),c&&this.headers.append("Prefer",`count=${c}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((v,x)=>v.concat(Object.keys(x)),[]);if(p.length>0){const v=[...new Set(p)].map(x=>`"${x}"`);this.url.searchParams.set("columns",v.join(","))}}return new t.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(i,{count:l}={}){var o;const c="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var l;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}};return Xd.default=r,Xd}var z_;function B6(){if(z_)return Wd;z_=1,Object.defineProperty(Wd,"__esModule",{value:!0});const e=ro,t=e.__importDefault(k5()),r=e.__importDefault(Nb());let n=class j5{constructor(l,{headers:o={},schema:c,fetch:d}={}){this.url=l,this.headers=new Headers(o),this.schemaName=c,this.fetch=d}from(l){if(!l||typeof l!="string"||l.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${l}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new j5(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,o={},{head:c=!1,get:d=!1,count:h}={}){var m;let p;const v=new URL(`${this.url}/rpc/${l}`);let x;c||d?(p=c?"HEAD":"GET",Object.entries(o).filter(([k,_])=>_!==void 0).map(([k,_])=>[k,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([k,_])=>{v.searchParams.append(k,_)})):(p="POST",x=o);const S=new Headers(this.headers);return h&&S.set("Prefer",`count=${h}`),new r.default({method:p,url:v,headers:S,schema:this.schemaName,body:x,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}};return Wd.default=n,Wd}var B_;function E5(){if(B_)return ur;B_=1,Object.defineProperty(ur,"__esModule",{value:!0}),ur.PostgrestError=ur.PostgrestBuilder=ur.PostgrestTransformBuilder=ur.PostgrestFilterBuilder=ur.PostgrestQueryBuilder=ur.PostgrestClient=void 0;const e=ro,t=e.__importDefault(B6());ur.PostgrestClient=t.default;const r=e.__importDefault(k5());ur.PostgrestQueryBuilder=r.default;const n=e.__importDefault(Nb());ur.PostgrestFilterBuilder=n.default;const i=e.__importDefault(_5());ur.PostgrestTransformBuilder=i.default;const l=e.__importDefault(S5());ur.PostgrestBuilder=l.default;const o=e.__importDefault(w5());return ur.PostgrestError=o.default,ur.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:l.default,PostgrestError:o.default},ur}class O5{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const q6="2.87.1",H6=`realtime-js/${q6}`,N5="1.0.0",F6="2.0.0",q_=N5,ty=1e4,K6=1e3,V6=100;var ms;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ms||(ms={}));var Nt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Nt||(Nt={}));var Pn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Pn||(Pn={}));var ry;(function(e){e.websocket="websocket"})(ry||(ry={}));var gs;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(gs||(gs={}));class G6{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var i,l;const o=t.topic,c=(i=t.ref)!==null&&i!==void 0?i:"",d=(l=t.join_ref)!==null&&l!==void 0?l:"",h=t.payload.event,m=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},p=Object.keys(m).length===0?"":JSON.stringify(m);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`ref length ${c.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`userEvent length ${h.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);const v=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+c.length+o.length+h.length+p.length,x=new ArrayBuffer(this.HEADER_LENGTH+v);let S=new DataView(x),k=0;S.setUint8(k++,this.KINDS.userBroadcastPush),S.setUint8(k++,d.length),S.setUint8(k++,c.length),S.setUint8(k++,o.length),S.setUint8(k++,h.length),S.setUint8(k++,p.length),S.setUint8(k++,r),Array.from(d,j=>S.setUint8(k++,j.charCodeAt(0))),Array.from(c,j=>S.setUint8(k++,j.charCodeAt(0))),Array.from(o,j=>S.setUint8(k++,j.charCodeAt(0))),Array.from(h,j=>S.setUint8(k++,j.charCodeAt(0))),Array.from(p,j=>S.setUint8(k++,j.charCodeAt(0)));var _=new Uint8Array(x.byteLength+n.byteLength);return _.set(new Uint8Array(x),0),_.set(new Uint8Array(n),x.byteLength),_.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[i,l,o,c,d]=n;return r({join_ref:i,ref:l,topic:o,event:c,payload:d})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,i)}}_decodeUserBroadcast(t,r,n){const i=r.getUint8(1),l=r.getUint8(2),o=r.getUint8(3),c=r.getUint8(4);let d=this.HEADER_LENGTH+4;const h=n.decode(t.slice(d,d+i));d=d+i;const m=n.decode(t.slice(d,d+l));d=d+l;const p=n.decode(t.slice(d,d+o));d=d+o;const v=t.slice(d,t.byteLength),x=c===this.JSON_ENCODING?JSON.parse(n.decode(v)):v,S={type:this.BROADCAST_EVENT,event:m,payload:x};return o>0&&(S.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:h,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class A5{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var rt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(rt||(rt={}));const H_=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((l,o)=>(l[o]=Y6(o,e,t,i),l),{}):{}},Y6=(e,t,r,n)=>{const i=t.find(c=>c.name===e),l=i?.type,o=r[e];return l&&!n.includes(l)?T5(l,o):ny(o)},T5=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return J6(t,r)}switch(e){case rt.bool:return W6(t);case rt.float4:case rt.float8:case rt.int2:case rt.int4:case rt.int8:case rt.numeric:case rt.oid:return X6(t);case rt.json:case rt.jsonb:return Z6(t);case rt.timestamp:return Q6(t);case rt.abstime:case rt.date:case rt.daterange:case rt.int4range:case rt.int8range:case rt.money:case rt.reltime:case rt.text:case rt.time:case rt.timestamptz:case rt.timetz:case rt.tsrange:case rt.tstzrange:return ny(t);default:return ny(t)}},ny=e=>e,W6=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},X6=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Z6=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},J6=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let l;const o=e.slice(1,r);try{l=JSON.parse("["+o+"]")}catch{l=o?o.split(","):[]}return l.map(c=>T5(t,c))}return e},Q6=e=>typeof e=="string"?e.replace(" ","T"):e,C5=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class np{constructor(t,r,n={},i=ty){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var ay;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(ay||(ay={}));let P5=class _f{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:l,onLeave:o,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=_f.syncState(this.state,i,l,o),this.pendingDiffs.forEach(d=>{this.state=_f.syncDiff(this.state,d,l,o)}),this.pendingDiffs=[],c()}),this.channel._on(n.diff,{},i=>{const{onJoin:l,onLeave:o,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=_f.syncDiff(this.state,i,l,o),c())}),this.onJoin((i,l,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:l,newPresences:o})}),this.onLeave((i,l,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:l,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const l=this.cloneDeep(t),o=this.transformState(r),c={},d={};return this.map(l,(h,m)=>{o[h]||(d[h]=m)}),this.map(o,(h,m)=>{const p=l[h];if(p){const v=m.map(_=>_.presence_ref),x=p.map(_=>_.presence_ref),S=m.filter(_=>x.indexOf(_.presence_ref)<0),k=p.filter(_=>v.indexOf(_.presence_ref)<0);S.length>0&&(c[h]=S),k.length>0&&(d[h]=k)}else c[h]=m}),this.syncDiff(l,{joins:c,leaves:d},n,i)}static syncDiff(t,r,n,i){const{joins:l,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(l,(c,d)=>{var h;const m=(h=t[c])!==null&&h!==void 0?h:[];if(t[c]=this.cloneDeep(d),m.length>0){const p=t[c].map(x=>x.presence_ref),v=m.filter(x=>p.indexOf(x.presence_ref)<0);t[c].unshift(...v)}n(c,m,d)}),this.map(o,(c,d)=>{let h=t[c];if(!h)return;const m=d.map(p=>p.presence_ref);h=h.filter(p=>m.indexOf(p.presence_ref)<0),t[c]=h,i(c,h,d),h.length===0&&delete t[c]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var iy;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(iy||(iy={}));var Ll;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ll||(Ll={}));var Vn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Vn||(Vn={}));const e$=Nt;let D5=class wu{constructor(t,r={config:{}},n){var i,l;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Nt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new np(this,Pn.join,this.params,this.timeout),this.rejoinTimer=new A5(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Nt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Nt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Nt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Nt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Nt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Pn.reply,{},(o,c)=>{this._trigger(this._replyEventName(c),o)}),this.presence=new P5(this),this.broadcastEndpointURL=C5(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,l;if(this.socket.isConnected()||this.socket.connect(),this.state==Nt.closed){const{config:{broadcast:o,presence:c,private:d}}=this.params,h=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(x=>x.filter))!==null&&i!==void 0?i:[],m=!!this.bindings[Ll.PRESENCE]&&this.bindings[Ll.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,p={},v={broadcast:o,presence:Object.assign(Object.assign({},c),{enabled:m}),postgres_changes:h,private:d};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(x=>t?.(Vn.CHANNEL_ERROR,x)),this._onClose(()=>t?.(Vn.CLOSED)),this.updateJoinPayload(Object.assign({config:v},p)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:x})=>{var S;if(this.socket._isManualToken()||this.socket.setAuth(),x===void 0){t?.(Vn.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,_=(S=k?.length)!==null&&S!==void 0?S:0,j=[];for(let N=0;N<_;N++){const E=k[N],{filter:{event:P,schema:A,table:T,filter:C}}=E,M=x&&x[N];if(M&&M.event===P&&wu.isFilterValueEqual(M.schema,A)&&wu.isFilterValueEqual(M.table,T)&&wu.isFilterValueEqual(M.filter,C))j.push(Object.assign(Object.assign({},E),{id:M.id}));else{this.unsubscribe(),this.state=Nt.errored,t?.(Vn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,t&&t(Vn.SUBSCRIBED);return}}).receive("error",x=>{this.state=Nt.errored,t?.(Vn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{t?.(Vn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Nt.joined&&t===Ll.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var i;const l=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:l,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(c.status===202)return{success:!0};let d=c.statusText;try{const h=await c.json();d=h.error||h.message||d}catch{}return Promise.reject(new Error(d))}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:o}=t,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:o,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=h.body)===null||i===void 0?void 0:i.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var o,c,d;const h=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(c=(o=this.params)===null||o===void 0?void 0:o.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.ack)&&l("ok"),h.receive("ok",()=>l("ok")),h.receive("error",()=>l("error")),h.receive("timeout",()=>l("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Nt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Pn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new np(this,Pn.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Nt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,l=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(l),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new np(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>V6){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,l;const o=t.toLocaleLowerCase(),{close:c,error:d,leave:h,join:m}=Pn;if(n&&[c,d,h,m].indexOf(o)>=0&&n!==this._joinRef())return;let v=this._onMessage(o,r,n);if(r&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(x=>{var S,k,_;return((S=x.filter)===null||S===void 0?void 0:S.event)==="*"||((_=(k=x.filter)===null||k===void 0?void 0:k.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(x=>x.callback(v,n)):(l=this.bindings[o])===null||l===void 0||l.filter(x=>{var S,k,_,j,N,E;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in x){const P=x.id,A=(S=x.filter)===null||S===void 0?void 0:S.event;return P&&((k=r.ids)===null||k===void 0?void 0:k.includes(P))&&(A==="*"||A?.toLocaleLowerCase()===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const P=(N=(j=x?.filter)===null||j===void 0?void 0:j.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return P==="*"||P===((E=r?.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===o}).map(x=>{if(typeof v=="object"&&"ids"in v){const S=v.data,{schema:k,table:_,commit_timestamp:j,type:N,errors:E}=S;v=Object.assign(Object.assign({},{schema:k,table:_,commit_timestamp:j,eventType:N,new:{},old:{},errors:E}),this._getPayloadRecords(S))}x.callback(v,n)})}_isClosed(){return this.state===Nt.closed}_isJoined(){return this.state===Nt.joined}_isJoining(){return this.state===Nt.joining}_isLeaving(){return this.state===Nt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),l={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(l):this.bindings[i]=[l],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var l;return!(((l=i.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===n&&wu.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Pn.close,{},t)}_onError(t){this._on(Pn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Nt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=H_(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=H_(t.columns,t.old_record)),r}};const ap=()=>{},tf={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},t$=[1e3,2e3,5e3,1e4],r$=1e4,n$=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let a$=class{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ty,this.transport=null,this.heartbeatIntervalMs=tf.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ap,this.ref=0,this.reconnectTimer=null,this.vsn=q_,this.logger=ap,this.conn=null,this.sendBuffer=[],this.serializer=new G6,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...l)=>i(...l):(...l)=>fetch(...l),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${ry.websocket}`,this.httpEndpoint=C5(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=O5.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ms.connecting:return gs.Connecting;case ms.open:return gs.Open;case ms.closing:return gs.Closing;default:return gs.Closed}}isConnected(){return this.connectionState()===gs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(l=>l.topic===n);if(i)return i;{const l=new D5(`realtime:${t}`,r,this);return this.channels.push(l),l}}push(t){const{topic:r,event:n,payload:i,ref:l}=t,o=()=>{this.encode(t,c=>{var d;(d=this.conn)===null||d===void 0||d.send(c)})};this.log("push",`${r} ${n} (${l})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(K6,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},tf.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(h){this.log("error","error in heartbeat callback",h)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:l,ref:o}=r,c=o?`(${o})`:"",d=l.status||"";this.log("receive",`${d} ${n} ${i} ${c}`.trim(),l),this.channels.filter(h=>h._isMember(n)).forEach(h=>h._trigger(i,l,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===ms.open||this.conn.readyState===ms.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Pn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([n$],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const l={access_token:r,version:H6};r&&i.updateJoinPayload(l),i.joinedOnce&&i._isJoined()&&i._push(Pn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new A5(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},tf.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,l,o,c,d,h,m,p,v,x;switch(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t?.timeout)!==null&&n!==void 0?n:ty,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:tf.HEARTBEAT_INTERVAL,this.worker=(l=t?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(o=t?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(c=t?.heartbeatCallback)!==null&&c!==void 0?c:ap,this.vsn=(d=t?.vsn)!==null&&d!==void 0?d:q_,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=t?.reconnectAfterMs)!==null&&h!==void 0?h:(S=>t$[S-1]||r$),this.vsn){case N5:this.encode=(m=t?.encode)!==null&&m!==void 0?m:((S,k)=>k(JSON.stringify(S))),this.decode=(p=t?.decode)!==null&&p!==void 0?p:((S,k)=>k(JSON.parse(S)));break;case F6:this.encode=(v=t?.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(x=t?.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};const i$=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:e$,get REALTIME_LISTEN_TYPES(){return Ll},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return iy},get REALTIME_PRESENCE_LISTEN_EVENTS(){return ay},get REALTIME_SUBSCRIBE_STATES(){return Vn},RealtimeChannel:D5,RealtimeClient:a$,RealtimePresence:P5,WebSocketFactory:O5},Symbol.toStringTag,{value:"Module"})),M5=rc(i$);class ac extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ct(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class R5 extends ac{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Lf extends ac{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const Ab=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),s$=()=>Response,sy=e=>{if(Array.isArray(e))return e.map(r=>sy(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));t[i]=sy(n)}),t},l$=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},o$=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),ip=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},u$=(e,t,r)=>ve(void 0,void 0,void 0,function*(){const n=yield s$();e instanceof n&&!r?.noResolveJson?e.json().then(i=>{const l=e.status||500,o=i?.statusCode||l+"";t(new R5(ip(i),l,o))}).catch(i=>{t(new Lf(ip(i),i))}):t(new Lf(ip(e),e))}),c$=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||!n?i:(l$(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(n)):i.body=n,t?.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function ic(e,t,r,n,i,l){return ve(this,void 0,void 0,function*(){return new Promise((o,c)=>{e(r,c$(t,n,i,l)).then(d=>{if(!d.ok)throw d;return n?.noResolveJson?d:d.json()}).then(d=>o(d)).catch(d=>u$(d,c,n))})})}function $u(e,t,r,n){return ve(this,void 0,void 0,function*(){return ic(e,"GET",t,r,n)})}function Cn(e,t,r,n,i){return ve(this,void 0,void 0,function*(){return ic(e,"POST",t,n,i,r)})}function ly(e,t,r,n,i){return ve(this,void 0,void 0,function*(){return ic(e,"PUT",t,n,i,r)})}function d$(e,t,r,n){return ve(this,void 0,void 0,function*(){return ic(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Tb(e,t,r,n,i){return ve(this,void 0,void 0,function*(){return ic(e,"DELETE",t,n,i,r)})}class f${constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return ve(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ct(t))return{data:null,error:t};throw t}})}}var $5;class h${constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[$5]="BlobDownloadBuilder",this.promise=null}asStream(){return new f$(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ve(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ct(t))return{data:null,error:t};throw t}})}}$5=Symbol.toStringTag;const m$={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},F_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class g${constructor(t,r={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=Ab(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,i){return ve(this,void 0,void 0,function*(){try{let l;const o=Object.assign(Object.assign({},F_),i);let c=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const d=o.metadata;typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",o.cacheControl),d&&l.append("metadata",this.encodeMetadata(d)),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.has("cacheControl")||l.append("cacheControl",o.cacheControl),d&&!l.has("metadata")&&l.append("metadata",this.encodeMetadata(d))):(l=n,c["cache-control"]=`max-age=${o.cacheControl}`,c["content-type"]=o.contentType,d&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(d))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!o.duplex&&(o.duplex="half")),i?.headers&&(c=Object.assign(Object.assign({},c),i.headers));const h=this._removeEmptyFolders(r),m=this._getFinalPath(h),p=yield(t=="PUT"?ly:Cn)(this.fetch,`${this.url}/object/${m}`,l,Object.assign({headers:c},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:h,id:p.Id,fullPath:p.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ct(l))return{data:null,error:l};throw l}})}upload(t,r,n){return ve(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return ve(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(t),o=this._getFinalPath(l),c=new URL(this.url+`/object/upload/sign/${o}`);c.searchParams.set("token",r);try{let d;const h=Object.assign({upsert:F_.upsert},i),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.append("cacheControl",h.cacheControl)):(d=n,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType);const p=yield ly(this.fetch,c.toString(),d,{headers:m});return{data:{path:l,fullPath:p.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(ct(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(t,r){return ve(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r?.upsert&&(i["x-upsert"]="true");const l=yield Cn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+l.url),c=o.searchParams.get("token");if(!c)throw new ac("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:c},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ct(n))return{data:null,error:n};throw n}})}update(t,r,n){return ve(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return ve(this,void 0,void 0,function*(){try{return{data:yield Cn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ct(i))return{data:null,error:i};throw i}})}copy(t,r,n){return ve(this,void 0,void 0,function*(){try{return{data:{path:(yield Cn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ct(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return ve(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),l=yield Cn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${o}`)},{data:l,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ct(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return ve(this,void 0,void 0,function*(){try{const i=yield Cn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),l=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${l}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ct(i))return{data:null,error:i};throw i}})}download(t,r){const i=typeof r?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(r?.transform||{}),o=l?`?${l}`:"",c=this._getFinalPath(t),d=()=>$u(this.fetch,`${this.url}/${i}/${c}${o}`,{headers:this.headers,noResolveJson:!0});return new h$(d,this.shouldThrowOnError)}info(t){return ve(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield $u(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:sy(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ct(n))return{data:null,error:n};throw n}})}exists(t){return ve(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield d$(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ct(n)&&n instanceof Lf){const i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],l=r?.download?`download=${r.download===!0?"":r.download}`:"";l!==""&&i.push(l);const c=typeof r?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(r?.transform||{});d!==""&&i.push(d);let h=i.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${n}${h}`)}}}remove(t){return ve(this,void 0,void 0,function*(){try{return{data:yield Tb(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}})}list(t,r,n){return ve(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},m$),r),{prefix:t||""});return{data:yield Cn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ct(i))return{data:null,error:i};throw i}})}listV2(t,r){return ve(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Cn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ct(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const L5="2.87.1",I5={"X-Client-Info":`storage-js/${L5}`};class p${constructor(t,r={},n,i){this.shouldThrowOnError=!1;const l=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},I5),r),this.fetch=Ab(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return ve(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield $u(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}})}getBucket(t){return ve(this,void 0,void 0,function*(){try{return{data:yield $u(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}})}createBucket(t){return ve(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Cn(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ct(i))return{data:null,error:i};throw i}})}updateBucket(t,r){return ve(this,void 0,void 0,function*(){try{return{data:yield ly(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ct(n))return{data:null,error:n};throw n}})}emptyBucket(t){return ve(this,void 0,void 0,function*(){try{return{data:yield Cn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ve(this,void 0,void 0,function*(){try{return{data:yield Tb(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var Lu=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function v$(e,t,r){const n=new URL(t,e);if(r)for(const[i,l]of Object.entries(r))l!==void 0&&n.searchParams.set(i,l);return n.toString()}async function y$(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function b$(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:l,headers:o}){const c=v$(e.baseUrl,n,i),d=await y$(e.auth),h=await t(c,{method:r,headers:{...l?{"Content-Type":"application/json"}:{},...d,...o},body:l?JSON.stringify(l):void 0}),m=await h.text(),p=(h.headers.get("content-type")||"").includes("application/json"),v=p&&m?JSON.parse(m):m;if(!h.ok){const x=p?v:void 0,S=x?.error;throw new Lu(S?.message??`Request failed with status ${h.status}`,{status:h.status,icebergType:S?.type,icebergCode:S?.code,details:x})}return{status:h.status,headers:h.headers,data:v}}}}function rf(e){return e.join("")}var x$=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:rf(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${rf(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${rf(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${rf(e.namespace)}`}),!0}catch(t){if(t instanceof Lu&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Lu&&r.status===409)return;throw r}}};function jl(e){return e.join("")}var w$=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${jl(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${jl(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${jl(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${jl(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${jl(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${jl(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Lu&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Lu&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},S$=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=b$({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new x$(this.client,t),this.tableOps=new w$(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class U5{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},I5),r),this.fetch=Ab(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ve(this,void 0,void 0,function*(){try{return{data:yield Cn(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}})}listBuckets(t){return ve(this,void 0,void 0,function*(){try{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield $u(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ve(this,void 0,void 0,function*(){try{return{data:yield Tb(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}})}from(t){if(!o$(t))throw new ac("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new S$({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>ve(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(l,o){const c=l[o];return typeof c!="function"?c:(...d)=>ve(this,void 0,void 0,function*(){try{return{data:yield c.apply(l,d),error:null}}catch(h){if(n)throw h;return{data:null,error:h}}})}})}}const Cb={"X-Client-Info":`storage-js/${L5}`,"Content-Type":"application/json"};class Pb extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Lr(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class kf extends Pb{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class z5 extends Pb{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var oy;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(oy||(oy={}));const Bh=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),_$=()=>Response,B5=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},k$=e=>Array.from(new Float32Array(e)),j$=(e,t)=>{if(t!==void 0&&e.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`)},K_=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),E$=(e,t,r)=>ve(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!r?.noResolveJson){const i=e.status||500,l=e;if(typeof l.json=="function")l.json().then(o=>{const c=o?.statusCode||o?.code||i+"";t(new kf(K_(o),i,c))}).catch(()=>{const o=i+"",c=l.statusText||`HTTP ${i} error`;t(new kf(c,i,o))});else{const o=i+"",c=l.statusText||`HTTP ${i} error`;t(new kf(c,i,o))}}else t(new z5(K_(e),e))}),O$=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return n?(B5(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function N$(e,t,r,n,i,l){return ve(this,void 0,void 0,function*(){return new Promise((o,c)=>{e(r,O$(t,n,i,l)).then(d=>{if(!d.ok)throw d;if(n?.noResolveJson)return d;const h=d.headers.get("content-type");return!h||!h.includes("application/json")?{}:d.json()}).then(d=>o(d)).catch(d=>E$(d,c,n))})})}function Zr(e,t,r,n,i){return ve(this,void 0,void 0,function*(){return N$(e,"POST",t,n,i,r)})}class q5{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Cb),r),this.fetch=Bh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return ve(this,void 0,void 0,function*(){try{return{data:(yield Zr(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Lr(r))return{data:null,error:r};throw r}})}getIndex(t,r){return ve(this,void 0,void 0,function*(){try{return{data:yield Zr(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Lr(n))return{data:null,error:n};throw n}})}listIndexes(t){return ve(this,void 0,void 0,function*(){try{return{data:yield Zr(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Lr(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return ve(this,void 0,void 0,function*(){try{return{data:(yield Zr(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Lr(n))return{data:null,error:n};throw n}})}}class H5{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Cb),r),this.fetch=Bh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return ve(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Zr(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Lr(r))return{data:null,error:r};throw r}})}getVectors(t){return ve(this,void 0,void 0,function*(){try{return{data:yield Zr(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Lr(r))return{data:null,error:r};throw r}})}listVectors(t){return ve(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Zr(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Lr(r))return{data:null,error:r};throw r}})}queryVectors(t){return ve(this,void 0,void 0,function*(){try{return{data:yield Zr(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Lr(r))return{data:null,error:r};throw r}})}deleteVectors(t){return ve(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Zr(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Lr(r))return{data:null,error:r};throw r}})}}class F5{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Cb),r),this.fetch=Bh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ve(this,void 0,void 0,function*(){try{return{data:(yield Zr(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Lr(r))return{data:null,error:r};throw r}})}getBucket(t){return ve(this,void 0,void 0,function*(){try{return{data:yield Zr(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Lr(r))return{data:null,error:r};throw r}})}listBuckets(){return ve(this,arguments,void 0,function*(t={}){try{return{data:yield Zr(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Lr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ve(this,void 0,void 0,function*(){try{return{data:(yield Zr(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Lr(r))return{data:null,error:r};throw r}})}}class K5 extends F5{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new V5(this.url,this.headers,t,this.fetch)}createBucket(t){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return ve(this,void 0,void 0,function*(){return r.createBucket.call(this,t)})}getBucket(t){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return ve(this,void 0,void 0,function*(){return r.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return ve(this,arguments,void 0,function*(r={}){return t.listBuckets.call(this,r)})}deleteBucket(t){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return ve(this,void 0,void 0,function*(){return r.deleteBucket.call(this,t)})}}class V5 extends q5{constructor(t,r,n,i){super(t,r,i),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ve(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ve(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ve(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ve(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new G5(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class G5 extends H5{constructor(t,r,n,i,l){super(t,r,l),this.vectorBucketName=n,this.indexName=i}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ve(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ve(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ve(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ve(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ve(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class A$ extends p${constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new g$(this.url,this.headers,t,this.fetch)}get vectors(){return new K5(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new U5(this.url+"/iceberg",this.headers,this.fetch)}}const T$=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:U5,StorageApiError:R5,StorageClient:A$,StorageError:ac,StorageUnknownError:Lf,StorageVectorsApiError:kf,StorageVectorsClient:K5,StorageVectorsError:Pb,get StorageVectorsErrorCode(){return oy},StorageVectorsUnknownError:z5,VectorBucketApi:F5,VectorBucketScope:V5,VectorDataApi:H5,VectorIndexApi:q5,VectorIndexScope:G5,isPlainObject:B5,isStorageError:ct,isStorageVectorsError:Lr,normalizeToFloat32:k$,resolveFetch:Bh,resolveResponse:_$,validateVectorDimension:j$},Symbol.toStringTag,{value:"Module"})),C$=rc(T$);var sp={},du={},V_;function P$(){return V_||(V_=1,Object.defineProperty(du,"__esModule",{value:!0}),du.version=void 0,du.version="2.87.1"),du}var G_;function D$(){return G_||(G_=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_REALTIME_OPTIONS=e.DEFAULT_AUTH_OPTIONS=e.DEFAULT_DB_OPTIONS=e.DEFAULT_GLOBAL_OPTIONS=e.DEFAULT_HEADERS=void 0;const t=P$();let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",e.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${t.version}`},e.DEFAULT_GLOBAL_OPTIONS={headers:e.DEFAULT_HEADERS},e.DEFAULT_DB_OPTIONS={schema:"public"},e.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e.DEFAULT_REALTIME_OPTIONS={}})(sp)),sp}var lp={},Y_;function M$(){return Y_||(Y_=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWithAuth=e.resolveHeadersConstructor=e.resolveFetch=void 0;const t=i=>i?(...l)=>i(...l):(...l)=>fetch(...l);e.resolveFetch=t;const r=()=>Headers;e.resolveHeadersConstructor=r;const n=(i,l,o)=>{const c=(0,e.resolveFetch)(o),d=(0,e.resolveHeadersConstructor)();return async(h,m)=>{var p;const v=(p=await l())!==null&&p!==void 0?p:i;let x=new d(m?.headers);return x.has("apikey")||x.set("apikey",i),x.has("Authorization")||x.set("Authorization",`Bearer ${v}`),c(h,Object.assign(Object.assign({},m),{headers:x}))}};e.fetchWithAuth=n})(lp)),lp}var Ea={},W_;function R$(){if(W_)return Ea;W_=1,Object.defineProperty(Ea,"__esModule",{value:!0}),Ea.isBrowser=void 0,Ea.uuid=e,Ea.ensureTrailingSlash=t,Ea.applySettingDefaults=n,Ea.validateSupabaseUrl=i;function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(l){var o=Math.random()*16|0,c=l=="x"?o:o&3|8;return c.toString(16)})}function t(l){return l.endsWith("/")?l:l+"/"}const r=()=>typeof window<"u";Ea.isBrowser=r;function n(l,o){var c,d;const{db:h,auth:m,realtime:p,global:v}=l,{db:x,auth:S,realtime:k,global:_}=o,j={db:Object.assign(Object.assign({},x),h),auth:Object.assign(Object.assign({},S),m),realtime:Object.assign(Object.assign({},k),p),storage:{},global:Object.assign(Object.assign(Object.assign({},_),v),{headers:Object.assign(Object.assign({},(c=_?.headers)!==null&&c!==void 0?c:{}),(d=v?.headers)!==null&&d!==void 0?d:{})}),accessToken:async()=>""};return l.accessToken?j.accessToken=l.accessToken:delete j.accessToken,j}function i(l){const o=l?.trim();if(!o)throw new Error("supabaseUrl is required.");if(!o.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t(o))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return Ea}var fu={};const Y5="2.87.1",Pl=30*1e3,uy=3,op=uy*Pl,$$="http://localhost:9999",L$="supabase.auth.token",I$={"X-Client-Info":`gotrue-js/${Y5}`},cy="X-Supabase-Api-Version",W5={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},U$=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,z$=600*1e3;let Fl=class extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}};function Se(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}let X5=class extends Fl{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}};function Z5(e){return Se(e)&&e.name==="AuthApiError"}let Ei=class extends Fl{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}},Fa=class extends Fl{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}},Rr=class extends Fa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function J5(e){return Se(e)&&e.name==="AuthSessionMissingError"}let os=class extends Fa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Su=class extends Fa{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},_u=class extends Fa{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function Q5(e){return Se(e)&&e.name==="AuthImplicitGrantRedirectError"}let dy=class extends Fa{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},If=class extends Fa{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}};function jf(e){return Se(e)&&e.name==="AuthRetryableFetchError"}let fy=class extends Fa{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}};function B$(e){return Se(e)&&e.name==="AuthWeakPasswordError"}let Uf=class extends Fa{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const zf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),X_=` 	
\r=`.split(""),q$=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<X_.length;t+=1)e[X_[t].charCodeAt(0)]=-2;for(let t=0;t<zf.length;t+=1)e[zf[t].charCodeAt(0)]=t;return e})();function Z_(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(zf[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(zf[n]),t.queuedBits-=6}}function eA(e,t,r){const n=q$[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function J_(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},l=o=>{K$(o,n,r)};for(let o=0;o<e.length;o+=1)eA(e.charCodeAt(o),i,l);return t.join("")}function H$(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function F$(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}H$(n,t)}}function K$(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Il(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)eA(e.charCodeAt(i),r,n);return new Uint8Array(t)}function V$(e){const t=[];return F$(e,r=>t.push(r)),new Uint8Array(t)}function vs(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>Z_(i,r,n)),Z_(null,r,n),t.join("")}function G$(e){return Math.round(Date.now()/1e3)+e}function Y$(){return Symbol("auth-callback")}const nr=()=>typeof window<"u"&&typeof document<"u",ss={tested:!1,writable:!1},tA=()=>{if(!nr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ss.tested)return ss.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ss.tested=!0,ss.writable=!0}catch{ss.tested=!0,ss.writable=!1}return ss.writable};function W$(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,l)=>{t[l]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const rA=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),X$=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Dl=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ls=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},rr=async(e,t)=>{await e.removeItem(t)};class qh{constructor(){this.promise=new qh.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}qh.promiseConstructor=Promise;function up(e){const t=e.split(".");if(t.length!==3)throw new Uf("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!U$.test(t[n]))throw new Uf("JWT not in base64url format");return{header:JSON.parse(J_(t[0])),payload:JSON.parse(J_(t[1])),signature:Il(t[2]),raw:{header:t[0],payload:t[1]}}}async function Z$(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function J$(e,t){return new Promise((n,i)=>{(async()=>{for(let l=0;l<1/0;l++)try{const o=await e(l);if(!t(l,null,o)){n(o);return}}catch(o){if(!t(l,o)){i(o);return}}})()})}function Q$(e){return("0"+e.toString(16)).substr(-2)}function eL(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let l=0;l<56;l++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,Q$).join("")}async function tL(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(l=>String.fromCharCode(l)).join("")}async function rL(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await tL(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function El(e,t,r=!1){const n=eL();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Dl(e,`${t}-code-verifier`,i);const l=await rL(n);return[l,n===l?"plain":"s256"]}const nL=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function aL(e){const t=e.headers.get(cy);if(!t||!t.match(nL))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function iL(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function sL(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const lL=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ol(e){if(!lL.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function cp(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function oL(e,t){return new Proxy(e,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const l=n.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,i)}})}function Q_(e){return JSON.parse(JSON.stringify(e))}const us=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),uL=[502,503,504];async function ek(e){var t;if(!X$(e))throw new If(us(e),0);if(uL.includes(e.status))throw new If(us(e),e.status);let r;try{r=await e.json()}catch(l){throw new Ei(us(l),l)}let n;const i=aL(e);if(i&&i.getTime()>=W5["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new fy(us(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Rr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((l,o)=>l&&typeof o=="string",!0))throw new fy(us(r),e.status,r.weak_password.reasons);throw new X5(us(r),e.status||500,n)}const cL=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Ce(e,t,r,n){var i;const l=Object.assign({},n?.headers);l[cy]||(l[cy]=W5["2024-01-01"].name),n?.jwt&&(l.Authorization=`Bearer ${n.jwt}`);const o=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(o.redirect_to=n.redirectTo);const c=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",d=await dL(e,t,r+c,{headers:l,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(d):{data:Object.assign({},d),error:null}}async function dL(e,t,r,n,i,l){const o=cL(t,n,i,l);let c;try{c=await e(r,Object.assign({},o))}catch(d){throw console.error(d),new If(us(d),0)}if(c.ok||await ek(c),n?.noResolveJson)return c;try{return await c.json()}catch(d){await ek(d)}}function Tn(e){var t;let r=null;mL(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=G$(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function tk(e){const t=Tn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Oi(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function fL(e){return{data:e,error:null}}function hL(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:l}=e,o=to(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:l},d=Object.assign({},o);return{data:{properties:c,user:d},error:null}}function rk(e){return e}function mL(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ef=["global","local","others"];let Db=class{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=rA(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Ef[0]){if(Ef.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ef.join(", ")}`);try{return await Ce(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Se(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ce(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Oi})}catch(n){if(Se(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=to(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),await Ce(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:hL,redirectTo:r?.redirectTo})}catch(r){if(Se(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ce(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Oi})}catch(r){if(Se(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,l,o,c,d;try{const h={nextPage:null,lastPage:0,total:0},m=await Ce(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(l=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:""},xform:rk});if(m.error)throw m.error;const p=await m.json(),v=(o=m.headers.get("x-total-count"))!==null&&o!==void 0?o:0,x=(d=(c=m.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return x.length>0&&(x.forEach(S=>{const k=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(S.split(";")[1].split("=")[1]);h[`${_}Page`]=k}),h.total=parseInt(v)),{data:Object.assign(Object.assign({},p),h),error:null}}catch(h){if(Se(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){Ol(t);try{return await Ce(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Oi})}catch(r){if(Se(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Ol(t);try{return await Ce(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Oi})}catch(n){if(Se(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Ol(t);try{return await Ce(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Oi})}catch(n){if(Se(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Ol(t.userId);try{const{data:r,error:n}=await Ce(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Se(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Ol(t.userId),Ol(t.id);try{return{data:await Ce(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Se(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,l,o,c,d;try{const h={nextPage:null,lastPage:0,total:0},m=await Ce(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(l=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:""},xform:rk});if(m.error)throw m.error;const p=await m.json(),v=(o=m.headers.get("x-total-count"))!==null&&o!==void 0?o:0,x=(d=(c=m.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return x.length>0&&(x.forEach(S=>{const k=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(S.split(";")[1].split("=")[1]);h[`${_}Page`]=k}),h.total=parseInt(v)),{data:Object.assign(Object.assign({},p),h),error:null}}catch(h){if(Se(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(t){try{return await Ce(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Se(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Ce(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Se(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Ce(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Se(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Ce(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Se(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Ce(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Se(r))return{data:null,error:r};throw r}}};function nk(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const cs={debug:!!(globalThis&&tA()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Mb extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let nA=class extends Mb{};class gL extends Mb{}async function aA(e,t,r){cs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),cs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){cs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{cs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw cs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new nA(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(cs.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const ak={};async function pL(e,t,r){var n;const i=(n=ak[e])!==null&&n!==void 0?n:Promise.resolve(),l=Promise.race([i.catch(()=>null),t>=0?new Promise((o,c)=>{setTimeout(()=>{c(new gL(`Acquring process lock with name "${e}" timed out`))},t)}):null].filter(o=>o)).catch(o=>{if(o&&o.isAcquireTimeout)throw o;return null}).then(async()=>await r());return ak[e]=l.catch(async o=>{if(o&&o.isAcquireTimeout)return await i,null;throw o}),await l}function vL(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function iA(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function yL(e){return parseInt(e,16)}function bL(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function xL(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:l=new Date,nonce:o,notBefore:c,requestId:d,resources:h,scheme:m,uri:p,version:v}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const x=iA(e.address),S=m?`${m}://${n}`:n,k=e.statement?`${e.statement}
`:"",_=`${S} wants you to sign in with your Ethereum account:
${x}

${k}`;let j=`URI: ${p}
Version: ${v}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${l.toISOString()}`;if(i&&(j+=`
Expiration Time: ${i.toISOString()}`),c&&(j+=`
Not Before: ${c.toISOString()}`),d&&(j+=`
Request ID: ${d}`),h){let N=`
Resources:`;for(const E of h){if(!E||typeof E!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${E}`);N+=`
- ${E}`}j+=N}return`${_}
${j}`}class At extends Error{constructor({message:t,code:r,cause:n,name:i}){var l;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(l=i??(n instanceof Error?n.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=r}}class Bf extends At{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function wL({error:e,options:t}){var r,n,i;const{publicKey:l}=t;if(!l)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new At({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=l.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new At({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=l.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new At({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=l.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new At({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new At({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new At({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return l.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new At({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new At({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(sA(o)){if(l.rp.id!==o)return new At({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new At({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new At({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new At({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new At({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function SL({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new At({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new At({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(sA(n)){if(r.rpId!==n)return new At({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new At({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new At({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new At({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class _L{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const kL=new _L;function jL(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=to(e,["challenge","user","excludeCredentials"]),l=Il(t).buffer,o=Object.assign(Object.assign({},r),{id:Il(r.id).buffer}),c=Object.assign(Object.assign({},i),{challenge:l,user:o});if(n&&n.length>0){c.excludeCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const h=n[d];c.excludeCredentials[d]=Object.assign(Object.assign({},h),{id:Il(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return c}function EL(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=to(e,["challenge","allowCredentials"]),i=Il(t).buffer,l=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){l.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const c=r[o];l.allowCredentials[o]=Object.assign(Object.assign({},c),{id:Il(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return l}function OL(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:vs(new Uint8Array(e.response.attestationObject)),clientDataJSON:vs(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function NL(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:vs(new Uint8Array(i.authenticatorData)),clientDataJSON:vs(new Uint8Array(i.clientDataJSON)),signature:vs(new Uint8Array(i.signature)),userHandle:i.userHandle?vs(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function sA(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function ik(){var e,t;return!!(nr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function AL(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Bf("Browser returned unexpected credential type",t)}:{data:null,error:new Bf("Empty credential response",t)}}catch(t){return{data:null,error:wL({error:t,options:e})}}}async function TL(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Bf("Browser returned unexpected credential type",t)}:{data:null,error:new Bf("Empty credential response",t)}}catch(t){return{data:null,error:SL({error:t,options:e})}}}const CL={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},PL={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function qf(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const l in i){const o=i[l];if(o!==void 0)if(Array.isArray(o))n[l]=o;else if(r(o))n[l]=o;else if(t(o)){const c=n[l];t(c)?n[l]=qf(c,o):n[l]=qf(o)}else n[l]=o}return n}function DL(e,t){return qf(CL,e,t||{})}function ML(e,t){return qf(PL,e,t||{})}class RL{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},l){try{const{data:o,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:c};const d=i??kL.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:h}=o.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${n}`),h.displayName||(h.displayName=h.name)}switch(o.webauthn.type){case"create":{const h=DL(o.webauthn.credential_options.publicKey,l?.create),{data:m,error:p}=await AL({publicKey:h,signal:d});return m?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:m}},error:null}:{data:null,error:p}}case"request":{const h=ML(o.webauthn.credential_options.publicKey,l?.request),{data:m,error:p}=await TL(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:h,signal:d}));return m?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:m}},error:null}:{data:null,error:p}}}}catch(o){return Se(o)?{data:null,error:o}:{data:null,error:new Ei("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},l){if(!r)return{data:null,error:new Fl("rpId is required for WebAuthn authentication")};try{if(!ik())return{data:null,error:new Ei("Browser does not support WebAuthn",null)};const{data:o,error:c}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:l});if(!o)return{data:null,error:c};const{webauthn:d}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:d.type,rpId:r,rpOrigins:n,credential_response:d.credential_response}})}catch(o){return Se(o)?{data:null,error:o}:{data:null,error:new Ei("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},l){if(!r)return{data:null,error:new Fl("rpId is required for WebAuthn registration")};try{if(!ik())return{data:null,error:new Ei("Browser does not support WebAuthn",null)};const{data:o,error:c}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(m=>{var p;return(p=m.data)===null||p===void 0?void 0:p.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===t&&v.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m?.id}):void 0),{data:null,error:c};const{data:d,error:h}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:l});return d?this._verify({factorId:o.id,challengeId:d.challengeId,webauthn:{rpId:r,rpOrigins:n,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:h}}catch(o){return Se(o)?{data:null,error:o}:{data:null,error:new Ei("Unexpected error in register",o)}}}}vL();const $L={url:$$,storageKey:L$,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:I$,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function sk(e,t,r){return await r()}const Nl={};let Rb=class hy{get jwks(){var t,r;return(r=(t=Nl[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Nl[this.storageKey]=Object.assign(Object.assign({},Nl[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Nl[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Nl[this.storageKey]=Object.assign(Object.assign({},Nl[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},$L),t);if(this.storageKey=l.storageKey,this.instanceID=(r=hy.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,hy.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&nr()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new Db({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=rA(l.fetch),this.lock=l.lock||sk,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,l.lock?this.lock=l.lock:this.persistSession&&nr()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=aA:this.lock=sk,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new RL(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:tA()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=nk(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=nk(this.memoryStorage)),nr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Y5}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(nr()&&(r=W$(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),nr()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:l}=await this._getSessionFromURL(r,n);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),Q5(l)){const d=(t=l.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:o,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",c),await this._saveSession(o),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Se(r)?this._returnResult({error:r}):this._returnResult({error:new Ei("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const l=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Tn}),{data:o,error:c}=l;if(c||!o)return this._returnResult({data:{user:null,session:null},error:c});const d=o.session,h=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(l){if(Se(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(t){var r,n,i;try{let l;if("email"in t){const{email:m,password:p,options:v}=t;let x=null,S=null;this.flowType==="pkce"&&([x,S]=await El(this.storage,this.storageKey)),l=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:m,password:p,data:(r=v?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:x,code_challenge_method:S},xform:Tn})}else if("phone"in t){const{phone:m,password:p,options:v}=t;l=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:p,data:(n=v?.data)!==null&&n!==void 0?n:{},channel:(i=v?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:Tn})}else throw new Su("You must provide either an email or phone number and a password");const{data:o,error:c}=l;if(c||!o)return await rr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});const d=o.session,h=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(l){if(await rr(this.storage,`${this.storageKey}-code-verifier`),Se(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(t){try{let r;if("email"in t){const{email:l,password:o,options:c}=t;r=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:tk})}else if("phone"in t){const{phone:l,password:o,options:c}=t;r=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:tk})}else throw new Su("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const l=new os;return this._returnResult({data:{user:null,session:null},error:l})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Se(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,i,l;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(l=t.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,l,o,c,d,h,m,p,v;let x,S;if("message"in t)x=t.message,S=t.signature;else{const{chain:k,wallet:_,statement:j,options:N}=t;let E;if(nr())if(typeof _=="object")E=_;else{const $=window;if("ethereum"in $&&typeof $.ethereum=="object"&&"request"in $.ethereum&&typeof $.ethereum.request=="function")E=$.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=_}const P=new URL((r=N?.url)!==null&&r!==void 0?r:window.location.href),A=await E.request({method:"eth_requestAccounts"}).then($=>$).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!A||A.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const T=iA(A[0]);let C=(n=N?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!C){const $=await E.request({method:"eth_chainId"});C=yL($)}const M={domain:P.host,address:T,statement:j,uri:P.href,version:"1",chainId:C,nonce:(i=N?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(l=N?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(c=N?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(d=N?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(h=N?.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(m=N?.signInWithEthereum)===null||m===void 0?void 0:m.resources};x=xL(M),S=await E.request({method:"personal_sign",params:[bL(x),T]})}try{const{data:k,error:_}=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:S},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Tn});if(_)throw _;if(!k||!k.session||!k.user){const j=new os;return this._returnResult({data:{user:null,session:null},error:j})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:_})}catch(k){if(Se(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async signInWithSolana(t){var r,n,i,l,o,c,d,h,m,p,v,x;let S,k;if("message"in t)S=t.message,k=t.signature;else{const{chain:_,wallet:j,statement:N,options:E}=t;let P;if(nr())if(typeof j=="object")P=j;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))P=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=j}const A=new URL((r=E?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in P&&P.signIn){const T=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E?.signInWithSolana),{version:"1",domain:A.host,uri:A.href}),N?{statement:N}:null));let C;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")C=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)C=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)S=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),k=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${A.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${A.href}`,`Issued At: ${(i=(n=E?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((l=E?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((o=E?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((c=E?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((d=E?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((h=E?.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((p=(m=E?.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||p===void 0)&&p.length?["Resources",...E.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const T=await P.signMessage(new TextEncoder().encode(S),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=T}}try{const{data:_,error:j}=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:vs(k)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Tn});if(j)throw j;if(!_||!_.session||!_.user){const N=new os;return this._returnResult({data:{user:null,session:null},error:N})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:j})}catch(_){if(Se(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(t){const r=await ls(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:l,error:o}=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Tn});if(await rr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!l||!l.session||!l.user){const c=new os;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:i??null}),error:o})}catch(l){if(await rr(this.storage,`${this.storageKey}-code-verifier`),Se(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:l,nonce:o}=t,c=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:l,nonce:o,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Tn}),{data:d,error:h}=c;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!d||!d.session||!d.user){const m=new os;return this._returnResult({data:{user:null,session:null},error:m})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:h})}catch(r){if(Se(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,i,l,o;try{if("email"in t){const{email:c,options:d}=t;let h=null,m=null;this.flowType==="pkce"&&([h,m]=await El(this.storage,this.storageKey));const{error:p}=await Ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=d?.data)!==null&&r!==void 0?r:{},create_user:(n=d?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:h,code_challenge_method:m},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in t){const{phone:c,options:d}=t,{data:h,error:m}=await Ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=d?.data)!==null&&i!==void 0?i:{},create_user:(l=d?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(o=d?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:m})}throw new Su("You must provide either an email or phone number.")}catch(c){if(await rr(this.storage,`${this.storageKey}-code-verifier`),Se(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(t){var r,n;try{let i,l;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,l=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:c}=await Ce(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:l}}),redirectTo:i,xform:Tn});if(c)throw c;if(!o)throw new Error("An error occurred on token verification.");const d=o.session,h=o.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(i){if(Se(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var r,n,i,l,o;try{let c=null,d=null;this.flowType==="pkce"&&([c,d]=await El(this.storage,this.storageKey));const h=await Ce(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:d}),headers:this.headers,xform:fL});return!((l=h.data)===null||l===void 0)&&l.url&&nr()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(h.data.url),this._returnResult(h)}catch(c){if(await rr(this.storage,`${this.storageKey}-code-verifier`),Se(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Rr;const{error:i}=await Ce(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(Se(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:l}=t,{error:o}=await Ce(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:i,options:l}=t,{data:o,error:c}=await Ce(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:c})}throw new Su("You must provide either an email or phone number and a type")}catch(r){if(Se(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ls(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<op:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await ls(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=cp()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=oL(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:l}=await this._callRefreshToken(t.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Oi}):await this._useSession(async r=>{var n,i,l;const{data:o,error:c}=r;if(c)throw c;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Rr}:await Ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&l!==void 0?l:void 0,xform:Oi})})}catch(r){if(Se(r))return J5(r)&&(await this._removeSession(),await rr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:l}=n;if(l)throw l;if(!i.session)throw new Rr;const o=i.session;let c=null,d=null;this.flowType==="pkce"&&t.email!=null&&([c,d]=await El(this.storage,this.storageKey));const{data:h,error:m}=await Ce(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:d}),jwt:o.access_token,xform:Oi});if(m)throw m;return o.user=h.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await rr(this.storage,`${this.storageKey}-code-verifier`),Se(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Rr;const r=Date.now()/1e3;let n=r,i=!0,l=null;const{payload:o}=up(t.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{data:c,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c)return{data:{user:null,session:null},error:null};l=c}else{const{data:c,error:d}=await this._getUser(t.access_token);if(d)throw d;l={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(r){if(Se(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:c}=r;if(c)throw c;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new Rr;const{data:i,error:l}=await this._callRefreshToken(t.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Se(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!nr())throw new _u("No browser detected.");if(t.error||t.error_description||t.error_code)throw new _u(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new dy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new _u("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new dy("No code detected.");const{data:N,error:E}=await this._exchangeCodeForSession(t.code);if(E)throw E;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:l,refresh_token:o,expires_in:c,expires_at:d,token_type:h}=t;if(!l||!c||!o||!h)throw new _u("No session defined in URL");const m=Math.round(Date.now()/1e3),p=parseInt(c);let v=m+p;d&&(v=parseInt(d));const x=v-m;x*1e3<=Pl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${p}s`);const S=v-p;m-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,v,m):m-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,v,m);const{data:k,error:_}=await this._getUser(l);if(_)throw _;const j={provider_token:n,provider_refresh_token:i,access_token:l,expires_in:p,expires_at:v,refresh_token:o,token_type:h,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:j,redirectType:t.type},error:null})}catch(n){if(Se(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ls(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:l}=r;if(l)return this._returnResult({error:l});const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:c}=await this.admin.signOut(o,t);if(c&&!(Z5(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return t!=="others"&&(await this._removeSession(),await rr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=Y$(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:l},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",t,"session",l)}catch(l){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",l),console.error(l)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await El(this.storage,this.storageKey,!0));try{return await Ce(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(l){if(await rr(this.storage,`${this.storageKey}-code-verifier`),Se(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Se(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async l=>{var o,c,d,h,m;const{data:p,error:v}=l;if(v)throw v;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Ce(this.fetch,"GET",x,{headers:this.headers,jwt:(m=(h=p.session)===null||h===void 0?void 0:h.access_token)!==null&&m!==void 0?m:void 0})});if(i)throw i;return nr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:t.provider,url:n?.url},error:null})}catch(n){if(Se(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:l}}=r;if(i)throw i;const{options:o,provider:c,token:d,access_token:h,nonce:m}=t,p=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=l?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:c,id_token:d,access_token:h,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Tn}),{data:v,error:x}=p;return x?this._returnResult({data:{user:null,session:null},error:x}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new os}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:x}))}catch(i){if(await rr(this.storage,`${this.storageKey}-code-verifier`),Se(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:l,error:o}=r;if(o)throw o;return await Ce(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=l.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Se(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await J$(async i=>(i>0&&await Z$(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Ce(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Tn})),(i,l)=>{const o=200*Math.pow(2,i);return l&&jf(l)&&Date.now()+o-n<Pl})}catch(n){if(this._debug(r,"error",n),Se(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),nr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await ls(this.storage,this.storageKey);if(i&&this.userStorage){let o=await ls(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Dl(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o?.user)!==null&&t!==void 0?t:cp()}else if(i&&!i.user&&!i.user){const o=await ls(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await rr(this.storage,this.storageKey+"-user"),await Dl(this.storage,this.storageKey,i)):i.user=cp()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const l=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<op;if(this._debug(n,`session has${l?"":" not"} expired with margin of ${op}s`),l){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),jf(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:c}=await this._getUser(i.access_token);!c&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Rr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new qh;const{data:l,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!l.session)throw new Rr;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const c={data:l.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(l){if(this._debug(i,"error",l),Se(l)){const o={data:null,error:l};return jf(l)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(l),l}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const l=[],o=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,r)}catch(d){l.push(d)}});if(await Promise.all(o),l.length>0){for(let c=0;c<l.length;c+=1)console.error(l[c]);throw l[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await rr(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Dl(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const l=Q_(i);await Dl(this.storage,this.storageKey,l)}else{const i=Q_(r);await Dl(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await rr(this.storage,this.storageKey),await rr(this.storage,this.storageKey+"-code-verifier"),await rr(this.storage,this.storageKey+"-user"),this.userStorage&&await rr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&nr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Pl);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/Pl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Pl}ms, refresh threshold is ${uy} ticks`),i<=uy&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Mb)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!nr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[l,o]=await El(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(c.toString())}if(n?.queryParams){const l=new URLSearchParams(n.queryParams);i.push(l.toString())}return n?.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:l}=r;return l?this._returnResult({data:null,error:l}):await Ce(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Se(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:l,error:o}=r;if(o)return this._returnResult({data:null,error:o});const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:d,error:h}=await Ce(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(n=l?.session)===null||n===void 0?void 0:n.access_token});return h?this._returnResult({data:null,error:h}):(t.factorType==="totp"&&d.type==="totp"&&(!((i=d?.totp)===null||i===void 0)&&i.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(r){if(Se(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:l}=r;if(l)return this._returnResult({data:null,error:l});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?OL(t.webauthn.credential_response):NL(t.webauthn.credential_response)})}:{code:t.code}),{data:c,error:d}=await Ce(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:d}))})}catch(r){if(Se(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:l}=r;if(l)return this._returnResult({data:null,error:l});const o=await Ce(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:c}=o;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:jL(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:EL(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Se(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const l of(t=r?.factors)!==null&&t!==void 0?t:[])i.all.push(l),l.status==="verified"&&i[l.factor_type].push(l);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=up(n.access_token);let o=null;l.aal&&(o=l.aal);let c=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(m=>m.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const h=l.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await Ce(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new Rr})})}catch(r){if(Se(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:l}=n;if(l)return this._returnResult({data:null,error:l});if(!i)return this._returnResult({data:null,error:new Rr});const o=await Ce(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return o.data&&o.data.redirect_url&&nr()&&!r?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Se(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:l}=n;if(l)return this._returnResult({data:null,error:l});if(!i)return this._returnResult({data:null,error:new Rr});const o=await Ce(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return o.data&&o.data.redirect_url&&nr()&&!r?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Se(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await Ce(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Rr})})}catch(t){if(Se(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await Ce(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Rr})})}catch(r){if(Se(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(c=>c.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(c=>c.kid===t),n&&this.jwks_cached_at+z$>i)return n;const{data:l,error:o}=await Ce(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=i,n=l.keys.find(c=>c.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:x,error:S}=await this.getSession();if(S||!x.session)return this._returnResult({data:null,error:S});n=x.session.access_token}const{header:i,payload:l,signature:o,raw:{header:c,payload:d}}=up(n);r?.allowExpired||iL(l.exp);const h=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!h){const{error:x}=await this.getUser(n);if(x)throw x;return{data:{claims:l,header:i,signature:o},error:null}}const m=sL(i.alg),p=await crypto.subtle.importKey("jwk",h,m,!0,["verify"]);if(!await crypto.subtle.verify(m,p,o,V$(`${c}.${d}`)))throw new Uf("Invalid JWT signature");return{data:{claims:l,header:i,signature:o},error:null}}catch(n){if(Se(n))return this._returnResult({data:null,error:n});throw n}}};Rb.nextInstanceID={};const LL=Db,IL=Rb,UL=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:LL,AuthApiError:X5,AuthClient:IL,AuthError:Fl,AuthImplicitGrantRedirectError:_u,AuthInvalidCredentialsError:Su,AuthInvalidJwtError:Uf,AuthInvalidTokenResponseError:os,AuthPKCEGrantCodeExchangeError:dy,AuthRetryableFetchError:If,AuthSessionMissingError:Rr,AuthUnknownError:Ei,AuthWeakPasswordError:fy,CustomAuthError:Fa,GoTrueAdminApi:Db,GoTrueClient:Rb,NavigatorLockAcquireTimeoutError:nA,SIGN_OUT_SCOPES:Ef,isAuthApiError:Z5,isAuthError:Se,isAuthImplicitGrantRedirectError:Q5,isAuthRetryableFetchError:jf,isAuthSessionMissingError:J5,isAuthWeakPasswordError:B$,lockInternals:cs,navigatorLock:aA,processLock:pL},Symbol.toStringTag,{value:"Module"})),lA=rc(UL);var lk;function zL(){if(lk)return fu;lk=1,Object.defineProperty(fu,"__esModule",{value:!0}),fu.SupabaseAuthClient=void 0;const e=lA;let t=class extends e.AuthClient{constructor(n){super(n)}};return fu.SupabaseAuthClient=t,fu}var ok;function uk(){if(ok)return Yd;ok=1,Object.defineProperty(Yd,"__esModule",{value:!0});const e=x5,t=E5(),r=M5,n=C$,i=D$(),l=M$(),o=R$(),c=zL();class d{constructor(m,p,v){var x,S,k;this.supabaseUrl=m,this.supabaseKey=p;const _=(0,o.validateSupabaseUrl)(m);if(!p)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",_),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",_),this.storageUrl=new URL("storage/v1",_),this.functionsUrl=new URL("functions/v1",_);const j=`sb-${_.hostname.split(".")[0]}-auth-token`,N={db:i.DEFAULT_DB_OPTIONS,realtime:i.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},i.DEFAULT_AUTH_OPTIONS),{storageKey:j}),global:i.DEFAULT_GLOBAL_OPTIONS},E=(0,o.applySettingDefaults)(v??{},N);this.storageKey=(x=E.auth.storageKey)!==null&&x!==void 0?x:"",this.headers=(S=E.global.headers)!==null&&S!==void 0?S:{},E.accessToken?(this.accessToken=E.accessToken,this.auth=new Proxy({},{get:(P,A)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(A)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((k=E.auth)!==null&&k!==void 0?k:{},this.headers,E.global.fetch),this.fetch=(0,l.fetchWithAuth)(p,this._getAccessToken.bind(this),E.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},E.realtime)),this.accessToken&&this.accessToken().then(P=>this.realtime.setAuth(P)).catch(P=>console.warn("Failed to set initial Realtime auth token:",P)),this.rest=new t.PostgrestClient(new URL("rest/v1",_).href,{headers:this.headers,schema:E.db.schema,fetch:this.fetch}),this.storage=new n.StorageClient(this.storageUrl.href,this.headers,this.fetch,v?.storage),E.accessToken||this._listenForAuthEvents()}get functions(){return new e.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(m){return this.rest.from(m)}schema(m){return this.rest.schema(m)}rpc(m,p={},v={head:!1,get:!1,count:void 0}){return this.rest.rpc(m,p,v)}channel(m,p={config:{}}){return this.realtime.channel(m,p)}getChannels(){return this.realtime.getChannels()}removeChannel(m){return this.realtime.removeChannel(m)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var m,p;if(this.accessToken)return await this.accessToken();const{data:v}=await this.auth.getSession();return(p=(m=v.session)===null||m===void 0?void 0:m.access_token)!==null&&p!==void 0?p:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:m,persistSession:p,detectSessionInUrl:v,storage:x,userStorage:S,storageKey:k,flowType:_,lock:j,debug:N,throwOnError:E},P,A){const T={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new c.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},T),P),storageKey:k,autoRefreshToken:m,persistSession:p,detectSessionInUrl:v,storage:x,userStorage:S,flowType:_,lock:j,debug:N,throwOnError:E,fetch:A,hasCustomAuthorizationHeader:Object.keys(this.headers).some(C=>C.toLowerCase()==="authorization")})}_initRealtimeClient(m){return new r.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},m),{params:Object.assign({apikey:this.supabaseKey},m?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((p,v)=>{this._handleTokenChanged(p,"CLIENT",v?.access_token)})}_handleTokenChanged(m,p,v){(m==="TOKEN_REFRESHED"||m==="SIGNED_IN")&&this.changedAccessToken!==v?(this.changedAccessToken=v,this.realtime.setAuth(v)):m==="SIGNED_OUT"&&(this.realtime.setAuth(),p=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return Yd.default=d,Yd}var ck;function BL(){return ck||(ck=1,(function(e){var t=ja&&ja.__createBinding||(Object.create?(function(m,p,v,x){x===void 0&&(x=v);var S=Object.getOwnPropertyDescriptor(p,v);(!S||("get"in S?!p.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return p[v]}}),Object.defineProperty(m,x,S)}):(function(m,p,v,x){x===void 0&&(x=v),m[x]=p[v]})),r=ja&&ja.__exportStar||function(m,p){for(var v in m)v!=="default"&&!Object.prototype.hasOwnProperty.call(p,v)&&t(p,m,v)},n=ja&&ja.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(e,"__esModule",{value:!0}),e.createClient=e.SupabaseClient=e.FunctionRegion=e.FunctionsError=e.FunctionsRelayError=e.FunctionsFetchError=e.FunctionsHttpError=e.PostgrestError=void 0;const i=n(uk());r(lA,e);var l=E5();Object.defineProperty(e,"PostgrestError",{enumerable:!0,get:function(){return l.PostgrestError}});var o=x5;Object.defineProperty(e,"FunctionsHttpError",{enumerable:!0,get:function(){return o.FunctionsHttpError}}),Object.defineProperty(e,"FunctionsFetchError",{enumerable:!0,get:function(){return o.FunctionsFetchError}}),Object.defineProperty(e,"FunctionsRelayError",{enumerable:!0,get:function(){return o.FunctionsRelayError}}),Object.defineProperty(e,"FunctionsError",{enumerable:!0,get:function(){return o.FunctionsError}}),Object.defineProperty(e,"FunctionRegion",{enumerable:!0,get:function(){return o.FunctionRegion}}),r(M5,e);var c=uk();Object.defineProperty(e,"SupabaseClient",{enumerable:!0,get:function(){return n(c).default}});const d=(m,p,v)=>new i.default(m,p,v);e.createClient=d;function h(){if(typeof window<"u"||typeof process>"u")return!1;const m=process.version;if(m==null)return!1;const p=m.match(/^v(\d+)\./);return p?parseInt(p[1],10)<=18:!1}h()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(ja)),ja}var oA=BL();const uA=aa(oA),qL=LN({__proto__:null,default:uA},[oA]),{PostgrestError:nne,FunctionsHttpError:ane,FunctionsFetchError:ine,FunctionsRelayError:sne,FunctionsError:lne,FunctionRegion:one,SupabaseClient:une,createClient:cA,GoTrueAdminApi:cne,GoTrueClient:dne,AuthAdminApi:fne,AuthClient:hne,navigatorLock:mne,NavigatorLockAcquireTimeoutError:gne,lockInternals:pne,processLock:vne,SIGN_OUT_SCOPES:yne,AuthError:bne,AuthApiError:xne,AuthUnknownError:wne,CustomAuthError:Sne,AuthSessionMissingError:_ne,AuthInvalidTokenResponseError:kne,AuthInvalidCredentialsError:jne,AuthImplicitGrantRedirectError:Ene,AuthPKCEGrantCodeExchangeError:One,AuthRetryableFetchError:Nne,AuthWeakPasswordError:Ane,AuthInvalidJwtError:Tne,isAuthError:Cne,isAuthApiError:Pne,isAuthSessionMissingError:Dne,isAuthImplicitGrantRedirectError:Mne,isAuthRetryableFetchError:Rne,isAuthWeakPasswordError:$ne,RealtimePresence:Lne,RealtimeChannel:Ine,RealtimeClient:Une,REALTIME_LISTEN_TYPES:zne,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:Bne,REALTIME_PRESENCE_LISTEN_EVENTS:qne,REALTIME_SUBSCRIBE_STATES:Hne,REALTIME_CHANNEL_STATES:Fne}=uA||qL,dA="https://jbedxxdpqtmprixfxgos.supabase.co",fA="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpiZWR4eGRwcXRtcHJpeGZ4Z29zIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU0NjQxODcsImV4cCI6MjA4MTA0MDE4N30.U-3j_SAvrno9vMAVCsa2RHrmYFs0wLfyYka-Ax0TUQ4",Re=cA(dA,fA),hA=b.createContext();function HL({children:e}){const[t,r]=b.useState(null),[n,i]=b.useState(null),[l,o]=b.useState(!0),c=async x=>{if(!x){i(null);return}try{const{data:S,error:k}=await Re.from("user_roles").select("role").eq("email",x).maybeSingle();k&&k.code!=="42P01"&&console.error("Error fetching role:",k),i(S?.role||"admin")}catch{i("admin")}};b.useEffect(()=>{Re.auth.getSession().then(({data:{session:S}})=>{const k=S?.user??null;r(k),k?c(k.email):o(!1)});const{data:{subscription:x}}=Re.auth.onAuthStateChange((S,k)=>{const _=k?.user??null;r(_),_?c(_.email):(i(null),o(!1))});return()=>x.unsubscribe()},[]),b.useEffect(()=>{t&&n!==null&&o(!1),!t&&!l&&o(!1)},[t,n]);const v={user:t,userRole:n,signIn:async(x,S)=>{const{error:k}=await Re.auth.signInWithPassword({email:x,password:S});if(k)throw k},signUp:async(x,S)=>{const{data:k,error:_}=await Re.auth.signUp({email:x,password:S,options:{emailRedirectTo:window.location.origin}});if(_)throw _;return k},signOut:async()=>{const{error:x}=await Re.auth.signOut();if(x)throw x},resendVerificationEmail:async x=>{const{error:S}=await Re.auth.resend({type:"signup",email:x,options:{emailRedirectTo:window.location.origin}});if(S)throw S},loading:l};return g.jsx(hA.Provider,{value:v,children:!l&&e})}function _r(){return b.useContext(hA)}const Hh="/UBP-Scheduler-V2/assets/ubp_logo_v4-BJtcTMQd.png";function FL({isOpen:e,onClose:t}){const{signIn:r}=_r(),[n,i]=b.useState(""),[l,o]=b.useState(""),[c,d]=b.useState(null),[h,m]=b.useState(!1);if(!e)return null;const p=async v=>{v.preventDefault(),d(null),m(!0);try{await r(n,l),t()}catch(x){d(x.message)}finally{m(!1)}};return g.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4 transition-all",children:g.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden relative",children:[g.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-500 hover:text-white transition-colors",children:g.jsx(Ds,{className:"h-6 w-6"})}),g.jsxs("div",{className:"p-8",children:[g.jsx("div",{className:"flex justify-center mb-6",children:g.jsx("div",{className:"h-20 w-20 bg-white rounded-full shadow-2xl shadow-blue-500/20 flex items-center justify-center overflow-hidden",children:g.jsx("img",{src:Hh,alt:"UBP",className:"h-full w-full object-cover transform scale-105"})})}),g.jsx("h2",{className:"text-2xl font-bold text-white mb-2 text-center",children:"Welcome Back"}),g.jsx("p",{className:"text-gray-400 text-sm mb-6 text-center",children:"Sign in to access your production schedule."}),c&&g.jsx("div",{className:"p-3 rounded-lg mb-4 text-sm font-medium border bg-red-900/30 text-red-300 border-red-800",children:c}),g.jsxs("form",{onSubmit:p,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Email"}),g.jsx("input",{type:"email",required:!0,value:n,onChange:v=>i(v.target.value),className:"mt-1 block w-full rounded-lg bg-gray-800 border-gray-700 text-white placeholder-gray-500 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2.5 border transition-colors",placeholder:"name@company.com"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Password"}),g.jsx("input",{type:"password",required:!0,value:l,onChange:v=>o(v.target.value),className:"mt-1 block w-full rounded-lg bg-gray-800 border-gray-700 text-white placeholder-gray-500 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2.5 border transition-colors",placeholder:""})]}),g.jsx("button",{type:"submit",disabled:h,className:"w-full bg-blue-600 text-white rounded-lg py-2.5 font-bold hover:bg-blue-500 transition-all disabled:opacity-50 shadow-lg shadow-blue-900/20",children:h?"Processing...":"Sign In"})]}),g.jsx("div",{className:"mt-6 text-center text-sm text-gray-500",children:g.jsx("span",{className:"italic",children:"Authorized personnel only."})})]})]})})}function KL({onOpenSettings:e,isSaving:t,saveError:r}){const{user:n,userRole:i,signOut:l}=_r(),[o,c]=b.useState(!1),[d,h]=b.useState(navigator.onLine);return b.useEffect(()=>{const m=()=>h(!0),p=()=>h(!1);return window.addEventListener("online",m),window.addEventListener("offline",p),()=>{window.removeEventListener("online",m),window.removeEventListener("offline",p)}},[]),g.jsxs("header",{className:"bg-white dark:bg-slate-900 border-b border-slate-200 dark:border-slate-800 shadow-sm relative z-30 transition-colors duration-200",children:[g.jsx(FL,{isOpen:o,onClose:()=>c(!1)}),g.jsxs("div",{className:"max-w-[1920px] mx-auto px-4 lg:px-6 py-2.5 flex justify-between items-center",children:[g.jsxs("div",{className:"flex items-center gap-3.5",children:[g.jsx("div",{className:"h-10 w-10 bg-white rounded-full shadow-lg shadow-blue-500/10 dark:shadow-blue-500/20 ring-1 ring-slate-100 dark:ring-0 flex items-center justify-center overflow-hidden transform hover:scale-105 transition-transform duration-300",children:g.jsx("img",{src:Hh,alt:"UBP",className:"h-[90%] w-[90%] object-contain"})}),g.jsxs("div",{children:[g.jsxs("h1",{className:"text-lg font-bold text-slate-900 dark:text-white tracking-tight leading-none",children:["Beverage ",g.jsx("span",{className:"opacity-90 font-light text-slate-600 dark:text-slate-300",children:"Scheduler"})]}),g.jsx("p",{className:"text-[10px] text-slate-500 dark:text-slate-400 font-bold tracking-widest uppercase mt-0.5 opacity-80",children:"UBP Co-Packer Edition"})]})]}),g.jsxs("div",{className:"flex items-center gap-4 no-print",children:[n?g.jsxs("div",{className:"flex items-center text-sm font-medium transition-colors bg-slate-50 dark:bg-slate-800/50 px-3 py-1.5 rounded-full border border-slate-200 dark:border-slate-700/50",title:r||(d?"Cloud Synced":"Offline Mode"),children:[g.jsx(M_,{className:`h-4 w-4 mr-2 ${t?"text-blue-500 dark:text-blue-400 animate-pulse":r?"text-rose-500":d?"text-emerald-600 dark:text-emerald-500":"text-slate-400"}`}),g.jsx("span",{className:`hidden md:inline text-xs font-bold uppercase tracking-wide ${t?"text-blue-600 dark:text-blue-400":r?"text-rose-600 dark:text-rose-400":d?"text-emerald-700 dark:text-emerald-500":"text-slate-500"}`,children:t?"Saving...":r?"Sync Error":d?"All Saved":"Offline"})]}):g.jsxs("div",{className:"flex items-center text-sm font-medium text-slate-500 px-3 py-1.5 bg-slate-100 dark:bg-slate-800/50 rounded-full",title:"Local Data Only",children:[g.jsx(M_,{className:"h-4 w-4 mr-2"}),g.jsx("span",{className:"hidden md:inline text-xs font-bold uppercase tracking-wide",children:"Local Only"})]}),g.jsx("div",{className:"w-px h-6 bg-slate-200 dark:bg-slate-700 hidden md:block mx-2"}),g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx("button",{onClick:()=>window.print(),className:"p-2 text-slate-500 hover:text-blue-600 hover:bg-blue-50 dark:text-slate-400 dark:hover:text-white dark:hover:bg-slate-800 rounded-lg transition-all",title:"Print View",children:g.jsx(w6,{className:"h-5 w-5"})}),g.jsx("button",{onClick:e,className:"p-2 text-slate-500 hover:text-blue-600 hover:bg-blue-50 dark:text-slate-400 dark:hover:text-white dark:hover:bg-slate-800 rounded-lg transition-all group",title:"Settings",children:g.jsx(a6,{className:"h-5 w-5 group-hover:rotate-90 transition-transform duration-500"})})]}),g.jsx("div",{className:"w-px h-6 bg-slate-200 dark:bg-slate-700 hidden md:block mx-2"}),n?g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsxs("div",{className:"hidden md:flex flex-col items-end",children:[g.jsx("span",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200 leading-none",children:n.email?.split("@")[0]}),g.jsx("span",{className:"mt-1 inline-flex items-center px-1.5 py-0.5 rounded text-[9px] font-black uppercase tracking-wider bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-300 border border-indigo-100 dark:border-indigo-800",children:i||"Unknown"})]}),g.jsx("button",{onClick:l,className:"p-2 text-slate-400 hover:text-rose-600 hover:bg-rose-50 dark:hover:text-rose-400 dark:hover:bg-rose-950/30 rounded-lg transition-all",title:"Sign Out",children:g.jsx(BR,{className:"h-5 w-5"})})]}):g.jsxs("button",{onClick:()=>c(!0),className:"flex items-center text-white bg-blue-600 hover:bg-blue-500 font-bold px-4 py-2 rounded-lg transition-all shadow-lg shadow-blue-900/20 text-sm",children:[g.jsx(T6,{className:"h-5 w-5 md:mr-2"}),g.jsx("span",{className:"hidden md:inline",children:"Sign In"})]})]})]})]})}const no=()=>{const e=b.useCallback(async(v,x,S={})=>{const{data:k,error:_}=await Re.from("products").select("id").eq("user_id",v).eq("name",x).limit(1).maybeSingle();if(k)return k.id;const{data:j,error:N}=await Re.from("products").insert({user_id:v,name:x,bottles_per_case:S.bottlesPerCase||12,bottles_per_truck:S.bottlesPerTruck||2e4,cases_per_pallet:S.casesPerPallet||100}).select("id").single();if(N)throw console.error("Error creating product:",N),N;return j.id},[]),t=b.useCallback(async(v,x)=>{if(v)try{for(const S of x){const k=await e(v.id,S),_=localStorage.getItem(`mrp_${S}_productionRate`),j=localStorage.getItem(`mrp_${S}_downtimeHours`),N=localStorage.getItem(`mrp_${S}_isAutoReplenish`);(_||j||N)&&await Re.from("production_settings").upsert({product_id:k,production_rate:_?Number(_):null,downtime_hours:j?Number(j):null,is_auto_replenish:N==="true"});const E=[{key:"monthlyDemand",type:"demand_plan"},{key:"monthlyInbound",type:"inbound_trucks"},{key:"monthlyProductionActuals",type:"production_actual"}],P=[];for(const{key:T,type:C}of E){const M=localStorage.getItem(`mrp_${S}_${T}`);if(M)try{const $=JSON.parse(M);Object.entries($).forEach(([R,I])=>{P.push({product_id:k,user_id:v.id,date:R,entry_type:C,value:Number(I)})})}catch{}}if(P.length>0){const{error:T}=await Re.from("planning_entries").upsert(P,{onConflict:"product_id, date, entry_type"});T&&console.error("Error migrating entries:",T)}const A=localStorage.getItem(`mrp_${S}_inventoryAnchor`);if(A)try{const T=JSON.parse(A);await Re.from("inventory_snapshots").insert({product_id:k,date:T.date,location:"floor",quantity_pallets:Number(T.count),is_latest:!0})}catch{}}return{success:!0}}catch(S){return console.error("Migration Failed:",S),{success:!1,error:S}}},[e]),r=b.useCallback(async(v,x)=>{const{data:S,error:k}=await Re.from("products").select("*").eq("user_id",v).eq("name",x).limit(1).maybeSingle();if(k||!S)return null;const[_,j,N,E]=await Promise.all([Re.from("planning_entries").select("date, entry_type, value, meta_json").eq("product_id",S.id),Re.from("production_settings").select("*").eq("product_id",S.id).maybeSingle(),Re.from("inventory_snapshots").select("*").eq("product_id",S.id).eq("location","floor").order("date",{ascending:!1}).limit(1).maybeSingle(),Re.from("inventory_snapshots").select("*").eq("product_id",S.id).eq("location","yard").order("date",{ascending:!1}).limit(1).maybeSingle()]),P={},A={},T={},C={};_.data?.forEach(R=>{const I=Number(R.value);R.entry_type==="demand_plan"&&(P[R.date]=I),R.entry_type==="inbound_trucks"&&(A[R.date]=I),R.entry_type==="production_actual"&&(T[R.date]=I),R.entry_type==="truck_manifest_json"&&(C[R.date]=R.meta_json||[])});const M=N.data?{date:N.data.date,count:Number(N.data.quantity_pallets)}:null,$=E.data?{count:Number(E.data.quantity_pallets),date:E.data.date}:{count:0,date:null};return{product:S,monthlyDemand:P,monthlyInbound:A,monthlyProductionActuals:T,productionRate:j.data?.production_rate||5e3,downtimeHours:j.data?.downtime_hours||0,isAutoReplenish:j.data?.is_auto_replenish!==!1,inventoryAnchor:M,yardInventory:$,truckManifest:C}},[]),n=b.useCallback(async(v,x,S,k,_)=>{const j=await e(v,x),{data:N}=await Re.from("planning_entries").select("id").eq("product_id",j).eq("date",S).eq("entry_type",k).maybeSingle();let E=_,P=null;if(k==="truck_manifest_json"&&(Array.isArray(_)?(E=_.length,P=_):E=_),N){const{error:A}=await Re.from("planning_entries").update({value:E,meta_json:P!==null?P:void 0,user_id:v}).eq("id",N.id);if(A)throw A}else{const{error:A}=await Re.from("planning_entries").insert({product_id:j,user_id:v,date:S,entry_type:k,value:E,meta_json:P});if(A)throw A}},[e]),i=b.useCallback(async(v,x,S,k)=>{const _=await e(v,x),{data:j}=await Re.from("production_settings").select("id").eq("product_id",_).limit(1),N=j&&j.length>0?j[0].id:null,E={product_id:_,[S]:k};N&&(E.id=N);const{error:P}=await Re.from("production_settings").upsert(E);P&&console.error("Error saving production setting:",P)},[e]),l=b.useCallback(async(v,x,S,k="floor")=>{const _=await e(v,x);await Re.from("inventory_snapshots").update({is_latest:!1}).eq("product_id",_).eq("location",k),console.log(`Saving Snapshot (${k}):`,S);const{error:j}=await Re.from("inventory_snapshots").upsert({product_id:_,user_id:v,date:S.date,location:k,quantity_pallets:S.count},{onConflict:"product_id, date, location"});j?console.error(`Snapshot Save Error (${k}):`,j):console.log(`Snapshot Saved (${k})`)},[e]),o=b.useCallback(async v=>{const{data:x,error:S}=await Re.from("profiles").select("lead_time_days, safety_stock_loads, dashboard_layout").eq("id",v).maybeSingle();return S&&console.error("Error fetching profile:",S),x},[]),c=b.useCallback(async(v,x)=>{const S={id:v,...x,updated_at:new Date().toISOString()},{error:k}=await Re.from("profiles").upsert(S);k&&console.error("Error saving profile:",k)},[]),d=b.useCallback(async(v,x,S="viewer")=>{if(!v||!["admin","planner"].includes(S))return;const{count:k,error:_}=await Re.from("products").select("*",{count:"exact",head:!0}).eq("user_id",v.id);if(_){console.error("Migration Check Failed:",_);return}k===0&&await t(v,x)},[t]);b.useCallback(v=>({id:v.id,po:v.po_number,qty:Number(v.quantity),sku:v.sku||"",supplier:v.supplier,status:v.status,date:v.date,time:v.delivery_time||"",carrier:v.carrier||""}),[]),b.useCallback((v,x)=>({po_number:v.po,quantity:v.qty,sku:v.sku,supplier:v.supplier,carrier:v.carrier,status:v.status||"planned",date:v.date,delivery_time:v.time,user_id:x}),[]);const h=b.useCallback(async v=>{if(!v.po)return;const x=(await Re.auth.getUser()).data.user;if(!x)return;const S={po_number:v.po,quantity:v.qty,sku:v.sku,supplier:v.supplier,carrier:v.carrier,status:v.status||"planned",date:v.date,delivery_time:v.time,user_id:x.id},{data:k}=await Re.from("procurement_orders").select("id").eq("po_number",v.po).maybeSingle();k?await Re.from("procurement_orders").update(S).eq("id",k.id):await Re.from("procurement_orders").insert(S)},[]),m=b.useCallback(async v=>{await Re.from("procurement_orders").delete().eq("po_number",v)},[]),p=b.useCallback(async()=>{const{data:v,error:x}=await Re.from("procurement_orders").select("*").order("date",{ascending:!0});if(x)return console.error("Error fetching procurement:",x),{};const S={};return v.forEach(k=>{S[k.date]||(S[k.date]={items:[]}),S[k.date].items.push({id:k.id,po:k.po_number,qty:Number(k.quantity),sku:k.sku||"",supplier:k.supplier,status:k.status,date:k.date,time:k.delivery_time||"",carrier:k.carrier||""})}),S},[]);return{migrateLocalStorage:t,uploadLocalData:d,fetchMRPState:r,fetchUserProfile:o,savePlanningEntry:n,saveProductionSetting:i,saveInventoryAnchor:l,saveUserProfile:c,saveProcurementEntry:h,deleteProcurementEntry:m,fetchProcurementData:p}},vt={bottleDefinitions:{"20oz":{bottlesPerCase:12,bottlesPerTruck:80784,casesPerTruck:6732,casesPerPallet:306,palletsPerTruck:22,productionRate:1e3,scrapPercentage:0},"16.9oz":{bottlesPerCase:24,bottlesPerTruck:90288,casesPerTruck:3762,casesPerPallet:171,palletsPerTruck:22,productionRate:1200,scrapPercentage:0},"32oz":{bottlesPerCase:15,bottlesPerTruck:50820,casesPerTruck:3388,casesPerPallet:154,palletsPerTruck:22,productionRate:800,scrapPercentage:0}},safetyStockLoads:6,csvMapping:{statusColumn:"Trailer State",fullValue:"Loaded - Inbound",skuColumn:"Commodity"},top:["kpis"],col1:["demand"],col2:["chart","inventory","production"]},mA=b.createContext();function VL({children:e}){const{user:t}=_r(),{fetchUserProfile:r,saveUserProfile:n}=no(),[i,l]=b.useState(()=>{try{const R=localStorage.getItem("bottleDefinitions");return R?JSON.parse(R):vt.bottleDefinitions}catch{return vt.bottleDefinitions}}),[o,c]=b.useState(()=>{try{const R=localStorage.getItem("safetyStockLoads");if(R===null)return vt.safetyStockLoads;const I=Number(R);return I===0?vt.safetyStockLoads:!isNaN(I)&&I>=0?I:vt.safetyStockLoads}catch{return vt.safetyStockLoads}}),[d,h]=b.useState(()=>{try{const R=localStorage.getItem("csvMapping");return R?JSON.parse(R):vt.csvMapping}catch{return vt.csvMapping}}),[m,p]=b.useState(()=>{try{const R=localStorage.getItem("dashboardLayout");let I=R?JSON.parse(R):vt.dashboardLayout;I.top&&I.top.includes("demand")&&(I.top=I.top.filter(te=>te!=="demand"),I.col1.includes("demand")||I.col1.unshift("demand"));const q=new Set,ae=te=>Array.isArray(te)?te.filter(ie=>q.has(ie)?!1:(q.add(ie),!0)):[];return{top:["kpis"],col1:["demand"],col2:["chart","inventory","production"]}}catch{return vt.dashboardLayout}}),[v,x]=b.useState(()=>{try{const R=localStorage.getItem("leadTimeDays");if(R===null)return vt.leadTimeDays||2;const I=Number(R);return!isNaN(I)&&I>=0?I:vt.leadTimeDays||2}catch{return vt.leadTimeDays||2}});b.useEffect(()=>{t&&r(t.id).then(R=>{R&&(R.lead_time_days!==null&&x(R.lead_time_days),R.safety_stock_loads!==null&&c(R.safety_stock_loads),R.dashboard_layout&&p(R.dashboard_layout),R.theme&&k(R.theme))})},[t]),b.useEffect(()=>{localStorage.setItem("bottleDefinitions",JSON.stringify(i))},[i]),b.useEffect(()=>{localStorage.setItem("safetyStockLoads",JSON.stringify(o)),t&&n(t.id,{safety_stock_loads:o})},[o,t]),b.useEffect(()=>{localStorage.setItem("leadTimeDays",JSON.stringify(v)),t&&n(t.id,{lead_time_days:v})},[v,t]),b.useEffect(()=>{localStorage.setItem("csvMapping",JSON.stringify(d))},[d]);const[S,k]=b.useState(()=>{try{return localStorage.getItem("theme")||"light"}catch{return"light"}});b.useEffect(()=>{const R=window.document.documentElement;S==="dark"?R.classList.add("dark"):R.classList.remove("dark"),localStorage.setItem("theme",S),t&&n(t.id,{theme:S})},[S,t]);const[_,j]=b.useState(()=>{try{const R=localStorage.getItem("sched_targetDailyProduction"),I=localStorage.getItem("sched_shiftStartTime"),q=localStorage.getItem("sched_poAssignments"),ae=localStorage.getItem("sched_cancelledLoads");return R!==null||I!==null||q!==null?{targetDailyProduction:R?Number(R):0,shiftStartTime:I||"00:00",poAssignments:q?JSON.parse(q):{},cancelledLoads:ae?JSON.parse(ae):[]}:{targetDailyProduction:0,shiftStartTime:"00:00",poAssignments:{},cancelledLoads:[]}}catch{return{targetDailyProduction:0,shiftStartTime:"00:00",poAssignments:{},cancelledLoads:[]}}});b.useEffect(()=>{t&&r(t.id).then(R=>{if(R&&(R.lead_time_days!==null&&x(R.lead_time_days),R.safety_stock_loads!==null&&c(R.safety_stock_loads),R.dashboard_layout)){const I=R.dashboard_layout;p({top:I.top||vt.dashboardLayout.top,col1:I.col1||vt.dashboardLayout.col1,col2:I.col2||vt.dashboardLayout.col2}),I.scheduler&&j(q=>({...q,...I.scheduler}))}})},[t]),b.useEffect(()=>{localStorage.setItem("bottleDefinitions",JSON.stringify(i))},[i]),b.useEffect(()=>{localStorage.setItem("safetyStockLoads",JSON.stringify(o)),t&&n(t.id,{safety_stock_loads:o})},[o,t]),b.useEffect(()=>{localStorage.setItem("leadTimeDays",JSON.stringify(v)),t&&n(t.id,{lead_time_days:v})},[v,t]),b.useEffect(()=>{localStorage.setItem("csvMapping",JSON.stringify(d))},[d]),b.useEffect(()=>{if(localStorage.setItem("dashboardLayout",JSON.stringify(m)),localStorage.setItem("settings_scheduler",JSON.stringify(_)),t){const R={...m,scheduler:_};n(t.id,{dashboard_layout:R})}},[m,_,t]);const N=b.useCallback((R,I,q)=>{l(ae=>{const te=Number(q),ie=!isNaN(te)&&te>=0?te:0;return{...ae,[R]:{...ae[R],[I]:ie}}})},[]),E=b.useCallback((R,I)=>{h(q=>({...q,[R]:I}))},[]),P=b.useCallback((R,I)=>{j(q=>({...q,[R]:I}))},[]),A=b.useCallback(R=>{R&&l(I=>I[R]?I:{...I,[R]:{...vt.bottleDefinitions["20oz"]}})},[]),T=b.useCallback(R=>{l(I=>{const q={...I};return delete q[R],q})},[]),C=b.useCallback(()=>{l(vt.bottleDefinitions),c(vt.safetyStockLoads),x(vt.leadTimeDays||2),h(vt.csvMapping),p(vt.dashboardLayout),j({targetDailyProduction:0,shiftStartTime:"00:00",poAssignments:{},cancelledLoads:[]})},[]),M=b.useMemo(()=>Object.keys(i),[i]),$=b.useMemo(()=>({bottleDefinitions:i,safetyStockLoads:o,leadTimeDays:v,csvMapping:d,dashboardLayout:m,schedulerSettings:_,theme:S,setTheme:k,setDashboardLayout:p,setSafetyStockLoads:R=>{const I=Number(R);c(!isNaN(I)&&I>=0?I:0)},setLeadTimeDays:R=>{const I=Number(R);x(!isNaN(I)&&I>=0?I:2)},updateBottleDefinition:N,updateCsvMapping:E,updateSchedulerSetting:P,resetDefaults:C,addBottleDefinition:A,deleteBottleDefinition:T,bottleSizes:M}),[i,o,v,d,m,_,S,M]);return g.jsx(mA.Provider,{value:$,children:e})}function St(){const e=b.useContext(mA);if(!e)throw new Error("useSettings must be used within a SettingsProvider");return e}const gA=b.createContext();function sc(){return b.useContext(gA)}function GL({children:e}){const{user:t}=_r(),[r,n]=b.useState([]),[i,l]=b.useState(!0),o=async()=>{if(t)try{const{data:h,error:m}=await Re.from("products").select(`
                    *,
                    production_settings (
                        line_name,
                        production_rate
                    )
                `);if(m)throw m;n(h||[])}catch(h){console.error("Error loading products:",h)}finally{l(!1)}};b.useEffect(()=>{o()},[t]);const c=b.useMemo(()=>{const h={};return r.forEach(m=>{const v=(m.production_settings?.find(x=>x.line_name==="Line 1")||m.production_settings?.[0])?.production_rate||0;h[m.name]={bottlesPerCase:m.bottles_per_case,bottlesPerTruck:m.bottles_per_truck,casesPerTruck:Math.floor((m.bottles_per_truck||0)/(m.bottles_per_case||1)),casesPerPallet:m.cases_per_pallet,palletsPerTruck:22,productionRate:v,scrapPercentage:0,id:m.id}}),h},[r]),d={products:r,productMap:c,loading:i,refreshProducts:o,getProductSpecs:h=>c[h]||null};return g.jsx(gA.Provider,{value:d,children:e})}const pA=(e,t="00:00",r,n,i=1)=>{if(!n||n<=0)return"";let l=n,o=r;i>1&&n<1e4&&r>2e4&&(o=r/i);const c=o/l,[d,h]=t.split(":").map(Number);let v=((d||0)+(h||0)/60+e*c)%24;v<0&&(v+=24);const x=Math.floor(v),S=Math.round((v-x)*60),k=(x+Math.floor(S/60))%24,_=S%60,j=String(k).padStart(2,"0"),N=String(_).padStart(2,"0");return`${j}:${N}`},vA=b.createContext();function YL({children:e}){const{user:t}=_r(),{fetchProcurementData:r,saveProcurementEntry:n,deleteProcurementEntry:i}=no(),{schedulerSettings:l,activeSku:o}=St(),{getProductSpecs:c}=sc(),[d,h]=b.useState(()=>{try{const E=localStorage.getItem("poManifest");return E?JSON.parse(E):{}}catch{return{}}});b.useEffect(()=>{localStorage.setItem("poManifest",JSON.stringify(d))},[d]);const m=(E,P)=>{if(h(A=>({...A,[E]:{items:P}})),t)try{P.forEach(A=>{n(A).catch(T=>console.error("Cloud Save Failed for Item:",A,T))})}catch(A){console.error("Error initiating cloud sync:",A)}},p=E=>{h(P=>{const A={...P},T=E.reduce((C,M)=>(C[M.date]||(C[M.date]=[]),C[M.date].push(M),C),{});return Object.entries(T).forEach(([C,M])=>{let R=(A[C]?.items||[]).length;M.forEach((I,q)=>{if(I.id||(I.id=crypto.randomUUID()),!I.time){const ae=I.sku||o,te=c(ae),ie=l?.shiftStartTime||"00:00";if(te&&te.productionRate>0){const B=te.bottlesPerTruck||2e4,K=te.productionRate,le=te.bottlesPerCase||1;I.time=pA(R+q,ie,B,K,le)}}A[C]||(A[C]={items:[]}),A[C].items.push(I)})}),t&&E.forEach(C=>{n(C).catch(M=>console.error("Cloud Sync Error",M))}),A})},v=(E,P,A)=>{h(T=>{const C={...T};return C[E]&&(C[E].items=C[E].items.filter(M=>M.id!==P&&M.po!==A)),C}),t&&A&&i(A)},x=(E,P)=>{h(A=>{const T={...A};return T[E]?.items&&(T[E].items=T[E].items.map(C=>C.id===P.id?P:C)),T}),t&&n(P)},S=E=>{h(P=>{const A={...P};return E.forEach(T=>{A[T.date]?.items&&(A[T.date].items=A[T.date].items.filter(C=>C.id!==T.id))}),A}),t&&E.forEach(P=>{P.po&&i(P.po)})},k=(E,P,A)=>{if(h(T=>{const C={...T};C[E]?.items&&(C[E].items=C[E].items.filter(R=>R.id!==A.id));const M=C[P]?.items||[],$={...A,date:P};return C[P]={items:[...M,$]},C}),t){const T={...A,date:P};n(T)}},_=E=>{h(P=>{const A={...P};return E.forEach(T=>{let C=null;for(const[$,R]of Object.entries(A)){if(R.items.some(I=>I.id===T.id)){C=$;break}if(R.items.some(I=>I.po===T.po)){C=$;break}}const M=T.date;if(C&&C!==M)A[C]?.items&&(A[C].items=A[C].items.filter($=>$.id!==T.id),A[C].items.length===0&&delete A[C]),A[M]||(A[M]={items:[]}),A[M].items.push(T);else{const $=C||M;A[$]?A[$].items=A[$].items.map(R=>R.id===T.id?T:R):(A[$]||(A[$]={items:[]}),A[$].items.push(T))}}),A}),t&&E.forEach(P=>n(P))},j=()=>h({});b.useEffect(()=>{t&&r().then(E=>{E&&Object.keys(E).length>0&&h(E)})},[t]);const N={poManifest:d,updateDailyManifest:m,addOrdersBulk:p,removeOrder:v,updateOrder:x,deleteOrdersBulk:S,moveOrder:k,bulkUpdateOrders:_,clearManifest:j};return g.jsx(vA.Provider,{value:N,children:e})}function _n(){const e=b.useContext(vA);if(!e)throw new Error("useProcurement must be used within a ProcurementProvider");return e}const hu=[{id:"admin",label:"Administrator",badge:"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300",desc:"Full system access. Can manage users, settings, and master data."},{id:"planner",label:"Lead Planner",badge:"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300",desc:"Can edit Master Schedule, MRP, and Production Plans."},{id:"logistics",label:"Floor / Logistics",badge:"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300",desc:"Can manage Trucks, Verify Shifts, and view Schedule. No MRP editing."},{id:"viewer",label:"Read-Only Viewer",badge:"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300",desc:"Can view dashboards and schedules but cannot make changes."}];function WL(){const[e,t]=b.useState([]),[r,n]=b.useState(!0),[i,l]=b.useState(""),[o,c]=b.useState("viewer"),[d,h]=b.useState(null),[m,p]=b.useState(null),[v,x]=b.useState(!1);b.useEffect(()=>{S()},[]);const S=async()=>{try{n(!0);const{data:N,error:E}=await Re.from("user_roles").select("*").order("created_at",{ascending:!1});if(E){if(E.code==="42P01"||E.message?.includes("Could not find the table")){x(!0),t([]);return}throw E}t(N||[]),x(!1)}catch(N){console.error(N),h(N.message)}finally{n(!1)}},k=async N=>{if(N.preventDefault(),!i)return;n(!0),h(null);const E="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",P=new Uint32Array(10);crypto.getRandomValues(P);let A="";for(let T=0;T<10;T++)A+=E[P[T]%E.length];try{const T=cA(dA,fA,{auth:{persistSession:!1,autoRefreshToken:!1,detectSessionInUrl:!1}}),{data:C,error:M}=await T.auth.signUp({email:i,password:A});if(M)throw M.message?.includes("Signups not allowed")?new Error("Cannot create user: Public Signups are disabled in your Supabase Project Settings. Enable them or use the Invite button in the Dashboard."):M;const{error:$}=await Re.from("user_roles").upsert({email:i.toLowerCase(),role:o},{onConflict:"email"});if($)throw $;t(R=>[{email:i.toLowerCase(),role:o,created_at:new Date().toISOString()},...R.filter(I=>I.email!==i.toLowerCase())]),p({email:i,password:A}),l("")}catch(T){console.error("Provisioning Error:",T),h(T.message)}finally{n(!1),S()}},_=async N=>{if(confirm(`Revoke access for ${N}?`))try{const{error:E}=await Re.from("user_roles").delete().match({email:N});if(E)throw E;t(e.filter(P=>P.email!==N))}catch(E){h(E.message)}},j=async(N,E)=>{try{t(e.map(A=>A.email===N?{...A,role:E}:A));const{error:P}=await Re.from("user_roles").update({role:E}).match({email:N});if(P)throw S(),P}catch(P){h(P.message)}};return v?g.jsxs("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 rounded-lg border border-amber-200 dark:border-amber-700/50",children:[g.jsx("h3",{className:"font-bold text-amber-800 dark:text-amber-200 mb-2",children:"Setup Required"}),g.jsxs("p",{className:"text-sm text-amber-700 dark:text-amber-300 mb-4",children:["The ",g.jsx("code",{children:"user_roles"})," table is missing. Run this SQL in your Supabase SQL Editor:"]}),g.jsxs("div",{className:"bg-slate-900 rounded p-4 relative group",children:[g.jsx("code",{className:"text-xs text-green-400 font-mono block whitespace-pre-wrap",children:`create table user_roles (
  id uuid default gen_random_uuid() primary key,
  email text unique not null,
  role text default 'viewer',
  created_at timestamptz default now()
);

alter table user_roles enable row level security;
create policy "Allow read access for all auth users" on user_roles for select to authenticated using (true);
create policy "Allow insert/update/delete for authenticated" on user_roles for all to authenticated using (true); 
-- In production, replace the write policy with: using (auth.email() IN (SELECT email FROM user_roles WHERE role = 'admin'))`}),g.jsxs("button",{onClick:()=>navigator.clipboard.writeText(`create table user_roles ( id uuid default gen_random_uuid() primary key, email text unique not null, role text default 'viewer', created_at timestamptz default now() ); alter table user_roles enable row level security; create policy "Allow read access" on user_roles for select to authenticated using (true); create policy "Allow all write" on user_roles for all to authenticated using (true);`),className:"absolute top-2 right-2 bg-slate-700 hover:bg-slate-600 text-white text-xs px-2 py-1 rounded flex items-center gap-1",children:[g.jsx(Xv,{className:"w-3 h-3"})," Copy"]})]}),g.jsx("div",{className:"mt-4 flex gap-2",children:g.jsx("button",{onClick:S,className:"px-4 py-2 bg-amber-200 hover:bg-amber-300 rounded text-amber-900 font-bold text-sm",children:"I've ran the SQL, Try Again"})})]}):g.jsxs("div",{className:"space-y-8 relative",children:[m&&g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:g.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-2xl max-w-md w-full border border-slate-200 dark:border-slate-700 overflow-hidden transform scale-100 transition-all",children:[g.jsx("div",{className:"bg-emerald-500 h-2 w-full"}),g.jsxs("div",{className:"p-6",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[g.jsx("div",{className:"bg-emerald-100 dark:bg-emerald-900/30 p-2 rounded-full",children:g.jsx(KN,{className:"w-6 h-6 text-emerald-600 dark:text-emerald-400"})}),g.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"User Created!"})]}),g.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-6",children:["The account for ",g.jsx("strong",{className:"text-slate-700 dark:text-slate-200",children:m.email})," is ready. please copy the temporary password below."]}),g.jsxs("div",{className:"bg-slate-100 dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700 mb-6",children:[g.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1 block",children:"Temporary Password"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("code",{className:"text-lg font-mono font-bold text-slate-800 dark:text-emerald-400 break-all",children:m.password}),g.jsx("button",{onClick:()=>{navigator.clipboard.writeText(m.password),alert("Password Copied!")},className:"ml-auto p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-slate-700 rounded-lg transition-colors",title:"Copy Password",children:g.jsx(Xv,{className:"w-5 h-5"})})]})]}),g.jsx("button",{onClick:()=>p(null),className:"w-full bg-slate-900 dark:bg-slate-700 hover:bg-slate-800 text-white font-bold py-3 rounded-xl transition-colors",children:"Done"})]})]})}),g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:hu.map(N=>g.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-white dark:bg-slate-800 border border-slate-100 dark:border-slate-700 shadow-sm",children:[g.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wide shrink-0 mt-0.5 ${N.badge}`,children:N.label}),g.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 leading-tight",children:N.desc})]},N.id))}),g.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[g.jsxs("h3",{className:"text-sm font-bold text-slate-700 dark:text-slate-300 mb-2 uppercase tracking-wider flex items-center gap-2",children:[g.jsx(P6,{className:"w-5 h-5 text-blue-500"})," Provision New User"]}),g.jsx("p",{className:"text-xs text-slate-500 mb-4",children:"Instantly create a user account. The system will generate a temporary password for you to give to them."}),g.jsxs("form",{onSubmit:k,className:"flex flex-col sm:flex-row gap-4 items-end",children:[g.jsxs("div",{className:"flex-1 w-full",children:[g.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"User Email"}),g.jsx("input",{type:"email",required:!0,placeholder:"colleague@company.com",value:i,onChange:N=>l(N.target.value),className:"w-full rounded-lg border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white p-2.5 focus:ring-blue-500 focus:border-blue-500 shadow-sm"})]}),g.jsxs("div",{className:"w-full sm:w-48",children:[g.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"Role"}),g.jsx("select",{value:o,onChange:N=>c(N.target.value),className:"w-full rounded-lg border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white p-2.5 focus:ring-blue-500 focus:border-blue-500 shadow-sm",children:hu.map(N=>g.jsx("option",{value:N.id,children:N.label},N.id))})]}),g.jsx("div",{className:"w-full sm:w-auto",children:g.jsx("button",{type:"submit",disabled:r,className:"w-full sm:w-auto bg-blue-600 hover:bg-blue-500 text-white font-bold py-2.5 px-6 rounded-lg transition-colors shadow-lg shadow-blue-500/30 flex items-center justify-center gap-2 disabled:opacity-50",children:r?"Processing...":g.jsxs(g.Fragment,{children:[g.jsx(Ih,{className:"w-5 h-5"}),g.jsx("span",{children:"Create User"})]})})})]})]}),g.jsxs("div",{children:[g.jsx("div",{className:"flex justify-between items-end mb-3",children:g.jsxs("h3",{className:"text-sm font-bold text-slate-700 dark:text-slate-300 uppercase tracking-wider",children:["Authorized Users (",e.length,")"]})}),d&&g.jsx("div",{className:"mb-4 text-rose-500 text-sm bg-rose-50 dark:bg-rose-900/20 p-2 rounded border border-rose-100 dark:border-rose-800",children:d}),g.jsx("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl divide-y divide-slate-100 dark:divide-slate-700 shadow-sm overflow-hidden",children:r?g.jsx("div",{className:"p-8 text-center text-slate-500 animate-pulse text-sm",children:"Loading users..."}):e.length===0?g.jsx("div",{className:"p-8 text-center text-slate-400 text-sm italic",children:"No users found. Create one above."}):e.map(N=>{const E=hu.find(P=>P.id===N.role)||hu[3];return g.jsxs("div",{className:"p-4 flex flex-col sm:flex-row sm:items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors gap-3",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 dark:bg-slate-700 ring-2 ring-white dark:ring-slate-800 flex items-center justify-center text-sm font-bold text-slate-600 dark:text-slate-300 uppercase shadow-sm",children:N.email.substring(0,2)}),g.jsxs("div",{children:[g.jsx("div",{className:"text-sm font-bold text-slate-900 dark:text-white",children:N.email}),g.jsxs("div",{className:"text-[10px] text-slate-500 dark:text-slate-400 flex items-center gap-1",children:["Added ",new Date(N.created_at).toLocaleDateString()]})]})]}),g.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3 w-full sm:w-auto pl-14 sm:pl-0",children:[g.jsx("select",{value:N.role,onChange:P=>j(N.email,P.target.value),className:`text-xs font-bold rounded-full py-1.5 px-3 border-0 cursor-pointer focus:ring-2 focus:ring-offset-1 transition-colors outline-none ${E.badge}`,children:hu.map(P=>g.jsx("option",{value:P.id,children:P.label},P.id))}),g.jsx("button",{title:"Revoke Access",onClick:()=>_(N.email),className:"p-2 text-slate-400 hover:text-rose-600 hover:bg-rose-50 dark:hover:bg-rose-900/30 rounded-lg transition-colors",children:g.jsx(Es,{className:"w-4 h-4"})})]})]},N.id)})})]})]})}function XL({onClose:e}){const[t,r]=b.useState("general"),{userRole:n}=_r(),i=n==="admin",{safetyStockLoads:l,setSafetyStockLoads:o,leadTimeDays:c,setLeadTimeDays:d,csvMapping:h,updateCsvMapping:m,resetDefaults:p,theme:v,setTheme:x}=St(),{poManifest:S}=_n();return g.jsx("div",{className:"fixed inset-0 z-50 flex justify-center bg-black bg-opacity-50 overflow-y-auto px-4 py-6 backdrop-blur-sm",children:g.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-xl w-full max-w-2xl relative h-fit my-auto p-6 border dark:border-gray-700 transition-colors",children:[g.jsxs("div",{className:"flex justify-between items-center mb-6",children:[g.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Master Settings"}),g.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 font-bold text-xl",children:""})]}),g.jsxs("div",{className:"flex border-b border-slate-200 dark:border-slate-700 mb-6",children:[g.jsx("button",{className:`pb-2 px-1 text-sm font-bold mr-6 border-b-2 transition-colors ${t==="general"?"border-blue-600 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400"}`,onClick:()=>r("general"),children:"General & Appearance"}),i&&g.jsx("button",{className:`pb-2 px-1 text-sm font-bold border-b-2 transition-colors ${t==="users"?"border-blue-600 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400"}`,onClick:()=>r("users"),children:"User Management"})]}),g.jsx("div",{className:"space-y-6 h-[60vh] overflow-y-auto pr-2 custom-scrollbar",children:t==="general"?g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex items-center justify-between bg-gray-50 dark:bg-gray-800 p-4 rounded-md border border-gray-200 dark:border-gray-700",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-gray-800 dark:text-gray-200",children:"Appearance"}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Choose your interface theme."})]}),g.jsxs("div",{className:"flex bg-gray-200 dark:bg-gray-700 p-1 rounded-lg",children:[g.jsxs("button",{onClick:()=>x("light"),className:`flex items-center space-x-2 px-3 py-1.5 rounded-md text-sm font-medium transition-all ${v==="light"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"}`,children:[g.jsx(VN,{className:"w-4 h-4"}),g.jsx("span",{children:"Light"})]}),g.jsxs("button",{onClick:()=>x("dark"),className:`flex items-center space-x-2 px-3 py-1.5 rounded-md text-sm font-medium transition-all ${v==="dark"?"bg-gray-600 text-white shadow-sm":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"}`,children:[g.jsx(g6,{className:"w-4 h-4"}),g.jsx("span",{children:"Dark"})]})]})]}),g.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-md border border-blue-100 dark:border-blue-800 grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-blue-900 dark:text-blue-300 mb-2",children:"Global Safety Stock (Full Loads)"}),g.jsx("input",{type:"number",inputMode:"numeric",pattern:"[0-9]*",value:l,onChange:k=>o(Number(k.target.value)),className:"mt-1 block w-24 rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-800 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500 text-base sm:text-lg"}),g.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-400 mt-1",children:"Minimum inventory target (Trucks)."})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-blue-900 dark:text-blue-300 mb-2",children:"Inbound Lead Time (Days)"}),g.jsx("input",{type:"number",inputMode:"numeric",pattern:"[0-9]*",value:c,onChange:k=>d(Number(k.target.value)),className:"mt-1 block w-24 rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-800 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500 text-base sm:text-lg"}),g.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-400 mt-1",children:"Days from Order to Delivery."})]})]}),g.jsx("hr",{className:"border-gray-200 dark:border-gray-700"}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-200 mb-4",children:"CSV Integration Mappings"}),g.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-md border border-gray-200 dark:border-gray-700 grid grid-cols-1 md:grid-cols-3 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Status Column Header"}),g.jsx("input",{type:"text",value:h.statusColumn,onChange:k=>m("statusColumn",k.target.value),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm",placeholder:"e.g. Trailer State"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:'"Full" Keyword'}),g.jsx("input",{type:"text",value:h.fullValue,onChange:k=>m("fullValue",k.target.value),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm",placeholder:"e.g. Loaded"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"SKU/Product Column"}),g.jsx("input",{type:"text",value:h.skuColumn,onChange:k=>m("skuColumn",k.target.value),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm",placeholder:"e.g. Commodity"})]}),g.jsx("div",{className:"col-span-1 md:col-span-3",children:g.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 italic",children:["The importer will look for rows where ",g.jsx("strong",{children:h.statusColumn}),' contains "',g.jsx("strong",{children:h.fullValue}),'"',h.skuColumn?g.jsxs("span",{children:[" and ",g.jsx("strong",{children:h.skuColumn}),' contains the active bottle size (e.g. "20oz").']}):"."]})})]})]})]}):g.jsx(WL,{})}),g.jsxs("div",{className:"mt-8 bg-gray-50 dark:bg-gray-800 -mx-6 -mb-6 p-4 rounded-b-lg border-t dark:border-gray-700",children:[g.jsxs("div",{className:"flex flex-col-reverse md:flex-row justify-between items-center gap-4",children:[g.jsx("button",{onClick:()=>{confirm("Are you sure you want to reset all settings to factory defaults?")&&p()},className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 text-sm font-medium",children:"Reset to Defaults"}),g.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-4 w-full md:w-auto",children:[g.jsxs("button",{onClick:()=>window.location.reload(),className:"w-full md:w-auto px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 text-sm font-bold flex items-center justify-center",children:[g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4 mr-2",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 4.992l3.181-3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})}),"Reload & Sync"]}),g.jsx("button",{onClick:e,className:"w-full md:w-auto px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm font-bold shadow-sm",children:"Done"})]})]}),g.jsx("div",{className:"text-center mt-4",children:g.jsxs("p",{className:"text-[10px] text-gray-400 dark:text-gray-600",children:["v","2.25.42"," (Smart Planner)"]})})]})]})})}function ZL({monthlyDemand:e,updateDateDemand:t,monthlyInbound:r,updateDateInbound:n,monthlyProductionActuals:i,updateDateActual:l,specs:o,trucksToCancel:c,dailyLedger:d,safetyTarget:h,poManifest:m={}}){const[p,v]=b.useState(new Date),{days:x,monthLabel:S,totalMonthlyDemand:k,totalEstTrucks:_}=b.useMemo(()=>{const N=p.getFullYear(),E=p.getMonth(),P=new Date(N,E,1),T=new Date(N,E+1,0).getDate(),C=P.getDay(),M=Array(C).fill(null),$=new Date().toISOString().split("T")[0];let R=null;c>0&&(R=Object.keys(r||{}).sort().find(ie=>ie>=$&&r[ie]>0));const I=(d||[]).reduce((te,ie)=>(te[ie.date]=ie.balance,te),{}),q=Array.from({length:T},(te,ie)=>{const B=new Date(N,E,ie+1),K=B.toISOString().split("T")[0],le=I[K];let W=null;return le!==void 0&&o?.bottlesPerCase&&(W=Math.round(le/o.bottlesPerCase)),{date:B,dateStr:K,dayNum:ie+1,val:e[K]||0,trucks:r?.[K]||0,actual:i?.[K],isPushCandidate:R===K,endInvCases:W,isSafetyRisk:le!==void 0&&le<(h||0),isOverflow:le!==void 0&&le>(h||0)+(o?.bottlesPerTruck||0)*2,isConfirmed:m[K]?.items?.length>0}}),ae=q.reduce((te,ie)=>{const B=ie.actual!==void 0&&ie.actual!==null?Number(ie.actual):Number(ie.val||0);return te+B},0);return o&&o.bottlesPerTruck&&o.bottlesPerCase&&o.bottlesPerTruck/o.bottlesPerCase,{days:[...M,...q],monthLabel:P.toLocaleString("default",{month:"long",year:"numeric"}),totalMonthlyDemand:ae}},[p,e,r,i,o,c,m]),j=N=>{v(E=>{const P=new Date(E);return P.setMonth(P.getMonth()+N),P})};return g.jsxs("div",{className:"h-full flex flex-col transition-colors",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4 pb-2 border-b dark:border-gray-700",children:[g.jsx("button",{onClick:()=>j(-1),className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded text-gray-600 dark:text-gray-300",children:"< Prev"}),g.jsxs("div",{className:"text-center",children:[g.jsx("h3",{className:"font-bold text-gray-800 dark:text-gray-100",children:S}),g.jsxs("p",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium",children:[k.toLocaleString()," Cases",_>0&&g.jsxs("span",{className:"text-gray-400 dark:text-gray-500 ml-1",children:["(~",_," Trucks)"]})]})]}),g.jsx("button",{onClick:()=>j(1),className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded text-gray-600 dark:text-gray-300",children:"Next >"})]}),g.jsxs("div",{className:"hidden md:grid grid-cols-7 gap-1 text-center text-xs font-bold text-gray-500 dark:text-gray-400 mb-2",children:[g.jsx("div",{children:"SUN"}),g.jsx("div",{children:"MON"}),g.jsx("div",{children:"TUE"}),g.jsx("div",{children:"WED"}),g.jsx("div",{children:"THU"}),g.jsx("div",{children:"FRI"}),g.jsx("div",{children:"SAT"})]}),g.jsx("div",{className:"flex flex-col space-y-2 md:space-y-0 md:grid md:grid-cols-7 md:gap-1 flex-1",children:x.map((N,E)=>{if(!N)return g.jsx("div",{className:"hidden md:block bg-gray-50/50 dark:bg-gray-800/50 rounded"},`pad-${E}`);const P=new Date().toISOString().split("T")[0]===N.dateStr,A=N.val>0,T=N.actual!==void 0,C=N.trucks>0,M=N.isPushCandidate;return g.jsxs("div",{className:`
                                relative rounded border transition-all
                                ${P?"border-blue-400 bg-blue-50 dark:bg-blue-900/20 dark:border-blue-500":"border-gray-100 dark:border-gray-700"}
                                ${A||C||T?"bg-white dark:bg-gray-700":"bg-gray-50 dark:bg-gray-800"}
                                ${M?"ring-2 ring-red-400 ring-opacity-50 dark:ring-red-500":""}
                                
                                /* Desktop Styles */
                                md:p-1 md:min-h-[90px] md:flex-col md:justify-between
                                
                                /* Mobile Styles (List Row) */
                                flex flex-row items-center p-3 justify-between shadow-sm md:shadow-none
                            `,children:[g.jsx("div",{className:"flex flex-col md:items-start w-16 md:w-auto",children:g.jsx("span",{className:`text-sm md:text-[10px] ${P?"text-blue-600 dark:text-blue-400 font-bold":"text-gray-500 dark:text-gray-400 font-medium"}`,children:N.date.toLocaleDateString("en-US",{weekday:"short",day:"numeric"})})}),g.jsxs("div",{className:"flex flex-row md:flex-col space-x-4 md:space-x-0 md:space-y-1 items-center md:items-stretch flex-1 md:flex-none justify-center",children:[g.jsxs("div",{className:"flex items-center space-x-1",children:[g.jsx("span",{className:"text-[10px] text-gray-400 dark:text-gray-500 w-3 md:inline hidden",children:"P:"}),g.jsx("span",{className:"text-[10px] text-gray-400 dark:text-gray-500 md:hidden font-bold",children:"Plan"}),g.jsx("input",{type:"text",inputMode:"numeric",className:`
                                            w-12 md:w-full text-center text-sm md:text-xs p-1 md:p-0 border rounded md:border-0 md:bg-transparent focus:ring-1 focus:ring-blue-200 font-medium
                                            ${A?"text-gray-900 dark:text-white border-gray-300 bg-white dark:bg-gray-600":"text-gray-300 dark:text-gray-600 border-gray-200 bg-white dark:bg-gray-800/50"}
                                        `,placeholder:"-",value:N.val?N.val.toLocaleString():"",onChange:$=>{const R=$.target.value.replace(/,/g,"");if(!isNaN(R)){const I=Number(R);if(t(N.dateStr,R),o&&o.bottlesPerTruck&&o.bottlesPerCase)if(I>0){const q=o.bottlesPerTruck/o.bottlesPerCase,ae=Math.ceil(I/q);n(N.dateStr,ae)}else n(N.dateStr,0)}}})]}),g.jsxs("div",{className:"flex items-center space-x-1",children:[g.jsx("span",{className:"text-[10px] text-blue-400 w-3 font-bold md:inline hidden",children:"A:"}),g.jsx("span",{className:"text-[10px] text-blue-400 md:hidden font-bold",children:"Act"}),g.jsx("input",{type:"text",inputMode:"numeric",className:`
                                            w-12 md:w-full text-center text-sm md:text-xs p-1 md:p-0 border rounded md:border-0 md:bg-transparent focus:ring-1 focus:ring-blue-200 font-bold
                                            ${T?"text-blue-700 dark:text-blue-300 bg-blue-50 dark:bg-blue-900/50 border-blue-200 dark:border-blue-800":"text-gray-300 dark:text-gray-600 border-gray-200 bg-white dark:bg-gray-800/50"}
                                        `,placeholder:"-",value:T?N.actual.toLocaleString():"",onChange:$=>{const R=$.target.value.replace(/,/g,"");isNaN(R)||l(N.dateStr,R)}})]})]}),g.jsxs("div",{className:"flex flex-row md:flex-col items-center space-x-3 md:space-x-0 md:space-y-1 justify-end w-24 md:w-auto",children:[g.jsxs("div",{className:`
                                    flex items-center justify-center transition-all duration-500
                                    md:mt-1 md:border-t md:border-gray-100 dark:md:border-gray-600 md:pt-1 md:w-full
                                    ${C?M?"bg-red-50 dark:bg-red-900/30 animate-pulse rounded p-1 md:p-0":"bg-green-50 dark:bg-green-900/30 animate-pulse rounded p-1 md:p-0":""}
                                `,children:[g.jsx("span",{className:"text-xs md:text-[9px] mr-1 text-gray-400 dark:text-gray-500",children:""}),g.jsx("input",{type:"text",inputMode:"numeric",className:`
                                            w-6 text-center text-sm md:text-[10px] p-0 border-0 bg-transparent focus:ring-0 font-bold
                                            ${C?M?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400":"text-gray-300 dark:text-gray-600"}
                                        `,placeholder:"0",value:N.trucks>0?N.trucks:"",onChange:$=>{const R=$.target.value.replace(/,/g,"");isNaN(R)||n(N.dateStr,R)}})]}),N.isConfirmed&&g.jsx("div",{className:"absolute top-1 right-1",children:g.jsxs("span",{className:"flex h-2 w-2 relative",children:[g.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),g.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-green-500"})]})}),N.endInvCases!==null&&g.jsxs("div",{className:`
                                        text-[10px] md:text-[9px] text-center md:mt-auto md:pt-1 font-mono
                                        ${N.isSafetyRisk?"text-red-500 dark:text-red-400 font-bold":N.isOverflow?"text-orange-500 dark:text-orange-400 font-bold":"text-gray-400 dark:text-gray-500"}
                                    `,children:[N.endInvCases.toLocaleString(),g.jsx("span",{className:"md:hidden ml-1",children:"cs"}),g.jsx("span",{className:"hidden md:inline",children:" cs"})]})]})]},N.dateStr)})})]})}const zr=()=>{const e=new Date().getTimezoneOffset()*6e4;return new Date(Date.now()-e).toISOString().split("T")[0]},In=(e,t)=>{if(!e)return"";try{const[r,n,i]=e.split("-").map(Number),l=new Date(r,n-1,i+t),o=l.getFullYear(),c=String(l.getMonth()+1).padStart(2,"0"),d=String(l.getDate()).padStart(2,"0");return`${o}-${c}-${d}`}catch(r){return console.error("addDays Error",r),e}},st=e=>{if(!e)return"";const t=new Date(e);if(isNaN(t.getTime()))return"";if(typeof e=="string"&&e.match(/^\d{4}-\d{2}-\d{2}$/))return e;const r=t.getTimezoneOffset()*6e4;return new Date(t.getTime()-r).toISOString().split("T")[0]},Iu=e=>{if(!e)return"";const[t,r]=e.split(":").map(Number);if(isNaN(t))return e;const n=t>=12?"PM":"AM",i=t%12||12,l=r!==void 0?String(r).padStart(2,"0"):"00";return`${i}:${l} ${n}`},yA=typeof document<"u"?ge.useLayoutEffect:()=>{};var dp;const JL=(dp=ge.useInsertionEffect)!==null&&dp!==void 0?dp:yA;function QL(e){const t=b.useRef(null);return JL(()=>{t.current=e},[e]),b.useCallback((...r)=>{const n=t.current;return n?.(...r)},[])}const $i=e=>{var t;return(t=e?.ownerDocument)!==null&&t!==void 0?t:document},ys=e=>e&&"window"in e&&e.window===e?e:$i(e).defaultView||window;function e8(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function t8(e){return e8(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}let r8=!1;function $b(){return r8}function bA(e,t){if(!$b())return t&&e?e.contains(t):!1;if(!e||!t)return!1;let r=t;for(;r!==null;){if(r===e)return!0;r.tagName==="SLOT"&&r.assignedSlot?r=r.assignedSlot.parentNode:t8(r)?r=r.host:r=r.parentNode}return!1}const my=(e=document)=>{var t;if(!$b())return e.activeElement;let r=e.activeElement;for(;r&&"shadowRoot"in r&&(!((t=r.shadowRoot)===null||t===void 0)&&t.activeElement);)r=r.shadowRoot.activeElement;return r};function xA(e){return $b()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}function wA(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=wA(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Qe(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=wA(e))&&(n&&(n+=" "),n+=t);return n}function n8(e){var t;if(typeof window>"u"||window.navigator==null)return!1;let r=(t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands;return Array.isArray(r)&&r.some(n=>e.test(n.brand))||e.test(window.navigator.userAgent)}function a8(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function SA(e){let t=null;return()=>(t==null&&(t=e()),t)}const i8=SA(function(){return a8(/^Mac/i)}),s8=SA(function(){return n8(/Android/i)});function _A(){let e=b.useRef(new Map),t=b.useCallback((i,l,o,c)=>{let d=c?.once?(...h)=>{e.current.delete(o),o(...h)}:o;e.current.set(o,{type:l,eventTarget:i,fn:d,options:c}),i.addEventListener(l,d,c)},[]),r=b.useCallback((i,l,o,c)=>{var d;let h=((d=e.current.get(o))===null||d===void 0?void 0:d.fn)||o;i.removeEventListener(l,h,c),e.current.delete(o)},[]),n=b.useCallback(()=>{e.current.forEach((i,l)=>{r(i.eventTarget,i.type,l,i.options)})},[r]);return b.useEffect(()=>n,[n]),{addGlobalListener:t,removeGlobalListener:r,removeAllGlobalListeners:n}}function l8(e){return e.pointerType===""&&e.isTrusted?!0:s8()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}var ao=IN();function kA(e){let t=e;return t.nativeEvent=e,t.isDefaultPrevented=()=>t.defaultPrevented,t.isPropagationStopped=()=>t.cancelBubble,t.persist=()=>{},t}function o8(e,t){Object.defineProperty(e,"target",{value:t}),Object.defineProperty(e,"currentTarget",{value:t})}function jA(e){let t=b.useRef({isFocused:!1,observer:null});yA(()=>{const n=t.current;return()=>{n.observer&&(n.observer.disconnect(),n.observer=null)}},[]);let r=QL(n=>{e?.(n)});return b.useCallback(n=>{if(n.target instanceof HTMLButtonElement||n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLSelectElement){t.current.isFocused=!0;let i=n.target,l=o=>{if(t.current.isFocused=!1,i.disabled){let c=kA(o);r(c)}t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};i.addEventListener("focusout",l,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&i.disabled){var o;(o=t.current.observer)===null||o===void 0||o.disconnect();let c=i===document.activeElement?null:document.activeElement;i.dispatchEvent(new FocusEvent("blur",{relatedTarget:c})),i.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:c}))}}),t.current.observer.observe(i,{attributes:!0,attributeFilter:["disabled"]})}},[r])}let u8=!1,lc=null,gy=new Set,Au=new Map,Os=!1,py=!1;const c8={Tab:!0,Escape:!0};function Lb(e,t){for(let r of gy)r(e,t)}function d8(e){return!(e.metaKey||!i8()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function Hf(e){Os=!0,d8(e)&&(lc="keyboard",Lb("keyboard",e))}function Ul(e){lc="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(Os=!0,Lb("pointer",e))}function EA(e){l8(e)&&(Os=!0,lc="virtual")}function OA(e){e.target===window||e.target===document||u8||!e.isTrusted||(!Os&&!py&&(lc="virtual",Lb("virtual",e)),Os=!1,py=!1)}function NA(){Os=!1,py=!0}function vy(e){if(typeof window>"u"||typeof document>"u"||Au.get(ys(e)))return;const t=ys(e),r=$i(e);let n=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){Os=!0,n.apply(this,arguments)},r.addEventListener("keydown",Hf,!0),r.addEventListener("keyup",Hf,!0),r.addEventListener("click",EA,!0),t.addEventListener("focus",OA,!0),t.addEventListener("blur",NA,!1),typeof PointerEvent<"u"&&(r.addEventListener("pointerdown",Ul,!0),r.addEventListener("pointermove",Ul,!0),r.addEventListener("pointerup",Ul,!0)),t.addEventListener("beforeunload",()=>{AA(e)},{once:!0}),Au.set(t,{focus:n})}const AA=(e,t)=>{const r=ys(e),n=$i(e);t&&n.removeEventListener("DOMContentLoaded",t),Au.has(r)&&(r.HTMLElement.prototype.focus=Au.get(r).focus,n.removeEventListener("keydown",Hf,!0),n.removeEventListener("keyup",Hf,!0),n.removeEventListener("click",EA,!0),r.removeEventListener("focus",OA,!0),r.removeEventListener("blur",NA,!1),typeof PointerEvent<"u"&&(n.removeEventListener("pointerdown",Ul,!0),n.removeEventListener("pointermove",Ul,!0),n.removeEventListener("pointerup",Ul,!0)),Au.delete(r))};function f8(e){const t=$i(e);let r;return t.readyState!=="loading"?vy(e):(r=()=>{vy(e)},t.addEventListener("DOMContentLoaded",r)),()=>AA(e,r)}typeof document<"u"&&f8();function TA(){return lc!=="pointer"}const h8=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function m8(e,t,r){let n=$i(r?.target);const i=typeof window<"u"?ys(r?.target).HTMLInputElement:HTMLInputElement,l=typeof window<"u"?ys(r?.target).HTMLTextAreaElement:HTMLTextAreaElement,o=typeof window<"u"?ys(r?.target).HTMLElement:HTMLElement,c=typeof window<"u"?ys(r?.target).KeyboardEvent:KeyboardEvent;return e=e||n.activeElement instanceof i&&!h8.has(n.activeElement.type)||n.activeElement instanceof l||n.activeElement instanceof o&&n.activeElement.isContentEditable,!(e&&t==="keyboard"&&r instanceof c&&!c8[r.key])}function g8(e,t,r){vy(),b.useEffect(()=>{let n=(i,l)=>{m8(!!r?.isTextInput,i,l)&&e(TA())};return gy.add(n),()=>{gy.delete(n)}},t)}function p8(e){let{isDisabled:t,onFocus:r,onBlur:n,onFocusChange:i}=e;const l=b.useCallback(d=>{if(d.target===d.currentTarget)return n&&n(d),i&&i(!1),!0},[n,i]),o=jA(l),c=b.useCallback(d=>{const h=$i(d.target),m=h?my(h):my();d.target===d.currentTarget&&m===xA(d.nativeEvent)&&(r&&r(d),i&&i(!0),o(d))},[i,r,o]);return{focusProps:{onFocus:!t&&(r||i||n)?c:void 0,onBlur:!t&&(n||i)?l:void 0}}}function v8(e){let{isDisabled:t,onBlurWithin:r,onFocusWithin:n,onFocusWithinChange:i}=e,l=b.useRef({isFocusWithin:!1}),{addGlobalListener:o,removeAllGlobalListeners:c}=_A(),d=b.useCallback(p=>{p.currentTarget.contains(p.target)&&l.current.isFocusWithin&&!p.currentTarget.contains(p.relatedTarget)&&(l.current.isFocusWithin=!1,c(),r&&r(p),i&&i(!1))},[r,i,l,c]),h=jA(d),m=b.useCallback(p=>{if(!p.currentTarget.contains(p.target))return;const v=$i(p.target),x=my(v);if(!l.current.isFocusWithin&&x===xA(p.nativeEvent)){n&&n(p),i&&i(!0),l.current.isFocusWithin=!0,h(p);let S=p.currentTarget;o(v,"focus",k=>{if(l.current.isFocusWithin&&!bA(S,k.target)){let _=new v.defaultView.FocusEvent("blur",{relatedTarget:k.target});o8(_,S);let j=kA(_);d(j)}},{capture:!0})}},[n,i,h,o,d]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:m,onBlur:d}}}let yy=!1,nf=0;function y8(){yy=!0,setTimeout(()=>{yy=!1},50)}function dk(e){e.pointerType==="touch"&&y8()}function b8(){if(!(typeof document>"u"))return nf===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",dk),nf++,()=>{nf--,!(nf>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",dk)}}function x8(e){let{onHoverStart:t,onHoverChange:r,onHoverEnd:n,isDisabled:i}=e,[l,o]=b.useState(!1),c=b.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;b.useEffect(b8,[]);let{addGlobalListener:d,removeAllGlobalListeners:h}=_A(),{hoverProps:m,triggerHoverEnd:p}=b.useMemo(()=>{let v=(k,_)=>{if(c.pointerType=_,i||_==="touch"||c.isHovered||!k.currentTarget.contains(k.target))return;c.isHovered=!0;let j=k.currentTarget;c.target=j,d($i(k.target),"pointerover",N=>{c.isHovered&&c.target&&!bA(c.target,N.target)&&x(N,N.pointerType)},{capture:!0}),t&&t({type:"hoverstart",target:j,pointerType:_}),r&&r(!0),o(!0)},x=(k,_)=>{let j=c.target;c.pointerType="",c.target=null,!(_==="touch"||!c.isHovered||!j)&&(c.isHovered=!1,h(),n&&n({type:"hoverend",target:j,pointerType:_}),r&&r(!1),o(!1))},S={};return typeof PointerEvent<"u"&&(S.onPointerEnter=k=>{yy&&k.pointerType==="mouse"||v(k,k.pointerType)},S.onPointerLeave=k=>{!i&&k.currentTarget.contains(k.target)&&x(k,k.pointerType)}),{hoverProps:S,triggerHoverEnd:x}},[t,r,n,i,c,d,h]);return b.useEffect(()=>{i&&p({currentTarget:c.target},c.pointerType)},[i]),{hoverProps:m,isHovered:l}}function w8(e={}){let{autoFocus:t=!1,isTextInput:r,within:n}=e,i=b.useRef({isFocused:!1,isFocusVisible:t||TA()}),[l,o]=b.useState(!1),[c,d]=b.useState(()=>i.current.isFocused&&i.current.isFocusVisible),h=b.useCallback(()=>d(i.current.isFocused&&i.current.isFocusVisible),[]),m=b.useCallback(x=>{i.current.isFocused=x,o(x),h()},[h]);g8(x=>{i.current.isFocusVisible=x,h()},[],{isTextInput:r});let{focusProps:p}=p8({isDisabled:n,onFocusChange:m}),{focusWithinProps:v}=v8({isDisabled:!n,onFocusWithinChange:m});return{isFocused:l,isFocusVisible:c,focusProps:n?v:p}}var S8=Object.defineProperty,_8=(e,t,r)=>t in e?S8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,fp=(e,t,r)=>(_8(e,typeof t!="symbol"?t+"":t,r),r);let k8=class{constructor(){fp(this,"current",this.detect()),fp(this,"handoffState","pending"),fp(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Wn=new k8;function io(e){var t;return Wn.isServer?null:e==null?document:(t=e?.ownerDocument)!=null?t:document}function by(e){var t,r;return Wn.isServer?null:e==null?document:(r=(t=e?.getRootNode)==null?void 0:t.call(e))!=null?r:document}function CA(e){var t,r;return(r=(t=by(e))==null?void 0:t.activeElement)!=null?r:null}function j8(e){return CA(e)===e}function Fh(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function Ka(){let e=[],t={addEventListener(r,n,i,l){return r.addEventListener(n,i,l),t.add(()=>r.removeEventListener(n,i,l))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return t.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return t.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return Fh(()=>{n.current&&r[0]()}),t.add(()=>{n.current=!1})},style(r,n,i){let l=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:i}),this.add(()=>{Object.assign(r.style,{[n]:l})})},group(r){let n=Ka();return r(n),this.add(()=>n.dispose())},add(r){return e.includes(r)||e.push(r),()=>{let n=e.indexOf(r);if(n>=0)for(let i of e.splice(n,1))i()}},dispose(){for(let r of e.splice(0))r()}};return t}function Ms(){let[e]=b.useState(Ka);return b.useEffect(()=>()=>e.dispose(),[e]),e}let xr=(e,t)=>{Wn.isServer?b.useEffect(e,t):b.useLayoutEffect(e,t)};function Rs(e){let t=b.useRef(e);return xr(()=>{t.current=e},[e]),t}let ze=function(e){let t=Rs(e);return ge.useCallback((...r)=>t.current(...r),[t])};function E8(e){let t=e.width/2,r=e.height/2;return{top:e.clientY-r,right:e.clientX+t,bottom:e.clientY+r,left:e.clientX-t}}function O8(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function N8({disabled:e=!1}={}){let t=b.useRef(null),[r,n]=b.useState(!1),i=Ms(),l=ze(()=>{t.current=null,n(!1),i.dispose()}),o=ze(c=>{if(i.dispose(),t.current===null){t.current=c.currentTarget,n(!0);{let d=io(c.currentTarget);i.addEventListener(d,"pointerup",l,!1),i.addEventListener(d,"pointermove",h=>{if(t.current){let m=E8(h);n(O8(m,t.current.getBoundingClientRect()))}},!1),i.addEventListener(d,"pointercancel",l,!1)}}});return{pressed:r,pressProps:e?{}:{onPointerDown:o,onPointerUp:l,onClick:l}}}function $s(e){return b.useMemo(()=>e,Object.values(e))}let A8=b.createContext(void 0);function Ib(){return b.useContext(A8)}function xy(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function La(e,t,...r){if(e in t){let i=t[e];return typeof i=="function"?i(...r):i}let n=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,La),n}var Ff=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(Ff||{}),Ti=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Ti||{});function kr(){let e=C8();return b.useCallback(t=>T8({mergeRefs:e,...t}),[e])}function T8({ourProps:e,theirProps:t,slot:r,defaultTag:n,features:i,visible:l=!0,name:o,mergeRefs:c}){c=c??P8;let d=PA(t,e);if(l)return af(d,r,n,o,c);let h=i??0;if(h&2){let{static:m=!1,...p}=d;if(m)return af(p,r,n,o,c)}if(h&1){let{unmount:m=!0,...p}=d;return La(m?0:1,{0(){return null},1(){return af({...p,hidden:!0,style:{display:"none"}},r,n,o,c)}})}return af(d,r,n,o,c)}function af(e,t={},r,n,i){let{as:l=r,children:o,refName:c="ref",...d}=hp(e,["unmount","static"]),h=e.ref!==void 0?{[c]:e.ref}:{},m=typeof o=="function"?o(t):o;"className"in d&&d.className&&typeof d.className=="function"&&(d.className=d.className(t)),d["aria-labelledby"]&&d["aria-labelledby"]===d.id&&(d["aria-labelledby"]=void 0);let p={};if(t){let v=!1,x=[];for(let[S,k]of Object.entries(t))typeof k=="boolean"&&(v=!0),k===!0&&x.push(S.replace(/([A-Z])/g,_=>`-${_.toLowerCase()}`));if(v){p["data-headlessui-state"]=x.join(" ");for(let S of x)p[`data-${S}`]=""}}if(Tu(l)&&(Object.keys(_i(d)).length>0||Object.keys(_i(p)).length>0))if(!b.isValidElement(m)||Array.isArray(m)&&m.length>1||R8(m)){if(Object.keys(_i(d)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(_i(d)).concat(Object.keys(_i(p))).map(v=>`  - ${v}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(v=>`  - ${v}`).join(`
`)].join(`
`))}else{let v=m.props,x=v?.className,S=typeof x=="function"?(...j)=>xy(x(...j),d.className):xy(x,d.className),k=S?{className:S}:{},_=PA(m.props,_i(hp(d,["ref"])));for(let j in p)j in _&&delete p[j];return b.cloneElement(m,Object.assign({},_,p,h,{ref:i(M8(m),h.ref)},k))}return b.createElement(l,Object.assign({},hp(d,["ref"]),!Tu(l)&&h,!Tu(l)&&p),m)}function C8(){let e=b.useRef([]),t=b.useCallback(r=>{for(let n of e.current)n!=null&&(typeof n=="function"?n(r):n.current=r)},[]);return(...r)=>{if(!r.every(n=>n==null))return e.current=r,t}}function P8(...e){return e.every(t=>t==null)?void 0:t=>{for(let r of e)r!=null&&(typeof r=="function"?r(t):r.current=t)}}function PA(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},r={};for(let n of e)for(let i in n)i.startsWith("on")&&typeof n[i]=="function"?(r[i]!=null||(r[i]=[]),r[i].push(n[i])):t[i]=n[i];if(t.disabled||t["aria-disabled"])for(let n in r)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(n)&&(r[n]=[i=>{var l;return(l=i?.preventDefault)==null?void 0:l.call(i)}]);for(let n in r)Object.assign(t,{[n](i,...l){let o=r[n];for(let c of o){if((i instanceof Event||i?.nativeEvent instanceof Event)&&i.defaultPrevented)return;c(i,...l)}}});return t}function D8(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},r={};for(let n of e)for(let i in n)i.startsWith("on")&&typeof n[i]=="function"?(r[i]!=null||(r[i]=[]),r[i].push(n[i])):t[i]=n[i];for(let n in r)Object.assign(t,{[n](...i){let l=r[n];for(let o of l)o?.(...i)}});return t}function hr(e){var t;return Object.assign(b.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function _i(e){let t=Object.assign({},e);for(let r in t)t[r]===void 0&&delete t[r];return t}function hp(e,t=[]){let r=Object.assign({},e);for(let n of t)n in r&&delete r[n];return r}function M8(e){return ge.version.split(".")[0]>="19"?e.props.ref:e.ref}function Tu(e){return e===b.Fragment||e===Symbol.for("react.fragment")}function R8(e){return Tu(e.type)}function $8(e,t,r){let[n,i]=b.useState(r),l=e!==void 0,o=b.useRef(l),c=b.useRef(!1),d=b.useRef(!1);return l&&!o.current&&!c.current?(c.current=!0,o.current=l,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!l&&o.current&&!d.current&&(d.current=!0,o.current=l,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[l?e:n,ze(h=>(l||ao.flushSync(()=>i(h)),t?.(h)))]}function L8(e){let[t]=b.useState(e);return t}function DA(e={},t=null,r=[]){for(let[n,i]of Object.entries(e))RA(r,MA(t,n),i);return r}function MA(e,t){return e?e+"["+t+"]":t}function RA(e,t,r){if(Array.isArray(r))for(let[n,i]of r.entries())RA(e,MA(t,n.toString()),i);else r instanceof Date?e.push([t,r.toISOString()]):typeof r=="boolean"?e.push([t,r?"1":"0"]):typeof r=="string"?e.push([t,r]):typeof r=="number"?e.push([t,`${r}`]):r==null?e.push([t,""]):U8(r)&&!b.isValidElement(r)&&DA(r,t,e)}function I8(e){var t,r;let n=(t=e?.form)!=null?t:e.closest("form");if(n){for(let i of n.elements)if(i!==e&&(i.tagName==="INPUT"&&i.type==="submit"||i.tagName==="BUTTON"&&i.type==="submit"||i.nodeName==="INPUT"&&i.type==="image")){i.click();return}(r=n.requestSubmit)==null||r.call(n)}}function U8(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}let z8="span";var Kl=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Kl||{});function B8(e,t){var r;let{features:n=1,...i}=e,l={ref:t,"aria-hidden":(n&2)===2?!0:(r=i["aria-hidden"])!=null?r:void 0,hidden:(n&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return kr()({ourProps:l,theirProps:i,slot:{},defaultTag:z8,name:"Hidden"})}let Uu=hr(B8),q8=b.createContext(null);function H8({children:e}){let t=b.useContext(q8);if(!t)return ge.createElement(ge.Fragment,null,e);let{target:r}=t;return r?ao.createPortal(ge.createElement(ge.Fragment,null,e),r):null}function F8({data:e,form:t,disabled:r,onReset:n,overrides:i}){let[l,o]=b.useState(null),c=Ms();return b.useEffect(()=>{if(n&&l)return c.addEventListener(l,"reset",n)},[l,t,n]),ge.createElement(H8,null,ge.createElement(K8,{setForm:o,formId:t}),DA(e).map(([d,h])=>ge.createElement(Uu,{features:Kl.Hidden,..._i({key:d,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:t,disabled:r,name:d,value:h,...i})})))}function K8({setForm:e,formId:t}){return b.useEffect(()=>{if(t){let r=document.getElementById(t);r&&e(r)}},[e,t]),t?null:ge.createElement(Uu,{features:Kl.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:r=>{if(!r)return;let n=r.closest("form");n&&e(n)}})}let V8=b.createContext(void 0);function $A(){return b.useContext(V8)}function G8(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function Da(e){return G8(e)&&"tagName"in e}function Jn(e){return Da(e)&&"accessKey"in e}function Ci(e){return Da(e)&&"tabIndex"in e}function Y8(e){return Da(e)&&"style"in e}function W8(e){return Jn(e)&&e.nodeName==="IFRAME"}function LA(e){return Jn(e)&&e.nodeName==="INPUT"}function wy(e){return Jn(e)&&e.nodeName==="LABEL"}function X8(e){return Jn(e)&&e.nodeName==="FIELDSET"}function IA(e){return Jn(e)&&e.nodeName==="LEGEND"}function Z8(e){return Da(e)?e.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function J8(e){let t=e.parentElement,r=null;for(;t&&!X8(t);)IA(t)&&(r=t),t=t.parentElement;let n=t?.getAttribute("disabled")==="";return n&&Q8(r)?!1:n}function Q8(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(IA(t))return!1;t=t.previousElementSibling}return!0}let UA=Symbol();function e7(e,t=!0){return Object.assign(e,{[UA]:t})}function kn(...e){let t=b.useRef(e);b.useEffect(()=>{t.current=e},[e]);let r=ze(n=>{for(let i of t.current)i!=null&&(typeof i=="function"?i(n):i.current=n)});return e.every(n=>n==null||n?.[UA])?void 0:r}let Kh=b.createContext(null);Kh.displayName="DescriptionContext";function zA(){let e=b.useContext(Kh);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,zA),t}return e}function t7(){var e,t;return(t=(e=b.useContext(Kh))==null?void 0:e.value)!=null?t:void 0}function BA(){let[e,t]=b.useState([]);return[e.length>0?e.join(" "):void 0,b.useMemo(()=>function(r){let n=ze(l=>(t(o=>[...o,l]),()=>t(o=>{let c=o.slice(),d=c.indexOf(l);return d!==-1&&c.splice(d,1),c}))),i=b.useMemo(()=>({register:n,slot:r.slot,name:r.name,props:r.props,value:r.value}),[n,r.slot,r.name,r.props,r.value]);return ge.createElement(Kh.Provider,{value:i},r.children)},[t])]}let r7="p";function n7(e,t){let r=b.useId(),n=Ib(),{id:i=`headlessui-description-${r}`,...l}=e,o=zA(),c=kn(t);xr(()=>o.register(i),[i,o.register]);let d=$s({...o.slot,disabled:n||!1}),h={ref:c,...o.props,id:i};return kr()({ourProps:h,theirProps:l,slot:d,defaultTag:r7,name:o.name||"Description"})}let a7=hr(n7),qA=Object.assign(a7,{});var Kf=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(Kf||{});let Vh=b.createContext(null);Vh.displayName="LabelContext";function HA(){let e=b.useContext(Vh);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,HA),t}return e}function FA(e){var t,r,n;let i=(r=(t=b.useContext(Vh))==null?void 0:t.value)!=null?r:void 0;return((n=void 0)!=null?n:0)>0?[i,...e].filter(Boolean).join(" "):i}function i7({inherit:e=!1}={}){let t=FA(),[r,n]=b.useState([]),i=e?[t,...r].filter(Boolean):r;return[i.length>0?i.join(" "):void 0,b.useMemo(()=>function(l){let o=ze(d=>(n(h=>[...h,d]),()=>n(h=>{let m=h.slice(),p=m.indexOf(d);return p!==-1&&m.splice(p,1),m}))),c=b.useMemo(()=>({register:o,slot:l.slot,name:l.name,props:l.props,value:l.value}),[o,l.slot,l.name,l.props,l.value]);return ge.createElement(Vh.Provider,{value:c},l.children)},[n])]}let s7="label";function l7(e,t){var r;let n=b.useId(),i=HA(),l=$A(),o=Ib(),{id:c=`headlessui-label-${n}`,htmlFor:d=l??((r=i.props)==null?void 0:r.htmlFor),passive:h=!1,...m}=e,p=kn(t);xr(()=>i.register(c),[c,i.register]);let v=ze(k=>{let _=k.currentTarget;if(!(k.target!==k.currentTarget&&Z8(k.target))&&(wy(_)&&k.preventDefault(),i.props&&"onClick"in i.props&&typeof i.props.onClick=="function"&&i.props.onClick(k),wy(_))){let j=document.getElementById(_.htmlFor);if(j){let N=j.getAttribute("disabled");if(N==="true"||N==="")return;let E=j.getAttribute("aria-disabled");if(E==="true"||E==="")return;(LA(j)&&(j.type==="file"||j.type==="radio"||j.type==="checkbox")||j.role==="radio"||j.role==="checkbox"||j.role==="switch")&&j.click(),j.focus({preventScroll:!0})}}}),x=$s({...i.slot,disabled:o||!1}),S={ref:p,...i.props,id:c,htmlFor:d,onClick:v};return h&&("onClick"in S&&(delete S.htmlFor,delete S.onClick),"onClick"in m&&delete m.onClick),kr()({ourProps:S,theirProps:m,slot:x,defaultTag:d?s7:"div",name:i.name||"Label"})}let o7=hr(l7),u7=Object.assign(o7,{}),c7=b.createContext(()=>{});function d7({value:e,children:t}){return ge.createElement(c7.Provider,{value:e},t)}let KA=class extends Map{constructor(t){super(),this.factory=t}get(t){let r=super.get(t);return r===void 0&&(r=this.factory(t),this.set(t,r)),r}};var f7=Object.defineProperty,h7=(e,t,r)=>t in e?f7(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,m7=(e,t,r)=>(h7(e,t+"",r),r),VA=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},mn=(e,t,r)=>(VA(e,t,"read from private field"),r?r.call(e):t.get(e)),mp=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},fk=(e,t,r,n)=>(VA(e,t,"write to private field"),t.set(e,r),r),Kn,ku,ju;let g7=class{constructor(t){mp(this,Kn,{}),mp(this,ku,new KA(()=>new Set)),mp(this,ju,new Set),m7(this,"disposables",Ka()),fk(this,Kn,t),Wn.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return mn(this,Kn)}subscribe(t,r){if(Wn.isServer)return()=>{};let n={selector:t,callback:r,current:t(mn(this,Kn))};return mn(this,ju).add(n),this.disposables.add(()=>{mn(this,ju).delete(n)})}on(t,r){return Wn.isServer?()=>{}:(mn(this,ku).get(t).add(r),this.disposables.add(()=>{mn(this,ku).get(t).delete(r)}))}send(t){let r=this.reduce(mn(this,Kn),t);if(r!==mn(this,Kn)){fk(this,Kn,r);for(let n of mn(this,ju)){let i=n.selector(mn(this,Kn));GA(n.current,i)||(n.current=i,n.callback(i))}for(let n of mn(this,ku).get(t.type))n(mn(this,Kn),t)}}};Kn=new WeakMap,ku=new WeakMap,ju=new WeakMap;function GA(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:gp(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:gp(e.entries(),t.entries()):hk(e)&&hk(t)?gp(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function gp(e,t){do{let r=e.next(),n=t.next();if(r.done&&n.done)return!0;if(r.done||n.done||!Object.is(r.value,n.value))return!1}while(!0)}function hk(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}var p7=Object.defineProperty,v7=(e,t,r)=>t in e?p7(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,mk=(e,t,r)=>(v7(e,typeof t!="symbol"?t+"":t,r),r),y7=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(y7||{});let b7={0(e,t){let r=t.id,n=e.stack,i=e.stack.indexOf(r);if(i!==-1){let l=e.stack.slice();return l.splice(i,1),l.push(r),n=l,{...e,stack:n}}return{...e,stack:[...e.stack,r]}},1(e,t){let r=t.id,n=e.stack.indexOf(r);if(n===-1)return e;let i=e.stack.slice();return i.splice(n,1),{...e,stack:i}}},x7=class YA extends g7{constructor(){super(...arguments),mk(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),mk(this,"selectors",{isTop:(t,r)=>t.stack[t.stack.length-1]===r,inStack:(t,r)=>t.stack.includes(r)})}static new(){return new YA({stack:[]})}reduce(t,r){return La(r.type,b7,t,r)}};const WA=new KA(()=>x7.new());var pp={exports:{}},vp={};var gk;function w7(){if(gk)return vp;gk=1;var e=eo();function t(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,i=e.useRef,l=e.useEffect,o=e.useMemo,c=e.useDebugValue;return vp.useSyncExternalStoreWithSelector=function(d,h,m,p,v){var x=i(null);if(x.current===null){var S={hasValue:!1,value:null};x.current=S}else S=x.current;x=o(function(){function _(A){if(!j){if(j=!0,N=A,A=p(A),v!==void 0&&S.hasValue){var T=S.value;if(v(T,A))return E=T}return E=A}if(T=E,r(N,A))return T;var C=p(A);return v!==void 0&&v(T,C)?(N=A,T):(N=A,E=C)}var j=!1,N,E,P=m===void 0?null:m;return[function(){return _(h())},P===null?void 0:function(){return _(P())}]},[h,m,p,v]);var k=n(d,x[0],x[1]);return l(function(){S.hasValue=!0,S.value=k},[k]),c(k),k},vp}var pk;function S7(){return pk||(pk=1,pp.exports=w7()),pp.exports}var _7=S7();function XA(e,t,r=GA){return _7.useSyncExternalStoreWithSelector(ze(n=>e.subscribe(k7,n)),ze(()=>e.state),ze(()=>e.state),ze(t),r)}function k7(e){return e}function oc(e,t){let r=b.useId(),n=WA.get(t),[i,l]=XA(n,b.useCallback(o=>[n.selectors.isTop(o,r),n.selectors.inStack(o,r)],[n,r]));return xr(()=>{if(e)return n.actions.push(r),()=>n.actions.pop(r)},[n,e,r]),e?l?i:!0:!1}let Sy=new Map,Cu=new Map;function vk(e){var t;let r=(t=Cu.get(e))!=null?t:0;return Cu.set(e,r+1),r!==0?()=>yk(e):(Sy.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>yk(e))}function yk(e){var t;let r=(t=Cu.get(e))!=null?t:1;if(r===1?Cu.delete(e):Cu.set(e,r-1),r!==1)return;let n=Sy.get(e);n&&(n["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",n["aria-hidden"]),e.inert=n.inert,Sy.delete(e))}function j7(e,{allowed:t,disallowed:r}={}){let n=oc(e,"inert-others");xr(()=>{var i,l;if(!n)return;let o=Ka();for(let d of(i=r?.())!=null?i:[])d&&o.add(vk(d));let c=(l=t?.())!=null?l:[];for(let d of c){if(!d)continue;let h=io(d);if(!h)continue;let m=d.parentElement;for(;m&&m!==h.body;){for(let p of m.children)c.some(v=>p.contains(v))||o.add(vk(p));m=m.parentElement}}return o.dispose},[n,t,r])}function E7(e,t,r){let n=Rs(i=>{let l=i.getBoundingClientRect();l.x===0&&l.y===0&&l.width===0&&l.height===0&&r()});b.useEffect(()=>{if(!e)return;let i=t===null?null:Jn(t)?t:t.current;if(!i)return;let l=Ka();if(typeof ResizeObserver<"u"){let o=new ResizeObserver(()=>n.current(i));o.observe(i),l.add(()=>o.disconnect())}if(typeof IntersectionObserver<"u"){let o=new IntersectionObserver(()=>n.current(i));o.observe(i),l.add(()=>o.disconnect())}return()=>l.dispose()},[t,n,e])}let Vf=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),O7=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Na=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(Na||{}),_y=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(_y||{}),N7=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(N7||{});function A7(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Vf)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}function T7(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(O7)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var ZA=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(ZA||{});function C7(e,t=0){var r;return e===((r=io(e))==null?void 0:r.body)?!1:La(t,{0(){return e.matches(Vf)},1(){let n=e;for(;n!==null;){if(n.matches(Vf))return!0;n=n.parentElement}return!1}})}var P7=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(P7||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Ma(e){e?.focus({preventScroll:!0})}let D7=["textarea","input"].join(",");function M7(e){var t,r;return(r=(t=e?.matches)==null?void 0:t.call(e,D7))!=null?r:!1}function R7(e,t=r=>r){return e.slice().sort((r,n)=>{let i=t(r),l=t(n);if(i===null||l===null)return 0;let o=i.compareDocumentPosition(l);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Pu(e,t,{sorted:r=!0,relativeTo:n=null,skipElements:i=[]}={}){let l=Array.isArray(e)?e.length>0?by(e[0]):document:by(e),o=Array.isArray(e)?r?R7(e):e:t&64?T7(e):A7(e);i.length>0&&o.length>1&&(o=o.filter(x=>!i.some(S=>S!=null&&"current"in S?S?.current===x:S===x))),n=n??l?.activeElement;let c=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,o.indexOf(n))-1;if(t&4)return Math.max(0,o.indexOf(n))+1;if(t&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),h=t&32?{preventScroll:!0}:{},m=0,p=o.length,v;do{if(m>=p||m+p<=0)return 0;let x=d+m;if(t&16)x=(x+p)%p;else{if(x<0)return 3;if(x>=p)return 1}v=o[x],v?.focus(h),m+=c}while(v!==CA(v));return t&6&&M7(v)&&v.select(),2}function JA(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function $7(){return/Android/gi.test(window.navigator.userAgent)}function bk(){return JA()||$7()}function sf(e,t,r,n){let i=Rs(r);b.useEffect(()=>{if(!e)return;function l(o){i.current(o)}return document.addEventListener(t,l,n),()=>document.removeEventListener(t,l,n)},[e,t,n])}function QA(e,t,r,n){let i=Rs(r);b.useEffect(()=>{if(!e)return;function l(o){i.current(o)}return window.addEventListener(t,l,n),()=>window.removeEventListener(t,l,n)},[e,t,n])}const xk=30;function L7(e,t,r){let n=Rs(r),i=b.useCallback(function(c,d){if(c.defaultPrevented)return;let h=d(c);if(h===null||!h.getRootNode().contains(h)||!h.isConnected)return;let m=(function p(v){return typeof v=="function"?p(v()):Array.isArray(v)||v instanceof Set?v:[v]})(t);for(let p of m)if(p!==null&&(p.contains(h)||c.composed&&c.composedPath().includes(p)))return;return!C7(h,ZA.Loose)&&h.tabIndex!==-1&&c.preventDefault(),n.current(c,h)},[n,t]),l=b.useRef(null);sf(e,"pointerdown",c=>{var d,h;bk()||(l.current=((h=(d=c.composedPath)==null?void 0:d.call(c))==null?void 0:h[0])||c.target)},!0),sf(e,"pointerup",c=>{if(bk()||!l.current)return;let d=l.current;return l.current=null,i(c,()=>d)},!0);let o=b.useRef({x:0,y:0});sf(e,"touchstart",c=>{o.current.x=c.touches[0].clientX,o.current.y=c.touches[0].clientY},!0),sf(e,"touchend",c=>{let d={x:c.changedTouches[0].clientX,y:c.changedTouches[0].clientY};if(!(Math.abs(d.x-o.current.x)>=xk||Math.abs(d.y-o.current.y)>=xk))return i(c,()=>Ci(c.target)?c.target:null)},!0),QA(e,"blur",c=>i(c,()=>W8(window.document.activeElement)?window.document.activeElement:null),!0)}function Ub(...e){return b.useMemo(()=>io(...e),[...e])}function eT(e,t,r,n){let i=Rs(r);b.useEffect(()=>{e=e??window;function l(o){i.current(o)}return e.addEventListener(t,l,n),()=>e.removeEventListener(t,l,n)},[e,t,n])}function I7(e,t){return b.useMemo(()=>{var r;if(e.type)return e.type;let n=(r=e.as)!=null?r:"button";if(typeof n=="string"&&n.toLowerCase()==="button"||t?.tagName==="BUTTON"&&!t.hasAttribute("type"))return"button"},[e.type,e.as,t])}function U7(e){return b.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}function z7(e,t){let r=e(),n=new Set;return{getSnapshot(){return r},subscribe(i){return n.add(i),()=>n.delete(i)},dispatch(i,...l){let o=t[i].call(r,...l);o&&(r=o,n.forEach(c=>c()))}}}function B7(){let e;return{before({doc:t}){var r;let n=t.documentElement,i=(r=t.defaultView)!=null?r:window;e=Math.max(0,i.innerWidth-n.clientWidth)},after({doc:t,d:r}){let n=t.documentElement,i=Math.max(0,n.clientWidth-n.offsetWidth),l=Math.max(0,e-i);r.style(n,"paddingRight",`${l}px`)}}}function q7(){return JA()?{before({doc:e,d:t,meta:r}){function n(i){for(let l of r().containers)for(let o of l())if(o.contains(i))return!0;return!1}t.microTask(()=>{var i;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let c=Ka();c.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>c.dispose()))}let l=(i=window.scrollY)!=null?i:window.pageYOffset,o=null;t.addEventListener(e,"click",c=>{if(Ci(c.target))try{let d=c.target.closest("a");if(!d)return;let{hash:h}=new URL(d.href),m=e.querySelector(h);Ci(m)&&!n(m)&&(o=m)}catch{}},!0),t.group(c=>{t.addEventListener(e,"touchstart",d=>{if(c.dispose(),Ci(d.target)&&Y8(d.target))if(n(d.target)){let h=d.target;for(;h.parentElement&&n(h.parentElement);)h=h.parentElement;c.style(h,"overscrollBehavior","contain")}else c.style(d.target,"touchAction","none")})}),t.addEventListener(e,"touchmove",c=>{if(Ci(c.target)){if(LA(c.target))return;if(n(c.target)){let d=c.target;for(;d.parentElement&&d.dataset.headlessuiPortal!==""&&!(d.scrollHeight>d.clientHeight||d.scrollWidth>d.clientWidth);)d=d.parentElement;d.dataset.headlessuiPortal===""&&c.preventDefault()}else c.preventDefault()}},{passive:!1}),t.add(()=>{var c;let d=(c=window.scrollY)!=null?c:window.pageYOffset;l!==d&&window.scrollTo(0,l),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function H7(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function wk(e){let t={};for(let r of e)Object.assign(t,r(t));return t}let bs=z7(()=>new Map,{PUSH(e,t){var r;let n=(r=this.get(e))!=null?r:{doc:e,count:0,d:Ka(),meta:new Set,computedMeta:{}};return n.count++,n.meta.add(t),n.computedMeta=wk(n.meta),this.set(e,n),this},POP(e,t){let r=this.get(e);return r&&(r.count--,r.meta.delete(t),r.computedMeta=wk(r.meta)),this},SCROLL_PREVENT(e){let t={doc:e.doc,d:e.d,meta(){return e.computedMeta}},r=[q7(),B7(),H7()];r.forEach(({before:n})=>n?.(t)),r.forEach(({after:n})=>n?.(t))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});bs.subscribe(()=>{let e=bs.getSnapshot(),t=new Map;for(let[r]of e)t.set(r,r.documentElement.style.overflow);for(let r of e.values()){let n=t.get(r.doc)==="hidden",i=r.count!==0;(i&&!n||!i&&n)&&bs.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&bs.dispatch("TEARDOWN",r)}});function F7(e,t,r=()=>({containers:[]})){let n=U7(bs),i=t?n.get(t):void 0,l=i?i.count>0:!1;return xr(()=>{if(!(!t||!e))return bs.dispatch("PUSH",t,r),()=>bs.dispatch("POP",t,r)},[e,t]),l}function K7(e,t,r=()=>[document.body]){let n=oc(e,"scroll-lock");F7(n,t,i=>{var l;return{containers:[...(l=i.containers)!=null?l:[],r]}})}function V7(e=0){let[t,r]=b.useState(e),n=b.useCallback(d=>r(d),[]),i=b.useCallback(d=>r(h=>h|d),[]),l=b.useCallback(d=>(t&d)===d,[t]),o=b.useCallback(d=>r(h=>h&~d),[]),c=b.useCallback(d=>r(h=>h^d),[]);return{flags:t,setFlag:n,addFlag:i,hasFlag:l,removeFlag:o,toggleFlag:c}}var G7={},Sk,_k;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((Sk=process==null?void 0:G7)==null?void 0:Sk.NODE_ENV)==="test"&&typeof((_k=Element?.prototype)==null?void 0:_k.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var Y7=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(Y7||{});function W7(e){let t={};for(let r in e)e[r]===!0&&(t[`data-${r}`]="");return t}function X7(e,t,r,n){let[i,l]=b.useState(r),{hasFlag:o,addFlag:c,removeFlag:d}=V7(e&&i?3:0),h=b.useRef(!1),m=b.useRef(!1),p=Ms();return xr(()=>{var v;if(e){if(r&&l(!0),!t){r&&c(3);return}return(v=n?.start)==null||v.call(n,r),Z7(t,{inFlight:h,prepare(){m.current?m.current=!1:m.current=h.current,h.current=!0,!m.current&&(r?(c(3),d(4)):(c(4),d(2)))},run(){m.current?r?(d(3),c(4)):(d(4),c(3)):r?d(1):c(1)},done(){var x;m.current&&eI(t)||(h.current=!1,d(7),r||l(!1),(x=n?.end)==null||x.call(n,r))}})}},[e,r,t,p]),e?[i,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[r,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function Z7(e,{prepare:t,run:r,done:n,inFlight:i}){let l=Ka();return Q7(e,{prepare:t,inFlight:i}),l.nextFrame(()=>{r(),l.requestAnimationFrame(()=>{l.add(J7(e,n))})}),l.dispose}function J7(e,t){var r,n;let i=Ka();if(!e)return i.dispose;let l=!1;i.add(()=>{l=!0});let o=(n=(r=e.getAnimations)==null?void 0:r.call(e).filter(c=>c instanceof CSSTransition))!=null?n:[];return o.length===0?(t(),i.dispose):(Promise.allSettled(o.map(c=>c.finished)).then(()=>{l||t()}),i.dispose)}function Q7(e,{inFlight:t,prepare:r}){if(t!=null&&t.current){r();return}let n=e.style.transition;e.style.transition="none",r(),e.offsetHeight,e.style.transition=n}function eI(e){var t,r;return((r=(t=e.getAnimations)==null?void 0:t.call(e))!=null?r:[]).some(n=>n instanceof CSSTransition&&n.playState!=="finished")}function zb(e,t){let r=b.useRef([]),n=ze(e);b.useEffect(()=>{let i=[...r.current];for(let[l,o]of t.entries())if(r.current[l]!==o){let c=n(t,i);return r.current=t,c}},[n,...t])}let Gh=b.createContext(null);Gh.displayName="OpenClosedContext";var $n=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))($n||{});function Yh(){return b.useContext(Gh)}function tI({value:e,children:t}){return ge.createElement(Gh.Provider,{value:e},t)}function rI({children:e}){return ge.createElement(Gh.Provider,{value:null},e)}function nI(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let Ni=[];nI(()=>{function e(t){if(!Ci(t.target)||t.target===document.body||Ni[0]===t.target)return;let r=t.target;r=r.closest(Vf),Ni.unshift(r??t.target),Ni=Ni.filter(n=>n!=null&&n.isConnected),Ni.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function tT(e){let t=ze(e),r=b.useRef(!1);b.useEffect(()=>(r.current=!1,()=>{r.current=!0,Fh(()=>{r.current&&t()})}),[t])}let rT=b.createContext(!1);function aI(){return b.useContext(rT)}function kk(e){return ge.createElement(rT.Provider,{value:e.force},e.children)}function iI(e){let t=aI(),r=b.useContext(aT),[n,i]=b.useState(()=>{var l;if(!t&&r!==null)return(l=r.current)!=null?l:null;if(Wn.isServer)return null;let o=e?.getElementById("headlessui-portal-root");if(o)return o;if(e===null)return null;let c=e.createElement("div");return c.setAttribute("id","headlessui-portal-root"),e.body.appendChild(c)});return b.useEffect(()=>{n!==null&&(e!=null&&e.body.contains(n)||e==null||e.body.appendChild(n))},[n,e]),b.useEffect(()=>{t||r!==null&&i(r.current)},[r,i,t]),n}let nT=b.Fragment,sI=hr(function(e,t){let{ownerDocument:r=null,...n}=e,i=b.useRef(null),l=kn(e7(v=>{i.current=v}),t),o=Ub(i.current),c=r??o,d=iI(c),h=b.useContext(ky),m=Ms(),p=kr();return tT(()=>{var v;d&&d.childNodes.length<=0&&((v=d.parentElement)==null||v.removeChild(d))}),d?ao.createPortal(ge.createElement("div",{"data-headlessui-portal":"",ref:v=>{m.dispose(),h&&v&&m.add(h.register(v))}},p({ourProps:{ref:l},theirProps:n,slot:{},defaultTag:nT,name:"Portal"})),d):null});function lI(e,t){let r=kn(t),{enabled:n=!0,ownerDocument:i,...l}=e,o=kr();return n?ge.createElement(sI,{...l,ownerDocument:i,ref:r}):o({ourProps:{ref:r},theirProps:l,slot:{},defaultTag:nT,name:"Portal"})}let oI=b.Fragment,aT=b.createContext(null);function uI(e,t){let{target:r,...n}=e,i={ref:kn(t)},l=kr();return ge.createElement(aT.Provider,{value:r},l({ourProps:i,theirProps:n,defaultTag:oI,name:"Popover.Group"}))}let ky=b.createContext(null);function cI(){let e=b.useContext(ky),t=b.useRef([]),r=ze(l=>(t.current.push(l),e&&e.register(l),()=>n(l))),n=ze(l=>{let o=t.current.indexOf(l);o!==-1&&t.current.splice(o,1),e&&e.unregister(l)}),i=b.useMemo(()=>({register:r,unregister:n,portals:t}),[r,n,t]);return[t,b.useMemo(()=>function({children:l}){return ge.createElement(ky.Provider,{value:i},l)},[i])]}let dI=hr(lI),iT=hr(uI),fI=Object.assign(dI,{Group:iT});function hI(e,t=typeof document<"u"?document.defaultView:null,r){let n=oc(e,"escape");eT(t,"keydown",i=>{n&&(i.defaultPrevented||i.key===Kf.Escape&&r(i))})}function mI(){var e;let[t]=b.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[r,n]=b.useState((e=t?.matches)!=null?e:!1);return xr(()=>{if(!t)return;function i(l){n(l.matches)}return t.addEventListener("change",i),()=>t.removeEventListener("change",i)},[t]),r}function gI({defaultContainers:e=[],portals:t,mainTreeNode:r}={}){let n=ze(()=>{var i,l;let o=io(r),c=[];for(let d of e)d!==null&&(Da(d)?c.push(d):"current"in d&&Da(d.current)&&c.push(d.current));if(t!=null&&t.current)for(let d of t.current)c.push(d);for(let d of(i=o?.querySelectorAll("html > *, body > *"))!=null?i:[])d!==document.body&&d!==document.head&&Da(d)&&d.id!=="headlessui-portal-root"&&(r&&(d.contains(r)||d.contains((l=r?.getRootNode())==null?void 0:l.host))||c.some(h=>d.contains(h))||c.push(d));return c});return{resolveContainers:n,contains:ze(i=>n().some(l=>l.contains(i)))}}let sT=b.createContext(null);function jk({children:e,node:t}){let[r,n]=b.useState(null),i=lT(t??r);return ge.createElement(sT.Provider,{value:i},e,i===null&&ge.createElement(Uu,{features:Kl.Hidden,ref:l=>{var o,c;if(l){for(let d of(c=(o=io(l))==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?c:[])if(d!==document.body&&d!==document.head&&Da(d)&&d!=null&&d.contains(l)){n(d);break}}}}))}function lT(e=null){var t;return(t=b.useContext(sT))!=null?t:e}function pI(){let e=typeof document>"u";return"useSyncExternalStore"in Wv?(t=>t.useSyncExternalStore)(Wv)(()=>()=>{},()=>!1,()=>!e):!1}function Wh(){let e=pI(),[t,r]=b.useState(Wn.isHandoffComplete);return t&&Wn.isHandoffComplete===!1&&r(!1),b.useEffect(()=>{t!==!0&&r(!0)},[t]),b.useEffect(()=>Wn.handoff(),[]),e?!1:t}function Bb(){let e=b.useRef(!1);return xr(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var Eu=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Eu||{});function vI(){let e=b.useRef(0);return QA(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function oT(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let r of e.current)Da(r.current)&&t.add(r.current);return t}let yI="div";var ps=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(ps||{});function bI(e,t){let r=b.useRef(null),n=kn(r,t),{initialFocus:i,initialFocusFallback:l,containers:o,features:c=15,...d}=e;Wh()||(c=0);let h=Ub(r.current);_I(c,{ownerDocument:h});let m=kI(c,{ownerDocument:h,container:r,initialFocus:i,initialFocusFallback:l});jI(c,{ownerDocument:h,container:r,containers:o,previousActiveElement:m});let p=vI(),v=ze(N=>{if(!Jn(r.current))return;let E=r.current;(P=>P())(()=>{La(p.current,{[Eu.Forwards]:()=>{Pu(E,Na.First,{skipElements:[N.relatedTarget,l]})},[Eu.Backwards]:()=>{Pu(E,Na.Last,{skipElements:[N.relatedTarget,l]})}})})}),x=oc(!!(c&2),"focus-trap#tab-lock"),S=Ms(),k=b.useRef(!1),_={ref:n,onKeyDown(N){N.key=="Tab"&&(k.current=!0,S.requestAnimationFrame(()=>{k.current=!1}))},onBlur(N){if(!(c&4))return;let E=oT(o);Jn(r.current)&&E.add(r.current);let P=N.relatedTarget;Ci(P)&&P.dataset.headlessuiFocusGuard!=="true"&&(uT(E,P)||(k.current?Pu(r.current,La(p.current,{[Eu.Forwards]:()=>Na.Next,[Eu.Backwards]:()=>Na.Previous})|Na.WrapAround,{relativeTo:N.target}):Ci(N.target)&&Ma(N.target)))}},j=kr();return ge.createElement(ge.Fragment,null,x&&ge.createElement(Uu,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:v,features:Kl.Focusable}),j({ourProps:_,theirProps:d,defaultTag:yI,name:"FocusTrap"}),x&&ge.createElement(Uu,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:v,features:Kl.Focusable}))}let xI=hr(bI),wI=Object.assign(xI,{features:ps});function SI(e=!0){let t=b.useRef(Ni.slice());return zb(([r],[n])=>{n===!0&&r===!1&&Fh(()=>{t.current.splice(0)}),n===!1&&r===!0&&(t.current=Ni.slice())},[e,Ni,t]),ze(()=>{var r;return(r=t.current.find(n=>n!=null&&n.isConnected))!=null?r:null})}function _I(e,{ownerDocument:t}){let r=!!(e&8),n=SI(r);zb(()=>{r||j8(t?.body)&&Ma(n())},[r]),tT(()=>{r&&Ma(n())})}function kI(e,{ownerDocument:t,container:r,initialFocus:n,initialFocusFallback:i}){let l=b.useRef(null),o=oc(!!(e&1),"focus-trap#initial-focus"),c=Bb();return zb(()=>{if(e===0)return;if(!o){i!=null&&i.current&&Ma(i.current);return}let d=r.current;d&&Fh(()=>{if(!c.current)return;let h=t?.activeElement;if(n!=null&&n.current){if(n?.current===h){l.current=h;return}}else if(d.contains(h)){l.current=h;return}if(n!=null&&n.current)Ma(n.current);else{if(e&16){if(Pu(d,Na.First|Na.AutoFocus)!==_y.Error)return}else if(Pu(d,Na.First)!==_y.Error)return;if(i!=null&&i.current&&(Ma(i.current),t?.activeElement===i.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}l.current=t?.activeElement})},[i,o,e]),l}function jI(e,{ownerDocument:t,container:r,containers:n,previousActiveElement:i}){let l=Bb(),o=!!(e&4);eT(t?.defaultView,"focus",c=>{if(!o||!l.current)return;let d=oT(n);Jn(r.current)&&d.add(r.current);let h=i.current;if(!h)return;let m=c.target;Jn(m)?uT(d,m)?(i.current=m,Ma(m)):(c.preventDefault(),c.stopPropagation(),Ma(h)):Ma(i.current)},!0)}function uT(e,t){for(let r of e)if(r.contains(t))return!0;return!1}function cT(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||!Tu((t=e.as)!=null?t:fT)||ge.Children.count(e.children)===1}let Xh=b.createContext(null);Xh.displayName="TransitionContext";var EI=(e=>(e.Visible="visible",e.Hidden="hidden",e))(EI||{});function OI(){let e=b.useContext(Xh);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function NI(){let e=b.useContext(Zh);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let Zh=b.createContext(null);Zh.displayName="NestingContext";function Jh(e){return"children"in e?Jh(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function dT(e,t){let r=Rs(e),n=b.useRef([]),i=Bb(),l=Ms(),o=ze((x,S=Ti.Hidden)=>{let k=n.current.findIndex(({el:_})=>_===x);k!==-1&&(La(S,{[Ti.Unmount](){n.current.splice(k,1)},[Ti.Hidden](){n.current[k].state="hidden"}}),l.microTask(()=>{var _;!Jh(n)&&i.current&&((_=r.current)==null||_.call(r))}))}),c=ze(x=>{let S=n.current.find(({el:k})=>k===x);return S?S.state!=="visible"&&(S.state="visible"):n.current.push({el:x,state:"visible"}),()=>o(x,Ti.Unmount)}),d=b.useRef([]),h=b.useRef(Promise.resolve()),m=b.useRef({enter:[],leave:[]}),p=ze((x,S,k)=>{d.current.splice(0),t&&(t.chains.current[S]=t.chains.current[S].filter(([_])=>_!==x)),t?.chains.current[S].push([x,new Promise(_=>{d.current.push(_)})]),t?.chains.current[S].push([x,new Promise(_=>{Promise.all(m.current[S].map(([j,N])=>N)).then(()=>_())})]),S==="enter"?h.current=h.current.then(()=>t?.wait.current).then(()=>k(S)):k(S)}),v=ze((x,S,k)=>{Promise.all(m.current[S].splice(0).map(([_,j])=>j)).then(()=>{var _;(_=d.current.shift())==null||_()}).then(()=>k(S))});return b.useMemo(()=>({children:n,register:c,unregister:o,onStart:p,onStop:v,wait:h,chains:m}),[c,o,n,p,v,m,h])}let fT=b.Fragment,hT=Ff.RenderStrategy;function AI(e,t){var r,n;let{transition:i=!0,beforeEnter:l,afterEnter:o,beforeLeave:c,afterLeave:d,enter:h,enterFrom:m,enterTo:p,entered:v,leave:x,leaveFrom:S,leaveTo:k,..._}=e,[j,N]=b.useState(null),E=b.useRef(null),P=cT(e),A=kn(...P?[E,t,N]:t===null?[]:[t]),T=(r=_.unmount)==null||r?Ti.Unmount:Ti.Hidden,{show:C,appear:M,initial:$}=OI(),[R,I]=b.useState(C?"visible":"hidden"),q=NI(),{register:ae,unregister:te}=q;xr(()=>ae(E),[ae,E]),xr(()=>{if(T===Ti.Hidden&&E.current){if(C&&R!=="visible"){I("visible");return}return La(R,{hidden:()=>te(E),visible:()=>ae(E)})}},[R,E,ae,te,C,T]);let ie=Wh();xr(()=>{if(P&&ie&&R==="visible"&&E.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[E,R,ie,P]);let B=$&&!M,K=M&&C&&$,le=b.useRef(!1),W=dT(()=>{le.current||(I("hidden"),te(E))},q),de=ze(me=>{le.current=!0;let Ee=me?"enter":"leave";W.onStart(E,Ee,Z=>{Z==="enter"?l?.():Z==="leave"&&c?.()})}),L=ze(me=>{let Ee=me?"enter":"leave";le.current=!1,W.onStop(E,Ee,Z=>{Z==="enter"?o?.():Z==="leave"&&d?.()}),Ee==="leave"&&!Jh(W)&&(I("hidden"),te(E))});b.useEffect(()=>{P&&i||(de(C),L(C))},[C,P,i]);let H=!(!i||!P||!ie||B),[,X]=X7(H,j,C,{start:de,end:L}),oe=_i({ref:A,className:((n=xy(_.className,K&&h,K&&m,X.enter&&h,X.enter&&X.closed&&m,X.enter&&!X.closed&&p,X.leave&&x,X.leave&&!X.closed&&S,X.leave&&X.closed&&k,!X.transition&&C&&v))==null?void 0:n.trim())||void 0,...W7(X)}),fe=0;R==="visible"&&(fe|=$n.Open),R==="hidden"&&(fe|=$n.Closed),C&&R==="hidden"&&(fe|=$n.Opening),!C&&R==="visible"&&(fe|=$n.Closing);let ce=kr();return ge.createElement(Zh.Provider,{value:W},ge.createElement(tI,{value:fe},ce({ourProps:oe,theirProps:_,defaultTag:fT,features:hT,visible:R==="visible",name:"Transition.Child"})))}function TI(e,t){let{show:r,appear:n=!1,unmount:i=!0,...l}=e,o=b.useRef(null),c=cT(e),d=kn(...c?[o,t]:t===null?[]:[t]);Wh();let h=Yh();if(r===void 0&&h!==null&&(r=(h&$n.Open)===$n.Open),r===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[m,p]=b.useState(r?"visible":"hidden"),v=dT(()=>{r||p("hidden")}),[x,S]=b.useState(!0),k=b.useRef([r]);xr(()=>{x!==!1&&k.current[k.current.length-1]!==r&&(k.current.push(r),S(!1))},[k,r]);let _=b.useMemo(()=>({show:r,appear:n,initial:x}),[r,n,x]);xr(()=>{r?p("visible"):!Jh(v)&&o.current!==null&&p("hidden")},[r,v]);let j={unmount:i},N=ze(()=>{var A;x&&S(!1),(A=e.beforeEnter)==null||A.call(e)}),E=ze(()=>{var A;x&&S(!1),(A=e.beforeLeave)==null||A.call(e)}),P=kr();return ge.createElement(Zh.Provider,{value:v},ge.createElement(Xh.Provider,{value:_},P({ourProps:{...j,as:b.Fragment,children:ge.createElement(mT,{ref:d,...j,...l,beforeEnter:N,beforeLeave:E})},theirProps:{},defaultTag:b.Fragment,features:hT,visible:m==="visible",name:"Transition"})))}function CI(e,t){let r=b.useContext(Xh)!==null,n=Yh()!==null;return ge.createElement(ge.Fragment,null,!r&&n?ge.createElement(jy,{ref:t,...e}):ge.createElement(mT,{ref:t,...e}))}let jy=hr(TI),mT=hr(AI),qb=hr(CI),PI=Object.assign(jy,{Child:qb,Root:jy});var DI=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(DI||{}),MI=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(MI||{});let RI={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},Hb=b.createContext(null);Hb.displayName="DialogContext";function Qh(e){let t=b.useContext(Hb);if(t===null){let r=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Qh),r}return t}function $I(e,t){return La(t.type,RI,e,t)}let Ek=hr(function(e,t){let r=b.useId(),{id:n=`headlessui-dialog-${r}`,open:i,onClose:l,initialFocus:o,role:c="dialog",autoFocus:d=!0,__demoMode:h=!1,unmount:m=!1,...p}=e,v=b.useRef(!1);c=(function(){return c==="dialog"||c==="alertdialog"?c:(v.current||(v.current=!0,console.warn(`Invalid role [${c}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")})();let x=Yh();i===void 0&&x!==null&&(i=(x&$n.Open)===$n.Open);let S=b.useRef(null),k=kn(S,t),_=Ub(S.current),j=i?0:1,[N,E]=b.useReducer($I,{titleId:null,descriptionId:null,panelRef:b.createRef()}),P=ze(()=>l(!1)),A=ze(X=>E({type:0,id:X})),T=Wh()?j===0:!1,[C,M]=cI(),$={get current(){var X;return(X=N.panelRef.current)!=null?X:S.current}},R=lT(),{resolveContainers:I}=gI({mainTreeNode:R,portals:C,defaultContainers:[$]}),q=x!==null?(x&$n.Closing)===$n.Closing:!1;j7(h||q?!1:T,{allowed:ze(()=>{var X,oe;return[(oe=(X=S.current)==null?void 0:X.closest("[data-headlessui-portal]"))!=null?oe:null]}),disallowed:ze(()=>{var X;return[(X=R?.closest("body > *:not(#headlessui-portal-root)"))!=null?X:null]})});let ae=WA.get(null);xr(()=>{if(T)return ae.actions.push(n),()=>ae.actions.pop(n)},[ae,n,T]);let te=XA(ae,b.useCallback(X=>ae.selectors.isTop(X,n),[ae,n]));L7(te,I,X=>{X.preventDefault(),P()}),hI(te,_?.defaultView,X=>{X.preventDefault(),X.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),P()}),K7(h||q?!1:T,_,I),E7(T,S,P);let[ie,B]=BA(),K=b.useMemo(()=>[{dialogState:j,close:P,setTitleId:A,unmount:m},N],[j,P,A,m,N]),le=$s({open:j===0}),W={ref:k,id:n,role:c,tabIndex:-1,"aria-modal":h?void 0:j===0?!0:void 0,"aria-labelledby":N.titleId,"aria-describedby":ie,unmount:m},de=!mI(),L=ps.None;T&&!h&&(L|=ps.RestoreFocus,L|=ps.TabLock,d&&(L|=ps.AutoFocus),de&&(L|=ps.InitialFocus));let H=kr();return ge.createElement(rI,null,ge.createElement(kk,{force:!0},ge.createElement(fI,null,ge.createElement(Hb.Provider,{value:K},ge.createElement(iT,{target:S},ge.createElement(kk,{force:!1},ge.createElement(B,{slot:le},ge.createElement(M,null,ge.createElement(wI,{initialFocus:o,initialFocusFallback:S,containers:I,features:L},ge.createElement(d7,{value:P},H({ourProps:W,theirProps:p,slot:le,defaultTag:LI,features:II,visible:j===0,name:"Dialog"})))))))))))}),LI="div",II=Ff.RenderStrategy|Ff.Static;function UI(e,t){let{transition:r=!1,open:n,...i}=e,l=Yh(),o=e.hasOwnProperty("open")||l!==null,c=e.hasOwnProperty("onClose");if(!o&&!c)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!o)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!c)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!l&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(n!==void 0||r)&&!i.static?ge.createElement(jk,null,ge.createElement(PI,{show:n,transition:r,unmount:i.unmount},ge.createElement(Ek,{ref:t,...i}))):ge.createElement(jk,null,ge.createElement(Ek,{ref:t,open:n,...i}))}let zI="div";function BI(e,t){let r=b.useId(),{id:n=`headlessui-dialog-panel-${r}`,transition:i=!1,...l}=e,[{dialogState:o,unmount:c},d]=Qh("Dialog.Panel"),h=kn(t,d.panelRef),m=$s({open:o===0}),p=ze(_=>{_.stopPropagation()}),v={ref:h,id:n,onClick:p},x=i?qb:b.Fragment,S=i?{unmount:c}:{},k=kr();return ge.createElement(x,{...S},k({ourProps:v,theirProps:l,slot:m,defaultTag:zI,name:"Dialog.Panel"}))}let qI="div";function HI(e,t){let{transition:r=!1,...n}=e,[{dialogState:i,unmount:l}]=Qh("Dialog.Backdrop"),o=$s({open:i===0}),c={ref:t,"aria-hidden":!0},d=r?qb:b.Fragment,h=r?{unmount:l}:{},m=kr();return ge.createElement(d,{...h},m({ourProps:c,theirProps:n,slot:o,defaultTag:qI,name:"Dialog.Backdrop"}))}let FI="h2";function KI(e,t){let r=b.useId(),{id:n=`headlessui-dialog-title-${r}`,...i}=e,[{dialogState:l,setTitleId:o}]=Qh("Dialog.Title"),c=kn(t);b.useEffect(()=>(o(n),()=>o(null)),[n,o]);let d=$s({open:l===0}),h={ref:c,id:n};return kr()({ourProps:h,theirProps:i,slot:d,defaultTag:FI,name:"Dialog.Title"})}let VI=hr(UI),GI=hr(BI);hr(HI);let YI=hr(KI),wt=Object.assign(VI,{Panel:GI,Title:YI,Description:qA}),Fb=b.createContext(null);Fb.displayName="GroupContext";let WI=b.Fragment;function XI(e){var t;let[r,n]=b.useState(null),[i,l]=i7(),[o,c]=BA(),d=b.useMemo(()=>({switch:r,setSwitch:n}),[r,n]),h={},m=e,p=kr();return ge.createElement(c,{name:"Switch.Description",value:o},ge.createElement(l,{name:"Switch.Label",value:i,props:{htmlFor:(t=d.switch)==null?void 0:t.id,onClick(v){r&&(wy(v.currentTarget)&&v.preventDefault(),r.click(),r.focus({preventScroll:!0}))}}},ge.createElement(Fb.Provider,{value:d},p({ourProps:h,theirProps:m,slot:{},defaultTag:WI,name:"Switch.Group"}))))}let ZI="button";function JI(e,t){var r;let n=b.useId(),i=$A(),l=Ib(),{id:o=i||`headlessui-switch-${n}`,disabled:c=l||!1,checked:d,defaultChecked:h,onChange:m,name:p,value:v,form:x,autoFocus:S=!1,...k}=e,_=b.useContext(Fb),[j,N]=b.useState(null),E=b.useRef(null),P=kn(E,t,_===null?null:_.setSwitch,N),A=L8(h),[T,C]=$8(d,m,A??!1),M=Ms(),[$,R]=b.useState(!1),I=ze(()=>{R(!0),C?.(!T),M.nextFrame(()=>{R(!1)})}),q=ze(me=>{if(J8(me.currentTarget))return me.preventDefault();me.preventDefault(),I()}),ae=ze(me=>{me.key===Kf.Space?(me.preventDefault(),I()):me.key===Kf.Enter&&I8(me.currentTarget)}),te=ze(me=>me.preventDefault()),ie=FA(),B=t7(),{isFocusVisible:K,focusProps:le}=w8({autoFocus:S}),{isHovered:W,hoverProps:de}=x8({isDisabled:c}),{pressed:L,pressProps:H}=N8({disabled:c}),X=$s({checked:T,disabled:c,hover:W,focus:K,active:L,autofocus:S,changing:$}),oe=D8({id:o,ref:P,role:"switch",type:I7(e,j),tabIndex:e.tabIndex===-1?0:(r=e.tabIndex)!=null?r:0,"aria-checked":T,"aria-labelledby":ie,"aria-describedby":B,disabled:c||void 0,autoFocus:S,onClick:q,onKeyUp:ae,onKeyPress:te},le,de,H),fe=b.useCallback(()=>{if(A!==void 0)return C?.(A)},[C,A]),ce=kr();return ge.createElement(ge.Fragment,null,p!=null&&ge.createElement(F8,{disabled:c,data:{[p]:v||"on"},overrides:{type:"checkbox",checked:T},form:x,onReset:fe}),ce({ourProps:oe,theirProps:k,slot:X,defaultTag:ZI,name:"Switch"}))}let QI=hr(JI),eU=XI,tU=u7,rU=qA,nU=Object.assign(QI,{Group:eU,Label:tU,Description:rU});function gT({isOpen:e,onClose:t,date:r,orders:n=[],monthlyInbound:i,updateDateInbound:l}){const{updateDailyManifest:o,addOrdersBulk:c,removeOrder:d,updateOrder:h}=_n(),{schedulerSettings:m,activeSku:p,bottleDefinitions:v}=St(),{getProductSpecs:x}=sc(),[S,k]=b.useState(null),[_,j]=b.useState({}),[N,E]=b.useState(""),[P,A]=b.useState(null),T=[...n].sort((W,de)=>{const L=H=>!H.time||H.time==="00:00"?"ZZZZ":H.time;return L(W).localeCompare(L(de))}),C=W=>"1.0",M=W=>1,$=W=>{if(!m)return"TBD (Settings)";const L=T[W]?.sku||p,H=x(L)||v?.[L];if(!H)return"TBD (No SKU)";const X=Number(H.productionRate),oe=Number(H.bottlesPerTruck);if(!X||X<=0)return"TBD (No Rate)";if(!oe)return"TBD (No Cap)";const fe=pA(W,m.shiftStartTime||"06:00",oe,X,Number(H.bottlesPerCase)||1);return fe?Iu(fe):"TBD"},R=(W,de)=>{if(!l)return;const L=de.length;l(W,L)},I=W=>{if(!confirm("Are you sure you want to cancel this order?"))return;const de=n.find(H=>H.id===W);d(r,W,de?.po);const L=n.filter(H=>H.id!==W);R(r,L)},q=W=>{A(W);const de=In(new Date(r+"T00:00:00"),1);E(st(de))},ae=()=>{if(!N||!P)return;const W=n.find(H=>H.id===P);if(!W)return;const de=S===P?{...W,..._,date:N}:{...W,date:N};c([de]),d(r,P,W.po);const L=n.filter(H=>H.id!==P);if(R(r,L),l&&i){const H=Number(i[N]||0),X=M(de.qty);l(N,H+X)}A(null),E(""),k(null)},[te,ie]=b.useState(!1),B=()=>{const W=Math.round(Number(i[r]||0));let de=`Replenishment Plan - ${new Date(r+"T00:00:00").toLocaleDateString()}
`;de+=`Total Planned Trucks: ${W}
`,de+=`--------------------------------
`;for(let L=0;L<W;L++)de+=`Load #${L+1}: ${$(L)}
`;navigator.clipboard.writeText(de),ie(!0),setTimeout(()=>ie(!1),2e3)},K=W=>{k(W.id),j({...W})},le=()=>{if(!S)return;const W={...n.find(L=>L.id===S),..._};h(r,W);const de=n.map(L=>L.id===S?W:L);R(r,de),k(null)};return g.jsxs(wt,{open:e,onClose:t,className:"relative z-50",children:[g.jsx("div",{className:"fixed inset-0 bg-black/30","aria-hidden":"true"}),g.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:g.jsxs(wt.Panel,{className:"w-full max-w-3xl bg-white dark:bg-gray-900 rounded-2xl shadow-xl overflow-hidden flex flex-col max-h-[90vh]",children:[g.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800/50",children:[g.jsxs("div",{children:[g.jsxs(wt.Title,{className:"text-lg font-bold flex items-center gap-2 text-gray-900 dark:text-white uppercase tracking-wide",children:[g.jsx(zN,{className:"w-5 h-5 text-blue-500"}),new Date(r+"T00:00:00").toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"})]}),g.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Found ",n.length," Scheduled Deliveries"]})]}),g.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:g.jsx(Ds,{className:"w-6 h-6"})})]}),g.jsxs("div",{className:"p-6 overflow-y-auto space-y-4",children:[n.length===0?g.jsx(g.Fragment,{children:i&&Number(i[r]||0)>0?g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center justify-between bg-blue-50 dark:bg-blue-900/20 p-3 rounded-md",children:[g.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-200 flex items-center gap-2",children:[g.jsx("span",{className:"text-xl",children:""}),g.jsxs("span",{children:[g.jsxs("strong",{children:[Number(i[r])," Trucks Planned"]})," via Auto-Replenishment.",g.jsx("br",{}),"Purchase Orders have not been imported yet."]})]}),g.jsx("button",{onClick:B,className:`flex items-center px-3 py-1.5 rounded-lg text-xs font-bold transition-all ${te?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-white text-gray-600 border border-gray-200 hover:bg-gray-50 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600"}`,children:te?g.jsxs(g.Fragment,{children:[g.jsx(ql,{className:"w-4 h-4 mr-1.5"}),"Copied!"]}):g.jsxs(g.Fragment,{children:[g.jsx(Mu,{className:"w-4 h-4 mr-1.5"}),"Copy Plan"]})})]}),Array.from({length:Math.round(Number(i[r]))}).map((W,de)=>g.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-4 flex items-center justify-between opacity-75 grayscale",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"bg-gray-200 dark:bg-gray-700 p-3 rounded-lg",children:g.jsx(Zn,{className:"w-6 h-6 text-gray-400"})}),g.jsxs("div",{children:[g.jsxs("h3",{className:"text-lg font-bold text-gray-500 dark:text-gray-400 italic",children:["Planned Load #",de+1]}),g.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[g.jsxs("div",{className:"flex items-center text-xs font-mono font-bold text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/30 px-2 py-0.5 rounded",children:[g.jsx(nc,{className:"w-3 h-3 mr-1"}),"Est. ",$(de)]}),g.jsx("span",{className:"text-xs text-gray-400",children:"Awaiting PO"})]})]})]}),g.jsx("div",{className:"px-3 py-1 bg-gray-100 dark:bg-gray-700 text-xs font-bold text-gray-500 rounded-full",children:"AUTO-PLAN"})]},`planned-${de}`))]}):g.jsx("div",{className:"text-center py-10 text-gray-400 italic bg-gray-50 dark:bg-gray-800 rounded-lg",children:"No deliveries scheduled for this day."})}):T.map((W,de)=>g.jsx("div",{className:"bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-lg shadow-sm p-4 relative group hover:border-blue-300 dark:hover:border-blue-700 transition-colors",children:S===W.id?g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[g.jsxs("div",{className:"col-span-1",children:[g.jsx("label",{className:"text-xs font-bold text-gray-500",children:"PO Number"}),g.jsx("input",{type:"text",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:_.po||"",onChange:L=>j(H=>({...H,po:L.target.value}))})]}),g.jsxs("div",{className:"col-span-1",children:[g.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Appointment Time"}),g.jsx("input",{type:"time",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:_.time||"",onChange:L=>j(H=>({...H,time:L.target.value}))})]}),g.jsxs("div",{className:"col-span-1",children:[g.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Appointment Time"}),g.jsx("input",{type:"time",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:_.time||"",onChange:L=>j(H=>({...H,time:L.target.value}))})]}),g.jsxs("div",{className:"col-span-1",children:[g.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Supplier"}),g.jsx("input",{type:"text",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:_.supplier||"",onChange:L=>j(H=>({...H,supplier:L.target.value}))})]}),g.jsxs("div",{className:"col-span-1",children:[g.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Quantity"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"number",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:_.qty||0,onChange:L=>j(H=>({...H,qty:L.target.value}))}),g.jsxs("span",{className:"text-xs text-gray-400 whitespace-nowrap",children:["= ",C(_.qty||0)," Trucks"]})]})]})]}),g.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg flex items-center gap-3",children:[g.jsxs("div",{className:"flex-1",children:[g.jsx("label",{className:"text-xs font-bold text-blue-700 dark:text-blue-300",children:"Move to Date"}),g.jsx("input",{type:"date",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white mt-1",value:N,onChange:L=>{E(L.target.value),P||A(W.id)}})]}),g.jsxs("button",{onClick:ae,disabled:!N,className:"mt-5 px-4 py-2 bg-blue-600 text-white rounded-lg font-bold text-sm disabled:opacity-50 hover:bg-blue-500 flex items-center",children:[g.jsx(UR,{className:"w-5 h-5 mr-1"}),"Reschedule"]})]}),g.jsxs("div",{className:"flex justify-between border-t dark:border-gray-700 pt-3",children:[g.jsx("button",{onClick:()=>k(null),className:"text-sm text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:"Cancel"}),g.jsxs("button",{onClick:le,className:"flex items-center text-sm font-bold text-green-600 hover:text-green-700",children:[g.jsx(ql,{className:"w-5 h-5 mr-1"}),"Save Changes"]})]})]}):g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsxs("div",{className:"flex items-start gap-4",children:[g.jsx("div",{className:"bg-blue-100 dark:bg-blue-900 p-3 rounded-lg",children:g.jsx(Zn,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),g.jsxs("div",{children:[g.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center",children:[g.jsx("span",{className:"font-mono",children:W.time&&W.time!=="00:00"?Iu(W.time):"TBD"}),g.jsx("span",{className:"mx-2 text-gray-300",children:"|"}),"PO #",W.po,W.loadId&&g.jsxs("span",{className:"ml-2 px-2 py-0.5 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs rounded-full font-bold",children:["Load ID: ",W.loadId]}),g.jsx("span",{className:"ml-2 px-2 py-0.5 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-100 text-xs rounded-full font-bold",children:"1 Truck"}),g.jsx("button",{onClick:L=>{L.stopPropagation();const X=(W.status||"ordered")==="confirmed"?"ordered":"confirmed";h(r,{...W,status:X})},className:`ml-2 px-2 py-0.5 text-xs rounded-full font-bold border transition-colors ${W.status==="confirmed"?"bg-green-100 text-green-800 border-green-200 hover:bg-green-200 dark:bg-green-900/30 dark:text-green-300 dark:border-green-800":"bg-yellow-100 text-yellow-800 border-yellow-200 hover:bg-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-300 dark:border-yellow-800"}`,title:"Click to Toggle Status (Ordered/Confirmed)",children:W.status==="confirmed"?"Confirmed":"Ordered"})]}),g.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[g.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:W.supplier||W.vendor||"Unknown Supplier"}),Number(W.qty)>0&&g.jsxs("span",{className:"text-xs text-gray-400",children:["(",Number(String(W.qty).replace(/,/g,"")).toLocaleString()," units)"]})]})]})]}),g.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[g.jsx("button",{onClick:()=>{K(W),q(W.id)},className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg dark:hover:bg-blue-900/30",title:"Edit or Reschedule",children:g.jsx(Ru,{className:"w-5 h-5"})}),g.jsx("button",{onClick:()=>I(W.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg dark:hover:bg-red-900/30",title:"Cancel Delivery",children:g.jsx(Es,{className:"w-5 h-5"})})]})]})},W.id||de)),g.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-lg flex gap-3 text-xs text-yellow-800 dark:text-yellow-200",children:[g.jsx("span",{className:"text-lg",children:""}),g.jsxs("p",{children:[g.jsx("strong",{children:"Schedule Exception Management"}),g.jsx("br",{}),"Use this tool to handle cancellations or delays. Removing a PO here is permanent unless re-imported from SAP."]})]})]})]})})]})}function aU({dates:e,todayStr:t}){return g.jsx("thead",{className:"sticky top-0 z-10",children:g.jsxs("tr",{children:[g.jsx("th",{className:"sticky left-0 min-w-[140px] w-[140px] bg-slate-100 dark:bg-slate-800 border-b border-r border-slate-300 dark:border-slate-600 p-2 text-left text-xs font-bold text-slate-600 dark:text-slate-400 uppercase tracking-wider z-20 shadow-md",children:g.jsx("span",{children:"Metric"})}),e.map(r=>{const n=st(r),i=n===t,l=r.getDay()===0||r.getDay()===6;return g.jsxs("th",{className:`
                            min-w-[80px] w-[80px] p-2 text-center border-b border-r border-slate-200 dark:border-slate-700 text-xs transition-colors
                            ${i?"bg-blue-50 dark:bg-blue-900/40 text-blue-800 dark:text-blue-200 font-extrabold border-b-2 border-b-blue-600 shadow-[inset_0_0_10px_rgba(59,130,246,0.1)]":"bg-slate-50 dark:bg-slate-800 text-slate-700 dark:text-slate-300"}
                            ${l&&!i?"bg-slate-100/80 dark:bg-slate-800/80 text-slate-500":""}
                        `,children:[g.jsx("div",{className:"uppercase text-[9px] opacity-60 font-semibold",children:r.toLocaleDateString("en-US",{weekday:"short"})}),g.jsx("div",{className:"text-sm mt-0.5",children:r.getDate()})]},n)})]})})}function iU({date:e,todayStr:t,demandVal:r,updateDateDemand:n,actualVal:i,updateDateActual:l,manifestItems:o,monthlyInboundVal:c,updateDateInbound:d,ledgerItem:h,openManager:m,readOnly:p=!1}){const v=st(e),x=v===t,S=i!==void 0,k=o&&o.length>0,_=k?o.length:c||0;return g.jsxs("div",{className:`p-4 rounded-xl border-2 mb-4 shadow-sm ${x?"bg-blue-50 border-blue-200 dark:bg-blue-900/20 dark:border-blue-800":"bg-white border-gray-100 dark:bg-gray-800 dark:border-gray-700"}`,children:[g.jsxs("div",{className:"flex justify-between items-center mb-3",children:[g.jsxs("div",{children:[g.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:e.toLocaleDateString("en-US",{weekday:"long"})}),g.jsx("div",{className:"text-lg font-black text-gray-800 dark:text-white",children:e.toLocaleDateString("en-US",{month:"short",day:"numeric"})})]}),x&&g.jsx("span",{className:"bg-blue-100 text-blue-700 px-2 py-0.5 rounded text-[10px] font-bold uppercase",children:"Today"})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-2 rounded-lg",children:[g.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"Production Plan"}),g.jsx("input",{className:`w-full bg-white dark:bg-gray-600 rounded border border-gray-200 dark:border-gray-500 p-2 text-sm font-bold text-center outline-none ${p?"cursor-default opacity-80":"focus:ring-2 focus:ring-blue-500"}`,placeholder:p?"":"-",value:r||"",disabled:p,onChange:j=>n(v,j.target.value)})]}),g.jsxs("div",{className:"bg-blue-50/50 dark:bg-blue-900/10 p-2 rounded-lg border border-blue-100 dark:border-blue-900",children:[g.jsx("label",{className:"text-[10px] font-bold text-blue-400 uppercase block mb-1",children:"Actual / Prod"}),g.jsx("input",{className:`w-full bg-white dark:bg-gray-600 rounded border border-blue-200 dark:border-blue-800 p-2 text-sm font-bold text-center text-blue-700 dark:text-blue-300 outline-none ${p?"cursor-default opacity-80":"focus:ring-2 focus:ring-blue-500"}`,placeholder:p?"":"-",value:S?Number(i).toLocaleString():"",disabled:p,onChange:j=>{const N=j.target.value.replace(/,/g,"");isNaN(N)||l(v,N)}})]}),g.jsxs("div",{className:"bg-green-50/50 dark:bg-green-900/10 p-2 rounded-lg border border-green-100 dark:border-green-900",children:[g.jsx("label",{className:"text-[10px] font-bold text-green-400 uppercase block mb-1",children:"Inbound Trucks"}),k?g.jsxs("button",{className:`w-full bg-white dark:bg-gray-600 rounded border border-green-200 dark:border-green-800 p-2 text-sm font-bold text-center text-green-700 dark:text-green-400 flex items-center justify-center gap-2 ${p?"cursor-default opacity-80":""}`,onClick:()=>!p&&m(v),disabled:p,children:[_," ",g.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"})]}):g.jsx("input",{className:`w-full bg-white dark:bg-gray-600 rounded border border-green-200 dark:border-green-800 p-2 text-sm font-bold text-center text-green-700 dark:text-green-400 outline-none ${p?"cursor-default opacity-80":"focus:ring-2 focus:ring-green-500"}`,placeholder:p?"":"0",value:_||"",disabled:p,onChange:j=>{const N=j.target.value.replace(/,/g,"");isNaN(N)||d(v,N)}})]}),g.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-2 rounded-lg flex flex-col justify-center items-center",children:[g.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"End Balance"}),g.jsx("div",{className:"text-sm font-black text-gray-700 dark:text-gray-300",children:h?h.balance.toLocaleString():"-"})]})]})]})}function sU({dates:e,monthlyDemand:t,updateDateDemand:r,updateDateDemandBulk:n,readOnly:i=!1}){const l=ge.useRef(r);return ge.useEffect(()=>{l.current=r},[r]),g.jsxs("tr",{className:"group/row",children:[g.jsxs("th",{className:"sticky left-0 min-w-[140px] w-[140px] bg-white dark:bg-slate-800 border-r border-slate-300 dark:border-slate-600 p-2 text-left text-xs font-bold text-slate-700 dark:text-slate-300 z-10 shadow-md relative",children:["Production (Plan)",!i&&g.jsxs("div",{className:"hidden group-hover/row:block absolute left-full top-0 ml-2 w-48 p-2 bg-slate-800 text-white text-[10px] rounded shadow-lg z-50 pointer-events-none transform translate-y-2 opacity-0 group-hover/row:opacity-100 transition-opacity",children:[g.jsx("strong",{children:" Power Tip:"}),g.jsx("br",{}),"Type ",g.jsx("code",{children:"60000*5"})," and hit Enter to fill 5 days at once!"]})]}),e.map(o=>{const c=st(o),d=t[c];return g.jsx(lU,{date:o,dateStr:c,initialValue:d,updateDateDemand:r,updateDateDemandBulk:n,readOnly:i},c)})]})}const lU=ge.memo(({date:e,dateStr:t,initialValue:r,updateDateDemand:n,updateDateDemandBulk:i,readOnly:l})=>{const o=ge.useRef(null);ge.useEffect(()=>{o.current&&document.activeElement!==o.current&&(o.current.value=r||"")},[r]),ge.useMemo(()=>(m,p)=>{n(m,p)},[n]);const c=m=>{if(!m)return"";const p=m.toString().toLowerCase().trim().replace(/,/g,"");let v=1;p.endsWith("k")?v=1e3:p.endsWith("m")&&(v=1e6);const x=parseFloat(p.replace(/[km]/g,""));return isNaN(x)?m:(x*v).toString()},d=()=>{if(!l&&o.current){const m=c(o.current.value);n(t,m)}},h=m=>{if(!l&&m.key==="Enter"){m.preventDefault();const p=m.target.value.replace(/,/g,""),v=p.match(/^([0-9km.]+)\*(\d+)$/i);if(v){const j=v[1],N=parseInt(v[2],10),E=c(j),P={};let A=new Date(e);P[t]=E;for(let $=1;$<N;$++)A.setDate(A.getDate()+1),P[st(A)]=E;i?i(P):n(t,E);const T=new Date(e);T.setDate(T.getDate()+N);const C=`demand-${st(T)}`,M=document.getElementById(C);M&&(M.focus(),M.select());return}const x=c(p);n(t,x);const S=new Date(e);S.setDate(S.getDate()+1);const k=`demand-${st(S)}`,_=document.getElementById(k);_&&(_.focus(),_.select())}};return g.jsx("td",{className:`p-0 border-r border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800/50 transition-colors ${l?"":"hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:g.jsx("input",{ref:o,id:`demand-${t}`,className:`w-full h-full p-2 text-center text-sm font-bold bg-transparent font-medium text-slate-800 dark:text-slate-200 placeholder-slate-300 rounded-sm ${l?"cursor-default opacity-80":"focus:bg-blue-50/50 dark:focus:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-400"}`,defaultValue:r||"",placeholder:l?"":"-",disabled:l,onChange:m=>{},onBlur:d,onKeyDown:h})})});function oU({dates:e,monthlyProductionActuals:t,updateDateActual:r,readOnly:n=!1}){return g.jsxs("tr",{className:"bg-sky-50/20 dark:bg-sky-900/10",children:[g.jsx("th",{className:"sticky left-0 min-w-[140px] w-[140px] bg-sky-50 dark:bg-slate-800 border-r border-slate-300 dark:border-slate-600 p-2 text-left text-xs font-bold text-sky-700 dark:text-sky-400 z-10 shadow-md",children:"Actual / Prod"}),e.map(i=>{const l=st(i),o=t[l];return g.jsx(uU,{date:i,dateStr:l,initialValue:o,updateDateActual:r,readOnly:n},l)})]})}const uU=ge.memo(({dateStr:e,initialValue:t,updateDateActual:r,readOnly:n})=>{const[i,l]=ge.useState(t||"");ge.useEffect(()=>{l(t||"")},[t]);const o=()=>{if(n)return;let c=i.toString().toLowerCase().trim().replace(/,/g,""),d=1;c.endsWith("k")?d=1e3:c.endsWith("m")&&(d=1e6);const h=parseFloat(c.replace(/[km]/g,"")),m=isNaN(h)?null:h*d;m!==t&&(r(e,m),m!==null&&l(m.toString()))};return g.jsx("td",{className:`p-0 border-r border-slate-200 dark:border-slate-700 bg-sky-50/10 dark:bg-sky-900/5 min-w-[60px] ${n?"":"hover:bg-sky-50/30"}`,children:g.jsx("input",{type:"text",className:`w-full h-full text-center text-sm bg-transparent outline-none p-1 font-bold text-sky-700 dark:text-sky-300 rounded-sm ${n?"cursor-default opacity-80":"focus:bg-white dark:focus:bg-slate-700 focus:ring-2 focus:ring-inset focus:ring-sky-400"}`,value:i,onChange:c=>l(c.target.value),onBlur:o,placeholder:n?"":"-",disabled:n})})});function cU({dates:e,poManifest:t,monthlyInbound:r,updateDateInbound:n,openManager:i,readOnly:l=!1}){return g.jsxs("tr",{children:[g.jsx("th",{className:"sticky left-0 min-w-[140px] w-[140px] bg-white dark:bg-slate-800 border-r border-slate-300 dark:border-slate-600 p-2 text-left text-xs font-bold text-emerald-700 dark:text-emerald-400 z-10 shadow-md",children:"Inbound Trucks"}),e.map(o=>{const c=st(o),d=t[c]?.items||[],h=d.length>0,m=h?d.length:r[c]||0;return g.jsx("td",{className:`p-0 border-r border-slate-200 dark:border-slate-700 relative group transition-colors ${l?"":"hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:h?g.jsx("button",{className:`w-full h-full p-1 flex items-center justify-center ${l?"cursor-default":""}`,onClick:()=>!l&&i(c),title:`${d.length} Confirmed POs${l?" (Read Only)":""}`,disabled:l,children:g.jsxs("span",{className:`rounded px-2 py-0.5 text-sm font-bold shadow-sm whitespace-nowrap transition-colors ${l?"bg-emerald-600/70 text-white/90":"bg-emerald-600 text-white dark:bg-emerald-500 hover:bg-emerald-700"}`,children:[m," PO"]})}):g.jsx("input",{className:`w-full h-full p-2 text-center text-sm bg-transparent font-bold rounded-sm
                                    ${m>0?"text-emerald-600 dark:text-emerald-400":"text-slate-300"}
                                    ${l?"cursor-default":"focus:bg-emerald-50 dark:focus:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-emerald-400"}
                                `,value:m||"",placeholder:l?"":"0",disabled:l,onChange:p=>{const v=p.target.value.replace(/,/g,"");isNaN(v)||n(c,v)},onDoubleClick:()=>!l&&i(c)})},c)})]})}function dU({dates:e,ledgerMap:t,specs:r,safetyTarget:n}){return g.jsxs("tr",{className:"bg-slate-100 dark:bg-slate-800 border-t-2 border-slate-300 dark:border-slate-600",children:[g.jsx("th",{className:"sticky left-0 min-w-[140px] w-[140px] bg-slate-100 dark:bg-slate-800 border-r border-slate-300 dark:border-slate-600 p-2 text-left text-xs font-bold text-slate-800 dark:text-white z-10 shadow-md",children:"End Inventory"}),e.map(i=>{const l=st(i),o=t[l],c=o?o.balance:null,d=r?.casesPerPallet||100,h=r?.bottlesPerCase||1,m=r?.bottlesPerTruck||2e4,p=c!==null?Math.round(c/h/d):null;let v="-";if(p!==null){const S=Math.floor(m/h/d)||22;if(Math.abs(p)>=S){const k=Math.floor(p/S),_=p%S;v=`${k}T ${_}P`}else v=`${p}`}let x="";return c!==null&&n&&(c<n?x="bg-red-100 dark:bg-red-900/40 text-red-700 dark:text-red-300 font-bold":c>n+m*2?x="bg-orange-100 dark:bg-orange-900/40 text-orange-800 dark:text-orange-300":x="text-gray-600 dark:text-gray-300"),g.jsx("td",{className:`p-2 text-center text-sm font-bold border-r border-slate-300 dark:border-slate-600 ${x}`,children:v},l)})]})}const fU=ge.memo(dU);function hU({dates:e,ledgerMap:t,monthlyDemand:r,specs:n}){return g.jsxs("tr",{className:"border-t border-gray-300 dark:border-gray-600",children:[g.jsx("th",{className:"sticky left-0 min-w-[140px] w-[140px] bg-white dark:bg-gray-800 border-r border-gray-300 dark:border-gray-600 p-2 text-left text-xs font-bold text-gray-500 uppercase z-10 shadow-md",children:"Coverage (DOS)"}),e.map(i=>{const l=st(i),o=t[l],c=o?o.balance:0,d=1+(n?.scrapPercentage||0)/100;let h=0,m=c,p=!1;for(let k=1;k<=30;k++){const _=new Date(i);_.setDate(_.getDate()+k);const j=st(_),N=(r[j]||0)*n.bottlesPerCase*d;if(N===0){h+=1,k===30&&(p=!0);continue}if(m>=N)m-=N,h+=1;else{h+=m/N,m=0;break}}const v=h.toFixed(1),x=parseFloat(v);let S="text-gray-400";return c>0&&(x<2?S="bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300 font-bold":x<4?S="bg-yellow-100 dark:bg-yellow-900/50 text-yellow-700 dark:text-yellow-300 font-bold":S="bg-green-100 dark:bg-green-900/40 text-green-700 dark:text-green-300 font-bold"),g.jsx("td",{className:`p-2 text-center text-xs border-r border-gray-200 dark:border-gray-700 ${S}`,children:p?">30":v},l)})]})}const mU=ge.memo(hU);function gU({monthlyDemand:e,monthlyProductionActuals:t,monthlyInbound:r,updateDateDemand:n,updateDateDemandBulk:i,updateDateActual:l,updateDateInbound:o,dailyLedger:c=[],specs:d,userProfile:h,startDate:m,readOnly:p=!1}){const{poManifest:v,updateDailyManifest:x,removeOrder:S}=_n(),[k,_]=b.useState({isOpen:!1,date:null}),j=zr(),N=b.useMemo(()=>{const $=[],R=m?new Date(m):new Date;for(let I=0;I<60;I++)$.push(In(R,I));return $},[m]),E=b.useMemo(()=>c.reduce(($,R)=>($[R.date]=R,$),{}),[c]),P=$=>{p||_({isOpen:!0,date:$})},A=()=>{_({isOpen:!1,date:null})},T=$=>{k.date&&x(k.date,$)},C=$=>{k.date&&S(k.date,$)},M=()=>g.jsx(gT,{isOpen:k.isOpen,onClose:A,dateStr:k.date||"",existingManifest:k.date?v[k.date]?.items||[]:[],onSave:T,onDelete:C,specs:d});return g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"md:hidden space-y-4 pb-20",children:N.slice(0,30).map($=>{const R=zr();return g.jsx(iU,{date:$,todayStr:j,demandVal:e[R],updateDateDemand:n,actualVal:t[R],updateDateActual:l,manifestItems:v[R]?.items||[],monthlyInboundVal:r[R],updateDateInbound:o,ledgerItem:E[R],openManager:P,readOnly:p},R)})}),g.jsx("div",{className:"hidden md:block overflow-x-auto pb-4 relative custom-scrollbar",children:g.jsxs("table",{className:"w-full border-collapse text-sm",children:[g.jsx(aU,{dates:N,todayStr:j}),g.jsxs("tbody",{children:[g.jsx(sU,{dates:N,monthlyDemand:e,updateDateDemand:n,updateDateDemandBulk:i,readOnly:p}),g.jsx(oU,{dates:N,monthlyProductionActuals:t,updateDateActual:l,readOnly:p}),g.jsx(cU,{dates:N,poManifest:v,monthlyInbound:r,updateDateInbound:o,openManager:P,readOnly:p}),g.jsx("tr",{className:"h-4 bg-gray-50 dark:bg-gray-800/50",children:g.jsx("td",{colSpan:N.length+1})}),g.jsx(fU,{dates:N,ledgerMap:E,specs:d,safetyTarget:d?.bottles_per_truck?d.bottles_per_truck*2:0}),g.jsx(mU,{dates:N,ledgerMap:E,monthlyDemand:e,specs:d})]})]})}),M()]})}const pU=(e,t)=>{const r={};e.forEach(i=>{r[i.date]||(r[i.date]=[]),r[i.date].push(i)});const n=[];return Object.entries(r).forEach(([i,l])=>{l.sort((h,m)=>{const p=h.po?String(h.po).replace(/\D/g,""):"",v=m.po?String(m.po).replace(/\D/g,""):"";return p&&v?Number(p)-Number(v):(h.po||"").localeCompare(m.po||"")});let[o,c]=(t.schedulerSettings?.shiftStartTime||"06:00").split(":").map(Number),d=new Date;d.setHours(o,c,0,0),l.forEach(h=>{const m=h.sku||Object.keys(t.bottleDefinitions)[0],p=t.bottleDefinitions[m],v=new Date(d);v.getMinutes()>=30&&v.setHours(v.getHours()+1),v.setMinutes(0);const x=v.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"});if(n.push({...h,time:x}),!p)return;const S=(h.qty||1)*(p.bottlesPerTruck||2e4),k=p.productionRate||1e3,j=S/k*60;d.setMinutes(d.getMinutes()+j)})}),n};function vU({isOpen:e,onClose:t}){const{addOrdersBulk:r}=_n(),{bottleDefinitions:n,schedulerSettings:i}=St(),[l,o]=b.useState(1),[c,d]=b.useState(""),[h,m]=b.useState([]),[p,v]=b.useState({po:-1,date:-1,qty:-1,supplier:-1,sku:-1}),x=A=>{const T=A.trim().split(/\r?\n/);if(T.length===0)return[];const $=T[0].includes("	")?"	":",";return T.map(R=>R.split($).map(I=>I.trim()))},S=()=>{if(l===1){const A=x(c);m(A.slice(0,5)),o(2)}else l===2&&N()},k=A=>{if(!A)return null;const T=A.trim();if(T.match(/^\d{4}-\d{2}-\d{2}$/))return T;const C=T.split(/[\-\s\/]/);if(C.length===2||C.length===3){const $={jan:0,feb:1,mar:2,apr:3,may:4,jun:5,jul:6,aug:7,sep:8,oct:9,nov:10,dec:11};let R,I,q=new Date().getFullYear();const ae=C[0].toLowerCase(),te=C[1].toLowerCase();if(C[2]&&C[2].toLowerCase(),$[te]!==void 0?(R=parseInt(ae),I=$[te]):$[ae]!==void 0&&(I=$[ae],R=parseInt(te)),R&&I!==void 0)return new Date(q,I,R).toISOString().split("T")[0]}const M=new Date(T);return isNaN(M.getTime())?null:M.toISOString().split("T")[0]},_=A=>A?A.match(/^\d+(\.\d+)?[eE]\+\d+$/)?Number(A).toLocaleString("fullwide",{useGrouping:!1}):A:"",j=A=>{if(!A)return 0;const T=String(A).replace(/[^0-9.\-]/g,""),C=parseFloat(T);return isNaN(C)?0:C},N=()=>{const A=x(c);let T=0;const C=A.map($=>{const R=$[p.date],I=k(R);return I?{id:crypto.randomUUID(),po:_($[p.po]),date:I,qty:j($[p.qty]),supplier:$[p.supplier]||"Unknown",sku:$[p.sku]||p.defaultSku||"",status:"planned"}:null}).filter($=>$&&$.po&&$.date?(T++,!0):!1),M=pU(C,{bottleDefinitions:n,schedulerSettings:i});r(M),alert(`Successfully imported ${T} orders! Check the Planning Grid for blue badges.`),t(),d(""),o(1)},E=()=>g.jsxs("div",{className:"space-y-4",children:[g.jsxs("p",{className:"text-sm text-gray-500",children:["Copy your rows from Excel or SAP and paste them below. Make sure to include the ",g.jsx("strong",{children:"PO Number"})," and ",g.jsx("strong",{children:"Delivery Date"}),"."]}),g.jsx("textarea",{className:"w-full h-64 p-3 border rounded-lg font-mono text-xs bg-gray-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 focus:ring-2 focus:ring-blue-500",placeholder:`Example:
450001234	${new Date().toISOString().split("T")[0]}	44000	Supplier A
450001235	${new Date(Date.now()+864e5).toISOString().split("T")[0]}	22000	Supplier B`,value:c,onChange:A=>d(A.target.value)})]}),P=()=>g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 text-sm rounded-lg",children:["Identify the columns. We found ",g.jsxs("strong",{children:[x(c).length," rows"]}),"."]}),g.jsx("div",{className:"overflow-x-auto border rounded-lg dark:border-gray-700",children:g.jsxs("table",{className:"w-full text-xs text-left",children:[g.jsx("thead",{className:"bg-gray-100 dark:bg-gray-800 text-gray-500 uppercase",children:g.jsxs("tr",{children:[h[0]?.map((A,T)=>g.jsxs("th",{className:"p-2 border-b dark:border-gray-700 min-w-[120px]",children:[g.jsxs("div",{className:"mb-2",children:["Column ",T+1]}),g.jsxs("select",{className:"w-full p-1 border rounded bg-white dark:bg-gray-700 dark:border-gray-600",value:Object.keys(p).find(C=>p[C]===T)||"",onChange:C=>{const M=C.target.value;v($=>{const R={...$};if(!M){const I=Object.keys(R).find(q=>R[q]===T);return I&&(R[I]=-1),R}return R[M]=T,R})},children:[g.jsx("option",{value:"",children:"-- Ignore --"}),g.jsx("option",{value:"po",children:"PO Number *"}),g.jsx("option",{value:"date",children:"Date *"}),g.jsx("option",{value:"qty",children:"Quantity"}),g.jsx("option",{value:"supplier",children:"Supplier"}),g.jsx("option",{value:"sku",children:"Material / SKU"})]})]},T)),p.qty!==-1&&g.jsx("th",{className:"p-2 border-b dark:border-gray-700 w-[100px] bg-blue-50 dark:bg-blue-900/10",children:g.jsx("div",{className:"mb-2 text-blue-600",children:"Detected Qty"})})]})}),g.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:h.map((A,T)=>g.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[A.map((C,M)=>g.jsx("td",{className:`p-2 font-mono truncate max-w-[150px] ${Object.values(p).includes(M)?"font-bold text-gray-800 dark:text-white":"text-gray-400"}`,children:C},M)),p.qty!==-1&&g.jsx("td",{className:"p-2 font-mono font-bold text-blue-600 bg-blue-50/50",children:A[p.qty]?j(A[p.qty]).toLocaleString():"-"})]},T))})]})}),g.jsx("p",{className:"text-xs text-red-500",children:"* Required Fields"})]});return g.jsxs(wt,{open:e,onClose:t,className:"relative z-50",children:[g.jsx("div",{className:"fixed inset-0 bg-black/30","aria-hidden":"true"}),g.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:g.jsxs(wt.Panel,{className:"w-full max-w-4xl bg-white dark:bg-gray-900 rounded-2xl shadow-xl overflow-hidden flex flex-col max-h-[90vh]",children:[g.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800/50",children:[g.jsxs(wt.Title,{className:"text-lg font-bold flex items-center gap-2 text-gray-900 dark:text-white",children:[g.jsx(HR,{className:"w-5 h-5 text-blue-600"}),"Import Purchase Orders"]}),g.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:g.jsx(Ds,{className:"w-6 h-6"})})]}),g.jsxs("div",{className:"p-6 overflow-y-auto flex-1",children:[l===1&&E(),l===2&&P()]}),g.jsxs("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-800/50 border-t border-gray-200 dark:border-gray-700 flex justify-end space-x-3",children:[l===2&&g.jsx("button",{onClick:()=>o(1),className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:"Back"}),g.jsx("button",{onClick:S,disabled:c.trim().length===0||l===2&&(p.po===-1||p.date===-1),className:"px-6 py-2 bg-blue-600 text-white font-bold rounded-lg shadow hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:l===1?"Next: Map Columns":`Import ${x(c).length} Orders`})]})]})})]})}function yU({isOpen:e,onClose:t,mrpResults:r}){const{poManifest:n}=_n(),i=r||{},{activeSku:l}=St(),[o,c]=b.useState({start:"",end:""}),[d,h]=b.useState("new"),m=b.useRef(!1),p=b.useMemo(()=>{const A=[];return Object.entries(n).sort().forEach(([T,C])=>{C.items.forEach(M=>{A.push({...M,date:T})})}),A},[n]),v=b.useMemo(()=>p.filter(A=>new Date(A.date)>=new Date().setHours(0,0,0,0)),[p]);b.useEffect(()=>{if(e&&i?.trucksToCancel>0&&x.size===0){const T=v.filter(C=>C.status==="confirmed").sort((C,M)=>new Date(M.date)-new Date(C.date)).slice(0,i.trucksToCancel);if(T.length>0){const C=new Set(T.map(M=>M.po+M.date));m.current=!0,S(C),h("cancel"),setTimeout(()=>m.current=!1,500)}}},[e,i?.trucksToCancel]);const[x,S]=b.useState(new Set);b.useEffect(()=>{e||(S(new Set),m.current=!1)},[e]);const k=A=>{const T=new Set(x);T.has(A)?T.delete(A):T.add(A),S(T)},_=()=>{const A=v.filter($=>x.has($.po+$.date));if(A.length===0)return"";const T=A.map(($,R)=>{const I=$.status==="cancelled"?"[CANCEL] ":"",q=$.time?` @ ${Iu($.time)}`:" @ TBD";return`${R+1}. ${I}PO #${$.po}: ${$.date}${q} (1 Truck)`}).join(`
`),C=`${A.length} Truck${A.length!==1?"s":""}`;return(N[d]||N.new).body(T,C)},j=()=>{x.size===v.length?S(new Set):S(new Set(v.map(A=>A.po+A.date)))},N={new:{subject:(A,T)=>`New Orders for Approval - ${l}`,body:(A,T)=>`Hello Team,

Please confirm the following NEW orders for ${l}:

${A}

Total: ${T}

Please configure delivery appointments for each.

Thanks,
Planner`},add:{subject:(A,T)=>`URGENT: ADD to Schedule (Week of ${T.start}) - ${l}`,body:(A,T)=>`Hello Team,

Please ADD the following loads to our existing schedule for ${l}:

${A}

Total: ${T}

This is an addition to the already confirmed plan.

Thanks,
Planner`},cancel:{subject:(A,T)=>`URGENT: CANCELLATION REQUEST - ${A} Orders - ${l}`,body:(A,T)=>`Hello Team,

Please CANCEL the following purchase orders immediately:

${A}

Total: ${T}

Please confirm cancellation.

Thanks,
Planner`}};b.useEffect(()=>{if(x.size===0||m.current)return;const A=v.filter($=>x.has($.po+$.date));if(A.some($=>$.status==="cancelled")){h("cancel");return}const C=new Set(A.map($=>$.date)),M=p.some($=>C.has($.date)&&!x.has($.po+$.date)&&$.status==="confirmed");h(M?"add":"new")},[x,v,p]);const E=()=>{const A=v.filter(C=>x.has(C.po+C.date));return(N[d]||N.new).subject(A.length,{start:A[0]?.date||"..."})},P=()=>{const A=`Subject: ${E()}

${_()}`;navigator.clipboard.writeText(A),alert("Email copied to clipboard!")};return g.jsxs(wt,{open:e,onClose:t,className:"relative z-50",children:[g.jsx("div",{className:"fixed inset-0 bg-black/30","aria-hidden":"true"}),g.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:g.jsxs(wt.Panel,{className:"w-full max-w-5xl bg-white dark:bg-gray-900 rounded-2xl shadow-xl overflow-hidden flex flex-col max-h-[90vh]",children:[g.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800/50",children:[g.jsxs(wt.Title,{className:"text-lg font-bold flex items-center gap-2 text-gray-900 dark:text-white",children:[g.jsx(HN,{className:"w-5 h-5 text-indigo-600"}),"Email Supplier"]}),g.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:g.jsx(Ds,{className:"w-6 h-6"})})]}),g.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-6 py-3 flex items-center gap-4",children:[g.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:"Email Type:"}),g.jsx("div",{className:"flex gap-2",children:["new","add","cancel"].map(A=>g.jsx("button",{onClick:()=>h(A),className:`px-3 py-1 rounded-full text-xs font-bold capitalize transition-colors ${d===A?"bg-blue-600 text-white shadow-sm":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 border border-gray-200 dark:border-gray-600 hover:bg-gray-50"}`,children:A==="new"?"New Orders":A==="add"?"Add to Schedule":"Cancellation"},A))})]}),g.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[g.jsxs("div",{className:"w-1/2 border-r border-gray-200 dark:border-gray-700 flex flex-col",children:[g.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800/30 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[g.jsx("h3",{className:"text-xs font-bold uppercase text-gray-500",children:"Available Orders"}),g.jsx("button",{onClick:j,className:"text-xs text-blue-600 font-bold hover:underline",children:x.size===v.length?"Deselect All":"Select All"})]}),g.jsxs("div",{className:"overflow-y-auto p-2 space-y-2 flex-1",children:[v.length===0&&g.jsx("p",{className:"text-center text-sm text-gray-400 mt-10",children:"No future orders found."}),v.map((A,T)=>{const C=A.po+A.date,M=x.has(C);return g.jsxs("div",{onClick:()=>k(C),className:`p-3 rounded-lg border cursor-pointer transition-all flex justify-between items-center ${M?"bg-indigo-50 border-indigo-200 dark:bg-indigo-900/30 dark:border-indigo-700":"bg-white border-gray-100 hover:border-gray-300 dark:bg-gray-800 dark:border-gray-700"}`,children:[g.jsxs("div",{children:[g.jsxs("div",{className:"font-bold text-sm text-gray-800 dark:text-gray-200",children:["PO #",A.po]}),g.jsxs("div",{className:"text-xs text-gray-500",children:[A.date,"  ",A.qty?A.qty.toLocaleString():"-"," units"]})]}),M&&g.jsx("div",{className:"w-4 h-4 bg-indigo-600 rounded-full flex items-center justify-center text-white text-[10px]",children:""})]},T)})]})]}),g.jsxs("div",{className:"w-1/2 flex flex-col bg-gray-50 dark:bg-gray-900/50",children:[g.jsx("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700",children:g.jsx("h3",{className:"text-xs font-bold uppercase text-gray-500",children:"Email Preview"})}),g.jsx("div",{className:"flex-1 p-4",children:g.jsx("textarea",{className:"w-full h-full p-4 text-sm font-mono border rounded-lg resize-none focus:ring-2 focus:ring-indigo-500 bg-white dark:bg-gray-800 dark:border-gray-700 dark:text-gray-300",value:_(),readOnly:!0})}),g.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 flex justify-end",children:g.jsxs("button",{onClick:P,className:"flex items-center gap-2 bg-indigo-600 hover:bg-indigo-500 text-white px-4 py-2 rounded-lg font-bold shadow-sm transition-all active:scale-95",children:[g.jsx(Xv,{className:"w-4 h-4"}),"Copy to Clipboard"]})})]})]})]})})]})}function bU({isOpen:e,onClose:t}){const{poManifest:r}=_n(),{bottleSizes:n}=St(),i=b.useMemo(()=>{const _=[];return Object.entries(r).forEach(([j,N])=>{N.items.forEach(E=>{_.push({...E,date:j})})}),_.sort((j,N)=>j.date.localeCompare(N.date))},[r]),l=i.filter(_=>new Date(_.date)>=new Date().setHours(0,0,0,0)),[o,c]=b.useState(`YMS_Import_${new Date().toISOString().slice(0,10)}`),[d,h]=b.useState(!0),m=[{id:"date",label:"Expected Arrival Date"},{id:"po",label:"PO Number"},{id:"qty",label:"Quantity"},{id:"supplier",label:"Supplier Name"},{id:"status",label:"Status"},{id:"carrier",label:"Carrier (Empty)"},{id:"trailer_type",label:"Trailer Type (Dry Van)"}],[p,v]=b.useState(m.map(_=>_.id)),x=_=>{p.includes(_)?v(j=>j.filter(N=>N!==_)):v(j=>[...j,_])},S=()=>{const _=[];return d&&_.push(p.map(j=>{const N=m.find(E=>E.id===j);return N?N.label:j}).join(",")),l.forEach(j=>{const N=p.map(E=>{switch(E){case"carrier":return"";case"trailer_type":return"Dry Van";case"qty":return j.qty||0;default:return j[E]||""}});_.push(N.join(","))}),_.join(`
`)},k=()=>{const _=S(),j=new Blob([_],{type:"text/csv;charset=utf-8;"}),N=document.createElement("a");if(N.download!==void 0){const E=URL.createObjectURL(j);N.setAttribute("href",E),N.setAttribute("download",`${o}.csv`),N.style.visibility="hidden",document.body.appendChild(N),N.click(),document.body.removeChild(N)}t()};return g.jsxs(wt,{open:e,onClose:t,className:"relative z-50",children:[g.jsx("div",{className:"fixed inset-0 bg-black/30","aria-hidden":"true"}),g.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:g.jsxs(wt.Panel,{className:"w-full max-w-2xl bg-white dark:bg-gray-900 rounded-2xl shadow-xl overflow-hidden flex flex-col",children:[g.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800/50",children:[g.jsxs(wt.Title,{className:"text-lg font-bold flex items-center gap-2 text-gray-900 dark:text-white",children:[g.jsx(jb,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"}),"Export for YMS"]}),g.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:g.jsx(Ds,{className:"w-6 h-6"})})]}),g.jsxs("div",{className:"p-6 space-y-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Filename"}),g.jsxs("div",{className:"flex items-center",children:[g.jsx("input",{type:"text",value:o,onChange:_=>c(_.target.value),className:"w-full p-2 border rounded-l-lg dark:bg-gray-800 dark:border-gray-600"}),g.jsx("span",{className:"bg-gray-100 dark:bg-gray-700 px-3 py-2 border border-l-0 rounded-r-lg text-gray-500 dark:border-gray-600",children:".csv"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Include Columns"}),g.jsx("div",{className:"grid grid-cols-2 gap-3",children:m.map(_=>g.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer p-2 rounded hover:bg-gray-50 dark:hover:bg-gray-800 border dark:border-gray-700",children:[g.jsx("input",{type:"checkbox",checked:p.includes(_.id),onChange:()=>x(_.id),className:"rounded text-blue-600 focus:ring-blue-500"}),g.jsx("span",{className:"text-sm font-medium dark:text-gray-200",children:_.label})]},_.id))})]}),g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx("span",{className:"text-sm font-medium dark:text-gray-300",children:"Include Headers?"}),g.jsx(nU,{checked:d,onChange:h,className:`${d?"bg-blue-600":"bg-gray-200"} relative inline-flex h-6 w-11 items-center rounded-full transition-colors`,children:g.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition ${d?"translate-x-6":"translate-x-1"}`})})]}),g.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-2 rounded text-xs font-mono text-gray-500 overflow-x-auto whitespace-pre",children:[d&&p.map(_=>m.find(j=>j.id===_)?.label).join(","),`
`,i.length>0&&p.map(_=>_==="carrier"?'""':i[0][_]||'""').join(","),i.length===0&&"(No data to export)","..."]})]}),g.jsx("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-800/50 border-t border-gray-200 dark:border-gray-700 flex justify-end",children:g.jsx("button",{onClick:k,disabled:i.length===0,className:"px-6 py-2 bg-gray-900 dark:bg-white dark:text-gray-900 text-white font-bold rounded-lg shadow hover:opacity-90 transition-all disabled:opacity-50",children:"Download CSV"})})]})})]})}function xU({isOpen:e,onClose:t,order:r,date:n}){const{addOrdersBulk:i,updateOrder:l,moveOrder:o}=_n(),{bottleSizes:c}=St(),[d,h]=b.useState({po:"",date:"",qty:"",supplier:"",carrier:"",sku:""});b.useEffect(()=>{e&&h(r?{po:r.po,date:n||r.date,time:r.time||"",qty:r.qty,supplier:r.supplier,carrier:r.carrier||"",sku:r.sku||""}:{po:"",date:n||new Date().toISOString().split("T")[0],time:"",qty:"",supplier:"",carrier:"",sku:""})},[e,r,n]);const m=()=>{if(!d.po||!d.date||!d.qty){alert("PO, Date, and Quantity are required.");return}const p={id:r?.id||crypto.randomUUID(),po:d.po,date:d.date,time:d.time,qty:Number(d.qty),supplier:d.supplier||"Unknown",carrier:d.carrier,sku:d.sku};r?d.date!==r.date?o(r.date,d.date,p):l(d.date,p):i([p]),t()};return g.jsxs(wt,{open:e,onClose:t,className:"relative z-50",children:[g.jsx("div",{className:"fixed inset-0 bg-black/30","aria-hidden":"true"}),g.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:g.jsxs(wt.Panel,{className:"w-full max-w-md bg-white dark:bg-gray-800 rounded-xl shadow-xl overflow-hidden",children:[g.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center",children:[g.jsx(wt.Title,{className:"text-lg font-bold text-gray-900 dark:text-white",children:r?"Edit Order":"New Purchase Order"}),g.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500",children:g.jsx(Ds,{className:"w-5 h-5"})})]}),g.jsxs("div",{className:"p-6 space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Material / SKU"}),g.jsxs("select",{className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:d.sku,onChange:p=>h({...d,sku:p.target.value}),children:[g.jsx("option",{value:"",children:"-- Any / All --"}),c.map(p=>g.jsx("option",{value:p,children:p},p))]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"PO Number"}),g.jsx("input",{type:"text",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:d.po,onChange:p=>h({...d,po:p.target.value}),autoFocus:!0})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Delivery Date"}),g.jsxs("div",{className:"relative",children:[g.jsx(YR,{className:"absolute left-2 top-2.5 w-4 h-4 text-gray-400"}),g.jsx("input",{type:"date",className:"w-full pl-8 p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:d.date,onChange:p=>h({...d,date:p.target.value})})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Time (Hour)"}),g.jsxs("select",{className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:d.time,onChange:p=>h({...d,time:p.target.value}),children:[g.jsx("option",{value:"",children:"-- TBD --"}),Array.from({length:24}).map((p,v)=>{const x=`${String(v).padStart(2,"0")}:00`,S=v>=12?"PM":"AM",_=`${v%12||12}:00 ${S}`;return g.jsx("option",{value:x,children:_},x)})]})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Quantity"}),g.jsx("input",{type:"number",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:d.qty,onChange:p=>h({...d,qty:p.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Supplier"}),g.jsx("input",{type:"text",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:d.supplier,onChange:p=>h({...d,supplier:p.target.value})})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Carrier (Optional)"}),g.jsxs("div",{className:"relative",children:[g.jsx(Zn,{className:"absolute left-2 top-2.5 w-4 h-4 text-gray-400"}),g.jsx("input",{type:"text",className:"w-full pl-8 p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:d.carrier,onChange:p=>h({...d,carrier:p.target.value})})]})]})]}),g.jsxs("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-700/50 flex justify-end gap-2",children:[g.jsx("button",{onClick:t,className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800",children:"Cancel"}),g.jsx("button",{onClick:m,className:"px-4 py-2 bg-blue-600 text-white text-sm font-bold rounded hover:bg-blue-500",children:"Save Order"})]})]})})]})}function wU({isOpen:e,onClose:t}){const{poManifest:r,deleteOrdersBulk:n,bulkUpdateOrders:i}=_n(),{bottleDefinitions:l}=St(),[o,c]=b.useState(""),[d,h]=b.useState(new Set),[m,p]=b.useState(!1),[v,x]=b.useState(null),S=M=>{x(M),p(!0)},k=()=>{x(null),p(!0)},_=b.useMemo(()=>{const M=[];return Object.entries(r).forEach(([$,R])=>{R.items&&R.items.forEach(I=>{M.push({...I,date:$})})}),M.sort(($,R)=>new Date(R.date)-new Date($.date))},[r]),j=b.useMemo(()=>{if(!o)return _;const M=o.toLowerCase();return _.filter($=>($.po||"").toLowerCase().includes(M)||($.supplier||"").toLowerCase().includes(M)||($.date||"").includes(M))},[_,o]),N=M=>{const $=new Set(d);$.has(M)?$.delete(M):$.add(M),h($)},E=()=>{if(d.size===j.length&&j.length>0)h(new Set);else{const M=new Set;j.forEach($=>M.add($.id)),h(M)}},P=()=>{if(d.size===0||!confirm(`Are you sure you want to PERMANENTLY delete ${d.size} orders ? `))return;const M=_.filter($=>d.has($.id));n(M),h(new Set)},A=M=>{if(!M||d.size===0||!confirm(`Set SKU to "${M}" for ${d.size} orders?`))return;const $=_.filter(R=>d.has(R.id)).map(R=>({...R,sku:M}));i($),h(new Set)},T=M=>{const $=parseInt(M);if(isNaN($)||$<2e3||$>2100){alert("Invalid Year");return}if(!confirm(`Update YEAR to "${$}" for ${d.size} orders? (Month/Day will be preserved)`))return;const R=_.filter(I=>d.has(I.id)).map(I=>{const q=I.date.split("-");if(q.length!==3)return I;const ae=`${$}-${q[1]}-${q[2]}`;return{...I,date:ae}});i(R),h(new Set)},C=M=>{if(!confirm(`Update status to "${M.toUpperCase()}" for ${d.size} orders?`))return;const $=_.filter(R=>d.has(R.id)).map(R=>({...R,status:M}));i($),h(new Set)};return g.jsxs(wt,{open:e,onClose:t,className:"relative z-50",children:[g.jsx("div",{className:"fixed inset-0 bg-black/50","aria-hidden":"true"}),g.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:g.jsxs(wt.Panel,{className:"w-full max-w-5xl h-[80vh] bg-white dark:bg-gray-900 rounded-2xl shadow-2xl flex flex-col overflow-hidden",children:[g.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"bg-purple-100 dark:bg-purple-900 p-2 rounded-lg",children:g.jsx(GN,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),g.jsxs("div",{children:[g.jsx(wt.Title,{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Global Procurement Manager"}),g.jsx("p",{className:"text-sm text-gray-500",children:"Manage all Inbound Orders across all dates."})]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("button",{onClick:k,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white hover:bg-blue-500 rounded-lg font-bold transition-colors shadow-sm",children:[g.jsx(Ih,{className:"w-5 h-5"}),"New Order"]}),g.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 ml-4",children:g.jsx(Ds,{className:"w-6 h-6"})})]})]}),g.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex flex-col md:flex-row gap-4 items-center justify-between",children:[g.jsxs("div",{className:"relative w-full max-w-md",children:[g.jsx(h6,{className:"absolute left-3 top-2.5 w-5 h-5 text-gray-400"}),g.jsx("input",{type:"text",placeholder:"Search PO, Supplier, or Date...",className:"w-full pl-10 pr-4 py-2 border rounded-lg dark:bg-gray-800 dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none",value:o,onChange:M=>c(M.target.value)})]}),g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsxs("span",{className:"text-sm text-gray-500",children:[d.size," selected"]}),d.size>0&&g.jsx("div",{className:"flex items-center gap-2",children:g.jsxs("div",{className:"relative group",children:[g.jsx("button",{className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-sm font-bold shadow-sm hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",children:"Bulk Actions"}),g.jsx("div",{className:"absolute top-full left-0 pt-2 w-48 z-50 hidden group-hover:block",children:g.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:g.jsxs("div",{className:"p-2",children:[g.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase px-2 py-1",children:"Set Status"}),g.jsx("button",{onClick:()=>C("confirmed"),className:"w-full text-left px-2 py-2 hover:bg-green-50 dark:hover:bg-green-900/30 rounded text-sm text-green-700 dark:text-green-400 font-bold",children:"Mark as Confirmed"}),g.jsx("button",{onClick:()=>C("ordered"),className:"w-full text-left px-2 py-2 hover:bg-yellow-50 dark:hover:bg-yellow-900/30 rounded text-sm text-yellow-700 dark:text-yellow-400",children:"Mark as Ordered"}),g.jsx("button",{onClick:()=>C("cancelled"),className:"w-full text-left px-2 py-2 hover:bg-red-50 dark:hover:bg-red-900/30 rounded text-sm text-red-600 dark:text-red-400 font-bold",children:"Mark for Cancellation"}),g.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700 my-1"}),g.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase px-2 py-1",children:"Set properties"}),g.jsx("button",{onClick:()=>{const M=prompt("Enter Target Year (e.g. 2025):",new Date().getFullYear());M&&T(M)},className:"w-full text-left px-2 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded text-sm text-gray-700 dark:text-gray-200",children:"Set Year..."}),g.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700 my-1"}),g.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase px-2 py-1",children:"Assign SKU"}),Object.keys(l).map(M=>g.jsx("button",{onClick:()=>A(M),className:"w-full text-left px-2 py-1.5 hover:bg-purple-50 dark:hover:bg-purple-900/30 rounded text-sm text-gray-700 dark:text-gray-200",children:M},M))]})})})]})}),g.jsxs("button",{onClick:P,disabled:d.size===0,className:"flex items-center gap-2 px-4 py-2 bg-red-50 text-red-600 hover:bg-red-100 rounded-lg font-bold disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[g.jsx(Es,{className:"w-5 h-5"}),"Delete"]})]})]}),g.jsx("div",{className:"flex-1 overflow-auto",children:g.jsxs("table",{className:"w-full text-left border-collapse",children:[g.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800 sticky top-0 z-10 shadow-sm",children:g.jsxs("tr",{children:[g.jsx("th",{className:"p-4 w-12 border-b dark:border-gray-700",children:g.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500",checked:j.length>0&&d.size===j.length,onChange:E})}),g.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase border-b dark:border-gray-700",children:"Date"}),g.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase border-b dark:border-gray-700",children:"Time"}),g.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase border-b dark:border-gray-700",children:"PO Number"}),g.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase border-b dark:border-gray-700",children:"SKU"}),g.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase border-b dark:border-gray-700",children:"Supplier"}),g.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase border-b dark:border-gray-700",children:"Trucks"}),g.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase border-b dark:border-gray-700",children:"Carrier"}),g.jsx("th",{className:"p-4 w-12 border-b dark:border-gray-700"})]})}),g.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700 bg-white dark:bg-gray-900",children:j.length===0?g.jsx("tr",{children:g.jsx("td",{colSpan:"7",className:"p-10 text-center text-gray-400 italic",children:"No orders found matching your search."})}):j.map(M=>g.jsxs("tr",{className:`hover:bg-blue-50 dark:hover:bg-gray-800 transition-colors ${d.has(M.id)?"bg-blue-50 dark:bg-blue-900/20":""}`,children:[g.jsx("td",{className:"p-4",children:g.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500",checked:d.has(M.id),onChange:()=>N(M.id)})}),g.jsx("td",{className:"p-4 text-sm font-medium text-gray-900 dark:text-white text-nowrap",children:new Date(M.date+"T00:00:00").toLocaleDateString()}),g.jsx("td",{className:"p-4 text-sm text-gray-500 dark:text-gray-400 font-mono",children:M.time&&M.time!=="00:00"?Iu(M.time):"-"}),g.jsx("td",{className:"p-4 text-sm font-mono text-gray-600 dark:text-gray-300",children:M.po}),g.jsx("td",{className:"p-4",children:M.sku?g.jsx("span",{className:"px-2 py-1 bg-purple-100 dark:bg-purple-900 text-purple-700 dark:text-purple-300 rounded text-xs font-bold",children:M.sku}):g.jsx("span",{className:"text-gray-400 text-xs italic",children:"Any"})}),g.jsx("td",{className:"p-4 text-sm text-gray-600 dark:text-gray-300",children:M.supplier}),g.jsx("td",{className:"p-4",children:g.jsx("span",{className:"px-2 py-0.5 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded text-xs font-bold",children:"1 Truck"})}),g.jsx("td",{className:"p-4 text-sm text-gray-500 dark:text-gray-400",children:M.carrier||"-"}),g.jsx("td",{className:"p-4",children:g.jsx("button",{onClick:()=>S(M),className:"p-1 text-gray-400 hover:text-blue-600 transition-colors",title:"Edit Order",children:g.jsx(Ru,{className:"w-5 h-5"})})})]},M.id))})]})}),g.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 text-xs text-gray-500 border-t border-gray-200 dark:border-gray-700 flex justify-between",children:[g.jsxs("span",{children:["Showing ",j.length," of ",_.length," orders"]}),g.jsx("span",{className:"text-gray-400",children:"Press Shift to select range (coming soon)"})]})]})}),g.jsx(xU,{isOpen:m,onClose:()=>p(!1),order:v})]})}function SU({selectedSize:e,setSelectedSize:t,floorCount:r,setFloorCount:n,yardCount:i,setYardCount:l,yardUnit:o,setYardUnit:c,sizes:d,palletsPerTruck:h}){return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-4 rounded-lg border border-purple-100 dark:border-purple-800",children:[g.jsx("h3",{className:"font-bold text-purple-900 dark:text-purple-300 mb-1",children:"Morning Inventory Count"}),g.jsxs("p",{className:"text-sm text-purple-700 dark:text-purple-400",children:["What is physically on the floor and in the yard ",g.jsx("strong",{children:"right now"}),"?"]})]}),g.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg border border-gray-200 dark:border-gray-700",children:[g.jsx("label",{className:"block text-xs uppercase font-bold text-gray-500 mb-2",children:"Select Product"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:d.map(m=>g.jsx("button",{onClick:()=>t(m),className:`px-3 py-1.5 rounded-md text-sm font-bold transition-colors ${e===m?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:m},m))})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:"Floor Count (Pallets)"}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:g.jsx(Eb,{className:"h-5 w-5 text-gray-400"})}),g.jsx("input",{type:"number",autoFocus:!0,value:r,onChange:m=>n(m.target.value),className:"w-full pl-10 pr-4 py-3 text-xl font-bold border rounded-lg shadow-sm focus:ring-2 focus:ring-purple-500 dark:bg-gray-800 dark:text-white dark:border-gray-600"})]}),g.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Count all finished goods on the floor."})]}),g.jsxs("div",{children:[g.jsxs("div",{className:"flex justify-between items-center mb-2",children:[g.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300",children:"Yard Count"}),g.jsxs("div",{className:"flex bg-gray-200 dark:bg-gray-700 rounded-md p-0.5",children:[g.jsx("button",{onClick:()=>c("loads"),className:`px-2 py-0.5 text-xs font-bold rounded-sm ${o==="loads"?"bg-white text-blue-600 shadow-sm":"text-gray-500"}`,children:"Loads"}),g.jsx("button",{onClick:()=>c("pallets"),className:`px-2 py-0.5 text-xs font-bold rounded-sm ${o==="pallets"?"bg-white text-blue-600 shadow-sm":"text-gray-500"}`,children:"Pallets"})]})]}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:g.jsx(Zn,{className:"h-5 w-5 text-gray-400"})}),g.jsx("input",{type:"number",value:o==="loads"?i:i===""?"":Math.round(i*h),onChange:m=>{const p=m.target.value===""?"":Number(m.target.value);l(o==="loads"?p:p===""?"":p/h)},className:"w-full pl-10 pr-4 py-3 text-xl font-bold border rounded-lg shadow-sm focus:ring-2 focus:ring-purple-500 dark:bg-gray-800 dark:text-white dark:border-gray-600"})]}),g.jsx("p",{className:"text-xs text-gray-500 mt-1",children:o==="loads"?"Number of fully loaded trailers.":`Total pallets (~${Math.round(h)} per load).`})]})]})]})}function pT({isOpen:e,onClose:t,state:r,setters:n}){const{bottleDefinitions:i}=St(),l=Object.keys(i),o=i[r.selectedSize],c=o?.bottlesPerTruck||2e4,d=(o?.bottlesPerCase||12)*(o?.casesPerPallet||100),h=c/d,[m,p]=b.useState(1),[v,x]=b.useState(""),[S,k]=b.useState(""),[_,j]=b.useState("loads");b.useEffect(()=>{e&&(x(r.inventoryAnchor?.count||0),k(r.yardInventory?.effectiveCount||0),p(1))},[e,r.inventoryAnchor,r.yardInventory]);const N=()=>{const P=zr();n.setInventoryAnchor({date:P,count:Number(v)}),n.updateYardInventory(Number(S)),t()},E=()=>g.jsxs("div",{className:"text-center py-6 space-y-6",children:[g.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100 dark:bg-green-900/30",children:g.jsx(ql,{className:"h-10 w-10 text-green-600 dark:text-green-400"})}),g.jsxs("div",{children:[g.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:["Ready to Update ",r.selectedSize,"?"]}),g.jsxs("p",{className:"text-gray-500 dark:text-gray-400 mt-2 max-w-sm mx-auto",children:["The system will reset the ",g.jsx("strong",{children:r.selectedSize})," inventory baseline to ",g.jsxs("strong",{children:[v," Pallets"]})," + ",g.jsxs("strong",{children:[S," Loads"]}),"."]})]}),g.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700 max-w-sm mx-auto text-left text-sm space-y-2",children:[g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-gray-500",children:"New Floor Count:"}),g.jsxs("span",{className:"font-mono font-bold",children:[v," plts"]})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-gray-500",children:"New Yard Count:"}),g.jsxs("span",{className:"font-mono font-bold",children:[Number(S).toFixed(1)," loads ",g.jsxs("span",{className:"text-gray-400 text-xs",children:["(",Math.round(S*h)," plts)"]})]})]})]})]});return e?g.jsxs("div",{className:"relative z-50","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:[g.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"}),g.jsx("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto",children:g.jsx("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:g.jsxs("div",{className:"relative transform overflow-hidden rounded-lg bg-white dark:bg-gray-900 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg border dark:border-gray-700 p-6",children:[g.jsxs("div",{className:"sm:flex sm:items-start mb-6",children:[g.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-blue-100 dark:bg-blue-900/30 sm:mx-0 sm:h-10 sm:w-10",children:g.jsx(Mu,{className:"h-6 w-6 text-blue-600 dark:text-blue-400","aria-hidden":"true"})}),g.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[g.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 dark:text-white",id:"modal-title",children:"Morning True-Up"}),g.jsx("div",{className:"mt-2 text-left",children:g.jsxs("div",{className:"flex items-center space-x-2 text-xs font-medium text-gray-400",children:[g.jsx("span",{className:`${m===1?"text-blue-600 dark:text-blue-400":""}`,children:"1. Inventory"}),g.jsx("span",{children:""}),g.jsx("span",{className:`${m===2?"text-blue-600 dark:text-blue-400":""}`,children:"2. Confirm"})]})})]})]}),g.jsxs("div",{className:"mt-2",children:[m===1&&g.jsx(SU,{selectedSize:r.selectedSize,setSelectedSize:n.setSelectedSize,floorCount:v,setFloorCount:x,yardCount:S,setYardCount:k,yardUnit:_,setYardUnit:j,sizes:l,palletsPerTruck:h}),m===2&&E()]}),g.jsxs("div",{className:"mt-8 sm:mt-6 sm:grid sm:grid-flow-row-dense sm:grid-cols-2 sm:gap-3",children:[m<2?g.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:col-start-2 sm:text-sm",onClick:()=>p(P=>P+1),children:"Next Step"}):g.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-green-600 text-base font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 sm:col-start-2 sm:text-sm",onClick:N,children:"Update Plan"}),m>1?g.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 dark:border-gray-600 shadow-sm px-4 py-2 bg-white dark:bg-gray-800 text-base font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:col-start-1 sm:mt-0 sm:text-sm",onClick:()=>p(P=>P-1),children:"Back"}):g.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 dark:border-gray-600 shadow-sm px-4 py-2 bg-white dark:bg-gray-800 text-base font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:col-start-1 sm:mt-0 sm:text-sm",onClick:t,children:"Cancel"})]})]})})})]}):null}var _U=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Kb(e){if(typeof e!="string")return!1;var t=_U;return t.includes(e)}var kU=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],jU=new Set(kU);function vT(e){return typeof e!="string"?!1:jU.has(e)}function yT(e){return typeof e=="string"&&e.startsWith("data-")}function Qn(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(vT(r)||yT(r))&&(t[r]=e[r]);return t}function e0(e){if(e==null)return null;if(b.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Qn(t)}return typeof e=="object"&&!Array.isArray(e)?Qn(e):null}function wr(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(vT(r)||yT(r)||Kb(r))&&(t[r]=e[r]);return t}function EU(e){return e==null?null:b.isValidElement(e)?wr(e.props):typeof e=="object"&&!Array.isArray(e)?wr(e):null}var OU=["children","width","height","viewBox","className","style","title","desc"];function Ey(){return Ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ey.apply(null,arguments)}function NU(e,t){if(e==null)return{};var r,n,i=AU(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function AU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Vb=b.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:l,className:o,style:c,title:d,desc:h}=e,m=NU(e,OU),p=l||{width:n,height:i,x:0,y:0},v=Qe("recharts-surface",o);return b.createElement("svg",Ey({},wr(m),{className:v,width:n,height:i,style:c,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:t}),b.createElement("title",null,d),b.createElement("desc",null,h),r)}),TU=["children","className"];function Oy(){return Oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oy.apply(null,arguments)}function CU(e,t){if(e==null)return{};var r,n,i=PU(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function PU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Di=b.forwardRef((e,t)=>{var{children:r,className:n}=e,i=CU(e,TU),l=Qe("recharts-layer",n);return b.createElement("g",Oy({className:l},wr(i),{ref:t}),r)}),bT=b.createContext(null),DU=()=>b.useContext(bT);function nt(e){return function(){return e}}const xT=Math.cos,Gf=Math.sin,zn=Math.sqrt,Yf=Math.PI,t0=2*Yf,Ny=Math.PI,Ay=2*Ny,ds=1e-6,MU=Ay-ds;function wT(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function RU(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return wT;const r=10**t;return function(n){this._+=n[0];for(let i=1,l=n.length;i<l;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class $U{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?wT:RU(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,l,o){this._append`C${+t},${+r},${+n},${+i},${this._x1=+l},${this._y1=+o}`}arcTo(t,r,n,i,l){if(t=+t,r=+r,n=+n,i=+i,l=+l,l<0)throw new Error(`negative radius: ${l}`);let o=this._x1,c=this._y1,d=n-t,h=i-r,m=o-t,p=c-r,v=m*m+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(v>ds)if(!(Math.abs(p*d-h*m)>ds)||!l)this._append`L${this._x1=t},${this._y1=r}`;else{let x=n-o,S=i-c,k=d*d+h*h,_=x*x+S*S,j=Math.sqrt(k),N=Math.sqrt(v),E=l*Math.tan((Ny-Math.acos((k+v-_)/(2*j*N)))/2),P=E/N,A=E/j;Math.abs(P-1)>ds&&this._append`L${t+P*m},${r+P*p}`,this._append`A${l},${l},0,0,${+(p*x>m*S)},${this._x1=t+A*d},${this._y1=r+A*h}`}}arc(t,r,n,i,l,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let c=n*Math.cos(i),d=n*Math.sin(i),h=t+c,m=r+d,p=1^o,v=o?i-l:l-i;this._x1===null?this._append`M${h},${m}`:(Math.abs(this._x1-h)>ds||Math.abs(this._y1-m)>ds)&&this._append`L${h},${m}`,n&&(v<0&&(v=v%Ay+Ay),v>MU?this._append`A${n},${n},0,1,${p},${t-c},${r-d}A${n},${n},0,1,${p},${this._x1=h},${this._y1=m}`:v>ds&&this._append`A${n},${n},0,${+(v>=Ny)},${p},${this._x1=t+n*Math.cos(l)},${this._y1=r+n*Math.sin(l)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Gb(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new $U(t)}function Yb(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function ST(e){this._context=e}ST.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function r0(e){return new ST(e)}function _T(e){return e[0]}function kT(e){return e[1]}function jT(e,t){var r=nt(!0),n=null,i=r0,l=null,o=Gb(c);e=typeof e=="function"?e:e===void 0?_T:nt(e),t=typeof t=="function"?t:t===void 0?kT:nt(t);function c(d){var h,m=(d=Yb(d)).length,p,v=!1,x;for(n==null&&(l=i(x=o())),h=0;h<=m;++h)!(h<m&&r(p=d[h],h,d))===v&&((v=!v)?l.lineStart():l.lineEnd()),v&&l.point(+e(p,h,d),+t(p,h,d));if(x)return l=null,x+""||null}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:nt(+d),c):e},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:nt(+d),c):t},c.defined=function(d){return arguments.length?(r=typeof d=="function"?d:nt(!!d),c):r},c.curve=function(d){return arguments.length?(i=d,n!=null&&(l=i(n)),c):i},c.context=function(d){return arguments.length?(d==null?n=l=null:l=i(n=d),c):n},c}function lf(e,t,r){var n=null,i=nt(!0),l=null,o=r0,c=null,d=Gb(h);e=typeof e=="function"?e:e===void 0?_T:nt(+e),t=typeof t=="function"?t:nt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?kT:nt(+r);function h(p){var v,x,S,k=(p=Yb(p)).length,_,j=!1,N,E=new Array(k),P=new Array(k);for(l==null&&(c=o(N=d())),v=0;v<=k;++v){if(!(v<k&&i(_=p[v],v,p))===j)if(j=!j)x=v,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),S=v-1;S>=x;--S)c.point(E[S],P[S]);c.lineEnd(),c.areaEnd()}j&&(E[v]=+e(_,v,p),P[v]=+t(_,v,p),c.point(n?+n(_,v,p):E[v],r?+r(_,v,p):P[v]))}if(N)return c=null,N+""||null}function m(){return jT().defined(i).curve(o).context(l)}return h.x=function(p){return arguments.length?(e=typeof p=="function"?p:nt(+p),n=null,h):e},h.x0=function(p){return arguments.length?(e=typeof p=="function"?p:nt(+p),h):e},h.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:nt(+p),h):n},h.y=function(p){return arguments.length?(t=typeof p=="function"?p:nt(+p),r=null,h):t},h.y0=function(p){return arguments.length?(t=typeof p=="function"?p:nt(+p),h):t},h.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:nt(+p),h):r},h.lineX0=h.lineY0=function(){return m().x(e).y(t)},h.lineY1=function(){return m().x(e).y(r)},h.lineX1=function(){return m().x(n).y(t)},h.defined=function(p){return arguments.length?(i=typeof p=="function"?p:nt(!!p),h):i},h.curve=function(p){return arguments.length?(o=p,l!=null&&(c=o(l)),h):o},h.context=function(p){return arguments.length?(p==null?l=c=null:c=o(l=p),h):l},h}class ET{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function LU(e){return new ET(e,!0)}function IU(e){return new ET(e,!1)}const Wb={draw(e,t){const r=zn(t/Yf);e.moveTo(r,0),e.arc(0,0,r,0,t0)}},UU={draw(e,t){const r=zn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},OT=zn(1/3),zU=OT*2,BU={draw(e,t){const r=zn(t/zU),n=r*OT;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},qU={draw(e,t){const r=zn(t),n=-r/2;e.rect(n,n,r,r)}},HU=.8908130915292852,NT=Gf(Yf/10)/Gf(7*Yf/10),FU=Gf(t0/10)*NT,KU=-xT(t0/10)*NT,VU={draw(e,t){const r=zn(t*HU),n=FU*r,i=KU*r;e.moveTo(0,-r),e.lineTo(n,i);for(let l=1;l<5;++l){const o=t0*l/5,c=xT(o),d=Gf(o);e.lineTo(d*r,-c*r),e.lineTo(c*n-d*i,d*n+c*i)}e.closePath()}},yp=zn(3),GU={draw(e,t){const r=-zn(t/(yp*3));e.moveTo(0,r*2),e.lineTo(-yp*r,-r),e.lineTo(yp*r,-r),e.closePath()}},gn=-.5,pn=zn(3)/2,Ty=1/zn(12),YU=(Ty/2+1)*3,WU={draw(e,t){const r=zn(t/YU),n=r/2,i=r*Ty,l=n,o=r*Ty+r,c=-l,d=o;e.moveTo(n,i),e.lineTo(l,o),e.lineTo(c,d),e.lineTo(gn*n-pn*i,pn*n+gn*i),e.lineTo(gn*l-pn*o,pn*l+gn*o),e.lineTo(gn*c-pn*d,pn*c+gn*d),e.lineTo(gn*n+pn*i,gn*i-pn*n),e.lineTo(gn*l+pn*o,gn*o-pn*l),e.lineTo(gn*c+pn*d,gn*d-pn*c),e.closePath()}};function XU(e,t){let r=null,n=Gb(i);e=typeof e=="function"?e:nt(e||Wb),t=typeof t=="function"?t:nt(t===void 0?64:+t);function i(){let l;if(r||(r=l=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),l)return r=null,l+""||null}return i.type=function(l){return arguments.length?(e=typeof l=="function"?l:nt(l),i):e},i.size=function(l){return arguments.length?(t=typeof l=="function"?l:nt(+l),i):t},i.context=function(l){return arguments.length?(r=l??null,i):r},i}function Wf(){}function Xf(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function AT(e){this._context=e}AT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Xf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Xf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ZU(e){return new AT(e)}function TT(e){this._context=e}TT.prototype={areaStart:Wf,areaEnd:Wf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Xf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function JU(e){return new TT(e)}function CT(e){this._context=e}CT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Xf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function QU(e){return new CT(e)}function PT(e){this._context=e}PT.prototype={areaStart:Wf,areaEnd:Wf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function e9(e){return new PT(e)}function Ok(e){return e<0?-1:1}function Nk(e,t,r){var n=e._x1-e._x0,i=t-e._x1,l=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),c=(l*i+o*n)/(n+i);return(Ok(l)+Ok(o))*Math.min(Math.abs(l),Math.abs(o),.5*Math.abs(c))||0}function Ak(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function bp(e,t,r){var n=e._x0,i=e._y0,l=e._x1,o=e._y1,c=(l-n)/3;e._context.bezierCurveTo(n+c,i+c*t,l-c,o-c*r,l,o)}function Zf(e){this._context=e}Zf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:bp(this,this._t0,Ak(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,bp(this,Ak(this,r=Nk(this,e,t)),r);break;default:bp(this,this._t0,r=Nk(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function DT(e){this._context=new MT(e)}(DT.prototype=Object.create(Zf.prototype)).point=function(e,t){Zf.prototype.point.call(this,t,e)};function MT(e){this._context=e}MT.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,l){this._context.bezierCurveTo(t,e,n,r,l,i)}};function t9(e){return new Zf(e)}function r9(e){return new DT(e)}function RT(e){this._context=e}RT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Tk(e),i=Tk(t),l=0,o=1;o<r;++l,++o)this._context.bezierCurveTo(n[0][l],i[0][l],n[1][l],i[1][l],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Tk(e){var t,r=e.length-1,n,i=new Array(r),l=new Array(r),o=new Array(r);for(i[0]=0,l[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,l[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,l[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/l[t-1],l[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/l[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/l[t];for(l[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)l[t]=2*e[t+1]-i[t+1];return[i,l]}function n9(e){return new RT(e)}function n0(e,t){this._context=e,this._t=t}n0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function a9(e){return new n0(e,.5)}function i9(e){return new n0(e,0)}function s9(e){return new n0(e,1)}function Vl(e,t){if((o=e.length)>1)for(var r=1,n,i,l=e[t[0]],o,c=l.length;r<o;++r)for(i=l,l=e[t[r]],n=0;n<c;++n)l[n][1]+=l[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Cy(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function l9(e,t){return e[t]}function o9(e){const t=[];return t.key=e,t}function u9(){var e=nt([]),t=Cy,r=Vl,n=l9;function i(l){var o=Array.from(e.apply(this,arguments),o9),c,d=o.length,h=-1,m;for(const p of l)for(c=0,++h;c<d;++c)(o[c][h]=[0,+n(p,o[c].key,h,l)]).data=p;for(c=0,m=Yb(t(o));c<d;++c)o[m[c]].index=c;return r(o,m),o}return i.keys=function(l){return arguments.length?(e=typeof l=="function"?l:nt(Array.from(l)),i):e},i.value=function(l){return arguments.length?(n=typeof l=="function"?l:nt(+l),i):n},i.order=function(l){return arguments.length?(t=l==null?Cy:typeof l=="function"?l:nt(Array.from(l)),i):t},i.offset=function(l){return arguments.length?(r=l??Vl,i):r},i}function c9(e,t){if((n=e.length)>0){for(var r,n,i=0,l=e[0].length,o;i<l;++i){for(o=r=0;r<n;++r)o+=e[r][i][1]||0;if(o)for(r=0;r<n;++r)e[r][i][1]/=o}Vl(e,t)}}function d9(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,l=n.length;r<l;++r){for(var o=0,c=0;o<i;++o)c+=e[o][r][1]||0;n[r][1]+=n[r][0]=-c/2}Vl(e,t)}}function f9(e,t){if(!(!((o=e.length)>0)||!((l=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,l,o;n<l;++n){for(var c=0,d=0,h=0;c<o;++c){for(var m=e[t[c]],p=m[n][1]||0,v=m[n-1][1]||0,x=(p-v)/2,S=0;S<c;++S){var k=e[t[S]],_=k[n][1]||0,j=k[n-1][1]||0;x+=_-j}d+=p,h+=x*p}i[n-1][1]+=i[n-1][0]=r,d&&(r-=h/d)}i[n-1][1]+=i[n-1][0]=r,Vl(e,t)}}var xp={},wp={},Ck;function h9(){return Ck||(Ck=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(wp)),wp}var Sp={},Pk;function $T(){return Pk||(Pk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Sp)),Sp}var _p={},Dk;function Xb(){return Dk||(Dk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(_p)),_p}var kp={},jp={},Mk;function m9(){return Mk||(Mk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(jp)),jp}var Rk;function Zb(){return Rk||(Rk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=m9(),r=Xb();function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const l=[],o=i.length;if(o===0)return l;let c=0,d="",h="",m=!1;for(i.charCodeAt(0)===46&&(l.push(""),c++);c<o;){const p=i[c];h?p==="\\"&&c+1<o?(c++,d+=i[c]):p===h?h="":d+=p:m?p==='"'||p==="'"?h=p:p==="]"?(m=!1,l.push(d),d=""):d+=p:p==="["?(m=!0,d&&(l.push(d),d="")):p==="."?d&&(l.push(d),d=""):d+=p,c++}return d&&l.push(d),l}e.toPath=n})(kp)),kp}var $k;function Jb(){return $k||($k=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=h9(),r=$T(),n=Xb(),i=Zb();function l(c,d,h){if(c==null)return h;switch(typeof d){case"string":{if(t.isUnsafeProperty(d))return h;const m=c[d];return m===void 0?r.isDeepKey(d)?l(c,i.toPath(d),h):h:m}case"number":case"symbol":{typeof d=="number"&&(d=n.toKey(d));const m=c[d];return m===void 0?h:m}default:{if(Array.isArray(d))return o(c,d,h);if(Object.is(d?.valueOf(),-0)?d="-0":d=String(d),t.isUnsafeProperty(d))return h;const m=c[d];return m===void 0?h:m}}}function o(c,d,h){if(d.length===0)return h;let m=c;for(let p=0;p<d.length;p++){if(m==null||t.isUnsafeProperty(d[p]))return h;m=m[d[p]]}return m===void 0?h:m}e.get=l})(xp)),xp}var Ep,Lk;function g9(){return Lk||(Lk=1,Ep=Jb().get),Ep}var p9=g9();const a0=aa(p9);var bn=e=>e===0?0:e>0?1:-1,ea=e=>typeof e=="number"&&e!=+e,Ia=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,je=e=>(typeof e=="number"||e instanceof Number)&&!ea(e),ta=e=>je(e)||typeof e=="string",v9=0,zu=e=>{var t=++v9;return"".concat(e||"").concat(t)},Mi=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!je(t)&&typeof t!="string")return n;var l;if(Ia(t)){if(r==null)return n;var o=t.indexOf("%");l=r*parseFloat(t.slice(0,o))/100}else l=+t;return ea(l)&&(l=n),i&&r!=null&&l>r&&(l=r),l},LT=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function Ir(e,t,r){return je(e)&&je(t)?e+r*(t-e):t}function IT(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):a0(n,t))===r)}var Gt=e=>e===null||typeof e>"u",uc=e=>Gt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function y9(e){return e!=null}function cc(){}var b9=["type","size","sizeType"];function Py(){return Py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Py.apply(null,arguments)}function Ik(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Uk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ik(Object(r),!0).forEach(function(n){x9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ik(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function x9(e,t,r){return(t=w9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w9(e){var t=S9(e,"string");return typeof t=="symbol"?t:t+""}function S9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _9(e,t){if(e==null)return{};var r,n,i=k9(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function k9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var UT={symbolCircle:Wb,symbolCross:UU,symbolDiamond:BU,symbolSquare:qU,symbolStar:VU,symbolTriangle:GU,symbolWye:WU},j9=Math.PI/180,E9=e=>{var t="symbol".concat(uc(e));return UT[t]||Wb},O9=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*j9;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},N9=(e,t)=>{UT["symbol".concat(uc(e))]=t},Qb=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=_9(e,b9),l=Uk(Uk({},i),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var c=()=>{var v=E9(o),x=XU().type(v).size(O9(r,n,o)),S=x();if(S!==null)return S},{className:d,cx:h,cy:m}=l,p=wr(l);return je(h)&&je(m)&&je(r)?b.createElement("path",Py({},p,{className:Qe("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(m,")"),d:c()})):null};Qb.registerSymbol=N9;var zT=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,ex=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(b.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{Kb(i)&&(n[i]=(l=>r[i](r,l)))}),n},A9=(e,t,r)=>n=>(e(t,r,n),null),BT=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var l=e[i];Kb(i)&&typeof l=="function"&&(n||(n={}),n[i]=A9(l,t,r))}),n};function zk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function T9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zk(Object(r),!0).forEach(function(n){C9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C9(e,t,r){return(t=P9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P9(e){var t=D9(e,"string");return typeof t=="symbol"?t:t+""}function D9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mr(e,t){var r=T9({},e),n=t,i=Object.keys(t),l=i.reduce((o,c)=>(o[c]===void 0&&n[c]!==void 0&&(o[c]=n[c]),o),r);return l}function Jf(){return Jf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jf.apply(null,arguments)}function Bk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function M9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bk(Object(r),!0).forEach(function(n){R9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R9(e,t,r){return(t=$9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $9(e){var t=L9(e,"string");return typeof t=="symbol"?t:t+""}function L9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yn=32,I9={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function U9(e){var{data:t,iconType:r,inactiveColor:n}=e,i=yn/2,l=yn/6,o=yn/3,c=t.inactive?n:t.color,d=r??t.type;if(d==="none")return null;if(d==="plainline"){var h;return b.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:(h=t.payload)===null||h===void 0?void 0:h.strokeDasharray,x1:0,y1:i,x2:yn,y2:i,className:"recharts-legend-icon"})}if(d==="line")return b.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(yn,"M").concat(2*o,",").concat(i,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(d==="rect")return b.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(yn/8,"h").concat(yn,"v").concat(yn*3/4,"h").concat(-yn,"z"),className:"recharts-legend-icon"});if(b.isValidElement(t.legendIcon)){var m=M9({},t);return delete m.legendIcon,b.cloneElement(t.legendIcon,m)}return b.createElement(Qb,{fill:c,cx:i,cy:i,size:yn,sizeType:"diameter",type:d})}function z9(e){var{payload:t,iconSize:r,layout:n,formatter:i,inactiveColor:l,iconType:o}=e,c={x:0,y:0,width:yn,height:yn},d={display:n==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((m,p)=>{var v=m.formatter||i,x=Qe({"recharts-legend-item":!0,["legend-item-".concat(p)]:!0,inactive:m.inactive});if(m.type==="none")return null;var S=m.inactive?l:m.color,k=v?v(m.value,m,p):m.value;return b.createElement("li",Jf({className:x,style:d,key:"legend-item-".concat(p)},BT(e,m,p)),b.createElement(Vb,{width:r,height:r,viewBox:c,style:h,"aria-label":"".concat(k," legend icon")},b.createElement(U9,{data:m,iconType:o,inactiveColor:l})),b.createElement("span",{className:"recharts-legend-item-text",style:{color:S}},k))})}var B9=e=>{var t=mr(e,I9),{payload:r,layout:n,align:i}=t;if(!r||!r.length)return null;var l={padding:0,margin:0,textAlign:n==="horizontal"?i:"left"};return b.createElement("ul",{className:"recharts-default-legend",style:l},b.createElement(z9,Jf({},t,{payload:r})))},Op={},Np={},qk;function q9(){return qk||(qk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let l=0;l<r.length;l++){const o=r[l],c=n(o);i.has(c)||i.set(c,o)}return Array.from(i.values())}e.uniqBy=t})(Np)),Np}var Ap={},Hk;function qT(){return Hk||(Hk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Ap)),Ap}var Tp={},Cp={},Pp={},Fk;function H9(){return Fk||(Fk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(Pp)),Pp}var Kk;function tx(){return Kk||(Kk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H9();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Cp)),Cp}var Dp={},Vk;function F9(){return Vk||(Vk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(Dp)),Dp}var Gk;function K9(){return Gk||(Gk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tx(),r=F9();function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(Tp)),Tp}var Mp={},Rp={},Yk;function V9(){return Yk||(Yk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jb();function r(n){return function(i){return t.get(i,n)}}e.property=r})(Rp)),Rp}var $p={},Lp={},Ip={},Up={},Wk;function HT(){return Wk||(Wk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Up)),Up}var zp={},Xk;function FT(){return Xk||(Xk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(zp)),zp}var Bp={},Zk;function KT(){return Zk||(Zk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(Bp)),Bp}var Jk;function G9(){return Jk||(Jk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HT(),r=FT(),n=KT();function i(m,p,v){return typeof v!="function"?i(m,p,()=>{}):l(m,p,function x(S,k,_,j,N,E){const P=v(S,k,_,j,N,E);return P!==void 0?!!P:l(S,k,x,E)},new Map)}function l(m,p,v,x){if(p===m)return!0;switch(typeof p){case"object":return o(m,p,v,x);case"function":return Object.keys(p).length>0?l(m,{...p},v,x):n.eq(m,p);default:return t.isObject(m)?typeof p=="string"?p==="":!0:n.eq(m,p)}}function o(m,p,v,x){if(p==null)return!0;if(Array.isArray(p))return d(m,p,v,x);if(p instanceof Map)return c(m,p,v,x);if(p instanceof Set)return h(m,p,v,x);const S=Object.keys(p);if(m==null)return S.length===0;if(S.length===0)return!0;if(x?.has(p))return x.get(p)===m;x?.set(p,m);try{for(let k=0;k<S.length;k++){const _=S[k];if(!r.isPrimitive(m)&&!(_ in m)||p[_]===void 0&&m[_]!==void 0||p[_]===null&&m[_]!==null||!v(m[_],p[_],_,m,p,x))return!1}return!0}finally{x?.delete(p)}}function c(m,p,v,x){if(p.size===0)return!0;if(!(m instanceof Map))return!1;for(const[S,k]of p.entries()){const _=m.get(S);if(v(_,k,S,m,p,x)===!1)return!1}return!0}function d(m,p,v,x){if(p.length===0)return!0;if(!Array.isArray(m))return!1;const S=new Set;for(let k=0;k<p.length;k++){const _=p[k];let j=!1;for(let N=0;N<m.length;N++){if(S.has(N))continue;const E=m[N];let P=!1;if(v(E,_,k,m,p,x)&&(P=!0),P){S.add(N),j=!0;break}}if(!j)return!1}return!0}function h(m,p,v,x){return p.size===0?!0:m instanceof Set?d([...m],[...p],v,x):!1}e.isMatchWith=i,e.isSetMatch=h})(Ip)),Ip}var Qk;function VT(){return Qk||(Qk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=G9();function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(Lp)),Lp}var qp={},Hp={},Fp={},ej;function Y9(){return ej||(ej=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(Fp)),Fp}var Kp={},tj;function GT(){return tj||(tj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Kp)),Kp}var Vp={},rj;function YT(){return rj||(rj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",l="[object Arguments]",o="[object Symbol]",c="[object Date]",d="[object Map]",h="[object Set]",m="[object Array]",p="[object Function]",v="[object ArrayBuffer]",x="[object Object]",S="[object Error]",k="[object DataView]",_="[object Uint8Array]",j="[object Uint8ClampedArray]",N="[object Uint16Array]",E="[object Uint32Array]",P="[object BigUint64Array]",A="[object Int8Array]",T="[object Int16Array]",C="[object Int32Array]",M="[object BigInt64Array]",$="[object Float32Array]",R="[object Float64Array]";e.argumentsTag=l,e.arrayBufferTag=v,e.arrayTag=m,e.bigInt64ArrayTag=M,e.bigUint64ArrayTag=P,e.booleanTag=i,e.dataViewTag=k,e.dateTag=c,e.errorTag=S,e.float32ArrayTag=$,e.float64ArrayTag=R,e.functionTag=p,e.int16ArrayTag=T,e.int32ArrayTag=C,e.int8ArrayTag=A,e.mapTag=d,e.numberTag=n,e.objectTag=x,e.regexpTag=t,e.setTag=h,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=N,e.uint32ArrayTag=E,e.uint8ArrayTag=_,e.uint8ClampedArrayTag=j})(Vp)),Vp}var Gp={},nj;function W9(){return nj||(nj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(Gp)),Gp}var aj;function WT(){return aj||(aj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Y9(),r=GT(),n=YT(),i=FT(),l=W9();function o(m,p){return c(m,void 0,m,new Map,p)}function c(m,p,v,x=new Map,S=void 0){const k=S?.(m,p,v,x);if(k!==void 0)return k;if(i.isPrimitive(m))return m;if(x.has(m))return x.get(m);if(Array.isArray(m)){const _=new Array(m.length);x.set(m,_);for(let j=0;j<m.length;j++)_[j]=c(m[j],j,v,x,S);return Object.hasOwn(m,"index")&&(_.index=m.index),Object.hasOwn(m,"input")&&(_.input=m.input),_}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const _=new RegExp(m.source,m.flags);return _.lastIndex=m.lastIndex,_}if(m instanceof Map){const _=new Map;x.set(m,_);for(const[j,N]of m)_.set(j,c(N,j,v,x,S));return _}if(m instanceof Set){const _=new Set;x.set(m,_);for(const j of m)_.add(c(j,void 0,v,x,S));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(l.isTypedArray(m)){const _=new(Object.getPrototypeOf(m)).constructor(m.length);x.set(m,_);for(let j=0;j<m.length;j++)_[j]=c(m[j],j,v,x,S);return _}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const _=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return x.set(m,_),d(_,m,v,x,S),_}if(typeof File<"u"&&m instanceof File){const _=new File([m],m.name,{type:m.type});return x.set(m,_),d(_,m,v,x,S),_}if(typeof Blob<"u"&&m instanceof Blob){const _=new Blob([m],{type:m.type});return x.set(m,_),d(_,m,v,x,S),_}if(m instanceof Error){const _=new m.constructor;return x.set(m,_),_.message=m.message,_.name=m.name,_.stack=m.stack,_.cause=m.cause,d(_,m,v,x,S),_}if(m instanceof Boolean){const _=new Boolean(m.valueOf());return x.set(m,_),d(_,m,v,x,S),_}if(m instanceof Number){const _=new Number(m.valueOf());return x.set(m,_),d(_,m,v,x,S),_}if(m instanceof String){const _=new String(m.valueOf());return x.set(m,_),d(_,m,v,x,S),_}if(typeof m=="object"&&h(m)){const _=Object.create(Object.getPrototypeOf(m));return x.set(m,_),d(_,m,v,x,S),_}return m}function d(m,p,v=m,x,S){const k=[...Object.keys(p),...t.getSymbols(p)];for(let _=0;_<k.length;_++){const j=k[_],N=Object.getOwnPropertyDescriptor(m,j);(N==null||N.writable)&&(m[j]=c(p[j],j,v,x,S))}}function h(m){switch(r.getTag(m)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=c,e.copyProperties=d})(Hp)),Hp}var ij;function X9(){return ij||(ij=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WT();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(qp)),qp}var sj;function Z9(){return sj||(sj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VT(),r=X9();function n(i){return i=r.cloneDeep(i),l=>t.isMatch(l,i)}e.matches=n})($p)),$p}var Yp={},Wp={},Xp={},lj;function J9(){return lj||(lj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WT(),r=YT();function n(i,l){return t.cloneDeepWith(i,(o,c,d,h)=>{const m=l?.(o,c,d,h);if(m!==void 0)return m;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const p=new i.constructor(i?.valueOf());return t.copyProperties(p,i),p}case r.argumentsTag:{const p={};return t.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}e.cloneDeepWith=n})(Xp)),Xp}var oj;function Q9(){return oj||(oj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J9();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(Wp)),Wp}var Zp={},Jp={},uj;function XT(){return uj||(uj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Jp)),Jp}var Qp={},cj;function ez(){return cj||(cj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GT();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(Qp)),Qp}var dj;function tz(){return dj||(dj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$T(),r=XT(),n=ez(),i=Zb();function l(o,c){let d;if(Array.isArray(c)?d=c:typeof c=="string"&&t.isDeepKey(c)&&o?.[c]==null?d=i.toPath(c):d=[c],d.length===0)return!1;let h=o;for(let m=0;m<d.length;m++){const p=d[m];if((h==null||!Object.hasOwn(h,p))&&!((Array.isArray(h)||n.isArguments(h))&&r.isIndex(p)&&p<h.length))return!1;h=h[p]}return!0}e.has=l})(Zp)),Zp}var fj;function rz(){return fj||(fj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VT(),r=Xb(),n=Q9(),i=Jb(),l=tz();function o(c,d){switch(typeof c){case"object":{Object.is(c?.valueOf(),-0)&&(c="-0");break}case"number":{c=r.toKey(c);break}}return d=n.cloneDeep(d),function(h){const m=i.get(h,c);return m===void 0?l.has(h,c):d===void 0?m===void 0:t.isMatch(m,d)}}e.matchesProperty=o})(Yp)),Yp}var hj;function nz(){return hj||(hj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qT(),r=V9(),n=Z9(),i=rz();function l(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=l})(Mp)),Mp}var mj;function az(){return mj||(mj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=q9(),r=qT(),n=K9(),i=nz();function l(o,c=r.identity){return n.isArrayLikeObject(o)?t.uniqBy(Array.from(o),i.iteratee(c)):[]}e.uniqBy=l})(Op)),Op}var ev,gj;function iz(){return gj||(gj=1,ev=az().uniqBy),ev}var sz=iz();const pj=aa(sz);function ZT(e,t,r){return t===!0?pj(e,r):typeof t=="function"?pj(e,t):e}var tv={exports:{}},rv={},nv={exports:{}},av={};var vj;function lz(){if(vj)return av;vj=1;var e=eo();function t(p,v){return p===v&&(p!==0||1/p===1/v)||p!==p&&v!==v}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,i=e.useEffect,l=e.useLayoutEffect,o=e.useDebugValue;function c(p,v){var x=v(),S=n({inst:{value:x,getSnapshot:v}}),k=S[0].inst,_=S[1];return l(function(){k.value=x,k.getSnapshot=v,d(k)&&_({inst:k})},[p,x,v]),i(function(){return d(k)&&_({inst:k}),p(function(){d(k)&&_({inst:k})})},[p]),o(x),x}function d(p){var v=p.getSnapshot;p=p.value;try{var x=v();return!r(p,x)}catch{return!0}}function h(p,v){return v()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return av.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:m,av}var yj;function oz(){return yj||(yj=1,nv.exports=lz()),nv.exports}var bj;function uz(){if(bj)return rv;bj=1;var e=eo(),t=oz();function r(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var n=typeof Object.is=="function"?Object.is:r,i=t.useSyncExternalStore,l=e.useRef,o=e.useEffect,c=e.useMemo,d=e.useDebugValue;return rv.useSyncExternalStoreWithSelector=function(h,m,p,v,x){var S=l(null);if(S.current===null){var k={hasValue:!1,value:null};S.current=k}else k=S.current;S=c(function(){function j(T){if(!N){if(N=!0,E=T,T=v(T),x!==void 0&&k.hasValue){var C=k.value;if(x(C,T))return P=C}return P=T}if(C=P,n(E,T))return C;var M=v(T);return x!==void 0&&x(C,M)?(E=T,C):(E=T,P=M)}var N=!1,E,P,A=p===void 0?null:p;return[function(){return j(m())},A===null?void 0:function(){return j(A())}]},[m,p,v,x]);var _=i(h,S[0],S[1]);return o(function(){k.hasValue=!0,k.value=_},[_]),d(_),_},rv}var xj;function cz(){return xj||(xj=1,tv.exports=uz()),tv.exports}var dz=cz(),rx=b.createContext(null),fz=e=>e,Pt=()=>{var e=b.useContext(rx);return e?e.store.dispatch:fz},Of=()=>{},hz=()=>Of,mz=(e,t)=>e===t;function _e(e){var t=b.useContext(rx);return dz.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:hz,t?t.store.getState:Of,t?t.store.getState:Of,t?e:Of,mz)}function gz(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function pz(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function vz(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var wj=e=>Array.isArray(e)?e:[e];function yz(e){const t=Array.isArray(e[0])?e[0]:e;return vz(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function bz(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var xz=class{constructor(e){this.value=e}deref(){return this.value}},wz=typeof WeakRef<"u"?WeakRef:xz,Sz=0,Sj=1;function of(){return{s:Sz,v:void 0,o:null,p:null}}function JT(e,t={}){let r=of();const{resultEqualityCheck:n}=t;let i,l=0;function o(){let c=r;const{length:d}=arguments;for(let p=0,v=d;p<v;p++){const x=arguments[p];if(typeof x=="function"||typeof x=="object"&&x!==null){let S=c.o;S===null&&(c.o=S=new WeakMap);const k=S.get(x);k===void 0?(c=of(),S.set(x,c)):c=k}else{let S=c.p;S===null&&(c.p=S=new Map);const k=S.get(x);k===void 0?(c=of(),S.set(x,c)):c=k}}const h=c;let m;if(c.s===Sj)m=c.v;else if(m=e.apply(null,arguments),l++,n){const p=i?.deref?.()??i;p!=null&&n(p,m)&&(m=p,l!==0&&l--),i=typeof m=="object"&&m!==null||typeof m=="function"?new wz(m):m}return h.s=Sj,h.v=m,m}return o.clearCache=()=>{r=of(),o.resetResultsCount()},o.resultsCount=()=>l,o.resetResultsCount=()=>{l=0},o}function _z(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let l=0,o=0,c,d={},h=i.pop();typeof h=="object"&&(d=h,h=i.pop()),gz(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const m={...r,...d},{memoize:p,memoizeOptions:v=[],argsMemoize:x=JT,argsMemoizeOptions:S=[]}=m,k=wj(v),_=wj(S),j=yz(i),N=p(function(){return l++,h.apply(null,arguments)},...k),E=x(function(){o++;const A=bz(j,arguments);return c=N.apply(null,A),c},..._);return Object.assign(E,{resultFunc:h,memoizedResultFunc:N,dependencies:j,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>c,recomputations:()=>l,resetRecomputations:()=>{l=0},memoize:p,argsMemoize:x})};return Object.assign(n,{withTypes:()=>n}),n}var Q=_z(JT),kz=Object.assign((e,t=Q)=>{pz(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(l=>e[l]);return t(n,(...l)=>l.reduce((o,c,d)=>(o[r[d]]=c,o),{}))},{withTypes:()=>kz}),iv={},sv={},lv={},_j;function jz(){return _j||(_j=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,l)=>{if(n!==i){const o=t(n),c=t(i);if(o===c&&o===0){if(n<i)return l==="desc"?1:-1;if(n>i)return l==="desc"?-1:1}return l==="desc"?c-o:o-c}return 0};e.compareValues=r})(lv)),lv}var ov={},uv={},kj;function QT(){return kj||(kj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(uv)),uv}var jj;function Ez(){return jj||(jj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QT(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(l,o){return Array.isArray(l)?!1:typeof l=="number"||typeof l=="boolean"||l==null||t.isSymbol(l)?!0:typeof l=="string"&&(n.test(l)||!r.test(l))||o!=null&&Object.hasOwn(o,l)}e.isKey=i})(ov)),ov}var Ej;function Oz(){return Ej||(Ej=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jz(),r=Ez(),n=Zb();function i(l,o,c,d){if(l==null)return[];c=d?void 0:c,Array.isArray(l)||(l=Object.values(l)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(x=>String(x));const h=(x,S)=>{let k=x;for(let _=0;_<S.length&&k!=null;++_)k=k[S[_]];return k},m=(x,S)=>S==null||x==null?S:typeof x=="object"&&"key"in x?Object.hasOwn(S,x.key)?S[x.key]:h(S,x.path):typeof x=="function"?x(S):Array.isArray(x)?h(S,x):typeof S=="object"?S[x]:S,p=o.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||r.isKey(x)?x:{key:x,path:n.toPath(x)}));return l.map(x=>({original:x,criteria:p.map(S=>m(S,x))})).slice().sort((x,S)=>{for(let k=0;k<p.length;k++){const _=t.compareValues(x.criteria[k],S.criteria[k],c[k]);if(_!==0)return _}return 0}).map(x=>x.original)}e.orderBy=i})(sv)),sv}var cv={},Oj;function Nz(){return Oj||(Oj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],l=Math.floor(n),o=(c,d)=>{for(let h=0;h<c.length;h++){const m=c[h];Array.isArray(m)&&d<l?o(m,d+1):i.push(m)}};return o(r,0),i}e.flatten=t})(cv)),cv}var dv={},Nj;function eC(){return Nj||(Nj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XT(),r=tx(),n=HT(),i=KT();function l(o,c,d){return n.isObject(d)&&(typeof c=="number"&&r.isArrayLike(d)&&t.isIndex(c)&&c<d.length||typeof c=="string"&&c in d)?i.eq(d[c],o):!1}e.isIterateeCall=l})(dv)),dv}var Aj;function Az(){return Aj||(Aj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Oz(),r=Nz(),n=eC();function i(l,...o){const c=o.length;return c>1&&n.isIterateeCall(l,o[0],o[1])?o=[]:c>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(l,r.flatten(o),["asc"])}e.sortBy=i})(iv)),iv}var fv,Tj;function Tz(){return Tj||(Tj=1,fv=Az().sortBy),fv}var Cz=Tz();const i0=aa(Cz);var tC=e=>e.legend.settings,Pz=e=>e.legend.size,Dz=e=>e.legend.payload,Mz=Q([Dz,tC],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?i0(n,r):n});function Rz(){return _e(Mz)}var uf=1;function rC(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=b.useState({height:0,left:0,top:0,width:0}),n=b.useCallback(i=>{if(i!=null){var l=i.getBoundingClientRect(),o={height:l.height,left:l.left,top:l.top,width:l.width};(Math.abs(o.height-t.height)>uf||Math.abs(o.left-t.left)>uf||Math.abs(o.top-t.top)>uf||Math.abs(o.width-t.width)>uf)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function ar(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var $z=typeof Symbol=="function"&&Symbol.observable||"@@observable",Cj=$z,hv=()=>Math.random().toString(36).substring(7).split("").join("."),Lz={INIT:`@@redux/INIT${hv()}`,REPLACE:`@@redux/REPLACE${hv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${hv()}`},Qf=Lz;function nx(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function nC(e,t,r){if(typeof e!="function")throw new Error(ar(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(ar(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(ar(1));return r(nC)(e,t)}let n=e,i=t,l=new Map,o=l,c=0,d=!1;function h(){o===l&&(o=new Map,l.forEach((_,j)=>{o.set(j,_)}))}function m(){if(d)throw new Error(ar(3));return i}function p(_){if(typeof _!="function")throw new Error(ar(4));if(d)throw new Error(ar(5));let j=!0;h();const N=c++;return o.set(N,_),function(){if(j){if(d)throw new Error(ar(6));j=!1,h(),o.delete(N),l=null}}}function v(_){if(!nx(_))throw new Error(ar(7));if(typeof _.type>"u")throw new Error(ar(8));if(typeof _.type!="string")throw new Error(ar(17));if(d)throw new Error(ar(9));try{d=!0,i=n(i,_)}finally{d=!1}return(l=o).forEach(N=>{N()}),_}function x(_){if(typeof _!="function")throw new Error(ar(10));n=_,v({type:Qf.REPLACE})}function S(){const _=p;return{subscribe(j){if(typeof j!="object"||j===null)throw new Error(ar(11));function N(){const P=j;P.next&&P.next(m())}return N(),{unsubscribe:_(N)}},[Cj](){return this}}}return v({type:Qf.INIT}),{dispatch:v,subscribe:p,getState:m,replaceReducer:x,[Cj]:S}}function Iz(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Qf.INIT})>"u")throw new Error(ar(12));if(typeof r(void 0,{type:Qf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ar(13))})}function aC(e){const t=Object.keys(e),r={};for(let l=0;l<t.length;l++){const o=t[l];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let i;try{Iz(r)}catch(l){i=l}return function(o={},c){if(i)throw i;let d=!1;const h={};for(let m=0;m<n.length;m++){const p=n[m],v=r[p],x=o[p],S=v(x,c);if(typeof S>"u")throw c&&c.type,new Error(ar(14));h[p]=S,d=d||S!==x}return d=d||n.length!==Object.keys(o).length,d?h:o}}function eh(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function Uz(...e){return t=>(r,n)=>{const i=t(r,n);let l=()=>{throw new Error(ar(15))};const o={getState:i.getState,dispatch:(d,...h)=>l(d,...h)},c=e.map(d=>d(o));return l=eh(...c)(i.dispatch),{...i,dispatch:l}}}function iC(e){return nx(e)&&"type"in e&&typeof e.type=="string"}var sC=Symbol.for("immer-nothing"),Pj=Symbol.for("immer-draftable"),Sr=Symbol.for("immer-state");function Dn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Qr=Object,Gl=Qr.getPrototypeOf,th="constructor",s0="prototype",Dy="configurable",rh="enumerable",Nf="writable",Bu="value",Ua=e=>!!e&&!!e[Sr];function Un(e){return e?lC(e)||l0(e)||!!e[Pj]||!!e[th]?.[Pj]||o0(e)||u0(e):!1}var zz=Qr[s0][th].toString(),Dj=new WeakMap;function lC(e){if(!e||!ax(e))return!1;const t=Gl(e);if(t===null||t===Qr[s0])return!0;const r=Qr.hasOwnProperty.call(t,th)&&t[th];if(r===Object)return!0;if(!Ml(r))return!1;let n=Dj.get(r);return n===void 0&&(n=Function.toString.call(r),Dj.set(r,n)),n===zz}function dc(e,t,r=!0){fc(e)===0?(r?Reflect.ownKeys(e):Qr.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function fc(e){const t=e[Sr];return t?t.type_:l0(e)?1:o0(e)?2:u0(e)?3:0}var Mj=(e,t,r=fc(e))=>r===2?e.has(t):Qr[s0].hasOwnProperty.call(e,t),My=(e,t,r=fc(e))=>r===2?e.get(t):e[t],nh=(e,t,r,n=fc(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function Bz(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var l0=Array.isArray,o0=e=>e instanceof Map,u0=e=>e instanceof Set,ax=e=>typeof e=="object",Ml=e=>typeof e=="function",mv=e=>typeof e=="boolean",Oa=e=>e.copy_||e.base_,ix=e=>e.modified_?e.copy_:e.base_;function Ry(e,t){if(o0(e))return new Map(e);if(u0(e))return new Set(e);if(l0(e))return Array[s0].slice.call(e);const r=lC(e);if(t===!0||t==="class_only"&&!r){const n=Qr.getOwnPropertyDescriptors(e);delete n[Sr];let i=Reflect.ownKeys(n);for(let l=0;l<i.length;l++){const o=i[l],c=n[o];c[Nf]===!1&&(c[Nf]=!0,c[Dy]=!0),(c.get||c.set)&&(n[o]={[Dy]:!0,[Nf]:!0,[rh]:c[rh],[Bu]:e[o]})}return Qr.create(Gl(e),n)}else{const n=Gl(e);if(n!==null&&r)return{...e};const i=Qr.create(n);return Qr.assign(i,e)}}function sx(e,t=!1){return c0(e)||Ua(e)||!Un(e)||(fc(e)>1&&Qr.defineProperties(e,{set:cf,add:cf,clear:cf,delete:cf}),Qr.freeze(e),t&&dc(e,(r,n)=>{sx(n,!0)},!1)),e}function qz(){Dn(2)}var cf={[Bu]:qz};function c0(e){return e===null||!ax(e)?!0:Qr.isFrozen(e)}var ah="MapSet",$y="Patches",oC={};function Yl(e){const t=oC[e];return t||Dn(0,e),t}var Hz=e=>!!oC[e],qu,uC=()=>qu,Fz=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Hz(ah)?Yl(ah):void 0});function Rj(e,t){t&&(e.patchPlugin_=Yl($y),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Ly(e){Iy(e),e.drafts_.forEach(Kz),e.drafts_=null}function Iy(e){e===qu&&(qu=e.parent_)}var $j=e=>qu=Fz(qu,e);function Kz(e){const t=e[Sr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Lj(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[Sr].modified_&&(Ly(t),Dn(4)),Un(e)&&(e=Ij(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(r[Sr].base_,e,t)}else e=Ij(t,r);return Vz(t,e,!0),Ly(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==sC?e:void 0}function Ij(e,t){if(c0(t))return t;const r=t[Sr];if(!r)return lx(t,e.handledSet_,e);if(!d0(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);fC(r,e)}return r.copy_}function Vz(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&sx(t,r)}function cC(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var d0=(e,t)=>e.scope_===t,Gz=[];function dC(e,t,r,n){const i=Oa(e),l=e.type_;if(n!==void 0&&My(i,n,l)===t){nh(i,n,r,l);return}if(!e.draftLocations_){const c=e.draftLocations_=new Map;dc(i,(d,h)=>{if(Ua(h)){const m=c.get(h)||[];m.push(d),c.set(h,m)}})}const o=e.draftLocations_.get(t)??Gz;for(const c of o)nh(i,c,r,l)}function Yz(e,t,r){e.callbacks_.push(function(i){const l=t;if(!l||!d0(l,i))return;i.mapSetPlugin_?.fixSetContents(l);const o=ix(l);dC(e,l.draft_??l,o,r),fC(l,i)})}function fC(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||(e.assigned_?.size??0)>0)){const{patchPlugin_:n}=t;if(n){const i=n.getPath(e);i&&n.generatePatches_(e,i,t)}cC(e)}}function Wz(e,t,r){const{scope_:n}=e;if(Ua(r)){const i=r[Sr];d0(i,n)&&i.callbacks_.push(function(){Af(e);const o=ix(i);dC(e,r,o,t)})}else Un(r)&&e.callbacks_.push(function(){const l=Oa(e);My(l,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&lx(My(e.copy_,t,e.type_),n.handledSet_,n)})}function lx(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Ua(e)||t.has(e)||!Un(e)||c0(e)||(t.add(e),dc(e,(n,i)=>{if(Ua(i)){const l=i[Sr];if(d0(l,r)){const o=ix(l);nh(e,n,o,e.type_),cC(l)}}else Un(i)&&lx(i,t,r)})),e}function Xz(e,t){const r=l0(e),n={type_:r?1:0,scope_:t?t.scope_:uC(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,l=ox;r&&(i=[n],l=Hu);const{revoke:o,proxy:c}=Proxy.revocable(i,l);return n.draft_=c,n.revoke_=o,[c,n]}var ox={get(e,t){if(t===Sr)return e;const r=Oa(e);if(!Mj(r,t,e.type_))return Zz(e,r,t);const n=r[t];if(e.finalized_||!Un(n))return n;if(n===gv(e.base_,t)){Af(e);const i=e.type_===1?+t:t,l=zy(e.scope_,n,e,i);return e.copy_[i]=l}return n},has(e,t){return t in Oa(e)},ownKeys(e){return Reflect.ownKeys(Oa(e))},set(e,t,r){const n=hC(Oa(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=gv(Oa(e),t),l=i?.[Sr];if(l&&l.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(Bz(r,i)&&(r!==void 0||Mj(e.base_,t,e.type_)))return!0;Af(e),Uy(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),Wz(e,t,r)),!0},deleteProperty(e,t){return Af(e),gv(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Uy(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Oa(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[Nf]:!0,[Dy]:e.type_!==1||t!=="length",[rh]:n[rh],[Bu]:r[t]}},defineProperty(){Dn(11)},getPrototypeOf(e){return Gl(e.base_)},setPrototypeOf(){Dn(12)}},Hu={};dc(ox,(e,t)=>{Hu[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});Hu.deleteProperty=function(e,t){return Hu.set.call(this,e,t,void 0)};Hu.set=function(e,t,r){return ox.set.call(this,e[0],t,r,e[0])};function gv(e,t){const r=e[Sr];return(r?Oa(r):e)[t]}function Zz(e,t,r){const n=hC(t,r);return n?Bu in n?n[Bu]:n.get?.call(e.draft_):void 0}function hC(e,t){if(!(t in e))return;let r=Gl(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Gl(r)}}function Uy(e){e.modified_||(e.modified_=!0,e.parent_&&Uy(e.parent_))}function Af(e){e.copy_||(e.assigned_=new Map,e.copy_=Ry(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Jz=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,i)=>{if(Ml(r)&&!Ml(n)){const o=n;n=r;const c=this;return function(h=o,...m){return c.produce(h,p=>n.call(this,p,...m))}}Ml(n)||Dn(6),i!==void 0&&!Ml(i)&&Dn(7);let l;if(Un(r)){const o=$j(this),c=zy(o,r,void 0);let d=!0;try{l=n(c),d=!1}finally{d?Ly(o):Iy(o)}return Rj(o,i),Lj(l,o)}else if(!r||!ax(r)){if(l=n(r),l===void 0&&(l=r),l===sC&&(l=void 0),this.autoFreeze_&&sx(l,!0),i){const o=[],c=[];Yl($y).generateReplacementPatches_(r,l,{patches_:o,inversePatches_:c}),i(o,c)}return l}else Dn(1,r)},this.produceWithPatches=(r,n)=>{if(Ml(r))return(c,...d)=>this.produceWithPatches(c,h=>r(h,...d));let i,l;return[this.produce(r,n,(c,d)=>{i=c,l=d}),i,l]},mv(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),mv(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),mv(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Un(t)||Dn(8),Ua(t)&&(t=Ln(t));const r=$j(this),n=zy(r,t,void 0);return n[Sr].isManual_=!0,Iy(r),n}finishDraft(t,r){const n=t&&t[Sr];(!n||!n.isManual_)&&Dn(9);const{scope_:i}=n;return Rj(i,r),Lj(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const l=r[n];if(l.path.length===0&&l.op==="replace"){t=l.value;break}}n>-1&&(r=r.slice(n+1));const i=Yl($y).applyPatches_;return Ua(t)?i(t,r):this.produce(t,l=>i(l,r))}};function zy(e,t,r,n){const[i,l]=o0(t)?Yl(ah).proxyMap_(t,r):u0(t)?Yl(ah).proxySet_(t,r):Xz(t,r);return(r?.scope_??uC()).drafts_.push(i),l.callbacks_=r?.callbacks_??[],l.key_=n,r&&n!==void 0?Yz(r,l,n):l.callbacks_.push(function(d){d.mapSetPlugin_?.fixSetContents(l);const{patchPlugin_:h}=d;l.modified_&&h&&h.generatePatches_(l,[],d)}),i}function Ln(e){return Ua(e)||Dn(10,e),mC(e)}function mC(e){if(!Un(e)||c0(e))return e;const t=e[Sr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Ry(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Ry(e,!0);return dc(r,(i,l)=>{nh(r,i,mC(l))},n),t&&(t.finalized_=!1),r}var Qz=new Jz,gC=Qz.produce;function pC(e){return({dispatch:r,getState:n})=>i=>l=>typeof l=="function"?l(r,n,e):i(l)}var eB=pC(),tB=pC,rB=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?eh:eh.apply(null,arguments)};function wn(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(en(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>iC(n)&&n.type===e,r}var vC=class Ou extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Ou.prototype)}static get[Symbol.species](){return Ou}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Ou(...t[0].concat(this)):new Ou(...t.concat(this))}};function Uj(e){return Un(e)?gC(e,()=>{}):e}function df(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function nB(e){return typeof e=="boolean"}var aB=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:l=!0}=t??{};let o=new vC;return r&&(nB(r)?o.push(eB):o.push(tB(r.extraArgument))),o},yC="RTK_autoBatch",dt=()=>e=>({payload:e,meta:{[yC]:!0}}),zj=e=>t=>{setTimeout(t,e)},bC=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,l=!1,o=!1;const c=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:zj(10):e.type==="callback"?e.queueNotification:zj(e.timeout),h=()=>{o=!1,l&&(l=!1,c.forEach(m=>m()))};return Object.assign({},n,{subscribe(m){const p=()=>i&&m(),v=n.subscribe(p);return c.add(m),()=>{v(),c.delete(m)}},dispatch(m){try{return i=!m?.meta?.[yC],l=!i,l&&(o||(o=!0,d(h))),n.dispatch(m)}finally{i=!0}}})},iB=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new vC(e);return n&&i.push(bC(typeof n=="object"?n:void 0)),i};function sB(e){const t=aB(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:l=void 0,enhancers:o=void 0}=e||{};let c;if(typeof r=="function")c=r;else if(nx(r))c=aC(r);else throw new Error(en(1));let d;typeof n=="function"?d=n(t):d=t();let h=eh;i&&(h=rB({trace:!1,...typeof i=="object"&&i}));const m=Uz(...d),p=iB(m);let v=typeof o=="function"?o(p):p();const x=h(...v);return nC(c,l,x)}function xC(e){const t={},r=[];let n;const i={addCase(l,o){const c=typeof l=="string"?l:l.type;if(!c)throw new Error(en(28));if(c in t)throw new Error(en(29));return t[c]=o,i},addAsyncThunk(l,o){return o.pending&&(t[l.pending.type]=o.pending),o.rejected&&(t[l.rejected.type]=o.rejected),o.fulfilled&&(t[l.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:l.settled,reducer:o.settled}),i},addMatcher(l,o){return r.push({matcher:l,reducer:o}),i},addDefaultCase(l){return n=l,i}};return e(i),[t,r,n]}function lB(e){return typeof e=="function"}function oB(e,t){let[r,n,i]=xC(t),l;if(lB(e))l=()=>Uj(e());else{const c=Uj(e);l=()=>c}function o(c=l(),d){let h=[r[d.type],...n.filter(({matcher:m})=>m(d)).map(({reducer:m})=>m)];return h.filter(m=>!!m).length===0&&(h=[i]),h.reduce((m,p)=>{if(p)if(Ua(m)){const x=p(m,d);return x===void 0?m:x}else{if(Un(m))return gC(m,v=>p(v,d));{const v=p(m,d);if(v===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return m},c)}return o.getInitialState=l,o}var uB="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",cB=(e=21)=>{let t="",r=e;for(;r--;)t+=uB[Math.random()*64|0];return t},dB=Symbol.for("rtk-slice-createasyncthunk");function fB(e,t){return`${e}/${t}`}function hB({creators:e}={}){const t=e?.asyncThunk?.[dB];return function(n){const{name:i,reducerPath:l=i}=n;if(!i)throw new Error(en(11));const o=(typeof n.reducers=="function"?n.reducers(gB()):n.reducers)||{},c=Object.keys(o),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(E,P){const A=typeof E=="string"?E:E.type;if(!A)throw new Error(en(12));if(A in d.sliceCaseReducersByType)throw new Error(en(13));return d.sliceCaseReducersByType[A]=P,h},addMatcher(E,P){return d.sliceMatchers.push({matcher:E,reducer:P}),h},exposeAction(E,P){return d.actionCreators[E]=P,h},exposeCaseReducer(E,P){return d.sliceCaseReducersByName[E]=P,h}};c.forEach(E=>{const P=o[E],A={reducerName:E,type:fB(i,E),createNotation:typeof n.reducers=="function"};vB(P)?bB(A,P,h,t):pB(A,P,h)});function m(){const[E={},P=[],A=void 0]=typeof n.extraReducers=="function"?xC(n.extraReducers):[n.extraReducers],T={...E,...d.sliceCaseReducersByType};return oB(n.initialState,C=>{for(let M in T)C.addCase(M,T[M]);for(let M of d.sliceMatchers)C.addMatcher(M.matcher,M.reducer);for(let M of P)C.addMatcher(M.matcher,M.reducer);A&&C.addDefaultCase(A)})}const p=E=>E,v=new Map,x=new WeakMap;let S;function k(E,P){return S||(S=m()),S(E,P)}function _(){return S||(S=m()),S.getInitialState()}function j(E,P=!1){function A(C){let M=C[E];return typeof M>"u"&&P&&(M=df(x,A,_)),M}function T(C=p){const M=df(v,P,()=>new WeakMap);return df(M,C,()=>{const $={};for(const[R,I]of Object.entries(n.selectors??{}))$[R]=mB(I,C,()=>df(x,C,_),P);return $})}return{reducerPath:E,getSelectors:T,get selectors(){return T(A)},selectSlice:A}}const N={name:i,reducer:k,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:_,...j(l),injectInto(E,{reducerPath:P,...A}={}){const T=P??l;return E.inject({reducerPath:T,reducer:k},A),{...N,...j(T,!0)}}};return N}}function mB(e,t,r,n){function i(l,...o){let c=t(l);return typeof c>"u"&&n&&(c=r()),e(c,...o)}return i.unwrapped=e,i}var Br=hB();function gB(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function pB({type:e,reducerName:t,createNotation:r},n,i){let l,o;if("reducer"in n){if(r&&!yB(n))throw new Error(en(17));l=n.reducer,o=n.prepare}else l=n;i.addCase(e,l).exposeCaseReducer(t,l).exposeAction(t,o?wn(e,o):wn(e))}function vB(e){return e._reducerDefinitionType==="asyncThunk"}function yB(e){return e._reducerDefinitionType==="reducerWithPrepare"}function bB({type:e,reducerName:t},r,n,i){if(!i)throw new Error(en(18));const{payloadCreator:l,fulfilled:o,pending:c,rejected:d,settled:h,options:m}=r,p=i(e,l,m);n.exposeAction(t,p),o&&n.addCase(p.fulfilled,o),c&&n.addCase(p.pending,c),d&&n.addCase(p.rejected,d),h&&n.addMatcher(p.settled,h),n.exposeCaseReducer(t,{fulfilled:o||ff,pending:c||ff,rejected:d||ff,settled:h||ff})}function ff(){}var xB="task",wC="listener",SC="completed",ux="cancelled",wB=`task-${ux}`,SB=`task-${SC}`,By=`${wC}-${ux}`,_B=`${wC}-${SC}`,f0=class{constructor(e){this.code=e,this.message=`${xB} ${ux} (reason: ${e})`}name="TaskAbortError";message},cx=(e,t)=>{if(typeof e!="function")throw new TypeError(en(32))},ih=()=>{},_C=(e,t=ih)=>(e.catch(t),e),kC=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),_s=e=>{if(e.aborted)throw new f0(e.reason)};function jC(e,t){let r=ih;return new Promise((n,i)=>{const l=()=>i(new f0(e.reason));if(e.aborted){l();return}r=kC(e,l),t.finally(()=>r()).then(n,i)}).finally(()=>{r=ih})}var kB=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof f0?"cancelled":"rejected",error:r}}finally{t?.()}},sh=e=>t=>_C(jC(e,t).then(r=>(_s(e),r))),EC=e=>{const t=sh(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:zl}=Object,Bj={},h0="listenerMiddleware",jB=(e,t)=>{const r=n=>kC(e,()=>n.abort(e.reason));return(n,i)=>{cx(n);const l=new AbortController;r(l);const o=kB(async()=>{_s(e),_s(l.signal);const c=await n({pause:sh(l.signal),delay:EC(l.signal),signal:l.signal});return _s(l.signal),c},()=>l.abort(SB));return i?.autoJoin&&t.push(o.catch(ih)),{result:sh(e)(o),cancel(){l.abort(wB)}}}},EB=(e,t)=>{const r=async(n,i)=>{_s(t);let l=()=>{};const c=[new Promise((d,h)=>{let m=e({predicate:n,effect:(p,v)=>{v.unsubscribe(),d([p,v.getState(),v.getOriginalState()])}});l=()=>{m(),h()}})];i!=null&&c.push(new Promise(d=>setTimeout(d,i,null)));try{const d=await jC(t,Promise.race(c));return _s(t),d}finally{l()}};return(n,i)=>_C(r(n,i))},OC=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:l}=e;if(t)i=wn(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(en(21));return cx(l),{predicate:i,type:t,effect:l}},NC=zl(e=>{const{type:t,predicate:r,effect:n}=OC(e);return{id:cB(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(en(22))}}},{withTypes:()=>NC}),qj=(e,t)=>{const{type:r,effect:n,predicate:i}=OC(t);return Array.from(e.values()).find(l=>(typeof r=="string"?l.type===r:l.predicate===i)&&l.effect===n)},qy=e=>{e.pending.forEach(t=>{t.abort(By)})},OB=(e,t)=>()=>{for(const r of t.keys())qy(r);e.clear()},Hj=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},AC=zl(wn(`${h0}/add`),{withTypes:()=>AC}),NB=wn(`${h0}/removeAll`),TC=zl(wn(`${h0}/remove`),{withTypes:()=>TC}),AB=(...e)=>{console.error(`${h0}/error`,...e)},hc=(e={})=>{const t=new Map,r=new Map,n=x=>{const S=r.get(x)??0;r.set(x,S+1)},i=x=>{const S=r.get(x)??1;S===1?r.delete(x):r.set(x,S-1)},{extra:l,onError:o=AB}=e;cx(o);const c=x=>(x.unsubscribe=()=>t.delete(x.id),t.set(x.id,x),S=>{x.unsubscribe(),S?.cancelActive&&qy(x)}),d=x=>{const S=qj(t,x)??NC(x);return c(S)};zl(d,{withTypes:()=>d});const h=x=>{const S=qj(t,x);return S&&(S.unsubscribe(),x.cancelActive&&qy(S)),!!S};zl(h,{withTypes:()=>h});const m=async(x,S,k,_)=>{const j=new AbortController,N=EB(d,j.signal),E=[];try{x.pending.add(j),n(x),await Promise.resolve(x.effect(S,zl({},k,{getOriginalState:_,condition:(P,A)=>N(P,A).then(Boolean),take:N,delay:EC(j.signal),pause:sh(j.signal),extra:l,signal:j.signal,fork:jB(j.signal,E),unsubscribe:x.unsubscribe,subscribe:()=>{t.set(x.id,x)},cancelActiveListeners:()=>{x.pending.forEach((P,A,T)=>{P!==j&&(P.abort(By),T.delete(P))})},cancel:()=>{j.abort(By),x.pending.delete(j)},throwIfCancelled:()=>{_s(j.signal)}})))}catch(P){P instanceof f0||Hj(o,P,{raisedBy:"effect"})}finally{await Promise.all(E),j.abort(_B),i(x),x.pending.delete(j)}},p=OB(t,r);return{middleware:x=>S=>k=>{if(!iC(k))return S(k);if(AC.match(k))return d(k.payload);if(NB.match(k)){p();return}if(TC.match(k))return h(k.payload);let _=x.getState();const j=()=>{if(_===Bj)throw new Error(en(23));return _};let N;try{if(N=S(k),t.size>0){const E=x.getState(),P=Array.from(t.values());for(const A of P){let T=!1;try{T=A.predicate(k,E,_)}catch(C){T=!1,Hj(o,C,{raisedBy:"predicate"})}T&&m(A,k,x,j)}}}finally{_=Bj}return N},startListening:d,stopListening:h,clearListeners:p}};function en(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var TB={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},CC=Br({name:"chartLayout",initialState:TB,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,l;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(l=t.payload.left)!==null&&l!==void 0?l:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:CB,setLayout:PB,setChartSize:DB,setScale:MB}=CC.actions,RB=CC.reducer;function PC(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function Fj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fj(Object(r),!0).forEach(function(n){$B(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $B(e,t,r){return(t=LB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LB(e){var t=IB(e,"string");return typeof t=="symbol"?t:t+""}function IB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fr(e,t,r){return Gt(e)||Gt(t)?r:ta(t)?a0(e,t,r):typeof t=="function"?t(e):r}var UB=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:l,verticalAlign:o,layout:c}=t;if((c==="vertical"||c==="horizontal"&&o==="middle")&&l!=="center"&&je(e[l]))return Rl(Rl({},e),{},{[l]:e[l]+(n||0)});if((c==="horizontal"||c==="vertical"&&l==="center")&&o!=="middle"&&je(e[o]))return Rl(Rl({},e),{},{[o]:e[o]+(i||0)})}return e},Li=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",DC=(e,t,r,n)=>{if(n)return e.map(c=>c.coordinate);var i,l,o=e.map(c=>(c.coordinate===t&&(i=!0),c.coordinate===r&&(l=!0),c.coordinate));return i||o.push(t),l||o.push(r),o},MC=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:l,scale:o,realScaleType:c,isCategorical:d,categoricalDomain:h,tickCount:m,ticks:p,niceTicks:v,axisType:x}=e;if(!o)return null;var S=c==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,k=i==="category"&&o.bandwidth?o.bandwidth()/S:0;if(k=x==="angleAxis"&&l&&l.length>=2?bn(l[0]-l[1])*2*k:k,p||v){var _=(p||v||[]).map((j,N)=>{var E=n?n.indexOf(j):j;return{coordinate:o(E)+k,value:j,offset:k,index:N}});return _.filter(j=>!ea(j.coordinate))}return d&&h?h.map((j,N)=>({coordinate:o(j)+k,value:j,index:N,offset:k})):o.ticks&&m!=null?o.ticks(m).map((j,N)=>({coordinate:o(j)+k,value:j,offset:k,index:N})):o.domain().map((j,N)=>({coordinate:o(j)+k,value:n?n[j]:j,index:N,offset:k}))},Kj=1e-4,zB=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-Kj,l=Math.max(n[0],n[1])+Kj,o=e(t[0]),c=e(t[r-1]);(o<i||o>l||c<i||c>l)&&e.domain([t[0],t[r-1]])}},BB=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,l=0,o=0;o<t;++o){var c=ea(e[o][r][1])?e[o][r][0]:e[o][r][1];c>=0?(e[o][r][0]=i,e[o][r][1]=i+c,i=e[o][r][1]):(e[o][r][0]=l,e[o][r][1]=l+c,l=e[o][r][1])}},qB=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,l=0;l<t;++l){var o=ea(e[l][r][1])?e[l][r][0]:e[l][r][1];o>=0?(e[l][r][0]=i,e[l][r][1]=i+o,i=e[l][r][1]):(e[l][r][0]=0,e[l][r][1]=0)}},HB={sign:BB,expand:c9,none:Vl,silhouette:d9,wiggle:f9,positive:qB},FB=(e,t,r)=>{var n=HB[r],i=u9().keys(t).value((l,o)=>Number(fr(l,o,0))).order(Cy).offset(n);return i(e)};function Vj(e){var{axis:t,ticks:r,bandSize:n,entry:i,index:l,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Gt(i[t.dataKey])){var c=IT(r,"value",i[t.dataKey]);if(c)return c.coordinate+n/2}return r[l]?r[l].coordinate+n/2:null}var d=fr(i,Gt(o)?t.dataKey:o);return Gt(d)?null:t.scale(d)}var KB=e=>{var t=e.flat(2).filter(je);return[Math.min(...t),Math.max(...t)]},VB=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],GB=(e,t,r)=>{if(e!=null)return VB(Object.keys(e).reduce((n,i)=>{var l=e[i],{stackedData:o}=l,c=o.reduce((d,h)=>{var m=PC(h,t,r),p=KB(m);return[Math.min(d[0],p[0]),Math.max(d[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],n[0]),Math.max(c[1],n[1])]},[1/0,-1/0]))},Gj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Yj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,lh=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=i0(t,m=>m.coordinate),l=1/0,o=1,c=i.length;o<c;o++){var d=i[o],h=i[o-1];l=Math.min((d.coordinate||0)-(h.coordinate||0),l)}return l===1/0?0:l}return r?void 0:0};function Wj(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:l}=e;return Rl(Rl({},t),{},{dataKey:r,payload:n,value:i,name:l})}function RC(e,t){if(e)return String(e);if(typeof t=="string")return t}var YB=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},WB=(e,t)=>t==="centric"?e.angle:e.radius,Va=e=>e.layout.width,Ga=e=>e.layout.height,XB=e=>e.layout.scale,$C=e=>e.layout.margin,m0=Q(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),g0=Q(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),ZB="data-recharts-item-index",JB="data-recharts-item-data-key",mc=60;function Xj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xj(Object(r),!0).forEach(function(n){QB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QB(e,t,r){return(t=eq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eq(e){var t=tq(e,"string");return typeof t=="symbol"?t:t+""}function tq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rq=e=>e.brush.height;function nq(e){var t=g0(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:mc;return r+i}return r},0)}function aq(e){var t=g0(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:mc;return r+i}return r},0)}function iq(e){var t=m0(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function sq(e){var t=m0(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var sr=Q([Va,Ga,$C,rq,nq,aq,iq,sq,tC,Pz],(e,t,r,n,i,l,o,c,d,h)=>{var m={left:(r.left||0)+i,right:(r.right||0)+l},p={top:(r.top||0)+o,bottom:(r.bottom||0)+c},v=hf(hf({},p),m),x=v.bottom;v.bottom+=n,v=UB(v,d,h);var S=e-v.left-v.right,k=t-v.top-v.bottom;return hf(hf({brushBottom:x},v),{},{width:Math.max(S,0),height:Math.max(k,0)})}),lq=Q(sr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),LC=Q(Va,Ga,(e,t)=>({x:0,y:0,width:e,height:t})),oq=b.createContext(null),qr=()=>b.useContext(oq)!=null,p0=e=>e.brush,v0=Q([p0,sr,$C],(e,t,r)=>({height:e.height,x:je(e.x)?e.x:t.left,y:je(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:je(e.width)?e.width:t.width})),pv={},vv={},yv={},Zj;function uq(){return Zj||(Zj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:l}={}){let o,c=null;const d=l!=null&&l.includes("leading"),h=l==null||l.includes("trailing"),m=()=>{c!==null&&(r.apply(o,c),o=void 0,c=null)},p=()=>{h&&m(),k()};let v=null;const x=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,p()},n)},S=()=>{v!==null&&(clearTimeout(v),v=null)},k=()=>{S(),o=void 0,c=null},_=()=>{m()},j=function(...N){if(i?.aborted)return;o=this,c=N;const E=v==null;x(),d&&E&&m()};return j.schedule=x,j.cancel=k,j.flush=_,i?.addEventListener("abort",k,{once:!0}),j}e.debounce=t})(yv)),yv}var Jj;function cq(){return Jj||(Jj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uq();function r(n,i=0,l={}){typeof l!="object"&&(l={});const{leading:o=!1,trailing:c=!0,maxWait:d}=l,h=Array(2);o&&(h[0]="leading"),c&&(h[1]="trailing");let m,p=null;const v=t.debounce(function(...k){m=n.apply(this,k),p=null},i,{edges:h}),x=function(...k){return d!=null&&(p===null&&(p=Date.now()),Date.now()-p>=d)?(m=n.apply(this,k),p=Date.now(),v.cancel(),v.schedule(),m):(v.apply(this,k),m)},S=()=>(v.flush(),m);return x.cancel=v.cancel,x.flush=S,x}e.debounce=r})(vv)),vv}var Qj;function dq(){return Qj||(Qj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cq();function r(n,i=0,l={}){const{leading:o=!0,trailing:c=!0}=l;return t.debounce(n,i,{leading:o,maxWait:i,trailing:c})}e.throttle=r})(pv)),pv}var bv,eE;function fq(){return eE||(eE=1,bv=dq().throttle),bv}var hq=fq();const mq=aa(hq);var oh=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),l=2;l<n;l++)i[l-2]=arguments[l];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(r.replace(/%s/g,()=>i[o++]))}},IC=(e,t,r)=>{var{width:n="100%",height:i="100%",aspect:l,maxHeight:o}=r,c=Ia(n)?e:Number(n),d=Ia(i)?t:Number(i);return l&&l>0&&(c?d=c/l:d&&(c=d*l),o&&d!=null&&d>o&&(d=o)),{calculatedWidth:c,calculatedHeight:d}},gq={width:0,height:0,overflow:"visible"},pq={width:0,overflowX:"visible"},vq={height:0,overflowY:"visible"},yq={},bq=e=>{var{width:t,height:r}=e,n=Ia(t),i=Ia(r);return n&&i?gq:n?pq:i?vq:yq};function xq(e){var{width:t,height:r,aspect:n}=e,i=t,l=r;return i===void 0&&l===void 0?(i="100%",l="100%"):i===void 0?i=n&&n>0?void 0:"100%":l===void 0&&(l=n&&n>0?void 0:"100%"),{width:i,height:l}}function Yt(e){return Number.isFinite(e)}function ra(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Hy(){return Hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hy.apply(null,arguments)}function tE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tE(Object(r),!0).forEach(function(n){wq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wq(e,t,r){return(t=Sq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sq(e){var t=_q(e,"string");return typeof t=="symbol"?t:t+""}function _q(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UC=b.createContext({width:-1,height:-1});function kq(e){return ra(e.width)&&ra(e.height)}function zC(e){var{children:t,width:r,height:n}=e,i=b.useMemo(()=>({width:r,height:n}),[r,n]);return kq(i)?b.createElement(UC.Provider,{value:i},t):null}var dx=()=>b.useContext(UC),jq=b.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i,height:l,minWidth:o=0,minHeight:c,maxHeight:d,children:h,debounce:m=0,id:p,className:v,onResize:x,style:S={}}=e,k=b.useRef(null),_=b.useRef();_.current=x,b.useImperativeHandle(t,()=>k.current);var[j,N]=b.useState({containerWidth:n.width,containerHeight:n.height}),E=b.useCallback((M,$)=>{N(R=>{var I=Math.round(M),q=Math.round($);return R.containerWidth===I&&R.containerHeight===q?R:{containerWidth:I,containerHeight:q}})},[]);b.useEffect(()=>{if(k.current==null||typeof ResizeObserver>"u")return cc;var M=q=>{var ae,{width:te,height:ie}=q[0].contentRect;E(te,ie),(ae=_.current)===null||ae===void 0||ae.call(_,te,ie)};m>0&&(M=mq(M,m,{trailing:!0,leading:!1}));var $=new ResizeObserver(M),{width:R,height:I}=k.current.getBoundingClientRect();return E(R,I),$.observe(k.current),()=>{$.disconnect()}},[E,m]);var{containerWidth:P,containerHeight:A}=j;oh(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:T,calculatedHeight:C}=IC(P,A,{width:i,height:l,aspect:r,maxHeight:d});return oh(T!=null&&T>0||C!=null&&C>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,T,C,i,l,o,c,r),b.createElement("div",{id:p?"".concat(p):void 0,className:Qe("recharts-responsive-container",v),style:rE(rE({},S),{},{width:i,height:l,minWidth:o,minHeight:c,maxHeight:d}),ref:k},b.createElement("div",{style:bq({width:i,height:l})},b.createElement(zC,{width:T,height:C},h)))}),Eq=b.forwardRef((e,t)=>{var r=dx();if(ra(r.width)&&ra(r.height))return e.children;var{width:n,height:i}=xq({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:l,calculatedHeight:o}=IC(void 0,void 0,{width:n,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return je(l)&&je(o)?b.createElement(zC,{width:l,height:o},e.children):b.createElement(jq,Hy({},e,{width:n,height:i,ref:t}))});function BC(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var y0=()=>{var e,t=qr(),r=_e(lq),n=_e(v0),i=(e=_e(p0))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},Oq={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},qC=()=>{var e;return(e=_e(sr))!==null&&e!==void 0?e:Oq},fx=()=>_e(Va),hx=()=>_e(Ga),Nq=()=>_e(e=>e.layout.margin),ot=e=>e.layout.layoutType,b0=()=>_e(ot),Aq=()=>{var e=b0();return e!==void 0},x0=e=>{var t=Pt(),r=qr(),{width:n,height:i}=e,l=dx(),o=n,c=i;return l&&(o=l.width>0?l.width:n,c=l.height>0?l.height:i),b.useEffect(()=>{!r&&ra(o)&&ra(c)&&t(DB({width:o,height:c}))},[t,r,o,c]),null},HC=Symbol.for("immer-nothing"),nE=Symbol.for("immer-draftable"),tn=Symbol.for("immer-state");function Mn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Fu=Object.getPrototypeOf;function Wl(e){return!!e&&!!e[tn]}function Ns(e){return e?FC(e)||Array.isArray(e)||!!e[nE]||!!e.constructor?.[nE]||gc(e)||S0(e):!1}var Tq=Object.prototype.constructor.toString(),aE=new WeakMap;function FC(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=aE.get(r);return n===void 0&&(n=Function.toString.call(r),aE.set(r,n)),n===Tq}function uh(e,t,r=!0){w0(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function w0(e){const t=e[tn];return t?t.type_:Array.isArray(e)?1:gc(e)?2:S0(e)?3:0}function Fy(e,t){return w0(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function KC(e,t,r){const n=w0(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function Cq(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function gc(e){return e instanceof Map}function S0(e){return e instanceof Set}function fs(e){return e.copy_||e.base_}function Ky(e,t){if(gc(e))return new Map(e);if(S0(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=FC(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[tn];let i=Reflect.ownKeys(n);for(let l=0;l<i.length;l++){const o=i[l],c=n[o];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(n[o]={configurable:!0,writable:!0,enumerable:c.enumerable,value:e[o]})}return Object.create(Fu(e),n)}else{const n=Fu(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function mx(e,t=!1){return _0(e)||Wl(e)||!Ns(e)||(w0(e)>1&&Object.defineProperties(e,{set:mf,add:mf,clear:mf,delete:mf}),Object.freeze(e),t&&Object.values(e).forEach(r=>mx(r,!0))),e}function Pq(){Mn(2)}var mf={value:Pq};function _0(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var Dq={};function As(e){const t=Dq[e];return t||Mn(0,e),t}var Ku;function VC(){return Ku}function Mq(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function iE(e,t){t&&(As("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Vy(e){Gy(e),e.drafts_.forEach(Rq),e.drafts_=null}function Gy(e){e===Ku&&(Ku=e.parent_)}function sE(e){return Ku=Mq(Ku,e)}function Rq(e){const t=e[tn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function lE(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[tn].modified_&&(Vy(t),Mn(4)),Ns(e)&&(e=ch(t,e),t.parent_||dh(t,e)),t.patches_&&As("Patches").generateReplacementPatches_(r[tn].base_,e,t.patches_,t.inversePatches_)):e=ch(t,r,[]),Vy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==HC?e:void 0}function ch(e,t,r){if(_0(t))return t;const n=e.immer_.shouldUseStrictIteration(),i=t[tn];if(!i)return uh(t,(l,o)=>oE(e,i,t,l,o,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return dh(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const l=i.copy_;let o=l,c=!1;i.type_===3&&(o=new Set(l),l.clear(),c=!0),uh(o,(d,h)=>oE(e,i,l,d,h,r,c),n),dh(e,l,!1),r&&e.patches_&&As("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function oE(e,t,r,n,i,l,o){if(i==null||typeof i!="object"&&!o)return;const c=_0(i);if(!(c&&!o)){if(Wl(i)){const d=l&&t&&t.type_!==3&&!Fy(t.assigned_,n)?l.concat(n):void 0,h=ch(e,i,d);if(KC(r,n,h),Wl(h))e.canAutoFreeze_=!1;else return}else o&&r.add(i);if(Ns(i)&&!c){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===i&&c)return;ch(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(gc(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&dh(e,i)}}}function dh(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&mx(t,r)}function $q(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:VC(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,l=gx;r&&(i=[n],l=Vu);const{revoke:o,proxy:c}=Proxy.revocable(i,l);return n.draft_=c,n.revoke_=o,c}var gx={get(e,t){if(t===tn)return e;const r=fs(e);if(!Fy(r,t))return Lq(e,r,t);const n=r[t];return e.finalized_||!Ns(n)?n:n===xv(e.base_,t)?(wv(e),e.copy_[t]=Wy(n,e)):n},has(e,t){return t in fs(e)},ownKeys(e){return Reflect.ownKeys(fs(e))},set(e,t,r){const n=GC(fs(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=xv(fs(e),t),l=i?.[tn];if(l&&l.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(Cq(r,i)&&(r!==void 0||Fy(e.base_,t)))return!0;wv(e),Yy(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return xv(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,wv(e),Yy(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=fs(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Mn(11)},getPrototypeOf(e){return Fu(e.base_)},setPrototypeOf(){Mn(12)}},Vu={};uh(gx,(e,t)=>{Vu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Vu.deleteProperty=function(e,t){return Vu.set.call(this,e,t,void 0)};Vu.set=function(e,t,r){return gx.set.call(this,e[0],t,r,e[0])};function xv(e,t){const r=e[tn];return(r?fs(r):e)[t]}function Lq(e,t,r){const n=GC(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function GC(e,t){if(!(t in e))return;let r=Fu(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Fu(r)}}function Yy(e){e.modified_||(e.modified_=!0,e.parent_&&Yy(e.parent_))}function wv(e){e.copy_||(e.copy_=Ky(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Iq=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const l=r;r=t;const o=this;return function(d=l,...h){return o.produce(d,m=>r.call(this,m,...h))}}typeof r!="function"&&Mn(6),n!==void 0&&typeof n!="function"&&Mn(7);let i;if(Ns(t)){const l=sE(this),o=Wy(t,void 0);let c=!0;try{i=r(o),c=!1}finally{c?Vy(l):Gy(l)}return iE(l,n),lE(i,l)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===HC&&(i=void 0),this.autoFreeze_&&mx(i,!0),n){const l=[],o=[];As("Patches").generateReplacementPatches_(t,i,l,o),n(l,o)}return i}else Mn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...c)=>this.produceWithPatches(o,d=>t(d,...c));let n,i;return[this.produce(t,r,(o,c)=>{n=o,i=c}),n,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ns(e)||Mn(8),Wl(e)&&(e=Uq(e));const t=sE(this),r=Wy(e,void 0);return r[tn].isManual_=!0,Gy(t),r}finishDraft(e,t){const r=e&&e[tn];(!r||!r.isManual_)&&Mn(9);const{scope_:n}=r;return iE(n,t),lE(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=As("Patches").applyPatches_;return Wl(e)?n(e,t):this.produce(e,i=>n(i,t))}};function Wy(e,t){const r=gc(e)?As("MapSet").proxyMap_(e,t):S0(e)?As("MapSet").proxySet_(e,t):$q(e,t);return(t?t.scope_:VC()).drafts_.push(r),r}function Uq(e){return Wl(e)||Mn(10,e),YC(e)}function YC(e){if(!Ns(e)||_0(e))return e;const t=e[tn];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Ky(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Ky(e,!0);return uh(r,(i,l)=>{KC(r,i,YC(l))},n),t&&(t.finalized_=!1),r}var zq=new Iq;zq.produce;var Bq={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},WC=Br({name:"legend",initialState:Bq,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:dt()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Ln(e).payload.indexOf(r);i>-1&&(e.payload[i]=n)},prepare:dt()},removeLegendPayload:{reducer(e,t){var r=Ln(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:dt()}}}),{setLegendSize:uE,setLegendSettings:qq,addLegendPayload:Hq,replaceLegendPayload:Fq,removeLegendPayload:Kq}=WC.actions,Vq=WC.reducer,Gq=["contextPayload"];function Xy(){return Xy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xy.apply(null,arguments)}function cE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cE(Object(r),!0).forEach(function(n){Yq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yq(e,t,r){return(t=Wq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wq(e){var t=Xq(e,"string");return typeof t=="symbol"?t:t+""}function Xq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zq(e,t){if(e==null)return{};var r,n,i=Jq(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Jq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Qq(e){return e.value}function eH(e){var{contextPayload:t}=e,r=Zq(e,Gq),n=ZT(t,e.payloadUniqBy,Qq),i=Xl(Xl({},r),{},{payload:n});return b.isValidElement(e.content)?b.cloneElement(e.content,i):typeof e.content=="function"?b.createElement(e.content,i):b.createElement(B9,i)}function tH(e,t,r,n,i,l){var{layout:o,align:c,verticalAlign:d}=t,h,m;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(c==="center"&&o==="vertical"?h={left:((n||0)-l.width)/2}:h=c==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(d==="middle"?m={top:((i||0)-l.height)/2}:m=d==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Xl(Xl({},h),m)}function rH(e){var t=Pt();return b.useEffect(()=>{t(qq(e))},[t,e]),null}function nH(e){var t=Pt();return b.useEffect(()=>(t(uE(e)),()=>{t(uE({width:0,height:0}))}),[t,e]),null}function aH(e,t,r,n){return e==="vertical"&&je(t)?{height:t}:e==="horizontal"?{width:r||n}:null}var iH={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function XC(e){var t=mr(e,iH),r=Rz(),n=DU(),i=Nq(),{width:l,height:o,wrapperStyle:c,portal:d}=t,[h,m]=rC([r]),p=fx(),v=hx();if(p==null||v==null)return null;var x=p-(i?.left||0)-(i?.right||0),S=aH(t.layout,o,l,x),k=d?c:Xl(Xl({position:"absolute",width:S?.width||l||"auto",height:S?.height||o||"auto"},tH(c,t,i,p,v,h)),c),_=d??n;if(_==null||r==null)return null;var j=b.createElement("div",{className:"recharts-legend-wrapper",style:k,ref:m},b.createElement(rH,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!d&&b.createElement(nH,{width:h.width,height:h.height}),b.createElement(eH,Xy({},t,S,{margin:i,chartWidth:p,chartHeight:v,contextPayload:r})));return ao.createPortal(j,_)}XC.displayName="Legend";function Zy(){return Zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zy.apply(null,arguments)}function dE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Sv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dE(Object(r),!0).forEach(function(n){sH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sH(e,t,r){return(t=lH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lH(e){var t=oH(e,"string");return typeof t=="symbol"?t:t+""}function oH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uH(e){return Array.isArray(e)&&ta(e[0])&&ta(e[1])?e.join(" ~ "):e}var cH=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:l,formatter:o,itemSorter:c,wrapperClassName:d,labelClassName:h,label:m,labelFormatter:p,accessibilityLayer:v=!1}=e,x=()=>{if(l&&l.length){var A={padding:0,margin:0},T=(c?i0(l,c):l).map((C,M)=>{if(C.type==="none")return null;var $=C.formatter||o||uH,{value:R,name:I}=C,q=R,ae=I;if($){var te=$(R,I,C,M,l);if(Array.isArray(te))[q,ae]=te;else if(te!=null)q=te;else return null}var ie=Sv({display:"block",paddingTop:4,paddingBottom:4,color:C.color||"#000"},n);return b.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:ie},ta(ae)?b.createElement("span",{className:"recharts-tooltip-item-name"},ae):null,ta(ae)?b.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,b.createElement("span",{className:"recharts-tooltip-item-value"},q),b.createElement("span",{className:"recharts-tooltip-item-unit"},C.unit||""))});return b.createElement("ul",{className:"recharts-tooltip-item-list",style:A},T)}return null},S=Sv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),k=Sv({margin:0},i),_=!Gt(m),j=_?m:"",N=Qe("recharts-default-tooltip",d),E=Qe("recharts-tooltip-label",h);_&&p&&l!==void 0&&l!==null&&(j=p(m,l));var P=v?{role:"status","aria-live":"assertive"}:{};return b.createElement("div",Zy({className:N,style:S},P),b.createElement("p",{className:E,style:k},b.isValidElement(j)?j:"".concat(j)),x())},mu="recharts-tooltip-wrapper",dH={visibility:"hidden"};function fH(e){var{coordinate:t,translateX:r,translateY:n}=e;return Qe(mu,{["".concat(mu,"-right")]:je(r)&&t&&je(t.x)&&r>=t.x,["".concat(mu,"-left")]:je(r)&&t&&je(t.x)&&r<t.x,["".concat(mu,"-bottom")]:je(n)&&t&&je(t.y)&&n>=t.y,["".concat(mu,"-top")]:je(n)&&t&&je(t.y)&&n<t.y})}function fE(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:l,reverseDirection:o,tooltipDimension:c,viewBox:d,viewBoxDimension:h}=e;if(l&&je(l[n]))return l[n];var m=r[n]-c-(i>0?i:0),p=r[n]+i;if(t[n])return o[n]?m:p;var v=d[n];if(v==null)return 0;if(o[n]){var x=m,S=v;return x<S?Math.max(p,v):Math.max(m,v)}if(h==null)return 0;var k=p+c,_=v+h;return k>_?Math.max(m,v):Math.max(p,v)}function hH(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function mH(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:l,tooltipBox:o,useTranslate3d:c,viewBox:d}=e,h,m,p;return o.height>0&&o.width>0&&r?(m=fE({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:l,tooltipDimension:o.width,viewBox:d,viewBoxDimension:d.width}),p=fE({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:l,tooltipDimension:o.height,viewBox:d,viewBoxDimension:d.height}),h=hH({translateX:m,translateY:p,useTranslate3d:c})):h=dH,{cssProperties:h,cssClasses:fH({translateX:m,translateY:p,coordinate:r})}}function hE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hE(Object(r),!0).forEach(function(n){Jy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jy(e,t,r){return(t=gH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gH(e){var t=pH(e,"string");return typeof t=="symbol"?t:t+""}function pH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class vH extends b.PureComponent{constructor(){super(...arguments),Jy(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Jy(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,l;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(l=this.props.coordinate)===null||l===void 0?void 0:l.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:l,coordinate:o,hasPayload:c,isAnimationActive:d,offset:h,position:m,reverseDirection:p,useTranslate3d:v,viewBox:x,wrapperStyle:S,lastBoundingBox:k,innerRef:_,hasPortalFromProps:j}=this.props,{cssClasses:N,cssProperties:E}=mH({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:h,position:m,reverseDirection:p,tooltipBox:{height:k.height,width:k.width},useTranslate3d:v,viewBox:x}),P=j?{}:gf(gf({transition:d&&t?"transform ".concat(n,"ms ").concat(i):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&c?"visible":"hidden",position:"absolute",top:0,left:0}),A=gf(gf({},P),{},{visibility:!this.state.dismissed&&t&&c?"visible":"hidden"},S);return b.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:N,style:A,ref:_},l)}}var ZC=()=>{var e;return(e=_e(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Qy(){return Qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qy.apply(null,arguments)}function mE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mE(Object(r),!0).forEach(function(n){yH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yH(e,t,r){return(t=bH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bH(e){var t=xH(e,"string");return typeof t=="symbol"?t:t+""}function xH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pE={curveBasisClosed:JU,curveBasisOpen:QU,curveBasis:ZU,curveBumpX:LU,curveBumpY:IU,curveLinearClosed:e9,curveLinear:r0,curveMonotoneX:t9,curveMonotoneY:r9,curveNatural:n9,curveStep:a9,curveStepAfter:s9,curveStepBefore:i9},fh=e=>Yt(e.x)&&Yt(e.y),vE=e=>e.base!=null&&fh(e.base)&&fh(e),gu=e=>e.x,pu=e=>e.y,wH=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(uc(e));return(r==="curveMonotone"||r==="curveBump")&&t?pE["".concat(r).concat(t==="vertical"?"Y":"X")]:pE[r]||r0},SH=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:l=!1}=e,o=wH(t,i),c=l?r.filter(fh):r,d;if(Array.isArray(n)){var h=r.map((x,S)=>gE(gE({},x),{},{base:n[S]}));i==="vertical"?d=lf().y(pu).x1(gu).x0(x=>x.base.x):d=lf().x(gu).y1(pu).y0(x=>x.base.y);var m=d.defined(vE).curve(o),p=l?h.filter(vE):h;return m(p)}i==="vertical"&&je(n)?d=lf().y(pu).x1(gu).x0(n):je(n)?d=lf().x(gu).y1(pu).y0(n):d=jT().x(gu).y(pu);var v=d.defined(fh).curve(o);return v(c)},JC=e=>{var{className:t,points:r,path:n,pathRef:i}=e;if((!r||!r.length)&&!n)return null;var l=r&&r.length?SH(e):n;return b.createElement("path",Qy({},Qn(e),ex(e),{className:Qe("recharts-curve",t),d:l===null?void 0:l,ref:i}))},_H=["x","y","top","left","width","height","className"];function eb(){return eb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eb.apply(null,arguments)}function yE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kH(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yE(Object(r),!0).forEach(function(n){jH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jH(e,t,r){return(t=EH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EH(e){var t=OH(e,"string");return typeof t=="symbol"?t:t+""}function OH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NH(e,t){if(e==null)return{};var r,n,i=AH(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function AH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var TH=(e,t,r,n,i,l)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(l,",").concat(t,"h").concat(r),CH=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:l=0,height:o=0,className:c}=e,d=NH(e,_H),h=kH({x:t,y:r,top:n,left:i,width:l,height:o},d);return!je(t)||!je(r)||!je(l)||!je(o)||!je(n)||!je(i)?null:b.createElement("path",eb({},wr(h),{className:Qe("recharts-cross",c),d:TH(t,r,l,o,n,i)}))};function PH(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function bE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bE(Object(r),!0).forEach(function(n){DH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DH(e,t,r){return(t=MH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MH(e){var t=RH(e,"string");return typeof t=="symbol"?t:t+""}function RH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $H=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),QC=(e,t,r)=>e.map(n=>"".concat($H(n)," ").concat(t,"ms ").concat(r)).join(","),LH=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),Gu=(e,t)=>Object.keys(t).reduce((r,n)=>xE(xE({},r),{},{[n]:e(n,t[n])}),{});function wE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $t(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wE(Object(r),!0).forEach(function(n){IH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IH(e,t,r){return(t=UH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UH(e){var t=zH(e,"string");return typeof t=="symbol"?t:t+""}function zH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hh=(e,t,r)=>e+(t-e)*r,tb=e=>{var{from:t,to:r}=e;return t!==r},eP=(e,t,r)=>{var n=Gu((i,l)=>{if(tb(l)){var[o,c]=e(l.from,l.to,l.velocity);return $t($t({},l),{},{from:o,velocity:c})}return l},t);return r<1?Gu((i,l)=>tb(l)?$t($t({},l),{},{velocity:hh(l.velocity,n[i].velocity,r),from:hh(l.from,n[i].from,r)}):l,t):eP(e,n,r-1)};function BH(e,t,r,n,i,l){var o,c=n.reduce((v,x)=>$t($t({},v),{},{[x]:{from:e[x],velocity:0,to:t[x]}}),{}),d=()=>Gu((v,x)=>x.from,c),h=()=>!Object.values(c).filter(tb).length,m=null,p=v=>{o||(o=v);var x=v-o,S=x/r.dt;c=eP(r,c,S),i($t($t($t({},e),t),d())),o=v,h()||(m=l.setTimeout(p))};return()=>(m=l.setTimeout(p),()=>{var v;(v=m)===null||v===void 0||v()})}function qH(e,t,r,n,i,l,o){var c=null,d=i.reduce((p,v)=>$t($t({},p),{},{[v]:[e[v],t[v]]}),{}),h,m=p=>{h||(h=p);var v=(p-h)/n,x=Gu((k,_)=>hh(..._,r(v)),d);if(l($t($t($t({},e),t),x)),v<1)c=o.setTimeout(m);else{var S=Gu((k,_)=>hh(..._,r(1)),d);l($t($t($t({},e),t),S))}};return()=>(c=o.setTimeout(m),()=>{var p;(p=c)===null||p===void 0||p()})}const HH=(e,t,r,n,i,l)=>{var o=LH(e,t);return r==null?()=>(i($t($t({},e),t)),()=>{}):r.isStepper===!0?BH(e,t,r,o,i,l):qH(e,t,r,n,o,i,l)};var mh=1e-4,tP=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],rP=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),SE=(e,t)=>r=>{var n=tP(e,t);return rP(n,r)},FH=(e,t)=>r=>{var n=tP(e,t),i=[...n.map((l,o)=>l*o).slice(1),0];return rP(i,r)},KH=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,l=r[0].split("(");if(l[0]==="cubic-bezier"&&((i=l[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var o=l[1].split(")")[0].split(",").map(c=>parseFloat(c));return[o[0],o[1],o[2],o[3]]}}}return r.length===4?r:[0,0,1,1]},VH=(e,t,r,n)=>{var i=SE(e,r),l=SE(t,n),o=FH(e,r),c=h=>h>1?1:h<0?0:h,d=h=>{for(var m=h>1?1:h,p=m,v=0;v<8;++v){var x=i(p)-m,S=o(p);if(Math.abs(x-m)<mh||S<mh)return l(p);p=c(p-x/S)}return l(p)};return d.isStepper=!1,d},_E=function(){return VH(...KH(...arguments))},GH=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,l=(o,c,d)=>{var h=-(o-c)*r,m=d*n,p=d+(h-m)*i/1e3,v=d*i/1e3+o;return Math.abs(v-c)<mh&&Math.abs(p)<mh?[c,0]:[v,p]};return l.isStepper=!0,l.dt=i,l},YH=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return _E(e);case"spring":return GH();default:if(e.split("(")[0]==="cubic-bezier")return _E(e)}return typeof e=="function"?e:null};function WH(e){var t,r=()=>null,n=!1,i=null,l=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var c=o,[d,...h]=c;if(typeof d=="number"){i=e.setTimeout(l.bind(null,h),d);return}l(d),i=e.setTimeout(l.bind(null,h));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,i&&(i(),i=null),l(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class XH{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,l=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(l))};return i=requestAnimationFrame(l),()=>{i!=null&&cancelAnimationFrame(i)}}}function ZH(){return WH(new XH)}var JH=b.createContext(ZH);function QH(e,t){var r=b.useContext(JH);return b.useMemo(()=>t??r(e),[e,t,r])}var eF=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),pc={devToolsEnabled:!1,isSsr:eF()},tF={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},kE={t:0},_v={t:1};function px(e){var t=mr(e,tF),{isActive:r,canBegin:n,duration:i,easing:l,begin:o,onAnimationEnd:c,onAnimationStart:d,children:h}=t,m=r==="auto"?!pc.isSsr:r,p=QH(t.animationId,t.animationManager),[v,x]=b.useState(m?kE:_v),S=b.useRef(null);return b.useEffect(()=>{m||x(_v)},[m]),b.useEffect(()=>{if(!m||!n)return cc;var k=HH(kE,_v,YH(l),i,x,p.getTimeoutController()),_=()=>{S.current=k()};return p.start([d,o,_,i,c]),()=>{p.stop(),S.current&&S.current(),c()}},[m,n,i,l,o,d,c,p]),h(v.t)}function vx(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=b.useRef(zu(t)),n=b.useRef(e);return n.current!==e&&(r.current=zu(t),n.current=e),r.current}var rF=["radius"],nF=["radius"];function jE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function EE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jE(Object(r),!0).forEach(function(n){aF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aF(e,t,r){return(t=iF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iF(e){var t=sF(e,"string");return typeof t=="symbol"?t:t+""}function sF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gh(){return gh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gh.apply(null,arguments)}function OE(e,t){if(e==null)return{};var r,n,i=lF(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function lF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var NE=(e,t,r,n,i)=>{var l=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,c=r>=0?1:-1,d=n>=0&&r>=0||n<0&&r<0?1:0,h;if(l>0&&i instanceof Array){for(var m=[0,0,0,0],p=0,v=4;p<v;p++)m[p]=i[p]>l?l:i[p];h="M".concat(e,",").concat(t+o*m[0]),m[0]>0&&(h+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(d,",").concat(e+c*m[0],",").concat(t)),h+="L ".concat(e+r-c*m[1],",").concat(t),m[1]>0&&(h+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(d,`,
        `).concat(e+r,",").concat(t+o*m[1])),h+="L ".concat(e+r,",").concat(t+n-o*m[2]),m[2]>0&&(h+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(d,`,
        `).concat(e+r-c*m[2],",").concat(t+n)),h+="L ".concat(e+c*m[3],",").concat(t+n),m[3]>0&&(h+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(t+n-o*m[3])),h+="Z"}else if(l>0&&i===+i&&i>0){var x=Math.min(l,i);h="M ".concat(e,",").concat(t+o*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e+c*x,",").concat(t,`
            L `).concat(e+r-c*x,",").concat(t,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e+r,",").concat(t+o*x,`
            L `).concat(e+r,",").concat(t+n-o*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e+r-c*x,",").concat(t+n,`
            L `).concat(e+c*x,",").concat(t+n,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e,",").concat(t+n-o*x," Z")}else h="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return h},AE={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},nP=e=>{var t=mr(e,AE),r=b.useRef(null),[n,i]=b.useState(-1);b.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var K=r.current.getTotalLength();K&&i(K)}catch{}},[]);var{x:l,y:o,width:c,height:d,radius:h,className:m}=t,{animationEasing:p,animationDuration:v,animationBegin:x,isAnimationActive:S,isUpdateAnimationActive:k}=t,_=b.useRef(c),j=b.useRef(d),N=b.useRef(l),E=b.useRef(o),P=b.useMemo(()=>({x:l,y:o,width:c,height:d,radius:h}),[l,o,c,d,h]),A=vx(P,"rectangle-");if(l!==+l||o!==+o||c!==+c||d!==+d||c===0||d===0)return null;var T=Qe("recharts-rectangle",m);if(!k){var C=wr(t),{radius:M}=C,$=OE(C,rF);return b.createElement("path",gh({},$,{radius:typeof h=="number"?h:void 0,className:T,d:NE(l,o,c,d,h)}))}var R=_.current,I=j.current,q=N.current,ae=E.current,te="0px ".concat(n===-1?1:n,"px"),ie="".concat(n,"px 0px"),B=QC(["strokeDasharray"],v,typeof p=="string"?p:AE.animationEasing);return b.createElement(px,{animationId:A,key:A,canBegin:n>0,duration:v,easing:p,isActive:k,begin:x},K=>{var le=Ir(R,c,K),W=Ir(I,d,K),de=Ir(q,l,K),L=Ir(ae,o,K);r.current&&(_.current=le,j.current=W,N.current=de,E.current=L);var H;S?K>0?H={transition:B,strokeDasharray:ie}:H={strokeDasharray:te}:H={strokeDasharray:ie};var X=wr(t),{radius:oe}=X,fe=OE(X,nF);return b.createElement("path",gh({},fe,{radius:typeof h=="number"?h:void 0,className:T,d:NE(de,L,le,W,h),ref:r,style:EE(EE({},H),t.style)}))})};function TE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function CE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TE(Object(r),!0).forEach(function(n){oF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oF(e,t,r){return(t=uF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uF(e){var t=cF(e,"string");return typeof t=="symbol"?t:t+""}function cF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ph=Math.PI/180,dF=e=>e*180/Math.PI,ir=(e,t,r,n)=>({x:e+Math.cos(-ph*n)*r,y:t+Math.sin(-ph*n)*r}),fF=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},hF=(e,t)=>{var{x:r,y:n}=e,{x:i,y:l}=t;return Math.sqrt((r-i)**2+(n-l)**2)},mF=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:l}=t,o=hF({x:r,y:n},{x:i,y:l});if(o<=0)return{radius:o,angle:0};var c=(r-i)/o,d=Math.acos(c);return n>l&&(d=2*Math.PI-d),{radius:o,angle:dF(d),angleInRadian:d}},gF=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),l=Math.min(n,i);return{startAngle:t-l*360,endAngle:r-l*360}},pF=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),l=Math.floor(n/360),o=Math.min(i,l);return e+o*360},vF=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:i,angle:l}=mF({x:r,y:n},t),{innerRadius:o,outerRadius:c}=t;if(i<o||i>c||i===0)return null;var{startAngle:d,endAngle:h}=gF(t),m=l,p;if(d<=h){for(;m>h;)m-=360;for(;m<d;)m+=360;p=m>=d&&m<=h}else{for(;m>d;)m-=360;for(;m<h;)m+=360;p=m>=h&&m<=d}return p?CE(CE({},t),{},{radius:i,angle:pF(m,t)}):null};function aP(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:l}=e,o=ir(t,r,n,i),c=ir(t,r,n,l);return{points:[o,c],cx:t,cy:r,radius:n,startAngle:i,endAngle:l}}function rb(){return rb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rb.apply(null,arguments)}var yF=(e,t)=>{var r=bn(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},pf=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:l,isExternal:o,cornerRadius:c,cornerIsExternal:d}=e,h=c*(o?1:-1)+n,m=Math.asin(c/h)/ph,p=d?i:i+l*m,v=ir(t,r,h,p),x=ir(t,r,n,p),S=d?i-l*m:i,k=ir(t,r,h*Math.cos(m*ph),S);return{center:v,circleTangency:x,lineTangency:k,theta:m}},iP=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:l,endAngle:o}=e,c=yF(l,o),d=l+c,h=ir(t,r,i,l),m=ir(t,r,i,d),p="M ".concat(h.x,",").concat(h.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(l>d),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(n>0){var v=ir(t,r,n,l),x=ir(t,r,n,d);p+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(l<=d),`,
            `).concat(v.x,",").concat(v.y," Z")}else p+="L ".concat(t,",").concat(r," Z");return p},bF=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:l,forceCornerRadius:o,cornerIsExternal:c,startAngle:d,endAngle:h}=e,m=bn(h-d),{circleTangency:p,lineTangency:v,theta:x}=pf({cx:t,cy:r,radius:i,angle:d,sign:m,cornerRadius:l,cornerIsExternal:c}),{circleTangency:S,lineTangency:k,theta:_}=pf({cx:t,cy:r,radius:i,angle:h,sign:-m,cornerRadius:l,cornerIsExternal:c}),j=c?Math.abs(d-h):Math.abs(d-h)-x-_;if(j<0)return o?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):iP({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:d,endAngle:h});var N="M ".concat(v.x,",").concat(v.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(j>180),",").concat(+(m<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(k.x,",").concat(k.y,`
  `);if(n>0){var{circleTangency:E,lineTangency:P,theta:A}=pf({cx:t,cy:r,radius:n,angle:d,sign:m,isExternal:!0,cornerRadius:l,cornerIsExternal:c}),{circleTangency:T,lineTangency:C,theta:M}=pf({cx:t,cy:r,radius:n,angle:h,sign:-m,isExternal:!0,cornerRadius:l,cornerIsExternal:c}),$=c?Math.abs(d-h):Math.abs(d-h)-A-M;if($<0&&l===0)return"".concat(N,"L").concat(t,",").concat(r,"Z");N+="L".concat(C.x,",").concat(C.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(n,",").concat(n,",0,").concat(+($>180),",").concat(+(m>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(P.x,",").concat(P.y,"Z")}else N+="L".concat(t,",").concat(r,"Z");return N},xF={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},sP=e=>{var t=mr(e,xF),{cx:r,cy:n,innerRadius:i,outerRadius:l,cornerRadius:o,forceCornerRadius:c,cornerIsExternal:d,startAngle:h,endAngle:m,className:p}=t;if(l<i||h===m)return null;var v=Qe("recharts-sector",p),x=l-i,S=Mi(o,x,0,!0),k;return S>0&&Math.abs(h-m)<360?k=bF({cx:r,cy:n,innerRadius:i,outerRadius:l,cornerRadius:Math.min(S,x/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:h,endAngle:m}):k=iP({cx:r,cy:n,innerRadius:i,outerRadius:l,startAngle:h,endAngle:m}),b.createElement("path",rb({},wr(t),{className:v,d:k}))};function wF(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(zT(t)){if(e==="centric"){var{cx:n,cy:i,innerRadius:l,outerRadius:o,angle:c}=t,d=ir(n,i,l,c),h=ir(n,i,o,c);return[{x:d.x,y:d.y},{x:h.x,y:h.y}]}return aP(t)}}var kv={},jv={},Ev={},PE;function SF(){return PE||(PE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QT();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(Ev)),Ev}var DE;function _F(){return DE||(DE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SF();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(jv)),jv}var ME;function kF(){return ME||(ME=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eC(),r=_F();function n(i,l,o){o&&typeof o!="number"&&t.isIterateeCall(i,l,o)&&(l=o=void 0),i=r.toFinite(i),l===void 0?(l=i,i=0):l=r.toFinite(l),o=o===void 0?i<l?1:-1:r.toFinite(o);const c=Math.max(Math.ceil((l-i)/(o||1)),0),d=new Array(c);for(let h=0;h<c;h++)d[h]=i,i+=o;return d}e.range=n})(kv)),kv}var Ov,RE;function jF(){return RE||(RE=1,Ov=kF().range),Ov}var EF=jF();const lP=aa(EF);function Pi(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function OF(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function yx(e){let t,r,n;e.length!==2?(t=Pi,r=(c,d)=>Pi(e(c),d),n=(c,d)=>e(c)-d):(t=e===Pi||e===OF?e:NF,r=e,n=e);function i(c,d,h=0,m=c.length){if(h<m){if(t(d,d)!==0)return m;do{const p=h+m>>>1;r(c[p],d)<0?h=p+1:m=p}while(h<m)}return h}function l(c,d,h=0,m=c.length){if(h<m){if(t(d,d)!==0)return m;do{const p=h+m>>>1;r(c[p],d)<=0?h=p+1:m=p}while(h<m)}return h}function o(c,d,h=0,m=c.length){const p=i(c,d,h,m-1);return p>h&&n(c[p-1],d)>-n(c[p],d)?p-1:p}return{left:i,center:o,right:l}}function NF(){return 0}function oP(e){return e===null?NaN:+e}function*AF(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const TF=yx(Pi),vc=TF.right;yx(oP).center;class $E extends Map{constructor(t,r=DF){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(LE(this,t))}has(t){return super.has(LE(this,t))}set(t,r){return super.set(CF(this,t),r)}delete(t){return super.delete(PF(this,t))}}function LE({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function CF({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function PF({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function DF(e){return e!==null&&typeof e=="object"?e.valueOf():e}function MF(e=Pi){if(e===Pi)return uP;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function uP(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const RF=Math.sqrt(50),$F=Math.sqrt(10),LF=Math.sqrt(2);function vh(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),l=n/Math.pow(10,i),o=l>=RF?10:l>=$F?5:l>=LF?2:1;let c,d,h;return i<0?(h=Math.pow(10,-i)/o,c=Math.round(e*h),d=Math.round(t*h),c/h<e&&++c,d/h>t&&--d,h=-h):(h=Math.pow(10,i)*o,c=Math.round(e/h),d=Math.round(t/h),c*h<e&&++c,d*h>t&&--d),d<c&&.5<=r&&r<2?vh(e,t,r*2):[c,d,h]}function nb(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,l,o]=n?vh(t,e,r):vh(e,t,r);if(!(l>=i))return[];const c=l-i+1,d=new Array(c);if(n)if(o<0)for(let h=0;h<c;++h)d[h]=(l-h)/-o;else for(let h=0;h<c;++h)d[h]=(l-h)*o;else if(o<0)for(let h=0;h<c;++h)d[h]=(i+h)/-o;else for(let h=0;h<c;++h)d[h]=(i+h)*o;return d}function ab(e,t,r){return t=+t,e=+e,r=+r,vh(e,t,r)[2]}function ib(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?ab(t,e,r):ab(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function IE(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function UE(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function cP(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?uP:MF(i);n>r;){if(n-r>600){const d=n-r+1,h=t-r+1,m=Math.log(d),p=.5*Math.exp(2*m/3),v=.5*Math.sqrt(m*p*(d-p)/d)*(h-d/2<0?-1:1),x=Math.max(r,Math.floor(t-h*p/d+v)),S=Math.min(n,Math.floor(t+(d-h)*p/d+v));cP(e,t,x,S,i)}const l=e[t];let o=r,c=n;for(vu(e,r,t),i(e[n],l)>0&&vu(e,r,n);o<c;){for(vu(e,o,c),++o,--c;i(e[o],l)<0;)++o;for(;i(e[c],l)>0;)--c}i(e[r],l)===0?vu(e,r,c):(++c,vu(e,c,n)),c<=t&&(r=c+1),t<=c&&(n=c-1)}return e}function vu(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function IF(e,t,r){if(e=Float64Array.from(AF(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return UE(e);if(t>=1)return IE(e);var n,i=(n-1)*t,l=Math.floor(i),o=IE(cP(e,l).subarray(0,l+1)),c=UE(e.subarray(l+1));return o+(c-o)*(i-l)}}function UF(e,t,r=oP){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,l=Math.floor(i),o=+r(e[l],l,e),c=+r(e[l+1],l+1,e);return o+(c-o)*(i-l)}}function zF(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,l=new Array(i);++n<i;)l[n]=e+n*r;return l}function jn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ya(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const sb=Symbol("implicit");function bx(){var e=new $E,t=[],r=[],n=sb;function i(l){let o=e.get(l);if(o===void 0){if(n!==sb)return n;e.set(l,o=t.push(l)-1)}return r[o%r.length]}return i.domain=function(l){if(!arguments.length)return t.slice();t=[],e=new $E;for(const o of l)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(l){return arguments.length?(r=Array.from(l),i):r.slice()},i.unknown=function(l){return arguments.length?(n=l,i):n},i.copy=function(){return bx(t,r).unknown(n)},jn.apply(i,arguments),i}function xx(){var e=bx().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,l,o,c=!1,d=0,h=0,m=.5;delete e.unknown;function p(){var v=t().length,x=i<n,S=x?i:n,k=x?n:i;l=(k-S)/Math.max(1,v-d+h*2),c&&(l=Math.floor(l)),S+=(k-S-l*(v-d))*m,o=l*(1-d),c&&(S=Math.round(S),o=Math.round(o));var _=zF(v).map(function(j){return S+l*j});return r(x?_.reverse():_)}return e.domain=function(v){return arguments.length?(t(v),p()):t()},e.range=function(v){return arguments.length?([n,i]=v,n=+n,i=+i,p()):[n,i]},e.rangeRound=function(v){return[n,i]=v,n=+n,i=+i,c=!0,p()},e.bandwidth=function(){return o},e.step=function(){return l},e.round=function(v){return arguments.length?(c=!!v,p()):c},e.padding=function(v){return arguments.length?(d=Math.min(1,h=+v),p()):d},e.paddingInner=function(v){return arguments.length?(d=Math.min(1,v),p()):d},e.paddingOuter=function(v){return arguments.length?(h=+v,p()):h},e.align=function(v){return arguments.length?(m=Math.max(0,Math.min(1,v)),p()):m},e.copy=function(){return xx(t(),[n,i]).round(c).paddingInner(d).paddingOuter(h).align(m)},jn.apply(p(),arguments)}function dP(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return dP(t())},e}function BF(){return dP(xx.apply(null,arguments).paddingInner(1))}function wx(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function fP(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function yc(){}var Yu=.7,yh=1/Yu,Bl="\\s*([+-]?\\d+)\\s*",Wu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",qF=/^#([0-9a-f]{3,8})$/,HF=new RegExp(`^rgb\\(${Bl},${Bl},${Bl}\\)$`),FF=new RegExp(`^rgb\\(${Xn},${Xn},${Xn}\\)$`),KF=new RegExp(`^rgba\\(${Bl},${Bl},${Bl},${Wu}\\)$`),VF=new RegExp(`^rgba\\(${Xn},${Xn},${Xn},${Wu}\\)$`),GF=new RegExp(`^hsl\\(${Wu},${Xn},${Xn}\\)$`),YF=new RegExp(`^hsla\\(${Wu},${Xn},${Xn},${Wu}\\)$`),zE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};wx(yc,Xu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:BE,formatHex:BE,formatHex8:WF,formatHsl:XF,formatRgb:qE,toString:qE});function BE(){return this.rgb().formatHex()}function WF(){return this.rgb().formatHex8()}function XF(){return hP(this).formatHsl()}function qE(){return this.rgb().formatRgb()}function Xu(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=qF.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?HE(t):r===3?new Ur(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?vf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?vf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=HF.exec(e))?new Ur(t[1],t[2],t[3],1):(t=FF.exec(e))?new Ur(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=KF.exec(e))?vf(t[1],t[2],t[3],t[4]):(t=VF.exec(e))?vf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=GF.exec(e))?VE(t[1],t[2]/100,t[3]/100,1):(t=YF.exec(e))?VE(t[1],t[2]/100,t[3]/100,t[4]):zE.hasOwnProperty(e)?HE(zE[e]):e==="transparent"?new Ur(NaN,NaN,NaN,0):null}function HE(e){return new Ur(e>>16&255,e>>8&255,e&255,1)}function vf(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ur(e,t,r,n)}function ZF(e){return e instanceof yc||(e=Xu(e)),e?(e=e.rgb(),new Ur(e.r,e.g,e.b,e.opacity)):new Ur}function lb(e,t,r,n){return arguments.length===1?ZF(e):new Ur(e,t,r,n??1)}function Ur(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}wx(Ur,lb,fP(yc,{brighter(e){return e=e==null?yh:Math.pow(yh,e),new Ur(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Yu:Math.pow(Yu,e),new Ur(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ur(ks(this.r),ks(this.g),ks(this.b),bh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:FE,formatHex:FE,formatHex8:JF,formatRgb:KE,toString:KE}));function FE(){return`#${xs(this.r)}${xs(this.g)}${xs(this.b)}`}function JF(){return`#${xs(this.r)}${xs(this.g)}${xs(this.b)}${xs((isNaN(this.opacity)?1:this.opacity)*255)}`}function KE(){const e=bh(this.opacity);return`${e===1?"rgb(":"rgba("}${ks(this.r)}, ${ks(this.g)}, ${ks(this.b)}${e===1?")":`, ${e})`}`}function bh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ks(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function xs(e){return e=ks(e),(e<16?"0":"")+e.toString(16)}function VE(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Rn(e,t,r,n)}function hP(e){if(e instanceof Rn)return new Rn(e.h,e.s,e.l,e.opacity);if(e instanceof yc||(e=Xu(e)),!e)return new Rn;if(e instanceof Rn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),l=Math.max(t,r,n),o=NaN,c=l-i,d=(l+i)/2;return c?(t===l?o=(r-n)/c+(r<n)*6:r===l?o=(n-t)/c+2:o=(t-r)/c+4,c/=d<.5?l+i:2-l-i,o*=60):c=d>0&&d<1?0:o,new Rn(o,c,d,e.opacity)}function QF(e,t,r,n){return arguments.length===1?hP(e):new Rn(e,t,r,n??1)}function Rn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}wx(Rn,QF,fP(yc,{brighter(e){return e=e==null?yh:Math.pow(yh,e),new Rn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Yu:Math.pow(Yu,e),new Rn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Ur(Nv(e>=240?e-240:e+120,i,n),Nv(e,i,n),Nv(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Rn(GE(this.h),yf(this.s),yf(this.l),bh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=bh(this.opacity);return`${e===1?"hsl(":"hsla("}${GE(this.h)}, ${yf(this.s)*100}%, ${yf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function GE(e){return e=(e||0)%360,e<0?e+360:e}function yf(e){return Math.max(0,Math.min(1,e||0))}function Nv(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Sx=e=>()=>e;function eK(e,t){return function(r){return e+r*t}}function tK(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function rK(e){return(e=+e)==1?mP:function(t,r){return r-t?tK(t,r,e):Sx(isNaN(t)?r:t)}}function mP(e,t){var r=t-e;return r?eK(e,r):Sx(isNaN(e)?t:e)}const YE=(function e(t){var r=rK(t);function n(i,l){var o=r((i=lb(i)).r,(l=lb(l)).r),c=r(i.g,l.g),d=r(i.b,l.b),h=mP(i.opacity,l.opacity);return function(m){return i.r=o(m),i.g=c(m),i.b=d(m),i.opacity=h(m),i+""}}return n.gamma=e,n})(1);function nK(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(l){for(i=0;i<r;++i)n[i]=e[i]*(1-l)+t[i]*l;return n}}function aK(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function iK(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),l=new Array(r),o;for(o=0;o<n;++o)i[o]=so(e[o],t[o]);for(;o<r;++o)l[o]=t[o];return function(c){for(o=0;o<n;++o)l[o]=i[o](c);return l}}function sK(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function xh(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function lK(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=so(e[i],t[i]):n[i]=t[i];return function(l){for(i in r)n[i]=r[i](l);return n}}var ob=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Av=new RegExp(ob.source,"g");function oK(e){return function(){return e}}function uK(e){return function(t){return e(t)+""}}function cK(e,t){var r=ob.lastIndex=Av.lastIndex=0,n,i,l,o=-1,c=[],d=[];for(e=e+"",t=t+"";(n=ob.exec(e))&&(i=Av.exec(t));)(l=i.index)>r&&(l=t.slice(r,l),c[o]?c[o]+=l:c[++o]=l),(n=n[0])===(i=i[0])?c[o]?c[o]+=i:c[++o]=i:(c[++o]=null,d.push({i:o,x:xh(n,i)})),r=Av.lastIndex;return r<t.length&&(l=t.slice(r),c[o]?c[o]+=l:c[++o]=l),c.length<2?d[0]?uK(d[0].x):oK(t):(t=d.length,function(h){for(var m=0,p;m<t;++m)c[(p=d[m]).i]=p.x(h);return c.join("")})}function so(e,t){var r=typeof t,n;return t==null||r==="boolean"?Sx(t):(r==="number"?xh:r==="string"?(n=Xu(t))?(t=n,YE):cK:t instanceof Xu?YE:t instanceof Date?sK:aK(t)?nK:Array.isArray(t)?iK:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?lK:xh)(e,t)}function _x(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function dK(e,t){t===void 0&&(t=e,e=so);for(var r=0,n=t.length-1,i=t[0],l=new Array(n<0?0:n);r<n;)l[r]=e(i,i=t[++r]);return function(o){var c=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return l[c](o-c)}}function fK(e){return function(){return e}}function wh(e){return+e}var WE=[0,1];function yr(e){return e}function ub(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:fK(isNaN(t)?NaN:.5)}function hK(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function mK(e,t,r){var n=e[0],i=e[1],l=t[0],o=t[1];return i<n?(n=ub(i,n),l=r(o,l)):(n=ub(n,i),l=r(l,o)),function(c){return l(n(c))}}function gK(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),l=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=ub(e[o],e[o+1]),l[o]=r(t[o],t[o+1]);return function(c){var d=vc(e,c,1,n)-1;return l[d](i[d](c))}}function bc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function k0(){var e=WE,t=WE,r=so,n,i,l,o=yr,c,d,h;function m(){var v=Math.min(e.length,t.length);return o!==yr&&(o=hK(e[0],e[v-1])),c=v>2?gK:mK,d=h=null,p}function p(v){return v==null||isNaN(v=+v)?l:(d||(d=c(e.map(n),t,r)))(n(o(v)))}return p.invert=function(v){return o(i((h||(h=c(t,e.map(n),xh)))(v)))},p.domain=function(v){return arguments.length?(e=Array.from(v,wh),m()):e.slice()},p.range=function(v){return arguments.length?(t=Array.from(v),m()):t.slice()},p.rangeRound=function(v){return t=Array.from(v),r=_x,m()},p.clamp=function(v){return arguments.length?(o=v?!0:yr,m()):o!==yr},p.interpolate=function(v){return arguments.length?(r=v,m()):r},p.unknown=function(v){return arguments.length?(l=v,p):l},function(v,x){return n=v,i=x,m()}}function kx(){return k0()(yr,yr)}function pK(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Sh(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Zl(e){return e=Sh(Math.abs(e)),e?e[1]:NaN}function vK(e,t){return function(r,n){for(var i=r.length,l=[],o=0,c=e[0],d=0;i>0&&c>0&&(d+c+1>n&&(c=Math.max(1,n-d)),l.push(r.substring(i-=c,i+c)),!((d+=c+1)>n));)c=e[o=(o+1)%e.length];return l.reverse().join(t)}}function yK(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var bK=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Zu(e){if(!(t=bK.exec(e)))throw new Error("invalid format: "+e);var t;return new jx({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Zu.prototype=jx.prototype;function jx(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}jx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function xK(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var gP;function wK(e,t){var r=Sh(e,t);if(!r)return e+"";var n=r[0],i=r[1],l=i-(gP=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return l===o?n:l>o?n+new Array(l-o+1).join("0"):l>0?n.slice(0,l)+"."+n.slice(l):"0."+new Array(1-l).join("0")+Sh(e,Math.max(0,t+l-1))[0]}function XE(e,t){var r=Sh(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const ZE={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:pK,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>XE(e*100,t),r:XE,s:wK,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function JE(e){return e}var QE=Array.prototype.map,eO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function SK(e){var t=e.grouping===void 0||e.thousands===void 0?JE:vK(QE.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",l=e.numerals===void 0?JE:yK(QE.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function h(p){p=Zu(p);var v=p.fill,x=p.align,S=p.sign,k=p.symbol,_=p.zero,j=p.width,N=p.comma,E=p.precision,P=p.trim,A=p.type;A==="n"?(N=!0,A="g"):ZE[A]||(E===void 0&&(E=12),P=!0,A="g"),(_||v==="0"&&x==="=")&&(_=!0,v="0",x="=");var T=k==="$"?r:k==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",C=k==="$"?n:/[%p]/.test(A)?o:"",M=ZE[A],$=/[defgprs%]/.test(A);E=E===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function R(I){var q=T,ae=C,te,ie,B;if(A==="c")ae=M(I)+ae,I="";else{I=+I;var K=I<0||1/I<0;if(I=isNaN(I)?d:M(Math.abs(I),E),P&&(I=xK(I)),K&&+I==0&&S!=="+"&&(K=!1),q=(K?S==="("?S:c:S==="-"||S==="("?"":S)+q,ae=(A==="s"?eO[8+gP/3]:"")+ae+(K&&S==="("?")":""),$){for(te=-1,ie=I.length;++te<ie;)if(B=I.charCodeAt(te),48>B||B>57){ae=(B===46?i+I.slice(te+1):I.slice(te))+ae,I=I.slice(0,te);break}}}N&&!_&&(I=t(I,1/0));var le=q.length+I.length+ae.length,W=le<j?new Array(j-le+1).join(v):"";switch(N&&_&&(I=t(W+I,W.length?j-ae.length:1/0),W=""),x){case"<":I=q+I+ae+W;break;case"=":I=q+W+I+ae;break;case"^":I=W.slice(0,le=W.length>>1)+q+I+ae+W.slice(le);break;default:I=W+q+I+ae;break}return l(I)}return R.toString=function(){return p+""},R}function m(p,v){var x=h((p=Zu(p),p.type="f",p)),S=Math.max(-8,Math.min(8,Math.floor(Zl(v)/3)))*3,k=Math.pow(10,-S),_=eO[8+S/3];return function(j){return x(k*j)+_}}return{format:h,formatPrefix:m}}var bf,Ex,pP;_K({thousands:",",grouping:[3],currency:["$",""]});function _K(e){return bf=SK(e),Ex=bf.format,pP=bf.formatPrefix,bf}function kK(e){return Math.max(0,-Zl(Math.abs(e)))}function jK(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Zl(t)/3)))*3-Zl(Math.abs(e)))}function EK(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Zl(t)-Zl(e))+1}function vP(e,t,r,n){var i=ib(e,t,r),l;switch(n=Zu(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(l=jK(i,o))&&(n.precision=l),pP(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(l=EK(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=l-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(l=kK(i))&&(n.precision=l-(n.type==="%")*2);break}}return Ex(n)}function Ii(e){var t=e.domain;return e.ticks=function(r){var n=t();return nb(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return vP(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,l=n.length-1,o=n[i],c=n[l],d,h,m=10;for(c<o&&(h=o,o=c,c=h,h=i,i=l,l=h);m-- >0;){if(h=ab(o,c,r),h===d)return n[i]=o,n[l]=c,t(n);if(h>0)o=Math.floor(o/h)*h,c=Math.ceil(c/h)*h;else if(h<0)o=Math.ceil(o*h)/h,c=Math.floor(c*h)/h;else break;d=h}return e},e}function yP(){var e=kx();return e.copy=function(){return bc(e,yP())},jn.apply(e,arguments),Ii(e)}function bP(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,wh),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return bP(e).unknown(t)},e=arguments.length?Array.from(e,wh):[0,1],Ii(r)}function xP(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],l=e[n],o;return l<i&&(o=r,r=n,n=o,o=i,i=l,l=o),e[r]=t.floor(i),e[n]=t.ceil(l),e}function tO(e){return Math.log(e)}function rO(e){return Math.exp(e)}function OK(e){return-Math.log(-e)}function NK(e){return-Math.exp(-e)}function AK(e){return isFinite(e)?+("1e"+e):e<0?0:e}function TK(e){return e===10?AK:e===Math.E?Math.exp:t=>Math.pow(e,t)}function CK(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function nO(e){return(t,r)=>-e(-t,r)}function Ox(e){const t=e(tO,rO),r=t.domain;let n=10,i,l;function o(){return i=CK(n),l=TK(n),r()[0]<0?(i=nO(i),l=nO(l),e(OK,NK)):e(tO,rO),t}return t.base=function(c){return arguments.length?(n=+c,o()):n},t.domain=function(c){return arguments.length?(r(c),o()):r()},t.ticks=c=>{const d=r();let h=d[0],m=d[d.length-1];const p=m<h;p&&([h,m]=[m,h]);let v=i(h),x=i(m),S,k;const _=c==null?10:+c;let j=[];if(!(n%1)&&x-v<_){if(v=Math.floor(v),x=Math.ceil(x),h>0){for(;v<=x;++v)for(S=1;S<n;++S)if(k=v<0?S/l(-v):S*l(v),!(k<h)){if(k>m)break;j.push(k)}}else for(;v<=x;++v)for(S=n-1;S>=1;--S)if(k=v>0?S/l(-v):S*l(v),!(k<h)){if(k>m)break;j.push(k)}j.length*2<_&&(j=nb(h,m,_))}else j=nb(v,x,Math.min(x-v,_)).map(l);return p?j.reverse():j},t.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=Zu(d)).precision==null&&(d.trim=!0),d=Ex(d)),c===1/0)return d;const h=Math.max(1,n*c/t.ticks().length);return m=>{let p=m/l(Math.round(i(m)));return p*n<n-.5&&(p*=n),p<=h?d(m):""}},t.nice=()=>r(xP(r(),{floor:c=>l(Math.floor(i(c))),ceil:c=>l(Math.ceil(i(c)))})),t}function wP(){const e=Ox(k0()).domain([1,10]);return e.copy=()=>bc(e,wP()).base(e.base()),jn.apply(e,arguments),e}function aO(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function iO(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Nx(e){var t=1,r=e(aO(t),iO(t));return r.constant=function(n){return arguments.length?e(aO(t=+n),iO(t)):t},Ii(r)}function SP(){var e=Nx(k0());return e.copy=function(){return bc(e,SP()).constant(e.constant())},jn.apply(e,arguments)}function sO(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function PK(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function DK(e){return e<0?-e*e:e*e}function Ax(e){var t=e(yr,yr),r=1;function n(){return r===1?e(yr,yr):r===.5?e(PK,DK):e(sO(r),sO(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Ii(t)}function Tx(){var e=Ax(k0());return e.copy=function(){return bc(e,Tx()).exponent(e.exponent())},jn.apply(e,arguments),e}function MK(){return Tx.apply(null,arguments).exponent(.5)}function lO(e){return Math.sign(e)*e*e}function RK(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function _P(){var e=kx(),t=[0,1],r=!1,n;function i(l){var o=RK(e(l));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(l){return e.invert(lO(l))},i.domain=function(l){return arguments.length?(e.domain(l),i):e.domain()},i.range=function(l){return arguments.length?(e.range((t=Array.from(l,wh)).map(lO)),i):t.slice()},i.rangeRound=function(l){return i.range(l).round(!0)},i.round=function(l){return arguments.length?(r=!!l,i):r},i.clamp=function(l){return arguments.length?(e.clamp(l),i):e.clamp()},i.unknown=function(l){return arguments.length?(n=l,i):n},i.copy=function(){return _P(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},jn.apply(i,arguments),Ii(i)}function kP(){var e=[],t=[],r=[],n;function i(){var o=0,c=Math.max(1,t.length);for(r=new Array(c-1);++o<c;)r[o-1]=UF(e,o/c);return l}function l(o){return o==null||isNaN(o=+o)?n:t[vc(r,o)]}return l.invertExtent=function(o){var c=t.indexOf(o);return c<0?[NaN,NaN]:[c>0?r[c-1]:e[0],c<r.length?r[c]:e[e.length-1]]},l.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let c of o)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(Pi),i()},l.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},l.unknown=function(o){return arguments.length?(n=o,l):n},l.quantiles=function(){return r.slice()},l.copy=function(){return kP().domain(e).range(t).unknown(n)},jn.apply(l,arguments)}function jP(){var e=0,t=1,r=1,n=[.5],i=[0,1],l;function o(d){return d!=null&&d<=d?i[vc(n,d,0,r)]:l}function c(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*t-(d-r)*e)/(r+1);return o}return o.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,c()):[e,t]},o.range=function(d){return arguments.length?(r=(i=Array.from(d)).length-1,c()):i.slice()},o.invertExtent=function(d){var h=i.indexOf(d);return h<0?[NaN,NaN]:h<1?[e,n[0]]:h>=r?[n[r-1],t]:[n[h-1],n[h]]},o.unknown=function(d){return arguments.length&&(l=d),o},o.thresholds=function(){return n.slice()},o.copy=function(){return jP().domain([e,t]).range(i).unknown(l)},jn.apply(Ii(o),arguments)}function EP(){var e=[.5],t=[0,1],r,n=1;function i(l){return l!=null&&l<=l?t[vc(e,l,0,n)]:r}return i.domain=function(l){return arguments.length?(e=Array.from(l),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(l){return arguments.length?(t=Array.from(l),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(l){var o=t.indexOf(l);return[e[o-1],e[o]]},i.unknown=function(l){return arguments.length?(r=l,i):r},i.copy=function(){return EP().domain(e).range(t).unknown(r)},jn.apply(i,arguments)}const Tv=new Date,Cv=new Date;function Lt(e,t,r,n){function i(l){return e(l=arguments.length===0?new Date:new Date(+l)),l}return i.floor=l=>(e(l=new Date(+l)),l),i.ceil=l=>(e(l=new Date(l-1)),t(l,1),e(l),l),i.round=l=>{const o=i(l),c=i.ceil(l);return l-o<c-l?o:c},i.offset=(l,o)=>(t(l=new Date(+l),o==null?1:Math.floor(o)),l),i.range=(l,o,c)=>{const d=[];if(l=i.ceil(l),c=c==null?1:Math.floor(c),!(l<o)||!(c>0))return d;let h;do d.push(h=new Date(+l)),t(l,c),e(l);while(h<l&&l<o);return d},i.filter=l=>Lt(o=>{if(o>=o)for(;e(o),!l(o);)o.setTime(o-1)},(o,c)=>{if(o>=o)if(c<0)for(;++c<=0;)for(;t(o,-1),!l(o););else for(;--c>=0;)for(;t(o,1),!l(o););}),r&&(i.count=(l,o)=>(Tv.setTime(+l),Cv.setTime(+o),e(Tv),e(Cv),Math.floor(r(Tv,Cv))),i.every=l=>(l=Math.floor(l),!isFinite(l)||!(l>0)?null:l>1?i.filter(n?o=>n(o)%l===0:o=>i.count(0,o)%l===0):i)),i}const _h=Lt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);_h.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Lt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):_h);_h.range;const Ca=1e3,xn=Ca*60,Pa=xn*60,za=Pa*24,Cx=za*7,oO=za*30,Pv=za*365,ws=Lt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ca)},(e,t)=>(t-e)/Ca,e=>e.getUTCSeconds());ws.range;const Px=Lt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ca)},(e,t)=>{e.setTime(+e+t*xn)},(e,t)=>(t-e)/xn,e=>e.getMinutes());Px.range;const Dx=Lt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*xn)},(e,t)=>(t-e)/xn,e=>e.getUTCMinutes());Dx.range;const Mx=Lt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ca-e.getMinutes()*xn)},(e,t)=>{e.setTime(+e+t*Pa)},(e,t)=>(t-e)/Pa,e=>e.getHours());Mx.range;const Rx=Lt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Pa)},(e,t)=>(t-e)/Pa,e=>e.getUTCHours());Rx.range;const xc=Lt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*xn)/za,e=>e.getDate()-1);xc.range;const j0=Lt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/za,e=>e.getUTCDate()-1);j0.range;const OP=Lt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/za,e=>Math.floor(e/za));OP.range;function Ls(e){return Lt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*xn)/Cx)}const E0=Ls(0),kh=Ls(1),$K=Ls(2),LK=Ls(3),Jl=Ls(4),IK=Ls(5),UK=Ls(6);E0.range;kh.range;$K.range;LK.range;Jl.range;IK.range;UK.range;function Is(e){return Lt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Cx)}const O0=Is(0),jh=Is(1),zK=Is(2),BK=Is(3),Ql=Is(4),qK=Is(5),HK=Is(6);O0.range;jh.range;zK.range;BK.range;Ql.range;qK.range;HK.range;const $x=Lt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());$x.range;const Lx=Lt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Lx.range;const Ba=Lt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ba.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Lt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ba.range;const qa=Lt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());qa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Lt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});qa.range;function NP(e,t,r,n,i,l){const o=[[ws,1,Ca],[ws,5,5*Ca],[ws,15,15*Ca],[ws,30,30*Ca],[l,1,xn],[l,5,5*xn],[l,15,15*xn],[l,30,30*xn],[i,1,Pa],[i,3,3*Pa],[i,6,6*Pa],[i,12,12*Pa],[n,1,za],[n,2,2*za],[r,1,Cx],[t,1,oO],[t,3,3*oO],[e,1,Pv]];function c(h,m,p){const v=m<h;v&&([h,m]=[m,h]);const x=p&&typeof p.range=="function"?p:d(h,m,p),S=x?x.range(h,+m+1):[];return v?S.reverse():S}function d(h,m,p){const v=Math.abs(m-h)/p,x=yx(([,,_])=>_).right(o,v);if(x===o.length)return e.every(ib(h/Pv,m/Pv,p));if(x===0)return _h.every(Math.max(ib(h,m,p),1));const[S,k]=o[v/o[x-1][2]<o[x][2]/v?x-1:x];return S.every(k)}return[c,d]}const[FK,KK]=NP(qa,Lx,O0,OP,Rx,Dx),[VK,GK]=NP(Ba,$x,E0,xc,Mx,Px);function Dv(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Mv(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function yu(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function YK(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,l=e.days,o=e.shortDays,c=e.months,d=e.shortMonths,h=bu(i),m=xu(i),p=bu(l),v=xu(l),x=bu(o),S=xu(o),k=bu(c),_=xu(c),j=bu(d),N=xu(d),E={a:K,A:le,b:W,B:de,c:null,d:mO,e:mO,f:vV,g:OV,G:AV,H:mV,I:gV,j:pV,L:AP,m:yV,M:bV,p:L,q:H,Q:vO,s:yO,S:xV,u:wV,U:SV,V:_V,w:kV,W:jV,x:null,X:null,y:EV,Y:NV,Z:TV,"%":pO},P={a:X,A:oe,b:fe,B:ce,c:null,d:gO,e:gO,f:MV,g:FV,G:VV,H:CV,I:PV,j:DV,L:CP,m:RV,M:$V,p:me,q:Ee,Q:vO,s:yO,S:LV,u:IV,U:UV,V:zV,w:BV,W:qV,x:null,X:null,y:HV,Y:KV,Z:GV,"%":pO},A={a:R,A:I,b:q,B:ae,c:te,d:fO,e:fO,f:cV,g:dO,G:cO,H:hO,I:hO,j:sV,L:uV,m:iV,M:lV,p:$,q:aV,Q:fV,s:hV,S:oV,u:QK,U:eV,V:tV,w:JK,W:rV,x:ie,X:B,y:dO,Y:cO,Z:nV,"%":dV};E.x=T(r,E),E.X=T(n,E),E.c=T(t,E),P.x=T(r,P),P.X=T(n,P),P.c=T(t,P);function T(Z,we){return function(he){var ee=[],Ae=-1,Te=0,ue=Z.length,pe,Oe,Be;for(he instanceof Date||(he=new Date(+he));++Ae<ue;)Z.charCodeAt(Ae)===37&&(ee.push(Z.slice(Te,Ae)),(Oe=uO[pe=Z.charAt(++Ae)])!=null?pe=Z.charAt(++Ae):Oe=pe==="e"?" ":"0",(Be=we[pe])&&(pe=Be(he,Oe)),ee.push(pe),Te=Ae+1);return ee.push(Z.slice(Te,Ae)),ee.join("")}}function C(Z,we){return function(he){var ee=yu(1900,void 0,1),Ae=M(ee,Z,he+="",0),Te,ue;if(Ae!=he.length)return null;if("Q"in ee)return new Date(ee.Q);if("s"in ee)return new Date(ee.s*1e3+("L"in ee?ee.L:0));if(we&&!("Z"in ee)&&(ee.Z=0),"p"in ee&&(ee.H=ee.H%12+ee.p*12),ee.m===void 0&&(ee.m="q"in ee?ee.q:0),"V"in ee){if(ee.V<1||ee.V>53)return null;"w"in ee||(ee.w=1),"Z"in ee?(Te=Mv(yu(ee.y,0,1)),ue=Te.getUTCDay(),Te=ue>4||ue===0?jh.ceil(Te):jh(Te),Te=j0.offset(Te,(ee.V-1)*7),ee.y=Te.getUTCFullYear(),ee.m=Te.getUTCMonth(),ee.d=Te.getUTCDate()+(ee.w+6)%7):(Te=Dv(yu(ee.y,0,1)),ue=Te.getDay(),Te=ue>4||ue===0?kh.ceil(Te):kh(Te),Te=xc.offset(Te,(ee.V-1)*7),ee.y=Te.getFullYear(),ee.m=Te.getMonth(),ee.d=Te.getDate()+(ee.w+6)%7)}else("W"in ee||"U"in ee)&&("w"in ee||(ee.w="u"in ee?ee.u%7:"W"in ee?1:0),ue="Z"in ee?Mv(yu(ee.y,0,1)).getUTCDay():Dv(yu(ee.y,0,1)).getDay(),ee.m=0,ee.d="W"in ee?(ee.w+6)%7+ee.W*7-(ue+5)%7:ee.w+ee.U*7-(ue+6)%7);return"Z"in ee?(ee.H+=ee.Z/100|0,ee.M+=ee.Z%100,Mv(ee)):Dv(ee)}}function M(Z,we,he,ee){for(var Ae=0,Te=we.length,ue=he.length,pe,Oe;Ae<Te;){if(ee>=ue)return-1;if(pe=we.charCodeAt(Ae++),pe===37){if(pe=we.charAt(Ae++),Oe=A[pe in uO?we.charAt(Ae++):pe],!Oe||(ee=Oe(Z,he,ee))<0)return-1}else if(pe!=he.charCodeAt(ee++))return-1}return ee}function $(Z,we,he){var ee=h.exec(we.slice(he));return ee?(Z.p=m.get(ee[0].toLowerCase()),he+ee[0].length):-1}function R(Z,we,he){var ee=x.exec(we.slice(he));return ee?(Z.w=S.get(ee[0].toLowerCase()),he+ee[0].length):-1}function I(Z,we,he){var ee=p.exec(we.slice(he));return ee?(Z.w=v.get(ee[0].toLowerCase()),he+ee[0].length):-1}function q(Z,we,he){var ee=j.exec(we.slice(he));return ee?(Z.m=N.get(ee[0].toLowerCase()),he+ee[0].length):-1}function ae(Z,we,he){var ee=k.exec(we.slice(he));return ee?(Z.m=_.get(ee[0].toLowerCase()),he+ee[0].length):-1}function te(Z,we,he){return M(Z,t,we,he)}function ie(Z,we,he){return M(Z,r,we,he)}function B(Z,we,he){return M(Z,n,we,he)}function K(Z){return o[Z.getDay()]}function le(Z){return l[Z.getDay()]}function W(Z){return d[Z.getMonth()]}function de(Z){return c[Z.getMonth()]}function L(Z){return i[+(Z.getHours()>=12)]}function H(Z){return 1+~~(Z.getMonth()/3)}function X(Z){return o[Z.getUTCDay()]}function oe(Z){return l[Z.getUTCDay()]}function fe(Z){return d[Z.getUTCMonth()]}function ce(Z){return c[Z.getUTCMonth()]}function me(Z){return i[+(Z.getUTCHours()>=12)]}function Ee(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var we=T(Z+="",E);return we.toString=function(){return Z},we},parse:function(Z){var we=C(Z+="",!1);return we.toString=function(){return Z},we},utcFormat:function(Z){var we=T(Z+="",P);return we.toString=function(){return Z},we},utcParse:function(Z){var we=C(Z+="",!0);return we.toString=function(){return Z},we}}}var uO={"-":"",_:" ",0:"0"},Wt=/^\s*\d+/,WK=/^%/,XK=/[\\^$*+?|[\]().{}]/g;function Ke(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",l=i.length;return n+(l<r?new Array(r-l+1).join(t)+i:i)}function ZK(e){return e.replace(XK,"\\$&")}function bu(e){return new RegExp("^(?:"+e.map(ZK).join("|")+")","i")}function xu(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function JK(e,t,r){var n=Wt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function QK(e,t,r){var n=Wt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function eV(e,t,r){var n=Wt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function tV(e,t,r){var n=Wt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function rV(e,t,r){var n=Wt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function cO(e,t,r){var n=Wt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function dO(e,t,r){var n=Wt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function nV(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function aV(e,t,r){var n=Wt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function iV(e,t,r){var n=Wt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function fO(e,t,r){var n=Wt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function sV(e,t,r){var n=Wt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function hO(e,t,r){var n=Wt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function lV(e,t,r){var n=Wt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function oV(e,t,r){var n=Wt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function uV(e,t,r){var n=Wt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function cV(e,t,r){var n=Wt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function dV(e,t,r){var n=WK.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function fV(e,t,r){var n=Wt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function hV(e,t,r){var n=Wt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function mO(e,t){return Ke(e.getDate(),t,2)}function mV(e,t){return Ke(e.getHours(),t,2)}function gV(e,t){return Ke(e.getHours()%12||12,t,2)}function pV(e,t){return Ke(1+xc.count(Ba(e),e),t,3)}function AP(e,t){return Ke(e.getMilliseconds(),t,3)}function vV(e,t){return AP(e,t)+"000"}function yV(e,t){return Ke(e.getMonth()+1,t,2)}function bV(e,t){return Ke(e.getMinutes(),t,2)}function xV(e,t){return Ke(e.getSeconds(),t,2)}function wV(e){var t=e.getDay();return t===0?7:t}function SV(e,t){return Ke(E0.count(Ba(e)-1,e),t,2)}function TP(e){var t=e.getDay();return t>=4||t===0?Jl(e):Jl.ceil(e)}function _V(e,t){return e=TP(e),Ke(Jl.count(Ba(e),e)+(Ba(e).getDay()===4),t,2)}function kV(e){return e.getDay()}function jV(e,t){return Ke(kh.count(Ba(e)-1,e),t,2)}function EV(e,t){return Ke(e.getFullYear()%100,t,2)}function OV(e,t){return e=TP(e),Ke(e.getFullYear()%100,t,2)}function NV(e,t){return Ke(e.getFullYear()%1e4,t,4)}function AV(e,t){var r=e.getDay();return e=r>=4||r===0?Jl(e):Jl.ceil(e),Ke(e.getFullYear()%1e4,t,4)}function TV(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ke(t/60|0,"0",2)+Ke(t%60,"0",2)}function gO(e,t){return Ke(e.getUTCDate(),t,2)}function CV(e,t){return Ke(e.getUTCHours(),t,2)}function PV(e,t){return Ke(e.getUTCHours()%12||12,t,2)}function DV(e,t){return Ke(1+j0.count(qa(e),e),t,3)}function CP(e,t){return Ke(e.getUTCMilliseconds(),t,3)}function MV(e,t){return CP(e,t)+"000"}function RV(e,t){return Ke(e.getUTCMonth()+1,t,2)}function $V(e,t){return Ke(e.getUTCMinutes(),t,2)}function LV(e,t){return Ke(e.getUTCSeconds(),t,2)}function IV(e){var t=e.getUTCDay();return t===0?7:t}function UV(e,t){return Ke(O0.count(qa(e)-1,e),t,2)}function PP(e){var t=e.getUTCDay();return t>=4||t===0?Ql(e):Ql.ceil(e)}function zV(e,t){return e=PP(e),Ke(Ql.count(qa(e),e)+(qa(e).getUTCDay()===4),t,2)}function BV(e){return e.getUTCDay()}function qV(e,t){return Ke(jh.count(qa(e)-1,e),t,2)}function HV(e,t){return Ke(e.getUTCFullYear()%100,t,2)}function FV(e,t){return e=PP(e),Ke(e.getUTCFullYear()%100,t,2)}function KV(e,t){return Ke(e.getUTCFullYear()%1e4,t,4)}function VV(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Ql(e):Ql.ceil(e),Ke(e.getUTCFullYear()%1e4,t,4)}function GV(){return"+0000"}function pO(){return"%"}function vO(e){return+e}function yO(e){return Math.floor(+e/1e3)}var Al,DP,MP;YV({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function YV(e){return Al=YK(e),DP=Al.format,Al.parse,MP=Al.utcFormat,Al.utcParse,Al}function WV(e){return new Date(e)}function XV(e){return e instanceof Date?+e:+new Date(+e)}function Ix(e,t,r,n,i,l,o,c,d,h){var m=kx(),p=m.invert,v=m.domain,x=h(".%L"),S=h(":%S"),k=h("%I:%M"),_=h("%I %p"),j=h("%a %d"),N=h("%b %d"),E=h("%B"),P=h("%Y");function A(T){return(d(T)<T?x:c(T)<T?S:o(T)<T?k:l(T)<T?_:n(T)<T?i(T)<T?j:N:r(T)<T?E:P)(T)}return m.invert=function(T){return new Date(p(T))},m.domain=function(T){return arguments.length?v(Array.from(T,XV)):v().map(WV)},m.ticks=function(T){var C=v();return e(C[0],C[C.length-1],T??10)},m.tickFormat=function(T,C){return C==null?A:h(C)},m.nice=function(T){var C=v();return(!T||typeof T.range!="function")&&(T=t(C[0],C[C.length-1],T??10)),T?v(xP(C,T)):m},m.copy=function(){return bc(m,Ix(e,t,r,n,i,l,o,c,d,h))},m}function ZV(){return jn.apply(Ix(VK,GK,Ba,$x,E0,xc,Mx,Px,ws,DP).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function JV(){return jn.apply(Ix(FK,KK,qa,Lx,O0,j0,Rx,Dx,ws,MP).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function N0(){var e=0,t=1,r,n,i,l,o=yr,c=!1,d;function h(p){return p==null||isNaN(p=+p)?d:o(i===0?.5:(p=(l(p)-r)*i,c?Math.max(0,Math.min(1,p)):p))}h.domain=function(p){return arguments.length?([e,t]=p,r=l(e=+e),n=l(t=+t),i=r===n?0:1/(n-r),h):[e,t]},h.clamp=function(p){return arguments.length?(c=!!p,h):c},h.interpolator=function(p){return arguments.length?(o=p,h):o};function m(p){return function(v){var x,S;return arguments.length?([x,S]=v,o=p(x,S),h):[o(0),o(1)]}}return h.range=m(so),h.rangeRound=m(_x),h.unknown=function(p){return arguments.length?(d=p,h):d},function(p){return l=p,r=p(e),n=p(t),i=r===n?0:1/(n-r),h}}function Ui(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function RP(){var e=Ii(N0()(yr));return e.copy=function(){return Ui(e,RP())},Ya.apply(e,arguments)}function $P(){var e=Ox(N0()).domain([1,10]);return e.copy=function(){return Ui(e,$P()).base(e.base())},Ya.apply(e,arguments)}function LP(){var e=Nx(N0());return e.copy=function(){return Ui(e,LP()).constant(e.constant())},Ya.apply(e,arguments)}function Ux(){var e=Ax(N0());return e.copy=function(){return Ui(e,Ux()).exponent(e.exponent())},Ya.apply(e,arguments)}function QV(){return Ux.apply(null,arguments).exponent(.5)}function IP(){var e=[],t=yr;function r(n){if(n!=null&&!isNaN(n=+n))return t((vc(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Pi),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,l)=>IF(e,l/n))},r.copy=function(){return IP(t).domain(e)},Ya.apply(r,arguments)}function A0(){var e=0,t=.5,r=1,n=1,i,l,o,c,d,h=yr,m,p=!1,v;function x(k){return isNaN(k=+k)?v:(k=.5+((k=+m(k))-l)*(n*k<n*l?c:d),h(p?Math.max(0,Math.min(1,k)):k))}x.domain=function(k){return arguments.length?([e,t,r]=k,i=m(e=+e),l=m(t=+t),o=m(r=+r),c=i===l?0:.5/(l-i),d=l===o?0:.5/(o-l),n=l<i?-1:1,x):[e,t,r]},x.clamp=function(k){return arguments.length?(p=!!k,x):p},x.interpolator=function(k){return arguments.length?(h=k,x):h};function S(k){return function(_){var j,N,E;return arguments.length?([j,N,E]=_,h=dK(k,[j,N,E]),x):[h(0),h(.5),h(1)]}}return x.range=S(so),x.rangeRound=S(_x),x.unknown=function(k){return arguments.length?(v=k,x):v},function(k){return m=k,i=k(e),l=k(t),o=k(r),c=i===l?0:.5/(l-i),d=l===o?0:.5/(o-l),n=l<i?-1:1,x}}function UP(){var e=Ii(A0()(yr));return e.copy=function(){return Ui(e,UP())},Ya.apply(e,arguments)}function zP(){var e=Ox(A0()).domain([.1,1,10]);return e.copy=function(){return Ui(e,zP()).base(e.base())},Ya.apply(e,arguments)}function BP(){var e=Nx(A0());return e.copy=function(){return Ui(e,BP()).constant(e.constant())},Ya.apply(e,arguments)}function zx(){var e=Ax(A0());return e.copy=function(){return Ui(e,zx()).exponent(e.exponent())},Ya.apply(e,arguments)}function eG(){return zx.apply(null,arguments).exponent(.5)}const Nu=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:xx,scaleDiverging:UP,scaleDivergingLog:zP,scaleDivergingPow:zx,scaleDivergingSqrt:eG,scaleDivergingSymlog:BP,scaleIdentity:bP,scaleImplicit:sb,scaleLinear:yP,scaleLog:wP,scaleOrdinal:bx,scalePoint:BF,scalePow:Tx,scaleQuantile:kP,scaleQuantize:jP,scaleRadial:_P,scaleSequential:RP,scaleSequentialLog:$P,scaleSequentialPow:Ux,scaleSequentialQuantile:IP,scaleSequentialSqrt:QV,scaleSequentialSymlog:LP,scaleSqrt:MK,scaleSymlog:SP,scaleThreshold:EP,scaleTime:ZV,scaleUtc:JV,tickFormat:vP},Symbol.toStringTag,{value:"Module"}));var zi=e=>e.chartData,tG=Q([zi],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Bx=(e,t,r,n)=>n?tG(e):zi(e);function Ri(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Yt(t)&&Yt(r))return!0}return!1}function bO(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function qP(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,l;if(Yt(r))i=r;else if(typeof r=="function")return;if(Yt(n))l=n;else if(typeof n=="function")return;var o=[i,l];if(Ri(o))return o}}function rG(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Ri(n))return bO(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,l]=e,o,c;if(i==="auto")t!=null&&(o=Math.min(...t));else if(je(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t?.[0]))}catch{}else if(typeof i=="string"&&Gj.test(i)){var d=Gj.exec(i);if(d==null||t==null)o=void 0;else{var h=+d[1];o=t[0]-h}}else o=t?.[0];if(l==="auto")t!=null&&(c=Math.max(...t));else if(je(l))c=l;else if(typeof l=="function")try{t!=null&&(c=l(t?.[1]))}catch{}else if(typeof l=="string"&&Yj.test(l)){var m=Yj.exec(l);if(m==null||t==null)c=void 0;else{var p=+m[1];c=t[1]+p}}else c=t?.[1];var v=[o,c];if(Ri(v))return t==null?v:bO(v,t,r)}}}var lo=1e9,nG={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Hx,ft=!0,Sn="[DecimalError] ",js=Sn+"Invalid argument: ",qx=Sn+"Exponent out of range: ",oo=Math.floor,hs=Math.pow,aG=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Jr,Vt=1e7,lt=7,HP=9007199254740991,Eh=oo(HP/lt),ye={};ye.absoluteValue=ye.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ye.comparedTo=ye.cmp=function(e){var t,r,n,i,l=this;if(e=new l.constructor(e),l.s!==e.s)return l.s||-e.s;if(l.e!==e.e)return l.e>e.e^l.s<0?1:-1;for(n=l.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(l.d[t]!==e.d[t])return l.d[t]>e.d[t]^l.s<0?1:-1;return n===i?0:n>i^l.s<0?1:-1};ye.decimalPlaces=ye.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*lt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ye.dividedBy=ye.div=function(e){return Ra(this,new this.constructor(e))};ye.dividedToIntegerBy=ye.idiv=function(e){var t=this,r=t.constructor;return tt(Ra(t,new r(e),0,1),r.precision)};ye.equals=ye.eq=function(e){return!this.cmp(e)};ye.exponent=function(){return Ct(this)};ye.greaterThan=ye.gt=function(e){return this.cmp(e)>0};ye.greaterThanOrEqualTo=ye.gte=function(e){return this.cmp(e)>=0};ye.isInteger=ye.isint=function(){return this.e>this.d.length-2};ye.isNegative=ye.isneg=function(){return this.s<0};ye.isPositive=ye.ispos=function(){return this.s>0};ye.isZero=function(){return this.s===0};ye.lessThan=ye.lt=function(e){return this.cmp(e)<0};ye.lessThanOrEqualTo=ye.lte=function(e){return this.cmp(e)<1};ye.logarithm=ye.log=function(e){var t,r=this,n=r.constructor,i=n.precision,l=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Jr))throw Error(Sn+"NaN");if(r.s<1)throw Error(Sn+(r.s?"NaN":"-Infinity"));return r.eq(Jr)?new n(0):(ft=!1,t=Ra(Ju(r,l),Ju(e,l),l),ft=!0,tt(t,i))};ye.minus=ye.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?VP(t,e):FP(t,(e.s=-e.s,e))};ye.modulo=ye.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Sn+"NaN");return r.s?(ft=!1,t=Ra(r,e,0,1).times(e),ft=!0,r.minus(t)):tt(new n(r),i)};ye.naturalExponential=ye.exp=function(){return KP(this)};ye.naturalLogarithm=ye.ln=function(){return Ju(this)};ye.negated=ye.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ye.plus=ye.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?FP(t,e):VP(t,(e.s=-e.s,e))};ye.precision=ye.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(js+e);if(t=Ct(i)+1,n=i.d.length-1,r=n*lt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ye.squareRoot=ye.sqrt=function(){var e,t,r,n,i,l,o,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(Sn+"NaN")}for(e=Ct(c),ft=!1,i=Math.sqrt(+c),i==0||i==1/0?(t=Yn(c.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=oo((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new d(t)):n=new d(i.toString()),r=d.precision,i=o=r+3;;)if(l=n,n=l.plus(Ra(c,l,o+2)).times(.5),Yn(l.d).slice(0,o)===(t=Yn(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(tt(l,r+1,0),l.times(l).eq(c)){n=l;break}}else if(t!="9999")break;o+=4}return ft=!0,tt(n,r)};ye.times=ye.mul=function(e){var t,r,n,i,l,o,c,d,h,m=this,p=m.constructor,v=m.d,x=(e=new p(e)).d;if(!m.s||!e.s)return new p(0);for(e.s*=m.s,r=m.e+e.e,d=v.length,h=x.length,d<h&&(l=v,v=x,x=l,o=d,d=h,h=o),l=[],o=d+h,n=o;n--;)l.push(0);for(n=h;--n>=0;){for(t=0,i=d+n;i>n;)c=l[i]+x[n]*v[i-n-1]+t,l[i--]=c%Vt|0,t=c/Vt|0;l[i]=(l[i]+t)%Vt|0}for(;!l[--o];)l.pop();return t?++r:l.shift(),e.d=l,e.e=r,ft?tt(e,p.precision):e};ye.toDecimalPlaces=ye.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(na(e,0,lo),t===void 0?t=n.rounding:na(t,0,8),tt(r,e+Ct(r)+1,t))};ye.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Ts(n,!0):(na(e,0,lo),t===void 0?t=i.rounding:na(t,0,8),n=tt(new i(n),e+1,t),r=Ts(n,!0,e+1)),r};ye.toFixed=function(e,t){var r,n,i=this,l=i.constructor;return e===void 0?Ts(i):(na(e,0,lo),t===void 0?t=l.rounding:na(t,0,8),n=tt(new l(i),e+Ct(i)+1,t),r=Ts(n.abs(),!1,e+Ct(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ye.toInteger=ye.toint=function(){var e=this,t=e.constructor;return tt(new t(e),Ct(e)+1,t.rounding)};ye.toNumber=function(){return+this};ye.toPower=ye.pow=function(e){var t,r,n,i,l,o,c=this,d=c.constructor,h=12,m=+(e=new d(e));if(!e.s)return new d(Jr);if(c=new d(c),!c.s){if(e.s<1)throw Error(Sn+"Infinity");return c}if(c.eq(Jr))return c;if(n=d.precision,e.eq(Jr))return tt(c,n);if(t=e.e,r=e.d.length-1,o=t>=r,l=c.s,o){if((r=m<0?-m:m)<=HP){for(i=new d(Jr),t=Math.ceil(n/lt+4),ft=!1;r%2&&(i=i.times(c),wO(i.d,t)),r=oo(r/2),r!==0;)c=c.times(c),wO(c.d,t);return ft=!0,e.s<0?new d(Jr).div(i):tt(i,n)}}else if(l<0)throw Error(Sn+"NaN");return l=l<0&&e.d[Math.max(t,r)]&1?-1:1,c.s=1,ft=!1,i=e.times(Ju(c,n+h)),ft=!0,i=KP(i),i.s=l,i};ye.toPrecision=function(e,t){var r,n,i=this,l=i.constructor;return e===void 0?(r=Ct(i),n=Ts(i,r<=l.toExpNeg||r>=l.toExpPos)):(na(e,1,lo),t===void 0?t=l.rounding:na(t,0,8),i=tt(new l(i),e,t),r=Ct(i),n=Ts(i,e<=r||r<=l.toExpNeg,e)),n};ye.toSignificantDigits=ye.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(na(e,1,lo),t===void 0?t=n.rounding:na(t,0,8)),tt(new n(r),e,t)};ye.toString=ye.valueOf=ye.val=ye.toJSON=ye[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ct(e),r=e.constructor;return Ts(e,t<=r.toExpNeg||t>=r.toExpPos)};function FP(e,t){var r,n,i,l,o,c,d,h,m=e.constructor,p=m.precision;if(!e.s||!t.s)return t.s||(t=new m(e)),ft?tt(t,p):t;if(d=e.d,h=t.d,o=e.e,i=t.e,d=d.slice(),l=o-i,l){for(l<0?(n=d,l=-l,c=h.length):(n=h,i=o,c=d.length),o=Math.ceil(p/lt),c=o>c?o+1:c+1,l>c&&(l=c,n.length=1),n.reverse();l--;)n.push(0);n.reverse()}for(c=d.length,l=h.length,c-l<0&&(l=c,n=h,h=d,d=n),r=0;l;)r=(d[--l]=d[l]+h[l]+r)/Vt|0,d[l]%=Vt;for(r&&(d.unshift(r),++i),c=d.length;d[--c]==0;)d.pop();return t.d=d,t.e=i,ft?tt(t,p):t}function na(e,t,r){if(e!==~~e||e<t||e>r)throw Error(js+e)}function Yn(e){var t,r,n,i=e.length-1,l="",o=e[0];if(i>0){for(l+=o,t=1;t<i;t++)n=e[t]+"",r=lt-n.length,r&&(l+=ki(r)),l+=n;o=e[t],n=o+"",r=lt-n.length,r&&(l+=ki(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return l+o}var Ra=(function(){function e(n,i){var l,o=0,c=n.length;for(n=n.slice();c--;)l=n[c]*i+o,n[c]=l%Vt|0,o=l/Vt|0;return o&&n.unshift(o),n}function t(n,i,l,o){var c,d;if(l!=o)d=l>o?1:-1;else for(c=d=0;c<l;c++)if(n[c]!=i[c]){d=n[c]>i[c]?1:-1;break}return d}function r(n,i,l){for(var o=0;l--;)n[l]-=o,o=n[l]<i[l]?1:0,n[l]=o*Vt+n[l]-i[l];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,l,o){var c,d,h,m,p,v,x,S,k,_,j,N,E,P,A,T,C,M,$=n.constructor,R=n.s==i.s?1:-1,I=n.d,q=i.d;if(!n.s)return new $(n);if(!i.s)throw Error(Sn+"Division by zero");for(d=n.e-i.e,C=q.length,A=I.length,x=new $(R),S=x.d=[],h=0;q[h]==(I[h]||0);)++h;if(q[h]>(I[h]||0)&&--d,l==null?N=l=$.precision:o?N=l+(Ct(n)-Ct(i))+1:N=l,N<0)return new $(0);if(N=N/lt+2|0,h=0,C==1)for(m=0,q=q[0],N++;(h<A||m)&&N--;h++)E=m*Vt+(I[h]||0),S[h]=E/q|0,m=E%q|0;else{for(m=Vt/(q[0]+1)|0,m>1&&(q=e(q,m),I=e(I,m),C=q.length,A=I.length),P=C,k=I.slice(0,C),_=k.length;_<C;)k[_++]=0;M=q.slice(),M.unshift(0),T=q[0],q[1]>=Vt/2&&++T;do m=0,c=t(q,k,C,_),c<0?(j=k[0],C!=_&&(j=j*Vt+(k[1]||0)),m=j/T|0,m>1?(m>=Vt&&(m=Vt-1),p=e(q,m),v=p.length,_=k.length,c=t(p,k,v,_),c==1&&(m--,r(p,C<v?M:q,v))):(m==0&&(c=m=1),p=q.slice()),v=p.length,v<_&&p.unshift(0),r(k,p,_),c==-1&&(_=k.length,c=t(q,k,C,_),c<1&&(m++,r(k,C<_?M:q,_))),_=k.length):c===0&&(m++,k=[0]),S[h++]=m,c&&k[0]?k[_++]=I[P]||0:(k=[I[P]],_=1);while((P++<A||k[0]!==void 0)&&N--)}return S[0]||S.shift(),x.e=d,tt(x,o?l+Ct(x)+1:l)}})();function KP(e,t){var r,n,i,l,o,c,d=0,h=0,m=e.constructor,p=m.precision;if(Ct(e)>16)throw Error(qx+Ct(e));if(!e.s)return new m(Jr);for(ft=!1,c=p,o=new m(.03125);e.abs().gte(.1);)e=e.times(o),h+=5;for(n=Math.log(hs(2,h))/Math.LN10*2+5|0,c+=n,r=i=l=new m(Jr),m.precision=c;;){if(i=tt(i.times(e),c),r=r.times(++d),o=l.plus(Ra(i,r,c)),Yn(o.d).slice(0,c)===Yn(l.d).slice(0,c)){for(;h--;)l=tt(l.times(l),c);return m.precision=p,t==null?(ft=!0,tt(l,p)):l}l=o}}function Ct(e){for(var t=e.e*lt,r=e.d[0];r>=10;r/=10)t++;return t}function Rv(e,t,r){if(t>e.LN10.sd())throw ft=!0,r&&(e.precision=r),Error(Sn+"LN10 precision limit exceeded");return tt(new e(e.LN10),t)}function ki(e){for(var t="";e--;)t+="0";return t}function Ju(e,t){var r,n,i,l,o,c,d,h,m,p=1,v=10,x=e,S=x.d,k=x.constructor,_=k.precision;if(x.s<1)throw Error(Sn+(x.s?"NaN":"-Infinity"));if(x.eq(Jr))return new k(0);if(t==null?(ft=!1,h=_):h=t,x.eq(10))return t==null&&(ft=!0),Rv(k,h);if(h+=v,k.precision=h,r=Yn(S),n=r.charAt(0),l=Ct(x),Math.abs(l)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)x=x.times(e),r=Yn(x.d),n=r.charAt(0),p++;l=Ct(x),n>1?(x=new k("0."+r),l++):x=new k(n+"."+r.slice(1))}else return d=Rv(k,h+2,_).times(l+""),x=Ju(new k(n+"."+r.slice(1)),h-v).plus(d),k.precision=_,t==null?(ft=!0,tt(x,_)):x;for(c=o=x=Ra(x.minus(Jr),x.plus(Jr),h),m=tt(x.times(x),h),i=3;;){if(o=tt(o.times(m),h),d=c.plus(Ra(o,new k(i),h)),Yn(d.d).slice(0,h)===Yn(c.d).slice(0,h))return c=c.times(2),l!==0&&(c=c.plus(Rv(k,h+2,_).times(l+""))),c=Ra(c,new k(p),h),k.precision=_,t==null?(ft=!0,tt(c,_)):c;c=d,i+=2}}function xO(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=oo(r/lt),e.d=[],n=(r+1)%lt,r<0&&(n+=lt),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=lt;n<i;)e.d.push(+t.slice(n,n+=lt));t=t.slice(n),n=lt-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),ft&&(e.e>Eh||e.e<-Eh))throw Error(qx+r)}else e.s=0,e.e=0,e.d=[0];return e}function tt(e,t,r){var n,i,l,o,c,d,h,m,p=e.d;for(o=1,l=p[0];l>=10;l/=10)o++;if(n=t-o,n<0)n+=lt,i=t,h=p[m=0];else{if(m=Math.ceil((n+1)/lt),l=p.length,m>=l)return e;for(h=l=p[m],o=1;l>=10;l/=10)o++;n%=lt,i=n-lt+o}if(r!==void 0&&(l=hs(10,o-i-1),c=h/l%10|0,d=t<0||p[m+1]!==void 0||h%l,d=r<4?(c||d)&&(r==0||r==(e.s<0?3:2)):c>5||c==5&&(r==4||d||r==6&&(n>0?i>0?h/hs(10,o-i):0:p[m-1])%10&1||r==(e.s<0?8:7))),t<1||!p[0])return d?(l=Ct(e),p.length=1,t=t-l-1,p[0]=hs(10,(lt-t%lt)%lt),e.e=oo(-t/lt)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(n==0?(p.length=m,l=1,m--):(p.length=m+1,l=hs(10,lt-n),p[m]=i>0?(h/hs(10,o-i)%hs(10,i)|0)*l:0),d)for(;;)if(m==0){(p[0]+=l)==Vt&&(p[0]=1,++e.e);break}else{if(p[m]+=l,p[m]!=Vt)break;p[m--]=0,l=1}for(n=p.length;p[--n]===0;)p.pop();if(ft&&(e.e>Eh||e.e<-Eh))throw Error(qx+Ct(e));return e}function VP(e,t){var r,n,i,l,o,c,d,h,m,p,v=e.constructor,x=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),ft?tt(t,x):t;if(d=e.d,p=t.d,n=t.e,h=e.e,d=d.slice(),o=h-n,o){for(m=o<0,m?(r=d,o=-o,c=p.length):(r=p,n=h,c=d.length),i=Math.max(Math.ceil(x/lt),c)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=d.length,c=p.length,m=i<c,m&&(c=i),i=0;i<c;i++)if(d[i]!=p[i]){m=d[i]<p[i];break}o=0}for(m&&(r=d,d=p,p=r,t.s=-t.s),c=d.length,i=p.length-c;i>0;--i)d[c++]=0;for(i=p.length;i>o;){if(d[--i]<p[i]){for(l=i;l&&d[--l]===0;)d[l]=Vt-1;--d[l],d[i]+=Vt}d[i]-=p[i]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(t.d=d,t.e=n,ft?tt(t,x):t):new v(0)}function Ts(e,t,r){var n,i=Ct(e),l=Yn(e.d),o=l.length;return t?(r&&(n=r-o)>0?l=l.charAt(0)+"."+l.slice(1)+ki(n):o>1&&(l=l.charAt(0)+"."+l.slice(1)),l=l+(i<0?"e":"e+")+i):i<0?(l="0."+ki(-i-1)+l,r&&(n=r-o)>0&&(l+=ki(n))):i>=o?(l+=ki(i+1-o),r&&(n=r-i-1)>0&&(l=l+"."+ki(n))):((n=i+1)<o&&(l=l.slice(0,n)+"."+l.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(l+="."),l+=ki(n))),e.s<0?"-"+l:l}function wO(e,t){if(e.length>t)return e.length=t,!0}function GP(e){var t,r,n;function i(l){var o=this;if(!(o instanceof i))return new i(l);if(o.constructor=i,l instanceof i){o.s=l.s,o.e=l.e,o.d=(l=l.d)?l.slice():l;return}if(typeof l=="number"){if(l*0!==0)throw Error(js+l);if(l>0)o.s=1;else if(l<0)l=-l,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(l===~~l&&l<1e7){o.e=0,o.d=[l];return}return xO(o,l.toString())}else if(typeof l!="string")throw Error(js+l);if(l.charCodeAt(0)===45?(l=l.slice(1),o.s=-1):o.s=1,aG.test(l))xO(o,l);else throw Error(js+l)}if(i.prototype=ye,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=GP,i.config=i.set=iG,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function iG(e){if(!e||typeof e!="object")throw Error(Sn+"Object expected");var t,r,n,i=["precision",1,lo,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(oo(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(js+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(js+r+": "+n);return this}var Hx=GP(nG);Jr=new Hx(1);const We=Hx;var sG=e=>e,YP={},WP=e=>e===YP,SO=e=>function t(){return arguments.length===0||arguments.length===1&&WP(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},XP=(e,t)=>e===1?t:SO(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var l=n.filter(o=>o!==YP).length;return l>=e?t(...n):XP(e-l,SO(function(){for(var o=arguments.length,c=new Array(o),d=0;d<o;d++)c[d]=arguments[d];var h=n.map(m=>WP(m)?c.shift():m);return t(...h,...c)}))}),lG=e=>XP(e.length,e),cb=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},oG=lG((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),uG=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return sG;var i=r.reverse(),l=i[0],o=i.slice(1);return function(){return o.reduce((c,d)=>d(c),l(...arguments))}},db=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function ZP(e){var t;return e===0?t=1:t=Math.floor(new We(e).abs().log(10).toNumber())+1,t}function JP(e,t,r){for(var n=new We(e),i=0,l=[];n.lt(t)&&i<1e5;)l.push(n.toNumber()),n=n.add(r),i++;return l}var QP=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},eD=(e,t,r)=>{if(e.lte(0))return new We(0);var n=ZP(e.toNumber()),i=new We(10).pow(n),l=e.div(i),o=n!==1?.05:.1,c=new We(Math.ceil(l.div(o).toNumber())).add(r).mul(o),d=c.mul(i);return t?new We(d.toNumber()):new We(Math.ceil(d.toNumber()))},cG=(e,t,r)=>{var n=new We(1),i=new We(e);if(!i.isint()&&r){var l=Math.abs(e);l<1?(n=new We(10).pow(ZP(e)-1),i=new We(Math.floor(i.div(n).toNumber())).mul(n)):l>1&&(i=new We(Math.floor(e)))}else e===0?i=new We(Math.floor((t-1)/2)):r||(i=new We(Math.floor(e)));var o=Math.floor((t-1)/2),c=uG(oG(d=>i.add(new We(d-o).mul(n)).toNumber()),cb);return c(0,t)},tD=function(t,r,n,i){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new We(0),tickMin:new We(0),tickMax:new We(0)};var o=eD(new We(r).sub(t).div(n-1),i,l),c;t<=0&&r>=0?c=new We(0):(c=new We(t).add(r).div(2),c=c.sub(new We(c).mod(o)));var d=Math.ceil(c.sub(t).div(o).toNumber()),h=Math.ceil(new We(r).sub(c).div(o).toNumber()),m=d+h+1;return m>n?tD(t,r,n,i,l+1):(m<n&&(h=r>0?h+(n-m):h,d=r>0?d:d+(n-m)),{step:o,tickMin:c.sub(new We(d).mul(o)),tickMax:c.add(new We(h).mul(o))})},dG=function(t){var[r,n]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),[c,d]=QP([r,n]);if(c===-1/0||d===1/0){var h=d===1/0?[c,...cb(0,i-1).map(()=>1/0)]:[...cb(0,i-1).map(()=>-1/0),d];return r>n?db(h):h}if(c===d)return cG(c,i,l);var{step:m,tickMin:p,tickMax:v}=tD(c,d,o,l,0),x=JP(p,v.add(new We(.1).mul(m)),m);return r>n?db(x):x},fG=function(t,r){var[n,i]=t,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,c]=QP([n,i]);if(o===-1/0||c===1/0)return[n,i];if(o===c)return[o];var d=Math.max(r,2),h=eD(new We(c).sub(o).div(d-1),l,0),m=[...JP(new We(o),new We(c),h),c];return l===!1&&(m=m.map(p=>Math.round(p))),n>i?db(m):m},hG=e=>e.rootProps.barCategoryGap,T0=e=>e.rootProps.stackOffset,rD=e=>e.rootProps.reverseStackOrder,Fx=e=>e.options.chartName,Kx=e=>e.rootProps.syncId,nD=e=>e.rootProps.syncMethod,Vx=e=>e.options.eventEmitter,br={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Aa={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Xr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},C0=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},mG={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Aa.angleAxisId,includeHidden:!1,name:void 0,reversed:Aa.reversed,scale:Aa.scale,tick:Aa.tick,tickCount:void 0,ticks:void 0,type:Aa.type,unit:void 0},gG={allowDataOverflow:Xr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Xr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Xr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Xr.scale,tick:Xr.tick,tickCount:Xr.tickCount,ticks:void 0,type:Xr.type,unit:void 0},pG={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Aa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Aa.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Aa.scale,tick:Aa.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},vG={allowDataOverflow:Xr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Xr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Xr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Xr.scale,tick:Xr.tick,tickCount:Xr.tickCount,ticks:void 0,type:"category",unit:void 0},Gx=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?pG:mG,Yx=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?vG:gG,P0=e=>e.polarOptions,Wx=Q([Va,Ga,sr],fF),aD=Q([P0,Wx],(e,t)=>{if(e!=null)return Mi(e.innerRadius,t,0)}),iD=Q([P0,Wx],(e,t)=>{if(e!=null)return Mi(e.outerRadius,t,t*.8)}),yG=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},sD=Q([P0],yG);Q([Gx,sD],C0);var lD=Q([Wx,aD,iD],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});Q([Yx,lD],C0);var oD=Q([ot,P0,aD,iD,Va,Ga],(e,t,r,n,i,l)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:c,startAngle:d,endAngle:h}=t;return{cx:Mi(o,i,i/2),cy:Mi(c,l,l/2),innerRadius:r,outerRadius:n,startAngle:d,endAngle:h,clockWise:!1}}}),It=(e,t)=>t,D0=(e,t,r)=>r;function uD(e){return e?.id}function cD(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:l}=r,o=new Map;return e.forEach(c=>{var d,h=(d=c.data)!==null&&d!==void 0?d:n;if(!(h==null||h.length===0)){var m=uD(c);h.forEach((p,v)=>{var x=l==null||i?v:String(fr(p,l,null)),S=fr(p,c.dataKey,0),k;o.has(x)?k=o.get(x):k={},Object.assign(k,{[m]:S}),o.set(x,k)})}}),Array.from(o.values())}function Xx(e){return e.stackId!=null&&e.dataKey!=null}var M0=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function R0(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function bG(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var Ut=e=>{var t=ot(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},uo=e=>e.tooltip.settings.axisId;function _O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Oh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_O(Object(r),!0).forEach(function(n){xG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_O(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xG(e,t,r){return(t=wG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wG(e){var t=SG(e,"string");return typeof t=="symbol"?t:t+""}function SG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fb=[0,"auto"],Ft={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},dD=(e,t)=>e.cartesianAxis.xAxis[t],Wa=(e,t)=>{var r=dD(e,t);return r??Ft},Kt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:fb,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:mc},fD=(e,t)=>e.cartesianAxis.yAxis[t],Xa=(e,t)=>{var r=fD(e,t);return r??Kt},_G={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Zx=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??_G},jr=(e,t,r)=>{switch(t){case"xAxis":return Wa(e,r);case"yAxis":return Xa(e,r);case"zAxis":return Zx(e,r);case"angleAxis":return Gx(e,r);case"radiusAxis":return Yx(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},kG=(e,t,r)=>{switch(t){case"xAxis":return Wa(e,r);case"yAxis":return Xa(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},wc=(e,t,r)=>{switch(t){case"xAxis":return Wa(e,r);case"yAxis":return Xa(e,r);case"angleAxis":return Gx(e,r);case"radiusAxis":return Yx(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},hD=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function mD(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var gD=e=>e.graphicalItems.cartesianItems,jG=Q([It,D0],mD),pD=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),Sc=Q([gD,jr,jG],pD,{memoizeOptions:{resultEqualityCheck:R0}}),vD=Q([Sc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Xx)),yD=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),EG=Q([Sc],yD),bD=e=>e.map(t=>t.data).filter(Boolean).flat(1),OG=Q([Sc],bD,{memoizeOptions:{resultEqualityCheck:R0}}),xD=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},Jx=Q([OG,Bx],xD),wD=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:fr(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:fr(i,n)}))):e.map(n=>({value:n})),$0=Q([Jx,jr,Sc],wD);function SD(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Tf(e){if(ta(e)||e instanceof Date){var t=Number(e);if(Yt(t))return t}}function kO(e){if(Array.isArray(e)){var t=[Tf(e[0]),Tf(e[1])];return Ri(t)?t:void 0}var r=Tf(e);if(r!=null)return[r,r]}function Ha(e){return e.map(Tf).filter(y9)}function NG(e,t,r){return!r||typeof t!="number"||ea(t)?[]:r.length?Ha(r.flatMap(n=>{var i=fr(e,n.dataKey),l,o;if(Array.isArray(i)?[l,o]=i:l=o=i,!(!Yt(l)||!Yt(o)))return[t-l,t+o]})):[]}var zt=e=>{var t=Ut(e),r=uo(e);return wc(e,t,r)},_c=Q([zt],e=>e?.dataKey),AG=Q([vD,Bx,zt],cD),_D=(e,t,r,n)=>{var i={},l=t.reduce((o,c)=>(c.stackId==null||(o[c.stackId]==null&&(o[c.stackId]=[]),o[c.stackId].push(c)),o),i);return Object.fromEntries(Object.entries(l).map(o=>{var[c,d]=o,h=n?[...d].reverse():d,m=h.map(uD);return[c,{stackedData:FB(e,m,r),graphicalItems:h}]}))},TG=Q([AG,vD,T0,rD],_D),kD=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:l}=t;if(n==null&&r!=="zAxis"){var o=GB(e,i,l);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},CG=Q([jr],e=>e.allowDataOverflow),Qx=e=>{var t;if(e==null||!("domain"in e))return fb;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Ha(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:fb},jD=Q([jr],Qx),ED=Q([jD,CG],qP),PG=Q([TG,zi,It,ED],kD,{memoizeOptions:{resultEqualityCheck:M0}}),ew=e=>e.errorBars,DG=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>SD(r,n)),Nh=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var l=i.flat(),o=Math.min(...l),c=Math.max(...l);return[o,c]}},OD=(e,t,r,n,i)=>{var l,o;if(r.length>0&&e.forEach(c=>{r.forEach(d=>{var h,m,p=(h=n[d.id])===null||h===void 0?void 0:h.filter(j=>SD(i,j)),v=fr(c,(m=t.dataKey)!==null&&m!==void 0?m:d.dataKey),x=NG(c,v,p);if(x.length>=2){var S=Math.min(...x),k=Math.max(...x);(l==null||S<l)&&(l=S),(o==null||k>o)&&(o=k)}var _=kO(v);_!=null&&(l=l==null?_[0]:Math.min(l,_[0]),o=o==null?_[1]:Math.max(o,_[1]))})}),t?.dataKey!=null&&e.forEach(c=>{var d=kO(fr(c,t.dataKey));d!=null&&(l=l==null?d[0]:Math.min(l,d[0]),o=o==null?d[1]:Math.max(o,d[1]))}),Yt(l)&&Yt(o))return[l,o]},MG=Q([Jx,jr,EG,ew,It],OD,{memoizeOptions:{resultEqualityCheck:M0}});function RG(e){var{value:t}=e;if(ta(t)||t instanceof Date)return t}var $G=(e,t,r)=>{var n=e.map(RG).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&LT(n))?lP(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},ND=e=>e.referenceElements.dots,co=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),LG=Q([ND,It,D0],co),AD=e=>e.referenceElements.areas,IG=Q([AD,It,D0],co),TD=e=>e.referenceElements.lines,UG=Q([TD,It,D0],co),CD=(e,t)=>{var r=Ha(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},zG=Q(LG,It,CD),PD=(e,t)=>{var r=Ha(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},BG=Q([IG,It],PD);function qG(e){var t;if(e.x!=null)return Ha([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Ha(r)}function HG(e){var t;if(e.y!=null)return Ha([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Ha(r)}var DD=(e,t)=>{var r=e.flatMap(n=>t==="xAxis"?qG(n):HG(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},FG=Q([UG,It],DD),KG=Q(zG,FG,BG,(e,t,r)=>Nh(e,r,t)),MD=(e,t,r,n,i,l,o,c)=>{if(r!=null)return r;var d=o==="vertical"&&c==="xAxis"||o==="horizontal"&&c==="yAxis",h=d?Nh(n,l,i):Nh(l,i);return rG(t,h,e.allowDataOverflow)},VG=Q([jr,jD,ED,PG,MG,KG,ot,It],MD,{memoizeOptions:{resultEqualityCheck:M0}}),GG=[0,1],RD=(e,t,r,n,i,l,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:c,type:d}=e,h=Li(t,l);if(h&&c==null){var m;return lP(0,(m=r?.length)!==null&&m!==void 0?m:0)}return d==="category"?$G(n,e,h):i==="expand"?GG:o}},tw=Q([jr,ot,Jx,$0,T0,It,VG],RD),$D=(e,t,r,n,i)=>{if(e!=null){var{scale:l,type:o}=e;if(l==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof l=="string"){var c="scale".concat(uc(l));return c in Nu?c:"point"}}},kc=Q([jr,ot,hD,Fx,It],$D);function YG(e){if(e!=null){if(e in Nu)return Nu[e]();var t="scale".concat(uc(e));if(t in Nu)return Nu[t]()}}function rw(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=YG(t);if(i!=null){var l=i.domain(r).range(n);return zB(l),l}}}var LD=(e,t,r)=>{var n=Qx(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Ri(e))return dG(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Ri(e))return fG(e,t.tickCount,t.allowDecimals)}},nw=Q([tw,wc,kc],LD),ID=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&Ri(t)&&Array.isArray(r)&&r.length>0){var i=t[0],l=r[0],o=t[1],c=r[r.length-1];return[Math.min(i,l),Math.max(o,c)]}return t},WG=Q([jr,tw,nw,It],ID),XG=Q($0,jr,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Ha(e.map(c=>c.value))).sort((c,d)=>c-d);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var l=0;l<n.length-1;l++){var o=n[l+1]-n[l];r=Math.min(r,o)}return r/i}}),UD=Q(XG,ot,hG,sr,(e,t,r,n)=>n,(e,t,r,n,i)=>{if(!Yt(e))return 0;var l=t==="vertical"?n.height:n.width;if(i==="gap")return e*l/2;if(i==="no-gap"){var o=Mi(r,e*l),c=e*l/2;return c-o-(c-o)/l*o}return 0}),ZG=(e,t)=>{var r=Wa(e,t);return r==null||typeof r.padding!="string"?0:UD(e,"xAxis",t,r.padding)},JG=(e,t)=>{var r=Xa(e,t);return r==null||typeof r.padding!="string"?0:UD(e,"yAxis",t,r.padding)},QG=Q(Wa,ZG,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),eY=Q(Xa,JG,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),tY=Q([sr,QG,v0,p0,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:l}=n;return i?[l.left,r.width-l.right]:[e.left+t.left,e.left+e.width-t.right]}),rY=Q([sr,ot,eY,v0,p0,(e,t,r)=>r],(e,t,r,n,i,l)=>{var{padding:o}=i;return l?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),jc=(e,t,r,n)=>{var i;switch(t){case"xAxis":return tY(e,r,n);case"yAxis":return rY(e,r,n);case"zAxis":return(i=Zx(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return sD(e);case"radiusAxis":return lD(e,r);default:return}},zD=Q([jr,jc],C0),fo=Q([jr,kc,WG,zD],rw);Q([Sc,ew,It],DG);function BD(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var L0=(e,t)=>t,I0=(e,t,r)=>r,nY=Q(m0,L0,I0,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(BD)),aY=Q(g0,L0,I0,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(BD)),qD=(e,t)=>({width:e.width,height:t.height}),iY=(e,t)=>{var r=typeof t.width=="number"?t.width:mc;return{width:r,height:e.height}},sY=Q(sr,Wa,qD),lY=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},oY=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},uY=Q(Ga,sr,nY,L0,I0,(e,t,r,n,i)=>{var l={},o;return r.forEach(c=>{var d=qD(t,c);o==null&&(o=lY(t,n,e));var h=n==="top"&&!i||n==="bottom"&&i;l[c.id]=o-Number(h)*d.height,o+=(h?-1:1)*d.height}),l}),cY=Q(Va,sr,aY,L0,I0,(e,t,r,n,i)=>{var l={},o;return r.forEach(c=>{var d=iY(t,c);o==null&&(o=oY(t,n,e));var h=n==="left"&&!i||n==="right"&&i;l[c.id]=o-Number(h)*d.width,o+=(h?-1:1)*d.width}),l}),dY=(e,t)=>{var r=Wa(e,t);if(r!=null)return uY(e,r.orientation,r.mirror)},fY=Q([sr,Wa,dY,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r?.[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),hY=(e,t)=>{var r=Xa(e,t);if(r!=null)return cY(e,r.orientation,r.mirror)},mY=Q([sr,Xa,hY,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r?.[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),gY=Q(sr,Xa,(e,t)=>{var r=typeof t.width=="number"?t.width:mc;return{width:r,height:e.height}}),HD=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:l,dataKey:o}=r,c=Li(e,n),d=t.map(h=>h.value);if(o&&c&&l==="category"&&i&&LT(d))return d}},aw=Q([ot,$0,jr,It],HD),FD=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:l}=r,o=Li(e,n);if(o&&(i==="number"||l!=="auto"))return t.map(c=>c.value)}},iw=Q([ot,$0,wc,It],FD),jO=Q([ot,kG,kc,fo,aw,iw,jc,nw,It],(e,t,r,n,i,l,o,c,d)=>{if(t!=null){var h=Li(e,d);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:d,categoricalDomain:l,duplicateDomain:i,isCategorical:h,niceTicks:c,range:o,realScaleType:r,scale:n}}}),pY=(e,t,r,n,i,l,o,c,d)=>{if(!(t==null||n==null)){var h=Li(e,d),{type:m,ticks:p,tickCount:v}=t,x=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,S=m==="category"&&n.bandwidth?n.bandwidth()/x:0;S=d==="angleAxis"&&l!=null&&l.length>=2?bn(l[0]-l[1])*2*S:S;var k=p||i;if(k){var _=k.map((j,N)=>{var E=o?o.indexOf(j):j;return{index:N,coordinate:n(E)+S,value:j,offset:S}});return _.filter(j=>Yt(j.coordinate))}return h&&c?c.map((j,N)=>({coordinate:n(j)+S,value:j,index:N,offset:S})).filter(j=>Yt(j.coordinate)):n.ticks?n.ticks(v).map(j=>({coordinate:n(j)+S,value:j,offset:S})):n.domain().map((j,N)=>({coordinate:n(j)+S,value:o?o[j]:j,index:N,offset:S}))}},KD=Q([ot,wc,kc,fo,nw,jc,aw,iw,It],pY),vY=(e,t,r,n,i,l,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var c=Li(e,o),{tickCount:d}=t,h=0;return h=o==="angleAxis"&&n?.length>=2?bn(n[0]-n[1])*2*h:h,c&&l?l.map((m,p)=>({coordinate:r(m)+h,value:m,index:p,offset:h})):r.ticks?r.ticks(d).map(m=>({coordinate:r(m)+h,value:m,offset:h})):r.domain().map((m,p)=>({coordinate:r(m)+h,value:i?i[m]:m,index:p,offset:h}))}},VD=Q([ot,wc,fo,jc,aw,iw,It],vY),GD=Q(jr,fo,(e,t)=>{if(!(e==null||t==null))return Oh(Oh({},e),{},{scale:t})}),yY=Q([jr,kc,tw,zD],rw);Q((e,t,r)=>Zx(e,r),yY,(e,t)=>{if(!(e==null||t==null))return Oh(Oh({},e),{},{scale:t})});var bY=Q([ot,m0,g0],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),YD=e=>e.options.defaultTooltipEventType,WD=e=>e.options.validateTooltipEventTypes;function XD(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function sw(e,t){var r=YD(e),n=WD(e);return XD(t,r,n)}function xY(e){return _e(t=>sw(t,e))}var ZD=(e,t)=>{var r,n=Number(t);if(!(ea(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},wY=e=>e.tooltip.settings,Ai={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},SY={itemInteraction:{click:Ai,hover:Ai},axisInteraction:{click:Ai,hover:Ai},keyboardInteraction:Ai,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},JD=Br({name:"tooltip",initialState:SY,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:dt()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Ln(e).tooltipItemPayloads.indexOf(r);i>-1&&(e.tooltipItemPayloads[i]=n)},prepare:dt()},removeTooltipEntrySettings:{reducer(e,t){var r=Ln(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:dt()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:_Y,replaceTooltipEntrySettings:kY,removeTooltipEntrySettings:jY,setTooltipSettingsState:EY,setActiveMouseOverItemIndex:OY,mouseLeaveItem:Wne,mouseLeaveChart:QD,setActiveClickItemIndex:Xne,setMouseOverAxisIndex:e4,setMouseClickAxisIndex:NY,setSyncInteraction:hb,setKeyboardInteraction:mb}=JD.actions,AY=JD.reducer;function EO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EO(Object(r),!0).forEach(function(n){TY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TY(e,t,r){return(t=CY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CY(e){var t=PY(e,"string");return typeof t=="symbol"?t:t+""}function PY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DY(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function MY(e){return e.index!=null}var t4=(e,t,r,n)=>{if(t==null)return Ai;var i=DY(e,t,r);if(i==null)return Ai;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var l=e.settings.active===!0;if(MY(i)){if(l)return xf(xf({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return xf(xf({},Ai),{},{coordinate:i.coordinate})};function RY(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function $Y(e,t){var r=RY(e),n=t[0],i=t[1];if(r===void 0)return!1;var l=Math.min(n,i),o=Math.max(n,i);return r>=l&&r<=o}function LY(e,t,r){if(r==null||t==null)return!0;var n=fr(e,t);return n==null||!Ri(r)?!0:$Y(n,r)}var lw=(e,t,r,n)=>{var i=e?.index;if(i==null)return null;var l=Number(i);if(!Yt(l))return i;var o=0,c=1/0;t.length>0&&(c=t.length-1);var d=Math.max(o,Math.min(l,c)),h=t[d];return h==null||LY(h,r,n)?String(d):null},r4=(e,t,r,n,i,l,o,c)=>{if(!(l==null||c==null)){var d=o[0],h=d==null?void 0:c(d.positions,l);if(h!=null)return h;var m=i?.[Number(l)];if(m)switch(r){case"horizontal":return{x:m.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:m.coordinate}}}},n4=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(l=>{var o;return((o=l.settings)===null||o===void 0?void 0:o.dataKey)===i})},Ec=e=>e.options.tooltipPayloadSearcher,ho=e=>e.tooltip;function OO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function NO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OO(Object(r),!0).forEach(function(n){IY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IY(e,t,r){return(t=UY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UY(e){var t=zY(e,"string");return typeof t=="symbol"?t:t+""}function zY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BY(e,t){return e??t}var a4=(e,t,r,n,i,l,o)=>{if(!(t==null||l==null)){var{chartData:c,computedData:d,dataStartIndex:h,dataEndIndex:m}=r,p=[];return e.reduce((v,x)=>{var S,{dataDefinedOnItem:k,settings:_}=x,j=BY(k,c),N=Array.isArray(j)?PC(j,h,m):j,E=(S=_?.dataKey)!==null&&S!==void 0?S:n,P=_?.nameKey,A;if(n&&Array.isArray(N)&&!Array.isArray(N[0])&&o==="axis"?A=IT(N,n,i):A=l(N,t,d,P),Array.isArray(A))A.forEach(C=>{var M=NO(NO({},_),{},{name:C.name,unit:C.unit,color:void 0,fill:void 0});v.push(Wj({tooltipEntrySettings:M,dataKey:C.dataKey,payload:C.payload,value:fr(C.payload,C.dataKey),name:C.name}))});else{var T;v.push(Wj({tooltipEntrySettings:_,dataKey:E,payload:A,value:fr(A,E),name:(T=fr(A,P))!==null&&T!==void 0?T:_?.name}))}return v},p)}},ow=Q([zt,ot,hD,Fx,Ut],$D),qY=Q([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),HY=Q([Ut,uo],mD),Oc=Q([qY,zt,HY],pD,{memoizeOptions:{resultEqualityCheck:R0}}),FY=Q([Oc],e=>e.filter(Xx)),KY=Q([Oc],bD,{memoizeOptions:{resultEqualityCheck:R0}}),mo=Q([KY,zi],xD),VY=Q([FY,zi,zt],cD),uw=Q([mo,zt,Oc],wD),i4=Q([zt],Qx),GY=Q([zt],e=>e.allowDataOverflow),s4=Q([i4,GY],qP),YY=Q([Oc],e=>e.filter(Xx)),WY=Q([VY,YY,T0,rD],_D),XY=Q([WY,zi,Ut,s4],kD),ZY=Q([Oc],yD),JY=Q([mo,zt,ZY,ew,Ut],OD,{memoizeOptions:{resultEqualityCheck:M0}}),QY=Q([ND,Ut,uo],co),eW=Q([QY,Ut],CD),tW=Q([AD,Ut,uo],co),rW=Q([tW,Ut],PD),nW=Q([TD,Ut,uo],co),aW=Q([nW,Ut],DD),iW=Q([eW,aW,rW],Nh),sW=Q([zt,i4,s4,XY,JY,iW,ot,Ut],MD),Nc=Q([zt,ot,mo,uw,T0,Ut,sW],RD),lW=Q([Nc,zt,ow],LD),oW=Q([zt,Nc,lW,Ut],ID),l4=e=>{var t=Ut(e),r=uo(e),n=!1;return jc(e,t,r,n)},o4=Q([zt,l4],C0),u4=Q([zt,ow,oW,o4],rw),uW=Q([ot,uw,zt,Ut],HD),cW=Q([ot,uw,zt,Ut],FD),dW=(e,t,r,n,i,l,o,c)=>{if(t){var{type:d}=t,h=Li(e,c);if(n){var m=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,p=d==="category"&&n.bandwidth?n.bandwidth()/m:0;return p=c==="angleAxis"&&i!=null&&i?.length>=2?bn(i[0]-i[1])*2*p:p,h&&o?o.map((v,x)=>({coordinate:n(v)+p,value:v,index:x,offset:p})):n.domain().map((v,x)=>({coordinate:n(v)+p,value:l?l[v]:v,index:x,offset:p}))}}},Za=Q([ot,zt,ow,u4,l4,uW,cW,Ut],dW),cw=Q([YD,WD,wY],(e,t,r)=>XD(r.shared,e,t)),c4=e=>e.tooltip.settings.trigger,dw=e=>e.tooltip.settings.defaultIndex,Ac=Q([ho,cw,c4,dw],t4),Qu=Q([Ac,mo,_c,Nc],lw),d4=Q([Za,Qu],ZD),fW=Q([Ac],e=>{if(e)return e.dataKey});Q([Ac],e=>{if(e)return e.graphicalItemId});var f4=Q([ho,cw,c4,dw],n4),hW=Q([Va,Ga,ot,sr,Za,dw,f4,Ec],r4),mW=Q([Ac,hW],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),gW=Q([Ac],e=>e.active),pW=Q([f4,Qu,zi,_c,d4,Ec,cw],a4),vW=Q([pW],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function AO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function TO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AO(Object(r),!0).forEach(function(n){yW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yW(e,t,r){return(t=bW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bW(e){var t=xW(e,"string");return typeof t=="symbol"?t:t+""}function xW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wW=()=>_e(zt),SW=()=>{var e=wW(),t=_e(Za),r=_e(u4);return lh(!e||!r?void 0:TO(TO({},e),{},{scale:r}),t)};function CO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Tl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CO(Object(r),!0).forEach(function(n){_W(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _W(e,t,r){return(t=kW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kW(e){var t=jW(e,"string");return typeof t=="symbol"?t:t+""}function jW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EW=(e,t,r,n)=>{var i=t.find(l=>l&&l.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},OW=(e,t,r,n)=>{var i=t.find(h=>h&&h.index===r);if(i){if(e==="centric"){var l=i.coordinate,{radius:o}=n;return Tl(Tl(Tl({},n),ir(n.cx,n.cy,o,l)),{},{angle:l,radius:o})}var c=i.coordinate,{angle:d}=n;return Tl(Tl(Tl({},n),ir(n.cx,n.cy,c,d)),{},{angle:d,radius:c})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function NW(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var h4=(e,t,r,n,i)=>{var l,o=-1,c=(l=t?.length)!==null&&l!==void 0?l:0;if(c<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var d=0;d<c;d++){var h=d>0?r[d-1].coordinate:r[c-1].coordinate,m=r[d].coordinate,p=d>=c-1?r[0].coordinate:r[d+1].coordinate,v=void 0;if(bn(m-h)!==bn(p-m)){var x=[];if(bn(p-m)===bn(i[1]-i[0])){v=p;var S=m+i[1]-i[0];x[0]=Math.min(S,(S+h)/2),x[1]=Math.max(S,(S+h)/2)}else{v=h;var k=p+i[1]-i[0];x[0]=Math.min(m,(k+m)/2),x[1]=Math.max(m,(k+m)/2)}var _=[Math.min(m,(v+m)/2),Math.max(m,(v+m)/2)];if(e>_[0]&&e<=_[1]||e>=x[0]&&e<=x[1]){({index:o}=r[d]);break}}else{var j=Math.min(h,p),N=Math.max(h,p);if(e>(j+m)/2&&e<=(N+m)/2){({index:o}=r[d]);break}}}else if(t){for(var E=0;E<c;E++)if(E===0&&e<=(t[E].coordinate+t[E+1].coordinate)/2||E>0&&E<c-1&&e>(t[E].coordinate+t[E-1].coordinate)/2&&e<=(t[E].coordinate+t[E+1].coordinate)/2||E===c-1&&e>(t[E].coordinate+t[E-1].coordinate)/2){({index:o}=t[E]);break}}return o},AW=()=>_e(Fx),fw=(e,t)=>t,m4=(e,t,r)=>r,hw=(e,t,r,n)=>n,TW=Q(Za,e=>i0(e,t=>t.coordinate)),mw=Q([ho,fw,m4,hw],t4),gw=Q([mw,mo,_c,Nc],lw),CW=(e,t,r)=>{if(t!=null){var n=ho(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},g4=Q([ho,fw,m4,hw],n4),Ah=Q([Va,Ga,ot,sr,Za,hw,g4,Ec],r4),PW=Q([mw,Ah],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),p4=Q([Za,gw],ZD),DW=Q([g4,gw,zi,_c,p4,Ec,fw],a4),MW=Q([mw,gw],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),RW=(e,t,r,n,i,l,o)=>{if(!(!e||!r||!n||!i)&&NW(e,o)){var c=YB(e,t),d=h4(c,l,i,r,n),h=EW(t,i,d,e);return{activeIndex:String(d),activeCoordinate:h}}},$W=(e,t,r,n,i,l,o)=>{if(!(!e||!n||!i||!l||!r)){var c=vF(e,r);if(c){var d=WB(c,t),h=h4(d,o,l,n,i),m=OW(t,l,h,c);return{activeIndex:String(h),activeCoordinate:m}}}},LW=(e,t,r,n,i,l,o,c)=>{if(!(!e||!t||!n||!i||!l))return t==="horizontal"||t==="vertical"?RW(e,t,n,i,l,o,c):$W(e,t,r,n,i,l,o)},IW=Q(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElementId:n.elementId}}),UW=Q(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(br)),r=Array.from(new Set(t));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:bG}});function PO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function DO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PO(Object(r),!0).forEach(function(n){zW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zW(e,t,r){return(t=BW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BW(e){var t=qW(e,"string");return typeof t=="symbol"?t:t+""}function qW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HW={},FW={zIndexMap:Object.values(br).reduce((e,t)=>DO(DO({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),HW)},KW=new Set(Object.values(br));function VW(e){return KW.has(e)}var v4=Br({name:"zIndex",initialState:FW,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:dt()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!VW(r)&&delete e.zIndexMap[r])},prepare:dt()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:n,isPanorama:i}=t.payload;e.zIndexMap[r]?i?e.zIndexMap[r].panoramaElementId=n:e.zIndexMap[r].elementId=n:e.zIndexMap[r]={consumers:0,elementId:i?void 0:n,panoramaElementId:i?n:void 0}},prepare:dt()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:dt()}}}),{registerZIndexPortal:GW,unregisterZIndexPortal:YW,registerZIndexPortalId:WW,unregisterZIndexPortalId:XW}=v4.actions,ZW=v4.reducer;function Ja(e){var{zIndex:t,children:r}=e,n=Aq(),i=n&&t!==void 0&&t!==0,l=qr(),o=Pt();b.useLayoutEffect(()=>i?(o(GW({zIndex:t})),()=>{o(YW({zIndex:t}))}):cc,[o,t,i]);var c=_e(h=>IW(h,t,l));if(!i)return r;if(!c)return null;var d=document.getElementById(c);return d?ao.createPortal(r,d):null}function gb(){return gb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gb.apply(null,arguments)}function MO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MO(Object(r),!0).forEach(function(n){JW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JW(e,t,r){return(t=QW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QW(e){var t=eX(e,"string");return typeof t=="symbol"?t:t+""}function eX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tX(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return b.isValidElement(t)?b.cloneElement(t,n):b.createElement(r,n)}function rX(e){var t,{coordinate:r,payload:n,index:i,offset:l,tooltipAxisBandSize:o,layout:c,cursor:d,tooltipEventType:h,chartName:m}=e,p=r,v=n,x=i;if(!d||!p||m!=="ScatterChart"&&h!=="axis")return null;var S,k,_;if(m==="ScatterChart")S=p,k=CH,_=br.cursorLine;else if(m==="BarChart")S=PH(c,p,l,o),k=nP,_=br.cursorRectangle;else if(c==="radial"&&zT(p)){var{cx:j,cy:N,radius:E,startAngle:P,endAngle:A}=aP(p);S={cx:j,cy:N,startAngle:P,endAngle:A,innerRadius:E,outerRadius:E},k=sP,_=br.cursorLine}else S={points:wF(c,p,l)},k=JC,_=br.cursorLine;var T=typeof d=="object"&&"className"in d?d.className:void 0,C=wf(wf(wf(wf({stroke:"#ccc",pointerEvents:"none"},l),S),e0(d)),{},{payload:v,payloadIndex:x,className:Qe("recharts-tooltip-cursor",T)});return b.createElement(Ja,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:_},b.createElement(tX,{cursor:d,cursorComp:k,cursorProps:C}))}function nX(e){var t=SW(),r=qC(),n=b0(),i=AW();return t==null||r==null||n==null||i==null?null:b.createElement(rX,gb({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var y4=b.createContext(null),aX=()=>b.useContext(y4),$v={exports:{}},RO;function iX(){return RO||(RO=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(d,h,m){this.fn=d,this.context=h,this.once=m||!1}function l(d,h,m,p,v){if(typeof m!="function")throw new TypeError("The listener must be a function");var x=new i(m,p||d,v),S=r?r+h:h;return d._events[S]?d._events[S].fn?d._events[S]=[d._events[S],x]:d._events[S].push(x):(d._events[S]=x,d._eventsCount++),d}function o(d,h){--d._eventsCount===0?d._events=new n:delete d._events[h]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var h=[],m,p;if(this._eventsCount===0)return h;for(p in m=this._events)t.call(m,p)&&h.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(m)):h},c.prototype.listeners=function(h){var m=r?r+h:h,p=this._events[m];if(!p)return[];if(p.fn)return[p.fn];for(var v=0,x=p.length,S=new Array(x);v<x;v++)S[v]=p[v].fn;return S},c.prototype.listenerCount=function(h){var m=r?r+h:h,p=this._events[m];return p?p.fn?1:p.length:0},c.prototype.emit=function(h,m,p,v,x,S){var k=r?r+h:h;if(!this._events[k])return!1;var _=this._events[k],j=arguments.length,N,E;if(_.fn){switch(_.once&&this.removeListener(h,_.fn,void 0,!0),j){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,m),!0;case 3:return _.fn.call(_.context,m,p),!0;case 4:return _.fn.call(_.context,m,p,v),!0;case 5:return _.fn.call(_.context,m,p,v,x),!0;case 6:return _.fn.call(_.context,m,p,v,x,S),!0}for(E=1,N=new Array(j-1);E<j;E++)N[E-1]=arguments[E];_.fn.apply(_.context,N)}else{var P=_.length,A;for(E=0;E<P;E++)switch(_[E].once&&this.removeListener(h,_[E].fn,void 0,!0),j){case 1:_[E].fn.call(_[E].context);break;case 2:_[E].fn.call(_[E].context,m);break;case 3:_[E].fn.call(_[E].context,m,p);break;case 4:_[E].fn.call(_[E].context,m,p,v);break;default:if(!N)for(A=1,N=new Array(j-1);A<j;A++)N[A-1]=arguments[A];_[E].fn.apply(_[E].context,N)}}return!0},c.prototype.on=function(h,m,p){return l(this,h,m,p,!1)},c.prototype.once=function(h,m,p){return l(this,h,m,p,!0)},c.prototype.removeListener=function(h,m,p,v){var x=r?r+h:h;if(!this._events[x])return this;if(!m)return o(this,x),this;var S=this._events[x];if(S.fn)S.fn===m&&(!v||S.once)&&(!p||S.context===p)&&o(this,x);else{for(var k=0,_=[],j=S.length;k<j;k++)(S[k].fn!==m||v&&!S[k].once||p&&S[k].context!==p)&&_.push(S[k]);_.length?this._events[x]=_.length===1?_[0]:_:o(this,x)}return this},c.prototype.removeAllListeners=function(h){var m;return h?(m=r?r+h:h,this._events[m]&&o(this,m)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,e.exports=c})($v)),$v.exports}var sX=iX();const lX=aa(sX);var ec=new lX,pb="recharts.syncEvent.tooltip",$O="recharts.syncEvent.brush";function oX(e,t){if(t){var r=Number.parseInt(t,10);if(!ea(r))return e?.[r]}}var uX={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},b4=Br({name:"options",initialState:uX,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),cX=b4.reducer,{createEventEmitter:dX}=b4.actions;function fX(e){return e.tooltip.syncInteraction}var hX={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},x4=Br({name:"chartData",initialState:hX,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:LO,setDataStartEndIndexes:mX,setComputedData:Zne}=x4.actions,gX=x4.reducer,pX=["x","y"];function IO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Cl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IO(Object(r),!0).forEach(function(n){vX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vX(e,t,r){return(t=yX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yX(e){var t=bX(e,"string");return typeof t=="symbol"?t:t+""}function bX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xX(e,t){if(e==null)return{};var r,n,i=wX(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function wX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function SX(){var e=_e(Kx),t=_e(Vx),r=Pt(),n=_e(nD),i=_e(Za),l=b0(),o=y0(),c=_e(d=>d.rootProps.className);b.useEffect(()=>{if(e==null)return cc;var d=(h,m,p)=>{if(t!==p&&e===h){if(n==="index"){var v;if(o&&m!==null&&m!==void 0&&(v=m.payload)!==null&&v!==void 0&&v.coordinate&&m.payload.sourceViewBox){var x=m.payload.coordinate,{x:S,y:k}=x,_=xX(x,pX),{x:j,y:N,width:E,height:P}=m.payload.sourceViewBox,A=Cl(Cl({},_),{},{x:o.x+(E?(S-j)/E:0)*o.width,y:o.y+(P?(k-N)/P:0)*o.height});r(Cl(Cl({},m),{},{payload:Cl(Cl({},m.payload),{},{coordinate:A})}))}else r(m);return}if(i!=null){var T;if(typeof n=="function"){var C={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},M=n(i,C);T=i[M]}else n==="value"&&(T=i.find(B=>String(B.value)===m.payload.label));var{coordinate:$}=m.payload;if(T==null||m.payload.active===!1||$==null||o==null){r(hb({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:R,y:I}=$,q=Math.min(R,o.x+o.width),ae=Math.min(I,o.y+o.height),te={x:l==="horizontal"?T.coordinate:q,y:l==="horizontal"?ae:T.coordinate},ie=hb({active:m.payload.active,coordinate:te,dataKey:m.payload.dataKey,index:String(T.index),label:m.payload.label,sourceViewBox:m.payload.sourceViewBox,graphicalItemId:m.payload.graphicalItemId});r(ie)}}};return ec.on(pb,d),()=>{ec.off(pb,d)}},[c,r,t,e,n,i,l,o])}function _X(){var e=_e(Kx),t=_e(Vx),r=Pt();b.useEffect(()=>{if(e==null)return cc;var n=(i,l,o)=>{t!==o&&e===i&&r(mX(l))};return ec.on($O,n),()=>{ec.off($O,n)}},[r,t,e])}function kX(){var e=Pt();b.useEffect(()=>{e(dX())},[e]),SX(),_X()}function jX(e,t,r,n,i,l){var o=_e(x=>CW(x,e,t)),c=_e(Vx),d=_e(Kx),h=_e(nD),m=_e(fX),p=m?.active,v=y0();b.useEffect(()=>{if(!p&&d!=null&&c!=null){var x=hb({active:l,coordinate:r,dataKey:o,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:v,graphicalItemId:void 0});ec.emit(pb,d,x,c)}},[p,r,o,i,n,c,d,h,l,v])}function UO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UO(Object(r),!0).forEach(function(n){EX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EX(e,t,r){return(t=OX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OX(e){var t=NX(e,"string");return typeof t=="symbol"?t:t+""}function NX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AX(e){return e.dataKey}function TX(e,t){return b.isValidElement(e)?b.cloneElement(e,t):typeof e=="function"?b.createElement(e,t):b.createElement(cH,t)}var BO=[],CX={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function PX(e){var t,r,n=mr(e,CX),{active:i,allowEscapeViewBox:l,animationDuration:o,animationEasing:c,content:d,filterNull:h,isAnimationActive:m,offset:p,payloadUniqBy:v,position:x,reverseDirection:S,useTranslate3d:k,wrapperStyle:_,cursor:j,shared:N,trigger:E,defaultIndex:P,portal:A,axisId:T}=n,C=Pt(),M=typeof P=="number"?String(P):P;b.useEffect(()=>{C(EY({shared:N,trigger:E,axisId:T,active:i,defaultIndex:M}))},[C,N,E,T,i,M]);var $=y0(),R=ZC(),I=xY(N),{activeIndex:q,isActive:ae}=(t=_e(me=>MW(me,I,E,M)))!==null&&t!==void 0?t:{},te=_e(me=>DW(me,I,E,M)),ie=_e(me=>p4(me,I,E,M)),B=_e(me=>PW(me,I,E,M)),K=te,le=aX(),W=(r=i??ae)!==null&&r!==void 0?r:!1,[de,L]=rC([K,W]),H=I==="axis"?ie:void 0;jX(I,E,B,H,q,W);var X=A??le;if(X==null||$==null||I==null)return null;var oe=K??BO;W||(oe=BO),h&&oe.length&&(oe=ZT(oe.filter(me=>me.value!=null&&(me.hide!==!0||n.includeHidden)),v,AX));var fe=oe.length>0,ce=b.createElement(vH,{allowEscapeViewBox:l,animationDuration:o,animationEasing:c,isAnimationActive:m,active:W,coordinate:B,hasPayload:fe,offset:p,position:x,reverseDirection:S,useTranslate3d:k,viewBox:$,wrapperStyle:_,lastBoundingBox:de,innerRef:L,hasPortalFromProps:!!A},TX(d,zO(zO({},n),{},{payload:oe,label:H,active:W,activeIndex:q,coordinate:B,accessibilityLayer:R})));return b.createElement(b.Fragment,null,ao.createPortal(ce,X),W&&b.createElement(nX,{cursor:j,tooltipEventType:I,coordinate:B,payload:oe,index:q}))}function DX(e,t,r){return(t=MX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MX(e){var t=RX(e,"string");return typeof t=="symbol"?t:t+""}function RX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class $X{constructor(t){DX(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function qO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function LX(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qO(Object(r),!0).forEach(function(n){IX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IX(e,t,r){return(t=UX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UX(e){var t=zX(e,"string");return typeof t=="symbol"?t:t+""}function zX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BX={cacheSize:2e3,enableCache:!0},w4=LX({},BX),HO=new $X(w4.cacheSize),qX={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},FO="recharts_measurement_span";function HX(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",l=t.fontStyle||"",o=t.letterSpacing||"",c=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(l,"|").concat(o,"|").concat(c)}var KO=(e,t)=>{try{var r=document.getElementById(FO);r||(r=document.createElement("span"),r.setAttribute("id",FO),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,qX,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Du=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||pc.isSsr)return{width:0,height:0};if(!w4.enableCache)return KO(t,r);var n=HX(t,r),i=HO.get(n);if(i)return i;var l=KO(t,r);return HO.set(n,l),l},VO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,GO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,FX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,KX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,S4={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},VX=Object.keys(S4),$l="NaN";function GX(e,t){return e*S4[t]}class $r{static parse(t){var r,[,n,i]=(r=KX.exec(t))!==null&&r!==void 0?r:[];return new $r(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,ea(t)&&(this.unit=""),r!==""&&!FX.test(r)&&(this.num=NaN,this.unit=""),VX.includes(r)&&(this.num=GX(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new $r(NaN,""):new $r(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new $r(NaN,""):new $r(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new $r(NaN,""):new $r(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new $r(NaN,""):new $r(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ea(this.num)}}function _4(e){if(e.includes($l))return $l;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,l]=(r=VO.exec(t))!==null&&r!==void 0?r:[],o=$r.parse(n??""),c=$r.parse(l??""),d=i==="*"?o.multiply(c):o.divide(c);if(d.isNaN())return $l;t=t.replace(VO,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,[,m,p,v]=(h=GO.exec(t))!==null&&h!==void 0?h:[],x=$r.parse(m??""),S=$r.parse(v??""),k=p==="+"?x.add(S):x.subtract(S);if(k.isNaN())return $l;t=t.replace(GO,k.toString())}return t}var YO=/\(([^()]*)\)/;function YX(e){for(var t=e,r;(r=YO.exec(t))!=null;){var[,n]=r;t=t.replace(YO,_4(n))}return t}function WX(e){var t=e.replace(/\s+/g,"");return t=YX(t),t=_4(t),t}function XX(e){try{return WX(e)}catch{return $l}}function Lv(e){var t=XX(e.slice(5,-1));return t===$l?"":t}var ZX=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],JX=["dx","dy","angle","className","breakAll"];function vb(){return vb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vb.apply(null,arguments)}function WO(e,t){if(e==null)return{};var r,n,i=QX(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function QX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var k4=/[ \f\n\r\t\v\u2028\u2029]+/,j4=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];Gt(t)||(r?i=t.toString().split(""):i=t.toString().split(k4));var l=i.map(c=>({word:c,width:Du(c,n).width})),o=r?0:Du("",n).width;return{wordsWithComputedWidth:l,spaceWidth:o}}catch{return null}};function eZ(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var E4=(e,t,r,n)=>e.reduce((i,l)=>{var{word:o,width:c}=l,d=i[i.length-1];if(d&&c!=null&&(t==null||n||d.width+c+r<Number(t)))d.words.push(o),d.width+=c+r;else{var h={words:[o],width:c};i.push(h)}return i},[]),O4=e=>e.reduce((t,r)=>t.width>r.width?t:r),tZ="",XO=(e,t,r,n,i,l,o,c)=>{var d=e.slice(0,t),h=j4({breakAll:r,style:n,children:d+tZ});if(!h)return[!1,[]];var m=E4(h.wordsWithComputedWidth,l,o,c),p=m.length>i||O4(m).width>Number(l);return[p,m]},rZ=(e,t,r,n,i)=>{var{maxLines:l,children:o,style:c,breakAll:d}=e,h=je(l),m=String(o),p=E4(t,n,r,i);if(!h||i)return p;var v=p.length>l||O4(p).width>Number(n);if(!v)return p;for(var x=0,S=m.length-1,k=0,_;x<=S&&k<=m.length-1;){var j=Math.floor((x+S)/2),N=j-1,[E,P]=XO(m,N,d,c,l,n,r,i),[A]=XO(m,j,d,c,l,n,r,i);if(!E&&!A&&(x=j+1),E&&A&&(S=j-1),!E&&A){_=P;break}k++}return _||p},ZO=e=>{var t=Gt(e)?[]:e.toString().split(k4);return[{words:t,width:void 0}]},nZ=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:l,maxLines:o}=e;if((t||r)&&!pc.isSsr){var c,d,h=j4({breakAll:l,children:n,style:i});if(h){var{wordsWithComputedWidth:m,spaceWidth:p}=h;c=m,d=p}else return ZO(n);return rZ({breakAll:l,children:n,maxLines:o,style:i},c,d,t,!!r)}return ZO(n)},N4="#808080",aZ={angle:0,breakAll:!1,capHeight:"0.71em",fill:N4,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},pw=b.forwardRef((e,t)=>{var r=mr(e,aZ),{x:n,y:i,lineHeight:l,capHeight:o,fill:c,scaleToFit:d,textAnchor:h,verticalAnchor:m}=r,p=WO(r,ZX),v=b.useMemo(()=>nZ({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:d,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,d,p.style,p.width]),{dx:x,dy:S,angle:k,className:_,breakAll:j}=p,N=WO(p,JX);if(!ta(n)||!ta(i)||v.length===0)return null;var E=Number(n)+(je(x)?x:0),P=Number(i)+(je(S)?S:0);if(!Yt(E)||!Yt(P))return null;var A;switch(m){case"start":A=Lv("calc(".concat(o,")"));break;case"middle":A=Lv("calc(".concat((v.length-1)/2," * -").concat(l," + (").concat(o," / 2))"));break;default:A=Lv("calc(".concat(v.length-1," * -").concat(l,")"));break}var T=[];if(d){var C=v[0].width,{width:M}=p;T.push("scale(".concat(je(M)&&je(C)?M/C:1,")"))}return k&&T.push("rotate(".concat(k,", ").concat(E,", ").concat(P,")")),T.length&&(N.transform=T.join(" ")),b.createElement("text",vb({},wr(N),{ref:t,x:E,y:P,className:Qe("recharts-text",_),textAnchor:h,fill:c.includes("url")?N4:c}),v.map(($,R)=>{var I=$.words.join(j?"":" ");return b.createElement("tspan",{x:E,dy:R===0?A:l,key:"".concat(I,"-").concat(R)},I)}))});pw.displayName="Text";var iZ=["labelRef"];function sZ(e,t){if(e==null)return{};var r,n,i=lZ(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function lZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function JO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JO(Object(r),!0).forEach(function(n){oZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oZ(e,t,r){return(t=uZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uZ(e){var t=cZ(e,"string");return typeof t=="symbol"?t:t+""}function cZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ta(){return Ta=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ta.apply(null,arguments)}var A4=b.createContext(null),dZ=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:i,width:l,height:o,children:c}=e,d=b.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:i,width:l,height:o}),[t,r,n,i,l,o]);return b.createElement(A4.Provider,{value:d},c)},T4=()=>{var e=b.useContext(A4),t=y0();return e||BC(t)},fZ=b.createContext(null),hZ=()=>{var e=b.useContext(fZ),t=_e(oD);return e||t},mZ=e=>{var{value:t,formatter:r}=e,n=Gt(e.children)?t:e.children;return typeof r=="function"?r(n):n},vw=e=>e!=null&&typeof e=="function",gZ=(e,t)=>{var r=bn(t-e),n=Math.min(Math.abs(t-e),360);return r*n},pZ=(e,t,r,n,i)=>{var{offset:l,className:o}=e,{cx:c,cy:d,innerRadius:h,outerRadius:m,startAngle:p,endAngle:v,clockWise:x}=i,S=(h+m)/2,k=gZ(p,v),_=k>=0?1:-1,j,N;switch(t){case"insideStart":j=p+_*l,N=x;break;case"insideEnd":j=v-_*l,N=!x;break;case"end":j=v+_*l,N=x;break;default:throw new Error("Unsupported position ".concat(t))}N=k<=0?N:!N;var E=ir(c,d,S,j),P=ir(c,d,S,j+(N?1:-1)*359),A="M".concat(E.x,",").concat(E.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(N?0:1,`,
    `).concat(P.x,",").concat(P.y),T=Gt(e.id)?zu("recharts-radial-line-"):e.id;return b.createElement("text",Ta({},n,{dominantBaseline:"central",className:Qe("recharts-radial-bar-label",o)}),b.createElement("defs",null,b.createElement("path",{id:T,d:A})),b.createElement("textPath",{xlinkHref:"#".concat(T)},r))},vZ=(e,t,r)=>{var{cx:n,cy:i,innerRadius:l,outerRadius:o,startAngle:c,endAngle:d}=e,h=(c+d)/2;if(r==="outside"){var{x:m,y:p}=ir(n,i,o+t,h);return{x:m,y:p,textAnchor:m>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(l+o)/2,{x,y:S}=ir(n,i,v,h);return{x,y:S,textAnchor:"middle",verticalAnchor:"middle"}},yb=e=>"cx"in e&&je(e.cx),yZ=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,l;r!=null&&!yb(r)&&(l=r);var{x:o,y:c,upperWidth:d,lowerWidth:h,height:m}=t,p=o,v=o+(d-h)/2,x=(p+v)/2,S=(d+h)/2,k=p+d/2,_=m>=0?1:-1,j=_*n,N=_>0?"end":"start",E=_>0?"start":"end",P=d>=0?1:-1,A=P*n,T=P>0?"end":"start",C=P>0?"start":"end";if(i==="top"){var M={x:p+d/2,y:c-j,textAnchor:"middle",verticalAnchor:N};return xt(xt({},M),l?{height:Math.max(c-l.y,0),width:d}:{})}if(i==="bottom"){var $={x:v+h/2,y:c+m+j,textAnchor:"middle",verticalAnchor:E};return xt(xt({},$),l?{height:Math.max(l.y+l.height-(c+m),0),width:h}:{})}if(i==="left"){var R={x:x-A,y:c+m/2,textAnchor:T,verticalAnchor:"middle"};return xt(xt({},R),l?{width:Math.max(R.x-l.x,0),height:m}:{})}if(i==="right"){var I={x:x+S+A,y:c+m/2,textAnchor:C,verticalAnchor:"middle"};return xt(xt({},I),l?{width:Math.max(l.x+l.width-I.x,0),height:m}:{})}var q=l?{width:S,height:m}:{};return i==="insideLeft"?xt({x:x+A,y:c+m/2,textAnchor:C,verticalAnchor:"middle"},q):i==="insideRight"?xt({x:x+S-A,y:c+m/2,textAnchor:T,verticalAnchor:"middle"},q):i==="insideTop"?xt({x:p+d/2,y:c+j,textAnchor:"middle",verticalAnchor:E},q):i==="insideBottom"?xt({x:v+h/2,y:c+m-j,textAnchor:"middle",verticalAnchor:N},q):i==="insideTopLeft"?xt({x:p+A,y:c+j,textAnchor:C,verticalAnchor:E},q):i==="insideTopRight"?xt({x:p+d-A,y:c+j,textAnchor:T,verticalAnchor:E},q):i==="insideBottomLeft"?xt({x:v+A,y:c+m-j,textAnchor:C,verticalAnchor:N},q):i==="insideBottomRight"?xt({x:v+h-A,y:c+m-j,textAnchor:T,verticalAnchor:N},q):i&&typeof i=="object"&&(je(i.x)||Ia(i.x))&&(je(i.y)||Ia(i.y))?xt({x:o+Mi(i.x,S),y:c+Mi(i.y,m),textAnchor:"end",verticalAnchor:"end"},q):xt({x:k,y:c+m/2,textAnchor:"middle",verticalAnchor:"middle"},q)},bZ={angle:0,offset:5,zIndex:br.label,position:"middle",textBreakAll:!1};function ji(e){var t=mr(e,bZ),{viewBox:r,position:n,value:i,children:l,content:o,className:c="",textBreakAll:d,labelRef:h}=t,m=hZ(),p=T4(),v=n==="center"?p:m??p,x,S,k;if(r==null?x=v:yb(r)?x=r:x=BC(r),!x||Gt(i)&&Gt(l)&&!b.isValidElement(o)&&typeof o!="function")return null;var _=xt(xt({},t),{},{viewBox:x});if(b.isValidElement(o)){var{labelRef:j}=_,N=sZ(_,iZ);return b.cloneElement(o,N)}if(typeof o=="function"){if(S=b.createElement(o,_),b.isValidElement(S))return S}else S=mZ(t);var E=wr(t);if(yb(x)){if(n==="insideStart"||n==="insideEnd"||n==="end")return pZ(t,n,S,E,x);k=vZ(x,t.offset,t.position)}else k=yZ(t,x);return b.createElement(Ja,{zIndex:t.zIndex},b.createElement(pw,Ta({ref:h,className:Qe("recharts-label",c)},E,k,{textAnchor:eZ(E.textAnchor)?E.textAnchor:k.textAnchor,breakAll:d}),S))}ji.displayName="Label";var xZ=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?b.createElement(ji,Ta({key:"label-implicit"},n)):ta(e)?b.createElement(ji,Ta({key:"label-implicit",value:e},n)):b.isValidElement(e)?e.type===ji?b.cloneElement(e,xt({key:"label-implicit"},n)):b.createElement(ji,Ta({key:"label-implicit",content:e},n)):vw(e)?b.createElement(ji,Ta({key:"label-implicit",content:e},n)):e&&typeof e=="object"?b.createElement(ji,Ta({},e,{key:"label-implicit"},n)):null};function wZ(e){var{label:t,labelRef:r}=e,n=T4();return xZ(t,n,r)||null}var Iv={},Uv={},QO;function SZ(){return QO||(QO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(Uv)),Uv}var zv={},eN;function _Z(){return eN||(eN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(zv)),zv}var tN;function kZ(){return tN||(tN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SZ(),r=_Z(),n=tx();function i(l){if(n.isArrayLike(l))return t.last(r.toArray(l))}e.last=i})(Iv)),Iv}var Bv,rN;function jZ(){return rN||(rN=1,Bv=kZ().last),Bv}var EZ=jZ();const OZ=aa(EZ);var NZ=["valueAccessor"],AZ=["dataKey","clockWise","id","textBreakAll","zIndex"];function Th(){return Th=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Th.apply(null,arguments)}function nN(e,t){if(e==null)return{};var r,n,i=TZ(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function TZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var CZ=e=>Array.isArray(e.value)?OZ(e.value):e.value,C4=b.createContext(void 0),PZ=C4.Provider,P4=b.createContext(void 0);P4.Provider;function DZ(){return b.useContext(C4)}function MZ(){return b.useContext(P4)}function Cf(e){var{valueAccessor:t=CZ}=e,r=nN(e,NZ),{dataKey:n,clockWise:i,id:l,textBreakAll:o,zIndex:c}=r,d=nN(r,AZ),h=DZ(),m=MZ(),p=h||m;return!p||!p.length?null:b.createElement(Ja,{zIndex:c??br.label},b.createElement(Di,{className:"recharts-label-list"},p.map((v,x)=>{var S,k=Gt(n)?t(v,x):fr(v&&v.payload,n),_=Gt(l)?{}:{id:"".concat(l,"-").concat(x)};return b.createElement(ji,Th({key:"label-".concat(x)},wr(v),d,_,{fill:(S=r.fill)!==null&&S!==void 0?S:v.fill,parentViewBox:v.parentViewBox,value:k,textBreakAll:o,viewBox:v.viewBox,index:x,zIndex:0}))})))}Cf.displayName="LabelList";function RZ(e){var{label:t}=e;return t?t===!0?b.createElement(Cf,{key:"labelList-implicit"}):b.isValidElement(t)||vw(t)?b.createElement(Cf,{key:"labelList-implicit",content:t}):typeof t=="object"?b.createElement(Cf,Th({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function bb(){return bb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bb.apply(null,arguments)}var D4=e=>{var{cx:t,cy:r,r:n,className:i}=e,l=Qe("recharts-dot",i);return je(t)&&je(r)&&je(n)?b.createElement("circle",bb({},Qn(e),ex(e),{className:l,cx:t,cy:r,r:n})):null},$Z={radiusAxis:{},angleAxis:{}},M4=Br({name:"polarAxis",initialState:$Z,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Jne,removeRadiusAxis:Qne,addAngleAxis:eae,removeAngleAxis:tae}=M4.actions,LZ=M4.reducer,R4=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,qv={},aN;function IZ(){return aN||(aN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(qv)),qv}var Hv,iN;function UZ(){return iN||(iN=1,Hv=IZ().isPlainObject),Hv}var zZ=UZ();const BZ=aa(zZ);function sN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sN(Object(r),!0).forEach(function(n){qZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qZ(e,t,r){return(t=HZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HZ(e){var t=FZ(e,"string");return typeof t=="symbol"?t:t+""}function FZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ch(){return Ch=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ch.apply(null,arguments)}var oN=(e,t,r,n,i)=>{var l=r-n,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+r,",").concat(t),o+="L ".concat(e+r-l/2,",").concat(t+i),o+="L ".concat(e+r-l/2-n,",").concat(t+i),o+="L ".concat(e,",").concat(t," Z"),o},KZ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},VZ=e=>{var t=mr(e,KZ),{x:r,y:n,upperWidth:i,lowerWidth:l,height:o,className:c}=t,{animationEasing:d,animationDuration:h,animationBegin:m,isUpdateAnimationActive:p}=t,v=b.useRef(null),[x,S]=b.useState(-1),k=b.useRef(i),_=b.useRef(l),j=b.useRef(o),N=b.useRef(r),E=b.useRef(n),P=vx(e,"trapezoid-");if(b.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var te=v.current.getTotalLength();te&&S(te)}catch{}},[]),r!==+r||n!==+n||i!==+i||l!==+l||o!==+o||i===0&&l===0||o===0)return null;var A=Qe("recharts-trapezoid",c);if(!p)return b.createElement("g",null,b.createElement("path",Ch({},wr(t),{className:A,d:oN(r,n,i,l,o)})));var T=k.current,C=_.current,M=j.current,$=N.current,R=E.current,I="0px ".concat(x===-1?1:x,"px"),q="".concat(x,"px 0px"),ae=QC(["strokeDasharray"],h,d);return b.createElement(px,{animationId:P,key:P,canBegin:x>0,duration:h,easing:d,isActive:p,begin:m},te=>{var ie=Ir(T,i,te),B=Ir(C,l,te),K=Ir(M,o,te),le=Ir($,r,te),W=Ir(R,n,te);v.current&&(k.current=ie,_.current=B,j.current=K,N.current=le,E.current=W);var de=te>0?{transition:ae,strokeDasharray:q}:{strokeDasharray:I};return b.createElement("path",Ch({},wr(t),{className:A,d:oN(le,W,ie,B,K),ref:v,style:lN(lN({},de),t.style)}))})},GZ=["option","shapeType","propTransformer","activeClassName"];function YZ(e,t){if(e==null)return{};var r,n,i=WZ(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function WZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function uN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ph(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uN(Object(r),!0).forEach(function(n){XZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XZ(e,t,r){return(t=ZZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZZ(e){var t=JZ(e,"string");return typeof t=="symbol"?t:t+""}function JZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QZ(e,t){return Ph(Ph({},t),e)}function eJ(e,t){return e==="symbols"}function cN(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return b.createElement(nP,r);case"trapezoid":return b.createElement(VZ,r);case"sector":return b.createElement(sP,r);case"symbols":if(eJ(t))return b.createElement(Qb,r);break;case"curve":return b.createElement(JC,r);default:return null}}function tJ(e){return b.isValidElement(e)?e.props:e}function rJ(e){var{option:t,shapeType:r,propTransformer:n=QZ,activeClassName:i="recharts-active-shape"}=e,l=YZ(e,GZ),o;if(b.isValidElement(t))o=b.cloneElement(t,Ph(Ph({},l),tJ(t)));else if(typeof t=="function")o=t(l,l.index);else if(BZ(t)&&typeof t!="boolean"){var c=n(t,l);o=b.createElement(cN,{shapeType:r,elementProps:c})}else{var d=l;o=b.createElement(cN,{shapeType:r,elementProps:d})}return l.isActive?b.createElement(Di,{className:i},o):o}function nJ(e){var{tooltipEntrySettings:t}=e,r=Pt(),n=qr(),i=b.useRef(null);return b.useLayoutEffect(()=>{n||(i.current===null?r(_Y(t)):i.current!==t&&r(kY({prev:i.current,next:t})),i.current=t)},[t,r,n]),b.useLayoutEffect(()=>()=>{i.current&&(r(jY(i.current)),i.current=null)},[r]),null}function aJ(e){var{legendPayload:t}=e,r=Pt(),n=qr(),i=b.useRef(null);return b.useLayoutEffect(()=>{n||(i.current===null?r(Hq(t)):i.current!==t&&r(Fq({prev:i.current,next:t})),i.current=t)},[r,n,t]),b.useLayoutEffect(()=>()=>{i.current&&(r(Kq(i.current)),i.current=null)},[r]),null}var Fv,iJ=()=>{var[e]=b.useState(()=>zu("uid-"));return e},sJ=(Fv=Wv.useId)!==null&&Fv!==void 0?Fv:iJ;function $4(e,t){var r=sJ();return t||(e?"".concat(e,"-").concat(r):r)}var lJ=b.createContext(void 0),oJ=e=>{var{id:t,type:r,children:n}=e,i=$4("recharts-".concat(r),t);return b.createElement(lJ.Provider,{value:i},n(i))},uJ={cartesianItems:[],polarItems:[]},L4=Br({name:"graphicalItems",initialState:uJ,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:dt()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Ln(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:dt()},removeCartesianGraphicalItem:{reducer(e,t){var r=Ln(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:dt()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:dt()},removePolarGraphicalItem:{reducer(e,t){var r=Ln(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:dt()}}}),{addCartesianGraphicalItem:cJ,replaceCartesianGraphicalItem:dJ,removeCartesianGraphicalItem:fJ,addPolarGraphicalItem:rae,removePolarGraphicalItem:nae}=L4.actions,hJ=L4.reducer,mJ=e=>{var t=Pt(),r=b.useRef(null);return b.useLayoutEffect(()=>{r.current===null?t(cJ(e)):r.current!==e&&t(dJ({prev:r.current,next:e})),r.current=e},[t,e]),b.useLayoutEffect(()=>()=>{r.current&&(t(fJ(r.current)),r.current=null)},[t]),null},gJ=b.memo(mJ),pJ=["points"];function dN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Kv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dN(Object(r),!0).forEach(function(n){vJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vJ(e,t,r){return(t=yJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yJ(e){var t=bJ(e,"string");return typeof t=="symbol"?t:t+""}function bJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dh(){return Dh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dh.apply(null,arguments)}function xJ(e,t){if(e==null)return{};var r,n,i=wJ(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function wJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function SJ(e){var{option:t,dotProps:r,className:n}=e;if(b.isValidElement(t))return b.cloneElement(t,r);if(typeof t=="function")return t(r);var i=Qe(n,typeof t!="boolean"?t.className:""),l=r??{},{points:o}=l,c=xJ(l,pJ);return b.createElement(D4,Dh({},c,{className:i}))}function _J(e,t){return e==null?!1:t?!0:e.length===1}function kJ(e){var{points:t,dot:r,className:n,dotClassName:i,dataKey:l,baseProps:o,needClip:c,clipPathId:d,zIndex:h=br.scatter}=e;if(!_J(t,r))return null;var m=R4(r),p=EU(r),v=t.map((S,k)=>{var _,j,N=Kv(Kv(Kv({r:3},o),p),{},{index:k,cx:(_=S.x)!==null&&_!==void 0?_:void 0,cy:(j=S.y)!==null&&j!==void 0?j:void 0,dataKey:l,value:S.value,payload:S.payload,points:t});return b.createElement(SJ,{key:"dot-".concat(k),option:r,dotProps:N,className:i})}),x={};return c&&d!=null&&(x.clipPath="url(#clipPath-".concat(m?"":"dots-").concat(d,")")),b.createElement(Ja,{zIndex:h},b.createElement(Di,Dh({className:n},x),v))}function fN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fN(Object(r),!0).forEach(function(n){jJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jJ(e,t,r){return(t=EJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EJ(e){var t=OJ(e,"string");return typeof t=="symbol"?t:t+""}function OJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NJ={xAxis:{},yAxis:{},zAxis:{}},I4=Br({name:"cartesianAxis",initialState:NJ,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:dt()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:dt()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:dt()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:dt()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:dt()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:dt()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:dt()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:dt()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:dt()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var l=i.widthHistory||[];if(l.length===3&&l[0]===l[2]&&n===l[1]&&n!==i.width&&Math.abs(n-l[0])<=1)return;var o=[...l,n].slice(-3);e.yAxis[r]=hN(hN({},e.yAxis[r]),{},{width:n,widthHistory:o})}}}}),{addXAxis:AJ,replaceXAxis:TJ,removeXAxis:CJ,addYAxis:PJ,replaceYAxis:DJ,removeYAxis:MJ,addZAxis:aae,replaceZAxis:iae,removeZAxis:sae,updateYAxisWidth:RJ}=I4.actions,$J=I4.reducer,LJ=Q([sr],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),IJ=Q([LJ,Va,Ga],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),yw=()=>_e(IJ),UJ=()=>_e(vW);function mN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mN(Object(r),!0).forEach(function(n){zJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zJ(e,t,r){return(t=BJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BJ(e){var t=qJ(e,"string");return typeof t=="symbol"?t:t+""}function qJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HJ=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:i,dataKey:l,clipPath:o}=e;if(i===!1||t.x==null||t.y==null)return null;var c={index:r,dataKey:l,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},d=Vv(Vv(Vv({},c),e0(i)),ex(i)),h;return b.isValidElement(i)?h=b.cloneElement(i,d):typeof i=="function"?h=i(d):h=b.createElement(D4,d),b.createElement(Di,{className:"recharts-active-dot",clipPath:o},h)};function FJ(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:i,clipPath:l,zIndex:o=br.activeDot}=e,c=_e(Qu),d=UJ();if(t==null||d==null)return null;var h=t.find(m=>d.includes(m.payload));return Gt(h)?null:b.createElement(Ja,{zIndex:o},b.createElement(HJ,{point:h,childIndex:Number(c),mainColor:r,dataKey:i,activeDot:n,clipPath:l}))}var KJ={},U4=Br({name:"errorBars",initialState:KJ,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(l=>l.dataKey===n.dataKey&&l.direction===n.direction?i:l))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:lae,replaceErrorBar:oae,removeErrorBar:uae}=U4.actions,VJ=U4.reducer,GJ=["children"];function YJ(e,t){if(e==null)return{};var r,n,i=WJ(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function WJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var XJ={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},ZJ=b.createContext(XJ);function JJ(e){var{children:t}=e,r=YJ(e,GJ);return b.createElement(ZJ.Provider,{value:r},t)}function z4(e,t){var r,n,i=_e(h=>Wa(h,e)),l=_e(h=>Xa(h,t)),o=(r=i?.allowDataOverflow)!==null&&r!==void 0?r:Ft.allowDataOverflow,c=(n=l?.allowDataOverflow)!==null&&n!==void 0?n:Kt.allowDataOverflow,d=o||c;return{needClip:d,needClipX:o,needClipY:c}}function QJ(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=yw(),{needClipX:l,needClipY:o,needClip:c}=z4(t,r);if(!c||!i)return null;var{x:d,y:h,width:m,height:p}=i;return b.createElement("clipPath",{id:"clipPath-".concat(n)},b.createElement("rect",{x:l?d:d-m/2,y:o?h:h-p/2,width:l?m:m*2,height:o?p:p*2}))}function eQ(e){e()}function tQ(){let e=null,t=null;return{clear(){e=null,t=null},notify(){eQ(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var gN={notify(){},get:()=>[]};function rQ(e,t){let r,n=gN,i=0,l=!1;function o(k){m();const _=n.subscribe(k);let j=!1;return()=>{j||(j=!0,_(),p())}}function c(){n.notify()}function d(){S.onStateChange&&S.onStateChange()}function h(){return l}function m(){i++,r||(r=e.subscribe(d),n=tQ())}function p(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=gN)}function v(){l||(l=!0,m())}function x(){l&&(l=!1,p())}const S={addNestedSub:o,notifyNestedSubs:c,handleChangeWrapper:d,isSubscribed:h,trySubscribe:v,tryUnsubscribe:x,getListeners:()=>n};return S}var nQ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",aQ=nQ(),iQ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",sQ=iQ(),lQ=()=>aQ||sQ?b.useLayoutEffect:b.useEffect,oQ=lQ();function pN(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function uQ(e,t){if(pN(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!pN(e[r[i]],t[r[i]]))return!1;return!0}var cQ=Symbol.for("react-redux-context"),dQ=typeof globalThis<"u"?globalThis:{};function fQ(){if(!b.createContext)return{};const e=dQ[cQ]??=new Map;let t=e.get(b.createContext);return t||(t=b.createContext(null),e.set(b.createContext,t)),t}var hQ=fQ();function mQ(e){const{children:t,context:r,serverState:n,store:i}=e,l=b.useMemo(()=>{const d=rQ(i);return{store:i,subscription:d,getServerState:n?()=>n:void 0}},[i,n]),o=b.useMemo(()=>i.getState(),[i]);oQ(()=>{const{subscription:d}=l;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),o!==i.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[l,o]);const c=r||hQ;return b.createElement(c.Provider,{value:l},t)}var gQ=mQ,pQ=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function vQ(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function bw(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(pQ.has(n)){if(e[n]==null&&t[n]==null)continue;if(!uQ(e[n],t[n]))return!1}else if(!vQ(e[n],t[n]))return!1;return!0}var yQ=e=>{var{chartData:t}=e,r=Pt(),n=qr();return b.useEffect(()=>n?()=>{}:(r(LO(t)),()=>{r(LO(void 0))}),[t,r,n]),null},vN={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},B4=Br({name:"brush",initialState:vN,reducers:{setBrushSettings(e,t){return t.payload==null?vN:t.payload}}}),{setBrushSettings:cae}=B4.actions,bQ=B4.reducer;function xQ(e,t,r){return(t=wQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wQ(e){var t=SQ(e,"string");return typeof t=="symbol"?t:t+""}function SQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class xw{static create(t){return new xw(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(t)+l}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}xQ(xw,"EPS",1e-4);function _Q(e){return(e%180+180)%180}var kQ=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=_Q(i),o=l*Math.PI/180,c=Math.atan(n/r),d=o>c&&o<Math.PI-c?n/Math.sin(o):r/Math.cos(o);return Math.abs(d)},jQ={dots:[],areas:[],lines:[]},q4=Br({name:"referenceElements",initialState:jQ,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Ln(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Ln(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Ln(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:dae,removeDot:fae,addArea:hae,removeArea:mae,addLine:gae,removeLine:pae}=q4.actions,EQ=q4.reducer,OQ=b.createContext(void 0),NQ=e=>{var{children:t}=e,[r]=b.useState("".concat(zu("recharts"),"-clip")),n=yw();if(n==null)return null;var{x:i,y:l,width:o,height:c}=n;return b.createElement(OQ.Provider,{value:r},b.createElement("defs",null,b.createElement("clipPath",{id:r},b.createElement("rect",{x:i,y:l,height:c,width:o}))),t)};function H4(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r}function AQ(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return kQ(n,r)}function TQ(e,t,r){var n=r==="width",{x:i,y:l,width:o,height:c}=e;return t===1?{start:n?i:l,end:n?i+o:l+c}:{start:n?i+o:l+c,end:n?i:l}}function Mh(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var l=r();return e*(t-e*l/2-n)>=0&&e*(t+e*l/2-i)<=0}function CQ(e,t){return H4(e,t+1)}function PQ(e,t,r,n,i){for(var l=(n||[]).slice(),{start:o,end:c}=t,d=0,h=1,m=o,p=function(){var S=n?.[d];if(S===void 0)return{v:H4(n,h)};var k=d,_,j=()=>(_===void 0&&(_=r(S,k)),_),N=S.coordinate,E=d===0||Mh(e,N,j,m,c);E||(d=0,m=o,h+=1),E&&(m=N+e*(j()/2+i),d+=h)},v;h<=l.length;)if(v=p(),v)return v.v;return[]}function yN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yN(Object(r),!0).forEach(function(n){DQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DQ(e,t,r){return(t=MQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MQ(e){var t=RQ(e,"string");return typeof t=="symbol"?t:t+""}function RQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $Q(e,t,r,n,i){for(var l=(n||[]).slice(),o=l.length,{start:c}=t,{end:d}=t,h=function(v){var x=l[v],S,k=()=>(S===void 0&&(S=r(x,v)),S);if(v===o-1){var _=e*(x.coordinate+e*k()/2-d);l[v]=x=cr(cr({},x),{},{tickCoord:_>0?x.coordinate-_*e:x.coordinate})}else l[v]=x=cr(cr({},x),{},{tickCoord:x.coordinate});if(x.tickCoord!=null){var j=Mh(e,x.tickCoord,k,c,d);j&&(d=x.tickCoord-e*(k()/2+i),l[v]=cr(cr({},x),{},{isShow:!0}))}},m=o-1;m>=0;m--)h(m);return l}function LQ(e,t,r,n,i,l){var o=(n||[]).slice(),c=o.length,{start:d,end:h}=t;if(l){var m=n[c-1],p=r(m,c-1),v=e*(m.coordinate+e*p/2-h);if(o[c-1]=m=cr(cr({},m),{},{tickCoord:v>0?m.coordinate-v*e:m.coordinate}),m.tickCoord!=null){var x=Mh(e,m.tickCoord,()=>p,d,h);x&&(h=m.tickCoord-e*(p/2+i),o[c-1]=cr(cr({},m),{},{isShow:!0}))}}for(var S=l?c-1:c,k=function(N){var E=o[N],P,A=()=>(P===void 0&&(P=r(E,N)),P);if(N===0){var T=e*(E.coordinate-e*A()/2-d);o[N]=E=cr(cr({},E),{},{tickCoord:T<0?E.coordinate-T*e:E.coordinate})}else o[N]=E=cr(cr({},E),{},{tickCoord:E.coordinate});if(E.tickCoord!=null){var C=Mh(e,E.tickCoord,A,d,h);C&&(d=E.tickCoord+e*(A()/2+i),o[N]=cr(cr({},E),{},{isShow:!0}))}},_=0;_<S;_++)k(_);return o}function ww(e,t,r){var{tick:n,ticks:i,viewBox:l,minTickGap:o,orientation:c,interval:d,tickFormatter:h,unit:m,angle:p}=e;if(!i||!i.length||!n)return[];if(je(d)||pc.isSsr){var v;return(v=CQ(i,je(d)?d:0))!==null&&v!==void 0?v:[]}var x=[],S=c==="top"||c==="bottom"?"width":"height",k=m&&S==="width"?Du(m,{fontSize:t,letterSpacing:r}):{width:0,height:0},_=(E,P)=>{var A=typeof h=="function"?h(E.value,P):E.value;return S==="width"?AQ(Du(A,{fontSize:t,letterSpacing:r}),k,p):Du(A,{fontSize:t,letterSpacing:r})[S]},j=i.length>=2?bn(i[1].coordinate-i[0].coordinate):1,N=TQ(l,j,S);return d==="equidistantPreserveStart"?PQ(j,N,_,i,o):(d==="preserveStart"||d==="preserveStartEnd"?x=LQ(j,N,_,i,o,d==="preserveStartEnd"):x=$Q(j,N,_,i,o),x.filter(E=>E.isShow))}var IQ=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:l=0}=e,o=0;if(t){Array.from(t).forEach(m=>{if(m){var p=m.getBoundingClientRect();p.width>o&&(o=p.width)}});var c=r?r.getBoundingClientRect().width:0,d=i+l,h=o+d+c+(r?n:0);return Math.round(h)}return 0},UQ=["axisLine","width","height","className","hide","ticks","axisType"];function zQ(e,t){if(e==null)return{};var r,n,i=BQ(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function BQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Cs(){return Cs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cs.apply(null,arguments)}function bN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Tt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bN(Object(r),!0).forEach(function(n){qQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qQ(e,t,r){return(t=HQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HQ(e){var t=FQ(e,"string");return typeof t=="symbol"?t:t+""}function FQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $a={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:br.axis};function KQ(e){var{x:t,y:r,width:n,height:i,orientation:l,mirror:o,axisLine:c,otherSvgProps:d}=e;if(!c)return null;var h=Tt(Tt(Tt({},d),Qn(c)),{},{fill:"none"});if(l==="top"||l==="bottom"){var m=+(l==="top"&&!o||l==="bottom"&&o);h=Tt(Tt({},h),{},{x1:t,y1:r+m*i,x2:t+n,y2:r+m*i})}else{var p=+(l==="left"&&!o||l==="right"&&o);h=Tt(Tt({},h),{},{x1:t+p*n,y1:r,x2:t+p*n,y2:r+i})}return b.createElement("line",Cs({},h,{className:Qe("recharts-cartesian-axis-line",a0(c,"className"))}))}function VQ(e,t,r,n,i,l,o,c,d){var h,m,p,v,x,S,k=c?-1:1,_=e.tickSize||o,j=je(e.tickCoord)?e.tickCoord:e.coordinate;switch(l){case"top":h=m=e.coordinate,v=r+ +!c*i,p=v-k*_,S=p-k*d,x=j;break;case"left":p=v=e.coordinate,m=t+ +!c*n,h=m-k*_,x=h-k*d,S=j;break;case"right":p=v=e.coordinate,m=t+ +c*n,h=m+k*_,x=h+k*d,S=j;break;default:h=m=e.coordinate,v=r+ +c*i,p=v+k*_,S=p+k*d,x=j;break}return{line:{x1:h,y1:p,x2:m,y2:v},tick:{x,y:S}}}function GQ(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function YQ(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function WQ(e){var{option:t,tickProps:r,value:n}=e,i,l=Qe(r.className,"recharts-cartesian-axis-tick-value");if(b.isValidElement(t))i=b.cloneElement(t,Tt(Tt({},r),{},{className:l}));else if(typeof t=="function")i=t(Tt(Tt({},r),{},{className:l}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=Qe(o,t?.className)),i=b.createElement(pw,Cs({},r,{className:o}),n)}return i}var XQ=b.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:l,tickFormatter:o,unit:c,padding:d,tickTextProps:h,orientation:m,mirror:p,x:v,y:x,width:S,height:k,tickSize:_,tickMargin:j,fontSize:N,letterSpacing:E,getTicksConfig:P,events:A,axisType:T}=e,C=ww(Tt(Tt({},P),{},{ticks:r}),N,E),M=GQ(m,p),$=YQ(m,p),R=Qn(P),I=e0(n),q={};typeof i=="object"&&(q=i);var ae=Tt(Tt({},R),{},{fill:"none"},q),te=C.map(K=>Tt({entry:K},VQ(K,v,x,S,k,m,_,p,j))),ie=te.map(K=>{var{entry:le,line:W}=K;return b.createElement(Di,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(le.value,"-").concat(le.coordinate,"-").concat(le.tickCoord)},i&&b.createElement("line",Cs({},ae,W,{className:Qe("recharts-cartesian-axis-tick-line",a0(i,"className"))})))}),B=te.map((K,le)=>{var{entry:W,tick:de}=K,L=Tt(Tt(Tt(Tt({textAnchor:M,verticalAnchor:$},R),{},{stroke:"none",fill:l},I),de),{},{index:le,payload:W,visibleTicksCount:C.length,tickFormatter:o,padding:d},h);return b.createElement(Di,Cs({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(W.value,"-").concat(W.coordinate,"-").concat(W.tickCoord)},BT(A,W,le)),n&&b.createElement(WQ,{option:n,tickProps:L,value:"".concat(typeof o=="function"?o(W.value,le):W.value).concat(c||"")}))});return b.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(T,"-ticks")},B.length>0&&b.createElement(Ja,{zIndex:br.label},b.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(T,"-tick-labels"),ref:t},B)),ie.length>0&&b.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(T,"-tick-lines")},ie))}),ZQ=b.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:l,hide:o,ticks:c,axisType:d}=e,h=zQ(e,UQ),[m,p]=b.useState(""),[v,x]=b.useState(""),S=b.useRef(null);b.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var _;return IQ({ticks:S.current,label:(_=e.labelRef)===null||_===void 0?void 0:_.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var k=b.useCallback(_=>{if(_){var j=_.getElementsByClassName("recharts-cartesian-axis-tick-value");S.current=j;var N=j[0];if(N){var E=window.getComputedStyle(N),P=E.fontSize,A=E.letterSpacing;(P!==m||A!==v)&&(p(P),x(A))}}},[m,v]);return o||n!=null&&n<=0||i!=null&&i<=0?null:b.createElement(Ja,{zIndex:e.zIndex},b.createElement(Di,{className:Qe("recharts-cartesian-axis",l)},b.createElement(KQ,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Qn(e)}),b.createElement(XQ,{ref:k,axisType:d,events:h,fontSize:m,getTicksConfig:e,height:e.height,letterSpacing:v,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:c,unit:e.unit,width:e.width,x:e.x,y:e.y}),b.createElement(dZ,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},b.createElement(wZ,{label:e.label,labelRef:e.labelRef}),e.children)))}),Sw=b.forwardRef((e,t)=>{var r=mr(e,$a);return b.createElement(ZQ,Cs({},r,{ref:t}))});Sw.displayName="CartesianAxis";var JQ=["x1","y1","x2","y2","key"],QQ=["offset"],eee=["xAxisId","yAxisId"],tee=["xAxisId","yAxisId"];function xN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xN(Object(r),!0).forEach(function(n){ree(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ree(e,t,r){return(t=nee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nee(e){var t=aee(e,"string");return typeof t=="symbol"?t:t+""}function aee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ss(){return Ss=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ss.apply(null,arguments)}function Rh(e,t){if(e==null)return{};var r,n,i=iee(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function iee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var see=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:l,height:o,ry:c}=e;return b.createElement("rect",{x:n,y:i,ry:c,width:l,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function F4(e){var{option:t,lineItemProps:r}=e,n;if(b.isValidElement(t))n=b.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var i,{x1:l,y1:o,x2:c,y2:d,key:h}=r,m=Rh(r,JQ),p=(i=Qn(m))!==null&&i!==void 0?i:{},{offset:v}=p,x=Rh(p,QQ);n=b.createElement("line",Ss({},x,{x1:l,y1:o,x2:c,y2:d,fill:"none",key:h}))}return n}function lee(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:l,yAxisId:o}=e,c=Rh(e,eee),d=i.map((h,m)=>{var p=dr(dr({},c),{},{x1:t,y1:h,x2:t+r,y2:h,key:"line-".concat(m),index:m});return b.createElement(F4,{key:"line-".concat(m),option:n,lineItemProps:p})});return b.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function oee(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:l,yAxisId:o}=e,c=Rh(e,tee),d=i.map((h,m)=>{var p=dr(dr({},c),{},{x1:h,y1:t,x2:h,y2:t+r,key:"line-".concat(m),index:m});return b.createElement(F4,{option:n,lineItemProps:p,key:"line-".concat(m)})});return b.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function uee(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:l,height:o,horizontalPoints:c,horizontal:d=!0}=e;if(!d||!t||!t.length||c==null)return null;var h=c.map(p=>Math.round(p+i-i)).sort((p,v)=>p-v);i!==h[0]&&h.unshift(0);var m=h.map((p,v)=>{var x=!h[v+1],S=x?i+o-p:h[v+1]-p;if(S<=0)return null;var k=v%t.length;return b.createElement("rect",{key:"react-".concat(v),y:p,x:n,height:S,width:l,stroke:"none",fill:t[k],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function cee(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:l,width:o,height:c,verticalPoints:d}=e;if(!t||!r||!r.length)return null;var h=d.map(p=>Math.round(p+i-i)).sort((p,v)=>p-v);i!==h[0]&&h.unshift(0);var m=h.map((p,v)=>{var x=!h[v+1],S=x?i+o-p:h[v+1]-p;if(S<=0)return null;var k=v%r.length;return b.createElement("rect",{key:"react-".concat(v),x:p,y:l,width:S,height:c,stroke:"none",fill:r[k],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var dee=(e,t)=>{var{xAxis:r,width:n,height:i,offset:l}=e;return DC(ww(dr(dr(dr({},$a),r),{},{ticks:MC(r),viewBox:{x:0,y:0,width:n,height:i}})),l.left,l.left+l.width,t)},fee=(e,t)=>{var{yAxis:r,width:n,height:i,offset:l}=e;return DC(ww(dr(dr(dr({},$a),r),{},{ticks:MC(r),viewBox:{x:0,y:0,width:n,height:i}})),l.top,l.top+l.height,t)},hee={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:br.grid};function K4(e){var t=fx(),r=hx(),n=qC(),i=dr(dr({},mr(e,hee)),{},{x:je(e.x)?e.x:n.left,y:je(e.y)?e.y:n.top,width:je(e.width)?e.width:n.width,height:je(e.height)?e.height:n.height}),{xAxisId:l,yAxisId:o,x:c,y:d,width:h,height:m,syncWithTicks:p,horizontalValues:v,verticalValues:x}=i,S=qr(),k=_e($=>jO($,"xAxis",l,S)),_=_e($=>jO($,"yAxis",o,S));if(!ra(h)||!ra(m)||!je(c)||!je(d))return null;var j=i.verticalCoordinatesGenerator||dee,N=i.horizontalCoordinatesGenerator||fee,{horizontalPoints:E,verticalPoints:P}=i;if((!E||!E.length)&&typeof N=="function"){var A=v&&v.length,T=N({yAxis:_?dr(dr({},_),{},{ticks:A?v:_.ticks}):void 0,width:t??h,height:r??m,offset:n},A?!0:p);oh(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof T,"]")),Array.isArray(T)&&(E=T)}if((!P||!P.length)&&typeof j=="function"){var C=x&&x.length,M=j({xAxis:k?dr(dr({},k),{},{ticks:C?x:k.ticks}):void 0,width:t??h,height:r??m,offset:n},C?!0:p);oh(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(P=M)}return b.createElement(Ja,{zIndex:i.zIndex},b.createElement("g",{className:"recharts-cartesian-grid"},b.createElement(see,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),b.createElement(uee,Ss({},i,{horizontalPoints:E})),b.createElement(cee,Ss({},i,{verticalPoints:P})),b.createElement(lee,Ss({},i,{offset:n,horizontalPoints:E,xAxis:k,yAxis:_})),b.createElement(oee,Ss({},i,{offset:n,verticalPoints:P,xAxis:k,yAxis:_}))))}K4.displayName="CartesianGrid";var V4=(e,t,r,n)=>GD(e,"xAxis",t,n),G4=(e,t,r,n)=>VD(e,"xAxis",t,n),Y4=(e,t,r,n)=>GD(e,"yAxis",r,n),W4=(e,t,r,n)=>VD(e,"yAxis",r,n),mee=Q([ot,V4,Y4,G4,W4],(e,t,r,n,i)=>Li(e,"xAxis")?lh(t,n,!1):lh(r,i,!1)),gee=(e,t,r,n,i)=>i;function pee(e){return e.type==="line"}var vee=Q([gD,gee],(e,t)=>e.filter(pee).find(r=>r.id===t)),yee=Q([ot,V4,Y4,G4,W4,vee,mee,Bx],(e,t,r,n,i,l,o,c)=>{var{chartData:d,dataStartIndex:h,dataEndIndex:m}=c;if(!(l==null||t==null||r==null||n==null||i==null||n.length===0||i.length===0||o==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:p,data:v}=l,x;if(v!=null&&v.length>0?x=v:x=d?.slice(h,m+1),x!=null)return Uee({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:p,bandSize:o,displayedData:x})}});function bee(e){var t=e0(e),r=3,n=2;if(t!=null){var{r:i,strokeWidth:l}=t,o=Number(i),c=Number(l);return(Number.isNaN(o)||o<0)&&(o=r),(Number.isNaN(c)||c<0)&&(c=n),{r:o,strokeWidth:c}}return{r,strokeWidth:n}}var xee=["id"],wee=["type","layout","connectNulls","needClip","shape"],See=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function tc(){return tc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tc.apply(null,arguments)}function wN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Gn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wN(Object(r),!0).forEach(function(n){_ee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _ee(e,t,r){return(t=kee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kee(e){var t=jee(e,"string");return typeof t=="symbol"?t:t+""}function jee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _w(e,t){if(e==null)return{};var r,n,i=Eee(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Eee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Oee=e=>{var{dataKey:t,name:r,stroke:n,legendType:i,hide:l}=e;return[{inactive:l,dataKey:t,type:i,color:n,value:RC(r,t),payload:e}]},Nee=b.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:i,fill:l,name:o,hide:c,unit:d,tooltipType:h}=e,m={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:l,dataKey:t,nameKey:void 0,name:RC(o,t),hide:c,type:h,color:n,unit:d}};return b.createElement(nJ,{tooltipEntrySettings:m})}),X4=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Aee(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],i=0;i<t;++i)n=[...n,...r];return n}var Tee=(e,t,r)=>{var n=r.reduce((p,v)=>p+v);if(!n)return X4(t,e);for(var i=Math.floor(e/n),l=e%n,o=t-e,c=[],d=0,h=0;d<r.length;h+=r[d],++d)if(h+r[d]>l){c=[...r.slice(0,d),l-h];break}var m=c.length%2===0?[0,o]:[o];return[...Aee(r,i),...c,...m].map(p=>"".concat(p,"px")).join(", ")};function Cee(e){var{clipPathId:t,points:r,props:n}=e,{dot:i,dataKey:l,needClip:o}=n,{id:c}=n,d=_w(n,xee),h=Qn(d);return b.createElement(kJ,{points:r,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:l,baseProps:h,needClip:o,clipPathId:t})}function Pee(e){var{showLabels:t,children:r,points:n}=e,i=b.useMemo(()=>n?.map(l=>{var o,c,d={x:(o=l.x)!==null&&o!==void 0?o:0,y:(c=l.y)!==null&&c!==void 0?c:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Gn(Gn({},d),{},{value:l.value,payload:l.payload,viewBox:d,parentViewBox:void 0,fill:void 0})}),[n]);return b.createElement(PZ,{value:t?i:void 0},r)}function SN(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:i,props:l}=e,{type:o,layout:c,connectNulls:d,needClip:h,shape:m}=l,p=_w(l,wee),v=Gn(Gn({},wr(p)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(t,")"):void 0,points:n,type:o,layout:c,connectNulls:d,strokeDasharray:i??l.strokeDasharray});return b.createElement(b.Fragment,null,n?.length>1&&b.createElement(rJ,tc({shapeType:"curve",option:m},v,{pathRef:r})),b.createElement(Cee,{points:n,clipPathId:t,props:l}))}function Dee(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Mee(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:i,longestAnimatedLengthRef:l}=e,{points:o,strokeDasharray:c,isAnimationActive:d,animationBegin:h,animationDuration:m,animationEasing:p,animateNewValues:v,width:x,height:S,onAnimationEnd:k,onAnimationStart:_}=r,j=i.current,N=vx(o,"recharts-line-"),E=b.useRef(N),[P,A]=b.useState(!1),T=!P,C=b.useCallback(()=>{typeof k=="function"&&k(),A(!1)},[k]),M=b.useCallback(()=>{typeof _=="function"&&_(),A(!0)},[_]),$=Dee(n.current),R=b.useRef(0);E.current!==N&&(R.current=l.current,E.current=N);var I=R.current;return b.createElement(Pee,{points:o,showLabels:T},r.children,b.createElement(px,{animationId:N,begin:h,duration:m,isActive:d,easing:p,onAnimationEnd:C,onAnimationStart:M,key:N},q=>{var ae=Ir(I,$+I,q),te=Math.min(ae,$),ie;if(d)if(c){var B="".concat(c).split(/[,\s]+/gim).map(W=>parseFloat(W));ie=Tee(te,$,B)}else ie=X4($,te);else ie=c==null?void 0:String(c);if(q>0&&$>0&&(i.current=o,l.current=Math.max(l.current,te)),j){var K=j.length/o.length,le=q===1?o:o.map((W,de)=>{var L=Math.floor(de*K);if(j[L]){var H=j[L];return Gn(Gn({},W),{},{x:Ir(H.x,W.x,q),y:Ir(H.y,W.y,q)})}return v?Gn(Gn({},W),{},{x:Ir(x*2,W.x,q),y:Ir(S/2,W.y,q)}):Gn(Gn({},W),{},{x:W.x,y:W.y})});return i.current=le,b.createElement(SN,{props:r,points:le,clipPathId:t,pathRef:n,strokeDasharray:ie})}return b.createElement(SN,{props:r,points:o,clipPathId:t,pathRef:n,strokeDasharray:ie})}),b.createElement(RZ,{label:r.label}))}function Ree(e){var{clipPathId:t,props:r}=e,n=b.useRef(null),i=b.useRef(0),l=b.useRef(null);return b.createElement(Mee,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:i,pathRef:l})}var $ee=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:fr(e.payload,t)}};class Lee extends b.Component{render(){var{hide:t,dot:r,points:n,className:i,xAxisId:l,yAxisId:o,top:c,left:d,width:h,height:m,id:p,needClip:v,zIndex:x}=this.props;if(t)return null;var S=Qe("recharts-line",i),k=p,{r:_,strokeWidth:j}=bee(r),N=R4(r),E=_*2+j,P=v?"url(#clipPath-".concat(N?"":"dots-").concat(k,")"):void 0;return b.createElement(Ja,{zIndex:x},b.createElement(Di,{className:S},v&&b.createElement("defs",null,b.createElement(QJ,{clipPathId:k,xAxisId:l,yAxisId:o}),!N&&b.createElement("clipPath",{id:"clipPath-dots-".concat(k)},b.createElement("rect",{x:d-E/2,y:c-E/2,width:h+E,height:m+E}))),b.createElement(JJ,{xAxisId:l,yAxisId:o,data:n,dataPointFormatter:$ee,errorBarOffset:0},b.createElement(Ree,{props:this.props,clipPathId:k}))),b.createElement(FJ,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:P}))}}var Z4={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:br.line,type:"linear"};function Iee(e){var t=mr(e,Z4),{activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:l,animationEasing:o,connectNulls:c,dot:d,hide:h,isAnimationActive:m,label:p,legendType:v,xAxisId:x,yAxisId:S,id:k}=t,_=_w(t,See),{needClip:j}=z4(x,S),N=yw(),E=b0(),P=qr(),A=_e(R=>yee(R,x,S,P,k));if(E!=="horizontal"&&E!=="vertical"||A==null||N==null)return null;var{height:T,width:C,x:M,y:$}=N;return b.createElement(Lee,tc({},_,{id:k,connectNulls:c,dot:d,activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:l,animationEasing:o,isAnimationActive:m,hide:h,label:p,legendType:v,xAxisId:x,yAxisId:S,points:A,layout:E,height:T,width:C,left:M,top:$,needClip:j}))}function Uee(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:l,dataKey:o,bandSize:c,displayedData:d}=e;return d.map((h,m)=>{var p=fr(h,o);if(t==="horizontal"){var v=Vj({axis:r,ticks:i,bandSize:c,entry:h,index:m}),x=Gt(p)?null:n.scale(p);return{x:v,y:x,value:p,payload:h}}var S=Gt(p)?null:r.scale(p),k=Vj({axis:n,ticks:l,bandSize:c,entry:h,index:m});return S==null||k==null?null:{x:S,y:k,value:p,payload:h}}).filter(Boolean)}function zee(e){var t=mr(e,Z4),r=qr();return b.createElement(oJ,{id:t.id,type:"line"},n=>b.createElement(b.Fragment,null,b.createElement(aJ,{legendPayload:Oee(t)}),b.createElement(Nee,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),b.createElement(gJ,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),b.createElement(Iee,tc({},t,{id:n}))))}var xb=b.memo(zee,bw);xb.displayName="Line";var Bee=["domain","range"],qee=["domain","range"];function _N(e,t){if(e==null)return{};var r,n,i=Hee(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Hee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function kN(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function J4(e,t){if(e===t)return!0;var{domain:r,range:n}=e,i=_N(e,Bee),{domain:l,range:o}=t,c=_N(t,qee);return!kN(r,l)||!kN(n,o)?!1:bw(i,c)}var Fee=["dangerouslySetInnerHTML","ticks"],Kee=["id"];function wb(){return wb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wb.apply(null,arguments)}function jN(e,t){if(e==null)return{};var r,n,i=Vee(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Vee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Gee(e){var t=Pt(),r=b.useRef(null);return b.useLayoutEffect(()=>{r.current===null?t(AJ(e)):r.current!==e&&t(TJ({prev:r.current,next:e})),r.current=e},[e,t]),b.useLayoutEffect(()=>()=>{r.current&&(t(CJ(r.current)),r.current=null)},[t]),null}var Yee=e=>{var{xAxisId:t,className:r}=e,n=_e(LC),i=qr(),l="xAxis",o=_e(_=>fo(_,l,t,i)),c=_e(_=>KD(_,l,t,i)),d=_e(_=>sY(_,t)),h=_e(_=>fY(_,t)),m=_e(_=>dD(_,t));if(d==null||h==null||m==null)return null;var{dangerouslySetInnerHTML:p,ticks:v}=e,x=jN(e,Fee),{id:S}=m,k=jN(m,Kee);return b.createElement(Sw,wb({},x,k,{scale:o,x:h.x,y:h.y,width:d.width,height:d.height,className:Qe("recharts-".concat(l," ").concat(l),r),viewBox:n,ticks:c,axisType:l}))},Wee={allowDataOverflow:Ft.allowDataOverflow,allowDecimals:Ft.allowDecimals,allowDuplicatedCategory:Ft.allowDuplicatedCategory,angle:Ft.angle,axisLine:$a.axisLine,height:Ft.height,hide:!1,includeHidden:Ft.includeHidden,interval:Ft.interval,minTickGap:Ft.minTickGap,mirror:Ft.mirror,orientation:Ft.orientation,padding:Ft.padding,reversed:Ft.reversed,scale:Ft.scale,tick:Ft.tick,tickCount:Ft.tickCount,tickLine:$a.tickLine,tickSize:$a.tickSize,type:Ft.type,xAxisId:0},Xee=e=>{var t=mr(e,Wee);return b.createElement(b.Fragment,null,b.createElement(Gee,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),b.createElement(Yee,t))},Q4=b.memo(Xee,J4);Q4.displayName="XAxis";var Zee=["dangerouslySetInnerHTML","ticks"],Jee=["id"];function Sb(){return Sb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sb.apply(null,arguments)}function EN(e,t){if(e==null)return{};var r,n,i=Qee(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Qee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ete(e){var t=Pt(),r=b.useRef(null);return b.useLayoutEffect(()=>{r.current===null?t(PJ(e)):r.current!==e&&t(DJ({prev:r.current,next:e})),r.current=e},[e,t]),b.useLayoutEffect(()=>()=>{r.current&&(t(MJ(r.current)),r.current=null)},[t]),null}var tte=e=>{var{yAxisId:t,className:r,width:n,label:i}=e,l=b.useRef(null),o=b.useRef(null),c=_e(LC),d=qr(),h=Pt(),m="yAxis",p=_e(A=>fo(A,m,t,d)),v=_e(A=>gY(A,t)),x=_e(A=>mY(A,t)),S=_e(A=>KD(A,m,t,d)),k=_e(A=>fD(A,t));if(b.useLayoutEffect(()=>{if(!(n!=="auto"||!v||vw(i)||b.isValidElement(i)||k==null)){var A=l.current;if(A){var T=A.getCalculatedWidth();Math.round(v.width)!==Math.round(T)&&h(RJ({id:t,width:T}))}}},[S,v,h,i,t,n,k]),v==null||x==null||k==null)return null;var{dangerouslySetInnerHTML:_,ticks:j}=e,N=EN(e,Zee),{id:E}=k,P=EN(k,Jee);return b.createElement(Sw,Sb({},N,P,{ref:l,labelRef:o,scale:p,x:x.x,y:x.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:v.width,height:v.height,className:Qe("recharts-".concat(m," ").concat(m),r),viewBox:c,ticks:S,axisType:m}))},rte={allowDataOverflow:Kt.allowDataOverflow,allowDecimals:Kt.allowDecimals,allowDuplicatedCategory:Kt.allowDuplicatedCategory,angle:Kt.angle,axisLine:$a.axisLine,hide:!1,includeHidden:Kt.includeHidden,interval:Kt.interval,minTickGap:Kt.minTickGap,mirror:Kt.mirror,orientation:Kt.orientation,padding:Kt.padding,reversed:Kt.reversed,scale:Kt.scale,tick:Kt.tick,tickCount:Kt.tickCount,tickLine:$a.tickLine,tickSize:$a.tickSize,type:Kt.type,width:Kt.width,yAxisId:0},nte=e=>{var t=mr(e,rte);return b.createElement(b.Fragment,null,b.createElement(ete,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),b.createElement(tte,t))},e3=b.memo(nte,J4);e3.displayName="YAxis";var ate=(e,t)=>t,kw=Q([ate,ot,oD,Ut,o4,Za,TW,sr],LW),jw=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},t3=wn("mouseClick"),r3=hc();r3.startListening({actionCreator:t3,effect:(e,t)=>{var r=e.payload,n=kw(t.getState(),jw(r));n?.activeIndex!=null&&t.dispatch(NY({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var _b=wn("mouseMove"),n3=hc(),Sf=null;n3.startListening({actionCreator:_b,effect:(e,t)=>{var r=e.payload;Sf!==null&&cancelAnimationFrame(Sf);var n=jw(r);Sf=requestAnimationFrame(()=>{var i=t.getState(),l=sw(i,i.tooltip.settings.shared);if(l==="axis"){var o=kw(i,n);o?.activeIndex!=null?t.dispatch(e4({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(QD())}Sf=null})}});var ON={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},a3=Br({name:"rootProps",initialState:ON,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:ON.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),ite=a3.reducer,{updateOptions:ste}=a3.actions,i3=Br({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:vae}=i3.actions,lte=i3.reducer,s3=wn("keyDown"),l3=wn("focus"),Ew=hc();Ew.startListening({actionCreator:s3,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,l=e.payload;if(!(l!=="ArrowRight"&&l!=="ArrowLeft"&&l!=="Enter")){var o=lw(i,mo(r),_c(r),Nc(r)),c=o==null?-1:Number(o);if(!(!Number.isFinite(c)||c<0)){var d=Za(r);if(l==="Enter"){var h=Ah(r,"axis","hover",String(i.index));t.dispatch(mb({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:h}));return}var m=bY(r),p=m==="left-to-right"?1:-1,v=l==="ArrowRight"?1:-1,x=c+v*p;if(!(d==null||x>=d.length||x<0)){var S=Ah(r,"axis","hover",String(x));t.dispatch(mb({active:!0,activeIndex:x.toString(),activeDataKey:void 0,activeCoordinate:S}))}}}}}});Ew.startListening({actionCreator:l3,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var l="0",o=Ah(r,"axis","hover",String(l));t.dispatch(mb({activeDataKey:void 0,active:!0,activeIndex:l,activeCoordinate:o}))}}}});var vn=wn("externalEvent"),o3=hc(),Gv=new Map;o3.startListening({actionCreator:vn,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var i=n.type,l=Gv.get(i);l!==void 0&&cancelAnimationFrame(l);var o=requestAnimationFrame(()=>{try{var c=t.getState(),d={activeCoordinate:mW(c),activeDataKey:fW(c),activeIndex:Qu(c),activeLabel:d4(c),activeTooltipIndex:Qu(c),isTooltipActive:gW(c)};r(d,n)}finally{Gv.delete(i)}});Gv.set(i,o)}}});var ote=Q([ho],e=>e.tooltipItemPayloads),ute=Q([ote,Ec,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(c=>c.settings.dataKey===n);if(i!=null){var{positions:l}=i;if(l!=null){var o=t(l,r);return o}}}),u3=wn("touchMove"),c3=hc();c3.startListening({actionCreator:u3,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),i=sw(n,n.tooltip.settings.shared);if(i==="axis"){var l=kw(n,jw({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));l?.activeIndex!=null&&t.dispatch(e4({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(i==="item"){var o,c=r.touches[0];if(document.elementFromPoint==null)return;var d=document.elementFromPoint(c.clientX,c.clientY);if(!d||!d.getAttribute)return;var h=d.getAttribute(ZB),m=(o=d.getAttribute(JB))!==null&&o!==void 0?o:void 0,p=ute(t.getState(),h,m);t.dispatch(OY({activeDataKey:m,activeIndex:h,activeCoordinate:p}))}}}});var cte=aC({brush:bQ,cartesianAxis:$J,chartData:gX,errorBars:VJ,graphicalItems:hJ,layout:RB,legend:Vq,options:cX,polarAxis:LZ,polarOptions:lte,referenceElements:EQ,rootProps:ite,tooltip:AY,zIndex:ZW}),dte=function(t){return sB({reducer:cte,preloadedState:t,middleware:r=>{var n;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((n="es6")!==null&&n!==void 0?n:"")}).concat([r3.middleware,n3.middleware,Ew.middleware,o3.middleware,c3.middleware])},enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(bC({type:"raf"}))},devTools:pc.devToolsEnabled})};function fte(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=qr(),l=b.useRef(null);if(i)return r;l.current==null&&(l.current=dte(t));var o=rx;return b.createElement(gQ,{context:o,store:l.current},r)}function hte(e){var{layout:t,margin:r}=e,n=Pt(),i=qr();return b.useEffect(()=>{i||(n(PB(t)),n(CB(r)))},[n,i,t,r]),null}var mte=b.memo(hte,bw);function gte(e){var t=Pt();return b.useEffect(()=>{t(ste(e))},[t,e]),null}function NN(e){var{zIndex:t,isPanorama:r}=e,n=r?"recharts-zindex-panorama-":"recharts-zindex-",i=$4("".concat(n).concat(t)),l=Pt();return b.useLayoutEffect(()=>(l(WW({zIndex:t,elementId:i,isPanorama:r})),()=>{l(XW({zIndex:t,isPanorama:r}))}),[l,t,i,r]),b.createElement("g",{tabIndex:-1,id:i})}function AN(e){var{children:t,isPanorama:r}=e,n=_e(UW);if(!n||n.length===0)return t;var i=n.filter(o=>o<0),l=n.filter(o=>o>0);return b.createElement(b.Fragment,null,i.map(o=>b.createElement(NN,{key:o,zIndex:o,isPanorama:r})),t,l.map(o=>b.createElement(NN,{key:o,zIndex:o,isPanorama:r})))}var pte=["children"];function vte(e,t){if(e==null)return{};var r,n,i=yte(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function yte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function $h(){return $h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$h.apply(null,arguments)}var bte={width:"100%",height:"100%",display:"block"},xte=b.forwardRef((e,t)=>{var r=fx(),n=hx(),i=ZC();if(!ra(r)||!ra(n))return null;var{children:l,otherAttributes:o,title:c,desc:d}=e,h,m;return o!=null&&(typeof o.tabIndex=="number"?h=o.tabIndex:h=i?0:void 0,typeof o.role=="string"?m=o.role:m=i?"application":void 0),b.createElement(Vb,$h({},o,{title:c,desc:d,role:m,tabIndex:h,width:r,height:n,style:bte,ref:t}),l)}),wte=e=>{var{children:t}=e,r=_e(v0);if(!r)return null;var{width:n,height:i,y:l,x:o}=r;return b.createElement(Vb,{width:n,height:i,x:o,y:l},t)},TN=b.forwardRef((e,t)=>{var{children:r}=e,n=vte(e,pte),i=qr();return i?b.createElement(wte,null,b.createElement(AN,{isPanorama:!0},r)):b.createElement(xte,$h({ref:t},n),b.createElement(AN,{isPanorama:!1},r))});function Ste(){var e=Pt(),[t,r]=b.useState(null),n=_e(XB);return b.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),l=i.width/t.offsetWidth;Yt(l)&&l!==n&&e(MB(l))}},[t,e,n]),r}function CN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _te(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CN(Object(r),!0).forEach(function(n){kte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kte(e,t,r){return(t=jte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jte(e){var t=Ete(e,"string");return typeof t=="symbol"?t:t+""}function Ete(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ps(){return Ps=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ps.apply(null,arguments)}var Ote=()=>(kX(),null);function Lh(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Nte=b.forwardRef((e,t)=>{var r,n,i=b.useRef(null),[l,o]=b.useState({containerWidth:Lh((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:Lh((n=e.style)===null||n===void 0?void 0:n.height)}),c=b.useCallback((h,m)=>{o(p=>{var v=Math.round(h),x=Math.round(m);return p.containerWidth===v&&p.containerHeight===x?p:{containerWidth:v,containerHeight:x}})},[]),d=b.useCallback(h=>{if(typeof t=="function"&&t(h),h!=null&&typeof ResizeObserver<"u"){var{width:m,height:p}=h.getBoundingClientRect();c(m,p);var v=S=>{var{width:k,height:_}=S[0].contentRect;c(k,_)},x=new ResizeObserver(v);x.observe(h),i.current=x}},[t,c]);return b.useEffect(()=>()=>{var h=i.current;h?.disconnect()},[c]),b.createElement(b.Fragment,null,b.createElement(x0,{width:l.containerWidth,height:l.containerHeight}),b.createElement("div",Ps({ref:d},e)))}),Ate=b.forwardRef((e,t)=>{var{width:r,height:n}=e,[i,l]=b.useState({containerWidth:Lh(r),containerHeight:Lh(n)}),o=b.useCallback((d,h)=>{l(m=>{var p=Math.round(d),v=Math.round(h);return m.containerWidth===p&&m.containerHeight===v?m:{containerWidth:p,containerHeight:v}})},[]),c=b.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null){var{width:h,height:m}=d.getBoundingClientRect();o(h,m)}},[t,o]);return b.createElement(b.Fragment,null,b.createElement(x0,{width:i.containerWidth,height:i.containerHeight}),b.createElement("div",Ps({ref:c},e)))}),Tte=b.forwardRef((e,t)=>{var{width:r,height:n}=e;return b.createElement(b.Fragment,null,b.createElement(x0,{width:r,height:n}),b.createElement("div",Ps({ref:t},e)))}),Cte=b.forwardRef((e,t)=>{var{width:r,height:n}=e;return Ia(r)||Ia(n)?b.createElement(Ate,Ps({},e,{ref:t})):b.createElement(Tte,Ps({},e,{ref:t}))});function Pte(e){return e===!0?Nte:Cte}var Dte=b.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:l,onContextMenu:o,onDoubleClick:c,onMouseDown:d,onMouseEnter:h,onMouseLeave:m,onMouseMove:p,onMouseUp:v,onTouchEnd:x,onTouchMove:S,onTouchStart:k,style:_,width:j,responsive:N,dispatchTouchEvents:E=!0}=e,P=b.useRef(null),A=Pt(),[T,C]=b.useState(null),[M,$]=b.useState(null),R=Ste(),I=dx(),q=I?.width>0?I.width:j,ae=I?.height>0?I.height:i,te=b.useCallback(Z=>{R(Z),typeof t=="function"&&t(Z),C(Z),$(Z),Z!=null&&(P.current=Z)},[R,t,C,$]),ie=b.useCallback(Z=>{A(t3(Z)),A(vn({handler:l,reactEvent:Z}))},[A,l]),B=b.useCallback(Z=>{A(_b(Z)),A(vn({handler:h,reactEvent:Z}))},[A,h]),K=b.useCallback(Z=>{A(QD()),A(vn({handler:m,reactEvent:Z}))},[A,m]),le=b.useCallback(Z=>{A(_b(Z)),A(vn({handler:p,reactEvent:Z}))},[A,p]),W=b.useCallback(()=>{A(l3())},[A]),de=b.useCallback(Z=>{A(s3(Z.key))},[A]),L=b.useCallback(Z=>{A(vn({handler:o,reactEvent:Z}))},[A,o]),H=b.useCallback(Z=>{A(vn({handler:c,reactEvent:Z}))},[A,c]),X=b.useCallback(Z=>{A(vn({handler:d,reactEvent:Z}))},[A,d]),oe=b.useCallback(Z=>{A(vn({handler:v,reactEvent:Z}))},[A,v]),fe=b.useCallback(Z=>{A(vn({handler:k,reactEvent:Z}))},[A,k]),ce=b.useCallback(Z=>{E&&A(u3(Z)),A(vn({handler:S,reactEvent:Z}))},[A,E,S]),me=b.useCallback(Z=>{A(vn({handler:x,reactEvent:Z}))},[A,x]),Ee=Pte(N);return b.createElement(y4.Provider,{value:T},b.createElement(bT.Provider,{value:M},b.createElement(Ee,{width:q??_?.width,height:ae??_?.height,className:Qe("recharts-wrapper",n),style:_te({position:"relative",cursor:"default",width:q,height:ae},_),onClick:ie,onContextMenu:L,onDoubleClick:H,onFocus:W,onKeyDown:de,onMouseDown:X,onMouseEnter:B,onMouseLeave:K,onMouseMove:le,onMouseUp:oe,onTouchEnd:me,onTouchMove:ce,onTouchStart:fe,ref:te},b.createElement(Ote,null),r)))}),Mte=["width","height","responsive","children","className","style","compact","title","desc"];function Rte(e,t){if(e==null)return{};var r,n,i=$te(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function $te(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Lte=b.forwardRef((e,t)=>{var{width:r,height:n,responsive:i,children:l,className:o,style:c,compact:d,title:h,desc:m}=e,p=Rte(e,Mte),v=Qn(p);return d?b.createElement(b.Fragment,null,b.createElement(x0,{width:r,height:n}),b.createElement(TN,{otherAttributes:v,title:h,desc:m},l)):b.createElement(Dte,{className:o,style:c,width:r,height:n,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},b.createElement(TN,{otherAttributes:v,title:h,desc:m,ref:t},b.createElement(NQ,null,l)))});function kb(){return kb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kb.apply(null,arguments)}var Ite={top:5,right:5,bottom:5,left:5},Ute={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Ite,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},zte=b.forwardRef(function(t,r){var n,i=mr(t.categoricalChartProps,Ute),{chartName:l,defaultTooltipEventType:o,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,categoricalChartProps:h}=t,m={chartName:l,defaultTooltipEventType:o,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0};return b.createElement(fte,{preloadedState:{options:m},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:l},b.createElement(yQ,{chartData:h.data}),b.createElement(mte,{layout:i.layout,margin:i.margin}),b.createElement(gte,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),b.createElement(Lte,kb({},i,{ref:r})))}),Bte=["axis"],qte=b.forwardRef((e,t)=>b.createElement(zte,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Bte,tooltipPayloadSearcher:oX,categoricalChartProps:e,ref:t}));function Hte({currentInventoryBottles:e,weeklyDemandBottles:t,safetyStockBottles:r}){const{theme:n}=St(),i=n==="dark",l=b.useMemo(()=>{if(!e)return[];const m=t/7,p=m>0?m:0,v=[];let x=e;for(let S=0;S<=14;S++)v.push({day:`Day ${S}`,inventory:Math.max(0,Math.round(x)),safetyStock:r}),x-=p;return v},[e,t,r]);if(!l.length)return g.jsx("div",{className:"h-64 flex items-center justify-center text-gray-400",children:"No Data to Display"});const o=i?"#9CA3AF":"#6B7280",c=i?"#374151":"#E5E7EB",d=i?"#1F2937":"#FFFFFF",h=i?"#F3F4F6":"#111827";return g.jsxs("div",{className:"w-full h-80 bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-100 dark:border-gray-700 transition-colors flex flex-col",children:[g.jsx("h3",{className:"text-sm font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-4",children:"Inventory Burn Down (14 Days)"}),g.jsx("div",{className:"flex-1 w-full min-h-[200px] min-w-[300px]",children:g.jsx(Eq,{width:"100%",height:"100%",children:g.jsxs(qte,{data:l,margin:{top:5,right:30,left:20,bottom:5},children:[g.jsx(K4,{strokeDasharray:"3 3",vertical:!1,stroke:c}),g.jsx(Q4,{dataKey:"day",tick:{fontSize:12,fill:o},axisLine:!1,tickLine:!1,interval:2}),g.jsx(e3,{tick:{fontSize:12,fill:o},axisLine:!1,tickLine:!1,tickFormatter:m=>`${(m/1e3).toFixed(0)}k`}),g.jsx(PX,{contentStyle:{backgroundColor:d,borderRadius:"8px",border:i?"1px solid #374151":"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",color:h},itemStyle:{color:h},labelStyle:{color:o},formatter:m=>m.toLocaleString()}),g.jsx(XC,{wrapperStyle:{color:o}}),g.jsx(xb,{type:"monotone",dataKey:"inventory",name:"Projected Inventory",stroke:"#3B82F6",strokeWidth:3,dot:!1,activeDot:{r:6}}),g.jsx(xb,{type:"step",dataKey:"safetyStock",name:"Safety Stock",stroke:"#EF4444",strokeWidth:2,strokeDasharray:"5 5",dot:!1})]})})})]})}const Fte=ge.memo(Hte);function Kte(){return{solve:(t,r,n,i,l,o)=>{if(!t||!t.dailyResults||!i||!n[i])return console.warn("Solver: Missing Data",{currentResults:t,selectedSize:i}),null;const c=n[i],d={...o.monthlyInbound||{}},h=t.dailyResults,m=zr(),p=l?.leadTimeDays||2;In(m,p);let v=0,x=0;return h.forEach((S,k)=>{const _=S.dateStr,N=S.projectedEndInventory+v,E=In(m,l?.leadTimeDays||2);if(_<=E||o.monthlyProductionActuals&&o.monthlyProductionActuals[_])return;const P=S.safetyStockTarget||c.productionRate*24*(r||2);if(N<P){const A=P-N,T=Math.ceil(A/c.bottlesPerTruck);if(T>0){const C=d[_]||0,M=Number(C)+T;d[_]=M,v+=T*c.bottlesPerTruck,x++}}else if(N>P+c.bottlesPerTruck){let A=Number(d[_]||0);if(A>0){const T=N-P,C=Math.floor(T/c.bottlesPerTruck),M=Math.min(C,A);if(M>0){const $=A-M;d[_]=$,v-=M*c.bottlesPerTruck,x++}}}}),{newInbound:d,updatesCount:x}}}}function Vte({monthlyDemand:e,monthlyProductionActuals:t,monthlyInbound:r,updateDateDemand:n,updateDateActual:i,poManifest:l={},dailyLedger:o=[],specs:c,userProfile:d}){const{saveProcurementEntry:h,deleteProcurementEntry:m}=_n(),{bottleSizes:p}=St(),[v,x]=b.useState(()=>{const T=new Date;return T.setDate(T.getDate()-3),T}),[S,k]=b.useState(null),[_,j]=b.useState([]);b.useEffect(()=>{const T=[];for(let C=0;C<30;C++){const M=new Date(v);M.setDate(v.getDate()+C),T.push(M)}j(T)},[v]);const N=T=>{const C=new Date(v);C.setDate(C.getDate()+T),x(C)},E=T=>o.find(C=>C.dateStr===T)||{},P=T=>{const C=l[T],M=C?.items?.length>0,$=M?C.items.length:r[T]||0,R=C?.items?.map(I=>I.time).filter(Boolean).sort()||[];return g.jsx("div",{className:`relative h-full w-full flex flex-col justify-center px-1 cursor-pointer transition-colors ${$>0?"bg-blue-50 text-blue-900 dark:bg-blue-900/40 dark:text-blue-200 hover:bg-blue-100 dark:hover:bg-blue-800":"hover:bg-gray-50 dark:hover:bg-gray-800"}`,onClick:()=>k(T),children:$>0?g.jsxs("div",{className:"flex flex-wrap gap-0.5",children:[g.jsxs("span",{className:`text-[10px] font-bold px-1 rounded-sm shadow-sm ${M?"bg-blue-600 text-white":"bg-blue-100 text-blue-800 border border-blue-200"}`,children:[$," ",M?"":""]}),M&&R.slice(0,2).map((I,q)=>g.jsx("span",{className:"text-[9px] bg-blue-100 text-blue-800 px-0.5 border border-blue-200 rounded-sm dark:bg-blue-950 dark:text-blue-300 dark:border-blue-800",children:I},q)),R.length>2&&g.jsx("span",{className:"text-[8px] text-blue-400",children:"..."})]}):g.jsx("span",{className:"text-gray-200 text-xs text-center",children:"-"})})},A=T=>{const C=Math.round(T.projectedPallets||0),M=T.daysOfSupply||0;T.safetyStockTarget;let $="bg-emerald-50 text-emerald-900 dark:bg-emerald-900/40 dark:text-emerald-300";return M<2?$="bg-red-50 text-red-900 font-bold dark:bg-red-900/40 dark:text-red-300":M<4&&($="bg-amber-50 text-amber-900 dark:bg-amber-900/40 dark:text-amber-300"),g.jsxs("div",{className:`h-full w-full flex flex-col justify-center px-1 text-right text-xs ${$}`,children:[g.jsxs("div",{children:[C," ",g.jsx("span",{className:"text-[9px] opacity-60",children:"plts"})]}),g.jsxs("div",{className:"text-[9px] opacity-75",children:[M.toFixed(1)," Days"]})]})};return g.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-gray-800 shadow-sm border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden font-sans",children:[g.jsxs("div",{className:"flex justify-between items-center p-2 border-b bg-gray-50 dark:bg-gray-900",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(GN,{className:"w-4 h-4 text-gray-500"}),g.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-gray-600",children:"Workbench View"})]}),g.jsxs("div",{className:"flex gap-1",children:[g.jsx("button",{onClick:()=>N(-7),className:"p-1 hover:bg-gray-200 rounded",children:g.jsx(BN,{className:"w-4 h-4"})}),g.jsx("button",{onClick:()=>x(new Date),className:"px-2 text-xs font-medium hover:bg-gray-200 rounded",children:"Today"}),g.jsx("button",{onClick:()=>N(7),className:"p-1 hover:bg-gray-200 rounded",children:g.jsx(qN,{className:"w-4 h-4"})})]})]}),g.jsx("div",{className:"flex-1 overflow-auto relative custom-scrollbar",children:g.jsxs("table",{className:"w-full border-collapse text-xs",children:[g.jsx("thead",{className:"sticky top-0 z-20 shadow-sm",children:g.jsxs("tr",{children:[g.jsx("th",{className:"sticky left-0 z-30 bg-slate-50 dark:bg-gray-800 w-32 border-b border-r border-slate-300 dark:border-gray-700 p-2 text-left font-bold text-slate-700 dark:text-gray-400 shadow-[4px_0_10px_-4px_rgba(0,0,0,0.1)]",children:"Metric"}),_.map(T=>{const C=st(T),M=st(new Date),$=C===M,R=T<new Date(new Date().setHours(0,0,0,0)),I=T.getDay()===0||T.getDay()===6;let q="min-w-[80px] p-1 border-b border-r border-slate-200 dark:border-gray-700 text-center font-medium transition-colors ";return $?q+="bg-blue-600 text-white border-blue-600 ring-2 ring-blue-600 ring-inset ring-offset-0 z-20 shadow-md":R?q+="bg-slate-100 dark:bg-gray-900/50 text-slate-400 dark:text-gray-500":I?q+="bg-slate-50 dark:bg-gray-800/50 text-slate-500 dark:text-gray-500":q+="bg-white dark:bg-gray-800 text-slate-800 dark:text-gray-200",g.jsxs("th",{className:q,children:[g.jsx("div",{className:`text-[10px] uppercase ${$?"text-blue-100":"opacity-60"}`,children:$?"TODAY":T.toLocaleDateString("en-US",{weekday:"short"})}),g.jsx("div",{className:$?"font-bold":"",children:T.toLocaleDateString("en-US",{day:"numeric",month:"numeric"})})]},C)})]})}),g.jsxs("tbody",{children:[g.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-gray-800 group",children:[g.jsxs("td",{className:"sticky left-0 z-10 bg-slate-50 dark:bg-gray-800 border-r border-b border-slate-300 dark:border-gray-700 p-2 font-bold text-slate-700 dark:text-gray-300 group-hover:bg-slate-100 dark:group-hover:bg-gray-800 shadow-[4px_0_10px_-4px_rgba(0,0,0,0.1)]",children:["Production Plan",g.jsx("span",{className:"block text-[9px] font-normal text-slate-400 dark:text-gray-500",children:"Cases"})]}),_.map(T=>{const C=st(T),M=st(new Date),$=C===M,R=T<new Date(new Date().setHours(0,0,0,0)),I=e[C]||"",q=t[C],ae=q!=null;let te="border-r border-b border-slate-200 dark:border-gray-700 p-0 h-10 relative ";return $?te+="bg-blue-50/80 dark:bg-blue-900/20 ring-2 ring-inset ring-blue-500 z-10 ":R?te+="bg-slate-100 dark:bg-gray-900/40 ":te+="bg-white dark:bg-gray-800 ",g.jsxs("td",{className:te,children:[g.jsx("input",{type:"number",className:`w-full h-full text-center border-none focus:ring-0 bg-transparent p-0 text-gray-900 dark:text-gray-100 ${q?"font-bold":""} ${$?"font-bold":""}`,value:I,onChange:ie=>n(C,ie.target.value),placeholder:"-"}),ae&&g.jsxs("div",{className:"absolute bottom-0 right-0 text-[8px] bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400 px-1 pointer-events-none",title:`Actual: ${q}`,children:["Act: ",q]})]},C)})]}),g.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-gray-800 group",children:[g.jsxs("td",{className:"sticky left-0 z-10 bg-slate-50 dark:bg-gray-800 border-r border-b border-slate-300 dark:border-gray-700 p-2 font-bold text-blue-700 dark:text-blue-400 group-hover:bg-slate-100 dark:group-hover:bg-gray-800 shadow-[4px_0_10px_-4px_rgba(0,0,0,0.1)]",children:["Actual Reconciliation",g.jsx("span",{className:"block text-[9px] font-normal text-slate-400 dark:text-gray-500",children:"Past Dates Only"})]}),_.map(T=>{const C=st(T),M=st(new Date),$=C===M,R=T<new Date(new Date().setHours(0,0,0,0)),I=t[C]||"";let q="border-r border-b border-slate-200 dark:border-gray-700 p-0 h-10 relative ";$?q+="bg-blue-50/80 dark:bg-blue-900/20 ring-2 ring-inset ring-blue-500 z-10 ":R?q+="bg-white dark:bg-gray-800 ":q+="bg-slate-50/50 dark:bg-gray-800/50 ";const ae=!R;return g.jsx("td",{className:q,children:ae?g.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-300 dark:text-gray-600 text-[10px] select-none cursor-not-allowed italic",children:"Locked"}):g.jsx("input",{type:"number",className:"w-full h-full text-center border-none focus:ring-0 bg-transparent p-0 font-bold text-blue-700 dark:text-blue-300",value:I,onChange:te=>i(C,te.target.value),placeholder:"-"})},C)})]}),g.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-gray-800 group",children:[g.jsxs("td",{className:"sticky left-0 z-10 bg-slate-50 dark:bg-gray-800 border-r border-b border-slate-300 dark:border-gray-700 p-2 font-bold text-slate-600 dark:text-gray-400 group-hover:bg-slate-100 dark:group-hover:bg-gray-800 shadow-[4px_0_10px_-4px_rgba(0,0,0,0.1)]",children:["Inbound Trucks",g.jsx("span",{className:"block text-[9px] font-normal text-slate-400 dark:text-gray-500",children:"Click to Manage"})]}),_.map(T=>{const C=st(T),M=st(new Date),$=C===M,R=T<new Date(new Date().setHours(0,0,0,0));let I="border-r border-b border-slate-200 dark:border-gray-700 p-0 h-12 align-middle ";return $?I+="bg-blue-50/80 dark:bg-blue-900/20 ring-2 ring-inset ring-blue-500 z-10 ":R?I+="bg-slate-100 dark:bg-gray-900/40 ":I+="bg-white dark:bg-gray-800 ",g.jsx("td",{className:I,children:P(C)},C)})]}),g.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-gray-800 group",children:[g.jsxs("td",{className:"sticky left-0 z-10 bg-slate-50 dark:bg-gray-800 border-r border-b border-slate-300 dark:border-gray-700 p-2 font-bold text-slate-600 dark:text-gray-400 group-hover:bg-slate-100 dark:group-hover:bg-gray-800 shadow-[4px_0_10px_-4px_rgba(0,0,0,0.1)]",children:["Projected End",g.jsx("span",{className:"block text-[9px] font-normal text-slate-400 dark:text-gray-500",children:"Pallets & DOS"})]}),_.map(T=>{const C=st(T),M=st(new Date),$=C===M,R=T<new Date(new Date().setHours(0,0,0,0)),I=E(C);let q="border-r border-b border-slate-200 dark:border-gray-700 p-0 h-12 align-middle ";return $?q+="bg-blue-50/80 dark:bg-blue-900/20 ring-2 ring-inset ring-blue-500 z-10 ":R?q+="bg-slate-100 dark:bg-gray-900/40 ":q+="bg-white dark:bg-gray-800 ",g.jsx("td",{className:q,children:A(I)},C)})]})]})]})}),S&&g.jsx(gT,{isOpen:!!S,onClose:()=>k(null),date:S,monthlyInbound:r,specs:c,orders:l[S]?.items||[],onSave:h,onDelete:m})]})}function Gte({state:e,setters:t,results:r,readOnly:n=!1}){const{bottleSizes:i,leadTimeDays:l,schedulerSettings:o}=St(),{productMap:c}=sc(),{user:d}=_r(),{solve:h}=Kte(),{poManifest:m}=_n(),[p,v]=b.useState(()=>{const Ee=new Date;return Ee.setDate(Ee.getDate()-3),Ee}),x=Ee=>{v(Z=>{const we=new Date(Z);return we.setDate(we.getDate()+Ee),we})},S=()=>{const Ee=new Date;Ee.setDate(Ee.getDate()-3),v(Ee)},[k,_]=b.useState(!1),j=()=>{const Ee=st(new Date);let Z=`Monthly Replenishment Plan - Generated ${new Date().toLocaleDateString()}
`;Z+=`--------------------------------------------------

`;const we=r.specs?.productionRate||0,he=r.specs?.casesPerTruck||(r.specs?.bottlesPerTruck||2e4)/(r.specs?.bottlesPerCase||1),[ee,Ae]=(o?.shiftStartTime||"00:00").split(":").map(Number),Te=ee+Ae/60;for(let ue=0;ue<30;ue++){const pe=In(Ee,ue),Oe=Math.round(Number(e.monthlyInbound[pe]||0));if(Oe>0){const[Be,gr,_t]=pe.split("-").map(Number),Xt=new Date(Be,gr-1,_t);if(Z+=`DATE: ${Xt.toLocaleDateString(void 0,{weekday:"short",month:"numeric",day:"numeric",year:"numeric"})}
`,Z+=`TRUCKS: ${Oe}
`,we>0){const ia=he/we;for(let lr=0;lr<Oe;lr++){const ht=Te+lr*ia,Us=Math.round(ht%24)%24,En=Math.round(ht%1*60),Bi=`${Us}:${En.toString().padStart(2,"0")}`;Z+=`  - Truck ${lr+1}: Arrive approx ${Bi}
`}}Z+=`
`}}navigator.clipboard.writeText(Z).then(()=>{_(!0),setTimeout(()=>_(!1),2e3),alert("Copied 30-Day Plan to Clipboard!")})},N=()=>{if(!confirm("Auto-Balance will populate Planned Loads to ensure safety stock is met. Proceed?"))return;const{newInbound:Ee,updatesCount:Z}=h(r,6,c,e.selectedSize,o,e)||{};Z>0?t.setMonthlyInbound(Ee):alert("Schedule is already balanced! No changes needed.")},[E,P]=b.useState(!1),[A,T]=b.useState(!1),[C,M]=b.useState(!1),[$,R]=b.useState(!1),[I,q]=b.useState(!1),[ae,te]=b.useState(!1),[ie,B]=b.useState("grid"),[K,le]=b.useState(!1);if(!r)return g.jsx("div",{children:"Loading..."});const{netInventory:W,safetyTarget:de,trucksToOrder:L,trucksToCancel:H,specs:X,yardInventory:oe}=r,fe=e.totalScheduledCases*X.bottlesPerCase,ce=Ee=>Ee?Ee.toLocaleString():"0",me=()=>{const Ee=X.bottlesPerTruck/X.bottlesPerCase/(X.casesPerPallet||1),Z=Math.round(r.calculatedPallets+r.yardInventory.effectiveCount*Ee),we=r.daysOfSupply!==void 0?r.daysOfSupply:0,he=l||2,ee=he+2;let Ae="Healthy",Te="bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 shadow-sm border-l-4 border-l-emerald-500",ue="text-emerald-600 dark:text-emerald-400";we<=he?(Ae="CRITICAL",Te="bg-red-50 border-red-200 border-l-4 border-l-red-500 animate-pulse",ue="text-red-700"):we<=ee&&(Ae="Warning",Te="bg-amber-50 border-amber-200 border-l-4 border-l-amber-500",ue="text-amber-700");const pe=r.firstStockoutDate?new Date(r.firstStockoutDate):null,Oe=pe?`${pe.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}`:"Stable",Be=new Date().setHours(0,0,0,0),gr=Object.entries(r.plannedOrders||{}).filter(([Xt])=>new Date(Xt).setHours(0,0,0,0)<=Be).reduce((Xt,[ia,lr])=>Xt+lr.count,0),_t=e.isAutoReplenish?gr:r.trucksToOrder;return g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[g.jsxs("div",{className:`p-5 rounded-xl border ${Te} flex flex-col justify-between`,children:[g.jsxs("div",{className:"flex justify-between items-center mb-2",children:[g.jsx("h3",{className:"text-xs font-bold uppercase tracking-wider opacity-60 text-gray-500 dark:text-gray-400",children:"Coverage Health"}),Ae==="CRITICAL"&&g.jsx("span",{className:"text-xl",children:""}),Ae==="Healthy"&&g.jsx(ql,{className:"w-6 h-6 text-emerald-500"})]}),g.jsxs("div",{children:[g.jsx("div",{className:`text-3xl font-black tracking-tight ${ue}`,children:Ae}),g.jsx("div",{className:"text-sm font-medium opacity-80 mt-1 dark:text-gray-300",children:Ae==="CRITICAL"?`Empty by ${Oe}`:Ae==="Warning"?"Approaching Safety Stock Limit":"Inventory Levels Optimal"})]})]}),g.jsxs("div",{className:"bg-white dark:bg-gray-800 p-5 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm flex flex-col justify-between",children:[g.jsxs("div",{className:"flex justify-between items-center mb-2",children:[g.jsx("h3",{className:"text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Runway"}),g.jsxs("div",{className:"text-xs font-bold text-gray-500 bg-gray-100 dark:bg-gray-700 px-2 py-0.5 rounded",children:["Target: ",de?Math.round(de/(X.bottlesPerCase*(X.casesPerPallet||1))):"-"," plts"]})]}),g.jsxs("div",{className:"flex items-end space-x-3",children:[g.jsx("div",{className:"text-4xl font-mono font-bold text-gray-800 dark:text-white leading-none",children:we>=30?"30+":we.toFixed(1)}),g.jsx("div",{className:"text-sm font-medium text-gray-400 mb-1",children:"Days"})]}),g.jsxs("div",{className:"mt-3 text-xs font-medium text-gray-500 flex justify-between items-center border-t pt-2 dark:border-gray-700",children:[g.jsx("span",{children:"Current On-Hand"}),g.jsxs("span",{className:"font-bold text-gray-700 dark:text-gray-300",children:[ce(Z)," Pallets"]})]})]}),g.jsxs("div",{className:`p-5 rounded-xl border flex flex-col justify-between shadow-sm transition-all ${_t>0?"bg-blue-600 border-blue-700 text-white":r.trucksToCancel>0?"bg-orange-100 border-orange-200 text-orange-900 dark:bg-orange-900/40 dark:border-orange-800 dark:text-orange-200":Ae==="CRITICAL"?"bg-red-50 border-red-200":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700"}`,children:[g.jsxs("div",{className:"flex justify-between items-center mb-2",children:[g.jsx("h3",{className:`text-xs font-bold uppercase tracking-wider ${_t>0?"text-blue-100":"text-gray-500 dark:text-gray-400"}`,children:"Replenishment"}),_t>0&&g.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-ping"}),r.trucksToCancel>0&&!_t&&g.jsx("span",{className:"text-xl",children:""})]}),_t>0?g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-baseline space-x-2",children:[g.jsx("span",{className:"text-4xl font-black leading-none",children:_t}),g.jsx("span",{className:"text-sm font-bold opacity-90",children:"Trucks Needed"})]}),g.jsx("p",{className:"text-xs opacity-80 mt-2 font-medium",children:e.isAutoReplenish?"Planned orders due today.":"Deficit based on target."})]}):r.trucksToCancel>0?g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-baseline space-x-2",children:[g.jsx("span",{className:"text-4xl font-black leading-none",children:r.trucksToCancel}),g.jsx("span",{className:"text-sm font-bold opacity-90",children:"Cancel Trucks"})]}),g.jsx("p",{className:"text-xs opacity-80 mt-2 font-medium",children:"Excess inventory confirmed."})]}):g.jsxs("div",{children:[g.jsx("div",{className:"flex items-baseline space-x-2",children:Ae==="CRITICAL"?g.jsx("span",{className:"text-2xl font-bold leading-none text-red-600",children:"Expedite!"}):g.jsx("span",{className:"text-3xl font-bold leading-none text-gray-800 dark:text-white",children:"Standby"})}),g.jsx("p",{className:"text-xs text-gray-500 mt-2",children:Ae==="CRITICAL"?"Stockout imminent. Review schedule.":"No immediate orders due."})]})]})]})};return g.jsxs("div",{className:"max-w-full mx-auto pb-12",children:[g.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center bg-white dark:bg-gray-800 p-5 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 mb-6 sticky top-0 z-20 backdrop-filter backdrop-blur-lg bg-opacity-90 dark:bg-opacity-90",children:[g.jsxs("div",{children:[g.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[g.jsx("span",{children:""})," Materials Planner"]}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Command Center"})]}),g.jsxs("div",{className:"flex flex-wrap items-center mt-4 md:mt-0 gap-3",children:[!n&&g.jsxs("button",{onClick:()=>le(!0),className:"flex items-center gap-2 px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-700 transition-all shadow-sm",title:"Morning Inventory Check",children:[g.jsx(VN,{className:"w-4 h-4 text-orange-500"}),"Morning True-Up"]}),!n&&g.jsxs("button",{onClick:()=>M(!0),className:"flex items-center gap-2 px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-700 transition-all shadow-sm",children:[g.jsx(jb,{className:"w-4 h-4 text-emerald-500"}),"Import"]}),!n&&g.jsxs("button",{onClick:()=>te(!0),className:"flex items-center gap-2 px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-700 transition-all shadow-sm",children:[g.jsx(D_,{className:"w-4 h-4 text-purple-500"}),"POs"]}),g.jsxs("button",{onClick:()=>R(!0),className:"flex items-center gap-2 px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-700 transition-all shadow-sm",children:[g.jsx(HN,{className:"w-4 h-4 text-gray-500"}),"Email"]}),g.jsx("div",{className:"w-px h-8 bg-gray-200 dark:bg-gray-700 mx-1 hidden md:block"}),!n&&g.jsxs("button",{onClick:N,className:"flex items-center gap-2 px-4 py-2 text-sm font-bold text-white bg-indigo-600 border border-transparent rounded-lg hover:bg-indigo-700 focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 shadow-md transition-all",children:[g.jsx(UN,{className:"w-4 h-4"}),"Auto-Balance"]})]})]}),me(),g.jsxs("div",{className:"flex flex-col space-y-6",children:[g.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 flex flex-col overflow-hidden min-h-[600px]",children:[g.jsxs("div",{className:"px-5 py-3 border-b border-gray-200 dark:border-gray-700 flex flex-col lg:flex-row justify-between items-center bg-gray-50 dark:bg-gray-900/50 gap-4",children:[g.jsxs("div",{className:"flex items-center gap-4 w-full lg:w-auto",children:[g.jsxs("div",{className:"flex bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-0.5",children:[g.jsx("button",{onClick:()=>x(-7),className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md text-gray-500 transition-colors",title:"Previous Week",children:g.jsx(BN,{className:"w-4 h-4"})}),g.jsx("button",{onClick:S,className:"px-3 py-1 text-xs font-bold text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 border-x border-gray-100 dark:border-gray-700 mx-0.5 transition-colors",children:"Today"}),g.jsx("button",{onClick:()=>x(7),className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md text-gray-500 transition-colors",title:"Next Week",children:g.jsx(qN,{className:"w-4 h-4"})})]}),g.jsxs("span",{className:"text-xs font-medium text-gray-400 hidden sm:block",children:[p.toLocaleDateString("en-US",{month:"short",day:"numeric"})," - ",In(st(p),6).split("-").slice(1).join("/")]})]}),g.jsxs("div",{className:"flex items-center gap-6 w-full lg:w-auto justify-end",children:[!n&&g.jsxs("label",{className:"flex items-center cursor-pointer group",title:"Auto-Pilot",children:[g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"checkbox",className:"sr-only",checked:e.isAutoReplenish||!1,onChange:Ee=>t.setIsAutoReplenish(Ee.target.checked)}),g.jsx("div",{className:`block w-9 h-5 rounded-full transition-colors ${e.isAutoReplenish?"bg-purple-600":"bg-gray-300 dark:bg-gray-600"}`}),g.jsx("div",{className:`dot absolute left-1 top-1 bg-white w-3 h-3 rounded-full transition-transform ${e.isAutoReplenish?"transform translate-x-4":""}`})]}),g.jsx("span",{className:`ml-2 text-xs font-bold uppercase tracking-wide ${e.isAutoReplenish?"text-purple-600 dark:text-purple-400":"text-gray-500"}`,children:e.isAutoReplenish?"Auto-Pilot":"Manual"})]}),!n&&g.jsx("div",{className:"h-5 w-px bg-gray-300 dark:bg-gray-600 hidden md:block"}),g.jsxs("div",{className:"flex bg-white dark:bg-gray-700 p-1 rounded-md shadow-sm border border-gray-200 dark:border-gray-600",children:[g.jsx("button",{onClick:()=>B("grid"),className:`px-2.5 py-1 rounded text-xs font-bold transition-all ${ie==="grid"?"bg-blue-50 text-blue-700 dark:bg-slate-600 dark:text-blue-300":"text-gray-500 hover:bg-gray-100"}`,children:"Standard"}),g.jsx("button",{onClick:()=>B("workbench"),className:`px-2.5 py-1 rounded text-xs font-bold transition-all ${ie==="workbench"?"bg-blue-50 text-blue-700 dark:bg-slate-600 dark:text-blue-300":"text-gray-500 hover:bg-gray-100"}`,children:"Workbench"}),g.jsx("button",{onClick:()=>B("calendar"),className:`px-2.5 py-1 rounded text-xs font-bold transition-all ${ie==="calendar"?"bg-blue-50 text-blue-700 dark:bg-slate-600 dark:text-blue-300":"text-gray-500 hover:bg-gray-100"}`,children:"Calendar"})]}),g.jsx("button",{onClick:j,className:`ml-2 p-1.5 rounded-md border transition-all ${k?"bg-green-50 border-green-200 text-green-600":"bg-white dark:bg-gray-700 border-gray-200 dark:border-gray-600 text-gray-500 hover:text-gray-700"}`,title:"Export 30-Day Plan",children:k?g.jsx(ql,{className:"w-5 h-5"}):g.jsx(D_,{className:"w-5 h-5"})})]})]}),g.jsx("div",{className:"flex-1 overflow-hidden relative bg-white dark:bg-gray-800",children:ie==="calendar"?g.jsx("div",{className:"h-full p-4 overflow-auto",children:g.jsx(ZL,{monthlyDemand:e.monthlyDemand||{},updateDateDemand:t.updateDateDemand,monthlyInbound:e.monthlyInbound||{},updateDateInbound:t.updateDateInbound,monthlyProductionActuals:e.monthlyProductionActuals||{},updateDateActual:t.updateDateActual,specs:r?.specs,trucksToCancel:r?.trucksToCancel,dailyLedger:r?.dailyLedger,safetyTarget:r?.safetyTarget,poManifest:m,readOnly:n})}):ie==="workbench"?g.jsx(Vte,{monthlyDemand:e.monthlyDemand||{},updateDateDemand:t.updateDateDemand,monthlyInbound:e.monthlyInbound||{},monthlyProductionActuals:e.monthlyProductionActuals||{},updateDateActual:t.updateDateActual,specs:r?.specs,dailyLedger:r?.dailyLedger,userProfile:d,startDate:p,readOnly:n}):g.jsx(gU,{monthlyDemand:e.monthlyDemand||{},updateDateDemand:t.updateDateDemand,updateDateDemandBulk:t.updateDateDemandBulk,monthlyInbound:e.monthlyInbound||{},updateDateInbound:t.updateDateInbound,monthlyProductionActuals:e.monthlyProductionActuals||{},updateDateActual:t.updateDateActual,specs:r?.specs,safetyTarget:r?.safetyTarget,dailyLedger:r?.dailyLedger,userProfile:d,startDate:p,readOnly:n})})]}),g.jsx("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:g.jsx(Fte,{currentInventoryBottles:r.netInventory+fe,weeklyDemandBottles:fe,safetyStockBottles:de})})]}),g.jsx(pT,{isOpen:K,onClose:()=>le(!1),state:e,setters:t}),g.jsx(vU,{isOpen:C,onClose:()=>M(!1)}),g.jsx(yU,{isOpen:$,onClose:()=>R(!1),mrpResults:r}),g.jsx(bU,{isOpen:I,onClose:()=>q(!1)}),g.jsx(wU,{isOpen:ae,onClose:()=>te(!1)})]})}var Pf={exports:{}},Yte=Pf.exports,PN;function Wte(){return PN||(PN=1,(function(e,t){(function(r,n){n()})(Yte,function(){function r(h,m){return typeof m>"u"?m={autoBom:!1}:typeof m!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),m={autoBom:!m}),m.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(h.type)?new Blob(["\uFEFF",h],{type:h.type}):h}function n(h,m,p){var v=new XMLHttpRequest;v.open("GET",h),v.responseType="blob",v.onload=function(){d(v.response,m,p)},v.onerror=function(){console.error("could not download file")},v.send()}function i(h){var m=new XMLHttpRequest;m.open("HEAD",h,!1);try{m.send()}catch{}return 200<=m.status&&299>=m.status}function l(h){try{h.dispatchEvent(new MouseEvent("click"))}catch{var m=document.createEvent("MouseEvents");m.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),h.dispatchEvent(m)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Gd=="object"&&Gd.global===Gd?Gd:void 0,c=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),d=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!c?function(h,m,p){var v=o.URL||o.webkitURL,x=document.createElement("a");m=m||h.name||"download",x.download=m,x.rel="noopener",typeof h=="string"?(x.href=h,x.origin===location.origin?l(x):i(x.href)?n(h,m,p):l(x,x.target="_blank")):(x.href=v.createObjectURL(h),setTimeout(function(){v.revokeObjectURL(x.href)},4e4),setTimeout(function(){l(x)},0))}:"msSaveOrOpenBlob"in navigator?function(h,m,p){if(m=m||h.name||"download",typeof h!="string")navigator.msSaveOrOpenBlob(r(h,p),m);else if(i(h))n(h,m,p);else{var v=document.createElement("a");v.href=h,v.target="_blank",setTimeout(function(){l(v)})}}:function(h,m,p,v){if(v=v||open("","_blank"),v&&(v.document.title=v.document.body.innerText="downloading..."),typeof h=="string")return n(h,m,p);var x=h.type==="application/octet-stream",S=/constructor/i.test(o.HTMLElement)||o.safari,k=/CriOS\/[\d]+/.test(navigator.userAgent);if((k||x&&S||c)&&typeof FileReader<"u"){var _=new FileReader;_.onloadend=function(){var E=_.result;E=k?E:E.replace(/^data:[^;]*;/,"data:attachment/file;"),v?v.location.href=E:location=E,v=null},_.readAsDataURL(h)}else{var j=o.URL||o.webkitURL,N=j.createObjectURL(h);v?v.location=N:location.href=N,v=null,setTimeout(function(){j.revokeObjectURL(N)},4e4)}});o.saveAs=d.saveAs=d,e.exports=d})})(Pf)),Pf.exports}var Xte=Wte();function Zte({schedule:e,truckSchedule:t,onUpdatePO:r,onDelete:n,specs:i,readOnly:l=!1}){const o=(h,m)=>{if(!m||m===0)return[];let p=0;h.includes("08:00-16:00")?p=8:h.includes("16:00-00:00")?p=16:p=0;const x=8/m,S=[];for(let k=0;k<m;k++){const j=(p+x*k)%24,N=Math.round(j),P=(N===24?0:N).toString().padStart(2,"0");S.push(`${P}:00`)}return S},c=()=>!t||t.length===0?[]:t.map(h=>{const m=i?i.name:"Unknown",p=i?i.palletsPerTruck:0,[v]=h.time.split(":").map(Number);let x="Unknown";return v>=0&&v<8?x="Shift 1":v>=8&&v<16?x="Shift 2":x="Shift 3",{LoadID:h.id,Time:h.time,Shift:x,PO:h.po||"",BottleSize:m,Pallets:p}}),d=()=>{try{const h=c();if(!h||h.length===0){alert("No schedule to export.");return}let p="\uFEFF"+["Load ID","Delivery Time","Shift","PO Number","Bottle Size","Pallets"].join(",")+`
`;h.forEach(k=>{const _=String(k.PO||"").replace(/"/g,'""');p+=[k.LoadID,k.Time,k.Shift,`"${_}"`,k.BottleSize,k.Pallets].join(",")+`
`});const x=new Date().toISOString().slice(0,10),S=new Blob([p],{type:"text/csv;charset=utf-8"});Xte.saveAs(S,`Schedule_${x}.csv`)}catch(h){console.error(h),alert("Export failed")}};return g.jsxs("div",{className:"space-y-8",children:[g.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[g.jsxs("div",{children:[g.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[g.jsx(Zn,{className:"w-6 h-6 text-indigo-500"}),"Live Dock Schedule"]}),g.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[t.length," Loads Scheduled  Auto-optimized intervals"]})]}),g.jsxs("button",{onClick:d,className:"flex items-center space-x-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 px-4 py-2 rounded-lg font-bold hover:bg-indigo-100 transition-colors",children:[g.jsx(jb,{className:"w-5 h-5"}),g.jsx("span",{children:"Export CSV"})]})]}),t&&t.length>0?g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map((h,m)=>{const p=h.po&&h.po.length>0;return g.jsxs("div",{className:`
                                    relative flex flex-col justify-between
                                    bg-white dark:bg-slate-800 
                                    rounded-2xl shadow-sm hover:shadow-md transition-shadow 
                                    border border-slate-200 dark:border-slate-700
                                    overflow-hidden group
                                `,children:[g.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1.5 ${p?"bg-emerald-500":"bg-amber-400"}`}),g.jsxs("div",{className:"p-5 pl-7",children:[" ",g.jsxs("div",{className:"flex justify-between items-start mb-4",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:`p-2 rounded-lg ${p?"bg-emerald-50 text-emerald-600 dark:bg-emerald-900/20":"bg-slate-100 text-slate-500 dark:bg-slate-700"}`,children:g.jsx(nc,{className:"w-6 h-6"})}),g.jsxs("div",{children:[g.jsx("div",{className:"text-xs font-bold uppercase text-slate-400",children:"Arrival"}),g.jsx("div",{className:"text-2xl font-black text-slate-800 dark:text-white leading-none",children:h.time})]})]}),g.jsxs("span",{className:"text-xs font-bold text-slate-300",children:["#",m+1]})]}),g.jsxs("div",{className:"mt-2",children:[g.jsxs("label",{className:"flex items-center gap-1 text-[10px] font-bold uppercase text-slate-500 mb-1",children:[g.jsx(l6,{className:"w-3 h-3"}),"Purchase Order"]}),g.jsx("input",{type:"text",placeholder:l?"Registered Only":"Enter PO...",value:h.po||"",disabled:l,onChange:v=>r(h.id,v.target.value),className:`
                                                w-full p-2 rounded-lg text-sm font-bold border transition-colors
                                                focus:ring-2 focus:ring-offset-0 outline-none
                                                ${l?"opacity-60 cursor-not-allowed bg-gray-100":""}
                                                ${p?"bg-emerald-50 border-emerald-200 text-emerald-700 focus:ring-emerald-500 dark:bg-emerald-900/10 dark:border-emerald-800 dark:text-emerald-400":"bg-slate-50 border-slate-200 text-slate-800 focus:ring-indigo-500 dark:bg-slate-900/50 dark:border-slate-600 dark:text-white"}
                                            `})]})]}),g.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 p-3 pl-7 border-t border-slate-100 dark:border-slate-700 flex justify-between items-center",children:[g.jsx("div",{className:"text-xs font-medium text-slate-400",children:p?"Confirmed":"Awaiting PO"}),!l&&g.jsx("button",{onClick:()=>n(h.id),className:"text-slate-400 hover:text-rose-500 transition-colors p-1",title:"Delete Load",children:g.jsx(Es,{className:"w-5 h-5"})})]})]},h.id)})}):g.jsxs("div",{className:"text-center py-20 bg-slate-50 dark:bg-slate-800/50 rounded-xl border-2 border-dashed border-slate-200 dark:border-slate-700",children:[g.jsx(Zn,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),g.jsx("h3",{className:"text-lg font-bold text-slate-500",children:"No Loads Scheduled"}),g.jsx("p",{className:"text-slate-400 text-sm",children:"Use the settings above to generate a schedule."})]}),g.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:[g.jsx("div",{className:"px-6 py-4 border-b border-slate-100 dark:border-slate-700 bg-slate-50 dark:bg-slate-800/80",children:g.jsx("h3",{className:"font-bold text-slate-700 dark:text-slate-200 text-sm uppercase tracking-wide",children:"Shift Distribution Check"})}),g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"min-w-full divide-y divide-slate-100 dark:divide-slate-700",children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-slate-400 uppercase",children:"Shift"}),g.jsx("th",{className:"px-6 py-3 text-center text-xs font-bold text-slate-400 uppercase",children:"Loads"}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-slate-400 uppercase",children:"Timeline"})]})}),g.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:e.map((h,m)=>g.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-slate-700 dark:text-slate-200",children:h.name}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:g.jsx("span",{className:"inline-flex items-center justify-center px-2.5 py-0.5 rounded-full text-xs font-bold bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-300",children:h.loads})}),g.jsx("td",{className:"px-6 py-4",children:g.jsxs("div",{className:"flex flex-wrap gap-2",children:[o(h.name,h.loads).map((p,v)=>g.jsx("span",{className:"bg-white border border-slate-200 dark:bg-slate-900 dark:border-slate-600 text-slate-600 dark:text-slate-400 px-2 py-1 rounded text-xs font-mono",children:p},v)),h.loads===0&&g.jsx("span",{className:"text-slate-300 text-xs italic",children:"Empty"})]})})]},m))})]})})]})]})}function Jte({state:e,setters:t,results:r,readOnly:n=!1}){const{bottleSizes:i}=St();if(!r)return g.jsx("div",{children:"Loading..."});const{requiredDailyLoads:l,weeklyLoads:o,schedule:c}=r;return g.jsxs("div",{className:"space-y-8",children:[g.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md transition-colors",children:[g.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white mb-6 border-b dark:border-gray-700 pb-2",children:" Logistics Settings"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 items-end",children:[g.jsxs("div",{className:"col-span-1",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Bottle Size Reference"}),g.jsx("select",{value:e.selectedSize,disabled:n,onChange:d=>t.setSelectedSize(d.target.value),className:"block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-900 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500 py-2 disabled:opacity-50 disabled:cursor-not-allowed",children:i.map(d=>g.jsx("option",{value:d,children:d},d))})]}),g.jsxs("div",{className:"col-span-2",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Target Daily Production (Cases)"}),g.jsxs("div",{className:"relative rounded-md shadow-sm",children:[g.jsx("input",{type:"number",inputMode:"numeric",pattern:"[0-9]*",min:"0",disabled:n,value:e.targetDailyProduction||"",onChange:d=>t.setTargetDailyProduction(d.target.value),className:"block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-900 dark:text-white focus:border-blue-500 focus:ring-blue-500 text-2xl p-2 pl-4 disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"60000"}),g.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:g.jsx("span",{className:"text-gray-500 sm:text-sm",children:"cases/day"})})]})]})]}),g.jsxs("div",{className:"col-span-1 mt-6",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Production Start Time"}),g.jsx("input",{type:"time",value:e.shiftStartTime,disabled:n,onChange:d=>t.setShiftStartTime(d.target.value),className:"block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-900 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500 py-2 px-3 disabled:opacity-50 disabled:cursor-not-allowed"})]})]}),g.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4 border-t dark:border-gray-700 pt-6",children:[g.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-3 rounded border border-gray-200 dark:border-gray-700",children:[g.jsx("span",{className:"block text-xs text-gray-500 dark:text-gray-400 uppercase font-bold",children:"Production Burn Rate"}),g.jsxs("span",{className:"block text-xl font-bold text-gray-800 dark:text-white",children:[Math.round(r.burnRate).toLocaleString()," cases/hr"]})]}),g.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-3 rounded border border-gray-200 dark:border-gray-700",children:[g.jsx("span",{className:"block text-xs text-gray-500 dark:text-gray-400 uppercase font-bold",children:"Truck Interval"}),g.jsxs("span",{className:"block text-xl font-bold text-indigo-600 dark:text-indigo-400",children:["Every ",Math.floor(r.hoursPerTruck),"h ",Math.round(r.hoursPerTruck%1*60),"m"]})]}),g.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/30 p-3 rounded border border-blue-100 dark:border-blue-800 flex flex-col justify-center",children:[g.jsx("span",{className:"text-sm font-medium text-blue-800 dark:text-blue-200 uppercase",children:"Daily Truck Requirement"}),g.jsx("span",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:r.requiredDailyLoads})]})]}),g.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[g.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-4 rounded-md flex justify-between items-center text-sm text-gray-600 dark:text-gray-400 border border-gray-100 dark:border-gray-700",children:[g.jsxs("span",{children:["Total Weekly Volume: ",g.jsxs("strong",{className:"text-gray-900 dark:text-white",children:[o.toLocaleString()," Loads"]})]}),g.jsx("span",{children:"Based on 24/7 Production schedule"})]}),g.jsx(Zte,{schedule:r.schedule,truckSchedule:r.truckSchedule,onUpdatePO:t.updatePO,onDelete:t.toggleCancelled,specs:r.specs,readOnly:n})]})]})}const d3=(e,t)=>`mrp_${t}_${e}`,Dr=(e,t,r,n=!1)=>{const i=d3(e,r),l=`mrp_${e}`;let o=localStorage.getItem(i);if(o===null&&r==="20oz"&&(o=localStorage.getItem(l)),o===null)return t;if(n)try{return JSON.parse(o)||t}catch{return t}return o},Mr=(e,t,r,n=!1)=>{const i=d3(e,r),l=n?JSON.stringify(t):t;localStorage.setItem(i,l)};function Qte(){const{updateBottleDefinition:e,bottleSizes:t}=St(),{user:r}=_r(),{fetchMRPState:n,migrateLocalStorage:i}=no(),[l,o]=b.useState(()=>localStorage.getItem("mrp_selectedSize")||"20oz"),c=(te,ie,B=!1)=>Dr(te,ie,l,B),[d,h]=b.useState(()=>c("monthlyDemand",{},!0)),[m,p]=b.useState(()=>c("monthlyProductionActuals",{},!0)),[v,x]=b.useState(()=>c("monthlyInbound",{},!0)),[S,k]=b.useState(()=>c("truckManifest",{},!0)),[_,j]=b.useState(()=>r?0:Number(Dr("downtimeHours",0,l))),[N,E]=b.useState(()=>r?0:Number(Dr("currentInventoryPallets",0,l))),[P,A]=b.useState(()=>r?{date:zr(),count:0}:Dr("inventoryAnchor",{date:zr(),count:0},l,!0)),[T,C]=b.useState(()=>r?0:Number(Dr("incomingTrucks",0,l))),[M,$]=b.useState(()=>r?{count:0,date:null,fileName:null}:Dr("yardInventory",{count:0,date:null,fileName:null},l,!0)),[R,I]=b.useState(()=>r?!0:Dr("isAutoReplenish",!0,l,!0)),[q,ae]=b.useState(0);return b.useEffect(()=>()=>{},[r]),b.useEffect(()=>{localStorage.setItem("mrp_selectedSize",l),r?(async()=>{try{const ie=await n(r.id,l);if(ie)h(ie.monthlyDemand||{}),p(ie.monthlyProductionActuals||{}),x(ie.monthlyInbound||{}),k(ie.truckManifest||{}),j(ie.downtimeHours),I(ie.isAutoReplenish),I(ie.isAutoReplenish),ie.inventoryAnchor&&A(ie.inventoryAnchor),ie.yardInventory&&$(ie.yardInventory);else if((await i(r,t)).success){const K=await n(r.id,l);K&&(x(K.monthlyInbound||{}),k(K.truckManifest||{}),j(K.downtimeHours),I(K.isAutoReplenish),K.inventoryAnchor&&A(K.inventoryAnchor),K.yardInventory&&$(K.yardInventory))}}catch(ie){console.error("Failed to load cloud state",ie)}})():(h(Dr("monthlyDemand",{},l,!0)),p(Dr("monthlyProductionActuals",{},l,!0)),x(Dr("monthlyInbound",{},l,!0)),k(Dr("truckManifest",{},l,!0)),j(Number(Dr("downtimeHours",0,l))),A(Dr("inventoryAnchor",{date:zr(),count:0},l,!0)),I(Dr("isAutoReplenish",!0,l,!0)))},[l,r?.id]),{selectedSize:l,setSelectedSize:o,monthlyDemand:d,setMonthlyDemand:h,monthlyProductionActuals:m,setMonthlyProductionActuals:p,monthlyInbound:v,setMonthlyInbound:x,truckManifest:S,setTruckManifest:k,downtimeHours:_,setDowntimeHours:j,currentInventoryPallets:N,setCurrentInventoryPallets:E,inventoryAnchor:P,setInventoryAnchor:A,incomingTrucks:T,setIncomingTrucks:C,yardInventory:M,setYardInventory:$,isAutoReplenish:R,setIsAutoReplenish:I,refreshTrigger:q}}function ere(e,t={}){const{safetyStockLoads:r,leadTimeDays:n}=St(),{productMap:i}=sc(),{selectedSize:l,monthlyDemand:o,monthlyProductionActuals:c,monthlyInbound:d,downtimeHours:h,incomingTrucks:m,yardInventory:p,inventoryAnchor:v}=e,x=i[l]?.productionRate||0,S=b.useMemo(()=>{const _=zr(),j=new Set([...Object.keys(o),...Object.keys(c)]);return Array.from(j).reduce((N,E)=>{if(E>=_){const P=c[E],A=o[E],T=E>_,C=P!=null&&(!T||Number(P)!==0),M=Number(C?P:A);return N+(M||0)}return N},0)},[o,c]),k=b.useMemo(()=>{const _=i[l];if(!_)return null;const j=h*x,N=Math.max(0,S-j),E=1+(_.scrapPercentage||0)/100,P=_.bottlesPerCase||0,A=_.bottlesPerTruck||0,T=_.casesPerPallet||0,C=N*P*E,M=zr(),$=he=>t[he]?.items?.length>0?t[he].items.length:Number(d[he])||0;Object.keys(d).reduce((he,ee)=>he,0);const R=new Set([...Object.keys(d),...Object.keys(t)]),I=Array.from(R).reduce((he,ee)=>ee>=M?he+$(ee):he,0),q=m+I,ae=q*_.bottlesPerTruck,te=p.count||0,ie=te*_.bottlesPerTruck;_.casesPerPallet;let B=v.count;const K=new Date(v.date);K.setHours(0,0,0,0);const le=new Date;le.setHours(0,0,0,0);const W=le-K,de=Math.ceil(W/(1e3*60*60*24));if(de>0&&de<365)for(let he=0;he<de;he++){const ee=In(v.date,he),Ae=c[ee],Te=o[ee],ue=ee>M,pe=Ae!=null&&(!ue||Number(Ae)!==0),Oe=Number(pe?Ae:Te||0),Be=$(ee),gr=P||1,_t=A||1,Xt=T||1,ia=_t/gr/Xt,lr=Be*ia,ht=Oe/Xt;B=B+lr-ht}const L=B*T*P,H=L+ae+ie-C,X=r*_.bottlesPerTruck,oe=[];console.log("DEBUG CALC:",{derivedPallets:B,effectiveYardLoads:te,yardBottles:ie,inventoryBottles:L});let fe=L+ie,ce=null,me=null;for(let he=0;he<30;he++){const ee=In(zr(),he),Ae=c[ee],Te=o[ee],ue=ee>M,pe=Ae!=null&&(!ue||Number(Ae)!==0),Be=Number(pe?Ae:Te||0)*P*E,_t=$(ee)*A;fe=fe+_t-Be,oe.push({date:ee,dateStr:ee,balance:fe,demand:Be,supply:_t,projectedEndInventory:fe,projectedPallets:fe/(P*T||1),daysOfSupply:0}),fe<X&&!ce&&(ce=ee),fe>X+_.bottlesPerTruck*2&&!me&&(me=ee)}let Ee=0,Z=0;if(H<X)Ee=Math.ceil((X-H)/_.bottlesPerTruck);else if(H>X+_.bottlesPerTruck){const he=H-X;he>_.bottlesPerTruck&&(Z=Math.floor(he/_.bottlesPerTruck))}let we=30;if(oe.length>0){const he=oe.findIndex(ee=>ee.balance<0);if(he!==-1){const ee=oe[he],Ae=he>0?oe[he-1].balance:L+ie;let Te=0;ee.demand>0&&Ae>0&&(Te=Ae/ee.demand),we=he+Te}else we=30}return{netInventory:H,safetyTarget:X,trucksToOrder:Ee,trucksToCancel:Z,lostProductionCases:j,effectiveScheduledCases:N,specs:_,yardInventory:{...p,effectiveCount:te,isOverridden:!1},dailyLedger:oe,firstStockoutDate:ce,firstOverflowDate:me,totalIncomingTrucks:q,initialInventory:L+ie,calculatedPallets:B,daysOfSupply:we,inventoryAnchor:v,plannedOrders:(()=>{const he={};return Object.entries(d).forEach(([ee,Ae])=>{if(Number(Ae)<=0||t[ee]?.items?.length>0)return;const Te=new Date(ee),ue=new Date(Te);ue.setDate(ue.getDate()-(n||0));const pe=ue.toISOString().split("T")[0];he[pe]||(he[pe]={count:0,items:[]}),he[pe].count+=Number(Ae),he[pe].items.push({needDate:ee,trucks:Number(Ae)})}),he})()}},[l,S,x,h,m,i,r,p,o,d,v,n,t,c]);return{totalScheduledCases:S,productionRate:x,calculations:k}}function tre(e,t){const{bottleDefinitions:r,updateBottleDefinition:n,safetyStockLoads:i,leadTimeDays:l}=St(),{user:o,userRole:c}=_r(),{savePlanningEntry:d,saveProductionSetting:h,saveInventoryAnchor:m}=no(),{selectedSize:p,setSelectedSize:v,monthlyDemand:x,setMonthlyDemand:S,monthlyProductionActuals:k,setMonthlyProductionActuals:_,monthlyInbound:j,setMonthlyInbound:N,truckManifest:E,setTruckManifest:P,setDowntimeHours:A,setCurrentInventoryPallets:T,setIncomingTrucks:C,setYardInventory:M,setManualYardOverride:$,isAutoReplenish:R,setIsAutoReplenish:I,setInventoryAnchor:q}=e,{calculations:ae}=t,te=b.useRef(0),ie=b.useRef(x),B=b.useRef(k),K=b.useRef(j);b.useLayoutEffect(()=>{ie.current=x},[x]),b.useLayoutEffect(()=>{B.current=k},[k]),b.useLayoutEffect(()=>{K.current=j},[j]);const[le,W]=b.useState(!1),[de,L]=b.useState(null),H=b.useRef({}),X=b.useRef({}),oe=b.useCallback(async ue=>{if(["admin","planner"].includes(c)){L(null);try{await ue()}catch(Oe){console.error("Save Error",Oe),L(Oe.message||"Save Failed")}}},[c]),fe=b.useCallback((ue,pe,Oe=1e3)=>{H.current[ue]&&clearTimeout(H.current[ue]),H.current[ue]=setTimeout(()=>{oe(pe),delete H.current[ue]},Oe)},[oe]),ce=b.useCallback((ue,pe,Oe=300)=>{X.current[ue]&&clearTimeout(X.current[ue]),X.current[ue]=setTimeout(()=>{pe(),delete X.current[ue]},Oe)},[]);b.useEffect(()=>()=>{Object.values(H.current).forEach(clearTimeout),Object.values(X.current).forEach(clearTimeout)},[]);const me=b.useCallback((ue,pe,Oe)=>{if(!ae||!R)return;const Be=r[p],gr=1+(Be.scrapPercentage||0)/100,_t=i*Be.bottlesPerTruck;let Xt=ae.initialInventory;const ia=l||2,lr={},ht=zr();for(let mt=0;mt<ia;mt++){const Dt=In(ht,mt),Bt=pe[Dt],po=ue[Dt],vo=Dt>ht,sa=Bt!=null&&(!vo||Number(Bt)!==0),rn=Number(sa?Bt:po||0)*Be.bottlesPerCase*gr,Mt=Oe[Dt]||0;Xt=Xt+Mt*Be.bottlesPerTruck-rn}for(let mt=ia;mt<60;mt++){const Dt=In(ht,mt),Bt=pe[Dt],po=ue[Dt],vo=Dt>ht,sa=Bt!=null&&(!vo||Number(Bt)!==0),rn=Number(sa?Bt:po||0)*Be.bottlesPerCase*gr;let Mt=0,zs=Xt-rn;if(zs<_t){const Tc=Math.ceil((_t-zs)/Be.bottlesPerTruck);Mt=Tc,zs+=Tc*Be.bottlesPerTruck}Mt>0?lr[Dt]=Mt:Oe[Dt]&&(lr[Dt]=0),Xt=zs}let Us=!1;if(Object.entries(lr).forEach(([mt,Dt])=>{(Oe[mt]||0)!==Dt&&(Us=!0)}),!Us)return;const En={...Oe,...lr};Object.keys(En).forEach(mt=>{En[mt]===0&&delete En[mt]});const Bi=mt=>Object.keys(mt).sort().reduce((Dt,Bt)=>({...Dt,[Bt]:mt[Bt]}),{});JSON.stringify(Bi(En))!==JSON.stringify(Bi(Oe))&&(N(En),Mr("monthlyInbound",En,p,!0),o&&["admin","planner"].includes(c)&&oe(async()=>{const mt=Object.entries(lr).map(([Dt,Bt])=>d(o.id,p,Dt,"inbound_trucks",Bt));await Promise.all(mt)}))},[ae,R,r,p,i,l,o,c,d,N,Mr,oe]),Ee=b.useCallback((ue,pe)=>{const Oe=pe,Be={...ie.current,[ue]:Oe};S(Be),ce("monthlyDemand",()=>{Mr("monthlyDemand",Be,p,!0)},500),o&&fe(`demand-${ue}`,()=>d(o.id,p,ue,"demand_plan",Number(Oe)),1e3)},[p,o,fe,ce,S,d]),Z=b.useCallback((ue,pe)=>{const Oe=pe===""||pe===null?void 0:pe,Be={...B.current};Oe===void 0?delete Be[ue]:Be[ue]=Oe,_(Be),ce("monthlyProductionActuals",()=>{Mr("monthlyProductionActuals",Be,p,!0)},500),o&&fe(`actual-${ue}`,()=>d(o.id,p,ue,"production_actual",Oe===void 0?null:Number(Oe)),1e3)},[p,o,fe,ce,_,d]),we=b.useCallback((ue,pe)=>{const Oe=pe,Be={...K.current,[ue]:Oe};N(Be),ce("monthlyInbound",()=>{Mr("monthlyInbound",Be,p,!0)},500),o&&fe(`inbound-${ue}`,()=>d(o.id,p,ue,"inbound_trucks",Number(Oe)),1e3)},[p,o,fe,ce,N,d]);b.useEffect(()=>{if(!R||!ae||Date.now()-te.current<250)return;const ue=setTimeout(()=>{me(x,k,j)},50);return()=>clearTimeout(ue)},[ae?.initialInventory,i,l,R,x,k,j,me]);const he=b.useCallback(ue=>{const pe={...ie.current,...ue};S(pe),ce("monthlyDemand",()=>{Mr("monthlyDemand",pe,p,!0)},500),o&&fe(`demand-bulk-${Object.keys(ue)[0]}`,async()=>{const Oe=Object.entries(ue).map(([Be,gr])=>d(o.id,p,Be,"demand_plan",Number(gr)));await Promise.all(Oe)},1e3)},[p,o,fe,ce,S,d]),[ee,Ae]=b.useState(r[p]?.productionRate||0);return b.useEffect(()=>{Ae(r[p]?.productionRate||0)},[p,r]),{setters:{setSelectedSize:v,updateDateDemand:Ee,updateDateDemandBulk:he,updateDateActual:Z,updateDateInbound:we,updateTruckManifest:(ue,pe)=>{const Oe={...E,[ue]:pe};(!pe||pe.length===0)&&delete Oe[ue],P(Oe),Mr("truckManifest",Oe,p,!0),o&&oe(()=>d(o.id,p,ue,"truck_manifest_json",JSON.stringify(pe)))},setProductionRate:ue=>{const pe=Number(ue);Ae(pe),n(p,"productionRate",pe),o&&oe(()=>h(o.id,p,"production_rate",pe))},setDowntimeHours:ue=>{const pe=Number(ue);A(pe),Mr("downtimeHours",pe,p),o&&oe(()=>h(o.id,p,"downtime_hours",pe))},setCurrentInventoryPallets:ue=>{const pe=Number(ue);T(pe),Mr("currentInventoryPallets",pe,p)},setIncomingTrucks:ue=>{const pe=Number(ue);C(pe),Mr("incomingTrucks",pe,p)},setYardInventory:ue=>{M(ue),Mr("yardInventory",ue,p,!0)},updateYardInventory:ue=>{const pe=Number(ue),Oe=zr();M({date:Oe,count:pe}),Mr("yardInventory",{date:Oe,count:pe},p,!0),o&&oe(()=>m(o.id,p,{date:Oe,count:pe},"yard"))},setIsAutoReplenish:ue=>{I(ue),Mr("isAutoReplenish",ue,p,!0),o&&oe(()=>h(o.id,p,"is_auto_replenish",ue))},setInventoryAnchor:ue=>{q(ue),Mr("inventoryAnchor",ue,p,!0),o&&oe(()=>m(o.id,p,ue))}},formState:{isSaving:le,saveError:de,selectedSize:p,productionRate:ee}}}function rre(e={}){const t=Qte(),{calculations:r,totalScheduledCases:n,productionRate:i}=ere(t,e),{setters:l,formState:o}=tre(t,{calculations:r});return{formState:{selectedSize:t.selectedSize,monthlyDemand:t.monthlyDemand,monthlyProductionActuals:t.monthlyProductionActuals,monthlyInbound:t.monthlyInbound,truckManifest:t.truckManifest,downtimeHours:t.downtimeHours,currentInventoryPallets:t.currentInventoryPallets,incomingTrucks:t.incomingTrucks,yardInventory:t.yardInventory,isAutoReplenish:t.isAutoReplenish,inventoryAnchor:t.inventoryAnchor,productionRate:o.productionRate??i,totalScheduledCases:n,isSaving:o.isSaving,saveError:o.saveError},setters:l,results:r}}function nre(){const{bottleDefinitions:e,safetyStockLoads:t,schedulerSettings:r,updateSchedulerSetting:n,updateBottleDefinition:i}=St(),[l,o]=b.useState(()=>localStorage.getItem("sched_selectedSize")||"20oz");b.useEffect(()=>localStorage.setItem("sched_selectedSize",l),[l]);const{shiftStartTime:c="00:00",poAssignments:d={},cancelledLoads:h=[]}=r,m=b.useMemo(()=>{const x=e[l];if(!x)return null;const S=x.palletsPerTruck||Math.ceil(x.casesPerTruck/x.casesPerPallet),k={...x,name:l,palletsPerTruck:S},_=k.productionRate||0,j=_*24,N=isNaN(j)?0:j,E=Math.ceil(N/k.casesPerTruck),P=E*7,A=[{name:"Shift 1 (00:00-08:00)",loads:0},{name:"Shift 2 (08:00-16:00)",loads:0},{name:"Shift 3 (16:00-00:00)",loads:0}],T=_,C=T,M=k.casesPerTruck,$=T>0?M/T:0;let R=[];if($>0&&E>0){const[ae,te]=c.split(":").map(Number);let ie=ae+te/60;for(let B=0;B<E;B++){const le=(ie+$*B)%24,W=Math.round(le),H=`${(W===24?0:W).toString().padStart(2,"0")}:${0 .toString().padStart(2,"0")}`;R.push({id:B+1,time:H,rawDecimal:le,po:d[String(B+1)]||""})}}const I=R.filter(ae=>!h.includes(String(ae.id)));I.forEach(ae=>{const te=ae.rawDecimal;te>=0&&te<8?A[0].loads++:te>=8&&te<16?A[1].loads++:A[2].loads++}),R=I;const q=t<E;return{requiredDailyLoads:E,weeklyLoads:P,schedule:A,truckSchedule:R,burnRate:C,hoursPerTruck:$,isHighRisk:q,safetyStockLoads:t,specs:k}},[l,c,e,t,d,h]),p=(x,S)=>{const k={...d,[String(x)]:S};n("poAssignments",k)},v=x=>{const S=String(x),_=h.includes(S)?h.filter(j=>j!==S):[...h,S];n("cancelledLoads",_)};return{formState:{selectedSize:l,targetDailyProduction:m?.burnRate*24||0,shiftStartTime:c,poAssignments:d},setters:{setSelectedSize:o,setTargetDailyProduction:x=>{const S=Number(x),k=!isNaN(S)&&S>=0?S:0;i(l,"productionRate",k/24)},setShiftStartTime:x=>n("shiftStartTime",x),updatePO:p,toggleCancelled:v},results:m}}function are(e){const{user:t}=_r(),{fetchMRPState:r}=no(),[n,i]=b.useState({}),[l,o]=b.useState(!1);return b.useEffect(()=>{const d=async()=>{o(!0);const h={},m=(p,v)=>{const x=`mrp_${p}`,S=`mrp_${v}_${p}`;let k=localStorage.getItem(S);k===null&&v==="20oz"&&(k=localStorage.getItem(x));try{return JSON.parse(k)||{}}catch{return{}}};for(const p of e)if(t)try{const v=await r(t.id,p);v?h[p]={demand:v.monthlyDemand||{},actuals:v.monthlyProductionActuals||{},inbound:v.monthlyInbound||{}}:h[p]={demand:{},actuals:{},inbound:{}}}catch(v){console.error(`Failed to load master state for ${p}`,v)}else h[p]={demand:m("monthlyDemand",p),actuals:m("monthlyProductionActuals",p),inbound:m("monthlyInbound",p)};i(h),o(!1)};e.length>0&&d()},[e,t,r]),{masterLedger:b.useMemo(()=>{const d={},h=new Set;return Object.values(n).forEach(p=>{Object.keys(p.demand).forEach(v=>h.add(v)),Object.keys(p.actuals).forEach(v=>h.add(v)),Object.keys(p.inbound).forEach(v=>h.add(v))}),Array.from(h).sort().forEach(p=>{const v=[];e.forEach(x=>{const S=n[x];if(!S)return;const k=Number(S.demand[p])||0,_=S.actuals[p]!==void 0?Number(S.actuals[p]):null,j=Number(S.inbound[p])||0;(k>0||_!==null&&_>0||j>0)&&v.push({sku:x,demand:k,actual:_,trucks:j})}),v.length>0&&(d[p]=v)}),d},[n,e]),loading:l,skuStates:n}}function ire({masterLedger:e,loading:t}){const r=b.useMemo(()=>e?Object.keys(e).sort():[],[e]),n=i=>({"20oz":"bg-blue-100 dark:bg-blue-900/40 text-blue-800 dark:text-blue-200 border-blue-200 dark:border-blue-700","12oz":"bg-purple-100 dark:bg-purple-900/40 text-purple-800 dark:text-purple-200 border-purple-200 dark:border-purple-700","2L":"bg-green-100 dark:bg-green-900/40 text-green-800 dark:text-green-200 border-green-200 dark:border-green-700","1L":"bg-orange-100 dark:bg-orange-900/40 text-orange-800 dark:text-orange-200 border-orange-200 dark:border-orange-700"})[i]||"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200 border-gray-200 dark:border-gray-700";return t?g.jsxs("div",{className:"flex h-full items-center justify-center p-10",children:[g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),g.jsx("span",{className:"ml-3 text-gray-500",children:"Aggregating Master Plan..."})]}):r.length===0?g.jsxs("div",{className:"text-center p-10 bg-gray-50 dark:bg-gray-800 rounded-lg border-2 border-dashed border-gray-200 dark:border-gray-700",children:[g.jsx("h3",{className:"text-gray-400 dark:text-gray-500 font-bold mb-2",children:"No Active Production"}),g.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-sm",children:"Add demand or trucks to individual SKU plans to see them here."})]}):g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 mb-6",children:[g.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Master Schedule"}),g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Global view of all production lines and logistics."})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsx("div",{className:"md:hidden space-y-4",children:r.map(i=>{const l=e[i]||[],o=new Date(i),c=new Date().toISOString().split("T")[0]===i;return l.length===0?null:g.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-lg shadow-sm border p-4 ${c?"border-blue-300 ring-1 ring-blue-100 dark:ring-blue-900":"border-gray-200 dark:border-gray-700"}`,children:[g.jsxs("div",{className:"flex justify-between items-center mb-3 pb-2 border-b border-gray-100 dark:border-gray-700",children:[g.jsxs("div",{className:"flex flex-col",children:[g.jsx("span",{className:`text-lg font-bold ${c?"text-blue-600 dark:text-blue-400":"text-gray-900 dark:text-white"}`,children:o.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}),g.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500 font-mono",children:i})]}),c&&g.jsx("span",{className:"text-xs font-bold bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 px-2 py-1 rounded",children:"TODAY"})]}),g.jsx("div",{className:"space-y-2",children:l.map(d=>g.jsxs("div",{className:`flex items-center justify-between p-2 rounded border ${n(d.sku)}`,children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx("span",{className:"font-bold text-sm mr-3 w-12",children:d.sku}),(d.demand>0||d.actual!==null&&d.actual>0)&&g.jsxs("span",{className:"font-mono font-bold text-sm",children:[d.actual!==null?d.actual.toLocaleString():d.demand.toLocaleString()," cases"]})]}),d.trucks>0&&g.jsxs("div",{className:"flex items-center space-x-1 bg-white dark:bg-gray-800 bg-opacity-60 px-2 py-1 rounded border border-black/5 dark:border-white/10",children:[g.jsx("span",{className:"text-base",children:""}),g.jsx("span",{className:"font-bold text-sm",children:d.trucks})]})]},`${i}-${d.sku}-mobile`))})]},i)})}),g.jsxs("div",{className:"hidden md:block bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:[g.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 px-6 py-3 border-b border-gray-200 dark:border-gray-700 grid grid-cols-12 gap-4 text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[g.jsx("div",{className:"col-span-3 md:col-span-2",children:"Date"}),g.jsx("div",{className:"col-span-9 md:col-span-10",children:"Production & Logistics"})]}),g.jsx("div",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:r.map(i=>{const l=e[i]||[],o=new Date(i),c=new Date().toISOString().split("T")[0]===i;return g.jsxs("div",{className:`group grid grid-cols-12 gap-4 px-6 py-4 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors ${c?"bg-blue-50/30 dark:bg-blue-900/10":""}`,children:[g.jsxs("div",{className:"col-span-3 md:col-span-2 flex flex-col justify-center",children:[g.jsx("span",{className:`text-sm font-bold ${c?"text-blue-600 dark:text-blue-400":"text-gray-900 dark:text-white"}`,children:o.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}),g.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500 font-mono mt-1",children:i})]}),g.jsx("div",{className:"col-span-9 md:col-span-10 flex flex-col space-y-2 justify-center",children:l.map((d,h)=>g.jsxs("div",{className:`flex items-center p-2 rounded border ${n(d.sku)}`,children:[g.jsx("span",{className:"font-bold text-xs uppercase w-16 tracking-wide",children:d.sku}),g.jsxs("div",{className:"flex-1 flex items-center space-x-4",children:[(d.demand>0||d.actual!==null&&d.actual>0)&&g.jsxs("div",{className:"flex items-baseline space-x-1",children:[g.jsx("span",{className:"text-xs opacity-70",children:"Run:"}),g.jsx("span",{className:"font-mono font-bold text-sm",children:d.actual!==null?d.actual.toLocaleString():d.demand.toLocaleString()}),d.actual!==null&&g.jsx("span",{className:"text-[10px] bg-white bg-opacity-50 px-1 rounded ml-1",children:"ACT"})]}),(d.demand>0||d.actual>0)&&d.trucks>0&&g.jsx("span",{className:"text-gray-300 dark:text-gray-600",children:"|"}),d.trucks>0&&g.jsxs("div",{className:"flex items-center space-x-1",children:[g.jsx("span",{className:"text-lg",children:""}),g.jsx("span",{className:"font-bold text-sm",children:d.trucks}),g.jsx("span",{className:"text-xs opacity-70",children:"Trucks"})]})]})]},`${i}-${d.sku}`))})]},i)})})]})]})]})}function sre(){const{signIn:e,resendVerificationEmail:t}=_r(),[r,n]=b.useState(""),[i,l]=b.useState(""),[o,c]=b.useState(null),[d,h]=b.useState(!1),[m,p]=b.useState(!1),v=async S=>{S.preventDefault(),c(null),h(!0);try{await e(r,i)}catch(k){c(k.message)}finally{h(!1)}},x=async()=>{try{h(!0),await t(r),p(!0),c("Confirmation email resent! Check your spam folder.")}catch(S){c(S.message)}finally{h(!1)}};return g.jsxs("div",{className:"min-h-screen bg-slate-950 flex flex-col items-center justify-center relative overflow-hidden font-sans selection:bg-blue-500 selection:text-white",children:[g.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-blue-950/20 via-slate-950 to-black z-0 pointer-events-none"}),g.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-5 z-0 pointer-events-none"}),g.jsx("main",{className:"relative z-10 w-full max-w-sm px-4",children:g.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-md border border-slate-800 rounded-3xl p-8 shadow-2xl",children:[g.jsxs("div",{className:"flex flex-col items-center mb-8",children:[g.jsx("div",{className:"h-20 w-20 bg-white rounded-full p-0.5 shadow-xl shadow-blue-900/20 mb-4 overflow-hidden ring-2 ring-slate-800",children:g.jsx("img",{src:Hh,alt:"UBP",className:"h-full w-full object-contain"})}),g.jsx("h1",{className:"text-xl font-bold text-white tracking-tight",children:"MRP Portal"}),g.jsxs("div",{className:"flex items-center gap-1.5 text-slate-500 text-[10px] font-bold uppercase tracking-widest mt-1",children:[g.jsx(KN,{className:"w-3.5 h-3.5 text-emerald-500"}),g.jsx("span",{children:"Authorized Access Only"})]})]}),o&&g.jsxs("div",{className:`p-3 rounded-lg mb-6 text-xs font-medium border flex gap-2 items-start ${o.includes("resent")?"bg-emerald-900/20 text-emerald-400 border-emerald-900/50":"bg-rose-900/20 text-rose-400 border-rose-900/50"}`,children:[o.includes("resent")?g.jsx(ql,{className:"w-4 h-4 shrink-0"}):g.jsx(c6,{className:"w-4 h-4 shrink-0"}),g.jsxs("div",{children:[o,o.includes("Email not confirmed")&&!m&&g.jsx("button",{onClick:x,className:"block mt-1 underline hover:text-white transition-colors",children:"Resend Verification Email"})]})]}),g.jsxs("form",{onSubmit:v,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-semibold text-slate-400 mb-1.5 ml-1",children:"Email Address"}),g.jsx("input",{type:"email",required:!0,value:r,onChange:S=>n(S.target.value),className:"block w-full rounded-xl bg-slate-950 border border-slate-800 text-white placeholder-slate-600 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 py-2.5 px-4 text-sm transition-all",placeholder:"name@unionbevnj.com"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-semibold text-slate-400 mb-1.5 ml-1",children:"Password"}),g.jsx("input",{type:"password",required:!0,value:i,onChange:S=>l(S.target.value),className:"block w-full rounded-xl bg-slate-950 border border-slate-800 text-white placeholder-slate-600 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 py-2.5 px-4 text-sm transition-all",placeholder:""})]}),g.jsx("div",{className:"pt-2",children:g.jsx("button",{type:"submit",disabled:d,className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 rounded-xl shadow-lg shadow-blue-900/20 transition-all active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed flex justify-center",children:d?g.jsxs("span",{className:"flex items-center gap-2",children:[g.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing In..."]}):"Sign In to Dashboard"})})]}),g.jsx("div",{className:"mt-8 text-center border-t border-slate-800/50 pt-4",children:g.jsx("p",{className:"text-slate-500 text-xs",children:"Sign In to access planning tool."})})]})}),g.jsx("footer",{className:"absolute bottom-6 w-full text-center",children:g.jsxs("p",{className:"text-slate-800 text-[10px] font-medium uppercase tracking-wider",children:[" ",new Date().getFullYear()," Union Beverage Packers"]})})]})}const Yv={lines:[{id:"L1",name:"Line 1 (Bottles)",burn_rate_minutes:60,inventory_pallets:132,current_sku:"20oz_Cola",color:"blue"},{id:"L2",name:"Line 2 (Cans)",burn_rate_minutes:120,inventory_pallets:14,current_sku:"12oz_Sprite",color:"purple"}]};function lre({mrpData:e,schedulerData:t,readOnly:r=!1}){const n=b.useMemo(()=>{if(!e?.results)return Yv.lines[0];const{formState:T,results:C}=e,{productionRate:M}=T,{specs:$,calculatedPallets:R}=C;let I=0;if(M>0&&$){const ae=M*$.bottlesPerCase/$.bottlesPerTruck;ae>0&&(I=Math.round(60/ae))}return{id:"L1",name:"Production Line 1",burn_rate_minutes:I||60,inventory_pallets:Math.round(R||0),current_sku:T.selectedSize,color:"blue"}},[e]),i=[n,{...Yv.lines[1],name:"Line 2 (Offline)",current_sku:"No Schedule",inventory_pallets:0,burn_rate_minutes:0,color:"gray"}],[l,o]=b.useState(i);b.useMemo(()=>{o([n,{...Yv.lines[1],name:"Line 2 (Offline)",current_sku:"Idle",inventory_pallets:0,burn_rate_minutes:0,color:"gray"}])},[n]);const c=e?.formState?.yardInventory||{count:0},d=c.effectiveCount!==void 0?c.effectiveCount:c.count,h=50,[m,p]=b.useState(""),[v,x]=b.useState({L1:"",L2:""}),S=(T,C)=>(T/22*C/60).toFixed(1),k=T=>T>24?"text-green-400 border-green-500/50 shadow-[0_0_15px_rgba(74,222,128,0.2)]":T<4?"text-red-500 border-red-500/50 shadow-[0_0_15px_rgba(239,68,68,0.3)] animate-pulse":"text-yellow-400 border-yellow-500/50",[_,j]=b.useState(null),N=(T,C)=>{x(M=>({...M,[T]:C}))},E=T=>{alert(`Updated ${T} actuals to ${v[T]}`)},P=()=>{const T=/\b(45\d{8}|PO[0-9]{4,})\b|\b\d{5,10}\b/g,C=m.match(T)||[];if(C.length===0){alert("No PO numbers found in text! Try pasting 'PO 4500012345' or similar.");return}let M=8,$=0;const R=C.map((I,q)=>{const ae=q%2===0?"L1":"L2",te=`${M.toString().padStart(2,"0")}:${$.toString().padStart(2,"0")}`;return $+=30,$>=60&&($=0,M++),{time:te,po:I,line:ae}});j(R)},A=()=>{if(!_)return;const T=["Load #","Del. Date","Del. Time","Description","Bill to","PO #"],C=_.map(($,R)=>[R+1,new Date().toLocaleDateString(),$.time,$.line==="L1"?"20 oz. Clear":"12 oz. Can","UBP",$.po]),M=[T.join("	"),...C.map($=>$.join("	"))].join(`
`);navigator.clipboard.writeText(M),alert("Table copied to clipboard! Ready to paste into Excel or Email.")};return g.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 p-6 font-mono transition-colors",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8 items-center bg-white dark:bg-gray-800/50 p-4 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm",children:[g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx("div",{className:"bg-blue-600/20 p-2 rounded-lg",children:g.jsx(nc,{className:"h-8 w-8 text-blue-400"})}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-bold tracking-wider uppercase",children:"Morning True-Up"}),g.jsx("span",{className:"text-xs text-gray-400",children:"Validate yesterday's actuals"})]})]}),l.map(T=>g.jsxs("div",{className:"flex items-center space-x-2 bg-gray-50 dark:bg-gray-900 p-2 rounded border border-gray-200 dark:border-gray-700",children:[g.jsxs("span",{className:`text-xs font-bold uppercase w-12 text-${T.color}-600 dark:text-${T.color}-400`,children:[T.id," Act:"]}),g.jsx("input",{type:"text",className:"bg-transparent border-none focus:ring-0 text-right w-20 font-bold text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-600",placeholder:r?"-":"60k",value:v[T.id],onChange:C=>N(T.id,C.target.value),disabled:r}),!r&&g.jsx("button",{onClick:()=>E(T.id),className:"text-gray-400 hover:text-green-400",children:g.jsx(UN,{className:"h-4 w-4"})})]},T.id))]}),g.jsxs("div",{className:"space-y-6 mb-12",children:[g.jsx("h3",{className:"text-sm font-bold text-gray-500 uppercase tracking-widest mb-4",children:"Live Status"}),l.map(T=>{const C=S(T.inventory_pallets,T.burn_rate_minutes),M=k(C);return g.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 p-6 overflow-hidden shadow-sm",children:[C<4&&g.jsx("div",{className:"absolute inset-0 bg-red-900/10 pointer-events-none"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6 items-center",children:[g.jsxs("div",{className:"md:col-span-3 flex flex-col",children:[g.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:T.name}),g.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:["Run: ",T.current_sku]}),g.jsxs("div",{className:"mt-4 flex items-center space-x-2 text-xs text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-900 w-fit px-2 py-1 rounded",children:[g.jsx(Zn,{className:"h-4 w-4"}),g.jsxs("span",{children:["Burn: 1 Truck / ",T.burn_rate_minutes,"m"]})]})]}),g.jsxs("div",{className:"md:col-span-3 flex flex-col items-center justify-center",children:[g.jsxs("div",{className:`text-5xl font-black ${M} rounded-full w-32 h-32 flex items-center justify-center border-4 bg-gray-50 dark:bg-gray-900`,children:[C,"h"]}),g.jsx("span",{className:"text-xs text-gray-400 mt-2 uppercase tracking-wide",children:"Coverage"})]}),g.jsxs("div",{className:"md:col-span-6 border-l border-gray-200 dark:border-gray-700 pl-6",children:[g.jsx("h4",{className:"text-xs font-bold text-gray-500 uppercase mb-3",children:"Inbound Schedule"}),g.jsx("div",{className:"flex space-x-3 overflow-x-auto pb-2 scrollbar-none",children:t?.results?.truckSchedule?.length>0?t.results.truckSchedule.map($=>g.jsxs("div",{className:"flex-shrink-0 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-600 rounded p-3 min-w-[120px]",children:[g.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400 font-bold mb-1",children:$.time}),g.jsx("div",{className:"text-sm font-bold text-gray-900 dark:text-white truncate",title:$.po||"No PO",children:$.po?$.po.length>10?"PO..."+$.po.slice(-4):$.po:"No PO"}),g.jsxs("div",{className:"text-[10px] text-gray-500 mt-1",children:["Load #",$.id]})]},$.id)):g.jsx("div",{className:"text-xs text-gray-400 italic p-2 border border-dashed border-gray-300 rounded",children:"No trucks scheduled"})})]})]})]},T.id)})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[g.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6 shadow-sm",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(Mu,{className:"h-6 w-6 text-purple-400"}),g.jsx("h3",{className:"font-bold text-lg",children:"SAP Zipper"})]}),g.jsx("span",{className:"text-xs text-gray-400 bg-gray-900 px-2 py-1 rounded",children:"Paste Mode"})]}),g.jsx("textarea",{className:"w-full h-32 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-600 rounded-lg p-3 text-sm text-gray-900 dark:text-gray-300 font-mono focus:ring-1 focus:ring-purple-500 focus:border-purple-500 outline-none resize-none disabled:opacity-50",placeholder:r?"SAP Import Disabled (Read Only)":"Paste list of PO numbers here...",value:m,onChange:T=>p(T.target.value),disabled:r}),g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("span",{className:"text-xs text-gray-500",children:"Auto-detects POs"}),_&&g.jsxs("button",{onClick:A,className:"bg-gray-700 hover:bg-gray-600 text-white px-3 py-1 rounded font-bold text-xs transition-colors flex items-center",children:[g.jsx(Mu,{className:"h-4 w-4 mr-1"}),"Copy"]})]}),!r&&g.jsx("button",{onClick:P,className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg font-bold text-sm transition-colors shadow-lg shadow-purple-900/20",children:"Generate Schedule"})]}),_&&g.jsxs("div",{className:"mt-2 text-xs font-mono",children:[g.jsx("div",{className:"mb-2 text-gray-400 font-bold",children:"Ref: Part# DD 1855526"}),g.jsx("div",{className:"overflow-x-auto rounded border border-gray-200 dark:border-gray-700",children:g.jsxs("table",{className:"w-full text-left text-gray-700 dark:text-gray-300",children:[g.jsx("thead",{className:"bg-gray-100 dark:bg-gray-900 text-gray-500 dark:text-gray-400 border-b border-gray-200 dark:border-gray-700",children:g.jsxs("tr",{children:[g.jsx("th",{className:"p-2",children:"Load #"}),g.jsx("th",{className:"p-2",children:"Del. Date"}),g.jsx("th",{className:"p-2",children:"Del. Time"}),g.jsx("th",{className:"p-2",children:"Description"}),g.jsx("th",{className:"p-2",children:"Bill to"}),g.jsx("th",{className:"p-2",children:"PO #"})]})}),g.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-800 bg-white dark:bg-gray-800/50",children:_.map((T,C)=>g.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[g.jsx("td",{className:"p-2",children:C+1}),g.jsx("td",{className:"p-2",children:new Date().toLocaleDateString()}),g.jsx("td",{className:"p-2 text-blue-400 font-bold",children:T.time}),g.jsx("td",{className:"p-2",children:T.line==="L1"?"20 oz. Clear":"12 oz. Can"}),g.jsx("td",{className:"p-2",children:"UBP"}),g.jsx("td",{className:"p-2 font-bold text-gray-900 dark:text-white",children:T.po})]},C))})]})})]})]}),g.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6 shadow-sm",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(FN,{className:"h-6 w-6 text-yellow-500"}),g.jsx("h3",{className:"font-bold text-lg",children:"Yard Status"})]}),g.jsx("span",{className:"text-xs text-gray-400",children:"Live Feed"})]}),g.jsx("div",{className:"flex items-center justify-center mb-6",children:g.jsx("div",{className:"relative w-full bg-gray-100 dark:bg-gray-900 rounded-full h-6 overflow-hidden",children:g.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 h-full transition-all duration-500",style:{width:`${Math.min(100,d/h*100)}%`}})})}),g.jsxs("div",{className:"flex justify-between text-center",children:[g.jsxs("div",{children:[g.jsx("div",{className:"text-3xl font-black text-gray-900 dark:text-white",children:d}),g.jsx("div",{className:"text-xs text-gray-500 uppercase",children:"Occupied"})]}),g.jsxs("div",{children:[g.jsx("div",{className:"text-3xl font-black text-gray-400 dark:text-gray-600",children:Math.max(0,h-d)}),g.jsx("div",{className:"text-xs text-gray-500 uppercase",children:"Available"})]}),g.jsxs("div",{children:[g.jsx("div",{className:"text-3xl font-black text-red-500",children:"2"}),g.jsx("div",{className:"text-xs text-red-400 uppercase font-bold",children:"Late"})]})]})]})]})]})}function DN({date:e,totalRequired:t,manifest:r,onUpdate:n,readOnly:i=!1}){const[l,o]=b.useState(!1),c=r||[],d=Math.max(c.length,t),h=Math.max(0,d-c.length),[m,p]=b.useState(c),v=_=>{_&&(_.preventDefault(),_.stopPropagation()),n(e,m),o(!1)},x=()=>{p([...m,{id:crypto.randomUUID(),po:"",carrier:"",time:"",status:"scheduled"}])},S=_=>{const j=[...m];j.splice(_,1),p(j)},k=(_,j,N)=>{const E=[...m];E[_]={...E[_],[j]:N},p(E)};return l?g.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-blue-200 dark:border-blue-900 shadow-lg",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white flex items-center",children:[g.jsx(Ru,{className:"w-5 h-5 mr-2 text-blue-500"}),"Edit Manifest: ",e]}),g.jsxs("div",{className:"space-x-2",children:[g.jsx("button",{type:"button",onClick:()=>o(!1),className:"text-xs text-gray-500 hover:text-gray-700",children:"Cancel"}),g.jsx("button",{type:"button",onClick:v,className:"px-3 py-1 bg-blue-600 text-white text-xs font-bold rounded shadow hover:bg-blue-500",children:"Save Changes"})]})]}),g.jsxs("div",{className:"space-y-2",children:[m.map((_,j)=>g.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 bg-gray-50 dark:bg-gray-700/50 p-3 rounded border border-gray-100 dark:border-gray-600",children:[g.jsxs("div",{className:"flex-1 w-full",children:[g.jsx("label",{className:"text-[10px] uppercase text-gray-400 font-bold block mb-1 sm:hidden",children:"Carrier"}),g.jsx("input",{className:"w-full text-sm font-bold bg-transparent border-b border-gray-300 focus:border-blue-500 outline-none dark:text-white pb-1",placeholder:"Carrier Name",value:_.carrier,onChange:N=>k(j,"carrier",N.target.value)})]}),g.jsxs("div",{className:"w-full sm:w-24",children:[g.jsx("label",{className:"text-[10px] uppercase text-gray-400 font-bold block mb-1 sm:hidden",children:"PO #"}),g.jsx("input",{className:"w-full text-sm font-mono bg-transparent border-b border-gray-300 focus:border-blue-500 outline-none dark:text-white pb-1",placeholder:"PO-123",value:_.po,onChange:N=>k(j,"po",N.target.value)})]}),g.jsxs("div",{className:"w-full sm:w-28",children:[g.jsx("label",{className:"text-[10px] uppercase text-gray-400 font-bold block mb-1 sm:hidden",children:"Time"}),g.jsxs("select",{className:"w-full text-sm bg-transparent border-b border-gray-300 focus:border-blue-500 outline-none dark:text-gray-200 dark:bg-gray-800 rounded px-1 pb-1",value:_.time,onChange:N=>k(j,"time",N.target.value),children:[g.jsx("option",{value:"",className:"text-gray-500",children:"TBD"}),Array.from({length:24}).map((N,E)=>{const P=E,T=`${String(P).padStart(2,"0")}:${String(0).padStart(2,"0")}`,C=P>=12?"PM":"AM",$=`${P%12||12}:00 ${C}`;return g.jsx("option",{value:T,className:"dark:bg-gray-800",children:$},T)})]})]}),g.jsx("div",{className:"w-full sm:w-auto flex justify-end",children:g.jsxs("button",{type:"button",onClick:()=>S(j),className:"text-red-400 hover:text-red-600 p-2 sm:p-1 bg-red-50 dark:bg-red-900/10 sm:bg-transparent rounded",children:[g.jsxs("div",{className:"flex items-center sm:hidden",children:[g.jsx(Es,{className:"w-4 h-4 mr-1"}),g.jsx("span",{className:"text-xs font-bold",children:"Remove"})]}),g.jsx(Es,{className:"w-4 h-4 hidden sm:block"})]})})]},_.id||j)),g.jsxs("button",{onClick:x,className:"w-full py-2 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded text-gray-400 dark:text-gray-500 hover:border-blue-400 hover:text-blue-500 flex items-center justify-center text-sm font-bold",children:[g.jsx(y6,{className:"w-4 h-4 mr-1"})," Add Truck"]})]})]}):g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("div",{}),!i&&(t>0||c.length>0)&&g.jsxs("button",{onClick:()=>{p(c.length?c:Array(t).fill().map(()=>({id:crypto.randomUUID(),po:"",carrier:"",time:""}))),o(!0)},className:"text-xs font-bold text-blue-600 hover:text-blue-500 flex items-center bg-blue-50 dark:bg-blue-900/20 px-2 py-1 rounded",children:[g.jsx(Ru,{className:"w-3 h-3 mr-1"}),"Edit Manifest"]})]}),c.map((_,j)=>g.jsx("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-gray-800 border-l-4 border-green-500 shadow-sm rounded-r-md",children:g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("span",{className:"font-bold text-gray-900 dark:text-white text-lg",children:_.carrier||_.supplier||"Pending Assignment"}),_.time&&g.jsxs("span",{className:"ml-2 text-sm font-bold bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 px-2 py-1 rounded flex items-center shadow-sm",children:[g.jsx(nc,{className:"w-4 h-4 mr-1"}),Iu(_.time)]})]}),g.jsx("div",{className:"flex flex-col text-xs text-gray-500 mt-1",children:g.jsxs("div",{className:"flex items-center",children:[g.jsx(_6,{className:"w-3 h-3 mr-1"}),g.jsxs("span",{className:"font-mono text-gray-700 dark:text-gray-300 font-bold mr-2",children:["PO: ",_.po||"N/A"]}),_.supplier&&_.carrier&&g.jsxs("span",{className:"text-gray-400",children:["(",_.supplier,")"]})]})})]})},j)),Array.from({length:h}).map((_,j)=>g.jsx("div",{className:"flex items-center justify-between p-3 bg-gray-50 border-l-4 border-gray-300 dark:border-gray-600 dark:bg-gray-800/50 rounded-r-md opacity-70 dashed-border",children:g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx("div",{className:"p-1.5 bg-gray-200 dark:bg-gray-700 rounded-full",children:g.jsx(Zn,{className:"w-5 h-5 text-gray-400"})}),g.jsxs("div",{children:[g.jsxs("p",{className:"text-sm font-bold text-gray-500 italic",children:["Planned Delivery Slot #",c.length+j+1]}),g.jsx("div",{className:"flex items-center text-xs text-gray-400 mt-0.5",children:g.jsx("span",{children:"Awaiting Carrier Assignment"})})]})]})},`p-${j}`)),d===0&&g.jsx("div",{className:"p-4 text-center text-gray-400 text-sm italic bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:"No Deliveries Needed"})]})}function ore({state:e,setters:t,results:r,readOnly:n=!1}){const[i,l]=b.useState(!1),{bottleSizes:o}=St(),[c,d]=b.useState({today:[],tomorrow:[]}),[h,m]=b.useState("ALL"),{poManifest:p,updateDailyManifest:v,bulkUpdateOrders:x}=_n(),S=zr(),k=In(S,1),_=new Date(k+"T00:00:00");b.useEffect(()=>{try{const C={today:[],tomorrow:[]};o.forEach(M=>{const $=`mrp_${M}_monthlyInbound`;let R={};try{const ce=localStorage.getItem($);ce&&(R=JSON.parse(ce))}catch{}const I=`mrp_${M}_truckManifest`;let q={};try{const ce=localStorage.getItem(I);ce&&(q=JSON.parse(ce))}catch{}const ae=ce=>{try{const me=p[ce];return!me||!me.items?[]:me.items.filter(Ee=>Ee.sku===M)}catch(me){return console.warn("Error reading global POs for date:",ce,me),[]}},te=ae(S),ie=ae(k),B=Number(R[S])||0,K=q[S]||[],le=te.map(ce=>({id:ce.id,time:ce.time,carrier:ce.carrier||ce.supplier,type:"PO",po:ce.po,details:`PO#${ce.po} (${ce.qty})`,isGlobal:!0})),W=[...K,...le],de=Math.max(B,W.length);(de>0||W.length>0)&&C.today.push({sku:M,count:de,manifest:W});const L=Number(R[k])||0,H=q[k]||[],X=ie.map(ce=>({id:ce.id,time:ce.time,carrier:ce.carrier||ce.supplier,type:"PO",po:ce.po,details:`PO#${ce.po} (${ce.qty})`,isGlobal:!0})),oe=[...H,...X],fe=Math.max(L,oe.length);(fe>0||oe.length>0)&&C.tomorrow.push({sku:M,count:fe,manifest:oe})}),d(C)}catch(C){console.error("Critical Error in LogisticsView Aggregation:",C),d({today:[],tomorrow:[]})}},[o,e.monthlyInbound,e.stateVersion,p,S,k]);const j=h==="ALL"?c.today:c.today.filter(C=>C.sku===h),N=h==="ALL"?c.tomorrow:c.tomorrow.filter(C=>C.sku===h),E=j.reduce((C,M)=>C+M.count,0),P=N.reduce((C,M)=>C+M.count,0),A=C=>C?C.toLocaleString():"0";if(!r)return g.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading Logistics Data..."});const{yardInventory:T}=r;return g.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[g.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center bg-slate-900 text-white p-6 rounded-2xl shadow-lg",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-black tracking-tight uppercase",children:"Floor Operations"}),g.jsxs("div",{className:"flex items-center space-x-2 mt-2 opacity-80",children:[g.jsxs("span",{className:"bg-slate-700 px-3 py-1 rounded text-sm font-mono",children:["ACTIVE: ",e.selectedSize]}),g.jsx("span",{className:"text-sm",children:new Date().toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})})]})]}),g.jsx("div",{className:"flex flex-col sm:flex-row gap-3 mt-4 md:mt-0 w-full md:w-auto",children:!n&&g.jsxs("button",{onClick:()=>l(!0),className:"flex items-center justify-center bg-emerald-500 hover:bg-emerald-400 text-slate-900 px-6 py-3 rounded-xl font-bold text-base md:text-lg transition-transform hover:scale-105 shadow-xl w-full sm:w-auto",children:[g.jsx(Mu,{className:"w-6 h-6 md:w-8 md:h-8 mr-2"}),"START DAY"]})})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-2xl border-2 border-gray-100 dark:border-gray-700 shadow-sm flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-bold uppercase tracking-wider text-sm",children:"Floor Inventory"}),g.jsxs("div",{className:"flex items-baseline mt-2",children:[g.jsx("span",{className:"text-6xl font-black text-slate-800 dark:text-white",children:A(Math.round(r.calculatedPallets))}),g.jsx("span",{className:"ml-2 text-xl font-medium text-gray-400",children:"Pallets"})]})]}),g.jsx("div",{className:"h-16 w-16 bg-blue-50 rounded-full flex items-center justify-center",children:g.jsx(Eb,{className:"w-8 h-8 text-blue-600"})})]}),g.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-2xl border-2 border-gray-100 dark:border-gray-700 shadow-sm flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-bold uppercase tracking-wider text-sm",children:"Yard Inventory"}),g.jsxs("div",{className:"flex items-baseline mt-2",children:[g.jsx("span",{className:"text-6xl font-black text-slate-800 dark:text-white",children:T.effectiveCount}),g.jsx("span",{className:"ml-2 text-xl font-medium text-gray-400",children:"Loads"})]}),T.isOverridden&&g.jsx("span",{className:"inline-block mt-2 px-2 py-1 bg-yellow-100 text-yellow-800 text-xs font-bold rounded",children:"MANUAL OVERRIDE"})]}),g.jsx("div",{className:"h-16 w-16 bg-orange-50 rounded-full flex items-center justify-center",children:g.jsx(Zn,{className:"w-8 h-8 text-orange-600"})})]})]}),g.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden",children:[g.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[g.jsxs("h2",{className:"text-lg font-bold text-gray-800 dark:text-white flex items-center",children:[g.jsx(zN,{className:"w-5 h-5 mr-2 text-gray-500"}),"Master Dock Schedule"]}),g.jsxs("div",{className:"flex space-x-1 bg-white dark:bg-gray-800 rounded-lg p-1 border dark:border-gray-600",children:[g.jsx("button",{onClick:()=>m("ALL"),className:`px-3 py-1 text-[10px] uppercase font-bold rounded ${h==="ALL"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":"text-gray-400 hover:text-gray-600"}`,children:"All"}),o.map(C=>g.jsx("button",{onClick:()=>m(C),className:`px-3 py-1 text-[10px] uppercase font-bold rounded ${h===C?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":"text-gray-400 hover:text-gray-600"}`,children:C},C))]})]}),g.jsxs("div",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:[g.jsxs("div",{className:"p-6 transition-colors",children:[g.jsxs("div",{className:"flex items-center mb-4",children:[g.jsx("div",{className:`w-3 h-12 rounded-full mr-4 ${E>0?"bg-green-500":"bg-gray-300"}`}),g.jsxs("div",{children:[g.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"TODAY"}),g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date().toLocaleDateString()})]}),g.jsx("div",{className:"ml-auto text-right",children:E>0?g.jsxs("span",{className:"text-sm font-bold text-green-600 bg-green-50 dark:bg-green-900/20 px-3 py-1 rounded-full uppercase",children:[E," Total Trucks"]}):null})]}),g.jsxs("div",{className:"pl-7 space-y-6",children:[j.length===0&&g.jsx("p",{className:"text-sm text-gray-400 italic",children:"No scheduled deliveries."}),j.map(C=>g.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[g.jsxs("h4",{className:"flex items-center text-xs font-bold text-gray-500 uppercase mb-3",children:[g.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500 mr-2"}),C.sku," Production Supply (",C.count," Trucks)"]}),g.jsx(DN,{date:S,totalRequired:C.count,manifest:C.manifest,readOnly:n,onUpdate:(M,$)=>{try{const I=r.specs?.bottlesPerTruck||2e4,q=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`uuid-${Date.now()}-${Math.random()}`,ae=$.map(K=>({id:K.id||q(),date:M,po:K.po||`TEMP-${Date.now()}`,sku:C.sku,qty:I,supplier:K.carrier||"Unknown",carrier:K.carrier,time:K.time,status:"scheduled",isGlobal:!0})),te=p[M]?.items||[],B=[...Array.isArray(te)?te.filter(K=>K.sku!==C.sku):[],...ae];v(M,B)}catch(R){console.error("Failed to update manifest (Today) in LogicsticsView:",R),alert("Error saving manifest. See console.")}try{const R=`mrp_${C.sku}_truckManifest`,I=localStorage.getItem(R);if(I){const q=JSON.parse(I);q[M]&&(delete q[M],localStorage.setItem(R,JSON.stringify(q)))}}catch(R){console.warn("Legacy cleanup failed (Today)",R)}}})]},C.sku))]})]}),g.jsxs("div",{className:"p-6 transition-colors opacity-95",children:[g.jsxs("div",{className:"flex items-center mb-4",children:[g.jsx("div",{className:`w-3 h-12 rounded-full mr-4 ${P>0?"bg-blue-500":"bg-gray-300"}`}),g.jsxs("div",{children:[g.jsx("p",{className:"text-xl font-bold text-gray-700 dark:text-gray-300",children:"TOMORROW"}),g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:_.toLocaleDateString()})]})]}),g.jsxs("div",{className:"pl-7 space-y-6",children:[N.length===0&&g.jsx("p",{className:"text-sm text-gray-400 italic",children:"No scheduled deliveries."}),N.map(C=>g.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[g.jsxs("h4",{className:"flex items-center text-xs font-bold text-gray-500 uppercase mb-3",children:[g.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500 mr-2"}),C.sku," Production Supply (",C.count," Trucks)"]}),g.jsx(DN,{date:k,totalRequired:C.count,manifest:C.manifest,readOnly:n,onUpdate:(M,$)=>{try{const I=r.specs?.bottlesPerTruck||2e4,q=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`uuid-${Date.now()}-${Math.random()}`,ae=$.map(K=>({id:K.id||q(),date:M,po:K.po||"TBD",sku:C.sku,qty:I,supplier:K.carrier||"Unknown",carrier:K.carrier,time:K.time,status:"scheduled",isGlobal:!0})),te=p[M]?.items||[],B=[...Array.isArray(te)?te.filter(K=>K.sku!==C.sku):[],...ae];v(M,B)}catch(R){console.error("Failed to update manifest in LogicsticsView:",R),alert("Error saving manifest. See console.")}try{const R=`mrp_${C.sku}_truckManifest`,I=localStorage.getItem(R);if(I){const q=JSON.parse(I);q[M]&&(delete q[M],localStorage.setItem(R,JSON.stringify(q)))}}catch(R){console.warn("Legacy cleanup failed (tomorrow)",R)}}})]},C.sku))]})]})]}),g.jsx("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-4 text-center",children:g.jsx("p",{className:"text-xs text-gray-500",children:"For the full 30-day schedule, ask a Planner or switch to the Planning View."})})]}),g.jsx(pT,{isOpen:i,onClose:()=>l(!1),state:e,setters:t})]})}const ure=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),cre=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),MN=e=>{const t=cre(e);return t.charAt(0).toUpperCase()+t.slice(1)},f3=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),dre=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var fre={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const hre=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:l,iconNode:o,...c},d)=>b.createElement("svg",{ref:d,...fre,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:f3("lucide",i),...!l&&!dre(c)&&{"aria-hidden":"true"},...c},[...o.map(([h,m])=>b.createElement(h,m)),...Array.isArray(l)?l:[l]]));const go=(e,t)=>{const r=b.forwardRef(({className:n,...i},l)=>b.createElement(hre,{ref:l,iconNode:t,className:f3(`lucide-${ure(MN(e))}`,`lucide-${e}`,n),...i}));return r.displayName=MN(e),r};const mre=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],gre=go("boxes",mre);const pre=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],vre=go("calendar-clock",pre);const yre=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],bre=go("crown",yre);const xre=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],wre=go("gauge",xre);const Sre=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Df=go("package",Sre);const _re=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],kre=go("truck",_re);function jre({isOpen:e,onClose:t,product:r,onSave:n,readOnly:i=!1}){const{user:l}=_r(),[o,c]=b.useState({name:"",description:"",bottles_per_case:12,bottles_per_truck:2e4,cases_per_pallet:100,lines:[]}),[d,h]=b.useState(!1),[m,p]=b.useState(null);b.useEffect(()=>{e&&(c(r?{name:r.name,description:r.description||"",color_tag:r.color_tag||"#3B82F6",bottles_per_case:r.bottles_per_case||24,cases_per_pallet:r.cases_per_pallet||100,bottles_per_truck:r.bottles_per_truck||1e5,lines:r.production_settings?.length>0?r.production_settings.map(_=>({line_name:_.line_name,production_rate:_.production_rate})):[{line_name:"Line 1",production_rate:2500}]}:{name:"",description:"",color_tag:"#3B82F6",bottles_per_case:24,cases_per_pallet:100,bottles_per_truck:1e5,lines:[{line_name:"Line 1",production_rate:2500}]}),p(null))},[e,r]);const v=()=>{c(_=>({..._,lines:[..._.lines,{line_name:`Line ${_.lines.length+1}`,production_rate:2500}]}))},x=_=>{c(j=>({...j,lines:j.lines.filter((N,E)=>E!==_)}))},S=(_,j,N)=>{const E=[...o.lines];E[_][j]=N,c({...o,lines:E})},k=async _=>{if(_.preventDefault(),!(!l||i)){h(!0),p(null);try{const j={name:o.name,description:o.description,color_tag:o.color_tag,bottles_per_case:Number(o.bottles_per_case),bottles_per_truck:Number(o.bottles_per_truck),cases_per_pallet:Number(o.cases_per_pallet),user_id:l.id};r?.id&&(j.id=r.id);const{data:N,error:E}=await Re.from("products").upsert(j,{onConflict:"name"}).select().single();if(E)throw E;const P=o.lines.map(T=>({product_id:N.id,user_id:l.id,line_name:T.line_name||"Line 1",production_rate:Number(T.production_rate)})),{error:A}=await Re.from("production_settings").upsert(P,{onConflict:"product_id, line_name"});if(A)throw A;n(),t()}catch(j){console.error("Save Error:",j),p(j.message||"Failed to save product")}finally{h(!1)}}};return g.jsxs(wt,{open:e,onClose:t,className:"relative z-50",children:[g.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm","aria-hidden":"true"}),g.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:g.jsxs(wt.Panel,{className:"w-full max-w-lg rounded-2xl bg-white dark:bg-gray-800 p-6 shadow-xl border border-gray-200 dark:border-gray-700 max-h-[90vh] overflow-y-auto",children:[g.jsx(wt.Title,{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:i?"View Product Configuration":r?"Edit Product Configuration":"Add New Product"}),m&&g.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg text-sm",children:m}),g.jsxs("form",{onSubmit:k,className:"space-y-5",children:[g.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-xl space-y-4",children:[g.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Identification"}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-[10px] font-medium text-gray-500 uppercase mb-1",children:"SKU Name"}),g.jsx("input",{type:"text",required:!0,value:o.name,onChange:_=>c({...o,name:_.target.value}),disabled:!!r||i,className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white font-bold focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"e.g. 20oz Cola"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-[10px] font-medium text-gray-500 uppercase mb-1",children:"Display Color"}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("input",{type:"color",value:o.color_tag,onChange:_=>c({...o,color_tag:_.target.value}),disabled:i,className:"h-9 w-12 rounded cursor-pointer border-0 p-0 disabled:opacity-50"}),g.jsx("span",{className:"text-xs text-gray-400",children:"Calendar Tag"})]})]}),g.jsxs("div",{className:"col-span-2",children:[g.jsx("label",{className:"block text-[10px] font-medium text-gray-500 uppercase mb-1",children:"Description (Optional)"}),g.jsx("input",{type:"text",value:o.description,onChange:_=>c({...o,description:_.target.value}),disabled:i,className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm disabled:opacity-50",placeholder:"e.g. Standard 24pk Tray"})]})]})]}),g.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/10 p-4 rounded-xl space-y-4",children:[g.jsx("h3",{className:"text-xs font-bold text-emerald-600 uppercase tracking-wider",children:" Finished Product Spec"}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Pack Size"}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("input",{type:"number",required:!0,min:"1",value:o.bottles_per_case,onChange:_=>c({...o,bottles_per_case:_.target.value}),disabled:i,className:"w-full px-3 py-2 rounded-lg border border-emerald-200 dark:border-emerald-800 bg-emerald-50/50 dark:bg-emerald-900/20 text-emerald-900 dark:text-emerald-100 text-sm font-bold disabled:opacity-50"}),g.jsx("span",{className:"text-xs text-emerald-600 dark:text-emerald-400",children:"units/case"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Pallet Count"}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("input",{type:"number",required:!0,min:"1",value:o.cases_per_pallet,onChange:_=>c({...o,cases_per_pallet:_.target.value}),disabled:i,className:"w-full px-3 py-2 rounded-lg border border-emerald-200 dark:border-emerald-800 bg-emerald-50/50 dark:bg-emerald-900/20 text-emerald-900 dark:text-emerald-100 text-sm font-bold disabled:opacity-50"}),g.jsx("span",{className:"text-xs text-emerald-600 dark:text-emerald-400",children:"cases/plt"})]})]})]})]}),g.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-4 rounded-xl space-y-4",children:[g.jsx("h3",{className:"text-xs font-bold text-blue-600 uppercase tracking-wider",children:" Raw Material Truck Spec"}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Inbound Truck Quantity"}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("input",{type:"number",required:!0,min:"1",step:"100",value:o.bottles_per_truck,onChange:_=>c({...o,bottles_per_truck:_.target.value}),disabled:i,className:"w-full px-3 py-2 rounded-lg border border-blue-200 dark:border-blue-800 bg-blue-50/50 dark:bg-blue-900/20 text-blue-900 dark:text-blue-100 text-lg font-black tracking-tight disabled:opacity-50"}),g.jsx("span",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium",children:"units / truck"})]}),g.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Total quantity of empty bottles/cans on a single full truckload."})]})]}),g.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-4 rounded-xl space-y-3",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("h3",{className:"text-xs font-bold text-blue-500 uppercase tracking-wider",children:"Production Lines"}),!i&&g.jsxs("button",{type:"button",onClick:v,className:"text-xs text-blue-600 hover:text-blue-800 font-medium flex items-center gap-1",children:[g.jsx(Ih,{className:"w-3 h-3"})," Add Line"]})]}),g.jsxs("div",{className:"space-y-2",children:[o.lines.map((_,j)=>g.jsxs("div",{className:"flex gap-2 items-center",children:[g.jsx("input",{type:"text",value:_.line_name,onChange:N=>S(j,"line_name",N.target.value),placeholder:"Line Name",disabled:i,className:"flex-1 px-3 py-1.5 rounded-lg border border-gray-200 dark:border-gray-600 text-sm disabled:opacity-50"}),g.jsx("input",{type:"number",value:_.production_rate,onChange:N=>S(j,"production_rate",N.target.value),placeholder:"CPH",disabled:i,className:"w-24 px-3 py-1.5 rounded-lg border border-gray-200 dark:border-gray-600 text-sm text-right disabled:opacity-50"}),!i&&g.jsx("button",{type:"button",onClick:()=>x(j),className:"p-1.5 text-red-500 hover:bg-red-100 rounded-lg transition-colors",title:"Remove Line",children:g.jsx(Es,{className:"w-4 h-4"})})]},j)),o.lines.length===0&&g.jsx("p",{className:"text-xs text-center text-gray-400 py-2",children:"No active production lines."})]})]}),g.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t dark:border-gray-700 mt-6",children:[g.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded-lg text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:i?"Close":"Cancel"}),!i&&g.jsx("button",{type:"submit",disabled:d,className:"px-4 py-2 rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50 shadow-sm",children:d?"Saving...":"Save Configuration"})]})]})]})})]})}function Ere({readOnly:e=!1}){const{user:t}=_r(),{products:r,loading:n,refreshProducts:i}=sc(),[l,o]=b.useState(!1),[c,d]=b.useState(null),h=v=>{d(v),o(!0)},m=()=>{d(null),o(!0)},p=()=>{i()};return g.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[g.jsxs("div",{className:"flex justify-between items-center bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[g.jsxs("div",{children:[g.jsxs("h1",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[g.jsx(Df,{className:"w-6 h-6 text-blue-600"}),"Product Master Data"]}),g.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage SKUs, dimensions, and run rates."})]}),g.jsx("div",{className:"flex gap-2",children:!e&&g.jsxs("button",{onClick:m,className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium shadow-sm transition-all",children:[g.jsx(Ih,{className:"w-5 h-5"}),"Add Product"]})})]}),n?g.jsx("div",{className:"flex justify-center p-12",children:g.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.map(v=>g.jsxs("div",{onClick:()=>h(v),className:"group bg-white dark:bg-gray-800 rounded-xl p-5 border border-gray-200 dark:border-gray-700 shadow-sm hover:shadow-md hover:border-blue-300 dark:hover:border-blue-700 cursor-pointer transition-all",children:[g.jsxs("div",{className:"flex justify-between items-start mb-4",children:[g.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:g.jsx(Df,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),g.jsxs("span",{className:"text-xs font-mono text-gray-400",children:["ID: ",v.id.slice(0,4),"..."]})]}),g.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1",children:v.name}),v.description&&g.jsx("p",{className:"text-xs text-gray-500 mb-4 line-clamp-2",children:v.description}),g.jsxs("div",{className:"space-y-3 text-sm mt-4",children:[g.jsxs("div",{className:"flex justify-between py-1 border-b border-gray-100 dark:border-gray-700/50",children:[g.jsxs("span",{className:"text-gray-500 flex items-center gap-2",children:[g.jsx(Zn,{className:"w-4 h-4"}),"Bottles/Truck"]}),g.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-200",children:v.bottles_per_truck?.toLocaleString()})]}),g.jsxs("div",{className:"flex justify-between py-1 border-b border-gray-100 dark:border-gray-700/50",children:[g.jsx("span",{className:"text-gray-500",children:"Bottles/Case"}),g.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-200",children:v.bottles_per_case})]}),g.jsxs("div",{className:"flex justify-between py-1 border-b border-gray-100 dark:border-gray-700/50",children:[g.jsx("span",{className:"text-gray-500",children:"Cases/Pallet"}),g.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-200",children:v.cases_per_pallet})]}),g.jsxs("div",{className:"pt-2",children:[g.jsxs("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-2 block flex items-center gap-1",children:[g.jsx(KR,{className:"w-3 h-3 text-amber-500"}),"Run Rates (CPH)"]}),g.jsx("div",{className:"space-y-1",children:v.production_settings?.length>0?v.production_settings.map(x=>g.jsxs("div",{className:"flex justify-between text-xs bg-gray-50 dark:bg-gray-700/50 px-2 py-1 rounded",children:[g.jsx("span",{className:"text-gray-600 dark:text-gray-300 font-medium",children:x.line_name}),g.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:x.production_rate?.toLocaleString()})]},x.id||x.line_name)):g.jsx("div",{className:"text-xs text-gray-400 italic",children:"No rates configured"})})]})]})]},v.id)),r.length===0&&g.jsxs("div",{className:"col-span-full py-12 text-center text-gray-400 border-2 border-dashed border-gray-200 rounded-xl",children:[g.jsx(Df,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),g.jsx("p",{children:"No products found. Add your first SKU!"})]})]}),g.jsx(jre,{isOpen:l,onClose:()=>o(!1),product:c,onSave:p,readOnly:e})]})}function Ore({title:e,titleId:t,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?b.createElement("title",{id:t},e):null,b.createElement("path",{fillRule:"evenodd",d:"M12.53 16.28a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 0 1 1.06-1.06L12 14.69l6.97-6.97a.75.75 0 1 1 1.06 1.06l-7.5 7.5Z",clipRule:"evenodd"}))}const Nre=b.forwardRef(Ore);function Are({mrp:e,scheduler:t,activeSku:r}){const{formState:n,setters:i,results:l}=e,{bottleSizes:o}=St();if(!l)return null;const c=st(new Date),d=l?.dailyLedger||[];d.find(C=>C.date===c);const h=l.calculatedPallets||0,m=n.yardInventory?.count||0,p=l.specs||{},v=p.bottlesPerCase||1,x=p.casesPerPallet||1,k=(l.safetyTarget||0)/(v*x),_=(p.bottlesPerTruck||2e4)/(v*x),j=h+m*_;let N=0,E=!1;for(const C of d){if(C.balance<0){E=!0;break}C.date>=c&&N++}const P=E?N:"14+",A=E?N<=2?"text-rose-600 dark:text-rose-400":"text-amber-600 dark:text-amber-400":"text-emerald-600 dark:text-emerald-400",T=E?N<=2?"border-rose-200 dark:border-rose-900 bg-rose-50 dark:bg-rose-900/10":"border-amber-200 dark:border-amber-900 bg-amber-50 dark:bg-amber-900/10":"border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900";return g.jsx("div",{className:`w-full mb-6 rounded-xl border p-4 shadow-sm transition-all ${T}`,children:g.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between gap-6",children:[g.jsxs("div",{className:"flex items-center gap-6 w-full lg:w-auto",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"h-12 w-12 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center flex-shrink-0 shadow-inner",children:g.jsx(Eb,{className:"w-6 h-6 text-slate-500"})}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-xs font-bold uppercase tracking-wider text-slate-500 dark:text-slate-400",children:"Production Plan"}),g.jsxs("div",{className:"relative group flex items-center",children:[g.jsx("select",{className:"appearance-none bg-transparent hover:bg-slate-50 dark:hover:bg-slate-800 text-xl font-extrabold text-slate-800 dark:text-white pr-6 py-0.5 rounded cursor-pointer outline-none focus:ring-2 focus:ring-blue-500 transition-colors",value:n.selectedSize,onChange:C=>i.setSelectedSize(C.target.value),children:o.map(C=>g.jsx("option",{value:C,children:C},C))}),g.jsx(Nre,{className:"w-4 h-4 text-slate-400 -ml-4 pointer-events-none group-hover:text-blue-500"})]})]})]}),g.jsxs("div",{className:"hidden md:flex items-center gap-4 border-l border-slate-200 dark:border-slate-700 pl-6",children:[g.jsx($N,{label:"Rate (cph)",value:n.productionRate,onChange:C=>i.setProductionRate(C),width:"w-20"}),g.jsx($N,{label:"Downtime (hr)",value:n.downtimeHours,onChange:C=>i.setDowntimeHours(C),width:"w-16"})]})]}),g.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 w-full lg:w-auto flex-grow justify-end",children:[g.jsx("div",{className:"text-center md:text-right",children:g.jsx(RN,{label:"Floor Stock",value:Math.round(h),unit:"plts",onSave:C=>i.setInventoryAnchor({date:zr(),count:Number(C)})})}),g.jsx("div",{className:"text-center md:text-right border-l dark:border-slate-700 pl-6",children:g.jsx(RN,{label:"Yard Stock",value:Number(m),unit:"loads",onSave:C=>i.updateYardInventory(C),colorClass:"text-blue-600 dark:text-blue-400"})}),g.jsxs("div",{className:"text-center md:text-right border-l dark:border-slate-700 pl-6",children:[g.jsx("div",{className:"text-xs font-bold uppercase tracking-wider text-slate-400",children:"Runway"}),g.jsxs("div",{className:`text-2xl font-black flex items-center justify-center md:justify-end gap-2 ${A}`,children:[E?g.jsx(FN,{className:"w-5 h-5"}):g.jsx(nc,{className:"w-5 h-5"}),P," ",g.jsx("span",{className:"text-sm text-slate-400 font-medium",children:"Days"})]})]}),g.jsx("div",{className:"hidden md:flex flex-col items-end justify-center border-l dark:border-slate-700 pl-6",children:g.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide border ${j>=k?"bg-emerald-50 text-emerald-700 border-emerald-200 dark:bg-emerald-900/20 dark:text-emerald-400":"bg-amber-50 text-amber-700 border-amber-200 dark:bg-amber-900/20 dark:text-amber-400"}`,children:j>=k?"Secure":"Below Safety"})})]})]})})}function RN({label:e,value:t,unit:r,onSave:n,colorClass:i="text-slate-700 dark:text-slate-200"}){const[l,o]=b.useState(!1),[c,d]=b.useState(t);b.useEffect(()=>d(t),[t]);const h=m=>{m.key==="Enter"&&(n(c),o(!1))};return l?g.jsxs("div",{className:"flex flex-col items-end",children:[g.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-slate-400 mb-1",children:e}),g.jsx("input",{autoFocus:!0,type:"number",className:"w-24 text-right text-xl font-bold p-1 bg-white dark:bg-slate-800 border-2 border-blue-400 rounded shadow-md outline-none",value:c,onChange:m=>d(m.target.value),onBlur:()=>{n(c),o(!1)},onKeyDown:h})]}):g.jsxs("div",{className:"group cursor-pointer relative",onClick:()=>o(!0),children:[g.jsxs("div",{className:"flex items-center justify-end gap-1 mb-0.5",children:[g.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-slate-400 group-hover:text-blue-500 transition-colors",children:e}),g.jsx(Ru,{className:"w-3 h-3 text-slate-300 opacity-0 group-hover:opacity-100 transition-opacity"})]}),g.jsxs("div",{className:`text-2xl font-black ${i} group-hover:bg-slate-50 dark:group-hover:bg-slate-800 rounded px-1 -mr-1 transition-colors`,children:[Number(t).toLocaleString()," ",g.jsx("span",{className:"text-xs font-medium text-slate-400",children:r})]})]})}function $N({label:e,value:t,onChange:r,width:n}){return g.jsxs("div",{className:"flex flex-col",children:[g.jsx("label",{className:"text-[10px] uppercase font-bold text-slate-400 mb-0.5 ml-1",children:e}),g.jsx("input",{type:"number",className:`${n} bg-transparent hover:bg-slate-50 dark:hover:bg-slate-800 border-b-2 border-transparent hover:border-slate-300 dark:hover:border-slate-600 rounded-t p-1 text-lg font-extrabold text-slate-800 dark:text-white focus:bg-white dark:focus:bg-slate-800 focus:border-blue-500 focus:ring-0 outline-none transition-all`,value:t,onChange:i=>r(i.target.value)})]})}function Tre(){const{user:e,loading:t,userRole:r}=_r(),{uploadLocalData:n}=no(),{bottleSizes:i}=St();return b.useEffect(()=>{e&&n(e,i,r)},[e,i,n,r]),b.useEffect(()=>{document.title="UBP Planner v2.25.42"},[]),t?g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-slate-900 transition-colors",children:g.jsxs("div",{className:"flex flex-col items-center",children:[g.jsx("div",{className:"h-24 w-24 bg-white rounded-full shadow-2xl shadow-blue-500/20 flex items-center justify-center overflow-hidden animate-pulse",children:g.jsx("img",{src:Hh,className:"h-[95%] w-[95%] object-contain",alt:"Loading..."})}),g.jsx("div",{className:"mt-6 text-slate-400 font-extrabold tracking-[0.2em] uppercase text-xs animate-pulse",children:"Loading Planner..."})]})}):e?g.jsx(GL,{children:g.jsx(YL,{children:g.jsx(Cre,{user:e})})}):g.jsx(sre,{})}function Cre({user:e}){const{userRole:t}=_r(),r=t||"admin",n=["admin","planner"].includes(r),i=["admin","planner","logistics"].includes(r),[l,o]=b.useState(()=>localStorage.getItem("activeTab")||"logistics"),[c,d]=b.useState(!1);b.useEffect(()=>{(l==="mrp"||l==="master")&&!n&&o("logistics"),localStorage.setItem("activeTab",l)},[l,n]);const{poManifest:h}=_n(),m=rre(h),p=nre(),{bottleSizes:v,activeSku:x}=St(),S=are(v);return g.jsxs("div",{id:"main-app-wrapper",className:"min-h-screen flex flex-col transition-colors duration-200",children:[g.jsx(KL,{onOpenSettings:()=>d(!0),isSaving:m.formState.isSaving,saveError:m.formState.saveError}),g.jsxs("main",{className:"flex-grow p-2 md:p-6 w-full",children:[g.jsx(Are,{mrp:m,scheduler:p,activeSku:x}),g.jsx("div",{className:"mb-8 no-print overflow-x-auto pb-2 -mx-4 px-4 md:mx-0 md:px-0",children:g.jsxs("div",{className:"inline-flex p-1.5 bg-gray-100/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-xl border border-gray-200/50 dark:border-gray-700/50 shadow-inner min-w-full md:min-w-0",children:[g.jsxs("button",{onClick:()=>o("logistics"),className:`flex items-center space-x-2 px-4 py-2.5 rounded-lg text-sm font-bold transition-all duration-200 flex-1 md:flex-none justify-center whitespace-nowrap ${l==="logistics"?"bg-white dark:bg-slate-700 text-emerald-600 dark:text-emerald-400 shadow-sm ring-1 ring-black/5 dark:ring-white/10":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 hover:bg-gray-200/50 dark:hover:bg-gray-700/50"}`,children:[g.jsx(kre,{className:"w-4 h-4"}),g.jsx("span",{children:"Floor Ops"})]}),n&&g.jsxs("button",{onClick:()=>o("mrp"),className:`flex items-center space-x-2 px-4 py-2.5 rounded-lg text-sm font-bold transition-all duration-200 flex-1 md:flex-none justify-center whitespace-nowrap ${l==="mrp"?"bg-white dark:bg-gray-700 text-blue-600 dark:text-blue-400 shadow-sm ring-1 ring-black/5 dark:ring-white/10":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 hover:bg-gray-200/50 dark:hover:bg-gray-700/50"}`,children:[g.jsx(gre,{className:"w-4 h-4"}),g.jsx("span",{children:"Materials"})]}),g.jsxs("button",{onClick:()=>o("scheduler"),className:`flex items-center space-x-2 px-4 py-2.5 rounded-lg text-sm font-bold transition-all duration-200 flex-1 md:flex-none justify-center whitespace-nowrap ${l==="scheduler"?"bg-white dark:bg-gray-700 text-purple-600 dark:text-purple-400 shadow-sm ring-1 ring-black/5 dark:ring-white/10":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 hover:bg-gray-200/50 dark:hover:bg-gray-700/50"}`,children:[g.jsx(vre,{className:"w-4 h-4"}),g.jsx("span",{children:"Scheduler"})]}),n&&g.jsxs("button",{onClick:()=>o("master"),className:`flex items-center space-x-2 px-4 py-2.5 rounded-lg text-sm font-bold transition-all duration-200 flex-1 md:flex-none justify-center whitespace-nowrap ${l==="master"?"bg-white dark:bg-gray-700 text-amber-600 dark:text-amber-400 shadow-sm ring-1 ring-black/5 dark:ring-white/10":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 hover:bg-gray-200/50 dark:hover:bg-gray-700/50"}`,children:[g.jsx(bre,{className:"w-4 h-4"}),g.jsx("span",{children:"Master Plan"})]}),g.jsxs("button",{onClick:()=>o("products"),className:`flex items-center space-x-2 px-4 py-2.5 rounded-lg text-sm font-bold transition-all duration-200 flex-1 md:flex-none justify-center whitespace-nowrap ${l==="products"?"bg-white dark:bg-gray-700 text-emerald-600 dark:text-emerald-400 shadow-sm ring-1 ring-black/5 dark:ring-white/10":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 hover:bg-gray-200/50 dark:hover:bg-gray-700/50"}`,children:[g.jsx(Df,{className:"w-4 h-4"}),g.jsx("span",{children:"Products"})]}),g.jsx("div",{className:"w-px bg-gray-300 dark:bg-gray-600 mx-1 my-2 hidden md:block"}),g.jsxs("button",{onClick:()=>o("cockpit"),className:`flex items-center space-x-2 px-4 py-2.5 rounded-lg text-sm font-bold transition-all duration-200 flex-1 md:flex-none justify-center whitespace-nowrap ${l==="cockpit"?"bg-gradient-to-r from-gray-800 to-gray-900 text-white shadow-md ring-1 ring-black/20":"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 hover:bg-gray-200/50 dark:hover:bg-gray-700/50"}`,children:[g.jsx(wre,{className:"w-4 h-4"}),g.jsx("span",{children:"Cockpit"}),l!=="cockpit"&&g.jsx("span",{className:"ml-1.5 px-1.5 py-0.5 rounded-full bg-blue-100 dark:bg-blue-900 text-[10px] text-blue-700 dark:text-blue-300 font-extrabold uppercase tracking-wide",children:"Beta"})]})]})}),g.jsx("div",{className:l==="logistics"?"block":"hidden",children:g.jsx(ore,{state:m.formState,setters:m.setters,results:m.results,readOnly:!i})}),g.jsx("div",{className:l==="mrp"?"block":"hidden",children:g.jsx(Gte,{state:m.formState,setters:m.setters,results:m.results,readOnly:!n})}),g.jsx("div",{className:l==="scheduler"?"block":"hidden",children:g.jsx(Jte,{state:p.formState,setters:p.setters,results:p.results,readOnly:!i})}),g.jsx("div",{className:l==="master"?"block":"hidden",children:g.jsx(ire,{masterLedger:S.masterLedger,loading:S.loading})}),g.jsx("div",{className:l==="products"?"block":"hidden",children:g.jsx(Ere,{readOnly:!i})}),g.jsx("div",{className:l==="cockpit"?"block":"hidden",children:g.jsx("div",{className:"-mx-4 md:-mx-6 -my-4 md:-my-6",children:g.jsx(lre,{mrpData:m,schedulerData:p,readOnly:!i})})})]}),c&&g.jsx(XL,{onClose:()=>d(!1)})]})}class Pre extends ge.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,r){this.setState({error:t,errorInfo:r}),console.error("Uncaught error:",t,r)}render(){return this.state.hasError?g.jsxs("div",{style:{padding:"20px",backgroundColor:"#fee2e2",border:"1px solid #ef4444",margin:"20px",borderRadius:"8px",color:"#7f1d1d"},children:[g.jsx("h1",{style:{fontSize:"1.5rem",fontWeight:"bold",marginBottom:"10px"},children:"Something went wrong."}),g.jsx("p",{style:{fontWeight:"bold"},children:this.state.error&&this.state.error.toString()}),g.jsx("details",{style:{marginTop:"10px",whiteSpace:"pre-wrap"},children:this.state.errorInfo&&this.state.errorInfo.componentStack})]}):this.props.children}}RR.createRoot(document.getElementById("root")).render(g.jsx(Pre,{children:g.jsx(HL,{children:g.jsx(VL,{children:g.jsx(Tre,{})})})}));
