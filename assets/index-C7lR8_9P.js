function zA(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();function va(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function wu(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){var a=!1;try{a=this instanceof n}catch{}return a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var Ng={exports:{}},Oc={};var s2;function d6(){if(s2)return Oc;s2=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,a,s){var l=null;if(s!==void 0&&(l=""+s),a.key!==void 0&&(l=""+a.key),"key"in a){s={};for(var u in a)u!=="key"&&(s[u]=a[u])}else s=a;return a=s.ref,{$$typeof:e,type:n,key:l,ref:a!==void 0?a:null,props:s}}return Oc.Fragment=t,Oc.jsx=r,Oc.jsxs=r,Oc}var o2;function f6(){return o2||(o2=1,Ng.exports=d6()),Ng.exports}var m=f6(),Og={exports:{}},Ie={};var l2;function h6(){if(l2)return Ie;l2=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),y=Symbol.iterator;function v(L){return L===null||typeof L!="object"?null:(L=y&&L[y]||L["@@iterator"],typeof L=="function"?L:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,S={};function j(L,K,U){this.props=L,this.context=K,this.refs=S,this.updater=U||w}j.prototype.isReactComponent={},j.prototype.setState=function(L,K){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,K,"setState")},j.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function N(){}N.prototype=j.prototype;function E(L,K,U){this.props=L,this.context=K,this.refs=S,this.updater=U||w}var D=E.prototype=new N;D.constructor=E,k(D,j.prototype),D.isPureReactComponent=!0;var O=Array.isArray;function T(){}var P={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function R(L,K,U){var te=U.ref;return{$$typeof:e,type:L,key:K,ref:te!==void 0?te:null,props:U}}function I(L,K){return R(L.type,K,L.props)}function M(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function z(L){var K={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(U){return K[U]})}var B=/\/+/g;function G(L,K){return typeof L=="object"&&L!==null&&L.key!=null?z(""+L.key):K.toString(36)}function ae(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(T,T):(L.status="pending",L.then(function(K){L.status==="pending"&&(L.status="fulfilled",L.value=K)},function(K){L.status==="pending"&&(L.status="rejected",L.reason=K)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function q(L,K,U,te,ne){var de=typeof L;(de==="undefined"||de==="boolean")&&(L=null);var ve=!1;if(L===null)ve=!0;else switch(de){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(L.$$typeof){case e:case t:ve=!0;break;case p:return ve=L._init,q(ve(L._payload),K,U,te,ne)}}if(ve)return ne=ne(L),ve=te===""?"."+G(L,0):te,O(ne)?(U="",ve!=null&&(U=ve.replace(B,"$&/")+"/"),q(ne,K,U,"",function(ce){return ce})):ne!=null&&(M(ne)&&(ne=I(ne,U+(ne.key==null||L&&L.key===ne.key?"":(""+ne.key).replace(B,"$&/")+"/")+ve)),K.push(ne)),1;ve=0;var be=te===""?".":te+":";if(O(L))for(var Z=0;Z<L.length;Z++)te=L[Z],de=be+G(te,Z),ve+=q(te,K,U,de,ne);else if(Z=v(L),typeof Z=="function")for(L=Z.call(L),Z=0;!(te=L.next()).done;)te=te.value,de=be+G(te,Z++),ve+=q(te,K,U,de,ne);else if(de==="object"){if(typeof L.then=="function")return q(ae(L),K,U,te,ne);throw K=String(L),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return ve}function F(L,K,U){if(L==null)return L;var te=[],ne=0;return q(L,te,"","",function(de){return K.call(U,de,ne++)}),te}function W(L){if(L._status===-1){var K=L._result;K=K(),K.then(function(U){(L._status===0||L._status===-1)&&(L._status=1,L._result=U)},function(U){(L._status===0||L._status===-1)&&(L._status=2,L._result=U)}),L._status===-1&&(L._status=0,L._result=K)}if(L._status===1)return L._result.default;throw L._result}var J=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},pe={map:F,forEach:function(L,K,U){F(L,function(){K.apply(this,arguments)},U)},count:function(L){var K=0;return F(L,function(){K++}),K},toArray:function(L){return F(L,function(K){return K})||[]},only:function(L){if(!M(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Ie.Activity=g,Ie.Children=pe,Ie.Component=j,Ie.Fragment=r,Ie.Profiler=a,Ie.PureComponent=E,Ie.StrictMode=n,Ie.Suspense=d,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(L){return P.H.useMemoCache(L)}},Ie.cache=function(L){return function(){return L.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(L,K,U){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var te=k({},L.props),ne=L.key;if(K!=null)for(de in K.key!==void 0&&(ne=""+K.key),K)!C.call(K,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&K.ref===void 0||(te[de]=K[de]);var de=arguments.length-2;if(de===1)te.children=U;else if(1<de){for(var ve=Array(de),be=0;be<de;be++)ve[be]=arguments[be+2];te.children=ve}return R(L.type,ne,te)},Ie.createContext=function(L){return L={$$typeof:l,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:s,_context:L},L},Ie.createElement=function(L,K,U){var te,ne={},de=null;if(K!=null)for(te in K.key!==void 0&&(de=""+K.key),K)C.call(K,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(ne[te]=K[te]);var ve=arguments.length-2;if(ve===1)ne.children=U;else if(1<ve){for(var be=Array(ve),Z=0;Z<ve;Z++)be[Z]=arguments[Z+2];ne.children=be}if(L&&L.defaultProps)for(te in ve=L.defaultProps,ve)ne[te]===void 0&&(ne[te]=ve[te]);return R(L,de,ne)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(L){return{$$typeof:u,render:L}},Ie.isValidElement=M,Ie.lazy=function(L){return{$$typeof:p,_payload:{_status:-1,_result:L},_init:W}},Ie.memo=function(L,K){return{$$typeof:f,type:L,compare:K===void 0?null:K}},Ie.startTransition=function(L){var K=P.T,U={};P.T=U;try{var te=L(),ne=P.S;ne!==null&&ne(U,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(T,J)}catch(de){J(de)}finally{K!==null&&U.types!==null&&(K.types=U.types),P.T=K}},Ie.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Ie.use=function(L){return P.H.use(L)},Ie.useActionState=function(L,K,U){return P.H.useActionState(L,K,U)},Ie.useCallback=function(L,K){return P.H.useCallback(L,K)},Ie.useContext=function(L){return P.H.useContext(L)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(L,K){return P.H.useDeferredValue(L,K)},Ie.useEffect=function(L,K){return P.H.useEffect(L,K)},Ie.useEffectEvent=function(L){return P.H.useEffectEvent(L)},Ie.useId=function(){return P.H.useId()},Ie.useImperativeHandle=function(L,K,U){return P.H.useImperativeHandle(L,K,U)},Ie.useInsertionEffect=function(L,K){return P.H.useInsertionEffect(L,K)},Ie.useLayoutEffect=function(L,K){return P.H.useLayoutEffect(L,K)},Ie.useMemo=function(L,K){return P.H.useMemo(L,K)},Ie.useOptimistic=function(L,K){return P.H.useOptimistic(L,K)},Ie.useReducer=function(L,K,U){return P.H.useReducer(L,K,U)},Ie.useRef=function(L){return P.H.useRef(L)},Ie.useState=function(L){return P.H.useState(L)},Ie.useSyncExternalStore=function(L,K,U){return P.H.useSyncExternalStore(L,K,U)},Ie.useTransition=function(){return P.H.useTransition()},Ie.version="19.2.1",Ie}var c2;function Sl(){return c2||(c2=1,Og.exports=h6()),Og.exports}var x=Sl();const we=va(x),Ey=zA({__proto__:null,default:we},[x]);var Ag={exports:{}},Ac={},Tg={exports:{}},Cg={};var u2;function m6(){return u2||(u2=1,(function(e){function t(q,F){var W=q.length;q.push(F);e:for(;0<W;){var J=W-1>>>1,pe=q[J];if(0<a(pe,F))q[J]=F,q[W]=pe,W=J;else break e}}function r(q){return q.length===0?null:q[0]}function n(q){if(q.length===0)return null;var F=q[0],W=q.pop();if(W!==F){q[0]=W;e:for(var J=0,pe=q.length,L=pe>>>1;J<L;){var K=2*(J+1)-1,U=q[K],te=K+1,ne=q[te];if(0>a(U,W))te<pe&&0>a(ne,U)?(q[J]=ne,q[te]=W,J=te):(q[J]=U,q[K]=W,J=K);else if(te<pe&&0>a(ne,W))q[J]=ne,q[te]=W,J=te;else break e}}return F}function a(q,F){var W=q.sortIndex-F.sortIndex;return W!==0?W:q.id-F.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],f=[],p=1,g=null,y=3,v=!1,w=!1,k=!1,S=!1,j=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function D(q){for(var F=r(f);F!==null;){if(F.callback===null)n(f);else if(F.startTime<=q)n(f),F.sortIndex=F.expirationTime,t(d,F);else break;F=r(f)}}function O(q){if(k=!1,D(q),!w)if(r(d)!==null)w=!0,T||(T=!0,z());else{var F=r(f);F!==null&&ae(O,F.startTime-q)}}var T=!1,P=-1,C=5,R=-1;function I(){return S?!0:!(e.unstable_now()-R<C)}function M(){if(S=!1,T){var q=e.unstable_now();R=q;var F=!0;try{e:{w=!1,k&&(k=!1,N(P),P=-1),v=!0;var W=y;try{t:{for(D(q),g=r(d);g!==null&&!(g.expirationTime>q&&I());){var J=g.callback;if(typeof J=="function"){g.callback=null,y=g.priorityLevel;var pe=J(g.expirationTime<=q);if(q=e.unstable_now(),typeof pe=="function"){g.callback=pe,D(q),F=!0;break t}g===r(d)&&n(d),D(q)}else n(d);g=r(d)}if(g!==null)F=!0;else{var L=r(f);L!==null&&ae(O,L.startTime-q),F=!1}}break e}finally{g=null,y=W,v=!1}F=void 0}}finally{F?z():T=!1}}}var z;if(typeof E=="function")z=function(){E(M)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,G=B.port2;B.port1.onmessage=M,z=function(){G.postMessage(null)}}else z=function(){j(M,0)};function ae(q,F){P=j(function(){q(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(q){switch(y){case 1:case 2:case 3:var F=3;break;default:F=y}var W=y;y=F;try{return q()}finally{y=W}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(q,F){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var W=y;y=q;try{return F()}finally{y=W}},e.unstable_scheduleCallback=function(q,F,W){var J=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?J+W:J):W=J,q){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=W+pe,q={id:p++,callback:F,priorityLevel:q,startTime:W,expirationTime:pe,sortIndex:-1},W>J?(q.sortIndex=W,t(f,q),r(d)===null&&q===r(f)&&(k?(N(P),P=-1):k=!0,ae(O,W-J))):(q.sortIndex=pe,t(d,q),w||v||(w=!0,T||(T=!0,z()))),q},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(q){var F=y;return function(){var W=y;y=F;try{return q.apply(this,arguments)}finally{y=W}}}})(Cg)),Cg}var d2;function p6(){return d2||(d2=1,Tg.exports=m6()),Tg.exports}var Pg={exports:{}},_r={};var f2;function g6(){if(f2)return _r;f2=1;var e=Sl();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(d,f,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:d,containerInfo:f,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return _r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,_r.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return s(d,f,null,p)},_r.flushSync=function(d){var f=l.T,p=n.p;try{if(l.T=null,n.p=2,d)return d()}finally{l.T=f,n.p=p,n.d.f()}},_r.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(d,f))},_r.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},_r.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,g=u(p,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,v=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?n.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:v}):p==="script"&&n.d.X(d,{crossOrigin:g,integrity:y,fetchPriority:v,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},_r.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=u(f.as,f.crossOrigin);n.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(d)},_r.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,g=u(p,f.crossOrigin);n.d.L(d,p,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},_r.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=u(f.as,f.crossOrigin);n.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(d)},_r.requestFormReset=function(d){n.d.r(d)},_r.unstable_batchedUpdates=function(d,f){return d(f)},_r.useFormState=function(d,f,p){return l.H.useFormState(d,f,p)},_r.useFormStatus=function(){return l.H.useHostTransitionStatus()},_r.version="19.2.1",_r}var h2;function UA(){if(h2)return Pg.exports;h2=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Pg.exports=g6(),Pg.exports}var m2;function v6(){if(m2)return Ac;m2=1;var e=p6(),t=Sl(),r=UA();function n(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function s(i){var o=i,c=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(c=o.return),i=o.return;while(i)}return o.tag===3?c:null}function l(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function u(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function d(i){if(s(i)!==i)throw Error(n(188))}function f(i){var o=i.alternate;if(!o){if(o=s(i),o===null)throw Error(n(188));return o!==i?null:i}for(var c=i,h=o;;){var b=c.return;if(b===null)break;var _=b.alternate;if(_===null){if(h=b.return,h!==null){c=h;continue}break}if(b.child===_.child){for(_=b.child;_;){if(_===c)return d(b),i;if(_===h)return d(b),o;_=_.sibling}throw Error(n(188))}if(c.return!==h.return)c=b,h=_;else{for(var A=!1,$=b.child;$;){if($===c){A=!0,c=b,h=_;break}if($===h){A=!0,h=b,c=_;break}$=$.sibling}if(!A){for($=_.child;$;){if($===c){A=!0,c=_,h=b;break}if($===h){A=!0,h=_,c=b;break}$=$.sibling}if(!A)throw Error(n(189))}}if(c.alternate!==h)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?i:o}function p(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=p(i),o!==null)return o;i=i.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),E=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function z(i){return i===null||typeof i!="object"?null:(i=M&&i[M]||i["@@iterator"],typeof i=="function"?i:null)}var B=Symbol.for("react.client.reference");function G(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===B?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case k:return"Fragment";case j:return"Profiler";case S:return"StrictMode";case O:return"Suspense";case T:return"SuspenseList";case R:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case w:return"Portal";case E:return i.displayName||"Context";case N:return(i._context.displayName||"Context")+".Consumer";case D:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case P:return o=i.displayName||null,o!==null?o:G(i.type)||"Memo";case C:o=i._payload,i=i._init;try{return G(i(o))}catch{}}return null}var ae=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},J=[],pe=-1;function L(i){return{current:i}}function K(i){0>pe||(i.current=J[pe],J[pe]=null,pe--)}function U(i,o){pe++,J[pe]=i.current,i.current=o}var te=L(null),ne=L(null),de=L(null),ve=L(null);function be(i,o){switch(U(de,o),U(ne,i),U(te,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?Ak(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=Ak(o),i=Tk(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}K(te),U(te,i)}function Z(){K(te),K(ne),K(de)}function ce(i){i.memoizedState!==null&&U(ve,i);var o=te.current,c=Tk(o,i.type);o!==c&&(U(ne,i),U(te,c))}function ye(i){ne.current===i&&(K(te),K(ne)),ve.current===i&&(K(ve),kc._currentValue=W)}var ie,xe;function X(i){if(ie===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);ie=o&&o[1]||"",xe=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ie+i+xe}var me=!1;function ge(i,o){if(!i||me)return"";me=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(o){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(se){var re=se}Reflect.construct(i,[],fe)}else{try{fe.call()}catch(se){re=se}i.call(fe.prototype)}}else{try{throw Error()}catch(se){re=se}(fe=i())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(se){if(se&&re&&typeof se.stack=="string")return[se.stack,re.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=h.DetermineComponentFrameRoot(),A=_[0],$=_[1];if(A&&$){var H=A.split(`
`),ee=$.split(`
`);for(b=h=0;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;for(;b<ee.length&&!ee[b].includes("DetermineComponentFrameRoot");)b++;if(h===H.length||b===ee.length)for(h=H.length-1,b=ee.length-1;1<=h&&0<=b&&H[h]!==ee[b];)b--;for(;1<=h&&0<=b;h--,b--)if(H[h]!==ee[b]){if(h!==1||b!==1)do if(h--,b--,0>b||H[h]!==ee[b]){var le=`
`+H[h].replace(" at new "," at ");return i.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",i.displayName)),le}while(1<=h&&0<=b);break}}}finally{me=!1,Error.prepareStackTrace=c}return(c=i?i.displayName||i.name:"")?X(c):""}function ke(i,o){switch(i.tag){case 26:case 27:case 5:return X(i.type);case 16:return X("Lazy");case 13:return i.child!==o&&o!==null?X("Suspense Fallback"):X("Suspense");case 19:return X("SuspenseList");case 0:case 15:return ge(i.type,!1);case 11:return ge(i.type.render,!1);case 1:return ge(i.type,!0);case 31:return X("Activity");default:return""}}function Oe(i){try{var o="",c=null;do o+=ke(i,c),c=i,i=i.return;while(i);return o}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var Me=Object.prototype.hasOwnProperty,ze=e.unstable_scheduleCallback,St=e.unstable_cancelCallback,lt=e.unstable_shouldYield,xr=e.unstable_requestPaint,Be=e.unstable_now,It=e.unstable_getCurrentPriorityLevel,Fe=e.unstable_ImmediatePriority,Ye=e.unstable_UserBlockingPriority,mt=e.unstable_NormalPriority,wa=e.unstable_LowPriority,hi=e.unstable_IdlePriority,bn=e.log,zr=e.unstable_setDisableYieldValue,Tr=null,Et=null;function tn(i){if(typeof bn=="function"&&zr(i),Et&&typeof Et.setStrictMode=="function")try{Et.setStrictMode(Tr,i)}catch{}}var wr=Math.clz32?Math.clz32:XM,YM=Math.log,WM=Math.LN2;function XM(i){return i>>>=0,i===0?32:31-(YM(i)/WM|0)|0}var Gu=256,Yu=262144,Wu=4194304;function ns(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Xu(i,o,c){var h=i.pendingLanes;if(h===0)return 0;var b=0,_=i.suspendedLanes,A=i.pingedLanes;i=i.warmLanes;var $=h&134217727;return $!==0?(h=$&~_,h!==0?b=ns(h):(A&=$,A!==0?b=ns(A):c||(c=$&~i,c!==0&&(b=ns(c))))):($=h&~_,$!==0?b=ns($):A!==0?b=ns(A):c||(c=h&~i,c!==0&&(b=ns(c)))),b===0?0:o!==0&&o!==b&&(o&_)===0&&(_=b&-b,c=o&-o,_>=c||_===32&&(c&4194048)!==0)?o:b}function Il(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function JM(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function u1(){var i=Wu;return Wu<<=1,(Wu&62914560)===0&&(Wu=4194304),i}function pm(i){for(var o=[],c=0;31>c;c++)o.push(i);return o}function Ll(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function QM(i,o,c,h,b,_){var A=i.pendingLanes;i.pendingLanes=c,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=c,i.entangledLanes&=c,i.errorRecoveryDisabledLanes&=c,i.shellSuspendCounter=0;var $=i.entanglements,H=i.expirationTimes,ee=i.hiddenUpdates;for(c=A&~c;0<c;){var le=31-wr(c),fe=1<<le;$[le]=0,H[le]=-1;var re=ee[le];if(re!==null)for(ee[le]=null,le=0;le<re.length;le++){var se=re[le];se!==null&&(se.lane&=-536870913)}c&=~fe}h!==0&&d1(i,h,0),_!==0&&b===0&&i.tag!==0&&(i.suspendedLanes|=_&~(A&~o))}function d1(i,o,c){i.pendingLanes|=o,i.suspendedLanes&=~o;var h=31-wr(o);i.entangledLanes|=o,i.entanglements[h]=i.entanglements[h]|1073741824|c&261930}function f1(i,o){var c=i.entangledLanes|=o;for(i=i.entanglements;c;){var h=31-wr(c),b=1<<h;b&o|i[h]&o&&(i[h]|=o),c&=~b}}function h1(i,o){var c=o&-o;return c=(c&42)!==0?1:gm(c),(c&(i.suspendedLanes|o))!==0?0:c}function gm(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function vm(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function m1(){var i=F.p;return i!==0?i:(i=window.event,i===void 0?32:Qk(i.type))}function p1(i,o){var c=F.p;try{return F.p=i,o()}finally{F.p=c}}var mi=Math.random().toString(36).slice(2),ir="__reactFiber$"+mi,Ur="__reactProps$"+mi,oo="__reactContainer$"+mi,ym="__reactEvents$"+mi,e3="__reactListeners$"+mi,t3="__reactHandles$"+mi,g1="__reactResources$"+mi,zl="__reactMarker$"+mi;function bm(i){delete i[ir],delete i[Ur],delete i[ym],delete i[e3],delete i[t3]}function lo(i){var o=i[ir];if(o)return o;for(var c=i.parentNode;c;){if(o=c[oo]||c[ir]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(i=Ik(i);i!==null;){if(c=i[ir])return c;i=Ik(i)}return o}i=c,c=i.parentNode}return null}function co(i){if(i=i[ir]||i[oo]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function Ul(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(n(33))}function uo(i){var o=i[g1];return o||(o=i[g1]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Qt(i){i[zl]=!0}var v1=new Set,y1={};function as(i,o){fo(i,o),fo(i+"Capture",o)}function fo(i,o){for(y1[i]=o,i=0;i<o.length;i++)v1.add(o[i])}var r3=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),b1={},x1={};function n3(i){return Me.call(x1,i)?!0:Me.call(b1,i)?!1:r3.test(i)?x1[i]=!0:(b1[i]=!0,!1)}function Ju(i,o,c){if(n3(o))if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var h=o.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+c)}}function Qu(i,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+c)}}function _a(i,o,c,h){if(h===null)i.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(c);return}i.setAttributeNS(o,c,""+h)}}function xn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function w1(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function a3(i,o,c){var h=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var b=h.get,_=h.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return b.call(this)},set:function(A){c=""+A,_.call(this,A)}}),Object.defineProperty(i,o,{enumerable:h.enumerable}),{getValue:function(){return c},setValue:function(A){c=""+A},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function xm(i){if(!i._valueTracker){var o=w1(i)?"checked":"value";i._valueTracker=a3(i,o,""+i[o])}}function _1(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var c=o.getValue(),h="";return i&&(h=w1(i)?i.checked?"true":"false":i.value),i=h,i!==c?(o.setValue(i),!0):!1}function ed(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var i3=/[\n"\\]/g;function wn(i){return i.replace(i3,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function wm(i,o,c,h,b,_,A,$){i.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.type=A:i.removeAttribute("type"),o!=null?A==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+xn(o)):i.value!==""+xn(o)&&(i.value=""+xn(o)):A!=="submit"&&A!=="reset"||i.removeAttribute("value"),o!=null?_m(i,A,xn(o)):c!=null?_m(i,A,xn(c)):h!=null&&i.removeAttribute("value"),b==null&&_!=null&&(i.defaultChecked=!!_),b!=null&&(i.checked=b&&typeof b!="function"&&typeof b!="symbol"),$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?i.name=""+xn($):i.removeAttribute("name")}function S1(i,o,c,h,b,_,A,$){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.type=_),o!=null||c!=null){if(!(_!=="submit"&&_!=="reset"||o!=null)){xm(i);return}c=c!=null?""+xn(c):"",o=o!=null?""+xn(o):c,$||o===i.value||(i.value=o),i.defaultValue=o}h=h??b,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=$?i.checked:!!h,i.defaultChecked=!!h,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(i.name=A),xm(i)}function _m(i,o,c){o==="number"&&ed(i.ownerDocument)===i||i.defaultValue===""+c||(i.defaultValue=""+c)}function ho(i,o,c,h){if(i=i.options,o){o={};for(var b=0;b<c.length;b++)o["$"+c[b]]=!0;for(c=0;c<i.length;c++)b=o.hasOwnProperty("$"+i[c].value),i[c].selected!==b&&(i[c].selected=b),b&&h&&(i[c].defaultSelected=!0)}else{for(c=""+xn(c),o=null,b=0;b<i.length;b++){if(i[b].value===c){i[b].selected=!0,h&&(i[b].defaultSelected=!0);return}o!==null||i[b].disabled||(o=i[b])}o!==null&&(o.selected=!0)}}function k1(i,o,c){if(o!=null&&(o=""+xn(o),o!==i.value&&(i.value=o),c==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=c!=null?""+xn(c):""}function j1(i,o,c,h){if(o==null){if(h!=null){if(c!=null)throw Error(n(92));if(ae(h)){if(1<h.length)throw Error(n(93));h=h[0]}c=h}c==null&&(c=""),o=c}c=xn(o),i.defaultValue=c,h=i.textContent,h===c&&h!==""&&h!==null&&(i.value=h),xm(i)}function mo(i,o){if(o){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=o;return}}i.textContent=o}var s3=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function E1(i,o,c){var h=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":h?i.setProperty(o,c):typeof c!="number"||c===0||s3.has(o)?o==="float"?i.cssFloat=c:i[o]=(""+c).trim():i[o]=c+"px"}function N1(i,o,c){if(o!=null&&typeof o!="object")throw Error(n(62));if(i=i.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||o!=null&&o.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var b in o)h=o[b],o.hasOwnProperty(b)&&c[b]!==h&&E1(i,b,h)}else for(var _ in o)o.hasOwnProperty(_)&&E1(i,_,o[_])}function Sm(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var o3=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),l3=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function td(i){return l3.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Sa(){}var km=null;function jm(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var po=null,go=null;function O1(i){var o=co(i);if(o&&(i=o.stateNode)){var c=i[Ur]||null;e:switch(i=o.stateNode,o.type){case"input":if(wm(i,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+wn(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var h=c[o];if(h!==i&&h.form===i.form){var b=h[Ur]||null;if(!b)throw Error(n(90));wm(h,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(o=0;o<c.length;o++)h=c[o],h.form===i.form&&_1(h)}break e;case"textarea":k1(i,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&ho(i,!!c.multiple,o,!1)}}}var Em=!1;function A1(i,o,c){if(Em)return i(o,c);Em=!0;try{var h=i(o);return h}finally{if(Em=!1,(po!==null||go!==null)&&(qd(),po&&(o=po,i=go,go=po=null,O1(o),i)))for(o=0;o<i.length;o++)O1(i[o])}}function Bl(i,o){var c=i.stateNode;if(c===null)return null;var h=c[Ur]||null;if(h===null)return null;c=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(n(231,o,typeof c));return c}var ka=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nm=!1;if(ka)try{var ql={};Object.defineProperty(ql,"passive",{get:function(){Nm=!0}}),window.addEventListener("test",ql,ql),window.removeEventListener("test",ql,ql)}catch{Nm=!1}var pi=null,Om=null,rd=null;function T1(){if(rd)return rd;var i,o=Om,c=o.length,h,b="value"in pi?pi.value:pi.textContent,_=b.length;for(i=0;i<c&&o[i]===b[i];i++);var A=c-i;for(h=1;h<=A&&o[c-h]===b[_-h];h++);return rd=b.slice(i,1<h?1-h:void 0)}function nd(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function ad(){return!0}function C1(){return!1}function Br(i){function o(c,h,b,_,A){this._reactName=c,this._targetInst=b,this.type=h,this.nativeEvent=_,this.target=A,this.currentTarget=null;for(var $ in i)i.hasOwnProperty($)&&(c=i[$],this[$]=c?c(_):_[$]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?ad:C1,this.isPropagationStopped=C1,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=ad)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=ad)},persist:function(){},isPersistent:ad}),o}var is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},id=Br(is),Hl=g({},is,{view:0,detail:0}),c3=Br(Hl),Am,Tm,Fl,sd=g({},Hl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pm,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Fl&&(Fl&&i.type==="mousemove"?(Am=i.screenX-Fl.screenX,Tm=i.screenY-Fl.screenY):Tm=Am=0,Fl=i),Am)},movementY:function(i){return"movementY"in i?i.movementY:Tm}}),P1=Br(sd),u3=g({},sd,{dataTransfer:0}),d3=Br(u3),f3=g({},Hl,{relatedTarget:0}),Cm=Br(f3),h3=g({},is,{animationName:0,elapsedTime:0,pseudoElement:0}),m3=Br(h3),p3=g({},is,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),g3=Br(p3),v3=g({},is,{data:0}),D1=Br(v3),y3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},b3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},x3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function w3(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=x3[i])?!!o[i]:!1}function Pm(){return w3}var _3=g({},Hl,{key:function(i){if(i.key){var o=y3[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=nd(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?b3[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pm,charCode:function(i){return i.type==="keypress"?nd(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?nd(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),S3=Br(_3),k3=g({},sd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),R1=Br(k3),j3=g({},Hl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pm}),E3=Br(j3),N3=g({},is,{propertyName:0,elapsedTime:0,pseudoElement:0}),O3=Br(N3),A3=g({},sd,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),T3=Br(A3),C3=g({},is,{newState:0,oldState:0}),P3=Br(C3),D3=[9,13,27,32],Dm=ka&&"CompositionEvent"in window,Vl=null;ka&&"documentMode"in document&&(Vl=document.documentMode);var R3=ka&&"TextEvent"in window&&!Vl,M1=ka&&(!Dm||Vl&&8<Vl&&11>=Vl),$1=" ",I1=!1;function L1(i,o){switch(i){case"keyup":return D3.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function z1(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var vo=!1;function M3(i,o){switch(i){case"compositionend":return z1(o);case"keypress":return o.which!==32?null:(I1=!0,$1);case"textInput":return i=o.data,i===$1&&I1?null:i;default:return null}}function $3(i,o){if(vo)return i==="compositionend"||!Dm&&L1(i,o)?(i=T1(),rd=Om=pi=null,vo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return M1&&o.locale!=="ko"?null:o.data;default:return null}}var I3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function U1(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!I3[i.type]:o==="textarea"}function B1(i,o,c,h){po?go?go.push(h):go=[h]:po=h,o=Yd(o,"onChange"),0<o.length&&(c=new id("onChange","change",null,c,h),i.push({event:c,listeners:o}))}var Kl=null,Zl=null;function L3(i){Sk(i,0)}function od(i){var o=Ul(i);if(_1(o))return i}function q1(i,o){if(i==="change")return o}var H1=!1;if(ka){var Rm;if(ka){var Mm="oninput"in document;if(!Mm){var F1=document.createElement("div");F1.setAttribute("oninput","return;"),Mm=typeof F1.oninput=="function"}Rm=Mm}else Rm=!1;H1=Rm&&(!document.documentMode||9<document.documentMode)}function V1(){Kl&&(Kl.detachEvent("onpropertychange",K1),Zl=Kl=null)}function K1(i){if(i.propertyName==="value"&&od(Zl)){var o=[];B1(o,Zl,i,jm(i)),A1(L3,o)}}function z3(i,o,c){i==="focusin"?(V1(),Kl=o,Zl=c,Kl.attachEvent("onpropertychange",K1)):i==="focusout"&&V1()}function U3(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return od(Zl)}function B3(i,o){if(i==="click")return od(o)}function q3(i,o){if(i==="input"||i==="change")return od(o)}function H3(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var rn=typeof Object.is=="function"?Object.is:H3;function Gl(i,o){if(rn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var c=Object.keys(i),h=Object.keys(o);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var b=c[h];if(!Me.call(o,b)||!rn(i[b],o[b]))return!1}return!0}function Z1(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function G1(i,o){var c=Z1(i);i=0;for(var h;c;){if(c.nodeType===3){if(h=i+c.textContent.length,i<=o&&h>=o)return{node:c,offset:o-i};i=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Z1(c)}}function Y1(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Y1(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function W1(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=ed(i.document);o instanceof i.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)i=o.contentWindow;else break;o=ed(i.document)}return o}function $m(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var F3=ka&&"documentMode"in document&&11>=document.documentMode,yo=null,Im=null,Yl=null,Lm=!1;function X1(i,o,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Lm||yo==null||yo!==ed(h)||(h=yo,"selectionStart"in h&&$m(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Yl&&Gl(Yl,h)||(Yl=h,h=Yd(Im,"onSelect"),0<h.length&&(o=new id("onSelect","select",null,o,c),i.push({event:o,listeners:h}),o.target=yo)))}function ss(i,o){var c={};return c[i.toLowerCase()]=o.toLowerCase(),c["Webkit"+i]="webkit"+o,c["Moz"+i]="moz"+o,c}var bo={animationend:ss("Animation","AnimationEnd"),animationiteration:ss("Animation","AnimationIteration"),animationstart:ss("Animation","AnimationStart"),transitionrun:ss("Transition","TransitionRun"),transitionstart:ss("Transition","TransitionStart"),transitioncancel:ss("Transition","TransitionCancel"),transitionend:ss("Transition","TransitionEnd")},zm={},J1={};ka&&(J1=document.createElement("div").style,"AnimationEvent"in window||(delete bo.animationend.animation,delete bo.animationiteration.animation,delete bo.animationstart.animation),"TransitionEvent"in window||delete bo.transitionend.transition);function os(i){if(zm[i])return zm[i];if(!bo[i])return i;var o=bo[i],c;for(c in o)if(o.hasOwnProperty(c)&&c in J1)return zm[i]=o[c];return i}var Q1=os("animationend"),e_=os("animationiteration"),t_=os("animationstart"),V3=os("transitionrun"),K3=os("transitionstart"),Z3=os("transitioncancel"),r_=os("transitionend"),n_=new Map,Um="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Um.push("scrollEnd");function qn(i,o){n_.set(i,o),as(o,[i])}var ld=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},_n=[],xo=0,Bm=0;function cd(){for(var i=xo,o=Bm=xo=0;o<i;){var c=_n[o];_n[o++]=null;var h=_n[o];_n[o++]=null;var b=_n[o];_n[o++]=null;var _=_n[o];if(_n[o++]=null,h!==null&&b!==null){var A=h.pending;A===null?b.next=b:(b.next=A.next,A.next=b),h.pending=b}_!==0&&a_(c,b,_)}}function ud(i,o,c,h){_n[xo++]=i,_n[xo++]=o,_n[xo++]=c,_n[xo++]=h,Bm|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function qm(i,o,c,h){return ud(i,o,c,h),dd(i)}function ls(i,o){return ud(i,null,null,o),dd(i)}function a_(i,o,c){i.lanes|=c;var h=i.alternate;h!==null&&(h.lanes|=c);for(var b=!1,_=i.return;_!==null;)_.childLanes|=c,h=_.alternate,h!==null&&(h.childLanes|=c),_.tag===22&&(i=_.stateNode,i===null||i._visibility&1||(b=!0)),i=_,_=_.return;return i.tag===3?(_=i.stateNode,b&&o!==null&&(b=31-wr(c),i=_.hiddenUpdates,h=i[b],h===null?i[b]=[o]:h.push(o),o.lane=c|536870912),_):null}function dd(i){if(50<vc)throw vc=0,Xp=null,Error(n(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var wo={};function G3(i,o,c,h){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nn(i,o,c,h){return new G3(i,o,c,h)}function Hm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ja(i,o){var c=i.alternate;return c===null?(c=nn(i.tag,o,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=o,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&65011712,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,o=i.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c.refCleanup=i.refCleanup,c}function i_(i,o){i.flags&=65011714;var c=i.alternate;return c===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=c.childLanes,i.lanes=c.lanes,i.child=c.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=c.memoizedProps,i.memoizedState=c.memoizedState,i.updateQueue=c.updateQueue,i.type=c.type,o=c.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function fd(i,o,c,h,b,_){var A=0;if(h=i,typeof i=="function")Hm(i)&&(A=1);else if(typeof i=="string")A=Q$(i,c,te.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case R:return i=nn(31,c,o,b),i.elementType=R,i.lanes=_,i;case k:return cs(c.children,b,_,o);case S:A=8,b|=24;break;case j:return i=nn(12,c,o,b|2),i.elementType=j,i.lanes=_,i;case O:return i=nn(13,c,o,b),i.elementType=O,i.lanes=_,i;case T:return i=nn(19,c,o,b),i.elementType=T,i.lanes=_,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case E:A=10;break e;case N:A=9;break e;case D:A=11;break e;case P:A=14;break e;case C:A=16,h=null;break e}A=29,c=Error(n(130,i===null?"null":typeof i,"")),h=null}return o=nn(A,c,o,b),o.elementType=i,o.type=h,o.lanes=_,o}function cs(i,o,c,h){return i=nn(7,i,h,o),i.lanes=c,i}function Fm(i,o,c){return i=nn(6,i,null,o),i.lanes=c,i}function s_(i){var o=nn(18,null,null,0);return o.stateNode=i,o}function Vm(i,o,c){return o=nn(4,i.children!==null?i.children:[],i.key,o),o.lanes=c,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var o_=new WeakMap;function Sn(i,o){if(typeof i=="object"&&i!==null){var c=o_.get(i);return c!==void 0?c:(o={value:i,source:o,stack:Oe(o)},o_.set(i,o),o)}return{value:i,source:o,stack:Oe(o)}}var _o=[],So=0,hd=null,Wl=0,kn=[],jn=0,gi=null,na=1,aa="";function Ea(i,o){_o[So++]=Wl,_o[So++]=hd,hd=i,Wl=o}function l_(i,o,c){kn[jn++]=na,kn[jn++]=aa,kn[jn++]=gi,gi=i;var h=na;i=aa;var b=32-wr(h)-1;h&=~(1<<b),c+=1;var _=32-wr(o)+b;if(30<_){var A=b-b%5;_=(h&(1<<A)-1).toString(32),h>>=A,b-=A,na=1<<32-wr(o)+b|c<<b|h,aa=_+i}else na=1<<_|c<<b|h,aa=i}function Km(i){i.return!==null&&(Ea(i,1),l_(i,1,0))}function Zm(i){for(;i===hd;)hd=_o[--So],_o[So]=null,Wl=_o[--So],_o[So]=null;for(;i===gi;)gi=kn[--jn],kn[jn]=null,aa=kn[--jn],kn[jn]=null,na=kn[--jn],kn[jn]=null}function c_(i,o){kn[jn++]=na,kn[jn++]=aa,kn[jn++]=gi,na=o.id,aa=o.overflow,gi=i}var sr=null,pt=null,Ge=!1,vi=null,En=!1,Gm=Error(n(519));function yi(i){var o=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Xl(Sn(o,i)),Gm}function u_(i){var o=i.stateNode,c=i.type,h=i.memoizedProps;switch(o[ir]=i,o[Ur]=h,c){case"dialog":He("cancel",o),He("close",o);break;case"iframe":case"object":case"embed":He("load",o);break;case"video":case"audio":for(c=0;c<bc.length;c++)He(bc[c],o);break;case"source":He("error",o);break;case"img":case"image":case"link":He("error",o),He("load",o);break;case"details":He("toggle",o);break;case"input":He("invalid",o),S1(o,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":He("invalid",o);break;case"textarea":He("invalid",o),j1(o,h.value,h.defaultValue,h.children)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||h.suppressHydrationWarning===!0||Nk(o.textContent,c)?(h.popover!=null&&(He("beforetoggle",o),He("toggle",o)),h.onScroll!=null&&He("scroll",o),h.onScrollEnd!=null&&He("scrollend",o),h.onClick!=null&&(o.onclick=Sa),o=!0):o=!1,o||yi(i,!0)}function d_(i){for(sr=i.return;sr;)switch(sr.tag){case 5:case 31:case 13:En=!1;return;case 27:case 3:En=!0;return;default:sr=sr.return}}function ko(i){if(i!==sr)return!1;if(!Ge)return d_(i),Ge=!0,!1;var o=i.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=i.type,c=!(c!=="form"&&c!=="button")||fg(i.type,i.memoizedProps)),c=!c),c&&pt&&yi(i),d_(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));pt=$k(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));pt=$k(i)}else o===27?(o=pt,Pi(i.type)?(i=vg,vg=null,pt=i):pt=o):pt=sr?On(i.stateNode.nextSibling):null;return!0}function us(){pt=sr=null,Ge=!1}function Ym(){var i=vi;return i!==null&&(Vr===null?Vr=i:Vr.push.apply(Vr,i),vi=null),i}function Xl(i){vi===null?vi=[i]:vi.push(i)}var Wm=L(null),ds=null,Na=null;function bi(i,o,c){U(Wm,o._currentValue),o._currentValue=c}function Oa(i){i._currentValue=Wm.current,K(Wm)}function Xm(i,o,c){for(;i!==null;){var h=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),i===c)break;i=i.return}}function Jm(i,o,c,h){var b=i.child;for(b!==null&&(b.return=i);b!==null;){var _=b.dependencies;if(_!==null){var A=b.child;_=_.firstContext;e:for(;_!==null;){var $=_;_=b;for(var H=0;H<o.length;H++)if($.context===o[H]){_.lanes|=c,$=_.alternate,$!==null&&($.lanes|=c),Xm(_.return,c,i),h||(A=null);break e}_=$.next}}else if(b.tag===18){if(A=b.return,A===null)throw Error(n(341));A.lanes|=c,_=A.alternate,_!==null&&(_.lanes|=c),Xm(A,c,i),A=null}else A=b.child;if(A!==null)A.return=b;else for(A=b;A!==null;){if(A===i){A=null;break}if(b=A.sibling,b!==null){b.return=A.return,A=b;break}A=A.return}b=A}}function jo(i,o,c,h){i=null;for(var b=o,_=!1;b!==null;){if(!_){if((b.flags&524288)!==0)_=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var A=b.alternate;if(A===null)throw Error(n(387));if(A=A.memoizedProps,A!==null){var $=b.type;rn(b.pendingProps.value,A.value)||(i!==null?i.push($):i=[$])}}else if(b===ve.current){if(A=b.alternate,A===null)throw Error(n(387));A.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(i!==null?i.push(kc):i=[kc])}b=b.return}i!==null&&Jm(o,i,c,h),o.flags|=262144}function md(i){for(i=i.firstContext;i!==null;){if(!rn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function fs(i){ds=i,Na=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function or(i){return f_(ds,i)}function pd(i,o){return ds===null&&fs(i),f_(i,o)}function f_(i,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},Na===null){if(i===null)throw Error(n(308));Na=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else Na=Na.next=o;return c}var Y3=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(c,h){i.push(h)}};this.abort=function(){o.aborted=!0,i.forEach(function(c){return c()})}},W3=e.unstable_scheduleCallback,X3=e.unstable_NormalPriority,Lt={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qm(){return{controller:new Y3,data:new Map,refCount:0}}function Jl(i){i.refCount--,i.refCount===0&&W3(X3,function(){i.controller.abort()})}var Ql=null,ep=0,Eo=0,No=null;function J3(i,o){if(Ql===null){var c=Ql=[];ep=0,Eo=ng(),No={status:"pending",value:void 0,then:function(h){c.push(h)}}}return ep++,o.then(h_,h_),o}function h_(){if(--ep===0&&Ql!==null){No!==null&&(No.status="fulfilled");var i=Ql;Ql=null,Eo=0,No=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function Q3(i,o){var c=[],h={status:"pending",value:null,reason:null,then:function(b){c.push(b)}};return i.then(function(){h.status="fulfilled",h.value=o;for(var b=0;b<c.length;b++)(0,c[b])(o)},function(b){for(h.status="rejected",h.reason=b,b=0;b<c.length;b++)(0,c[b])(void 0)}),h}var m_=q.S;q.S=function(i,o){XS=Be(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&J3(i,o),m_!==null&&m_(i,o)};var hs=L(null);function tp(){var i=hs.current;return i!==null?i:st.pooledCache}function gd(i,o){o===null?U(hs,hs.current):U(hs,o.pool)}function p_(){var i=tp();return i===null?null:{parent:Lt._currentValue,pool:i}}var Oo=Error(n(460)),rp=Error(n(474)),vd=Error(n(542)),yd={then:function(){}};function g_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function v_(i,o,c){switch(c=i[c],c===void 0?i.push(o):c!==o&&(o.then(Sa,Sa),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,b_(i),i;default:if(typeof o.status=="string")o.then(Sa,Sa);else{if(i=st,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=o,i.status="pending",i.then(function(h){if(o.status==="pending"){var b=o;b.status="fulfilled",b.value=h}},function(h){if(o.status==="pending"){var b=o;b.status="rejected",b.reason=h}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,b_(i),i}throw ps=o,Oo}}function ms(i){try{var o=i._init;return o(i._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(ps=c,Oo):c}}var ps=null;function y_(){if(ps===null)throw Error(n(459));var i=ps;return ps=null,i}function b_(i){if(i===Oo||i===vd)throw Error(n(483))}var Ao=null,ec=0;function bd(i){var o=ec;return ec+=1,Ao===null&&(Ao=[]),v_(Ao,i,o)}function tc(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function xd(i,o){throw o.$$typeof===y?Error(n(525)):(i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function x_(i){function o(Y,V){if(i){var Q=Y.deletions;Q===null?(Y.deletions=[V],Y.flags|=16):Q.push(V)}}function c(Y,V){if(!i)return null;for(;V!==null;)o(Y,V),V=V.sibling;return null}function h(Y){for(var V=new Map;Y!==null;)Y.key!==null?V.set(Y.key,Y):V.set(Y.index,Y),Y=Y.sibling;return V}function b(Y,V){return Y=ja(Y,V),Y.index=0,Y.sibling=null,Y}function _(Y,V,Q){return Y.index=Q,i?(Q=Y.alternate,Q!==null?(Q=Q.index,Q<V?(Y.flags|=67108866,V):Q):(Y.flags|=67108866,V)):(Y.flags|=1048576,V)}function A(Y){return i&&Y.alternate===null&&(Y.flags|=67108866),Y}function $(Y,V,Q,ue){return V===null||V.tag!==6?(V=Fm(Q,Y.mode,ue),V.return=Y,V):(V=b(V,Q),V.return=Y,V)}function H(Y,V,Q,ue){var Pe=Q.type;return Pe===k?le(Y,V,Q.props.children,ue,Q.key):V!==null&&(V.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===C&&ms(Pe)===V.type)?(V=b(V,Q.props),tc(V,Q),V.return=Y,V):(V=fd(Q.type,Q.key,Q.props,null,Y.mode,ue),tc(V,Q),V.return=Y,V)}function ee(Y,V,Q,ue){return V===null||V.tag!==4||V.stateNode.containerInfo!==Q.containerInfo||V.stateNode.implementation!==Q.implementation?(V=Vm(Q,Y.mode,ue),V.return=Y,V):(V=b(V,Q.children||[]),V.return=Y,V)}function le(Y,V,Q,ue,Pe){return V===null||V.tag!==7?(V=cs(Q,Y.mode,ue,Pe),V.return=Y,V):(V=b(V,Q),V.return=Y,V)}function fe(Y,V,Q){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Fm(""+V,Y.mode,Q),V.return=Y,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case v:return Q=fd(V.type,V.key,V.props,null,Y.mode,Q),tc(Q,V),Q.return=Y,Q;case w:return V=Vm(V,Y.mode,Q),V.return=Y,V;case C:return V=ms(V),fe(Y,V,Q)}if(ae(V)||z(V))return V=cs(V,Y.mode,Q,null),V.return=Y,V;if(typeof V.then=="function")return fe(Y,bd(V),Q);if(V.$$typeof===E)return fe(Y,pd(Y,V),Q);xd(Y,V)}return null}function re(Y,V,Q,ue){var Pe=V!==null?V.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Pe!==null?null:$(Y,V,""+Q,ue);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case v:return Q.key===Pe?H(Y,V,Q,ue):null;case w:return Q.key===Pe?ee(Y,V,Q,ue):null;case C:return Q=ms(Q),re(Y,V,Q,ue)}if(ae(Q)||z(Q))return Pe!==null?null:le(Y,V,Q,ue,null);if(typeof Q.then=="function")return re(Y,V,bd(Q),ue);if(Q.$$typeof===E)return re(Y,V,pd(Y,Q),ue);xd(Y,Q)}return null}function se(Y,V,Q,ue,Pe){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return Y=Y.get(Q)||null,$(V,Y,""+ue,Pe);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case v:return Y=Y.get(ue.key===null?Q:ue.key)||null,H(V,Y,ue,Pe);case w:return Y=Y.get(ue.key===null?Q:ue.key)||null,ee(V,Y,ue,Pe);case C:return ue=ms(ue),se(Y,V,Q,ue,Pe)}if(ae(ue)||z(ue))return Y=Y.get(Q)||null,le(V,Y,ue,Pe,null);if(typeof ue.then=="function")return se(Y,V,Q,bd(ue),Pe);if(ue.$$typeof===E)return se(Y,V,Q,pd(V,ue),Pe);xd(V,ue)}return null}function je(Y,V,Q,ue){for(var Pe=null,We=null,Ee=V,Ue=V=0,Ke=null;Ee!==null&&Ue<Q.length;Ue++){Ee.index>Ue?(Ke=Ee,Ee=null):Ke=Ee.sibling;var Xe=re(Y,Ee,Q[Ue],ue);if(Xe===null){Ee===null&&(Ee=Ke);break}i&&Ee&&Xe.alternate===null&&o(Y,Ee),V=_(Xe,V,Ue),We===null?Pe=Xe:We.sibling=Xe,We=Xe,Ee=Ke}if(Ue===Q.length)return c(Y,Ee),Ge&&Ea(Y,Ue),Pe;if(Ee===null){for(;Ue<Q.length;Ue++)Ee=fe(Y,Q[Ue],ue),Ee!==null&&(V=_(Ee,V,Ue),We===null?Pe=Ee:We.sibling=Ee,We=Ee);return Ge&&Ea(Y,Ue),Pe}for(Ee=h(Ee);Ue<Q.length;Ue++)Ke=se(Ee,Y,Ue,Q[Ue],ue),Ke!==null&&(i&&Ke.alternate!==null&&Ee.delete(Ke.key===null?Ue:Ke.key),V=_(Ke,V,Ue),We===null?Pe=Ke:We.sibling=Ke,We=Ke);return i&&Ee.forEach(function(Ii){return o(Y,Ii)}),Ge&&Ea(Y,Ue),Pe}function Re(Y,V,Q,ue){if(Q==null)throw Error(n(151));for(var Pe=null,We=null,Ee=V,Ue=V=0,Ke=null,Xe=Q.next();Ee!==null&&!Xe.done;Ue++,Xe=Q.next()){Ee.index>Ue?(Ke=Ee,Ee=null):Ke=Ee.sibling;var Ii=re(Y,Ee,Xe.value,ue);if(Ii===null){Ee===null&&(Ee=Ke);break}i&&Ee&&Ii.alternate===null&&o(Y,Ee),V=_(Ii,V,Ue),We===null?Pe=Ii:We.sibling=Ii,We=Ii,Ee=Ke}if(Xe.done)return c(Y,Ee),Ge&&Ea(Y,Ue),Pe;if(Ee===null){for(;!Xe.done;Ue++,Xe=Q.next())Xe=fe(Y,Xe.value,ue),Xe!==null&&(V=_(Xe,V,Ue),We===null?Pe=Xe:We.sibling=Xe,We=Xe);return Ge&&Ea(Y,Ue),Pe}for(Ee=h(Ee);!Xe.done;Ue++,Xe=Q.next())Xe=se(Ee,Y,Ue,Xe.value,ue),Xe!==null&&(i&&Xe.alternate!==null&&Ee.delete(Xe.key===null?Ue:Xe.key),V=_(Xe,V,Ue),We===null?Pe=Xe:We.sibling=Xe,We=Xe);return i&&Ee.forEach(function(u6){return o(Y,u6)}),Ge&&Ea(Y,Ue),Pe}function it(Y,V,Q,ue){if(typeof Q=="object"&&Q!==null&&Q.type===k&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case v:e:{for(var Pe=Q.key;V!==null;){if(V.key===Pe){if(Pe=Q.type,Pe===k){if(V.tag===7){c(Y,V.sibling),ue=b(V,Q.props.children),ue.return=Y,Y=ue;break e}}else if(V.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===C&&ms(Pe)===V.type){c(Y,V.sibling),ue=b(V,Q.props),tc(ue,Q),ue.return=Y,Y=ue;break e}c(Y,V);break}else o(Y,V);V=V.sibling}Q.type===k?(ue=cs(Q.props.children,Y.mode,ue,Q.key),ue.return=Y,Y=ue):(ue=fd(Q.type,Q.key,Q.props,null,Y.mode,ue),tc(ue,Q),ue.return=Y,Y=ue)}return A(Y);case w:e:{for(Pe=Q.key;V!==null;){if(V.key===Pe)if(V.tag===4&&V.stateNode.containerInfo===Q.containerInfo&&V.stateNode.implementation===Q.implementation){c(Y,V.sibling),ue=b(V,Q.children||[]),ue.return=Y,Y=ue;break e}else{c(Y,V);break}else o(Y,V);V=V.sibling}ue=Vm(Q,Y.mode,ue),ue.return=Y,Y=ue}return A(Y);case C:return Q=ms(Q),it(Y,V,Q,ue)}if(ae(Q))return je(Y,V,Q,ue);if(z(Q)){if(Pe=z(Q),typeof Pe!="function")throw Error(n(150));return Q=Pe.call(Q),Re(Y,V,Q,ue)}if(typeof Q.then=="function")return it(Y,V,bd(Q),ue);if(Q.$$typeof===E)return it(Y,V,pd(Y,Q),ue);xd(Y,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,V!==null&&V.tag===6?(c(Y,V.sibling),ue=b(V,Q),ue.return=Y,Y=ue):(c(Y,V),ue=Fm(Q,Y.mode,ue),ue.return=Y,Y=ue),A(Y)):c(Y,V)}return function(Y,V,Q,ue){try{ec=0;var Pe=it(Y,V,Q,ue);return Ao=null,Pe}catch(Ee){if(Ee===Oo||Ee===vd)throw Ee;var We=nn(29,Ee,null,Y.mode);return We.lanes=ue,We.return=Y,We}finally{}}}var gs=x_(!0),w_=x_(!1),xi=!1;function np(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ap(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function wi(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function _i(i,o,c){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Qe&2)!==0){var b=h.pending;return b===null?o.next=o:(o.next=b.next,b.next=o),h.pending=o,o=dd(i),a_(i,null,c),o}return ud(i,h,o,c),dd(i)}function rc(i,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var h=o.lanes;h&=i.pendingLanes,c|=h,o.lanes=c,f1(i,c)}}function ip(i,o){var c=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var b=null,_=null;if(c=c.firstBaseUpdate,c!==null){do{var A={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};_===null?b=_=A:_=_.next=A,c=c.next}while(c!==null);_===null?b=_=o:_=_.next=o}else b=_=o;c={baseState:h.baseState,firstBaseUpdate:b,lastBaseUpdate:_,shared:h.shared,callbacks:h.callbacks},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=o:i.next=o,c.lastBaseUpdate=o}var sp=!1;function nc(){if(sp){var i=No;if(i!==null)throw i}}function ac(i,o,c,h){sp=!1;var b=i.updateQueue;xi=!1;var _=b.firstBaseUpdate,A=b.lastBaseUpdate,$=b.shared.pending;if($!==null){b.shared.pending=null;var H=$,ee=H.next;H.next=null,A===null?_=ee:A.next=ee,A=H;var le=i.alternate;le!==null&&(le=le.updateQueue,$=le.lastBaseUpdate,$!==A&&($===null?le.firstBaseUpdate=ee:$.next=ee,le.lastBaseUpdate=H))}if(_!==null){var fe=b.baseState;A=0,le=ee=H=null,$=_;do{var re=$.lane&-536870913,se=re!==$.lane;if(se?(Ve&re)===re:(h&re)===re){re!==0&&re===Eo&&(sp=!0),le!==null&&(le=le.next={lane:0,tag:$.tag,payload:$.payload,callback:null,next:null});e:{var je=i,Re=$;re=o;var it=c;switch(Re.tag){case 1:if(je=Re.payload,typeof je=="function"){fe=je.call(it,fe,re);break e}fe=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=Re.payload,re=typeof je=="function"?je.call(it,fe,re):je,re==null)break e;fe=g({},fe,re);break e;case 2:xi=!0}}re=$.callback,re!==null&&(i.flags|=64,se&&(i.flags|=8192),se=b.callbacks,se===null?b.callbacks=[re]:se.push(re))}else se={lane:re,tag:$.tag,payload:$.payload,callback:$.callback,next:null},le===null?(ee=le=se,H=fe):le=le.next=se,A|=re;if($=$.next,$===null){if($=b.shared.pending,$===null)break;se=$,$=se.next,se.next=null,b.lastBaseUpdate=se,b.shared.pending=null}}while(!0);le===null&&(H=fe),b.baseState=H,b.firstBaseUpdate=ee,b.lastBaseUpdate=le,_===null&&(b.shared.lanes=0),Ni|=A,i.lanes=A,i.memoizedState=fe}}function __(i,o){if(typeof i!="function")throw Error(n(191,i));i.call(o)}function S_(i,o){var c=i.callbacks;if(c!==null)for(i.callbacks=null,i=0;i<c.length;i++)__(c[i],o)}var To=L(null),wd=L(0);function k_(i,o){i=Ia,U(wd,i),U(To,o),Ia=i|o.baseLanes}function op(){U(wd,Ia),U(To,To.current)}function lp(){Ia=wd.current,K(To),K(wd)}var an=L(null),Nn=null;function Si(i){var o=i.alternate;U(Ct,Ct.current&1),U(an,i),Nn===null&&(o===null||To.current!==null||o.memoizedState!==null)&&(Nn=i)}function cp(i){U(Ct,Ct.current),U(an,i),Nn===null&&(Nn=i)}function j_(i){i.tag===22?(U(Ct,Ct.current),U(an,i),Nn===null&&(Nn=i)):ki()}function ki(){U(Ct,Ct.current),U(an,an.current)}function sn(i){K(an),Nn===i&&(Nn=null),K(Ct)}var Ct=L(0);function _d(i){for(var o=i;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||pg(c)||gg(c)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Aa=0,Le=null,nt=null,zt=null,Sd=!1,Co=!1,vs=!1,kd=0,ic=0,Po=null,e$=0;function Nt(){throw Error(n(321))}function up(i,o){if(o===null)return!1;for(var c=0;c<o.length&&c<i.length;c++)if(!rn(i[c],o[c]))return!1;return!0}function dp(i,o,c,h,b,_){return Aa=_,Le=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,q.H=i===null||i.memoizedState===null?lS:Ep,vs=!1,_=c(h,b),vs=!1,Co&&(_=N_(o,c,h,b)),E_(i),_}function E_(i){q.H=lc;var o=nt!==null&&nt.next!==null;if(Aa=0,zt=nt=Le=null,Sd=!1,ic=0,Po=null,o)throw Error(n(300));i===null||Ut||(i=i.dependencies,i!==null&&md(i)&&(Ut=!0))}function N_(i,o,c,h){Le=i;var b=0;do{if(Co&&(Po=null),ic=0,Co=!1,25<=b)throw Error(n(301));if(b+=1,zt=nt=null,i.updateQueue!=null){var _=i.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}q.H=cS,_=o(c,h)}while(Co);return _}function t$(){var i=q.H,o=i.useState()[0];return o=typeof o.then=="function"?sc(o):o,i=i.useState()[0],(nt!==null?nt.memoizedState:null)!==i&&(Le.flags|=1024),o}function fp(){var i=kd!==0;return kd=0,i}function hp(i,o,c){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~c}function mp(i){if(Sd){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Sd=!1}Aa=0,zt=nt=Le=null,Co=!1,ic=kd=0,Po=null}function Cr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?Le.memoizedState=zt=i:zt=zt.next=i,zt}function Pt(){if(nt===null){var i=Le.alternate;i=i!==null?i.memoizedState:null}else i=nt.next;var o=zt===null?Le.memoizedState:zt.next;if(o!==null)zt=o,nt=i;else{if(i===null)throw Le.alternate===null?Error(n(467)):Error(n(310));nt=i,i={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},zt===null?Le.memoizedState=zt=i:zt=zt.next=i}return zt}function jd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sc(i){var o=ic;return ic+=1,Po===null&&(Po=[]),i=v_(Po,i,o),o=Le,(zt===null?o.memoizedState:zt.next)===null&&(o=o.alternate,q.H=o===null||o.memoizedState===null?lS:Ep),i}function Ed(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return sc(i);if(i.$$typeof===E)return or(i)}throw Error(n(438,String(i)))}function pp(i){var o=null,c=Le.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var h=Le.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(o={data:h.data.map(function(b){return b.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=jd(),Le.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(i),h=0;h<i;h++)c[h]=I;return o.index++,c}function Ta(i,o){return typeof o=="function"?o(i):o}function Nd(i){var o=Pt();return gp(o,nt,i)}function gp(i,o,c){var h=i.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=c;var b=i.baseQueue,_=h.pending;if(_!==null){if(b!==null){var A=b.next;b.next=_.next,_.next=A}o.baseQueue=b=_,h.pending=null}if(_=i.baseState,b===null)i.memoizedState=_;else{o=b.next;var $=A=null,H=null,ee=o,le=!1;do{var fe=ee.lane&-536870913;if(fe!==ee.lane?(Ve&fe)===fe:(Aa&fe)===fe){var re=ee.revertLane;if(re===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),fe===Eo&&(le=!0);else if((Aa&re)===re){ee=ee.next,re===Eo&&(le=!0);continue}else fe={lane:0,revertLane:ee.revertLane,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},H===null?($=H=fe,A=_):H=H.next=fe,Le.lanes|=re,Ni|=re;fe=ee.action,vs&&c(_,fe),_=ee.hasEagerState?ee.eagerState:c(_,fe)}else re={lane:fe,revertLane:ee.revertLane,gesture:ee.gesture,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},H===null?($=H=re,A=_):H=H.next=re,Le.lanes|=fe,Ni|=fe;ee=ee.next}while(ee!==null&&ee!==o);if(H===null?A=_:H.next=$,!rn(_,i.memoizedState)&&(Ut=!0,le&&(c=No,c!==null)))throw c;i.memoizedState=_,i.baseState=A,i.baseQueue=H,h.lastRenderedState=_}return b===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function vp(i){var o=Pt(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=i;var h=c.dispatch,b=c.pending,_=o.memoizedState;if(b!==null){c.pending=null;var A=b=b.next;do _=i(_,A.action),A=A.next;while(A!==b);rn(_,o.memoizedState)||(Ut=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),c.lastRenderedState=_}return[_,h]}function O_(i,o,c){var h=Le,b=Pt(),_=Ge;if(_){if(c===void 0)throw Error(n(407));c=c()}else c=o();var A=!rn((nt||b).memoizedState,c);if(A&&(b.memoizedState=c,Ut=!0),b=b.queue,xp(C_.bind(null,h,b,i),[i]),b.getSnapshot!==o||A||zt!==null&&zt.memoizedState.tag&1){if(h.flags|=2048,Do(9,{destroy:void 0},T_.bind(null,h,b,c,o),null),st===null)throw Error(n(349));_||(Aa&127)!==0||A_(h,o,c)}return c}function A_(i,o,c){i.flags|=16384,i={getSnapshot:o,value:c},o=Le.updateQueue,o===null?(o=jd(),Le.updateQueue=o,o.stores=[i]):(c=o.stores,c===null?o.stores=[i]:c.push(i))}function T_(i,o,c,h){o.value=c,o.getSnapshot=h,P_(o)&&D_(i)}function C_(i,o,c){return c(function(){P_(o)&&D_(i)})}function P_(i){var o=i.getSnapshot;i=i.value;try{var c=o();return!rn(i,c)}catch{return!0}}function D_(i){var o=ls(i,2);o!==null&&Kr(o,i,2)}function yp(i){var o=Cr();if(typeof i=="function"){var c=i;if(i=c(),vs){tn(!0);try{c()}finally{tn(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:i},o}function R_(i,o,c,h){return i.baseState=c,gp(i,nt,typeof h=="function"?h:Ta)}function r$(i,o,c,h,b){if(Td(i))throw Error(n(485));if(i=o.action,i!==null){var _={payload:b,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){_.listeners.push(A)}};q.T!==null?c(!0):_.isTransition=!1,h(_),c=o.pending,c===null?(_.next=o.pending=_,M_(o,_)):(_.next=c.next,o.pending=c.next=_)}}function M_(i,o){var c=o.action,h=o.payload,b=i.state;if(o.isTransition){var _=q.T,A={};q.T=A;try{var $=c(b,h),H=q.S;H!==null&&H(A,$),$_(i,o,$)}catch(ee){bp(i,o,ee)}finally{_!==null&&A.types!==null&&(_.types=A.types),q.T=_}}else try{_=c(b,h),$_(i,o,_)}catch(ee){bp(i,o,ee)}}function $_(i,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){I_(i,o,h)},function(h){return bp(i,o,h)}):I_(i,o,c)}function I_(i,o,c){o.status="fulfilled",o.value=c,L_(o),i.state=c,o=i.pending,o!==null&&(c=o.next,c===o?i.pending=null:(c=c.next,o.next=c,M_(i,c)))}function bp(i,o,c){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do o.status="rejected",o.reason=c,L_(o),o=o.next;while(o!==h)}i.action=null}function L_(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function z_(i,o){return o}function U_(i,o){if(Ge){var c=st.formState;if(c!==null){e:{var h=Le;if(Ge){if(pt){t:{for(var b=pt,_=En;b.nodeType!==8;){if(!_){b=null;break t}if(b=On(b.nextSibling),b===null){b=null;break t}}_=b.data,b=_==="F!"||_==="F"?b:null}if(b){pt=On(b.nextSibling),h=b.data==="F!";break e}}yi(h)}h=!1}h&&(o=c[0])}}return c=Cr(),c.memoizedState=c.baseState=o,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:z_,lastRenderedState:o},c.queue=h,c=iS.bind(null,Le,h),h.dispatch=c,h=yp(!1),_=jp.bind(null,Le,!1,h.queue),h=Cr(),b={state:o,dispatch:null,action:i,pending:null},h.queue=b,c=r$.bind(null,Le,b,_,c),b.dispatch=c,h.memoizedState=i,[o,c,!1]}function B_(i){var o=Pt();return q_(o,nt,i)}function q_(i,o,c){if(o=gp(i,o,z_)[0],i=Nd(Ta)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var h=sc(o)}catch(A){throw A===Oo?vd:A}else h=o;o=Pt();var b=o.queue,_=b.dispatch;return c!==o.memoizedState&&(Le.flags|=2048,Do(9,{destroy:void 0},n$.bind(null,b,c),null)),[h,_,i]}function n$(i,o){i.action=o}function H_(i){var o=Pt(),c=nt;if(c!==null)return q_(o,c,i);Pt(),o=o.memoizedState,c=Pt();var h=c.queue.dispatch;return c.memoizedState=i,[o,h,!1]}function Do(i,o,c,h){return i={tag:i,create:c,deps:h,inst:o,next:null},o=Le.updateQueue,o===null&&(o=jd(),Le.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=i.next=i:(h=c.next,c.next=i,i.next=h,o.lastEffect=i),i}function F_(){return Pt().memoizedState}function Od(i,o,c,h){var b=Cr();Le.flags|=i,b.memoizedState=Do(1|o,{destroy:void 0},c,h===void 0?null:h)}function Ad(i,o,c,h){var b=Pt();h=h===void 0?null:h;var _=b.memoizedState.inst;nt!==null&&h!==null&&up(h,nt.memoizedState.deps)?b.memoizedState=Do(o,_,c,h):(Le.flags|=i,b.memoizedState=Do(1|o,_,c,h))}function V_(i,o){Od(8390656,8,i,o)}function xp(i,o){Ad(2048,8,i,o)}function a$(i){Le.flags|=4;var o=Le.updateQueue;if(o===null)o=jd(),Le.updateQueue=o,o.events=[i];else{var c=o.events;c===null?o.events=[i]:c.push(i)}}function K_(i){var o=Pt().memoizedState;return a$({ref:o,nextImpl:i}),function(){if((Qe&2)!==0)throw Error(n(440));return o.impl.apply(void 0,arguments)}}function Z_(i,o){return Ad(4,2,i,o)}function G_(i,o){return Ad(4,4,i,o)}function Y_(i,o){if(typeof o=="function"){i=i();var c=o(i);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function W_(i,o,c){c=c!=null?c.concat([i]):null,Ad(4,4,Y_.bind(null,o,i),c)}function wp(){}function X_(i,o){var c=Pt();o=o===void 0?null:o;var h=c.memoizedState;return o!==null&&up(o,h[1])?h[0]:(c.memoizedState=[i,o],i)}function J_(i,o){var c=Pt();o=o===void 0?null:o;var h=c.memoizedState;if(o!==null&&up(o,h[1]))return h[0];if(h=i(),vs){tn(!0);try{i()}finally{tn(!1)}}return c.memoizedState=[h,o],h}function _p(i,o,c){return c===void 0||(Aa&1073741824)!==0&&(Ve&261930)===0?i.memoizedState=o:(i.memoizedState=c,i=QS(),Le.lanes|=i,Ni|=i,c)}function Q_(i,o,c,h){return rn(c,o)?c:To.current!==null?(i=_p(i,c,h),rn(i,o)||(Ut=!0),i):(Aa&42)===0||(Aa&1073741824)!==0&&(Ve&261930)===0?(Ut=!0,i.memoizedState=c):(i=QS(),Le.lanes|=i,Ni|=i,o)}function eS(i,o,c,h,b){var _=F.p;F.p=_!==0&&8>_?_:8;var A=q.T,$={};q.T=$,jp(i,!1,o,c);try{var H=b(),ee=q.S;if(ee!==null&&ee($,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var le=Q3(H,h);oc(i,o,le,cn(i))}else oc(i,o,h,cn(i))}catch(fe){oc(i,o,{then:function(){},status:"rejected",reason:fe},cn())}finally{F.p=_,A!==null&&$.types!==null&&(A.types=$.types),q.T=A}}function i$(){}function Sp(i,o,c,h){if(i.tag!==5)throw Error(n(476));var b=tS(i).queue;eS(i,b,o,W,c===null?i$:function(){return rS(i),c(h)})}function tS(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:W},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:c},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function rS(i){var o=tS(i);o.next===null&&(o=i.alternate.memoizedState),oc(i,o.next.queue,{},cn())}function kp(){return or(kc)}function nS(){return Pt().memoizedState}function aS(){return Pt().memoizedState}function s$(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var c=cn();i=wi(c);var h=_i(o,i,c);h!==null&&(Kr(h,o,c),rc(h,o,c)),o={cache:Qm()},i.payload=o;return}o=o.return}}function o$(i,o,c){var h=cn();c={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Td(i)?sS(o,c):(c=qm(i,o,c,h),c!==null&&(Kr(c,i,h),oS(c,o,h)))}function iS(i,o,c){var h=cn();oc(i,o,c,h)}function oc(i,o,c,h){var b={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Td(i))sS(o,b);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var A=o.lastRenderedState,$=_(A,c);if(b.hasEagerState=!0,b.eagerState=$,rn($,A))return ud(i,o,b,0),st===null&&cd(),!1}catch{}finally{}if(c=qm(i,o,b,h),c!==null)return Kr(c,i,h),oS(c,o,h),!0}return!1}function jp(i,o,c,h){if(h={lane:2,revertLane:ng(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Td(i)){if(o)throw Error(n(479))}else o=qm(i,c,h,2),o!==null&&Kr(o,i,2)}function Td(i){var o=i.alternate;return i===Le||o!==null&&o===Le}function sS(i,o){Co=Sd=!0;var c=i.pending;c===null?o.next=o:(o.next=c.next,c.next=o),i.pending=o}function oS(i,o,c){if((c&4194048)!==0){var h=o.lanes;h&=i.pendingLanes,c|=h,o.lanes=c,f1(i,c)}}var lc={readContext:or,use:Ed,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useLayoutEffect:Nt,useInsertionEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useSyncExternalStore:Nt,useId:Nt,useHostTransitionStatus:Nt,useFormState:Nt,useActionState:Nt,useOptimistic:Nt,useMemoCache:Nt,useCacheRefresh:Nt};lc.useEffectEvent=Nt;var lS={readContext:or,use:Ed,useCallback:function(i,o){return Cr().memoizedState=[i,o===void 0?null:o],i},useContext:or,useEffect:V_,useImperativeHandle:function(i,o,c){c=c!=null?c.concat([i]):null,Od(4194308,4,Y_.bind(null,o,i),c)},useLayoutEffect:function(i,o){return Od(4194308,4,i,o)},useInsertionEffect:function(i,o){Od(4,2,i,o)},useMemo:function(i,o){var c=Cr();o=o===void 0?null:o;var h=i();if(vs){tn(!0);try{i()}finally{tn(!1)}}return c.memoizedState=[h,o],h},useReducer:function(i,o,c){var h=Cr();if(c!==void 0){var b=c(o);if(vs){tn(!0);try{c(o)}finally{tn(!1)}}}else b=o;return h.memoizedState=h.baseState=b,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:b},h.queue=i,i=i.dispatch=o$.bind(null,Le,i),[h.memoizedState,i]},useRef:function(i){var o=Cr();return i={current:i},o.memoizedState=i},useState:function(i){i=yp(i);var o=i.queue,c=iS.bind(null,Le,o);return o.dispatch=c,[i.memoizedState,c]},useDebugValue:wp,useDeferredValue:function(i,o){var c=Cr();return _p(c,i,o)},useTransition:function(){var i=yp(!1);return i=eS.bind(null,Le,i.queue,!0,!1),Cr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,c){var h=Le,b=Cr();if(Ge){if(c===void 0)throw Error(n(407));c=c()}else{if(c=o(),st===null)throw Error(n(349));(Ve&127)!==0||A_(h,o,c)}b.memoizedState=c;var _={value:c,getSnapshot:o};return b.queue=_,V_(C_.bind(null,h,_,i),[i]),h.flags|=2048,Do(9,{destroy:void 0},T_.bind(null,h,_,c,o),null),c},useId:function(){var i=Cr(),o=st.identifierPrefix;if(Ge){var c=aa,h=na;c=(h&~(1<<32-wr(h)-1)).toString(32)+c,o="_"+o+"R_"+c,c=kd++,0<c&&(o+="H"+c.toString(32)),o+="_"}else c=e$++,o="_"+o+"r_"+c.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:kp,useFormState:U_,useActionState:U_,useOptimistic:function(i){var o=Cr();o.memoizedState=o.baseState=i;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=jp.bind(null,Le,!0,c),c.dispatch=o,[i,o]},useMemoCache:pp,useCacheRefresh:function(){return Cr().memoizedState=s$.bind(null,Le)},useEffectEvent:function(i){var o=Cr(),c={impl:i};return o.memoizedState=c,function(){if((Qe&2)!==0)throw Error(n(440));return c.impl.apply(void 0,arguments)}}},Ep={readContext:or,use:Ed,useCallback:X_,useContext:or,useEffect:xp,useImperativeHandle:W_,useInsertionEffect:Z_,useLayoutEffect:G_,useMemo:J_,useReducer:Nd,useRef:F_,useState:function(){return Nd(Ta)},useDebugValue:wp,useDeferredValue:function(i,o){var c=Pt();return Q_(c,nt.memoizedState,i,o)},useTransition:function(){var i=Nd(Ta)[0],o=Pt().memoizedState;return[typeof i=="boolean"?i:sc(i),o]},useSyncExternalStore:O_,useId:nS,useHostTransitionStatus:kp,useFormState:B_,useActionState:B_,useOptimistic:function(i,o){var c=Pt();return R_(c,nt,i,o)},useMemoCache:pp,useCacheRefresh:aS};Ep.useEffectEvent=K_;var cS={readContext:or,use:Ed,useCallback:X_,useContext:or,useEffect:xp,useImperativeHandle:W_,useInsertionEffect:Z_,useLayoutEffect:G_,useMemo:J_,useReducer:vp,useRef:F_,useState:function(){return vp(Ta)},useDebugValue:wp,useDeferredValue:function(i,o){var c=Pt();return nt===null?_p(c,i,o):Q_(c,nt.memoizedState,i,o)},useTransition:function(){var i=vp(Ta)[0],o=Pt().memoizedState;return[typeof i=="boolean"?i:sc(i),o]},useSyncExternalStore:O_,useId:nS,useHostTransitionStatus:kp,useFormState:H_,useActionState:H_,useOptimistic:function(i,o){var c=Pt();return nt!==null?R_(c,nt,i,o):(c.baseState=i,[i,c.queue.dispatch])},useMemoCache:pp,useCacheRefresh:aS};cS.useEffectEvent=K_;function Np(i,o,c,h){o=i.memoizedState,c=c(h,o),c=c==null?o:g({},o,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var Op={enqueueSetState:function(i,o,c){i=i._reactInternals;var h=cn(),b=wi(h);b.payload=o,c!=null&&(b.callback=c),o=_i(i,b,h),o!==null&&(Kr(o,i,h),rc(o,i,h))},enqueueReplaceState:function(i,o,c){i=i._reactInternals;var h=cn(),b=wi(h);b.tag=1,b.payload=o,c!=null&&(b.callback=c),o=_i(i,b,h),o!==null&&(Kr(o,i,h),rc(o,i,h))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var c=cn(),h=wi(c);h.tag=2,o!=null&&(h.callback=o),o=_i(i,h,c),o!==null&&(Kr(o,i,c),rc(o,i,c))}};function uS(i,o,c,h,b,_,A){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,_,A):o.prototype&&o.prototype.isPureReactComponent?!Gl(c,h)||!Gl(b,_):!0}function dS(i,o,c,h){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,h),o.state!==i&&Op.enqueueReplaceState(o,o.state,null)}function ys(i,o){var c=o;if("ref"in o){c={};for(var h in o)h!=="ref"&&(c[h]=o[h])}if(i=i.defaultProps){c===o&&(c=g({},c));for(var b in i)c[b]===void 0&&(c[b]=i[b])}return c}function fS(i){ld(i)}function hS(i){console.error(i)}function mS(i){ld(i)}function Cd(i,o){try{var c=i.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(h){setTimeout(function(){throw h})}}function pS(i,o,c){try{var h=i.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function Ap(i,o,c){return c=wi(c),c.tag=3,c.payload={element:null},c.callback=function(){Cd(i,o)},c}function gS(i){return i=wi(i),i.tag=3,i}function vS(i,o,c,h){var b=c.type.getDerivedStateFromError;if(typeof b=="function"){var _=h.value;i.payload=function(){return b(_)},i.callback=function(){pS(o,c,h)}}var A=c.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(i.callback=function(){pS(o,c,h),typeof b!="function"&&(Oi===null?Oi=new Set([this]):Oi.add(this));var $=h.stack;this.componentDidCatch(h.value,{componentStack:$!==null?$:""})})}function l$(i,o,c,h,b){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(o=c.alternate,o!==null&&jo(o,c,b,!0),c=an.current,c!==null){switch(c.tag){case 31:case 13:return Nn===null?Hd():c.alternate===null&&Ot===0&&(Ot=3),c.flags&=-257,c.flags|=65536,c.lanes=b,h===yd?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([h]):o.add(h),eg(i,h,b)),!1;case 22:return c.flags|=65536,h===yd?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([h]):c.add(h)),eg(i,h,b)),!1}throw Error(n(435,c.tag))}return eg(i,h,b),Hd(),!1}if(Ge)return o=an.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=b,h!==Gm&&(i=Error(n(422),{cause:h}),Xl(Sn(i,c)))):(h!==Gm&&(o=Error(n(423),{cause:h}),Xl(Sn(o,c))),i=i.current.alternate,i.flags|=65536,b&=-b,i.lanes|=b,h=Sn(h,c),b=Ap(i.stateNode,h,b),ip(i,b),Ot!==4&&(Ot=2)),!1;var _=Error(n(520),{cause:h});if(_=Sn(_,c),gc===null?gc=[_]:gc.push(_),Ot!==4&&(Ot=2),o===null)return!0;h=Sn(h,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,i=b&-b,c.lanes|=i,i=Ap(c.stateNode,h,i),ip(c,i),!1;case 1:if(o=c.type,_=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Oi===null||!Oi.has(_))))return c.flags|=65536,b&=-b,c.lanes|=b,b=gS(b),vS(b,i,c,h),ip(c,b),!1}c=c.return}while(c!==null);return!1}var Tp=Error(n(461)),Ut=!1;function lr(i,o,c,h){o.child=i===null?w_(o,null,c,h):gs(o,i.child,c,h)}function yS(i,o,c,h,b){c=c.render;var _=o.ref;if("ref"in h){var A={};for(var $ in h)$!=="ref"&&(A[$]=h[$])}else A=h;return fs(o),h=dp(i,o,c,A,_,b),$=fp(),i!==null&&!Ut?(hp(i,o,b),Ca(i,o,b)):(Ge&&$&&Km(o),o.flags|=1,lr(i,o,h,b),o.child)}function bS(i,o,c,h,b){if(i===null){var _=c.type;return typeof _=="function"&&!Hm(_)&&_.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=_,xS(i,o,_,h,b)):(i=fd(c.type,null,h,o,o.mode,b),i.ref=o.ref,i.return=o,o.child=i)}if(_=i.child,!Lp(i,b)){var A=_.memoizedProps;if(c=c.compare,c=c!==null?c:Gl,c(A,h)&&i.ref===o.ref)return Ca(i,o,b)}return o.flags|=1,i=ja(_,h),i.ref=o.ref,i.return=o,o.child=i}function xS(i,o,c,h,b){if(i!==null){var _=i.memoizedProps;if(Gl(_,h)&&i.ref===o.ref)if(Ut=!1,o.pendingProps=h=_,Lp(i,b))(i.flags&131072)!==0&&(Ut=!0);else return o.lanes=i.lanes,Ca(i,o,b)}return Cp(i,o,c,h,b)}function wS(i,o,c,h){var b=h.children,_=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((o.flags&128)!==0){if(_=_!==null?_.baseLanes|c:c,i!==null){for(h=o.child=i.child,b=0;h!==null;)b=b|h.lanes|h.childLanes,h=h.sibling;h=b&~_}else h=0,o.child=null;return _S(i,o,_,c,h)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&gd(o,_!==null?_.cachePool:null),_!==null?k_(o,_):op(),j_(o);else return h=o.lanes=536870912,_S(i,o,_!==null?_.baseLanes|c:c,c,h)}else _!==null?(gd(o,_.cachePool),k_(o,_),ki(),o.memoizedState=null):(i!==null&&gd(o,null),op(),ki());return lr(i,o,b,c),o.child}function cc(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function _S(i,o,c,h,b){var _=tp();return _=_===null?null:{parent:Lt._currentValue,pool:_},o.memoizedState={baseLanes:c,cachePool:_},i!==null&&gd(o,null),op(),j_(o),i!==null&&jo(i,o,h,!0),o.childLanes=b,null}function Pd(i,o){return o=Rd({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function SS(i,o,c){return gs(o,i.child,null,c),i=Pd(o,o.pendingProps),i.flags|=2,sn(o),o.memoizedState=null,i}function c$(i,o,c){var h=o.pendingProps,b=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(Ge){if(h.mode==="hidden")return i=Pd(o,h),o.lanes=536870912,cc(null,i);if(cp(o),(i=pt)?(i=Mk(i,En),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:gi!==null?{id:na,overflow:aa}:null,retryLane:536870912,hydrationErrors:null},c=s_(i),c.return=o,o.child=c,sr=o,pt=null)):i=null,i===null)throw yi(o);return o.lanes=536870912,null}return Pd(o,h)}var _=i.memoizedState;if(_!==null){var A=_.dehydrated;if(cp(o),b)if(o.flags&256)o.flags&=-257,o=SS(i,o,c);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(n(558));else if(Ut||jo(i,o,c,!1),b=(c&i.childLanes)!==0,Ut||b){if(h=st,h!==null&&(A=h1(h,c),A!==0&&A!==_.retryLane))throw _.retryLane=A,ls(i,A),Kr(h,i,A),Tp;Hd(),o=SS(i,o,c)}else i=_.treeContext,pt=On(A.nextSibling),sr=o,Ge=!0,vi=null,En=!1,i!==null&&c_(o,i),o=Pd(o,h),o.flags|=4096;return o}return i=ja(i.child,{mode:h.mode,children:h.children}),i.ref=o.ref,o.child=i,i.return=o,i}function Dd(i,o){var c=o.ref;if(c===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(n(284));(i===null||i.ref!==c)&&(o.flags|=4194816)}}function Cp(i,o,c,h,b){return fs(o),c=dp(i,o,c,h,void 0,b),h=fp(),i!==null&&!Ut?(hp(i,o,b),Ca(i,o,b)):(Ge&&h&&Km(o),o.flags|=1,lr(i,o,c,b),o.child)}function kS(i,o,c,h,b,_){return fs(o),o.updateQueue=null,c=N_(o,h,c,b),E_(i),h=fp(),i!==null&&!Ut?(hp(i,o,_),Ca(i,o,_)):(Ge&&h&&Km(o),o.flags|=1,lr(i,o,c,_),o.child)}function jS(i,o,c,h,b){if(fs(o),o.stateNode===null){var _=wo,A=c.contextType;typeof A=="object"&&A!==null&&(_=or(A)),_=new c(h,_),o.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Op,o.stateNode=_,_._reactInternals=o,_=o.stateNode,_.props=h,_.state=o.memoizedState,_.refs={},np(o),A=c.contextType,_.context=typeof A=="object"&&A!==null?or(A):wo,_.state=o.memoizedState,A=c.getDerivedStateFromProps,typeof A=="function"&&(Np(o,c,A,h),_.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(A=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),A!==_.state&&Op.enqueueReplaceState(_,_.state,null),ac(o,h,_,b),nc(),_.state=o.memoizedState),typeof _.componentDidMount=="function"&&(o.flags|=4194308),h=!0}else if(i===null){_=o.stateNode;var $=o.memoizedProps,H=ys(c,$);_.props=H;var ee=_.context,le=c.contextType;A=wo,typeof le=="object"&&le!==null&&(A=or(le));var fe=c.getDerivedStateFromProps;le=typeof fe=="function"||typeof _.getSnapshotBeforeUpdate=="function",$=o.pendingProps!==$,le||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||($||ee!==A)&&dS(o,_,h,A),xi=!1;var re=o.memoizedState;_.state=re,ac(o,h,_,b),nc(),ee=o.memoizedState,$||re!==ee||xi?(typeof fe=="function"&&(Np(o,c,fe,h),ee=o.memoizedState),(H=xi||uS(o,c,H,h,re,ee,A))?(le||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(o.flags|=4194308)):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=ee),_.props=h,_.state=ee,_.context=A,h=H):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{_=o.stateNode,ap(i,o),A=o.memoizedProps,le=ys(c,A),_.props=le,fe=o.pendingProps,re=_.context,ee=c.contextType,H=wo,typeof ee=="object"&&ee!==null&&(H=or(ee)),$=c.getDerivedStateFromProps,(ee=typeof $=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(A!==fe||re!==H)&&dS(o,_,h,H),xi=!1,re=o.memoizedState,_.state=re,ac(o,h,_,b),nc();var se=o.memoizedState;A!==fe||re!==se||xi||i!==null&&i.dependencies!==null&&md(i.dependencies)?(typeof $=="function"&&(Np(o,c,$,h),se=o.memoizedState),(le=xi||uS(o,c,le,h,re,se,H)||i!==null&&i.dependencies!==null&&md(i.dependencies))?(ee||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(h,se,H),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(h,se,H)),typeof _.componentDidUpdate=="function"&&(o.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof _.componentDidUpdate!="function"||A===i.memoizedProps&&re===i.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&re===i.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=se),_.props=h,_.state=se,_.context=H,h=le):(typeof _.componentDidUpdate!="function"||A===i.memoizedProps&&re===i.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&re===i.memoizedState||(o.flags|=1024),h=!1)}return _=h,Dd(i,o),h=(o.flags&128)!==0,_||h?(_=o.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:_.render(),o.flags|=1,i!==null&&h?(o.child=gs(o,i.child,null,b),o.child=gs(o,null,c,b)):lr(i,o,c,b),o.memoizedState=_.state,i=o.child):i=Ca(i,o,b),i}function ES(i,o,c,h){return us(),o.flags|=256,lr(i,o,c,h),o.child}var Pp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Dp(i){return{baseLanes:i,cachePool:p_()}}function Rp(i,o,c){return i=i!==null?i.childLanes&~c:0,o&&(i|=ln),i}function NS(i,o,c){var h=o.pendingProps,b=!1,_=(o.flags&128)!==0,A;if((A=_)||(A=i!==null&&i.memoizedState===null?!1:(Ct.current&2)!==0),A&&(b=!0,o.flags&=-129),A=(o.flags&32)!==0,o.flags&=-33,i===null){if(Ge){if(b?Si(o):ki(),(i=pt)?(i=Mk(i,En),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:gi!==null?{id:na,overflow:aa}:null,retryLane:536870912,hydrationErrors:null},c=s_(i),c.return=o,o.child=c,sr=o,pt=null)):i=null,i===null)throw yi(o);return gg(i)?o.lanes=32:o.lanes=536870912,null}var $=h.children;return h=h.fallback,b?(ki(),b=o.mode,$=Rd({mode:"hidden",children:$},b),h=cs(h,b,c,null),$.return=o,h.return=o,$.sibling=h,o.child=$,h=o.child,h.memoizedState=Dp(c),h.childLanes=Rp(i,A,c),o.memoizedState=Pp,cc(null,h)):(Si(o),Mp(o,$))}var H=i.memoizedState;if(H!==null&&($=H.dehydrated,$!==null)){if(_)o.flags&256?(Si(o),o.flags&=-257,o=$p(i,o,c)):o.memoizedState!==null?(ki(),o.child=i.child,o.flags|=128,o=null):(ki(),$=h.fallback,b=o.mode,h=Rd({mode:"visible",children:h.children},b),$=cs($,b,c,null),$.flags|=2,h.return=o,$.return=o,h.sibling=$,o.child=h,gs(o,i.child,null,c),h=o.child,h.memoizedState=Dp(c),h.childLanes=Rp(i,A,c),o.memoizedState=Pp,o=cc(null,h));else if(Si(o),gg($)){if(A=$.nextSibling&&$.nextSibling.dataset,A)var ee=A.dgst;A=ee,h=Error(n(419)),h.stack="",h.digest=A,Xl({value:h,source:null,stack:null}),o=$p(i,o,c)}else if(Ut||jo(i,o,c,!1),A=(c&i.childLanes)!==0,Ut||A){if(A=st,A!==null&&(h=h1(A,c),h!==0&&h!==H.retryLane))throw H.retryLane=h,ls(i,h),Kr(A,i,h),Tp;pg($)||Hd(),o=$p(i,o,c)}else pg($)?(o.flags|=192,o.child=i.child,o=null):(i=H.treeContext,pt=On($.nextSibling),sr=o,Ge=!0,vi=null,En=!1,i!==null&&c_(o,i),o=Mp(o,h.children),o.flags|=4096);return o}return b?(ki(),$=h.fallback,b=o.mode,H=i.child,ee=H.sibling,h=ja(H,{mode:"hidden",children:h.children}),h.subtreeFlags=H.subtreeFlags&65011712,ee!==null?$=ja(ee,$):($=cs($,b,c,null),$.flags|=2),$.return=o,h.return=o,h.sibling=$,o.child=h,cc(null,h),h=o.child,$=i.child.memoizedState,$===null?$=Dp(c):(b=$.cachePool,b!==null?(H=Lt._currentValue,b=b.parent!==H?{parent:H,pool:H}:b):b=p_(),$={baseLanes:$.baseLanes|c,cachePool:b}),h.memoizedState=$,h.childLanes=Rp(i,A,c),o.memoizedState=Pp,cc(i.child,h)):(Si(o),c=i.child,i=c.sibling,c=ja(c,{mode:"visible",children:h.children}),c.return=o,c.sibling=null,i!==null&&(A=o.deletions,A===null?(o.deletions=[i],o.flags|=16):A.push(i)),o.child=c,o.memoizedState=null,c)}function Mp(i,o){return o=Rd({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function Rd(i,o){return i=nn(22,i,null,o),i.lanes=0,i}function $p(i,o,c){return gs(o,i.child,null,c),i=Mp(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function OS(i,o,c){i.lanes|=o;var h=i.alternate;h!==null&&(h.lanes|=o),Xm(i.return,o,c)}function Ip(i,o,c,h,b,_){var A=i.memoizedState;A===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:b,treeForkCount:_}:(A.isBackwards=o,A.rendering=null,A.renderingStartTime=0,A.last=h,A.tail=c,A.tailMode=b,A.treeForkCount=_)}function AS(i,o,c){var h=o.pendingProps,b=h.revealOrder,_=h.tail;h=h.children;var A=Ct.current,$=(A&2)!==0;if($?(A=A&1|2,o.flags|=128):A&=1,U(Ct,A),lr(i,o,h,c),h=Ge?Wl:0,!$&&i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&OS(i,c,o);else if(i.tag===19)OS(i,c,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(b){case"forwards":for(c=o.child,b=null;c!==null;)i=c.alternate,i!==null&&_d(i)===null&&(b=c),c=c.sibling;c=b,c===null?(b=o.child,o.child=null):(b=c.sibling,c.sibling=null),Ip(o,!1,b,c,_,h);break;case"backwards":case"unstable_legacy-backwards":for(c=null,b=o.child,o.child=null;b!==null;){if(i=b.alternate,i!==null&&_d(i)===null){o.child=b;break}i=b.sibling,b.sibling=c,c=b,b=i}Ip(o,!0,c,null,_,h);break;case"together":Ip(o,!1,null,null,void 0,h);break;default:o.memoizedState=null}return o.child}function Ca(i,o,c){if(i!==null&&(o.dependencies=i.dependencies),Ni|=o.lanes,(c&o.childLanes)===0)if(i!==null){if(jo(i,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,c=ja(i,i.pendingProps),o.child=c,c.return=o;i.sibling!==null;)i=i.sibling,c=c.sibling=ja(i,i.pendingProps),c.return=o;c.sibling=null}return o.child}function Lp(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&md(i)))}function u$(i,o,c){switch(o.tag){case 3:be(o,o.stateNode.containerInfo),bi(o,Lt,i.memoizedState.cache),us();break;case 27:case 5:ce(o);break;case 4:be(o,o.stateNode.containerInfo);break;case 10:bi(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,cp(o),null;break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(Si(o),o.flags|=128,null):(c&o.child.childLanes)!==0?NS(i,o,c):(Si(o),i=Ca(i,o,c),i!==null?i.sibling:null);Si(o);break;case 19:var b=(i.flags&128)!==0;if(h=(c&o.childLanes)!==0,h||(jo(i,o,c,!1),h=(c&o.childLanes)!==0),b){if(h)return AS(i,o,c);o.flags|=128}if(b=o.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),U(Ct,Ct.current),h)break;return null;case 22:return o.lanes=0,wS(i,o,c,o.pendingProps);case 24:bi(o,Lt,i.memoizedState.cache)}return Ca(i,o,c)}function TS(i,o,c){if(i!==null)if(i.memoizedProps!==o.pendingProps)Ut=!0;else{if(!Lp(i,c)&&(o.flags&128)===0)return Ut=!1,u$(i,o,c);Ut=(i.flags&131072)!==0}else Ut=!1,Ge&&(o.flags&1048576)!==0&&l_(o,Wl,o.index);switch(o.lanes=0,o.tag){case 16:e:{var h=o.pendingProps;if(i=ms(o.elementType),o.type=i,typeof i=="function")Hm(i)?(h=ys(i,h),o.tag=1,o=jS(null,o,i,h,c)):(o.tag=0,o=Cp(null,o,i,h,c));else{if(i!=null){var b=i.$$typeof;if(b===D){o.tag=11,o=yS(null,o,i,h,c);break e}else if(b===P){o.tag=14,o=bS(null,o,i,h,c);break e}}throw o=G(i)||i,Error(n(306,o,""))}}return o;case 0:return Cp(i,o,o.type,o.pendingProps,c);case 1:return h=o.type,b=ys(h,o.pendingProps),jS(i,o,h,b,c);case 3:e:{if(be(o,o.stateNode.containerInfo),i===null)throw Error(n(387));h=o.pendingProps;var _=o.memoizedState;b=_.element,ap(i,o),ac(o,h,null,c);var A=o.memoizedState;if(h=A.cache,bi(o,Lt,h),h!==_.cache&&Jm(o,[Lt],c,!0),nc(),h=A.element,_.isDehydrated)if(_={element:h,isDehydrated:!1,cache:A.cache},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){o=ES(i,o,h,c);break e}else if(h!==b){b=Sn(Error(n(424)),o),Xl(b),o=ES(i,o,h,c);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(pt=On(i.firstChild),sr=o,Ge=!0,vi=null,En=!0,c=w_(o,null,h,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(us(),h===b){o=Ca(i,o,c);break e}lr(i,o,h,c)}o=o.child}return o;case 26:return Dd(i,o),i===null?(c=Bk(o.type,null,o.pendingProps,null))?o.memoizedState=c:Ge||(c=o.type,i=o.pendingProps,h=Wd(de.current).createElement(c),h[ir]=o,h[Ur]=i,cr(h,c,i),Qt(h),o.stateNode=h):o.memoizedState=Bk(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return ce(o),i===null&&Ge&&(h=o.stateNode=Lk(o.type,o.pendingProps,de.current),sr=o,En=!0,b=pt,Pi(o.type)?(vg=b,pt=On(h.firstChild)):pt=b),lr(i,o,o.pendingProps.children,c),Dd(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&Ge&&((b=h=pt)&&(h=U$(h,o.type,o.pendingProps,En),h!==null?(o.stateNode=h,sr=o,pt=On(h.firstChild),En=!1,b=!0):b=!1),b||yi(o)),ce(o),b=o.type,_=o.pendingProps,A=i!==null?i.memoizedProps:null,h=_.children,fg(b,_)?h=null:A!==null&&fg(b,A)&&(o.flags|=32),o.memoizedState!==null&&(b=dp(i,o,t$,null,null,c),kc._currentValue=b),Dd(i,o),lr(i,o,h,c),o.child;case 6:return i===null&&Ge&&((i=c=pt)&&(c=B$(c,o.pendingProps,En),c!==null?(o.stateNode=c,sr=o,pt=null,i=!0):i=!1),i||yi(o)),null;case 13:return NS(i,o,c);case 4:return be(o,o.stateNode.containerInfo),h=o.pendingProps,i===null?o.child=gs(o,null,h,c):lr(i,o,h,c),o.child;case 11:return yS(i,o,o.type,o.pendingProps,c);case 7:return lr(i,o,o.pendingProps,c),o.child;case 8:return lr(i,o,o.pendingProps.children,c),o.child;case 12:return lr(i,o,o.pendingProps.children,c),o.child;case 10:return h=o.pendingProps,bi(o,o.type,h.value),lr(i,o,h.children,c),o.child;case 9:return b=o.type._context,h=o.pendingProps.children,fs(o),b=or(b),h=h(b),o.flags|=1,lr(i,o,h,c),o.child;case 14:return bS(i,o,o.type,o.pendingProps,c);case 15:return xS(i,o,o.type,o.pendingProps,c);case 19:return AS(i,o,c);case 31:return c$(i,o,c);case 22:return wS(i,o,c,o.pendingProps);case 24:return fs(o),h=or(Lt),i===null?(b=tp(),b===null&&(b=st,_=Qm(),b.pooledCache=_,_.refCount++,_!==null&&(b.pooledCacheLanes|=c),b=_),o.memoizedState={parent:h,cache:b},np(o),bi(o,Lt,b)):((i.lanes&c)!==0&&(ap(i,o),ac(o,null,null,c),nc()),b=i.memoizedState,_=o.memoizedState,b.parent!==h?(b={parent:h,cache:h},o.memoizedState=b,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=b),bi(o,Lt,h)):(h=_.cache,bi(o,Lt,h),h!==b.cache&&Jm(o,[Lt],c,!0))),lr(i,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function Pa(i){i.flags|=4}function zp(i,o,c,h,b){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(b&335544128)===b)if(i.stateNode.complete)i.flags|=8192;else if(nk())i.flags|=8192;else throw ps=yd,rp}else i.flags&=-16777217}function CS(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Kk(o))if(nk())i.flags|=8192;else throw ps=yd,rp}function Md(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?u1():536870912,i.lanes|=o,Io|=o)}function uc(i,o){if(!Ge)switch(i.tailMode){case"hidden":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function gt(i){var o=i.alternate!==null&&i.alternate.child===i.child,c=0,h=0;if(o)for(var b=i.child;b!==null;)c|=b.lanes|b.childLanes,h|=b.subtreeFlags&65011712,h|=b.flags&65011712,b.return=i,b=b.sibling;else for(b=i.child;b!==null;)c|=b.lanes|b.childLanes,h|=b.subtreeFlags,h|=b.flags,b.return=i,b=b.sibling;return i.subtreeFlags|=h,i.childLanes=c,o}function d$(i,o,c){var h=o.pendingProps;switch(Zm(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(o),null;case 1:return gt(o),null;case 3:return c=o.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),Oa(Lt),Z(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(i===null||i.child===null)&&(ko(o)?Pa(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Ym())),gt(o),null;case 26:var b=o.type,_=o.memoizedState;return i===null?(Pa(o),_!==null?(gt(o),CS(o,_)):(gt(o),zp(o,b,null,h,c))):_?_!==i.memoizedState?(Pa(o),gt(o),CS(o,_)):(gt(o),o.flags&=-16777217):(i=i.memoizedProps,i!==h&&Pa(o),gt(o),zp(o,b,i,h,c)),null;case 27:if(ye(o),c=de.current,b=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==h&&Pa(o);else{if(!h){if(o.stateNode===null)throw Error(n(166));return gt(o),null}i=te.current,ko(o)?u_(o):(i=Lk(b,h,c),o.stateNode=i,Pa(o))}return gt(o),null;case 5:if(ye(o),b=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==h&&Pa(o);else{if(!h){if(o.stateNode===null)throw Error(n(166));return gt(o),null}if(_=te.current,ko(o))u_(o);else{var A=Wd(de.current);switch(_){case 1:_=A.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:_=A.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":_=A.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":_=A.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":_=A.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof h.is=="string"?A.createElement("select",{is:h.is}):A.createElement("select"),h.multiple?_.multiple=!0:h.size&&(_.size=h.size);break;default:_=typeof h.is=="string"?A.createElement(b,{is:h.is}):A.createElement(b)}}_[ir]=o,_[Ur]=h;e:for(A=o.child;A!==null;){if(A.tag===5||A.tag===6)_.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===o)break e;for(;A.sibling===null;){if(A.return===null||A.return===o)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}o.stateNode=_;e:switch(cr(_,b,h),b){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&Pa(o)}}return gt(o),zp(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,c),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==h&&Pa(o);else{if(typeof h!="string"&&o.stateNode===null)throw Error(n(166));if(i=de.current,ko(o)){if(i=o.stateNode,c=o.memoizedProps,h=null,b=sr,b!==null)switch(b.tag){case 27:case 5:h=b.memoizedProps}i[ir]=o,i=!!(i.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||Nk(i.nodeValue,c)),i||yi(o,!0)}else i=Wd(i).createTextNode(h),i[ir]=o,o.stateNode=i}return gt(o),null;case 31:if(c=o.memoizedState,i===null||i.memoizedState!==null){if(h=ko(o),c!==null){if(i===null){if(!h)throw Error(n(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(557));i[ir]=o}else us(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;gt(o),i=!1}else c=Ym(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=c),i=!0;if(!i)return o.flags&256?(sn(o),o):(sn(o),null);if((o.flags&128)!==0)throw Error(n(558))}return gt(o),null;case 13:if(h=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(b=ko(o),h!==null&&h.dehydrated!==null){if(i===null){if(!b)throw Error(n(318));if(b=o.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));b[ir]=o}else us(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;gt(o),b=!1}else b=Ym(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=b),b=!0;if(!b)return o.flags&256?(sn(o),o):(sn(o),null)}return sn(o),(o.flags&128)!==0?(o.lanes=c,o):(c=h!==null,i=i!==null&&i.memoizedState!==null,c&&(h=o.child,b=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(b=h.alternate.memoizedState.cachePool.pool),_=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(_=h.memoizedState.cachePool.pool),_!==b&&(h.flags|=2048)),c!==i&&c&&(o.child.flags|=8192),Md(o,o.updateQueue),gt(o),null);case 4:return Z(),i===null&&og(o.stateNode.containerInfo),gt(o),null;case 10:return Oa(o.type),gt(o),null;case 19:if(K(Ct),h=o.memoizedState,h===null)return gt(o),null;if(b=(o.flags&128)!==0,_=h.rendering,_===null)if(b)uc(h,!1);else{if(Ot!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(_=_d(i),_!==null){for(o.flags|=128,uc(h,!1),i=_.updateQueue,o.updateQueue=i,Md(o,i),o.subtreeFlags=0,i=c,c=o.child;c!==null;)i_(c,i),c=c.sibling;return U(Ct,Ct.current&1|2),Ge&&Ea(o,h.treeForkCount),o.child}i=i.sibling}h.tail!==null&&Be()>Ud&&(o.flags|=128,b=!0,uc(h,!1),o.lanes=4194304)}else{if(!b)if(i=_d(_),i!==null){if(o.flags|=128,b=!0,i=i.updateQueue,o.updateQueue=i,Md(o,i),uc(h,!0),h.tail===null&&h.tailMode==="hidden"&&!_.alternate&&!Ge)return gt(o),null}else 2*Be()-h.renderingStartTime>Ud&&c!==536870912&&(o.flags|=128,b=!0,uc(h,!1),o.lanes=4194304);h.isBackwards?(_.sibling=o.child,o.child=_):(i=h.last,i!==null?i.sibling=_:o.child=_,h.last=_)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Be(),i.sibling=null,c=Ct.current,U(Ct,b?c&1|2:c&1),Ge&&Ea(o,h.treeForkCount),i):(gt(o),null);case 22:case 23:return sn(o),lp(),h=o.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(o.flags|=8192):h&&(o.flags|=8192),h?(c&536870912)!==0&&(o.flags&128)===0&&(gt(o),o.subtreeFlags&6&&(o.flags|=8192)):gt(o),c=o.updateQueue,c!==null&&Md(o,c.retryQueue),c=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==c&&(o.flags|=2048),i!==null&&K(hs),null;case 24:return c=null,i!==null&&(c=i.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),Oa(Lt),gt(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function f$(i,o){switch(Zm(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Oa(Lt),Z(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return ye(o),null;case 31:if(o.memoizedState!==null){if(sn(o),o.alternate===null)throw Error(n(340));us()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if(sn(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));us()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return K(Ct),null;case 4:return Z(),null;case 10:return Oa(o.type),null;case 22:case 23:return sn(o),lp(),i!==null&&K(hs),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return Oa(Lt),null;case 25:return null;default:return null}}function PS(i,o){switch(Zm(o),o.tag){case 3:Oa(Lt),Z();break;case 26:case 27:case 5:ye(o);break;case 4:Z();break;case 31:o.memoizedState!==null&&sn(o);break;case 13:sn(o);break;case 19:K(Ct);break;case 10:Oa(o.type);break;case 22:case 23:sn(o),lp(),i!==null&&K(hs);break;case 24:Oa(Lt)}}function dc(i,o){try{var c=o.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var b=h.next;c=b;do{if((c.tag&i)===i){h=void 0;var _=c.create,A=c.inst;h=_(),A.destroy=h}c=c.next}while(c!==b)}}catch($){tt(o,o.return,$)}}function ji(i,o,c){try{var h=o.updateQueue,b=h!==null?h.lastEffect:null;if(b!==null){var _=b.next;h=_;do{if((h.tag&i)===i){var A=h.inst,$=A.destroy;if($!==void 0){A.destroy=void 0,b=o;var H=c,ee=$;try{ee()}catch(le){tt(b,H,le)}}}h=h.next}while(h!==_)}}catch(le){tt(o,o.return,le)}}function DS(i){var o=i.updateQueue;if(o!==null){var c=i.stateNode;try{S_(o,c)}catch(h){tt(i,i.return,h)}}}function RS(i,o,c){c.props=ys(i.type,i.memoizedProps),c.state=i.memoizedState;try{c.componentWillUnmount()}catch(h){tt(i,o,h)}}function fc(i,o){try{var c=i.ref;if(c!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof c=="function"?i.refCleanup=c(h):c.current=h}}catch(b){tt(i,o,b)}}function ia(i,o){var c=i.ref,h=i.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(b){tt(i,o,b)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(b){tt(i,o,b)}else c.current=null}function MS(i){var o=i.type,c=i.memoizedProps,h=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break e;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(b){tt(i,i.return,b)}}function Up(i,o,c){try{var h=i.stateNode;R$(h,i.type,c,o),h[Ur]=o}catch(b){tt(i,i.return,b)}}function $S(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Pi(i.type)||i.tag===4}function Bp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||$S(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Pi(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function qp(i,o,c){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(i,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(i),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Sa));else if(h!==4&&(h===27&&Pi(i.type)&&(c=i.stateNode,o=null),i=i.child,i!==null))for(qp(i,o,c),i=i.sibling;i!==null;)qp(i,o,c),i=i.sibling}function $d(i,o,c){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?c.insertBefore(i,o):c.appendChild(i);else if(h!==4&&(h===27&&Pi(i.type)&&(c=i.stateNode),i=i.child,i!==null))for($d(i,o,c),i=i.sibling;i!==null;)$d(i,o,c),i=i.sibling}function IS(i){var o=i.stateNode,c=i.memoizedProps;try{for(var h=i.type,b=o.attributes;b.length;)o.removeAttributeNode(b[0]);cr(o,h,c),o[ir]=i,o[Ur]=c}catch(_){tt(i,i.return,_)}}var Da=!1,Bt=!1,Hp=!1,LS=typeof WeakSet=="function"?WeakSet:Set,er=null;function h$(i,o){if(i=i.containerInfo,ug=nf,i=W1(i),$m(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var b=h.anchorOffset,_=h.focusNode;h=h.focusOffset;try{c.nodeType,_.nodeType}catch{c=null;break e}var A=0,$=-1,H=-1,ee=0,le=0,fe=i,re=null;t:for(;;){for(var se;fe!==c||b!==0&&fe.nodeType!==3||($=A+b),fe!==_||h!==0&&fe.nodeType!==3||(H=A+h),fe.nodeType===3&&(A+=fe.nodeValue.length),(se=fe.firstChild)!==null;)re=fe,fe=se;for(;;){if(fe===i)break t;if(re===c&&++ee===b&&($=A),re===_&&++le===h&&(H=A),(se=fe.nextSibling)!==null)break;fe=re,re=fe.parentNode}fe=se}c=$===-1||H===-1?null:{start:$,end:H}}else c=null}c=c||{start:0,end:0}}else c=null;for(dg={focusedElem:i,selectionRange:c},nf=!1,er=o;er!==null;)if(o=er,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,er=i;else for(;er!==null;){switch(o=er,_=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(c=0;c<i.length;c++)b=i[c],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&_!==null){i=void 0,c=o,b=_.memoizedProps,_=_.memoizedState,h=c.stateNode;try{var je=ys(c.type,b);i=h.getSnapshotBeforeUpdate(je,_),h.__reactInternalSnapshotBeforeUpdate=i}catch(Re){tt(c,c.return,Re)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,c=i.nodeType,c===9)mg(i);else if(c===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":mg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=o.sibling,i!==null){i.return=o.return,er=i;break}er=o.return}}function zS(i,o,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:Ma(i,c),h&4&&dc(5,c);break;case 1:if(Ma(i,c),h&4)if(i=c.stateNode,o===null)try{i.componentDidMount()}catch(A){tt(c,c.return,A)}else{var b=ys(c.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(b,o,i.__reactInternalSnapshotBeforeUpdate)}catch(A){tt(c,c.return,A)}}h&64&&DS(c),h&512&&fc(c,c.return);break;case 3:if(Ma(i,c),h&64&&(i=c.updateQueue,i!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{S_(i,o)}catch(A){tt(c,c.return,A)}}break;case 27:o===null&&h&4&&IS(c);case 26:case 5:Ma(i,c),o===null&&h&4&&MS(c),h&512&&fc(c,c.return);break;case 12:Ma(i,c);break;case 31:Ma(i,c),h&4&&qS(i,c);break;case 13:Ma(i,c),h&4&&HS(i,c),h&64&&(i=c.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(c=_$.bind(null,c),q$(i,c))));break;case 22:if(h=c.memoizedState!==null||Da,!h){o=o!==null&&o.memoizedState!==null||Bt,b=Da;var _=Bt;Da=h,(Bt=o)&&!_?$a(i,c,(c.subtreeFlags&8772)!==0):Ma(i,c),Da=b,Bt=_}break;case 30:break;default:Ma(i,c)}}function US(i){var o=i.alternate;o!==null&&(i.alternate=null,US(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&bm(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var yt=null,qr=!1;function Ra(i,o,c){for(c=c.child;c!==null;)BS(i,o,c),c=c.sibling}function BS(i,o,c){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(Tr,c)}catch{}switch(c.tag){case 26:Bt||ia(c,o),Ra(i,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Bt||ia(c,o);var h=yt,b=qr;Pi(c.type)&&(yt=c.stateNode,qr=!1),Ra(i,o,c),wc(c.stateNode),yt=h,qr=b;break;case 5:Bt||ia(c,o);case 6:if(h=yt,b=qr,yt=null,Ra(i,o,c),yt=h,qr=b,yt!==null)if(qr)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(c.stateNode)}catch(_){tt(c,o,_)}else try{yt.removeChild(c.stateNode)}catch(_){tt(c,o,_)}break;case 18:yt!==null&&(qr?(i=yt,Dk(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,c.stateNode),Vo(i)):Dk(yt,c.stateNode));break;case 4:h=yt,b=qr,yt=c.stateNode.containerInfo,qr=!0,Ra(i,o,c),yt=h,qr=b;break;case 0:case 11:case 14:case 15:ji(2,c,o),Bt||ji(4,c,o),Ra(i,o,c);break;case 1:Bt||(ia(c,o),h=c.stateNode,typeof h.componentWillUnmount=="function"&&RS(c,o,h)),Ra(i,o,c);break;case 21:Ra(i,o,c);break;case 22:Bt=(h=Bt)||c.memoizedState!==null,Ra(i,o,c),Bt=h;break;default:Ra(i,o,c)}}function qS(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Vo(i)}catch(c){tt(o,o.return,c)}}}function HS(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Vo(i)}catch(c){tt(o,o.return,c)}}function m$(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new LS),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new LS),o;default:throw Error(n(435,i.tag))}}function Id(i,o){var c=m$(i);o.forEach(function(h){if(!c.has(h)){c.add(h);var b=S$.bind(null,i,h);h.then(b,b)}})}function Hr(i,o){var c=o.deletions;if(c!==null)for(var h=0;h<c.length;h++){var b=c[h],_=i,A=o,$=A;e:for(;$!==null;){switch($.tag){case 27:if(Pi($.type)){yt=$.stateNode,qr=!1;break e}break;case 5:yt=$.stateNode,qr=!1;break e;case 3:case 4:yt=$.stateNode.containerInfo,qr=!0;break e}$=$.return}if(yt===null)throw Error(n(160));BS(_,A,b),yt=null,qr=!1,_=b.alternate,_!==null&&(_.return=null),b.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)FS(o,i),o=o.sibling}var Hn=null;function FS(i,o){var c=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Hr(o,i),Fr(i),h&4&&(ji(3,i,i.return),dc(3,i),ji(5,i,i.return));break;case 1:Hr(o,i),Fr(i),h&512&&(Bt||c===null||ia(c,c.return)),h&64&&Da&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(c=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var b=Hn;if(Hr(o,i),Fr(i),h&512&&(Bt||c===null||ia(c,c.return)),h&4){var _=c!==null?c.memoizedState:null;if(h=i.memoizedState,c===null)if(h===null)if(i.stateNode===null){e:{h=i.type,c=i.memoizedProps,b=b.ownerDocument||b;t:switch(h){case"title":_=b.getElementsByTagName("title")[0],(!_||_[zl]||_[ir]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=b.createElement(h),b.head.insertBefore(_,b.querySelector("head > title"))),cr(_,h,c),_[ir]=i,Qt(_),h=_;break e;case"link":var A=Fk("link","href",b).get(h+(c.href||""));if(A){for(var $=0;$<A.length;$++)if(_=A[$],_.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&_.getAttribute("rel")===(c.rel==null?null:c.rel)&&_.getAttribute("title")===(c.title==null?null:c.title)&&_.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){A.splice($,1);break t}}_=b.createElement(h),cr(_,h,c),b.head.appendChild(_);break;case"meta":if(A=Fk("meta","content",b).get(h+(c.content||""))){for($=0;$<A.length;$++)if(_=A[$],_.getAttribute("content")===(c.content==null?null:""+c.content)&&_.getAttribute("name")===(c.name==null?null:c.name)&&_.getAttribute("property")===(c.property==null?null:c.property)&&_.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&_.getAttribute("charset")===(c.charSet==null?null:c.charSet)){A.splice($,1);break t}}_=b.createElement(h),cr(_,h,c),b.head.appendChild(_);break;default:throw Error(n(468,h))}_[ir]=i,Qt(_),h=_}i.stateNode=h}else Vk(b,i.type,i.stateNode);else i.stateNode=Hk(b,h,i.memoizedProps);else _!==h?(_===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):_.count--,h===null?Vk(b,i.type,i.stateNode):Hk(b,h,i.memoizedProps)):h===null&&i.stateNode!==null&&Up(i,i.memoizedProps,c.memoizedProps)}break;case 27:Hr(o,i),Fr(i),h&512&&(Bt||c===null||ia(c,c.return)),c!==null&&h&4&&Up(i,i.memoizedProps,c.memoizedProps);break;case 5:if(Hr(o,i),Fr(i),h&512&&(Bt||c===null||ia(c,c.return)),i.flags&32){b=i.stateNode;try{mo(b,"")}catch(je){tt(i,i.return,je)}}h&4&&i.stateNode!=null&&(b=i.memoizedProps,Up(i,b,c!==null?c.memoizedProps:b)),h&1024&&(Hp=!0);break;case 6:if(Hr(o,i),Fr(i),h&4){if(i.stateNode===null)throw Error(n(162));h=i.memoizedProps,c=i.stateNode;try{c.nodeValue=h}catch(je){tt(i,i.return,je)}}break;case 3:if(Qd=null,b=Hn,Hn=Xd(o.containerInfo),Hr(o,i),Hn=b,Fr(i),h&4&&c!==null&&c.memoizedState.isDehydrated)try{Vo(o.containerInfo)}catch(je){tt(i,i.return,je)}Hp&&(Hp=!1,VS(i));break;case 4:h=Hn,Hn=Xd(i.stateNode.containerInfo),Hr(o,i),Fr(i),Hn=h;break;case 12:Hr(o,i),Fr(i);break;case 31:Hr(o,i),Fr(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Id(i,h)));break;case 13:Hr(o,i),Fr(i),i.child.flags&8192&&i.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(zd=Be()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Id(i,h)));break;case 22:b=i.memoizedState!==null;var H=c!==null&&c.memoizedState!==null,ee=Da,le=Bt;if(Da=ee||b,Bt=le||H,Hr(o,i),Bt=le,Da=ee,Fr(i),h&8192)e:for(o=i.stateNode,o._visibility=b?o._visibility&-2:o._visibility|1,b&&(c===null||H||Da||Bt||bs(i)),c=null,o=i;;){if(o.tag===5||o.tag===26){if(c===null){H=c=o;try{if(_=H.stateNode,b)A=_.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{$=H.stateNode;var fe=H.memoizedProps.style,re=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;$.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(je){tt(H,H.return,je)}}}else if(o.tag===6){if(c===null){H=o;try{H.stateNode.nodeValue=b?"":H.memoizedProps}catch(je){tt(H,H.return,je)}}}else if(o.tag===18){if(c===null){H=o;try{var se=H.stateNode;b?Rk(se,!0):Rk(H.stateNode,!1)}catch(je){tt(H,H.return,je)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}h&4&&(h=i.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,Id(i,c))));break;case 19:Hr(o,i),Fr(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Id(i,h)));break;case 30:break;case 21:break;default:Hr(o,i),Fr(i)}}function Fr(i){var o=i.flags;if(o&2){try{for(var c,h=i.return;h!==null;){if($S(h)){c=h;break}h=h.return}if(c==null)throw Error(n(160));switch(c.tag){case 27:var b=c.stateNode,_=Bp(i);$d(i,_,b);break;case 5:var A=c.stateNode;c.flags&32&&(mo(A,""),c.flags&=-33);var $=Bp(i);$d(i,$,A);break;case 3:case 4:var H=c.stateNode.containerInfo,ee=Bp(i);qp(i,ee,H);break;default:throw Error(n(161))}}catch(le){tt(i,i.return,le)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function VS(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;VS(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function Ma(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)zS(i,o.alternate,o),o=o.sibling}function bs(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:ji(4,o,o.return),bs(o);break;case 1:ia(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&RS(o,o.return,c),bs(o);break;case 27:wc(o.stateNode);case 26:case 5:ia(o,o.return),bs(o);break;case 22:o.memoizedState===null&&bs(o);break;case 30:bs(o);break;default:bs(o)}i=i.sibling}}function $a(i,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var h=o.alternate,b=i,_=o,A=_.flags;switch(_.tag){case 0:case 11:case 15:$a(b,_,c),dc(4,_);break;case 1:if($a(b,_,c),h=_,b=h.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(ee){tt(h,h.return,ee)}if(h=_,b=h.updateQueue,b!==null){var $=h.stateNode;try{var H=b.shared.hiddenCallbacks;if(H!==null)for(b.shared.hiddenCallbacks=null,b=0;b<H.length;b++)__(H[b],$)}catch(ee){tt(h,h.return,ee)}}c&&A&64&&DS(_),fc(_,_.return);break;case 27:IS(_);case 26:case 5:$a(b,_,c),c&&h===null&&A&4&&MS(_),fc(_,_.return);break;case 12:$a(b,_,c);break;case 31:$a(b,_,c),c&&A&4&&qS(b,_);break;case 13:$a(b,_,c),c&&A&4&&HS(b,_);break;case 22:_.memoizedState===null&&$a(b,_,c),fc(_,_.return);break;case 30:break;default:$a(b,_,c)}o=o.sibling}}function Fp(i,o){var c=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==c&&(i!=null&&i.refCount++,c!=null&&Jl(c))}function Vp(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Jl(i))}function Fn(i,o,c,h){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)KS(i,o,c,h),o=o.sibling}function KS(i,o,c,h){var b=o.flags;switch(o.tag){case 0:case 11:case 15:Fn(i,o,c,h),b&2048&&dc(9,o);break;case 1:Fn(i,o,c,h);break;case 3:Fn(i,o,c,h),b&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Jl(i)));break;case 12:if(b&2048){Fn(i,o,c,h),i=o.stateNode;try{var _=o.memoizedProps,A=_.id,$=_.onPostCommit;typeof $=="function"&&$(A,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(H){tt(o,o.return,H)}}else Fn(i,o,c,h);break;case 31:Fn(i,o,c,h);break;case 13:Fn(i,o,c,h);break;case 23:break;case 22:_=o.stateNode,A=o.alternate,o.memoizedState!==null?_._visibility&2?Fn(i,o,c,h):hc(i,o):_._visibility&2?Fn(i,o,c,h):(_._visibility|=2,Ro(i,o,c,h,(o.subtreeFlags&10256)!==0||!1)),b&2048&&Fp(A,o);break;case 24:Fn(i,o,c,h),b&2048&&Vp(o.alternate,o);break;default:Fn(i,o,c,h)}}function Ro(i,o,c,h,b){for(b=b&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var _=i,A=o,$=c,H=h,ee=A.flags;switch(A.tag){case 0:case 11:case 15:Ro(_,A,$,H,b),dc(8,A);break;case 23:break;case 22:var le=A.stateNode;A.memoizedState!==null?le._visibility&2?Ro(_,A,$,H,b):hc(_,A):(le._visibility|=2,Ro(_,A,$,H,b)),b&&ee&2048&&Fp(A.alternate,A);break;case 24:Ro(_,A,$,H,b),b&&ee&2048&&Vp(A.alternate,A);break;default:Ro(_,A,$,H,b)}o=o.sibling}}function hc(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=i,h=o,b=h.flags;switch(h.tag){case 22:hc(c,h),b&2048&&Fp(h.alternate,h);break;case 24:hc(c,h),b&2048&&Vp(h.alternate,h);break;default:hc(c,h)}o=o.sibling}}var mc=8192;function Mo(i,o,c){if(i.subtreeFlags&mc)for(i=i.child;i!==null;)ZS(i,o,c),i=i.sibling}function ZS(i,o,c){switch(i.tag){case 26:Mo(i,o,c),i.flags&mc&&i.memoizedState!==null&&e6(c,Hn,i.memoizedState,i.memoizedProps);break;case 5:Mo(i,o,c);break;case 3:case 4:var h=Hn;Hn=Xd(i.stateNode.containerInfo),Mo(i,o,c),Hn=h;break;case 22:i.memoizedState===null&&(h=i.alternate,h!==null&&h.memoizedState!==null?(h=mc,mc=16777216,Mo(i,o,c),mc=h):Mo(i,o,c));break;default:Mo(i,o,c)}}function GS(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function pc(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var h=o[c];er=h,WS(h,i)}GS(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)YS(i),i=i.sibling}function YS(i){switch(i.tag){case 0:case 11:case 15:pc(i),i.flags&2048&&ji(9,i,i.return);break;case 3:pc(i);break;case 12:pc(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,Ld(i)):pc(i);break;default:pc(i)}}function Ld(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var h=o[c];er=h,WS(h,i)}GS(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:ji(8,o,o.return),Ld(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,Ld(o));break;default:Ld(o)}i=i.sibling}}function WS(i,o){for(;er!==null;){var c=er;switch(c.tag){case 0:case 11:case 15:ji(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Jl(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,er=h;else e:for(c=i;er!==null;){h=er;var b=h.sibling,_=h.return;if(US(h),h===c){er=null;break e}if(b!==null){b.return=_,er=b;break e}er=_}}}var p$={getCacheForType:function(i){var o=or(Lt),c=o.data.get(i);return c===void 0&&(c=i(),o.data.set(i,c)),c},cacheSignal:function(){return or(Lt).controller.signal}},g$=typeof WeakMap=="function"?WeakMap:Map,Qe=0,st=null,qe=null,Ve=0,et=0,on=null,Ei=!1,$o=!1,Kp=!1,Ia=0,Ot=0,Ni=0,xs=0,Zp=0,ln=0,Io=0,gc=null,Vr=null,Gp=!1,zd=0,XS=0,Ud=1/0,Bd=null,Oi=null,Kt=0,Ai=null,Lo=null,La=0,Yp=0,Wp=null,JS=null,vc=0,Xp=null;function cn(){return(Qe&2)!==0&&Ve!==0?Ve&-Ve:q.T!==null?ng():m1()}function QS(){if(ln===0)if((Ve&536870912)===0||Ge){var i=Yu;Yu<<=1,(Yu&3932160)===0&&(Yu=262144),ln=i}else ln=536870912;return i=an.current,i!==null&&(i.flags|=32),ln}function Kr(i,o,c){(i===st&&(et===2||et===9)||i.cancelPendingCommit!==null)&&(zo(i,0),Ti(i,Ve,ln,!1)),Ll(i,c),((Qe&2)===0||i!==st)&&(i===st&&((Qe&2)===0&&(xs|=c),Ot===4&&Ti(i,Ve,ln,!1)),sa(i))}function ek(i,o,c){if((Qe&6)!==0)throw Error(n(327));var h=!c&&(o&127)===0&&(o&i.expiredLanes)===0||Il(i,o),b=h?b$(i,o):Qp(i,o,!0),_=h;do{if(b===0){$o&&!h&&Ti(i,o,0,!1);break}else{if(c=i.current.alternate,_&&!v$(c)){b=Qp(i,o,!1),_=!1;continue}if(b===2){if(_=o,i.errorRecoveryDisabledLanes&_)var A=0;else A=i.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){o=A;e:{var $=i;b=gc;var H=$.current.memoizedState.isDehydrated;if(H&&(zo($,A).flags|=256),A=Qp($,A,!1),A!==2){if(Kp&&!H){$.errorRecoveryDisabledLanes|=_,xs|=_,b=4;break e}_=Vr,Vr=b,_!==null&&(Vr===null?Vr=_:Vr.push.apply(Vr,_))}b=A}if(_=!1,b!==2)continue}}if(b===1){zo(i,0),Ti(i,o,0,!0);break}e:{switch(h=i,_=b,_){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:Ti(h,o,ln,!Ei);break e;case 2:Vr=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(b=zd+300-Be(),10<b)){if(Ti(h,o,ln,!Ei),Xu(h,0,!0)!==0)break e;La=o,h.timeoutHandle=Ck(tk.bind(null,h,c,Vr,Bd,Gp,o,ln,xs,Io,Ei,_,"Throttled",-0,0),b);break e}tk(h,c,Vr,Bd,Gp,o,ln,xs,Io,Ei,_,null,-0,0)}}break}while(!0);sa(i)}function tk(i,o,c,h,b,_,A,$,H,ee,le,fe,re,se){if(i.timeoutHandle=-1,fe=o.subtreeFlags,fe&8192||(fe&16785408)===16785408){fe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Sa},ZS(o,_,fe);var je=(_&62914560)===_?zd-Be():(_&4194048)===_?XS-Be():0;if(je=t6(fe,je),je!==null){La=_,i.cancelPendingCommit=je(ck.bind(null,i,o,_,c,h,b,A,$,H,le,fe,null,re,se)),Ti(i,_,A,!ee);return}}ck(i,o,_,c,h,b,A,$,H)}function v$(i){for(var o=i;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var b=c[h],_=b.getSnapshot;b=b.value;try{if(!rn(_(),b))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ti(i,o,c,h){o&=~Zp,o&=~xs,i.suspendedLanes|=o,i.pingedLanes&=~o,h&&(i.warmLanes|=o),h=i.expirationTimes;for(var b=o;0<b;){var _=31-wr(b),A=1<<_;h[_]=-1,b&=~A}c!==0&&d1(i,c,o)}function qd(){return(Qe&6)===0?(yc(0),!1):!0}function Jp(){if(qe!==null){if(et===0)var i=qe.return;else i=qe,Na=ds=null,mp(i),Ao=null,ec=0,i=qe;for(;i!==null;)PS(i.alternate,i),i=i.return;qe=null}}function zo(i,o){var c=i.timeoutHandle;c!==-1&&(i.timeoutHandle=-1,I$(c)),c=i.cancelPendingCommit,c!==null&&(i.cancelPendingCommit=null,c()),La=0,Jp(),st=i,qe=c=ja(i.current,null),Ve=o,et=0,on=null,Ei=!1,$o=Il(i,o),Kp=!1,Io=ln=Zp=xs=Ni=Ot=0,Vr=gc=null,Gp=!1,(o&8)!==0&&(o|=o&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=o;0<h;){var b=31-wr(h),_=1<<b;o|=i[b],h&=~_}return Ia=o,cd(),c}function rk(i,o){Le=null,q.H=lc,o===Oo||o===vd?(o=y_(),et=3):o===rp?(o=y_(),et=4):et=o===Tp?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,on=o,qe===null&&(Ot=1,Cd(i,Sn(o,i.current)))}function nk(){var i=an.current;return i===null?!0:(Ve&4194048)===Ve?Nn===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?i===Nn:!1}function ak(){var i=q.H;return q.H=lc,i===null?lc:i}function ik(){var i=q.A;return q.A=p$,i}function Hd(){Ot=4,Ei||(Ve&4194048)!==Ve&&an.current!==null||($o=!0),(Ni&134217727)===0&&(xs&134217727)===0||st===null||Ti(st,Ve,ln,!1)}function Qp(i,o,c){var h=Qe;Qe|=2;var b=ak(),_=ik();(st!==i||Ve!==o)&&(Bd=null,zo(i,o)),o=!1;var A=Ot;e:do try{if(et!==0&&qe!==null){var $=qe,H=on;switch(et){case 8:Jp(),A=6;break e;case 3:case 2:case 9:case 6:an.current===null&&(o=!0);var ee=et;if(et=0,on=null,Uo(i,$,H,ee),c&&$o){A=0;break e}break;default:ee=et,et=0,on=null,Uo(i,$,H,ee)}}y$(),A=Ot;break}catch(le){rk(i,le)}while(!0);return o&&i.shellSuspendCounter++,Na=ds=null,Qe=h,q.H=b,q.A=_,qe===null&&(st=null,Ve=0,cd()),A}function y$(){for(;qe!==null;)sk(qe)}function b$(i,o){var c=Qe;Qe|=2;var h=ak(),b=ik();st!==i||Ve!==o?(Bd=null,Ud=Be()+500,zo(i,o)):$o=Il(i,o);e:do try{if(et!==0&&qe!==null){o=qe;var _=on;t:switch(et){case 1:et=0,on=null,Uo(i,o,_,1);break;case 2:case 9:if(g_(_)){et=0,on=null,ok(o);break}o=function(){et!==2&&et!==9||st!==i||(et=7),sa(i)},_.then(o,o);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:g_(_)?(et=0,on=null,ok(o)):(et=0,on=null,Uo(i,o,_,7));break;case 5:var A=null;switch(qe.tag){case 26:A=qe.memoizedState;case 5:case 27:var $=qe;if(A?Kk(A):$.stateNode.complete){et=0,on=null;var H=$.sibling;if(H!==null)qe=H;else{var ee=$.return;ee!==null?(qe=ee,Fd(ee)):qe=null}break t}}et=0,on=null,Uo(i,o,_,5);break;case 6:et=0,on=null,Uo(i,o,_,6);break;case 8:Jp(),Ot=6;break e;default:throw Error(n(462))}}x$();break}catch(le){rk(i,le)}while(!0);return Na=ds=null,q.H=h,q.A=b,Qe=c,qe!==null?0:(st=null,Ve=0,cd(),Ot)}function x$(){for(;qe!==null&&!lt();)sk(qe)}function sk(i){var o=TS(i.alternate,i,Ia);i.memoizedProps=i.pendingProps,o===null?Fd(i):qe=o}function ok(i){var o=i,c=o.alternate;switch(o.tag){case 15:case 0:o=kS(c,o,o.pendingProps,o.type,void 0,Ve);break;case 11:o=kS(c,o,o.pendingProps,o.type.render,o.ref,Ve);break;case 5:mp(o);default:PS(c,o),o=qe=i_(o,Ia),o=TS(c,o,Ia)}i.memoizedProps=i.pendingProps,o===null?Fd(i):qe=o}function Uo(i,o,c,h){Na=ds=null,mp(o),Ao=null,ec=0;var b=o.return;try{if(l$(i,b,o,c,Ve)){Ot=1,Cd(i,Sn(c,i.current)),qe=null;return}}catch(_){if(b!==null)throw qe=b,_;Ot=1,Cd(i,Sn(c,i.current)),qe=null;return}o.flags&32768?(Ge||h===1?i=!0:$o||(Ve&536870912)!==0?i=!1:(Ei=i=!0,(h===2||h===9||h===3||h===6)&&(h=an.current,h!==null&&h.tag===13&&(h.flags|=16384))),lk(o,i)):Fd(o)}function Fd(i){var o=i;do{if((o.flags&32768)!==0){lk(o,Ei);return}i=o.return;var c=d$(o.alternate,o,Ia);if(c!==null){qe=c;return}if(o=o.sibling,o!==null){qe=o;return}qe=o=i}while(o!==null);Ot===0&&(Ot=5)}function lk(i,o){do{var c=f$(i.alternate,i);if(c!==null){c.flags&=32767,qe=c;return}if(c=i.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(i=i.sibling,i!==null)){qe=i;return}qe=i=c}while(i!==null);Ot=6,qe=null}function ck(i,o,c,h,b,_,A,$,H){i.cancelPendingCommit=null;do Vd();while(Kt!==0);if((Qe&6)!==0)throw Error(n(327));if(o!==null){if(o===i.current)throw Error(n(177));if(_=o.lanes|o.childLanes,_|=Bm,QM(i,c,_,A,$,H),i===st&&(qe=st=null,Ve=0),Lo=o,Ai=i,La=c,Yp=_,Wp=b,JS=h,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,k$(mt,function(){return mk(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||h){h=q.T,q.T=null,b=F.p,F.p=2,A=Qe,Qe|=4;try{h$(i,o,c)}finally{Qe=A,F.p=b,q.T=h}}Kt=1,uk(),dk(),fk()}}function uk(){if(Kt===1){Kt=0;var i=Ai,o=Lo,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=q.T,q.T=null;var h=F.p;F.p=2;var b=Qe;Qe|=4;try{FS(o,i);var _=dg,A=W1(i.containerInfo),$=_.focusedElem,H=_.selectionRange;if(A!==$&&$&&$.ownerDocument&&Y1($.ownerDocument.documentElement,$)){if(H!==null&&$m($)){var ee=H.start,le=H.end;if(le===void 0&&(le=ee),"selectionStart"in $)$.selectionStart=ee,$.selectionEnd=Math.min(le,$.value.length);else{var fe=$.ownerDocument||document,re=fe&&fe.defaultView||window;if(re.getSelection){var se=re.getSelection(),je=$.textContent.length,Re=Math.min(H.start,je),it=H.end===void 0?Re:Math.min(H.end,je);!se.extend&&Re>it&&(A=it,it=Re,Re=A);var Y=G1($,Re),V=G1($,it);if(Y&&V&&(se.rangeCount!==1||se.anchorNode!==Y.node||se.anchorOffset!==Y.offset||se.focusNode!==V.node||se.focusOffset!==V.offset)){var Q=fe.createRange();Q.setStart(Y.node,Y.offset),se.removeAllRanges(),Re>it?(se.addRange(Q),se.extend(V.node,V.offset)):(Q.setEnd(V.node,V.offset),se.addRange(Q))}}}}for(fe=[],se=$;se=se.parentNode;)se.nodeType===1&&fe.push({element:se,left:se.scrollLeft,top:se.scrollTop});for(typeof $.focus=="function"&&$.focus(),$=0;$<fe.length;$++){var ue=fe[$];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}nf=!!ug,dg=ug=null}finally{Qe=b,F.p=h,q.T=c}}i.current=o,Kt=2}}function dk(){if(Kt===2){Kt=0;var i=Ai,o=Lo,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=q.T,q.T=null;var h=F.p;F.p=2;var b=Qe;Qe|=4;try{zS(i,o.alternate,o)}finally{Qe=b,F.p=h,q.T=c}}Kt=3}}function fk(){if(Kt===4||Kt===3){Kt=0,xr();var i=Ai,o=Lo,c=La,h=JS;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Kt=5:(Kt=0,Lo=Ai=null,hk(i,i.pendingLanes));var b=i.pendingLanes;if(b===0&&(Oi=null),vm(c),o=o.stateNode,Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(Tr,o,void 0,(o.current.flags&128)===128)}catch{}if(h!==null){o=q.T,b=F.p,F.p=2,q.T=null;try{for(var _=i.onRecoverableError,A=0;A<h.length;A++){var $=h[A];_($.value,{componentStack:$.stack})}}finally{q.T=o,F.p=b}}(La&3)!==0&&Vd(),sa(i),b=i.pendingLanes,(c&261930)!==0&&(b&42)!==0?i===Xp?vc++:(vc=0,Xp=i):vc=0,yc(0)}}function hk(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,Jl(o)))}function Vd(){return uk(),dk(),fk(),mk()}function mk(){if(Kt!==5)return!1;var i=Ai,o=Yp;Yp=0;var c=vm(La),h=q.T,b=F.p;try{F.p=32>c?32:c,q.T=null,c=Wp,Wp=null;var _=Ai,A=La;if(Kt=0,Lo=Ai=null,La=0,(Qe&6)!==0)throw Error(n(331));var $=Qe;if(Qe|=4,YS(_.current),KS(_,_.current,A,c),Qe=$,yc(0,!1),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(Tr,_)}catch{}return!0}finally{F.p=b,q.T=h,hk(i,o)}}function pk(i,o,c){o=Sn(c,o),o=Ap(i.stateNode,o,2),i=_i(i,o,2),i!==null&&(Ll(i,2),sa(i))}function tt(i,o,c){if(i.tag===3)pk(i,i,c);else for(;o!==null;){if(o.tag===3){pk(o,i,c);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Oi===null||!Oi.has(h))){i=Sn(c,i),c=gS(2),h=_i(o,c,2),h!==null&&(vS(c,h,o,i),Ll(h,2),sa(h));break}}o=o.return}}function eg(i,o,c){var h=i.pingCache;if(h===null){h=i.pingCache=new g$;var b=new Set;h.set(o,b)}else b=h.get(o),b===void 0&&(b=new Set,h.set(o,b));b.has(c)||(Kp=!0,b.add(c),i=w$.bind(null,i,o,c),o.then(i,i))}function w$(i,o,c){var h=i.pingCache;h!==null&&h.delete(o),i.pingedLanes|=i.suspendedLanes&c,i.warmLanes&=~c,st===i&&(Ve&c)===c&&(Ot===4||Ot===3&&(Ve&62914560)===Ve&&300>Be()-zd?(Qe&2)===0&&zo(i,0):Zp|=c,Io===Ve&&(Io=0)),sa(i)}function gk(i,o){o===0&&(o=u1()),i=ls(i,o),i!==null&&(Ll(i,o),sa(i))}function _$(i){var o=i.memoizedState,c=0;o!==null&&(c=o.retryLane),gk(i,c)}function S$(i,o){var c=0;switch(i.tag){case 31:case 13:var h=i.stateNode,b=i.memoizedState;b!==null&&(c=b.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(n(314))}h!==null&&h.delete(o),gk(i,c)}function k$(i,o){return ze(i,o)}var Kd=null,Bo=null,tg=!1,Zd=!1,rg=!1,Ci=0;function sa(i){i!==Bo&&i.next===null&&(Bo===null?Kd=Bo=i:Bo=Bo.next=i),Zd=!0,tg||(tg=!0,E$())}function yc(i,o){if(!rg&&Zd){rg=!0;do for(var c=!1,h=Kd;h!==null;){if(i!==0){var b=h.pendingLanes;if(b===0)var _=0;else{var A=h.suspendedLanes,$=h.pingedLanes;_=(1<<31-wr(42|i)+1)-1,_&=b&~(A&~$),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(c=!0,xk(h,_))}else _=Ve,_=Xu(h,h===st?_:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(_&3)===0||Il(h,_)||(c=!0,xk(h,_));h=h.next}while(c);rg=!1}}function j$(){vk()}function vk(){Zd=tg=!1;var i=0;Ci!==0&&$$()&&(i=Ci);for(var o=Be(),c=null,h=Kd;h!==null;){var b=h.next,_=yk(h,o);_===0?(h.next=null,c===null?Kd=b:c.next=b,b===null&&(Bo=c)):(c=h,(i!==0||(_&3)!==0)&&(Zd=!0)),h=b}Kt!==0&&Kt!==5||yc(i),Ci!==0&&(Ci=0)}function yk(i,o){for(var c=i.suspendedLanes,h=i.pingedLanes,b=i.expirationTimes,_=i.pendingLanes&-62914561;0<_;){var A=31-wr(_),$=1<<A,H=b[A];H===-1?(($&c)===0||($&h)!==0)&&(b[A]=JM($,o)):H<=o&&(i.expiredLanes|=$),_&=~$}if(o=st,c=Ve,c=Xu(i,i===o?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,c===0||i===o&&(et===2||et===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&St(h),i.callbackNode=null,i.callbackPriority=0;if((c&3)===0||Il(i,c)){if(o=c&-c,o===i.callbackPriority)return o;switch(h!==null&&St(h),vm(c)){case 2:case 8:c=Ye;break;case 32:c=mt;break;case 268435456:c=hi;break;default:c=mt}return h=bk.bind(null,i),c=ze(c,h),i.callbackPriority=o,i.callbackNode=c,o}return h!==null&&h!==null&&St(h),i.callbackPriority=2,i.callbackNode=null,2}function bk(i,o){if(Kt!==0&&Kt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var c=i.callbackNode;if(Vd()&&i.callbackNode!==c)return null;var h=Ve;return h=Xu(i,i===st?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(ek(i,h,o),yk(i,Be()),i.callbackNode!=null&&i.callbackNode===c?bk.bind(null,i):null)}function xk(i,o){if(Vd())return null;ek(i,o,!0)}function E$(){L$(function(){(Qe&6)!==0?ze(Fe,j$):vk()})}function ng(){if(Ci===0){var i=Eo;i===0&&(i=Gu,Gu<<=1,(Gu&261888)===0&&(Gu=256)),Ci=i}return Ci}function wk(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:td(""+i)}function _k(i,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,i.id&&c.setAttribute("form",i.id),o.parentNode.insertBefore(c,o),i=new FormData(i),c.parentNode.removeChild(c),i}function N$(i,o,c,h,b){if(o==="submit"&&c&&c.stateNode===b){var _=wk((b[Ur]||null).action),A=h.submitter;A&&(o=(o=A[Ur]||null)?wk(o.formAction):A.getAttribute("formAction"),o!==null&&(_=o,A=null));var $=new id("action","action",null,h,b);i.push({event:$,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Ci!==0){var H=A?_k(b,A):new FormData(b);Sp(c,{pending:!0,data:H,method:b.method,action:_},null,H)}}else typeof _=="function"&&($.preventDefault(),H=A?_k(b,A):new FormData(b),Sp(c,{pending:!0,data:H,method:b.method,action:_},_,H))},currentTarget:b}]})}}for(var ag=0;ag<Um.length;ag++){var ig=Um[ag],O$=ig.toLowerCase(),A$=ig[0].toUpperCase()+ig.slice(1);qn(O$,"on"+A$)}qn(Q1,"onAnimationEnd"),qn(e_,"onAnimationIteration"),qn(t_,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(V3,"onTransitionRun"),qn(K3,"onTransitionStart"),qn(Z3,"onTransitionCancel"),qn(r_,"onTransitionEnd"),fo("onMouseEnter",["mouseout","mouseover"]),fo("onMouseLeave",["mouseout","mouseover"]),fo("onPointerEnter",["pointerout","pointerover"]),fo("onPointerLeave",["pointerout","pointerover"]),as("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),as("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),as("onBeforeInput",["compositionend","keypress","textInput","paste"]),as("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),as("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),as("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T$=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bc));function Sk(i,o){o=(o&4)!==0;for(var c=0;c<i.length;c++){var h=i[c],b=h.event;h=h.listeners;e:{var _=void 0;if(o)for(var A=h.length-1;0<=A;A--){var $=h[A],H=$.instance,ee=$.currentTarget;if($=$.listener,H!==_&&b.isPropagationStopped())break e;_=$,b.currentTarget=ee;try{_(b)}catch(le){ld(le)}b.currentTarget=null,_=H}else for(A=0;A<h.length;A++){if($=h[A],H=$.instance,ee=$.currentTarget,$=$.listener,H!==_&&b.isPropagationStopped())break e;_=$,b.currentTarget=ee;try{_(b)}catch(le){ld(le)}b.currentTarget=null,_=H}}}}function He(i,o){var c=o[ym];c===void 0&&(c=o[ym]=new Set);var h=i+"__bubble";c.has(h)||(kk(o,i,2,!1),c.add(h))}function sg(i,o,c){var h=0;o&&(h|=4),kk(c,i,h,o)}var Gd="_reactListening"+Math.random().toString(36).slice(2);function og(i){if(!i[Gd]){i[Gd]=!0,v1.forEach(function(c){c!=="selectionchange"&&(T$.has(c)||sg(c,!1,i),sg(c,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Gd]||(o[Gd]=!0,sg("selectionchange",!1,o))}}function kk(i,o,c,h){switch(Qk(o)){case 2:var b=a6;break;case 8:b=i6;break;default:b=_g}c=b.bind(null,o,c,i),b=void 0,!Nm||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(b=!0),h?b!==void 0?i.addEventListener(o,c,{capture:!0,passive:b}):i.addEventListener(o,c,!0):b!==void 0?i.addEventListener(o,c,{passive:b}):i.addEventListener(o,c,!1)}function lg(i,o,c,h,b){var _=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var A=h.tag;if(A===3||A===4){var $=h.stateNode.containerInfo;if($===b)break;if(A===4)for(A=h.return;A!==null;){var H=A.tag;if((H===3||H===4)&&A.stateNode.containerInfo===b)return;A=A.return}for(;$!==null;){if(A=lo($),A===null)return;if(H=A.tag,H===5||H===6||H===26||H===27){h=_=A;continue e}$=$.parentNode}}h=h.return}A1(function(){var ee=_,le=jm(c),fe=[];e:{var re=n_.get(i);if(re!==void 0){var se=id,je=i;switch(i){case"keypress":if(nd(c)===0)break e;case"keydown":case"keyup":se=S3;break;case"focusin":je="focus",se=Cm;break;case"focusout":je="blur",se=Cm;break;case"beforeblur":case"afterblur":se=Cm;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=P1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=d3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=E3;break;case Q1:case e_:case t_:se=m3;break;case r_:se=O3;break;case"scroll":case"scrollend":se=c3;break;case"wheel":se=T3;break;case"copy":case"cut":case"paste":se=g3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=R1;break;case"toggle":case"beforetoggle":se=P3}var Re=(o&4)!==0,it=!Re&&(i==="scroll"||i==="scrollend"),Y=Re?re!==null?re+"Capture":null:re;Re=[];for(var V=ee,Q;V!==null;){var ue=V;if(Q=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||Q===null||Y===null||(ue=Bl(V,Y),ue!=null&&Re.push(xc(V,ue,Q))),it)break;V=V.return}0<Re.length&&(re=new se(re,je,null,c,le),fe.push({event:re,listeners:Re}))}}if((o&7)===0){e:{if(re=i==="mouseover"||i==="pointerover",se=i==="mouseout"||i==="pointerout",re&&c!==km&&(je=c.relatedTarget||c.fromElement)&&(lo(je)||je[oo]))break e;if((se||re)&&(re=le.window===le?le:(re=le.ownerDocument)?re.defaultView||re.parentWindow:window,se?(je=c.relatedTarget||c.toElement,se=ee,je=je?lo(je):null,je!==null&&(it=s(je),Re=je.tag,je!==it||Re!==5&&Re!==27&&Re!==6)&&(je=null)):(se=null,je=ee),se!==je)){if(Re=P1,ue="onMouseLeave",Y="onMouseEnter",V="mouse",(i==="pointerout"||i==="pointerover")&&(Re=R1,ue="onPointerLeave",Y="onPointerEnter",V="pointer"),it=se==null?re:Ul(se),Q=je==null?re:Ul(je),re=new Re(ue,V+"leave",se,c,le),re.target=it,re.relatedTarget=Q,ue=null,lo(le)===ee&&(Re=new Re(Y,V+"enter",je,c,le),Re.target=Q,Re.relatedTarget=it,ue=Re),it=ue,se&&je)t:{for(Re=C$,Y=se,V=je,Q=0,ue=Y;ue;ue=Re(ue))Q++;ue=0;for(var Pe=V;Pe;Pe=Re(Pe))ue++;for(;0<Q-ue;)Y=Re(Y),Q--;for(;0<ue-Q;)V=Re(V),ue--;for(;Q--;){if(Y===V||V!==null&&Y===V.alternate){Re=Y;break t}Y=Re(Y),V=Re(V)}Re=null}else Re=null;se!==null&&jk(fe,re,se,Re,!1),je!==null&&it!==null&&jk(fe,it,je,Re,!0)}}e:{if(re=ee?Ul(ee):window,se=re.nodeName&&re.nodeName.toLowerCase(),se==="select"||se==="input"&&re.type==="file")var We=q1;else if(U1(re))if(H1)We=q3;else{We=U3;var Ee=z3}else se=re.nodeName,!se||se.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?ee&&Sm(ee.elementType)&&(We=q1):We=B3;if(We&&(We=We(i,ee))){B1(fe,We,c,le);break e}Ee&&Ee(i,re,ee),i==="focusout"&&ee&&re.type==="number"&&ee.memoizedProps.value!=null&&_m(re,"number",re.value)}switch(Ee=ee?Ul(ee):window,i){case"focusin":(U1(Ee)||Ee.contentEditable==="true")&&(yo=Ee,Im=ee,Yl=null);break;case"focusout":Yl=Im=yo=null;break;case"mousedown":Lm=!0;break;case"contextmenu":case"mouseup":case"dragend":Lm=!1,X1(fe,c,le);break;case"selectionchange":if(F3)break;case"keydown":case"keyup":X1(fe,c,le)}var Ue;if(Dm)e:{switch(i){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else vo?L1(i,c)&&(Ke="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(Ke="onCompositionStart");Ke&&(M1&&c.locale!=="ko"&&(vo||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&vo&&(Ue=T1()):(pi=le,Om="value"in pi?pi.value:pi.textContent,vo=!0)),Ee=Yd(ee,Ke),0<Ee.length&&(Ke=new D1(Ke,i,null,c,le),fe.push({event:Ke,listeners:Ee}),Ue?Ke.data=Ue:(Ue=z1(c),Ue!==null&&(Ke.data=Ue)))),(Ue=R3?M3(i,c):$3(i,c))&&(Ke=Yd(ee,"onBeforeInput"),0<Ke.length&&(Ee=new D1("onBeforeInput","beforeinput",null,c,le),fe.push({event:Ee,listeners:Ke}),Ee.data=Ue)),N$(fe,i,ee,c,le)}Sk(fe,o)})}function xc(i,o,c){return{instance:i,listener:o,currentTarget:c}}function Yd(i,o){for(var c=o+"Capture",h=[];i!==null;){var b=i,_=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||_===null||(b=Bl(i,c),b!=null&&h.unshift(xc(i,b,_)),b=Bl(i,o),b!=null&&h.push(xc(i,b,_))),i.tag===3)return h;i=i.return}return[]}function C$(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function jk(i,o,c,h,b){for(var _=o._reactName,A=[];c!==null&&c!==h;){var $=c,H=$.alternate,ee=$.stateNode;if($=$.tag,H!==null&&H===h)break;$!==5&&$!==26&&$!==27||ee===null||(H=ee,b?(ee=Bl(c,_),ee!=null&&A.unshift(xc(c,ee,H))):b||(ee=Bl(c,_),ee!=null&&A.push(xc(c,ee,H)))),c=c.return}A.length!==0&&i.push({event:o,listeners:A})}var P$=/\r\n?/g,D$=/\u0000|\uFFFD/g;function Ek(i){return(typeof i=="string"?i:""+i).replace(P$,`
`).replace(D$,"")}function Nk(i,o){return o=Ek(o),Ek(i)===o}function at(i,o,c,h,b,_){switch(c){case"children":typeof h=="string"?o==="body"||o==="textarea"&&h===""||mo(i,h):(typeof h=="number"||typeof h=="bigint")&&o!=="body"&&mo(i,""+h);break;case"className":Qu(i,"class",h);break;case"tabIndex":Qu(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Qu(i,c,h);break;case"style":N1(i,h,_);break;case"data":if(o!=="object"){Qu(i,"data",h);break}case"src":case"href":if(h===""&&(o!=="a"||c!=="href")){i.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(c);break}h=td(""+h),i.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(c==="formAction"?(o!=="input"&&at(i,o,"name",b.name,b,null),at(i,o,"formEncType",b.formEncType,b,null),at(i,o,"formMethod",b.formMethod,b,null),at(i,o,"formTarget",b.formTarget,b,null)):(at(i,o,"encType",b.encType,b,null),at(i,o,"method",b.method,b,null),at(i,o,"target",b.target,b,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(c);break}h=td(""+h),i.setAttribute(c,h);break;case"onClick":h!=null&&(i.onclick=Sa);break;case"onScroll":h!=null&&He("scroll",i);break;case"onScrollEnd":h!=null&&He("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(c=h.__html,c!=null){if(b.children!=null)throw Error(n(60));i.innerHTML=c}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}c=td(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(c,""+h):i.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(c,""):i.removeAttribute(c);break;case"capture":case"download":h===!0?i.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(c,h):i.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(c,h):i.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(c):i.setAttribute(c,h);break;case"popover":He("beforetoggle",i),He("toggle",i),Ju(i,"popover",h);break;case"xlinkActuate":_a(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":_a(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":_a(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":_a(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":_a(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":_a(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":_a(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":_a(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":_a(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Ju(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=o3.get(c)||c,Ju(i,c,h))}}function cg(i,o,c,h,b,_){switch(c){case"style":N1(i,h,_);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(c=h.__html,c!=null){if(b.children!=null)throw Error(n(60));i.innerHTML=c}}break;case"children":typeof h=="string"?mo(i,h):(typeof h=="number"||typeof h=="bigint")&&mo(i,""+h);break;case"onScroll":h!=null&&He("scroll",i);break;case"onScrollEnd":h!=null&&He("scrollend",i);break;case"onClick":h!=null&&(i.onclick=Sa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!y1.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(b=c.endsWith("Capture"),o=c.slice(2,b?c.length-7:void 0),_=i[Ur]||null,_=_!=null?_[c]:null,typeof _=="function"&&i.removeEventListener(o,_,b),typeof h=="function")){typeof _!="function"&&_!==null&&(c in i?i[c]=null:i.hasAttribute(c)&&i.removeAttribute(c)),i.addEventListener(o,h,b);break e}c in i?i[c]=h:h===!0?i.setAttribute(c,""):Ju(i,c,h)}}}function cr(i,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",i),He("load",i);var h=!1,b=!1,_;for(_ in c)if(c.hasOwnProperty(_)){var A=c[_];if(A!=null)switch(_){case"src":h=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:at(i,o,_,A,c,null)}}b&&at(i,o,"srcSet",c.srcSet,c,null),h&&at(i,o,"src",c.src,c,null);return;case"input":He("invalid",i);var $=_=A=b=null,H=null,ee=null;for(h in c)if(c.hasOwnProperty(h)){var le=c[h];if(le!=null)switch(h){case"name":b=le;break;case"type":A=le;break;case"checked":H=le;break;case"defaultChecked":ee=le;break;case"value":_=le;break;case"defaultValue":$=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(n(137,o));break;default:at(i,o,h,le,c,null)}}S1(i,_,$,H,ee,A,b,!1);return;case"select":He("invalid",i),h=A=_=null;for(b in c)if(c.hasOwnProperty(b)&&($=c[b],$!=null))switch(b){case"value":_=$;break;case"defaultValue":A=$;break;case"multiple":h=$;default:at(i,o,b,$,c,null)}o=_,c=A,i.multiple=!!h,o!=null?ho(i,!!h,o,!1):c!=null&&ho(i,!!h,c,!0);return;case"textarea":He("invalid",i),_=b=h=null;for(A in c)if(c.hasOwnProperty(A)&&($=c[A],$!=null))switch(A){case"value":h=$;break;case"defaultValue":b=$;break;case"children":_=$;break;case"dangerouslySetInnerHTML":if($!=null)throw Error(n(91));break;default:at(i,o,A,$,c,null)}j1(i,h,b,_);return;case"option":for(H in c)if(c.hasOwnProperty(H)&&(h=c[H],h!=null))switch(H){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:at(i,o,H,h,c,null)}return;case"dialog":He("beforetoggle",i),He("toggle",i),He("cancel",i),He("close",i);break;case"iframe":case"object":He("load",i);break;case"video":case"audio":for(h=0;h<bc.length;h++)He(bc[h],i);break;case"image":He("error",i),He("load",i);break;case"details":He("toggle",i);break;case"embed":case"source":case"link":He("error",i),He("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in c)if(c.hasOwnProperty(ee)&&(h=c[ee],h!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:at(i,o,ee,h,c,null)}return;default:if(Sm(o)){for(le in c)c.hasOwnProperty(le)&&(h=c[le],h!==void 0&&cg(i,o,le,h,c,void 0));return}}for($ in c)c.hasOwnProperty($)&&(h=c[$],h!=null&&at(i,o,$,h,c,null))}function R$(i,o,c,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,_=null,A=null,$=null,H=null,ee=null,le=null;for(se in c){var fe=c[se];if(c.hasOwnProperty(se)&&fe!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":H=fe;default:h.hasOwnProperty(se)||at(i,o,se,null,h,fe)}}for(var re in h){var se=h[re];if(fe=c[re],h.hasOwnProperty(re)&&(se!=null||fe!=null))switch(re){case"type":_=se;break;case"name":b=se;break;case"checked":ee=se;break;case"defaultChecked":le=se;break;case"value":A=se;break;case"defaultValue":$=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(n(137,o));break;default:se!==fe&&at(i,o,re,se,h,fe)}}wm(i,A,$,H,ee,le,_,b);return;case"select":se=A=$=re=null;for(_ in c)if(H=c[_],c.hasOwnProperty(_)&&H!=null)switch(_){case"value":break;case"multiple":se=H;default:h.hasOwnProperty(_)||at(i,o,_,null,h,H)}for(b in h)if(_=h[b],H=c[b],h.hasOwnProperty(b)&&(_!=null||H!=null))switch(b){case"value":re=_;break;case"defaultValue":$=_;break;case"multiple":A=_;default:_!==H&&at(i,o,b,_,h,H)}o=$,c=A,h=se,re!=null?ho(i,!!c,re,!1):!!h!=!!c&&(o!=null?ho(i,!!c,o,!0):ho(i,!!c,c?[]:"",!1));return;case"textarea":se=re=null;for($ in c)if(b=c[$],c.hasOwnProperty($)&&b!=null&&!h.hasOwnProperty($))switch($){case"value":break;case"children":break;default:at(i,o,$,null,h,b)}for(A in h)if(b=h[A],_=c[A],h.hasOwnProperty(A)&&(b!=null||_!=null))switch(A){case"value":re=b;break;case"defaultValue":se=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(n(91));break;default:b!==_&&at(i,o,A,b,h,_)}k1(i,re,se);return;case"option":for(var je in c)if(re=c[je],c.hasOwnProperty(je)&&re!=null&&!h.hasOwnProperty(je))switch(je){case"selected":i.selected=!1;break;default:at(i,o,je,null,h,re)}for(H in h)if(re=h[H],se=c[H],h.hasOwnProperty(H)&&re!==se&&(re!=null||se!=null))switch(H){case"selected":i.selected=re&&typeof re!="function"&&typeof re!="symbol";break;default:at(i,o,H,re,h,se)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in c)re=c[Re],c.hasOwnProperty(Re)&&re!=null&&!h.hasOwnProperty(Re)&&at(i,o,Re,null,h,re);for(ee in h)if(re=h[ee],se=c[ee],h.hasOwnProperty(ee)&&re!==se&&(re!=null||se!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(n(137,o));break;default:at(i,o,ee,re,h,se)}return;default:if(Sm(o)){for(var it in c)re=c[it],c.hasOwnProperty(it)&&re!==void 0&&!h.hasOwnProperty(it)&&cg(i,o,it,void 0,h,re);for(le in h)re=h[le],se=c[le],!h.hasOwnProperty(le)||re===se||re===void 0&&se===void 0||cg(i,o,le,re,h,se);return}}for(var Y in c)re=c[Y],c.hasOwnProperty(Y)&&re!=null&&!h.hasOwnProperty(Y)&&at(i,o,Y,null,h,re);for(fe in h)re=h[fe],se=c[fe],!h.hasOwnProperty(fe)||re===se||re==null&&se==null||at(i,o,fe,re,h,se)}function Ok(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function M$(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,c=performance.getEntriesByType("resource"),h=0;h<c.length;h++){var b=c[h],_=b.transferSize,A=b.initiatorType,$=b.duration;if(_&&$&&Ok(A)){for(A=0,$=b.responseEnd,h+=1;h<c.length;h++){var H=c[h],ee=H.startTime;if(ee>$)break;var le=H.transferSize,fe=H.initiatorType;le&&Ok(fe)&&(H=H.responseEnd,A+=le*(H<$?1:($-ee)/(H-ee)))}if(--h,o+=8*(_+A)/(b.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var ug=null,dg=null;function Wd(i){return i.nodeType===9?i:i.ownerDocument}function Ak(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Tk(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function fg(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var hg=null;function $$(){var i=window.event;return i&&i.type==="popstate"?i===hg?!1:(hg=i,!0):(hg=null,!1)}var Ck=typeof setTimeout=="function"?setTimeout:void 0,I$=typeof clearTimeout=="function"?clearTimeout:void 0,Pk=typeof Promise=="function"?Promise:void 0,L$=typeof queueMicrotask=="function"?queueMicrotask:typeof Pk<"u"?function(i){return Pk.resolve(null).then(i).catch(z$)}:Ck;function z$(i){setTimeout(function(){throw i})}function Pi(i){return i==="head"}function Dk(i,o){var c=o,h=0;do{var b=c.nextSibling;if(i.removeChild(c),b&&b.nodeType===8)if(c=b.data,c==="/$"||c==="/&"){if(h===0){i.removeChild(b),Vo(o);return}h--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")h++;else if(c==="html")wc(i.ownerDocument.documentElement);else if(c==="head"){c=i.ownerDocument.head,wc(c);for(var _=c.firstChild;_;){var A=_.nextSibling,$=_.nodeName;_[zl]||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&_.rel.toLowerCase()==="stylesheet"||c.removeChild(_),_=A}}else c==="body"&&wc(i.ownerDocument.body);c=b}while(c);Vo(o)}function Rk(i,o){var c=i;i=0;do{var h=c.nextSibling;if(c.nodeType===1?o?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(o?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),h&&h.nodeType===8)if(c=h.data,c==="/$"){if(i===0)break;i--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||i++;c=h}while(c)}function mg(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":mg(c),bm(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}i.removeChild(c)}}function U$(i,o,c,h){for(;i.nodeType===1;){var b=c;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[zl])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(_=i.getAttribute("rel"),_==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(_!==b.rel||i.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||i.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||i.getAttribute("title")!==(b.title==null?null:b.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(_=i.getAttribute("src"),(_!==(b.src==null?null:b.src)||i.getAttribute("type")!==(b.type==null?null:b.type)||i.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&_&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var _=b.name==null?null:""+b.name;if(b.type==="hidden"&&i.getAttribute("name")===_)return i}else return i;if(i=On(i.nextSibling),i===null)break}return null}function B$(i,o,c){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!c||(i=On(i.nextSibling),i===null))return null;return i}function Mk(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=On(i.nextSibling),i===null))return null;return i}function pg(i){return i.data==="$?"||i.data==="$~"}function gg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function q$(i,o){var c=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||c.readyState!=="loading")o();else{var h=function(){o(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function On(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var vg=null;function $k(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"||c==="/&"){if(o===0)return On(i.nextSibling);o--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||o++}i=i.nextSibling}return null}function Ik(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(o===0)return i;o--}else c!=="/$"&&c!=="/&"||o++}i=i.previousSibling}return null}function Lk(i,o,c){switch(o=Wd(c),i){case"html":if(i=o.documentElement,!i)throw Error(n(452));return i;case"head":if(i=o.head,!i)throw Error(n(453));return i;case"body":if(i=o.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function wc(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);bm(i)}var An=new Map,zk=new Set;function Xd(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var za=F.d;F.d={f:H$,r:F$,D:V$,C:K$,L:Z$,m:G$,X:W$,S:Y$,M:X$};function H$(){var i=za.f(),o=qd();return i||o}function F$(i){var o=co(i);o!==null&&o.tag===5&&o.type==="form"?rS(o):za.r(i)}var qo=typeof document>"u"?null:document;function Uk(i,o,c){var h=qo;if(h&&typeof o=="string"&&o){var b=wn(o);b='link[rel="'+i+'"][href="'+b+'"]',typeof c=="string"&&(b+='[crossorigin="'+c+'"]'),zk.has(b)||(zk.add(b),i={rel:i,crossOrigin:c,href:o},h.querySelector(b)===null&&(o=h.createElement("link"),cr(o,"link",i),Qt(o),h.head.appendChild(o)))}}function V$(i){za.D(i),Uk("dns-prefetch",i,null)}function K$(i,o){za.C(i,o),Uk("preconnect",i,o)}function Z$(i,o,c){za.L(i,o,c);var h=qo;if(h&&i&&o){var b='link[rel="preload"][as="'+wn(o)+'"]';o==="image"&&c&&c.imageSrcSet?(b+='[imagesrcset="'+wn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(b+='[imagesizes="'+wn(c.imageSizes)+'"]')):b+='[href="'+wn(i)+'"]';var _=b;switch(o){case"style":_=Ho(i);break;case"script":_=Fo(i)}An.has(_)||(i=g({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:i,as:o},c),An.set(_,i),h.querySelector(b)!==null||o==="style"&&h.querySelector(_c(_))||o==="script"&&h.querySelector(Sc(_))||(o=h.createElement("link"),cr(o,"link",i),Qt(o),h.head.appendChild(o)))}}function G$(i,o){za.m(i,o);var c=qo;if(c&&i){var h=o&&typeof o.as=="string"?o.as:"script",b='link[rel="modulepreload"][as="'+wn(h)+'"][href="'+wn(i)+'"]',_=b;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Fo(i)}if(!An.has(_)&&(i=g({rel:"modulepreload",href:i},o),An.set(_,i),c.querySelector(b)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Sc(_)))return}h=c.createElement("link"),cr(h,"link",i),Qt(h),c.head.appendChild(h)}}}function Y$(i,o,c){za.S(i,o,c);var h=qo;if(h&&i){var b=uo(h).hoistableStyles,_=Ho(i);o=o||"default";var A=b.get(_);if(!A){var $={loading:0,preload:null};if(A=h.querySelector(_c(_)))$.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":o},c),(c=An.get(_))&&yg(i,c);var H=A=h.createElement("link");Qt(H),cr(H,"link",i),H._p=new Promise(function(ee,le){H.onload=ee,H.onerror=le}),H.addEventListener("load",function(){$.loading|=1}),H.addEventListener("error",function(){$.loading|=2}),$.loading|=4,Jd(A,o,h)}A={type:"stylesheet",instance:A,count:1,state:$},b.set(_,A)}}}function W$(i,o){za.X(i,o);var c=qo;if(c&&i){var h=uo(c).hoistableScripts,b=Fo(i),_=h.get(b);_||(_=c.querySelector(Sc(b)),_||(i=g({src:i,async:!0},o),(o=An.get(b))&&bg(i,o),_=c.createElement("script"),Qt(_),cr(_,"link",i),c.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(b,_))}}function X$(i,o){za.M(i,o);var c=qo;if(c&&i){var h=uo(c).hoistableScripts,b=Fo(i),_=h.get(b);_||(_=c.querySelector(Sc(b)),_||(i=g({src:i,async:!0,type:"module"},o),(o=An.get(b))&&bg(i,o),_=c.createElement("script"),Qt(_),cr(_,"link",i),c.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(b,_))}}function Bk(i,o,c,h){var b=(b=de.current)?Xd(b):null;if(!b)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=Ho(c.href),c=uo(b).hoistableStyles,h=c.get(o),h||(h={type:"style",instance:null,count:0,state:null},c.set(o,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){i=Ho(c.href);var _=uo(b).hoistableStyles,A=_.get(i);if(A||(b=b.ownerDocument||b,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(i,A),(_=b.querySelector(_c(i)))&&!_._p&&(A.instance=_,A.state.loading=5),An.has(i)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},An.set(i,c),_||J$(b,i,c,A.state))),o&&h===null)throw Error(n(528,""));return A}if(o&&h!==null)throw Error(n(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Fo(c),c=uo(b).hoistableScripts,h=c.get(o),h||(h={type:"script",instance:null,count:0,state:null},c.set(o,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function Ho(i){return'href="'+wn(i)+'"'}function _c(i){return'link[rel="stylesheet"]['+i+"]"}function qk(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function J$(i,o,c,h){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(o=i.createElement("link"),h.preload=o,o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),cr(o,"link",c),Qt(o),i.head.appendChild(o))}function Fo(i){return'[src="'+wn(i)+'"]'}function Sc(i){return"script[async]"+i}function Hk(i,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var h=i.querySelector('style[data-href~="'+wn(c.href)+'"]');if(h)return o.instance=h,Qt(h),h;var b=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),Qt(h),cr(h,"style",b),Jd(h,c.precedence,i),o.instance=h;case"stylesheet":b=Ho(c.href);var _=i.querySelector(_c(b));if(_)return o.state.loading|=4,o.instance=_,Qt(_),_;h=qk(c),(b=An.get(b))&&yg(h,b),_=(i.ownerDocument||i).createElement("link"),Qt(_);var A=_;return A._p=new Promise(function($,H){A.onload=$,A.onerror=H}),cr(_,"link",h),o.state.loading|=4,Jd(_,c.precedence,i),o.instance=_;case"script":return _=Fo(c.src),(b=i.querySelector(Sc(_)))?(o.instance=b,Qt(b),b):(h=c,(b=An.get(_))&&(h=g({},c),bg(h,b)),i=i.ownerDocument||i,b=i.createElement("script"),Qt(b),cr(b,"link",h),i.head.appendChild(b),o.instance=b);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(h=o.instance,o.state.loading|=4,Jd(h,c.precedence,i));return o.instance}function Jd(i,o,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=h.length?h[h.length-1]:null,_=b,A=0;A<h.length;A++){var $=h[A];if($.dataset.precedence===o)_=$;else if(_!==b)break}_?_.parentNode.insertBefore(i,_.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(i,o.firstChild))}function yg(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function bg(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var Qd=null;function Fk(i,o,c){if(Qd===null){var h=new Map,b=Qd=new Map;b.set(c,h)}else b=Qd,h=b.get(c),h||(h=new Map,b.set(c,h));if(h.has(i))return h;for(h.set(i,null),c=c.getElementsByTagName(i),b=0;b<c.length;b++){var _=c[b];if(!(_[zl]||_[ir]||i==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var A=_.getAttribute(o)||"";A=i+A;var $=h.get(A);$?$.push(_):h.set(A,[_])}}return h}function Vk(i,o,c){i=i.ownerDocument||i,i.head.insertBefore(c,o==="title"?i.querySelector("head > title"):null)}function Q$(i,o,c){if(c===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function Kk(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function e6(i,o,c,h){if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var b=Ho(h.href),_=o.querySelector(_c(b));if(_){o=_._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=ef.bind(i),o.then(i,i)),c.state.loading|=4,c.instance=_,Qt(_);return}_=o.ownerDocument||o,h=qk(h),(b=An.get(b))&&yg(h,b),_=_.createElement("link"),Qt(_);var A=_;A._p=new Promise(function($,H){A.onload=$,A.onerror=H}),cr(_,"link",h),c.instance=_}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(i.count++,c=ef.bind(i),o.addEventListener("load",c),o.addEventListener("error",c))}}var xg=0;function t6(i,o){return i.stylesheets&&i.count===0&&rf(i,i.stylesheets),0<i.count||0<i.imgCount?function(c){var h=setTimeout(function(){if(i.stylesheets&&rf(i,i.stylesheets),i.unsuspend){var _=i.unsuspend;i.unsuspend=null,_()}},6e4+o);0<i.imgBytes&&xg===0&&(xg=62500*M$());var b=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&rf(i,i.stylesheets),i.unsuspend)){var _=i.unsuspend;i.unsuspend=null,_()}},(i.imgBytes>xg?50:800)+o);return i.unsuspend=c,function(){i.unsuspend=null,clearTimeout(h),clearTimeout(b)}}:null}function ef(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)rf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var tf=null;function rf(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,tf=new Map,o.forEach(r6,i),tf=null,ef.call(i))}function r6(i,o){if(!(o.state.loading&4)){var c=tf.get(i);if(c)var h=c.get(null);else{c=new Map,tf.set(i,c);for(var b=i.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<b.length;_++){var A=b[_];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(c.set(A.dataset.precedence,A),h=A)}h&&c.set(null,h)}b=o.instance,A=b.getAttribute("data-precedence"),_=c.get(A)||h,_===h&&c.set(null,b),c.set(A,b),this.count++,h=ef.bind(this),b.addEventListener("load",h),b.addEventListener("error",h),_?_.parentNode.insertBefore(b,_.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(b,i.firstChild)),o.state.loading|=4}}var kc={$$typeof:E,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function n6(i,o,c,h,b,_,A,$,H){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pm(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pm(0),this.hiddenUpdates=pm(null),this.identifierPrefix=h,this.onUncaughtError=b,this.onCaughtError=_,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function Zk(i,o,c,h,b,_,A,$,H,ee,le,fe){return i=new n6(i,o,c,A,H,ee,le,fe,$),o=1,_===!0&&(o|=24),_=nn(3,null,null,o),i.current=_,_.stateNode=i,o=Qm(),o.refCount++,i.pooledCache=o,o.refCount++,_.memoizedState={element:h,isDehydrated:c,cache:o},np(_),i}function Gk(i){return i?(i=wo,i):wo}function Yk(i,o,c,h,b,_){b=Gk(b),h.context===null?h.context=b:h.pendingContext=b,h=wi(o),h.payload={element:c},_=_===void 0?null:_,_!==null&&(h.callback=_),c=_i(i,h,o),c!==null&&(Kr(c,i,o),rc(c,i,o))}function Wk(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<o?c:o}}function wg(i,o){Wk(i,o),(i=i.alternate)&&Wk(i,o)}function Xk(i){if(i.tag===13||i.tag===31){var o=ls(i,67108864);o!==null&&Kr(o,i,67108864),wg(i,67108864)}}function Jk(i){if(i.tag===13||i.tag===31){var o=cn();o=gm(o);var c=ls(i,o);c!==null&&Kr(c,i,o),wg(i,o)}}var nf=!0;function a6(i,o,c,h){var b=q.T;q.T=null;var _=F.p;try{F.p=2,_g(i,o,c,h)}finally{F.p=_,q.T=b}}function i6(i,o,c,h){var b=q.T;q.T=null;var _=F.p;try{F.p=8,_g(i,o,c,h)}finally{F.p=_,q.T=b}}function _g(i,o,c,h){if(nf){var b=Sg(h);if(b===null)lg(i,o,h,af,c),e2(i,h);else if(o6(b,i,o,c,h))h.stopPropagation();else if(e2(i,h),o&4&&-1<s6.indexOf(i)){for(;b!==null;){var _=co(b);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var A=ns(_.pendingLanes);if(A!==0){var $=_;for($.pendingLanes|=2,$.entangledLanes|=2;A;){var H=1<<31-wr(A);$.entanglements[1]|=H,A&=~H}sa(_),(Qe&6)===0&&(Ud=Be()+500,yc(0))}}break;case 31:case 13:$=ls(_,2),$!==null&&Kr($,_,2),qd(),wg(_,2)}if(_=Sg(h),_===null&&lg(i,o,h,af,c),_===b)break;b=_}b!==null&&h.stopPropagation()}else lg(i,o,h,null,c)}}function Sg(i){return i=jm(i),kg(i)}var af=null;function kg(i){if(af=null,i=lo(i),i!==null){var o=s(i);if(o===null)i=null;else{var c=o.tag;if(c===13){if(i=l(o),i!==null)return i;i=null}else if(c===31){if(i=u(o),i!==null)return i;i=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return af=i,null}function Qk(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(It()){case Fe:return 2;case Ye:return 8;case mt:case wa:return 32;case hi:return 268435456;default:return 32}default:return 32}}var jg=!1,Di=null,Ri=null,Mi=null,jc=new Map,Ec=new Map,$i=[],s6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function e2(i,o){switch(i){case"focusin":case"focusout":Di=null;break;case"dragenter":case"dragleave":Ri=null;break;case"mouseover":case"mouseout":Mi=null;break;case"pointerover":case"pointerout":jc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ec.delete(o.pointerId)}}function Nc(i,o,c,h,b,_){return i===null||i.nativeEvent!==_?(i={blockedOn:o,domEventName:c,eventSystemFlags:h,nativeEvent:_,targetContainers:[b]},o!==null&&(o=co(o),o!==null&&Xk(o)),i):(i.eventSystemFlags|=h,o=i.targetContainers,b!==null&&o.indexOf(b)===-1&&o.push(b),i)}function o6(i,o,c,h,b){switch(o){case"focusin":return Di=Nc(Di,i,o,c,h,b),!0;case"dragenter":return Ri=Nc(Ri,i,o,c,h,b),!0;case"mouseover":return Mi=Nc(Mi,i,o,c,h,b),!0;case"pointerover":var _=b.pointerId;return jc.set(_,Nc(jc.get(_)||null,i,o,c,h,b)),!0;case"gotpointercapture":return _=b.pointerId,Ec.set(_,Nc(Ec.get(_)||null,i,o,c,h,b)),!0}return!1}function t2(i){var o=lo(i.target);if(o!==null){var c=s(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){i.blockedOn=o,p1(i.priority,function(){Jk(c)});return}}else if(o===31){if(o=u(c),o!==null){i.blockedOn=o,p1(i.priority,function(){Jk(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function sf(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var c=Sg(i.nativeEvent);if(c===null){c=i.nativeEvent;var h=new c.constructor(c.type,c);km=h,c.target.dispatchEvent(h),km=null}else return o=co(c),o!==null&&Xk(o),i.blockedOn=c,!1;o.shift()}return!0}function r2(i,o,c){sf(i)&&c.delete(o)}function l6(){jg=!1,Di!==null&&sf(Di)&&(Di=null),Ri!==null&&sf(Ri)&&(Ri=null),Mi!==null&&sf(Mi)&&(Mi=null),jc.forEach(r2),Ec.forEach(r2)}function of(i,o){i.blockedOn===o&&(i.blockedOn=null,jg||(jg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,l6)))}var lf=null;function n2(i){lf!==i&&(lf=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){lf===i&&(lf=null);for(var o=0;o<i.length;o+=3){var c=i[o],h=i[o+1],b=i[o+2];if(typeof h!="function"){if(kg(h||c)===null)continue;break}var _=co(c);_!==null&&(i.splice(o,3),o-=3,Sp(_,{pending:!0,data:b,method:c.method,action:h},h,b))}}))}function Vo(i){function o(H){return of(H,i)}Di!==null&&of(Di,i),Ri!==null&&of(Ri,i),Mi!==null&&of(Mi,i),jc.forEach(o),Ec.forEach(o);for(var c=0;c<$i.length;c++){var h=$i[c];h.blockedOn===i&&(h.blockedOn=null)}for(;0<$i.length&&(c=$i[0],c.blockedOn===null);)t2(c),c.blockedOn===null&&$i.shift();if(c=(i.ownerDocument||i).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var b=c[h],_=c[h+1],A=b[Ur]||null;if(typeof _=="function")A||n2(c);else if(A){var $=null;if(_&&_.hasAttribute("formAction")){if(b=_,A=_[Ur]||null)$=A.formAction;else if(kg(b)!==null)continue}else $=A.action;typeof $=="function"?c[h+1]=$:(c.splice(h,3),h-=3),n2(c)}}}function a2(){function i(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(A){return b=A})},focusReset:"manual",scroll:"manual"})}function o(){b!==null&&(b(),b=null),h||setTimeout(c,20)}function c(){if(!h&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,b=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(c,100),function(){h=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),b!==null&&(b(),b=null)}}}function Eg(i){this._internalRoot=i}cf.prototype.render=Eg.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));var c=o.current,h=cn();Yk(c,h,i,o,null,null)},cf.prototype.unmount=Eg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Yk(i.current,2,null,i,null,null),qd(),o[oo]=null}};function cf(i){this._internalRoot=i}cf.prototype.unstable_scheduleHydration=function(i){if(i){var o=m1();i={blockedOn:null,target:i,priority:o};for(var c=0;c<$i.length&&o!==0&&o<$i[c].priority;c++);$i.splice(c,0,i),c===0&&t2(i)}};var i2=t.version;if(i2!=="19.2.1")throw Error(n(527,i2,"19.2.1"));F.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=f(o),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var c6={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uf.isDisabled&&uf.supportsFiber)try{Tr=uf.inject(c6),Et=uf}catch{}}return Ac.createRoot=function(i,o){if(!a(i))throw Error(n(299));var c=!1,h="",b=fS,_=hS,A=mS;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(b=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError)),o=Zk(i,1,!1,null,null,c,h,null,b,_,A,a2),i[oo]=o.current,og(i),new Eg(o)},Ac.hydrateRoot=function(i,o,c){if(!a(i))throw Error(n(299));var h=!1,b="",_=fS,A=hS,$=mS,H=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(b=c.identifierPrefix),c.onUncaughtError!==void 0&&(_=c.onUncaughtError),c.onCaughtError!==void 0&&(A=c.onCaughtError),c.onRecoverableError!==void 0&&($=c.onRecoverableError),c.formState!==void 0&&(H=c.formState)),o=Zk(i,1,!0,o,c??null,h,b,H,_,A,$,a2),o.context=Gk(null),c=o.current,h=cn(),h=gm(h),b=wi(h),b.callback=null,_i(c,b,h),c=h,o.current.lanes=c,Ll(o,c),sa(o),i[oo]=o.current,og(i),new cf(o)},Ac.version="19.2.1",Ac}var p2;function y6(){if(p2)return Ag.exports;p2=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Ag.exports=v6(),Ag.exports}var b6=y6();function x6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const w6=x.forwardRef(x6);function _6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const BA=x.forwardRef(_6);function S6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m12.75 15 3-3m0 0-3-3m3 3h-7.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const k6=x.forwardRef(S6);function j6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const E6=x.forwardRef(j6);function N6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"}))}const O6=x.forwardRef(N6);function A6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"}))}const qA=x.forwardRef(A6);function T6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const HA=x.forwardRef(T6);function C6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const ua=x.forwardRef(C6);function P6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const c0=x.forwardRef(P6);function D6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const u0=x.forwardRef(D6);function R6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"}))}const ix=x.forwardRef(R6);function M6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"}))}const g2=x.forwardRef(M6);function $6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"}))}const Ny=x.forwardRef($6);function I6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const sx=x.forwardRef(I6);function L6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15a4.5 4.5 0 0 0 4.5 4.5H18a3.75 3.75 0 0 0 1.332-7.257 3 3 0 0 0-3.758-3.848 5.25 5.25 0 0 0-10.233 2.33A4.502 4.502 0 0 0 2.25 15Z"}))}const z6=x.forwardRef(L6);function U6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const B6=x.forwardRef(U6);function q6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 7.5-9-5.25L3 7.5m18 0-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9"}))}const nh=x.forwardRef(q6);function H6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const FA=x.forwardRef(H6);function F6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const VA=x.forwardRef(F6);function V6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const ox=x.forwardRef(V6);function K6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const Dg=x.forwardRef(K6);function Z6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const G6=x.forwardRef(Z6);function Y6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"}))}const W6=x.forwardRef(Y6);function X6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const eu=x.forwardRef(X6);function J6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Q6=x.forwardRef(J6);function eI({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const _u=x.forwardRef(eI);function tI({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0 1 10.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0 .229 2.523a1.125 1.125 0 0 1-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0 0 21 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 0 0-1.913-.247M6.34 18H5.25A2.25 2.25 0 0 1 3 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 0 1 1.913-.247m10.5 0a48.536 48.536 0 0 0-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5Zm-3 0h.008v.008H15V10.5Z"}))}const rI=x.forwardRef(tI);function nI({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 3.75 9.375v-4.5ZM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 0 1-1.125-1.125v-4.5ZM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 13.5 9.375v-4.5Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 6.75h.75v.75h-.75v-.75ZM6.75 16.5h.75v.75h-.75v-.75ZM16.5 6.75h.75v.75h-.75v-.75ZM13.5 13.5h.75v.75h-.75v-.75ZM13.5 19.5h.75v.75h-.75v-.75ZM19.5 13.5h.75v.75h-.75v-.75ZM19.5 19.5h.75v.75h-.75v-.75ZM16.5 16.5h.75v.75h-.75v-.75Z"}))}const aI=x.forwardRef(nI);function iI({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const KA=x.forwardRef(iI);function sI({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"}))}const ZA=x.forwardRef(sI);function oI({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 0 1-1.125-1.125M3.375 19.5h7.5c.621 0 1.125-.504 1.125-1.125m-9.75 0V5.625m0 12.75v-1.5c0-.621.504-1.125 1.125-1.125m18.375 2.625V5.625m0 12.75c0 .621-.504 1.125-1.125 1.125m1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125m0 3.75h-7.5A1.125 1.125 0 0 1 12 18.375m9.75-12.75c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125m19.5 0v1.5c0 .621-.504 1.125-1.125 1.125M2.25 5.625v1.5c0 .621.504 1.125 1.125 1.125m0 0h17.25m-17.25 0h7.5c.621 0 1.125.504 1.125 1.125M3.375 8.25c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125m17.25-3.75h-7.5c-.621 0-1.125.504-1.125 1.125m8.625-1.125c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125M12 10.875v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 10.875c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125M13.125 12h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125M20.625 12c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5M12 14.625v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 14.625c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125m0 1.5v-1.5m0 0c0-.621.504-1.125 1.125-1.125m0 0h7.5"}))}const GA=x.forwardRef(oI);function lI({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Ja=x.forwardRef(lI);function cI({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 0 1-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 0 0-3.213-9.193 2.056 2.056 0 0 0-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 0 0-10.026 0 1.106 1.106 0 0 0-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"}))}const Rn=x.forwardRef(cI);function uI({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const dI=x.forwardRef(uI);function fI({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Xs=x.forwardRef(fI);const hI=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mI=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),v2=e=>{const t=mI(e);return t.charAt(0).toUpperCase()+t.slice(1)},YA=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),pI=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var gI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const vI=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:l,...u},d)=>x.createElement("svg",{ref:d,...gI,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:YA("lucide",a),...!s&&!pI(u)&&{"aria-hidden":"true"},...u},[...l.map(([f,p])=>x.createElement(f,p)),...Array.isArray(s)?s:[s]]));const Js=(e,t)=>{const r=x.forwardRef(({className:n,...a},s)=>x.createElement(vI,{ref:s,iconNode:t,className:YA(`lucide-${hI(v2(e))}`,`lucide-${e}`,n),...a}));return r.displayName=v2(e),r};const yI=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],Oy=Js("boxes",yI);const bI=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],WA=Js("calendar-clock",bI);const xI=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],wI=Js("crown",xI);const _I=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],SI=Js("menu",_I);const kI=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Rg=Js("package",kI);const jI=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],XA=Js("truck",jI);const EI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],NI=Js("x",EI);var Ua={},df={},Ay=function(e,t){return Ay=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},Ay(e,t)};function JA(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ay(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var ah=function(){return ah=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},ah.apply(this,arguments)};function kl(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function QA(e,t,r,n){var a=arguments.length,s=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var u=e.length-1;u>=0;u--)(l=e[u])&&(s=(a<3?l(s):a>3?l(t,r,s):l(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s}function e5(e,t){return function(r,n){t(r,n,e)}}function t5(e,t,r,n,a,s){function l(j){if(j!==void 0&&typeof j!="function")throw new TypeError("Function expected");return j}for(var u=n.kind,d=u==="getter"?"get":u==="setter"?"set":"value",f=!t&&e?n.static?e:e.prototype:null,p=t||(f?Object.getOwnPropertyDescriptor(f,n.name):{}),g,y=!1,v=r.length-1;v>=0;v--){var w={};for(var k in n)w[k]=k==="access"?{}:n[k];for(var k in n.access)w.access[k]=n.access[k];w.addInitializer=function(j){if(y)throw new TypeError("Cannot add initializers after decoration has completed");s.push(l(j||null))};var S=(0,r[v])(u==="accessor"?{get:p.get,set:p.set}:p[d],w);if(u==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(g=l(S.get))&&(p.get=g),(g=l(S.set))&&(p.set=g),(g=l(S.init))&&a.unshift(g)}else(g=l(S))&&(u==="field"?a.unshift(g):p[d]=g)}f&&Object.defineProperty(f,n.name,p),y=!0}function r5(e,t,r){for(var n=arguments.length>2,a=0;a<t.length;a++)r=n?t[a].call(e,r):t[a].call(e);return n?r:void 0}function n5(e){return typeof e=="symbol"?e:"".concat(e)}function a5(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function i5(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function _e(e,t,r,n){function a(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function u(p){try{f(n.next(p))}catch(g){l(g)}}function d(p){try{f(n.throw(p))}catch(g){l(g)}}function f(p){p.done?s(p.value):a(p.value).then(u,d)}f((n=n.apply(e,t||[])).next())})}function s5(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,a,s,l=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return l.next=u(0),l.throw=u(1),l.return=u(2),typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(f){return function(p){return d([f,p])}}function d(f){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,f[0]&&(r=0)),r;)try{if(n=1,a&&(s=f[0]&2?a.return:f[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,f[1])).done)return s;switch(a=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,a=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){r.label=f[1];break}if(f[0]===6&&r.label<s[1]){r.label=s[1],s=f;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(f);break}s[2]&&r.ops.pop(),r.trys.pop();continue}f=t.call(e,r)}catch(p){f=[6,p],a=0}finally{n=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var d0=Object.create?(function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]});function o5(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&d0(t,e,r)}function ih(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function lx(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,s=[],l;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(u){l={error:u}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(l)throw l.error}}return s}function l5(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(lx(arguments[t]));return e}function c5(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var s=arguments[t],l=0,u=s.length;l<u;l++,a++)n[a]=s[l];return n}function u5(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function hl(e){return this instanceof hl?(this.v=e,this):new hl(e)}function d5(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,s=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),a[Symbol.asyncIterator]=function(){return this},a;function l(v){return function(w){return Promise.resolve(w).then(v,g)}}function u(v,w){n[v]&&(a[v]=function(k){return new Promise(function(S,j){s.push([v,k,S,j])>1||d(v,k)})},w&&(a[v]=w(a[v])))}function d(v,w){try{f(n[v](w))}catch(k){y(s[0][3],k)}}function f(v){v.value instanceof hl?Promise.resolve(v.value.v).then(p,g):y(s[0][2],v)}function p(v){d("next",v)}function g(v){d("throw",v)}function y(v,w){v(w),s.shift(),s.length&&d(s[0][0],s[0][1])}}function f5(e){var t,r;return t={},n("next"),n("throw",function(a){throw a}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(a,s){t[a]=e[a]?function(l){return(r=!r)?{value:hl(e[a](l)),done:!1}:s?s(l):l}:s}}function h5(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof ih=="function"?ih(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(l){return new Promise(function(u,d){l=e[s](l),a(u,d,l.done,l.value)})}}function a(s,l,u,d){Promise.resolve(d).then(function(f){s({value:f,done:u})},l)}}function m5(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var OI=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},Ty=function(e){return Ty=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Ty(e)};function p5(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Ty(e),n=0;n<r.length;n++)r[n]!=="default"&&d0(t,e,r[n]);return OI(t,e),t}function g5(e){return e&&e.__esModule?e:{default:e}}function v5(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function y5(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r}function b5(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function x5(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(a=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var AI=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function w5(e){function t(s){e.error=e.hasError?new AI(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var r,n=0;function a(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(a);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(a,function(l){return t(l),a()})}else n|=1}catch(l){t(l)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return a()}function _5(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,a,s,l){return n?t?".jsx":".js":a&&(!s||!l)?r:a+s+"."+l.toLowerCase()+"js"}):e}const TI={__extends:JA,__assign:ah,__rest:kl,__decorate:QA,__param:e5,__esDecorate:t5,__runInitializers:r5,__propKey:n5,__setFunctionName:a5,__metadata:i5,__awaiter:_e,__generator:s5,__createBinding:d0,__exportStar:o5,__values:ih,__read:lx,__spread:l5,__spreadArrays:c5,__spreadArray:u5,__await:hl,__asyncGenerator:d5,__asyncDelegator:f5,__asyncValues:h5,__makeTemplateObject:m5,__importStar:p5,__importDefault:g5,__classPrivateFieldGet:v5,__classPrivateFieldSet:y5,__classPrivateFieldIn:b5,__addDisposableResource:x5,__disposeResources:w5,__rewriteRelativeImportExtension:_5},CI=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:x5,get __assign(){return ah},__asyncDelegator:f5,__asyncGenerator:d5,__asyncValues:h5,__await:hl,__awaiter:_e,__classPrivateFieldGet:v5,__classPrivateFieldIn:b5,__classPrivateFieldSet:y5,__createBinding:d0,__decorate:QA,__disposeResources:w5,__esDecorate:t5,__exportStar:o5,__extends:JA,__generator:s5,__importDefault:g5,__importStar:p5,__makeTemplateObject:m5,__metadata:i5,__param:e5,__propKey:n5,__read:lx,__rest:kl,__rewriteRelativeImportExtension:_5,__runInitializers:r5,__setFunctionName:a5,__spread:l5,__spreadArray:u5,__spreadArrays:c5,__values:ih,default:TI},Symbol.toStringTag,{value:"Module"})),PI=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);let f0=class extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}},S5=class extends f0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},Cy=class extends f0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},Py=class extends f0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var sh;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(sh||(sh={}));class DI{constructor(t,{headers:r={},customFetch:n,region:a=sh.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=PI(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return _e(this,arguments,void 0,function*(r,n={}){var a;let s,l;try{const{headers:u,method:d,body:f,signal:p,timeout:g}=n;let y={},{region:v}=n;v||(v=this.region);const w=new URL(`${this.url}/${r}`);v&&v!=="any"&&(y["x-region"]=v,w.searchParams.set("forceFunctionRegion",v));let k;f&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",k=f):typeof f=="string"?(y["Content-Type"]="text/plain",k=f):typeof FormData<"u"&&f instanceof FormData?k=f:(y["Content-Type"]="application/json",k=JSON.stringify(f)):k=f;let S=p;g&&(l=new AbortController,s=setTimeout(()=>l.abort(),g),p?(S=l.signal,p.addEventListener("abort",()=>l.abort())):S=l.signal);const j=yield this.fetch(w.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),u),body:k,signal:S}).catch(O=>{throw new S5(O)}),N=j.headers.get("x-relay-error");if(N&&N==="true")throw new Cy(j);if(!j.ok)throw new Py(j);let E=((a=j.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),D;return E==="application/json"?D=yield j.json():E==="application/octet-stream"||E==="application/pdf"?D=yield j.blob():E==="text/event-stream"?D=j:E==="multipart/form-data"?D=yield j.formData():D=yield j.text(),{data:D,error:null,response:j}}catch(u){return{data:null,error:u,response:u instanceof Py||u instanceof Cy?u.context:void 0}}finally{s&&clearTimeout(s)}})}}const RI=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return sh},FunctionsClient:DI,FunctionsError:f0,FunctionsFetchError:S5,FunctionsHttpError:Py,FunctionsRelayError:Cy},Symbol.toStringTag,{value:"Module"})),k5=wu(RI);var Sr={};const jl=wu(CI);var ff={},hf={},mf={},pf={},gf={},vf={},y2;function j5(){if(y2)return vf;y2=1,Object.defineProperty(vf,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return vf.default=e,vf}var b2;function E5(){if(b2)return gf;b2=1,Object.defineProperty(gf,"__esModule",{value:!0});const t=jl.__importDefault(j5());let r=class{constructor(a){var s,l;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(s=a.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=a.signal,this.isMaybeSingle=(l=a.isMaybeSingle)!==null&&l!==void 0?l:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,s){return this.headers=new Headers(this.headers),this.headers.set(a,s),this}then(a,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let u=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var f,p,g,y;let v=null,w=null,k=null,S=d.status,j=d.statusText;if(d.ok){if(this.method!=="HEAD"){const O=await d.text();O===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?w=O:w=JSON.parse(O))}const E=(p=this.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),D=(g=d.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");E&&D&&D.length>1&&(k=parseInt(D[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(v={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,k=null,S=406,j="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const E=await d.text();try{v=JSON.parse(E),Array.isArray(v)&&d.status===404&&(w=[],v=null,S=200,j="OK")}catch{d.status===404&&E===""?(S=204,j="No Content"):v={message:E}}if(v&&this.isMaybeSingle&&(!((y=v?.details)===null||y===void 0)&&y.includes("0 rows"))&&(v=null,S=200,j="OK"),v&&this.shouldThrowOnError)throw new t.default(v)}return{error:v,data:w,count:k,status:S,statusText:j}});return this.shouldThrowOnError||(u=u.catch(d=>{var f,p,g,y,v,w;let k="";const S=d?.cause;if(S){const j=(f=S?.message)!==null&&f!==void 0?f:"",N=(p=S?.code)!==null&&p!==void 0?p:"";k=`${(g=d?.name)!==null&&g!==void 0?g:"FetchError"}: ${d?.message}`,k+=`

Caused by: ${(y=S?.name)!==null&&y!==void 0?y:"Error"}: ${j}`,N&&(k+=` (${N})`),S?.stack&&(k+=`
${S.stack}`)}else k=(v=d?.stack)!==null&&v!==void 0?v:"";return{error:{message:`${(w=d?.name)!==null&&w!==void 0?w:"FetchError"}: ${d?.message}`,details:k,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),u.then(a,s)}returns(){return this}overrideTypes(){return this}};return gf.default=r,gf}var x2;function N5(){if(x2)return pf;x2=1,Object.defineProperty(pf,"__esModule",{value:!0});const t=jl.__importDefault(E5());let r=class extends t.default{select(a){let s=!1;const l=(a??"*").split("").map(u=>/\s/.test(u)&&!s?"":(u==='"'&&(s=!s),u)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:s=!0,nullsFirst:l,foreignTable:u,referencedTable:d=u}={}){const f=d?`${d}.order`:"order",p=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${p?`${p},`:""}${a}.${s?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:s,referencedTable:l=s}={}){const u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${a}`),this}range(a,s,{foreignTable:l,referencedTable:u=l}={}){const d=typeof u>"u"?"offset":`${u}.offset`,f=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${a}`),this.url.searchParams.set(f,`${s-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:s=!1,settings:l=!1,buffers:u=!1,wal:d=!1,format:f="text"}={}){var p;const g=[a?"analyze":null,s?"verbose":null,l?"settings":null,u?"buffers":null,d?"wal":null].filter(Boolean).join("|"),y=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${y}"; options=${g};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}};return pf.default=r,pf}var w2;function cx(){if(w2)return mf;w2=1,Object.defineProperty(mf,"__esModule",{value:!0});const t=jl.__importDefault(N5()),r=new RegExp("[,()]");let n=class extends t.default{eq(s,l){return this.url.searchParams.append(s,`eq.${l}`),this}neq(s,l){return this.url.searchParams.append(s,`neq.${l}`),this}gt(s,l){return this.url.searchParams.append(s,`gt.${l}`),this}gte(s,l){return this.url.searchParams.append(s,`gte.${l}`),this}lt(s,l){return this.url.searchParams.append(s,`lt.${l}`),this}lte(s,l){return this.url.searchParams.append(s,`lte.${l}`),this}like(s,l){return this.url.searchParams.append(s,`like.${l}`),this}likeAllOf(s,l){return this.url.searchParams.append(s,`like(all).{${l.join(",")}}`),this}likeAnyOf(s,l){return this.url.searchParams.append(s,`like(any).{${l.join(",")}}`),this}ilike(s,l){return this.url.searchParams.append(s,`ilike.${l}`),this}ilikeAllOf(s,l){return this.url.searchParams.append(s,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(s,l){return this.url.searchParams.append(s,`ilike(any).{${l.join(",")}}`),this}regexMatch(s,l){return this.url.searchParams.append(s,`match.${l}`),this}regexIMatch(s,l){return this.url.searchParams.append(s,`imatch.${l}`),this}is(s,l){return this.url.searchParams.append(s,`is.${l}`),this}isDistinct(s,l){return this.url.searchParams.append(s,`isdistinct.${l}`),this}in(s,l){const u=Array.from(new Set(l)).map(d=>typeof d=="string"&&r.test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(s,`in.(${u})`),this}contains(s,l){return typeof l=="string"?this.url.searchParams.append(s,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(s,`cs.{${l.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(l)}`),this}containedBy(s,l){return typeof l=="string"?this.url.searchParams.append(s,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(s,`cd.{${l.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(l)}`),this}rangeGt(s,l){return this.url.searchParams.append(s,`sr.${l}`),this}rangeGte(s,l){return this.url.searchParams.append(s,`nxl.${l}`),this}rangeLt(s,l){return this.url.searchParams.append(s,`sl.${l}`),this}rangeLte(s,l){return this.url.searchParams.append(s,`nxr.${l}`),this}rangeAdjacent(s,l){return this.url.searchParams.append(s,`adj.${l}`),this}overlaps(s,l){return typeof l=="string"?this.url.searchParams.append(s,`ov.${l}`):this.url.searchParams.append(s,`ov.{${l.join(",")}}`),this}textSearch(s,l,{config:u,type:d}={}){let f="";d==="plain"?f="pl":d==="phrase"?f="ph":d==="websearch"&&(f="w");const p=u===void 0?"":`(${u})`;return this.url.searchParams.append(s,`${f}fts${p}.${l}`),this}match(s){return Object.entries(s).forEach(([l,u])=>{this.url.searchParams.append(l,`eq.${u}`)}),this}not(s,l,u){return this.url.searchParams.append(s,`not.${l}.${u}`),this}or(s,{foreignTable:l,referencedTable:u=l}={}){const d=u?`${u}.or`:"or";return this.url.searchParams.append(d,`(${s})`),this}filter(s,l,u){return this.url.searchParams.append(s,`${l}.${u}`),this}};return mf.default=n,mf}var _2;function O5(){if(_2)return hf;_2=1,Object.defineProperty(hf,"__esModule",{value:!0});const t=jl.__importDefault(cx());let r=class{constructor(a,{headers:s={},schema:l,fetch:u}){this.url=a,this.headers=new Headers(s),this.schema=l,this.fetch=u}select(a,s){const{head:l=!1,count:u}=s??{},d=l?"HEAD":"GET";let f=!1;const p=(a??"*").split("").map(g=>/\s/.test(g)&&!f?"":(g==='"'&&(f=!f),g)).join("");return this.url.searchParams.set("select",p),u&&this.headers.append("Prefer",`count=${u}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:s,defaultToNull:l=!0}={}){var u;const d="POST";if(s&&this.headers.append("Prefer",`count=${s}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const f=a.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(f.length>0){const p=[...new Set(f)].map(g=>`"${g}"`);this.url.searchParams.set("columns",p.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(a,{onConflict:s,ignoreDuplicates:l=!1,count:u,defaultToNull:d=!0}={}){var f;const p="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),u&&this.headers.append("Prefer",`count=${u}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const g=a.reduce((y,v)=>y.concat(Object.keys(v)),[]);if(g.length>0){const y=[...new Set(g)].map(v=>`"${v}"`);this.url.searchParams.set("columns",y.join(","))}}return new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(a,{count:s}={}){var l;const u="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:a}={}){var s;const l="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};return hf.default=r,hf}var S2;function MI(){if(S2)return ff;S2=1,Object.defineProperty(ff,"__esModule",{value:!0});const e=jl,t=e.__importDefault(O5()),r=e.__importDefault(cx());let n=class A5{constructor(s,{headers:l={},schema:u,fetch:d}={}){this.url=s,this.headers=new Headers(l),this.schemaName=u,this.fetch=d}from(s){if(!s||typeof s!="string"||s.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const l=new URL(`${this.url}/${s}`);return new t.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new A5(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,l={},{head:u=!1,get:d=!1,count:f}={}){var p;let g;const y=new URL(`${this.url}/rpc/${s}`);let v;u||d?(g=u?"HEAD":"GET",Object.entries(l).filter(([k,S])=>S!==void 0).map(([k,S])=>[k,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([k,S])=>{y.searchParams.append(k,S)})):(g="POST",v=l);const w=new Headers(this.headers);return f&&w.set("Prefer",`count=${f}`),new r.default({method:g,url:y,headers:w,schema:this.schemaName,body:v,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}};return ff.default=n,ff}var k2;function T5(){if(k2)return Sr;k2=1,Object.defineProperty(Sr,"__esModule",{value:!0}),Sr.PostgrestError=Sr.PostgrestBuilder=Sr.PostgrestTransformBuilder=Sr.PostgrestFilterBuilder=Sr.PostgrestQueryBuilder=Sr.PostgrestClient=void 0;const e=jl,t=e.__importDefault(MI());Sr.PostgrestClient=t.default;const r=e.__importDefault(O5());Sr.PostgrestQueryBuilder=r.default;const n=e.__importDefault(cx());Sr.PostgrestFilterBuilder=n.default;const a=e.__importDefault(N5());Sr.PostgrestTransformBuilder=a.default;const s=e.__importDefault(E5());Sr.PostgrestBuilder=s.default;const l=e.__importDefault(j5());return Sr.PostgrestError=l.default,Sr.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:s.default,PostgrestError:l.default},Sr}class C5{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const $I="2.87.1",II=`realtime-js/${$I}`,P5="1.0.0",LI="2.0.0",j2=P5,Dy=1e4,zI=1e3,UI=100;var As;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(As||(As={}));var qt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(qt||(qt={}));var Zn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Zn||(Zn={}));var Ry;(function(e){e.websocket="websocket"})(Ry||(Ry={}));var Ts;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ts||(Ts={}));class BI{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},l=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(t,r,n){var a,s;const l=t.topic,u=(a=t.ref)!==null&&a!==void 0?a:"",d=(s=t.join_ref)!==null&&s!==void 0?s:"",f=t.payload.event,p=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},g=Object.keys(p).length===0?"":JSON.stringify(p);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`metadata length ${g.length} exceeds maximum of 255`);const y=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+u.length+l.length+f.length+g.length,v=new ArrayBuffer(this.HEADER_LENGTH+y);let w=new DataView(v),k=0;w.setUint8(k++,this.KINDS.userBroadcastPush),w.setUint8(k++,d.length),w.setUint8(k++,u.length),w.setUint8(k++,l.length),w.setUint8(k++,f.length),w.setUint8(k++,g.length),w.setUint8(k++,r),Array.from(d,j=>w.setUint8(k++,j.charCodeAt(0))),Array.from(u,j=>w.setUint8(k++,j.charCodeAt(0))),Array.from(l,j=>w.setUint8(k++,j.charCodeAt(0))),Array.from(f,j=>w.setUint8(k++,j.charCodeAt(0))),Array.from(g,j=>w.setUint8(k++,j.charCodeAt(0)));var S=new Uint8Array(v.byteLength+n.byteLength);return S.set(new Uint8Array(v),0),S.set(new Uint8Array(n),v.byteLength),S.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,s,l,u,d]=n;return r({join_ref:a,ref:s,topic:l,event:u,payload:d})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),s=r.getUint8(2),l=r.getUint8(3),u=r.getUint8(4);let d=this.HEADER_LENGTH+4;const f=n.decode(t.slice(d,d+a));d=d+a;const p=n.decode(t.slice(d,d+s));d=d+s;const g=n.decode(t.slice(d,d+l));d=d+l;const y=t.slice(d,t.byteLength),v=u===this.JSON_ENCODING?JSON.parse(n.decode(y)):y,w={type:this.BROADCAST_EVENT,event:p,payload:v};return l>0&&(w.meta=JSON.parse(g)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:w}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class D5{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ct;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ct||(ct={}));const E2=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((s,l)=>(s[l]=qI(l,e,t,a),s),{}):{}},qI=(e,t,r,n)=>{const a=t.find(u=>u.name===e),s=a?.type,l=r[e];return s&&!n.includes(s)?R5(s,l):My(l)},R5=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return KI(t,r)}switch(e){case ct.bool:return HI(t);case ct.float4:case ct.float8:case ct.int2:case ct.int4:case ct.int8:case ct.numeric:case ct.oid:return FI(t);case ct.json:case ct.jsonb:return VI(t);case ct.timestamp:return ZI(t);case ct.abstime:case ct.date:case ct.daterange:case ct.int4range:case ct.int8range:case ct.money:case ct.reltime:case ct.text:case ct.time:case ct.timestamptz:case ct.timetz:case ct.tsrange:case ct.tstzrange:return My(t);default:return My(t)}},My=e=>e,HI=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},FI=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},VI=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},KI=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const l=e.slice(1,r);try{s=JSON.parse("["+l+"]")}catch{s=l?l.split(","):[]}return s.map(u=>R5(t,u))}return e},ZI=e=>typeof e=="string"?e.replace(" ","T"):e,M5=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Mg{constructor(t,r,n={},a=Dy){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var $y;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})($y||($y={}));let $5=class Vf{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:s,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Vf.syncState(this.state,a,s,l),this.pendingDiffs.forEach(d=>{this.state=Vf.syncDiff(this.state,d,s,l)}),this.pendingDiffs=[],u()}),this.channel._on(n.diff,{},a=>{const{onJoin:s,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Vf.syncDiff(this.state,a,s,l),u())}),this.onJoin((a,s,l)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:s,newPresences:l})}),this.onLeave((a,s,l)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:s,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const s=this.cloneDeep(t),l=this.transformState(r),u={},d={};return this.map(s,(f,p)=>{l[f]||(d[f]=p)}),this.map(l,(f,p)=>{const g=s[f];if(g){const y=p.map(S=>S.presence_ref),v=g.map(S=>S.presence_ref),w=p.filter(S=>v.indexOf(S.presence_ref)<0),k=g.filter(S=>y.indexOf(S.presence_ref)<0);w.length>0&&(u[f]=w),k.length>0&&(d[f]=k)}else u[f]=p}),this.syncDiff(s,{joins:u,leaves:d},n,a)}static syncDiff(t,r,n,a){const{joins:s,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(s,(u,d)=>{var f;const p=(f=t[u])!==null&&f!==void 0?f:[];if(t[u]=this.cloneDeep(d),p.length>0){const g=t[u].map(v=>v.presence_ref),y=p.filter(v=>g.indexOf(v.presence_ref)<0);t[u].unshift(...y)}n(u,p,d)}),this.map(l,(u,d)=>{let f=t[u];if(!f)return;const p=d.map(g=>g.presence_ref);f=f.filter(g=>p.indexOf(g.presence_ref)<0),t[u]=f,a(u,f,d),f.length===0&&delete t[u]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Iy;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Iy||(Iy={}));var sl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(sl||(sl={}));var la;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(la||(la={}));const GI=qt;let I5=class Uc{constructor(t,r={config:{}},n){var a,s;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=qt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Mg(this,Zn.join,this.params,this.timeout),this.rejoinTimer=new D5(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=qt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=qt.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=qt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=qt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=qt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Zn.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new $5(this),this.broadcastEndpointURL=M5(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,s;if(this.socket.isConnected()||this.socket.connect(),this.state==qt.closed){const{config:{broadcast:l,presence:u,private:d}}=this.params,f=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&a!==void 0?a:[],p=!!this.bindings[sl.PRESENCE]&&this.bindings[sl.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,g={},y={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:p}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(v=>t?.(la.CHANNEL_ERROR,v)),this._onClose(()=>t?.(la.CLOSED)),this.updateJoinPayload(Object.assign({config:y},g)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var w;if(this.socket._isManualToken()||this.socket.setAuth(),v===void 0){t?.(la.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,S=(w=k?.length)!==null&&w!==void 0?w:0,j=[];for(let N=0;N<S;N++){const E=k[N],{filter:{event:D,schema:O,table:T,filter:P}}=E,C=v&&v[N];if(C&&C.event===D&&Uc.isFilterValueEqual(C.schema,O)&&Uc.isFilterValueEqual(C.table,T)&&Uc.isFilterValueEqual(C.filter,P))j.push(Object.assign(Object.assign({},E),{id:C.id}));else{this.unsubscribe(),this.state=qt.errored,t?.(la.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,t&&t(la.SUBSCRIBED);return}}).receive("error",v=>{this.state=qt.errored,t?.(la.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{t?.(la.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===qt.joined&&t===sl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const l={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(u.status===202)return{success:!0};let d=u.statusText;try{const f=await u.json();d=f.error||f.message||d}catch{}return Promise.reject(new Error(d))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:l}=t,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:l,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=f.body)===null||a===void 0?void 0:a.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var l,u,d;const f=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&s("ok"),f.receive("ok",()=>s("ok")),f.receive("error",()=>s("error")),f.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=qt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Zn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Mg(this,Zn.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=qt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,s=setTimeout(()=>a.abort(),n),l=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(s),l}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Mg(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>UI){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,s;const l=t.toLocaleLowerCase(),{close:u,error:d,leave:f,join:p}=Zn;if(n&&[u,d,f,p].indexOf(l)>=0&&n!==this._joinRef())return;let y=this._onMessage(l,r,n);if(r&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(v=>{var w,k,S;return((w=v.filter)===null||w===void 0?void 0:w.event)==="*"||((S=(k=v.filter)===null||k===void 0?void 0:k.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===l}).map(v=>v.callback(y,n)):(s=this.bindings[l])===null||s===void 0||s.filter(v=>{var w,k,S,j,N,E;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in v){const D=v.id,O=(w=v.filter)===null||w===void 0?void 0:w.event;return D&&((k=r.ids)===null||k===void 0?void 0:k.includes(D))&&(O==="*"||O?.toLocaleLowerCase()===((S=r.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const D=(N=(j=v?.filter)===null||j===void 0?void 0:j.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return D==="*"||D===((E=r?.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===l}).map(v=>{if(typeof y=="object"&&"ids"in y){const w=y.data,{schema:k,table:S,commit_timestamp:j,type:N,errors:E}=w;y=Object.assign(Object.assign({},{schema:k,table:S,commit_timestamp:j,eventType:N,new:{},old:{},errors:E}),this._getPayloadRecords(w))}v.callback(y,n)})}_isClosed(){return this.state===qt.closed}_isJoined(){return this.state===qt.joined}_isJoining(){return this.state===qt.joining}_isLeaving(){return this.state===qt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),s={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(s):this.bindings[a]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var s;return!(((s=a.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&Uc.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Zn.close,{},t)}_onError(t){this._on(Zn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=qt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=E2(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=E2(t.columns,t.old_record)),r}};const $g=()=>{},yf={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},YI=[1e3,2e3,5e3,1e4],WI=1e4,XI=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let JI=class{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Dy,this.transport=null,this.heartbeatIntervalMs=yf.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=$g,this.ref=0,this.reconnectTimer=null,this.vsn=j2,this.logger=$g,this.conn=null,this.sendBuffer=[],this.serializer=new BI,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...s)=>a(...s):(...s)=>fetch(...s),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Ry.websocket}`,this.httpEndpoint=M5(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=C5.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case As.connecting:return Ts.Connecting;case As.open:return Ts.Open;case As.closing:return Ts.Closing;default:return Ts.Closed}}isConnected(){return this.connectionState()===Ts.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(s=>s.topic===n);if(a)return a;{const s=new I5(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:a,ref:s}=t,l=()=>{this.encode(t,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${r} ${n} (${s})`,a),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(zI,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},yf.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:s,ref:l}=r,u=l?`(${l})`:"",d=s.status||"";this.log("receive",`${d} ${n} ${a} ${u}`.trim(),s),this.channels.filter(f=>f._isMember(n)).forEach(f=>f._trigger(a,s,l)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===As.open||this.conn.readyState===As.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Zn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([XI],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const s={access_token:r,version:II};r&&a.updateJoinPayload(s),a.joinedOnce&&a._isJoined()&&a._push(Zn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new D5(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},yf.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,s,l,u,d,f,p,g,y,v;switch(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t?.timeout)!==null&&n!==void 0?n:Dy,this.heartbeatIntervalMs=(a=t?.heartbeatIntervalMs)!==null&&a!==void 0?a:yf.HEARTBEAT_INTERVAL,this.worker=(s=t?.worker)!==null&&s!==void 0?s:!1,this.accessToken=(l=t?.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=t?.heartbeatCallback)!==null&&u!==void 0?u:$g,this.vsn=(d=t?.vsn)!==null&&d!==void 0?d:j2,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=t?.reconnectAfterMs)!==null&&f!==void 0?f:(w=>YI[w-1]||WI),this.vsn){case P5:this.encode=(p=t?.encode)!==null&&p!==void 0?p:((w,k)=>k(JSON.stringify(w))),this.decode=(g=t?.decode)!==null&&g!==void 0?g:((w,k)=>k(JSON.parse(w)));break;case LI:this.encode=(y=t?.encode)!==null&&y!==void 0?y:this.serializer.encode.bind(this.serializer),this.decode=(v=t?.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};const QI=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:GI,get REALTIME_LISTEN_TYPES(){return sl},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return Iy},get REALTIME_PRESENCE_LISTEN_EVENTS(){return $y},get REALTIME_SUBSCRIBE_STATES(){return la},RealtimeChannel:I5,RealtimeClient:JI,RealtimePresence:$5,WebSocketFactory:C5},Symbol.toStringTag,{value:"Module"})),L5=wu(QI);class Su extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function bt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class z5 extends Su{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class oh extends Su{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const ux=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),eL=()=>Response,Ly=e=>{if(Array.isArray(e))return e.map(r=>Ly(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[a]=Ly(n)}),t},tL=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},rL=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),Ig=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},nL=(e,t,r)=>_e(void 0,void 0,void 0,function*(){const n=yield eL();e instanceof n&&!r?.noResolveJson?e.json().then(a=>{const s=e.status||500,l=a?.statusCode||s+"";t(new z5(Ig(a),s,l))}).catch(a=>{t(new oh(Ig(a),a))}):t(new oh(Ig(e),e))}),aL=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"||!n?a:(tL(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(n)):a.body=n,t?.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function ku(e,t,r,n,a,s){return _e(this,void 0,void 0,function*(){return new Promise((l,u)=>{e(r,aL(t,n,a,s)).then(d=>{if(!d.ok)throw d;return n?.noResolveJson?d:d.json()}).then(d=>l(d)).catch(d=>nL(d,u,n))})})}function tu(e,t,r,n){return _e(this,void 0,void 0,function*(){return ku(e,"GET",t,r,n)})}function Kn(e,t,r,n,a){return _e(this,void 0,void 0,function*(){return ku(e,"POST",t,n,a,r)})}function zy(e,t,r,n,a){return _e(this,void 0,void 0,function*(){return ku(e,"PUT",t,n,a,r)})}function iL(e,t,r,n){return _e(this,void 0,void 0,function*(){return ku(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function dx(e,t,r,n,a){return _e(this,void 0,void 0,function*(){return ku(e,"DELETE",t,n,a,r)})}class sL{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return _e(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(bt(t))return{data:null,error:t};throw t}})}}var U5;class oL{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[U5]="BlobDownloadBuilder",this.promise=null}asStream(){return new sL(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return _e(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(bt(t))return{data:null,error:t};throw t}})}}U5=Symbol.toStringTag;const lL={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},N2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class cL{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=ux(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return _e(this,void 0,void 0,function*(){try{let s;const l=Object.assign(Object.assign({},N2),a);let u=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",l.cacheControl),d&&s.append("metadata",this.encodeMetadata(d)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.has("cacheControl")||s.append("cacheControl",l.cacheControl),d&&!s.has("metadata")&&s.append("metadata",this.encodeMetadata(d))):(s=n,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,d&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(d))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!l.duplex&&(l.duplex="half")),a?.headers&&(u=Object.assign(Object.assign({},u),a.headers));const f=this._removeEmptyFolders(r),p=this._getFinalPath(f),g=yield(t=="PUT"?zy:Kn)(this.fetch,`${this.url}/object/${p}`,s,Object.assign({headers:u},l?.duplex?{duplex:l.duplex}:{}));return{data:{path:f,id:g.Id,fullPath:g.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(bt(s))return{data:null,error:s};throw s}})}upload(t,r,n){return _e(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return _e(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),l=this._getFinalPath(s),u=new URL(this.url+`/object/upload/sign/${l}`);u.searchParams.set("token",r);try{let d;const f=Object.assign({upsert:N2.upsert},a),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.append("cacheControl",f.cacheControl)):(d=n,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType);const g=yield zy(this.fetch,u.toString(),d,{headers:p});return{data:{path:s,fullPath:g.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(bt(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(t,r){return _e(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r?.upsert&&(a["x-upsert"]="true");const s=yield Kn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),l=new URL(this.url+s.url),u=l.searchParams.get("token");if(!u)throw new Su("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:u},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bt(n))return{data:null,error:n};throw n}})}update(t,r,n){return _e(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return _e(this,void 0,void 0,function*(){try{return{data:yield Kn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(bt(a))return{data:null,error:a};throw a}})}copy(t,r,n){return _e(this,void 0,void 0,function*(){try{return{data:{path:(yield Kn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(bt(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return _e(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),s=yield Kn(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const l=n?.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${l}`)},{data:s,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(bt(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return _e(this,void 0,void 0,function*(){try{const a=yield Kn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${s}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(bt(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof r?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(r?.transform||{}),l=s?`?${s}`:"",u=this._getFinalPath(t),d=()=>tu(this.fetch,`${this.url}/${a}/${u}${l}`,{headers:this.headers,noResolveJson:!0});return new oL(d,this.shouldThrowOnError)}info(t){return _e(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield tu(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Ly(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bt(n))return{data:null,error:n};throw n}})}exists(t){return _e(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield iL(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bt(n)&&n instanceof oh){const a=n.originalError;if([400,404].includes(a?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],s=r?.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&a.push(s);const u=typeof r?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(r?.transform||{});d!==""&&a.push(d);let f=a.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${n}${f}`)}}}remove(t){return _e(this,void 0,void 0,function*(){try{return{data:yield dx(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(bt(r))return{data:null,error:r};throw r}})}list(t,r,n){return _e(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},lL),r),{prefix:t||""});return{data:yield Kn(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(bt(a))return{data:null,error:a};throw a}})}listV2(t,r){return _e(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Kn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bt(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const B5="2.87.1",q5={"X-Client-Info":`storage-js/${B5}`};class uL{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const s=new URL(t);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},q5),r),this.fetch=ux(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return _e(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield tu(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(bt(r))return{data:null,error:r};throw r}})}getBucket(t){return _e(this,void 0,void 0,function*(){try{return{data:yield tu(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(bt(r))return{data:null,error:r};throw r}})}createBucket(t){return _e(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Kn(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(bt(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return _e(this,void 0,void 0,function*(){try{return{data:yield zy(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return _e(this,void 0,void 0,function*(){try{return{data:yield Kn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(bt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return _e(this,void 0,void 0,function*(){try{return{data:yield dx(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(bt(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var ru=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function dL(e,t,r){const n=new URL(t,e);if(r)for(const[a,s]of Object.entries(r))s!==void 0&&n.searchParams.set(a,s);return n.toString()}async function fL(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function hL(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:s,headers:l}){const u=dL(e.baseUrl,n,a),d=await fL(e.auth),f=await t(u,{method:r,headers:{...s?{"Content-Type":"application/json"}:{},...d,...l},body:s?JSON.stringify(s):void 0}),p=await f.text(),g=(f.headers.get("content-type")||"").includes("application/json"),y=g&&p?JSON.parse(p):p;if(!f.ok){const v=g?y:void 0,w=v?.error;throw new ru(w?.message??`Request failed with status ${f.status}`,{status:f.status,icebergType:w?.type,icebergCode:w?.code,details:v})}return{status:f.status,headers:f.headers,data:y}}}}function bf(e){return e.join("")}var mL=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:bf(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${bf(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${bf(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${bf(e.namespace)}`}),!0}catch(t){if(t instanceof ru&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof ru&&r.status===409)return;throw r}}};function Ko(e){return e.join("")}var pL=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ko(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ko(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ko(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ko(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ko(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ko(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof ru&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof ru&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},gL=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=hL({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new mL(this.client,t),this.tableOps=new pL(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class H5{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},q5),r),this.fetch=ux(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return _e(this,void 0,void 0,function*(){try{return{data:yield Kn(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(bt(r))return{data:null,error:r};throw r}})}listBuckets(t){return _e(this,void 0,void 0,function*(){try{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const n=r.toString(),a=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield tu(this.fetch,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(bt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return _e(this,void 0,void 0,function*(){try{return{data:yield dx(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(bt(r))return{data:null,error:r};throw r}})}from(t){if(!rL(t))throw new Su("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new gL({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>_e(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,l){const u=s[l];return typeof u!="function"?u:(...d)=>_e(this,void 0,void 0,function*(){try{return{data:yield u.apply(s,d),error:null}}catch(f){if(n)throw f;return{data:null,error:f}}})}})}}const fx={"X-Client-Info":`storage-js/${B5}`,"Content-Type":"application/json"};class hx extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Wr(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Kf extends hx{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class F5 extends hx{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var Uy;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Uy||(Uy={}));const h0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),vL=()=>Response,V5=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},yL=e=>Array.from(new Float32Array(e)),bL=(e,t)=>{if(t!==void 0&&e.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`)},O2=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),xL=(e,t,r)=>_e(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!r?.noResolveJson){const a=e.status||500,s=e;if(typeof s.json=="function")s.json().then(l=>{const u=l?.statusCode||l?.code||a+"";t(new Kf(O2(l),a,u))}).catch(()=>{const l=a+"",u=s.statusText||`HTTP ${a} error`;t(new Kf(u,a,l))});else{const l=a+"",u=s.statusText||`HTTP ${a} error`;t(new Kf(u,a,l))}}else t(new F5(O2(e),e))}),wL=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return n?(V5(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r)):a};function _L(e,t,r,n,a,s){return _e(this,void 0,void 0,function*(){return new Promise((l,u)=>{e(r,wL(t,n,a,s)).then(d=>{if(!d.ok)throw d;if(n?.noResolveJson)return d;const f=d.headers.get("content-type");return!f||!f.includes("application/json")?{}:d.json()}).then(d=>l(d)).catch(d=>xL(d,u,n))})})}function fn(e,t,r,n,a){return _e(this,void 0,void 0,function*(){return _L(e,"POST",t,n,a,r)})}class K5{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},fx),r),this.fetch=h0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return _e(this,void 0,void 0,function*(){try{return{data:(yield fn(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wr(r))return{data:null,error:r};throw r}})}getIndex(t,r){return _e(this,void 0,void 0,function*(){try{return{data:yield fn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Wr(n))return{data:null,error:n};throw n}})}listIndexes(t){return _e(this,void 0,void 0,function*(){try{return{data:yield fn(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wr(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return _e(this,void 0,void 0,function*(){try{return{data:(yield fn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Wr(n))return{data:null,error:n};throw n}})}}class Z5{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},fx),r),this.fetch=h0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return _e(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield fn(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wr(r))return{data:null,error:r};throw r}})}getVectors(t){return _e(this,void 0,void 0,function*(){try{return{data:yield fn(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wr(r))return{data:null,error:r};throw r}})}listVectors(t){return _e(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield fn(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wr(r))return{data:null,error:r};throw r}})}queryVectors(t){return _e(this,void 0,void 0,function*(){try{return{data:yield fn(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wr(r))return{data:null,error:r};throw r}})}deleteVectors(t){return _e(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield fn(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wr(r))return{data:null,error:r};throw r}})}}class G5{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},fx),r),this.fetch=h0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return _e(this,void 0,void 0,function*(){try{return{data:(yield fn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wr(r))return{data:null,error:r};throw r}})}getBucket(t){return _e(this,void 0,void 0,function*(){try{return{data:yield fn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wr(r))return{data:null,error:r};throw r}})}listBuckets(){return _e(this,arguments,void 0,function*(t={}){try{return{data:yield fn(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return _e(this,void 0,void 0,function*(){try{return{data:(yield fn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Wr(r))return{data:null,error:r};throw r}})}}class Y5 extends G5{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new W5(this.url,this.headers,t,this.fetch)}createBucket(t){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return _e(this,void 0,void 0,function*(){return r.createBucket.call(this,t)})}getBucket(t){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return _e(this,void 0,void 0,function*(){return r.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return _e(this,arguments,void 0,function*(r={}){return t.listBuckets.call(this,r)})}deleteBucket(t){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return _e(this,void 0,void 0,function*(){return r.deleteBucket.call(this,t)})}}class W5 extends K5{constructor(t,r,n,a){super(t,r,a),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return _e(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return _e(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return _e(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return _e(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new X5(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class X5 extends Z5{constructor(t,r,n,a,s){super(t,r,s),this.vectorBucketName=n,this.indexName=a}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return _e(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return _e(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return _e(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return _e(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return _e(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class SL extends uL{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new cL(this.url,this.headers,t,this.fetch)}get vectors(){return new Y5(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new H5(this.url+"/iceberg",this.headers,this.fetch)}}const kL=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:H5,StorageApiError:z5,StorageClient:SL,StorageError:Su,StorageUnknownError:oh,StorageVectorsApiError:Kf,StorageVectorsClient:Y5,StorageVectorsError:hx,get StorageVectorsErrorCode(){return Uy},StorageVectorsUnknownError:F5,VectorBucketApi:G5,VectorBucketScope:W5,VectorDataApi:Z5,VectorIndexApi:K5,VectorIndexScope:X5,isPlainObject:V5,isStorageError:bt,isStorageVectorsError:Wr,normalizeToFloat32:yL,resolveFetch:h0,resolveResponse:vL,validateVectorDimension:bL},Symbol.toStringTag,{value:"Module"})),jL=wu(kL);var Lg={},Tc={},A2;function EL(){return A2||(A2=1,Object.defineProperty(Tc,"__esModule",{value:!0}),Tc.version=void 0,Tc.version="2.87.1"),Tc}var T2;function NL(){return T2||(T2=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_REALTIME_OPTIONS=e.DEFAULT_AUTH_OPTIONS=e.DEFAULT_DB_OPTIONS=e.DEFAULT_GLOBAL_OPTIONS=e.DEFAULT_HEADERS=void 0;const t=EL();let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",e.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${t.version}`},e.DEFAULT_GLOBAL_OPTIONS={headers:e.DEFAULT_HEADERS},e.DEFAULT_DB_OPTIONS={schema:"public"},e.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e.DEFAULT_REALTIME_OPTIONS={}})(Lg)),Lg}var zg={},C2;function OL(){return C2||(C2=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWithAuth=e.resolveHeadersConstructor=e.resolveFetch=void 0;const t=a=>a?(...s)=>a(...s):(...s)=>fetch(...s);e.resolveFetch=t;const r=()=>Headers;e.resolveHeadersConstructor=r;const n=(a,s,l)=>{const u=(0,e.resolveFetch)(l),d=(0,e.resolveHeadersConstructor)();return async(f,p)=>{var g;const y=(g=await s())!==null&&g!==void 0?g:a;let v=new d(p?.headers);return v.has("apikey")||v.set("apikey",a),v.has("Authorization")||v.set("Authorization",`Bearer ${y}`),u(f,Object.assign(Object.assign({},p),{headers:v}))}};e.fetchWithAuth=n})(zg)),zg}var Ba={},P2;function AL(){if(P2)return Ba;P2=1,Object.defineProperty(Ba,"__esModule",{value:!0}),Ba.isBrowser=void 0,Ba.uuid=e,Ba.ensureTrailingSlash=t,Ba.applySettingDefaults=n,Ba.validateSupabaseUrl=a;function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){var l=Math.random()*16|0,u=s=="x"?l:l&3|8;return u.toString(16)})}function t(s){return s.endsWith("/")?s:s+"/"}const r=()=>typeof window<"u";Ba.isBrowser=r;function n(s,l){var u,d;const{db:f,auth:p,realtime:g,global:y}=s,{db:v,auth:w,realtime:k,global:S}=l,j={db:Object.assign(Object.assign({},v),f),auth:Object.assign(Object.assign({},w),p),realtime:Object.assign(Object.assign({},k),g),storage:{},global:Object.assign(Object.assign(Object.assign({},S),y),{headers:Object.assign(Object.assign({},(u=S?.headers)!==null&&u!==void 0?u:{}),(d=y?.headers)!==null&&d!==void 0?d:{})}),accessToken:async()=>""};return s.accessToken?j.accessToken=s.accessToken:delete j.accessToken,j}function a(s){const l=s?.trim();if(!l)throw new Error("supabaseUrl is required.");if(!l.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t(l))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return Ba}var Cc={};const J5="2.87.1",Qo=30*1e3,By=3,Ug=By*Qo,TL="http://localhost:9999",CL="supabase.auth.token",PL={"X-Client-Info":`gotrue-js/${J5}`},qy="X-Supabase-Api-Version",Q5={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},DL=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,RL=600*1e3;let ml=class extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}};function Ae(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}let eT=class extends ml{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}};function tT(e){return Ae(e)&&e.name==="AuthApiError"}let Bi=class extends ml{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}},si=class extends ml{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}},Gr=class extends si{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function rT(e){return Ae(e)&&e.name==="AuthSessionMissingError"}let Ss=class extends si{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Bc=class extends si{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},qc=class extends si{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function nT(e){return Ae(e)&&e.name==="AuthImplicitGrantRedirectError"}let Hy=class extends si{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},lh=class extends si{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}};function Zf(e){return Ae(e)&&e.name==="AuthRetryableFetchError"}let Fy=class extends si{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}};function ML(e){return Ae(e)&&e.name==="AuthWeakPasswordError"}let ch=class extends si{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const uh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),D2=` 	
\r=`.split(""),$L=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<D2.length;t+=1)e[D2[t].charCodeAt(0)]=-2;for(let t=0;t<uh.length;t+=1)e[uh[t].charCodeAt(0)]=t;return e})();function R2(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(uh[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(uh[n]),t.queuedBits-=6}}function aT(e,t,r){const n=$L[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function M2(e){const t=[],r=l=>{t.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=l=>{zL(l,n,r)};for(let l=0;l<e.length;l+=1)aT(e.charCodeAt(l),a,s);return t.join("")}function IL(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function LL(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}IL(n,t)}}function zL(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function ol(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)aT(e.charCodeAt(a),r,n);return new Uint8Array(t)}function UL(e){const t=[];return LL(e,r=>t.push(r)),new Uint8Array(t)}function Ps(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>R2(a,r,n)),R2(null,r,n),t.join("")}function BL(e){return Math.round(Date.now()/1e3)+e}function qL(){return Symbol("auth-callback")}const fr=()=>typeof window<"u"&&typeof document<"u",ws={tested:!1,writable:!1},iT=()=>{if(!fr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ws.tested)return ws.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ws.tested=!0,ws.writable=!0}catch{ws.tested=!0,ws.writable=!1}return ws.writable};function HL(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,s)=>{t[s]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const sT=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),FL=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",el=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},_s=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ur=async(e,t)=>{await e.removeItem(t)};class m0{constructor(){this.promise=new m0.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}m0.promiseConstructor=Promise;function Bg(e){const t=e.split(".");if(t.length!==3)throw new ch("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!DL.test(t[n]))throw new ch("JWT not in base64url format");return{header:JSON.parse(M2(t[0])),payload:JSON.parse(M2(t[1])),signature:ol(t[2]),raw:{header:t[0],payload:t[1]}}}async function VL(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function KL(e,t){return new Promise((n,a)=>{(async()=>{for(let s=0;s<1/0;s++)try{const l=await e(s);if(!t(s,null,l)){n(l);return}}catch(l){if(!t(s,l)){a(l);return}}})()})}function ZL(e){return("0"+e.toString(16)).substr(-2)}function GL(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let s=0;s<56;s++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,ZL).join("")}async function YL(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(s=>String.fromCharCode(s)).join("")}async function WL(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await YL(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Zo(e,t,r=!1){const n=GL();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await el(e,`${t}-code-verifier`,a);const s=await WL(n);return[s,n===s?"plain":"s256"]}const XL=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function JL(e){const t=e.headers.get(qy);if(!t||!t.match(XL))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function QL(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function e8(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const t8=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Go(e){if(!t8.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function qg(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function r8(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function $2(e){return JSON.parse(JSON.stringify(e))}const ks=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),n8=[502,503,504];async function I2(e){var t;if(!FL(e))throw new lh(ks(e),0);if(n8.includes(e.status))throw new lh(ks(e),e.status);let r;try{r=await e.json()}catch(s){throw new Bi(ks(s),s)}let n;const a=JL(e);if(a&&a.getTime()>=Q5["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Fy(ks(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Gr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,l)=>s&&typeof l=="string",!0))throw new Fy(ks(r),e.status,r.weak_password.reasons);throw new eT(ks(r),e.status||500,n)}const a8=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function $e(e,t,r,n){var a;const s=Object.assign({},n?.headers);s[qy]||(s[qy]=Q5["2024-01-01"].name),n?.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const l=(a=n?.query)!==null&&a!==void 0?a:{};n?.redirectTo&&(l.redirect_to=n.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await i8(e,t,r+u,{headers:s,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(d):{data:Object.assign({},d),error:null}}async function i8(e,t,r,n,a,s){const l=a8(t,n,a,s);let u;try{u=await e(r,Object.assign({},l))}catch(d){throw console.error(d),new lh(ks(d),0)}if(u.ok||await I2(u),n?.noResolveJson)return u;try{return await u.json()}catch(d){await I2(d)}}function Vn(e){var t;let r=null;l8(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=BL(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function L2(e){const t=Vn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function qi(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function s8(e){return{data:e,error:null}}function o8(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s}=e,l=kl(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s},d=Object.assign({},l);return{data:{properties:u,user:d},error:null}}function z2(e){return e}function l8(e){return e.access_token&&e.refresh_token&&e.expires_in}const Gf=["global","local","others"];let mx=class{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=sT(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Gf[0]){if(Gf.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Gf.join(", ")}`);try{return await $e(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await $e(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:qi})}catch(n){if(Ae(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=kl(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n?.newEmail,delete a.newEmail),await $e(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:o8,redirectTo:r?.redirectTo})}catch(r){if(Ae(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await $e(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:qi})}catch(r){if(Ae(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,s,l,u,d;try{const f={nextPage:null,lastPage:0,total:0},p=await $e(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:z2});if(p.error)throw p.error;const g=await p.json(),y=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,v=(d=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return v.length>0&&(v.forEach(w=>{const k=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(w.split(";")[1].split("=")[1]);f[`${S}Page`]=k}),f.total=parseInt(y)),{data:Object.assign(Object.assign({},g),f),error:null}}catch(f){if(Ae(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){Go(t);try{return await $e(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:qi})}catch(r){if(Ae(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Go(t);try{return await $e(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:qi})}catch(n){if(Ae(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Go(t);try{return await $e(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:qi})}catch(n){if(Ae(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Go(t.userId);try{const{data:r,error:n}=await $e(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Go(t.userId),Go(t.id);try{return{data:await $e(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,s,l,u,d;try{const f={nextPage:null,lastPage:0,total:0},p=await $e(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:z2});if(p.error)throw p.error;const g=await p.json(),y=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,v=(d=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return v.length>0&&(v.forEach(w=>{const k=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(w.split(";")[1].split("=")[1]);f[`${S}Page`]=k}),f.total=parseInt(y)),{data:Object.assign(Object.assign({},g),f),error:null}}catch(f){if(Ae(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(t){try{return await $e(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await $e(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await $e(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await $e(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await $e(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}}};function U2(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const js={debug:!!(globalThis&&iT()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class px extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let oT=class extends px{};class c8 extends px{}async function lT(e,t,r){js.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),js.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){js.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{js.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw js.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new oT(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(js.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const B2={};async function u8(e,t,r){var n;const a=(n=B2[e])!==null&&n!==void 0?n:Promise.resolve(),s=Promise.race([a.catch(()=>null),t>=0?new Promise((l,u)=>{setTimeout(()=>{u(new c8(`Acquring process lock with name "${e}" timed out`))},t)}):null].filter(l=>l)).catch(l=>{if(l&&l.isAcquireTimeout)throw l;return null}).then(async()=>await r());return B2[e]=s.catch(async l=>{if(l&&l.isAcquireTimeout)return await a,null;throw l}),await s}function d8(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function cT(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function f8(e){return parseInt(e,16)}function h8(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function m8(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:s=new Date,nonce:l,notBefore:u,requestId:d,resources:f,scheme:p,uri:g,version:y}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const v=cT(e.address),w=p?`${p}://${n}`:n,k=e.statement?`${e.statement}
`:"",S=`${w} wants you to sign in with your Ethereum account:
${v}

${k}`;let j=`URI: ${g}
Version: ${y}
Chain ID: ${r}${l?`
Nonce: ${l}`:""}
Issued At: ${s.toISOString()}`;if(a&&(j+=`
Expiration Time: ${a.toISOString()}`),u&&(j+=`
Not Before: ${u.toISOString()}`),d&&(j+=`
Request ID: ${d}`),f){let N=`
Resources:`;for(const E of f){if(!E||typeof E!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${E}`);N+=`
- ${E}`}j+=N}return`${S}
${j}`}class Ht extends Error{constructor({message:t,code:r,cause:n,name:a}){var s;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=a??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class dh extends Ht{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function p8({error:e,options:t}){var r,n,a;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ht({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ht({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ht({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=s.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Ht({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ht({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ht({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new Ht({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ht({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(uT(l)){if(s.rp.id!==l)return new Ht({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ht({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Ht({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ht({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ht({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function g8({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ht({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ht({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(uT(n)){if(r.rpId!==n)return new Ht({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ht({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ht({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ht({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class v8{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const y8=new v8;function b8(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=kl(e,["challenge","user","excludeCredentials"]),s=ol(t).buffer,l=Object.assign(Object.assign({},r),{id:ol(r.id).buffer}),u=Object.assign(Object.assign({},a),{challenge:s,user:l});if(n&&n.length>0){u.excludeCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const f=n[d];u.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:ol(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function x8(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=kl(e,["challenge","allowCredentials"]),a=ol(t).buffer,s=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];s.allowCredentials[l]=Object.assign(Object.assign({},u),{id:ol(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function w8(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ps(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ps(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function _8(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ps(new Uint8Array(a.authenticatorData)),clientDataJSON:Ps(new Uint8Array(a.clientDataJSON)),signature:Ps(new Uint8Array(a.signature)),userHandle:a.userHandle?Ps(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function uT(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function q2(){var e,t;return!!(fr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function S8(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new dh("Browser returned unexpected credential type",t)}:{data:null,error:new dh("Empty credential response",t)}}catch(t){return{data:null,error:p8({error:t,options:e})}}}async function k8(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new dh("Browser returned unexpected credential type",t)}:{data:null,error:new dh("Empty credential response",t)}}catch(t){return{data:null,error:g8({error:t,options:e})}}}const j8={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},E8={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function fh(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const s in a){const l=a[s];if(l!==void 0)if(Array.isArray(l))n[s]=l;else if(r(l))n[s]=l;else if(t(l)){const u=n[s];t(u)?n[s]=fh(u,l):n[s]=fh(l)}else n[s]=l}return n}function N8(e,t){return fh(j8,e,t||{})}function O8(e,t){return fh(E8,e,t||{})}class A8{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},s){try{const{data:l,error:u}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!l)return{data:null,error:u};const d=a??y8.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:f}=l.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${n}`),f.displayName||(f.displayName=f.name)}switch(l.webauthn.type){case"create":{const f=N8(l.webauthn.credential_options.publicKey,s?.create),{data:p,error:g}=await S8({publicKey:f,signal:d});return p?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:g}}case"request":{const f=O8(l.webauthn.credential_options.publicKey,s?.request),{data:p,error:g}=await k8(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:f,signal:d}));return p?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:g}}}}catch(l){return Ae(l)?{data:null,error:l}:{data:null,error:new Bi("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},s){if(!r)return{data:null,error:new ml("rpId is required for WebAuthn authentication")};try{if(!q2())return{data:null,error:new Bi("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:s});if(!l)return{data:null,error:u};const{webauthn:d}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:d.type,rpId:r,rpOrigins:n,credential_response:d.credential_response}})}catch(l){return Ae(l)?{data:null,error:l}:{data:null,error:new Bi("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},s){if(!r)return{data:null,error:new ml("rpId is required for WebAuthn registration")};try{if(!q2())return{data:null,error:new Bi("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(p=>{var g;return(g=p.data)===null||g===void 0?void 0:g.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===t&&y.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:u};const{data:d,error:f}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:s});return d?this._verify({factorId:l.id,challengeId:d.challengeId,webauthn:{rpId:r,rpOrigins:n,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(l){return Ae(l)?{data:null,error:l}:{data:null,error:new Bi("Unexpected error in register",l)}}}}d8();const T8={url:TL,storageKey:CL,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:PL,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function H2(e,t,r){return await r()}const Yo={};let gx=class Vy{get jwks(){var t,r;return(r=(t=Yo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Yo[this.storageKey]=Object.assign(Object.assign({},Yo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Yo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Yo[this.storageKey]=Object.assign(Object.assign({},Yo[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},T8),t);if(this.storageKey=s.storageKey,this.instanceID=(r=Vy.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Vy.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&fr()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new mx({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=sT(s.fetch),this.lock=s.lock||H2,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:this.persistSession&&fr()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=lT:this.lock=H2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new A8(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:iT()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=U2(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=U2(this.memoryStorage)),fr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${J5}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(fr()&&(r=HL(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),fr()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),nT(s)){const d=(t=s.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:l,redirectType:u}=a;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ae(r)?this._returnResult({error:r}):this._returnResult({error:new Bi("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const s=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t?.options)===null||a===void 0?void 0:a.captchaToken}},xform:Vn}),{data:l,error:u}=s;if(u||!l)return this._returnResult({data:{user:null,session:null},error:u});const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(s){if(Ae(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(t){var r,n,a;try{let s;if("email"in t){const{email:p,password:g,options:y}=t;let v=null,w=null;this.flowType==="pkce"&&([v,w]=await Zo(this.storage,this.storageKey)),s=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y?.emailRedirectTo,body:{email:p,password:g,data:(r=y?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:v,code_challenge_method:w},xform:Vn})}else if("phone"in t){const{phone:p,password:g,options:y}=t;s=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:g,data:(n=y?.data)!==null&&n!==void 0?n:{},channel:(a=y?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:Vn})}else throw new Bc("You must provide either an email or phone number and a password");const{data:l,error:u}=s;if(u||!l)return await ur(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(s){if(await ur(this.storage,`${this.storageKey}-code-verifier`),Ae(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:l,options:u}=t;r=await $e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:L2})}else if("phone"in t){const{phone:s,password:l,options:u}=t;r=await $e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:L2})}else throw new Bc("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const s=new Ss;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Ae(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,s,l,u,d,f,p,g,y;let v,w;if("message"in t)v=t.message,w=t.signature;else{const{chain:k,wallet:S,statement:j,options:N}=t;let E;if(fr())if(typeof S=="object")E=S;else{const R=window;if("ethereum"in R&&typeof R.ethereum=="object"&&"request"in R.ethereum&&typeof R.ethereum.request=="function")E=R.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=S}const D=new URL((r=N?.url)!==null&&r!==void 0?r:window.location.href),O=await E.request({method:"eth_requestAccounts"}).then(R=>R).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!O||O.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const T=cT(O[0]);let P=(n=N?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!P){const R=await E.request({method:"eth_chainId"});P=f8(R)}const C={domain:D.host,address:T,statement:j,uri:D.href,version:"1",chainId:P,nonce:(a=N?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(l=(s=N?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(u=N?.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(d=N?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=N?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(p=N?.signInWithEthereum)===null||p===void 0?void 0:p.resources};v=m8(C),w=await E.request({method:"personal_sign",params:[h8(v),T]})}try{const{data:k,error:S}=await $e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:w},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Vn});if(S)throw S;if(!k||!k.session||!k.user){const j=new Ss;return this._returnResult({data:{user:null,session:null},error:j})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:S})}catch(k){if(Ae(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async signInWithSolana(t){var r,n,a,s,l,u,d,f,p,g,y,v;let w,k;if("message"in t)w=t.message,k=t.signature;else{const{chain:S,wallet:j,statement:N,options:E}=t;let D;if(fr())if(typeof j=="object")D=j;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))D=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=j}const O=new URL((r=E?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in D&&D.signIn){const T=await D.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E?.signInWithSolana),{version:"1",domain:O.host,uri:O.href}),N?{statement:N}:null));let P;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")P=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)P=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)w=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),k=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in D)||typeof D.signMessage!="function"||!("publicKey"in D)||typeof D!="object"||!D.publicKey||!("toBase58"in D.publicKey)||typeof D.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${O.host} wants you to sign in with your Solana account:`,D.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${O.href}`,`Issued At: ${(a=(n=E?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((s=E?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((l=E?.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((u=E?.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((d=E?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((f=E?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((g=(p=E?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||g===void 0)&&g.length?["Resources",...E.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const T=await D.signMessage(new TextEncoder().encode(w),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=T}}try{const{data:S,error:j}=await $e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:Ps(k)},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Vn});if(j)throw j;if(!S||!S.session||!S.user){const N=new Ss;return this._returnResult({data:{user:null,session:null},error:N})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:j})}catch(S){if(Ae(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(t){const r=await _s(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:s,error:l}=await $e(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Vn});if(await ur(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!s||!s.session||!s.user){const u=new Ss;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:a??null}),error:l})}catch(s){if(await ur(this.storage,`${this.storageKey}-code-verifier`),Ae(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:s,nonce:l}=t,u=await $e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:s,nonce:l,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Vn}),{data:d,error:f}=u;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d||!d.session||!d.user){const p=new Ss;return this._returnResult({data:{user:null,session:null},error:p})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:f})}catch(r){if(Ae(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,s,l;try{if("email"in t){const{email:u,options:d}=t;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await Zo(this.storage,this.storageKey));const{error:g}=await $e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=d?.data)!==null&&r!==void 0?r:{},create_user:(n=d?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:f,code_challenge_method:p},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in t){const{phone:u,options:d}=t,{data:f,error:p}=await $e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(a=d?.data)!==null&&a!==void 0?a:{},create_user:(s=d?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(l=d?.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:p})}throw new Bc("You must provide either an email or phone number.")}catch(u){if(await ur(this.storage,`${this.storageKey}-code-verifier`),Ae(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(t){var r,n;try{let a,s;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:u}=await $e(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:a,xform:Vn});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,f=l.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(a){if(Ae(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,s,l;try{let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Zo(this.storage,this.storageKey));const f=await $e(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:d}),headers:this.headers,xform:s8});return!((s=f.data)===null||s===void 0)&&s.url&&fr()&&!(!((l=t.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(u){if(await ur(this.storage,`${this.storageKey}-code-verifier`),Ae(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Gr;const{error:a}=await $e(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(Ae(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:s}=t,{error:l}=await $e(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in t){const{phone:n,type:a,options:s}=t,{data:l,error:u}=await $e(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l?.message_id},error:u})}throw new Bc("You must provide either an email or phone number and a type")}catch(r){if(Ae(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await _s(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Ug:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const l=await _s(this.userStorage,this.storageKey+"-user");l?.user?t.user=l.user:t.user=qg()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};t.user=r8(t.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await $e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:qi}):await this._useSession(async r=>{var n,a,s;const{data:l,error:u}=r;if(u)throw u;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Gr}:await $e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0,xform:qi})})}catch(r){if(Ae(r))return rT(r)&&(await this._removeSession(),await ur(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:s}=n;if(s)throw s;if(!a.session)throw new Gr;const l=a.session;let u=null,d=null;this.flowType==="pkce"&&t.email!=null&&([u,d]=await Zo(this.storage,this.storageKey));const{data:f,error:p}=await $e(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:d}),jwt:l.access_token,xform:qi});if(p)throw p;return l.user=f.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(n){if(await ur(this.storage,`${this.storageKey}-code-verifier`),Ae(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Gr;const r=Date.now()/1e3;let n=r,a=!0,s=null;const{payload:l}=Bg(t.access_token);if(l.exp&&(n=l.exp,a=n<=r),a){const{data:u,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u)return{data:{user:null,session:null},error:null};s=u}else{const{data:u,error:d}=await this._getUser(t.access_token);if(d)throw d;s={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(Ae(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:l,error:u}=r;if(u)throw u;t=(n=l.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new Gr;const{data:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Ae(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!fr())throw new qc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new qc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Hy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new qc("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Hy("No code detected.");const{data:N,error:E}=await this._exchangeCodeForSession(t.code);if(E)throw E;const D=new URL(window.location.href);return D.searchParams.delete("code"),window.history.replaceState(window.history.state,"",D.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:s,refresh_token:l,expires_in:u,expires_at:d,token_type:f}=t;if(!s||!u||!l||!f)throw new qc("No session defined in URL");const p=Math.round(Date.now()/1e3),g=parseInt(u);let y=p+g;d&&(y=parseInt(d));const v=y-p;v*1e3<=Qo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${g}s`);const w=y-g;p-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,y,p):p-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,y,p);const{data:k,error:S}=await this._getUser(s);if(S)throw S;const j={provider_token:n,provider_refresh_token:a,access_token:s,expires_in:g,expires_at:y,refresh_token:l,token_type:f,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:j,redirectType:t.type},error:null})}catch(n){if(Ae(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await _s(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({error:s});const l=(n=a.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:u}=await this.admin.signOut(l,t);if(u&&!(tT(u)&&(u.status===404||u.status===401||u.status===403)))return this._returnResult({error:u})}return t!=="others"&&(await this._removeSession(),await ur(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=qL(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:s},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Zo(this.storage,this.storageKey,!0));try{return await $e(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(await ur(this.storage,`${this.storageKey}-code-verifier`),Ae(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Ae(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async s=>{var l,u,d,f,p;const{data:g,error:y}=s;if(y)throw y;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await $e(this.fetch,"GET",v,{headers:this.headers,jwt:(p=(f=g.session)===null||f===void 0?void 0:f.access_token)!==null&&p!==void 0?p:void 0})});if(a)throw a;return fr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:t.provider,url:n?.url},error:null})}catch(n){if(Ae(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:s}}=r;if(a)throw a;const{options:l,provider:u,token:d,access_token:f,nonce:p}=t,g=await $e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:u,id_token:d,access_token:f,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Vn}),{data:y,error:v}=g;return v?this._returnResult({data:{user:null,session:null},error:v}):!y||!y.session||!y.user?this._returnResult({data:{user:null,session:null},error:new Ss}):(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),this._returnResult({data:y,error:v}))}catch(a){if(await ur(this.storage,`${this.storageKey}-code-verifier`),Ae(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:l}=r;if(l)throw l;return await $e(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Ae(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await KL(async a=>(a>0&&await VL(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await $e(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Vn})),(a,s)=>{const l=200*Math.pow(2,a);return s&&Zf(s)&&Date.now()+l-n<Qo})}catch(n){if(this._debug(r,"error",n),Ae(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),fr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await _s(this.storage,this.storageKey);if(a&&this.userStorage){let l=await _s(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:a.user},await el(this.userStorage,this.storageKey+"-user",l)),a.user=(t=l?.user)!==null&&t!==void 0?t:qg()}else if(a&&!a.user&&!a.user){const l=await _s(this.storage,this.storageKey+"-user");l&&l?.user?(a.user=l.user,await ur(this.storage,this.storageKey+"-user"),await el(this.storage,this.storageKey,a)):a.user=qg()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const s=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ug;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Ug}s`),s){if(this.autoRefreshToken&&a.refresh_token){const{error:l}=await this._callRefreshToken(a.refresh_token);l&&(console.error(l),Zf(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(a.access_token);!u&&l?.user?(a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(n,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Gr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new m0;const{data:s,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!s.session)throw new Gr;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const u={data:s.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(s){if(this._debug(a,"error",s),Ae(s)){const l={data:null,error:s};return Zf(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,r)}catch(d){s.push(d)}});if(await Promise.all(l),s.length>0){for(let u=0;u<s.length;u+=1)console.error(s[u]);throw s[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await ur(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await el(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const s=$2(a);await el(this.storage,this.storageKey,s)}else{const a=$2(r);await el(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ur(this.storage,this.storageKey),await ur(this.storage,this.storageKey+"-code-verifier"),await ur(this.storage,this.storageKey+"-user"),this.userStorage&&await ur(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&fr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Qo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Qo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Qo}ms, refresh threshold is ${By} ticks`),a<=By&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof px)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!fr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,l]=await Zo(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(l)}`});a.push(u.toString())}if(n?.queryParams){const s=new URLSearchParams(n.queryParams);a.push(s.toString())}return n?.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;return s?this._returnResult({data:null,error:s}):await $e(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ae(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:l}=r;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:d,error:f}=await $e(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token});return f?this._returnResult({data:null,error:f}):(t.factorType==="totp"&&d.type==="totp"&&(!((a=d?.totp)===null||a===void 0)&&a.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(r){if(Ae(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?w8(t.webauthn.credential_response):_8(t.webauthn.credential_response)})}:{code:t.code}),{data:u,error:d}=await $e(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:d}))})}catch(r){if(Ae(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const l=await $e(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});if(l.error)return l;const{data:u}=l;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:b8(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:x8(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Ae(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=r?.factors)!==null&&t!==void 0?t:[])a.all.push(s),s.status==="verified"&&a[s.factor_type].push(s);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Bg(n.access_token);let l=null;s.aal&&(l=s.aal);let u=l;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const f=s.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await $e(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Gr})})}catch(r){if(Ae(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!a)return this._returnResult({data:null,error:new Gr});const l=await $e(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&fr()&&!r?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(n){if(Ae(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!a)return this._returnResult({data:null,error:new Gr});const l=await $e(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&fr()&&!r?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(n){if(Ae(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await $e(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Gr})})}catch(t){if(Ae(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await $e(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Gr})})}catch(r){if(Ae(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(u=>u.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(u=>u.kid===t),n&&this.jwks_cached_at+RL>a)return n;const{data:s,error:l}=await $e(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=a,n=s.keys.find(u=>u.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:v,error:w}=await this.getSession();if(w||!v.session)return this._returnResult({data:null,error:w});n=v.session.access_token}const{header:a,payload:s,signature:l,raw:{header:u,payload:d}}=Bg(n);r?.allowExpired||QL(s.exp);const f=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!f){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:s,header:a,signature:l},error:null}}const p=e8(a.alg),g=await crypto.subtle.importKey("jwk",f,p,!0,["verify"]);if(!await crypto.subtle.verify(p,g,l,UL(`${u}.${d}`)))throw new ch("Invalid JWT signature");return{data:{claims:s,header:a,signature:l},error:null}}catch(n){if(Ae(n))return this._returnResult({data:null,error:n});throw n}}};gx.nextInstanceID={};const C8=mx,P8=gx,D8=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:C8,AuthApiError:eT,AuthClient:P8,AuthError:ml,AuthImplicitGrantRedirectError:qc,AuthInvalidCredentialsError:Bc,AuthInvalidJwtError:ch,AuthInvalidTokenResponseError:Ss,AuthPKCEGrantCodeExchangeError:Hy,AuthRetryableFetchError:lh,AuthSessionMissingError:Gr,AuthUnknownError:Bi,AuthWeakPasswordError:Fy,CustomAuthError:si,GoTrueAdminApi:mx,GoTrueClient:gx,NavigatorLockAcquireTimeoutError:oT,SIGN_OUT_SCOPES:Gf,isAuthApiError:tT,isAuthError:Ae,isAuthImplicitGrantRedirectError:nT,isAuthRetryableFetchError:Zf,isAuthSessionMissingError:rT,isAuthWeakPasswordError:ML,lockInternals:js,navigatorLock:lT,processLock:u8},Symbol.toStringTag,{value:"Module"})),dT=wu(D8);var F2;function R8(){if(F2)return Cc;F2=1,Object.defineProperty(Cc,"__esModule",{value:!0}),Cc.SupabaseAuthClient=void 0;const e=dT;let t=class extends e.AuthClient{constructor(n){super(n)}};return Cc.SupabaseAuthClient=t,Cc}var V2;function K2(){if(V2)return df;V2=1,Object.defineProperty(df,"__esModule",{value:!0});const e=k5,t=T5(),r=L5,n=jL,a=NL(),s=OL(),l=AL(),u=R8();class d{constructor(p,g,y){var v,w,k;this.supabaseUrl=p,this.supabaseKey=g;const S=(0,l.validateSupabaseUrl)(p);if(!g)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",S),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",S),this.storageUrl=new URL("storage/v1",S),this.functionsUrl=new URL("functions/v1",S);const j=`sb-${S.hostname.split(".")[0]}-auth-token`,N={db:a.DEFAULT_DB_OPTIONS,realtime:a.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},a.DEFAULT_AUTH_OPTIONS),{storageKey:j}),global:a.DEFAULT_GLOBAL_OPTIONS},E=(0,l.applySettingDefaults)(y??{},N);this.storageKey=(v=E.auth.storageKey)!==null&&v!==void 0?v:"",this.headers=(w=E.global.headers)!==null&&w!==void 0?w:{},E.accessToken?(this.accessToken=E.accessToken,this.auth=new Proxy({},{get:(D,O)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(O)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((k=E.auth)!==null&&k!==void 0?k:{},this.headers,E.global.fetch),this.fetch=(0,s.fetchWithAuth)(g,this._getAccessToken.bind(this),E.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},E.realtime)),this.accessToken&&this.accessToken().then(D=>this.realtime.setAuth(D)).catch(D=>console.warn("Failed to set initial Realtime auth token:",D)),this.rest=new t.PostgrestClient(new URL("rest/v1",S).href,{headers:this.headers,schema:E.db.schema,fetch:this.fetch}),this.storage=new n.StorageClient(this.storageUrl.href,this.headers,this.fetch,y?.storage),E.accessToken||this._listenForAuthEvents()}get functions(){return new e.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(p){return this.rest.from(p)}schema(p){return this.rest.schema(p)}rpc(p,g={},y={head:!1,get:!1,count:void 0}){return this.rest.rpc(p,g,y)}channel(p,g={config:{}}){return this.realtime.channel(p,g)}getChannels(){return this.realtime.getChannels()}removeChannel(p){return this.realtime.removeChannel(p)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var p,g;if(this.accessToken)return await this.accessToken();const{data:y}=await this.auth.getSession();return(g=(p=y.session)===null||p===void 0?void 0:p.access_token)!==null&&g!==void 0?g:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:p,persistSession:g,detectSessionInUrl:y,storage:v,userStorage:w,storageKey:k,flowType:S,lock:j,debug:N,throwOnError:E},D,O){const T={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new u.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},T),D),storageKey:k,autoRefreshToken:p,persistSession:g,detectSessionInUrl:y,storage:v,userStorage:w,flowType:S,lock:j,debug:N,throwOnError:E,fetch:O,hasCustomAuthorizationHeader:Object.keys(this.headers).some(P=>P.toLowerCase()==="authorization")})}_initRealtimeClient(p){return new r.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},p),{params:Object.assign({apikey:this.supabaseKey},p?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((g,y)=>{this._handleTokenChanged(g,"CLIENT",y?.access_token)})}_handleTokenChanged(p,g,y){(p==="TOKEN_REFRESHED"||p==="SIGNED_IN")&&this.changedAccessToken!==y?(this.changedAccessToken=y,this.realtime.setAuth(y)):p==="SIGNED_OUT"&&(this.realtime.setAuth(),g=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return df.default=d,df}var Z2;function M8(){return Z2||(Z2=1,(function(e){var t=Ua&&Ua.__createBinding||(Object.create?(function(p,g,y,v){v===void 0&&(v=y);var w=Object.getOwnPropertyDescriptor(g,y);(!w||("get"in w?!g.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return g[y]}}),Object.defineProperty(p,v,w)}):(function(p,g,y,v){v===void 0&&(v=y),p[v]=g[y]})),r=Ua&&Ua.__exportStar||function(p,g){for(var y in p)y!=="default"&&!Object.prototype.hasOwnProperty.call(g,y)&&t(g,p,y)},n=Ua&&Ua.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(e,"__esModule",{value:!0}),e.createClient=e.SupabaseClient=e.FunctionRegion=e.FunctionsError=e.FunctionsRelayError=e.FunctionsFetchError=e.FunctionsHttpError=e.PostgrestError=void 0;const a=n(K2());r(dT,e);var s=T5();Object.defineProperty(e,"PostgrestError",{enumerable:!0,get:function(){return s.PostgrestError}});var l=k5;Object.defineProperty(e,"FunctionsHttpError",{enumerable:!0,get:function(){return l.FunctionsHttpError}}),Object.defineProperty(e,"FunctionsFetchError",{enumerable:!0,get:function(){return l.FunctionsFetchError}}),Object.defineProperty(e,"FunctionsRelayError",{enumerable:!0,get:function(){return l.FunctionsRelayError}}),Object.defineProperty(e,"FunctionsError",{enumerable:!0,get:function(){return l.FunctionsError}}),Object.defineProperty(e,"FunctionRegion",{enumerable:!0,get:function(){return l.FunctionRegion}}),r(L5,e);var u=K2();Object.defineProperty(e,"SupabaseClient",{enumerable:!0,get:function(){return n(u).default}});const d=(p,g,y)=>new a.default(p,g,y);e.createClient=d;function f(){if(typeof window<"u"||typeof process>"u")return!1;const p=process.version;if(p==null)return!1;const g=p.match(/^v(\d+)\./);return g?parseInt(g[1],10)<=18:!1}f()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Ua)),Ua}var fT=M8();const hT=va(fT),$8=zA({__proto__:null,default:hT},[fT]),{PostgrestError:sce,FunctionsHttpError:oce,FunctionsFetchError:lce,FunctionsRelayError:cce,FunctionsError:uce,FunctionRegion:dce,SupabaseClient:fce,createClient:mT,GoTrueAdminApi:hce,GoTrueClient:mce,AuthAdminApi:pce,AuthClient:gce,navigatorLock:vce,NavigatorLockAcquireTimeoutError:yce,lockInternals:bce,processLock:xce,SIGN_OUT_SCOPES:wce,AuthError:_ce,AuthApiError:Sce,AuthUnknownError:kce,CustomAuthError:jce,AuthSessionMissingError:Ece,AuthInvalidTokenResponseError:Nce,AuthInvalidCredentialsError:Oce,AuthImplicitGrantRedirectError:Ace,AuthPKCEGrantCodeExchangeError:Tce,AuthRetryableFetchError:Cce,AuthWeakPasswordError:Pce,AuthInvalidJwtError:Dce,isAuthError:Rce,isAuthApiError:Mce,isAuthSessionMissingError:$ce,isAuthImplicitGrantRedirectError:Ice,isAuthRetryableFetchError:Lce,isAuthWeakPasswordError:zce,RealtimePresence:Uce,RealtimeChannel:Bce,RealtimeClient:qce,REALTIME_LISTEN_TYPES:Hce,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:Fce,REALTIME_PRESENCE_LISTEN_EVENTS:Vce,REALTIME_SUBSCRIBE_STATES:Kce,REALTIME_CHANNEL_STATES:Zce}=hT||$8,I8="https://jbedxxdpqtmprixfxgos.supabase.co",L8="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpiZWR4eGRwcXRtcHJpeGZ4Z29zIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU0NjQxODcsImV4cCI6MjA4MTA0MDE4N30.U-3j_SAvrno9vMAVCsa2RHrmYFs0wLfyYka-Ax0TUQ4",pT=I8,gT=L8;console.warn("Using Fallback Supabase Keys. Please set VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY in your .env file.");const Ne=mT(pT,gT),vT=x.createContext();function z8({children:e}){const[t,r]=x.useState(()=>{try{const v=localStorage.getItem("ubp_session_user");return v?JSON.parse(v):null}catch{return null}}),[n,a]=x.useState(()=>localStorage.getItem("ubp_user_role")||null),[s,l]=x.useState(()=>!localStorage.getItem("ubp_session_user")),u=async v=>{if(!v){a(null),localStorage.removeItem("ubp_user_role");return}try{const{data:w,error:k}=await Ne.from("user_roles").select("role").eq("email",v).maybeSingle();if(k){k.code!=="42P01"&&console.error("Error fetching role:",k),a("viewer");return}const S=w?.role||"viewer";a(S),localStorage.setItem("ubp_user_role",S)}catch(w){console.error("Unexpected error fetching role:",w),a("viewer")}};x.useEffect(()=>{let v=!0;Ne.auth.getSession().then(({data:{session:k}})=>{if(!v)return;const S=k?.user??null;r(S),S?(localStorage.setItem("ubp_session_user",JSON.stringify(S)),u(S.email)):(localStorage.removeItem("ubp_session_user"),localStorage.removeItem("ubp_user_role"),l(!1))});const{data:{subscription:w}}=Ne.auth.onAuthStateChange((k,S)=>{if(!v)return;const j=S?.user??null;r(j),j?(localStorage.setItem("ubp_session_user",JSON.stringify(j)),u(j.email)):(a(null),localStorage.removeItem("ubp_user_role"),localStorage.removeItem("ubp_session_user"),l(!1))});return()=>{v=!1,w.unsubscribe()}},[]);const y={user:t,userRole:n,signIn:async(v,w)=>{const{error:k}=await Ne.auth.signInWithPassword({email:v,password:w});if(k)throw k},signUp:async(v,w)=>{const{data:k,error:S}=await Ne.auth.signUp({email:v,password:w,options:{emailRedirectTo:window.location.origin}});if(S)throw S;return k},signOut:async()=>{const{error:v}=await Ne.auth.signOut();if(v)throw v},resendVerificationEmail:async v=>{const{error:w}=await Ne.auth.resend({type:"signup",email:v,options:{emailRedirectTo:window.location.origin}});if(w)throw w},loading:s};return m.jsx(vT.Provider,{value:y,children:!s&&e})}function Or(){return x.useContext(vT)}const yT="/UBP-Scheduler-V2/assets/ubp_logo_v4-BJtcTMQd.png";function U8({isOpen:e,onClose:t}){const{signIn:r}=Or(),[n,a]=x.useState(""),[s,l]=x.useState(""),[u,d]=x.useState(null),[f,p]=x.useState(!1);if(!e)return null;const g=async y=>{y.preventDefault(),d(null),p(!0);try{await r(n,s),t()}catch(v){d(v.message)}finally{p(!1)}};return m.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4 transition-all",children:m.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden relative",children:[m.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-500 hover:text-white transition-colors",children:m.jsx(Xs,{className:"h-6 w-6"})}),m.jsxs("div",{className:"p-8",children:[m.jsx("div",{className:"flex justify-center mb-6",children:m.jsx("div",{className:"h-20 w-20 bg-white rounded-full shadow-2xl shadow-blue-500/20 flex items-center justify-center overflow-hidden",children:m.jsx("img",{src:yT,alt:"UBP",className:"h-full w-full object-cover transform scale-105"})})}),m.jsx("h2",{className:"text-2xl font-bold text-white mb-2 text-center",children:"Welcome Back"}),m.jsx("p",{className:"text-gray-400 text-sm mb-6 text-center",children:"Sign in to access your production schedule."}),u&&m.jsx("div",{className:"p-3 rounded-lg mb-4 text-sm font-medium border bg-red-900/30 text-red-300 border-red-800",children:u}),m.jsxs("form",{onSubmit:g,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Email"}),m.jsx("input",{type:"email",required:!0,value:n,onChange:y=>a(y.target.value),className:"mt-1 block w-full rounded-lg bg-gray-800 border-gray-700 text-white placeholder-gray-500 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2.5 border transition-colors",placeholder:"name@company.com"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Password"}),m.jsx("input",{type:"password",required:!0,value:s,onChange:y=>l(y.target.value),className:"mt-1 block w-full rounded-lg bg-gray-800 border-gray-700 text-white placeholder-gray-500 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2.5 border transition-colors",placeholder:""})]}),m.jsx("button",{type:"submit",disabled:f,className:"w-full bg-blue-600 text-white rounded-lg py-2.5 font-bold hover:bg-blue-500 transition-all disabled:opacity-50 shadow-lg shadow-blue-900/20",children:f?"Processing...":"Sign In"})]}),m.jsx("div",{className:"mt-6 text-center text-sm text-gray-500",children:m.jsx("span",{className:"italic",children:"Authorized personnel only."})})]})]})})}function B8({onOpenSettings:e,isSaving:t,saveError:r,activeTab:n,setActiveTab:a}){const{user:s,userRole:l,signOut:u}=Or(),[d,f]=x.useState(!1),[p,g]=x.useState(navigator.onLine),[y,v]=x.useState(!1),w=["admin","planner"].includes(l||"admin");x.useEffect(()=>{const S=()=>v(window.scrollY>10);window.addEventListener("scroll",S);const j=()=>g(!0),N=()=>g(!1);return window.addEventListener("online",j),window.addEventListener("offline",N),()=>{window.removeEventListener("scroll",S),window.removeEventListener("online",j),window.removeEventListener("offline",N)}},[]);const k=({id:S,label:j,icon:N,activeColor:E})=>{const D=n===S;return m.jsxs("button",{onClick:()=>a(S),className:`
                    relative group flex items-center gap-2 px-4 py-2 rounded-full text-sm font-bold transition-all duration-300
                    ${D?"bg-white text-slate-900 shadow-md ring-1 ring-black/5 dark:bg-slate-700 dark:text-white dark:ring-white/10":"text-slate-500 hover:text-slate-800 hover:bg-slate-100/50 dark:text-slate-400 dark:hover:text-slate-200 dark:hover:bg-slate-800/50"}
                `,children:[m.jsx(N,{className:`w-4 h-4 transition-transform duration-300 ${D?"scale-110 "+E:"group-hover:scale-110 opacity-70 group-hover:opacity-100"}`}),m.jsx("span",{children:j}),D&&m.jsx("span",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 w-1 h-1 rounded-full bg-slate-900 dark:bg-white opacity-20"})]})};return m.jsxs(m.Fragment,{children:[m.jsx(U8,{isOpen:d,onClose:()=>f(!1)}),m.jsx("header",{className:`
                sticky top-0 z-50 w-full transition-all duration-500 ease-in-out border-b
                ${y?"bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl border-slate-200/50 dark:border-slate-800/50 shadow-sm py-2":"bg-white dark:bg-slate-900 border-transparent py-4"}
            `,children:m.jsxs("div",{className:"max-w-[1920px] mx-auto px-6 flex justify-between items-center",children:[m.jsxs("div",{className:"flex items-center gap-4 w-[280px]",children:[m.jsxs("div",{className:`
                            relative h-11 w-11 rounded-2xl bg-gradient-to-tr from-slate-900 to-slate-800 dark:from-white dark:to-slate-200 
                            shadow-lg shadow-slate-900/20 dark:shadow-white/10
                            flex items-center justify-center overflow-hidden transition-transform hover:scale-105 duration-300
                            ${y?"ring-2 ring-white dark:ring-slate-800":""}
                        `,children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/10 to-transparent pointer-events-none"}),m.jsx("img",{src:yT,alt:"UBP",className:"h-[85%] w-[85%] object-contain drop-shadow-md z-10"})]}),m.jsxs("div",{className:"flex flex-col justify-center",children:[m.jsxs("h1",{className:"text-xl font-black tracking-tighter text-slate-900 dark:text-white leading-none font-display",children:["UBP ",m.jsx("span",{className:"text-slate-400 font-medium",children:"Scheduler"})]}),m.jsx("div",{className:"flex items-center gap-2 mt-0.5",children:m.jsx("span",{className:"px-2 py-0.5 rounded text-[9px] font-bold bg-gradient-to-r from-amber-500 to-orange-600 text-white shadow-sm tracking-wide uppercase",children:"Co-Packer Edition"})})]})]}),s&&m.jsxs("nav",{className:`
                            hidden lg:flex items-center p-1.5 rounded-full transition-all duration-300
                            ${y?"bg-slate-100/80 dark:bg-slate-800/80 backdrop-blur-md shadow-inner border border-white/20 dark:border-slate-700/50":"bg-slate-50 dark:bg-slate-800/30"}
                        `,children:[w&&m.jsx(k,{id:"plan",label:"Plan",icon:Oy,activeColor:"text-blue-500"}),w&&m.jsx(k,{id:"schedule",label:"Schedule",icon:WA,activeColor:"text-purple-500"}),w&&m.jsx("div",{className:"w-px h-4 bg-slate-300 dark:bg-slate-700 mx-2 opacity-50"}),m.jsx(k,{id:"operations",label:"Operations",icon:XA,activeColor:"text-emerald-500"})]}),m.jsxs("div",{className:"flex items-center justify-end gap-5 w-[280px]",children:[s&&m.jsx("div",{className:"flex items-center gap-3",children:m.jsxs("div",{className:`
                                    flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-bold transition-colors
                                    ${t?"bg-blue-50 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400":r?"bg-rose-50 text-rose-600 dark:bg-rose-900/30 dark:text-rose-400":p?"bg-emerald-50 text-emerald-600 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-slate-100 text-slate-500 dark:bg-slate-800 dark:text-slate-400"}
                                `,title:r||(p?"Online & Synced":"Offline"),children:[m.jsx(z6,{className:`h-3.5 w-3.5 ${t?"animate-bounce":""}`}),m.jsx("span",{className:"hidden xl:inline",children:t?"Saving...":r?"Error":"Synced"})]})}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:()=>window.print(),className:"p-2 text-slate-400 hover:text-slate-700 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-all",title:"Print View",children:m.jsx(rI,{className:"h-5 w-5"})}),m.jsx("button",{onClick:e,className:"p-2 text-slate-400 hover:text-slate-700 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-all group",title:"Settings",children:m.jsx(B6,{className:"h-5 w-5 group-hover:rotate-180 transition-transform duration-700"})})]}),s?m.jsx("div",{className:"flex items-center pl-5 border-l border-slate-200 dark:border-slate-800",children:m.jsxs("button",{onClick:u,className:"flex items-center gap-3 group pl-2",title:"Click to Sign Out",children:[m.jsxs("div",{className:"text-right hidden xl:block",children:[m.jsx("div",{className:"text-xs font-bold text-slate-700 dark:text-slate-200 group-hover:text-rose-500 transition-colors",children:s.email?.split("@")[0]}),m.jsx("div",{className:"text-[10px] font-medium text-slate-400 uppercase tracking-widest group-hover:text-rose-400 transition-colors",children:l||"User"})]}),m.jsx("div",{className:"h-9 w-9 rounded-full bg-gradient-to-tr from-indigo-500 to-purple-600 shadow-md ring-2 ring-white dark:ring-slate-900 flex items-center justify-center text-xs font-bold text-white group-hover:ring-rose-500 transition-all",children:s.email?.[0].toUpperCase()}),m.jsx(E6,{className:"w-4 h-4 text-slate-400 group-hover:text-rose-500 transition-colors xl:hidden"})]})}):m.jsx("button",{onClick:()=>f(!0),className:"px-5 py-2 rounded-full bg-slate-900 text-white text-sm font-bold shadow-lg hover:shadow-xl hover:-translate-y-0.5 transition-all dark:bg-white dark:text-slate-900",children:"Sign In"})]})]})})]})}const xf=async(e,t,r={})=>{const{data:n,error:a}=await Ne.from("products").select("id").eq("user_id",e).eq("name",t).order("created_at",{ascending:!0}).limit(1).maybeSingle();if(a)throw a;if(n)return n.id;const{data:s,error:l}=await Ne.from("products").insert({user_id:e,name:t,bottles_per_case:r.bottles_per_case||12,bottles_per_truck:r.bottles_per_truck||2e4,cases_per_pallet:r.cases_per_pallet||100}).select("id").single();if(l)throw console.error("Error creating product:",l),l;return s.id},q8=async(e,t)=>{const{data:r,error:n}=await Ne.from("products").select("*").eq("user_id",e).eq("name",t).order("created_at",{ascending:!0}).limit(1).maybeSingle();if(n)throw n;return r},H8=async e=>{const{data:t,error:r}=await Ne.from("products").select("*").eq("user_id",e);if(r)throw r;return t||[]},F8=async e=>{const{error:t}=await Ne.from("products").delete().eq("id",e);if(t)throw t};function he(e,t,r){function n(u,d){if(u._zod||Object.defineProperty(u,"_zod",{value:{def:d,constr:l,traits:new Set},enumerable:!1}),u._zod.traits.has(e))return;u._zod.traits.add(e),t(u,d);const f=l.prototype,p=Object.keys(f);for(let g=0;g<p.length;g++){const y=p[g];y in u||(u[y]=f[y].bind(u))}}const a=r?.Parent??Object;class s extends a{}Object.defineProperty(s,"name",{value:e});function l(u){var d;const f=r?.Parent?new s:this;n(f,u),(d=f._zod).deferred??(d.deferred=[]);for(const p of f._zod.deferred)p();return f}return Object.defineProperty(l,"init",{value:n}),Object.defineProperty(l,Symbol.hasInstance,{value:u=>r?.Parent&&u instanceof r.Parent?!0:u?._zod?.traits?.has(e)}),Object.defineProperty(l,"name",{value:e}),l}class ll extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class bT extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const xT={};function qs(e){return xT}function wT(e){const t=Object.values(e).filter(n=>typeof n=="number");return Object.entries(e).filter(([n,a])=>t.indexOf(+n)===-1).map(([n,a])=>a)}function Ky(e,t){return typeof t=="bigint"?t.toString():t}function vx(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function yx(e){return e==null}function bx(e){const t=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}function V8(e,t){const r=(e.toString().split(".")[1]||"").length,n=t.toString();let a=(n.split(".")[1]||"").length;if(a===0&&/\d?e-\d?/.test(n)){const d=n.match(/\d?e-(\d?)/);d?.[1]&&(a=Number.parseInt(d[1]))}const s=r>a?r:a,l=Number.parseInt(e.toFixed(s).replace(".","")),u=Number.parseInt(t.toFixed(s).replace(".",""));return l%u/10**s}const G2=Symbol("evaluating");function ut(e,t,r){let n;Object.defineProperty(e,t,{get(){if(n!==G2)return n===void 0&&(n=G2,n=r()),n},set(a){Object.defineProperty(e,t,{value:a})},configurable:!0})}function Qs(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function eo(...e){const t={};for(const r of e){const n=Object.getOwnPropertyDescriptors(r);Object.assign(t,n)}return Object.defineProperties({},t)}function Y2(e){return JSON.stringify(e)}function K8(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const _T="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function hh(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const Z8=vx(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function nu(e){if(hh(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const r=t.prototype;return!(hh(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function ST(e){return nu(e)?{...e}:Array.isArray(e)?[...e]:e}const G8=new Set(["string","number","symbol"]);function p0(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ji(e,t,r){const n=new e._zod.constr(t??e._zod.def);return(!t||r?.parent)&&(n._zod.parent=e),n}function De(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function Y8(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const W8={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function X8(e,t){const r=e._zod.def,n=eo(e._zod.def,{get shape(){const a={};for(const s in t){if(!(s in r.shape))throw new Error(`Unrecognized key: "${s}"`);t[s]&&(a[s]=r.shape[s])}return Qs(this,"shape",a),a},checks:[]});return Ji(e,n)}function J8(e,t){const r=e._zod.def,n=eo(e._zod.def,{get shape(){const a={...e._zod.def.shape};for(const s in t){if(!(s in r.shape))throw new Error(`Unrecognized key: "${s}"`);t[s]&&delete a[s]}return Qs(this,"shape",a),a},checks:[]});return Ji(e,n)}function Q8(e,t){if(!nu(t))throw new Error("Invalid input to extend: expected a plain object");const r=e._zod.def.checks;if(r&&r.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const a=eo(e._zod.def,{get shape(){const s={...e._zod.def.shape,...t};return Qs(this,"shape",s),s},checks:[]});return Ji(e,a)}function ez(e,t){if(!nu(t))throw new Error("Invalid input to safeExtend: expected a plain object");const r={...e._zod.def,get shape(){const n={...e._zod.def.shape,...t};return Qs(this,"shape",n),n},checks:e._zod.def.checks};return Ji(e,r)}function tz(e,t){const r=eo(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return Qs(this,"shape",n),n},get catchall(){return t._zod.def.catchall},checks:[]});return Ji(e,r)}function rz(e,t,r){const n=eo(t._zod.def,{get shape(){const a=t._zod.def.shape,s={...a};if(r)for(const l in r){if(!(l in a))throw new Error(`Unrecognized key: "${l}"`);r[l]&&(s[l]=e?new e({type:"optional",innerType:a[l]}):a[l])}else for(const l in a)s[l]=e?new e({type:"optional",innerType:a[l]}):a[l];return Qs(this,"shape",s),s},checks:[]});return Ji(t,n)}function nz(e,t,r){const n=eo(t._zod.def,{get shape(){const a=t._zod.def.shape,s={...a};if(r)for(const l in r){if(!(l in s))throw new Error(`Unrecognized key: "${l}"`);r[l]&&(s[l]=new e({type:"nonoptional",innerType:a[l]}))}else for(const l in a)s[l]=new e({type:"nonoptional",innerType:a[l]});return Qs(this,"shape",s),s},checks:[]});return Ji(t,n)}function rl(e,t=0){if(e.aborted===!0)return!0;for(let r=t;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}function kT(e,t){return t.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(e),r})}function wf(e){return typeof e=="string"?e:e?.message}function Hs(e,t,r){const n={...e,path:e.path??[]};if(!e.message){const a=wf(e.inst?._zod.def?.error?.(e))??wf(t?.error?.(e))??wf(r.customError?.(e))??wf(r.localeError?.(e))??"Invalid input";n.message=a}return delete n.inst,delete n.continue,t?.reportInput||delete n.input,n}function xx(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function au(...e){const[t,r,n]=e;return typeof t=="string"?{message:t,code:"custom",input:r,inst:n}:{...t}}const jT=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,Ky,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},ET=he("$ZodError",jT),NT=he("$ZodError",jT,{Parent:Error});function az(e,t=r=>r.message){const r={},n=[];for(const a of e.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(t(a))):n.push(t(a));return{formErrors:n,fieldErrors:r}}function iz(e,t=r=>r.message){const r={_errors:[]},n=a=>{for(const s of a.issues)if(s.code==="invalid_union"&&s.errors.length)s.errors.map(l=>n({issues:l}));else if(s.code==="invalid_key")n({issues:s.issues});else if(s.code==="invalid_element")n({issues:s.issues});else if(s.path.length===0)r._errors.push(t(s));else{let l=r,u=0;for(;u<s.path.length;){const d=s.path[u];u===s.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(t(s))):l[d]=l[d]||{_errors:[]},l=l[d],u++}}};return n(e),r}const wx=e=>(t,r,n,a)=>{const s=n?Object.assign(n,{async:!1}):{async:!1},l=t._zod.run({value:r,issues:[]},s);if(l instanceof Promise)throw new ll;if(l.issues.length){const u=new(a?.Err??e)(l.issues.map(d=>Hs(d,s,qs())));throw _T(u,a?.callee),u}return l.value},_x=e=>async(t,r,n,a)=>{const s=n?Object.assign(n,{async:!0}):{async:!0};let l=t._zod.run({value:r,issues:[]},s);if(l instanceof Promise&&(l=await l),l.issues.length){const u=new(a?.Err??e)(l.issues.map(d=>Hs(d,s,qs())));throw _T(u,a?.callee),u}return l.value},g0=e=>(t,r,n)=>{const a=n?{...n,async:!1}:{async:!1},s=t._zod.run({value:r,issues:[]},a);if(s instanceof Promise)throw new ll;return s.issues.length?{success:!1,error:new(e??ET)(s.issues.map(l=>Hs(l,a,qs())))}:{success:!0,data:s.value}},sz=g0(NT),v0=e=>async(t,r,n)=>{const a=n?Object.assign(n,{async:!0}):{async:!0};let s=t._zod.run({value:r,issues:[]},a);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new e(s.issues.map(l=>Hs(l,a,qs())))}:{success:!0,data:s.value}},oz=v0(NT),lz=e=>(t,r,n)=>{const a=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return wx(e)(t,r,a)},cz=e=>(t,r,n)=>wx(e)(t,r,n),uz=e=>async(t,r,n)=>{const a=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return _x(e)(t,r,a)},dz=e=>async(t,r,n)=>_x(e)(t,r,n),fz=e=>(t,r,n)=>{const a=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return g0(e)(t,r,a)},hz=e=>(t,r,n)=>g0(e)(t,r,n),mz=e=>async(t,r,n)=>{const a=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return v0(e)(t,r,a)},pz=e=>async(t,r,n)=>v0(e)(t,r,n),gz=/^[cC][^\s-]{8,}$/,vz=/^[0-9a-z]+$/,yz=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,bz=/^[0-9a-vA-V]{20}$/,xz=/^[A-Za-z0-9]{27}$/,wz=/^[a-zA-Z0-9_-]{21}$/,_z=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,Sz=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,W2=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,kz=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,jz="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function Ez(){return new RegExp(jz,"u")}const Nz=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Oz=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,Az=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,Tz=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Cz=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,OT=/^[A-Za-z0-9_-]*$/,Pz=/^\+(?:[0-9]){6,14}[0-9]$/,AT="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",Dz=new RegExp(`^${AT}$`);function TT(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function Rz(e){return new RegExp(`^${TT(e)}$`)}function Mz(e){const t=TT({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const n=`${t}(?:${r.join("|")})`;return new RegExp(`^${AT}T(?:${n})$`)}const $z=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},Iz=/^-?\d+$/,Lz=/^-?\d+(?:\.\d+)?/,zz=/^(?:true|false)$/i,Uz=/^[^A-Z]*$/,Bz=/^[^a-z]*$/,Jr=he("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),CT={number:"number",bigint:"bigint",object:"date"},PT=he("$ZodCheckLessThan",(e,t)=>{Jr.init(e,t);const r=CT[typeof t.value];e._zod.onattach.push(n=>{const a=n._zod.bag,s=(t.inclusive?a.maximum:a.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<s&&(t.inclusive?a.maximum=t.value:a.exclusiveMaximum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value<=t.value:n.value<t.value)||n.issues.push({origin:r,code:"too_big",maximum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),DT=he("$ZodCheckGreaterThan",(e,t)=>{Jr.init(e,t);const r=CT[typeof t.value];e._zod.onattach.push(n=>{const a=n._zod.bag,s=(t.inclusive?a.minimum:a.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>s&&(t.inclusive?a.minimum=t.value:a.exclusiveMinimum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value>=t.value:n.value>t.value)||n.issues.push({origin:r,code:"too_small",minimum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),qz=he("$ZodCheckMultipleOf",(e,t)=>{Jr.init(e,t),e._zod.onattach.push(r=>{var n;(n=r._zod.bag).multipleOf??(n.multipleOf=t.value)}),e._zod.check=r=>{if(typeof r.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%t.value===BigInt(0):V8(r.value,t.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:e,continue:!t.abort})}}),Hz=he("$ZodCheckNumberFormat",(e,t)=>{Jr.init(e,t),t.format=t.format||"float64";const r=t.format?.includes("int"),n=r?"int":"number",[a,s]=W8[t.format];e._zod.onattach.push(l=>{const u=l._zod.bag;u.format=t.format,u.minimum=a,u.maximum=s,r&&(u.pattern=Iz)}),e._zod.check=l=>{const u=l.value;if(r){if(!Number.isInteger(u)){l.issues.push({expected:n,format:t.format,code:"invalid_type",continue:!1,input:u,inst:e});return}if(!Number.isSafeInteger(u)){u>0?l.issues.push({input:u,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort}):l.issues.push({input:u,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort});return}}u<a&&l.issues.push({origin:"number",input:u,code:"too_small",minimum:a,inclusive:!0,inst:e,continue:!t.abort}),u>s&&l.issues.push({origin:"number",input:u,code:"too_big",maximum:s,inst:e})}}),Fz=he("$ZodCheckMaxLength",(e,t)=>{var r;Jr.init(e,t),(r=e._zod.def).when??(r.when=n=>{const a=n.value;return!yx(a)&&a.length!==void 0}),e._zod.onattach.push(n=>{const a=n._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<a&&(n._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{const a=n.value;if(a.length<=t.maximum)return;const l=xx(a);n.issues.push({origin:l,code:"too_big",maximum:t.maximum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),Vz=he("$ZodCheckMinLength",(e,t)=>{var r;Jr.init(e,t),(r=e._zod.def).when??(r.when=n=>{const a=n.value;return!yx(a)&&a.length!==void 0}),e._zod.onattach.push(n=>{const a=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>a&&(n._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{const a=n.value;if(a.length>=t.minimum)return;const l=xx(a);n.issues.push({origin:l,code:"too_small",minimum:t.minimum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),Kz=he("$ZodCheckLengthEquals",(e,t)=>{var r;Jr.init(e,t),(r=e._zod.def).when??(r.when=n=>{const a=n.value;return!yx(a)&&a.length!==void 0}),e._zod.onattach.push(n=>{const a=n._zod.bag;a.minimum=t.length,a.maximum=t.length,a.length=t.length}),e._zod.check=n=>{const a=n.value,s=a.length;if(s===t.length)return;const l=xx(a),u=s>t.length;n.issues.push({origin:l,...u?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),y0=he("$ZodCheckStringFormat",(e,t)=>{var r,n;Jr.init(e,t),e._zod.onattach.push(a=>{const s=a._zod.bag;s.format=t.format,t.pattern&&(s.patterns??(s.patterns=new Set),s.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=a=>{t.pattern.lastIndex=0,!t.pattern.test(a.value)&&a.issues.push({origin:"string",code:"invalid_format",format:t.format,input:a.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(n=e._zod).check??(n.check=()=>{})}),Zz=he("$ZodCheckRegex",(e,t)=>{y0.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),Gz=he("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=Uz),y0.init(e,t)}),Yz=he("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=Bz),y0.init(e,t)}),Wz=he("$ZodCheckIncludes",(e,t)=>{Jr.init(e,t);const r=p0(t.includes),n=new RegExp(typeof t.position=="number"?`^.{${t.position}}${r}`:r);t.pattern=n,e._zod.onattach.push(a=>{const s=a._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),e._zod.check=a=>{a.value.includes(t.includes,t.position)||a.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:a.value,inst:e,continue:!t.abort})}}),Xz=he("$ZodCheckStartsWith",(e,t)=>{Jr.init(e,t);const r=new RegExp(`^${p0(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const a=n._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(r)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),Jz=he("$ZodCheckEndsWith",(e,t)=>{Jr.init(e,t);const r=new RegExp(`.*${p0(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const a=n._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(r)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}}),Qz=he("$ZodCheckOverwrite",(e,t)=>{Jr.init(e,t),e._zod.check=r=>{r.value=t.tx(r.value)}});class e7{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const n=t.split(`
`).filter(l=>l),a=Math.min(...n.map(l=>l.length-l.trimStart().length)),s=n.map(l=>l.slice(a)).map(l=>" ".repeat(this.indent*2)+l);for(const l of s)this.content.push(l)}compile(){const t=Function,r=this?.args,a=[...(this?.content??[""]).map(s=>`  ${s}`)];return new t(...r,a.join(`
`))}}const t7={major:4,minor:2,patch:1},Tt=he("$ZodType",(e,t)=>{var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=t7;const n=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&n.unshift(e);for(const a of n)for(const s of a._zod.onattach)s(e);if(n.length===0)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const a=(l,u,d)=>{let f=rl(l),p;for(const g of u){if(g._zod.def.when){if(!g._zod.def.when(l))continue}else if(f)continue;const y=l.issues.length,v=g._zod.check(l);if(v instanceof Promise&&d?.async===!1)throw new ll;if(p||v instanceof Promise)p=(p??Promise.resolve()).then(async()=>{await v,l.issues.length!==y&&(f||(f=rl(l,y)))});else{if(l.issues.length===y)continue;f||(f=rl(l,y))}}return p?p.then(()=>l):l},s=(l,u,d)=>{if(rl(l))return l.aborted=!0,l;const f=a(u,n,d);if(f instanceof Promise){if(d.async===!1)throw new ll;return f.then(p=>e._zod.parse(p,d))}return e._zod.parse(f,d)};e._zod.run=(l,u)=>{if(u.skipChecks)return e._zod.parse(l,u);if(u.direction==="backward"){const f=e._zod.parse({value:l.value,issues:[]},{...u,skipChecks:!0});return f instanceof Promise?f.then(p=>s(p,l,u)):s(f,l,u)}const d=e._zod.parse(l,u);if(d instanceof Promise){if(u.async===!1)throw new ll;return d.then(f=>a(f,n,u))}return a(d,n,u)}}e["~standard"]={validate:a=>{try{const s=sz(e,a);return s.success?{value:s.data}:{issues:s.error?.issues}}catch{return oz(e,a).then(l=>l.success?{value:l.data}:{issues:l.error?.issues})}},vendor:"zod",version:1}}),Sx=he("$ZodString",(e,t)=>{Tt.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??$z(e._zod.bag),e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),_t=he("$ZodStringFormat",(e,t)=>{y0.init(e,t),Sx.init(e,t)}),r7=he("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=Sz),_t.init(e,t)}),n7=he("$ZodUUID",(e,t)=>{if(t.version){const n={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(n===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=W2(n))}else t.pattern??(t.pattern=W2());_t.init(e,t)}),a7=he("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=kz),_t.init(e,t)}),i7=he("$ZodURL",(e,t)=>{_t.init(e,t),e._zod.check=r=>{try{const n=r.value.trim(),a=new URL(n);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(a.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(a.protocol.endsWith(":")?a.protocol.slice(0,-1):a.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),t.normalize?r.value=a.href:r.value=n;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),s7=he("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=Ez()),_t.init(e,t)}),o7=he("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=wz),_t.init(e,t)}),l7=he("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=gz),_t.init(e,t)}),c7=he("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=vz),_t.init(e,t)}),u7=he("$ZodULID",(e,t)=>{t.pattern??(t.pattern=yz),_t.init(e,t)}),d7=he("$ZodXID",(e,t)=>{t.pattern??(t.pattern=bz),_t.init(e,t)}),f7=he("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=xz),_t.init(e,t)}),h7=he("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=Mz(t)),_t.init(e,t)}),m7=he("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=Dz),_t.init(e,t)}),p7=he("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=Rz(t)),_t.init(e,t)}),g7=he("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=_z),_t.init(e,t)}),v7=he("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=Nz),_t.init(e,t),e._zod.bag.format="ipv4"}),y7=he("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=Oz),_t.init(e,t),e._zod.bag.format="ipv6",e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),b7=he("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=Az),_t.init(e,t)}),x7=he("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=Tz),_t.init(e,t),e._zod.check=r=>{const n=r.value.split("/");try{if(n.length!==2)throw new Error;const[a,s]=n;if(!s)throw new Error;const l=Number(s);if(`${l}`!==s)throw new Error;if(l<0||l>128)throw new Error;new URL(`http://[${a}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function RT(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const w7=he("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=Cz),_t.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=r=>{RT(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function _7(e){if(!OT.test(e))return!1;const t=e.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=t.padEnd(Math.ceil(t.length/4)*4,"=");return RT(r)}const S7=he("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=OT),_t.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=r=>{_7(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),k7=he("$ZodE164",(e,t)=>{t.pattern??(t.pattern=Pz),_t.init(e,t)});function j7(e,t=null){try{const r=e.split(".");if(r.length!==3)return!1;const[n]=r;if(!n)return!1;const a=JSON.parse(atob(n));return!("typ"in a&&a?.typ!=="JWT"||!a.alg||t&&(!("alg"in a)||a.alg!==t))}catch{return!1}}const E7=he("$ZodJWT",(e,t)=>{_t.init(e,t),e._zod.check=r=>{j7(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),MT=he("$ZodNumber",(e,t)=>{Tt.init(e,t),e._zod.pattern=e._zod.bag.pattern??Lz,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=Number(r.value)}catch{}const a=r.value;if(typeof a=="number"&&!Number.isNaN(a)&&Number.isFinite(a))return r;const s=typeof a=="number"?Number.isNaN(a)?"NaN":Number.isFinite(a)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:a,inst:e,...s?{received:s}:{}}),r}}),N7=he("$ZodNumberFormat",(e,t)=>{Hz.init(e,t),MT.init(e,t)}),O7=he("$ZodBoolean",(e,t)=>{Tt.init(e,t),e._zod.pattern=zz,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=!!r.value}catch{}const a=r.value;return typeof a=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:a,inst:e}),r}}),A7=he("$ZodAny",(e,t)=>{Tt.init(e,t),e._zod.parse=r=>r}),T7=he("$ZodUnknown",(e,t)=>{Tt.init(e,t),e._zod.parse=r=>r}),C7=he("$ZodNever",(e,t)=>{Tt.init(e,t),e._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)});function X2(e,t,r){e.issues.length&&t.issues.push(...kT(r,e.issues)),t.value[r]=e.value}const P7=he("$ZodArray",(e,t)=>{Tt.init(e,t),e._zod.parse=(r,n)=>{const a=r.value;if(!Array.isArray(a))return r.issues.push({expected:"array",code:"invalid_type",input:a,inst:e}),r;r.value=Array(a.length);const s=[];for(let l=0;l<a.length;l++){const u=a[l],d=t.element._zod.run({value:u,issues:[]},n);d instanceof Promise?s.push(d.then(f=>X2(f,r,l))):X2(d,r,l)}return s.length?Promise.all(s).then(()=>r):r}});function mh(e,t,r,n){e.issues.length&&t.issues.push(...kT(r,e.issues)),e.value===void 0?r in n&&(t.value[r]=void 0):t.value[r]=e.value}function $T(e){const t=Object.keys(e.shape);for(const n of t)if(!e.shape?.[n]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${n}": expected a Zod schema`);const r=Y8(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(r)}}function IT(e,t,r,n,a,s){const l=[],u=a.keySet,d=a.catchall._zod,f=d.def.type;for(const p in t){if(u.has(p))continue;if(f==="never"){l.push(p);continue}const g=d.run({value:t[p],issues:[]},n);g instanceof Promise?e.push(g.then(y=>mh(y,r,p,t))):mh(g,r,p,t)}return l.length&&r.issues.push({code:"unrecognized_keys",keys:l,input:t,inst:s}),e.length?Promise.all(e).then(()=>r):r}const D7=he("$ZodObject",(e,t)=>{if(Tt.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){const u=t.shape;Object.defineProperty(t,"shape",{get:()=>{const d={...u};return Object.defineProperty(t,"shape",{value:d}),d}})}const n=vx(()=>$T(t));ut(e._zod,"propValues",()=>{const u=t.shape,d={};for(const f in u){const p=u[f]._zod;if(p.values){d[f]??(d[f]=new Set);for(const g of p.values)d[f].add(g)}}return d});const a=hh,s=t.catchall;let l;e._zod.parse=(u,d)=>{l??(l=n.value);const f=u.value;if(!a(f))return u.issues.push({expected:"object",code:"invalid_type",input:f,inst:e}),u;u.value={};const p=[],g=l.shape;for(const y of l.keys){const w=g[y]._zod.run({value:f[y],issues:[]},d);w instanceof Promise?p.push(w.then(k=>mh(k,u,y,f))):mh(w,u,y,f)}return s?IT(p,f,u,d,n.value,e):p.length?Promise.all(p).then(()=>u):u}}),R7=he("$ZodObjectJIT",(e,t)=>{D7.init(e,t);const r=e._zod.parse,n=vx(()=>$T(t)),a=y=>{const v=new e7(["shape","payload","ctx"]),w=n.value,k=E=>{const D=Y2(E);return`shape[${D}]._zod.run({ value: input[${D}], issues: [] }, ctx)`};v.write("const input = payload.value;");const S=Object.create(null);let j=0;for(const E of w.keys)S[E]=`key_${j++}`;v.write("const newResult = {};");for(const E of w.keys){const D=S[E],O=Y2(E);v.write(`const ${D} = ${k(E)};`),v.write(`
        if (${D}.issues.length) {
          payload.issues = payload.issues.concat(${D}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${O}, ...iss.path] : [${O}]
          })));
        }
        
        
        if (${D}.value === undefined) {
          if (${O} in input) {
            newResult[${O}] = undefined;
          }
        } else {
          newResult[${O}] = ${D}.value;
        }
        
      `)}v.write("payload.value = newResult;"),v.write("return payload;");const N=v.compile();return(E,D)=>N(y,E,D)};let s;const l=hh,u=!xT.jitless,f=u&&Z8.value,p=t.catchall;let g;e._zod.parse=(y,v)=>{g??(g=n.value);const w=y.value;return l(w)?u&&f&&v?.async===!1&&v.jitless!==!0?(s||(s=a(t.shape)),y=s(y,v),p?IT([],w,y,v,g,e):y):r(y,v):(y.issues.push({expected:"object",code:"invalid_type",input:w,inst:e}),y)}});function J2(e,t,r,n){for(const s of e)if(s.issues.length===0)return t.value=s.value,t;const a=e.filter(s=>!rl(s));return a.length===1?(t.value=a[0].value,a[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(s=>s.issues.map(l=>Hs(l,n,qs())))}),t)}const M7=he("$ZodUnion",(e,t)=>{Tt.init(e,t),ut(e._zod,"optin",()=>t.options.some(a=>a._zod.optin==="optional")?"optional":void 0),ut(e._zod,"optout",()=>t.options.some(a=>a._zod.optout==="optional")?"optional":void 0),ut(e._zod,"values",()=>{if(t.options.every(a=>a._zod.values))return new Set(t.options.flatMap(a=>Array.from(a._zod.values)))}),ut(e._zod,"pattern",()=>{if(t.options.every(a=>a._zod.pattern)){const a=t.options.map(s=>s._zod.pattern);return new RegExp(`^(${a.map(s=>bx(s.source)).join("|")})$`)}});const r=t.options.length===1,n=t.options[0]._zod.run;e._zod.parse=(a,s)=>{if(r)return n(a,s);let l=!1;const u=[];for(const d of t.options){const f=d._zod.run({value:a.value,issues:[]},s);if(f instanceof Promise)u.push(f),l=!0;else{if(f.issues.length===0)return f;u.push(f)}}return l?Promise.all(u).then(d=>J2(d,a,e,s)):J2(u,a,e,s)}}),$7=he("$ZodIntersection",(e,t)=>{Tt.init(e,t),e._zod.parse=(r,n)=>{const a=r.value,s=t.left._zod.run({value:a,issues:[]},n),l=t.right._zod.run({value:a,issues:[]},n);return s instanceof Promise||l instanceof Promise?Promise.all([s,l]).then(([d,f])=>Q2(r,d,f)):Q2(r,s,l)}});function Zy(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(nu(e)&&nu(t)){const r=Object.keys(t),n=Object.keys(e).filter(s=>r.indexOf(s)!==-1),a={...e,...t};for(const s of n){const l=Zy(e[s],t[s]);if(!l.valid)return{valid:!1,mergeErrorPath:[s,...l.mergeErrorPath]};a[s]=l.data}return{valid:!0,data:a}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let n=0;n<e.length;n++){const a=e[n],s=t[n],l=Zy(a,s);if(!l.valid)return{valid:!1,mergeErrorPath:[n,...l.mergeErrorPath]};r.push(l.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function Q2(e,t,r){if(t.issues.length&&e.issues.push(...t.issues),r.issues.length&&e.issues.push(...r.issues),rl(e))return e;const n=Zy(t.value,r.value);if(!n.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(n.mergeErrorPath)}`);return e.value=n.data,e}const I7=he("$ZodEnum",(e,t)=>{Tt.init(e,t);const r=wT(t.entries),n=new Set(r);e._zod.values=n,e._zod.pattern=new RegExp(`^(${r.filter(a=>G8.has(typeof a)).map(a=>typeof a=="string"?p0(a):a.toString()).join("|")})$`),e._zod.parse=(a,s)=>{const l=a.value;return n.has(l)||a.issues.push({code:"invalid_value",values:r,input:l,inst:e}),a}}),L7=he("$ZodTransform",(e,t)=>{Tt.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new bT(e.constructor.name);const a=t.transform(r.value,r);if(n.async)return(a instanceof Promise?a:Promise.resolve(a)).then(l=>(r.value=l,r));if(a instanceof Promise)throw new ll;return r.value=a,r}});function ej(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const z7=he("$ZodOptional",(e,t)=>{Tt.init(e,t),e._zod.optin="optional",e._zod.optout="optional",ut(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),ut(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${bx(r.source)})?$`):void 0}),e._zod.parse=(r,n)=>{if(t.innerType._zod.optin==="optional"){const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(s=>ej(s,r.value)):ej(a,r.value)}return r.value===void 0?r:t.innerType._zod.run(r,n)}}),U7=he("$ZodNullable",(e,t)=>{Tt.init(e,t),ut(e._zod,"optin",()=>t.innerType._zod.optin),ut(e._zod,"optout",()=>t.innerType._zod.optout),ut(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${bx(r.source)}|null)$`):void 0}),ut(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(r,n)=>r.value===null?r:t.innerType._zod.run(r,n)}),B7=he("$ZodDefault",(e,t)=>{Tt.init(e,t),e._zod.optin="optional",ut(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);if(r.value===void 0)return r.value=t.defaultValue,r;const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(s=>tj(s,t)):tj(a,t)}});function tj(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const q7=he("$ZodPrefault",(e,t)=>{Tt.init(e,t),e._zod.optin="optional",ut(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>(n.direction==="backward"||r.value===void 0&&(r.value=t.defaultValue),t.innerType._zod.run(r,n))}),H7=he("$ZodNonOptional",(e,t)=>{Tt.init(e,t),ut(e._zod,"values",()=>{const r=t.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),e._zod.parse=(r,n)=>{const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(s=>rj(s,e)):rj(a,e)}});function rj(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const F7=he("$ZodCatch",(e,t)=>{Tt.init(e,t),ut(e._zod,"optin",()=>t.innerType._zod.optin),ut(e._zod,"optout",()=>t.innerType._zod.optout),ut(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(s=>(r.value=s.value,s.issues.length&&(r.value=t.catchValue({...r,error:{issues:s.issues.map(l=>Hs(l,n,qs()))},input:r.value}),r.issues=[]),r)):(r.value=a.value,a.issues.length&&(r.value=t.catchValue({...r,error:{issues:a.issues.map(s=>Hs(s,n,qs()))},input:r.value}),r.issues=[]),r)}}),V7=he("$ZodPipe",(e,t)=>{Tt.init(e,t),ut(e._zod,"values",()=>t.in._zod.values),ut(e._zod,"optin",()=>t.in._zod.optin),ut(e._zod,"optout",()=>t.out._zod.optout),ut(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(r,n)=>{if(n.direction==="backward"){const s=t.out._zod.run(r,n);return s instanceof Promise?s.then(l=>_f(l,t.in,n)):_f(s,t.in,n)}const a=t.in._zod.run(r,n);return a instanceof Promise?a.then(s=>_f(s,t.out,n)):_f(a,t.out,n)}});function _f(e,t,r){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},r)}const K7=he("$ZodReadonly",(e,t)=>{Tt.init(e,t),ut(e._zod,"propValues",()=>t.innerType._zod.propValues),ut(e._zod,"values",()=>t.innerType._zod.values),ut(e._zod,"optin",()=>t.innerType?._zod?.optin),ut(e._zod,"optout",()=>t.innerType?._zod?.optout),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(nj):nj(a)}});function nj(e){return e.value=Object.freeze(e.value),e}const Z7=he("$ZodCustom",(e,t)=>{Jr.init(e,t),Tt.init(e,t),e._zod.parse=(r,n)=>r,e._zod.check=r=>{const n=r.value,a=t.fn(n);if(a instanceof Promise)return a.then(s=>aj(s,r,n,e));aj(a,r,n,e)}});function aj(e,t,r,n){if(!e){const a={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(a.params=n._zod.def.params),t.issues.push(au(a))}}var ij;class G7{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...r){const n=r[0];if(this._map.set(t,n),n&&typeof n=="object"&&"id"in n){if(this._idmap.has(n.id))throw new Error(`ID ${n.id} already exists in the registry`);this._idmap.set(n.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const r=this._map.get(t);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(t),this}get(t){const r=t._zod.parent;if(r){const n={...this.get(r)??{}};delete n.id;const a={...n,...this._map.get(t)};return Object.keys(a).length?a:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function Y7(){return new G7}(ij=globalThis).__zod_globalRegistry??(ij.__zod_globalRegistry=Y7());const Hc=globalThis.__zod_globalRegistry;function W7(e,t){return new e({type:"string",...De(t)})}function X7(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...De(t)})}function sj(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...De(t)})}function J7(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...De(t)})}function Q7(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...De(t)})}function eU(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...De(t)})}function tU(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...De(t)})}function rU(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...De(t)})}function nU(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...De(t)})}function aU(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...De(t)})}function iU(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...De(t)})}function sU(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...De(t)})}function oU(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...De(t)})}function lU(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...De(t)})}function cU(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...De(t)})}function uU(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...De(t)})}function dU(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...De(t)})}function fU(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...De(t)})}function hU(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...De(t)})}function mU(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...De(t)})}function pU(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...De(t)})}function gU(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...De(t)})}function vU(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...De(t)})}function yU(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...De(t)})}function bU(e,t){return new e({type:"string",format:"date",check:"string_format",...De(t)})}function xU(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...De(t)})}function wU(e,t){return new e({type:"string",format:"duration",check:"string_format",...De(t)})}function _U(e,t){return new e({type:"number",checks:[],...De(t)})}function SU(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...De(t)})}function kU(e,t){return new e({type:"boolean",...De(t)})}function jU(e){return new e({type:"any"})}function EU(e){return new e({type:"unknown"})}function NU(e,t){return new e({type:"never",...De(t)})}function oj(e,t){return new PT({check:"less_than",...De(t),value:e,inclusive:!1})}function Hg(e,t){return new PT({check:"less_than",...De(t),value:e,inclusive:!0})}function lj(e,t){return new DT({check:"greater_than",...De(t),value:e,inclusive:!1})}function Fg(e,t){return new DT({check:"greater_than",...De(t),value:e,inclusive:!0})}function cj(e,t){return new qz({check:"multiple_of",...De(t),value:e})}function LT(e,t){return new Fz({check:"max_length",...De(t),maximum:e})}function ph(e,t){return new Vz({check:"min_length",...De(t),minimum:e})}function zT(e,t){return new Kz({check:"length_equals",...De(t),length:e})}function OU(e,t){return new Zz({check:"string_format",format:"regex",...De(t),pattern:e})}function AU(e){return new Gz({check:"string_format",format:"lowercase",...De(e)})}function TU(e){return new Yz({check:"string_format",format:"uppercase",...De(e)})}function CU(e,t){return new Wz({check:"string_format",format:"includes",...De(t),includes:e})}function PU(e,t){return new Xz({check:"string_format",format:"starts_with",...De(t),prefix:e})}function DU(e,t){return new Jz({check:"string_format",format:"ends_with",...De(t),suffix:e})}function El(e){return new Qz({check:"overwrite",tx:e})}function RU(e){return El(t=>t.normalize(e))}function MU(){return El(e=>e.trim())}function $U(){return El(e=>e.toLowerCase())}function IU(){return El(e=>e.toUpperCase())}function LU(){return El(e=>K8(e))}function zU(e,t,r){return new e({type:"array",element:t,...De(r)})}function UU(e,t,r){return new e({type:"custom",check:"custom",fn:t,...De(r)})}function BU(e){const t=qU(r=>(r.addIssue=n=>{if(typeof n=="string")r.issues.push(au(n,r.value,t._zod.def));else{const a=n;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=r.value),a.inst??(a.inst=t),a.continue??(a.continue=!t._zod.def.abort),r.issues.push(au(a))}},e(r.value,r)));return t}function qU(e,t){const r=new Jr({check:"custom",...De(t)});return r._zod.check=e,r}function UT(e){let t=e?.target??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:e?.metadata??Hc,target:t,unrepresentable:e?.unrepresentable??"throw",override:e?.override??(()=>{}),io:e?.io??"output",counter:0,seen:new Map,cycles:e?.cycles??"ref",reused:e?.reused??"inline",external:e?.external??void 0}}function vr(e,t,r={path:[],schemaPath:[]}){var n;const a=e._zod.def,s=t.seen.get(e);if(s)return s.count++,r.schemaPath.includes(e)&&(s.cycle=r.path),s.schema;const l={schema:{},count:1,cycle:void 0,path:r.path};t.seen.set(e,l);const u=e._zod.toJSONSchema?.();if(u)l.schema=u;else{const p={...r,schemaPath:[...r.schemaPath,e],path:r.path},g=e._zod.parent;if(g)l.ref=g,vr(g,t,p),t.seen.get(g).isParent=!0;else if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,l.schema,p);else{const y=l.schema,v=t.processors[a.type];if(!v)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${a.type}`);v(e,t,y,p)}}const d=t.metadataRegistry.get(e);return d&&Object.assign(l.schema,d),t.io==="input"&&Pr(e)&&(delete l.schema.examples,delete l.schema.default),t.io==="input"&&l.schema._prefault&&((n=l.schema).default??(n.default=l.schema._prefault)),delete l.schema._prefault,t.seen.get(e).schema}function BT(e,t){const r=e.seen.get(t);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");const n=s=>{const l=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const p=e.external.registry.get(s[0])?.id,g=e.external.uri??(v=>v);if(p)return{ref:g(p)};const y=s[1].defId??s[1].schema.id??`schema${e.counter++}`;return s[1].defId=y,{defId:y,ref:`${g("__shared")}#/${l}/${y}`}}if(s[1]===r)return{ref:"#"};const d=`#/${l}/`,f=s[1].schema.id??`__schema${e.counter++}`;return{defId:f,ref:d+f}},a=s=>{if(s[1].schema.$ref)return;const l=s[1],{ref:u,defId:d}=n(s);l.def={...l.schema},d&&(l.defId=d);const f=l.schema;for(const p in f)delete f[p];f.$ref=u};if(e.cycles==="throw")for(const s of e.seen.entries()){const l=s[1];if(l.cycle)throw new Error(`Cycle detected: #/${l.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const s of e.seen.entries()){const l=s[1];if(t===s[0]){a(s);continue}if(e.external){const d=e.external.registry.get(s[0])?.id;if(t!==s[0]&&d){a(s);continue}}if(e.metadataRegistry.get(s[0])?.id){a(s);continue}if(l.cycle){a(s);continue}if(l.count>1&&e.reused==="ref"){a(s);continue}}}function qT(e,t){const r=e.seen.get(t);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");const n=l=>{const u=e.seen.get(l),d=u.def??u.schema,f={...d};if(u.ref===null)return;const p=u.ref;if(u.ref=null,p){n(p);const g=e.seen.get(p).schema;g.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(d.allOf=d.allOf??[],d.allOf.push(g)):(Object.assign(d,g),Object.assign(d,f))}u.isParent||e.override({zodSchema:l,jsonSchema:d,path:u.path??[]})};for(const l of[...e.seen.entries()].reverse())n(l[0]);const a={};if(e.target==="draft-2020-12"?a.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?a.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?a.$schema="http://json-schema.org/draft-04/schema#":e.target,e.external?.uri){const l=e.external.registry.get(t)?.id;if(!l)throw new Error("Schema is missing an `id` property");a.$id=e.external.uri(l)}Object.assign(a,r.def??r.schema);const s=e.external?.defs??{};for(const l of e.seen.entries()){const u=l[1];u.def&&u.defId&&(s[u.defId]=u.def)}e.external||Object.keys(s).length>0&&(e.target==="draft-2020-12"?a.$defs=s:a.definitions=s);try{const l=JSON.parse(JSON.stringify(a));return Object.defineProperty(l,"~standard",{value:{...t["~standard"],jsonSchema:{input:gh(t,"input"),output:gh(t,"output")}},enumerable:!1,writable:!1}),l}catch{throw new Error("Error converting schema to JSON.")}}function Pr(e,t){const r=t??{seen:new Set};if(r.seen.has(e))return!1;r.seen.add(e);const n=e._zod.def;if(n.type==="transform")return!0;if(n.type==="array")return Pr(n.element,r);if(n.type==="set")return Pr(n.valueType,r);if(n.type==="lazy")return Pr(n.getter(),r);if(n.type==="promise"||n.type==="optional"||n.type==="nonoptional"||n.type==="nullable"||n.type==="readonly"||n.type==="default"||n.type==="prefault")return Pr(n.innerType,r);if(n.type==="intersection")return Pr(n.left,r)||Pr(n.right,r);if(n.type==="record"||n.type==="map")return Pr(n.keyType,r)||Pr(n.valueType,r);if(n.type==="pipe")return Pr(n.in,r)||Pr(n.out,r);if(n.type==="object"){for(const a in n.shape)if(Pr(n.shape[a],r))return!0;return!1}if(n.type==="union"){for(const a of n.options)if(Pr(a,r))return!0;return!1}if(n.type==="tuple"){for(const a of n.items)if(Pr(a,r))return!0;return!!(n.rest&&Pr(n.rest,r))}return!1}const HU=(e,t={})=>r=>{const n=UT({...r,processors:t});return vr(e,n),BT(n,e),qT(n,e)},gh=(e,t)=>r=>{const{libraryOptions:n,target:a}=r??{},s=UT({...n??{},target:a,io:t,processors:{}});return vr(e,s),BT(s,e),qT(s,e)},FU={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},VU=(e,t,r,n)=>{const a=r;a.type="string";const{minimum:s,maximum:l,format:u,patterns:d,contentEncoding:f}=e._zod.bag;if(typeof s=="number"&&(a.minLength=s),typeof l=="number"&&(a.maxLength=l),u&&(a.format=FU[u]??u,a.format===""&&delete a.format),f&&(a.contentEncoding=f),d&&d.size>0){const p=[...d];p.length===1?a.pattern=p[0].source:p.length>1&&(a.allOf=[...p.map(g=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:g.source}))])}},KU=(e,t,r,n)=>{const a=r,{minimum:s,maximum:l,format:u,multipleOf:d,exclusiveMaximum:f,exclusiveMinimum:p}=e._zod.bag;typeof u=="string"&&u.includes("int")?a.type="integer":a.type="number",typeof p=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(a.minimum=p,a.exclusiveMinimum=!0):a.exclusiveMinimum=p),typeof s=="number"&&(a.minimum=s,typeof p=="number"&&t.target!=="draft-04"&&(p>=s?delete a.minimum:delete a.exclusiveMinimum)),typeof f=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(a.maximum=f,a.exclusiveMaximum=!0):a.exclusiveMaximum=f),typeof l=="number"&&(a.maximum=l,typeof f=="number"&&t.target!=="draft-04"&&(f<=l?delete a.maximum:delete a.exclusiveMaximum)),typeof d=="number"&&(a.multipleOf=d)},ZU=(e,t,r,n)=>{r.type="boolean"},GU=(e,t,r,n)=>{r.not={}},YU=(e,t,r,n)=>{},WU=(e,t,r,n)=>{},XU=(e,t,r,n)=>{const a=e._zod.def,s=wT(a.entries);s.every(l=>typeof l=="number")&&(r.type="number"),s.every(l=>typeof l=="string")&&(r.type="string"),r.enum=s},JU=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},QU=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},e9=(e,t,r,n)=>{const a=r,s=e._zod.def,{minimum:l,maximum:u}=e._zod.bag;typeof l=="number"&&(a.minItems=l),typeof u=="number"&&(a.maxItems=u),a.type="array",a.items=vr(s.element,t,{...n,path:[...n.path,"items"]})},t9=(e,t,r,n)=>{const a=r,s=e._zod.def;a.type="object",a.properties={};const l=s.shape;for(const f in l)a.properties[f]=vr(l[f],t,{...n,path:[...n.path,"properties",f]});const u=new Set(Object.keys(l)),d=new Set([...u].filter(f=>{const p=s.shape[f]._zod;return t.io==="input"?p.optin===void 0:p.optout===void 0}));d.size>0&&(a.required=Array.from(d)),s.catchall?._zod.def.type==="never"?a.additionalProperties=!1:s.catchall?s.catchall&&(a.additionalProperties=vr(s.catchall,t,{...n,path:[...n.path,"additionalProperties"]})):t.io==="output"&&(a.additionalProperties=!1)},r9=(e,t,r,n)=>{const a=e._zod.def,s=a.inclusive===!1,l=a.options.map((u,d)=>vr(u,t,{...n,path:[...n.path,s?"oneOf":"anyOf",d]}));s?r.oneOf=l:r.anyOf=l},n9=(e,t,r,n)=>{const a=e._zod.def,s=vr(a.left,t,{...n,path:[...n.path,"allOf",0]}),l=vr(a.right,t,{...n,path:[...n.path,"allOf",1]}),u=f=>"allOf"in f&&Object.keys(f).length===1,d=[...u(s)?s.allOf:[s],...u(l)?l.allOf:[l]];r.allOf=d},a9=(e,t,r,n)=>{const a=e._zod.def,s=vr(a.innerType,t,n),l=t.seen.get(e);t.target==="openapi-3.0"?(l.ref=a.innerType,r.nullable=!0):r.anyOf=[s,{type:"null"}]},i9=(e,t,r,n)=>{const a=e._zod.def;vr(a.innerType,t,n);const s=t.seen.get(e);s.ref=a.innerType},s9=(e,t,r,n)=>{const a=e._zod.def;vr(a.innerType,t,n);const s=t.seen.get(e);s.ref=a.innerType,r.default=JSON.parse(JSON.stringify(a.defaultValue))},o9=(e,t,r,n)=>{const a=e._zod.def;vr(a.innerType,t,n);const s=t.seen.get(e);s.ref=a.innerType,t.io==="input"&&(r._prefault=JSON.parse(JSON.stringify(a.defaultValue)))},l9=(e,t,r,n)=>{const a=e._zod.def;vr(a.innerType,t,n);const s=t.seen.get(e);s.ref=a.innerType;let l;try{l=a.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}r.default=l},c9=(e,t,r,n)=>{const a=e._zod.def,s=t.io==="input"?a.in._zod.def.type==="transform"?a.out:a.in:a.out;vr(s,t,n);const l=t.seen.get(e);l.ref=s},u9=(e,t,r,n)=>{const a=e._zod.def;vr(a.innerType,t,n);const s=t.seen.get(e);s.ref=a.innerType,r.readOnly=!0},d9=(e,t,r,n)=>{const a=e._zod.def;vr(a.innerType,t,n);const s=t.seen.get(e);s.ref=a.innerType},f9=he("ZodISODateTime",(e,t)=>{h7.init(e,t),jt.init(e,t)});function h9(e){return yU(f9,e)}const m9=he("ZodISODate",(e,t)=>{m7.init(e,t),jt.init(e,t)});function p9(e){return bU(m9,e)}const g9=he("ZodISOTime",(e,t)=>{p7.init(e,t),jt.init(e,t)});function v9(e){return xU(g9,e)}const y9=he("ZodISODuration",(e,t)=>{g7.init(e,t),jt.init(e,t)});function b9(e){return wU(y9,e)}const x9=(e,t)=>{ET.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:r=>iz(e,r)},flatten:{value:r=>az(e,r)},addIssue:{value:r=>{e.issues.push(r),e.message=JSON.stringify(e.issues,Ky,2)}},addIssues:{value:r=>{e.issues.push(...r),e.message=JSON.stringify(e.issues,Ky,2)}},isEmpty:{get(){return e.issues.length===0}}})},Ln=he("ZodError",x9,{Parent:Error}),w9=wx(Ln),_9=_x(Ln),S9=g0(Ln),k9=v0(Ln),j9=lz(Ln),E9=cz(Ln),N9=uz(Ln),O9=dz(Ln),A9=fz(Ln),T9=hz(Ln),C9=mz(Ln),P9=pz(Ln),$t=he("ZodType",(e,t)=>(Tt.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:gh(e,"input"),output:gh(e,"output")}}),e.toJSONSchema=HU(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone(eo(t,{checks:[...t.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]})),e.clone=(r,n)=>Ji(e,r,n),e.brand=()=>e,e.register=((r,n)=>(r.add(e,n),e)),e.parse=(r,n)=>w9(e,r,n,{callee:e.parse}),e.safeParse=(r,n)=>S9(e,r,n),e.parseAsync=async(r,n)=>_9(e,r,n,{callee:e.parseAsync}),e.safeParseAsync=async(r,n)=>k9(e,r,n),e.spa=e.safeParseAsync,e.encode=(r,n)=>j9(e,r,n),e.decode=(r,n)=>E9(e,r,n),e.encodeAsync=async(r,n)=>N9(e,r,n),e.decodeAsync=async(r,n)=>O9(e,r,n),e.safeEncode=(r,n)=>A9(e,r,n),e.safeDecode=(r,n)=>T9(e,r,n),e.safeEncodeAsync=async(r,n)=>C9(e,r,n),e.safeDecodeAsync=async(r,n)=>P9(e,r,n),e.refine=(r,n)=>e.check(EB(r,n)),e.superRefine=r=>e.check(NB(r)),e.overwrite=r=>e.check(El(r)),e.optional=()=>hj(e),e.nullable=()=>mj(e),e.nullish=()=>hj(mj(e)),e.nonoptional=r=>bB(e,r),e.array=()=>sB(e),e.or=r=>cB([e,r]),e.and=r=>dB(e,r),e.transform=r=>pj(e,hB(r)),e.default=r=>gB(e,r),e.prefault=r=>yB(e,r),e.catch=r=>wB(e,r),e.pipe=r=>pj(e,r),e.readonly=()=>kB(e),e.describe=r=>{const n=e.clone();return Hc.add(n,{description:r}),n},Object.defineProperty(e,"description",{get(){return Hc.get(e)?.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return Hc.get(e);const n=e.clone();return Hc.add(n,r[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),HT=he("_ZodString",(e,t)=>{Sx.init(e,t),$t.init(e,t),e._zod.processJSONSchema=(n,a,s)=>VU(e,n,a);const r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...n)=>e.check(OU(...n)),e.includes=(...n)=>e.check(CU(...n)),e.startsWith=(...n)=>e.check(PU(...n)),e.endsWith=(...n)=>e.check(DU(...n)),e.min=(...n)=>e.check(ph(...n)),e.max=(...n)=>e.check(LT(...n)),e.length=(...n)=>e.check(zT(...n)),e.nonempty=(...n)=>e.check(ph(1,...n)),e.lowercase=n=>e.check(AU(n)),e.uppercase=n=>e.check(TU(n)),e.trim=()=>e.check(MU()),e.normalize=(...n)=>e.check(RU(...n)),e.toLowerCase=()=>e.check($U()),e.toUpperCase=()=>e.check(IU()),e.slugify=()=>e.check(LU())}),D9=he("ZodString",(e,t)=>{Sx.init(e,t),HT.init(e,t),e.email=r=>e.check(X7(R9,r)),e.url=r=>e.check(rU(M9,r)),e.jwt=r=>e.check(vU(W9,r)),e.emoji=r=>e.check(nU($9,r)),e.guid=r=>e.check(sj(uj,r)),e.uuid=r=>e.check(J7(Sf,r)),e.uuidv4=r=>e.check(Q7(Sf,r)),e.uuidv6=r=>e.check(eU(Sf,r)),e.uuidv7=r=>e.check(tU(Sf,r)),e.nanoid=r=>e.check(aU(I9,r)),e.guid=r=>e.check(sj(uj,r)),e.cuid=r=>e.check(iU(L9,r)),e.cuid2=r=>e.check(sU(z9,r)),e.ulid=r=>e.check(oU(U9,r)),e.base64=r=>e.check(mU(Z9,r)),e.base64url=r=>e.check(pU(G9,r)),e.xid=r=>e.check(lU(B9,r)),e.ksuid=r=>e.check(cU(q9,r)),e.ipv4=r=>e.check(uU(H9,r)),e.ipv6=r=>e.check(dU(F9,r)),e.cidrv4=r=>e.check(fU(V9,r)),e.cidrv6=r=>e.check(hU(K9,r)),e.e164=r=>e.check(gU(Y9,r)),e.datetime=r=>e.check(h9(r)),e.date=r=>e.check(p9(r)),e.time=r=>e.check(v9(r)),e.duration=r=>e.check(b9(r))});function kx(e){return W7(D9,e)}const jt=he("ZodStringFormat",(e,t)=>{_t.init(e,t),HT.init(e,t)}),R9=he("ZodEmail",(e,t)=>{a7.init(e,t),jt.init(e,t)}),uj=he("ZodGUID",(e,t)=>{r7.init(e,t),jt.init(e,t)}),Sf=he("ZodUUID",(e,t)=>{n7.init(e,t),jt.init(e,t)}),M9=he("ZodURL",(e,t)=>{i7.init(e,t),jt.init(e,t)}),$9=he("ZodEmoji",(e,t)=>{s7.init(e,t),jt.init(e,t)}),I9=he("ZodNanoID",(e,t)=>{o7.init(e,t),jt.init(e,t)}),L9=he("ZodCUID",(e,t)=>{l7.init(e,t),jt.init(e,t)}),z9=he("ZodCUID2",(e,t)=>{c7.init(e,t),jt.init(e,t)}),U9=he("ZodULID",(e,t)=>{u7.init(e,t),jt.init(e,t)}),B9=he("ZodXID",(e,t)=>{d7.init(e,t),jt.init(e,t)}),q9=he("ZodKSUID",(e,t)=>{f7.init(e,t),jt.init(e,t)}),H9=he("ZodIPv4",(e,t)=>{v7.init(e,t),jt.init(e,t)}),F9=he("ZodIPv6",(e,t)=>{y7.init(e,t),jt.init(e,t)}),V9=he("ZodCIDRv4",(e,t)=>{b7.init(e,t),jt.init(e,t)}),K9=he("ZodCIDRv6",(e,t)=>{x7.init(e,t),jt.init(e,t)}),Z9=he("ZodBase64",(e,t)=>{w7.init(e,t),jt.init(e,t)}),G9=he("ZodBase64URL",(e,t)=>{S7.init(e,t),jt.init(e,t)}),Y9=he("ZodE164",(e,t)=>{k7.init(e,t),jt.init(e,t)}),W9=he("ZodJWT",(e,t)=>{E7.init(e,t),jt.init(e,t)}),FT=he("ZodNumber",(e,t)=>{MT.init(e,t),$t.init(e,t),e._zod.processJSONSchema=(n,a,s)=>KU(e,n,a),e.gt=(n,a)=>e.check(lj(n,a)),e.gte=(n,a)=>e.check(Fg(n,a)),e.min=(n,a)=>e.check(Fg(n,a)),e.lt=(n,a)=>e.check(oj(n,a)),e.lte=(n,a)=>e.check(Hg(n,a)),e.max=(n,a)=>e.check(Hg(n,a)),e.int=n=>e.check(dj(n)),e.safe=n=>e.check(dj(n)),e.positive=n=>e.check(lj(0,n)),e.nonnegative=n=>e.check(Fg(0,n)),e.negative=n=>e.check(oj(0,n)),e.nonpositive=n=>e.check(Hg(0,n)),e.multipleOf=(n,a)=>e.check(cj(n,a)),e.step=(n,a)=>e.check(cj(n,a)),e.finite=()=>e;const r=e._zod.bag;e.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function Vi(e){return _U(FT,e)}const X9=he("ZodNumberFormat",(e,t)=>{N7.init(e,t),FT.init(e,t)});function dj(e){return SU(X9,e)}const J9=he("ZodBoolean",(e,t)=>{O7.init(e,t),$t.init(e,t),e._zod.processJSONSchema=(r,n,a)=>ZU(e,r,n)});function Q9(e){return kU(J9,e)}const eB=he("ZodAny",(e,t)=>{A7.init(e,t),$t.init(e,t),e._zod.processJSONSchema=(r,n,a)=>YU()});function tB(){return jU(eB)}const rB=he("ZodUnknown",(e,t)=>{T7.init(e,t),$t.init(e,t),e._zod.processJSONSchema=(r,n,a)=>WU()});function fj(){return EU(rB)}const nB=he("ZodNever",(e,t)=>{C7.init(e,t),$t.init(e,t),e._zod.processJSONSchema=(r,n,a)=>GU(e,r,n)});function aB(e){return NU(nB,e)}const iB=he("ZodArray",(e,t)=>{P7.init(e,t),$t.init(e,t),e._zod.processJSONSchema=(r,n,a)=>e9(e,r,n,a),e.element=t.element,e.min=(r,n)=>e.check(ph(r,n)),e.nonempty=r=>e.check(ph(1,r)),e.max=(r,n)=>e.check(LT(r,n)),e.length=(r,n)=>e.check(zT(r,n)),e.unwrap=()=>e.element});function sB(e,t){return zU(iB,e,t)}const oB=he("ZodObject",(e,t)=>{R7.init(e,t),$t.init(e,t),e._zod.processJSONSchema=(r,n,a)=>t9(e,r,n,a),ut(e,"shape",()=>t.shape),e.keyof=()=>jx(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:fj()}),e.loose=()=>e.clone({...e._zod.def,catchall:fj()}),e.strict=()=>e.clone({...e._zod.def,catchall:aB()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>Q8(e,r),e.safeExtend=r=>ez(e,r),e.merge=r=>tz(e,r),e.pick=r=>X8(e,r),e.omit=r=>J8(e,r),e.partial=(...r)=>rz(VT,e,r[0]),e.required=(...r)=>nz(KT,e,r[0])});function b0(e,t){const r={type:"object",shape:e??{},...De(t)};return new oB(r)}const lB=he("ZodUnion",(e,t)=>{M7.init(e,t),$t.init(e,t),e._zod.processJSONSchema=(r,n,a)=>r9(e,r,n,a),e.options=t.options});function cB(e,t){return new lB({type:"union",options:e,...De(t)})}const uB=he("ZodIntersection",(e,t)=>{$7.init(e,t),$t.init(e,t),e._zod.processJSONSchema=(r,n,a)=>n9(e,r,n,a)});function dB(e,t){return new uB({type:"intersection",left:e,right:t})}const Gy=he("ZodEnum",(e,t)=>{I7.init(e,t),$t.init(e,t),e._zod.processJSONSchema=(n,a,s)=>XU(e,n,a),e.enum=t.entries,e.options=Object.values(t.entries);const r=new Set(Object.keys(t.entries));e.extract=(n,a)=>{const s={};for(const l of n)if(r.has(l))s[l]=t.entries[l];else throw new Error(`Key ${l} not found in enum`);return new Gy({...t,checks:[],...De(a),entries:s})},e.exclude=(n,a)=>{const s={...t.entries};for(const l of n)if(r.has(l))delete s[l];else throw new Error(`Key ${l} not found in enum`);return new Gy({...t,checks:[],...De(a),entries:s})}});function jx(e,t){const r=Array.isArray(e)?Object.fromEntries(e.map(n=>[n,n])):e;return new Gy({type:"enum",entries:r,...De(t)})}const fB=he("ZodTransform",(e,t)=>{L7.init(e,t),$t.init(e,t),e._zod.processJSONSchema=(r,n,a)=>QU(e,r),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new bT(e.constructor.name);r.addIssue=s=>{if(typeof s=="string")r.issues.push(au(s,r.value,t));else{const l=s;l.fatal&&(l.continue=!1),l.code??(l.code="custom"),l.input??(l.input=r.value),l.inst??(l.inst=e),r.issues.push(au(l))}};const a=t.transform(r.value,r);return a instanceof Promise?a.then(s=>(r.value=s,r)):(r.value=a,r)}});function hB(e){return new fB({type:"transform",transform:e})}const VT=he("ZodOptional",(e,t)=>{z7.init(e,t),$t.init(e,t),e._zod.processJSONSchema=(r,n,a)=>d9(e,r,n,a),e.unwrap=()=>e._zod.def.innerType});function hj(e){return new VT({type:"optional",innerType:e})}const mB=he("ZodNullable",(e,t)=>{U7.init(e,t),$t.init(e,t),e._zod.processJSONSchema=(r,n,a)=>a9(e,r,n,a),e.unwrap=()=>e._zod.def.innerType});function mj(e){return new mB({type:"nullable",innerType:e})}const pB=he("ZodDefault",(e,t)=>{B7.init(e,t),$t.init(e,t),e._zod.processJSONSchema=(r,n,a)=>s9(e,r,n,a),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function gB(e,t){return new pB({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():ST(t)}})}const vB=he("ZodPrefault",(e,t)=>{q7.init(e,t),$t.init(e,t),e._zod.processJSONSchema=(r,n,a)=>o9(e,r,n,a),e.unwrap=()=>e._zod.def.innerType});function yB(e,t){return new vB({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():ST(t)}})}const KT=he("ZodNonOptional",(e,t)=>{H7.init(e,t),$t.init(e,t),e._zod.processJSONSchema=(r,n,a)=>i9(e,r,n,a),e.unwrap=()=>e._zod.def.innerType});function bB(e,t){return new KT({type:"nonoptional",innerType:e,...De(t)})}const xB=he("ZodCatch",(e,t)=>{F7.init(e,t),$t.init(e,t),e._zod.processJSONSchema=(r,n,a)=>l9(e,r,n,a),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function wB(e,t){return new xB({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const _B=he("ZodPipe",(e,t)=>{V7.init(e,t),$t.init(e,t),e._zod.processJSONSchema=(r,n,a)=>c9(e,r,n,a),e.in=t.in,e.out=t.out});function pj(e,t){return new _B({type:"pipe",in:e,out:t})}const SB=he("ZodReadonly",(e,t)=>{K7.init(e,t),$t.init(e,t),e._zod.processJSONSchema=(r,n,a)=>u9(e,r,n,a),e.unwrap=()=>e._zod.def.innerType});function kB(e){return new SB({type:"readonly",innerType:e})}const jB=he("ZodCustom",(e,t)=>{Z7.init(e,t),$t.init(e,t),e._zod.processJSONSchema=(r,n,a)=>JU(e,r)});function EB(e,t={}){return UU(jB,e,t)}function NB(e){return BU(e)}b0({name:kx().min(1,"SKU Name is required"),bottlesPerCase:Vi().min(1),bottlesPerTruck:Vi().min(1),casesPerPallet:Vi().min(1),scrapPercentage:Vi().min(0).default(0)});const OB=b0({date:kx().regex(/^\d{4}-\d{2}-\d{2}$/,"Date must be YYYY-MM-DD"),type:jx(["demand_plan","inbound_trucks","production_actual","truck_manifest_json"]),value:Vi(),metaJson:tB().optional()});b0({productionRate:Vi().min(0),downtimeHours:Vi().min(0),isAutoReplenish:Q9().optional()});const AB=b0({date:kx().regex(/^\d{4}-\d{2}-\d{2}$/),count:Vi().min(0),location:jx(["floor","yard"])}),TB=async e=>{const[t,r,n,a,s]=await Promise.all([Ne.from("planning_entries").select("date, entry_type, value, meta_json").eq("product_id",e),Ne.from("production_settings").select("*").eq("product_id",e).maybeSingle(),Ne.from("inventory_snapshots").select("*").eq("product_id",e).eq("location","floor").order("date",{ascending:!1}).limit(1).maybeSingle(),Ne.from("inventory_snapshots").select("*").eq("product_id",e).eq("location","yard").order("date",{ascending:!1}).limit(1).maybeSingle(),Ne.from("planned_inbound").select("*").eq("product_id",e).order("date",{ascending:!0})]);return{entries:t.data||[],settings:r.data,snapshotFloor:n.data,snapshotYard:a.data,plannedInbound:s.data||[]}},CB=async(e,t,r,n,a,s=null)=>{if(a==null){const{error:d}=await Ne.from("planning_entries").delete().eq("product_id",e).eq("date",r).eq("entry_type",n);if(d)throw d;return}try{OB.parse({date:r,type:n,value:a,metaJson:s})}catch(d){throw console.error("Validation Failed:",d),new Error(`Invalid Planning Entry: ${d.errors[0].message}`)}const{data:l}=await Ne.from("planning_entries").select("id").eq("product_id",e).eq("date",r).eq("entry_type",n).maybeSingle(),u={product_id:e,user_id:t,date:r,entry_type:n,value:a,meta_json:s};if(l){const{error:d}=await Ne.from("planning_entries").update({value:a,meta_json:s,user_id:t}).eq("id",l.id);if(d)throw d}else{const{error:d}=await Ne.from("planning_entries").insert(u);if(d)throw d}},kf=async(e,t,r)=>{if(t==="production_rate"&&typeof r=="number"&&r<0)throw new Error("Production Rate cannot be negative");if(t==="downtime_hours"&&typeof r=="number"&&r<0)throw new Error("Downtime cannot be negative");const{data:n}=await Ne.from("production_settings").select("id").eq("product_id",e).limit(1),a=n&&n.length>0?n[0].id:null,s={product_id:e,[t]:r};a&&(s.id=a);const{error:l}=await Ne.from("production_settings").upsert(s);if(l)throw console.error("Error saving production setting:",l),l},PB=async e=>{if(!e.length)return;const{error:t}=await Ne.from("planning_entries").upsert(e,{onConflict:"product_id, date, entry_type"});if(t)throw t},gj=async(e,t,r,n,a="floor")=>{try{AB.parse({date:r,count:n,location:a})}catch(l){throw new Error(`Invalid Snapshot: ${l.errors[0].message}`)}const{error:s}=await Ne.from("inventory_snapshots").upsert({product_id:e,user_id:t,date:r,location:a,quantity_pallets:n},{onConflict:"product_id, date, location"});if(s)throw s},DB=async()=>{const{data:e,error:t}=await Ne.from("procurement_orders").select("*").order("date",{ascending:!0});if(t)throw t;return e||[]},RB=async(e,t)=>{const r={po_number:e.po,quantity:e.qty,sku:e.sku,supplier:e.supplier,carrier:e.carrier,status:e.status||"planned",date:e.date,delivery_time:e.time,user_id:t},{data:n}=await Ne.from("procurement_orders").select("id").eq("po_number",e.po).maybeSingle();n?await Ne.from("procurement_orders").update(r).eq("id",n.id):await Ne.from("procurement_orders").insert(r)},MB=async e=>{const{error:t}=await Ne.from("procurement_orders").delete().eq("po_number",e);if(t)throw t},$B=async(e,t)=>{const{error:r}=await Ne.from("planned_inbound").update(t).eq("id",e);if(r)throw r},IB=async()=>{const{data:e,error:t}=await Ne.from("planned_inbound").select(`
            *,
            products (
                name
            )
        `).order("date",{ascending:!0});if(t)throw t;return e||[]},LB=async e=>{const{data:t,error:r}=await Ne.from("profiles").select("lead_time_days, safety_stock_loads, dashboard_layout, theme").eq("id",e).maybeSingle();return r?(console.error("Error fetching profile:",r),null):t},zB=async(e,t)=>{const r={id:e,...t,updated_at:new Date().toISOString()},{error:n}=await Ne.from("profiles").upsert(r);if(n)throw n},Nl=()=>{const e=x.useCallback(async(g,y)=>{if(!g)return{success:!1,error:"No user"};try{for(const v of y){const w=await xf(g.id,v),k=localStorage.getItem(`mrp_${v}_productionRate`),S=localStorage.getItem(`mrp_${v}_downtimeHours`),j=localStorage.getItem(`mrp_${v}_isAutoReplenish`);(k||S||j)&&(await kf(w,"production_rate",k?Number(k):null),await kf(w,"downtime_hours",S?Number(S):null),await kf(w,"is_auto_replenish",j==="true"));const N=[{key:"monthlyDemand",type:"demand_plan"},{key:"monthlyInbound",type:"inbound_trucks"},{key:"monthlyProductionActuals",type:"production_actual"}],E=[];for(const{key:O,type:T}of N){const P=localStorage.getItem(`mrp_${v}_${O}`);if(P)try{const C=JSON.parse(P);Object.entries(C).forEach(([R,I])=>{E.push({product_id:w,user_id:g.id,date:R,entry_type:T,value:Number(I)})})}catch{}}E.length>0&&await PB(E);const D=localStorage.getItem(`mrp_${v}_inventoryAnchor`);if(D)try{const O=JSON.parse(D);await gj(w,g.id,O.date,Number(O.count),"floor")}catch{}}return{success:!0}}catch(v){return console.error("Migration Failed:",v),{success:!1,error:v}}},[]),t=x.useCallback(async(g,y)=>{console.log(`[SupabaseSync] Fetching MRP State for User: ${g}, SKU: ${y}`);const v=await q8(g,y);if(!v)return console.warn(`[SupabaseSync] Product not found: ${y}`),null;console.log(`[SupabaseSync] Product Found: ${v.id}. Fetching Details...`);const{entries:w,settings:k,snapshotFloor:S,snapshotYard:j,plannedInbound:N}=await TB(v.id);console.log(`[SupabaseSync] Entries fetched: ${w?.length||0}, SAP Planned: ${N?.length||0}`);const E={},D={},O={},T={};w?.forEach(I=>{const M=Number(I.value);I.entry_type==="demand_plan"&&(E[I.date]=M),I.entry_type==="inbound_trucks"&&(D[I.date]=M),I.entry_type==="production_actual"&&(O[I.date]=M),I.entry_type==="truck_manifest_json"&&(T[I.date]=I.meta_json||[])});const P=v.bottles_per_truck||1e5;N?.forEach(I=>{const M=I.date,z=Number(I.scheduled_qty||0),B=z/P;console.log(`[SupabaseSync] Processing SAP row: Date=${M}, PO=${I.po_number}, Qty=${z}, Loads=${B}`),B>0&&(D[M]=(D[M]||0)+B,T[M]||(T[M]=[]),T[M].some(ae=>ae.po===I.po_number)||T[M].push({po:I.po_number,vendor:I.vendor_name,qty:z,source:"sap",status:"planned"}))});const C=S?{date:S.date,count:Number(S.quantity_pallets)}:null,R=j?{count:Number(j.quantity_pallets),date:j.date}:{count:0,date:null};return{product:v,monthlyDemand:E,monthlyInbound:D,monthlyProductionActuals:O,productionRate:k?.production_rate||5e3,downtimeHours:k?.downtime_hours||0,isAutoReplenish:k?.is_auto_replenish!==!1,inventoryAnchor:C,yardInventory:R,truckManifest:T}},[]),r=x.useCallback(async(g,y,v,w,k)=>{const S=await xf(g,y);let j=typeof k=="number"?k:null,N=null;w==="truck_manifest_json"&&Array.isArray(k)?(j=k.length,N=k):j=Number(k),await CB(S,g,v,w,j,N)},[]),n=x.useCallback(async(g,y,v,w)=>{const k=await xf(g,y);await kf(k,v,w)},[]),a=x.useCallback(async(g,y,v,w,k="floor")=>{const S=await xf(g,y);await gj(S,g,v,w,k)},[]),s=x.useCallback(async g=>await LB(g),[]),l=x.useCallback(async(g,y)=>{await zB(g,y)},[]),u=x.useCallback(async(g,y,v="viewer")=>{if(!g)return;if(!["admin","planner"].includes(v)){console.warn("Upload skipped: insufficient role (client-side check). RLS would likely reject this.");return}const{count:w,error:k}=await Ne.from("products").select("*",{count:"exact",head:!0}).eq("user_id",g.id);if(k){console.error("Migration Check Failed:",k);return}w===0&&await e(g,y)},[e]),d=x.useCallback(async g=>{if(!g.po)return;if(g.source==="sap"){await $B(g.id,{status:g.status,appointment_time:g.time||null});return}const y=(await Ne.auth.getUser()).data.user;y&&await RB(g,y.id)},[]),f=x.useCallback(async g=>{await MB(g)},[]),p=x.useCallback(async()=>{const[g,y]=await Promise.all([DB(),IB()]),v={};return g.forEach(w=>{v[w.date]||(v[w.date]={items:[]}),v[w.date].items.push({id:w.id,po:w.po_number,qty:Number(w.quantity),sku:w.sku||"",supplier:w.supplier,status:w.status,date:w.date,time:w.delivery_time||"",carrier:w.carrier||"",source:"manual",palletStats:w.meta_data?w.meta_data.palletStats:void 0})}),y.forEach(w=>{v[w.date]||(v[w.date]={items:[]}),!v[w.date].items.some(S=>S.po===w.po_number)&&v[w.date].items.push({id:w.id,po:w.po_number,qty:Number(w.scheduled_qty),sku:w.products?.name||"",supplier:w.vendor_name||"SAP Import",status:w.status||(w.received_qty>0?"received":"planned"),date:w.date,time:w.appointment_time||"",carrier:"",source:"sap",openQty:w.open_qty,receivedQty:w.received_qty})}),v},[]);return{supabase:Ne,fetchMRPState:t,savePlanningEntry:r,saveProductionSetting:n,saveInventorySnapshot:a,migrateLocalStorage:e,uploadLocalData:u,fetchUserProfile:s,saveUserProfile:l,saveProcurementEntry:d,deleteProcurementEntry:f,fetchProcurementData:p}};function cl({table:e,filter:t,event:r="*",schema:n="public",onDataChange:a,enabled:s=!0}){x.useEffect(()=>{if(!s)return;const l=`public:${e}${t?`:${t}`:""}`,u={event:r,schema:n,table:e,filter:t||void 0},d=Ne.channel(l).on("postgres_changes",u,f=>{a(f)}).subscribe(f=>{});return()=>{Ne.removeChannel(d)}},[e,t,r,n,a,s])}const un={safetyStockLoads:6,csvMapping:{statusColumn:"Trailer State",fullValue:"Loaded - Inbound",skuColumn:"Commodity"},dashboardLayout:{top:["kpis"],col1:["demand"],col2:["chart","inventory","production"]},leadTimeDays:2},ZT=x.createContext(void 0);function UB({children:e}){const{user:t}=Or(),{fetchUserProfile:r,saveUserProfile:n}=Nl(),[a,s]=x.useState(()=>{try{const T=localStorage.getItem("safetyStockLoads");if(T===null)return un.safetyStockLoads;const P=Number(T);return!isNaN(P)&&P>=0?P:un.safetyStockLoads}catch(T){return console.warn("Failed to load safetyStockLoads from localStorage:",T),un.safetyStockLoads}}),[l,u]=x.useState(()=>{try{const T=localStorage.getItem("csvMapping");return T?JSON.parse(T):un.csvMapping}catch(T){return console.warn("Failed to load csvMapping from localStorage:",T),un.csvMapping}}),[d,f]=x.useState(()=>{try{const T=localStorage.getItem("dashboardLayout");let P=T?JSON.parse(T):un.dashboardLayout;return P.top&&P.top.includes("demand")&&(P.top=P.top.filter(C=>C!=="demand"),P.col1.includes("demand")||P.col1.unshift("demand")),{top:P.top||["kpis"],col1:P.col1||["demand"],col2:P.col2||["chart","inventory","production"],...P}}catch(T){return console.warn("Failed to load dashboardLayout from localStorage:",T),un.dashboardLayout}}),[p,g]=x.useState(()=>{try{const T=localStorage.getItem("leadTimeDays"),P=Number(T);return!isNaN(P)&&P>=0?P:un.leadTimeDays}catch(T){return console.warn("Failed to load leadTimeDays from localStorage:",T),un.leadTimeDays}}),[y,v]=x.useState(()=>localStorage.getItem("activeSku")||"20oz"),[w,k]=x.useState(()=>localStorage.getItem("theme")||"light"),[S,j]=x.useState(()=>{try{const T=localStorage.getItem("sched_targetDailyProduction"),P=localStorage.getItem("sched_shiftStartTime"),C=localStorage.getItem("sched_poAssignments"),R=localStorage.getItem("sched_cancelledLoads");return T!==null||P!==null||C!==null?{targetDailyProduction:T?Number(T):0,shiftStartTime:P||"00:00",poAssignments:C?JSON.parse(C):{},cancelledLoads:R?JSON.parse(R):[]}:{targetDailyProduction:0,shiftStartTime:"00:00",poAssignments:{},cancelledLoads:[]}}catch{return{targetDailyProduction:0,shiftStartTime:"00:00",poAssignments:{},cancelledLoads:[]}}});cl({table:"profiles",filter:t?`id=eq.${t.id}`:void 0,event:"UPDATE",enabled:!!t,onDataChange:T=>{const P=T.new;if(P&&(P.lead_time_days!==void 0&&P.lead_time_days!==null&&g(Number(P.lead_time_days)),P.safety_stock_loads!==void 0&&P.safety_stock_loads!==null&&s(Number(P.safety_stock_loads)),P.theme&&k(P.theme),P.dashboard_layout)){const C=P.dashboard_layout;f(R=>({...R,top:C.top||R.top,col1:C.col1||R.col1,col2:C.col2||R.col2})),C.scheduler&&j(R=>({...R,...C.scheduler}))}}}),x.useEffect(()=>{t&&r(t.id).then(T=>{if(T){if(T.lead_time_days!==null&&g(T.lead_time_days),T.safety_stock_loads!==null&&s(T.safety_stock_loads),T.dashboard_layout){const P=T.dashboard_layout;f(C=>({...C,top:P.top||C.top,col1:P.col1||C.col1,col2:P.col2||C.col2})),P.scheduler&&j(C=>({...C,...P.scheduler}))}T.theme&&k(T.theme)}})},[t,r]),x.useEffect(()=>{localStorage.setItem("safetyStockLoads",JSON.stringify(a)),t&&n(t.id,{safety_stock_loads:a})},[a,t,n]),x.useEffect(()=>{localStorage.setItem("leadTimeDays",JSON.stringify(p)),t&&n(t.id,{lead_time_days:p})},[p,t,n]),x.useEffect(()=>{localStorage.setItem("csvMapping",JSON.stringify(l))},[l]),x.useEffect(()=>{localStorage.setItem("activeSku",y)},[y]),x.useEffect(()=>{const T=window.document.documentElement;w==="dark"?T.classList.add("dark"):T.classList.remove("dark"),localStorage.setItem("theme",w),t&&n(t.id,{theme:w})},[w,t,n]),x.useEffect(()=>{if(localStorage.setItem("dashboardLayout",JSON.stringify(d)),localStorage.setItem("settings_scheduler",JSON.stringify(S)),t){const T={...d,scheduler:S};n(t.id,{dashboard_layout:T})}},[d,S,t,n]);const N=x.useCallback((T,P)=>{u(C=>({...C,[T]:P}))},[]),E=x.useCallback((T,P)=>{j(C=>({...C,[T]:P}))},[]),D=x.useCallback(()=>{s(un.safetyStockLoads),g(un.leadTimeDays),u(un.csvMapping),f(un.dashboardLayout),j({targetDailyProduction:0,shiftStartTime:"00:00",poAssignments:{},cancelledLoads:[]})},[]),O=x.useMemo(()=>({safetyStockLoads:a,leadTimeDays:p,csvMapping:l,dashboardLayout:d,schedulerSettings:S,theme:w,activeSku:y,setTheme:k,setDashboardLayout:f,setSafetyStockLoads:T=>{const P=Number(T);s(!isNaN(P)&&P>=0?P:0)},setLeadTimeDays:T=>{const P=Number(T);g(!isNaN(P)&&P>=0?P:2)},updateCsvMapping:N,updateSchedulerSetting:E,resetDefaults:D,setActiveSku:v,updateGlobalSetting:(T,P)=>{T==="leadTimeDays"&&g(Number(P)),T==="safetyStockLoads"&&s(Number(P))}}),[a,p,l,d,S,w,y,N,E,D]);return m.jsx(ZT.Provider,{value:O,children:e})}function zn(){const e=x.useContext(ZT);if(!e)throw new Error("useSettings must be used within a SettingsProvider");return e}const GT=x.createContext();function yr(){return x.useContext(GT)}function BB({children:e}){const{user:t}=Or(),[r,n]=x.useState(()=>{try{const p=localStorage.getItem("ubp_products_list");return p?JSON.parse(p):[]}catch(p){return console.warn("Failed to load products from cache:",p),[]}}),[a,s]=x.useState(()=>!localStorage.getItem("ubp_products_list")),l=async()=>{if(t)try{const{data:p,error:g}=await Ne.from("products").select(`
                    *,
                    production_settings (
                        line_name,
                        production_rate
                    )
                `);if(g)throw g;const y=p||[];n(y),localStorage.setItem("ubp_products_list",JSON.stringify(y))}catch(p){console.error("Error loading products:",p)}finally{s(!1)}},u=async(p,g)=>{const y=r.find(w=>w.name===p);if(!y)return;const v=r.map(w=>w.name===p?{...w,...g}:w);n(v);try{const{error:w}=await Ne.from("products").update(g).eq("id",y.id);if(w)throw w}catch(w){console.error("Failed to update product settings",w),l()}};x.useEffect(()=>{l()},[t]);const d=x.useMemo(()=>{const p={};return r.forEach(g=>{const v=(g.production_settings?.find(w=>w.line_name==="Line 1")||g.production_settings?.[0])?.production_rate||0;p[g.name]={bottlesPerCase:g.bottles_per_case,bottlesPerTruck:g.bottles_per_truck,casesPerTruck:Math.floor((g.bottles_per_truck||0)/(g.bottles_per_case||1)),casesPerPallet:g.cases_per_pallet,palletsPerTruck:g.pallets_per_truck||22,productionRate:v,scrapPercentage:0,leadTimeDays:g.lead_time_days,safetyStockLoads:g.safety_stock_loads,colorTag:g.color_tag||"#3B82F6",id:g.id}}),p},[r]),f={products:r,productMap:d,loading:a,refreshProducts:l,updateProductSettings:u,getProductSpecs:p=>d[p]||null};return m.jsx(GT.Provider,{value:f,children:e})}const x0=(e,t="00:00",r,n,a=1,s=0)=>{if(!n||n<=0)return"";let l=n,u=r;a>1&&n<1e4&&r>2e4&&(u=r/a);const d=u/l;let f=d;s>0&&s*d>23.5&&(f=23.5/s);const[p,g]=t.split(":").map(Number);let w=((p||0)+(g||0)/60+e*f)%24;w<0&&(w+=24);const k=Math.floor(w),S=Math.round((w-k)*60),j=(k+Math.floor(S/60))%24,N=S%60;return`${String(j).padStart(2,"0")}:${String(N).padStart(2,"0")}`},YT=x.createContext(void 0);function qB({children:e}){const{user:t}=Or(),{fetchProcurementData:r,saveProcurementEntry:n,deleteProcurementEntry:a}=Nl(),{schedulerSettings:s,activeSku:l}=zn(),{getProductSpecs:u}=yr(),[d,f]=x.useState(()=>{try{const E=localStorage.getItem("poManifest");return E?JSON.parse(E):{}}catch{return{}}});x.useEffect(()=>{localStorage.setItem("poManifest",JSON.stringify(d))},[d]),cl({table:"procurement_orders",event:"*",enabled:!!t,onDataChange:E=>{const{eventType:D,new:O,old:T}=E;if(D==="DELETE"){const R=T.id,I=T.po_number;if(!R&&!I)return;f(M=>{const z={...M};let B=null,G=null;for(const[ae,q]of Object.entries(z)){const F=q.items.find(W=>R&&W.id===R||I&&W.po===I);if(F){B=ae,G=F;break}}return B&&G&&(z[B].items=z[B].items.filter(ae=>ae!==G),z[B].items.length===0&&delete z[B]),z});return}const P=O.date,C={id:O.id||crypto.randomUUID(),po:O.po_number,date:O.date,qty:Number(O.quantity),status:O.status,supplier:O.supplier,sku:O.sku,time:O.delivery_time,carrier:O.carrier,palletStats:O.meta_data?O.meta_data.palletStats:void 0};f(R=>{const I={...R};for(const[M,z]of Object.entries(I)){const B=z.items.filter(G=>G.po!==C.po);B.length!==z.items.length&&(I[M]={items:B},B.length===0&&delete I[M])}return I[P]||(I[P]={items:[]}),I[P].items.push(C),I})}});const p=(E,D)=>{if(f(O=>({...O,[E]:{items:D}})),t)try{D.forEach(O=>{n(O).catch(T=>console.error("Cloud Save Failed for Item:",O,T))})}catch(O){console.error("Error initiating cloud sync:",O)}},g=E=>{f(D=>{const O={...D},T=E.reduce((P,C)=>(P[C.date]||(P[C.date]=[]),P[C.date].push(C),P),{});return Object.entries(T).forEach(([P,C])=>{let I=(O[P]?.items||[]).length;C.forEach((M,z)=>{if(M.id||(M.id=crypto.randomUUID()),!M.time){const B=M.sku||l,G=u(B),ae=s?.shiftStartTime||"00:00";if(G&&G.productionRate>0){const q=G.bottlesPerTruck||2e4,F=G.productionRate,W=G.bottlesPerCase||1;M.time=x0(I+z,ae,q,F,W)}}O[P]||(O[P]={items:[]}),O[P].items.push(M)})}),t&&E.forEach(P=>{n(P).catch(C=>console.error("Cloud Sync Error",C))}),O})},y=(E,D,O)=>{f(T=>{const P={...T};return P[E]&&(P[E].items=P[E].items.filter(C=>C.id!==D)),P}),t&&O&&a(O)},v=(E,D)=>{f(O=>{const T={...O};return T[E]?.items&&(T[E].items=T[E].items.map(P=>P.id===D.id?D:P)),T}),t&&n(D)},w=E=>{f(D=>{const O={...D};return E.forEach(T=>{O[T.date]?.items&&(O[T.date].items=O[T.date].items.filter(P=>P.id!==T.id))}),O}),t&&E.forEach(D=>{D.po&&a(D.po)})},k=(E,D,O)=>{if(f(T=>{const P={...T};P[E]?.items&&(P[E].items=P[E].items.filter(I=>I.id!==O.id));const C=P[D]?.items||[],R={...O,date:D};return P[D]={items:[...C,R]},P}),t){const T={...O,date:D};n(T)}},S=E=>{f(D=>{const O={...D};return E.forEach(T=>{let P=null;for(const[R,I]of Object.entries(O)){if(I.items.some(M=>M.id===T.id)){P=R;break}if(I.items.some(M=>M.po===T.po)){P=R;break}}const C=T.date;if(P&&P!==C)O[P]?.items&&(O[P].items=O[P].items.filter(R=>R.id!==T.id),O[P].items.length===0&&delete O[P]),O[C]||(O[C]={items:[]}),O[C].items.push(T);else{const R=P||C;O[R]?O[R].items=O[R].items.map(I=>I.id===T.id?T:I):(O[R]||(O[R]={items:[]}),O[R].items.push(T))}}),O}),t&&E.forEach(D=>n(D))},j=()=>f({});x.useEffect(()=>{t&&r().then(E=>{E&&Object.keys(E).length>0&&f(E)})},[t,r]);const N={poManifest:d,updateDailyManifest:p,addOrdersBulk:g,removeOrder:y,updateOrder:v,deleteOrdersBulk:w,moveOrder:k,bulkUpdateOrders:S,clearManifest:j};return m.jsx(YT.Provider,{value:N,children:e})}function ra(){const e=x.useContext(YT);if(!e)throw new Error("useProcurement must be used within a ProcurementProvider");return e}const HB=async()=>{const{data:e,error:t}=await Ne.from("user_roles").select("*").order("created_at",{ascending:!1});if(t)throw t.code==="42P01",t;return e||[]},FB=async(e,t)=>{const{error:r}=await Ne.from("user_roles").update({role:t}).match({email:e});if(r)throw r},VB=async e=>{const{error:t}=await Ne.from("user_roles").delete().match({email:e});if(t)throw t},KB=async(e,t)=>{const{error:r}=await Ne.from("user_roles").upsert({email:e.toLowerCase(),role:t},{onConflict:"email"});if(r)throw r},ZB=async(e,t)=>{const r=mT(pT,gT,{auth:{persistSession:!1,autoRefreshToken:!1,detectSessionInUrl:!1}}),{data:n,error:a}=await r.auth.signUp({email:e,password:t});if(a)throw a;return n};function GB(){const{user:e}=Or(),[t,r]=x.useState(!1),[n,a]=x.useState([]),[s,l]=x.useState(null),u=async()=>{if(e){r(!0),a([]),l(null);try{const p=(await H8(e.id)).reduce((y,v)=>{const w=v.name.trim();return y[w]||(y[w]=[]),y[w].push(v),y},{}),g=[];Object.entries(p).forEach(([y,v])=>{if(v.length>1){v.sort((S,j)=>{const N=new Date(S.created_at||0),E=new Date(j.created_at||0);return N-E});const w=v[0],k=v.slice(1);g.push({name:y,keeper:w,toDelete:k})}}),a(g),l(`Scan Complete. Found ${g.length} duplicate groups.`)}catch(f){console.error(f),l("Error scanning database.")}finally{r(!1)}}},d=async f=>{const p=n[f];if(confirm(`Permanently delete ${p.toDelete.length} duplicate(s) for "${p.name}"?

The oldest record (ID: ...${p.keeper.id.slice(-4)}) will be kept.
Newer duplicates will be removed.`))try{for(const y of p.toDelete)await F8(y.id);const g=[...n];g.splice(f,1),a(g),alert("Cleaned successfully.")}catch(g){alert("Error deleting: "+g.message)}};return m.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm",children:[m.jsxs("div",{className:"flex justify-between items-start mb-4",children:[m.jsxs("div",{children:[m.jsxs("h3",{className:"text-sm font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[m.jsx(ox,{className:"w-4 h-4 text-amber-500"}),"Database Health: Duplicate SKU Cleaner"]}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Find and remove "ghost" duplicates that cause loading errors.'})]}),m.jsxs("button",{onClick:u,disabled:t,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-white bg-indigo-600 hover:bg-indigo-700 rounded-md transition-colors disabled:opacity-50",children:[m.jsx(BA,{className:`w-3.5 h-3.5 ${t?"animate-spin":""}`}),t?"Scanning...":"Scan Now"]})]}),s&&m.jsx("div",{className:"mb-4 text-xs font-medium text-gray-600 dark:text-gray-300",children:s}),n.length>0&&m.jsx("div",{className:"space-y-3",children:n.map((f,p)=>m.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/10 border border-red-100 dark:border-red-900 rounded-md",children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-sm font-bold text-red-800 dark:text-red-300",children:f.name}),m.jsxs("div",{className:"text-xs text-red-600 dark:text-red-400 mt-0.5",children:["Keeping: ",m.jsx("span",{className:"font-mono",children:f.keeper.id})," (Created: ",new Date(f.keeper.created_at).toLocaleDateString(),")"]}),m.jsxs("div",{className:"text-xs text-red-500 dark:text-red-400/80",children:["Deleting ",f.toDelete.length," newer copies."]})]}),m.jsx("button",{onClick:()=>d(p),className:"p-2 text-red-600 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-full transition-colors",title:"Fix this Duplicate",children:m.jsx(Ja,{className:"w-5 h-5"})})]})},p))}),s&&n.length===0&&m.jsxs("div",{className:"text-center py-6 text-gray-400",children:[m.jsx(ua,{className:"w-8 h-8 mx-auto mb-2 text-emerald-500 opacity-50"}),m.jsx("p",{className:"text-xs",children:"Database is clean. No duplicates found."})]})]})}const Pc=[{id:"admin",label:"Administrator",badge:"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300",desc:"Full system access. Can manage users, settings, and master data."},{id:"planner",label:"Lead Planner",badge:"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300",desc:"Can edit Master Schedule, MRP, and Production Plans."},{id:"logistics",label:"Floor / Logistics",badge:"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300",desc:"Can manage Trucks, Verify Shifts, and view Schedule. No MRP editing."},{id:"viewer",label:"Read-Only Viewer",badge:"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300",desc:"Can view dashboards and schedules but cannot make changes."}];function YB(){const[e,t]=x.useState([]),[r,n]=x.useState(!0),[a,s]=x.useState(""),[l,u]=x.useState("viewer"),[d,f]=x.useState(null),[p,g]=x.useState(null),[y,v]=x.useState(!1);x.useEffect(()=>{w()},[]);const w=async()=>{try{n(!0);const N=await HB();t(N),v(!1)}catch(N){console.error(N),N.code==="42P01"||N.message?.includes("Could not find the table")?(v(!0),t([])):f(N.message)}finally{n(!1)}},k=async N=>{if(N.preventDefault(),!a)return;n(!0),f(null);const E="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",D=new Uint32Array(10);crypto.getRandomValues(D);let O="";for(let T=0;T<10;T++)O+=E[D[T]%E.length];try{try{await ZB(a,O)}catch(T){throw T.message?.includes("Signups not allowed")?new Error("Cannot create user: Public Signups are disabled. Enable them or use Enterprise Invite."):T}await KB(a,l),t(T=>[{email:a.toLowerCase(),role:l,created_at:new Date().toISOString()},...T.filter(P=>P.email!==a.toLowerCase())]),g({email:a,password:O}),s("")}catch(T){console.error("Provisioning Error:",T),f(T.message)}finally{n(!1),w()}},S=async N=>{if(confirm(`Revoke access for ${N}?`))try{await VB(N),t(e.filter(E=>E.email!==N))}catch(E){f(E.message)}},j=async(N,E)=>{try{t(e.map(D=>D.email===N?{...D,role:E}:D)),await FB(N,E)}catch(D){f(D.message),w()}};return y?m.jsxs("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 rounded-lg border border-amber-200 dark:border-amber-700/50",children:[m.jsx("h3",{className:"font-bold text-amber-800 dark:text-amber-200 mb-2",children:"Setup Required"}),m.jsxs("p",{className:"text-sm text-amber-700 dark:text-amber-300 mb-4",children:["The ",m.jsx("code",{children:"user_roles"})," table is missing. Run this SQL in your Supabase SQL Editor:"]}),m.jsxs("div",{className:"bg-slate-900 rounded p-4 relative group",children:[m.jsx("code",{className:"text-xs text-green-400 font-mono block whitespace-pre-wrap",children:`create table user_roles (
  id uuid default gen_random_uuid() primary key,
  email text unique not null,
  role text default 'viewer',
  created_at timestamptz default now()
);

alter table user_roles enable row level security;
create policy "Allow read access for all auth users" on user_roles for select to authenticated using (true);
create policy "Allow insert/update/delete for authenticated" on user_roles for all to authenticated using (true); 
-- In production, replace the write policy with: using (auth.email() IN (SELECT email FROM user_roles WHERE role = 'admin'))`}),m.jsxs("button",{onClick:()=>navigator.clipboard.writeText(`create table user_roles ( id uuid default gen_random_uuid() primary key, email text unique not null, role text default 'viewer', created_at timestamptz default now() ); alter table user_roles enable row level security; create policy "Allow read access" on user_roles for select to authenticated using (true); create policy "Allow all write" on user_roles for all to authenticated using (true);`),className:"absolute top-2 right-2 bg-slate-700 hover:bg-slate-600 text-white text-xs px-2 py-1 rounded flex items-center gap-1",children:[m.jsx(Ny,{className:"w-3 h-3"})," Copy"]})]}),m.jsx("div",{className:"mt-4 flex gap-2",children:m.jsx("button",{onClick:w,className:"px-4 py-2 bg-amber-200 hover:bg-amber-300 rounded text-amber-900 font-bold text-sm",children:"I've ran the SQL, Try Again"})})]}):m.jsxs("div",{className:"space-y-8 relative",children:[m.jsx(GB,{}),p&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:m.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-2xl max-w-md w-full border border-slate-200 dark:border-slate-700 overflow-hidden transform scale-100 transition-all",children:[m.jsx("div",{className:"bg-emerald-500 h-2 w-full"}),m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[m.jsx("div",{className:"bg-emerald-100 dark:bg-emerald-900/30 p-2 rounded-full",children:m.jsx(KA,{className:"w-6 h-6 text-emerald-600 dark:text-emerald-400"})}),m.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"User Created!"})]}),m.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-6",children:["The account for ",m.jsx("strong",{className:"text-slate-700 dark:text-slate-200",children:p.email})," is ready. Please copy the temporary password below."]}),m.jsxs("div",{className:"bg-slate-100 dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700 mb-6",children:[m.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1 block",children:"Temporary Password"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("code",{className:"text-lg font-mono font-bold text-slate-800 dark:text-emerald-400 break-all",children:p.password}),m.jsx("button",{onClick:()=>{navigator.clipboard.writeText(p.password),alert("Password Copied!")},className:"ml-auto p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-slate-700 rounded-lg transition-colors",title:"Copy Password",children:m.jsx(Ny,{className:"w-5 h-5"})})]})]}),m.jsx("button",{onClick:()=>g(null),className:"w-full bg-slate-900 dark:bg-slate-700 hover:bg-slate-800 text-white font-bold py-3 rounded-xl transition-colors",children:"Done"})]})]})}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:Pc.map(N=>m.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-white dark:bg-slate-800 border border-slate-100 dark:border-slate-700 shadow-sm",children:[m.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wide shrink-0 mt-0.5 ${N.badge}`,children:N.label}),m.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 leading-tight",children:N.desc})]},N.id))}),m.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[m.jsxs("h3",{className:"text-sm font-bold text-slate-700 dark:text-slate-300 mb-2 uppercase tracking-wider flex items-center gap-2",children:[m.jsx(dI,{className:"w-5 h-5 text-blue-500"})," Provision New User"]}),m.jsx("p",{className:"text-xs text-slate-500 mb-4",children:"Instantly create a user account. The system will generate a temporary password for you to give to them."}),m.jsxs("form",{onSubmit:k,className:"flex flex-col sm:flex-row gap-4 items-end",children:[m.jsxs("div",{className:"flex-1 w-full",children:[m.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"User Email"}),m.jsx("input",{type:"email",required:!0,placeholder:"colleague@company.com",value:a,onChange:N=>s(N.target.value),className:"w-full rounded-lg border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white p-2.5 focus:ring-blue-500 focus:border-blue-500 shadow-sm"})]}),m.jsxs("div",{className:"w-full sm:w-48",children:[m.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"Role"}),m.jsx("select",{value:l,onChange:N=>u(N.target.value),className:"w-full rounded-lg border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white p-2.5 focus:ring-blue-500 focus:border-blue-500 shadow-sm",children:Pc.map(N=>m.jsx("option",{value:N.id,children:N.label},N.id))})]}),m.jsx("div",{className:"w-full sm:w-auto",children:m.jsx("button",{type:"submit",disabled:r,className:"w-full sm:w-auto bg-blue-600 hover:bg-blue-500 text-white font-bold py-2.5 px-6 rounded-lg transition-colors shadow-lg shadow-blue-500/30 flex items-center justify-center gap-2 disabled:opacity-50",children:r?"Processing...":m.jsxs(m.Fragment,{children:[m.jsx(_u,{className:"w-5 h-5"}),m.jsx("span",{children:"Create User"})]})})})]})]}),m.jsxs("div",{children:[m.jsx("div",{className:"flex justify-between items-end mb-3",children:m.jsxs("h3",{className:"text-sm font-bold text-slate-700 dark:text-slate-300 uppercase tracking-wider",children:["Authorized Users (",e.length,")"]})}),d&&m.jsx("div",{className:"mb-4 text-rose-500 text-sm bg-rose-50 dark:bg-rose-900/20 p-2 rounded border border-rose-100 dark:border-rose-800",children:d}),m.jsx("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl divide-y divide-slate-100 dark:divide-slate-700 shadow-sm overflow-hidden",children:r?m.jsx("div",{className:"p-8 text-center text-slate-500 animate-pulse text-sm",children:"Loading users..."}):e.length===0?m.jsx("div",{className:"p-8 text-center text-slate-400 text-sm italic",children:"No users found. Create one above."}):e.map(N=>{const E=Pc.find(D=>D.id===N.role)||Pc[3];return m.jsxs("div",{className:"p-4 flex flex-col sm:flex-row sm:items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors gap-3",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 dark:bg-slate-700 ring-2 ring-white dark:ring-slate-800 flex items-center justify-center text-sm font-bold text-slate-600 dark:text-slate-300 uppercase shadow-sm",children:N.email.substring(0,2)}),m.jsxs("div",{children:[m.jsx("div",{className:"text-sm font-bold text-slate-900 dark:text-white",children:N.email}),m.jsxs("div",{className:"text-[10px] text-slate-500 dark:text-slate-400 flex items-center gap-1",children:["Added ",new Date(N.created_at).toLocaleDateString()]})]})]}),m.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3 w-full sm:w-auto pl-14 sm:pl-0",children:[m.jsx("select",{value:N.role,onChange:D=>j(N.email,D.target.value),className:`text-xs font-bold rounded-full py-1.5 px-3 border-0 cursor-pointer focus:ring-2 focus:ring-offset-1 transition-colors outline-none ${E.badge}`,children:Pc.map(D=>m.jsx("option",{value:D.id,children:D.label},D.id))}),m.jsx("button",{title:"Revoke Access",onClick:()=>S(N.email),className:"p-2 text-slate-400 hover:text-rose-600 hover:bg-rose-50 dark:hover:bg-rose-900/30 rounded-lg transition-colors",children:m.jsx(Ja,{className:"w-4 h-4"})})]})]},N.id)})})]})]})}const WT=typeof document<"u"?we.useLayoutEffect:()=>{};var Vg;const WB=(Vg=we.useInsertionEffect)!==null&&Vg!==void 0?Vg:WT;function XB(e){const t=x.useRef(null);return WB(()=>{t.current=e},[e]),x.useCallback((...r)=>{const n=t.current;return n?.(...r)},[])}const Qi=e=>{var t;return(t=e?.ownerDocument)!==null&&t!==void 0?t:document},Ds=e=>e&&"window"in e&&e.window===e?e:Qi(e).defaultView||window;function JB(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function QB(e){return JB(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}let eq=!1;function Ex(){return eq}function XT(e,t){if(!Ex())return t&&e?e.contains(t):!1;if(!e||!t)return!1;let r=t;for(;r!==null;){if(r===e)return!0;r.tagName==="SLOT"&&r.assignedSlot?r=r.assignedSlot.parentNode:QB(r)?r=r.host:r=r.parentNode}return!1}const Yy=(e=document)=>{var t;if(!Ex())return e.activeElement;let r=e.activeElement;for(;r&&"shadowRoot"in r&&(!((t=r.shadowRoot)===null||t===void 0)&&t.activeElement);)r=r.shadowRoot.activeElement;return r};function JT(e){return Ex()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}function QT(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=QT(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ft(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=QT(e))&&(n&&(n+=" "),n+=t);return n}function tq(e){var t;if(typeof window>"u"||window.navigator==null)return!1;let r=(t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands;return Array.isArray(r)&&r.some(n=>e.test(n.brand))||e.test(window.navigator.userAgent)}function rq(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function eC(e){let t=null;return()=>(t==null&&(t=e()),t)}const nq=eC(function(){return rq(/^Mac/i)}),aq=eC(function(){return tq(/Android/i)});function tC(){let e=x.useRef(new Map),t=x.useCallback((a,s,l,u)=>{let d=u?.once?(...f)=>{e.current.delete(l),l(...f)}:l;e.current.set(l,{type:s,eventTarget:a,fn:d,options:u}),a.addEventListener(s,d,u)},[]),r=x.useCallback((a,s,l,u)=>{var d;let f=((d=e.current.get(l))===null||d===void 0?void 0:d.fn)||l;a.removeEventListener(s,f,u),e.current.delete(l)},[]),n=x.useCallback(()=>{e.current.forEach((a,s)=>{r(a.eventTarget,a.type,s,a.options)})},[r]);return x.useEffect(()=>n,[n]),{addGlobalListener:t,removeGlobalListener:r,removeAllGlobalListeners:n}}function iq(e){return e.pointerType===""&&e.isTrusted?!0:aq()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}var to=UA();function rC(e){let t=e;return t.nativeEvent=e,t.isDefaultPrevented=()=>t.defaultPrevented,t.isPropagationStopped=()=>t.cancelBubble,t.persist=()=>{},t}function sq(e,t){Object.defineProperty(e,"target",{value:t}),Object.defineProperty(e,"currentTarget",{value:t})}function nC(e){let t=x.useRef({isFocused:!1,observer:null});WT(()=>{const n=t.current;return()=>{n.observer&&(n.observer.disconnect(),n.observer=null)}},[]);let r=XB(n=>{e?.(n)});return x.useCallback(n=>{if(n.target instanceof HTMLButtonElement||n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLSelectElement){t.current.isFocused=!0;let a=n.target,s=l=>{if(t.current.isFocused=!1,a.disabled){let u=rC(l);r(u)}t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};a.addEventListener("focusout",s,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&a.disabled){var l;(l=t.current.observer)===null||l===void 0||l.disconnect();let u=a===document.activeElement?null:document.activeElement;a.dispatchEvent(new FocusEvent("blur",{relatedTarget:u})),a.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:u}))}}),t.current.observer.observe(a,{attributes:!0,attributeFilter:["disabled"]})}},[r])}let oq=!1,ju=null,Wy=new Set,Yc=new Map,Fs=!1,Xy=!1;const lq={Tab:!0,Escape:!0};function Nx(e,t){for(let r of Wy)r(e,t)}function cq(e){return!(e.metaKey||!nq()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function vh(e){Fs=!0,cq(e)&&(ju="keyboard",Nx("keyboard",e))}function ul(e){ju="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(Fs=!0,Nx("pointer",e))}function aC(e){iq(e)&&(Fs=!0,ju="virtual")}function iC(e){e.target===window||e.target===document||oq||!e.isTrusted||(!Fs&&!Xy&&(ju="virtual",Nx("virtual",e)),Fs=!1,Xy=!1)}function sC(){Fs=!1,Xy=!0}function Jy(e){if(typeof window>"u"||typeof document>"u"||Yc.get(Ds(e)))return;const t=Ds(e),r=Qi(e);let n=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){Fs=!0,n.apply(this,arguments)},r.addEventListener("keydown",vh,!0),r.addEventListener("keyup",vh,!0),r.addEventListener("click",aC,!0),t.addEventListener("focus",iC,!0),t.addEventListener("blur",sC,!1),typeof PointerEvent<"u"&&(r.addEventListener("pointerdown",ul,!0),r.addEventListener("pointermove",ul,!0),r.addEventListener("pointerup",ul,!0)),t.addEventListener("beforeunload",()=>{oC(e)},{once:!0}),Yc.set(t,{focus:n})}const oC=(e,t)=>{const r=Ds(e),n=Qi(e);t&&n.removeEventListener("DOMContentLoaded",t),Yc.has(r)&&(r.HTMLElement.prototype.focus=Yc.get(r).focus,n.removeEventListener("keydown",vh,!0),n.removeEventListener("keyup",vh,!0),n.removeEventListener("click",aC,!0),r.removeEventListener("focus",iC,!0),r.removeEventListener("blur",sC,!1),typeof PointerEvent<"u"&&(n.removeEventListener("pointerdown",ul,!0),n.removeEventListener("pointermove",ul,!0),n.removeEventListener("pointerup",ul,!0)),Yc.delete(r))};function uq(e){const t=Qi(e);let r;return t.readyState!=="loading"?Jy(e):(r=()=>{Jy(e)},t.addEventListener("DOMContentLoaded",r)),()=>oC(e,r)}typeof document<"u"&&uq();function lC(){return ju!=="pointer"}const dq=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function fq(e,t,r){let n=Qi(r?.target);const a=typeof window<"u"?Ds(r?.target).HTMLInputElement:HTMLInputElement,s=typeof window<"u"?Ds(r?.target).HTMLTextAreaElement:HTMLTextAreaElement,l=typeof window<"u"?Ds(r?.target).HTMLElement:HTMLElement,u=typeof window<"u"?Ds(r?.target).KeyboardEvent:KeyboardEvent;return e=e||n.activeElement instanceof a&&!dq.has(n.activeElement.type)||n.activeElement instanceof s||n.activeElement instanceof l&&n.activeElement.isContentEditable,!(e&&t==="keyboard"&&r instanceof u&&!lq[r.key])}function hq(e,t,r){Jy(),x.useEffect(()=>{let n=(a,s)=>{fq(!!r?.isTextInput,a,s)&&e(lC())};return Wy.add(n),()=>{Wy.delete(n)}},t)}function mq(e){let{isDisabled:t,onFocus:r,onBlur:n,onFocusChange:a}=e;const s=x.useCallback(d=>{if(d.target===d.currentTarget)return n&&n(d),a&&a(!1),!0},[n,a]),l=nC(s),u=x.useCallback(d=>{const f=Qi(d.target),p=f?Yy(f):Yy();d.target===d.currentTarget&&p===JT(d.nativeEvent)&&(r&&r(d),a&&a(!0),l(d))},[a,r,l]);return{focusProps:{onFocus:!t&&(r||a||n)?u:void 0,onBlur:!t&&(n||a)?s:void 0}}}function pq(e){let{isDisabled:t,onBlurWithin:r,onFocusWithin:n,onFocusWithinChange:a}=e,s=x.useRef({isFocusWithin:!1}),{addGlobalListener:l,removeAllGlobalListeners:u}=tC(),d=x.useCallback(g=>{g.currentTarget.contains(g.target)&&s.current.isFocusWithin&&!g.currentTarget.contains(g.relatedTarget)&&(s.current.isFocusWithin=!1,u(),r&&r(g),a&&a(!1))},[r,a,s,u]),f=nC(d),p=x.useCallback(g=>{if(!g.currentTarget.contains(g.target))return;const y=Qi(g.target),v=Yy(y);if(!s.current.isFocusWithin&&v===JT(g.nativeEvent)){n&&n(g),a&&a(!0),s.current.isFocusWithin=!0,f(g);let w=g.currentTarget;l(y,"focus",k=>{if(s.current.isFocusWithin&&!XT(w,k.target)){let S=new y.defaultView.FocusEvent("blur",{relatedTarget:k.target});sq(S,w);let j=rC(S);d(j)}},{capture:!0})}},[n,a,f,l,d]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:p,onBlur:d}}}let Qy=!1,jf=0;function gq(){Qy=!0,setTimeout(()=>{Qy=!1},50)}function vj(e){e.pointerType==="touch"&&gq()}function vq(){if(!(typeof document>"u"))return jf===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",vj),jf++,()=>{jf--,!(jf>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",vj)}}function yq(e){let{onHoverStart:t,onHoverChange:r,onHoverEnd:n,isDisabled:a}=e,[s,l]=x.useState(!1),u=x.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;x.useEffect(vq,[]);let{addGlobalListener:d,removeAllGlobalListeners:f}=tC(),{hoverProps:p,triggerHoverEnd:g}=x.useMemo(()=>{let y=(k,S)=>{if(u.pointerType=S,a||S==="touch"||u.isHovered||!k.currentTarget.contains(k.target))return;u.isHovered=!0;let j=k.currentTarget;u.target=j,d(Qi(k.target),"pointerover",N=>{u.isHovered&&u.target&&!XT(u.target,N.target)&&v(N,N.pointerType)},{capture:!0}),t&&t({type:"hoverstart",target:j,pointerType:S}),r&&r(!0),l(!0)},v=(k,S)=>{let j=u.target;u.pointerType="",u.target=null,!(S==="touch"||!u.isHovered||!j)&&(u.isHovered=!1,f(),n&&n({type:"hoverend",target:j,pointerType:S}),r&&r(!1),l(!1))},w={};return typeof PointerEvent<"u"&&(w.onPointerEnter=k=>{Qy&&k.pointerType==="mouse"||y(k,k.pointerType)},w.onPointerLeave=k=>{!a&&k.currentTarget.contains(k.target)&&v(k,k.pointerType)}),{hoverProps:w,triggerHoverEnd:v}},[t,r,n,a,u,d,f]);return x.useEffect(()=>{a&&g({currentTarget:u.target},u.pointerType)},[a]),{hoverProps:p,isHovered:s}}function bq(e={}){let{autoFocus:t=!1,isTextInput:r,within:n}=e,a=x.useRef({isFocused:!1,isFocusVisible:t||lC()}),[s,l]=x.useState(!1),[u,d]=x.useState(()=>a.current.isFocused&&a.current.isFocusVisible),f=x.useCallback(()=>d(a.current.isFocused&&a.current.isFocusVisible),[]),p=x.useCallback(v=>{a.current.isFocused=v,l(v),f()},[f]);hq(v=>{a.current.isFocusVisible=v,f()},[],{isTextInput:r});let{focusProps:g}=mq({isDisabled:n,onFocusChange:p}),{focusWithinProps:y}=pq({isDisabled:!n,onFocusWithinChange:p});return{isFocused:s,isFocusVisible:u,focusProps:n?y:g}}var xq=Object.defineProperty,wq=(e,t,r)=>t in e?xq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Kg=(e,t,r)=>(wq(e,typeof t!="symbol"?t+"":t,r),r);let _q=class{constructor(){Kg(this,"current",this.detect()),Kg(this,"handoffState","pending"),Kg(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},fa=new _q;function Ol(e){var t;return fa.isServer?null:e==null?document:(t=e?.ownerDocument)!=null?t:document}function eb(e){var t,r;return fa.isServer?null:e==null?document:(r=(t=e?.getRootNode)==null?void 0:t.call(e))!=null?r:document}function cC(e){var t,r;return(r=(t=eb(e))==null?void 0:t.activeElement)!=null?r:null}function Sq(e){return cC(e)===e}function w0(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function oi(){let e=[],t={addEventListener(r,n,a,s){return r.addEventListener(n,a,s),t.add(()=>r.removeEventListener(n,a,s))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return t.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return t.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return w0(()=>{n.current&&r[0]()}),t.add(()=>{n.current=!1})},style(r,n,a){let s=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:a}),this.add(()=>{Object.assign(r.style,{[n]:s})})},group(r){let n=oi();return r(n),this.add(()=>n.dispose())},add(r){return e.includes(r)||e.push(r),()=>{let n=e.indexOf(r);if(n>=0)for(let a of e.splice(n,1))a()}},dispose(){for(let r of e.splice(0))r()}};return t}function ro(){let[e]=x.useState(oi);return x.useEffect(()=>()=>e.dispose(),[e]),e}let Rr=(e,t)=>{fa.isServer?x.useEffect(e,t):x.useLayoutEffect(e,t)};function no(e){let t=x.useRef(e);return Rr(()=>{t.current=e},[e]),t}let Ze=function(e){let t=no(e);return we.useCallback((...r)=>t.current(...r),[t])};function kq(e){let t=e.width/2,r=e.height/2;return{top:e.clientY-r,right:e.clientX+t,bottom:e.clientY+r,left:e.clientX-t}}function jq(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function Eq({disabled:e=!1}={}){let t=x.useRef(null),[r,n]=x.useState(!1),a=ro(),s=Ze(()=>{t.current=null,n(!1),a.dispose()}),l=Ze(u=>{if(a.dispose(),t.current===null){t.current=u.currentTarget,n(!0);{let d=Ol(u.currentTarget);a.addEventListener(d,"pointerup",s,!1),a.addEventListener(d,"pointermove",f=>{if(t.current){let p=kq(f);n(jq(p,t.current.getBoundingClientRect()))}},!1),a.addEventListener(d,"pointercancel",s,!1)}}});return{pressed:r,pressProps:e?{}:{onPointerDown:l,onPointerUp:s,onClick:s}}}function ao(e){return x.useMemo(()=>e,Object.values(e))}let Nq=x.createContext(void 0);function Ox(){return x.useContext(Nq)}function tb(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function Qa(e,t,...r){if(e in t){let a=t[e];return typeof a=="function"?a(...r):a}let n=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Qa),n}var yh=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(yh||{}),Ki=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Ki||{});function $r(){let e=Aq();return x.useCallback(t=>Oq({mergeRefs:e,...t}),[e])}function Oq({ourProps:e,theirProps:t,slot:r,defaultTag:n,features:a,visible:s=!0,name:l,mergeRefs:u}){u=u??Tq;let d=uC(t,e);if(s)return Ef(d,r,n,l,u);let f=a??0;if(f&2){let{static:p=!1,...g}=d;if(p)return Ef(g,r,n,l,u)}if(f&1){let{unmount:p=!0,...g}=d;return Qa(p?0:1,{0(){return null},1(){return Ef({...g,hidden:!0,style:{display:"none"}},r,n,l,u)}})}return Ef(d,r,n,l,u)}function Ef(e,t={},r,n,a){let{as:s=r,children:l,refName:u="ref",...d}=Zg(e,["unmount","static"]),f=e.ref!==void 0?{[u]:e.ref}:{},p=typeof l=="function"?l(t):l;"className"in d&&d.className&&typeof d.className=="function"&&(d.className=d.className(t)),d["aria-labelledby"]&&d["aria-labelledby"]===d.id&&(d["aria-labelledby"]=void 0);let g={};if(t){let y=!1,v=[];for(let[w,k]of Object.entries(t))typeof k=="boolean"&&(y=!0),k===!0&&v.push(w.replace(/([A-Z])/g,S=>`-${S.toLowerCase()}`));if(y){g["data-headlessui-state"]=v.join(" ");for(let w of v)g[`data-${w}`]=""}}if(Wc(s)&&(Object.keys(Li(d)).length>0||Object.keys(Li(g)).length>0))if(!x.isValidElement(p)||Array.isArray(p)&&p.length>1||Dq(p)){if(Object.keys(Li(d)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Li(d)).concat(Object.keys(Li(g))).map(y=>`  - ${y}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(y=>`  - ${y}`).join(`
`)].join(`
`))}else{let y=p.props,v=y?.className,w=typeof v=="function"?(...j)=>tb(v(...j),d.className):tb(v,d.className),k=w?{className:w}:{},S=uC(p.props,Li(Zg(d,["ref"])));for(let j in g)j in S&&delete g[j];return x.cloneElement(p,Object.assign({},S,g,f,{ref:a(Pq(p),f.ref)},k))}return x.createElement(s,Object.assign({},Zg(d,["ref"]),!Wc(s)&&f,!Wc(s)&&g),p)}function Aq(){let e=x.useRef([]),t=x.useCallback(r=>{for(let n of e.current)n!=null&&(typeof n=="function"?n(r):n.current=r)},[]);return(...r)=>{if(!r.every(n=>n==null))return e.current=r,t}}function Tq(...e){return e.every(t=>t==null)?void 0:t=>{for(let r of e)r!=null&&(typeof r=="function"?r(t):r.current=t)}}function uC(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},r={};for(let n of e)for(let a in n)a.startsWith("on")&&typeof n[a]=="function"?(r[a]!=null||(r[a]=[]),r[a].push(n[a])):t[a]=n[a];if(t.disabled||t["aria-disabled"])for(let n in r)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(n)&&(r[n]=[a=>{var s;return(s=a?.preventDefault)==null?void 0:s.call(a)}]);for(let n in r)Object.assign(t,{[n](a,...s){let l=r[n];for(let u of l){if((a instanceof Event||a?.nativeEvent instanceof Event)&&a.defaultPrevented)return;u(a,...s)}}});return t}function Cq(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},r={};for(let n of e)for(let a in n)a.startsWith("on")&&typeof n[a]=="function"?(r[a]!=null||(r[a]=[]),r[a].push(n[a])):t[a]=n[a];for(let n in r)Object.assign(t,{[n](...a){let s=r[n];for(let l of s)l?.(...a)}});return t}function Ar(e){var t;return Object.assign(x.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Li(e){let t=Object.assign({},e);for(let r in t)t[r]===void 0&&delete t[r];return t}function Zg(e,t=[]){let r=Object.assign({},e);for(let n of t)n in r&&delete r[n];return r}function Pq(e){return we.version.split(".")[0]>="19"?e.props.ref:e.ref}function Wc(e){return e===x.Fragment||e===Symbol.for("react.fragment")}function Dq(e){return Wc(e.type)}function Rq(e,t,r){let[n,a]=x.useState(r),s=e!==void 0,l=x.useRef(s),u=x.useRef(!1),d=x.useRef(!1);return s&&!l.current&&!u.current?(u.current=!0,l.current=s,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!s&&l.current&&!d.current&&(d.current=!0,l.current=s,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[s?e:n,Ze(f=>(s||to.flushSync(()=>a(f)),t?.(f)))]}function Mq(e){let[t]=x.useState(e);return t}function dC(e={},t=null,r=[]){for(let[n,a]of Object.entries(e))hC(r,fC(t,n),a);return r}function fC(e,t){return e?e+"["+t+"]":t}function hC(e,t,r){if(Array.isArray(r))for(let[n,a]of r.entries())hC(e,fC(t,n.toString()),a);else r instanceof Date?e.push([t,r.toISOString()]):typeof r=="boolean"?e.push([t,r?"1":"0"]):typeof r=="string"?e.push([t,r]):typeof r=="number"?e.push([t,`${r}`]):r==null?e.push([t,""]):Iq(r)&&!x.isValidElement(r)&&dC(r,t,e)}function $q(e){var t,r;let n=(t=e?.form)!=null?t:e.closest("form");if(n){for(let a of n.elements)if(a!==e&&(a.tagName==="INPUT"&&a.type==="submit"||a.tagName==="BUTTON"&&a.type==="submit"||a.nodeName==="INPUT"&&a.type==="image")){a.click();return}(r=n.requestSubmit)==null||r.call(n)}}function Iq(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}let Lq="span";var pl=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(pl||{});function zq(e,t){var r;let{features:n=1,...a}=e,s={ref:t,"aria-hidden":(n&2)===2?!0:(r=a["aria-hidden"])!=null?r:void 0,hidden:(n&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return $r()({ourProps:s,theirProps:a,slot:{},defaultTag:Lq,name:"Hidden"})}let iu=Ar(zq),Uq=x.createContext(null);function Bq({children:e}){let t=x.useContext(Uq);if(!t)return we.createElement(we.Fragment,null,e);let{target:r}=t;return r?to.createPortal(we.createElement(we.Fragment,null,e),r):null}function qq({data:e,form:t,disabled:r,onReset:n,overrides:a}){let[s,l]=x.useState(null),u=ro();return x.useEffect(()=>{if(n&&s)return u.addEventListener(s,"reset",n)},[s,t,n]),we.createElement(Bq,null,we.createElement(Hq,{setForm:l,formId:t}),dC(e).map(([d,f])=>we.createElement(iu,{features:pl.Hidden,...Li({key:d,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:t,disabled:r,name:d,value:f,...a})})))}function Hq({setForm:e,formId:t}){return x.useEffect(()=>{if(t){let r=document.getElementById(t);r&&e(r)}},[e,t]),t?null:we.createElement(iu,{features:pl.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:r=>{if(!r)return;let n=r.closest("form");n&&e(n)}})}let Fq=x.createContext(void 0);function mC(){return x.useContext(Fq)}function Vq(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function Ga(e){return Vq(e)&&"tagName"in e}function ma(e){return Ga(e)&&"accessKey"in e}function Zi(e){return Ga(e)&&"tabIndex"in e}function Kq(e){return Ga(e)&&"style"in e}function Zq(e){return ma(e)&&e.nodeName==="IFRAME"}function pC(e){return ma(e)&&e.nodeName==="INPUT"}function rb(e){return ma(e)&&e.nodeName==="LABEL"}function Gq(e){return ma(e)&&e.nodeName==="FIELDSET"}function gC(e){return ma(e)&&e.nodeName==="LEGEND"}function Yq(e){return Ga(e)?e.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function Wq(e){let t=e.parentElement,r=null;for(;t&&!Gq(t);)gC(t)&&(r=t),t=t.parentElement;let n=t?.getAttribute("disabled")==="";return n&&Xq(r)?!1:n}function Xq(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(gC(t))return!1;t=t.previousElementSibling}return!0}let vC=Symbol();function Jq(e,t=!0){return Object.assign(e,{[vC]:t})}function Un(...e){let t=x.useRef(e);x.useEffect(()=>{t.current=e},[e]);let r=Ze(n=>{for(let a of t.current)a!=null&&(typeof a=="function"?a(n):a.current=n)});return e.every(n=>n==null||n?.[vC])?void 0:r}let _0=x.createContext(null);_0.displayName="DescriptionContext";function yC(){let e=x.useContext(_0);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,yC),t}return e}function Qq(){var e,t;return(t=(e=x.useContext(_0))==null?void 0:e.value)!=null?t:void 0}function bC(){let[e,t]=x.useState([]);return[e.length>0?e.join(" "):void 0,x.useMemo(()=>function(r){let n=Ze(s=>(t(l=>[...l,s]),()=>t(l=>{let u=l.slice(),d=u.indexOf(s);return d!==-1&&u.splice(d,1),u}))),a=x.useMemo(()=>({register:n,slot:r.slot,name:r.name,props:r.props,value:r.value}),[n,r.slot,r.name,r.props,r.value]);return we.createElement(_0.Provider,{value:a},r.children)},[t])]}let eH="p";function tH(e,t){let r=x.useId(),n=Ox(),{id:a=`headlessui-description-${r}`,...s}=e,l=yC(),u=Un(t);Rr(()=>l.register(a),[a,l.register]);let d=ao({...l.slot,disabled:n||!1}),f={ref:u,...l.props,id:a};return $r()({ourProps:f,theirProps:s,slot:d,defaultTag:eH,name:l.name||"Description"})}let rH=Ar(tH),xC=Object.assign(rH,{});var bh=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(bh||{});let S0=x.createContext(null);S0.displayName="LabelContext";function wC(){let e=x.useContext(S0);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,wC),t}return e}function _C(e){var t,r,n;let a=(r=(t=x.useContext(S0))==null?void 0:t.value)!=null?r:void 0;return((n=void 0)!=null?n:0)>0?[a,...e].filter(Boolean).join(" "):a}function nH({inherit:e=!1}={}){let t=_C(),[r,n]=x.useState([]),a=e?[t,...r].filter(Boolean):r;return[a.length>0?a.join(" "):void 0,x.useMemo(()=>function(s){let l=Ze(d=>(n(f=>[...f,d]),()=>n(f=>{let p=f.slice(),g=p.indexOf(d);return g!==-1&&p.splice(g,1),p}))),u=x.useMemo(()=>({register:l,slot:s.slot,name:s.name,props:s.props,value:s.value}),[l,s.slot,s.name,s.props,s.value]);return we.createElement(S0.Provider,{value:u},s.children)},[n])]}let aH="label";function iH(e,t){var r;let n=x.useId(),a=wC(),s=mC(),l=Ox(),{id:u=`headlessui-label-${n}`,htmlFor:d=s??((r=a.props)==null?void 0:r.htmlFor),passive:f=!1,...p}=e,g=Un(t);Rr(()=>a.register(u),[u,a.register]);let y=Ze(k=>{let S=k.currentTarget;if(!(k.target!==k.currentTarget&&Yq(k.target))&&(rb(S)&&k.preventDefault(),a.props&&"onClick"in a.props&&typeof a.props.onClick=="function"&&a.props.onClick(k),rb(S))){let j=document.getElementById(S.htmlFor);if(j){let N=j.getAttribute("disabled");if(N==="true"||N==="")return;let E=j.getAttribute("aria-disabled");if(E==="true"||E==="")return;(pC(j)&&(j.type==="file"||j.type==="radio"||j.type==="checkbox")||j.role==="radio"||j.role==="checkbox"||j.role==="switch")&&j.click(),j.focus({preventScroll:!0})}}}),v=ao({...a.slot,disabled:l||!1}),w={ref:g,...a.props,id:u,htmlFor:d,onClick:y};return f&&("onClick"in w&&(delete w.htmlFor,delete w.onClick),"onClick"in p&&delete p.onClick),$r()({ourProps:w,theirProps:p,slot:v,defaultTag:d?aH:"div",name:a.name||"Label"})}let sH=Ar(iH),oH=Object.assign(sH,{}),lH=x.createContext(()=>{});function cH({value:e,children:t}){return we.createElement(lH.Provider,{value:e},t)}let SC=class extends Map{constructor(t){super(),this.factory=t}get(t){let r=super.get(t);return r===void 0&&(r=this.factory(t),this.set(t,r)),r}};var uH=Object.defineProperty,dH=(e,t,r)=>t in e?uH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,fH=(e,t,r)=>(dH(e,t+"",r),r),kC=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},Tn=(e,t,r)=>(kC(e,t,"read from private field"),r?r.call(e):t.get(e)),Gg=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},yj=(e,t,r,n)=>(kC(e,t,"write to private field"),t.set(e,r),r),oa,Fc,Vc;let hH=class{constructor(t){Gg(this,oa,{}),Gg(this,Fc,new SC(()=>new Set)),Gg(this,Vc,new Set),fH(this,"disposables",oi()),yj(this,oa,t),fa.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return Tn(this,oa)}subscribe(t,r){if(fa.isServer)return()=>{};let n={selector:t,callback:r,current:t(Tn(this,oa))};return Tn(this,Vc).add(n),this.disposables.add(()=>{Tn(this,Vc).delete(n)})}on(t,r){return fa.isServer?()=>{}:(Tn(this,Fc).get(t).add(r),this.disposables.add(()=>{Tn(this,Fc).get(t).delete(r)}))}send(t){let r=this.reduce(Tn(this,oa),t);if(r!==Tn(this,oa)){yj(this,oa,r);for(let n of Tn(this,Vc)){let a=n.selector(Tn(this,oa));jC(n.current,a)||(n.current=a,n.callback(a))}for(let n of Tn(this,Fc).get(t.type))n(Tn(this,oa),t)}}};oa=new WeakMap,Fc=new WeakMap,Vc=new WeakMap;function jC(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:Yg(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:Yg(e.entries(),t.entries()):bj(e)&&bj(t)?Yg(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function Yg(e,t){do{let r=e.next(),n=t.next();if(r.done&&n.done)return!0;if(r.done||n.done||!Object.is(r.value,n.value))return!1}while(!0)}function bj(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}var mH=Object.defineProperty,pH=(e,t,r)=>t in e?mH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,xj=(e,t,r)=>(pH(e,typeof t!="symbol"?t+"":t,r),r),gH=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(gH||{});let vH={0(e,t){let r=t.id,n=e.stack,a=e.stack.indexOf(r);if(a!==-1){let s=e.stack.slice();return s.splice(a,1),s.push(r),n=s,{...e,stack:n}}return{...e,stack:[...e.stack,r]}},1(e,t){let r=t.id,n=e.stack.indexOf(r);if(n===-1)return e;let a=e.stack.slice();return a.splice(n,1),{...e,stack:a}}},yH=class EC extends hH{constructor(){super(...arguments),xj(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),xj(this,"selectors",{isTop:(t,r)=>t.stack[t.stack.length-1]===r,inStack:(t,r)=>t.stack.includes(r)})}static new(){return new EC({stack:[]})}reduce(t,r){return Qa(r.type,vH,t,r)}};const NC=new SC(()=>yH.new());var Wg={exports:{}},Xg={};var wj;function bH(){if(wj)return Xg;wj=1;var e=Sl();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,a=e.useRef,s=e.useEffect,l=e.useMemo,u=e.useDebugValue;return Xg.useSyncExternalStoreWithSelector=function(d,f,p,g,y){var v=a(null);if(v.current===null){var w={hasValue:!1,value:null};v.current=w}else w=v.current;v=l(function(){function S(O){if(!j){if(j=!0,N=O,O=g(O),y!==void 0&&w.hasValue){var T=w.value;if(y(T,O))return E=T}return E=O}if(T=E,r(N,O))return T;var P=g(O);return y!==void 0&&y(T,P)?(N=O,T):(N=O,E=P)}var j=!1,N,E,D=p===void 0?null:p;return[function(){return S(f())},D===null?void 0:function(){return S(D())}]},[f,p,g,y]);var k=n(d,v[0],v[1]);return s(function(){w.hasValue=!0,w.value=k},[k]),u(k),k},Xg}var _j;function xH(){return _j||(_j=1,Wg.exports=bH()),Wg.exports}var wH=xH();function OC(e,t,r=jC){return wH.useSyncExternalStoreWithSelector(Ze(n=>e.subscribe(_H,n)),Ze(()=>e.state),Ze(()=>e.state),Ze(t),r)}function _H(e){return e}function Eu(e,t){let r=x.useId(),n=NC.get(t),[a,s]=OC(n,x.useCallback(l=>[n.selectors.isTop(l,r),n.selectors.inStack(l,r)],[n,r]));return Rr(()=>{if(e)return n.actions.push(r),()=>n.actions.pop(r)},[n,e,r]),e?s?a:!0:!1}let nb=new Map,Xc=new Map;function Sj(e){var t;let r=(t=Xc.get(e))!=null?t:0;return Xc.set(e,r+1),r!==0?()=>kj(e):(nb.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>kj(e))}function kj(e){var t;let r=(t=Xc.get(e))!=null?t:1;if(r===1?Xc.delete(e):Xc.set(e,r-1),r!==1)return;let n=nb.get(e);n&&(n["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",n["aria-hidden"]),e.inert=n.inert,nb.delete(e))}function SH(e,{allowed:t,disallowed:r}={}){let n=Eu(e,"inert-others");Rr(()=>{var a,s;if(!n)return;let l=oi();for(let d of(a=r?.())!=null?a:[])d&&l.add(Sj(d));let u=(s=t?.())!=null?s:[];for(let d of u){if(!d)continue;let f=Ol(d);if(!f)continue;let p=d.parentElement;for(;p&&p!==f.body;){for(let g of p.children)u.some(y=>g.contains(y))||l.add(Sj(g));p=p.parentElement}}return l.dispose},[n,t,r])}function kH(e,t,r){let n=no(a=>{let s=a.getBoundingClientRect();s.x===0&&s.y===0&&s.width===0&&s.height===0&&r()});x.useEffect(()=>{if(!e)return;let a=t===null?null:ma(t)?t:t.current;if(!a)return;let s=oi();if(typeof ResizeObserver<"u"){let l=new ResizeObserver(()=>n.current(a));l.observe(a),s.add(()=>l.disconnect())}if(typeof IntersectionObserver<"u"){let l=new IntersectionObserver(()=>n.current(a));l.observe(a),s.add(()=>l.disconnect())}return()=>s.dispose()},[t,n,e])}let xh=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),jH=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Ha=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(Ha||{}),ab=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(ab||{}),EH=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(EH||{});function NH(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(xh)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}function OH(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(jH)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var AC=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(AC||{});function AH(e,t=0){var r;return e===((r=Ol(e))==null?void 0:r.body)?!1:Qa(t,{0(){return e.matches(xh)},1(){let n=e;for(;n!==null;){if(n.matches(xh))return!0;n=n.parentElement}return!1}})}var TH=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(TH||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Ya(e){e?.focus({preventScroll:!0})}let CH=["textarea","input"].join(",");function PH(e){var t,r;return(r=(t=e?.matches)==null?void 0:t.call(e,CH))!=null?r:!1}function DH(e,t=r=>r){return e.slice().sort((r,n)=>{let a=t(r),s=t(n);if(a===null||s===null)return 0;let l=a.compareDocumentPosition(s);return l&Node.DOCUMENT_POSITION_FOLLOWING?-1:l&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Jc(e,t,{sorted:r=!0,relativeTo:n=null,skipElements:a=[]}={}){let s=Array.isArray(e)?e.length>0?eb(e[0]):document:eb(e),l=Array.isArray(e)?r?DH(e):e:t&64?OH(e):NH(e);a.length>0&&l.length>1&&(l=l.filter(v=>!a.some(w=>w!=null&&"current"in w?w?.current===v:w===v))),n=n??s?.activeElement;let u=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,l.indexOf(n))-1;if(t&4)return Math.max(0,l.indexOf(n))+1;if(t&8)return l.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=t&32?{preventScroll:!0}:{},p=0,g=l.length,y;do{if(p>=g||p+g<=0)return 0;let v=d+p;if(t&16)v=(v+g)%g;else{if(v<0)return 3;if(v>=g)return 1}y=l[v],y?.focus(f),p+=u}while(y!==cC(y));return t&6&&PH(y)&&y.select(),2}function TC(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function RH(){return/Android/gi.test(window.navigator.userAgent)}function jj(){return TC()||RH()}function Nf(e,t,r,n){let a=no(r);x.useEffect(()=>{if(!e)return;function s(l){a.current(l)}return document.addEventListener(t,s,n),()=>document.removeEventListener(t,s,n)},[e,t,n])}function CC(e,t,r,n){let a=no(r);x.useEffect(()=>{if(!e)return;function s(l){a.current(l)}return window.addEventListener(t,s,n),()=>window.removeEventListener(t,s,n)},[e,t,n])}const Ej=30;function MH(e,t,r){let n=no(r),a=x.useCallback(function(u,d){if(u.defaultPrevented)return;let f=d(u);if(f===null||!f.getRootNode().contains(f)||!f.isConnected)return;let p=(function g(y){return typeof y=="function"?g(y()):Array.isArray(y)||y instanceof Set?y:[y]})(t);for(let g of p)if(g!==null&&(g.contains(f)||u.composed&&u.composedPath().includes(g)))return;return!AH(f,AC.Loose)&&f.tabIndex!==-1&&u.preventDefault(),n.current(u,f)},[n,t]),s=x.useRef(null);Nf(e,"pointerdown",u=>{var d,f;jj()||(s.current=((f=(d=u.composedPath)==null?void 0:d.call(u))==null?void 0:f[0])||u.target)},!0),Nf(e,"pointerup",u=>{if(jj()||!s.current)return;let d=s.current;return s.current=null,a(u,()=>d)},!0);let l=x.useRef({x:0,y:0});Nf(e,"touchstart",u=>{l.current.x=u.touches[0].clientX,l.current.y=u.touches[0].clientY},!0),Nf(e,"touchend",u=>{let d={x:u.changedTouches[0].clientX,y:u.changedTouches[0].clientY};if(!(Math.abs(d.x-l.current.x)>=Ej||Math.abs(d.y-l.current.y)>=Ej))return a(u,()=>Zi(u.target)?u.target:null)},!0),CC(e,"blur",u=>a(u,()=>Zq(window.document.activeElement)?window.document.activeElement:null),!0)}function Ax(...e){return x.useMemo(()=>Ol(...e),[...e])}function PC(e,t,r,n){let a=no(r);x.useEffect(()=>{e=e??window;function s(l){a.current(l)}return e.addEventListener(t,s,n),()=>e.removeEventListener(t,s,n)},[e,t,n])}function $H(e,t){return x.useMemo(()=>{var r;if(e.type)return e.type;let n=(r=e.as)!=null?r:"button";if(typeof n=="string"&&n.toLowerCase()==="button"||t?.tagName==="BUTTON"&&!t.hasAttribute("type"))return"button"},[e.type,e.as,t])}function IH(e){return x.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}function LH(e,t){let r=e(),n=new Set;return{getSnapshot(){return r},subscribe(a){return n.add(a),()=>n.delete(a)},dispatch(a,...s){let l=t[a].call(r,...s);l&&(r=l,n.forEach(u=>u()))}}}function zH(){let e;return{before({doc:t}){var r;let n=t.documentElement,a=(r=t.defaultView)!=null?r:window;e=Math.max(0,a.innerWidth-n.clientWidth)},after({doc:t,d:r}){let n=t.documentElement,a=Math.max(0,n.clientWidth-n.offsetWidth),s=Math.max(0,e-a);r.style(n,"paddingRight",`${s}px`)}}}function UH(){return TC()?{before({doc:e,d:t,meta:r}){function n(a){for(let s of r().containers)for(let l of s())if(l.contains(a))return!0;return!1}t.microTask(()=>{var a;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let u=oi();u.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>u.dispose()))}let s=(a=window.scrollY)!=null?a:window.pageYOffset,l=null;t.addEventListener(e,"click",u=>{if(Zi(u.target))try{let d=u.target.closest("a");if(!d)return;let{hash:f}=new URL(d.href),p=e.querySelector(f);Zi(p)&&!n(p)&&(l=p)}catch{}},!0),t.group(u=>{t.addEventListener(e,"touchstart",d=>{if(u.dispose(),Zi(d.target)&&Kq(d.target))if(n(d.target)){let f=d.target;for(;f.parentElement&&n(f.parentElement);)f=f.parentElement;u.style(f,"overscrollBehavior","contain")}else u.style(d.target,"touchAction","none")})}),t.addEventListener(e,"touchmove",u=>{if(Zi(u.target)){if(pC(u.target))return;if(n(u.target)){let d=u.target;for(;d.parentElement&&d.dataset.headlessuiPortal!==""&&!(d.scrollHeight>d.clientHeight||d.scrollWidth>d.clientWidth);)d=d.parentElement;d.dataset.headlessuiPortal===""&&u.preventDefault()}else u.preventDefault()}},{passive:!1}),t.add(()=>{var u;let d=(u=window.scrollY)!=null?u:window.pageYOffset;s!==d&&window.scrollTo(0,s),l&&l.isConnected&&(l.scrollIntoView({block:"nearest"}),l=null)})})}}:{}}function BH(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Nj(e){let t={};for(let r of e)Object.assign(t,r(t));return t}let Rs=LH(()=>new Map,{PUSH(e,t){var r;let n=(r=this.get(e))!=null?r:{doc:e,count:0,d:oi(),meta:new Set,computedMeta:{}};return n.count++,n.meta.add(t),n.computedMeta=Nj(n.meta),this.set(e,n),this},POP(e,t){let r=this.get(e);return r&&(r.count--,r.meta.delete(t),r.computedMeta=Nj(r.meta)),this},SCROLL_PREVENT(e){let t={doc:e.doc,d:e.d,meta(){return e.computedMeta}},r=[UH(),zH(),BH()];r.forEach(({before:n})=>n?.(t)),r.forEach(({after:n})=>n?.(t))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Rs.subscribe(()=>{let e=Rs.getSnapshot(),t=new Map;for(let[r]of e)t.set(r,r.documentElement.style.overflow);for(let r of e.values()){let n=t.get(r.doc)==="hidden",a=r.count!==0;(a&&!n||!a&&n)&&Rs.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&Rs.dispatch("TEARDOWN",r)}});function qH(e,t,r=()=>({containers:[]})){let n=IH(Rs),a=t?n.get(t):void 0,s=a?a.count>0:!1;return Rr(()=>{if(!(!t||!e))return Rs.dispatch("PUSH",t,r),()=>Rs.dispatch("POP",t,r)},[e,t]),s}function HH(e,t,r=()=>[document.body]){let n=Eu(e,"scroll-lock");qH(n,t,a=>{var s;return{containers:[...(s=a.containers)!=null?s:[],r]}})}function FH(e=0){let[t,r]=x.useState(e),n=x.useCallback(d=>r(d),[]),a=x.useCallback(d=>r(f=>f|d),[]),s=x.useCallback(d=>(t&d)===d,[t]),l=x.useCallback(d=>r(f=>f&~d),[]),u=x.useCallback(d=>r(f=>f^d),[]);return{flags:t,setFlag:n,addFlag:a,hasFlag:s,removeFlag:l,toggleFlag:u}}var VH={},Oj,Aj;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((Oj=process==null?void 0:VH)==null?void 0:Oj.NODE_ENV)==="test"&&typeof((Aj=Element?.prototype)==null?void 0:Aj.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var KH=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(KH||{});function ZH(e){let t={};for(let r in e)e[r]===!0&&(t[`data-${r}`]="");return t}function GH(e,t,r,n){let[a,s]=x.useState(r),{hasFlag:l,addFlag:u,removeFlag:d}=FH(e&&a?3:0),f=x.useRef(!1),p=x.useRef(!1),g=ro();return Rr(()=>{var y;if(e){if(r&&s(!0),!t){r&&u(3);return}return(y=n?.start)==null||y.call(n,r),YH(t,{inFlight:f,prepare(){p.current?p.current=!1:p.current=f.current,f.current=!0,!p.current&&(r?(u(3),d(4)):(u(4),d(2)))},run(){p.current?r?(d(3),u(4)):(d(4),u(3)):r?d(1):u(1)},done(){var v;p.current&&JH(t)||(f.current=!1,d(7),r||s(!1),(v=n?.end)==null||v.call(n,r))}})}},[e,r,t,g]),e?[a,{closed:l(1),enter:l(2),leave:l(4),transition:l(2)||l(4)}]:[r,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function YH(e,{prepare:t,run:r,done:n,inFlight:a}){let s=oi();return XH(e,{prepare:t,inFlight:a}),s.nextFrame(()=>{r(),s.requestAnimationFrame(()=>{s.add(WH(e,n))})}),s.dispose}function WH(e,t){var r,n;let a=oi();if(!e)return a.dispose;let s=!1;a.add(()=>{s=!0});let l=(n=(r=e.getAnimations)==null?void 0:r.call(e).filter(u=>u instanceof CSSTransition))!=null?n:[];return l.length===0?(t(),a.dispose):(Promise.allSettled(l.map(u=>u.finished)).then(()=>{s||t()}),a.dispose)}function XH(e,{inFlight:t,prepare:r}){if(t!=null&&t.current){r();return}let n=e.style.transition;e.style.transition="none",r(),e.offsetHeight,e.style.transition=n}function JH(e){var t,r;return((r=(t=e.getAnimations)==null?void 0:t.call(e))!=null?r:[]).some(n=>n instanceof CSSTransition&&n.playState!=="finished")}function Tx(e,t){let r=x.useRef([]),n=Ze(e);x.useEffect(()=>{let a=[...r.current];for(let[s,l]of t.entries())if(r.current[s]!==l){let u=n(t,a);return r.current=t,u}},[n,...t])}let k0=x.createContext(null);k0.displayName="OpenClosedContext";var Xn=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Xn||{});function j0(){return x.useContext(k0)}function QH({value:e,children:t}){return we.createElement(k0.Provider,{value:e},t)}function eF({children:e}){return we.createElement(k0.Provider,{value:null},e)}function tF(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let Hi=[];tF(()=>{function e(t){if(!Zi(t.target)||t.target===document.body||Hi[0]===t.target)return;let r=t.target;r=r.closest(xh),Hi.unshift(r??t.target),Hi=Hi.filter(n=>n!=null&&n.isConnected),Hi.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function DC(e){let t=Ze(e),r=x.useRef(!1);x.useEffect(()=>(r.current=!1,()=>{r.current=!0,w0(()=>{r.current&&t()})}),[t])}let RC=x.createContext(!1);function rF(){return x.useContext(RC)}function Tj(e){return we.createElement(RC.Provider,{value:e.force},e.children)}function nF(e){let t=rF(),r=x.useContext($C),[n,a]=x.useState(()=>{var s;if(!t&&r!==null)return(s=r.current)!=null?s:null;if(fa.isServer)return null;let l=e?.getElementById("headlessui-portal-root");if(l)return l;if(e===null)return null;let u=e.createElement("div");return u.setAttribute("id","headlessui-portal-root"),e.body.appendChild(u)});return x.useEffect(()=>{n!==null&&(e!=null&&e.body.contains(n)||e==null||e.body.appendChild(n))},[n,e]),x.useEffect(()=>{t||r!==null&&a(r.current)},[r,a,t]),n}let MC=x.Fragment,aF=Ar(function(e,t){let{ownerDocument:r=null,...n}=e,a=x.useRef(null),s=Un(Jq(y=>{a.current=y}),t),l=Ax(a.current),u=r??l,d=nF(u),f=x.useContext(ib),p=ro(),g=$r();return DC(()=>{var y;d&&d.childNodes.length<=0&&((y=d.parentElement)==null||y.removeChild(d))}),d?to.createPortal(we.createElement("div",{"data-headlessui-portal":"",ref:y=>{p.dispose(),f&&y&&p.add(f.register(y))}},g({ourProps:{ref:s},theirProps:n,slot:{},defaultTag:MC,name:"Portal"})),d):null});function iF(e,t){let r=Un(t),{enabled:n=!0,ownerDocument:a,...s}=e,l=$r();return n?we.createElement(aF,{...s,ownerDocument:a,ref:r}):l({ourProps:{ref:r},theirProps:s,slot:{},defaultTag:MC,name:"Portal"})}let sF=x.Fragment,$C=x.createContext(null);function oF(e,t){let{target:r,...n}=e,a={ref:Un(t)},s=$r();return we.createElement($C.Provider,{value:r},s({ourProps:a,theirProps:n,defaultTag:sF,name:"Popover.Group"}))}let ib=x.createContext(null);function lF(){let e=x.useContext(ib),t=x.useRef([]),r=Ze(s=>(t.current.push(s),e&&e.register(s),()=>n(s))),n=Ze(s=>{let l=t.current.indexOf(s);l!==-1&&t.current.splice(l,1),e&&e.unregister(s)}),a=x.useMemo(()=>({register:r,unregister:n,portals:t}),[r,n,t]);return[t,x.useMemo(()=>function({children:s}){return we.createElement(ib.Provider,{value:a},s)},[a])]}let cF=Ar(iF),IC=Ar(oF),uF=Object.assign(cF,{Group:IC});function dF(e,t=typeof document<"u"?document.defaultView:null,r){let n=Eu(e,"escape");PC(t,"keydown",a=>{n&&(a.defaultPrevented||a.key===bh.Escape&&r(a))})}function fF(){var e;let[t]=x.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[r,n]=x.useState((e=t?.matches)!=null?e:!1);return Rr(()=>{if(!t)return;function a(s){n(s.matches)}return t.addEventListener("change",a),()=>t.removeEventListener("change",a)},[t]),r}function hF({defaultContainers:e=[],portals:t,mainTreeNode:r}={}){let n=Ze(()=>{var a,s;let l=Ol(r),u=[];for(let d of e)d!==null&&(Ga(d)?u.push(d):"current"in d&&Ga(d.current)&&u.push(d.current));if(t!=null&&t.current)for(let d of t.current)u.push(d);for(let d of(a=l?.querySelectorAll("html > *, body > *"))!=null?a:[])d!==document.body&&d!==document.head&&Ga(d)&&d.id!=="headlessui-portal-root"&&(r&&(d.contains(r)||d.contains((s=r?.getRootNode())==null?void 0:s.host))||u.some(f=>d.contains(f))||u.push(d));return u});return{resolveContainers:n,contains:Ze(a=>n().some(s=>s.contains(a)))}}let LC=x.createContext(null);function Cj({children:e,node:t}){let[r,n]=x.useState(null),a=zC(t??r);return we.createElement(LC.Provider,{value:a},e,a===null&&we.createElement(iu,{features:pl.Hidden,ref:s=>{var l,u;if(s){for(let d of(u=(l=Ol(s))==null?void 0:l.querySelectorAll("html > *, body > *"))!=null?u:[])if(d!==document.body&&d!==document.head&&Ga(d)&&d!=null&&d.contains(s)){n(d);break}}}}))}function zC(e=null){var t;return(t=x.useContext(LC))!=null?t:e}function mF(){let e=typeof document>"u";return"useSyncExternalStore"in Ey?(t=>t.useSyncExternalStore)(Ey)(()=>()=>{},()=>!1,()=>!e):!1}function E0(){let e=mF(),[t,r]=x.useState(fa.isHandoffComplete);return t&&fa.isHandoffComplete===!1&&r(!1),x.useEffect(()=>{t!==!0&&r(!0)},[t]),x.useEffect(()=>fa.handoff(),[]),e?!1:t}function Cx(){let e=x.useRef(!1);return Rr(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var Kc=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Kc||{});function pF(){let e=x.useRef(0);return CC(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function UC(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let r of e.current)Ga(r.current)&&t.add(r.current);return t}let gF="div";var Cs=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(Cs||{});function vF(e,t){let r=x.useRef(null),n=Un(r,t),{initialFocus:a,initialFocusFallback:s,containers:l,features:u=15,...d}=e;E0()||(u=0);let f=Ax(r.current);wF(u,{ownerDocument:f});let p=_F(u,{ownerDocument:f,container:r,initialFocus:a,initialFocusFallback:s});SF(u,{ownerDocument:f,container:r,containers:l,previousActiveElement:p});let g=pF(),y=Ze(N=>{if(!ma(r.current))return;let E=r.current;(D=>D())(()=>{Qa(g.current,{[Kc.Forwards]:()=>{Jc(E,Ha.First,{skipElements:[N.relatedTarget,s]})},[Kc.Backwards]:()=>{Jc(E,Ha.Last,{skipElements:[N.relatedTarget,s]})}})})}),v=Eu(!!(u&2),"focus-trap#tab-lock"),w=ro(),k=x.useRef(!1),S={ref:n,onKeyDown(N){N.key=="Tab"&&(k.current=!0,w.requestAnimationFrame(()=>{k.current=!1}))},onBlur(N){if(!(u&4))return;let E=UC(l);ma(r.current)&&E.add(r.current);let D=N.relatedTarget;Zi(D)&&D.dataset.headlessuiFocusGuard!=="true"&&(BC(E,D)||(k.current?Jc(r.current,Qa(g.current,{[Kc.Forwards]:()=>Ha.Next,[Kc.Backwards]:()=>Ha.Previous})|Ha.WrapAround,{relativeTo:N.target}):Zi(N.target)&&Ya(N.target)))}},j=$r();return we.createElement(we.Fragment,null,v&&we.createElement(iu,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:y,features:pl.Focusable}),j({ourProps:S,theirProps:d,defaultTag:gF,name:"FocusTrap"}),v&&we.createElement(iu,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:y,features:pl.Focusable}))}let yF=Ar(vF),bF=Object.assign(yF,{features:Cs});function xF(e=!0){let t=x.useRef(Hi.slice());return Tx(([r],[n])=>{n===!0&&r===!1&&w0(()=>{t.current.splice(0)}),n===!1&&r===!0&&(t.current=Hi.slice())},[e,Hi,t]),Ze(()=>{var r;return(r=t.current.find(n=>n!=null&&n.isConnected))!=null?r:null})}function wF(e,{ownerDocument:t}){let r=!!(e&8),n=xF(r);Tx(()=>{r||Sq(t?.body)&&Ya(n())},[r]),DC(()=>{r&&Ya(n())})}function _F(e,{ownerDocument:t,container:r,initialFocus:n,initialFocusFallback:a}){let s=x.useRef(null),l=Eu(!!(e&1),"focus-trap#initial-focus"),u=Cx();return Tx(()=>{if(e===0)return;if(!l){a!=null&&a.current&&Ya(a.current);return}let d=r.current;d&&w0(()=>{if(!u.current)return;let f=t?.activeElement;if(n!=null&&n.current){if(n?.current===f){s.current=f;return}}else if(d.contains(f)){s.current=f;return}if(n!=null&&n.current)Ya(n.current);else{if(e&16){if(Jc(d,Ha.First|Ha.AutoFocus)!==ab.Error)return}else if(Jc(d,Ha.First)!==ab.Error)return;if(a!=null&&a.current&&(Ya(a.current),t?.activeElement===a.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}s.current=t?.activeElement})},[a,l,e]),s}function SF(e,{ownerDocument:t,container:r,containers:n,previousActiveElement:a}){let s=Cx(),l=!!(e&4);PC(t?.defaultView,"focus",u=>{if(!l||!s.current)return;let d=UC(n);ma(r.current)&&d.add(r.current);let f=a.current;if(!f)return;let p=u.target;ma(p)?BC(d,p)?(a.current=p,Ya(p)):(u.preventDefault(),u.stopPropagation(),Ya(f)):Ya(a.current)},!0)}function BC(e,t){for(let r of e)if(r.contains(t))return!0;return!1}function qC(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||!Wc((t=e.as)!=null?t:FC)||we.Children.count(e.children)===1}let N0=x.createContext(null);N0.displayName="TransitionContext";var kF=(e=>(e.Visible="visible",e.Hidden="hidden",e))(kF||{});function jF(){let e=x.useContext(N0);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function EF(){let e=x.useContext(O0);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let O0=x.createContext(null);O0.displayName="NestingContext";function A0(e){return"children"in e?A0(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function HC(e,t){let r=no(e),n=x.useRef([]),a=Cx(),s=ro(),l=Ze((v,w=Ki.Hidden)=>{let k=n.current.findIndex(({el:S})=>S===v);k!==-1&&(Qa(w,{[Ki.Unmount](){n.current.splice(k,1)},[Ki.Hidden](){n.current[k].state="hidden"}}),s.microTask(()=>{var S;!A0(n)&&a.current&&((S=r.current)==null||S.call(r))}))}),u=Ze(v=>{let w=n.current.find(({el:k})=>k===v);return w?w.state!=="visible"&&(w.state="visible"):n.current.push({el:v,state:"visible"}),()=>l(v,Ki.Unmount)}),d=x.useRef([]),f=x.useRef(Promise.resolve()),p=x.useRef({enter:[],leave:[]}),g=Ze((v,w,k)=>{d.current.splice(0),t&&(t.chains.current[w]=t.chains.current[w].filter(([S])=>S!==v)),t?.chains.current[w].push([v,new Promise(S=>{d.current.push(S)})]),t?.chains.current[w].push([v,new Promise(S=>{Promise.all(p.current[w].map(([j,N])=>N)).then(()=>S())})]),w==="enter"?f.current=f.current.then(()=>t?.wait.current).then(()=>k(w)):k(w)}),y=Ze((v,w,k)=>{Promise.all(p.current[w].splice(0).map(([S,j])=>j)).then(()=>{var S;(S=d.current.shift())==null||S()}).then(()=>k(w))});return x.useMemo(()=>({children:n,register:u,unregister:l,onStart:g,onStop:y,wait:f,chains:p}),[u,l,n,g,y,p,f])}let FC=x.Fragment,VC=yh.RenderStrategy;function NF(e,t){var r,n;let{transition:a=!0,beforeEnter:s,afterEnter:l,beforeLeave:u,afterLeave:d,enter:f,enterFrom:p,enterTo:g,entered:y,leave:v,leaveFrom:w,leaveTo:k,...S}=e,[j,N]=x.useState(null),E=x.useRef(null),D=qC(e),O=Un(...D?[E,t,N]:t===null?[]:[t]),T=(r=S.unmount)==null||r?Ki.Unmount:Ki.Hidden,{show:P,appear:C,initial:R}=jF(),[I,M]=x.useState(P?"visible":"hidden"),z=EF(),{register:B,unregister:G}=z;Rr(()=>B(E),[B,E]),Rr(()=>{if(T===Ki.Hidden&&E.current){if(P&&I!=="visible"){M("visible");return}return Qa(I,{hidden:()=>G(E),visible:()=>B(E)})}},[I,E,B,G,P,T]);let ae=E0();Rr(()=>{if(D&&ae&&I==="visible"&&E.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[E,I,ae,D]);let q=R&&!C,F=C&&P&&R,W=x.useRef(!1),J=HC(()=>{W.current||(M("hidden"),G(E))},z),pe=Ze(ve=>{W.current=!0;let be=ve?"enter":"leave";J.onStart(E,be,Z=>{Z==="enter"?s?.():Z==="leave"&&u?.()})}),L=Ze(ve=>{let be=ve?"enter":"leave";W.current=!1,J.onStop(E,be,Z=>{Z==="enter"?l?.():Z==="leave"&&d?.()}),be==="leave"&&!A0(J)&&(M("hidden"),G(E))});x.useEffect(()=>{D&&a||(pe(P),L(P))},[P,D,a]);let K=!(!a||!D||!ae||q),[,U]=GH(K,j,P,{start:pe,end:L}),te=Li({ref:O,className:((n=tb(S.className,F&&f,F&&p,U.enter&&f,U.enter&&U.closed&&p,U.enter&&!U.closed&&g,U.leave&&v,U.leave&&!U.closed&&w,U.leave&&U.closed&&k,!U.transition&&P&&y))==null?void 0:n.trim())||void 0,...ZH(U)}),ne=0;I==="visible"&&(ne|=Xn.Open),I==="hidden"&&(ne|=Xn.Closed),P&&I==="hidden"&&(ne|=Xn.Opening),!P&&I==="visible"&&(ne|=Xn.Closing);let de=$r();return we.createElement(O0.Provider,{value:J},we.createElement(QH,{value:ne},de({ourProps:te,theirProps:S,defaultTag:FC,features:VC,visible:I==="visible",name:"Transition.Child"})))}function OF(e,t){let{show:r,appear:n=!1,unmount:a=!0,...s}=e,l=x.useRef(null),u=qC(e),d=Un(...u?[l,t]:t===null?[]:[t]);E0();let f=j0();if(r===void 0&&f!==null&&(r=(f&Xn.Open)===Xn.Open),r===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[p,g]=x.useState(r?"visible":"hidden"),y=HC(()=>{r||g("hidden")}),[v,w]=x.useState(!0),k=x.useRef([r]);Rr(()=>{v!==!1&&k.current[k.current.length-1]!==r&&(k.current.push(r),w(!1))},[k,r]);let S=x.useMemo(()=>({show:r,appear:n,initial:v}),[r,n,v]);Rr(()=>{r?g("visible"):!A0(y)&&l.current!==null&&g("hidden")},[r,y]);let j={unmount:a},N=Ze(()=>{var O;v&&w(!1),(O=e.beforeEnter)==null||O.call(e)}),E=Ze(()=>{var O;v&&w(!1),(O=e.beforeLeave)==null||O.call(e)}),D=$r();return we.createElement(O0.Provider,{value:y},we.createElement(N0.Provider,{value:S},D({ourProps:{...j,as:x.Fragment,children:we.createElement(KC,{ref:d,...j,...s,beforeEnter:N,beforeLeave:E})},theirProps:{},defaultTag:x.Fragment,features:VC,visible:p==="visible",name:"Transition"})))}function AF(e,t){let r=x.useContext(N0)!==null,n=j0()!==null;return we.createElement(we.Fragment,null,!r&&n?we.createElement(sb,{ref:t,...e}):we.createElement(KC,{ref:t,...e}))}let sb=Ar(OF),KC=Ar(NF),Px=Ar(AF),Yf=Object.assign(sb,{Child:Px,Root:sb});var TF=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(TF||{}),CF=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(CF||{});let PF={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},Dx=x.createContext(null);Dx.displayName="DialogContext";function T0(e){let t=x.useContext(Dx);if(t===null){let r=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,T0),r}return t}function DF(e,t){return Qa(t.type,PF,e,t)}let Pj=Ar(function(e,t){let r=x.useId(),{id:n=`headlessui-dialog-${r}`,open:a,onClose:s,initialFocus:l,role:u="dialog",autoFocus:d=!0,__demoMode:f=!1,unmount:p=!1,...g}=e,y=x.useRef(!1);u=(function(){return u==="dialog"||u==="alertdialog"?u:(y.current||(y.current=!0,console.warn(`Invalid role [${u}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")})();let v=j0();a===void 0&&v!==null&&(a=(v&Xn.Open)===Xn.Open);let w=x.useRef(null),k=Un(w,t),S=Ax(w.current),j=a?0:1,[N,E]=x.useReducer(DF,{titleId:null,descriptionId:null,panelRef:x.createRef()}),D=Ze(()=>s(!1)),O=Ze(U=>E({type:0,id:U})),T=E0()?j===0:!1,[P,C]=lF(),R={get current(){var U;return(U=N.panelRef.current)!=null?U:w.current}},I=zC(),{resolveContainers:M}=hF({mainTreeNode:I,portals:P,defaultContainers:[R]}),z=v!==null?(v&Xn.Closing)===Xn.Closing:!1;SH(f||z?!1:T,{allowed:Ze(()=>{var U,te;return[(te=(U=w.current)==null?void 0:U.closest("[data-headlessui-portal]"))!=null?te:null]}),disallowed:Ze(()=>{var U;return[(U=I?.closest("body > *:not(#headlessui-portal-root)"))!=null?U:null]})});let B=NC.get(null);Rr(()=>{if(T)return B.actions.push(n),()=>B.actions.pop(n)},[B,n,T]);let G=OC(B,x.useCallback(U=>B.selectors.isTop(U,n),[B,n]));MH(G,M,U=>{U.preventDefault(),D()}),dF(G,S?.defaultView,U=>{U.preventDefault(),U.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),D()}),HH(f||z?!1:T,S,M),kH(T,w,D);let[ae,q]=bC(),F=x.useMemo(()=>[{dialogState:j,close:D,setTitleId:O,unmount:p},N],[j,D,O,p,N]),W=ao({open:j===0}),J={ref:k,id:n,role:u,tabIndex:-1,"aria-modal":f?void 0:j===0?!0:void 0,"aria-labelledby":N.titleId,"aria-describedby":ae,unmount:p},pe=!fF(),L=Cs.None;T&&!f&&(L|=Cs.RestoreFocus,L|=Cs.TabLock,d&&(L|=Cs.AutoFocus),pe&&(L|=Cs.InitialFocus));let K=$r();return we.createElement(eF,null,we.createElement(Tj,{force:!0},we.createElement(uF,null,we.createElement(Dx.Provider,{value:F},we.createElement(IC,{target:w},we.createElement(Tj,{force:!1},we.createElement(q,{slot:W},we.createElement(C,null,we.createElement(bF,{initialFocus:l,initialFocusFallback:w,containers:M,features:L},we.createElement(cH,{value:D},K({ourProps:J,theirProps:g,slot:W,defaultTag:RF,features:MF,visible:j===0,name:"Dialog"})))))))))))}),RF="div",MF=yh.RenderStrategy|yh.Static;function $F(e,t){let{transition:r=!1,open:n,...a}=e,s=j0(),l=e.hasOwnProperty("open")||s!==null,u=e.hasOwnProperty("onClose");if(!l&&!u)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!l)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!u)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!s&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(n!==void 0||r)&&!a.static?we.createElement(Cj,null,we.createElement(Yf,{show:n,transition:r,unmount:a.unmount},we.createElement(Pj,{ref:t,...a}))):we.createElement(Cj,null,we.createElement(Pj,{ref:t,open:n,...a}))}let IF="div";function LF(e,t){let r=x.useId(),{id:n=`headlessui-dialog-panel-${r}`,transition:a=!1,...s}=e,[{dialogState:l,unmount:u},d]=T0("Dialog.Panel"),f=Un(t,d.panelRef),p=ao({open:l===0}),g=Ze(S=>{S.stopPropagation()}),y={ref:f,id:n,onClick:g},v=a?Px:x.Fragment,w=a?{unmount:u}:{},k=$r();return we.createElement(v,{...w},k({ourProps:y,theirProps:s,slot:p,defaultTag:IF,name:"Dialog.Panel"}))}let zF="div";function UF(e,t){let{transition:r=!1,...n}=e,[{dialogState:a,unmount:s}]=T0("Dialog.Backdrop"),l=ao({open:a===0}),u={ref:t,"aria-hidden":!0},d=r?Px:x.Fragment,f=r?{unmount:s}:{},p=$r();return we.createElement(d,{...f},p({ourProps:u,theirProps:n,slot:l,defaultTag:zF,name:"Dialog.Backdrop"}))}let BF="h2";function qF(e,t){let r=x.useId(),{id:n=`headlessui-dialog-title-${r}`,...a}=e,[{dialogState:s,setTitleId:l}]=T0("Dialog.Title"),u=Un(t);x.useEffect(()=>(l(n),()=>l(null)),[n,l]);let d=ao({open:s===0}),f={ref:u,id:n};return $r()({ourProps:f,theirProps:a,slot:d,defaultTag:BF,name:"Dialog.Title"})}let HF=Ar($F),FF=Ar(LF);Ar(UF);let VF=Ar(qF),Mt=Object.assign(HF,{Panel:FF,Title:VF,Description:xC}),Rx=x.createContext(null);Rx.displayName="GroupContext";let KF=x.Fragment;function ZF(e){var t;let[r,n]=x.useState(null),[a,s]=nH(),[l,u]=bC(),d=x.useMemo(()=>({switch:r,setSwitch:n}),[r,n]),f={},p=e,g=$r();return we.createElement(u,{name:"Switch.Description",value:l},we.createElement(s,{name:"Switch.Label",value:a,props:{htmlFor:(t=d.switch)==null?void 0:t.id,onClick(y){r&&(rb(y.currentTarget)&&y.preventDefault(),r.click(),r.focus({preventScroll:!0}))}}},we.createElement(Rx.Provider,{value:d},g({ourProps:f,theirProps:p,slot:{},defaultTag:KF,name:"Switch.Group"}))))}let GF="button";function YF(e,t){var r;let n=x.useId(),a=mC(),s=Ox(),{id:l=a||`headlessui-switch-${n}`,disabled:u=s||!1,checked:d,defaultChecked:f,onChange:p,name:g,value:y,form:v,autoFocus:w=!1,...k}=e,S=x.useContext(Rx),[j,N]=x.useState(null),E=x.useRef(null),D=Un(E,t,S===null?null:S.setSwitch,N),O=Mq(f),[T,P]=Rq(d,p,O??!1),C=ro(),[R,I]=x.useState(!1),M=Ze(()=>{I(!0),P?.(!T),C.nextFrame(()=>{I(!1)})}),z=Ze(ve=>{if(Wq(ve.currentTarget))return ve.preventDefault();ve.preventDefault(),M()}),B=Ze(ve=>{ve.key===bh.Space?(ve.preventDefault(),M()):ve.key===bh.Enter&&$q(ve.currentTarget)}),G=Ze(ve=>ve.preventDefault()),ae=_C(),q=Qq(),{isFocusVisible:F,focusProps:W}=bq({autoFocus:w}),{isHovered:J,hoverProps:pe}=yq({isDisabled:u}),{pressed:L,pressProps:K}=Eq({disabled:u}),U=ao({checked:T,disabled:u,hover:J,focus:F,active:L,autofocus:w,changing:R}),te=Cq({id:l,ref:D,role:"switch",type:$H(e,j),tabIndex:e.tabIndex===-1?0:(r=e.tabIndex)!=null?r:0,"aria-checked":T,"aria-labelledby":ae,"aria-describedby":q,disabled:u||void 0,autoFocus:w,onClick:z,onKeyUp:B,onKeyPress:G},W,pe,K),ne=x.useCallback(()=>{if(O!==void 0)return P?.(O)},[P,O]),de=$r();return we.createElement(we.Fragment,null,g!=null&&we.createElement(qq,{disabled:u,data:{[g]:y||"on"},overrides:{type:"checkbox",checked:T},form:v,onReset:ne}),de({ourProps:te,theirProps:k,slot:U,defaultTag:GF,name:"Switch"}))}let WF=Ar(YF),XF=ZF,JF=oH,QF=xC,eV=Object.assign(WF,{Group:XF,Label:JF,Description:QF});function tV({isOpen:e,onClose:t,product:r,onSave:n,readOnly:a=!1}){const{user:s}=Or(),[l,u]=x.useState({name:"",description:"",material_code:"",bottles_per_case:12,bottles_per_truck:2e4,cases_per_pallet:100,lead_time_days:2,safety_stock_loads:6,lines:[]}),[d,f]=x.useState(!1),[p,g]=x.useState(null);x.useEffect(()=>{e&&(u(r?{name:r.name,description:r.description||"",material_code:r.material_code||"",color_tag:r.color_tag||"#3B82F6",bottles_per_case:r.bottles_per_case||24,cases_per_pallet:r.cases_per_pallet||100,bottles_per_truck:r.bottles_per_truck||1e5,pallets_per_truck:r.pallets_per_truck||22,lead_time_days:r.lead_time_days!==null&&r.lead_time_days!==void 0?r.lead_time_days:2,safety_stock_loads:r.safety_stock_loads!==null&&r.safety_stock_loads!==void 0?r.safety_stock_loads:6,lines:r.production_settings?.length>0?r.production_settings.map(S=>({line_name:S.line_name,production_rate:S.production_rate})):[{line_name:"Line 1",production_rate:2500}]}:{name:"",description:"",material_code:"",color_tag:"#3B82F6",bottles_per_case:24,cases_per_pallet:100,bottles_per_truck:1e5,pallets_per_truck:22,lead_time_days:2,safety_stock_loads:6,lines:[{line_name:"Line 1",production_rate:2500}]}),g(null))},[e,r]);const y=()=>{u(S=>({...S,lines:[...S.lines,{line_name:`Line ${S.lines.length+1}`,production_rate:2500}]}))},v=S=>{u(j=>({...j,lines:j.lines.filter((N,E)=>E!==S)}))},w=(S,j,N)=>{const E=[...l.lines];E[S][j]=N,u({...l,lines:E})},k=async S=>{if(S.preventDefault(),!(!s||a)){f(!0),g(null);try{const j={name:l.name,description:l.description,material_code:l.material_code||null,color_tag:l.color_tag,bottles_per_case:Number(l.bottles_per_case),bottles_per_truck:Number(l.bottles_per_truck),cases_per_pallet:Number(l.cases_per_pallet),pallets_per_truck:Number(l.pallets_per_truck),lead_time_days:Number(l.lead_time_days),safety_stock_loads:Number(l.safety_stock_loads),user_id:s.id};r?.id&&(j.id=r.id);const{data:N,error:E}=await Ne.from("products").upsert(j,{onConflict:"name"}).select().single();if(E)throw E;const D=l.lines.map(T=>({product_id:N.id,user_id:s.id,line_name:T.line_name||"Line 1",production_rate:Number(T.production_rate)})),{error:O}=await Ne.from("production_settings").upsert(D,{onConflict:"product_id, line_name"});if(O)throw O;n(),t()}catch(j){console.error("Save Error:",j),g(j.message||"Failed to save product")}finally{f(!1)}}};return m.jsxs(Mt,{open:e,onClose:t,className:"relative z-50",children:[m.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm","aria-hidden":"true"}),m.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:m.jsxs(Mt.Panel,{className:"w-full max-w-lg rounded-2xl bg-white dark:bg-gray-800 p-6 shadow-xl border border-gray-200 dark:border-gray-700 max-h-[90vh] overflow-y-auto",children:[m.jsx(Mt.Title,{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:a?"View Product Configuration":r?"Edit Product Configuration":"Add New Product"}),p&&m.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg text-sm",children:p}),m.jsxs("form",{onSubmit:k,className:"space-y-5",children:[m.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-xl space-y-4",children:[m.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Identification"}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-[10px] font-medium text-gray-500 uppercase mb-1",children:"SKU Name"}),m.jsx("input",{type:"text",required:!0,value:l.name,onChange:S=>u({...l,name:S.target.value}),disabled:!!r||a,className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white font-bold focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"e.g. 20oz Cola"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-[10px] font-medium text-gray-500 uppercase mb-1",children:"Display Color"}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("input",{type:"color",value:l.color_tag,onChange:S=>u({...l,color_tag:S.target.value}),disabled:a,className:"h-9 w-12 rounded cursor-pointer border-0 p-0 disabled:opacity-50"}),m.jsx("span",{className:"text-xs text-gray-400",children:"Schedule Color"})]})]}),m.jsxs("div",{className:"col-span-2",children:[m.jsx("label",{className:"block text-[10px] font-medium text-gray-500 uppercase mb-1",children:"Description (Optional)"}),m.jsx("input",{type:"text",value:l.description,onChange:S=>u({...l,description:S.target.value}),disabled:a,className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm disabled:opacity-50",placeholder:"e.g. Standard 24pk Tray"})]}),m.jsxs("div",{className:"col-span-2",children:[m.jsxs("label",{className:"block text-[10px] font-medium text-gray-500 uppercase mb-1",children:["SAP Material Code ",m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsx("input",{type:"text",required:!0,value:l.material_code,onChange:S=>u({...l,material_code:S.target.value}),disabled:a,className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm font-mono disabled:opacity-50",placeholder:"e.g. 1855526"}),m.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Required for SAP import mapping"})]})]})]}),m.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/10 p-4 rounded-xl space-y-4",children:[m.jsx("h3",{className:"text-xs font-bold text-emerald-600 uppercase tracking-wider",children:" Finished Product Spec"}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Pack Size"}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("input",{type:"number",required:!0,min:"1",value:l.bottles_per_case,onChange:S=>u({...l,bottles_per_case:S.target.value}),disabled:a,className:"w-full px-3 py-2 rounded-lg border border-emerald-200 dark:border-emerald-800 bg-emerald-50/50 dark:bg-emerald-900/20 text-emerald-900 dark:text-emerald-100 text-sm font-bold disabled:opacity-50"}),m.jsx("span",{className:"text-xs text-emerald-600 dark:text-emerald-400",children:"units/case"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Pallet Count"}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("input",{type:"number",required:!0,min:"1",value:l.cases_per_pallet,onChange:S=>u({...l,cases_per_pallet:S.target.value}),disabled:a,className:"w-full px-3 py-2 rounded-lg border border-emerald-200 dark:border-emerald-800 bg-emerald-50/50 dark:bg-emerald-900/20 text-emerald-900 dark:text-emerald-100 text-sm font-bold disabled:opacity-50"}),m.jsx("span",{className:"text-xs text-emerald-600 dark:text-emerald-400",children:"cases/plt"})]})]})]})]}),m.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/10 p-4 rounded-xl space-y-4",children:[m.jsx("h3",{className:"text-xs font-bold text-indigo-600 uppercase tracking-wider",children:" Planning Settings"}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Lead Time"}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("input",{type:"number",required:!0,min:"0",value:l.lead_time_days,onChange:S=>u({...l,lead_time_days:S.target.value}),disabled:a,className:"w-full px-3 py-2 rounded-lg border border-indigo-200 dark:border-indigo-800 bg-indigo-50/50 dark:bg-indigo-900/20 text-indigo-900 dark:text-indigo-100 text-sm font-bold disabled:opacity-50"}),m.jsx("span",{className:"text-xs text-indigo-600 dark:text-indigo-400",children:"days"})]}),m.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Frozen zone for auto-balance logic."})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Safety Stock"}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("input",{type:"number",required:!0,min:"0",value:l.safety_stock_loads,onChange:S=>u({...l,safety_stock_loads:S.target.value}),disabled:a,className:"w-full px-3 py-2 rounded-lg border border-indigo-200 dark:border-indigo-800 bg-indigo-50/50 dark:bg-indigo-900/20 text-indigo-900 dark:text-indigo-100 text-sm font-bold disabled:opacity-50"}),m.jsx("span",{className:"text-xs text-indigo-600 dark:text-indigo-400",children:"loads"})]}),m.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Target floor inventory (multiplier)."})]})]})]}),m.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-4 rounded-xl space-y-4",children:[m.jsx("h3",{className:"text-xs font-bold text-blue-600 uppercase tracking-wider",children:" Raw Material Truck Spec"}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Inbound Truck Quantity"}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("input",{type:"number",required:!0,min:"1",step:"1",value:l.bottles_per_truck,onChange:S=>u({...l,bottles_per_truck:S.target.value}),disabled:a,className:"w-full px-3 py-2 rounded-lg border border-blue-200 dark:border-blue-800 bg-blue-50/50 dark:bg-blue-900/20 text-blue-900 dark:text-blue-100 text-lg font-black tracking-tight disabled:opacity-50"}),m.jsx("span",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium",children:"units / truck"})]}),m.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Total quantity of empty bottles/cans on a single full truckload."})]}),m.jsxs("div",{className:"mt-4",children:[m.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Pallets Per Truck"}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("input",{type:"number",required:!0,min:"1",value:l.pallets_per_truck,onChange:S=>u({...l,pallets_per_truck:S.target.value}),disabled:a,className:"w-24 px-3 py-2 rounded-lg border border-blue-200 dark:border-blue-800 bg-blue-50/50 dark:bg-blue-900/20 text-blue-900 dark:text-blue-100 text-sm font-bold disabled:opacity-50"}),m.jsx("span",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium",children:"pallets / truck"})]}),m.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Number of pallets per full truckload (for yard inventory calculations)."})]})]}),m.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-4 rounded-xl space-y-3",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h3",{className:"text-xs font-bold text-blue-500 uppercase tracking-wider",children:"Production Lines"}),!a&&m.jsxs("button",{type:"button",onClick:y,className:"text-xs text-blue-600 hover:text-blue-800 font-medium flex items-center gap-1",children:[m.jsx(_u,{className:"w-3 h-3"})," Add Line"]})]}),m.jsxs("div",{className:"space-y-2",children:[l.lines.map((S,j)=>m.jsxs("div",{className:"flex gap-2 items-center",children:[m.jsx("input",{type:"text",value:S.line_name,onChange:N=>w(j,"line_name",N.target.value),placeholder:"Line Name",disabled:a,className:"flex-1 px-3 py-1.5 rounded-lg border border-gray-200 dark:border-gray-600 text-sm disabled:opacity-50"}),m.jsx("input",{type:"number",value:S.production_rate,onChange:N=>w(j,"production_rate",N.target.value),placeholder:"CPH",disabled:a,className:"w-24 px-3 py-1.5 rounded-lg border border-gray-200 dark:border-gray-600 text-sm text-right disabled:opacity-50"}),!a&&m.jsx("button",{type:"button",onClick:()=>v(j),className:"p-1.5 text-red-500 hover:bg-red-100 rounded-lg transition-colors",title:"Remove Line",children:m.jsx(Ja,{className:"w-4 h-4"})})]},j)),l.lines.length===0&&m.jsx("p",{className:"text-xs text-center text-gray-400 py-2",children:"No active production lines."})]})]}),m.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t dark:border-gray-700 mt-6",children:[m.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded-lg text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:a?"Close":"Cancel"}),!a&&m.jsx("button",{type:"submit",disabled:d,className:"px-4 py-2 rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50 shadow-sm",children:d?"Saving...":"Save Configuration"})]})]})]})})]})}function rV({readOnly:e=!1}){const{user:t}=Or(),{products:r,loading:n,refreshProducts:a}=yr(),[s,l]=x.useState(!1),[u,d]=x.useState(null),f=y=>{d(y),l(!0)},p=()=>{d(null),l(!0)},g=()=>{a()};return m.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[m.jsxs("div",{className:"flex justify-between items-center bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[m.jsxs("div",{children:[m.jsxs("h1",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[m.jsx(Rg,{className:"w-6 h-6 text-blue-600"}),"Product Master Data"]}),m.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage SKUs, dimensions, and run rates."})]}),m.jsx("div",{className:"flex gap-2",children:!e&&m.jsxs("button",{onClick:p,className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium shadow-sm transition-all",children:[m.jsx(_u,{className:"w-5 h-5"}),"Add Product"]})})]}),n?m.jsx("div",{className:"flex justify-center p-12",children:m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.map(y=>m.jsxs("div",{onClick:()=>f(y),className:"group bg-white dark:bg-gray-800 rounded-xl p-5 border border-gray-200 dark:border-gray-700 shadow-sm hover:shadow-md hover:border-blue-300 dark:hover:border-blue-700 cursor-pointer transition-all",children:[m.jsxs("div",{className:"flex justify-between items-start mb-4",children:[m.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:m.jsx(Rg,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),m.jsxs("span",{className:"text-xs font-mono text-gray-400",children:["ID: ",y.id.slice(0,4),"..."]})]}),m.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1",children:y.name}),y.description&&m.jsx("p",{className:"text-xs text-gray-500 mb-4 line-clamp-2",children:y.description}),m.jsxs("div",{className:"space-y-3 text-sm mt-4",children:[m.jsxs("div",{className:"flex justify-between py-1 border-b border-gray-100 dark:border-gray-700/50",children:[m.jsxs("span",{className:"text-gray-500 flex items-center gap-2",children:[m.jsx(Rn,{className:"w-4 h-4"}),"Bottles/Truck"]}),m.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-200",children:y.bottles_per_truck?.toLocaleString()})]}),m.jsxs("div",{className:"flex justify-between py-1 border-b border-gray-100 dark:border-gray-700/50",children:[m.jsx("span",{className:"text-gray-500",children:"Bottles/Case"}),m.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-200",children:y.bottles_per_case})]}),m.jsxs("div",{className:"flex justify-between py-1 border-b border-gray-100 dark:border-gray-700/50",children:[m.jsx("span",{className:"text-gray-500",children:"Cases/Pallet"}),m.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-200",children:y.cases_per_pallet})]}),m.jsxs("div",{className:"flex justify-between py-1 border-b border-gray-100 dark:border-gray-700/50",children:[m.jsx("span",{className:"text-gray-500",children:"Lead Time"}),m.jsxs("span",{className:"font-medium text-indigo-700 dark:text-indigo-300",children:[y.lead_time_days||2," Days"]})]}),m.jsxs("div",{className:"flex justify-between py-1 border-b border-gray-100 dark:border-gray-700/50",children:[m.jsx("span",{className:"text-gray-500",children:"Safety Stock"}),m.jsxs("span",{className:"font-medium text-indigo-700 dark:text-indigo-300",children:[y.safety_stock_loads||6," Loads"]})]}),m.jsxs("div",{className:"pt-2",children:[m.jsxs("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-2 block flex items-center gap-1",children:[m.jsx(O6,{className:"w-3 h-3 text-amber-500"}),"Run Rates (CPH)"]}),m.jsx("div",{className:"space-y-1",children:y.production_settings?.length>0?y.production_settings.map(v=>m.jsxs("div",{className:"flex justify-between text-xs bg-gray-50 dark:bg-gray-700/50 px-2 py-1 rounded",children:[m.jsx("span",{className:"text-gray-600 dark:text-gray-300 font-medium",children:v.line_name}),m.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:v.production_rate?.toLocaleString()})]},v.id||v.line_name)):m.jsx("div",{className:"text-xs text-gray-400 italic",children:"No rates configured"})})]})]})]},y.id)),r.length===0&&m.jsxs("div",{className:"col-span-full py-12 text-center text-gray-400 border-2 border-dashed border-gray-200 rounded-xl",children:[m.jsx(Rg,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),m.jsx("p",{children:"No products found. Add your first SKU!"})]})]}),m.jsx(tV,{isOpen:s,onClose:()=>l(!1),product:u,onSave:g,readOnly:e})]})}function ob(e){console.log("Checking YMS format. Headers found:",e);const t=["ref #1","arrival date","open status"],r=e.map(s=>s.toLowerCase().trim());console.log("Lower headers:",r);const a=t.map(s=>{const l=r.some(u=>u.includes(s));return console.log(`Looking for "${s}": ${l}`),l}).every(s=>s);return console.log("YMS format valid:",a),a}function nV(e){if(!e)return"Unknown";const t=[/(\d+\.?\d*\s?oz)/i,/(\d+\s?liter)/i,/(bottle|can)/i];for(const r of t){const n=e.match(r);if(n)return n[1].trim()}return e.trim()}function aV(e){if(!e)return null;try{const t=e.match(/(\d{1,2})\/(\d{1,2})\/(\d{4})(?:\s+(\d{1,2}):(\d{2}))?/);if(!t)return null;const[,r,n,a,s="00",l="00"]=t,u=`${a}-${r.padStart(2,"0")}-${n.padStart(2,"0")}`,d=`${u}T${s.padStart(2,"0")}:${l.padStart(2,"0")}:00`;return{date:u,timestamp:d}}catch(t){return console.error("Error parsing YMS date:",e,t),null}}function iV(e){const t=[],r=[];let n=0;return e.forEach((a,s)=>{const l=s+2,u=a["Open Status"]||"";if(!u.toLowerCase().includes("complete")){n++;return}const d=aV(a["Arrival Date"]);if(!d){t.push(`Row ${l}: Invalid date format "${a["Arrival Date"]}"`);return}const f=a["Ref#1"]?.trim();if(!f){t.push(`Row ${l}: Missing PO (Ref#1)`);return}const p=nV(a["Sub Load Type"]);p==="Unknown"&&t.push(`Row ${l}: Could not extract SKU from "${a["Sub Load Type"]}"`);const g={date:d.date,po_number:f,product_sku:p,location:"yard",loads:1,yms_reference:a.Trailer?.trim(),checked_in_at:d.timestamp,status:u};r.push(g)}),{success:t.length===0,data:r,errors:t,skipped:n,totalRows:e.length}}function Dj(e){try{const r=require("papaparse").parse(e,{header:!0,skipEmptyLines:!0,transformHeader:n=>n.trim()});return r.errors.length>0?{success:!1,data:[],errors:r.errors.map(n=>n.message),skipped:0,totalRows:0}:ob(r.meta.fields||[])?iV(r.data):{success:!1,data:[],errors:["Not a valid YMS export format. Missing required columns: Ref#1, Arrival Date, Open Status"],skipped:0,totalRows:0}}catch(t){return{success:!1,data:[],errors:[`Failed to parse CSV: ${t instanceof Error?t.message:"Unknown error"}`],skipped:0,totalRows:0}}}function lb(e){const t=e.map(s=>s.toLowerCase().trim()),r=t.some(s=>s.includes("date")||s.includes("day")||s.includes("production")),n=t.some(s=>s.includes("sku")||s.includes("product")||s.includes("item")),a=t.some(s=>s.includes("case")||s.includes("quantity")||s.includes("produced"));return r&&n&&a}function sV(e){const t=e.map(r=>r.toLowerCase().trim());return{date:e.find((r,n)=>t[n].includes("production")&&t[n].includes("date")||t[n]==="date"||t[n].includes("run date")),sku:e.find((r,n)=>t[n].includes("product code")||t[n].includes("sku")||t[n]==="product"),cases:e.find((r,n)=>t[n].includes("cases produced")||t[n].includes("cases")||t[n].includes("quantity")),bottles:e.find((r,n)=>t[n].includes("bottles produced")||t[n].includes("bottles")||t[n].includes("units")),shift:e.find((r,n)=>t[n].includes("shift"))}}function oV(e){if(!e)return null;try{if(/^\d{4}-\d{2}-\d{2}/.test(e))return e.split("T")[0];const t=e.match(/(\d{1,2})\/(\d{1,2})\/(\d{4})/);if(t){const[,a,s,l]=t;return`${l}-${a.padStart(2,"0")}-${s.padStart(2,"0")}`}const r=e.match(/(\d{1,2})\/(\d{1,2})\/(\d{4})/);if(r){const[,a,s,l]=r;return`${l}-${s.padStart(2,"0")}-${a.padStart(2,"0")}`}const n=new Date(e);return isNaN(n.getTime())?null:n.toISOString().split("T")[0]}catch{return null}}function lV(e,t){const r=[],n=[];return e.forEach((a,s)=>{const l=s+2,u=t.date?a[t.date]:null,d=oV(u);if(!d){r.push(`Row ${l}: Invalid or missing date "${u}"`);return}const f=t.sku?String(a[t.sku]).trim():"";if(!f){r.push(`Row ${l}: Missing product SKU`);return}const p=t.cases?a[t.cases]:null,g=parseInt(String(p).replace(/,/g,""),10);if(isNaN(g)){r.push(`Row ${l}: Invalid cases value "${p}"`);return}const y=t.bottles?a[t.bottles]:null,v=y?parseInt(String(y).replace(/,/g,""),10):void 0,w=t.shift?String(a[t.shift]).trim():void 0;n.push({date:d,product_sku:f,cases:g,bottles:v,shift:w})}),{success:r.length===0,data:n,errors:r,totalRows:e.length,columnMapping:t}}function Rj(e){try{const r=require("papaparse").parse(e,{header:!0,skipEmptyLines:!0,transformHeader:s=>s.trim()});if(r.errors.length>0)return{success:!1,data:[],errors:r.errors.map(s=>s.message),totalRows:0,columnMapping:{}};const n=r.meta.fields||[];if(!lb(n))return{success:!1,data:[],errors:["Not a valid MES export format. Expected columns with date, product/SKU, and cases."],totalRows:0,columnMapping:{}};const a=sV(n);return!a.date||!a.sku||!a.cases?{success:!1,data:[],errors:["Could not auto-detect required columns.",`Detected: date=${a.date}, sku=${a.sku}, cases=${a.cases}`,"Please verify CSV format."],totalRows:0,columnMapping:a}:lV(r.data,a)}catch(t){return{success:!1,data:[],errors:[`Failed to parse CSV: ${t instanceof Error?t.message:"Unknown error"}`],totalRows:0,columnMapping:{}}}}var Wf={exports:{}};var cV=Wf.exports,Mj;function uV(){return Mj||(Mj=1,(function(e,t){((r,n)=>{e.exports=n()})(cV,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},a,s=!n.document&&!!n.postMessage,l=n.IS_PAPA_WORKER||!1,u={},d=0,f={};function p(C){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(R){var I=O(R);I.chunkSize=parseInt(I.chunkSize),R.step||R.chunk||(I.chunkSize=null),this._handle=new k(I),(this._handle.streamer=this)._config=I}).call(this,C),this.parseChunk=function(R,I){var M=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<M){let B=this._config.newline;B||(z=this._config.quoteChar||'"',B=this._handle.guessLineEndings(R,z)),R=[...R.split(B).slice(M)].join(B)}this.isFirstChunk&&P(this._config.beforeFirstChunk)&&(z=this._config.beforeFirstChunk(R))!==void 0&&(R=z),this.isFirstChunk=!1,this._halted=!1;var M=this._partialLine+R,z=(this._partialLine="",this._handle.parse(M,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(R=z.meta.cursor,M=(this._finished||(this._partialLine=M.substring(R-this._baseIndex),this._baseIndex=R),z&&z.data&&(this._rowCount+=z.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),l)n.postMessage({results:z,workerId:f.WORKER_ID,finished:M});else if(P(this._config.chunk)&&!I){if(this._config.chunk(z,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=z=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(z.data),this._completeResults.errors=this._completeResults.errors.concat(z.errors),this._completeResults.meta=z.meta),this._completed||!M||!P(this._config.complete)||z&&z.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),M||z&&z.meta.paused||this._nextChunk(),z}this._halted=!0},this._sendError=function(R){P(this._config.error)?this._config.error(R):l&&this._config.error&&n.postMessage({workerId:f.WORKER_ID,error:R,finished:!1})}}function g(C){var R;(C=C||{}).chunkSize||(C.chunkSize=f.RemoteChunkSize),p.call(this,C),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(I){this._input=I,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(R=new XMLHttpRequest,this._config.withCredentials&&(R.withCredentials=this._config.withCredentials),s||(R.onload=T(this._chunkLoaded,this),R.onerror=T(this._chunkError,this)),R.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var I,M=this._config.downloadRequestHeaders;for(I in M)R.setRequestHeader(I,M[I])}var z;this._config.chunkSize&&(z=this._start+this._config.chunkSize-1,R.setRequestHeader("Range","bytes="+this._start+"-"+z));try{R.send(this._config.downloadRequestBody)}catch(B){this._chunkError(B.message)}s&&R.status===0&&this._chunkError()}},this._chunkLoaded=function(){R.readyState===4&&(R.status<200||400<=R.status?this._chunkError():(this._start+=this._config.chunkSize||R.responseText.length,this._finished=!this._config.chunkSize||this._start>=(I=>(I=I.getResponseHeader("Content-Range"))!==null?parseInt(I.substring(I.lastIndexOf("/")+1)):-1)(R),this.parseChunk(R.responseText)))},this._chunkError=function(I){I=R.statusText||I,this._sendError(new Error(I))}}function y(C){(C=C||{}).chunkSize||(C.chunkSize=f.LocalChunkSize),p.call(this,C);var R,I,M=typeof FileReader<"u";this.stream=function(z){this._input=z,I=z.slice||z.webkitSlice||z.mozSlice,M?((R=new FileReader).onload=T(this._chunkLoaded,this),R.onerror=T(this._chunkError,this)):R=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var z=this._input,B=(this._config.chunkSize&&(B=Math.min(this._start+this._config.chunkSize,this._input.size),z=I.call(z,this._start,B)),R.readAsText(z,this._config.encoding));M||this._chunkLoaded({target:{result:B}})},this._chunkLoaded=function(z){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(z.target.result)},this._chunkError=function(){this._sendError(R.error)}}function v(C){var R;p.call(this,C=C||{}),this.stream=function(I){return R=I,this._nextChunk()},this._nextChunk=function(){var I,M;if(!this._finished)return I=this._config.chunkSize,R=I?(M=R.substring(0,I),R.substring(I)):(M=R,""),this._finished=!R,this.parseChunk(M)}}function w(C){p.call(this,C=C||{});var R=[],I=!0,M=!1;this.pause=function(){p.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){p.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(z){this._input=z,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){M&&R.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),R.length?this.parseChunk(R.shift()):I=!0},this._streamData=T(function(z){try{R.push(typeof z=="string"?z:z.toString(this._config.encoding)),I&&(I=!1,this._checkIsFinished(),this.parseChunk(R.shift()))}catch(B){this._streamError(B)}},this),this._streamError=T(function(z){this._streamCleanUp(),this._sendError(z)},this),this._streamEnd=T(function(){this._streamCleanUp(),M=!0,this._streamData("")},this),this._streamCleanUp=T(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function k(C){var R,I,M,z,B=Math.pow(2,53),G=-B,ae=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,q=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,F=this,W=0,J=0,pe=!1,L=!1,K=[],U={data:[],errors:[],meta:{}};function te(be){return C.skipEmptyLines==="greedy"?be.join("").trim()==="":be.length===1&&be[0].length===0}function ne(){if(U&&M&&(ve("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+f.DefaultDelimiter+"'"),M=!1),C.skipEmptyLines&&(U.data=U.data.filter(function(ie){return!te(ie)})),de()){let ie=function(xe,X){P(C.transformHeader)&&(xe=C.transformHeader(xe,X)),K.push(xe)};var ye=ie;if(U)if(Array.isArray(U.data[0])){for(var be=0;de()&&be<U.data.length;be++)U.data[be].forEach(ie);U.data.splice(0,1)}else U.data.forEach(ie)}function Z(ie,xe){for(var X=C.header?{}:[],me=0;me<ie.length;me++){var ge=me,ke=ie[me],ke=((Oe,Me)=>(ze=>(C.dynamicTypingFunction&&C.dynamicTyping[ze]===void 0&&(C.dynamicTyping[ze]=C.dynamicTypingFunction(ze)),(C.dynamicTyping[ze]||C.dynamicTyping)===!0))(Oe)?Me==="true"||Me==="TRUE"||Me!=="false"&&Me!=="FALSE"&&((ze=>{if(ae.test(ze)&&(ze=parseFloat(ze),G<ze&&ze<B))return 1})(Me)?parseFloat(Me):q.test(Me)?new Date(Me):Me===""?null:Me):Me)(ge=C.header?me>=K.length?"__parsed_extra":K[me]:ge,ke=C.transform?C.transform(ke,ge):ke);ge==="__parsed_extra"?(X[ge]=X[ge]||[],X[ge].push(ke)):X[ge]=ke}return C.header&&(me>K.length?ve("FieldMismatch","TooManyFields","Too many fields: expected "+K.length+" fields but parsed "+me,J+xe):me<K.length&&ve("FieldMismatch","TooFewFields","Too few fields: expected "+K.length+" fields but parsed "+me,J+xe)),X}var ce;U&&(C.header||C.dynamicTyping||C.transform)&&(ce=1,!U.data.length||Array.isArray(U.data[0])?(U.data=U.data.map(Z),ce=U.data.length):U.data=Z(U.data,0),C.header&&U.meta&&(U.meta.fields=K),J+=ce)}function de(){return C.header&&K.length===0}function ve(be,Z,ce,ye){be={type:be,code:Z,message:ce},ye!==void 0&&(be.row=ye),U.errors.push(be)}P(C.step)&&(z=C.step,C.step=function(be){U=be,de()?ne():(ne(),U.data.length!==0&&(W+=be.data.length,C.preview&&W>C.preview?I.abort():(U.data=U.data[0],z(U,F))))}),this.parse=function(be,Z,ce){var ye=C.quoteChar||'"',ye=(C.newline||(C.newline=this.guessLineEndings(be,ye)),M=!1,C.delimiter?P(C.delimiter)&&(C.delimiter=C.delimiter(be),U.meta.delimiter=C.delimiter):((ye=((ie,xe,X,me,ge)=>{var ke,Oe,Me,ze;ge=ge||[",","	","|",";",f.RECORD_SEP,f.UNIT_SEP];for(var St=0;St<ge.length;St++){for(var lt,xr=ge[St],Be=0,It=0,Fe=0,Ye=(Me=void 0,new j({comments:me,delimiter:xr,newline:xe,preview:10}).parse(ie)),mt=0;mt<Ye.data.length;mt++)X&&te(Ye.data[mt])?Fe++:(lt=Ye.data[mt].length,It+=lt,Me===void 0?Me=lt:0<lt&&(Be+=Math.abs(lt-Me),Me=lt));0<Ye.data.length&&(It/=Ye.data.length-Fe),(Oe===void 0||Be<=Oe)&&(ze===void 0||ze<It)&&1.99<It&&(Oe=Be,ke=xr,ze=It)}return{successful:!!(C.delimiter=ke),bestDelimiter:ke}})(be,C.newline,C.skipEmptyLines,C.comments,C.delimitersToGuess)).successful?C.delimiter=ye.bestDelimiter:(M=!0,C.delimiter=f.DefaultDelimiter),U.meta.delimiter=C.delimiter),O(C));return C.preview&&C.header&&ye.preview++,R=be,I=new j(ye),U=I.parse(R,Z,ce),ne(),pe?{meta:{paused:!0}}:U||{meta:{paused:!1}}},this.paused=function(){return pe},this.pause=function(){pe=!0,I.abort(),R=P(C.chunk)?"":R.substring(I.getCharIndex())},this.resume=function(){F.streamer._halted?(pe=!1,F.streamer.parseChunk(R,!0)):setTimeout(F.resume,3)},this.aborted=function(){return L},this.abort=function(){L=!0,I.abort(),U.meta.aborted=!0,P(C.complete)&&C.complete(U),R=""},this.guessLineEndings=function(ie,ye){ie=ie.substring(0,1048576);var ye=new RegExp(S(ye)+"([^]*?)"+S(ye),"gm"),ce=(ie=ie.replace(ye,"")).split("\r"),ye=ie.split(`
`),ie=1<ye.length&&ye[0].length<ce[0].length;if(ce.length===1||ie)return`
`;for(var xe=0,X=0;X<ce.length;X++)ce[X][0]===`
`&&xe++;return xe>=ce.length/2?`\r
`:"\r"}}function S(C){return C.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function j(C){var R=(C=C||{}).delimiter,I=C.newline,M=C.comments,z=C.step,B=C.preview,G=C.fastMode,ae=null,q=!1,F=C.quoteChar==null?'"':C.quoteChar,W=F;if(C.escapeChar!==void 0&&(W=C.escapeChar),(typeof R!="string"||-1<f.BAD_DELIMITERS.indexOf(R))&&(R=","),M===R)throw new Error("Comment character same as delimiter");M===!0?M="#":(typeof M!="string"||-1<f.BAD_DELIMITERS.indexOf(M))&&(M=!1),I!==`
`&&I!=="\r"&&I!==`\r
`&&(I=`
`);var J=0,pe=!1;this.parse=function(L,K,U){if(typeof L!="string")throw new Error("Input must be a string");var te=L.length,ne=R.length,de=I.length,ve=M.length,be=P(z),Z=[],ce=[],ye=[],ie=J=0;if(!L)return Be();if(G||G!==!1&&L.indexOf(F)===-1){for(var xe=L.split(I),X=0;X<xe.length;X++){if(ye=xe[X],J+=ye.length,X!==xe.length-1)J+=I.length;else if(U)return Be();if(!M||ye.substring(0,ve)!==M){if(be){if(Z=[],ze(ye.split(R)),It(),pe)return Be()}else ze(ye.split(R));if(B&&B<=X)return Z=Z.slice(0,B),Be(!0)}}return Be()}for(var me=L.indexOf(R,J),ge=L.indexOf(I,J),ke=new RegExp(S(W)+S(F),"g"),Oe=L.indexOf(F,J);;)if(L[J]===F)for(Oe=J,J++;;){if((Oe=L.indexOf(F,Oe+1))===-1)return U||ce.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Z.length,index:J}),lt();if(Oe===te-1)return lt(L.substring(J,Oe).replace(ke,F));if(F===W&&L[Oe+1]===W)Oe++;else if(F===W||Oe===0||L[Oe-1]!==W){me!==-1&&me<Oe+1&&(me=L.indexOf(R,Oe+1));var Me=St((ge=ge!==-1&&ge<Oe+1?L.indexOf(I,Oe+1):ge)===-1?me:Math.min(me,ge));if(L.substr(Oe+1+Me,ne)===R){ye.push(L.substring(J,Oe).replace(ke,F)),L[J=Oe+1+Me+ne]!==F&&(Oe=L.indexOf(F,J)),me=L.indexOf(R,J),ge=L.indexOf(I,J);break}if(Me=St(ge),L.substring(Oe+1+Me,Oe+1+Me+de)===I){if(ye.push(L.substring(J,Oe).replace(ke,F)),xr(Oe+1+Me+de),me=L.indexOf(R,J),Oe=L.indexOf(F,J),be&&(It(),pe))return Be();if(B&&Z.length>=B)return Be(!0);break}ce.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Z.length,index:J}),Oe++}}else if(M&&ye.length===0&&L.substring(J,J+ve)===M){if(ge===-1)return Be();J=ge+de,ge=L.indexOf(I,J),me=L.indexOf(R,J)}else if(me!==-1&&(me<ge||ge===-1))ye.push(L.substring(J,me)),J=me+ne,me=L.indexOf(R,J);else{if(ge===-1)break;if(ye.push(L.substring(J,ge)),xr(ge+de),be&&(It(),pe))return Be();if(B&&Z.length>=B)return Be(!0)}return lt();function ze(Fe){Z.push(Fe),ie=J}function St(Fe){var Ye=0;return Ye=Fe!==-1&&(Fe=L.substring(Oe+1,Fe))&&Fe.trim()===""?Fe.length:Ye}function lt(Fe){return U||(Fe===void 0&&(Fe=L.substring(J)),ye.push(Fe),J=te,ze(ye),be&&It()),Be()}function xr(Fe){J=Fe,ze(ye),ye=[],ge=L.indexOf(I,J)}function Be(Fe){if(C.header&&!K&&Z.length&&!q){var Ye=Z[0],mt=Object.create(null),wa=new Set(Ye);let hi=!1;for(let bn=0;bn<Ye.length;bn++){let zr=Ye[bn];if(mt[zr=P(C.transformHeader)?C.transformHeader(zr,bn):zr]){let Tr,Et=mt[zr];for(;Tr=zr+"_"+Et,Et++,wa.has(Tr););wa.add(Tr),Ye[bn]=Tr,mt[zr]++,hi=!0,(ae=ae===null?{}:ae)[Tr]=zr}else mt[zr]=1,Ye[bn]=zr;wa.add(zr)}hi&&console.warn("Duplicate headers found and renamed."),q=!0}return{data:Z,errors:ce,meta:{delimiter:R,linebreak:I,aborted:pe,truncated:!!Fe,cursor:ie+(K||0),renamedHeaders:ae}}}function It(){z(Be()),Z=[],ce=[]}},this.abort=function(){pe=!0},this.getCharIndex=function(){return J}}function N(C){var R=C.data,I=u[R.workerId],M=!1;if(R.error)I.userError(R.error,R.file);else if(R.results&&R.results.data){var z={abort:function(){M=!0,E(R.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:D,resume:D};if(P(I.userStep)){for(var B=0;B<R.results.data.length&&(I.userStep({data:R.results.data[B],errors:R.results.errors,meta:R.results.meta},z),!M);B++);delete R.results}else P(I.userChunk)&&(I.userChunk(R.results,z,R.file),delete R.results)}R.finished&&!M&&E(R.workerId,R.results)}function E(C,R){var I=u[C];P(I.userComplete)&&I.userComplete(R),I.terminate(),delete u[C]}function D(){throw new Error("Not implemented.")}function O(C){if(typeof C!="object"||C===null)return C;var R,I=Array.isArray(C)?[]:{};for(R in C)I[R]=O(C[R]);return I}function T(C,R){return function(){C.apply(R,arguments)}}function P(C){return typeof C=="function"}return f.parse=function(C,R){var I=(R=R||{}).dynamicTyping||!1;if(P(I)&&(R.dynamicTypingFunction=I,I={}),R.dynamicTyping=I,R.transform=!!P(R.transform)&&R.transform,!R.worker||!f.WORKERS_SUPPORTED)return I=null,f.NODE_STREAM_INPUT,typeof C=="string"?(C=(M=>M.charCodeAt(0)!==65279?M:M.slice(1))(C),I=new(R.download?g:v)(R)):C.readable===!0&&P(C.read)&&P(C.on)?I=new w(R):(n.File&&C instanceof File||C instanceof Object)&&(I=new y(R)),I.stream(C);(I=(()=>{var M;return!!f.WORKERS_SUPPORTED&&(M=(()=>{var z=n.URL||n.webkitURL||null,B=r.toString();return f.BLOB_URL||(f.BLOB_URL=z.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",B,")();"],{type:"text/javascript"})))})(),(M=new n.Worker(M)).onmessage=N,M.id=d++,u[M.id]=M)})()).userStep=R.step,I.userChunk=R.chunk,I.userComplete=R.complete,I.userError=R.error,R.step=P(R.step),R.chunk=P(R.chunk),R.complete=P(R.complete),R.error=P(R.error),delete R.worker,I.postMessage({input:C,config:R,workerId:I.id})},f.unparse=function(C,R){var I=!1,M=!0,z=",",B=`\r
`,G='"',ae=G+G,q=!1,F=null,W=!1,J=((()=>{if(typeof R=="object"){if(typeof R.delimiter!="string"||f.BAD_DELIMITERS.filter(function(K){return R.delimiter.indexOf(K)!==-1}).length||(z=R.delimiter),typeof R.quotes!="boolean"&&typeof R.quotes!="function"&&!Array.isArray(R.quotes)||(I=R.quotes),typeof R.skipEmptyLines!="boolean"&&typeof R.skipEmptyLines!="string"||(q=R.skipEmptyLines),typeof R.newline=="string"&&(B=R.newline),typeof R.quoteChar=="string"&&(G=R.quoteChar),typeof R.header=="boolean"&&(M=R.header),Array.isArray(R.columns)){if(R.columns.length===0)throw new Error("Option columns is empty");F=R.columns}R.escapeChar!==void 0&&(ae=R.escapeChar+G),R.escapeFormulae instanceof RegExp?W=R.escapeFormulae:typeof R.escapeFormulae=="boolean"&&R.escapeFormulae&&(W=/^[=+\-@\t\r].*$/)}})(),new RegExp(S(G),"g"));if(typeof C=="string"&&(C=JSON.parse(C)),Array.isArray(C)){if(!C.length||Array.isArray(C[0]))return pe(null,C,q);if(typeof C[0]=="object")return pe(F||Object.keys(C[0]),C,q)}else if(typeof C=="object")return typeof C.data=="string"&&(C.data=JSON.parse(C.data)),Array.isArray(C.data)&&(C.fields||(C.fields=C.meta&&C.meta.fields||F),C.fields||(C.fields=Array.isArray(C.data[0])?C.fields:typeof C.data[0]=="object"?Object.keys(C.data[0]):[]),Array.isArray(C.data[0])||typeof C.data[0]=="object"||(C.data=[C.data])),pe(C.fields||[],C.data||[],q);throw new Error("Unable to serialize unrecognized input");function pe(K,U,te){var ne="",de=(typeof K=="string"&&(K=JSON.parse(K)),typeof U=="string"&&(U=JSON.parse(U)),Array.isArray(K)&&0<K.length),ve=!Array.isArray(U[0]);if(de&&M){for(var be=0;be<K.length;be++)0<be&&(ne+=z),ne+=L(K[be],be);0<U.length&&(ne+=B)}for(var Z=0;Z<U.length;Z++){var ce=(de?K:U[Z]).length,ye=!1,ie=de?Object.keys(U[Z]).length===0:U[Z].length===0;if(te&&!de&&(ye=te==="greedy"?U[Z].join("").trim()==="":U[Z].length===1&&U[Z][0].length===0),te==="greedy"&&de){for(var xe=[],X=0;X<ce;X++){var me=ve?K[X]:X;xe.push(U[Z][me])}ye=xe.join("").trim()===""}if(!ye){for(var ge=0;ge<ce;ge++){0<ge&&!ie&&(ne+=z);var ke=de&&ve?K[ge]:ge;ne+=L(U[Z][ke],ge)}Z<U.length-1&&(!te||0<ce&&!ie)&&(ne+=B)}}return ne}function L(K,U){var te,ne;return K==null?"":K.constructor===Date?JSON.stringify(K).slice(1,25):(ne=!1,W&&typeof K=="string"&&W.test(K)&&(K="'"+K,ne=!0),te=K.toString().replace(J,ae),(ne=ne||I===!0||typeof I=="function"&&I(K,U)||Array.isArray(I)&&I[U]||((de,ve)=>{for(var be=0;be<ve.length;be++)if(-1<de.indexOf(ve[be]))return!0;return!1})(te,f.BAD_DELIMITERS)||-1<te.indexOf(z)||te.charAt(0)===" "||te.charAt(te.length-1)===" ")?G+te+G:te)}},f.RECORD_SEP="",f.UNIT_SEP="",f.BYTE_ORDER_MARK="\uFEFF",f.BAD_DELIMITERS=["\r",`
`,'"',f.BYTE_ORDER_MARK],f.WORKERS_SUPPORTED=!s&&!!n.Worker,f.NODE_STREAM_INPUT=1,f.LocalChunkSize=10485760,f.RemoteChunkSize=5242880,f.DefaultDelimiter=",",f.Parser=j,f.ParserHandle=k,f.NetworkStreamer=g,f.FileStreamer=y,f.StringStreamer=v,f.ReadableStreamStreamer=w,n.jQuery&&((a=n.jQuery).fn.parse=function(C){var R=C.config||{},I=[];return this.each(function(B){if(!(a(this).prop("tagName").toUpperCase()==="INPUT"&&a(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var G=0;G<this.files.length;G++)I.push({file:this.files[G],inputElem:this,instanceConfig:a.extend({},R)})}),M(),this;function M(){if(I.length===0)P(C.complete)&&C.complete();else{var B,G,ae,q,F=I[0];if(P(C.before)){var W=C.before(F.file,F.inputElem);if(typeof W=="object"){if(W.action==="abort")return B="AbortError",G=F.file,ae=F.inputElem,q=W.reason,void(P(C.error)&&C.error({name:B},G,ae,q));if(W.action==="skip")return void z();typeof W.config=="object"&&(F.instanceConfig=a.extend(F.instanceConfig,W.config))}else if(W==="skip")return void z()}var J=F.instanceConfig.complete;F.instanceConfig.complete=function(pe){P(J)&&J(pe,F.file,F.inputElem),z()},f.parse(F.file,F.instanceConfig)}}function z(){I.splice(0,1),M()}}),l&&(n.onmessage=function(C){C=C.data,f.WORKER_ID===void 0&&C&&(f.WORKER_ID=C.workerId),typeof C.input=="string"?n.postMessage({workerId:f.WORKER_ID,results:f.parse(C.input,C.config),finished:!0}):(n.File&&C.input instanceof File||C.input instanceof Object)&&(C=f.parse(C.input,C.config))&&n.postMessage({workerId:f.WORKER_ID,results:C,finished:!0})}),(g.prototype=Object.create(p.prototype)).constructor=g,(y.prototype=Object.create(p.prototype)).constructor=y,(v.prototype=Object.create(v.prototype)).constructor=v,(w.prototype=Object.create(p.prototype)).constructor=w,f})})(Wf)),Wf.exports}var dV=uV();const ZC=va(dV);function $j(e){const t=e.map(n=>n.trim().toLowerCase());return["due date","purch doc","material","scheduled qty"].every(n=>t.some(a=>a.includes(n.toLowerCase())))}function Ij(e){const t={success:!0,data:[],errors:[],totalRows:0};try{console.log("[SAP Parser] Received text (first 500 chars):",e.substring(0,500));const r=e.includes("|")?"|":",",n=ZC.parse(e,{header:!0,skipEmptyLines:!0,delimiter:r,transformHeader:a=>a.trim()});t.totalRows=n.data.length,n.data.forEach((a,s)=>{try{if(Object.values(a).some(y=>typeof y=="string"&&(y.includes("***")||y.trim()==="*")))return;s===0&&(console.log("[SAP Parser DEBUG] First row keys:",Object.keys(a)),console.log("[SAP Parser DEBUG] First row data:",a),console.log("[SAP Parser DEBUG] Due Date value:",a["Due Date"]),console.log("[SAP Parser DEBUG] Stat. Delivery Date value:",a["Stat. Delivery Date"]));const u=y=>{if(!y||y.trim()==="")return"";const v=y.match(/(\d{1,2})\/(\d{1,2})\/(\d{4})/);if(v){const w=v[1].padStart(2,"0"),k=v[2].padStart(2,"0");return`${v[3]}-${w}-${k}`}return t.errors.push(`Row ${s+1}: Invalid date format: ${y}`),""},d=y=>{if(!y||y.trim()==="")return 0;const v=y.replace(/,/g,""),w=parseFloat(v);return isNaN(w)?0:w},f=u(a["Due Date"]),p=u(a["Stat. Delivery Date"]),g=d(a["Scheduled Qty"]);if(!f&&!p){t.errors.push(`Row ${s+1}: Missing delivery date`);return}if(!a["Purch Doc."]||a["Purch Doc."].trim()===""){t.errors.push(`Row ${s+1}: Missing PO number`);return}if(g===0){t.errors.push(`Row ${s+1}: Zero scheduled quantity`);return}t.data.push({dueDate:f||p,deliveryDate:p||f,plant:(a.Plnt||"").trim(),vendorName:(a["Vendor Name"]||"").trim(),poNumber:(a["Purch Doc."]||"").trim(),material:(a.Material||"").trim(),materialDescription:(a["Material Description"]||"").trim(),openQty:d(a["Open Qty"]),scheduledQty:g,receivedQty:d(a["Qty Received(GR Qty)"]),materialDoc:(a["Mat. Doc."]||"").trim(),grBatch:(a["GR Batch"]||"").trim()})}catch(l){t.errors.push(`Row ${s+1}: ${l instanceof Error?l.message:"Parse error"}`)}}),t.data.length===0&&(t.success=!1,t.errors.push("No valid rows found in SAP export"))}catch(r){t.success=!1,t.errors.push(`Parse error: ${r instanceof Error?r.message:"Unknown error"}`)}return t}function fV(e,t){const r=e.trim(),n=t.toUpperCase(),a={1855526:"20oz"};return a[r]?a[r]:n.includes("20OZ")?"20oz":n.includes("16.9OZ")?"16.9oz":n.includes("12OZ")?"12oz":r}async function hV(e){const t=[];let r=0,n=0,a=0;try{const{data:s}=await Ne.from("products").select("id, sku, name"),l=new Map(s?.map(p=>[p.sku?.toLowerCase(),p.id])||[]),u=e.map(p=>{let g=l.get(p.product_sku.toLowerCase());return g||(g=Array.from(l.entries()).find(([v])=>p.product_sku.toLowerCase().includes(v)||v.includes(p.product_sku.toLowerCase()))?.[1]),{date:p.date,po_number:p.po_number,product_id:g,loads:p.loads,location:p.location,yms_reference:p.yms_reference,checked_in_at:p.checked_in_at,status:p.status,import_source:"yms"}}),{data:d,error:f}=await Ne.from("inbound_receipts").upsert(u,{onConflict:"date,po_number",ignoreDuplicates:!0}).select();return f?(t.push(`Database error: ${f.message}`),a=e.length):(r=d?.length||0,n=e.length-r),await Mx("yms",{rows_total:e.length,rows_imported:r,rows_skipped:n,rows_failed:a,error_details:t.length>0?{errors:t}:null}),{success:t.length===0,imported:r,skipped:n,failed:a,errors:t}}catch(s){const l=s instanceof Error?s.message:"Unknown error";return{success:!1,imported:0,skipped:0,failed:e.length,errors:[l]}}}async function mV(e){const t=[];let r=0,n=0,a=0;try{const{data:s}=await Ne.from("products").select("id, sku, name"),l=new Map(s?.map(p=>[p.sku?.toLowerCase(),p.id])||[]),u=e.map(p=>{let g=l.get(p.product_sku.toLowerCase());return g||(g=Array.from(l.entries()).find(([v])=>p.product_sku.toLowerCase().includes(v)||v.includes(p.product_sku.toLowerCase()))?.[1]),{date:p.date,product_id:g,cases:p.cases,bottles:p.bottles,shift:p.shift||"day",import_source:"mes"}}),{data:d,error:f}=await Ne.from("production_actuals").upsert(u,{onConflict:"date,product_id,shift",ignoreDuplicates:!1}).select();return f?(t.push(`Database error: ${f.message}`),a=e.length):(r=d?.length||0,n=e.length-r),await Mx("mes",{rows_total:e.length,rows_imported:r,rows_skipped:n,rows_failed:a,error_details:t.length>0?{errors:t}:null}),{success:t.length===0,imported:r,skipped:n,failed:a,errors:t}}catch(s){const l=s instanceof Error?s.message:"Unknown error";return{success:!1,imported:0,skipped:0,failed:e.length,errors:[l]}}}async function pV(e){const t=[];let r=0,n=0,a=0;try{const{data:s,error:l}=await Ne.from("products").select("id, name, material_code");l&&console.error("[SAP Import] Error fetching products:",l),console.log(`[SAP Import] Found ${s?.length||0} products for mapping`);const u=new Map(s?.map(v=>[v.name?.toLowerCase().trim(),v.id])||[]),d=new Map(s?.filter(v=>v.material_code).map(v=>[v.material_code.trim(),v.id])||[]),f=e.map(v=>{const w=v.material?.trim(),k=v.materialDescription?.trim();let S=w?d.get(w):void 0;if(!S&&k){const j=fV(w||"",k);S=u.get(j.toLowerCase().trim())}if(!S){const j=v.materialDescription.toUpperCase();S=Array.from(u.entries()).find(([E])=>j.includes(E.toUpperCase())||E.toUpperCase().includes(j))?.[1]}return S||t.push(`Unmapped material: ${v.material} (${v.materialDescription})`),S&&console.log(`[SAP Import] Mapped ${v.material} to product_id: ${S}`),{date:v.deliveryDate||v.dueDate,po_number:v.poNumber,product_id:S,scheduled_qty:v.scheduledQty,open_qty:v.openQty,received_qty:v.receivedQty,vendor_name:v.vendorName,plant:v.plant,import_source:"sap"}}),p=f.filter(v=>v.product_id);if(a=f.length-p.length,p.length===0)return{success:!1,imported:0,skipped:0,failed:f.length,errors:["No valid product mappings found. Check material codes.",...t]};const{data:g,error:y}=await Ne.from("planned_inbound").upsert(p,{onConflict:"date,po_number,product_id",ignoreDuplicates:!0}).select();return y?(t.push(`Database error: ${y.message}`),a+=p.length):(r=g?.length||0,n=p.length-r),await Mx("sap",{rows_total:e.length,rows_imported:r,rows_skipped:n,rows_failed:a,error_details:t.length>0?{errors:t}:null}),{success:t.length===0||r>0,imported:r,skipped:n,failed:a,errors:t}}catch(s){const l=s instanceof Error?s.message:"Unknown error";return{success:!1,imported:0,skipped:0,failed:e.length,errors:[l]}}}async function Mx(e,t){try{const{data:{user:r}}=await Ne.auth.getUser();await Ne.from("import_log").insert({import_type:e,...t,imported_by:r?.id})}catch(r){console.error("Failed to log import:",r)}}async function GC(e,t){try{const{error:r}=await Ne.from("procurement_orders").update({status:"received",received_at:new Date().toISOString(),...t?{received_qty:t}:{}}).eq("id",e);if(r)throw r;return{success:!0}}catch(r){return console.error("Failed to receive PO:",r),{success:!1,error:r.message}}}function gV({onImportComplete:e}){const[t,r]=x.useState(null),[n,a]=x.useState(null),[s,l]=x.useState(""),[u,d]=x.useState(!1),[f,p]=x.useState(!1),[g,y]=x.useState(!1),v=x.useCallback(E=>{E.preventDefault(),E.stopPropagation(),E.type==="dragenter"||E.type==="dragover"?y(!0):E.type==="dragleave"&&y(!1)},[]),w=x.useCallback(E=>{E.preventDefault(),E.stopPropagation(),y(!1),E.dataTransfer.files&&E.dataTransfer.files[0]&&S(E.dataTransfer.files[0])},[]),k=E=>{E.target.files&&E.target.files[0]&&S(E.target.files[0])},S=async E=>{if(!E.name.endsWith(".csv")){alert("Please upload a CSV file");return}r(E),p(!1);const D=await E.text(),O=D.split(`
`).filter(P=>{const C=P.trim();return!(/^[\-\|\s]+$/.test(C)||C.startsWith("*")||/^\|\s*\*/.test(C))}).map(P=>{let C=P.trim();return C.startsWith('"')&&C.endsWith('"')&&(C=C.slice(1,-1)),C.startsWith("|")&&(C=C.slice(1)),C.endsWith("|")&&(C=C.slice(0,-1)),C.trim()}).join(`
`);l(O);const T=O.includes("|")?"|":",";ZC.parse(O,{header:!0,preview:1,delimiter:T,complete:P=>{const C=P.meta.fields||[];if(console.log("[CSV Import DEBUG] Delimiter:",T),console.log("[CSV Import DEBUG] Headers detected:",C),console.log("[CSV Import DEBUG] isSAPFormat result:",$j(C)),console.log("[CSV Import DEBUG] isYMSFormat result:",ob(C)),console.log("[CSV Import DEBUG] isMESFormat result:",lb(C)),ob(C)){const R=Dj(D);a({type:"yms",rows:R.data.slice(0,5),errors:R.errors,totalRows:R.totalRows,skippedCount:R.skipped})}else if(lb(C)){const R=Rj(D);a({type:"mes",rows:R.data.slice(0,5),errors:R.errors,totalRows:R.totalRows})}else if($j(C)){const R=Ij(O);a({type:"sap",rows:R.data.slice(0,5),errors:R.errors,totalRows:R.totalRows})}else a({type:"unknown",rows:[],errors:["File format not recognized. Expected YMS, MES, or SAP export."],totalRows:0})}})},j=async()=>{if(!(!t||!n)){d(!0);try{const E=await t.text();if(n.type==="yms"){const D=Dj(E);if(!D.success){alert("Failed to parse YMS file: "+D.errors.join(", "));return}const O=await hV(D.data);a(T=>T?{...T,importedCount:O.imported,skippedCount:O.skipped}:null),p(!0),O.errors.length>0&&alert(`Import completed with errors:
${O.errors.join(`
`)}`)}else if(n.type==="mes"){const D=Rj(E);if(!D.success){alert("Failed to parse MES file: "+D.errors.join(", "));return}const O=await mV(D.data);a(T=>T?{...T,importedCount:O.imported,skippedCount:O.skipped}:null),p(!0),O.errors.length>0&&alert(`Import completed with errors:
${O.errors.join(`
`)}`)}else if(n.type==="sap"){const D=Ij(s);if(!D.success){alert("Failed to parse SAP file: "+D.errors.join(", "));return}const O=await pV(D.data);a(T=>T?{...T,importedCount:O.imported,skippedCount:O.skipped}:null),p(!0),O.errors.length>0&&alert(`Import completed with errors:
${O.errors.join(`
`)}`),e&&e()}}catch(E){alert(`Import failed: ${E instanceof Error?E.message:"Unknown error"}`)}finally{d(!1)}}},N=()=>{r(null),a(null),p(!1)};return m.jsx("div",{className:"p-6 max-w-4xl mx-auto",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[m.jsx("h2",{className:"text-2xl font-bold mb-4",children:" Import YMS / MES Data"}),!t&&m.jsxs("div",{className:`border-2 border-dashed rounded-lg p-12 text-center transition-colors ${g?"border-blue-500 bg-blue-50":"border-gray-300"}`,onDragEnter:v,onDragLeave:v,onDragOver:v,onDrop:w,children:[m.jsx("div",{className:"text-6xl mb-4",children:""}),m.jsx("p",{className:"text-lg mb-4",children:"Drag & drop CSV file here or click to browse"}),m.jsx("input",{type:"file",accept:".csv",onChange:k,className:"hidden",id:"file-upload"}),m.jsx("label",{htmlFor:"file-upload",className:"bg-blue-600 text-white px-6 py-2 rounded cursor-pointer hover:bg-blue-700",children:"Browse Files"}),m.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Supported: YMS Hub exports, MES production exports, SAP planned inbound shipments"})]}),n&&m.jsxs("div",{className:"mt-6",children:[m.jsxs("div",{className:`p-4 rounded mb-4 ${n.type==="unknown"?"bg-red-100":"bg-green-100"}`,children:[n.type==="yms"&&` Detected: YMS Export (${n.totalRows} rows)`,n.type==="mes"&&` Detected: MES Export (${n.totalRows} rows)`,n.type==="sap"&&` Detected: SAP Export (${n.totalRows} rows)`,n.type==="unknown"&&" Format not recognized"]}),n.errors.length>0&&m.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-4 mb-4",children:[m.jsx("h3",{className:"font-bold text-yellow-900 mb-2",children:" Warnings:"}),m.jsxs("ul",{className:"list-disc list-inside text-sm text-yellow-800",children:[n.errors.slice(0,10).map((E,D)=>m.jsx("li",{children:E},D)),n.errors.length>10&&m.jsxs("li",{children:["... and ",n.errors.length-10," more"]})]})]}),n.rows.length>0&&m.jsxs("div",{className:"mb-4",children:[m.jsx("h3",{className:"font-bold mb-2",children:"Preview (first 5 rows):"}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[m.jsx("thead",{className:"bg-gray-50",children:m.jsx("tr",{children:Object.keys(n.rows[0]).map(E=>m.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:E},E))})}),m.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.rows.map((E,D)=>m.jsx("tr",{children:Object.values(E).map((O,T)=>m.jsx("td",{className:"px-3 py-2 text-sm text-gray-900 whitespace-nowrap",children:String(O)},T))},D))})]})})]}),!f&&n.type!=="unknown"&&m.jsxs("div",{className:"bg-blue-50 rounded p-4 mb-4",children:[m.jsx("h3",{className:"font-bold mb-2",children:"Summary:"}),m.jsxs("ul",{className:"text-sm",children:[m.jsxs("li",{children:[" Total rows: ",n.totalRows]}),n.skippedCount!==void 0&&m.jsxs("li",{children:[" Rows to skip: ",n.skippedCount," (not checked in)"]}),m.jsxs("li",{children:[" Rows to import: ",n.totalRows-(n.skippedCount||0)]})]})]}),f&&m.jsxs("div",{className:"bg-green-50 rounded p-4 mb-4",children:[m.jsx("h3",{className:"font-bold text-green-900 mb-2",children:" Import Complete!"}),m.jsxs("ul",{className:"text-sm text-green-800",children:[m.jsxs("li",{children:[" Imported: ",n.importedCount]}),m.jsxs("li",{children:[" Skipped (duplicates): ",n.skippedCount]})]})]}),m.jsxs("div",{className:"flex gap-4",children:[m.jsx("button",{onClick:N,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-50",children:f?"Import Another File":"Cancel"}),!f&&n.type!=="unknown"&&m.jsx("button",{onClick:j,disabled:u,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:bg-gray-400",children:u?"Importing...":`Import ${n.totalRows-(n.skippedCount||0)} Rows`})]})]})]})})}function vV({onClose:e}){const[t,r]=x.useState("general"),{userRole:n}=Or(),a=n==="admin",s=["admin","planner"].includes(n||""),{csvMapping:l,updateCsvMapping:u,resetDefaults:d,theme:f,setTheme:p}=zn(),{poManifest:g,refreshData:y}=ra();return m.jsx("div",{className:"fixed inset-0 z-50 flex justify-center bg-black bg-opacity-50 overflow-y-auto px-4 py-6 backdrop-blur-sm",children:m.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-xl w-full max-w-4xl relative h-[85vh] my-auto p-6 border dark:border-gray-700 transition-colors flex flex-col",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6 flex-shrink-0",children:[m.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"System Configuration"}),m.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 font-bold text-xl",children:""})]}),m.jsx("div",{className:"flex border-b border-slate-200 dark:border-slate-700 mb-6 flex-shrink-0 overflow-x-auto",children:[{id:"general",label:"General"},{id:"catalog",label:"Product Catalog",show:!0},{id:"import",label:"Data Import",show:s},{id:"users",label:"Users",show:a}].map(v=>v.show!==!1&&m.jsx("button",{className:`pb-2 px-4 text-sm font-bold whitespace-nowrap border-b-2 transition-colors ${t===v.id?"border-blue-600 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400"}`,onClick:()=>r(v.id),children:v.label},v.id))}),m.jsxs("div",{className:"flex-grow overflow-y-auto pr-2 custom-scrollbar",children:[t==="general"&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex items-center justify-between bg-gray-50 dark:bg-gray-800 p-4 rounded-md border border-gray-200 dark:border-gray-700 mb-6",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"font-bold text-gray-800 dark:text-gray-200",children:"Appearance"}),m.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Choose your interface theme."})]}),m.jsxs("div",{className:"flex bg-gray-200 dark:bg-gray-700 p-1 rounded-lg",children:[m.jsxs("button",{onClick:()=>p("light"),className:`flex items-center space-x-2 px-3 py-1.5 rounded-md text-sm font-medium transition-all ${f==="light"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"}`,children:[m.jsx(ZA,{className:"w-4 h-4"}),m.jsx("span",{children:"Light"})]}),m.jsxs("button",{onClick:()=>p("dark"),className:`flex items-center space-x-2 px-3 py-1.5 rounded-md text-sm font-medium transition-all ${f==="dark"?"bg-gray-600 text-white shadow-sm":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"}`,children:[m.jsx(W6,{className:"w-4 h-4"}),m.jsx("span",{children:"Dark"})]})]})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-200 mb-4",children:"Legacy CSV Mappings"}),m.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-md border border-gray-200 dark:border-gray-700 grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Status Header"}),m.jsx("input",{type:"text",value:l.statusColumn,onChange:v=>u("statusColumn",v.target.value),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm text-sm"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:'"Full" Keyword'}),m.jsx("input",{type:"text",value:l.fullValue,onChange:v=>u("fullValue",v.target.value),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm text-sm"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"SKU Column"}),m.jsx("input",{type:"text",value:l.skuColumn,onChange:v=>u("skuColumn",v.target.value),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm text-sm"})]})]})]})]}),t==="catalog"&&m.jsx("div",{className:"h-full",children:m.jsx(rV,{readOnly:!s})}),t==="import"&&m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-bold mb-4 text-gray-800 dark:text-white",children:"Data Import"}),m.jsx(gV,{onImportComplete:y})]}),t==="users"&&m.jsx(YB,{})]}),m.jsxs("div",{className:"mt-8 bg-gray-50 dark:bg-gray-800 -mx-6 -mb-6 p-4 rounded-b-lg border-t dark:border-gray-700",children:[m.jsxs("div",{className:"flex flex-col-reverse md:flex-row justify-between items-center gap-4",children:[m.jsx("button",{onClick:()=>{confirm("Are you sure you want to reset all settings to factory defaults?")&&d()},className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 text-sm font-medium",children:"Reset to Defaults"}),m.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-4 w-full md:w-auto",children:[m.jsxs("button",{onClick:()=>window.location.reload(),className:"w-full md:w-auto px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 text-sm font-bold flex items-center justify-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4 mr-2",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 4.992l3.181-3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})}),"Reload & Sync"]}),m.jsx("button",{onClick:e,className:"w-full md:w-auto px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm font-bold shadow-sm",children:"Done"})]})]}),m.jsx("div",{className:"text-center mt-4",children:m.jsxs("p",{className:"text-[10px] text-gray-400 dark:text-gray-600",children:["v","2.25.43"," (Smart Planner)"]})})]})]})})}const YC="/UBP-Scheduler-V2/assets/ubp_logo_v2-DAzpVElw.png",mr=e=>{const t=e?new Date(e):new Date,r=t.getTimezoneOffset()*6e4;return new Date(t.getTime()-r).toISOString().split("T")[0]},Rt=(e,t)=>{if(!e)return"";try{let r;if(e instanceof Date)r=new Date(e),r.setDate(r.getDate()+t);else{const[l,u,d]=e.split("-").map(Number);r=new Date(l,u-1,d+t)}const n=r.getFullYear(),a=String(r.getMonth()+1).padStart(2,"0"),s=String(r.getDate()).padStart(2,"0");return`${n}-${a}-${s}`}catch(r){return console.error("addDays Error",r),String(e)}},kt=e=>{if(!e)return"";const t=new Date(e);if(isNaN(t.getTime()))return"";if(typeof e=="string"&&e.match(/^\d{4}-\d{2}-\d{2}$/))return e;const r=t.getTimezoneOffset()*6e4;return new Date(t.getTime()-r).toISOString().split("T")[0]},Vs=e=>{if(!e)return"";const[t,r]=e.split(":").map(Number);if(isNaN(t))return e;const n=t>=12?"PM":"AM",a=t%12||12,s=r!==void 0?String(r).padStart(2,"0"):"00";return`${a}:${s} ${n}`},yV=e=>e.isSafetyRisk?"bg-red-500":e.isOverflow?"bg-amber-400":"bg-emerald-400",bV=x.memo(({day:e,isToday:t,updateDateDemand:r,updateDateActual:n,updateDateInbound:a,onContextMenu:s,performBulkFill:l,readOnly:u})=>{const[d,f]=x.useState(e?.val?Number(e.val).toLocaleString():0),[p,g]=x.useState(e?.actual?Number(e.actual).toLocaleString():""),[y,v]=x.useState(e?.trucks||0);if(x.useEffect(()=>{f(e?.val?Number(e.val).toLocaleString():0)},[e?.val]),x.useEffect(()=>{g(e?.actual?Number(e.actual).toLocaleString():"")},[e?.actual]),x.useEffect(()=>{v(e?.trucks||0)},[e?.trucks]),!e)return m.jsx("div",{className:"bg-transparent"});const w=Number(y)>0,k=Number(d)>0,S=p!==""&&p!==null&&p!==void 0,j=()=>{let O=String(d).replace(/,/g,"").trim();if(O===""&&(O="0"),!isNaN(O)){let T=Number(O);T>0&&T<1e3&&(T*=1e3),f(T.toLocaleString()),T!==Number(e.val)&&r(e.dateStr,T)}},N=()=>{let O=String(p).replace(/,/g,"").trim();if(O==="")e.actual!==null&&e.actual!==""&&n(e.dateStr,null);else if(!isNaN(O)){let T=Number(O);T>0&&T<1e3&&(T*=1e3),g(T.toLocaleString()),T!==Number(e.actual)&&n(e.dateStr,T)}},E=()=>{const O=String(y).replace(/,/g,"");!isNaN(O)&&Number(O)!==Number(e.trucks)&&a(e.dateStr,O)},D=(O,T)=>{(O.key==="Enter"||O.code==="Enter"||O.code==="NumpadEnter")&&(O.preventDefault(),O.target.blur())};return m.jsxs("div",{onContextMenu:O=>s(O,e.dateStr,d),className:`
                relative group flex flex-col justify-between p-2 rounded-xl transition-all duration-200 border
                ${t?"bg-white dark:bg-slate-800 ring-2 ring-blue-500 border-blue-500 shadow-blue-500/10 z-10 scale-[1.02]":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 hover:border-blue-300 dark:hover:border-blue-700 hover:shadow-md hover:-translate-y-0.5"}
                ${e.isSafetyRisk?"ring-1 ring-red-500/20 bg-red-50/10":""}
            `,children:[m.jsxs("div",{className:"flex justify-between items-center mb-1",children:[m.jsx("span",{className:`
                    text-sm font-bold w-6 h-6 flex items-center justify-center rounded-full
                    ${t?"bg-blue-600 text-white shadow-sm":"text-slate-700 dark:text-slate-300 group-hover:bg-slate-100 dark:group-hover:bg-slate-700"}
                `,children:e.dayNum}),e.isConfirmed&&m.jsx("span",{title:"Confirmed POs",className:"text-[10px] font-bold text-emerald-600 bg-emerald-50 dark:bg-emerald-900/30 px-1.5 py-0.5 rounded border border-emerald-100 dark:border-emerald-800",children:"PO"})]}),m.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-1.5 py-1 min-h-0",children:[m.jsxs("div",{className:"w-full relative group/demand",children:[m.jsx("div",{className:"text-[9px] font-black text-slate-300 dark:text-slate-600 uppercase tracking-widest text-center mb-0.5 group-hover/demand:text-blue-400 transition-colors",children:"Demand"}),m.jsx("input",{className:`
                            w-full text-center outline-none bg-transparent transition-all
                            ${u?"cursor-not-allowed":"cursor-text"}
                            ${k?"text-2xl font-black text-slate-700 dark:text-white":"text-xl font-bold text-slate-300 dark:text-slate-600"}
                            focus:scale-110 focus:text-blue-600 dark:focus:text-blue-400
                        `,value:d||"",placeholder:"-",disabled:u,onChange:O=>f(O.target.value),onBlur:j,onKeyDown:O=>D(O)})]}),m.jsx("div",{className:"flex items-center justify-center w-full",children:m.jsxs("div",{className:`
                        flex items-center gap-1.5 px-2 py-0.5 rounded-md transition-all
                        ${S?"bg-blue-50 dark:bg-blue-900/30 ring-1 ring-blue-100 dark:ring-blue-800":"bg-slate-50 dark:bg-slate-800/50 hover:bg-slate-100 dark:hover:bg-slate-700"}
                     `,children:[m.jsx("span",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-wider select-none",children:"Act"}),m.jsx("input",{className:`
                                w-12 text-center text-xs font-bold bg-transparent outline-none
                                ${S?"text-blue-700 dark:text-blue-300":"text-slate-400"}
                                focus:text-blue-600 dark:focus:text-blue-400
                            `,value:p,placeholder:"-",disabled:u,onChange:O=>g(O.target.value),onBlur:N,onKeyDown:O=>D(O)})]})})]}),m.jsx("div",{className:"mt-2 flex items-center justify-end",children:m.jsxs("div",{className:`
                    flex items-center gap-1 px-1.5 py-0.5 rounded transition-colors
                    ${w?"bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-400 border border-emerald-100 dark:border-emerald-800/50":"text-slate-300"}
                `,children:[m.jsx(Rn,{className:"w-3 h-3"}),m.jsx("input",{className:"w-4 text-center text-[10px] font-bold bg-transparent outline-none",value:y||"",placeholder:"0",disabled:u,onChange:O=>v(O.target.value),onBlur:E,onKeyDown:O=>D(O)})]})}),m.jsx("div",{className:"mt-2 h-1.5 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden flex",children:m.jsx("div",{className:`h-full ${yV(e)}`,style:{width:"100%"},title:`Inventory Health: ${e.isSafetyRisk?"Critical":"Healthy"}`})})]})},(e,t)=>!(e.day?.dateStr!==t.day?.dateStr||e.day?.val!==t.day?.val||e.day?.actual!==t.day?.actual||e.day?.trucks!==t.day?.trucks||e.day?.isSafetyRisk!==t.day?.isSafetyRisk||e.day?.isOverflow!==t.day?.isOverflow||e.day?.isConfirmed!==t.day?.isConfirmed||e.isToday!==t.isToday||e.readOnly!==t.readOnly));function xV({monthlyDemand:e,updateDateDemand:t,updateDateDemandBulk:r,monthlyInbound:n,updateDateInbound:a,monthlyProductionActuals:s,updateDateActual:l,specs:u,trucksToCancel:d,dailyLedger:f,safetyTarget:p,poManifest:g={},readOnly:y=!1}){const[v,w]=x.useState(new Date),{days:k,monthLabel:S,totalMonthlyDemand:j,totalEstTrucks:N}=x.useMemo(()=>{const R=v.getFullYear(),I=v.getMonth(),M=new Date(R,I,1),B=new Date(R,I+1,0).getDate(),G=M.getDay(),ae=Array(G).fill(null),q=new Date().toLocaleDateString("en-CA");let F=null;d>0&&(F=Object.keys(n||{}).sort().find(U=>U>=q&&n[U]>0));const W=(f||[]).reduce((K,U)=>(K[U.date]=U.balance,K),{}),J=Array.from({length:B},(K,U)=>{const te=new Date(R,I,U+1),ne=te.getFullYear(),de=String(te.getMonth()+1).padStart(2,"0"),ve=String(te.getDate()).padStart(2,"0"),be=`${ne}-${de}-${ve}`,Z=W[be];let ce=null;return Z!==void 0&&u?.bottlesPerCase&&(ce=Math.round(Z/u.bottlesPerCase)),{date:te,dateStr:be,dayNum:U+1,val:e[be]||0,trucks:n?.[be]||0,actual:s?.[be],isPushCandidate:F===be,endInvCases:ce,isSafetyRisk:Z!==void 0&&Z<(p||0),isOverflow:Z!==void 0&&Z>(p||0)+(u?.bottlesPerTruck||0)*2,isConfirmed:g[be]?.items?.length>0}}),pe=J.reduce((K,U)=>{const te=U.actual!==void 0&&U.actual!==null?Number(U.actual):Number(U.val||0);return K+te},0);let L=0;if(u&&u.bottlesPerTruck&&u.bottlesPerCase){const K=u.bottlesPerTruck/u.bottlesPerCase;L=Math.ceil(pe/K)}return{days:[...ae,...J],monthLabel:M.toLocaleString("default",{month:"long",year:"numeric"}),totalMonthlyDemand:pe,totalEstTrucks:L}},[v,e,n,s,u,d,g,f,p]),E=R=>{w(I=>{const M=new Date(I);return M.setMonth(M.getMonth()+R),M})},[D,O]=x.useState(null),T=()=>O(null),P=(R,I,M)=>{y||(R.preventDefault(),O({x:R.clientX,y:R.clientY,dateStr:I,currentVal:M}))},C=R=>{if(!D)return;const{dateStr:I,currentVal:M}=D,z=String(M||"").replace(/,/g,""),B=parseInt(z,10);if(!B&&B!==0){T();return}const G={};if(G[I]=B.toString(),R==="week")for(let ae=1;ae<7;ae++)G[Rt(I,ae)]=B.toString();if(R==="month"){const[ae,q]=I.split("-").map(Number),F=q-1;let W=1;for(;;){const J=Rt(I,W),[pe,L]=J.split("-").map(Number);if(L-1!==F||(G[J]=B.toString(),W++,W>31))break}}if(R==="restOfWeek"){new Date(I.replace(/-/g,"/"));const[ae,q,F]=I.split("-").map(Number);let W=1;for(;;){const J=Rt(I,W),[pe,L,K]=J.split("-").map(Number);if(new Date(pe,L-1,K).getDay()===0||(G[J]=B.toString(),W++,W>7))break}}r&&r(G),T()};return m.jsxs("div",{className:"h-full flex flex-col bg-slate-50 dark:bg-slate-900/50 p-4 rounded-xl",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("button",{onClick:()=>E(-1),className:"p-2 hover:bg-white dark:hover:bg-slate-800 rounded-full shadow-sm transition-all text-slate-500 hover:text-blue-600",children:m.jsx(c0,{className:"w-5 h-5"})}),m.jsxs("h2",{className:"text-2xl font-black text-slate-800 dark:text-white tracking-tight flex items-center gap-2",children:[S,m.jsx("span",{className:"text-sm font-medium text-slate-400 font-mono tracking-normal bg-slate-200 dark:bg-slate-800 px-2 py-0.5 rounded-md",children:v.getFullYear()})]}),m.jsx("button",{onClick:()=>E(1),className:"p-2 hover:bg-white dark:hover:bg-slate-800 rounded-full shadow-sm transition-all text-slate-500 hover:text-blue-600",children:m.jsx(u0,{className:"w-5 h-5"})})]}),m.jsx("div",{className:"flex gap-4 text-xs font-bold text-slate-500",children:m.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[m.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500"}),m.jsxs("span",{children:[N," Trucks Est."]})]})})]}),m.jsx("div",{className:"grid grid-cols-7 gap-4 mb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((R,I)=>m.jsx("div",{className:`text-center text-xs font-bold uppercase tracking-wider py-1
                        ${I===0||I===6?"text-slate-400":"text-slate-600 dark:text-slate-300"}
                    `,children:R},R))}),m.jsx("div",{className:"flex-1 grid grid-cols-7 grid-rows-5 gap-3 min-h-0",children:k.map((R,I)=>{if(!R)return m.jsx("div",{className:"bg-transparent"},`pad-${I}`);const M=R.dateStr===new Date().toLocaleDateString("en-CA");return m.jsx(bV,{day:R,isToday:M,updateDateDemand:t,updateDateActual:l,updateDateInbound:a,onContextMenu:P,performBulkFill:C,readOnly:y},R.dateStr)})}),D&&to.createPortal(m.jsxs("div",{className:"fixed z-50 bg-white dark:bg-slate-800 rounded-lg shadow-xl border border-slate-200 dark:border-slate-700 py-1 min-w-[160px] animate-in fade-in zoom-in-95 duration-100",style:{top:D.y,left:D.x},onClick:R=>R.stopPropagation(),children:[m.jsx("div",{className:"px-3 py-2 border-b dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50",children:m.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Quick Fill"})}),m.jsxs("button",{onClick:()=>C("week"),className:"w-full text-left px-4 py-2 text-sm text-slate-700 dark:text-slate-200 hover:bg-blue-50 dark:hover:bg-blue-900/30 hover:text-blue-600 flex items-center gap-2",children:[m.jsx("span",{children:""})," Fill Next 7 Days"]}),m.jsxs("button",{onClick:()=>C("restOfWeek"),className:"w-full text-left px-4 py-2 text-sm text-slate-700 dark:text-slate-200 hover:bg-blue-50 dark:hover:bg-blue-900/30 hover:text-blue-600 flex items-center gap-2",children:[m.jsx("span",{children:""})," Rest of Week"]}),m.jsxs("button",{onClick:()=>C("month"),className:"w-full text-left px-4 py-2 text-sm text-slate-700 dark:text-slate-200 hover:bg-blue-50 dark:hover:bg-blue-900/30 hover:text-blue-600 flex items-center gap-2",children:[m.jsx("span",{children:""})," Fill Rest of Month"]}),m.jsx("div",{className:"border-t dark:border-slate-700 my-1"}),m.jsx("button",{onClick:T,className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:"Cancel"})]}),document.body)]})}function WC({isOpen:e,onClose:t,date:r,orders:n=[],monthlyInbound:a,updateDateInbound:s}){const{updateDailyManifest:l,addOrdersBulk:u,removeOrder:d,updateOrder:f}=ra(),{schedulerSettings:p,activeSku:g}=zn(),{getProductSpecs:y,productMap:v}=yr(),[w,k]=x.useState(null),[S,j]=x.useState({}),[N,E]=x.useState(""),[D,O]=x.useState(null),T=[...n].sort((U,te)=>{const ne=de=>{if(!de||de==="00:00")return 99999;const[ve,be]=de.split(":").map(Number);return ve*60+(be||0)};return ne(U.time)-ne(te.time)}),P=U=>1,C=U=>{if(!p)return"TBD (Settings)";const ne=T[U]?.sku||g,de=y(ne)||v?.[ne];if(!de)return"TBD (No SKU)";const ve=Number(de.productionRate),be=Number(de.bottlesPerTruck);if(!ve||ve<=0)return"TBD (No Rate)";if(!be)return"TBD (No Cap)";const Z=x0(U,p.shiftStartTime||"06:00",be,ve,Number(de.bottlesPerCase)||1,Math.max(T.length,Math.round(Number(a[r]||0))));return Z?Vs(Z):"TBD"},R=(U,te)=>{if(!s)return;const ne=te.length;s(U,ne)},[I,M]=x.useState(null),z=U=>{const te=n.find(de=>de.id===U);d(r,U,te?.po);const ne=n.filter(de=>de.id!==U);R(r,ne),M(null)},B=U=>{M({title:"Cancel Delivery?",message:"Are you sure you want to remove this delivery? This action cannot be undone if not synced with SAP.",type:"danger",onConfirm:()=>z(U)})},G=U=>{f(r,{...U,status:"received"}),M(null)},ae=U=>{G(U)},q=U=>{O(U);const te=Rt(new Date(r+"T00:00:00"),1);E(kt(te))},F=()=>{if(!N||!D)return;const U=n.find(de=>de.id===D);if(!U)return;const te=w===D?{...U,...S,date:N}:{...U,date:N};u([te]),d(r,D,U.po);const ne=n.filter(de=>de.id!==D);if(R(r,ne),s&&a){const de=Number(a[N]||0),ve=P(te.qty);s(N,de+ve)}O(null),E(""),k(null)},[W,J]=x.useState(!1),pe=()=>{const U=Math.round(Number(a[r]||0));let te=`Replenishment Plan - ${new Date(r+"T00:00:00").toLocaleDateString()}
`;te+=`Total Planned Trucks: ${U}
`,te+=`--------------------------------
`;for(let ne=0;ne<U;ne++)te+=`Load #${ne+1}: ${C(ne)}
`;navigator.clipboard.writeText(te),J(!0),setTimeout(()=>J(!1),2e3)},L=U=>{k(U.id),j({...U})},K=()=>{if(!w)return;const U={...n.find(ne=>ne.id===w),...S};f(r,U);const te=n.map(ne=>ne.id===w?U:ne);R(r,te),k(null)};return m.jsxs(Mt,{open:e,onClose:t,className:"relative z-50",children:[m.jsx("div",{className:"fixed inset-0 bg-black/30","aria-hidden":"true"}),m.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:m.jsxs(Mt.Panel,{className:"w-full max-w-3xl bg-white dark:bg-gray-900 rounded-2xl shadow-xl overflow-hidden flex flex-col max-h-[90vh]",children:[m.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800/50",children:[m.jsxs("div",{children:[m.jsxs(Mt.Title,{className:"text-lg font-bold flex items-center gap-2 text-gray-900 dark:text-white uppercase tracking-wide",children:[m.jsx(qA,{className:"w-5 h-5 text-blue-500"}),new Date(r+"T00:00:00").toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"})]}),m.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Found ",n.length," Scheduled Deliveries"]})]}),m.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:m.jsx(Xs,{className:"w-6 h-6"})})]}),I&&m.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/20 backdrop-blur-sm p-4 animate-fadeIn",children:m.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700 p-6 w-full max-w-sm flex flex-col items-center text-center transform transition-all scale-100",children:[m.jsx("div",{className:`p-4 rounded-full mb-4 ${I.type==="danger"?"bg-red-100 text-red-600":"bg-blue-100 text-blue-600"}`,children:I.type==="danger"?m.jsx(Ja,{className:"w-8 h-8"}):m.jsx(ua,{className:"w-8 h-8"})}),m.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:I.title}),m.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6 leading-relaxed",children:I.message}),m.jsxs("div",{className:"flex gap-3 w-full",children:[m.jsx("button",{onClick:()=>M(null),className:"flex-1 px-4 py-2 rounded-lg border border-gray-300 text-gray-700 font-bold hover:bg-gray-50 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),m.jsx("button",{onClick:()=>I.onConfirm(),className:`flex-1 px-4 py-2 rounded-lg text-white font-bold shadow-lg transition-transform hover:scale-105 ${I.type==="danger"?"bg-red-600 hover:bg-red-700 shadow-red-500/30":"bg-emerald-600 hover:bg-emerald-700 shadow-emerald-500/30"}`,children:"Confirm"})]})]})}),m.jsxs("div",{className:"p-6 overflow-y-auto space-y-4",children:[(n.length>0||a&&Number(a[r]||0)>0)&&m.jsxs("div",{className:"flex items-center justify-between bg-blue-50 dark:bg-blue-900/20 p-3 rounded-md mb-2",children:[m.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-200 flex items-center gap-2",children:[m.jsx("span",{className:"text-xl",children:""}),m.jsxs("span",{children:[m.jsxs("strong",{children:[Math.round(Number(a[r]||n.length))," Trucks Planned"]}),n.length===0?" via Auto-Replenishment.":` (${n.length} SAP/Manual, ${Math.max(0,Math.round(Number(a[r]||0))-n.length)} Suggested)`]})]}),m.jsx("button",{onClick:pe,className:`flex items-center px-3 py-1.5 rounded-lg text-xs font-bold transition-all ${W?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-white text-gray-600 border border-gray-200 hover:bg-gray-50 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600"}`,children:W?m.jsxs(m.Fragment,{children:[m.jsx(ua,{className:"w-4 h-4 mr-1.5"}),"Copied!"]}):m.jsxs(m.Fragment,{children:[m.jsx(ix,{className:"w-4 h-4 mr-1.5"}),"Copy Plan"]})})]}),n.length>0&&m.jsx("div",{className:"space-y-4",children:T.map((U,te)=>m.jsx("div",{className:"bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-lg shadow-sm p-4 relative group hover:border-blue-300 dark:hover:border-blue-700 transition-colors",children:w===U.id?m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase",children:"PO Number"}),m.jsx("input",{type:"text",className:"w-full p-2 text-sm border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white mt-1",value:S.po||"",onChange:ne=>j(de=>({...de,po:ne.target.value}))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase",children:"Appointment"}),m.jsx("input",{type:"time",className:"w-full p-2 text-sm border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white mt-1",value:S.time||"",onChange:ne=>j(de=>({...de,time:ne.target.value}))})]}),m.jsxs("div",{className:"col-span-2 md:col-span-1",children:[m.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase",children:"Supplier"}),m.jsx("input",{type:"text",className:"w-full p-2 text-sm border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white mt-1",value:S.supplier||"",onChange:ne=>j(de=>({...de,supplier:ne.target.value}))})]})]}),m.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg flex items-center gap-3",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("label",{className:"text-xs font-bold text-blue-700 dark:text-blue-300",children:"Move to Date"}),m.jsx("input",{type:"date",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white mt-1",value:N,onChange:ne=>{E(ne.target.value),D||O(U.id)}})]}),m.jsxs("button",{onClick:F,disabled:!N,className:"mt-5 px-4 py-2 bg-blue-600 text-white rounded-lg font-bold text-sm disabled:opacity-50 hover:bg-blue-500 flex items-center",children:[m.jsx(k6,{className:"w-5 h-5 mr-1"}),"Reschedule"]})]}),m.jsxs("div",{className:"flex justify-between border-t dark:border-gray-700 pt-3",children:[m.jsx("button",{onClick:()=>k(null),className:"text-sm text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:"Cancel"}),m.jsxs("button",{onClick:K,className:"flex items-center text-sm font-bold text-green-600 hover:text-green-700",children:[m.jsx(ua,{className:"w-5 h-5 mr-1"}),"Save Changes"]})]})]}):m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"bg-blue-100 dark:bg-blue-900 p-3 rounded-lg",children:m.jsx(Rn,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),m.jsxs("div",{children:[m.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center",children:[m.jsx("span",{className:"font-mono",children:U.time&&U.time!=="00:00"?Vs(U.time):C(te)}),m.jsx("span",{className:"mx-2 text-gray-300",children:"|"}),"PO #",U.po,U.source==="sap"&&m.jsx("span",{className:"ml-2 px-2 py-0.5 bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-100 text-[10px] rounded-full font-bold uppercase tracking-tighter",children:"SAP"}),m.jsx("span",{className:"ml-2 px-2 py-0.5 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-100 text-xs rounded-full font-bold",children:"1 Truck"}),m.jsx("button",{onClick:ne=>{ne.stopPropagation();const de=U.status||"ordered";de==="received"?confirm("Revert 'Received' status?")&&f(r,{...U,status:"ordered"}):f(r,{...U,status:de==="confirmed"?"ordered":"confirmed"})},className:`ml-2 px-2 py-0.5 text-xs rounded-full font-bold border transition-colors ${U.status==="received"?"bg-emerald-100 text-emerald-800 border-emerald-200":U.status==="confirmed"?"bg-blue-100 text-blue-800 border-blue-200":"bg-yellow-100 text-yellow-800 border-yellow-200"}`,children:U.status==="received"?"Received":U.status==="confirmed"?"Confirmed":U.source==="sap"?"Imported":"Ordered"})]}),m.jsx("div",{className:"flex flex-col gap-1 mt-1",children:m.jsxs("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[m.jsx("span",{className:"truncate max-w-[200px]",children:U.supplier||U.vendor||"Unknown Supplier"}),m.jsx("span",{className:"text-gray-300",children:"|"}),m.jsx("span",{className:"text-gray-600 dark:text-gray-400 font-bold",children:U.sku||g})]})})]})]}),m.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[U.status!=="received"&&m.jsx("button",{onClick:()=>ae(U),className:"p-2 text-gray-400 hover:text-emerald-600",title:"Mark as Received",children:m.jsx(ua,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>{L(U),q(U.id)},className:"p-2 text-gray-400 hover:text-blue-600",title:"Edit",children:m.jsx(eu,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>B(U.id),className:"p-2 text-gray-400 hover:text-red-600",title:"Cancel",children:m.jsx(Ja,{className:"w-5 h-5"})})]})]})},U.id||te))}),a&&Math.round(Number(a[r]||0))>n.length&&m.jsx("div",{className:"space-y-4 pt-2 border-t border-dashed border-gray-200 dark:border-gray-700",children:Array.from({length:Math.round(Number(a[r]))-n.length}).map((U,te)=>m.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-4 flex items-center justify-between opacity-75 grayscale hover:grayscale-0 hover:border-blue-300 transition-all cursor-help",title:"Suggested by Auto-Replenishment",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"bg-gray-200 dark:bg-gray-700 p-3 rounded-lg",children:m.jsx(Rn,{className:"w-6 h-6 text-gray-400"})}),m.jsxs("div",{children:[m.jsxs("h3",{className:"text-lg font-bold text-gray-500 dark:text-gray-400 italic",children:["Suggested Load #",n.length+te+1]}),m.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[m.jsxs("div",{className:"flex items-center text-xs font-mono font-bold text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/30 px-2 py-0.5 rounded",children:[m.jsx(sx,{className:"w-3 h-3 mr-1"}),"Est. ",C(n.length+te)]}),m.jsx("span",{className:"text-xs text-gray-400",children:"Awaiting PO"})]})]})]}),m.jsx("div",{className:"px-3 py-1 bg-gray-100 dark:bg-gray-700 text-xs font-bold text-gray-500 rounded-full uppercase tracking-widest text-[9px]",children:"Auto-Plan"})]},`suggested-${te}`))}),n.length===0&&(!a||Number(a[r]||0)<=0)&&m.jsx("div",{className:"text-center py-10 text-gray-400 italic bg-gray-50 dark:bg-gray-800 rounded-lg",children:"No deliveries scheduled or suggested for this day."}),m.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-lg flex gap-3 text-xs text-yellow-800 dark:text-yellow-200",children:[m.jsx("span",{className:"text-lg",children:""}),m.jsxs("p",{children:[m.jsx("strong",{children:"Schedule Exception Management"}),m.jsx("br",{}),"Use this tool to handle cancellations or delays. Removing a PO here is permanent unless re-imported from SAP."]})]})]})]})})]})}const wV=x.memo(({dates:e,todayStr:t})=>m.jsx("thead",{className:"sticky top-0 z-20",children:m.jsxs("tr",{children:[m.jsx("th",{className:"sticky left-0 min-w-[140px] w-[140px] h-10 bg-slate-800 dark:bg-slate-950 border-b border-r border-slate-600 dark:border-slate-700 pl-2 pr-2 text-left text-xs font-bold text-white dark:text-slate-200 uppercase tracking-wider z-30 shadow-md",children:m.jsx("div",{className:"flex items-center h-full",children:m.jsx("span",{children:"Metric"})})}),e.map(r=>{const n=kt(r),a=new Date(n+"T00:00:00"),s=n===t,l=a.getDay()===0||a.getDay()===6;return m.jsx("th",{className:`
                            min-w-[100px] w-[100px] h-10 p-0 border-b border-r border-slate-600 dark:border-slate-700 transition-colors
                            ${s?"bg-blue-600 text-white font-extrabold shadow-md":"bg-slate-800 dark:bg-slate-950 text-slate-200 dark:text-slate-400"}
                            ${l&&!s?"bg-slate-700/50 dark:bg-slate-900/50 text-slate-400":""}
                        `,children:m.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center",children:[m.jsx("div",{className:`uppercase text-[9px] leading-tight font-semibold ${s?"opacity-90":"opacity-60"}`,children:(()=>{const[u,d,f]=n.split("-").map(Number);return new Date(u,d-1,f).toLocaleDateString("en-US",{weekday:"short"})})()}),m.jsx("div",{className:"text-sm leading-none mt-0.5",children:n.split("-")[2].replace(/^0/,"")})]})},n)})]})}));function _V({date:e,todayStr:t,demandVal:r,updateDateDemand:n,actualVal:a,updateDateActual:s,manifestItems:l,monthlyInboundVal:u,updateDateInbound:d,ledgerItem:f,openManager:p,readOnly:g=!1}){const y=kt(e),v=y===t,w=a!==void 0,k=l&&l.length>0,S=k?l.length:u||0;return m.jsxs("div",{className:`p-4 rounded-xl border-2 mb-4 shadow-sm ${v?"bg-blue-50 border-blue-200 dark:bg-blue-900/20 dark:border-blue-800":"bg-white border-gray-100 dark:bg-gray-800 dark:border-gray-700"}`,children:[m.jsxs("div",{className:"flex justify-between items-center mb-3",children:[m.jsxs("div",{children:[m.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:new Date(e).toLocaleDateString("en-US",{weekday:"long"})}),m.jsx("div",{className:"text-lg font-black text-gray-800 dark:text-white",children:new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]}),v&&m.jsx("span",{className:"bg-blue-100 text-blue-700 px-2 py-0.5 rounded text-[10px] font-bold uppercase",children:"Today"})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-2 rounded-lg",children:[m.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"Production Plan"}),m.jsx("input",{className:`w-full bg-white dark:bg-gray-600 rounded border border-gray-200 dark:border-gray-500 p-2 text-sm font-bold text-center outline-none ${g?"cursor-default opacity-80":"focus:ring-2 focus:ring-blue-500"}`,placeholder:g?"":"-",value:r||"",disabled:g,onChange:j=>n(y,j.target.value)})]}),m.jsxs("div",{className:"bg-blue-50/50 dark:bg-blue-900/10 p-2 rounded-lg border border-blue-100 dark:border-blue-900",children:[m.jsx("label",{className:"text-[10px] font-bold text-blue-400 uppercase block mb-1",children:"Actual / Prod"}),m.jsx("input",{className:`w-full bg-white dark:bg-gray-600 rounded border border-blue-200 dark:border-blue-800 p-2 text-sm font-bold text-center text-blue-700 dark:text-blue-300 outline-none ${g?"cursor-default opacity-80":"focus:ring-2 focus:ring-blue-500"}`,placeholder:g?"":"-",value:w?Number(a).toLocaleString():"",disabled:g,onChange:j=>{const N=j.target.value.replace(/,/g,"");isNaN(N)||s(y,N)}})]}),m.jsxs("div",{className:"bg-green-50/50 dark:bg-green-900/10 p-2 rounded-lg border border-green-100 dark:border-green-900",children:[m.jsx("label",{className:"text-[10px] font-bold text-green-400 uppercase block mb-1",children:"Inbound Trucks"}),k?m.jsxs("button",{className:`w-full bg-white dark:bg-gray-600 rounded border border-green-200 dark:border-green-800 p-2 text-sm font-bold text-center text-green-700 dark:text-green-400 flex items-center justify-center gap-2 ${g?"cursor-default opacity-80":""}`,onClick:()=>!g&&p(y),disabled:g,children:[S," ",m.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"})]}):m.jsx("input",{className:`w-full bg-white dark:bg-gray-600 rounded border border-green-200 dark:border-green-800 p-2 text-sm font-bold text-center text-green-700 dark:text-green-400 outline-none ${g?"cursor-default opacity-80":"focus:ring-2 focus:ring-green-500"}`,placeholder:g?"":"0",value:S||"",disabled:g,onChange:j=>{const N=j.target.value.replace(/,/g,"");isNaN(N)||d(y,N)}})]}),m.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-2 rounded-lg flex flex-col justify-center items-center",children:[m.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"End Balance"}),m.jsx("div",{className:"text-sm font-black text-gray-700 dark:text-gray-300",children:f?f.balance.toLocaleString():"-"})]})]})]})}const SV=x.memo(({dates:e,monthlyDemand:t,updateDateDemand:r,updateDateDemandBulk:n,readOnly:a=!1,todayStr:s})=>{const l=x.useRef(r);return x.useEffect(()=>{l.current=r},[r]),m.jsxs("tr",{className:"group/row",children:[m.jsx("th",{className:"sticky left-0 min-w-[140px] w-[140px] h-8 bg-slate-300 dark:bg-slate-800 border-r border-slate-400 dark:border-slate-600 pl-2 pr-2 text-left text-xs font-bold text-slate-800 dark:text-slate-300 z-10 shadow-md relative",children:m.jsx("div",{className:"w-full h-full flex items-center",children:"Production (Plan)"})}),e.map(u=>{const d=kt(u),f=t[d];return m.jsx(kV,{date:u,dateStr:d,initialValue:f,updateDateDemand:r,updateDateDemandBulk:n,readOnly:a,isToday:d===s},d)})]})}),kV=x.memo(({date:e,dateStr:t,initialValue:r,updateDateDemand:n,updateDateDemandBulk:a,readOnly:s,isToday:l})=>{const u=x.useRef(null),[d,f]=x.useState(null);x.useEffect(()=>{u.current&&document.activeElement!==u.current&&(u.current.value=r?Number(r).toLocaleString():"")},[r]);const p=S=>{if(!S)return"";const j=S.toString().toLowerCase().trim().replace(/,/g,"");let N=1;j.endsWith("k")?N=1e3:j.endsWith("m")&&(N=1e6);let E=parseFloat(j.replace(/[km]/g,""));return isNaN(E)?S:(E*=N,N===1&&E>0&&E<1e3&&(E*=1e3),E.toString())},g=()=>{if(!s&&u.current){const S=p(u.current.value);S!==r&&n(t,S),S&&!isNaN(S)&&(u.current.value=Number(S).toLocaleString())}},y=S=>{if(!s&&S.key==="Enter"){S.preventDefault();const j=S.target.value.replace(/,/g,""),N=p(j);n(t,N),N&&!isNaN(N)&&(S.target.value=Number(N).toLocaleString());const D=`demand-${Rt(t,1)}`;setTimeout(()=>{const O=document.getElementById(D);O&&(O.focus(),O.select())},0)}},v=S=>{s||(S.preventDefault(),f({x:S.clientX,y:S.clientY}))},w=()=>f(null),k=S=>{const j=u.current?p(u.current.value):r;if(!j)return;const N={};if(N[t]=j,S==="week")for(let E=1;E<7;E++)N[Rt(t,E)]=j;if(S==="month"){const E=new Date(e).getMonth();let D=1;for(;;){const O=Rt(t,D);if(new Date(O).getMonth()!==E||(N[O]=j,D++,D>31))break}}if(S==="restOfWeek"){new Date(e).getDay();let E=1;for(;;){const D=Rt(t,E),O=new Date(D);if(N[D]=j,O.getDay()===0||(E++,E>7))break}}a&&a(N),w()};return m.jsxs("td",{className:`min-w-[100px] w-[100px] h-8 p-0 border-r border-slate-300 dark:border-slate-700 transition-colors 
            ${l?"bg-blue-50/50 dark:bg-blue-900/10 border-x-2 border-x-blue-300":"bg-slate-200 dark:bg-slate-800/50"}`,children:[m.jsx("div",{className:"w-full h-full relative group/cell",onContextMenu:v,children:m.jsx("input",{ref:u,id:`demand-${t}`,type:"text",inputMode:"decimal",className:`
                        w-full h-full text-center outline-none transition-all font-bold text-sm m-0 p-0
                        ${s?"cursor-not-allowed text-slate-500 bg-transparent":"cursor-text text-slate-800 dark:text-slate-100 bg-transparent focus:bg-white dark:focus:bg-slate-700 hover:ring-1 hover:ring-slate-300 dark:hover:ring-slate-600 focus:ring-2 focus:ring-inset focus:ring-blue-500 focus:z-10 focus:shadow-sm"}
                        placeholder:text-slate-300 dark:placeholder:text-slate-600
                    `,placeholder:s?"":"-",disabled:s,onBlur:g,onKeyDown:y,autoComplete:"off"})}),d&&m.jsx(jV,{x:d.x,y:d.y,onClose:w,onAction:k})]})}),jV=({x:e,y:t,onClose:r,onAction:n})=>{x.useEffect(()=>{const s=()=>r();return window.addEventListener("click",s),()=>window.removeEventListener("click",s)},[r]);const a=s=>s.stopPropagation();return to.createPortal(m.jsxs("div",{className:"fixed z-[100] min-w-[180px] bg-white dark:bg-slate-800 rounded-lg shadow-xl ring-1 ring-black/5 dark:ring-white/10 py-1 origin-top-left transform transition-all animate-in fade-in zoom-in-95 duration-100",style:{top:t,left:e},onClick:a,onContextMenu:s=>s.preventDefault(),children:[m.jsx("div",{className:"px-3 py-2 text-[10px] font-bold text-slate-400 uppercase tracking-wider border-b border-slate-100 dark:border-slate-700 mb-1",children:"Quick Fill"}),m.jsxs("button",{onClick:()=>n("week"),className:"w-full text-left px-4 py-2 text-sm text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700 flex items-center gap-2 group",children:[m.jsx("div",{className:"p-1 rounded-md bg-emerald-50 text-emerald-600 group-hover:bg-emerald-100 dark:bg-emerald-900/30 dark:text-emerald-400",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"})})}),m.jsx("span",{children:"Next 7 Days"})]}),m.jsxs("button",{onClick:()=>n("restOfWeek"),className:"w-full text-left px-4 py-2 text-sm text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700 flex items-center gap-2 group",children:[m.jsx("div",{className:"p-1 rounded-md bg-blue-50 text-blue-600 group-hover:bg-blue-100 dark:bg-blue-900/30 dark:text-blue-400",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0h9m3.102-1.296a4.5 4.5 0 016.3 6.3m0-6.3a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0z"})})}),m.jsx("span",{children:"Rest of Week"})]}),m.jsxs("button",{onClick:()=>n("month"),className:"w-full text-left px-4 py-2 text-sm text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700 flex items-center gap-2 group",children:[m.jsx("div",{className:"p-1 rounded-md bg-purple-50 text-purple-600 group-hover:bg-purple-100 dark:bg-purple-900/30 dark:text-purple-400",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0h9m3.102-1.296a4.5 4.5 0 016.3 6.3m0-6.3a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0z"})})}),m.jsx("span",{children:"Rest of Month"})]})]}),document.body)},EV=x.memo(({dates:e,monthlyProductionActuals:t,updateDateActual:r,readOnly:n=!1,todayStr:a})=>m.jsxs("tr",{className:"bg-sky-50/20 dark:bg-sky-900/10",children:[m.jsx("th",{className:"sticky left-0 min-w-[140px] w-[140px] h-8 bg-sky-50 dark:bg-slate-800 border-r border-slate-300 dark:border-slate-600 pl-2 pr-2 text-left text-xs font-bold text-sky-700 dark:text-sky-400 z-10 shadow-md",children:m.jsx("div",{className:"w-full h-full flex items-center",children:"Actual / Prod"})}),e.map(s=>{const l=kt(s),u=t[l];return m.jsx(NV,{date:s,dateStr:l,initialValue:u,updateDateActual:r,readOnly:n,isToday:l===a},l)})]})),NV=we.memo(({dateStr:e,initialValue:t,updateDateActual:r,readOnly:n,isToday:a})=>{const[s,l]=we.useState(t?Number(t).toLocaleString():"");we.useEffect(()=>{l(t?Number(t).toLocaleString():"")},[t]);const u=()=>{if(n)return;let d=s.toString().toLowerCase().trim().replace(/,/g,""),f=1;d.endsWith("k")?f=1e3:d.endsWith("m")&&(f=1e6);let p=parseFloat(d.replace(/[km]/g,""));f===1&&p>0&&p<1e3&&(p*=1e3);const g=isNaN(p)?null:p*f;g!==t&&r(e,g),g!==null&&l(g.toLocaleString())};return m.jsx("td",{className:`min-w-[100px] w-[100px] h-8 p-0 border-r border-slate-200 dark:border-slate-700 
            ${a?"bg-blue-50/50 dark:bg-blue-900/10 border-x-2 border-x-blue-300":"bg-sky-50/10 dark:bg-sky-900/5"}
            ${n?"":"hover:bg-sky-50/30"}
        `,children:m.jsx("input",{type:"text",className:`w-full h-full text-center text-sm bg-transparent outline-none font-bold text-sky-700 dark:text-sky-300 rounded-sm ${n?"cursor-default opacity-80":"focus:bg-white dark:focus:bg-slate-700 focus:ring-2 focus:ring-inset focus:ring-sky-400"}`,value:s,onChange:d=>l(d.target.value),onBlur:u,onKeyDown:d=>{d.key==="Enter"&&d.target.blur()},placeholder:n?"":"-",disabled:n})})}),OV=x.memo(({dates:e,poManifest:t,monthlyInbound:r,updateDateInbound:n,openManager:a,readOnly:s=!1,todayStr:l})=>m.jsxs("tr",{children:[m.jsx("th",{className:"sticky left-0 min-w-[140px] w-[140px] h-8 bg-white dark:bg-slate-800 border-r border-slate-300 dark:border-slate-600 pl-2 pr-2 text-left text-xs font-bold text-emerald-700 dark:text-emerald-400 z-10 shadow-md",children:m.jsx("div",{className:"w-full h-full flex items-center",children:"Inbound Trucks"})}),e.map(u=>{const d=kt(u),f=t[d]?.items||[],p=f.length>0,g=p?f.length:r[d]||0,y=d===l,v=f.length>0&&f.every(k=>k.status==="received"),w=f.filter(k=>k.status==="received").length;return m.jsx("td",{className:`min-w-[100px] w-[100px] h-8 p-0 border-r border-slate-200 dark:border-slate-700 relative group transition-colors 
                        ${y?"bg-blue-50/50 dark:bg-blue-900/10 border-x-2 border-x-blue-300":""}
                        ${s?"":"hover:bg-slate-50 dark:hover:bg-slate-700"}
                    `,children:p?m.jsx("button",{className:`w-full h-full p-1 flex items-center justify-center ${s?"cursor-default":""}`,onClick:()=>!s&&a(d),title:`${f.length} POs (${w} Received)${s?" (Read Only)":""}`,disabled:s,children:m.jsx("span",{className:`flex items-center gap-1 rounded px-2 py-0.5 text-sm font-bold shadow-sm whitespace-nowrap transition-colors 
                                    ${v?"bg-emerald-100 text-emerald-800 border border-emerald-200 dark:bg-emerald-900/50 dark:text-emerald-300 dark:border-emerald-700":s?"bg-indigo-600/70 text-white/90":"bg-indigo-600 text-white dark:bg-indigo-500 hover:bg-indigo-700"}
                                `,children:v?m.jsxs(m.Fragment,{children:[m.jsx("span",{className:"text-emerald-600 dark:text-emerald-400",children:""}),g," OK"]}):m.jsxs(m.Fragment,{children:[m.jsx(Rn,{className:"w-3 h-3"}),g," PO"]})})}):m.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[Number(g)>0&&m.jsx(Rn,{className:"w-3 h-3 text-emerald-500 absolute left-2 pointer-events-none opacity-50"}),m.jsx("input",{className:`w-full h-full text-center text-sm bg-transparent font-bold rounded-sm outline-none
                                        ${g>0?"text-emerald-600 dark:text-emerald-400 pl-4":"text-slate-300"}
                                        ${s?"cursor-default":"focus:bg-emerald-50 dark:focus:bg-slate-700 focus:ring-2 focus:ring-inset focus:ring-emerald-400"}
                                    `,value:g||"",placeholder:s?"":"0",disabled:s,onChange:k=>{const S=k.target.value.replace(/,/g,"");isNaN(S)||n(d,S)},onDoubleClick:()=>!s&&a(d)})]})},d)})]})),AV=x.memo(({dates:e,ledgerMap:t,specs:r,safetyTarget:n,todayStr:a})=>m.jsxs("tr",{className:"bg-slate-200 dark:bg-slate-800 border-t-2 border-slate-300 dark:border-slate-600",children:[m.jsx("th",{className:"sticky left-0 min-w-[140px] w-[140px] h-8 bg-slate-200 dark:bg-slate-800 border-r border-slate-300 dark:border-slate-600 pl-2 pr-2 text-left text-xs font-bold text-slate-800 dark:text-white z-10 shadow-md",children:m.jsx("div",{className:"w-full h-full flex items-center",children:"End Inventory"})}),e.map(s=>{const l=kt(s),u=t[l],d=u?u.balance:null,f=l===a,p=r?.casesPerPallet||100,g=r?.bottlesPerCase||1,y=r?.bottlesPerTruck||2e4,v=d!==null?Math.round(d/g/p):null;let w="-";if(v!==null){const S=r?.palletsPerTruck||22;if(Math.abs(v)>=S){const j=v<0?"-":"",N=Math.abs(v),E=Math.floor(N/S),D=N%S;w=`${j}${E}T ${D}P`}else w=`${v}`}let k="";return d!==null&&n&&(d<n?k="bg-red-100 dark:bg-red-900/40 text-red-800 dark:text-red-200 font-bold":d>n+y*2?k="bg-orange-100 dark:bg-orange-900/40 text-orange-900 dark:text-orange-200":k="text-slate-700 dark:text-slate-200"),f&&(k+=" bg-blue-50/50 dark:bg-blue-900/10 border-x-2 border-x-blue-300"),m.jsx("td",{className:`min-w-[100px] w-[100px] h-8 p-0 border-r border-slate-300 dark:border-slate-600 ${k}`,children:m.jsx("div",{className:"w-full h-full flex items-center justify-center",children:w})},l)})]})),TV=x.memo(({dates:e,ledgerMap:t,monthlyDemand:r,monthlyInbound:n,poManifest:a,specs:s,todayStr:l,leadTimeDays:u=2})=>{const d=f=>a&&a[f]?.items?.length>0?a[f].items.length:Number(n[f])||0;return m.jsxs("tr",{className:"border-t border-slate-300 dark:border-slate-600 bg-slate-200 dark:bg-slate-800",children:[m.jsx("th",{className:"sticky left-0 min-w-[140px] w-[140px] h-8 bg-slate-300 dark:bg-slate-800 border-r border-slate-400 dark:border-slate-600 pl-2 pr-2 text-left text-xs font-bold text-slate-500 uppercase z-10 shadow-md",children:m.jsx("div",{className:"w-full h-full flex items-center",children:"Coverage (DOS)"})}),e.map(f=>{const p=kt(f),g=t[p],y=1+(s?.scrapPercentage||0)/100,v=p===l,w=Rt(p,-1),k=t[w],S=k?k.balance:g?.balance||0,N=d(p)*(s?.bottlesPerTruck||2e4);let E=0,D=S+N,O=!1;for(let M=0;M<=30;M++){const z=new Date(f);z.setDate(z.getDate()+M);const B=kt(z),G=(r[B]||0)*s.bottlesPerCase*y;if(G===0){E+=1,M===30&&(O=!0);continue}if(D>=G)D-=G,E+=1;else{E+=D/G,D=0;break}}const T=E.toFixed(1),P=parseFloat(T),C=u,R=u+2;let I="text-slate-400";return S+N>0&&(P<=C?I="bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300 font-bold":P<=R?I="bg-yellow-100 dark:bg-yellow-900/50 text-yellow-700 dark:text-yellow-300 font-bold":I="bg-green-100 dark:bg-green-900/40 text-green-700 dark:text-green-300 font-bold"),v&&(I+=" bg-blue-50/50 dark:bg-blue-900/10 border-x-2 border-x-blue-300"),m.jsx("td",{className:`min-w-[100px] w-[100px] h-8 p-0 text-center text-xs border-r border-slate-300 dark:border-slate-600 ${I}`,title:`Coverage: ${T} days | Lead Time: ${u} days`,children:m.jsx("div",{className:"w-full h-full flex items-center justify-center",children:O?"":T})},p)})]})});function CV({monthlyDemand:e,monthlyProductionActuals:t,monthlyInbound:r,updateDateDemand:n,updateDateDemandBulk:a,updateDateActual:s,updateDateInbound:l,dailyLedger:u=[],specs:d,userProfile:f,startDate:p,readOnly:g=!1,poManifest:y={},leadTimeDays:v=2}){const{updateDailyManifest:w,removeOrder:k}=ra(),[S,j]=x.useState({isOpen:!1,date:null}),N=mr(new Date),E=x.useMemo(()=>{const M=[],z=p?new Date(p):new Date;for(let B=0;B<60;B++)M.push(Rt(z,B));return M},[p]),D=x.useMemo(()=>u.reduce((M,z)=>(M[z.date]=z,M),{}),[u]),O=M=>{g||j({isOpen:!0,date:M})},T=()=>{j({isOpen:!1,date:null})},P=M=>{S.date&&w(S.date,M)},C=M=>{S.date&&k(S.date,M)},R=()=>m.jsx(WC,{isOpen:S.isOpen,onClose:T,date:S.date||"",orders:S.date?y[S.date]?.items||[]:[],monthlyInbound:r,updateDateInbound:l,onSave:P,onDelete:C,specs:d}),I=x.useMemo(()=>{if(!d||!d.bottlesPerTruck||!d.bottlesPerCase)return null;let M=0,z=0;const B=d.bottlesPerTruck/d.bottlesPerCase;E.forEach(q=>{const F=mr(q),W=e[F];W&&(M+=Number(W));const J=y[F],pe=J?.items?.length>0?J.items.length:r[F]||0;z+=Number(pe)});const G=Math.ceil(M/B),ae=z-G;return{totalCases:M,trucksRequired:G,totalScheduled:z,gap:ae}},[E,e,r,y,d]);return m.jsxs("div",{className:"relative",children:[I&&m.jsxs("div",{className:"hidden md:flex sticky left-0 right-0 mb-2 mx-1 p-1.5 bg-slate-900 text-white rounded-lg shadow-md items-center justify-between z-10 font-mono text-xs uppercase tracking-wider",children:[m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:"text-slate-400 text-[8px]",children:"Total Plan"}),m.jsxs("span",{className:"font-bold text-sm text-blue-200",children:[I.totalCases.toLocaleString()," ",m.jsx("span",{className:"text-[8px] text-slate-500",children:"cs"})]})]}),m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:"text-slate-400 text-[8px]",children:"Est. Trucks"}),m.jsxs("span",{className:"font-bold text-sm",children:[I.trucksRequired," ",m.jsx("span",{className:"text-[8px] text-slate-500",children:"trks"})]})]})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("div",{className:"flex flex-col text-right",children:[m.jsx("span",{className:"text-slate-400 text-[8px]",children:"Scheduled"}),m.jsx("span",{className:"font-bold text-sm text-emerald-400",children:I.totalScheduled})]}),m.jsxs("div",{className:`flex flex-col items-center justify-center px-3 py-0.5 rounded border ${I.gap<0?"bg-red-500/20 border-red-500 text-red-200":"bg-emerald-500/20 border-emerald-500 text-emerald-200"}`,children:[m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("span",{className:"text-[8px] opacity-75",children:"Gap"}),m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-3 h-3 opacity-60 cursor-help",title:"Gap = Scheduled Trucks - Demand Trucks (simple difference). Replenishment Card shows True MRP need including safety stock.",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"})})]}),m.jsxs("span",{className:"font-black text-lg leading-none",children:[I.gap>0?"+":"",I.gap]})]})]})]}),m.jsx("div",{className:"md:hidden space-y-4 pb-20",children:E.slice(0,30).map(M=>{const z=mr(M);return m.jsx(_V,{date:M,todayStr:N,demandVal:e[z],updateDateDemand:n,actualVal:t[z],updateDateActual:s,manifestItems:y[z]?.items||[],monthlyInboundVal:r[z],updateDateInbound:l,ledgerItem:D[z],openManager:O,readOnly:g},z)})}),m.jsx("div",{className:"hidden md:block overflow-x-auto pb-4 relative custom-scrollbar",children:m.jsxs("table",{className:"w-full border-collapse text-sm",children:[m.jsx(wV,{dates:E,todayStr:N}),m.jsxs("tbody",{children:[m.jsx(SV,{dates:E,monthlyDemand:e,updateDateDemand:n,updateDateDemandBulk:a,readOnly:g,todayStr:N}),m.jsx(EV,{dates:E,monthlyProductionActuals:t,updateDateActual:s,readOnly:g,todayStr:N}),m.jsx(OV,{dates:E,poManifest:y,monthlyInbound:r,updateDateInbound:l,openManager:O,readOnly:g,todayStr:N}),m.jsx(AV,{dates:E,ledgerMap:D,specs:d,safetyTarget:d?.bottles_per_truck?d.bottles_per_truck*2:0,todayStr:N}),m.jsx(TV,{dates:E,ledgerMap:D,monthlyDemand:e,monthlyInbound:r,poManifest:y,specs:d,todayStr:N,leadTimeDays:v})]})]})}),R()]})}function PV({isOpen:e,onClose:t,mrpResults:r}){const{poManifest:n}=ra(),a=r||{},{activeSku:s}=zn(),[l,u]=x.useState({start:"",end:""}),[d,f]=x.useState("new"),p=x.useRef(!1),g=x.useMemo(()=>{const O=[];return Object.entries(n).sort().forEach(([T,P])=>{P.items.forEach(C=>{O.push({...C,date:T})})}),O},[n]),y=x.useMemo(()=>g.filter(O=>new Date(O.date)>=new Date().setHours(0,0,0,0)),[g]);x.useEffect(()=>{if(e&&a?.trucksToCancel>0&&v.size===0){const T=y.filter(P=>P.status==="confirmed").sort((P,C)=>new Date(C.date)-new Date(P.date)).slice(0,a.trucksToCancel);if(T.length>0){const P=new Set(T.map(C=>C.po+C.date));p.current=!0,w(P),f("cancel"),setTimeout(()=>p.current=!1,500)}}},[e,a?.trucksToCancel]);const[v,w]=x.useState(new Set);x.useEffect(()=>{e||(w(new Set),p.current=!1)},[e]);const k=O=>{const T=new Set(v);T.has(O)?T.delete(O):T.add(O),w(T)},S=()=>{const O=y.filter(R=>v.has(R.po+R.date));if(O.length===0)return"";const T=O.map((R,I)=>{const M=R.status==="cancelled"?"[CANCEL] ":"",z=R.time?` @ ${Vs(R.time)}`:" @ TBD";return`${I+1}. ${M}PO #${R.po}: ${R.date}${z} (1 Truck)`}).join(`
`),P=`${O.length} Truck${O.length!==1?"s":""}`;return(N[d]||N.new).body(T,P)},j=()=>{v.size===y.length?w(new Set):w(new Set(y.map(O=>O.po+O.date)))},N={new:{subject:(O,T)=>`New Orders for Approval - ${s}`,body:(O,T)=>`Hello Team,

Please confirm the following NEW orders for ${s}:

${O}

Total: ${T}

Please configure delivery appointments for each.

Thanks,
Planner`},add:{subject:(O,T)=>`URGENT: ADD to Schedule (Week of ${T.start}) - ${s}`,body:(O,T)=>`Hello Team,

Please ADD the following loads to our existing schedule for ${s}:

${O}

Total: ${T}

This is an addition to the already confirmed plan.

Thanks,
Planner`},cancel:{subject:(O,T)=>`URGENT: CANCELLATION REQUEST - ${O} Orders - ${s}`,body:(O,T)=>`Hello Team,

Please CANCEL the following purchase orders immediately:

${O}

Total: ${T}

Please confirm cancellation.

Thanks,
Planner`}};x.useEffect(()=>{if(v.size===0||p.current)return;const O=y.filter(R=>v.has(R.po+R.date));if(O.some(R=>R.status==="cancelled")){f("cancel");return}const P=new Set(O.map(R=>R.date)),C=g.some(R=>P.has(R.date)&&!v.has(R.po+R.date)&&R.status==="confirmed");f(C?"add":"new")},[v,y,g]);const E=()=>{const O=y.filter(P=>v.has(P.po+P.date));return(N[d]||N.new).subject(O.length,{start:O[0]?.date||"..."})},D=()=>{const O=`Subject: ${E()}

${S()}`;navigator.clipboard.writeText(O),alert("Email copied to clipboard!")};return m.jsxs(Mt,{open:e,onClose:t,className:"relative z-50",children:[m.jsx("div",{className:"fixed inset-0 bg-black/30","aria-hidden":"true"}),m.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:m.jsxs(Mt.Panel,{className:"w-full max-w-5xl bg-white dark:bg-gray-900 rounded-2xl shadow-xl overflow-hidden flex flex-col max-h-[90vh]",children:[m.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800/50",children:[m.jsxs(Mt.Title,{className:"text-lg font-bold flex items-center gap-2 text-gray-900 dark:text-white",children:[m.jsx(FA,{className:"w-5 h-5 text-indigo-600"}),"Email Supplier"]}),m.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:m.jsx(Xs,{className:"w-6 h-6"})})]}),m.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-6 py-3 flex items-center gap-4",children:[m.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:"Email Type:"}),m.jsx("div",{className:"flex gap-2",children:["new","add","cancel"].map(O=>m.jsx("button",{onClick:()=>f(O),className:`px-3 py-1 rounded-full text-xs font-bold capitalize transition-colors ${d===O?"bg-blue-600 text-white shadow-sm":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 border border-gray-200 dark:border-gray-600 hover:bg-gray-50"}`,children:O==="new"?"New Orders":O==="add"?"Add to Schedule":"Cancellation"},O))})]}),m.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[m.jsxs("div",{className:"w-1/2 border-r border-gray-200 dark:border-gray-700 flex flex-col",children:[m.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800/30 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[m.jsx("h3",{className:"text-xs font-bold uppercase text-gray-500",children:"Available Orders"}),m.jsx("button",{onClick:j,className:"text-xs text-blue-600 font-bold hover:underline",children:v.size===y.length?"Deselect All":"Select All"})]}),m.jsxs("div",{className:"overflow-y-auto p-2 space-y-2 flex-1",children:[y.length===0&&m.jsx("p",{className:"text-center text-sm text-gray-400 mt-10",children:"No future orders found."}),y.map((O,T)=>{const P=O.po+O.date,C=v.has(P);return m.jsxs("div",{onClick:()=>k(P),className:`p-3 rounded-lg border cursor-pointer transition-all flex justify-between items-center ${C?"bg-indigo-50 border-indigo-200 dark:bg-indigo-900/30 dark:border-indigo-700":"bg-white border-gray-100 hover:border-gray-300 dark:bg-gray-800 dark:border-gray-700"}`,children:[m.jsxs("div",{children:[m.jsxs("div",{className:"font-bold text-sm text-gray-800 dark:text-gray-200",children:["PO #",O.po]}),m.jsxs("div",{className:"text-xs text-gray-500",children:[O.date,"  ",O.qty?O.qty.toLocaleString():"-"," units"]})]}),C&&m.jsx("div",{className:"w-4 h-4 bg-indigo-600 rounded-full flex items-center justify-center text-white text-[10px]",children:""})]},T)})]})]}),m.jsxs("div",{className:"w-1/2 flex flex-col bg-gray-50 dark:bg-gray-900/50",children:[m.jsx("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700",children:m.jsx("h3",{className:"text-xs font-bold uppercase text-gray-500",children:"Email Preview"})}),m.jsx("div",{className:"flex-1 p-4",children:m.jsx("textarea",{className:"w-full h-full p-4 text-sm font-mono border rounded-lg resize-none focus:ring-2 focus:ring-indigo-500 bg-white dark:bg-gray-800 dark:border-gray-700 dark:text-gray-300",value:S(),readOnly:!0})}),m.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 flex justify-end",children:m.jsxs("button",{onClick:D,className:"flex items-center gap-2 bg-indigo-600 hover:bg-indigo-500 text-white px-4 py-2 rounded-lg font-bold shadow-sm transition-all active:scale-95",children:[m.jsx(Ny,{className:"w-4 h-4"}),"Copy to Clipboard"]})})]})]})]})})]})}function DV({isOpen:e,onClose:t}){const{poManifest:r}=ra(),n=x.useMemo(()=>{const k=[];return Object.entries(r).forEach(([S,j])=>{j.items.forEach(N=>{k.push({...N,date:S})})}),k.sort((S,j)=>S.date.localeCompare(j.date))},[r]),a=n.filter(k=>new Date(k.date)>=new Date().setHours(0,0,0,0)),[s,l]=x.useState(`YMS_Import_${new Date().toISOString().slice(0,10)}`),[u,d]=x.useState(!0),f=[{id:"date",label:"Expected Arrival Date"},{id:"po",label:"PO Number"},{id:"qty",label:"Quantity"},{id:"supplier",label:"Supplier Name"},{id:"status",label:"Status"},{id:"carrier",label:"Carrier (Empty)"},{id:"trailer_type",label:"Trailer Type (Dry Van)"}],[p,g]=x.useState(f.map(k=>k.id)),y=k=>{p.includes(k)?g(S=>S.filter(j=>j!==k)):g(S=>[...S,k])},v=()=>{const k=[];return u&&k.push(p.map(S=>{const j=f.find(N=>N.id===S);return j?j.label:S}).join(",")),a.forEach(S=>{const j=p.map(N=>{switch(N){case"carrier":return"";case"trailer_type":return"Dry Van";case"qty":return S.qty||0;default:return S[N]||""}});k.push(j.join(","))}),k.join(`
`)},w=()=>{const k=v(),S=new Blob([k],{type:"text/csv;charset=utf-8;"}),j=document.createElement("a");if(j.download!==void 0){const N=URL.createObjectURL(S);j.setAttribute("href",N),j.setAttribute("download",`${s}.csv`),j.style.visibility="hidden",document.body.appendChild(j),j.click(),document.body.removeChild(j)}t()};return m.jsxs(Mt,{open:e,onClose:t,className:"relative z-50",children:[m.jsx("div",{className:"fixed inset-0 bg-black/30","aria-hidden":"true"}),m.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:m.jsxs(Mt.Panel,{className:"w-full max-w-2xl bg-white dark:bg-gray-900 rounded-2xl shadow-xl overflow-hidden flex flex-col",children:[m.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800/50",children:[m.jsxs(Mt.Title,{className:"text-lg font-bold flex items-center gap-2 text-gray-900 dark:text-white",children:[m.jsx(w6,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"}),"Export for YMS"]}),m.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:m.jsx(Xs,{className:"w-6 h-6"})})]}),m.jsxs("div",{className:"p-6 space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Filename"}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{type:"text",value:s,onChange:k=>l(k.target.value),className:"w-full p-2 border rounded-l-lg dark:bg-gray-800 dark:border-gray-600"}),m.jsx("span",{className:"bg-gray-100 dark:bg-gray-700 px-3 py-2 border border-l-0 rounded-r-lg text-gray-500 dark:border-gray-600",children:".csv"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Include Columns"}),m.jsx("div",{className:"grid grid-cols-2 gap-3",children:f.map(k=>m.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer p-2 rounded hover:bg-gray-50 dark:hover:bg-gray-800 border dark:border-gray-700",children:[m.jsx("input",{type:"checkbox",checked:p.includes(k.id),onChange:()=>y(k.id),className:"rounded text-blue-600 focus:ring-blue-500"}),m.jsx("span",{className:"text-sm font-medium dark:text-gray-200",children:k.label})]},k.id))})]}),m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("span",{className:"text-sm font-medium dark:text-gray-300",children:"Include Headers?"}),m.jsx(eV,{checked:u,onChange:d,className:`${u?"bg-blue-600":"bg-gray-200"} relative inline-flex h-6 w-11 items-center rounded-full transition-colors`,children:m.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition ${u?"translate-x-6":"translate-x-1"}`})})]}),m.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-2 rounded text-xs font-mono text-gray-500 overflow-x-auto whitespace-pre",children:[u&&p.map(k=>f.find(S=>S.id===k)?.label).join(","),`
`,n.length>0&&p.map(k=>k==="carrier"?'""':n[0][k]||'""').join(","),n.length===0&&"(No data to export)","..."]})]}),m.jsx("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-800/50 border-t border-gray-200 dark:border-gray-700 flex justify-end",children:m.jsx("button",{onClick:w,disabled:n.length===0,className:"px-6 py-2 bg-gray-900 dark:bg-white dark:text-gray-900 text-white font-bold rounded-lg shadow hover:opacity-90 transition-all disabled:opacity-50",children:"Download CSV"})})]})})]})}function RV({isOpen:e,onClose:t,order:r,date:n}){const{poManifest:a,addOrdersBulk:s,updateOrder:l,moveOrder:u}=ra(),{productMap:d,getProductSpecs:f}=yr(),{schedulerSettings:p,activeSku:g}=zn(),y=Object.keys(d),[v,w]=x.useState({po:"",date:"",qty:"",supplier:"",carrier:"",sku:""});x.useEffect(()=>{e&&w(r?{po:r.po,date:n||r.date,time:r.time||"",qty:r.qty,status:r.status||"planned",supplier:r.supplier,carrier:r.carrier||"",sku:r.sku||""}:{po:"",date:n||new Date().toISOString().split("T")[0],time:"",qty:"",status:"planned",supplier:"",carrier:"",sku:""})},[e,r,n]);const[k,S]=x.useState("");x.useEffect(()=>{if(e&&v.date&&a[v.date]){const N=[...a[v.date].items],E=O=>{if(!O||O==="00:00")return 99999;const[T,P]=O.split(":").map(Number);return T*60+(P||0)};N.sort((O,T)=>E(O.time)-E(T.time));const D=N.findIndex(O=>O.id===r?.id);if(D!==-1){const O=v.sku||g,T=f(O)||d?.[O];if(T&&p){const P=Number(T.productionRate),C=Number(T.bottlesPerTruck);if(P>0&&C>0){const R=x0(D,p.shiftStartTime||"06:00",C,P,Number(T.bottlesPerCase)||1,N.length);S(R);return}}}}S("")},[e,v.date,v.sku,a,r?.id,g,f,d,p]);const j=()=>{if(!v.po||!v.date||!v.qty){alert("PO, Date, and Quantity are required.");return}const N={id:r?.id||crypto.randomUUID(),po:v.po,date:v.date,time:v.time,qty:Number(v.qty),status:v.status,supplier:v.supplier||"Unknown",carrier:v.carrier,sku:v.sku};r?v.date!==r.date?u(r.date,v.date,N):l(v.date,N):s([N]),t()};return m.jsxs(Mt,{open:e,onClose:t,className:"relative z-50",children:[m.jsx("div",{className:"fixed inset-0 bg-black/30","aria-hidden":"true"}),m.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:m.jsxs(Mt.Panel,{className:"w-full max-w-md bg-white dark:bg-gray-800 rounded-xl shadow-xl overflow-hidden",children:[m.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center",children:[m.jsx(Mt.Title,{className:"text-lg font-bold text-gray-900 dark:text-white",children:r?"Edit Order":"New Purchase Order"}),m.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500",children:m.jsx(Xs,{className:"w-5 h-5"})})]}),m.jsxs("div",{className:"p-6 space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Material / SKU"}),m.jsxs("select",{className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:v.sku,onChange:N=>w({...v,sku:N.target.value}),children:[m.jsx("option",{value:"",children:"-- Any / All --"}),y.map(N=>m.jsx("option",{value:N,children:N},N))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"PO Number"}),m.jsx("input",{type:"text",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:v.po,onChange:N=>w({...v,po:N.target.value}),autoFocus:!0})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Delivery Date"}),m.jsxs("div",{className:"relative",children:[m.jsx(HA,{className:"absolute left-2 top-2.5 w-4 h-4 text-gray-400"}),m.jsx("input",{type:"date",className:"w-full pl-8 p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:v.date,onChange:N=>w({...v,date:N.target.value})})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Time (Hour)"}),m.jsxs("select",{className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:v.time,onChange:N=>w({...v,time:N.target.value}),children:[m.jsx("option",{value:"",children:k?`-- Est: ${Vs(k)} --`:"-- TBD --"}),Array.from({length:24}).map((N,E)=>{const D=`${String(E).padStart(2,"0")}:00`,O=E>=12?"PM":"AM",P=`${E%12||12}:00 ${O}`;return m.jsx("option",{value:D,children:P},D)})]})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Quantity"}),m.jsx("input",{type:"number",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:v.qty,onChange:N=>w({...v,qty:N.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Supplier"}),m.jsx("input",{type:"text",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:v.supplier,onChange:N=>w({...v,supplier:N.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Order Status"}),m.jsx("div",{className:"flex gap-2",children:["planned","confirmed","ordered","received","cancelled"].map(N=>m.jsx("button",{onClick:()=>w({...v,status:N}),className:`flex-1 py-2 rounded text-[10px] font-bold uppercase transition-all border ${v.status===N?"bg-blue-600 border-blue-600 text-white shadow-md":"bg-white dark:bg-gray-700 border-gray-200 dark:border-gray-600 text-gray-500 dark:text-gray-400 hover:border-blue-300"}`,children:N},N))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Carrier (Optional)"}),m.jsxs("div",{className:"relative",children:[m.jsx(Rn,{className:"absolute left-2 top-2.5 w-4 h-4 text-gray-400"}),m.jsx("input",{type:"text",className:"w-full pl-8 p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:v.carrier,onChange:N=>w({...v,carrier:N.target.value})})]})]})]}),m.jsxs("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-700/50 flex justify-end gap-2",children:[m.jsx("button",{onClick:t,className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800",children:"Cancel"}),m.jsx("button",{onClick:j,className:"px-4 py-2 bg-blue-600 text-white text-sm font-bold rounded hover:bg-blue-500",children:"Save Order"})]})]})})]})}function MV({isOpen:e,onClose:t}){const{poManifest:r,deleteOrdersBulk:n,bulkUpdateOrders:a}=ra(),{productMap:s,getProductSpecs:l}=yr(),{schedulerSettings:u,activeSku:d}=zn(),[f,p]=x.useState(""),[g,y]=x.useState(new Set),[v,w]=x.useState(!1),[k,S]=x.useState(null),j=B=>{S(B),w(!0)},N=()=>{S(null),w(!0)},E=x.useMemo(()=>{const B=[],G=ae=>{if(!ae||ae==="00:00")return 99999;const[q,F]=ae.split(":").map(Number);return q*60+(F||0)};return Object.entries(r).forEach(([ae,q])=>{if(q.items){const F=[...q.items].sort((W,J)=>G(W.time)-G(J.time));F.forEach((W,J)=>{let pe="";if(!W.time||W.time==="00:00"){const L=W.sku||d,K=l(L)||s?.[L];if(K&&u){const U=Number(K.productionRate),te=Number(K.bottlesPerTruck);U>0&&te>0&&(pe=x0(J,u.shiftStartTime||"06:00",te,U,Number(K.bottlesPerCase)||1,F.length))}}B.push({...W,date:ae,estimatedTime:pe})})}}),B.sort((ae,q)=>{const F=new Date(q.date)-new Date(ae.date);if(F!==0)return F;const W=ae.time||ae.estimatedTime,J=q.time||q.estimatedTime;return G(W)-G(J)})},[r,u,s,d,l]),D=x.useMemo(()=>{if(!f)return E;const B=f.toLowerCase();return E.filter(G=>(G.po||"").toLowerCase().includes(B)||(G.supplier||"").toLowerCase().includes(B)||(G.date||"").includes(B))},[E,f]),O=B=>{const G=new Set(g);G.has(B)?G.delete(B):G.add(B),y(G)},T=()=>{if(g.size===D.length&&D.length>0)y(new Set);else{const B=new Set;D.forEach(G=>B.add(G.id)),y(B)}},[P,C]=x.useState(null),R=()=>{g.size!==0&&C({title:`Delete ${g.size} Orders?`,message:`Are you sure you want to PERMANENTLY delete ${g.size} selected orders? This action cannot be undone.`,type:"danger",onConfirm:()=>{const B=E.filter(G=>g.has(G.id));n(B),y(new Set),C(null)}})},I=B=>{if(!B||g.size===0||!confirm(`Set SKU to "${B}" for ${g.size} orders?`))return;const G=E.filter(ae=>g.has(ae.id)).map(ae=>({...ae,sku:B}));a(G),y(new Set)},M=B=>{const G=parseInt(B);if(isNaN(G)||G<2e3||G>2100){alert("Invalid Year");return}if(!confirm(`Update YEAR to "${G}" for ${g.size} orders? (Month/Day will be preserved)`))return;const ae=E.filter(q=>g.has(q.id)).map(q=>{const F=q.date.split("-");if(F.length!==3)return q;const W=`${G}-${F[1]}-${F[2]}`;return{...q,date:W}});a(ae),y(new Set)},z=B=>{if(!confirm(`Update status to "${B.toUpperCase()}" for ${g.size} orders?`))return;const G=E.filter(ae=>g.has(ae.id)).map(ae=>({...ae,status:B}));a(G),y(new Set)};return m.jsxs(Mt,{open:e,onClose:t,className:"relative z-50",children:[m.jsx("div",{className:"fixed inset-0 bg-black/50","aria-hidden":"true"}),m.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:m.jsxs(Mt.Panel,{className:"w-full max-w-5xl h-[80vh] bg-white dark:bg-gray-900 rounded-2xl shadow-2xl flex flex-col overflow-hidden",children:[m.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"bg-purple-100 dark:bg-purple-900 p-2 rounded-lg",children:m.jsx(GA,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),m.jsxs("div",{children:[m.jsx(Mt.Title,{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Global Procurement Manager"}),m.jsx("p",{className:"text-sm text-gray-500",children:"Manage all Inbound Orders across all dates."})]}),P&&m.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/20 backdrop-blur-sm p-4 animate-fadeIn",children:m.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700 p-6 w-full max-w-sm flex flex-col items-center text-center transform transition-all scale-100",children:[m.jsx("div",{className:`p-4 rounded-full mb-4 ${P.type==="danger"?"bg-red-100 text-red-600":"bg-blue-100 text-blue-600"}`,children:P.type==="danger"?m.jsx(Ja,{className:"w-8 h-8"}):m.jsx(ua,{className:"w-8 h-8"})}),m.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:P.title}),m.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6 leading-relaxed",children:P.message}),m.jsxs("div",{className:"flex gap-3 w-full",children:[m.jsx("button",{onClick:()=>C(null),className:"flex-1 px-4 py-2 rounded-lg border border-gray-300 text-gray-700 font-bold hover:bg-gray-50 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),m.jsx("button",{onClick:()=>P.onConfirm(),className:`flex-1 px-4 py-2 rounded-lg text-white font-bold shadow-lg transition-transform hover:scale-105 ${P.type==="danger"?"bg-red-600 hover:bg-red-700 shadow-red-500/30":"bg-emerald-600 hover:bg-emerald-700 shadow-emerald-500/30"}`,children:"Confirm"})]})]})})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("button",{onClick:N,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white hover:bg-blue-500 rounded-lg font-bold transition-colors shadow-sm",children:[m.jsx(_u,{className:"w-5 h-5"}),"New Order"]}),m.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 ml-4",children:m.jsx(Xs,{className:"w-6 h-6"})})]})]}),m.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex flex-col md:flex-row gap-4 items-center justify-between",children:[m.jsxs("div",{className:"relative w-full max-w-md",children:[m.jsx(G6,{className:"absolute left-3 top-2.5 w-5 h-5 text-gray-400"}),m.jsx("input",{type:"text",placeholder:"Search PO, Supplier, or Date...",className:"w-full pl-10 pr-4 py-2 border rounded-lg dark:bg-gray-800 dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none",value:f,onChange:B=>p(B.target.value)})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("span",{className:"text-sm text-gray-500",children:[g.size," selected"]}),g.size>0&&m.jsx("div",{className:"flex items-center gap-2",children:m.jsxs("div",{className:"relative group",children:[m.jsx("button",{className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-sm font-bold shadow-sm hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",children:"Bulk Actions"}),m.jsx("div",{className:"absolute top-full left-0 pt-2 w-48 z-50 hidden group-hover:block",children:m.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:m.jsxs("div",{className:"p-2",children:[m.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase px-2 py-1",children:"Set Status"}),m.jsxs("button",{onClick:()=>z("received"),className:"w-full text-left px-2 py-2 hover:bg-emerald-50 dark:hover:bg-emerald-900/30 rounded text-sm text-emerald-700 dark:text-emerald-400 font-bold flex items-center gap-2",children:[m.jsx("span",{children:""})," Mark as Received"]}),m.jsx("button",{onClick:()=>z("confirmed"),className:"w-full text-left px-2 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded text-sm text-blue-700 dark:text-blue-400 font-bold",children:"Mark as Confirmed"}),m.jsx("button",{onClick:()=>z("ordered"),className:"w-full text-left px-2 py-2 hover:bg-yellow-50 dark:hover:bg-yellow-900/30 rounded text-sm text-yellow-700 dark:text-yellow-400",children:"Mark as Ordered"}),m.jsx("button",{onClick:()=>z("cancelled"),className:"w-full text-left px-2 py-2 hover:bg-red-50 dark:hover:bg-red-900/30 rounded text-sm text-red-600 dark:text-red-400 font-bold",children:"Mark for Cancellation"}),m.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700 my-1"}),m.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase px-2 py-1",children:"Set properties"}),m.jsx("button",{onClick:()=>{const B=prompt("Enter Target Year (e.g. 2025):",new Date().getFullYear());B&&M(B)},className:"w-full text-left px-2 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded text-sm text-gray-700 dark:text-gray-200",children:"Set Year..."}),m.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700 my-1"}),m.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase px-2 py-1",children:"Assign SKU"}),Object.keys(s).map(B=>m.jsx("button",{onClick:()=>I(B),className:"w-full text-left px-2 py-1.5 hover:bg-purple-50 dark:hover:bg-purple-900/30 rounded text-sm text-gray-700 dark:text-gray-200",children:B},B))]})})})]})}),m.jsxs("button",{onClick:R,disabled:g.size===0,className:"flex items-center gap-2 px-4 py-2 bg-red-50 text-red-600 hover:bg-red-100 rounded-lg font-bold disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[m.jsx(Ja,{className:"w-5 h-5"}),"Delete"]})]})]}),m.jsx("div",{className:"flex-1 overflow-auto",children:m.jsxs("table",{className:"w-full text-left border-collapse",children:[m.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800 sticky top-0 z-10 shadow-sm",children:m.jsxs("tr",{children:[m.jsx("th",{className:"p-4 w-12 border-b dark:border-gray-700",children:m.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500",checked:D.length>0&&g.size===D.length,onChange:T})}),m.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase border-b dark:border-gray-700",children:"Date"}),m.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase border-b dark:border-gray-700",children:"Time"}),m.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase border-b dark:border-gray-700",children:"PO Number"}),m.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase border-b dark:border-gray-700",children:"SKU"}),m.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase border-b dark:border-gray-700",children:"Supplier"}),m.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase border-b dark:border-gray-700",children:"Trucks"}),m.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase border-b dark:border-gray-700",children:"Carrier"}),m.jsx("th",{className:"p-4 w-12 border-b dark:border-gray-700"})]})}),m.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700 bg-white dark:bg-gray-900",children:D.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:"7",className:"p-10 text-center text-gray-400 italic",children:"No orders found matching your search."})}):D.map(B=>m.jsxs("tr",{className:`hover:bg-blue-50 dark:hover:bg-gray-800 transition-colors ${g.has(B.id)?"bg-blue-50 dark:bg-blue-900/20":""}`,children:[m.jsx("td",{className:"p-4",children:m.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500",checked:g.has(B.id),onChange:()=>O(B.id)})}),m.jsx("td",{className:"p-4 text-sm font-medium text-gray-900 dark:text-white text-nowrap",children:new Date(B.date+"T00:00:00").toLocaleDateString()}),m.jsx("td",{className:"p-4 text-sm text-gray-500 dark:text-gray-400 font-mono",children:B.time&&B.time!=="00:00"?Vs(B.time):B.estimatedTime?m.jsxs("span",{className:"text-blue-500 italic opacity-75",title:"Estimated based on schedule",children:[Vs(B.estimatedTime),"*"]}):"-"}),m.jsx("td",{className:"p-4 text-sm font-mono text-gray-600 dark:text-gray-300",children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:`font-mono ${B.status==="received"?"line-through text-gray-400":"text-gray-600 dark:text-gray-300"}`,children:B.po}),B.status==="received"&&m.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] font-bold bg-emerald-100 text-emerald-800 border border-emerald-200 uppercase tracking-wide",children:"RCVD"}),B.source==="sap"&&m.jsxs("span",{className:"px-1.5 py-0.5 rounded text-[10px] font-black bg-purple-100 text-purple-700 border border-purple-200 uppercase tracking-wide flex items-center gap-1",children:[m.jsx("span",{className:"w-1 h-1 bg-purple-500 rounded-full animate-pulse"}),"SAP"]})]})}),m.jsx("td",{className:"p-4",children:B.sku?m.jsx("span",{className:"px-2 py-1 bg-purple-100 dark:bg-purple-900 text-purple-700 dark:text-purple-300 rounded text-xs font-bold",children:B.sku}):m.jsx("span",{className:"text-gray-400 text-xs italic",children:"Any"})}),m.jsx("td",{className:"p-4 text-sm text-gray-600 dark:text-gray-300",children:B.supplier}),m.jsx("td",{className:"p-4",children:m.jsx("span",{className:"px-2 py-0.5 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded text-xs font-bold",children:"1 Truck"})}),m.jsx("td",{className:"p-4",children:m.jsxs("div",{className:"flex items-center gap-1",children:[B.status!=="received"&&m.jsx("button",{onClick:()=>{confirm("Mark this order as Received?")&&a([{...B,status:"received"}])},className:"p-1 text-gray-400 hover:text-emerald-600 transition-colors",title:"Mark Received",children:""}),B.status==="received"&&m.jsx("button",{onClick:()=>{confirm("Cancel receipt for this order? It will return to 'planned' status.")&&a([{...B,status:"planned"}])},className:"p-1 text-gray-400 hover:text-amber-600 transition-colors",title:"Cancel Receipt",children:""}),m.jsx("button",{onClick:()=>j(B),className:"p-1 text-gray-400 hover:text-blue-600 transition-colors",title:"Edit Order",children:m.jsx(eu,{className:"w-5 h-5"})})]})})]},B.id))})]})}),m.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 text-xs text-gray-500 border-t border-gray-200 dark:border-gray-700 flex justify-between",children:[m.jsxs("span",{children:["Showing ",D.length," of ",E.length," orders"]}),m.jsx("span",{className:"text-gray-400",children:"Press Shift to select range (coming soon)"})]})]})}),m.jsx(RV,{isOpen:v,onClose:()=>w(!1),order:k})]})}function $V({selectedSize:e,setSelectedSize:t,floorCount:r,setFloorCount:n,yardCount:a,setYardCount:s,yardUnit:l,setYardUnit:u,sizes:d,palletsPerTruck:f}){return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-4 rounded-lg border border-purple-100 dark:border-purple-800",children:[m.jsx("h3",{className:"font-bold text-purple-900 dark:text-purple-300 mb-1",children:"Morning Inventory Count"}),m.jsxs("p",{className:"text-sm text-purple-700 dark:text-purple-400",children:["What is physically on the floor and in the yard ",m.jsx("strong",{children:"right now"}),"?"]})]}),m.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg border border-gray-200 dark:border-gray-700",children:[m.jsx("label",{className:"block text-xs uppercase font-bold text-gray-500 mb-2",children:"Select Product"}),m.jsx("div",{className:"flex flex-wrap gap-2",children:d.map(p=>m.jsx("button",{onClick:()=>t(p),className:`px-3 py-1.5 rounded-md text-sm font-bold transition-colors ${e===p?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:p},p))})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:"Floor Count (Pallets)"}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx(nh,{className:"h-5 w-5 text-gray-400"})}),m.jsx("input",{type:"number",autoFocus:!0,value:r,onChange:p=>n(p.target.value),className:"w-full pl-10 pr-4 py-3 text-xl font-bold border rounded-lg shadow-sm focus:ring-2 focus:ring-purple-500 dark:bg-gray-800 dark:text-white dark:border-gray-600"})]}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Count all finished goods on the floor."})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between items-center mb-2",children:[m.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300",children:"Yard Count"}),m.jsxs("div",{className:"flex bg-gray-200 dark:bg-gray-700 rounded-md p-0.5",children:[m.jsx("button",{onClick:()=>u("loads"),className:`px-2 py-0.5 text-xs font-bold rounded-sm ${l==="loads"?"bg-white text-blue-600 shadow-sm":"text-gray-500"}`,children:"Loads"}),m.jsx("button",{onClick:()=>u("pallets"),className:`px-2 py-0.5 text-xs font-bold rounded-sm ${l==="pallets"?"bg-white text-blue-600 shadow-sm":"text-gray-500"}`,children:"Pallets"})]})]}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx(Rn,{className:"h-5 w-5 text-gray-400"})}),m.jsx("input",{type:"number",value:l==="loads"?a:a===""?"":Math.round(a*f),onChange:p=>{const g=p.target.value===""?"":Number(p.target.value);s(l==="loads"?g:g===""?"":g/f)},className:"w-full pl-10 pr-4 py-3 text-xl font-bold border rounded-lg shadow-sm focus:ring-2 focus:ring-purple-500 dark:bg-gray-800 dark:text-white dark:border-gray-600"})]}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:l==="loads"?"Number of fully loaded trailers.":`Total pallets (~${Math.round(f)} per load).`})]})]})]})}function XC({isOpen:e,onClose:t,state:r,setters:n}){const{productMap:a}=yr(),{poManifest:s}=ra(),l=Object.keys(a),u=a[r.selectedSize];u?.bottlesPerTruck,(u?.bottlesPerCase||12)*(u?.casesPerPallet||100);const d=u?.palletsPerTruck||22,[f,p]=x.useState(1),[g,y]=x.useState(""),[v,w]=x.useState(""),[k,S]=x.useState("loads"),[j,N]=x.useState([]),[E,D]=x.useState({});x.useEffect(()=>{if(e){y(r.inventoryAnchor?.count||0),w(r.yardInventory?.effectiveCount||0);const R=mr(),I=[];Object.keys(s).forEach(z=>{z<R&&(s[z].items||[]).forEach(G=>{G.sku===r.selectedSize&&G.status!=="received"&&I.push({...G,date:z})})}),N(I);const M={};I.forEach(z=>M[z.id]=!0),D(M),p(I.length>0?0:1)}},[e,r.inventoryAnchor,r.yardInventory,s,r.selectedSize]);const O=async()=>{const R=j.filter(M=>E[M.id]);let I=[];await Promise.all(R.map(async M=>{const{success:z,error:B}=await GC(M.id);z||I.push(`${M.po}: ${B}`)})),I.length>0&&alert(`Some updates failed:
${I.join(`
`)}`),p(1)},T=()=>{const R=mr();n.setInventoryAnchor({date:R,count:Number(g)}),n.updateYardInventory(Number(v)),t()},P=()=>m.jsxs("div",{className:"space-y-4",children:[m.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 border-l-4 border-amber-400 p-4",children:m.jsxs("div",{className:"flex",children:[m.jsx("div",{className:"flex-shrink-0",children:m.jsx(ox,{className:"h-5 w-5 text-amber-400","aria-hidden":"true"})}),m.jsx("div",{className:"ml-3",children:m.jsxs("p",{className:"text-sm text-amber-700 dark:text-amber-200",children:["Found ",m.jsx("strong",{children:j.length})," unreceived trucks from previous days. Please confirm if they arrived so we can clear the schedule."]})})]})}),m.jsx("div",{className:"max-h-60 overflow-y-auto border dark:border-gray-700 rounded-lg",children:m.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[m.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Receive?"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"PO / Carrier"})]})}),m.jsx("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700",children:j.map(R=>m.jsxs("tr",{children:[m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("input",{type:"checkbox",checked:!!E[R.id],onChange:I=>D(M=>({...M,[R.id]:I.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:R.date}),m.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:[R.po," - ",R.carrier||R.supplier]})]},R.id))})]})}),m.jsx("p",{className:"text-xs text-gray-400 italic text-center",children:"Note: Marked trucks will be set to 'Received' status. You must still include them in your physical count in the next step."})]}),C=()=>m.jsxs("div",{className:"text-center py-6 space-y-6",children:[m.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100 dark:bg-green-900/30",children:m.jsx(ua,{className:"h-10 w-10 text-green-600 dark:text-green-400"})}),m.jsxs("div",{children:[m.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:["Ready to Update ",r.selectedSize,"?"]}),m.jsxs("p",{className:"text-gray-500 dark:text-gray-400 mt-2 max-w-sm mx-auto",children:["The system will reset the ",m.jsx("strong",{children:r.selectedSize})," inventory baseline to ",m.jsxs("strong",{children:[g," Pallets"]})," + ",m.jsxs("strong",{children:[v," Loads"]}),"."]})]}),m.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700 max-w-sm mx-auto text-left text-sm space-y-2",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-gray-500",children:"New Floor Count:"}),m.jsxs("span",{className:"font-mono font-bold",children:[g," plts"]})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-gray-500",children:"New Yard Count:"}),m.jsxs("span",{className:"font-mono font-bold",children:[Number(v).toFixed(1)," loads ",m.jsxs("span",{className:"text-gray-400 text-xs",children:["(",Math.round(v*d)," plts)"]})]})]})]})]});return e?m.jsxs("div",{className:"relative z-50","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:[m.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"}),m.jsx("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto",children:m.jsx("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:m.jsxs("div",{className:"relative transform overflow-hidden rounded-lg bg-white dark:bg-gray-900 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg border dark:border-gray-700 p-6",children:[m.jsxs("div",{className:"sm:flex sm:items-start mb-6",children:[m.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-blue-100 dark:bg-blue-900/30 sm:mx-0 sm:h-10 sm:w-10",children:m.jsx(ix,{className:"h-6 w-6 text-blue-600 dark:text-blue-400","aria-hidden":"true"})}),m.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[m.jsxs("h3",{className:"text-lg leading-6 font-medium text-gray-900 dark:text-white",id:"modal-title",children:["Morning ",f===0?"Review":"True-Up"]}),m.jsx("div",{className:"mt-2 text-left",children:m.jsxs("div",{className:"flex items-center space-x-2 text-xs font-medium text-gray-400",children:[j.length>0&&m.jsxs(m.Fragment,{children:[m.jsx("span",{className:`${f===0?"text-blue-600 dark:text-blue-400":""}`,children:"0. Review"}),m.jsx("span",{children:""})]}),m.jsx("span",{className:`${f===1?"text-blue-600 dark:text-blue-400":""}`,children:"1. Inventory"}),m.jsx("span",{children:""}),m.jsx("span",{className:`${f===2?"text-blue-600 dark:text-blue-400":""}`,children:"2. Confirm"})]})})]})]}),m.jsxs("div",{className:"mt-2",children:[f===0&&P(),f===1&&m.jsx($V,{selectedSize:r.selectedSize,setSelectedSize:n.setSelectedSize,floorCount:g,setFloorCount:y,yardCount:v,setYardCount:w,yardUnit:k,setYardUnit:S,sizes:l,palletsPerTruck:d}),f===2&&C()]}),m.jsxs("div",{className:"mt-8 sm:mt-6 sm:grid sm:grid-flow-row-dense sm:grid-cols-2 sm:gap-3",children:[f===0?m.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:col-start-2 sm:text-sm",onClick:O,children:"Confirm & Next"}):f<2?m.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:col-start-2 sm:text-sm",onClick:()=>p(R=>R+1),children:"Next Step"}):m.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-green-600 text-base font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 sm:col-start-2 sm:text-sm",onClick:T,children:"Update Plan"}),f>(j.length>0?0:1)?m.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 dark:border-gray-600 shadow-sm px-4 py-2 bg-white dark:bg-gray-800 text-base font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:col-start-1 sm:mt-0 sm:text-sm",onClick:()=>p(R=>R-1),children:"Back"}):m.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 dark:border-gray-600 shadow-sm px-4 py-2 bg-white dark:bg-gray-800 text-base font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:col-start-1 sm:mt-0 sm:text-sm",onClick:t,children:"Cancel"})]})]})})})]}):null}var IV=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function $x(e){if(typeof e!="string")return!1;var t=IV;return t.includes(e)}var LV=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],zV=new Set(LV);function JC(e){return typeof e!="string"?!1:zV.has(e)}function QC(e){return typeof e=="string"&&e.startsWith("data-")}function Qn(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(JC(r)||QC(r))&&(t[r]=e[r]);return t}function C0(e){if(e==null)return null;if(x.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Qn(t)}return typeof e=="object"&&!Array.isArray(e)?Qn(e):null}function gn(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(JC(r)||QC(r)||$x(r))&&(t[r]=e[r]);return t}function UV(e){return e==null?null:x.isValidElement(e)?gn(e.props):typeof e=="object"&&!Array.isArray(e)?gn(e):null}var BV=["children","width","height","viewBox","className","style","title","desc"];function cb(){return cb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cb.apply(null,arguments)}function qV(e,t){if(e==null)return{};var r,n,a=HV(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function HV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var eP=x.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:s,className:l,style:u,title:d,desc:f}=e,p=qV(e,BV),g=s||{width:n,height:a,x:0,y:0},y=ft("recharts-surface",l);return x.createElement("svg",cb({},gn(p),{className:y,width:n,height:a,style:u,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:t}),x.createElement("title",null,d),x.createElement("desc",null,f),r)}),FV=["children","className"];function ub(){return ub=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ub.apply(null,arguments)}function VV(e,t){if(e==null)return{};var r,n,a=KV(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function KV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ea=x.forwardRef((e,t)=>{var{children:r,className:n}=e,a=VV(e,FV),s=ft("recharts-layer",n);return x.createElement("g",ub({className:s},gn(a),{ref:t}),r)}),ZV=x.createContext(null);function At(e){return function(){return e}}const db=Math.PI,fb=2*db,Es=1e-6,GV=fb-Es;function tP(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function YV(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return tP;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class WV{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?tP:YV(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,l){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+l}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,u=this._y1,d=n-t,f=a-r,p=l-t,g=u-r,y=p*p+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(y>Es)if(!(Math.abs(g*d-f*p)>Es)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let v=n-l,w=a-u,k=d*d+f*f,S=v*v+w*w,j=Math.sqrt(k),N=Math.sqrt(y),E=s*Math.tan((db-Math.acos((k+y-S)/(2*j*N)))/2),D=E/N,O=E/j;Math.abs(D-1)>Es&&this._append`L${t+D*p},${r+D*g}`,this._append`A${s},${s},0,0,${+(g*v>p*w)},${this._x1=t+O*d},${this._y1=r+O*f}`}}arc(t,r,n,a,s,l){if(t=+t,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(a),d=n*Math.sin(a),f=t+u,p=r+d,g=1^l,y=l?a-s:s-a;this._x1===null?this._append`M${f},${p}`:(Math.abs(this._x1-f)>Es||Math.abs(this._y1-p)>Es)&&this._append`L${f},${p}`,n&&(y<0&&(y=y%fb+fb),y>GV?this._append`A${n},${n},0,1,${g},${t-u},${r-d}A${n},${n},0,1,${g},${this._x1=f},${this._y1=p}`:y>Es&&this._append`A${n},${n},0,${+(y>=db)},${g},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function rP(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new WV(t)}function Ix(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function nP(e){this._context=e}nP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function P0(e){return new nP(e)}function aP(e){return e[0]}function iP(e){return e[1]}function sP(e,t){var r=At(!0),n=null,a=P0,s=null,l=rP(u);e=typeof e=="function"?e:e===void 0?aP:At(e),t=typeof t=="function"?t:t===void 0?iP:At(t);function u(d){var f,p=(d=Ix(d)).length,g,y=!1,v;for(n==null&&(s=a(v=l())),f=0;f<=p;++f)!(f<p&&r(g=d[f],f,d))===y&&((y=!y)?s.lineStart():s.lineEnd()),y&&s.point(+e(g,f,d),+t(g,f,d));if(v)return s=null,v+""||null}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:At(+d),u):e},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:At(+d),u):t},u.defined=function(d){return arguments.length?(r=typeof d=="function"?d:At(!!d),u):r},u.curve=function(d){return arguments.length?(a=d,n!=null&&(s=a(n)),u):a},u.context=function(d){return arguments.length?(d==null?n=s=null:s=a(n=d),u):n},u}function Of(e,t,r){var n=null,a=At(!0),s=null,l=P0,u=null,d=rP(f);e=typeof e=="function"?e:e===void 0?aP:At(+e),t=typeof t=="function"?t:At(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?iP:At(+r);function f(g){var y,v,w,k=(g=Ix(g)).length,S,j=!1,N,E=new Array(k),D=new Array(k);for(s==null&&(u=l(N=d())),y=0;y<=k;++y){if(!(y<k&&a(S=g[y],y,g))===j)if(j=!j)v=y,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),w=y-1;w>=v;--w)u.point(E[w],D[w]);u.lineEnd(),u.areaEnd()}j&&(E[y]=+e(S,y,g),D[y]=+t(S,y,g),u.point(n?+n(S,y,g):E[y],r?+r(S,y,g):D[y]))}if(N)return u=null,N+""||null}function p(){return sP().defined(a).curve(l).context(s)}return f.x=function(g){return arguments.length?(e=typeof g=="function"?g:At(+g),n=null,f):e},f.x0=function(g){return arguments.length?(e=typeof g=="function"?g:At(+g),f):e},f.x1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:At(+g),f):n},f.y=function(g){return arguments.length?(t=typeof g=="function"?g:At(+g),r=null,f):t},f.y0=function(g){return arguments.length?(t=typeof g=="function"?g:At(+g),f):t},f.y1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:At(+g),f):r},f.lineX0=f.lineY0=function(){return p().x(e).y(t)},f.lineY1=function(){return p().x(e).y(r)},f.lineX1=function(){return p().x(n).y(t)},f.defined=function(g){return arguments.length?(a=typeof g=="function"?g:At(!!g),f):a},f.curve=function(g){return arguments.length?(l=g,s!=null&&(u=l(s)),f):l},f.context=function(g){return arguments.length?(g==null?s=u=null:u=l(s=g),f):s},f}class oP{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function XV(e){return new oP(e,!0)}function JV(e){return new oP(e,!1)}function wh(){}function _h(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function lP(e){this._context=e}lP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:_h(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:_h(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function QV(e){return new lP(e)}function cP(e){this._context=e}cP.prototype={areaStart:wh,areaEnd:wh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:_h(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function eK(e){return new cP(e)}function uP(e){this._context=e}uP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:_h(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function tK(e){return new uP(e)}function dP(e){this._context=e}dP.prototype={areaStart:wh,areaEnd:wh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function rK(e){return new dP(e)}function Lj(e){return e<0?-1:1}function zj(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),l=(r-e._y1)/(a||n<0&&-0),u=(s*a+l*n)/(n+a);return(Lj(s)+Lj(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(u))||0}function Uj(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Jg(e,t,r){var n=e._x0,a=e._y0,s=e._x1,l=e._y1,u=(s-n)/3;e._context.bezierCurveTo(n+u,a+u*t,s-u,l-u*r,s,l)}function Sh(e){this._context=e}Sh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Jg(this,this._t0,Uj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Jg(this,Uj(this,r=zj(this,e,t)),r);break;default:Jg(this,this._t0,r=zj(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function fP(e){this._context=new hP(e)}(fP.prototype=Object.create(Sh.prototype)).point=function(e,t){Sh.prototype.point.call(this,t,e)};function hP(e){this._context=e}hP.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function nK(e){return new Sh(e)}function aK(e){return new fP(e)}function mP(e){this._context=e}mP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Bj(e),a=Bj(t),s=0,l=1;l<r;++s,++l)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Bj(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),l=new Array(r);for(a[0]=0,s[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,l[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,l[t]-=n*l[t-1];for(a[r-1]=l[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(l[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function iK(e){return new mP(e)}function D0(e,t){this._context=e,this._t=t}D0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function sK(e){return new D0(e,.5)}function oK(e){return new D0(e,0)}function lK(e){return new D0(e,1)}function gl(e,t){if((l=e.length)>1)for(var r=1,n,a,s=e[t[0]],l,u=s.length;r<l;++r)for(a=s,s=e[t[r]],n=0;n<u;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function hb(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function cK(e,t){return e[t]}function uK(e){const t=[];return t.key=e,t}function dK(){var e=At([]),t=hb,r=gl,n=cK;function a(s){var l=Array.from(e.apply(this,arguments),uK),u,d=l.length,f=-1,p;for(const g of s)for(u=0,++f;u<d;++u)(l[u][f]=[0,+n(g,l[u].key,f,s)]).data=g;for(u=0,p=Ix(t(l));u<d;++u)l[p[u]].index=u;return r(l,p),l}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:At(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:At(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?hb:typeof s=="function"?s:At(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??gl,a):r},a}function fK(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,l;a<s;++a){for(l=r=0;r<n;++r)l+=e[r][a][1]||0;if(l)for(r=0;r<n;++r)e[r][a][1]/=l}gl(e,t)}}function hK(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var l=0,u=0;l<a;++l)u+=e[l][r][1]||0;n[r][1]+=n[r][0]=-u/2}gl(e,t)}}function mK(e,t){if(!(!((l=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,l;n<s;++n){for(var u=0,d=0,f=0;u<l;++u){for(var p=e[t[u]],g=p[n][1]||0,y=p[n-1][1]||0,v=(g-y)/2,w=0;w<u;++w){var k=e[t[w]],S=k[n][1]||0,j=k[n-1][1]||0;v+=S-j}d+=g,f+=v*g}a[n-1][1]+=a[n-1][0]=r,d&&(r-=f/d)}a[n-1][1]+=a[n-1][0]=r,gl(e,t)}}var Qg={},ev={},qj;function pK(){return qj||(qj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(ev)),ev}var tv={},Hj;function pP(){return Hj||(Hj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(tv)),tv}var rv={},Fj;function Lx(){return Fj||(Fj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(rv)),rv}var nv={},av={},Vj;function gK(){return Vj||(Vj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(av)),av}var Kj;function zx(){return Kj||(Kj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gK(),r=Lx();function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const s=[],l=a.length;if(l===0)return s;let u=0,d="",f="",p=!1;for(a.charCodeAt(0)===46&&(s.push(""),u++);u<l;){const g=a[u];f?g==="\\"&&u+1<l?(u++,d+=a[u]):g===f?f="":d+=g:p?g==='"'||g==="'"?f=g:g==="]"?(p=!1,s.push(d),d=""):d+=g:g==="["?(p=!0,d&&(s.push(d),d="")):g==="."?d&&(s.push(d),d=""):d+=g,u++}return d&&s.push(d),s}e.toPath=n})(nv)),nv}var Zj;function Ux(){return Zj||(Zj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pK(),r=pP(),n=Lx(),a=zx();function s(u,d,f){if(u==null)return f;switch(typeof d){case"string":{if(t.isUnsafeProperty(d))return f;const p=u[d];return p===void 0?r.isDeepKey(d)?s(u,a.toPath(d),f):f:p}case"number":case"symbol":{typeof d=="number"&&(d=n.toKey(d));const p=u[d];return p===void 0?f:p}default:{if(Array.isArray(d))return l(u,d,f);if(Object.is(d?.valueOf(),-0)?d="-0":d=String(d),t.isUnsafeProperty(d))return f;const p=u[d];return p===void 0?f:p}}}function l(u,d,f){if(d.length===0)return f;let p=u;for(let g=0;g<d.length;g++){if(p==null||t.isUnsafeProperty(d[g]))return f;p=p[d[g]]}return p===void 0?f:p}e.get=s})(Qg)),Qg}var iv,Gj;function vK(){return Gj||(Gj=1,iv=Ux().get),iv}var yK=vK();const R0=va(yK);var Pn=e=>e===0?0:e>0?1:-1,vn=e=>typeof e=="number"&&e!=+e,ei=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Ce=e=>(typeof e=="number"||e instanceof Number)&&!vn(e),Mn=e=>Ce(e)||typeof e=="string",bK=0,su=e=>{var t=++bK;return"".concat(e||"").concat(t)},Yi=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ce(t)&&typeof t!="string")return n;var s;if(ei(t)){if(r==null)return n;var l=t.indexOf("%");s=r*parseFloat(t.slice(0,l))/100}else s=+t;return vn(s)&&(s=n),a&&r!=null&&s>r&&(s=r),s},gP=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function ca(e,t,r){return Ce(e)&&Ce(t)?e+r*(t-e):t}function vP(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):R0(n,t))===r)}var gr=e=>e===null||typeof e>"u",Bx=e=>gr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function xK(e){return e!=null}function Nu(){}var yP=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,qx=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(x.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{$x(a)&&(n[a]=(s=>r[a](r,s)))}),n},wK=(e,t,r)=>n=>(e(t,r,n),null),_K=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var s=e[a];$x(a)&&typeof s=="function"&&(n||(n={}),n[a]=wK(s,t,r))}),n};function Yj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function SK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yj(Object(r),!0).forEach(function(n){kK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kK(e,t,r){return(t=jK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jK(e){var t=EK(e,"string");return typeof t=="symbol"?t:t+""}function EK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qr(e,t){var r=SK({},e),n=t,a=Object.keys(t),s=a.reduce((l,u)=>(l[u]===void 0&&n[u]!==void 0&&(l[u]=n[u]),l),r);return s}var sv={},ov={},Wj;function NK(){return Wj||(Wj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let s=0;s<r.length;s++){const l=r[s],u=n(l);a.has(u)||a.set(u,l)}return Array.from(a.values())}e.uniqBy=t})(ov)),ov}var lv={},Xj;function bP(){return Xj||(Xj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(lv)),lv}var cv={},uv={},dv={},Jj;function OK(){return Jj||(Jj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(dv)),dv}var Qj;function Hx(){return Qj||(Qj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OK();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(uv)),uv}var fv={},eE;function AK(){return eE||(eE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(fv)),fv}var tE;function TK(){return tE||(tE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hx(),r=AK();function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(cv)),cv}var hv={},mv={},rE;function CK(){return rE||(rE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ux();function r(n){return function(a){return t.get(a,n)}}e.property=r})(mv)),mv}var pv={},gv={},vv={},yv={},nE;function xP(){return nE||(nE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(yv)),yv}var bv={},aE;function wP(){return aE||(aE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(bv)),bv}var xv={},iE;function _P(){return iE||(iE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(xv)),xv}var sE;function PK(){return sE||(sE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xP(),r=wP(),n=_P();function a(p,g,y){return typeof y!="function"?a(p,g,()=>{}):s(p,g,function v(w,k,S,j,N,E){const D=y(w,k,S,j,N,E);return D!==void 0?!!D:s(w,k,v,E)},new Map)}function s(p,g,y,v){if(g===p)return!0;switch(typeof g){case"object":return l(p,g,y,v);case"function":return Object.keys(g).length>0?s(p,{...g},y,v):n.eq(p,g);default:return t.isObject(p)?typeof g=="string"?g==="":!0:n.eq(p,g)}}function l(p,g,y,v){if(g==null)return!0;if(Array.isArray(g))return d(p,g,y,v);if(g instanceof Map)return u(p,g,y,v);if(g instanceof Set)return f(p,g,y,v);const w=Object.keys(g);if(p==null)return w.length===0;if(w.length===0)return!0;if(v?.has(g))return v.get(g)===p;v?.set(g,p);try{for(let k=0;k<w.length;k++){const S=w[k];if(!r.isPrimitive(p)&&!(S in p)||g[S]===void 0&&p[S]!==void 0||g[S]===null&&p[S]!==null||!y(p[S],g[S],S,p,g,v))return!1}return!0}finally{v?.delete(g)}}function u(p,g,y,v){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[w,k]of g.entries()){const S=p.get(w);if(y(S,k,w,p,g,v)===!1)return!1}return!0}function d(p,g,y,v){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const w=new Set;for(let k=0;k<g.length;k++){const S=g[k];let j=!1;for(let N=0;N<p.length;N++){if(w.has(N))continue;const E=p[N];let D=!1;if(y(E,S,k,p,g,v)&&(D=!0),D){w.add(N),j=!0;break}}if(!j)return!1}return!0}function f(p,g,y,v){return g.size===0?!0:p instanceof Set?d([...p],[...g],y,v):!1}e.isMatchWith=a,e.isSetMatch=f})(vv)),vv}var oE;function SP(){return oE||(oE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PK();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(gv)),gv}var wv={},_v={},Sv={},lE;function DK(){return lE||(lE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(Sv)),Sv}var kv={},cE;function kP(){return cE||(cE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(kv)),kv}var jv={},uE;function jP(){return uE||(uE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",s="[object Arguments]",l="[object Symbol]",u="[object Date]",d="[object Map]",f="[object Set]",p="[object Array]",g="[object Function]",y="[object ArrayBuffer]",v="[object Object]",w="[object Error]",k="[object DataView]",S="[object Uint8Array]",j="[object Uint8ClampedArray]",N="[object Uint16Array]",E="[object Uint32Array]",D="[object BigUint64Array]",O="[object Int8Array]",T="[object Int16Array]",P="[object Int32Array]",C="[object BigInt64Array]",R="[object Float32Array]",I="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=y,e.arrayTag=p,e.bigInt64ArrayTag=C,e.bigUint64ArrayTag=D,e.booleanTag=a,e.dataViewTag=k,e.dateTag=u,e.errorTag=w,e.float32ArrayTag=R,e.float64ArrayTag=I,e.functionTag=g,e.int16ArrayTag=T,e.int32ArrayTag=P,e.int8ArrayTag=O,e.mapTag=d,e.numberTag=n,e.objectTag=v,e.regexpTag=t,e.setTag=f,e.stringTag=r,e.symbolTag=l,e.uint16ArrayTag=N,e.uint32ArrayTag=E,e.uint8ArrayTag=S,e.uint8ClampedArrayTag=j})(jv)),jv}var Ev={},dE;function RK(){return dE||(dE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(Ev)),Ev}var fE;function EP(){return fE||(fE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DK(),r=kP(),n=jP(),a=wP(),s=RK();function l(p,g){return u(p,void 0,p,new Map,g)}function u(p,g,y,v=new Map,w=void 0){const k=w?.(p,g,y,v);if(k!==void 0)return k;if(a.isPrimitive(p))return p;if(v.has(p))return v.get(p);if(Array.isArray(p)){const S=new Array(p.length);v.set(p,S);for(let j=0;j<p.length;j++)S[j]=u(p[j],j,y,v,w);return Object.hasOwn(p,"index")&&(S.index=p.index),Object.hasOwn(p,"input")&&(S.input=p.input),S}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const S=new RegExp(p.source,p.flags);return S.lastIndex=p.lastIndex,S}if(p instanceof Map){const S=new Map;v.set(p,S);for(const[j,N]of p)S.set(j,u(N,j,y,v,w));return S}if(p instanceof Set){const S=new Set;v.set(p,S);for(const j of p)S.add(u(j,void 0,y,v,w));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(s.isTypedArray(p)){const S=new(Object.getPrototypeOf(p)).constructor(p.length);v.set(p,S);for(let j=0;j<p.length;j++)S[j]=u(p[j],j,y,v,w);return S}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const S=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return v.set(p,S),d(S,p,y,v,w),S}if(typeof File<"u"&&p instanceof File){const S=new File([p],p.name,{type:p.type});return v.set(p,S),d(S,p,y,v,w),S}if(typeof Blob<"u"&&p instanceof Blob){const S=new Blob([p],{type:p.type});return v.set(p,S),d(S,p,y,v,w),S}if(p instanceof Error){const S=new p.constructor;return v.set(p,S),S.message=p.message,S.name=p.name,S.stack=p.stack,S.cause=p.cause,d(S,p,y,v,w),S}if(p instanceof Boolean){const S=new Boolean(p.valueOf());return v.set(p,S),d(S,p,y,v,w),S}if(p instanceof Number){const S=new Number(p.valueOf());return v.set(p,S),d(S,p,y,v,w),S}if(p instanceof String){const S=new String(p.valueOf());return v.set(p,S),d(S,p,y,v,w),S}if(typeof p=="object"&&f(p)){const S=Object.create(Object.getPrototypeOf(p));return v.set(p,S),d(S,p,y,v,w),S}return p}function d(p,g,y=p,v,w){const k=[...Object.keys(g),...t.getSymbols(g)];for(let S=0;S<k.length;S++){const j=k[S],N=Object.getOwnPropertyDescriptor(p,j);(N==null||N.writable)&&(p[j]=u(g[j],j,y,v,w))}}function f(p){switch(r.getTag(p)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=u,e.copyProperties=d})(_v)),_v}var hE;function MK(){return hE||(hE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EP();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(wv)),wv}var mE;function $K(){return mE||(mE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SP(),r=MK();function n(a){return a=r.cloneDeep(a),s=>t.isMatch(s,a)}e.matches=n})(pv)),pv}var Nv={},Ov={},Av={},pE;function IK(){return pE||(pE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EP(),r=jP();function n(a,s){return t.cloneDeepWith(a,(l,u,d,f)=>{const p=s?.(l,u,d,f);if(p!==void 0)return p;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const g=new a.constructor(a?.valueOf());return t.copyProperties(g,a),g}case r.argumentsTag:{const g={};return t.copyProperties(g,a),g.length=a.length,g[Symbol.iterator]=a[Symbol.iterator],g}default:return}})}e.cloneDeepWith=n})(Av)),Av}var gE;function LK(){return gE||(gE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IK();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(Ov)),Ov}var Tv={},Cv={},vE;function NP(){return vE||(vE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Cv)),Cv}var Pv={},yE;function zK(){return yE||(yE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kP();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(Pv)),Pv}var bE;function UK(){return bE||(bE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pP(),r=NP(),n=zK(),a=zx();function s(l,u){let d;if(Array.isArray(u)?d=u:typeof u=="string"&&t.isDeepKey(u)&&l?.[u]==null?d=a.toPath(u):d=[u],d.length===0)return!1;let f=l;for(let p=0;p<d.length;p++){const g=d[p];if((f==null||!Object.hasOwn(f,g))&&!((Array.isArray(f)||n.isArguments(f))&&r.isIndex(g)&&g<f.length))return!1;f=f[g]}return!0}e.has=s})(Tv)),Tv}var xE;function BK(){return xE||(xE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SP(),r=Lx(),n=LK(),a=Ux(),s=UK();function l(u,d){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=r.toKey(u);break}}return d=n.cloneDeep(d),function(f){const p=a.get(f,u);return p===void 0?s.has(f,u):d===void 0?p===void 0:t.isMatch(p,d)}}e.matchesProperty=l})(Nv)),Nv}var wE;function qK(){return wE||(wE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bP(),r=CK(),n=$K(),a=BK();function s(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?a.matchesProperty(l[0],l[1]):n.matches(l);case"string":case"symbol":case"number":return r.property(l)}}e.iteratee=s})(hv)),hv}var _E;function HK(){return _E||(_E=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NK(),r=bP(),n=TK(),a=qK();function s(l,u=r.identity){return n.isArrayLikeObject(l)?t.uniqBy(Array.from(l),a.iteratee(u)):[]}e.uniqBy=s})(sv)),sv}var Dv,SE;function FK(){return SE||(SE=1,Dv=HK().uniqBy),Dv}var VK=FK();const kE=va(VK);function KK(e,t,r){return t===!0?kE(e,r):typeof t=="function"?kE(e,t):e}var Rv={exports:{}},Mv={},$v={exports:{}},Iv={};var jE;function ZK(){if(jE)return Iv;jE=1;var e=Sl();function t(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,s=e.useLayoutEffect,l=e.useDebugValue;function u(g,y){var v=y(),w=n({inst:{value:v,getSnapshot:y}}),k=w[0].inst,S=w[1];return s(function(){k.value=v,k.getSnapshot=y,d(k)&&S({inst:k})},[g,v,y]),a(function(){return d(k)&&S({inst:k}),g(function(){d(k)&&S({inst:k})})},[g]),l(v),v}function d(g){var y=g.getSnapshot;g=g.value;try{var v=y();return!r(g,v)}catch{return!0}}function f(g,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return Iv.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,Iv}var EE;function GK(){return EE||(EE=1,$v.exports=ZK()),$v.exports}var NE;function YK(){if(NE)return Mv;NE=1;var e=Sl(),t=GK();function r(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var n=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,s=e.useRef,l=e.useEffect,u=e.useMemo,d=e.useDebugValue;return Mv.useSyncExternalStoreWithSelector=function(f,p,g,y,v){var w=s(null);if(w.current===null){var k={hasValue:!1,value:null};w.current=k}else k=w.current;w=u(function(){function j(T){if(!N){if(N=!0,E=T,T=y(T),v!==void 0&&k.hasValue){var P=k.value;if(v(P,T))return D=P}return D=T}if(P=D,n(E,T))return P;var C=y(T);return v!==void 0&&v(P,C)?(E=T,P):(E=T,D=C)}var N=!1,E,D,O=g===void 0?null:g;return[function(){return j(p())},O===null?void 0:function(){return j(O())}]},[p,g,y,v]);var S=a(f,w[0],w[1]);return l(function(){k.hasValue=!0,k.value=S},[S]),d(S),S},Mv}var OE;function WK(){return OE||(OE=1,Rv.exports=YK()),Rv.exports}var XK=WK(),Fx=x.createContext(null),JK=e=>e,Gt=()=>{var e=x.useContext(Fx);return e?e.store.dispatch:JK},Xf=()=>{},QK=()=>Xf,eZ=(e,t)=>e===t;function Te(e){var t=x.useContext(Fx);return XK.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:QK,t?t.store.getState:Xf,t?t.store.getState:Xf,t?e:Xf,eZ)}function tZ(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function rZ(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function nZ(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var AE=e=>Array.isArray(e)?e:[e];function aZ(e){const t=Array.isArray(e[0])?e[0]:e;return nZ(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function iZ(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var sZ=class{constructor(e){this.value=e}deref(){return this.value}},oZ=typeof WeakRef<"u"?WeakRef:sZ,lZ=0,TE=1;function Af(){return{s:lZ,v:void 0,o:null,p:null}}function OP(e,t={}){let r=Af();const{resultEqualityCheck:n}=t;let a,s=0;function l(){let u=r;const{length:d}=arguments;for(let g=0,y=d;g<y;g++){const v=arguments[g];if(typeof v=="function"||typeof v=="object"&&v!==null){let w=u.o;w===null&&(u.o=w=new WeakMap);const k=w.get(v);k===void 0?(u=Af(),w.set(v,u)):u=k}else{let w=u.p;w===null&&(u.p=w=new Map);const k=w.get(v);k===void 0?(u=Af(),w.set(v,u)):u=k}}const f=u;let p;if(u.s===TE)p=u.v;else if(p=e.apply(null,arguments),s++,n){const g=a?.deref?.()??a;g!=null&&n(g,p)&&(p=g,s!==0&&s--),a=typeof p=="object"&&p!==null||typeof p=="function"?new oZ(p):p}return f.s=TE,f.v=p,p}return l.clearCache=()=>{r=Af(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function cZ(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let s=0,l=0,u,d={},f=a.pop();typeof f=="object"&&(d=f,f=a.pop()),tZ(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const p={...r,...d},{memoize:g,memoizeOptions:y=[],argsMemoize:v=OP,argsMemoizeOptions:w=[]}=p,k=AE(y),S=AE(w),j=aZ(a),N=g(function(){return s++,f.apply(null,arguments)},...k),E=v(function(){l++;const O=iZ(j,arguments);return u=N.apply(null,O),u},...S);return Object.assign(E,{resultFunc:f,memoizedResultFunc:N,dependencies:j,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:g,argsMemoize:v})};return Object.assign(n,{withTypes:()=>n}),n}var oe=cZ(OP),uZ=Object.assign((e,t=oe)=>{rZ(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((l,u,d)=>(l[r[d]]=u,l),{}))},{withTypes:()=>uZ}),Lv={},zv={},Uv={},CE;function dZ(){return CE||(CE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,s)=>{if(n!==a){const l=t(n),u=t(a);if(l===u&&l===0){if(n<a)return s==="desc"?1:-1;if(n>a)return s==="desc"?-1:1}return s==="desc"?u-l:l-u}return 0};e.compareValues=r})(Uv)),Uv}var Bv={},qv={},PE;function AP(){return PE||(PE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(qv)),qv}var DE;function fZ(){return DE||(DE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AP(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||l!=null&&Object.hasOwn(l,s)}e.isKey=a})(Bv)),Bv}var RE;function hZ(){return RE||(RE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dZ(),r=fZ(),n=zx();function a(s,l,u,d){if(s==null)return[];u=d?void 0:u,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(v=>String(v));const f=(v,w)=>{let k=v;for(let S=0;S<w.length&&k!=null;++S)k=k[w[S]];return k},p=(v,w)=>w==null||v==null?w:typeof v=="object"&&"key"in v?Object.hasOwn(w,v.key)?w[v.key]:f(w,v.path):typeof v=="function"?v(w):Array.isArray(v)?f(w,v):typeof w=="object"?w[v]:w,g=l.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||r.isKey(v)?v:{key:v,path:n.toPath(v)}));return s.map(v=>({original:v,criteria:g.map(w=>p(w,v))})).slice().sort((v,w)=>{for(let k=0;k<g.length;k++){const S=t.compareValues(v.criteria[k],w.criteria[k],u[k]);if(S!==0)return S}return 0}).map(v=>v.original)}e.orderBy=a})(zv)),zv}var Hv={},ME;function mZ(){return ME||(ME=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],s=Math.floor(n),l=(u,d)=>{for(let f=0;f<u.length;f++){const p=u[f];Array.isArray(p)&&d<s?l(p,d+1):a.push(p)}};return l(r,0),a}e.flatten=t})(Hv)),Hv}var Fv={},$E;function TP(){return $E||($E=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NP(),r=Hx(),n=xP(),a=_P();function s(l,u,d){return n.isObject(d)&&(typeof u=="number"&&r.isArrayLike(d)&&t.isIndex(u)&&u<d.length||typeof u=="string"&&u in d)?a.eq(d[u],l):!1}e.isIterateeCall=s})(Fv)),Fv}var IE;function pZ(){return IE||(IE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hZ(),r=mZ(),n=TP();function a(s,...l){const u=l.length;return u>1&&n.isIterateeCall(s,l[0],l[1])?l=[]:u>2&&n.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(s,r.flatten(l),["asc"])}e.sortBy=a})(Lv)),Lv}var Vv,LE;function gZ(){return LE||(LE=1,Vv=pZ().sortBy),Vv}var vZ=gZ();const M0=va(vZ);var CP=e=>e.legend.settings,yZ=e=>e.legend.size,bZ=e=>e.legend.payload;oe([bZ,CP],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?M0(n,r):n});var Tf=1;function xZ(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=x.useState({height:0,left:0,top:0,width:0}),n=x.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-t.height)>Tf||Math.abs(l.left-t.left)>Tf||Math.abs(l.top-t.top)>Tf||Math.abs(l.width-t.width)>Tf)&&r({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function hr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var wZ=typeof Symbol=="function"&&Symbol.observable||"@@observable",zE=wZ,Kv=()=>Math.random().toString(36).substring(7).split("").join("."),_Z={INIT:`@@redux/INIT${Kv()}`,REPLACE:`@@redux/REPLACE${Kv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Kv()}`},kh=_Z;function Vx(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function PP(e,t,r){if(typeof e!="function")throw new Error(hr(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(hr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(hr(1));return r(PP)(e,t)}let n=e,a=t,s=new Map,l=s,u=0,d=!1;function f(){l===s&&(l=new Map,s.forEach((S,j)=>{l.set(j,S)}))}function p(){if(d)throw new Error(hr(3));return a}function g(S){if(typeof S!="function")throw new Error(hr(4));if(d)throw new Error(hr(5));let j=!0;f();const N=u++;return l.set(N,S),function(){if(j){if(d)throw new Error(hr(6));j=!1,f(),l.delete(N),s=null}}}function y(S){if(!Vx(S))throw new Error(hr(7));if(typeof S.type>"u")throw new Error(hr(8));if(typeof S.type!="string")throw new Error(hr(17));if(d)throw new Error(hr(9));try{d=!0,a=n(a,S)}finally{d=!1}return(s=l).forEach(N=>{N()}),S}function v(S){if(typeof S!="function")throw new Error(hr(10));n=S,y({type:kh.REPLACE})}function w(){const S=g;return{subscribe(j){if(typeof j!="object"||j===null)throw new Error(hr(11));function N(){const D=j;D.next&&D.next(p())}return N(),{unsubscribe:S(N)}},[zE](){return this}}}return y({type:kh.INIT}),{dispatch:y,subscribe:g,getState:p,replaceReducer:v,[zE]:w}}function SZ(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:kh.INIT})>"u")throw new Error(hr(12));if(typeof r(void 0,{type:kh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(hr(13))})}function DP(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const l=t[s];typeof e[l]=="function"&&(r[l]=e[l])}const n=Object.keys(r);let a;try{SZ(r)}catch(s){a=s}return function(l={},u){if(a)throw a;let d=!1;const f={};for(let p=0;p<n.length;p++){const g=n[p],y=r[g],v=l[g],w=y(v,u);if(typeof w>"u")throw u&&u.type,new Error(hr(14));f[g]=w,d=d||w!==v}return d=d||n.length!==Object.keys(l).length,d?f:l}}function jh(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function kZ(...e){return t=>(r,n)=>{const a=t(r,n);let s=()=>{throw new Error(hr(15))};const l={getState:a.getState,dispatch:(d,...f)=>s(d,...f)},u=e.map(d=>d(l));return s=jh(...u)(a.dispatch),{...a,dispatch:s}}}function RP(e){return Vx(e)&&"type"in e&&typeof e.type=="string"}var MP=Symbol.for("immer-nothing"),UE=Symbol.for("immer-draftable"),Mr=Symbol.for("immer-state");function Gn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var mn=Object,vl=mn.getPrototypeOf,Eh="constructor",$0="prototype",mb="configurable",Nh="enumerable",Jf="writable",ou="value",ti=e=>!!e&&!!e[Mr];function ta(e){return e?$P(e)||I0(e)||!!e[UE]||!!e[Eh]?.[UE]||L0(e)||z0(e):!1}var jZ=mn[$0][Eh].toString(),BE=new WeakMap;function $P(e){if(!e||!Kx(e))return!1;const t=vl(e);if(t===null||t===mn[$0])return!0;const r=mn.hasOwnProperty.call(t,Eh)&&t[Eh];if(r===Object)return!0;if(!tl(r))return!1;let n=BE.get(r);return n===void 0&&(n=Function.toString.call(r),BE.set(r,n)),n===jZ}function Ou(e,t,r=!0){Au(e)===0?(r?Reflect.ownKeys(e):mn.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Au(e){const t=e[Mr];return t?t.type_:I0(e)?1:L0(e)?2:z0(e)?3:0}var qE=(e,t,r=Au(e))=>r===2?e.has(t):mn[$0].hasOwnProperty.call(e,t),pb=(e,t,r=Au(e))=>r===2?e.get(t):e[t],Oh=(e,t,r,n=Au(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function EZ(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var I0=Array.isArray,L0=e=>e instanceof Map,z0=e=>e instanceof Set,Kx=e=>typeof e=="object",tl=e=>typeof e=="function",Zv=e=>typeof e=="boolean",qa=e=>e.copy_||e.base_,Zx=e=>e.modified_?e.copy_:e.base_;function gb(e,t){if(L0(e))return new Map(e);if(z0(e))return new Set(e);if(I0(e))return Array[$0].slice.call(e);const r=$P(e);if(t===!0||t==="class_only"&&!r){const n=mn.getOwnPropertyDescriptors(e);delete n[Mr];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const l=a[s],u=n[l];u[Jf]===!1&&(u[Jf]=!0,u[mb]=!0),(u.get||u.set)&&(n[l]={[mb]:!0,[Jf]:!0,[Nh]:u[Nh],[ou]:e[l]})}return mn.create(vl(e),n)}else{const n=vl(e);if(n!==null&&r)return{...e};const a=mn.create(n);return mn.assign(a,e)}}function Gx(e,t=!1){return U0(e)||ti(e)||!ta(e)||(Au(e)>1&&mn.defineProperties(e,{set:Cf,add:Cf,clear:Cf,delete:Cf}),mn.freeze(e),t&&Ou(e,(r,n)=>{Gx(n,!0)},!1)),e}function NZ(){Gn(2)}var Cf={[ou]:NZ};function U0(e){return e===null||!Kx(e)?!0:mn.isFrozen(e)}var Ah="MapSet",vb="Patches",IP={};function yl(e){const t=IP[e];return t||Gn(0,e),t}var OZ=e=>!!IP[e],lu,LP=()=>lu,AZ=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:OZ(Ah)?yl(Ah):void 0});function HE(e,t){t&&(e.patchPlugin_=yl(vb),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function yb(e){bb(e),e.drafts_.forEach(TZ),e.drafts_=null}function bb(e){e===lu&&(lu=e.parent_)}var FE=e=>lu=AZ(lu,e);function TZ(e){const t=e[Mr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function VE(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[Mr].modified_&&(yb(t),Gn(4)),ta(e)&&(e=KE(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[Mr].base_,e,t)}else e=KE(t,r);return CZ(t,e,!0),yb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==MP?e:void 0}function KE(e,t){if(U0(t))return t;const r=t[Mr];if(!r)return Yx(t,e.handledSet_,e);if(!B0(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);BP(r,e)}return r.copy_}function CZ(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Gx(t,r)}function zP(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var B0=(e,t)=>e.scope_===t,PZ=[];function UP(e,t,r,n){const a=qa(e),s=e.type_;if(n!==void 0&&pb(a,n,s)===t){Oh(a,n,r,s);return}if(!e.draftLocations_){const u=e.draftLocations_=new Map;Ou(a,(d,f)=>{if(ti(f)){const p=u.get(f)||[];p.push(d),u.set(f,p)}})}const l=e.draftLocations_.get(t)??PZ;for(const u of l)Oh(a,u,r,s)}function DZ(e,t,r){e.callbacks_.push(function(a){const s=t;if(!s||!B0(s,a))return;a.mapSetPlugin_?.fixSetContents(s);const l=Zx(s);UP(e,s.draft_??s,l,r),BP(s,a)})}function BP(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||(e.assigned_?.size??0)>0)){const{patchPlugin_:n}=t;if(n){const a=n.getPath(e);a&&n.generatePatches_(e,a,t)}zP(e)}}function RZ(e,t,r){const{scope_:n}=e;if(ti(r)){const a=r[Mr];B0(a,n)&&a.callbacks_.push(function(){Qf(e);const l=Zx(a);UP(e,r,l,t)})}else ta(r)&&e.callbacks_.push(function(){const s=qa(e);pb(s,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Yx(pb(e.copy_,t,e.type_),n.handledSet_,n)})}function Yx(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||ti(e)||t.has(e)||!ta(e)||U0(e)||(t.add(e),Ou(e,(n,a)=>{if(ti(a)){const s=a[Mr];if(B0(s,r)){const l=Zx(s);Oh(e,n,l,e.type_),zP(s)}}else ta(a)&&Yx(a,t,r)})),e}function MZ(e,t){const r=I0(e),n={type_:r?1:0,scope_:t?t.scope_:LP(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,s=Wx;r&&(a=[n],s=cu);const{revoke:l,proxy:u}=Proxy.revocable(a,s);return n.draft_=u,n.revoke_=l,[u,n]}var Wx={get(e,t){if(t===Mr)return e;const r=qa(e);if(!qE(r,t,e.type_))return $Z(e,r,t);const n=r[t];if(e.finalized_||!ta(n))return n;if(n===Gv(e.base_,t)){Qf(e);const a=e.type_===1?+t:t,s=wb(e.scope_,n,e,a);return e.copy_[a]=s}return n},has(e,t){return t in qa(e)},ownKeys(e){return Reflect.ownKeys(qa(e))},set(e,t,r){const n=qP(qa(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Gv(qa(e),t),s=a?.[Mr];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(EZ(r,a)&&(r!==void 0||qE(e.base_,t,e.type_)))return!0;Qf(e),xb(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),RZ(e,t,r)),!0},deleteProperty(e,t){return Qf(e),Gv(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),xb(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=qa(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[Jf]:!0,[mb]:e.type_!==1||t!=="length",[Nh]:n[Nh],[ou]:r[t]}},defineProperty(){Gn(11)},getPrototypeOf(e){return vl(e.base_)},setPrototypeOf(){Gn(12)}},cu={};Ou(Wx,(e,t)=>{cu[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});cu.deleteProperty=function(e,t){return cu.set.call(this,e,t,void 0)};cu.set=function(e,t,r){return Wx.set.call(this,e[0],t,r,e[0])};function Gv(e,t){const r=e[Mr];return(r?qa(r):e)[t]}function $Z(e,t,r){const n=qP(t,r);return n?ou in n?n[ou]:n.get?.call(e.draft_):void 0}function qP(e,t){if(!(t in e))return;let r=vl(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=vl(r)}}function xb(e){e.modified_||(e.modified_=!0,e.parent_&&xb(e.parent_))}function Qf(e){e.copy_||(e.assigned_=new Map,e.copy_=gb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var IZ=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(tl(r)&&!tl(n)){const l=n;n=r;const u=this;return function(f=l,...p){return u.produce(f,g=>n.call(this,g,...p))}}tl(n)||Gn(6),a!==void 0&&!tl(a)&&Gn(7);let s;if(ta(r)){const l=FE(this),u=wb(l,r,void 0);let d=!0;try{s=n(u),d=!1}finally{d?yb(l):bb(l)}return HE(l,a),VE(s,l)}else if(!r||!Kx(r)){if(s=n(r),s===void 0&&(s=r),s===MP&&(s=void 0),this.autoFreeze_&&Gx(s,!0),a){const l=[],u=[];yl(vb).generateReplacementPatches_(r,s,{patches_:l,inversePatches_:u}),a(l,u)}return s}else Gn(1,r)},this.produceWithPatches=(r,n)=>{if(tl(r))return(u,...d)=>this.produceWithPatches(u,f=>r(f,...d));let a,s;return[this.produce(r,n,(u,d)=>{a=u,s=d}),a,s]},Zv(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Zv(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Zv(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){ta(t)||Gn(8),ti(t)&&(t=Jn(t));const r=FE(this),n=wb(r,t,void 0);return n[Mr].isManual_=!0,bb(r),n}finishDraft(t,r){const n=t&&t[Mr];(!n||!n.isManual_)&&Gn(9);const{scope_:a}=n;return HE(a,r),VE(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const s=r[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(r=r.slice(n+1));const a=yl(vb).applyPatches_;return ti(t)?a(t,r):this.produce(t,s=>a(s,r))}};function wb(e,t,r,n){const[a,s]=L0(t)?yl(Ah).proxyMap_(t,r):z0(t)?yl(Ah).proxySet_(t,r):MZ(t,r);return(r?.scope_??LP()).drafts_.push(a),s.callbacks_=r?.callbacks_??[],s.key_=n,r&&n!==void 0?DZ(r,s,n):s.callbacks_.push(function(d){d.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:f}=d;s.modified_&&f&&f.generatePatches_(s,[],d)}),a}function Jn(e){return ti(e)||Gn(10,e),HP(e)}function HP(e){if(!ta(e)||U0(e))return e;const t=e[Mr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=gb(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=gb(e,!0);return Ou(r,(a,s)=>{Oh(r,a,HP(s))},n),t&&(t.finalized_=!1),r}var LZ=new IZ,FP=LZ.produce;function VP(e){return({dispatch:r,getState:n})=>a=>s=>typeof s=="function"?s(r,n,e):a(s)}var zZ=VP(),UZ=VP,BZ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?jh:jh.apply(null,arguments)};function $n(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(pn(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>RP(n)&&n.type===e,r}var KP=class Zc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Zc.prototype)}static get[Symbol.species](){return Zc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Zc(...t[0].concat(this)):new Zc(...t.concat(this))}};function ZE(e){return ta(e)?FP(e,()=>{}):e}function Pf(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function qZ(e){return typeof e=="boolean"}var HZ=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=t??{};let l=new KP;return r&&(qZ(r)?l.push(zZ):l.push(UZ(r.extraArgument))),l},ZP="RTK_autoBatch",xt=()=>e=>({payload:e,meta:{[ZP]:!0}}),GE=e=>t=>{setTimeout(t,e)},GP=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,s=!1,l=!1;const u=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:GE(10):e.type==="callback"?e.queueNotification:GE(e.timeout),f=()=>{l=!1,s&&(s=!1,u.forEach(p=>p()))};return Object.assign({},n,{subscribe(p){const g=()=>a&&p(),y=n.subscribe(g);return u.add(p),()=>{y(),u.delete(p)}},dispatch(p){try{return a=!p?.meta?.[ZP],s=!a,s&&(l||(l=!0,d(f))),n.dispatch(p)}finally{a=!0}}})},FZ=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new KP(e);return n&&a.push(GP(typeof n=="object"?n:void 0)),a};function VZ(e){const t=HZ(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:s=void 0,enhancers:l=void 0}=e||{};let u;if(typeof r=="function")u=r;else if(Vx(r))u=DP(r);else throw new Error(pn(1));let d;typeof n=="function"?d=n(t):d=t();let f=jh;a&&(f=BZ({trace:!1,...typeof a=="object"&&a}));const p=kZ(...d),g=FZ(p);let y=typeof l=="function"?l(g):g();const v=f(...y);return PP(u,s,v)}function YP(e){const t={},r=[];let n;const a={addCase(s,l){const u=typeof s=="string"?s:s.type;if(!u)throw new Error(pn(28));if(u in t)throw new Error(pn(29));return t[u]=l,a},addAsyncThunk(s,l){return l.pending&&(t[s.pending.type]=l.pending),l.rejected&&(t[s.rejected.type]=l.rejected),l.fulfilled&&(t[s.fulfilled.type]=l.fulfilled),l.settled&&r.push({matcher:s.settled,reducer:l.settled}),a},addMatcher(s,l){return r.push({matcher:s,reducer:l}),a},addDefaultCase(s){return n=s,a}};return e(a),[t,r,n]}function KZ(e){return typeof e=="function"}function ZZ(e,t){let[r,n,a]=YP(t),s;if(KZ(e))s=()=>ZE(e());else{const u=ZE(e);s=()=>u}function l(u=s(),d){let f=[r[d.type],...n.filter(({matcher:p})=>p(d)).map(({reducer:p})=>p)];return f.filter(p=>!!p).length===0&&(f=[a]),f.reduce((p,g)=>{if(g)if(ti(p)){const v=g(p,d);return v===void 0?p:v}else{if(ta(p))return FP(p,y=>g(y,d));{const y=g(p,d);if(y===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return p},u)}return l.getInitialState=s,l}var GZ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",YZ=(e=21)=>{let t="",r=e;for(;r--;)t+=GZ[Math.random()*64|0];return t},WZ=Symbol.for("rtk-slice-createasyncthunk");function XZ(e,t){return`${e}/${t}`}function JZ({creators:e}={}){const t=e?.asyncThunk?.[WZ];return function(n){const{name:a,reducerPath:s=a}=n;if(!a)throw new Error(pn(11));const l=(typeof n.reducers=="function"?n.reducers(eG()):n.reducers)||{},u=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(E,D){const O=typeof E=="string"?E:E.type;if(!O)throw new Error(pn(12));if(O in d.sliceCaseReducersByType)throw new Error(pn(13));return d.sliceCaseReducersByType[O]=D,f},addMatcher(E,D){return d.sliceMatchers.push({matcher:E,reducer:D}),f},exposeAction(E,D){return d.actionCreators[E]=D,f},exposeCaseReducer(E,D){return d.sliceCaseReducersByName[E]=D,f}};u.forEach(E=>{const D=l[E],O={reducerName:E,type:XZ(a,E),createNotation:typeof n.reducers=="function"};rG(D)?aG(O,D,f,t):tG(O,D,f)});function p(){const[E={},D=[],O=void 0]=typeof n.extraReducers=="function"?YP(n.extraReducers):[n.extraReducers],T={...E,...d.sliceCaseReducersByType};return ZZ(n.initialState,P=>{for(let C in T)P.addCase(C,T[C]);for(let C of d.sliceMatchers)P.addMatcher(C.matcher,C.reducer);for(let C of D)P.addMatcher(C.matcher,C.reducer);O&&P.addDefaultCase(O)})}const g=E=>E,y=new Map,v=new WeakMap;let w;function k(E,D){return w||(w=p()),w(E,D)}function S(){return w||(w=p()),w.getInitialState()}function j(E,D=!1){function O(P){let C=P[E];return typeof C>"u"&&D&&(C=Pf(v,O,S)),C}function T(P=g){const C=Pf(y,D,()=>new WeakMap);return Pf(C,P,()=>{const R={};for(const[I,M]of Object.entries(n.selectors??{}))R[I]=QZ(M,P,()=>Pf(v,P,S),D);return R})}return{reducerPath:E,getSelectors:T,get selectors(){return T(O)},selectSlice:O}}const N={name:a,reducer:k,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:S,...j(s),injectInto(E,{reducerPath:D,...O}={}){const T=D??s;return E.inject({reducerPath:T,reducer:k},O),{...N,...j(T,!0)}}};return N}}function QZ(e,t,r,n){function a(s,...l){let u=t(s);return typeof u>"u"&&n&&(u=r()),e(u,...l)}return a.unwrapped=e,a}var en=JZ();function eG(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function tG({type:e,reducerName:t,createNotation:r},n,a){let s,l;if("reducer"in n){if(r&&!nG(n))throw new Error(pn(17));s=n.reducer,l=n.prepare}else s=n;a.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,l?$n(e,l):$n(e))}function rG(e){return e._reducerDefinitionType==="asyncThunk"}function nG(e){return e._reducerDefinitionType==="reducerWithPrepare"}function aG({type:e,reducerName:t},r,n,a){if(!a)throw new Error(pn(18));const{payloadCreator:s,fulfilled:l,pending:u,rejected:d,settled:f,options:p}=r,g=a(e,s,p);n.exposeAction(t,g),l&&n.addCase(g.fulfilled,l),u&&n.addCase(g.pending,u),d&&n.addCase(g.rejected,d),f&&n.addMatcher(g.settled,f),n.exposeCaseReducer(t,{fulfilled:l||Df,pending:u||Df,rejected:d||Df,settled:f||Df})}function Df(){}var iG="task",WP="listener",XP="completed",Xx="cancelled",sG=`task-${Xx}`,oG=`task-${XP}`,_b=`${WP}-${Xx}`,lG=`${WP}-${XP}`,q0=class{constructor(e){this.code=e,this.message=`${iG} ${Xx} (reason: ${e})`}name="TaskAbortError";message},Jx=(e,t)=>{if(typeof e!="function")throw new TypeError(pn(32))},Th=()=>{},JP=(e,t=Th)=>(e.catch(t),e),QP=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Ls=e=>{if(e.aborted)throw new q0(e.reason)};function eD(e,t){let r=Th;return new Promise((n,a)=>{const s=()=>a(new q0(e.reason));if(e.aborted){s();return}r=QP(e,s),t.finally(()=>r()).then(n,a)}).finally(()=>{r=Th})}var cG=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof q0?"cancelled":"rejected",error:r}}finally{t?.()}},Ch=e=>t=>JP(eD(e,t).then(r=>(Ls(e),r))),tD=e=>{const t=Ch(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:dl}=Object,YE={},H0="listenerMiddleware",uG=(e,t)=>{const r=n=>QP(e,()=>n.abort(e.reason));return(n,a)=>{Jx(n);const s=new AbortController;r(s);const l=cG(async()=>{Ls(e),Ls(s.signal);const u=await n({pause:Ch(s.signal),delay:tD(s.signal),signal:s.signal});return Ls(s.signal),u},()=>s.abort(oG));return a?.autoJoin&&t.push(l.catch(Th)),{result:Ch(e)(l),cancel(){s.abort(sG)}}}},dG=(e,t)=>{const r=async(n,a)=>{Ls(t);let s=()=>{};const u=[new Promise((d,f)=>{let p=e({predicate:n,effect:(g,y)=>{y.unsubscribe(),d([g,y.getState(),y.getOriginalState()])}});s=()=>{p(),f()}})];a!=null&&u.push(new Promise(d=>setTimeout(d,a,null)));try{const d=await eD(t,Promise.race(u));return Ls(t),d}finally{s()}};return(n,a)=>JP(r(n,a))},rD=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:s}=e;if(t)a=$n(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(pn(21));return Jx(s),{predicate:a,type:t,effect:s}},nD=dl(e=>{const{type:t,predicate:r,effect:n}=rD(e);return{id:YZ(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(pn(22))}}},{withTypes:()=>nD}),WE=(e,t)=>{const{type:r,effect:n,predicate:a}=rD(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===a)&&s.effect===n)},Sb=e=>{e.pending.forEach(t=>{t.abort(_b)})},fG=(e,t)=>()=>{for(const r of t.keys())Sb(r);e.clear()},XE=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},aD=dl($n(`${H0}/add`),{withTypes:()=>aD}),hG=$n(`${H0}/removeAll`),iD=dl($n(`${H0}/remove`),{withTypes:()=>iD}),mG=(...e)=>{console.error(`${H0}/error`,...e)},Tu=(e={})=>{const t=new Map,r=new Map,n=v=>{const w=r.get(v)??0;r.set(v,w+1)},a=v=>{const w=r.get(v)??1;w===1?r.delete(v):r.set(v,w-1)},{extra:s,onError:l=mG}=e;Jx(l);const u=v=>(v.unsubscribe=()=>t.delete(v.id),t.set(v.id,v),w=>{v.unsubscribe(),w?.cancelActive&&Sb(v)}),d=v=>{const w=WE(t,v)??nD(v);return u(w)};dl(d,{withTypes:()=>d});const f=v=>{const w=WE(t,v);return w&&(w.unsubscribe(),v.cancelActive&&Sb(w)),!!w};dl(f,{withTypes:()=>f});const p=async(v,w,k,S)=>{const j=new AbortController,N=dG(d,j.signal),E=[];try{v.pending.add(j),n(v),await Promise.resolve(v.effect(w,dl({},k,{getOriginalState:S,condition:(D,O)=>N(D,O).then(Boolean),take:N,delay:tD(j.signal),pause:Ch(j.signal),extra:s,signal:j.signal,fork:uG(j.signal,E),unsubscribe:v.unsubscribe,subscribe:()=>{t.set(v.id,v)},cancelActiveListeners:()=>{v.pending.forEach((D,O,T)=>{D!==j&&(D.abort(_b),T.delete(D))})},cancel:()=>{j.abort(_b),v.pending.delete(j)},throwIfCancelled:()=>{Ls(j.signal)}})))}catch(D){D instanceof q0||XE(l,D,{raisedBy:"effect"})}finally{await Promise.all(E),j.abort(lG),a(v),v.pending.delete(j)}},g=fG(t,r);return{middleware:v=>w=>k=>{if(!RP(k))return w(k);if(aD.match(k))return d(k.payload);if(hG.match(k)){g();return}if(iD.match(k))return f(k.payload);let S=v.getState();const j=()=>{if(S===YE)throw new Error(pn(23));return S};let N;try{if(N=w(k),t.size>0){const E=v.getState(),D=Array.from(t.values());for(const O of D){let T=!1;try{T=O.predicate(k,E,S)}catch(P){T=!1,XE(l,P,{raisedBy:"predicate"})}T&&p(O,k,v,j)}}}finally{S=YE}return N},startListening:d,stopListening:f,clearListeners:g}};function pn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var pG={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},sD=en({name:"chartLayout",initialState:pG,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,s;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:gG,setLayout:vG,setChartSize:yG,setScale:bG}=sD.actions,xG=sD.reducer;function oD(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function JE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JE(Object(r),!0).forEach(function(n){wG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wG(e,t,r){return(t=_G(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _G(e){var t=SG(e,"string");return typeof t=="symbol"?t:t+""}function SG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nr(e,t,r){return gr(e)||gr(t)?r:Mn(t)?R0(e,t,r):typeof t=="function"?t(e):r}var kG=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:s,verticalAlign:l,layout:u}=t;if((u==="vertical"||u==="horizontal"&&l==="middle")&&s!=="center"&&Ce(e[s]))return nl(nl({},e),{},{[s]:e[s]+(n||0)});if((u==="horizontal"||u==="vertical"&&s==="center")&&l!=="middle"&&Ce(e[l]))return nl(nl({},e),{},{[l]:e[l]+(a||0)})}return e},li=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",lD=(e,t,r,n)=>{if(n)return e.map(u=>u.coordinate);var a,s,l=e.map(u=>(u.coordinate===t&&(a=!0),u.coordinate===r&&(s=!0),u.coordinate));return a||l.push(t),s||l.push(r),l},cD=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:s,scale:l,realScaleType:u,isCategorical:d,categoricalDomain:f,tickCount:p,ticks:g,niceTicks:y,axisType:v}=e;if(!l)return null;var w=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,k=a==="category"&&l.bandwidth?l.bandwidth()/w:0;if(k=v==="angleAxis"&&s&&s.length>=2?Pn(s[0]-s[1])*2*k:k,g||y){var S=(g||y||[]).map((j,N)=>{var E=n?n.indexOf(j):j;return{coordinate:l(E)+k,value:j,offset:k,index:N}});return S.filter(j=>!vn(j.coordinate))}return d&&f?f.map((j,N)=>({coordinate:l(j)+k,value:j,index:N,offset:k})):l.ticks&&p!=null?l.ticks(p).map((j,N)=>({coordinate:l(j)+k,value:j,offset:k,index:N})):l.domain().map((j,N)=>({coordinate:l(j)+k,value:n?n[j]:j,index:N,offset:k}))},QE=1e-4,jG=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-QE,s=Math.max(n[0],n[1])+QE,l=e(t[0]),u=e(t[r-1]);(l<a||l>s||u<a||u>s)&&e.domain([t[0],t[r-1]])}},EG=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,s=0,l=0;l<t;++l){var u=vn(e[l][r][1])?e[l][r][0]:e[l][r][1];u>=0?(e[l][r][0]=a,e[l][r][1]=a+u,a=e[l][r][1]):(e[l][r][0]=s,e[l][r][1]=s+u,s=e[l][r][1])}},NG=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,s=0;s<t;++s){var l=vn(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},OG={sign:EG,expand:fK,none:gl,silhouette:hK,wiggle:mK,positive:NG},AG=(e,t,r)=>{var n=OG[r],a=dK().keys(t).value((s,l)=>Number(Nr(s,l,0))).order(hb).offset(n);return a(e)};function TG(e){return e==null?void 0:String(e)}function eN(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:s,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!gr(a[t.dataKey])){var u=vP(r,"value",a[t.dataKey]);if(u)return u.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var d=Nr(a,gr(l)?t.dataKey:l);return gr(d)?null:t.scale(d)}var CG=e=>{var t=e.flat(2).filter(Ce);return[Math.min(...t),Math.max(...t)]},PG=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],DG=(e,t,r)=>{if(e!=null)return PG(Object.keys(e).reduce((n,a)=>{var s=e[a],{stackedData:l}=s,u=l.reduce((d,f)=>{var p=oD(f,t,r),g=CG(p);return[Math.min(d[0],g[0]),Math.max(d[1],g[1])]},[1/0,-1/0]);return[Math.min(u[0],n[0]),Math.max(u[1],n[1])]},[1/0,-1/0]))},tN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,rN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ph=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=M0(t,p=>p.coordinate),s=1/0,l=1,u=a.length;l<u;l++){var d=a[l],f=a[l-1];s=Math.min((d.coordinate||0)-(f.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function nN(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:s}=e;return nl(nl({},t),{},{dataKey:r,payload:n,value:a,name:s})}function uD(e,t){if(e)return String(e);if(typeof t=="string")return t}var RG=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},MG=(e,t)=>t==="centric"?e.angle:e.radius,ci=e=>e.layout.width,ui=e=>e.layout.height,$G=e=>e.layout.scale,dD=e=>e.layout.margin,F0=oe(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),V0=oe(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),IG="data-recharts-item-index",LG="data-recharts-item-data-key",Cu=60;function aN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aN(Object(r),!0).forEach(function(n){zG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zG(e,t,r){return(t=UG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UG(e){var t=BG(e,"string");return typeof t=="symbol"?t:t+""}function BG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qG=e=>e.brush.height;function HG(e){var t=V0(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Cu;return r+a}return r},0)}function FG(e){var t=V0(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Cu;return r+a}return r},0)}function VG(e){var t=F0(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function KG(e){var t=F0(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var br=oe([ci,ui,dD,qG,HG,FG,VG,KG,CP,yZ],(e,t,r,n,a,s,l,u,d,f)=>{var p={left:(r.left||0)+a,right:(r.right||0)+s},g={top:(r.top||0)+l,bottom:(r.bottom||0)+u},y=Rf(Rf({},g),p),v=y.bottom;y.bottom+=n,y=kG(y,d,f);var w=e-y.left-y.right,k=t-y.top-y.bottom;return Rf(Rf({brushBottom:v},y),{},{width:Math.max(w,0),height:Math.max(k,0)})}),ZG=oe(br,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),fD=oe(ci,ui,(e,t)=>({x:0,y:0,width:e,height:t})),GG=x.createContext(null),Ir=()=>x.useContext(GG)!=null,K0=e=>e.brush,Z0=oe([K0,br,dD],(e,t,r)=>({height:e.height,x:Ce(e.x)?e.x:t.left,y:Ce(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:Ce(e.width)?e.width:t.width})),Yv={},Wv={},Xv={},iN;function YG(){return iN||(iN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:s}={}){let l,u=null;const d=s!=null&&s.includes("leading"),f=s==null||s.includes("trailing"),p=()=>{u!==null&&(r.apply(l,u),l=void 0,u=null)},g=()=>{f&&p(),k()};let y=null;const v=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,g()},n)},w=()=>{y!==null&&(clearTimeout(y),y=null)},k=()=>{w(),l=void 0,u=null},S=()=>{p()},j=function(...N){if(a?.aborted)return;l=this,u=N;const E=y==null;v(),d&&E&&p()};return j.schedule=v,j.cancel=k,j.flush=S,a?.addEventListener("abort",k,{once:!0}),j}e.debounce=t})(Xv)),Xv}var sN;function WG(){return sN||(sN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YG();function r(n,a=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:u=!0,maxWait:d}=s,f=Array(2);l&&(f[0]="leading"),u&&(f[1]="trailing");let p,g=null;const y=t.debounce(function(...k){p=n.apply(this,k),g=null},a,{edges:f}),v=function(...k){return d!=null&&(g===null&&(g=Date.now()),Date.now()-g>=d)?(p=n.apply(this,k),g=Date.now(),y.cancel(),y.schedule(),p):(y.apply(this,k),p)},w=()=>(y.flush(),p);return v.cancel=y.cancel,v.flush=w,v}e.debounce=r})(Wv)),Wv}var oN;function XG(){return oN||(oN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WG();function r(n,a=0,s={}){const{leading:l=!0,trailing:u=!0}=s;return t.debounce(n,a,{leading:l,maxWait:a,trailing:u})}e.throttle=r})(Yv)),Yv}var Jv,lN;function JG(){return lN||(lN=1,Jv=XG().throttle),Jv}var QG=JG();const eY=va(QG);var Dh=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(r.replace(/%s/g,()=>a[l++]))}},hD=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:s,maxHeight:l}=r,u=ei(n)?e:Number(n),d=ei(a)?t:Number(a);return s&&s>0&&(u?d=u/s:d&&(u=d*s),l&&d!=null&&d>l&&(d=l)),{calculatedWidth:u,calculatedHeight:d}},tY={width:0,height:0,overflow:"visible"},rY={width:0,overflowX:"visible"},nY={height:0,overflowY:"visible"},aY={},iY=e=>{var{width:t,height:r}=e,n=ei(t),a=ei(r);return n&&a?tY:n?rY:a?nY:aY};function sY(e){var{width:t,height:r,aspect:n}=e,a=t,s=r;return a===void 0&&s===void 0?(a="100%",s="100%"):a===void 0?a=n&&n>0?void 0:"100%":s===void 0&&(s=n&&n>0?void 0:"100%"),{width:a,height:s}}function dt(e){return Number.isFinite(e)}function pa(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function kb(){return kb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kb.apply(null,arguments)}function cN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cN(Object(r),!0).forEach(function(n){oY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oY(e,t,r){return(t=lY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lY(e){var t=cY(e,"string");return typeof t=="symbol"?t:t+""}function cY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mD=x.createContext({width:-1,height:-1});function uY(e){return pa(e.width)&&pa(e.height)}function pD(e){var{children:t,width:r,height:n}=e,a=x.useMemo(()=>({width:r,height:n}),[r,n]);return uY(a)?x.createElement(mD.Provider,{value:a},t):null}var Qx=()=>x.useContext(mD),dY=x.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:s,minWidth:l=0,minHeight:u,maxHeight:d,children:f,debounce:p=0,id:g,className:y,onResize:v,style:w={}}=e,k=x.useRef(null),S=x.useRef();S.current=v,x.useImperativeHandle(t,()=>k.current);var[j,N]=x.useState({containerWidth:n.width,containerHeight:n.height}),E=x.useCallback((C,R)=>{N(I=>{var M=Math.round(C),z=Math.round(R);return I.containerWidth===M&&I.containerHeight===z?I:{containerWidth:M,containerHeight:z}})},[]);x.useEffect(()=>{if(k.current==null||typeof ResizeObserver>"u")return Nu;var C=z=>{var B,{width:G,height:ae}=z[0].contentRect;E(G,ae),(B=S.current)===null||B===void 0||B.call(S,G,ae)};p>0&&(C=eY(C,p,{trailing:!0,leading:!1}));var R=new ResizeObserver(C),{width:I,height:M}=k.current.getBoundingClientRect();return E(I,M),R.observe(k.current),()=>{R.disconnect()}},[E,p]);var{containerWidth:D,containerHeight:O}=j;Dh(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:T,calculatedHeight:P}=hD(D,O,{width:a,height:s,aspect:r,maxHeight:d});return Dh(T!=null&&T>0||P!=null&&P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,T,P,a,s,l,u,r),x.createElement("div",{id:g?"".concat(g):void 0,className:ft("recharts-responsive-container",y),style:uN(uN({},w),{},{width:a,height:s,minWidth:l,minHeight:u,maxHeight:d}),ref:k},x.createElement("div",{style:iY({width:a,height:s})},x.createElement(pD,{width:T,height:P},f)))}),fY=x.forwardRef((e,t)=>{var r=Qx();if(pa(r.width)&&pa(r.height))return e.children;var{width:n,height:a}=sY({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:l}=hD(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return Ce(s)&&Ce(l)?x.createElement(pD,{width:s,height:l},e.children):x.createElement(dY,kb({},e,{width:n,height:a,ref:t}))});function gD(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Pu=()=>{var e,t=Ir(),r=Te(ZG),n=Te(Z0),a=(e=Te(K0))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},hY={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},vD=()=>{var e;return(e=Te(br))!==null&&e!==void 0?e:hY},yD=()=>Te(ci),bD=()=>Te(ui),ht=e=>e.layout.layoutType,Du=()=>Te(ht),mY=()=>{var e=Du();if(e==="horizontal"||e==="vertical")return e},pY=()=>{var e=Du();return e!==void 0},G0=e=>{var t=Gt(),r=Ir(),{width:n,height:a}=e,s=Qx(),l=n,u=a;return s&&(l=s.width>0?s.width:n,u=s.height>0?s.height:a),x.useEffect(()=>{!r&&pa(l)&&pa(u)&&t(yG({width:l,height:u}))},[t,r,l,u]),null},xD=Symbol.for("immer-nothing"),dN=Symbol.for("immer-draftable"),yn=Symbol.for("immer-state");function Yn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var uu=Object.getPrototypeOf;function bl(e){return!!e&&!!e[yn]}function Ks(e){return e?wD(e)||Array.isArray(e)||!!e[dN]||!!e.constructor?.[dN]||Ru(e)||W0(e):!1}var gY=Object.prototype.constructor.toString(),fN=new WeakMap;function wD(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=fN.get(r);return n===void 0&&(n=Function.toString.call(r),fN.set(r,n)),n===gY}function Rh(e,t,r=!0){Y0(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Y0(e){const t=e[yn];return t?t.type_:Array.isArray(e)?1:Ru(e)?2:W0(e)?3:0}function jb(e,t){return Y0(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function _D(e,t,r){const n=Y0(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function vY(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Ru(e){return e instanceof Map}function W0(e){return e instanceof Set}function Ns(e){return e.copy_||e.base_}function Eb(e,t){if(Ru(e))return new Map(e);if(W0(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=wD(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[yn];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const l=a[s],u=n[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(n[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[l]})}return Object.create(uu(e),n)}else{const n=uu(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function ew(e,t=!1){return X0(e)||bl(e)||!Ks(e)||(Y0(e)>1&&Object.defineProperties(e,{set:Mf,add:Mf,clear:Mf,delete:Mf}),Object.freeze(e),t&&Object.values(e).forEach(r=>ew(r,!0))),e}function yY(){Yn(2)}var Mf={value:yY};function X0(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var bY={};function Zs(e){const t=bY[e];return t||Yn(0,e),t}var du;function SD(){return du}function xY(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function hN(e,t){t&&(Zs("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Nb(e){Ob(e),e.drafts_.forEach(wY),e.drafts_=null}function Ob(e){e===du&&(du=e.parent_)}function mN(e){return du=xY(du,e)}function wY(e){const t=e[yn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function pN(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[yn].modified_&&(Nb(t),Yn(4)),Ks(e)&&(e=Mh(t,e),t.parent_||$h(t,e)),t.patches_&&Zs("Patches").generateReplacementPatches_(r[yn].base_,e,t.patches_,t.inversePatches_)):e=Mh(t,r,[]),Nb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==xD?e:void 0}function Mh(e,t,r){if(X0(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[yn];if(!a)return Rh(t,(s,l)=>gN(e,a,t,s,l,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return $h(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let l=s,u=!1;a.type_===3&&(l=new Set(s),s.clear(),u=!0),Rh(l,(d,f)=>gN(e,a,s,d,f,r,u),n),$h(e,s,!1),r&&e.patches_&&Zs("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function gN(e,t,r,n,a,s,l){if(a==null||typeof a!="object"&&!l)return;const u=X0(a);if(!(u&&!l)){if(bl(a)){const d=s&&t&&t.type_!==3&&!jb(t.assigned_,n)?s.concat(n):void 0,f=Mh(e,a,d);if(_D(r,n,f),bl(f))e.canAutoFreeze_=!1;else return}else l&&r.add(a);if(Ks(a)&&!u){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&u)return;Mh(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Ru(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&$h(e,a)}}}function $h(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ew(t,r)}function _Y(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:SD(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=tw;r&&(a=[n],s=fu);const{revoke:l,proxy:u}=Proxy.revocable(a,s);return n.draft_=u,n.revoke_=l,u}var tw={get(e,t){if(t===yn)return e;const r=Ns(e);if(!jb(r,t))return SY(e,r,t);const n=r[t];return e.finalized_||!Ks(n)?n:n===Qv(e.base_,t)?(ey(e),e.copy_[t]=Tb(n,e)):n},has(e,t){return t in Ns(e)},ownKeys(e){return Reflect.ownKeys(Ns(e))},set(e,t,r){const n=kD(Ns(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Qv(Ns(e),t),s=a?.[yn];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(vY(r,a)&&(r!==void 0||jb(e.base_,t)))return!0;ey(e),Ab(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Qv(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,ey(e),Ab(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Ns(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Yn(11)},getPrototypeOf(e){return uu(e.base_)},setPrototypeOf(){Yn(12)}},fu={};Rh(tw,(e,t)=>{fu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});fu.deleteProperty=function(e,t){return fu.set.call(this,e,t,void 0)};fu.set=function(e,t,r){return tw.set.call(this,e[0],t,r,e[0])};function Qv(e,t){const r=e[yn];return(r?Ns(r):e)[t]}function SY(e,t,r){const n=kD(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function kD(e,t){if(!(t in e))return;let r=uu(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=uu(r)}}function Ab(e){e.modified_||(e.modified_=!0,e.parent_&&Ab(e.parent_))}function ey(e){e.copy_||(e.copy_=Eb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var kY=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const l=this;return function(d=s,...f){return l.produce(d,p=>r.call(this,p,...f))}}typeof r!="function"&&Yn(6),n!==void 0&&typeof n!="function"&&Yn(7);let a;if(Ks(t)){const s=mN(this),l=Tb(t,void 0);let u=!0;try{a=r(l),u=!1}finally{u?Nb(s):Ob(s)}return hN(s,n),pN(a,s)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===xD&&(a=void 0),this.autoFreeze_&&ew(a,!0),n){const s=[],l=[];Zs("Patches").generateReplacementPatches_(t,a,s,l),n(s,l)}return a}else Yn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(l,...u)=>this.produceWithPatches(l,d=>t(d,...u));let n,a;return[this.produce(t,r,(l,u)=>{n=l,a=u}),n,a]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ks(e)||Yn(8),bl(e)&&(e=jY(e));const t=mN(this),r=Tb(e,void 0);return r[yn].isManual_=!0,Ob(t),r}finishDraft(e,t){const r=e&&e[yn];(!r||!r.isManual_)&&Yn(9);const{scope_:n}=r;return hN(n,t),pN(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=Zs("Patches").applyPatches_;return bl(e)?n(e,t):this.produce(e,a=>n(a,t))}};function Tb(e,t){const r=Ru(e)?Zs("MapSet").proxyMap_(e,t):W0(e)?Zs("MapSet").proxySet_(e,t):_Y(e,t);return(t?t.scope_:SD()).drafts_.push(r),r}function jY(e){return bl(e)||Yn(10,e),jD(e)}function jD(e){if(!Ks(e)||X0(e))return e;const t=e[yn];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Eb(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Eb(e,!0);return Rh(r,(a,s)=>{_D(r,a,jD(s))},n),t&&(t.finalized_=!1),r}var EY=new kY;EY.produce;var NY={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},ED=en({name:"legend",initialState:NY,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:xt()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Jn(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:xt()},removeLegendPayload:{reducer(e,t){var r=Jn(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:xt()}}}),{setLegendSize:Jce,setLegendSettings:Qce,addLegendPayload:OY,replaceLegendPayload:AY,removeLegendPayload:TY}=ED.actions,CY=ED.reducer;function Cb(){return Cb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cb.apply(null,arguments)}function vN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ty(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vN(Object(r),!0).forEach(function(n){PY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PY(e,t,r){return(t=DY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DY(e){var t=RY(e,"string");return typeof t=="symbol"?t:t+""}function RY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MY(e){return Array.isArray(e)&&Mn(e[0])&&Mn(e[1])?e.join(" ~ "):e}var $Y=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:s,formatter:l,itemSorter:u,wrapperClassName:d,labelClassName:f,label:p,labelFormatter:g,accessibilityLayer:y=!1}=e,v=()=>{if(s&&s.length){var O={padding:0,margin:0},T=(u?M0(s,u):s).map((P,C)=>{if(P.type==="none")return null;var R=P.formatter||l||MY,{value:I,name:M}=P,z=I,B=M;if(R){var G=R(I,M,P,C,s);if(Array.isArray(G))[z,B]=G;else if(G!=null)z=G;else return null}var ae=ty({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},n);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(C),style:ae},Mn(B)?x.createElement("span",{className:"recharts-tooltip-item-name"},B):null,Mn(B)?x.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,x.createElement("span",{className:"recharts-tooltip-item-value"},z),x.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:O},T)}return null},w=ty({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),k=ty({margin:0},a),S=!gr(p),j=S?p:"",N=ft("recharts-default-tooltip",d),E=ft("recharts-tooltip-label",f);S&&g&&s!==void 0&&s!==null&&(j=g(p,s));var D=y?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",Cb({className:N,style:w},D),x.createElement("p",{className:E,style:k},x.isValidElement(j)?j:"".concat(j)),v())},Dc="recharts-tooltip-wrapper",IY={visibility:"hidden"};function LY(e){var{coordinate:t,translateX:r,translateY:n}=e;return ft(Dc,{["".concat(Dc,"-right")]:Ce(r)&&t&&Ce(t.x)&&r>=t.x,["".concat(Dc,"-left")]:Ce(r)&&t&&Ce(t.x)&&r<t.x,["".concat(Dc,"-bottom")]:Ce(n)&&t&&Ce(t.y)&&n>=t.y,["".concat(Dc,"-top")]:Ce(n)&&t&&Ce(t.y)&&n<t.y})}function yN(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:s,reverseDirection:l,tooltipDimension:u,viewBox:d,viewBoxDimension:f}=e;if(s&&Ce(s[n]))return s[n];var p=r[n]-u-(a>0?a:0),g=r[n]+a;if(t[n])return l[n]?p:g;var y=d[n];if(y==null)return 0;if(l[n]){var v=p,w=y;return v<w?Math.max(g,y):Math.max(p,y)}if(f==null)return 0;var k=g+u,S=y+f;return k>S?Math.max(p,y):Math.max(g,y)}function zY(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function UY(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:s,tooltipBox:l,useTranslate3d:u,viewBox:d}=e,f,p,g;return l.height>0&&l.width>0&&r?(p=yN({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),g=yN({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),f=zY({translateX:p,translateY:g,useTranslate3d:u})):f=IY,{cssProperties:f,cssClasses:LY({translateX:p,translateY:g,coordinate:r})}}function bN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $f(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bN(Object(r),!0).forEach(function(n){Pb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pb(e,t,r){return(t=BY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BY(e){var t=qY(e,"string");return typeof t=="symbol"?t:t+""}function qY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class HY extends x.PureComponent{constructor(){super(...arguments),Pb(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Pb(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:s,coordinate:l,hasPayload:u,isAnimationActive:d,offset:f,position:p,reverseDirection:g,useTranslate3d:y,viewBox:v,wrapperStyle:w,lastBoundingBox:k,innerRef:S,hasPortalFromProps:j}=this.props,{cssClasses:N,cssProperties:E}=UY({allowEscapeViewBox:r,coordinate:l,offsetTopLeft:f,position:p,reverseDirection:g,tooltipBox:{height:k.height,width:k.width},useTranslate3d:y,viewBox:v}),D=j?{}:$f($f({transition:d&&t?"transform ".concat(n,"ms ").concat(a):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),O=$f($f({},D),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},w);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:N,style:O,ref:S},s)}}var ND=()=>{var e;return(e=Te(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Db(){return Db=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Db.apply(null,arguments)}function xN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xN(Object(r),!0).forEach(function(n){FY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FY(e,t,r){return(t=VY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VY(e){var t=KY(e,"string");return typeof t=="symbol"?t:t+""}function KY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _N={curveBasisClosed:eK,curveBasisOpen:tK,curveBasis:QV,curveBumpX:XV,curveBumpY:JV,curveLinearClosed:rK,curveLinear:P0,curveMonotoneX:nK,curveMonotoneY:aK,curveNatural:iK,curveStep:sK,curveStepAfter:lK,curveStepBefore:oK},Ih=e=>dt(e.x)&&dt(e.y),SN=e=>e.base!=null&&Ih(e.base)&&Ih(e),Rc=e=>e.x,Mc=e=>e.y,ZY=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Bx(e));return(r==="curveMonotone"||r==="curveBump")&&t?_N["".concat(r).concat(t==="vertical"?"Y":"X")]:_N[r]||P0},GY=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:s=!1}=e,l=ZY(t,a),u=s?r.filter(Ih):r,d;if(Array.isArray(n)){var f=r.map((v,w)=>wN(wN({},v),{},{base:n[w]}));a==="vertical"?d=Of().y(Mc).x1(Rc).x0(v=>v.base.x):d=Of().x(Rc).y1(Mc).y0(v=>v.base.y);var p=d.defined(SN).curve(l),g=s?f.filter(SN):f;return p(g)}a==="vertical"&&Ce(n)?d=Of().y(Mc).x1(Rc).x0(n):Ce(n)?d=Of().x(Rc).y1(Mc).y0(n):d=sP().x(Rc).y(Mc);var y=d.defined(Ih).curve(l);return y(u)},eh=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var s=r&&r.length?GY(e):n;return x.createElement("path",Db({},Qn(e),qx(e),{className:ft("recharts-curve",t),d:s===null?void 0:s,ref:a}))},YY=["x","y","top","left","width","height","className"];function Rb(){return Rb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rb.apply(null,arguments)}function kN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function WY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kN(Object(r),!0).forEach(function(n){XY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XY(e,t,r){return(t=JY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JY(e){var t=QY(e,"string");return typeof t=="symbol"?t:t+""}function QY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eW(e,t){if(e==null)return{};var r,n,a=tW(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function tW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var rW=(e,t,r,n,a,s)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),nW=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:s=0,height:l=0,className:u}=e,d=eW(e,YY),f=WY({x:t,y:r,top:n,left:a,width:s,height:l},d);return!Ce(t)||!Ce(r)||!Ce(s)||!Ce(l)||!Ce(n)||!Ce(a)?null:x.createElement("path",Rb({},gn(f),{className:ft("recharts-cross",u),d:rW(t,r,s,l,n,a)}))};function aW(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function jN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function EN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jN(Object(r),!0).forEach(function(n){iW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iW(e,t,r){return(t=sW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sW(e){var t=oW(e,"string");return typeof t=="symbol"?t:t+""}function oW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lW=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),cW=(e,t,r)=>e.map(n=>"".concat(lW(n)," ").concat(t,"ms ").concat(r)).join(","),uW=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),hu=(e,t)=>Object.keys(t).reduce((r,n)=>EN(EN({},r),{},{[n]:e(n,t[n])}),{});function NN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NN(Object(r),!0).forEach(function(n){dW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dW(e,t,r){return(t=fW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fW(e){var t=hW(e,"string");return typeof t=="symbol"?t:t+""}function hW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lh=(e,t,r)=>e+(t-e)*r,Mb=e=>{var{from:t,to:r}=e;return t!==r},OD=(e,t,r)=>{var n=hu((a,s)=>{if(Mb(s)){var[l,u]=e(s.from,s.to,s.velocity);return Zt(Zt({},s),{},{from:l,velocity:u})}return s},t);return r<1?hu((a,s)=>Mb(s)?Zt(Zt({},s),{},{velocity:Lh(s.velocity,n[a].velocity,r),from:Lh(s.from,n[a].from,r)}):s,t):OD(e,n,r-1)};function mW(e,t,r,n,a,s){var l,u=n.reduce((y,v)=>Zt(Zt({},y),{},{[v]:{from:e[v],velocity:0,to:t[v]}}),{}),d=()=>hu((y,v)=>v.from,u),f=()=>!Object.values(u).filter(Mb).length,p=null,g=y=>{l||(l=y);var v=y-l,w=v/r.dt;u=OD(r,u,w),a(Zt(Zt(Zt({},e),t),d())),l=y,f()||(p=s.setTimeout(g))};return()=>(p=s.setTimeout(g),()=>{var y;(y=p)===null||y===void 0||y()})}function pW(e,t,r,n,a,s,l){var u=null,d=a.reduce((g,y)=>Zt(Zt({},g),{},{[y]:[e[y],t[y]]}),{}),f,p=g=>{f||(f=g);var y=(g-f)/n,v=hu((k,S)=>Lh(...S,r(y)),d);if(s(Zt(Zt(Zt({},e),t),v)),y<1)u=l.setTimeout(p);else{var w=hu((k,S)=>Lh(...S,r(1)),d);s(Zt(Zt(Zt({},e),t),w))}};return()=>(u=l.setTimeout(p),()=>{var g;(g=u)===null||g===void 0||g()})}const gW=(e,t,r,n,a,s)=>{var l=uW(e,t);return r==null?()=>(a(Zt(Zt({},e),t)),()=>{}):r.isStepper===!0?mW(e,t,r,l,a,s):pW(e,t,r,n,l,a,s)};var zh=1e-4,AD=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],TD=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),ON=(e,t)=>r=>{var n=AD(e,t);return TD(n,r)},vW=(e,t)=>r=>{var n=AD(e,t),a=[...n.map((s,l)=>s*l).slice(1),0];return TD(a,r)},yW=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a,s=r[0].split("(");if(s[0]==="cubic-bezier"&&((a=s[1])===null||a===void 0?void 0:a.split(")")[0].split(",").length)===4){var l=s[1].split(")")[0].split(",").map(u=>parseFloat(u));return[l[0],l[1],l[2],l[3]]}}}return r.length===4?r:[0,0,1,1]},bW=(e,t,r,n)=>{var a=ON(e,r),s=ON(t,n),l=vW(e,r),u=f=>f>1?1:f<0?0:f,d=f=>{for(var p=f>1?1:f,g=p,y=0;y<8;++y){var v=a(g)-p,w=l(g);if(Math.abs(v-p)<zh||w<zh)return s(g);g=u(g-v/w)}return s(g)};return d.isStepper=!1,d},AN=function(){return bW(...yW(...arguments))},xW=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,s=(l,u,d)=>{var f=-(l-u)*r,p=d*n,g=d+(f-p)*a/1e3,y=d*a/1e3+l;return Math.abs(y-u)<zh&&Math.abs(g)<zh?[u,0]:[y,g]};return s.isStepper=!0,s.dt=a,s},wW=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return AN(e);case"spring":return xW();default:if(e.split("(")[0]==="cubic-bezier")return AN(e)}return typeof e=="function"?e:null};function _W(e){var t,r=()=>null,n=!1,a=null,s=l=>{if(!n){if(Array.isArray(l)){if(!l.length)return;var u=l,[d,...f]=u;if(typeof d=="number"){a=e.setTimeout(s.bind(null,f),d);return}s(d),a=e.setTimeout(s.bind(null,f));return}typeof l=="string"&&(t=l,r(t)),typeof l=="object"&&(t=l,r(t)),typeof l=="function"&&l()}};return{stop:()=>{n=!0},start:l=>{n=!1,a&&(a(),a=null),s(l)},subscribe:l=>(r=l,()=>{r=()=>null}),getTimeoutController:()=>e}}class SW{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,s=l=>{l-n>=r?t(l):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{a!=null&&cancelAnimationFrame(a)}}}function kW(){return _W(new SW)}var jW=x.createContext(kW);function EW(e,t){var r=x.useContext(jW);return x.useMemo(()=>t??r(e),[e,t,r])}var NW=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Al={devToolsEnabled:!1,isSsr:NW()},OW={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},TN={t:0},ry={t:1};function CD(e){var t=Qr(e,OW),{isActive:r,canBegin:n,duration:a,easing:s,begin:l,onAnimationEnd:u,onAnimationStart:d,children:f}=t,p=r==="auto"?!Al.isSsr:r,g=EW(t.animationId,t.animationManager),[y,v]=x.useState(p?TN:ry),w=x.useRef(null);return x.useEffect(()=>{p||v(ry)},[p]),x.useEffect(()=>{if(!p||!n)return Nu;var k=gW(TN,ry,wW(s),a,v,g.getTimeoutController()),S=()=>{w.current=k()};return g.start([d,l,S,a,u]),()=>{g.stop(),w.current&&w.current(),u()}},[p,n,a,s,l,d,u,g]),f(y.t)}function PD(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=x.useRef(su(t)),n=x.useRef(e);return n.current!==e&&(r.current=su(t),n.current=e),r.current}var AW=["radius"],TW=["radius"];function CN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CN(Object(r),!0).forEach(function(n){CW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CW(e,t,r){return(t=PW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PW(e){var t=DW(e,"string");return typeof t=="symbol"?t:t+""}function DW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uh(){return Uh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uh.apply(null,arguments)}function DN(e,t){if(e==null)return{};var r,n,a=RW(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function RW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var RN=(e,t,r,n,a)=>{var s=Math.min(Math.abs(r)/2,Math.abs(n)/2),l=n>=0?1:-1,u=r>=0?1:-1,d=n>=0&&r>=0||n<0&&r<0?1:0,f;if(s>0&&a instanceof Array){for(var p=[0,0,0,0],g=0,y=4;g<y;g++)p[g]=a[g]>s?s:a[g];f="M".concat(e,",").concat(t+l*p[0]),p[0]>0&&(f+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(d,",").concat(e+u*p[0],",").concat(t)),f+="L ".concat(e+r-u*p[1],",").concat(t),p[1]>0&&(f+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(d,`,
        `).concat(e+r,",").concat(t+l*p[1])),f+="L ".concat(e+r,",").concat(t+n-l*p[2]),p[2]>0&&(f+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(d,`,
        `).concat(e+r-u*p[2],",").concat(t+n)),f+="L ".concat(e+u*p[3],",").concat(t+n),p[3]>0&&(f+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(t+n-l*p[3])),f+="Z"}else if(s>0&&a===+a&&a>0){var v=Math.min(s,a);f="M ".concat(e,",").concat(t+l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(e+u*v,",").concat(t,`
            L `).concat(e+r-u*v,",").concat(t,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(e+r,",").concat(t+l*v,`
            L `).concat(e+r,",").concat(t+n-l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(e+r-u*v,",").concat(t+n,`
            L `).concat(e+u*v,",").concat(t+n,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(e,",").concat(t+n-l*v," Z")}else f="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return f},MN={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},MW=e=>{var t=Qr(e,MN),r=x.useRef(null),[n,a]=x.useState(-1);x.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var F=r.current.getTotalLength();F&&a(F)}catch{}},[]);var{x:s,y:l,width:u,height:d,radius:f,className:p}=t,{animationEasing:g,animationDuration:y,animationBegin:v,isAnimationActive:w,isUpdateAnimationActive:k}=t,S=x.useRef(u),j=x.useRef(d),N=x.useRef(s),E=x.useRef(l),D=x.useMemo(()=>({x:s,y:l,width:u,height:d,radius:f}),[s,l,u,d,f]),O=PD(D,"rectangle-");if(s!==+s||l!==+l||u!==+u||d!==+d||u===0||d===0)return null;var T=ft("recharts-rectangle",p);if(!k){var P=gn(t),{radius:C}=P,R=DN(P,AW);return x.createElement("path",Uh({},R,{radius:typeof f=="number"?f:void 0,className:T,d:RN(s,l,u,d,f)}))}var I=S.current,M=j.current,z=N.current,B=E.current,G="0px ".concat(n===-1?1:n,"px"),ae="".concat(n,"px 0px"),q=cW(["strokeDasharray"],y,typeof g=="string"?g:MN.animationEasing);return x.createElement(CD,{animationId:O,key:O,canBegin:n>0,duration:y,easing:g,isActive:k,begin:v},F=>{var W=ca(I,u,F),J=ca(M,d,F),pe=ca(z,s,F),L=ca(B,l,F);r.current&&(S.current=W,j.current=J,N.current=pe,E.current=L);var K;w?F>0?K={transition:q,strokeDasharray:ae}:K={strokeDasharray:G}:K={strokeDasharray:ae};var U=gn(t),{radius:te}=U,ne=DN(U,TW);return x.createElement("path",Uh({},ne,{radius:typeof f=="number"?f:void 0,className:T,d:RN(pe,L,W,J,f),ref:r,style:PN(PN({},K),t.style)}))})};function $N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function IN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$N(Object(r),!0).forEach(function(n){$W(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$N(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $W(e,t,r){return(t=IW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IW(e){var t=LW(e,"string");return typeof t=="symbol"?t:t+""}function LW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bh=Math.PI/180,zW=e=>e*180/Math.PI,pr=(e,t,r,n)=>({x:e+Math.cos(-Bh*n)*r,y:t+Math.sin(-Bh*n)*r}),UW=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},BW=(e,t)=>{var{x:r,y:n}=e,{x:a,y:s}=t;return Math.sqrt((r-a)**2+(n-s)**2)},qW=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:s}=t,l=BW({x:r,y:n},{x:a,y:s});if(l<=0)return{radius:l,angle:0};var u=(r-a)/l,d=Math.acos(u);return n>s&&(d=2*Math.PI-d),{radius:l,angle:zW(d),angleInRadian:d}},HW=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),s=Math.min(n,a);return{startAngle:t-s*360,endAngle:r-s*360}},FW=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),s=Math.floor(n/360),l=Math.min(a,s);return e+l*360},VW=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:s}=qW({x:r,y:n},t),{innerRadius:l,outerRadius:u}=t;if(a<l||a>u||a===0)return null;var{startAngle:d,endAngle:f}=HW(t),p=s,g;if(d<=f){for(;p>f;)p-=360;for(;p<d;)p+=360;g=p>=d&&p<=f}else{for(;p>d;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=d}return g?IN(IN({},t),{},{radius:a,angle:FW(p,t)}):null};function DD(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:s}=e,l=pr(t,r,n,a),u=pr(t,r,n,s);return{points:[l,u],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function $b(){return $b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$b.apply(null,arguments)}var KW=(e,t)=>{var r=Pn(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},If=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:s,isExternal:l,cornerRadius:u,cornerIsExternal:d}=e,f=u*(l?1:-1)+n,p=Math.asin(u/f)/Bh,g=d?a:a+s*p,y=pr(t,r,f,g),v=pr(t,r,n,g),w=d?a-s*p:a,k=pr(t,r,f*Math.cos(p*Bh),w);return{center:y,circleTangency:v,lineTangency:k,theta:p}},RD=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:s,endAngle:l}=e,u=KW(s,l),d=s+u,f=pr(t,r,a,s),p=pr(t,r,a,d),g="M ".concat(f.x,",").concat(f.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(s>d),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(n>0){var y=pr(t,r,n,s),v=pr(t,r,n,d);g+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(s<=d),`,
            `).concat(y.x,",").concat(y.y," Z")}else g+="L ".concat(t,",").concat(r," Z");return g},ZW=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}=e,p=Pn(f-d),{circleTangency:g,lineTangency:y,theta:v}=If({cx:t,cy:r,radius:a,angle:d,sign:p,cornerRadius:s,cornerIsExternal:u}),{circleTangency:w,lineTangency:k,theta:S}=If({cx:t,cy:r,radius:a,angle:f,sign:-p,cornerRadius:s,cornerIsExternal:u}),j=u?Math.abs(d-f):Math.abs(d-f)-v-S;if(j<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):RD({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:d,endAngle:f});var N="M ".concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(j>180),",").concat(+(p<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(k.x,",").concat(k.y,`
  `);if(n>0){var{circleTangency:E,lineTangency:D,theta:O}=If({cx:t,cy:r,radius:n,angle:d,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),{circleTangency:T,lineTangency:P,theta:C}=If({cx:t,cy:r,radius:n,angle:f,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),R=u?Math.abs(d-f):Math.abs(d-f)-O-C;if(R<0&&s===0)return"".concat(N,"L").concat(t,",").concat(r,"Z");N+="L".concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(R>180),",").concat(+(p>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(D.x,",").concat(D.y,"Z")}else N+="L".concat(t,",").concat(r,"Z");return N},GW={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},YW=e=>{var t=Qr(e,GW),{cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:d,startAngle:f,endAngle:p,className:g}=t;if(s<a||f===p)return null;var y=ft("recharts-sector",g),v=s-a,w=Yi(l,v,0,!0),k;return w>0&&Math.abs(f-p)<360?k=ZW({cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:Math.min(w,v/2),forceCornerRadius:u,cornerIsExternal:d,startAngle:f,endAngle:p}):k=RD({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:f,endAngle:p}),x.createElement("path",$b({},gn(t),{className:y,d:k}))};function WW(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(yP(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:s,outerRadius:l,angle:u}=t,d=pr(n,a,s,u),f=pr(n,a,l,u);return[{x:d.x,y:d.y},{x:f.x,y:f.y}]}return DD(t)}}var ny={},ay={},iy={},LN;function XW(){return LN||(LN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AP();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(iy)),iy}var zN;function JW(){return zN||(zN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XW();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(ay)),ay}var UN;function QW(){return UN||(UN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TP(),r=JW();function n(a,s,l){l&&typeof l!="number"&&t.isIterateeCall(a,s,l)&&(s=l=void 0),a=r.toFinite(a),s===void 0?(s=a,a=0):s=r.toFinite(s),l=l===void 0?a<s?1:-1:r.toFinite(l);const u=Math.max(Math.ceil((s-a)/(l||1)),0),d=new Array(u);for(let f=0;f<u;f++)d[f]=a,a+=l;return d}e.range=n})(ny)),ny}var sy,BN;function eX(){return BN||(BN=1,sy=QW().range),sy}var tX=eX();const MD=va(tX);function Gi(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function rX(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function rw(e){let t,r,n;e.length!==2?(t=Gi,r=(u,d)=>Gi(e(u),d),n=(u,d)=>e(u)-d):(t=e===Gi||e===rX?e:nX,r=e,n=e);function a(u,d,f=0,p=u.length){if(f<p){if(t(d,d)!==0)return p;do{const g=f+p>>>1;r(u[g],d)<0?f=g+1:p=g}while(f<p)}return f}function s(u,d,f=0,p=u.length){if(f<p){if(t(d,d)!==0)return p;do{const g=f+p>>>1;r(u[g],d)<=0?f=g+1:p=g}while(f<p)}return f}function l(u,d,f=0,p=u.length){const g=a(u,d,f,p-1);return g>f&&n(u[g-1],d)>-n(u[g],d)?g-1:g}return{left:a,center:l,right:s}}function nX(){return 0}function $D(e){return e===null?NaN:+e}function*aX(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const iX=rw(Gi),Mu=iX.right;rw($D).center;class qN extends Map{constructor(t,r=lX){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(HN(this,t))}has(t){return super.has(HN(this,t))}set(t,r){return super.set(sX(this,t),r)}delete(t){return super.delete(oX(this,t))}}function HN({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function sX({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function oX({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function lX(e){return e!==null&&typeof e=="object"?e.valueOf():e}function cX(e=Gi){if(e===Gi)return ID;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function ID(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const uX=Math.sqrt(50),dX=Math.sqrt(10),fX=Math.sqrt(2);function qh(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),l=s>=uX?10:s>=dX?5:s>=fX?2:1;let u,d,f;return a<0?(f=Math.pow(10,-a)/l,u=Math.round(e*f),d=Math.round(t*f),u/f<e&&++u,d/f>t&&--d,f=-f):(f=Math.pow(10,a)*l,u=Math.round(e/f),d=Math.round(t/f),u*f<e&&++u,d*f>t&&--d),d<u&&.5<=r&&r<2?qh(e,t,r*2):[u,d,f]}function Ib(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,l]=n?qh(t,e,r):qh(e,t,r);if(!(s>=a))return[];const u=s-a+1,d=new Array(u);if(n)if(l<0)for(let f=0;f<u;++f)d[f]=(s-f)/-l;else for(let f=0;f<u;++f)d[f]=(s-f)*l;else if(l<0)for(let f=0;f<u;++f)d[f]=(a+f)/-l;else for(let f=0;f<u;++f)d[f]=(a+f)*l;return d}function Lb(e,t,r){return t=+t,e=+e,r=+r,qh(e,t,r)[2]}function zb(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Lb(t,e,r):Lb(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function FN(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function VN(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function LD(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?ID:cX(a);n>r;){if(n-r>600){const d=n-r+1,f=t-r+1,p=Math.log(d),g=.5*Math.exp(2*p/3),y=.5*Math.sqrt(p*g*(d-g)/d)*(f-d/2<0?-1:1),v=Math.max(r,Math.floor(t-f*g/d+y)),w=Math.min(n,Math.floor(t+(d-f)*g/d+y));LD(e,t,v,w,a)}const s=e[t];let l=r,u=n;for($c(e,r,t),a(e[n],s)>0&&$c(e,r,n);l<u;){for($c(e,l,u),++l,--u;a(e[l],s)<0;)++l;for(;a(e[u],s)>0;)--u}a(e[r],s)===0?$c(e,r,u):(++u,$c(e,u,n)),u<=t&&(r=u+1),t<=u&&(n=u-1)}return e}function $c(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function hX(e,t,r){if(e=Float64Array.from(aX(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return VN(e);if(t>=1)return FN(e);var n,a=(n-1)*t,s=Math.floor(a),l=FN(LD(e,s).subarray(0,s+1)),u=VN(e.subarray(s+1));return l+(u-l)*(a-s)}}function mX(e,t,r=$D){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),l=+r(e[s],s,e),u=+r(e[s+1],s+1,e);return l+(u-l)*(a-s)}}function pX(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function Bn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function di(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Ub=Symbol("implicit");function nw(){var e=new qN,t=[],r=[],n=Ub;function a(s){let l=e.get(s);if(l===void 0){if(n!==Ub)return n;e.set(s,l=t.push(s)-1)}return r[l%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new qN;for(const l of s)e.has(l)||e.set(l,t.push(l)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return nw(t,r).unknown(n)},Bn.apply(a,arguments),a}function aw(){var e=nw().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,l,u=!1,d=0,f=0,p=.5;delete e.unknown;function g(){var y=t().length,v=a<n,w=v?a:n,k=v?n:a;s=(k-w)/Math.max(1,y-d+f*2),u&&(s=Math.floor(s)),w+=(k-w-s*(y-d))*p,l=s*(1-d),u&&(w=Math.round(w),l=Math.round(l));var S=pX(y).map(function(j){return w+s*j});return r(v?S.reverse():S)}return e.domain=function(y){return arguments.length?(t(y),g()):t()},e.range=function(y){return arguments.length?([n,a]=y,n=+n,a=+a,g()):[n,a]},e.rangeRound=function(y){return[n,a]=y,n=+n,a=+a,u=!0,g()},e.bandwidth=function(){return l},e.step=function(){return s},e.round=function(y){return arguments.length?(u=!!y,g()):u},e.padding=function(y){return arguments.length?(d=Math.min(1,f=+y),g()):d},e.paddingInner=function(y){return arguments.length?(d=Math.min(1,y),g()):d},e.paddingOuter=function(y){return arguments.length?(f=+y,g()):f},e.align=function(y){return arguments.length?(p=Math.max(0,Math.min(1,y)),g()):p},e.copy=function(){return aw(t(),[n,a]).round(u).paddingInner(d).paddingOuter(f).align(p)},Bn.apply(g(),arguments)}function zD(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return zD(t())},e}function gX(){return zD(aw.apply(null,arguments).paddingInner(1))}function iw(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function UD(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function $u(){}var mu=.7,Hh=1/mu,fl="\\s*([+-]?\\d+)\\s*",pu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ha="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",vX=/^#([0-9a-f]{3,8})$/,yX=new RegExp(`^rgb\\(${fl},${fl},${fl}\\)$`),bX=new RegExp(`^rgb\\(${ha},${ha},${ha}\\)$`),xX=new RegExp(`^rgba\\(${fl},${fl},${fl},${pu}\\)$`),wX=new RegExp(`^rgba\\(${ha},${ha},${ha},${pu}\\)$`),_X=new RegExp(`^hsl\\(${pu},${ha},${ha}\\)$`),SX=new RegExp(`^hsla\\(${pu},${ha},${ha},${pu}\\)$`),KN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};iw($u,gu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ZN,formatHex:ZN,formatHex8:kX,formatHsl:jX,formatRgb:GN,toString:GN});function ZN(){return this.rgb().formatHex()}function kX(){return this.rgb().formatHex8()}function jX(){return BD(this).formatHsl()}function GN(){return this.rgb().formatRgb()}function gu(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=vX.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?YN(t):r===3?new Xr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Lf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Lf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=yX.exec(e))?new Xr(t[1],t[2],t[3],1):(t=bX.exec(e))?new Xr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=xX.exec(e))?Lf(t[1],t[2],t[3],t[4]):(t=wX.exec(e))?Lf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=_X.exec(e))?JN(t[1],t[2]/100,t[3]/100,1):(t=SX.exec(e))?JN(t[1],t[2]/100,t[3]/100,t[4]):KN.hasOwnProperty(e)?YN(KN[e]):e==="transparent"?new Xr(NaN,NaN,NaN,0):null}function YN(e){return new Xr(e>>16&255,e>>8&255,e&255,1)}function Lf(e,t,r,n){return n<=0&&(e=t=r=NaN),new Xr(e,t,r,n)}function EX(e){return e instanceof $u||(e=gu(e)),e?(e=e.rgb(),new Xr(e.r,e.g,e.b,e.opacity)):new Xr}function Bb(e,t,r,n){return arguments.length===1?EX(e):new Xr(e,t,r,n??1)}function Xr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}iw(Xr,Bb,UD($u,{brighter(e){return e=e==null?Hh:Math.pow(Hh,e),new Xr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?mu:Math.pow(mu,e),new Xr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Xr(zs(this.r),zs(this.g),zs(this.b),Fh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:WN,formatHex:WN,formatHex8:NX,formatRgb:XN,toString:XN}));function WN(){return`#${Ms(this.r)}${Ms(this.g)}${Ms(this.b)}`}function NX(){return`#${Ms(this.r)}${Ms(this.g)}${Ms(this.b)}${Ms((isNaN(this.opacity)?1:this.opacity)*255)}`}function XN(){const e=Fh(this.opacity);return`${e===1?"rgb(":"rgba("}${zs(this.r)}, ${zs(this.g)}, ${zs(this.b)}${e===1?")":`, ${e})`}`}function Fh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function zs(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ms(e){return e=zs(e),(e<16?"0":"")+e.toString(16)}function JN(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Wn(e,t,r,n)}function BD(e){if(e instanceof Wn)return new Wn(e.h,e.s,e.l,e.opacity);if(e instanceof $u||(e=gu(e)),!e)return new Wn;if(e instanceof Wn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),l=NaN,u=s-a,d=(s+a)/2;return u?(t===s?l=(r-n)/u+(r<n)*6:r===s?l=(n-t)/u+2:l=(t-r)/u+4,u/=d<.5?s+a:2-s-a,l*=60):u=d>0&&d<1?0:l,new Wn(l,u,d,e.opacity)}function OX(e,t,r,n){return arguments.length===1?BD(e):new Wn(e,t,r,n??1)}function Wn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}iw(Wn,OX,UD($u,{brighter(e){return e=e==null?Hh:Math.pow(Hh,e),new Wn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?mu:Math.pow(mu,e),new Wn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Xr(oy(e>=240?e-240:e+120,a,n),oy(e,a,n),oy(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Wn(QN(this.h),zf(this.s),zf(this.l),Fh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Fh(this.opacity);return`${e===1?"hsl(":"hsla("}${QN(this.h)}, ${zf(this.s)*100}%, ${zf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function QN(e){return e=(e||0)%360,e<0?e+360:e}function zf(e){return Math.max(0,Math.min(1,e||0))}function oy(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const sw=e=>()=>e;function AX(e,t){return function(r){return e+r*t}}function TX(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function CX(e){return(e=+e)==1?qD:function(t,r){return r-t?TX(t,r,e):sw(isNaN(t)?r:t)}}function qD(e,t){var r=t-e;return r?AX(e,r):sw(isNaN(e)?t:e)}const eO=(function e(t){var r=CX(t);function n(a,s){var l=r((a=Bb(a)).r,(s=Bb(s)).r),u=r(a.g,s.g),d=r(a.b,s.b),f=qD(a.opacity,s.opacity);return function(p){return a.r=l(p),a.g=u(p),a.b=d(p),a.opacity=f(p),a+""}}return n.gamma=e,n})(1);function PX(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function DX(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function RX(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),l;for(l=0;l<n;++l)a[l]=Tl(e[l],t[l]);for(;l<r;++l)s[l]=t[l];return function(u){for(l=0;l<n;++l)s[l]=a[l](u);return s}}function MX(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Vh(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function $X(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Tl(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var qb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ly=new RegExp(qb.source,"g");function IX(e){return function(){return e}}function LX(e){return function(t){return e(t)+""}}function zX(e,t){var r=qb.lastIndex=ly.lastIndex=0,n,a,s,l=-1,u=[],d=[];for(e=e+"",t=t+"";(n=qb.exec(e))&&(a=ly.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),u[l]?u[l]+=s:u[++l]=s),(n=n[0])===(a=a[0])?u[l]?u[l]+=a:u[++l]=a:(u[++l]=null,d.push({i:l,x:Vh(n,a)})),r=ly.lastIndex;return r<t.length&&(s=t.slice(r),u[l]?u[l]+=s:u[++l]=s),u.length<2?d[0]?LX(d[0].x):IX(t):(t=d.length,function(f){for(var p=0,g;p<t;++p)u[(g=d[p]).i]=g.x(f);return u.join("")})}function Tl(e,t){var r=typeof t,n;return t==null||r==="boolean"?sw(t):(r==="number"?Vh:r==="string"?(n=gu(t))?(t=n,eO):zX:t instanceof gu?eO:t instanceof Date?MX:DX(t)?PX:Array.isArray(t)?RX:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?$X:Vh)(e,t)}function ow(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function UX(e,t){t===void 0&&(t=e,e=Tl);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(l){var u=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return s[u](l-u)}}function BX(e){return function(){return e}}function Kh(e){return+e}var tO=[0,1];function Dr(e){return e}function Hb(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:BX(isNaN(t)?NaN:.5)}function qX(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function HX(e,t,r){var n=e[0],a=e[1],s=t[0],l=t[1];return a<n?(n=Hb(a,n),s=r(l,s)):(n=Hb(n,a),s=r(s,l)),function(u){return s(n(u))}}function FX(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),l=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<n;)a[l]=Hb(e[l],e[l+1]),s[l]=r(t[l],t[l+1]);return function(u){var d=Mu(e,u,1,n)-1;return s[d](a[d](u))}}function Iu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function J0(){var e=tO,t=tO,r=Tl,n,a,s,l=Dr,u,d,f;function p(){var y=Math.min(e.length,t.length);return l!==Dr&&(l=qX(e[0],e[y-1])),u=y>2?FX:HX,d=f=null,g}function g(y){return y==null||isNaN(y=+y)?s:(d||(d=u(e.map(n),t,r)))(n(l(y)))}return g.invert=function(y){return l(a((f||(f=u(t,e.map(n),Vh)))(y)))},g.domain=function(y){return arguments.length?(e=Array.from(y,Kh),p()):e.slice()},g.range=function(y){return arguments.length?(t=Array.from(y),p()):t.slice()},g.rangeRound=function(y){return t=Array.from(y),r=ow,p()},g.clamp=function(y){return arguments.length?(l=y?!0:Dr,p()):l!==Dr},g.interpolate=function(y){return arguments.length?(r=y,p()):r},g.unknown=function(y){return arguments.length?(s=y,g):s},function(y,v){return n=y,a=v,p()}}function lw(){return J0()(Dr,Dr)}function VX(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Zh(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function xl(e){return e=Zh(Math.abs(e)),e?e[1]:NaN}function KX(e,t){return function(r,n){for(var a=r.length,s=[],l=0,u=e[0],d=0;a>0&&u>0&&(d+u+1>n&&(u=Math.max(1,n-d)),s.push(r.substring(a-=u,a+u)),!((d+=u+1)>n));)u=e[l=(l+1)%e.length];return s.reverse().join(t)}}function ZX(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var GX=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function vu(e){if(!(t=GX.exec(e)))throw new Error("invalid format: "+e);var t;return new cw({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}vu.prototype=cw.prototype;function cw(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}cw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function YX(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var HD;function WX(e,t){var r=Zh(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(HD=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=n.length;return s===l?n:s>l?n+new Array(s-l+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Zh(e,Math.max(0,t+s-1))[0]}function rO(e,t){var r=Zh(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const nO={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:VX,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>rO(e*100,t),r:rO,s:WX,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function aO(e){return e}var iO=Array.prototype.map,sO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function XX(e){var t=e.grouping===void 0||e.thousands===void 0?aO:KX(iO.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?aO:ZX(iO.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function f(g){g=vu(g);var y=g.fill,v=g.align,w=g.sign,k=g.symbol,S=g.zero,j=g.width,N=g.comma,E=g.precision,D=g.trim,O=g.type;O==="n"?(N=!0,O="g"):nO[O]||(E===void 0&&(E=12),D=!0,O="g"),(S||y==="0"&&v==="=")&&(S=!0,y="0",v="=");var T=k==="$"?r:k==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",P=k==="$"?n:/[%p]/.test(O)?l:"",C=nO[O],R=/[defgprs%]/.test(O);E=E===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function I(M){var z=T,B=P,G,ae,q;if(O==="c")B=C(M)+B,M="";else{M=+M;var F=M<0||1/M<0;if(M=isNaN(M)?d:C(Math.abs(M),E),D&&(M=YX(M)),F&&+M==0&&w!=="+"&&(F=!1),z=(F?w==="("?w:u:w==="-"||w==="("?"":w)+z,B=(O==="s"?sO[8+HD/3]:"")+B+(F&&w==="("?")":""),R){for(G=-1,ae=M.length;++G<ae;)if(q=M.charCodeAt(G),48>q||q>57){B=(q===46?a+M.slice(G+1):M.slice(G))+B,M=M.slice(0,G);break}}}N&&!S&&(M=t(M,1/0));var W=z.length+M.length+B.length,J=W<j?new Array(j-W+1).join(y):"";switch(N&&S&&(M=t(J+M,J.length?j-B.length:1/0),J=""),v){case"<":M=z+M+B+J;break;case"=":M=z+J+M+B;break;case"^":M=J.slice(0,W=J.length>>1)+z+M+B+J.slice(W);break;default:M=J+z+M+B;break}return s(M)}return I.toString=function(){return g+""},I}function p(g,y){var v=f((g=vu(g),g.type="f",g)),w=Math.max(-8,Math.min(8,Math.floor(xl(y)/3)))*3,k=Math.pow(10,-w),S=sO[8+w/3];return function(j){return v(k*j)+S}}return{format:f,formatPrefix:p}}var Uf,uw,FD;JX({thousands:",",grouping:[3],currency:["$",""]});function JX(e){return Uf=XX(e),uw=Uf.format,FD=Uf.formatPrefix,Uf}function QX(e){return Math.max(0,-xl(Math.abs(e)))}function eJ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(xl(t)/3)))*3-xl(Math.abs(e)))}function tJ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,xl(t)-xl(e))+1}function VD(e,t,r,n){var a=zb(e,t,r),s;switch(n=vu(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=eJ(a,l))&&(n.precision=s),FD(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=tJ(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=QX(a))&&(n.precision=s-(n.type==="%")*2);break}}return uw(n)}function es(e){var t=e.domain;return e.ticks=function(r){var n=t();return Ib(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return VD(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,l=n[a],u=n[s],d,f,p=10;for(u<l&&(f=l,l=u,u=f,f=a,a=s,s=f);p-- >0;){if(f=Lb(l,u,r),f===d)return n[a]=l,n[s]=u,t(n);if(f>0)l=Math.floor(l/f)*f,u=Math.ceil(u/f)*f;else if(f<0)l=Math.ceil(l*f)/f,u=Math.floor(u*f)/f;else break;d=f}return e},e}function KD(){var e=lw();return e.copy=function(){return Iu(e,KD())},Bn.apply(e,arguments),es(e)}function ZD(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Kh),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return ZD(e).unknown(t)},e=arguments.length?Array.from(e,Kh):[0,1],es(r)}function GD(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],l;return s<a&&(l=r,r=n,n=l,l=a,a=s,s=l),e[r]=t.floor(a),e[n]=t.ceil(s),e}function oO(e){return Math.log(e)}function lO(e){return Math.exp(e)}function rJ(e){return-Math.log(-e)}function nJ(e){return-Math.exp(-e)}function aJ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function iJ(e){return e===10?aJ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function sJ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function cO(e){return(t,r)=>-e(-t,r)}function dw(e){const t=e(oO,lO),r=t.domain;let n=10,a,s;function l(){return a=sJ(n),s=iJ(n),r()[0]<0?(a=cO(a),s=cO(s),e(rJ,nJ)):e(oO,lO),t}return t.base=function(u){return arguments.length?(n=+u,l()):n},t.domain=function(u){return arguments.length?(r(u),l()):r()},t.ticks=u=>{const d=r();let f=d[0],p=d[d.length-1];const g=p<f;g&&([f,p]=[p,f]);let y=a(f),v=a(p),w,k;const S=u==null?10:+u;let j=[];if(!(n%1)&&v-y<S){if(y=Math.floor(y),v=Math.ceil(v),f>0){for(;y<=v;++y)for(w=1;w<n;++w)if(k=y<0?w/s(-y):w*s(y),!(k<f)){if(k>p)break;j.push(k)}}else for(;y<=v;++y)for(w=n-1;w>=1;--w)if(k=y>0?w/s(-y):w*s(y),!(k<f)){if(k>p)break;j.push(k)}j.length*2<S&&(j=Ib(f,p,S))}else j=Ib(y,v,Math.min(v-y,S)).map(s);return g?j.reverse():j},t.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=vu(d)).precision==null&&(d.trim=!0),d=uw(d)),u===1/0)return d;const f=Math.max(1,n*u/t.ticks().length);return p=>{let g=p/s(Math.round(a(p)));return g*n<n-.5&&(g*=n),g<=f?d(p):""}},t.nice=()=>r(GD(r(),{floor:u=>s(Math.floor(a(u))),ceil:u=>s(Math.ceil(a(u)))})),t}function YD(){const e=dw(J0()).domain([1,10]);return e.copy=()=>Iu(e,YD()).base(e.base()),Bn.apply(e,arguments),e}function uO(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function dO(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function fw(e){var t=1,r=e(uO(t),dO(t));return r.constant=function(n){return arguments.length?e(uO(t=+n),dO(t)):t},es(r)}function WD(){var e=fw(J0());return e.copy=function(){return Iu(e,WD()).constant(e.constant())},Bn.apply(e,arguments)}function fO(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function oJ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function lJ(e){return e<0?-e*e:e*e}function hw(e){var t=e(Dr,Dr),r=1;function n(){return r===1?e(Dr,Dr):r===.5?e(oJ,lJ):e(fO(r),fO(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},es(t)}function mw(){var e=hw(J0());return e.copy=function(){return Iu(e,mw()).exponent(e.exponent())},Bn.apply(e,arguments),e}function cJ(){return mw.apply(null,arguments).exponent(.5)}function hO(e){return Math.sign(e)*e*e}function uJ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function XD(){var e=lw(),t=[0,1],r=!1,n;function a(s){var l=uJ(e(s));return isNaN(l)?n:r?Math.round(l):l}return a.invert=function(s){return e.invert(hO(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,Kh)).map(hO)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return XD(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Bn.apply(a,arguments),es(a)}function JD(){var e=[],t=[],r=[],n;function a(){var l=0,u=Math.max(1,t.length);for(r=new Array(u-1);++l<u;)r[l-1]=mX(e,l/u);return s}function s(l){return l==null||isNaN(l=+l)?n:t[Mu(r,l)]}return s.invertExtent=function(l){var u=t.indexOf(l);return u<0?[NaN,NaN]:[u>0?r[u-1]:e[0],u<r.length?r[u]:e[e.length-1]]},s.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let u of l)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Gi),a()},s.range=function(l){return arguments.length?(t=Array.from(l),a()):t.slice()},s.unknown=function(l){return arguments.length?(n=l,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return JD().domain(e).range(t).unknown(n)},Bn.apply(s,arguments)}function QD(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function l(d){return d!=null&&d<=d?a[Mu(n,d,0,r)]:s}function u(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*t-(d-r)*e)/(r+1);return l}return l.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,u()):[e,t]},l.range=function(d){return arguments.length?(r=(a=Array.from(d)).length-1,u()):a.slice()},l.invertExtent=function(d){var f=a.indexOf(d);return f<0?[NaN,NaN]:f<1?[e,n[0]]:f>=r?[n[r-1],t]:[n[f-1],n[f]]},l.unknown=function(d){return arguments.length&&(s=d),l},l.thresholds=function(){return n.slice()},l.copy=function(){return QD().domain([e,t]).range(a).unknown(s)},Bn.apply(es(l),arguments)}function e4(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[Mu(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var l=t.indexOf(s);return[e[l-1],e[l]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return e4().domain(e).range(t).unknown(r)},Bn.apply(a,arguments)}const cy=new Date,uy=new Date;function Yt(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const l=a(s),u=a.ceil(s);return s-l<u-s?l:u},a.offset=(s,l)=>(t(s=new Date(+s),l==null?1:Math.floor(l)),s),a.range=(s,l,u)=>{const d=[];if(s=a.ceil(s),u=u==null?1:Math.floor(u),!(s<l)||!(u>0))return d;let f;do d.push(f=new Date(+s)),t(s,u),e(s);while(f<s&&s<l);return d},a.filter=s=>Yt(l=>{if(l>=l)for(;e(l),!s(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!s(l););else for(;--u>=0;)for(;t(l,1),!s(l););}),r&&(a.count=(s,l)=>(cy.setTime(+s),uy.setTime(+l),e(cy),e(uy),Math.floor(r(cy,uy))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?l=>n(l)%s===0:l=>a.count(0,l)%s===0):a)),a}const Gh=Yt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Gh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Yt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Gh);Gh.range;const Ka=1e3,Dn=Ka*60,Za=Dn*60,ri=Za*24,pw=ri*7,mO=ri*30,dy=ri*365,$s=Yt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ka)},(e,t)=>(t-e)/Ka,e=>e.getUTCSeconds());$s.range;const gw=Yt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ka)},(e,t)=>{e.setTime(+e+t*Dn)},(e,t)=>(t-e)/Dn,e=>e.getMinutes());gw.range;const vw=Yt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Dn)},(e,t)=>(t-e)/Dn,e=>e.getUTCMinutes());vw.range;const yw=Yt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ka-e.getMinutes()*Dn)},(e,t)=>{e.setTime(+e+t*Za)},(e,t)=>(t-e)/Za,e=>e.getHours());yw.range;const bw=Yt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Za)},(e,t)=>(t-e)/Za,e=>e.getUTCHours());bw.range;const Lu=Yt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Dn)/ri,e=>e.getDate()-1);Lu.range;const Q0=Yt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ri,e=>e.getUTCDate()-1);Q0.range;const t4=Yt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ri,e=>Math.floor(e/ri));t4.range;function io(e){return Yt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Dn)/pw)}const em=io(0),Yh=io(1),dJ=io(2),fJ=io(3),wl=io(4),hJ=io(5),mJ=io(6);em.range;Yh.range;dJ.range;fJ.range;wl.range;hJ.range;mJ.range;function so(e){return Yt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/pw)}const tm=so(0),Wh=so(1),pJ=so(2),gJ=so(3),_l=so(4),vJ=so(5),yJ=so(6);tm.range;Wh.range;pJ.range;gJ.range;_l.range;vJ.range;yJ.range;const xw=Yt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());xw.range;const ww=Yt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());ww.range;const ni=Yt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ni.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Yt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});ni.range;const ai=Yt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ai.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Yt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ai.range;function r4(e,t,r,n,a,s){const l=[[$s,1,Ka],[$s,5,5*Ka],[$s,15,15*Ka],[$s,30,30*Ka],[s,1,Dn],[s,5,5*Dn],[s,15,15*Dn],[s,30,30*Dn],[a,1,Za],[a,3,3*Za],[a,6,6*Za],[a,12,12*Za],[n,1,ri],[n,2,2*ri],[r,1,pw],[t,1,mO],[t,3,3*mO],[e,1,dy]];function u(f,p,g){const y=p<f;y&&([f,p]=[p,f]);const v=g&&typeof g.range=="function"?g:d(f,p,g),w=v?v.range(f,+p+1):[];return y?w.reverse():w}function d(f,p,g){const y=Math.abs(p-f)/g,v=rw(([,,S])=>S).right(l,y);if(v===l.length)return e.every(zb(f/dy,p/dy,g));if(v===0)return Gh.every(Math.max(zb(f,p,g),1));const[w,k]=l[y/l[v-1][2]<l[v][2]/y?v-1:v];return w.every(k)}return[u,d]}const[bJ,xJ]=r4(ai,ww,tm,t4,bw,vw),[wJ,_J]=r4(ni,xw,em,Lu,yw,gw);function fy(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function hy(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ic(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function SJ(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,l=e.shortDays,u=e.months,d=e.shortMonths,f=Lc(a),p=zc(a),g=Lc(s),y=zc(s),v=Lc(l),w=zc(l),k=Lc(u),S=zc(u),j=Lc(d),N=zc(d),E={a:F,A:W,b:J,B:pe,c:null,d:xO,e:xO,f:KJ,g:rQ,G:aQ,H:HJ,I:FJ,j:VJ,L:n4,m:ZJ,M:GJ,p:L,q:K,Q:SO,s:kO,S:YJ,u:WJ,U:XJ,V:JJ,w:QJ,W:eQ,x:null,X:null,y:tQ,Y:nQ,Z:iQ,"%":_O},D={a:U,A:te,b:ne,B:de,c:null,d:wO,e:wO,f:cQ,g:bQ,G:wQ,H:sQ,I:oQ,j:lQ,L:i4,m:uQ,M:dQ,p:ve,q:be,Q:SO,s:kO,S:fQ,u:hQ,U:mQ,V:pQ,w:gQ,W:vQ,x:null,X:null,y:yQ,Y:xQ,Z:_Q,"%":_O},O={a:I,A:M,b:z,B,c:G,d:yO,e:yO,f:zJ,g:vO,G:gO,H:bO,I:bO,j:MJ,L:LJ,m:RJ,M:$J,p:R,q:DJ,Q:BJ,s:qJ,S:IJ,u:OJ,U:AJ,V:TJ,w:NJ,W:CJ,x:ae,X:q,y:vO,Y:gO,Z:PJ,"%":UJ};E.x=T(r,E),E.X=T(n,E),E.c=T(t,E),D.x=T(r,D),D.X=T(n,D),D.c=T(t,D);function T(Z,ce){return function(ye){var ie=[],xe=-1,X=0,me=Z.length,ge,ke,Oe;for(ye instanceof Date||(ye=new Date(+ye));++xe<me;)Z.charCodeAt(xe)===37&&(ie.push(Z.slice(X,xe)),(ke=pO[ge=Z.charAt(++xe)])!=null?ge=Z.charAt(++xe):ke=ge==="e"?" ":"0",(Oe=ce[ge])&&(ge=Oe(ye,ke)),ie.push(ge),X=xe+1);return ie.push(Z.slice(X,xe)),ie.join("")}}function P(Z,ce){return function(ye){var ie=Ic(1900,void 0,1),xe=C(ie,Z,ye+="",0),X,me;if(xe!=ye.length)return null;if("Q"in ie)return new Date(ie.Q);if("s"in ie)return new Date(ie.s*1e3+("L"in ie?ie.L:0));if(ce&&!("Z"in ie)&&(ie.Z=0),"p"in ie&&(ie.H=ie.H%12+ie.p*12),ie.m===void 0&&(ie.m="q"in ie?ie.q:0),"V"in ie){if(ie.V<1||ie.V>53)return null;"w"in ie||(ie.w=1),"Z"in ie?(X=hy(Ic(ie.y,0,1)),me=X.getUTCDay(),X=me>4||me===0?Wh.ceil(X):Wh(X),X=Q0.offset(X,(ie.V-1)*7),ie.y=X.getUTCFullYear(),ie.m=X.getUTCMonth(),ie.d=X.getUTCDate()+(ie.w+6)%7):(X=fy(Ic(ie.y,0,1)),me=X.getDay(),X=me>4||me===0?Yh.ceil(X):Yh(X),X=Lu.offset(X,(ie.V-1)*7),ie.y=X.getFullYear(),ie.m=X.getMonth(),ie.d=X.getDate()+(ie.w+6)%7)}else("W"in ie||"U"in ie)&&("w"in ie||(ie.w="u"in ie?ie.u%7:"W"in ie?1:0),me="Z"in ie?hy(Ic(ie.y,0,1)).getUTCDay():fy(Ic(ie.y,0,1)).getDay(),ie.m=0,ie.d="W"in ie?(ie.w+6)%7+ie.W*7-(me+5)%7:ie.w+ie.U*7-(me+6)%7);return"Z"in ie?(ie.H+=ie.Z/100|0,ie.M+=ie.Z%100,hy(ie)):fy(ie)}}function C(Z,ce,ye,ie){for(var xe=0,X=ce.length,me=ye.length,ge,ke;xe<X;){if(ie>=me)return-1;if(ge=ce.charCodeAt(xe++),ge===37){if(ge=ce.charAt(xe++),ke=O[ge in pO?ce.charAt(xe++):ge],!ke||(ie=ke(Z,ye,ie))<0)return-1}else if(ge!=ye.charCodeAt(ie++))return-1}return ie}function R(Z,ce,ye){var ie=f.exec(ce.slice(ye));return ie?(Z.p=p.get(ie[0].toLowerCase()),ye+ie[0].length):-1}function I(Z,ce,ye){var ie=v.exec(ce.slice(ye));return ie?(Z.w=w.get(ie[0].toLowerCase()),ye+ie[0].length):-1}function M(Z,ce,ye){var ie=g.exec(ce.slice(ye));return ie?(Z.w=y.get(ie[0].toLowerCase()),ye+ie[0].length):-1}function z(Z,ce,ye){var ie=j.exec(ce.slice(ye));return ie?(Z.m=N.get(ie[0].toLowerCase()),ye+ie[0].length):-1}function B(Z,ce,ye){var ie=k.exec(ce.slice(ye));return ie?(Z.m=S.get(ie[0].toLowerCase()),ye+ie[0].length):-1}function G(Z,ce,ye){return C(Z,t,ce,ye)}function ae(Z,ce,ye){return C(Z,r,ce,ye)}function q(Z,ce,ye){return C(Z,n,ce,ye)}function F(Z){return l[Z.getDay()]}function W(Z){return s[Z.getDay()]}function J(Z){return d[Z.getMonth()]}function pe(Z){return u[Z.getMonth()]}function L(Z){return a[+(Z.getHours()>=12)]}function K(Z){return 1+~~(Z.getMonth()/3)}function U(Z){return l[Z.getUTCDay()]}function te(Z){return s[Z.getUTCDay()]}function ne(Z){return d[Z.getUTCMonth()]}function de(Z){return u[Z.getUTCMonth()]}function ve(Z){return a[+(Z.getUTCHours()>=12)]}function be(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var ce=T(Z+="",E);return ce.toString=function(){return Z},ce},parse:function(Z){var ce=P(Z+="",!1);return ce.toString=function(){return Z},ce},utcFormat:function(Z){var ce=T(Z+="",D);return ce.toString=function(){return Z},ce},utcParse:function(Z){var ce=P(Z+="",!0);return ce.toString=function(){return Z},ce}}}var pO={"-":"",_:" ",0:"0"},ar=/^\s*\d+/,kJ=/^%/,jJ=/[\\^$*+?|[\]().{}]/g;function Je(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function EJ(e){return e.replace(jJ,"\\$&")}function Lc(e){return new RegExp("^(?:"+e.map(EJ).join("|")+")","i")}function zc(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function NJ(e,t,r){var n=ar.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function OJ(e,t,r){var n=ar.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function AJ(e,t,r){var n=ar.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function TJ(e,t,r){var n=ar.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function CJ(e,t,r){var n=ar.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function gO(e,t,r){var n=ar.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function vO(e,t,r){var n=ar.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function PJ(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function DJ(e,t,r){var n=ar.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function RJ(e,t,r){var n=ar.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function yO(e,t,r){var n=ar.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function MJ(e,t,r){var n=ar.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function bO(e,t,r){var n=ar.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function $J(e,t,r){var n=ar.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function IJ(e,t,r){var n=ar.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function LJ(e,t,r){var n=ar.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function zJ(e,t,r){var n=ar.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function UJ(e,t,r){var n=kJ.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function BJ(e,t,r){var n=ar.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function qJ(e,t,r){var n=ar.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function xO(e,t){return Je(e.getDate(),t,2)}function HJ(e,t){return Je(e.getHours(),t,2)}function FJ(e,t){return Je(e.getHours()%12||12,t,2)}function VJ(e,t){return Je(1+Lu.count(ni(e),e),t,3)}function n4(e,t){return Je(e.getMilliseconds(),t,3)}function KJ(e,t){return n4(e,t)+"000"}function ZJ(e,t){return Je(e.getMonth()+1,t,2)}function GJ(e,t){return Je(e.getMinutes(),t,2)}function YJ(e,t){return Je(e.getSeconds(),t,2)}function WJ(e){var t=e.getDay();return t===0?7:t}function XJ(e,t){return Je(em.count(ni(e)-1,e),t,2)}function a4(e){var t=e.getDay();return t>=4||t===0?wl(e):wl.ceil(e)}function JJ(e,t){return e=a4(e),Je(wl.count(ni(e),e)+(ni(e).getDay()===4),t,2)}function QJ(e){return e.getDay()}function eQ(e,t){return Je(Yh.count(ni(e)-1,e),t,2)}function tQ(e,t){return Je(e.getFullYear()%100,t,2)}function rQ(e,t){return e=a4(e),Je(e.getFullYear()%100,t,2)}function nQ(e,t){return Je(e.getFullYear()%1e4,t,4)}function aQ(e,t){var r=e.getDay();return e=r>=4||r===0?wl(e):wl.ceil(e),Je(e.getFullYear()%1e4,t,4)}function iQ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Je(t/60|0,"0",2)+Je(t%60,"0",2)}function wO(e,t){return Je(e.getUTCDate(),t,2)}function sQ(e,t){return Je(e.getUTCHours(),t,2)}function oQ(e,t){return Je(e.getUTCHours()%12||12,t,2)}function lQ(e,t){return Je(1+Q0.count(ai(e),e),t,3)}function i4(e,t){return Je(e.getUTCMilliseconds(),t,3)}function cQ(e,t){return i4(e,t)+"000"}function uQ(e,t){return Je(e.getUTCMonth()+1,t,2)}function dQ(e,t){return Je(e.getUTCMinutes(),t,2)}function fQ(e,t){return Je(e.getUTCSeconds(),t,2)}function hQ(e){var t=e.getUTCDay();return t===0?7:t}function mQ(e,t){return Je(tm.count(ai(e)-1,e),t,2)}function s4(e){var t=e.getUTCDay();return t>=4||t===0?_l(e):_l.ceil(e)}function pQ(e,t){return e=s4(e),Je(_l.count(ai(e),e)+(ai(e).getUTCDay()===4),t,2)}function gQ(e){return e.getUTCDay()}function vQ(e,t){return Je(Wh.count(ai(e)-1,e),t,2)}function yQ(e,t){return Je(e.getUTCFullYear()%100,t,2)}function bQ(e,t){return e=s4(e),Je(e.getUTCFullYear()%100,t,2)}function xQ(e,t){return Je(e.getUTCFullYear()%1e4,t,4)}function wQ(e,t){var r=e.getUTCDay();return e=r>=4||r===0?_l(e):_l.ceil(e),Je(e.getUTCFullYear()%1e4,t,4)}function _Q(){return"+0000"}function _O(){return"%"}function SO(e){return+e}function kO(e){return Math.floor(+e/1e3)}var Wo,o4,l4;SQ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function SQ(e){return Wo=SJ(e),o4=Wo.format,Wo.parse,l4=Wo.utcFormat,Wo.utcParse,Wo}function kQ(e){return new Date(e)}function jQ(e){return e instanceof Date?+e:+new Date(+e)}function _w(e,t,r,n,a,s,l,u,d,f){var p=lw(),g=p.invert,y=p.domain,v=f(".%L"),w=f(":%S"),k=f("%I:%M"),S=f("%I %p"),j=f("%a %d"),N=f("%b %d"),E=f("%B"),D=f("%Y");function O(T){return(d(T)<T?v:u(T)<T?w:l(T)<T?k:s(T)<T?S:n(T)<T?a(T)<T?j:N:r(T)<T?E:D)(T)}return p.invert=function(T){return new Date(g(T))},p.domain=function(T){return arguments.length?y(Array.from(T,jQ)):y().map(kQ)},p.ticks=function(T){var P=y();return e(P[0],P[P.length-1],T??10)},p.tickFormat=function(T,P){return P==null?O:f(P)},p.nice=function(T){var P=y();return(!T||typeof T.range!="function")&&(T=t(P[0],P[P.length-1],T??10)),T?y(GD(P,T)):p},p.copy=function(){return Iu(p,_w(e,t,r,n,a,s,l,u,d,f))},p}function EQ(){return Bn.apply(_w(wJ,_J,ni,xw,em,Lu,yw,gw,$s,o4).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function NQ(){return Bn.apply(_w(bJ,xJ,ai,ww,tm,Q0,bw,vw,$s,l4).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function rm(){var e=0,t=1,r,n,a,s,l=Dr,u=!1,d;function f(g){return g==null||isNaN(g=+g)?d:l(a===0?.5:(g=(s(g)-r)*a,u?Math.max(0,Math.min(1,g)):g))}f.domain=function(g){return arguments.length?([e,t]=g,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),f):[e,t]},f.clamp=function(g){return arguments.length?(u=!!g,f):u},f.interpolator=function(g){return arguments.length?(l=g,f):l};function p(g){return function(y){var v,w;return arguments.length?([v,w]=y,l=g(v,w),f):[l(0),l(1)]}}return f.range=p(Tl),f.rangeRound=p(ow),f.unknown=function(g){return arguments.length?(d=g,f):d},function(g){return s=g,r=g(e),n=g(t),a=r===n?0:1/(n-r),f}}function ts(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function c4(){var e=es(rm()(Dr));return e.copy=function(){return ts(e,c4())},di.apply(e,arguments)}function u4(){var e=dw(rm()).domain([1,10]);return e.copy=function(){return ts(e,u4()).base(e.base())},di.apply(e,arguments)}function d4(){var e=fw(rm());return e.copy=function(){return ts(e,d4()).constant(e.constant())},di.apply(e,arguments)}function Sw(){var e=hw(rm());return e.copy=function(){return ts(e,Sw()).exponent(e.exponent())},di.apply(e,arguments)}function OQ(){return Sw.apply(null,arguments).exponent(.5)}function f4(){var e=[],t=Dr;function r(n){if(n!=null&&!isNaN(n=+n))return t((Mu(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Gi),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>hX(e,s/n))},r.copy=function(){return f4(t).domain(e)},di.apply(r,arguments)}function nm(){var e=0,t=.5,r=1,n=1,a,s,l,u,d,f=Dr,p,g=!1,y;function v(k){return isNaN(k=+k)?y:(k=.5+((k=+p(k))-s)*(n*k<n*s?u:d),f(g?Math.max(0,Math.min(1,k)):k))}v.domain=function(k){return arguments.length?([e,t,r]=k,a=p(e=+e),s=p(t=+t),l=p(r=+r),u=a===s?0:.5/(s-a),d=s===l?0:.5/(l-s),n=s<a?-1:1,v):[e,t,r]},v.clamp=function(k){return arguments.length?(g=!!k,v):g},v.interpolator=function(k){return arguments.length?(f=k,v):f};function w(k){return function(S){var j,N,E;return arguments.length?([j,N,E]=S,f=UX(k,[j,N,E]),v):[f(0),f(.5),f(1)]}}return v.range=w(Tl),v.rangeRound=w(ow),v.unknown=function(k){return arguments.length?(y=k,v):y},function(k){return p=k,a=k(e),s=k(t),l=k(r),u=a===s?0:.5/(s-a),d=s===l?0:.5/(l-s),n=s<a?-1:1,v}}function h4(){var e=es(nm()(Dr));return e.copy=function(){return ts(e,h4())},di.apply(e,arguments)}function m4(){var e=dw(nm()).domain([.1,1,10]);return e.copy=function(){return ts(e,m4()).base(e.base())},di.apply(e,arguments)}function p4(){var e=fw(nm());return e.copy=function(){return ts(e,p4()).constant(e.constant())},di.apply(e,arguments)}function kw(){var e=hw(nm());return e.copy=function(){return ts(e,kw()).exponent(e.exponent())},di.apply(e,arguments)}function AQ(){return kw.apply(null,arguments).exponent(.5)}const Gc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:aw,scaleDiverging:h4,scaleDivergingLog:m4,scaleDivergingPow:kw,scaleDivergingSqrt:AQ,scaleDivergingSymlog:p4,scaleIdentity:ZD,scaleImplicit:Ub,scaleLinear:KD,scaleLog:YD,scaleOrdinal:nw,scalePoint:gX,scalePow:mw,scaleQuantile:JD,scaleQuantize:QD,scaleRadial:XD,scaleSequential:c4,scaleSequentialLog:u4,scaleSequentialPow:Sw,scaleSequentialQuantile:f4,scaleSequentialSqrt:OQ,scaleSequentialSymlog:d4,scaleSqrt:cJ,scaleSymlog:WD,scaleThreshold:e4,scaleTime:EQ,scaleUtc:NQ,tickFormat:VD},Symbol.toStringTag,{value:"Module"}));var rs=e=>e.chartData,TQ=oe([rs],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),jw=(e,t,r,n)=>n?TQ(e):rs(e);function Wi(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(dt(t)&&dt(r))return!0}return!1}function jO(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function g4(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,s;if(dt(r))a=r;else if(typeof r=="function")return;if(dt(n))s=n;else if(typeof n=="function")return;var l=[a,s];if(Wi(l))return l}}function CQ(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Wi(n))return jO(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,s]=e,l,u;if(a==="auto")t!=null&&(l=Math.min(...t));else if(Ce(a))l=a;else if(typeof a=="function")try{t!=null&&(l=a(t?.[0]))}catch{}else if(typeof a=="string"&&tN.test(a)){var d=tN.exec(a);if(d==null||t==null)l=void 0;else{var f=+d[1];l=t[0]-f}}else l=t?.[0];if(s==="auto")t!=null&&(u=Math.max(...t));else if(Ce(s))u=s;else if(typeof s=="function")try{t!=null&&(u=s(t?.[1]))}catch{}else if(typeof s=="string"&&rN.test(s)){var p=rN.exec(s);if(p==null||t==null)u=void 0;else{var g=+p[1];u=t[1]+g}}else u=t?.[1];var y=[l,u];if(Wi(y))return t==null?y:jO(y,t,r)}}}var Cl=1e9,PQ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Nw,wt=!0,In="[DecimalError] ",Us=In+"Invalid argument: ",Ew=In+"Exponent out of range: ",Pl=Math.floor,Os=Math.pow,DQ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,hn,nr=1e7,vt=7,v4=9007199254740991,Xh=Pl(v4/vt),Se={};Se.absoluteValue=Se.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Se.comparedTo=Se.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};Se.decimalPlaces=Se.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*vt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Se.dividedBy=Se.div=function(e){return Wa(this,new this.constructor(e))};Se.dividedToIntegerBy=Se.idiv=function(e){var t=this,r=t.constructor;return ot(Wa(t,new r(e),0,1),r.precision)};Se.equals=Se.eq=function(e){return!this.cmp(e)};Se.exponent=function(){return Vt(this)};Se.greaterThan=Se.gt=function(e){return this.cmp(e)>0};Se.greaterThanOrEqualTo=Se.gte=function(e){return this.cmp(e)>=0};Se.isInteger=Se.isint=function(){return this.e>this.d.length-2};Se.isNegative=Se.isneg=function(){return this.s<0};Se.isPositive=Se.ispos=function(){return this.s>0};Se.isZero=function(){return this.s===0};Se.lessThan=Se.lt=function(e){return this.cmp(e)<0};Se.lessThanOrEqualTo=Se.lte=function(e){return this.cmp(e)<1};Se.logarithm=Se.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(hn))throw Error(In+"NaN");if(r.s<1)throw Error(In+(r.s?"NaN":"-Infinity"));return r.eq(hn)?new n(0):(wt=!1,t=Wa(yu(r,s),yu(e,s),s),wt=!0,ot(t,a))};Se.minus=Se.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?x4(t,e):y4(t,(e.s=-e.s,e))};Se.modulo=Se.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(In+"NaN");return r.s?(wt=!1,t=Wa(r,e,0,1).times(e),wt=!0,r.minus(t)):ot(new n(r),a)};Se.naturalExponential=Se.exp=function(){return b4(this)};Se.naturalLogarithm=Se.ln=function(){return yu(this)};Se.negated=Se.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Se.plus=Se.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?y4(t,e):x4(t,(e.s=-e.s,e))};Se.precision=Se.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Us+e);if(t=Vt(a)+1,n=a.d.length-1,r=n*vt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Se.squareRoot=Se.sqrt=function(){var e,t,r,n,a,s,l,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(In+"NaN")}for(e=Vt(u),wt=!1,a=Math.sqrt(+u),a==0||a==1/0?(t=da(u.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Pl((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new d(t)):n=new d(a.toString()),r=d.precision,a=l=r+3;;)if(s=n,n=s.plus(Wa(u,s,l+2)).times(.5),da(s.d).slice(0,l)===(t=da(n.d)).slice(0,l)){if(t=t.slice(l-3,l+1),a==l&&t=="4999"){if(ot(s,r+1,0),s.times(s).eq(u)){n=s;break}}else if(t!="9999")break;l+=4}return wt=!0,ot(n,r)};Se.times=Se.mul=function(e){var t,r,n,a,s,l,u,d,f,p=this,g=p.constructor,y=p.d,v=(e=new g(e)).d;if(!p.s||!e.s)return new g(0);for(e.s*=p.s,r=p.e+e.e,d=y.length,f=v.length,d<f&&(s=y,y=v,v=s,l=d,d=f,f=l),s=[],l=d+f,n=l;n--;)s.push(0);for(n=f;--n>=0;){for(t=0,a=d+n;a>n;)u=s[a]+v[n]*y[a-n-1]+t,s[a--]=u%nr|0,t=u/nr|0;s[a]=(s[a]+t)%nr|0}for(;!s[--l];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,wt?ot(e,g.precision):e};Se.toDecimalPlaces=Se.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ga(e,0,Cl),t===void 0?t=n.rounding:ga(t,0,8),ot(r,e+Vt(r)+1,t))};Se.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Gs(n,!0):(ga(e,0,Cl),t===void 0?t=a.rounding:ga(t,0,8),n=ot(new a(n),e+1,t),r=Gs(n,!0,e+1)),r};Se.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?Gs(a):(ga(e,0,Cl),t===void 0?t=s.rounding:ga(t,0,8),n=ot(new s(a),e+Vt(a)+1,t),r=Gs(n.abs(),!1,e+Vt(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Se.toInteger=Se.toint=function(){var e=this,t=e.constructor;return ot(new t(e),Vt(e)+1,t.rounding)};Se.toNumber=function(){return+this};Se.toPower=Se.pow=function(e){var t,r,n,a,s,l,u=this,d=u.constructor,f=12,p=+(e=new d(e));if(!e.s)return new d(hn);if(u=new d(u),!u.s){if(e.s<1)throw Error(In+"Infinity");return u}if(u.eq(hn))return u;if(n=d.precision,e.eq(hn))return ot(u,n);if(t=e.e,r=e.d.length-1,l=t>=r,s=u.s,l){if((r=p<0?-p:p)<=v4){for(a=new d(hn),t=Math.ceil(n/vt+4),wt=!1;r%2&&(a=a.times(u),NO(a.d,t)),r=Pl(r/2),r!==0;)u=u.times(u),NO(u.d,t);return wt=!0,e.s<0?new d(hn).div(a):ot(a,n)}}else if(s<0)throw Error(In+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,u.s=1,wt=!1,a=e.times(yu(u,n+f)),wt=!0,a=b4(a),a.s=s,a};Se.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=Vt(a),n=Gs(a,r<=s.toExpNeg||r>=s.toExpPos)):(ga(e,1,Cl),t===void 0?t=s.rounding:ga(t,0,8),a=ot(new s(a),e,t),r=Vt(a),n=Gs(a,e<=r||r<=s.toExpNeg,e)),n};Se.toSignificantDigits=Se.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ga(e,1,Cl),t===void 0?t=n.rounding:ga(t,0,8)),ot(new n(r),e,t)};Se.toString=Se.valueOf=Se.val=Se.toJSON=Se[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Vt(e),r=e.constructor;return Gs(e,t<=r.toExpNeg||t>=r.toExpPos)};function y4(e,t){var r,n,a,s,l,u,d,f,p=e.constructor,g=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),wt?ot(t,g):t;if(d=e.d,f=t.d,l=e.e,a=t.e,d=d.slice(),s=l-a,s){for(s<0?(n=d,s=-s,u=f.length):(n=f,a=l,u=d.length),l=Math.ceil(g/vt),u=l>u?l+1:u+1,s>u&&(s=u,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(u=d.length,s=f.length,u-s<0&&(s=u,n=f,f=d,d=n),r=0;s;)r=(d[--s]=d[s]+f[s]+r)/nr|0,d[s]%=nr;for(r&&(d.unshift(r),++a),u=d.length;d[--u]==0;)d.pop();return t.d=d,t.e=a,wt?ot(t,g):t}function ga(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Us+e)}function da(e){var t,r,n,a=e.length-1,s="",l=e[0];if(a>0){for(s+=l,t=1;t<a;t++)n=e[t]+"",r=vt-n.length,r&&(s+=zi(r)),s+=n;l=e[t],n=l+"",r=vt-n.length,r&&(s+=zi(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var Wa=(function(){function e(n,a){var s,l=0,u=n.length;for(n=n.slice();u--;)s=n[u]*a+l,n[u]=s%nr|0,l=s/nr|0;return l&&n.unshift(l),n}function t(n,a,s,l){var u,d;if(s!=l)d=s>l?1:-1;else for(u=d=0;u<s;u++)if(n[u]!=a[u]){d=n[u]>a[u]?1:-1;break}return d}function r(n,a,s){for(var l=0;s--;)n[s]-=l,l=n[s]<a[s]?1:0,n[s]=l*nr+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,l){var u,d,f,p,g,y,v,w,k,S,j,N,E,D,O,T,P,C,R=n.constructor,I=n.s==a.s?1:-1,M=n.d,z=a.d;if(!n.s)return new R(n);if(!a.s)throw Error(In+"Division by zero");for(d=n.e-a.e,P=z.length,O=M.length,v=new R(I),w=v.d=[],f=0;z[f]==(M[f]||0);)++f;if(z[f]>(M[f]||0)&&--d,s==null?N=s=R.precision:l?N=s+(Vt(n)-Vt(a))+1:N=s,N<0)return new R(0);if(N=N/vt+2|0,f=0,P==1)for(p=0,z=z[0],N++;(f<O||p)&&N--;f++)E=p*nr+(M[f]||0),w[f]=E/z|0,p=E%z|0;else{for(p=nr/(z[0]+1)|0,p>1&&(z=e(z,p),M=e(M,p),P=z.length,O=M.length),D=P,k=M.slice(0,P),S=k.length;S<P;)k[S++]=0;C=z.slice(),C.unshift(0),T=z[0],z[1]>=nr/2&&++T;do p=0,u=t(z,k,P,S),u<0?(j=k[0],P!=S&&(j=j*nr+(k[1]||0)),p=j/T|0,p>1?(p>=nr&&(p=nr-1),g=e(z,p),y=g.length,S=k.length,u=t(g,k,y,S),u==1&&(p--,r(g,P<y?C:z,y))):(p==0&&(u=p=1),g=z.slice()),y=g.length,y<S&&g.unshift(0),r(k,g,S),u==-1&&(S=k.length,u=t(z,k,P,S),u<1&&(p++,r(k,P<S?C:z,S))),S=k.length):u===0&&(p++,k=[0]),w[f++]=p,u&&k[0]?k[S++]=M[D]||0:(k=[M[D]],S=1);while((D++<O||k[0]!==void 0)&&N--)}return w[0]||w.shift(),v.e=d,ot(v,l?s+Vt(v)+1:s)}})();function b4(e,t){var r,n,a,s,l,u,d=0,f=0,p=e.constructor,g=p.precision;if(Vt(e)>16)throw Error(Ew+Vt(e));if(!e.s)return new p(hn);for(wt=!1,u=g,l=new p(.03125);e.abs().gte(.1);)e=e.times(l),f+=5;for(n=Math.log(Os(2,f))/Math.LN10*2+5|0,u+=n,r=a=s=new p(hn),p.precision=u;;){if(a=ot(a.times(e),u),r=r.times(++d),l=s.plus(Wa(a,r,u)),da(l.d).slice(0,u)===da(s.d).slice(0,u)){for(;f--;)s=ot(s.times(s),u);return p.precision=g,t==null?(wt=!0,ot(s,g)):s}s=l}}function Vt(e){for(var t=e.e*vt,r=e.d[0];r>=10;r/=10)t++;return t}function my(e,t,r){if(t>e.LN10.sd())throw wt=!0,r&&(e.precision=r),Error(In+"LN10 precision limit exceeded");return ot(new e(e.LN10),t)}function zi(e){for(var t="";e--;)t+="0";return t}function yu(e,t){var r,n,a,s,l,u,d,f,p,g=1,y=10,v=e,w=v.d,k=v.constructor,S=k.precision;if(v.s<1)throw Error(In+(v.s?"NaN":"-Infinity"));if(v.eq(hn))return new k(0);if(t==null?(wt=!1,f=S):f=t,v.eq(10))return t==null&&(wt=!0),my(k,f);if(f+=y,k.precision=f,r=da(w),n=r.charAt(0),s=Vt(v),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)v=v.times(e),r=da(v.d),n=r.charAt(0),g++;s=Vt(v),n>1?(v=new k("0."+r),s++):v=new k(n+"."+r.slice(1))}else return d=my(k,f+2,S).times(s+""),v=yu(new k(n+"."+r.slice(1)),f-y).plus(d),k.precision=S,t==null?(wt=!0,ot(v,S)):v;for(u=l=v=Wa(v.minus(hn),v.plus(hn),f),p=ot(v.times(v),f),a=3;;){if(l=ot(l.times(p),f),d=u.plus(Wa(l,new k(a),f)),da(d.d).slice(0,f)===da(u.d).slice(0,f))return u=u.times(2),s!==0&&(u=u.plus(my(k,f+2,S).times(s+""))),u=Wa(u,new k(g),f),k.precision=S,t==null?(wt=!0,ot(u,S)):u;u=d,a+=2}}function EO(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Pl(r/vt),e.d=[],n=(r+1)%vt,r<0&&(n+=vt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=vt;n<a;)e.d.push(+t.slice(n,n+=vt));t=t.slice(n),n=vt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),wt&&(e.e>Xh||e.e<-Xh))throw Error(Ew+r)}else e.s=0,e.e=0,e.d=[0];return e}function ot(e,t,r){var n,a,s,l,u,d,f,p,g=e.d;for(l=1,s=g[0];s>=10;s/=10)l++;if(n=t-l,n<0)n+=vt,a=t,f=g[p=0];else{if(p=Math.ceil((n+1)/vt),s=g.length,p>=s)return e;for(f=s=g[p],l=1;s>=10;s/=10)l++;n%=vt,a=n-vt+l}if(r!==void 0&&(s=Os(10,l-a-1),u=f/s%10|0,d=t<0||g[p+1]!==void 0||f%s,d=r<4?(u||d)&&(r==0||r==(e.s<0?3:2)):u>5||u==5&&(r==4||d||r==6&&(n>0?a>0?f/Os(10,l-a):0:g[p-1])%10&1||r==(e.s<0?8:7))),t<1||!g[0])return d?(s=Vt(e),g.length=1,t=t-s-1,g[0]=Os(10,(vt-t%vt)%vt),e.e=Pl(-t/vt)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(n==0?(g.length=p,s=1,p--):(g.length=p+1,s=Os(10,vt-n),g[p]=a>0?(f/Os(10,l-a)%Os(10,a)|0)*s:0),d)for(;;)if(p==0){(g[0]+=s)==nr&&(g[0]=1,++e.e);break}else{if(g[p]+=s,g[p]!=nr)break;g[p--]=0,s=1}for(n=g.length;g[--n]===0;)g.pop();if(wt&&(e.e>Xh||e.e<-Xh))throw Error(Ew+Vt(e));return e}function x4(e,t){var r,n,a,s,l,u,d,f,p,g,y=e.constructor,v=y.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new y(e),wt?ot(t,v):t;if(d=e.d,g=t.d,n=t.e,f=e.e,d=d.slice(),l=f-n,l){for(p=l<0,p?(r=d,l=-l,u=g.length):(r=g,n=f,u=d.length),a=Math.max(Math.ceil(v/vt),u)+2,l>a&&(l=a,r.length=1),r.reverse(),a=l;a--;)r.push(0);r.reverse()}else{for(a=d.length,u=g.length,p=a<u,p&&(u=a),a=0;a<u;a++)if(d[a]!=g[a]){p=d[a]<g[a];break}l=0}for(p&&(r=d,d=g,g=r,t.s=-t.s),u=d.length,a=g.length-u;a>0;--a)d[u++]=0;for(a=g.length;a>l;){if(d[--a]<g[a]){for(s=a;s&&d[--s]===0;)d[s]=nr-1;--d[s],d[a]+=nr}d[a]-=g[a]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(t.d=d,t.e=n,wt?ot(t,v):t):new y(0)}function Gs(e,t,r){var n,a=Vt(e),s=da(e.d),l=s.length;return t?(r&&(n=r-l)>0?s=s.charAt(0)+"."+s.slice(1)+zi(n):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+zi(-a-1)+s,r&&(n=r-l)>0&&(s+=zi(n))):a>=l?(s+=zi(a+1-l),r&&(n=r-a-1)>0&&(s=s+"."+zi(n))):((n=a+1)<l&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-l)>0&&(a+1===l&&(s+="."),s+=zi(n))),e.s<0?"-"+s:s}function NO(e,t){if(e.length>t)return e.length=t,!0}function w4(e){var t,r,n;function a(s){var l=this;if(!(l instanceof a))return new a(s);if(l.constructor=a,s instanceof a){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Us+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return EO(l,s.toString())}else if(typeof s!="string")throw Error(Us+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,DQ.test(s))EO(l,s);else throw Error(Us+s)}if(a.prototype=Se,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=w4,a.config=a.set=RQ,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function RQ(e){if(!e||typeof e!="object")throw Error(In+"Object expected");var t,r,n,a=["precision",1,Cl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Pl(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Us+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Us+r+": "+n);return this}var Nw=w4(PQ);hn=new Nw(1);const rt=Nw;var MQ=e=>e,_4={},S4=e=>e===_4,OO=e=>function t(){return arguments.length===0||arguments.length===1&&S4(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},k4=(e,t)=>e===1?t:OO(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var s=n.filter(l=>l!==_4).length;return s>=e?t(...n):k4(e-s,OO(function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];var f=n.map(p=>S4(p)?u.shift():p);return t(...f,...u)}))}),$Q=e=>k4(e.length,e),Fb=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},IQ=$Q((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),LQ=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return MQ;var a=r.reverse(),s=a[0],l=a.slice(1);return function(){return l.reduce((u,d)=>d(u),s(...arguments))}},Vb=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function j4(e){var t;return e===0?t=1:t=Math.floor(new rt(e).abs().log(10).toNumber())+1,t}function E4(e,t,r){for(var n=new rt(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var N4=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},O4=(e,t,r)=>{if(e.lte(0))return new rt(0);var n=j4(e.toNumber()),a=new rt(10).pow(n),s=e.div(a),l=n!==1?.05:.1,u=new rt(Math.ceil(s.div(l).toNumber())).add(r).mul(l),d=u.mul(a);return t?new rt(d.toNumber()):new rt(Math.ceil(d.toNumber()))},zQ=(e,t,r)=>{var n=new rt(1),a=new rt(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new rt(10).pow(j4(e)-1),a=new rt(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new rt(Math.floor(e)))}else e===0?a=new rt(Math.floor((t-1)/2)):r||(a=new rt(Math.floor(e)));var l=Math.floor((t-1)/2),u=LQ(IQ(d=>a.add(new rt(d-l).mul(n)).toNumber()),Fb);return u(0,t)},A4=function(t,r,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new rt(0),tickMin:new rt(0),tickMax:new rt(0)};var l=O4(new rt(r).sub(t).div(n-1),a,s),u;t<=0&&r>=0?u=new rt(0):(u=new rt(t).add(r).div(2),u=u.sub(new rt(u).mod(l)));var d=Math.ceil(u.sub(t).div(l).toNumber()),f=Math.ceil(new rt(r).sub(u).div(l).toNumber()),p=d+f+1;return p>n?A4(t,r,n,a,s+1):(p<n&&(f=r>0?f+(n-p):f,d=r>0?d:d+(n-p)),{step:l,tickMin:u.sub(new rt(d).mul(l)),tickMax:u.add(new rt(f).mul(l))})},UQ=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(a,2),[u,d]=N4([r,n]);if(u===-1/0||d===1/0){var f=d===1/0?[u,...Fb(0,a-1).map(()=>1/0)]:[...Fb(0,a-1).map(()=>-1/0),d];return r>n?Vb(f):f}if(u===d)return zQ(u,a,s);var{step:p,tickMin:g,tickMax:y}=A4(u,d,l,s,0),v=E4(g,y.add(new rt(.1).mul(p)),p);return r>n?Vb(v):v},BQ=function(t,r){var[n,a]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,u]=N4([n,a]);if(l===-1/0||u===1/0)return[n,a];if(l===u)return[l];var d=Math.max(r,2),f=O4(new rt(u).sub(l).div(d-1),s,0),p=[...E4(new rt(l),new rt(u),f),u];return s===!1&&(p=p.map(g=>Math.round(g))),n>a?Vb(p):p},qQ=e=>e.rootProps.barCategoryGap,am=e=>e.rootProps.stackOffset,T4=e=>e.rootProps.reverseStackOrder,Ow=e=>e.options.chartName,Aw=e=>e.rootProps.syncId,C4=e=>e.rootProps.syncMethod,Tw=e=>e.options.eventEmitter,HQ=e=>e.rootProps.baseValue,Er={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Fa={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},dn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},im=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},FQ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Fa.angleAxisId,includeHidden:!1,name:void 0,reversed:Fa.reversed,scale:Fa.scale,tick:Fa.tick,tickCount:void 0,ticks:void 0,type:Fa.type,unit:void 0},VQ={allowDataOverflow:dn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:dn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:dn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:dn.scale,tick:dn.tick,tickCount:dn.tickCount,ticks:void 0,type:dn.type,unit:void 0},KQ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Fa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Fa.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Fa.scale,tick:Fa.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},ZQ={allowDataOverflow:dn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:dn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:dn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:dn.scale,tick:dn.tick,tickCount:dn.tickCount,ticks:void 0,type:"category",unit:void 0},Cw=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?KQ:FQ,Pw=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?ZQ:VQ,sm=e=>e.polarOptions,Dw=oe([ci,ui,br],UW),P4=oe([sm,Dw],(e,t)=>{if(e!=null)return Yi(e.innerRadius,t,0)}),D4=oe([sm,Dw],(e,t)=>{if(e!=null)return Yi(e.outerRadius,t,t*.8)}),GQ=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},R4=oe([sm],GQ);oe([Cw,R4],im);var M4=oe([Dw,P4,D4],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});oe([Pw,M4],im);var $4=oe([ht,sm,P4,D4,ci,ui],(e,t,r,n,a,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:l,cy:u,startAngle:d,endAngle:f}=t;return{cx:Yi(l,a,a/2),cy:Yi(u,s,s/2),innerRadius:r,outerRadius:n,startAngle:d,endAngle:f,clockWise:!1}}}),Wt=(e,t)=>t,om=(e,t,r)=>r;function Rw(e){return e?.id}function I4(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:s}=r,l=new Map;return e.forEach(u=>{var d,f=(d=u.data)!==null&&d!==void 0?d:n;if(!(f==null||f.length===0)){var p=Rw(u);f.forEach((g,y)=>{var v=s==null||a?y:String(Nr(g,s,null)),w=Nr(g,u.dataKey,0),k;l.has(v)?k=l.get(v):k={},Object.assign(k,{[p]:w}),l.set(v,k)})}}),Array.from(l.values())}function Mw(e){return e.stackId!=null&&e.dataKey!=null}var lm=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function cm(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function YQ(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var Xt=e=>{var t=ht(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Dl=e=>e.tooltip.settings.axisId;function AO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AO(Object(r),!0).forEach(function(n){WQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WQ(e,t,r){return(t=XQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XQ(e){var t=JQ(e,"string");return typeof t=="symbol"?t:t+""}function JQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kb=[0,"auto"],tr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},L4=(e,t)=>e.cartesianAxis.xAxis[t],ya=(e,t)=>{var r=L4(e,t);return r??tr},rr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Kb,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Cu},z4=(e,t)=>e.cartesianAxis.yAxis[t],ba=(e,t)=>{var r=z4(e,t);return r??rr},QQ={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},$w=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??QQ},Lr=(e,t,r)=>{switch(t){case"xAxis":return ya(e,r);case"yAxis":return ba(e,r);case"zAxis":return $w(e,r);case"angleAxis":return Cw(e,r);case"radiusAxis":return Pw(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},eee=(e,t,r)=>{switch(t){case"xAxis":return ya(e,r);case"yAxis":return ba(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},zu=(e,t,r)=>{switch(t){case"xAxis":return ya(e,r);case"yAxis":return ba(e,r);case"angleAxis":return Cw(e,r);case"radiusAxis":return Pw(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},U4=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function B4(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var q4=e=>e.graphicalItems.cartesianItems,tee=oe([Wt,om],B4),H4=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),Uu=oe([q4,Lr,tee],H4,{memoizeOptions:{resultEqualityCheck:cm}}),F4=oe([Uu],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Mw)),V4=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),ree=oe([Uu],V4),K4=e=>e.map(t=>t.data).filter(Boolean).flat(1),nee=oe([Uu],K4,{memoizeOptions:{resultEqualityCheck:cm}}),Z4=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},Iw=oe([nee,jw],Z4),G4=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:Nr(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:Nr(a,n)}))):e.map(n=>({value:n})),um=oe([Iw,Lr,Uu],G4);function Y4(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function th(e){if(Mn(e)||e instanceof Date){var t=Number(e);if(dt(t))return t}}function TO(e){if(Array.isArray(e)){var t=[th(e[0]),th(e[1])];return Wi(t)?t:void 0}var r=th(e);if(r!=null)return[r,r]}function ii(e){return e.map(th).filter(xK)}function aee(e,t,r){return!r||typeof t!="number"||vn(t)?[]:r.length?ii(r.flatMap(n=>{var a=Nr(e,n.dataKey),s,l;if(Array.isArray(a)?[s,l]=a:s=l=a,!(!dt(s)||!dt(l)))return[t-s,t+l]})):[]}var Jt=e=>{var t=Xt(e),r=Dl(e);return zu(e,t,r)},Bu=oe([Jt],e=>e?.dataKey),iee=oe([F4,jw,Jt],I4),W4=(e,t,r,n)=>{var a={},s=t.reduce((l,u)=>(u.stackId==null||(l[u.stackId]==null&&(l[u.stackId]=[]),l[u.stackId].push(u)),l),a);return Object.fromEntries(Object.entries(s).map(l=>{var[u,d]=l,f=n?[...d].reverse():d,p=f.map(Rw);return[u,{stackedData:AG(e,p,r),graphicalItems:f}]}))},Zb=oe([iee,F4,am,T4],W4),X4=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:s}=t;if(n==null&&r!=="zAxis"){var l=DG(e,a,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},see=oe([Lr],e=>e.allowDataOverflow),Lw=e=>{var t;if(e==null||!("domain"in e))return Kb;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=ii(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:Kb},J4=oe([Lr],Lw),Q4=oe([J4,see],g4),oee=oe([Zb,rs,Wt,Q4],X4,{memoizeOptions:{resultEqualityCheck:lm}}),zw=e=>e.errorBars,lee=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>Y4(r,n)),Qh=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var s=a.flat(),l=Math.min(...s),u=Math.max(...s);return[l,u]}},eR=(e,t,r,n,a)=>{var s,l;if(r.length>0&&e.forEach(u=>{r.forEach(d=>{var f,p,g=(f=n[d.id])===null||f===void 0?void 0:f.filter(j=>Y4(a,j)),y=Nr(u,(p=t.dataKey)!==null&&p!==void 0?p:d.dataKey),v=aee(u,y,g);if(v.length>=2){var w=Math.min(...v),k=Math.max(...v);(s==null||w<s)&&(s=w),(l==null||k>l)&&(l=k)}var S=TO(y);S!=null&&(s=s==null?S[0]:Math.min(s,S[0]),l=l==null?S[1]:Math.max(l,S[1]))})}),t?.dataKey!=null&&e.forEach(u=>{var d=TO(Nr(u,t.dataKey));d!=null&&(s=s==null?d[0]:Math.min(s,d[0]),l=l==null?d[1]:Math.max(l,d[1]))}),dt(s)&&dt(l))return[s,l]},cee=oe([Iw,Lr,ree,zw,Wt],eR,{memoizeOptions:{resultEqualityCheck:lm}});function uee(e){var{value:t}=e;if(Mn(t)||t instanceof Date)return t}var dee=(e,t,r)=>{var n=e.map(uee).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&gP(n))?MD(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},tR=e=>e.referenceElements.dots,Rl=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),fee=oe([tR,Wt,om],Rl),rR=e=>e.referenceElements.areas,hee=oe([rR,Wt,om],Rl),nR=e=>e.referenceElements.lines,mee=oe([nR,Wt,om],Rl),aR=(e,t)=>{var r=ii(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},pee=oe(fee,Wt,aR),iR=(e,t)=>{var r=ii(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},gee=oe([hee,Wt],iR);function vee(e){var t;if(e.x!=null)return ii([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:ii(r)}function yee(e){var t;if(e.y!=null)return ii([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:ii(r)}var sR=(e,t)=>{var r=e.flatMap(n=>t==="xAxis"?vee(n):yee(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},bee=oe([mee,Wt],sR),xee=oe(pee,bee,gee,(e,t,r)=>Qh(e,r,t)),oR=(e,t,r,n,a,s,l,u)=>{if(r!=null)return r;var d=l==="vertical"&&u==="xAxis"||l==="horizontal"&&u==="yAxis",f=d?Qh(n,s,a):Qh(s,a);return CQ(t,f,e.allowDataOverflow)},wee=oe([Lr,J4,Q4,oee,cee,xee,ht,Wt],oR,{memoizeOptions:{resultEqualityCheck:lm}}),_ee=[0,1],lR=(e,t,r,n,a,s,l)=>{if(!((e==null||r==null||r.length===0)&&l===void 0)){var{dataKey:u,type:d}=e,f=li(t,s);if(f&&u==null){var p;return MD(0,(p=r?.length)!==null&&p!==void 0?p:0)}return d==="category"?dee(n,e,f):a==="expand"?_ee:l}},Uw=oe([Lr,ht,Iw,um,am,Wt,wee],lR),cR=(e,t,r,n,a)=>{if(e!=null){var{scale:s,type:l}=e;if(s==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":l==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":l==="category"?"band":"linear";if(typeof s=="string"){var u="scale".concat(Bx(s));return u in Gc?u:"point"}}},qu=oe([Lr,ht,U4,Ow,Wt],cR);function See(e){if(e!=null){if(e in Gc)return Gc[e]();var t="scale".concat(Bx(e));if(t in Gc)return Gc[t]()}}function Bw(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=See(t);if(a!=null){var s=a.domain(r).range(n);return jG(s),s}}}var uR=(e,t,r)=>{var n=Lw(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Wi(e))return UQ(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Wi(e))return BQ(e,t.tickCount,t.allowDecimals)}},qw=oe([Uw,zu,qu],uR),dR=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&Wi(t)&&Array.isArray(r)&&r.length>0){var a=t[0],s=r[0],l=t[1],u=r[r.length-1];return[Math.min(a,s),Math.max(l,u)]}return t},kee=oe([Lr,Uw,qw,Wt],dR),jee=oe(um,Lr,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(ii(e.map(u=>u.value))).sort((u,d)=>u-d);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var s=0;s<n.length-1;s++){var l=n[s+1]-n[s];r=Math.min(r,l)}return r/a}}),fR=oe(jee,ht,qQ,br,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!dt(e))return 0;var s=t==="vertical"?n.height:n.width;if(a==="gap")return e*s/2;if(a==="no-gap"){var l=Yi(r,e*s),u=e*s/2;return u-l-(u-l)/s*l}return 0}),Eee=(e,t)=>{var r=ya(e,t);return r==null||typeof r.padding!="string"?0:fR(e,"xAxis",t,r.padding)},Nee=(e,t)=>{var r=ba(e,t);return r==null||typeof r.padding!="string"?0:fR(e,"yAxis",t,r.padding)},Oee=oe(ya,Eee,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),Aee=oe(ba,Nee,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),Tee=oe([br,Oee,Z0,K0,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:s}=n;return a?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),Cee=oe([br,ht,Aee,Z0,K0,(e,t,r)=>r],(e,t,r,n,a,s)=>{var{padding:l}=a;return s?[n.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Hu=(e,t,r,n)=>{var a;switch(t){case"xAxis":return Tee(e,r,n);case"yAxis":return Cee(e,r,n);case"zAxis":return(a=$w(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return R4(e);case"radiusAxis":return M4(e,r);default:return}},hR=oe([Lr,Hu],im),Xi=oe([Lr,qu,kee,hR],Bw);oe([Uu,zw,Wt],lee);function mR(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var dm=(e,t)=>t,fm=(e,t,r)=>r,Pee=oe(F0,dm,fm,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(mR)),Dee=oe(V0,dm,fm,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(mR)),pR=(e,t)=>({width:e.width,height:t.height}),Ree=(e,t)=>{var r=typeof t.width=="number"?t.width:Cu;return{width:r,height:e.height}},Mee=oe(br,ya,pR),$ee=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},Iee=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},Lee=oe(ui,br,Pee,dm,fm,(e,t,r,n,a)=>{var s={},l;return r.forEach(u=>{var d=pR(t,u);l==null&&(l=$ee(t,n,e));var f=n==="top"&&!a||n==="bottom"&&a;s[u.id]=l-Number(f)*d.height,l+=(f?-1:1)*d.height}),s}),zee=oe(ci,br,Dee,dm,fm,(e,t,r,n,a)=>{var s={},l;return r.forEach(u=>{var d=Ree(t,u);l==null&&(l=Iee(t,n,e));var f=n==="left"&&!a||n==="right"&&a;s[u.id]=l-Number(f)*d.width,l+=(f?-1:1)*d.width}),s}),Uee=(e,t)=>{var r=ya(e,t);if(r!=null)return Lee(e,r.orientation,r.mirror)},Bee=oe([br,ya,Uee,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),qee=(e,t)=>{var r=ba(e,t);if(r!=null)return zee(e,r.orientation,r.mirror)},Hee=oe([br,ba,qee,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),Fee=oe(br,ba,(e,t)=>{var r=typeof t.width=="number"?t.width:Cu;return{width:r,height:e.height}}),gR=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:s,dataKey:l}=r,u=li(e,n),d=t.map(f=>f.value);if(l&&u&&s==="category"&&a&&gP(d))return d}},Hw=oe([ht,um,Lr,Wt],gR),vR=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:s}=r,l=li(e,n);if(l&&(a==="number"||s!=="auto"))return t.map(u=>u.value)}},Fw=oe([ht,um,zu,Wt],vR),CO=oe([ht,eee,qu,Xi,Hw,Fw,Hu,qw,Wt],(e,t,r,n,a,s,l,u,d)=>{if(t!=null){var f=li(e,d);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:d,categoricalDomain:s,duplicateDomain:a,isCategorical:f,niceTicks:u,range:l,realScaleType:r,scale:n}}}),Vee=(e,t,r,n,a,s,l,u,d)=>{if(!(t==null||n==null)){var f=li(e,d),{type:p,ticks:g,tickCount:y}=t,v=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,w=p==="category"&&n.bandwidth?n.bandwidth()/v:0;w=d==="angleAxis"&&s!=null&&s.length>=2?Pn(s[0]-s[1])*2*w:w;var k=g||a;if(k){var S=k.map((j,N)=>{var E=l?l.indexOf(j):j;return{index:N,coordinate:n(E)+w,value:j,offset:w}});return S.filter(j=>dt(j.coordinate))}return f&&u?u.map((j,N)=>({coordinate:n(j)+w,value:j,index:N,offset:w})).filter(j=>dt(j.coordinate)):n.ticks?n.ticks(y).map(j=>({coordinate:n(j)+w,value:j,offset:w})):n.domain().map((j,N)=>({coordinate:n(j)+w,value:l?l[j]:j,index:N,offset:w}))}},yR=oe([ht,zu,qu,Xi,qw,Hu,Hw,Fw,Wt],Vee),Kee=(e,t,r,n,a,s,l)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var u=li(e,l),{tickCount:d}=t,f=0;return f=l==="angleAxis"&&n?.length>=2?Pn(n[0]-n[1])*2*f:f,u&&s?s.map((p,g)=>({coordinate:r(p)+f,value:p,index:g,offset:f})):r.ticks?r.ticks(d).map(p=>({coordinate:r(p)+f,value:p,offset:f})):r.domain().map((p,g)=>({coordinate:r(p)+f,value:a?a[p]:p,index:g,offset:f}))}},bR=oe([ht,zu,Xi,Hu,Hw,Fw,Wt],Kee),xR=oe(Lr,Xi,(e,t)=>{if(!(e==null||t==null))return Jh(Jh({},e),{},{scale:t})}),Zee=oe([Lr,qu,Uw,hR],Bw);oe((e,t,r)=>$w(e,r),Zee,(e,t)=>{if(!(e==null||t==null))return Jh(Jh({},e),{},{scale:t})});var Gee=oe([ht,F0,V0],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),wR=e=>e.options.defaultTooltipEventType,_R=e=>e.options.validateTooltipEventTypes;function SR(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Vw(e,t){var r=wR(e),n=_R(e);return SR(t,r,n)}function Yee(e){return Te(t=>Vw(t,e))}var kR=(e,t)=>{var r,n=Number(t);if(!(vn(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},Wee=e=>e.tooltip.settings,Fi={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Xee={itemInteraction:{click:Fi,hover:Fi},axisInteraction:{click:Fi,hover:Fi},keyboardInteraction:Fi,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},jR=en({name:"tooltip",initialState:Xee,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:xt()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Jn(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:xt()},removeTooltipEntrySettings:{reducer(e,t){var r=Jn(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:xt()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Jee,replaceTooltipEntrySettings:Qee,removeTooltipEntrySettings:ete,setTooltipSettingsState:tte,setActiveMouseOverItemIndex:rte,mouseLeaveItem:eue,mouseLeaveChart:ER,setActiveClickItemIndex:tue,setMouseOverAxisIndex:NR,setMouseClickAxisIndex:nte,setSyncInteraction:Gb,setKeyboardInteraction:Yb}=jR.actions,ate=jR.reducer;function PO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PO(Object(r),!0).forEach(function(n){ite(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ite(e,t,r){return(t=ste(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ste(e){var t=ote(e,"string");return typeof t=="symbol"?t:t+""}function ote(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lte(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function cte(e){return e.index!=null}var OR=(e,t,r,n)=>{if(t==null)return Fi;var a=lte(e,t,r);if(a==null)return Fi;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(cte(a)){if(s)return Bf(Bf({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return Bf(Bf({},Fi),{},{coordinate:a.coordinate})};function ute(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function dte(e,t){var r=ute(e),n=t[0],a=t[1];if(r===void 0)return!1;var s=Math.min(n,a),l=Math.max(n,a);return r>=s&&r<=l}function fte(e,t,r){if(r==null||t==null)return!0;var n=Nr(e,t);return n==null||!Wi(r)?!0:dte(n,r)}var Kw=(e,t,r,n)=>{var a=e?.index;if(a==null)return null;var s=Number(a);if(!dt(s))return a;var l=0,u=1/0;t.length>0&&(u=t.length-1);var d=Math.max(l,Math.min(s,u)),f=t[d];return f==null||fte(f,r,n)?String(d):null},AR=(e,t,r,n,a,s,l,u)=>{if(!(s==null||u==null)){var d=l[0],f=d==null?void 0:u(d.positions,s);if(f!=null)return f;var p=a?.[Number(s)];if(p)switch(r){case"horizontal":return{x:p.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:p.coordinate}}}},TR=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(s=>{var l;return((l=s.settings)===null||l===void 0?void 0:l.dataKey)===a})},Fu=e=>e.options.tooltipPayloadSearcher,Ml=e=>e.tooltip;function DO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function RO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DO(Object(r),!0).forEach(function(n){hte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hte(e,t,r){return(t=mte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mte(e){var t=pte(e,"string");return typeof t=="symbol"?t:t+""}function pte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gte(e,t){return e??t}var CR=(e,t,r,n,a,s,l)=>{if(!(t==null||s==null)){var{chartData:u,computedData:d,dataStartIndex:f,dataEndIndex:p}=r,g=[];return e.reduce((y,v)=>{var w,{dataDefinedOnItem:k,settings:S}=v,j=gte(k,u),N=Array.isArray(j)?oD(j,f,p):j,E=(w=S?.dataKey)!==null&&w!==void 0?w:n,D=S?.nameKey,O;if(n&&Array.isArray(N)&&!Array.isArray(N[0])&&l==="axis"?O=vP(N,n,a):O=s(N,t,d,D),Array.isArray(O))O.forEach(P=>{var C=RO(RO({},S),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});y.push(nN({tooltipEntrySettings:C,dataKey:P.dataKey,payload:P.payload,value:Nr(P.payload,P.dataKey),name:P.name}))});else{var T;y.push(nN({tooltipEntrySettings:S,dataKey:E,payload:O,value:Nr(O,E),name:(T=Nr(O,D))!==null&&T!==void 0?T:S?.name}))}return y},g)}},Zw=oe([Jt,ht,U4,Ow,Xt],cR),vte=oe([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),yte=oe([Xt,Dl],B4),Vu=oe([vte,Jt,yte],H4,{memoizeOptions:{resultEqualityCheck:cm}}),bte=oe([Vu],e=>e.filter(Mw)),xte=oe([Vu],K4,{memoizeOptions:{resultEqualityCheck:cm}}),$l=oe([xte,rs],Z4),wte=oe([bte,rs,Jt],I4),Gw=oe([$l,Jt,Vu],G4),PR=oe([Jt],Lw),_te=oe([Jt],e=>e.allowDataOverflow),DR=oe([PR,_te],g4),Ste=oe([Vu],e=>e.filter(Mw)),kte=oe([wte,Ste,am,T4],W4),jte=oe([kte,rs,Xt,DR],X4),Ete=oe([Vu],V4),Nte=oe([$l,Jt,Ete,zw,Xt],eR,{memoizeOptions:{resultEqualityCheck:lm}}),Ote=oe([tR,Xt,Dl],Rl),Ate=oe([Ote,Xt],aR),Tte=oe([rR,Xt,Dl],Rl),Cte=oe([Tte,Xt],iR),Pte=oe([nR,Xt,Dl],Rl),Dte=oe([Pte,Xt],sR),Rte=oe([Ate,Dte,Cte],Qh),Mte=oe([Jt,PR,DR,jte,Nte,Rte,ht,Xt],oR),Ku=oe([Jt,ht,$l,Gw,am,Xt,Mte],lR),$te=oe([Ku,Jt,Zw],uR),Ite=oe([Jt,Ku,$te,Xt],dR),RR=e=>{var t=Xt(e),r=Dl(e),n=!1;return Hu(e,t,r,n)},MR=oe([Jt,RR],im),$R=oe([Jt,Zw,Ite,MR],Bw),Lte=oe([ht,Gw,Jt,Xt],gR),zte=oe([ht,Gw,Jt,Xt],vR),Ute=(e,t,r,n,a,s,l,u)=>{if(t){var{type:d}=t,f=li(e,u);if(n){var p=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,g=d==="category"&&n.bandwidth?n.bandwidth()/p:0;return g=u==="angleAxis"&&a!=null&&a?.length>=2?Pn(a[0]-a[1])*2*g:g,f&&l?l.map((y,v)=>({coordinate:n(y)+g,value:y,index:v,offset:g})):n.domain().map((y,v)=>({coordinate:n(y)+g,value:s?s[y]:y,index:v,offset:g}))}}},fi=oe([ht,Jt,Zw,$R,RR,Lte,zte,Xt],Ute),Yw=oe([wR,_R,Wee],(e,t,r)=>SR(r.shared,e,t)),IR=e=>e.tooltip.settings.trigger,Ww=e=>e.tooltip.settings.defaultIndex,Zu=oe([Ml,Yw,IR,Ww],OR),bu=oe([Zu,$l,Bu,Ku],Kw),LR=oe([fi,bu],kR),Bte=oe([Zu],e=>{if(e)return e.dataKey});oe([Zu],e=>{if(e)return e.graphicalItemId});var zR=oe([Ml,Yw,IR,Ww],TR),qte=oe([ci,ui,ht,br,fi,Ww,zR,Fu],AR),Hte=oe([Zu,qte],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Fte=oe([Zu],e=>e.active),Vte=oe([zR,bu,rs,Bu,LR,Fu,Yw],CR),Kte=oe([Vte],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function MO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $O(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MO(Object(r),!0).forEach(function(n){Zte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zte(e,t,r){return(t=Gte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gte(e){var t=Yte(e,"string");return typeof t=="symbol"?t:t+""}function Yte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wte=()=>Te(Jt),Xte=()=>{var e=Wte(),t=Te(fi),r=Te($R);return Ph(!e||!r?void 0:$O($O({},e),{},{scale:r}),t)};function IO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IO(Object(r),!0).forEach(function(n){Jte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jte(e,t,r){return(t=Qte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qte(e){var t=ere(e,"string");return typeof t=="symbol"?t:t+""}function ere(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tre=(e,t,r,n)=>{var a=t.find(s=>s&&s.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},rre=(e,t,r,n)=>{var a=t.find(f=>f&&f.index===r);if(a){if(e==="centric"){var s=a.coordinate,{radius:l}=n;return Xo(Xo(Xo({},n),pr(n.cx,n.cy,l,s)),{},{angle:s,radius:l})}var u=a.coordinate,{angle:d}=n;return Xo(Xo(Xo({},n),pr(n.cx,n.cy,u,d)),{},{angle:d,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function nre(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var UR=(e,t,r,n,a)=>{var s,l=-1,u=(s=t?.length)!==null&&s!==void 0?s:0;if(u<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var d=0;d<u;d++){var f=d>0?r[d-1].coordinate:r[u-1].coordinate,p=r[d].coordinate,g=d>=u-1?r[0].coordinate:r[d+1].coordinate,y=void 0;if(Pn(p-f)!==Pn(g-p)){var v=[];if(Pn(g-p)===Pn(a[1]-a[0])){y=g;var w=p+a[1]-a[0];v[0]=Math.min(w,(w+f)/2),v[1]=Math.max(w,(w+f)/2)}else{y=f;var k=g+a[1]-a[0];v[0]=Math.min(p,(k+p)/2),v[1]=Math.max(p,(k+p)/2)}var S=[Math.min(p,(y+p)/2),Math.max(p,(y+p)/2)];if(e>S[0]&&e<=S[1]||e>=v[0]&&e<=v[1]){({index:l}=r[d]);break}}else{var j=Math.min(f,g),N=Math.max(f,g);if(e>(j+p)/2&&e<=(N+p)/2){({index:l}=r[d]);break}}}else if(t){for(var E=0;E<u;E++)if(E===0&&e<=(t[E].coordinate+t[E+1].coordinate)/2||E>0&&E<u-1&&e>(t[E].coordinate+t[E-1].coordinate)/2&&e<=(t[E].coordinate+t[E+1].coordinate)/2||E===u-1&&e>(t[E].coordinate+t[E-1].coordinate)/2){({index:l}=t[E]);break}}return l},BR=()=>Te(Ow),Xw=(e,t)=>t,qR=(e,t,r)=>r,Jw=(e,t,r,n)=>n,are=oe(fi,e=>M0(e,t=>t.coordinate)),Qw=oe([Ml,Xw,qR,Jw],OR),e1=oe([Qw,$l,Bu,Ku],Kw),ire=(e,t,r)=>{if(t!=null){var n=Ml(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},HR=oe([Ml,Xw,qR,Jw],TR),e0=oe([ci,ui,ht,br,fi,Jw,HR,Fu],AR),sre=oe([Qw,e0],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),FR=oe([fi,e1],kR),ore=oe([HR,e1,rs,Bu,FR,Fu,Xw],CR),lre=oe([Qw,e1],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),cre=(e,t,r,n,a,s,l)=>{if(!(!e||!r||!n||!a)&&nre(e,l)){var u=RG(e,t),d=UR(u,s,a,r,n),f=tre(t,a,d,e);return{activeIndex:String(d),activeCoordinate:f}}},ure=(e,t,r,n,a,s,l)=>{if(!(!e||!n||!a||!s||!r)){var u=VW(e,r);if(u){var d=MG(u,t),f=UR(d,l,s,n,a),p=rre(t,s,f,u);return{activeIndex:String(f),activeCoordinate:p}}}},dre=(e,t,r,n,a,s,l,u)=>{if(!(!e||!t||!n||!a||!s))return t==="horizontal"||t==="vertical"?cre(e,t,n,a,s,l,u):ure(e,t,r,n,a,s,l)},fre=oe(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElementId:n.elementId}}),hre=oe(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Er)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:YQ}});function LO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LO(Object(r),!0).forEach(function(n){mre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mre(e,t,r){return(t=pre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pre(e){var t=gre(e,"string");return typeof t=="symbol"?t:t+""}function gre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vre={},yre={zIndexMap:Object.values(Er).reduce((e,t)=>zO(zO({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),vre)},bre=new Set(Object.values(Er));function xre(e){return bre.has(e)}var VR=en({name:"zIndex",initialState:yre,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:xt()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!xre(r)&&delete e.zIndexMap[r])},prepare:xt()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElementId=n:e.zIndexMap[r].elementId=n:e.zIndexMap[r]={consumers:0,elementId:a?void 0:n,panoramaElementId:a?n:void 0}},prepare:xt()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:xt()}}}),{registerZIndexPortal:wre,unregisterZIndexPortal:_re,registerZIndexPortalId:Sre,unregisterZIndexPortalId:kre}=VR.actions,jre=VR.reducer;function xa(e){var{zIndex:t,children:r}=e,n=pY(),a=n&&t!==void 0&&t!==0,s=Ir(),l=Gt();x.useLayoutEffect(()=>a?(l(wre({zIndex:t})),()=>{l(_re({zIndex:t}))}):Nu,[l,t,a]);var u=Te(f=>fre(f,t,s));if(!a)return r;if(!u)return null;var d=document.getElementById(u);return d?to.createPortal(r,d):null}function Wb(){return Wb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wb.apply(null,arguments)}function UO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UO(Object(r),!0).forEach(function(n){Ere(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ere(e,t,r){return(t=Nre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nre(e){var t=Ore(e,"string");return typeof t=="symbol"?t:t+""}function Ore(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Are(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return x.isValidElement(t)?x.cloneElement(t,n):x.createElement(r,n)}function Tre(e){var t,{coordinate:r,payload:n,index:a,offset:s,tooltipAxisBandSize:l,layout:u,cursor:d,tooltipEventType:f,chartName:p}=e,g=r,y=n,v=a;if(!d||!g||p!=="ScatterChart"&&f!=="axis")return null;var w,k,S;if(p==="ScatterChart")w=g,k=nW,S=Er.cursorLine;else if(p==="BarChart")w=aW(u,g,s,l),k=MW,S=Er.cursorRectangle;else if(u==="radial"&&yP(g)){var{cx:j,cy:N,radius:E,startAngle:D,endAngle:O}=DD(g);w={cx:j,cy:N,startAngle:D,endAngle:O,innerRadius:E,outerRadius:E},k=YW,S=Er.cursorLine}else w={points:WW(u,g,s)},k=eh,S=Er.cursorLine;var T=typeof d=="object"&&"className"in d?d.className:void 0,P=qf(qf(qf(qf({stroke:"#ccc",pointerEvents:"none"},s),w),C0(d)),{},{payload:y,payloadIndex:v,className:ft("recharts-tooltip-cursor",T)});return x.createElement(xa,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:S},x.createElement(Are,{cursor:d,cursorComp:k,cursorProps:P}))}function Cre(e){var t=Xte(),r=vD(),n=Du(),a=BR();return t==null||r==null||n==null||a==null?null:x.createElement(Tre,Wb({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var KR=x.createContext(null),Pre=()=>x.useContext(KR),py={exports:{}},BO;function Dre(){return BO||(BO=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(d,f,p){this.fn=d,this.context=f,this.once=p||!1}function s(d,f,p,g,y){if(typeof p!="function")throw new TypeError("The listener must be a function");var v=new a(p,g||d,y),w=r?r+f:f;return d._events[w]?d._events[w].fn?d._events[w]=[d._events[w],v]:d._events[w].push(v):(d._events[w]=v,d._eventsCount++),d}function l(d,f){--d._eventsCount===0?d._events=new n:delete d._events[f]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],p,g;if(this._eventsCount===0)return f;for(g in p=this._events)t.call(p,g)&&f.push(r?g.slice(1):g);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(p)):f},u.prototype.listeners=function(f){var p=r?r+f:f,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var y=0,v=g.length,w=new Array(v);y<v;y++)w[y]=g[y].fn;return w},u.prototype.listenerCount=function(f){var p=r?r+f:f,g=this._events[p];return g?g.fn?1:g.length:0},u.prototype.emit=function(f,p,g,y,v,w){var k=r?r+f:f;if(!this._events[k])return!1;var S=this._events[k],j=arguments.length,N,E;if(S.fn){switch(S.once&&this.removeListener(f,S.fn,void 0,!0),j){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,p),!0;case 3:return S.fn.call(S.context,p,g),!0;case 4:return S.fn.call(S.context,p,g,y),!0;case 5:return S.fn.call(S.context,p,g,y,v),!0;case 6:return S.fn.call(S.context,p,g,y,v,w),!0}for(E=1,N=new Array(j-1);E<j;E++)N[E-1]=arguments[E];S.fn.apply(S.context,N)}else{var D=S.length,O;for(E=0;E<D;E++)switch(S[E].once&&this.removeListener(f,S[E].fn,void 0,!0),j){case 1:S[E].fn.call(S[E].context);break;case 2:S[E].fn.call(S[E].context,p);break;case 3:S[E].fn.call(S[E].context,p,g);break;case 4:S[E].fn.call(S[E].context,p,g,y);break;default:if(!N)for(O=1,N=new Array(j-1);O<j;O++)N[O-1]=arguments[O];S[E].fn.apply(S[E].context,N)}}return!0},u.prototype.on=function(f,p,g){return s(this,f,p,g,!1)},u.prototype.once=function(f,p,g){return s(this,f,p,g,!0)},u.prototype.removeListener=function(f,p,g,y){var v=r?r+f:f;if(!this._events[v])return this;if(!p)return l(this,v),this;var w=this._events[v];if(w.fn)w.fn===p&&(!y||w.once)&&(!g||w.context===g)&&l(this,v);else{for(var k=0,S=[],j=w.length;k<j;k++)(w[k].fn!==p||y&&!w[k].once||g&&w[k].context!==g)&&S.push(w[k]);S.length?this._events[v]=S.length===1?S[0]:S:l(this,v)}return this},u.prototype.removeAllListeners=function(f){var p;return f?(p=r?r+f:f,this._events[p]&&l(this,p)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u})(py)),py.exports}var Rre=Dre();const Mre=va(Rre);var xu=new Mre,Xb="recharts.syncEvent.tooltip",qO="recharts.syncEvent.brush";function $re(e,t){if(t){var r=Number.parseInt(t,10);if(!vn(r))return e?.[r]}}var Ire={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},ZR=en({name:"options",initialState:Ire,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Lre=ZR.reducer,{createEventEmitter:zre}=ZR.actions;function Ure(e){return e.tooltip.syncInteraction}var Bre={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},GR=en({name:"chartData",initialState:Bre,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:HO,setDataStartEndIndexes:qre,setComputedData:rue}=GR.actions,Hre=GR.reducer,Fre=["x","y"];function FO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FO(Object(r),!0).forEach(function(n){Vre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vre(e,t,r){return(t=Kre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kre(e){var t=Zre(e,"string");return typeof t=="symbol"?t:t+""}function Zre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gre(e,t){if(e==null)return{};var r,n,a=Yre(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Yre(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Wre(){var e=Te(Aw),t=Te(Tw),r=Gt(),n=Te(C4),a=Te(fi),s=Du(),l=Pu(),u=Te(d=>d.rootProps.className);x.useEffect(()=>{if(e==null)return Nu;var d=(f,p,g)=>{if(t!==g&&e===f){if(n==="index"){var y;if(l&&p!==null&&p!==void 0&&(y=p.payload)!==null&&y!==void 0&&y.coordinate&&p.payload.sourceViewBox){var v=p.payload.coordinate,{x:w,y:k}=v,S=Gre(v,Fre),{x:j,y:N,width:E,height:D}=p.payload.sourceViewBox,O=Jo(Jo({},S),{},{x:l.x+(E?(w-j)/E:0)*l.width,y:l.y+(D?(k-N)/D:0)*l.height});r(Jo(Jo({},p),{},{payload:Jo(Jo({},p.payload),{},{coordinate:O})}))}else r(p);return}if(a!=null){var T;if(typeof n=="function"){var P={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},C=n(a,P);T=a[C]}else n==="value"&&(T=a.find(q=>String(q.value)===p.payload.label));var{coordinate:R}=p.payload;if(T==null||p.payload.active===!1||R==null||l==null){r(Gb({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:I,y:M}=R,z=Math.min(I,l.x+l.width),B=Math.min(M,l.y+l.height),G={x:s==="horizontal"?T.coordinate:z,y:s==="horizontal"?B:T.coordinate},ae=Gb({active:p.payload.active,coordinate:G,dataKey:p.payload.dataKey,index:String(T.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox,graphicalItemId:p.payload.graphicalItemId});r(ae)}}};return xu.on(Xb,d),()=>{xu.off(Xb,d)}},[u,r,t,e,n,a,s,l])}function Xre(){var e=Te(Aw),t=Te(Tw),r=Gt();x.useEffect(()=>{if(e==null)return Nu;var n=(a,s,l)=>{t!==l&&e===a&&r(qre(s))};return xu.on(qO,n),()=>{xu.off(qO,n)}},[r,t,e])}function Jre(){var e=Gt();x.useEffect(()=>{e(zre())},[e]),Wre(),Xre()}function Qre(e,t,r,n,a,s){var l=Te(v=>ire(v,e,t)),u=Te(Tw),d=Te(Aw),f=Te(C4),p=Te(Ure),g=p?.active,y=Pu();x.useEffect(()=>{if(!g&&d!=null&&u!=null){var v=Gb({active:s,coordinate:r,dataKey:l,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:y,graphicalItemId:void 0});xu.emit(Xb,d,v,u)}},[g,r,l,a,n,u,d,f,s,y])}function VO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function KO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VO(Object(r),!0).forEach(function(n){ene(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ene(e,t,r){return(t=tne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tne(e){var t=rne(e,"string");return typeof t=="symbol"?t:t+""}function rne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nne(e){return e.dataKey}function ane(e,t){return x.isValidElement(e)?x.cloneElement(e,t):typeof e=="function"?x.createElement(e,t):x.createElement($Y,t)}var ZO=[],ine={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function sne(e){var t,r,n=Qr(e,ine),{active:a,allowEscapeViewBox:s,animationDuration:l,animationEasing:u,content:d,filterNull:f,isAnimationActive:p,offset:g,payloadUniqBy:y,position:v,reverseDirection:w,useTranslate3d:k,wrapperStyle:S,cursor:j,shared:N,trigger:E,defaultIndex:D,portal:O,axisId:T}=n,P=Gt(),C=typeof D=="number"?String(D):D;x.useEffect(()=>{P(tte({shared:N,trigger:E,axisId:T,active:a,defaultIndex:C}))},[P,N,E,T,a,C]);var R=Pu(),I=ND(),M=Yee(N),{activeIndex:z,isActive:B}=(t=Te(ve=>lre(ve,M,E,C)))!==null&&t!==void 0?t:{},G=Te(ve=>ore(ve,M,E,C)),ae=Te(ve=>FR(ve,M,E,C)),q=Te(ve=>sre(ve,M,E,C)),F=G,W=Pre(),J=(r=a??B)!==null&&r!==void 0?r:!1,[pe,L]=xZ([F,J]),K=M==="axis"?ae:void 0;Qre(M,E,q,K,z,J);var U=O??W;if(U==null||R==null||M==null)return null;var te=F??ZO;J||(te=ZO),f&&te.length&&(te=KK(te.filter(ve=>ve.value!=null&&(ve.hide!==!0||n.includeHidden)),y,nne));var ne=te.length>0,de=x.createElement(HY,{allowEscapeViewBox:s,animationDuration:l,animationEasing:u,isAnimationActive:p,active:J,coordinate:q,hasPayload:ne,offset:g,position:v,reverseDirection:w,useTranslate3d:k,viewBox:R,wrapperStyle:S,lastBoundingBox:pe,innerRef:L,hasPortalFromProps:!!O},ane(d,KO(KO({},n),{},{payload:te,label:K,active:J,activeIndex:z,coordinate:q,accessibilityLayer:I})));return x.createElement(x.Fragment,null,to.createPortal(de,U),J&&x.createElement(Cre,{cursor:j,tooltipEventType:M,coordinate:q,payload:te,index:z}))}function one(e,t,r){return(t=lne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lne(e){var t=cne(e,"string");return typeof t=="symbol"?t:t+""}function cne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class une{constructor(t){one(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function GO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dne(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GO(Object(r),!0).forEach(function(n){fne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fne(e,t,r){return(t=hne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hne(e){var t=mne(e,"string");return typeof t=="symbol"?t:t+""}function mne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pne={cacheSize:2e3,enableCache:!0},YR=dne({},pne),YO=new une(YR.cacheSize),gne={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},WO="recharts_measurement_span";function vne(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",s=t.fontStyle||"",l=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(s,"|").concat(l,"|").concat(u)}var XO=(e,t)=>{try{var r=document.getElementById(WO);r||(r=document.createElement("span"),r.setAttribute("id",WO),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,gne,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Qc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Al.isSsr)return{width:0,height:0};if(!YR.enableCache)return XO(t,r);var n=vne(t,r),a=YO.get(n);if(a)return a;var s=XO(t,r);return YO.set(n,s),s},JO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,QO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,yne=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,bne=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,WR={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},xne=Object.keys(WR),al="NaN";function wne(e,t){return e*WR[t]}class Yr{static parse(t){var r,[,n,a]=(r=bne.exec(t))!==null&&r!==void 0?r:[];return new Yr(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,vn(t)&&(this.unit=""),r!==""&&!yne.test(r)&&(this.num=NaN,this.unit=""),xne.includes(r)&&(this.num=wne(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Yr(NaN,""):new Yr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Yr(NaN,""):new Yr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Yr(NaN,""):new Yr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Yr(NaN,""):new Yr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return vn(this.num)}}function XR(e){if(e.includes(al))return al;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,s]=(r=JO.exec(t))!==null&&r!==void 0?r:[],l=Yr.parse(n??""),u=Yr.parse(s??""),d=a==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return al;t=t.replace(JO,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,p,g,y]=(f=QO.exec(t))!==null&&f!==void 0?f:[],v=Yr.parse(p??""),w=Yr.parse(y??""),k=g==="+"?v.add(w):v.subtract(w);if(k.isNaN())return al;t=t.replace(QO,k.toString())}return t}var eA=/\(([^()]*)\)/;function _ne(e){for(var t=e,r;(r=eA.exec(t))!=null;){var[,n]=r;t=t.replace(eA,XR(n))}return t}function Sne(e){var t=e.replace(/\s+/g,"");return t=_ne(t),t=XR(t),t}function kne(e){try{return Sne(e)}catch{return al}}function gy(e){var t=kne(e.slice(5,-1));return t===al?"":t}var jne=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Ene=["dx","dy","angle","className","breakAll"];function Jb(){return Jb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jb.apply(null,arguments)}function tA(e,t){if(e==null)return{};var r,n,a=Nne(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Nne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var JR=/[ \f\n\r\t\v\u2028\u2029]+/,QR=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];gr(t)||(r?a=t.toString().split(""):a=t.toString().split(JR));var s=a.map(u=>({word:u,width:Qc(u,n).width})),l=r?0:Qc("",n).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}};function One(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var eM=(e,t,r,n)=>e.reduce((a,s)=>{var{word:l,width:u}=s,d=a[a.length-1];if(d&&u!=null&&(t==null||n||d.width+u+r<Number(t)))d.words.push(l),d.width+=u+r;else{var f={words:[l],width:u};a.push(f)}return a},[]),tM=e=>e.reduce((t,r)=>t.width>r.width?t:r),Ane="",rA=(e,t,r,n,a,s,l,u)=>{var d=e.slice(0,t),f=QR({breakAll:r,style:n,children:d+Ane});if(!f)return[!1,[]];var p=eM(f.wordsWithComputedWidth,s,l,u),g=p.length>a||tM(p).width>Number(s);return[g,p]},Tne=(e,t,r,n,a)=>{var{maxLines:s,children:l,style:u,breakAll:d}=e,f=Ce(s),p=String(l),g=eM(t,n,r,a);if(!f||a)return g;var y=g.length>s||tM(g).width>Number(n);if(!y)return g;for(var v=0,w=p.length-1,k=0,S;v<=w&&k<=p.length-1;){var j=Math.floor((v+w)/2),N=j-1,[E,D]=rA(p,N,d,u,s,n,r,a),[O]=rA(p,j,d,u,s,n,r,a);if(!E&&!O&&(v=j+1),E&&O&&(w=j-1),!E&&O){S=D;break}k++}return S||g},nA=e=>{var t=gr(e)?[]:e.toString().split(JR);return[{words:t,width:void 0}]},Cne=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:s,maxLines:l}=e;if((t||r)&&!Al.isSsr){var u,d,f=QR({breakAll:s,children:n,style:a});if(f){var{wordsWithComputedWidth:p,spaceWidth:g}=f;u=p,d=g}else return nA(n);return Tne({breakAll:s,children:n,maxLines:l,style:a},u,d,t,!!r)}return nA(n)},rM="#808080",Pne={angle:0,breakAll:!1,capHeight:"0.71em",fill:rM,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},t1=x.forwardRef((e,t)=>{var r=Qr(e,Pne),{x:n,y:a,lineHeight:s,capHeight:l,fill:u,scaleToFit:d,textAnchor:f,verticalAnchor:p}=r,g=tA(r,jne),y=x.useMemo(()=>Cne({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:d,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,d,g.style,g.width]),{dx:v,dy:w,angle:k,className:S,breakAll:j}=g,N=tA(g,Ene);if(!Mn(n)||!Mn(a)||y.length===0)return null;var E=Number(n)+(Ce(v)?v:0),D=Number(a)+(Ce(w)?w:0);if(!dt(E)||!dt(D))return null;var O;switch(p){case"start":O=gy("calc(".concat(l,")"));break;case"middle":O=gy("calc(".concat((y.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:O=gy("calc(".concat(y.length-1," * -").concat(s,")"));break}var T=[];if(d){var P=y[0].width,{width:C}=g;T.push("scale(".concat(Ce(C)&&Ce(P)?C/P:1,")"))}return k&&T.push("rotate(".concat(k,", ").concat(E,", ").concat(D,")")),T.length&&(N.transform=T.join(" ")),x.createElement("text",Jb({},gn(N),{ref:t,x:E,y:D,className:ft("recharts-text",S),textAnchor:f,fill:u.includes("url")?rM:u}),y.map((R,I)=>{var M=R.words.join(j?"":" ");return x.createElement("tspan",{x:E,dy:I===0?O:s,key:"".concat(M,"-").concat(I)},M)}))});t1.displayName="Text";var Dne=["labelRef"];function Rne(e,t){if(e==null)return{};var r,n,a=Mne(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Mne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function aA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aA(Object(r),!0).forEach(function(n){$ne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $ne(e,t,r){return(t=Ine(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ine(e){var t=Lne(e,"string");return typeof t=="symbol"?t:t+""}function Lne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Va(){return Va=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Va.apply(null,arguments)}var nM=x.createContext(null),aM=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:l,children:u}=e,d=x.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:l}),[t,r,n,a,s,l]);return x.createElement(nM.Provider,{value:d},u)},iM=()=>{var e=x.useContext(nM),t=Pu();return e||gD(t)},zne=x.createContext(null),Une=()=>{var e=x.useContext(zne),t=Te($4);return e||t},Bne=e=>{var{value:t,formatter:r}=e,n=gr(e.children)?t:e.children;return typeof r=="function"?r(n):n},r1=e=>e!=null&&typeof e=="function",qne=(e,t)=>{var r=Pn(t-e),n=Math.min(Math.abs(t-e),360);return r*n},Hne=(e,t,r,n,a)=>{var{offset:s,className:l}=e,{cx:u,cy:d,innerRadius:f,outerRadius:p,startAngle:g,endAngle:y,clockWise:v}=a,w=(f+p)/2,k=qne(g,y),S=k>=0?1:-1,j,N;switch(t){case"insideStart":j=g+S*s,N=v;break;case"insideEnd":j=y-S*s,N=!v;break;case"end":j=y+S*s,N=v;break;default:throw new Error("Unsupported position ".concat(t))}N=k<=0?N:!N;var E=pr(u,d,w,j),D=pr(u,d,w,j+(N?1:-1)*359),O="M".concat(E.x,",").concat(E.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(N?0:1,`,
    `).concat(D.x,",").concat(D.y),T=gr(e.id)?su("recharts-radial-line-"):e.id;return x.createElement("text",Va({},n,{dominantBaseline:"central",className:ft("recharts-radial-bar-label",l)}),x.createElement("defs",null,x.createElement("path",{id:T,d:O})),x.createElement("textPath",{xlinkHref:"#".concat(T)},r))},Fne=(e,t,r)=>{var{cx:n,cy:a,innerRadius:s,outerRadius:l,startAngle:u,endAngle:d}=e,f=(u+d)/2;if(r==="outside"){var{x:p,y:g}=pr(n,a,l+t,f);return{x:p,y:g,textAnchor:p>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var y=(s+l)/2,{x:v,y:w}=pr(n,a,y,f);return{x:v,y:w,textAnchor:"middle",verticalAnchor:"middle"}},Qb=e=>"cx"in e&&Ce(e.cx),Vne=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,s;r!=null&&!Qb(r)&&(s=r);var{x:l,y:u,upperWidth:d,lowerWidth:f,height:p}=t,g=l,y=l+(d-f)/2,v=(g+y)/2,w=(d+f)/2,k=g+d/2,S=p>=0?1:-1,j=S*n,N=S>0?"end":"start",E=S>0?"start":"end",D=d>=0?1:-1,O=D*n,T=D>0?"end":"start",P=D>0?"start":"end";if(a==="top"){var C={x:g+d/2,y:u-j,textAnchor:"middle",verticalAnchor:N};return Dt(Dt({},C),s?{height:Math.max(u-s.y,0),width:d}:{})}if(a==="bottom"){var R={x:y+f/2,y:u+p+j,textAnchor:"middle",verticalAnchor:E};return Dt(Dt({},R),s?{height:Math.max(s.y+s.height-(u+p),0),width:f}:{})}if(a==="left"){var I={x:v-O,y:u+p/2,textAnchor:T,verticalAnchor:"middle"};return Dt(Dt({},I),s?{width:Math.max(I.x-s.x,0),height:p}:{})}if(a==="right"){var M={x:v+w+O,y:u+p/2,textAnchor:P,verticalAnchor:"middle"};return Dt(Dt({},M),s?{width:Math.max(s.x+s.width-M.x,0),height:p}:{})}var z=s?{width:w,height:p}:{};return a==="insideLeft"?Dt({x:v+O,y:u+p/2,textAnchor:P,verticalAnchor:"middle"},z):a==="insideRight"?Dt({x:v+w-O,y:u+p/2,textAnchor:T,verticalAnchor:"middle"},z):a==="insideTop"?Dt({x:g+d/2,y:u+j,textAnchor:"middle",verticalAnchor:E},z):a==="insideBottom"?Dt({x:y+f/2,y:u+p-j,textAnchor:"middle",verticalAnchor:N},z):a==="insideTopLeft"?Dt({x:g+O,y:u+j,textAnchor:P,verticalAnchor:E},z):a==="insideTopRight"?Dt({x:g+d-O,y:u+j,textAnchor:T,verticalAnchor:E},z):a==="insideBottomLeft"?Dt({x:y+O,y:u+p-j,textAnchor:P,verticalAnchor:N},z):a==="insideBottomRight"?Dt({x:y+f-O,y:u+p-j,textAnchor:T,verticalAnchor:N},z):a&&typeof a=="object"&&(Ce(a.x)||ei(a.x))&&(Ce(a.y)||ei(a.y))?Dt({x:l+Yi(a.x,w),y:u+Yi(a.y,p),textAnchor:"end",verticalAnchor:"end"},z):Dt({x:k,y:u+p/2,textAnchor:"middle",verticalAnchor:"middle"},z)},Kne={angle:0,offset:5,zIndex:Er.label,position:"middle",textBreakAll:!1};function Ui(e){var t=Qr(e,Kne),{viewBox:r,position:n,value:a,children:s,content:l,className:u="",textBreakAll:d,labelRef:f}=t,p=Une(),g=iM(),y=n==="center"?g:p??g,v,w,k;if(r==null?v=y:Qb(r)?v=r:v=gD(r),!v||gr(a)&&gr(s)&&!x.isValidElement(l)&&typeof l!="function")return null;var S=Dt(Dt({},t),{},{viewBox:v});if(x.isValidElement(l)){var{labelRef:j}=S,N=Rne(S,Dne);return x.cloneElement(l,N)}if(typeof l=="function"){if(w=x.createElement(l,S),x.isValidElement(w))return w}else w=Bne(t);var E=gn(t);if(Qb(v)){if(n==="insideStart"||n==="insideEnd"||n==="end")return Hne(t,n,w,E,v);k=Fne(v,t.offset,t.position)}else k=Vne(t,v);return x.createElement(xa,{zIndex:t.zIndex},x.createElement(t1,Va({ref:f,className:ft("recharts-label",u)},E,k,{textAnchor:One(E.textAnchor)?E.textAnchor:k.textAnchor,breakAll:d}),w))}Ui.displayName="Label";var Zne=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?x.createElement(Ui,Va({key:"label-implicit"},n)):Mn(e)?x.createElement(Ui,Va({key:"label-implicit",value:e},n)):x.isValidElement(e)?e.type===Ui?x.cloneElement(e,Dt({key:"label-implicit"},n)):x.createElement(Ui,Va({key:"label-implicit",content:e},n)):r1(e)?x.createElement(Ui,Va({key:"label-implicit",content:e},n)):e&&typeof e=="object"?x.createElement(Ui,Va({},e,{key:"label-implicit"},n)):null};function sM(e){var{label:t,labelRef:r}=e,n=iM();return Zne(t,n,r)||null}var vy={},yy={},iA;function Gne(){return iA||(iA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(yy)),yy}var by={},sA;function Yne(){return sA||(sA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(by)),by}var oA;function Wne(){return oA||(oA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gne(),r=Yne(),n=Hx();function a(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=a})(vy)),vy}var xy,lA;function Xne(){return lA||(lA=1,xy=Wne().last),xy}var Jne=Xne();const Qne=va(Jne);var eae=["valueAccessor"],tae=["dataKey","clockWise","id","textBreakAll","zIndex"];function t0(){return t0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t0.apply(null,arguments)}function cA(e,t){if(e==null)return{};var r,n,a=rae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function rae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var nae=e=>Array.isArray(e.value)?Qne(e.value):e.value,oM=x.createContext(void 0),aae=oM.Provider,lM=x.createContext(void 0);lM.Provider;function iae(){return x.useContext(oM)}function sae(){return x.useContext(lM)}function rh(e){var{valueAccessor:t=nae}=e,r=cA(e,eae),{dataKey:n,clockWise:a,id:s,textBreakAll:l,zIndex:u}=r,d=cA(r,tae),f=iae(),p=sae(),g=f||p;return!g||!g.length?null:x.createElement(xa,{zIndex:u??Er.label},x.createElement(ea,{className:"recharts-label-list"},g.map((y,v)=>{var w,k=gr(n)?t(y,v):Nr(y&&y.payload,n),S=gr(s)?{}:{id:"".concat(s,"-").concat(v)};return x.createElement(Ui,t0({key:"label-".concat(v)},gn(y),d,S,{fill:(w=r.fill)!==null&&w!==void 0?w:y.fill,parentViewBox:y.parentViewBox,value:k,textBreakAll:l,viewBox:y.viewBox,index:v,zIndex:0}))})))}rh.displayName="LabelList";function oae(e){var{label:t}=e;return t?t===!0?x.createElement(rh,{key:"labelList-implicit"}):x.isValidElement(t)||r1(t)?x.createElement(rh,{key:"labelList-implicit",content:t}):typeof t=="object"?x.createElement(rh,t0({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function ex(){return ex=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ex.apply(null,arguments)}var cM=e=>{var{cx:t,cy:r,r:n,className:a}=e,s=ft("recharts-dot",a);return Ce(t)&&Ce(r)&&Ce(n)?x.createElement("circle",ex({},Qn(e),qx(e),{className:s,cx:t,cy:r,r:n})):null},lae={radiusAxis:{},angleAxis:{}},uM=en({name:"polarAxis",initialState:lae,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:nue,removeRadiusAxis:aue,addAngleAxis:iue,removeAngleAxis:sue}=uM.actions,cae=uM.reducer,dM=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0;function uae(e){var{tooltipEntrySettings:t}=e,r=Gt(),n=Ir(),a=x.useRef(null);return x.useLayoutEffect(()=>{n||(a.current===null?r(Jee(t)):a.current!==t&&r(Qee({prev:a.current,next:t})),a.current=t)},[t,r,n]),x.useLayoutEffect(()=>()=>{a.current&&(r(ete(a.current)),a.current=null)},[r]),null}function dae(e){var{legendPayload:t}=e,r=Gt(),n=Ir(),a=x.useRef(null);return x.useLayoutEffect(()=>{n||(a.current===null?r(OY(t)):a.current!==t&&r(AY({prev:a.current,next:t})),a.current=t)},[r,n,t]),x.useLayoutEffect(()=>()=>{a.current&&(r(TY(a.current)),a.current=null)},[r]),null}var wy,fae=()=>{var[e]=x.useState(()=>su("uid-"));return e},hae=(wy=Ey.useId)!==null&&wy!==void 0?wy:fae;function fM(e,t){var r=hae();return t||(e?"".concat(e,"-").concat(r):r)}var mae=x.createContext(void 0),pae=e=>{var{id:t,type:r,children:n}=e,a=fM("recharts-".concat(r),t);return x.createElement(mae.Provider,{value:a},n(a))},gae={cartesianItems:[],polarItems:[]},hM=en({name:"graphicalItems",initialState:gae,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:xt()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Jn(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:xt()},removeCartesianGraphicalItem:{reducer(e,t){var r=Jn(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:xt()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:xt()},removePolarGraphicalItem:{reducer(e,t){var r=Jn(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:xt()}}}),{addCartesianGraphicalItem:vae,replaceCartesianGraphicalItem:yae,removeCartesianGraphicalItem:bae,addPolarGraphicalItem:oue,removePolarGraphicalItem:lue}=hM.actions,xae=hM.reducer,wae=e=>{var t=Gt(),r=x.useRef(null);return x.useLayoutEffect(()=>{r.current===null?t(vae(e)):r.current!==e&&t(yae({prev:r.current,next:e})),r.current=e},[t,e]),x.useLayoutEffect(()=>()=>{r.current&&(t(bae(r.current)),r.current=null)},[t]),null},_ae=x.memo(wae),Sae=["points"];function uA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _y(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uA(Object(r),!0).forEach(function(n){kae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kae(e,t,r){return(t=jae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jae(e){var t=Eae(e,"string");return typeof t=="symbol"?t:t+""}function Eae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function r0(){return r0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r0.apply(null,arguments)}function Nae(e,t){if(e==null)return{};var r,n,a=Oae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Oae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Aae(e){var{option:t,dotProps:r,className:n}=e;if(x.isValidElement(t))return x.cloneElement(t,r);if(typeof t=="function")return t(r);var a=ft(n,typeof t!="boolean"?t.className:""),s=r??{},{points:l}=s,u=Nae(s,Sae);return x.createElement(cM,r0({},u,{className:a}))}function Tae(e,t){return e==null?!1:t?!0:e.length===1}function Cae(e){var{points:t,dot:r,className:n,dotClassName:a,dataKey:s,baseProps:l,needClip:u,clipPathId:d,zIndex:f=Er.scatter}=e;if(!Tae(t,r))return null;var p=dM(r),g=UV(r),y=t.map((w,k)=>{var S,j,N=_y(_y(_y({r:3},l),g),{},{index:k,cx:(S=w.x)!==null&&S!==void 0?S:void 0,cy:(j=w.y)!==null&&j!==void 0?j:void 0,dataKey:s,value:w.value,payload:w.payload,points:t});return x.createElement(Aae,{key:"dot-".concat(k),option:r,dotProps:N,className:a})}),v={};return u&&d!=null&&(v.clipPath="url(#clipPath-".concat(p?"":"dots-").concat(d,")")),x.createElement(xa,{zIndex:f},x.createElement(ea,r0({className:n},v),y))}function dA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dA(Object(r),!0).forEach(function(n){Pae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pae(e,t,r){return(t=Dae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dae(e){var t=Rae(e,"string");return typeof t=="symbol"?t:t+""}function Rae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mae={xAxis:{},yAxis:{},zAxis:{}},mM=en({name:"cartesianAxis",initialState:Mae,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:xt()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:xt()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:xt()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:xt()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:xt()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:xt()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:xt()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:xt()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:xt()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var s=a.widthHistory||[];if(s.length===3&&s[0]===s[2]&&n===s[1]&&n!==a.width&&Math.abs(n-s[0])<=1)return;var l=[...s,n].slice(-3);e.yAxis[r]=fA(fA({},e.yAxis[r]),{},{width:n,widthHistory:l})}}}}),{addXAxis:$ae,replaceXAxis:Iae,removeXAxis:Lae,addYAxis:zae,replaceYAxis:Uae,removeYAxis:Bae,addZAxis:cue,replaceZAxis:uue,removeZAxis:due,updateYAxisWidth:qae}=mM.actions,Hae=mM.reducer,Fae=oe([br],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Vae=oe([Fae,ci,ui],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),n1=()=>Te(Vae),Kae=()=>Te(Kte);function hA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hA(Object(r),!0).forEach(function(n){Zae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zae(e,t,r){return(t=Gae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gae(e){var t=Yae(e,"string");return typeof t=="symbol"?t:t+""}function Yae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wae=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:s,clipPath:l}=e;if(a===!1||t.x==null||t.y==null)return null;var u={index:r,dataKey:s,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},d=Sy(Sy(Sy({},u),C0(a)),qx(a)),f;return x.isValidElement(a)?f=x.cloneElement(a,d):typeof a=="function"?f=a(d):f=x.createElement(cM,d),x.createElement(ea,{className:"recharts-active-dot",clipPath:l},f)};function mA(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a,clipPath:s,zIndex:l=Er.activeDot}=e,u=Te(bu),d=Kae();if(t==null||d==null)return null;var f=t.find(p=>d.includes(p.payload));return gr(f)?null:x.createElement(xa,{zIndex:l},x.createElement(Wae,{point:f,childIndex:Number(u),mainColor:r,dataKey:a,activeDot:n,clipPath:s}))}var Xae={},pM=en({name:"errorBars",initialState:Xae,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?a:s))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:fue,replaceErrorBar:hue,removeErrorBar:mue}=pM.actions,Jae=pM.reducer;function gM(e,t){var r,n,a=Te(f=>ya(f,e)),s=Te(f=>ba(f,t)),l=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:tr.allowDataOverflow,u=(n=s?.allowDataOverflow)!==null&&n!==void 0?n:rr.allowDataOverflow,d=l||u;return{needClip:d,needClipX:l,needClipY:u}}function Qae(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=n1(),{needClipX:s,needClipY:l,needClip:u}=gM(t,r);if(!u||!a)return null;var{x:d,y:f,width:p,height:g}=a;return x.createElement("clipPath",{id:"clipPath-".concat(n)},x.createElement("rect",{x:s?d:d-p/2,y:l?f:f-g/2,width:s?p:p*2,height:l?g:g*2}))}function eie(e){e()}function tie(){let e=null,t=null;return{clear(){e=null,t=null},notify(){eie(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var pA={notify(){},get:()=>[]};function rie(e,t){let r,n=pA,a=0,s=!1;function l(k){p();const S=n.subscribe(k);let j=!1;return()=>{j||(j=!0,S(),g())}}function u(){n.notify()}function d(){w.onStateChange&&w.onStateChange()}function f(){return s}function p(){a++,r||(r=e.subscribe(d),n=tie())}function g(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=pA)}function y(){s||(s=!0,p())}function v(){s&&(s=!1,g())}const w={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:d,isSubscribed:f,trySubscribe:y,tryUnsubscribe:v,getListeners:()=>n};return w}var nie=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",aie=nie(),iie=()=>typeof navigator<"u"&&navigator.product==="ReactNative",sie=iie(),oie=()=>aie||sie?x.useLayoutEffect:x.useEffect,lie=oie();function gA(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function cie(e,t){if(gA(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!gA(e[r[a]],t[r[a]]))return!1;return!0}var uie=Symbol.for("react-redux-context"),die=typeof globalThis<"u"?globalThis:{};function fie(){if(!x.createContext)return{};const e=die[uie]??=new Map;let t=e.get(x.createContext);return t||(t=x.createContext(null),e.set(x.createContext,t)),t}var hie=fie();function mie(e){const{children:t,context:r,serverState:n,store:a}=e,s=x.useMemo(()=>{const d=rie(a);return{store:a,subscription:d,getServerState:n?()=>n:void 0}},[a,n]),l=x.useMemo(()=>a.getState(),[a]);lie(()=>{const{subscription:d}=s;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==a.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[s,l]);const u=r||hie;return x.createElement(u.Provider,{value:s},t)}var pie=mie,gie=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function vie(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function a1(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(gie.has(n)){if(e[n]==null&&t[n]==null)continue;if(!cie(e[n],t[n]))return!1}else if(!vie(e[n],t[n]))return!1;return!0}var yie=e=>{var{chartData:t}=e,r=Gt(),n=Ir();return x.useEffect(()=>n?()=>{}:(r(HO(t)),()=>{r(HO(void 0))}),[t,r,n]),null},vA={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},vM=en({name:"brush",initialState:vA,reducers:{setBrushSettings(e,t){return t.payload==null?vA:t.payload}}}),{setBrushSettings:pue}=vM.actions,bie=vM.reducer;function yA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yA(Object(r),!0).forEach(function(n){yM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yM(e,t,r){return(t=xie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xie(e){var t=wie(e,"string");return typeof t=="symbol"?t:t+""}function wie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _ie=(e,t)=>{var{x:r,y:n}=e,{x:a,y:s}=t;return{x:Math.min(r,a),y:Math.min(n,s),width:Math.abs(a-r),height:Math.abs(s-n)}},Sie=e=>{var{x1:t,y1:r,x2:n,y2:a}=e;return _ie({x:t,y:r},{x:n,y:a})};class hm{static create(t){return new hm(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(r){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}yM(hm,"EPS",1e-4);var kie=e=>{var t=Object.keys(e).reduce((r,n)=>Hf(Hf({},r),{},{[n]:hm.create(e[n])}),{});return Hf(Hf({},t),{},{apply(r){var{bandAware:n,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(r).map(s=>{var[l,u]=s;return[l,t[l].apply(u,{bandAware:n,position:a})]}))},isInRange(r){return Object.keys(r).every(n=>t[n].isInRange(r[n]))}})};function jie(e){return(e%180+180)%180}var Eie=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=jie(a),l=s*Math.PI/180,u=Math.atan(n/r),d=l>u&&l<Math.PI-u?n/Math.sin(l):r/Math.cos(l);return Math.abs(d)},Nie={dots:[],areas:[],lines:[]},bM=en({name:"referenceElements",initialState:Nie,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Jn(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Jn(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Jn(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:gue,removeDot:vue,addArea:yue,removeArea:bue,addLine:Oie,removeLine:Aie}=bM.actions,Tie=bM.reducer,xM=x.createContext(void 0),Cie=e=>{var{children:t}=e,[r]=x.useState("".concat(su("recharts"),"-clip")),n=n1();if(n==null)return null;var{x:a,y:s,width:l,height:u}=n;return x.createElement(xM.Provider,{value:r},x.createElement("defs",null,x.createElement("clipPath",{id:r},x.createElement("rect",{x:a,y:s,height:u,width:l}))),t)},Pie=()=>x.useContext(xM);function bA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bA(Object(r),!0).forEach(function(n){Die(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Die(e,t,r){return(t=Rie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rie(e){var t=Mie(e,"string");return typeof t=="symbol"?t:t+""}function Mie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function n0(){return n0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n0.apply(null,arguments)}var $ie=(e,t)=>{var r;if(x.isValidElement(e))r=x.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{if(!dt(t.x1)||!dt(t.y1)||!dt(t.x2)||!dt(t.y2))return null;r=x.createElement("line",n0({},t,{className:"recharts-reference-line-line"}))}return r},Iie=(e,t,r,n,a,s)=>{var{x:l,width:u}=s,d=a.y.apply(e,{position:r});if(vn(d)||t==="discard"&&!a.y.isInRange(d))return null;var f=[{x:l+u,y:d},{x:l,y:d}];return n==="left"?f.reverse():f},Lie=(e,t,r,n,a,s)=>{var{y:l,height:u}=s,d=a.x.apply(e,{position:r});if(vn(d)||t==="discard"&&!a.x.isInRange(d))return null;var f=[{x:d,y:l+u},{x:d,y:l}];return n==="top"?f.reverse():f},zie=(e,t,r,n)=>{var a=e.map(s=>n.apply(s,{position:r}));return t==="discard"&&a.some(s=>!n.isInRange(s))?null:a},Uie=(e,t,r,n,a,s)=>{var{x:l,y:u,segment:d,ifOverflow:f}=s,p=Mn(l),g=Mn(u);return g?Iie(u,f,r,a,e,t):p?Lie(l,f,r,n,e,t):d!=null&&d.length===2?zie(d,f,r,e):null};function Bie(e){var t=Gt();return x.useEffect(()=>(t(Oie(e)),()=>{t(Aie(e))})),null}function qie(e){var{xAxisId:t,yAxisId:r,shape:n,className:a,ifOverflow:s}=e,l=Ir(),u=Pie(),d=Te(T=>ya(T,t)),f=Te(T=>ba(T,r)),p=Te(T=>Xi(T,"xAxis",t,l)),g=Te(T=>Xi(T,"yAxis",r,l)),y=Pu();if(!u||!y||d==null||f==null||p==null||g==null)return null;var v=kie({x:p,y:g}),w=Uie(v,y,e.position,d.orientation,f.orientation,e);if(!w)return null;var[{x:k,y:S},{x:j,y:N}]=w,E=s==="hidden"?"url(#".concat(u,")"):void 0,D=xA(xA({clipPath:E},gn(e)),{},{x1:k,y1:S,x2:j,y2:N}),O=Sie({x1:k,y1:S,x2:j,y2:N});return x.createElement(xa,{zIndex:e.zIndex},x.createElement(ea,{className:ft("recharts-reference-line",a)},$ie(n,D),x.createElement(aM,n0({},O,{lowerWidth:O.width,upperWidth:O.width}),x.createElement(sM,{label:e.label}),e.children)))}var Hie={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:Er.line};function wM(e){var t=Qr(e,Hie);return x.createElement(x.Fragment,null,x.createElement(Bie,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y,segment:t.segment}),x.createElement(qie,t))}wM.displayName="ReferenceLine";function _M(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r}function Fie(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Eie(n,r)}function Vie(e,t,r){var n=r==="width",{x:a,y:s,width:l,height:u}=e;return t===1?{start:n?a:s,end:n?a+l:s+u}:{start:n?a+l:s+u,end:n?a:s}}function a0(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function Kie(e,t){return _M(e,t+1)}function Zie(e,t,r,n,a){for(var s=(n||[]).slice(),{start:l,end:u}=t,d=0,f=1,p=l,g=function(){var w=n?.[d];if(w===void 0)return{v:_M(n,f)};var k=d,S,j=()=>(S===void 0&&(S=r(w,k)),S),N=w.coordinate,E=d===0||a0(e,N,j,p,u);E||(d=0,p=l,f+=1),E&&(p=N+e*(j()/2+a),d+=f)},y;f<=s.length;)if(y=g(),y)return y.v;return[]}function wA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wA(Object(r),!0).forEach(function(n){Gie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gie(e,t,r){return(t=Yie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yie(e){var t=Wie(e,"string");return typeof t=="symbol"?t:t+""}function Wie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xie(e,t,r,n,a){for(var s=(n||[]).slice(),l=s.length,{start:u}=t,{end:d}=t,f=function(y){var v=s[y],w,k=()=>(w===void 0&&(w=r(v,y)),w);if(y===l-1){var S=e*(v.coordinate+e*k()/2-d);s[y]=v=kr(kr({},v),{},{tickCoord:S>0?v.coordinate-S*e:v.coordinate})}else s[y]=v=kr(kr({},v),{},{tickCoord:v.coordinate});if(v.tickCoord!=null){var j=a0(e,v.tickCoord,k,u,d);j&&(d=v.tickCoord-e*(k()/2+a),s[y]=kr(kr({},v),{},{isShow:!0}))}},p=l-1;p>=0;p--)f(p);return s}function Jie(e,t,r,n,a,s){var l=(n||[]).slice(),u=l.length,{start:d,end:f}=t;if(s){var p=n[u-1],g=r(p,u-1),y=e*(p.coordinate+e*g/2-f);if(l[u-1]=p=kr(kr({},p),{},{tickCoord:y>0?p.coordinate-y*e:p.coordinate}),p.tickCoord!=null){var v=a0(e,p.tickCoord,()=>g,d,f);v&&(f=p.tickCoord-e*(g/2+a),l[u-1]=kr(kr({},p),{},{isShow:!0}))}}for(var w=s?u-1:u,k=function(N){var E=l[N],D,O=()=>(D===void 0&&(D=r(E,N)),D);if(N===0){var T=e*(E.coordinate-e*O()/2-d);l[N]=E=kr(kr({},E),{},{tickCoord:T<0?E.coordinate-T*e:E.coordinate})}else l[N]=E=kr(kr({},E),{},{tickCoord:E.coordinate});if(E.tickCoord!=null){var P=a0(e,E.tickCoord,O,d,f);P&&(d=E.tickCoord+e*(O()/2+a),l[N]=kr(kr({},E),{},{isShow:!0}))}},S=0;S<w;S++)k(S);return l}function i1(e,t,r){var{tick:n,ticks:a,viewBox:s,minTickGap:l,orientation:u,interval:d,tickFormatter:f,unit:p,angle:g}=e;if(!a||!a.length||!n)return[];if(Ce(d)||Al.isSsr){var y;return(y=Kie(a,Ce(d)?d:0))!==null&&y!==void 0?y:[]}var v=[],w=u==="top"||u==="bottom"?"width":"height",k=p&&w==="width"?Qc(p,{fontSize:t,letterSpacing:r}):{width:0,height:0},S=(E,D)=>{var O=typeof f=="function"?f(E.value,D):E.value;return w==="width"?Fie(Qc(O,{fontSize:t,letterSpacing:r}),k,g):Qc(O,{fontSize:t,letterSpacing:r})[w]},j=a.length>=2?Pn(a[1].coordinate-a[0].coordinate):1,N=Vie(s,j,w);return d==="equidistantPreserveStart"?Zie(j,N,S,a,l):(d==="preserveStart"||d==="preserveStartEnd"?v=Jie(j,N,S,a,l,d==="preserveStartEnd"):v=Xie(j,N,S,a,l),v.filter(E=>E.isShow))}var Qie=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:s=0}=e,l=0;if(t){Array.from(t).forEach(p=>{if(p){var g=p.getBoundingClientRect();g.width>l&&(l=g.width)}});var u=r?r.getBoundingClientRect().width:0,d=a+s,f=l+d+u+(r?n:0);return Math.round(f)}return 0},ese=["axisLine","width","height","className","hide","ticks","axisType"];function tse(e,t){if(e==null)return{};var r,n,a=rse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function rse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ys(){return Ys=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ys.apply(null,arguments)}function _A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ft(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_A(Object(r),!0).forEach(function(n){nse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_A(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nse(e,t,r){return(t=ase(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ase(e){var t=ise(e,"string");return typeof t=="symbol"?t:t+""}function ise(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xa={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Er.axis};function sse(e){var{x:t,y:r,width:n,height:a,orientation:s,mirror:l,axisLine:u,otherSvgProps:d}=e;if(!u)return null;var f=Ft(Ft(Ft({},d),Qn(u)),{},{fill:"none"});if(s==="top"||s==="bottom"){var p=+(s==="top"&&!l||s==="bottom"&&l);f=Ft(Ft({},f),{},{x1:t,y1:r+p*a,x2:t+n,y2:r+p*a})}else{var g=+(s==="left"&&!l||s==="right"&&l);f=Ft(Ft({},f),{},{x1:t+g*n,y1:r,x2:t+g*n,y2:r+a})}return x.createElement("line",Ys({},f,{className:ft("recharts-cartesian-axis-line",R0(u,"className"))}))}function ose(e,t,r,n,a,s,l,u,d){var f,p,g,y,v,w,k=u?-1:1,S=e.tickSize||l,j=Ce(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":f=p=e.coordinate,y=r+ +!u*a,g=y-k*S,w=g-k*d,v=j;break;case"left":g=y=e.coordinate,p=t+ +!u*n,f=p-k*S,v=f-k*d,w=j;break;case"right":g=y=e.coordinate,p=t+ +u*n,f=p+k*S,v=f+k*d,w=j;break;default:f=p=e.coordinate,y=r+ +u*a,g=y+k*S,w=g+k*d,v=j;break}return{line:{x1:f,y1:g,x2:p,y2:y},tick:{x:v,y:w}}}function lse(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function cse(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function use(e){var{option:t,tickProps:r,value:n}=e,a,s=ft(r.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(t))a=x.cloneElement(t,Ft(Ft({},r),{},{className:s}));else if(typeof t=="function")a=t(Ft(Ft({},r),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=ft(l,t?.className)),a=x.createElement(t1,Ys({},r,{className:l}),n)}return a}var dse=x.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:s,tickFormatter:l,unit:u,padding:d,tickTextProps:f,orientation:p,mirror:g,x:y,y:v,width:w,height:k,tickSize:S,tickMargin:j,fontSize:N,letterSpacing:E,getTicksConfig:D,events:O,axisType:T}=e,P=i1(Ft(Ft({},D),{},{ticks:r}),N,E),C=lse(p,g),R=cse(p,g),I=Qn(D),M=C0(n),z={};typeof a=="object"&&(z=a);var B=Ft(Ft({},I),{},{fill:"none"},z),G=P.map(F=>Ft({entry:F},ose(F,y,v,w,k,p,S,g,j))),ae=G.map(F=>{var{entry:W,line:J}=F;return x.createElement(ea,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(W.value,"-").concat(W.coordinate,"-").concat(W.tickCoord)},a&&x.createElement("line",Ys({},B,J,{className:ft("recharts-cartesian-axis-tick-line",R0(a,"className"))})))}),q=G.map((F,W)=>{var{entry:J,tick:pe}=F,L=Ft(Ft(Ft(Ft({textAnchor:C,verticalAnchor:R},I),{},{stroke:"none",fill:s},M),pe),{},{index:W,payload:J,visibleTicksCount:P.length,tickFormatter:l,padding:d},f);return x.createElement(ea,Ys({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(J.value,"-").concat(J.coordinate,"-").concat(J.tickCoord)},_K(O,J,W)),n&&x.createElement(use,{option:n,tickProps:L,value:"".concat(typeof l=="function"?l(J.value,W):J.value).concat(u||"")}))});return x.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(T,"-ticks")},q.length>0&&x.createElement(xa,{zIndex:Er.label},x.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(T,"-tick-labels"),ref:t},q)),ae.length>0&&x.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(T,"-tick-lines")},ae))}),fse=x.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:s,hide:l,ticks:u,axisType:d}=e,f=tse(e,ese),[p,g]=x.useState(""),[y,v]=x.useState(""),w=x.useRef(null);x.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var S;return Qie({ticks:w.current,label:(S=e.labelRef)===null||S===void 0?void 0:S.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var k=x.useCallback(S=>{if(S){var j=S.getElementsByClassName("recharts-cartesian-axis-tick-value");w.current=j;var N=j[0];if(N){var E=window.getComputedStyle(N),D=E.fontSize,O=E.letterSpacing;(D!==p||O!==y)&&(g(D),v(O))}}},[p,y]);return l||n!=null&&n<=0||a!=null&&a<=0?null:x.createElement(xa,{zIndex:e.zIndex},x.createElement(ea,{className:ft("recharts-cartesian-axis",s)},x.createElement(sse,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Qn(e)}),x.createElement(dse,{ref:k,axisType:d,events:f,fontSize:p,getTicksConfig:e,height:e.height,letterSpacing:y,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:u,unit:e.unit,width:e.width,x:e.x,y:e.y}),x.createElement(aM,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},x.createElement(sM,{label:e.label,labelRef:e.labelRef}),e.children)))}),s1=x.forwardRef((e,t)=>{var r=Qr(e,Xa);return x.createElement(fse,Ys({},r,{ref:t}))});s1.displayName="CartesianAxis";var hse=["x1","y1","x2","y2","key"],mse=["offset"],pse=["xAxisId","yAxisId"],gse=["xAxisId","yAxisId"];function SA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SA(Object(r),!0).forEach(function(n){vse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vse(e,t,r){return(t=yse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yse(e){var t=bse(e,"string");return typeof t=="symbol"?t:t+""}function bse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Is(){return Is=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Is.apply(null,arguments)}function i0(e,t){if(e==null)return{};var r,n,a=xse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function xse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var wse=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:s,height:l,ry:u}=e;return x.createElement("rect",{x:n,y:a,ry:u,width:s,height:l,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function SM(e){var{option:t,lineItemProps:r}=e,n;if(x.isValidElement(t))n=x.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:s,y1:l,x2:u,y2:d,key:f}=r,p=i0(r,hse),g=(a=Qn(p))!==null&&a!==void 0?a:{},{offset:y}=g,v=i0(g,mse);n=x.createElement("line",Is({},v,{x1:s,y1:l,x2:u,y2:d,fill:"none",key:f}))}return n}function _se(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:l}=e,u=i0(e,pse),d=a.map((f,p)=>{var g=jr(jr({},u),{},{x1:t,y1:f,x2:t+r,y2:f,key:"line-".concat(p),index:p});return x.createElement(SM,{key:"line-".concat(p),option:n,lineItemProps:g})});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function Sse(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:l}=e,u=i0(e,gse),d=a.map((f,p)=>{var g=jr(jr({},u),{},{x1:f,y1:t,x2:f,y2:t+r,key:"line-".concat(p),index:p});return x.createElement(SM,{option:n,lineItemProps:g,key:"line-".concat(p)})});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function kse(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:s,height:l,horizontalPoints:u,horizontal:d=!0}=e;if(!d||!t||!t.length||u==null)return null;var f=u.map(g=>Math.round(g+a-a)).sort((g,y)=>g-y);a!==f[0]&&f.unshift(0);var p=f.map((g,y)=>{var v=!f[y+1],w=v?a+l-g:f[y+1]-g;if(w<=0)return null;var k=y%t.length;return x.createElement("rect",{key:"react-".concat(y),y:g,x:n,height:w,width:s,stroke:"none",fill:t[k],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function jse(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:s,width:l,height:u,verticalPoints:d}=e;if(!t||!r||!r.length)return null;var f=d.map(g=>Math.round(g+a-a)).sort((g,y)=>g-y);a!==f[0]&&f.unshift(0);var p=f.map((g,y)=>{var v=!f[y+1],w=v?a+l-g:f[y+1]-g;if(w<=0)return null;var k=y%r.length;return x.createElement("rect",{key:"react-".concat(y),x:g,y:s,width:w,height:u,stroke:"none",fill:r[k],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var Ese=(e,t)=>{var{xAxis:r,width:n,height:a,offset:s}=e;return lD(i1(jr(jr(jr({},Xa),r),{},{ticks:cD(r),viewBox:{x:0,y:0,width:n,height:a}})),s.left,s.left+s.width,t)},Nse=(e,t)=>{var{yAxis:r,width:n,height:a,offset:s}=e;return lD(i1(jr(jr(jr({},Xa),r),{},{ticks:cD(r),viewBox:{x:0,y:0,width:n,height:a}})),s.top,s.top+s.height,t)},Ose={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Er.grid};function kM(e){var t=yD(),r=bD(),n=vD(),a=jr(jr({},Qr(e,Ose)),{},{x:Ce(e.x)?e.x:n.left,y:Ce(e.y)?e.y:n.top,width:Ce(e.width)?e.width:n.width,height:Ce(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:l,x:u,y:d,width:f,height:p,syncWithTicks:g,horizontalValues:y,verticalValues:v}=a,w=Ir(),k=Te(R=>CO(R,"xAxis",s,w)),S=Te(R=>CO(R,"yAxis",l,w));if(!pa(f)||!pa(p)||!Ce(u)||!Ce(d))return null;var j=a.verticalCoordinatesGenerator||Ese,N=a.horizontalCoordinatesGenerator||Nse,{horizontalPoints:E,verticalPoints:D}=a;if((!E||!E.length)&&typeof N=="function"){var O=y&&y.length,T=N({yAxis:S?jr(jr({},S),{},{ticks:O?y:S.ticks}):void 0,width:t??f,height:r??p,offset:n},O?!0:g);Dh(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof T,"]")),Array.isArray(T)&&(E=T)}if((!D||!D.length)&&typeof j=="function"){var P=v&&v.length,C=j({xAxis:k?jr(jr({},k),{},{ticks:P?v:k.ticks}):void 0,width:t??f,height:r??p,offset:n},P?!0:g);Dh(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(D=C)}return x.createElement(xa,{zIndex:a.zIndex},x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(wse,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),x.createElement(kse,Is({},a,{horizontalPoints:E})),x.createElement(jse,Is({},a,{verticalPoints:D})),x.createElement(_se,Is({},a,{offset:n,horizontalPoints:E,xAxis:k,yAxis:S})),x.createElement(Sse,Is({},a,{offset:n,verticalPoints:D,xAxis:k,yAxis:S}))))}kM.displayName="CartesianGrid";function Ase(e){var t=C0(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:s}=t,l=Number(a),u=Number(s);return(Number.isNaN(l)||l<0)&&(l=r),(Number.isNaN(u)||u<0)&&(u=n),{r:l,strokeWidth:u}}return{r,strokeWidth:n}}var jM=(e,t,r,n)=>xR(e,"xAxis",t,n),EM=(e,t,r,n)=>bR(e,"xAxis",t,n),NM=(e,t,r,n)=>xR(e,"yAxis",r,n),OM=(e,t,r,n)=>bR(e,"yAxis",r,n),Tse=oe([ht,jM,NM,EM,OM],(e,t,r,n,a)=>li(e,"xAxis")?Ph(t,n,!1):Ph(r,a,!1)),Cse=(e,t,r,n,a)=>a,AM=oe([q4,Cse],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),Pse=(e,t,r,n,a)=>{var s,l=AM(e,t,r,n,a);if(l!=null){var u=ht(e),d=li(u,"xAxis"),f;if(d?f=Zb(e,"yAxis",r,n):f=Zb(e,"xAxis",t,n),f!=null){var{stackId:p}=l,g=Rw(l);if(!(p==null||g==null)){var y=(s=f[p])===null||s===void 0?void 0:s.stackedData;return y?.find(v=>v.key===g)}}}},Dse=oe([ht,jM,NM,EM,OM,Pse,jw,Tse,AM,HQ],(e,t,r,n,a,s,l,u,d,f)=>{var{chartData:p,dataStartIndex:g,dataEndIndex:y}=l;if(!(d==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||a==null||n.length===0||a.length===0||u==null)){var{data:v}=d,w;if(v&&v.length>0?w=v:w=p?.slice(g,y+1),w!=null)return Jse({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataStartIndex:g,areaSettings:d,stackedData:s,displayedData:w,chartBaseValue:f,bandSize:u})}}),Rse=["id"],Mse=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Bs(){return Bs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bs.apply(null,arguments)}function TM(e,t){if(e==null)return{};var r,n,a=$se(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function $se(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function kA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function il(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kA(Object(r),!0).forEach(function(n){Ise(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ise(e,t,r){return(t=Lse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lse(e){var t=zse(e,"string");return typeof t=="symbol"?t:t+""}function zse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function s0(e,t){return e&&e!=="none"?e:t}var Use=e=>{var{dataKey:t,name:r,stroke:n,fill:a,legendType:s,hide:l}=e;return[{inactive:l,dataKey:t,type:s,color:s0(n,a),value:uD(r,t),payload:e}]},Bse=x.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:s,name:l,hide:u,unit:d,tooltipType:f}=e,p={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:s,dataKey:t,nameKey:void 0,name:uD(l,t),hide:u,type:f,color:s0(n,s),unit:d}};return x.createElement(uae,{tooltipEntrySettings:p})});function qse(e){var{clipPathId:t,points:r,props:n}=e,{needClip:a,dot:s,dataKey:l}=n,u=Qn(n);return x.createElement(Cae,{points:r,dot:s,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:l,baseProps:u,needClip:a,clipPathId:t})}function Hse(e){var{showLabels:t,children:r,points:n}=e,a=n.map(s=>{var l,u,d={x:(l=s.x)!==null&&l!==void 0?l:0,y:(u=s.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return il(il({},d),{},{value:s.value,payload:s.payload,parentViewBox:void 0,viewBox:d,fill:void 0})});return x.createElement(aae,{value:t?a:void 0},r)}function jA(e){var{points:t,baseLine:r,needClip:n,clipPathId:a,props:s}=e,{layout:l,type:u,stroke:d,connectNulls:f,isRange:p}=s,{id:g}=s,y=TM(s,Rse),v=Qn(y),w=gn(y);return x.createElement(x.Fragment,null,t?.length>1&&x.createElement(ea,{clipPath:n?"url(#clipPath-".concat(a,")"):void 0},x.createElement(eh,Bs({},w,{id:g,points:t,connectNulls:f,type:u,baseLine:r,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&x.createElement(eh,Bs({},v,{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:t})),d!=="none"&&p&&x.createElement(eh,Bs({},v,{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:r}))),x.createElement(qse,{points:t,props:y,clipPathId:a}))}function Fse(e){var{alpha:t,baseLine:r,points:n,strokeWidth:a}=e,s=n[0].y,l=n[n.length-1].y;if(!dt(s)||!dt(l))return null;var u=t*Math.abs(s-l),d=Math.max(...n.map(f=>f.x||0));return Ce(r)?d=Math.max(r,d):r&&Array.isArray(r)&&r.length&&(d=Math.max(...r.map(f=>f.x||0),d)),Ce(d)?x.createElement("rect",{x:0,y:s<l?s:s-u,width:d+(a?parseInt("".concat(a),10):1),height:Math.floor(u)}):null}function Vse(e){var{alpha:t,baseLine:r,points:n,strokeWidth:a}=e,s=n[0].x,l=n[n.length-1].x;if(!dt(s)||!dt(l))return null;var u=t*Math.abs(s-l),d=Math.max(...n.map(f=>f.y||0));return Ce(r)?d=Math.max(r,d):r&&Array.isArray(r)&&r.length&&(d=Math.max(...r.map(f=>f.y||0),d)),Ce(d)?x.createElement("rect",{x:s<l?s:s-u,y:0,width:u,height:Math.floor(d+(a?parseInt("".concat(a),10):1))}):null}function Kse(e){var{alpha:t,layout:r,points:n,baseLine:a,strokeWidth:s}=e;return r==="vertical"?x.createElement(Fse,{alpha:t,points:n,baseLine:a,strokeWidth:s}):x.createElement(Vse,{alpha:t,points:n,baseLine:a,strokeWidth:s})}function Zse(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:s}=e,{points:l,baseLine:u,isAnimationActive:d,animationBegin:f,animationDuration:p,animationEasing:g,onAnimationStart:y,onAnimationEnd:v}=n,w=x.useMemo(()=>({points:l,baseLine:u}),[l,u]),k=PD(w,"recharts-area-"),S=mY(),[j,N]=x.useState(!1),E=!j,D=x.useCallback(()=>{typeof v=="function"&&v(),N(!1)},[v]),O=x.useCallback(()=>{typeof y=="function"&&y(),N(!0)},[y]);if(S==null)return null;var T=a.current,P=s.current;return x.createElement(Hse,{showLabels:E,points:l},n.children,x.createElement(CD,{animationId:k,begin:f,duration:p,isActive:d,easing:g,onAnimationEnd:D,onAnimationStart:O,key:k},C=>{if(T){var R=T.length/l.length,I=C===1?l:l.map((z,B)=>{var G=Math.floor(B*R);if(T[G]){var ae=T[G];return il(il({},z),{},{x:ca(ae.x,z.x,C),y:ca(ae.y,z.y,C)})}return z}),M;return Ce(u)?M=ca(P,u,C):gr(u)||vn(u)?M=ca(P,0,C):M=u.map((z,B)=>{var G=Math.floor(B*R);if(Array.isArray(P)&&P[G]){var ae=P[G];return il(il({},z),{},{x:ca(ae.x,z.x,C),y:ca(ae.y,z.y,C)})}return z}),C>0&&(a.current=I,s.current=M),x.createElement(jA,{points:I,baseLine:M,needClip:t,clipPathId:r,props:n})}return C>0&&(a.current=l,s.current=u),x.createElement(ea,null,d&&x.createElement("defs",null,x.createElement("clipPath",{id:"animationClipPath-".concat(r)},x.createElement(Kse,{alpha:C,points:l,baseLine:u,layout:S,strokeWidth:n.strokeWidth}))),x.createElement(ea,{clipPath:"url(#animationClipPath-".concat(r,")")},x.createElement(jA,{points:l,baseLine:u,needClip:t,clipPathId:r,props:n})))}),x.createElement(oae,{label:n.label}))}function Gse(e){var{needClip:t,clipPathId:r,props:n}=e,a=x.useRef(null),s=x.useRef();return x.createElement(Zse,{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:s})}class Yse extends x.PureComponent{render(){var{hide:t,dot:r,points:n,className:a,top:s,left:l,needClip:u,xAxisId:d,yAxisId:f,width:p,height:g,id:y,baseLine:v,zIndex:w}=this.props;if(t)return null;var k=ft("recharts-area",a),S=y,{r:j,strokeWidth:N}=Ase(r),E=dM(r),D=j*2+N,O=u?"url(#clipPath-".concat(E?"":"dots-").concat(S,")"):void 0;return x.createElement(xa,{zIndex:w},x.createElement(ea,{className:k},u&&x.createElement("defs",null,x.createElement(Qae,{clipPathId:S,xAxisId:d,yAxisId:f}),!E&&x.createElement("clipPath",{id:"clipPath-dots-".concat(S)},x.createElement("rect",{x:l-D/2,y:s-D/2,width:p+D,height:g+D}))),x.createElement(Gse,{needClip:u,clipPathId:S,props:this.props})),x.createElement(mA,{points:n,mainColor:s0(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:O}),this.props.isRange&&Array.isArray(v)&&x.createElement(mA,{points:v,mainColor:s0(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:O}))}}var CM={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Er.area};function Wse(e){var t,r=Qr(e,CM),{activeDot:n,animationBegin:a,animationDuration:s,animationEasing:l,connectNulls:u,dot:d,fill:f,fillOpacity:p,hide:g,isAnimationActive:y,legendType:v,stroke:w,xAxisId:k,yAxisId:S}=r,j=TM(r,Mse),N=Du(),E=BR(),{needClip:D}=gM(k,S),O=Ir(),{points:T,isRange:P,baseLine:C}=(t=Te(G=>Dse(G,k,S,O,e.id)))!==null&&t!==void 0?t:{},R=n1();if(N!=="horizontal"&&N!=="vertical"||R==null||E!=="AreaChart"&&E!=="ComposedChart")return null;var{height:I,width:M,x:z,y:B}=R;return!T||!T.length?null:x.createElement(Yse,Bs({},j,{activeDot:n,animationBegin:a,animationDuration:s,animationEasing:l,baseLine:C,connectNulls:u,dot:d,fill:f,fillOpacity:p,height:I,hide:g,layout:N,isAnimationActive:y==="auto"?!Al.isSsr:y,isRange:P,legendType:v,needClip:D,points:T,stroke:w,width:M,left:z,top:B,xAxisId:k,yAxisId:S}))}var Xse=(e,t,r,n,a)=>{var s=r??t;if(Ce(s))return s;var l=e==="horizontal"?a:n,u=l.scale.domain();if(l.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return s==="dataMin"?f:s==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return s==="dataMin"?u[0]:s==="dataMax"?u[1]:u[0]};function Jse(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:a,layout:s,chartBaseValue:l,xAxis:u,yAxis:d,displayedData:f,dataStartIndex:p,xAxisTicks:g,yAxisTicks:y,bandSize:v}=e,w=a&&a.length,k=Xse(s,l,r,u,d),S=s==="horizontal",j=!1,N=f.map((D,O)=>{var T;w?T=a[p+O]:(T=Nr(D,n),Array.isArray(T)?j=!0:T=[k,T]);var P=T[1]==null||w&&!t&&Nr(D,n)==null;return S?{x:eN({axis:u,ticks:g,bandSize:v,entry:D,index:O}),y:P?null:d.scale(T[1]),value:T,payload:D}:{x:P?null:u.scale(T[1]),y:eN({axis:d,ticks:y,bandSize:v,entry:D,index:O}),value:T,payload:D}}),E;return w||j?E=N.map(D=>{var O=Array.isArray(D.value)?D.value[0]:null;return S?{x:D.x,y:O!=null&&D.y!=null?d.scale(O):null,payload:D.payload}:{x:O!=null?u.scale(O):null,y:D.y,payload:D.payload}}):E=S?d.scale(k):u.scale(k),{points:N,baseLine:E,isRange:j}}function Qse(e){var t=Qr(e,CM),r=Ir();return x.createElement(pae,{id:t.id,type:"area"},n=>x.createElement(x.Fragment,null,x.createElement(dae,{legendPayload:Use(t)}),x.createElement(Bse,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),x.createElement(_ae,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:TG(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),x.createElement(Wse,Bs({},t,{id:n}))))}var PM=x.memo(Qse,a1);PM.displayName="Area";var eoe=["domain","range"],toe=["domain","range"];function EA(e,t){if(e==null)return{};var r,n,a=roe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function roe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function NA(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function DM(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=EA(e,eoe),{domain:s,range:l}=t,u=EA(t,toe);return!NA(r,s)||!NA(n,l)?!1:a1(a,u)}var noe=["dangerouslySetInnerHTML","ticks"],aoe=["id"];function tx(){return tx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tx.apply(null,arguments)}function OA(e,t){if(e==null)return{};var r,n,a=ioe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ioe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function soe(e){var t=Gt(),r=x.useRef(null);return x.useLayoutEffect(()=>{r.current===null?t($ae(e)):r.current!==e&&t(Iae({prev:r.current,next:e})),r.current=e},[e,t]),x.useLayoutEffect(()=>()=>{r.current&&(t(Lae(r.current)),r.current=null)},[t]),null}var ooe=e=>{var{xAxisId:t,className:r}=e,n=Te(fD),a=Ir(),s="xAxis",l=Te(S=>Xi(S,s,t,a)),u=Te(S=>yR(S,s,t,a)),d=Te(S=>Mee(S,t)),f=Te(S=>Bee(S,t)),p=Te(S=>L4(S,t));if(d==null||f==null||p==null)return null;var{dangerouslySetInnerHTML:g,ticks:y}=e,v=OA(e,noe),{id:w}=p,k=OA(p,aoe);return x.createElement(s1,tx({},v,k,{scale:l,x:f.x,y:f.y,width:d.width,height:d.height,className:ft("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:u,axisType:s}))},loe={allowDataOverflow:tr.allowDataOverflow,allowDecimals:tr.allowDecimals,allowDuplicatedCategory:tr.allowDuplicatedCategory,angle:tr.angle,axisLine:Xa.axisLine,height:tr.height,hide:!1,includeHidden:tr.includeHidden,interval:tr.interval,minTickGap:tr.minTickGap,mirror:tr.mirror,orientation:tr.orientation,padding:tr.padding,reversed:tr.reversed,scale:tr.scale,tick:tr.tick,tickCount:tr.tickCount,tickLine:Xa.tickLine,tickSize:Xa.tickSize,type:tr.type,xAxisId:0},coe=e=>{var t=Qr(e,loe);return x.createElement(x.Fragment,null,x.createElement(soe,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),x.createElement(ooe,t))},RM=x.memo(coe,DM);RM.displayName="XAxis";var uoe=["dangerouslySetInnerHTML","ticks"],doe=["id"];function rx(){return rx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rx.apply(null,arguments)}function AA(e,t){if(e==null)return{};var r,n,a=foe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function foe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function hoe(e){var t=Gt(),r=x.useRef(null);return x.useLayoutEffect(()=>{r.current===null?t(zae(e)):r.current!==e&&t(Uae({prev:r.current,next:e})),r.current=e},[e,t]),x.useLayoutEffect(()=>()=>{r.current&&(t(Bae(r.current)),r.current=null)},[t]),null}var moe=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,s=x.useRef(null),l=x.useRef(null),u=Te(fD),d=Ir(),f=Gt(),p="yAxis",g=Te(O=>Xi(O,p,t,d)),y=Te(O=>Fee(O,t)),v=Te(O=>Hee(O,t)),w=Te(O=>yR(O,p,t,d)),k=Te(O=>z4(O,t));if(x.useLayoutEffect(()=>{if(!(n!=="auto"||!y||r1(a)||x.isValidElement(a)||k==null)){var O=s.current;if(O){var T=O.getCalculatedWidth();Math.round(y.width)!==Math.round(T)&&f(qae({id:t,width:T}))}}},[w,y,f,a,t,n,k]),y==null||v==null||k==null)return null;var{dangerouslySetInnerHTML:S,ticks:j}=e,N=AA(e,uoe),{id:E}=k,D=AA(k,doe);return x.createElement(s1,rx({},N,D,{ref:s,labelRef:l,scale:g,x:v.x,y:v.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:y.width,height:y.height,className:ft("recharts-".concat(p," ").concat(p),r),viewBox:u,ticks:w,axisType:p}))},poe={allowDataOverflow:rr.allowDataOverflow,allowDecimals:rr.allowDecimals,allowDuplicatedCategory:rr.allowDuplicatedCategory,angle:rr.angle,axisLine:Xa.axisLine,hide:!1,includeHidden:rr.includeHidden,interval:rr.interval,minTickGap:rr.minTickGap,mirror:rr.mirror,orientation:rr.orientation,padding:rr.padding,reversed:rr.reversed,scale:rr.scale,tick:rr.tick,tickCount:rr.tickCount,tickLine:Xa.tickLine,tickSize:Xa.tickSize,type:rr.type,width:rr.width,yAxisId:0},goe=e=>{var t=Qr(e,poe);return x.createElement(x.Fragment,null,x.createElement(hoe,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),x.createElement(moe,t))},MM=x.memo(goe,DM);MM.displayName="YAxis";var voe=(e,t)=>t,o1=oe([voe,ht,$4,Xt,MR,fi,are,br],dre),l1=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},$M=$n("mouseClick"),IM=Tu();IM.startListening({actionCreator:$M,effect:(e,t)=>{var r=e.payload,n=o1(t.getState(),l1(r));n?.activeIndex!=null&&t.dispatch(nte({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var nx=$n("mouseMove"),LM=Tu(),Ff=null;LM.startListening({actionCreator:nx,effect:(e,t)=>{var r=e.payload;Ff!==null&&cancelAnimationFrame(Ff);var n=l1(r);Ff=requestAnimationFrame(()=>{var a=t.getState(),s=Vw(a,a.tooltip.settings.shared);if(s==="axis"){var l=o1(a,n);l?.activeIndex!=null?t.dispatch(NR({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):t.dispatch(ER())}Ff=null})}});var TA={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},zM=en({name:"rootProps",initialState:TA,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:TA.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),yoe=zM.reducer,{updateOptions:boe}=zM.actions,UM=en({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:xue}=UM.actions,xoe=UM.reducer,BM=$n("keyDown"),qM=$n("focus"),c1=Tu();c1.startListening({actionCreator:BM,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=Kw(a,$l(r),Bu(r),Ku(r)),u=l==null?-1:Number(l);if(!(!Number.isFinite(u)||u<0)){var d=fi(r);if(s==="Enter"){var f=e0(r,"axis","hover",String(a.index));t.dispatch(Yb({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:f}));return}var p=Gee(r),g=p==="left-to-right"?1:-1,y=s==="ArrowRight"?1:-1,v=u+y*g;if(!(d==null||v>=d.length||v<0)){var w=e0(r,"axis","hover",String(v));t.dispatch(Yb({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:w}))}}}}}});c1.startListening({actionCreator:qM,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var s="0",l=e0(r,"axis","hover",String(s));t.dispatch(Yb({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:l}))}}}});var Cn=$n("externalEvent"),HM=Tu(),ky=new Map;HM.startListening({actionCreator:Cn,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,s=ky.get(a);s!==void 0&&cancelAnimationFrame(s);var l=requestAnimationFrame(()=>{try{var u=t.getState(),d={activeCoordinate:Hte(u),activeDataKey:Bte(u),activeIndex:bu(u),activeLabel:LR(u),activeTooltipIndex:bu(u),isTooltipActive:Fte(u)};r(d,n)}finally{ky.delete(a)}});ky.set(a,l)}}});var woe=oe([Ml],e=>e.tooltipItemPayloads),_oe=oe([woe,Fu,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(u=>u.settings.dataKey===n);if(a!=null){var{positions:s}=a;if(s!=null){var l=t(s,r);return l}}}),FM=$n("touchMove"),VM=Tu();VM.startListening({actionCreator:FM,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=Vw(n,n.tooltip.settings.shared);if(a==="axis"){var s=o1(n,l1({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));s?.activeIndex!=null&&t.dispatch(NR({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(a==="item"){var l,u=r.touches[0];if(document.elementFromPoint==null)return;var d=document.elementFromPoint(u.clientX,u.clientY);if(!d||!d.getAttribute)return;var f=d.getAttribute(IG),p=(l=d.getAttribute(LG))!==null&&l!==void 0?l:void 0,g=_oe(t.getState(),f,p);t.dispatch(rte({activeDataKey:p,activeIndex:f,activeCoordinate:g}))}}}});var Soe=DP({brush:bie,cartesianAxis:Hae,chartData:Hre,errorBars:Jae,graphicalItems:xae,layout:xG,legend:CY,options:Lre,polarAxis:cae,polarOptions:xoe,referenceElements:Tie,rootProps:yoe,tooltip:ate,zIndex:jre}),koe=function(t){return VZ({reducer:Soe,preloadedState:t,middleware:r=>{var n;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((n="es6")!==null&&n!==void 0?n:"")}).concat([IM.middleware,LM.middleware,c1.middleware,HM.middleware,VM.middleware])},enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(GP({type:"raf"}))},devTools:Al.devToolsEnabled})};function joe(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=Ir(),s=x.useRef(null);if(a)return r;s.current==null&&(s.current=koe(t));var l=Fx;return x.createElement(pie,{context:l,store:s.current},r)}function Eoe(e){var{layout:t,margin:r}=e,n=Gt(),a=Ir();return x.useEffect(()=>{a||(n(vG(t)),n(gG(r)))},[n,a,t,r]),null}var Noe=x.memo(Eoe,a1);function Ooe(e){var t=Gt();return x.useEffect(()=>{t(boe(e))},[t,e]),null}function CA(e){var{zIndex:t,isPanorama:r}=e,n=r?"recharts-zindex-panorama-":"recharts-zindex-",a=fM("".concat(n).concat(t)),s=Gt();return x.useLayoutEffect(()=>(s(Sre({zIndex:t,elementId:a,isPanorama:r})),()=>{s(kre({zIndex:t,isPanorama:r}))}),[s,t,a,r]),x.createElement("g",{tabIndex:-1,id:a})}function PA(e){var{children:t,isPanorama:r}=e,n=Te(hre);if(!n||n.length===0)return t;var a=n.filter(l=>l<0),s=n.filter(l=>l>0);return x.createElement(x.Fragment,null,a.map(l=>x.createElement(CA,{key:l,zIndex:l,isPanorama:r})),t,s.map(l=>x.createElement(CA,{key:l,zIndex:l,isPanorama:r})))}var Aoe=["children"];function Toe(e,t){if(e==null)return{};var r,n,a=Coe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Coe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function o0(){return o0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o0.apply(null,arguments)}var Poe={width:"100%",height:"100%",display:"block"},Doe=x.forwardRef((e,t)=>{var r=yD(),n=bD(),a=ND();if(!pa(r)||!pa(n))return null;var{children:s,otherAttributes:l,title:u,desc:d}=e,f,p;return l!=null&&(typeof l.tabIndex=="number"?f=l.tabIndex:f=a?0:void 0,typeof l.role=="string"?p=l.role:p=a?"application":void 0),x.createElement(eP,o0({},l,{title:u,desc:d,role:p,tabIndex:f,width:r,height:n,style:Poe,ref:t}),s)}),Roe=e=>{var{children:t}=e,r=Te(Z0);if(!r)return null;var{width:n,height:a,y:s,x:l}=r;return x.createElement(eP,{width:n,height:a,x:l,y:s},t)},DA=x.forwardRef((e,t)=>{var{children:r}=e,n=Toe(e,Aoe),a=Ir();return a?x.createElement(Roe,null,x.createElement(PA,{isPanorama:!0},r)):x.createElement(Doe,o0({ref:t},n),x.createElement(PA,{isPanorama:!1},r))});function Moe(){var e=Gt(),[t,r]=x.useState(null),n=Te($G);return x.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),s=a.width/t.offsetWidth;dt(s)&&s!==n&&e(bG(s))}},[t,e,n]),r}function RA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $oe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RA(Object(r),!0).forEach(function(n){Ioe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ioe(e,t,r){return(t=Loe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Loe(e){var t=zoe(e,"string");return typeof t=="symbol"?t:t+""}function zoe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ws(){return Ws=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ws.apply(null,arguments)}var Uoe=()=>(Jre(),null);function l0(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Boe=x.forwardRef((e,t)=>{var r,n,a=x.useRef(null),[s,l]=x.useState({containerWidth:l0((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:l0((n=e.style)===null||n===void 0?void 0:n.height)}),u=x.useCallback((f,p)=>{l(g=>{var y=Math.round(f),v=Math.round(p);return g.containerWidth===y&&g.containerHeight===v?g:{containerWidth:y,containerHeight:v}})},[]),d=x.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null&&typeof ResizeObserver<"u"){var{width:p,height:g}=f.getBoundingClientRect();u(p,g);var y=w=>{var{width:k,height:S}=w[0].contentRect;u(k,S)},v=new ResizeObserver(y);v.observe(f),a.current=v}},[t,u]);return x.useEffect(()=>()=>{var f=a.current;f?.disconnect()},[u]),x.createElement(x.Fragment,null,x.createElement(G0,{width:s.containerWidth,height:s.containerHeight}),x.createElement("div",Ws({ref:d},e)))}),qoe=x.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,s]=x.useState({containerWidth:l0(r),containerHeight:l0(n)}),l=x.useCallback((d,f)=>{s(p=>{var g=Math.round(d),y=Math.round(f);return p.containerWidth===g&&p.containerHeight===y?p:{containerWidth:g,containerHeight:y}})},[]),u=x.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null){var{width:f,height:p}=d.getBoundingClientRect();l(f,p)}},[t,l]);return x.createElement(x.Fragment,null,x.createElement(G0,{width:a.containerWidth,height:a.containerHeight}),x.createElement("div",Ws({ref:u},e)))}),Hoe=x.forwardRef((e,t)=>{var{width:r,height:n}=e;return x.createElement(x.Fragment,null,x.createElement(G0,{width:r,height:n}),x.createElement("div",Ws({ref:t},e)))}),Foe=x.forwardRef((e,t)=>{var{width:r,height:n}=e;return ei(r)||ei(n)?x.createElement(qoe,Ws({},e,{ref:t})):x.createElement(Hoe,Ws({},e,{ref:t}))});function Voe(e){return e===!0?Boe:Foe}var Koe=x.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:s,onContextMenu:l,onDoubleClick:u,onMouseDown:d,onMouseEnter:f,onMouseLeave:p,onMouseMove:g,onMouseUp:y,onTouchEnd:v,onTouchMove:w,onTouchStart:k,style:S,width:j,responsive:N,dispatchTouchEvents:E=!0}=e,D=x.useRef(null),O=Gt(),[T,P]=x.useState(null),[C,R]=x.useState(null),I=Moe(),M=Qx(),z=M?.width>0?M.width:j,B=M?.height>0?M.height:a,G=x.useCallback(Z=>{I(Z),typeof t=="function"&&t(Z),P(Z),R(Z),Z!=null&&(D.current=Z)},[I,t,P,R]),ae=x.useCallback(Z=>{O($M(Z)),O(Cn({handler:s,reactEvent:Z}))},[O,s]),q=x.useCallback(Z=>{O(nx(Z)),O(Cn({handler:f,reactEvent:Z}))},[O,f]),F=x.useCallback(Z=>{O(ER()),O(Cn({handler:p,reactEvent:Z}))},[O,p]),W=x.useCallback(Z=>{O(nx(Z)),O(Cn({handler:g,reactEvent:Z}))},[O,g]),J=x.useCallback(()=>{O(qM())},[O]),pe=x.useCallback(Z=>{O(BM(Z.key))},[O]),L=x.useCallback(Z=>{O(Cn({handler:l,reactEvent:Z}))},[O,l]),K=x.useCallback(Z=>{O(Cn({handler:u,reactEvent:Z}))},[O,u]),U=x.useCallback(Z=>{O(Cn({handler:d,reactEvent:Z}))},[O,d]),te=x.useCallback(Z=>{O(Cn({handler:y,reactEvent:Z}))},[O,y]),ne=x.useCallback(Z=>{O(Cn({handler:k,reactEvent:Z}))},[O,k]),de=x.useCallback(Z=>{E&&O(FM(Z)),O(Cn({handler:w,reactEvent:Z}))},[O,E,w]),ve=x.useCallback(Z=>{O(Cn({handler:v,reactEvent:Z}))},[O,v]),be=Voe(N);return x.createElement(KR.Provider,{value:T},x.createElement(ZV.Provider,{value:C},x.createElement(be,{width:z??S?.width,height:B??S?.height,className:ft("recharts-wrapper",n),style:$oe({position:"relative",cursor:"default",width:z,height:B},S),onClick:ae,onContextMenu:L,onDoubleClick:K,onFocus:J,onKeyDown:pe,onMouseDown:U,onMouseEnter:q,onMouseLeave:F,onMouseMove:W,onMouseUp:te,onTouchEnd:ve,onTouchMove:de,onTouchStart:ne,ref:G},x.createElement(Uoe,null),r)))}),Zoe=["width","height","responsive","children","className","style","compact","title","desc"];function Goe(e,t){if(e==null)return{};var r,n,a=Yoe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Yoe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Woe=x.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:s,className:l,style:u,compact:d,title:f,desc:p}=e,g=Goe(e,Zoe),y=Qn(g);return d?x.createElement(x.Fragment,null,x.createElement(G0,{width:r,height:n}),x.createElement(DA,{otherAttributes:y,title:f,desc:p},s)):x.createElement(Koe,{className:l,style:u,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},x.createElement(DA,{otherAttributes:y,title:f,desc:p,ref:t},x.createElement(Cie,null,s)))});function ax(){return ax=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ax.apply(null,arguments)}var Xoe={top:5,right:5,bottom:5,left:5},Joe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Xoe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Qoe=x.forwardRef(function(t,r){var n,a=Qr(t.categoricalChartProps,Joe),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,categoricalChartProps:f}=t,p={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return x.createElement(joe,{preloadedState:{options:p},reduxStoreName:(n=f.id)!==null&&n!==void 0?n:s},x.createElement(yie,{chartData:f.data}),x.createElement(Noe,{layout:a.layout,margin:a.margin}),x.createElement(Ooe,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),x.createElement(Woe,ax({},a,{ref:r})))}),ele=["axis"],tle=x.forwardRef((e,t)=>x.createElement(Qoe,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:ele,tooltipPayloadSearcher:$re,categoricalChartProps:e,ref:t}));function rle({dailyLedger:e=[],safetyTargetBottles:t=0,specs:r={}}){const{theme:n}=zn(),a=n==="dark",s=x.useMemo(()=>{if(!e.length||!r.bottlesPerCase)return[];const g=r.bottlesPerCase*(r.casesPerPallet||1),y=Math.round(t/g);return e.map(v=>{const w=v.balance/g,[k,S,j]=v.dateStr.split("-").map(Number),N=new Date(k,S-1,j);return{date:v.dateStr,displayDate:N.toLocaleDateString("en-US",{month:"numeric",day:"numeric"}),pallets:Math.round(w),safety:y}})},[e,t,r]);if(!s.length)return m.jsx("div",{className:"w-full h-80 flex items-center justify-center bg-gray-50 dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700",children:m.jsx("span",{className:"text-gray-400 font-medium",children:"No projection data available"})});const l=s[0]?.safety||0;Math.max(...s.map(g=>g.pallets),l*1.5);const u=a?"#9CA3AF":"#6B7280",d=a?"#374151":"#E5E7EB",f=a?"#1F2937":"#FFFFFF",p=a?"#F3F4F6":"#111827";return m.jsxs("div",{className:"w-full h-80 bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 flex flex-col transition-all",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4 px-2",children:[m.jsx("h3",{className:"text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"30-Day Inventory Projection"}),m.jsxs("div",{className:"flex items-center space-x-4 text-xs font-medium",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500 mr-1.5"}),m.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Projected Balance"})]}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500 mr-1.5 opacity-50"}),m.jsxs("span",{className:"text-gray-600 dark:text-gray-300",children:["Safety Target (",l," plts)"]})]})]})]}),m.jsx("div",{className:"flex-1 w-full min-h-[200px]",children:m.jsx(fY,{width:"100%",height:"100%",children:m.jsxs(tle,{data:s,margin:{top:10,right:10,left:0,bottom:0},children:[m.jsxs("defs",{children:[m.jsxs("linearGradient",{id:"colorPv",x1:"0",y1:"0",x2:"0",y2:"1",children:[m.jsx("stop",{offset:"5%",stopColor:"#3B82F6",stopOpacity:.3}),m.jsx("stop",{offset:"95%",stopColor:"#3B82F6",stopOpacity:.05})]}),m.jsxs("linearGradient",{id:"colorSafety",x1:"0",y1:"0",x2:"0",y2:"1",children:[m.jsx("stop",{offset:"5%",stopColor:"#EF4444",stopOpacity:.1}),m.jsx("stop",{offset:"95%",stopColor:"#EF4444",stopOpacity:0})]})]}),m.jsx(kM,{strokeDasharray:"3 3",vertical:!1,stroke:d}),m.jsx(RM,{dataKey:"displayDate",tick:{fontSize:11,fill:u},axisLine:!1,tickLine:!1,interval:6}),m.jsx(MM,{tick:{fontSize:11,fill:u},axisLine:!1,tickLine:!1,domain:[0,"auto"]}),m.jsx(sne,{contentStyle:{backgroundColor:f,borderRadius:"8px",border:a?"1px solid #374151":"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",color:p,padding:"8px 12px"},itemStyle:{fontSize:"12px",fontWeight:600},labelStyle:{color:u,fontSize:"11px",marginBottom:"4px"},formatter:(g,y)=>[`${g} Pallets`,y==="pallets"?"Balance":"Safety"]}),m.jsx(wM,{y:l,stroke:"#EF4444",strokeDasharray:"3 3",strokeOpacity:.6}),m.jsx(PM,{type:"monotone",dataKey:"pallets",stroke:"#3B82F6",strokeWidth:2,fillOpacity:1,fill:"url(#colorPv)",animationDuration:1e3})]})})})]})}const nle=we.memo(rle);function ale(){return{solve:(t,r,n,a,s,l,u)=>{if(!t||!t.dailyLedger||!a||!n[a])return console.warn("Solver: Missing Data",{currentResults:t,selectedSize:a}),null;const d=n[a],f={...l.monthlyInbound||{}},p=t.dailyLedger,g=mr(),y=u!==void 0?u:s?.leadTimeDays||2,v=Rt(g,Math.max(0,y-1));let w=0,k=0;return p.forEach((S,j)=>{const N=S.dateStr,D=S.projectedEndInventory+w;if(N<=v){console.log(`[Solver] Skipping Frozen Date: ${N} (Until: ${v})`);return}if(l.monthlyProductionActuals&&l.monthlyProductionActuals[N])return;const O=S.safetyStockTarget||(r||0)*d.bottlesPerTruck;if(D<O){const T=O-D,P=Math.ceil(T/d.bottlesPerTruck);if(P>0){const C=f[N]||0,R=Number(C)+P;f[N]=R,w+=P*d.bottlesPerTruck,k++}}else if(D>O+d.bottlesPerTruck){let T=Number(f[N]||0);if(T>0){const P=D-O,C=Math.floor(P/d.bottlesPerTruck),R=Math.min(C,T);if(R>0){const I=T-R;f[N]=I,w-=R*d.bottlesPerTruck,k++}}}}),{newInbound:f,updatesCount:k}}}}function ile({monthlyDemand:e,monthlyProductionActuals:t,monthlyInbound:r,updateDateDemand:n,updateDateActual:a,poManifest:s={},dailyLedger:l=[],specs:u,userProfile:d}){const{saveProcurementEntry:f,deleteProcurementEntry:p}=ra(),[g,y]=x.useState(()=>{const P=new Date;return P.setDate(P.getDate()-3),P}),[v,w]=x.useState(null),[k,S]=x.useState([]);x.useEffect(()=>{const P=[];for(let C=0;C<30;C++){const R=new Date(g);R.setDate(g.getDate()+C),P.push(R)}S(P)},[g]);const j=P=>{const C=new Date(g);C.setDate(C.getDate()+P),y(C)},N=P=>l.find(C=>C.dateStr===P)||{},E=(P,C,R,I)=>{if(!P&&P!==0)return;let M=Number(P);M>0&&M<1e3&&(M*=1e3),Number(C)!==M&&R(I,M)},D=P=>{const C=s[P],R=C?.items?.length>0,I=R?C.items.length:r[P]||0,M=C?.items?.map(z=>z.time).filter(Boolean).sort()||[];return m.jsx("div",{className:`relative h-full w-full flex flex-col justify-center px-1 cursor-pointer transition-colors ${I>0?"bg-blue-50 text-blue-900 dark:bg-blue-900/40 dark:text-blue-200 hover:bg-blue-100 dark:hover:bg-blue-800":"hover:bg-gray-50 dark:hover:bg-gray-800"}`,onClick:()=>w(P),children:I>0?m.jsxs("div",{className:"flex flex-wrap gap-0.5",children:[m.jsxs("span",{className:`flex items-center gap-1 text-[10px] font-bold px-1 rounded-sm shadow-sm ${R?"bg-blue-600 text-white":"bg-blue-100 text-blue-800 border border-blue-200"}`,children:[m.jsx(Rn,{className:"w-3 h-3"}),I," ",R?"":""]}),R&&M.slice(0,2).map((z,B)=>m.jsx("span",{className:"text-[9px] bg-blue-100 text-blue-800 px-0.5 border border-blue-200 rounded-sm dark:bg-blue-950 dark:text-blue-300 dark:border-blue-800",children:z},B)),M.length>2&&m.jsx("span",{className:"text-[8px] text-blue-400",children:"..."})]}):m.jsx("span",{className:"text-gray-200 text-xs text-center",children:"-"})})},O=P=>{const C=Math.round(P.projectedPallets||0),R=P.daysOfSupply||0;P.safetyStockTarget;let I="bg-emerald-50 text-emerald-900 dark:bg-emerald-900/40 dark:text-emerald-300";return R<2?I="bg-red-50 text-red-900 font-bold dark:bg-red-900/40 dark:text-red-300":R<4&&(I="bg-amber-50 text-amber-900 dark:bg-amber-900/40 dark:text-amber-300"),m.jsxs("div",{className:`h-full w-full flex flex-col justify-center px-1 text-right text-xs ${I}`,children:[m.jsxs("div",{children:[C," ",m.jsx("span",{className:"text-[9px] opacity-60",children:"plts"})]}),m.jsxs("div",{className:"text-[9px] opacity-75",children:[R.toFixed(1)," Days"]})]})},T=we.useMemo(()=>{if(!u||!u.bottlesPerTruck||!u.bottlesPerCase)return null;let P=0,C=0;const R=u.bottlesPerTruck/u.bottlesPerCase;k.forEach(z=>{const B=kt(z),G=e[B];G&&(P+=Number(G));const ae=s[B],q=ae?.items?.length>0?ae.items.length:r[B]||0;C+=Number(q)});const I=Math.ceil(P/R),M=C-I;return{totalCases:P,trucksRequired:I,totalScheduled:C,gap:M}},[k,e,r,s,u]);return m.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-gray-800 shadow-sm border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden font-sans",children:[T&&m.jsxs("div",{className:"hidden md:flex flex-shrink-0 p-1.5 bg-slate-900 text-white items-center justify-between z-10 font-mono text-xs uppercase tracking-wider border-b border-slate-700",children:[m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:"text-slate-400 text-[8px]",children:"Total Plan"}),m.jsxs("span",{className:"font-bold text-xs text-blue-200",children:[T.totalCases.toLocaleString()," ",m.jsx("span",{className:"text-[8px] text-slate-500",children:"cs"})]})]}),m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:"text-slate-400 text-[8px]",children:"Est. Trucks"}),m.jsxs("span",{className:"font-bold text-xs",children:[T.trucksRequired," ",m.jsx("span",{className:"text-[8px] text-slate-500",children:"trks"})]})]})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("div",{className:"flex flex-col text-right",children:[m.jsx("span",{className:"text-slate-400 text-[8px]",children:"Scheduled"}),m.jsx("span",{className:"font-bold text-xs text-emerald-400",children:T.totalScheduled})]}),m.jsxs("div",{className:`flex flex-col items-center justify-center px-2 py-0.5 rounded border ${T.gap<0?"bg-red-500/20 border-red-500 text-red-200":"bg-emerald-500/20 border-emerald-500 text-emerald-200"}`,children:[m.jsx("span",{className:"text-[8px] opacity-75",children:"Gap"}),m.jsxs("span",{className:"font-black text-lg leading-none",children:[T.gap>0?"+":"",T.gap]})]})]})]}),m.jsxs("div",{className:"flex justify-between items-center p-2 border-b bg-gray-50 dark:bg-gray-900",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(GA,{className:"w-4 h-4 text-gray-500"}),m.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-gray-600",children:"Workbench View"})]}),m.jsxs("div",{className:"flex gap-1",children:[m.jsx("button",{onClick:()=>j(-7),className:"p-1 hover:bg-gray-200 rounded",children:m.jsx(c0,{className:"w-4 h-4"})}),m.jsx("button",{onClick:()=>y(new Date),className:"px-2 text-xs font-medium hover:bg-gray-200 rounded",children:"Today"}),m.jsx("button",{onClick:()=>j(7),className:"p-1 hover:bg-gray-200 rounded",children:m.jsx(u0,{className:"w-4 h-4"})})]})]}),m.jsx("div",{className:"flex-1 overflow-auto relative custom-scrollbar",children:m.jsxs("table",{className:"w-full border-collapse text-xs",children:[m.jsx("thead",{className:"sticky top-0 z-20 shadow-sm",children:m.jsxs("tr",{children:[m.jsx("th",{className:"sticky left-0 z-30 bg-slate-50 dark:bg-gray-800 w-32 border-b border-r border-slate-300 dark:border-gray-700 p-2 text-left font-bold text-slate-700 dark:text-gray-400 shadow-[4px_0_10px_-4px_rgba(0,0,0,0.1)]",children:"Metric"}),k.map(P=>{const C=kt(P),R=kt(new Date),I=C===R,M=P<new Date(new Date().setHours(0,0,0,0)),z=P.getDay()===0||P.getDay()===6;let B="min-w-[80px] p-1 border-b border-r border-slate-200 dark:border-gray-700 text-center font-medium transition-colors ";return I?B+="bg-blue-600 text-white border-blue-600 ring-2 ring-blue-600 ring-inset ring-offset-0 z-20 shadow-md":M?B+="bg-slate-100 dark:bg-gray-900/50 text-slate-400 dark:text-gray-500":z?B+="bg-slate-50 dark:bg-gray-800/50 text-slate-500 dark:text-gray-500":B+="bg-white dark:bg-gray-800 text-slate-800 dark:text-gray-200",m.jsxs("th",{className:B,children:[m.jsx("div",{className:`text-[10px] uppercase ${I?"text-blue-100":"opacity-60"}`,children:I?"TODAY":P.toLocaleDateString("en-US",{weekday:"short"})}),m.jsx("div",{className:I?"font-bold":"",children:P.toLocaleDateString("en-US",{day:"numeric",month:"numeric"})})]},C)})]})}),m.jsxs("tbody",{children:[m.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-gray-800 group",children:[m.jsxs("td",{className:"sticky left-0 z-10 bg-slate-50 dark:bg-gray-800 border-r border-b border-slate-300 dark:border-gray-700 p-2 font-bold text-slate-700 dark:text-gray-300 group-hover:bg-slate-100 dark:group-hover:bg-gray-800 shadow-[4px_0_10px_-4px_rgba(0,0,0,0.1)]",children:["Production Plan",m.jsx("span",{className:"block text-[9px] font-normal text-slate-400 dark:text-gray-500",children:"Cases"})]}),k.map(P=>{const C=kt(P),R=kt(new Date),I=C===R,M=P<new Date(new Date().setHours(0,0,0,0)),z=e[C]||"",B=t[C],G=B!=null;let ae="border-r border-b border-slate-200 dark:border-gray-700 p-0 h-10 relative ";return I?ae+="bg-blue-50/80 dark:bg-blue-900/20 ring-2 ring-inset ring-blue-500 z-10 ":M?ae+="bg-slate-100 dark:bg-gray-900/40 ":ae+="bg-white dark:bg-gray-800 ",m.jsxs("td",{className:ae,children:[m.jsx("input",{type:"text",className:`w-full h-full text-center border-none focus:ring-0 bg-transparent p-0 text-gray-900 dark:text-gray-100 ${B?"font-bold":""} ${I?"font-bold":""}`,value:z?Number(z).toLocaleString():"",onChange:q=>n(C,q.target.value.replace(/,/g,"")),onBlur:q=>E(q.target.value.replace(/,/g,""),z,n,C),placeholder:"-"}),G&&m.jsxs("div",{className:"absolute bottom-0 right-0 text-[8px] bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400 px-1 pointer-events-none",title:`Actual: ${B}`,children:["Act: ",B]})]},C)})]}),m.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-gray-800 group",children:[m.jsxs("td",{className:"sticky left-0 z-10 bg-slate-50 dark:bg-gray-800 border-r border-b border-slate-300 dark:border-gray-700 p-2 font-bold text-blue-700 dark:text-blue-400 group-hover:bg-slate-100 dark:group-hover:bg-gray-800 shadow-[4px_0_10px_-4px_rgba(0,0,0,0.1)]",children:["Actual Reconciliation",m.jsx("span",{className:"block text-[9px] font-normal text-slate-400 dark:text-gray-500",children:"Past Dates Only"})]}),k.map(P=>{const C=kt(P),R=kt(new Date),I=C===R,M=P<new Date(new Date().setHours(0,0,0,0)),z=t[C]||"";let B="border-r border-b border-slate-200 dark:border-gray-700 p-0 h-10 relative ";I?B+="bg-blue-50/80 dark:bg-blue-900/20 ring-2 ring-inset ring-blue-500 z-10 ":M?B+="bg-white dark:bg-gray-800 ":B+="bg-slate-50/50 dark:bg-gray-800/50 ";const G=!M;return m.jsx("td",{className:B,children:G?m.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-300 dark:text-gray-600 text-[10px] select-none cursor-not-allowed italic",children:"Locked"}):m.jsx("input",{type:"text",className:"w-full h-full text-center border-none focus:ring-0 bg-transparent p-0 font-bold text-blue-700 dark:text-blue-300",value:z?Number(z).toLocaleString():"",onChange:ae=>a(C,ae.target.value.replace(/,/g,"")),onBlur:ae=>E(ae.target.value.replace(/,/g,""),z,a,C),placeholder:"-"})},C)})]}),m.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-gray-800 group",children:[m.jsxs("td",{className:"sticky left-0 z-10 bg-slate-50 dark:bg-gray-800 border-r border-b border-slate-300 dark:border-gray-700 p-2 font-bold text-slate-600 dark:text-gray-400 group-hover:bg-slate-100 dark:group-hover:bg-gray-800 shadow-[4px_0_10px_-4px_rgba(0,0,0,0.1)]",children:["Inbound Trucks",m.jsx("span",{className:"block text-[9px] font-normal text-slate-400 dark:text-gray-500",children:"Click to Manage"})]}),k.map(P=>{const C=kt(P),R=kt(new Date),I=C===R,M=P<new Date(new Date().setHours(0,0,0,0));let z="border-r border-b border-slate-200 dark:border-gray-700 p-0 h-12 align-middle ";return I?z+="bg-blue-50/80 dark:bg-blue-900/20 ring-2 ring-inset ring-blue-500 z-10 ":M?z+="bg-slate-100 dark:bg-gray-900/40 ":z+="bg-white dark:bg-gray-800 ",m.jsx("td",{className:z,children:D(C)},C)})]}),m.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-gray-800 group",children:[m.jsxs("td",{className:"sticky left-0 z-10 bg-slate-50 dark:bg-gray-800 border-r border-b border-slate-300 dark:border-gray-700 p-2 font-bold text-slate-600 dark:text-gray-400 group-hover:bg-slate-100 dark:group-hover:bg-gray-800 shadow-[4px_0_10px_-4px_rgba(0,0,0,0.1)]",children:["Projected End",m.jsx("span",{className:"block text-[9px] font-normal text-slate-400 dark:text-gray-500",children:"Pallets & DOS"})]}),k.map(P=>{const C=kt(P),R=kt(new Date),I=C===R,M=P<new Date(new Date().setHours(0,0,0,0)),z=N(C);let B="border-r border-b border-slate-200 dark:border-gray-700 p-0 h-12 align-middle ";return I?B+="bg-blue-50/80 dark:bg-blue-900/20 ring-2 ring-inset ring-blue-500 z-10 ":M?B+="bg-slate-100 dark:bg-gray-900/40 ":B+="bg-white dark:bg-gray-800 ",m.jsx("td",{className:B,children:O(z)},C)})]})]})]})}),v&&m.jsx(WC,{isOpen:!!v,onClose:()=>w(null),date:v,monthlyInbound:r,specs:u,orders:s[v]?.items||[],onSave:f,onDelete:p})]})}function sle({state:e,setters:t,results:r,readOnly:n=!1}){const{leadTimeDays:a,safetyStockLoads:s,schedulerSettings:l}=zn(),{productMap:u}=yr(),{user:d}=Or(),{solve:f}=ale(),p=r?.poManifest||{},[g,y]=x.useState(()=>{const ne=new Date;return ne.setDate(ne.getDate()-3),ne}),v=ne=>{y(de=>{const ve=new Date(de);return ve.setDate(ve.getDate()+ne),ve})},w=()=>{const ne=new Date;ne.setDate(ne.getDate()-3),y(ne)},[k,S]=x.useState(!1),j=()=>{const ne=kt(new Date);let de=`Monthly Replenishment Plan - Generated ${new Date().toLocaleDateString()}
`;de+=`--------------------------------------------------

`;const ve=r.specs?.productionRate||0,be=r.specs?.casesPerTruck||(r.specs?.bottlesPerTruck||2e4)/(r.specs?.bottlesPerCase||1),[Z,ce]=(l?.shiftStartTime||"00:00").split(":").map(Number),ye=Z+ce/60;for(let ie=0;ie<30;ie++){const xe=Rt(ne,ie),X=Math.round(Number(e.monthlyInbound[xe]||0));if(X>0){const[me,ge,ke]=xe.split("-").map(Number),Oe=new Date(me,ge-1,ke);if(de+=`DATE: ${Oe.toLocaleDateString(void 0,{weekday:"short",month:"numeric",day:"numeric",year:"numeric"})}
`,de+=`TRUCKS: ${X}
`,ve>0){const Me=be/ve;for(let ze=0;ze<X;ze++){const St=ye+ze*Me,lt=Math.round(St%24)%24,xr=Math.round(St%1*60),Be=`${lt}:${xr.toString().padStart(2,"0")}`;de+=`  - Truck ${ze+1}: Arrive approx ${Be}
`}}de+=`
`}}navigator.clipboard.writeText(de).then(()=>{S(!0),setTimeout(()=>S(!1),2e3),alert("Copied 30-Day Plan to Clipboard!")})},N=e.selectedSize?u[e.selectedSize]:null,E=N?.leadTimeDays!==void 0&&N?.leadTimeDays!==null?N.leadTimeDays:a||2,D=N?.safetyStockLoads!==void 0&&N?.safetyStockLoads!==null?Number(N.safetyStockLoads):s||6,O=()=>{if(!confirm(`Auto-Balance will populate Planned Loads to ensure safety stock is met.

Settings:
 - Lead Time: ${E} days
 - Safety Stock: ${D} loads

Proceed?`))return;const ne=f(r,D,u,e.selectedSize,l,e,E);if(!ne){console.error("[Auto-Balance] Solver returned null!"),alert("Auto-Balance failed: Solver returned no results. Check console for details.");return}const{newInbound:de,updatesCount:ve}=ne;ve>0?t.setMonthlyInbound(de):alert("Schedule is already balanced! No changes needed.")},[T,P]=x.useState(!1),[C,R]=x.useState(!1),[I,M]=x.useState(!1),[z,B]=x.useState("grid"),[G,ae]=x.useState(!1);if(!r)return m.jsxs("div",{className:"animate-pulse space-y-4 p-4",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("div",{className:"h-8 w-48 bg-slate-200 dark:bg-slate-700 rounded"}),m.jsx("div",{className:"h-8 w-32 bg-slate-200 dark:bg-slate-700 rounded"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsx("div",{className:"h-24 bg-slate-200 dark:bg-slate-700 rounded-lg"}),m.jsx("div",{className:"h-24 bg-slate-200 dark:bg-slate-700 rounded-lg"}),m.jsx("div",{className:"h-24 bg-slate-200 dark:bg-slate-700 rounded-lg"})]}),m.jsx("div",{className:"h-64 bg-slate-200 dark:bg-slate-700 rounded-lg"}),m.jsx("p",{className:"text-center text-sm text-slate-400",children:"Loading MRP data..."})]});const{netInventory:q,safetyTarget:F,trucksToOrder:W,trucksToCancel:J,specs:pe,yardInventory:L}=r,K=e.totalScheduledCases*pe.bottlesPerCase,U=ne=>ne?ne.toLocaleString():"0",te=()=>{const ne=pe.bottlesPerTruck/pe.bottlesPerCase/(pe.casesPerPallet||1),de=Math.round(r.calculatedPallets+r.yardInventory.effectiveCount*ne),ve=r.daysOfSupply!==void 0?r.daysOfSupply:0,be=E!==void 0?Number(E):a||2,Z=be+2;let ce="Healthy",ye="bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 shadow-sm border-l-4 border-l-emerald-500",ie="text-emerald-600 dark:text-emerald-400";ve<=be?(ce="CRITICAL",ye="bg-red-50 border-red-200 border-l-4 border-l-red-500 animate-pulse",ie="text-red-700"):ve<=Z&&(ce="Warning",ye="bg-amber-50 border-amber-200 border-l-4 border-l-amber-500",ie="text-amber-700");const xe=Me=>{const[ze,St,lt]=Me.split("-").map(Number);return new Date(ze,St-1,lt)},X=r.firstStockoutDate?xe(r.firstStockoutDate):null;let me="Stable";if(X){const Me=new Date;Me.setHours(0,0,0,0),X<=Me?me="NOW":me=X.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}const ge=new Date().setHours(0,0,0,0),ke=Object.entries(r.plannedOrders||{}).filter(([Me])=>new Date(Me).setHours(0,0,0,0)<=ge).reduce((Me,[ze,St])=>Me+St.count,0),Oe=r.trucksToCancel>0?0:r.trucksToOrder>0?r.trucksToOrder:e.isAutoReplenish?ke:0;return m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-2",children:[m.jsxs("div",{className:`p-3 rounded-lg border ${ye} flex flex-col justify-between shadow-sm`,children:[m.jsxs("div",{className:"flex justify-between items-center mb-1",children:[m.jsxs("div",{className:"flex items-center gap-1.5",children:[m.jsx("h3",{className:"text-[10px] font-bold uppercase tracking-wider opacity-70 text-gray-500 dark:text-gray-400",children:"Coverage Health"}),m.jsx(Dg,{className:"w-3.5 h-3.5 text-gray-400 cursor-help",title:"Status of inventory relative to Lead Time. if (Days < Lead Time) => Critical."})]}),ce==="CRITICAL"&&m.jsx("span",{className:"text-lg",children:""}),ce==="Healthy"&&m.jsx(ua,{className:"w-5 h-5 text-emerald-500"})]}),m.jsxs("div",{children:[m.jsx("div",{className:`text-2xl font-black tracking-tight ${ie} leading-none`,children:ce}),m.jsx("div",{className:"text-xs font-medium opacity-80 mt-1 dark:text-gray-300",children:ce==="CRITICAL"?me==="NOW"?"Stockout Computed":`Empty by ${me}`:ce==="Warning"?"Approaching Safety Stock Limit":"Inventory Levels Optimal"})]})]}),m.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm flex flex-col justify-between",children:[m.jsxs("div",{className:"flex justify-between items-center mb-1",children:[m.jsxs("div",{className:"flex items-center gap-1.5",children:[m.jsx("h3",{className:"text-[10px] font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Days of Supply"}),m.jsx(Dg,{className:"w-3.5 h-3.5 text-gray-400 cursor-help",title:"Total Inventory (Floor + Yard) divided by Daily Production Rate."})]}),m.jsxs("div",{className:"text-[10px] font-bold text-gray-500 bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded",title:"Target Pallets = Safety Stock Loads * Pallets/Truck",children:["Target: ",F?Math.round(F/(pe.bottlesPerCase*(pe.casesPerPallet||1))):"-"," plts"]})]}),m.jsxs("div",{className:"flex items-end space-x-2",children:[m.jsx("div",{className:"text-3xl font-mono font-bold text-gray-800 dark:text-white leading-none",children:ve>=30?K===0?"N/A":"30+":ve.toFixed(1)}),m.jsx("div",{className:"text-xs font-medium text-gray-400 mb-0.5",children:"Days"})]}),m.jsxs("div",{className:"mt-2 text-[10px] font-medium text-gray-500 flex justify-between items-center border-t pt-1 dark:border-gray-700",children:[m.jsx("span",{title:"Physically present inventory",children:"Current On-Hand"}),m.jsxs("span",{className:"font-bold text-gray-700 dark:text-gray-300",children:[U(de)," Pallets"]})]})]}),m.jsxs("div",{className:`p-3 rounded-lg border flex flex-col justify-between shadow-sm transition-all ${Oe>0?"bg-blue-600 border-blue-700 text-white":r.trucksToCancel>0?"bg-orange-100 border-orange-200 text-orange-900 dark:bg-orange-900/40 dark:border-orange-800 dark:text-orange-200":ce==="CRITICAL"?"bg-red-50 border-red-200":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700"}`,children:[m.jsxs("div",{className:"flex justify-between items-center mb-1",children:[m.jsxs("div",{className:"flex items-center gap-1.5",children:[m.jsx("h3",{className:`text-[10px] font-bold uppercase tracking-wider ${Oe>0?"text-blue-100":"text-gray-500 dark:text-gray-400"}`,children:"Replenishment"}),m.jsx(Dg,{className:`w-3.5 h-3.5 cursor-help ${Oe>0?"text-blue-200":"text-gray-400"}`,title:"True MRP Replenishment: Orders needed to reach safety stock target. Includes safety buffer (Gap shows simple scheduled vs demand difference)."})]}),Oe>0&&m.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full animate-ping"}),r.trucksToCancel>0&&!Oe&&m.jsx("span",{className:"text-lg",children:""})]}),Oe>0?m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-baseline space-x-2",children:[m.jsx("span",{className:"text-3xl font-black leading-none",children:Oe}),m.jsx("span",{className:"text-xs font-bold opacity-90",children:"Trucks Needed"}),ve<3&&m.jsx("span",{className:"ml-2 px-2 py-0.5 text-[10px] font-black bg-red-500/20 text-red-100 border border-red-400 rounded-full animate-pulse",children:"EXPEDITE!"})]}),m.jsx("p",{className:"text-[10px] opacity-80 mt-1 font-medium leading-tight",children:ve<3?`Critical: Only ${ve.toFixed(1)} days left!`:e.isAutoReplenish?"Planned orders due today.":"Deficit based on target."})]}):r.trucksToCancel>0?m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-baseline space-x-2",children:[m.jsx("span",{className:"text-3xl font-black leading-none",children:r.trucksToCancel}),m.jsx("span",{className:"text-xs font-bold opacity-90",children:"Cancel Trucks"})]}),m.jsx("p",{className:"text-[10px] opacity-80 mt-1 font-medium leading-tight",children:"Excess inventory confirmed."})]}):m.jsxs("div",{children:[m.jsx("div",{className:"flex items-baseline space-x-2",children:ce==="CRITICAL"?m.jsx("span",{className:"text-2xl font-bold leading-none text-red-600",children:"Expedite!"}):m.jsx("span",{className:"text-2xl font-bold leading-none text-gray-800 dark:text-white",children:"Standby"})}),m.jsx("p",{className:"text-[10px] text-gray-500 mt-1 leading-tight",children:ce==="CRITICAL"?"Stockout imminent. Review.":"No immediate orders due."})]})]})]})};return m.jsxs("div",{className:"max-w-full mx-auto pb-12",children:[te(),m.jsxs("div",{className:"flex flex-col space-y-6",children:[m.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 flex flex-col overflow-hidden",children:[m.jsxs("div",{className:"px-5 py-3 border-b border-gray-200 dark:border-gray-700 flex flex-col lg:flex-row justify-between items-center bg-gray-50 dark:bg-gray-900/50 gap-4",children:[m.jsxs("div",{className:"flex items-center gap-4 w-full lg:w-auto",children:[m.jsxs("div",{className:"flex bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-0.5",children:[m.jsx("button",{onClick:()=>v(-7),className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md text-gray-500 transition-colors",title:"Previous Week",children:m.jsx(c0,{className:"w-4 h-4"})}),m.jsx("button",{onClick:w,className:"px-3 py-1 text-xs font-bold text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 border-x border-gray-100 dark:border-gray-700 mx-0.5 transition-colors",children:"Today"}),m.jsx("button",{onClick:()=>v(7),className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md text-gray-500 transition-colors",title:"Next Week",children:m.jsx(u0,{className:"w-4 h-4"})})]}),m.jsxs("span",{className:"text-xs font-medium text-gray-400 hidden sm:block",children:[g.toLocaleDateString("en-US",{month:"short",day:"numeric"})," - ",Rt(kt(g),6).split("-").slice(1).join("/")]})]}),m.jsxs("div",{className:"flex flex-wrap items-center gap-3 w-full lg:w-auto justify-end",children:[m.jsxs("div",{className:"flex items-center gap-1 bg-white dark:bg-gray-700 p-1 rounded-lg border border-gray-200 dark:border-gray-600 shadow-sm",children:[!n&&m.jsxs(m.Fragment,{children:[m.jsx("button",{onClick:()=>ae(!0),className:"p-1.5 text-gray-500 hover:text-orange-500 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-md transition-colors",title:"Morning True-Up",children:m.jsx(ZA,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>M(!0),className:"p-1.5 text-gray-500 hover:text-purple-500 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-md transition-colors",title:"Manage POs",children:m.jsx(g2,{className:"w-5 h-5"})})]}),m.jsx("button",{onClick:()=>P(!0),className:"p-1.5 text-gray-500 hover:text-blue-500 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-md transition-colors",title:"Email Suppliers",children:m.jsx(FA,{className:"w-5 h-5"})})]}),!n&&!e.isAutoReplenish&&m.jsxs("button",{onClick:O,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-bold text-white bg-indigo-600 hover:bg-indigo-700 rounded-lg shadow-sm transition-all",title:"Manually calculate replenishment (Not needed in Auto-Pilot)",children:[m.jsx(BA,{className:"w-3.5 h-3.5"}),m.jsx("span",{className:"hidden sm:inline",children:"Auto-Balance"})]}),m.jsx("div",{className:"h-6 w-px bg-gray-300 dark:bg-gray-600 hidden md:block mx-1"}),m.jsxs("div",{className:"flex bg-white dark:bg-gray-700 p-1 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600",children:[m.jsx("button",{onClick:()=>B("grid"),className:`px-2.5 py-1.5 rounded-md text-xs font-bold transition-all ${z==="grid"?"bg-blue-50 text-blue-700 dark:bg-slate-600 dark:text-blue-300 shadow-sm":"text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"Grid"}),m.jsx("button",{onClick:()=>B("workbench"),className:`px-2.5 py-1.5 rounded-md text-xs font-bold transition-all ${z==="workbench"?"bg-blue-50 text-blue-700 dark:bg-slate-600 dark:text-blue-300 shadow-sm":"text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"Work"}),m.jsx("button",{onClick:()=>B("calendar"),className:`px-2.5 py-1.5 rounded-md text-xs font-bold transition-all ${z==="calendar"?"bg-blue-50 text-blue-700 dark:bg-slate-600 dark:text-blue-300 shadow-sm":"text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"Cal"})]}),!n&&m.jsx("label",{className:"flex items-center cursor-pointer group",title:"Auto-Pilot Mode",children:m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"checkbox",className:"sr-only",checked:e.isAutoReplenish||!1,onChange:ne=>t.setIsAutoReplenish(ne.target.checked)}),m.jsx("div",{className:`block w-7 h-4 rounded-full transition-colors ${e.isAutoReplenish?"bg-purple-600":"bg-gray-300 dark:bg-gray-600"}`}),m.jsx("div",{className:`dot absolute left-1 top-1 bg-white w-2 h-2 rounded-full transition-transform ${e.isAutoReplenish?"transform translate-x-3":""}`})]})}),m.jsx("button",{onClick:j,className:`p-1.5 rounded-lg border transition-all ${k?"bg-green-50 border-green-200 text-green-600":"bg-white dark:bg-gray-700 border-gray-200 dark:border-gray-600 text-gray-500 hover:text-gray-700"}`,title:"Export 30-Day Plan",children:k?m.jsx(ua,{className:"w-5 h-5"}):m.jsx(g2,{className:"w-5 h-5"})})]})]}),m.jsx("div",{className:"flex-1 overflow-hidden relative bg-slate-200 dark:bg-slate-900 rounded-xl shadow-lg border border-slate-300 dark:border-slate-800",children:z==="calendar"?m.jsx("div",{className:"h-full p-4 overflow-auto",children:m.jsx(xV,{monthlyDemand:e.monthlyDemand||{},updateDateDemand:t.updateDateDemand,updateDateDemandBulk:t.updateDateDemandBulk,monthlyInbound:e.monthlyInbound||{},updateDateInbound:t.updateDateInbound,monthlyProductionActuals:e.monthlyProductionActuals||{},updateDateActual:t.updateDateActual,specs:r?.specs,trucksToCancel:r?.trucksToCancel,dailyLedger:r?.dailyLedger,safetyTarget:r?.safetyTarget,poManifest:p,readOnly:n})}):z==="workbench"?m.jsx(ile,{monthlyDemand:e.monthlyDemand||{},updateDateDemand:t.updateDateDemand,monthlyInbound:e.monthlyInbound||{},monthlyProductionActuals:e.monthlyProductionActuals||{},updateDateActual:t.updateDateActual,poManifest:p,specs:r?.specs,dailyLedger:r?.dailyLedger,userProfile:d,startDate:g,readOnly:n}):m.jsx(CV,{monthlyDemand:e.monthlyDemand||{},updateDateDemand:t.updateDateDemand,updateDateDemandBulk:t.updateDateDemandBulk,monthlyInbound:e.monthlyInbound||{},updateDateInbound:t.updateDateInbound,monthlyProductionActuals:e.monthlyProductionActuals||{},updateDateActual:t.updateDateActual,poManifest:p,specs:r?.specs,safetyTarget:r?.safetyTarget,dailyLedger:r?.dailyLedger,userProfile:d,startDate:g,readOnly:n,leadTimeDays:E})})]}),m.jsx("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:m.jsx(nle,{dailyLedger:r.dailyLedger,safetyTargetBottles:r.safetyTarget,specs:r.specs})})]}),m.jsx(XC,{isOpen:G,onClose:()=>ae(!1),state:e,setters:t}),m.jsx(PV,{isOpen:T,onClose:()=>P(!1),mrpResults:r}),m.jsx(DV,{isOpen:C,onClose:()=>R(!1)}),m.jsx(MV,{isOpen:I,onClose:()=>M(!1)})]})}const KM=[{id:"L1",name:"Line 1 (High Speed)"},{id:"L2",name:"Line 2 (Flex)"},{id:"L3",name:"Line 3 (Manual)"}];function ole(e){const t=[],r=new Date(e);return t.push({id:"run-1",sku:"20oz",lineId:"L1",startTime:new Date(r.setHours(6,0,0,0)).toISOString(),durationHours:8,targetCases:12e3,status:"running",color:"bg-blue-500"}),t.push({id:"run-2",sku:"2L",lineId:"L1",startTime:new Date(r.setHours(14,0,0,0)).toISOString(),durationHours:8,targetCases:5e3,status:"planned",color:"bg-indigo-500"}),t.push({id:"run-3",sku:"MAINT",lineId:"L2",startTime:new Date(r.setHours(8,0,0,0)).toISOString(),durationHours:4,targetCases:0,status:"maintenance",color:"bg-gray-400"}),t.push({id:"run-4",sku:"1L",lineId:"L2",startTime:new Date(r.setHours(13,0,0,0)).toISOString(),durationHours:6,targetCases:8e3,status:"planned",color:"bg-purple-500"}),t}function lle(e){const t=new Date(e);return t.getHours()+t.getMinutes()/60}function cle({runs:e,lines:t,onRunClick:r}){const{productMap:n}=yr(),a=f=>n[f]?.colorTag||"#3B82F6",s=Array.from({length:24},(f,p)=>p),l=60,u=f=>lle(f)*l,d=f=>f*l;return m.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow border border-gray-200 dark:border-gray-700 overflow-hidden",children:m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("div",{className:"min-w-[1500px] relative",children:[m.jsxs("div",{className:"flex border-b text-xs text-gray-400",children:[m.jsx("div",{className:"w-32 flex-shrink-0 p-2 border-r bg-gray-50 dark:bg-gray-900 sticky left-0 z-10",children:"Lines"}),m.jsx("div",{className:"flex-1 flex relative h-8 items-center bg-gray-50 dark:bg-gray-900",children:s.map(f=>m.jsxs("div",{className:"absolute border-l border-gray-200 dark:border-gray-700 h-full flex items-center pl-1",style:{left:f*l},children:[f,":00"]},f))})]}),t.map(f=>m.jsxs("div",{className:"flex border-b border-gray-100 dark:border-gray-800 h-24 relative hover:bg-gray-50/50 transition-colors",children:[m.jsx("div",{className:"w-32 flex-shrink-0 p-3 border-r bg-white dark:bg-gray-800 sticky left-0 z-10 font-bold text-sm text-gray-700 dark:text-gray-200 flex flex-col justify-center shadow-[4px_0_10px_-5px_rgba(0,0,0,0.1)]",children:f.name}),m.jsx("div",{className:"absolute inset-0 pointer-events-none",children:s.map(p=>m.jsx("div",{className:"absolute border-l border-dashed border-gray-100 dark:border-gray-700 h-full",style:{left:p*l}},p))}),m.jsx("div",{className:"flex-1 relative mt-2",children:e.filter(p=>p.lineId===f.id).map(p=>m.jsxs("div",{onClick:()=>r(p),className:"absolute top-1 h-16 rounded-lg shadow-sm cursor-pointer hover:brightness-110 transition-all border border-black/10 text-white p-2 overflow-hidden",style:{left:u(p.startTime),width:d(p.durationHours),backgroundColor:a(p.sku)},children:[m.jsx("div",{className:"font-bold text-sm leading-tight",children:p.sku}),m.jsxs("div",{className:"text-[10px] opacity-90",children:[p.targetCases?.toLocaleString()," cases"]}),p.status==="running"&&m.jsx("div",{className:"absolute top-1 right-1 w-2 h-2 bg-green-400 rounded-full animate-pulse shadow-sm"})]},p.id))})]},f.id))]})})})}function ule({isOpen:e,onClose:t,onSave:r,initialRun:n=null,selectedDate:a}){const{productMap:s}=yr(),l=Object.keys(s),u=l[0]||"20oz",[d,f]=x.useState({sku:u,lineId:"L1",startTime:"08:00",durationHours:8,targetCases:1e4});x.useEffect(()=>{if(e)if(n){const y=new Date(n.startTime).toTimeString().slice(0,5);f({sku:n.sku,lineId:n.lineId,startTime:y,durationHours:n.durationHours,targetCases:n.targetCases})}else f({sku:u,lineId:"L1",startTime:"08:00",durationHours:8,targetCases:1e4})},[e,n,u]);const p=g=>{g.preventDefault();const[y,v]=d.startTime.split(":").map(Number),w=new Date(a);w.setHours(y,v,0,0);const k={id:n?n.id:`run-${Date.now()}`,...d,startTime:w.toISOString(),status:"planned"};r(k),t()};return m.jsx(Yf.Root,{show:e,as:x.Fragment,children:m.jsxs(Mt,{as:"div",className:"relative z-50",onClose:t,children:[m.jsx(Yf.Child,{as:x.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:m.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),m.jsx("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:m.jsx("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:m.jsx(Yf.Child,{as:x.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:m.jsxs(Mt.Panel,{className:"relative transform overflow-hidden rounded-lg bg-white dark:bg-gray-800 px-4 pt-5 pb-4 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6",children:[m.jsx("div",{className:"absolute top-0 right-0 hidden pt-4 pr-4 sm:block",children:m.jsx("button",{type:"button",className:"rounded-md bg-white dark:bg-gray-800 text-gray-400 hover:text-gray-500 focus:outline-none",onClick:t,children:m.jsx(Xs,{className:"h-6 w-6","aria-hidden":"true"})})}),m.jsx("div",{className:"sm:flex sm:items-start",children:m.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[m.jsx(Mt.Title,{as:"h3",className:"text-xl font-bold leading-6 text-gray-900 dark:text-white mb-6",children:n?"Edit Production Run":"Schedule New Run"}),m.jsxs("form",{onSubmit:p,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Production Line"}),m.jsx("select",{value:d.lineId,onChange:g=>f({...d,lineId:g.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-900 dark:border-gray-600 dark:text-white sm:text-sm",children:KM.map(g=>m.jsx("option",{value:g.id,children:g.name},g.id))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Product (SKU)"}),m.jsx("div",{className:"grid grid-cols-2 gap-2 mt-1",children:l.map(g=>m.jsx("div",{onClick:()=>f({...d,sku:g}),className:`cursor-pointer p-2 rounded-md border text-center text-sm font-bold transition-all ${d.sku===g?"ring-2 ring-indigo-500 border-transparent bg-indigo-50 text-indigo-700":"border-gray-200 hover:bg-gray-50 dark:border-gray-600 dark:hover:bg-gray-700 dark:text-gray-200"}`,children:g},g))})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Start Time"}),m.jsx("input",{type:"time",value:d.startTime,onChange:g=>f({...d,startTime:g.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-900 dark:border-gray-600 dark:text-white sm:text-sm"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Duration (Hrs)"}),m.jsx("input",{type:"number",min:"1",max:"24",value:d.durationHours,onChange:g=>f({...d,durationHours:Number(g.target.value)}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-900 dark:border-gray-600 dark:text-white sm:text-sm"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Target Quantity (Cases)"}),m.jsx("input",{type:"number",value:d.targetCases,onChange:g=>f({...d,targetCases:Number(g.target.value)}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-900 dark:border-gray-600 dark:text-white sm:text-sm"})]}),m.jsxs("div",{className:"mt-5 sm:mt-6 sm:grid sm:grid-flow-row-dense sm:grid-cols-2 sm:gap-3",children:[m.jsx("button",{type:"submit",className:"inline-flex w-full justify-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 sm:col-start-2 sm:text-sm",children:n?"Update Run":"Schedule Run"}),m.jsx("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-4 py-2 text-base font-medium text-gray-700 dark:text-gray-200 shadow-sm hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 sm:col-start-1 sm:mt-0 sm:text-sm",onClick:t,children:"Cancel"})]})]})]})})]})})})})]})})}function dle({readOnly:e=!1}){const[t,r]=x.useState(new Date),[n,a]=x.useState([]),[s,l]=x.useState(!1),[u,d]=x.useState(null);x.useEffect(()=>{const v=ole(t.toISOString());a(v)},[t]);const f=v=>{const w=new Date(t);w.setDate(w.getDate()+v),r(w)},p=v=>{e||(d(v),l(!0))},g=()=>{d(null),l(!0)},y=v=>{a(w=>w.find(S=>S.id===v.id)?w.map(S=>S.id===v.id?v:S):[...w,v]),l(!1)};return m.jsxs("div",{className:"space-y-6",children:[m.jsx(ule,{isOpen:s,onClose:()=>l(!1),onSave:y,initialRun:u,selectedDate:t}),m.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"p-2 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg text-white shadow-md",children:m.jsx(HA,{className:"w-6 h-6"})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white leading-none",children:"Production Schedule"}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Manage Work Orders & Line Capacity"})]})]}),m.jsxs("div",{className:"flex items-center bg-gray-100 dark:bg-gray-900 rounded-lg p-1",children:[m.jsx("button",{onClick:()=>f(-1),className:"p-1.5 hover:bg-white dark:hover:bg-gray-700 rounded-md shadow-sm transition-all",children:m.jsx(c0,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})}),m.jsx("div",{className:"px-4 font-bold text-gray-700 dark:text-gray-200 w-32 text-center",children:t.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}),m.jsx("button",{onClick:()=>f(1),className:"p-1.5 hover:bg-white dark:hover:bg-gray-700 rounded-md shadow-sm transition-all",children:m.jsx(u0,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})})]}),!e&&m.jsxs("button",{onClick:g,className:"flex items-center gap-2 bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg font-bold shadow-sm transition-all",children:[m.jsx(_u,{className:"w-5 h-5"}),m.jsx("span",{children:"New Run"})]})]}),m.jsx(cle,{runs:n,lines:KM,onRunClick:p}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:["Shift 1 (07:00 - 15:00)","Shift 2 (15:00 - 23:00)","Shift 3 (23:00 - 07:00)"].map((v,w)=>m.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:[m.jsx("h4",{className:"text-xs font-bold uppercase text-gray-400 mb-2",children:v}),m.jsx("div",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"-- Cases"}),m.jsx("div",{className:"text-sm text-green-600 font-medium pb-1",children:"On Track"})]},w))})]})}function fle({state:e,setters:t,results:r,readOnly:n=!1}){return m.jsx("div",{className:"max-w-full mx-auto",children:m.jsx(dle,{readOnly:n})})}const ZM=(e,t)=>`mrp_${t}_${e}`,dr=(e,t,r,n=!1)=>{const a=ZM(e,r),s=`mrp_${e}`;let l=localStorage.getItem(a);if(l===null&&r==="20oz"&&(l=localStorage.getItem(s)),l===null)return t;if(n)try{return JSON.parse(l)||t}catch{return t}return l},Zr=(e,t,r,n=!1)=>{const a=ZM(e,r),s=n?JSON.stringify(t):t;localStorage.setItem(a,s)};function hle(){const{productMap:e}=yr(),t=Object.keys(e),{user:r}=Or(),{fetchMRPState:n,migrateLocalStorage:a}=Nl(),[s,l]=x.useState(()=>localStorage.getItem("mrp_selectedSize")||"20oz"),[u,d]=x.useState(()=>dr("monthlyDemand",{},s,!0)),[f,p]=x.useState(()=>dr("monthlyProductionActuals",{},s,!0)),[g,y]=x.useState(()=>dr("monthlyInbound",{},s,!0)),[v,w]=x.useState(()=>dr("truckManifest",{},s,!0)),[k,S]=x.useState(()=>Number(dr("downtimeHours",0,s))),[j,N]=x.useState(()=>Number(dr("currentInventoryPallets",0,s))),[E,D]=x.useState(()=>dr("inventoryAnchor",{date:mr(),count:0},s,!0)),[O,T]=x.useState(()=>Number(dr("incomingTrucks",0,s))),[P,C]=x.useState(()=>dr("yardInventory",{count:0,date:null,fileName:null},s,!0)),[R,I]=x.useState(()=>r?!0:dr("isAutoReplenish",!0,s,!0)),[M,z]=x.useState(null),[B,G]=x.useState(0);return x.useEffect(()=>()=>{},[r]),x.useEffect(()=>{localStorage.setItem("mrp_selectedSize",s),r?(async()=>{try{const q=await n(r.id,s);if(q)z(q.product),d(q.monthlyDemand||{}),p(q.monthlyProductionActuals||{}),y(q.monthlyInbound||{}),w(q.truckManifest||{}),S(q.downtimeHours||0),I(q.isAutoReplenish),q.inventoryAnchor?D(F=>F?.date&&q.inventoryAnchor?.date&&new Date(F.date)>=new Date(q.inventoryAnchor.date)?F:q.inventoryAnchor||F):D({date:mr(),count:0}),q.yardInventory?C(F=>F?.date&&q.yardInventory.date&&new Date(F.date)>=new Date(q.yardInventory.date)?F:q.yardInventory):C({count:0,date:null});else{if((await a(r,t)).success){const W=await n(r.id,s);if(W){d(W.monthlyDemand||{}),p(W.monthlyProductionActuals||{}),y(W.monthlyInbound||{}),w(W.truckManifest||{}),S(W.downtimeHours),I(W.isAutoReplenish),W.inventoryAnchor&&D(W.inventoryAnchor),W.yardInventory&&C(W.yardInventory);return}}d({}),p({}),y({}),w({}),S(0),T(0),D({date:mr(),count:0}),C({count:0,date:null})}}catch(q){console.error("Failed to load cloud state",q)}})():(d(dr("monthlyDemand",{},s,!0)),p(dr("monthlyProductionActuals",{},s,!0)),y(dr("monthlyInbound",{},s,!0)),w(dr("truckManifest",{},s,!0)),S(Number(dr("downtimeHours",0,s))),D(dr("inventoryAnchor",{date:mr(),count:0},s,!0)),I(dr("isAutoReplenish",!0,s,!0)))},[s,r?.id,B]),cl({table:"planning_entries",filter:M?`product_id=eq.${M.id}`:void 0,enabled:!!M?.id,onDataChange:ae=>{const{eventType:q,new:F,old:W}=ae;if(q==="DELETE"){r&&M&&n(r.id,s).then(L=>{L&&(L.monthlyDemand&&d(L.monthlyDemand),L.monthlyProductionActuals&&p(L.monthlyProductionActuals),L.monthlyInbound&&y(L.monthlyInbound),L.truckManifest&&w(L.truckManifest))});return}const J=F.date,pe=Number(F.value);F.entry_type==="demand_plan"?d(L=>({...L,[J]:pe})):F.entry_type==="production_actual"?p(L=>({...L,[J]:pe})):F.entry_type==="inbound_trucks"&&y(L=>({...L,[J]:pe}))}}),cl({table:"inventory_snapshots",filter:M?`product_id=eq.${M.id}`:void 0,enabled:!!M?.id,onDataChange:ae=>{const{eventType:q,new:F}=ae;if(q==="DELETE")return;const W=Number(F.quantity_pallets),J=F.date;F.location==="yard"?C(pe=>({...pe,count:W,date:J||pe.date})):F.location==="floor"&&(N(W),D(pe=>({...pe,count:W,date:J||pe.date})))}}),cl({table:"planned_inbound",filter:M?`product_id=eq.${M.id}`:void 0,enabled:!!M?.id,onDataChange:()=>{G(ae=>ae+1)}}),{selectedSize:s,setSelectedSize:l,monthlyDemand:u,setMonthlyDemand:d,monthlyProductionActuals:f,setMonthlyProductionActuals:p,monthlyInbound:g,setMonthlyInbound:y,truckManifest:v,setTruckManifest:w,downtimeHours:k,setDowntimeHours:S,currentInventoryPallets:j,setCurrentInventoryPallets:N,inventoryAnchor:E,setInventoryAnchor:D,incomingTrucks:O,setIncomingTrucks:T,yardInventory:P,setYardInventory:C,isAutoReplenish:R,setIsAutoReplenish:I,refreshData:()=>G(ae=>ae+1)}}const mle=({todayStr:e,productionRate:t,downtimeHours:r,bottleSpecs:n,inventoryAnchor:a,yardInventory:s,incomingTrucks:l,monthlyDemand:u,monthlyProductionActuals:d,monthlyInbound:f,poManifest:p,safetyStockLoads:g,leadTimeDays:y=2})=>{if(!n)return null;const v=n,w=1+(v.scrapPercentage||0)/100,k=v.bottlesPerCase||12,S=v.bottlesPerTruck||1,j=v.casesPerPallet||1,N=new Set([...Object.keys(u||{}),...Object.keys(d||{})]),E=Array.from(N).reduce((xe,X)=>{if(X>=e){const me=d[X],ge=u[X],ke=X>e,Oe=me!=null&&(!ke||Number(me)!==0),Me=Number(Oe?me:ge);return xe+(Me||0)}return xe},0),D=t/k,O=r*D,T=Math.max(0,E-O),P=xe=>p&&p[xe]?.items?.length>0?p[xe].items.filter(me=>me.status!=="received").length:Number(f[xe])||0,C=new Set([...Object.keys(f),...Object.keys(p||{})]),R=Array.from(C).reduce((xe,X)=>X>=e?xe+P(X):xe,0),I=(l||0)+R,M=I*S,z=s?.count||0,B=z*S;let G=a.count;if(a.date){const xe=new Date(a.date),X=new Date(e),me=Number(X)-Number(xe),ge=Math.floor(me/(1e3*60*60*24));if(ge>0&&ge<365)for(let ke=0;ke<ge;ke++){const Oe=Rt(a.date,ke),Me=d[Oe],ze=u[Oe],St=Oe>e,lt=Me!=null&&(!St||Number(Me)!==0),xr=Number(lt?Me:ze||0),Be=P(Oe),It=v.palletsPerTruck||S/k/j,Fe=Be*It,Ye=xr/j;G=G+Fe-Ye}}const ae=G*j*k,q=T*k*w,F=ae+M+B-q,W=g*S,J=[];let pe=ae+B,L=null,K=null;for(let xe=0;xe<30;xe++){const X=Rt(e,xe),me=d[X],ge=u[X],ke=X>e,Oe=me!=null&&(!ke||Number(me)!==0),ze=Number(Oe?me:ge||0)*k*w,lt=P(X)*S;pe=pe+lt-ze,J.push({date:X,dateStr:X,balance:pe,demand:ze,supply:lt,projectedEndInventory:pe,projectedPallets:pe/(k*j||1),daysOfSupply:0}),pe<W&&!L&&(L=X),pe>W+S*2&&!K&&(K=X)}let U=0;for(let xe=0;xe<=y;xe++){const X=Rt(e,xe);U+=P(X)}const te=U*S,ne=ae+B+te;let de=0;for(let xe=0;xe<=y;xe++){const X=Rt(e,xe),me=(u[X]||0)*k*w;de+=me}const ve=de+W;let be=0,Z=0;if(ne<ve)be=Math.ceil((ve-ne)/S);else if(ne>W+de+S){const xe=ne-(W+de);xe>S&&(Z=Math.min(Math.floor(xe/S),I))}Z>R&&(console.warn(`[MRP] Capping trucksToCancel from ${Z} to ${R}`),Z=R);let ce=30;const ye=ae+B;if(ye<W)ce=0;else if(J.length>0){const xe=J.findIndex(X=>X.balance<0);if(xe!==-1){const X=J[xe],me=xe>0?J[xe-1].balance:ye;let ge=0;X.demand>0&&me>0&&(ge=me/X.demand),ce=xe+ge}}const ie={};return Object.entries(f).forEach(([xe,X])=>{Number(X)<=0||p&&p[xe]?.items?.length>0||(ie[xe]||(ie[xe]={count:0,items:[]}),ie[xe].count+=Number(X),ie[xe].items.push({needDate:xe,trucks:Number(X)}))}),{netInventory:F,safetyTarget:W,trucksToOrder:be,trucksToCancel:Z,lostProductionCases:O,effectiveScheduledCases:T,specs:v,yardInventory:{...s,effectiveCount:z,isOverridden:!1},dailyLedger:J,firstStockoutDate:L,firstOverflowDate:K,totalIncomingTrucks:I,initialInventory:ae+B,calculatedPallets:G,daysOfSupply:ce,inventoryAnchor:a,plannedOrders:ie}};function ple(e,t={}){const{safetyStockLoads:r,leadTimeDays:n}=zn(),{productMap:a}=yr(),{selectedSize:s,monthlyDemand:l,monthlyProductionActuals:u,monthlyInbound:d,downtimeHours:f,incomingTrucks:p,yardInventory:g,inventoryAnchor:y}=e,v=a[s],w=v?.productionRate||0,k=v?.leadTimeDays!==void 0&&v?.leadTimeDays!==null?v.leadTimeDays:n||2,S=x.useMemo(()=>{if(!v)return null;const j={todayStr:mr(),productionRate:w,downtimeHours:f,bottleSpecs:v,inventoryAnchor:y,yardInventory:g,incomingTrucks:p,monthlyDemand:l,monthlyProductionActuals:u,monthlyInbound:d,poManifest:t,safetyStockLoads:r,leadTimeDays:k};return mle(j)},[s,w,f,p,a,r,g,l,d,y,t,u,v,k]);return x.useMemo(()=>({totalScheduledCases:S?.effectiveScheduledCases||0,productionRate:w,calculations:S}),[S,w])}function gle(e,t){const{safetyStockLoads:r,leadTimeDays:n}=zn(),{productMap:a,refreshProducts:s}=yr(),{user:l,userRole:u}=Or(),{savePlanningEntry:d,saveProductionSetting:f,saveInventorySnapshot:p}=Nl(),{selectedSize:g,setSelectedSize:y,monthlyDemand:v,setMonthlyDemand:w,monthlyProductionActuals:k,setMonthlyProductionActuals:S,monthlyInbound:j,setMonthlyInbound:N,truckManifest:E,setTruckManifest:D,setDowntimeHours:O,setCurrentInventoryPallets:T,setIncomingTrucks:P,setYardInventory:C,isAutoReplenish:R,setIsAutoReplenish:I,setInventoryAnchor:M,inventoryAnchor:z}=e,{calculations:B}=t,G=x.useRef(0),ae=x.useRef(v),q=x.useRef(k),F=x.useRef(j);x.useLayoutEffect(()=>{ae.current=v},[v]),x.useLayoutEffect(()=>{q.current=k},[k]),x.useLayoutEffect(()=>{F.current=j},[j]);const[W]=x.useState(!1),[J,pe]=x.useState(null),L=x.useRef({}),K=x.useRef({}),U=x.useCallback(async X=>{if(["admin","planner"].includes(u||"")){pe(null);try{await X()}catch(ge){console.error("Save Error",ge),pe(ge.message||"Save Failed")}}},[u]),te=x.useCallback((X,me,ge=1e3)=>{L.current[X]&&clearTimeout(L.current[X]),L.current[X]=setTimeout(()=>{U(me),delete L.current[X]},ge)},[U]),ne=x.useCallback((X,me,ge=300)=>{K.current[X]&&clearTimeout(K.current[X]),K.current[X]=setTimeout(()=>{me(),delete K.current[X]},ge)},[]);x.useEffect(()=>()=>{Object.values(L.current).forEach(clearTimeout),Object.values(K.current).forEach(clearTimeout)},[]);const de=x.useCallback(()=>{if(!B||!R)return;const X=ae.current,me=q.current,ge=F.current,ke=a[g];if(!ke)return;const Oe=1+(ke.scrapPercentage||0)/100,Me=(r||0)*ke.bottlesPerTruck;let ze=B.initialInventory||0;const St=ke.leadTimeDays!==void 0&&ke.leadTimeDays!==null?ke.leadTimeDays:n||2,lt={},xr=mr();for(let Fe=0;Fe<St;Fe++){const Ye=Rt(xr,Fe),mt=me[Ye],wa=X[Ye],bn=Ye<xr&&mt!=null&&Number(mt)!==0,Tr=Number(bn?mt:wa||0)*(ke.bottlesPerCase||1)*Oe,Et=ge[Ye]||0;ze=ze+Et*ke.bottlesPerTruck-Tr}for(let Fe=St;Fe<60;Fe++){const Ye=Rt(xr,Fe),mt=me[Ye],wa=X[Ye],hi=Ye>xr,bn=mt!=null&&(!hi||Number(mt)!==0),Tr=Number(bn?mt:wa||0)*(ke.bottlesPerCase||1)*Oe;let Et=0,tn=ze-Tr;if(tn<Me){const wr=Math.ceil((Me-tn)/ke.bottlesPerTruck);Et=wr,tn+=wr*ke.bottlesPerTruck}Et>0?lt[Ye]=Et:ge[Ye]&&(lt[Ye]=0),ze=tn}let Be=!1;if(Object.entries(lt).forEach(([Fe,Ye])=>{(ge[Fe]||0)!==Ye&&(Be=!0)}),!Be)return;const It={...ge,...lt};Object.keys(It).forEach(Fe=>{It[Fe]===0&&delete It[Fe]}),N(It),Zr("monthlyInbound",It,g,!0)},[B,R,a,g,r,n,l,u,d,N,U]),ve=x.useCallback((X,me)=>{const ge=me,ke={...ae.current,[X]:ge};w(ke),ne("monthlyDemand",()=>{Zr("monthlyDemand",ke,g,!0)},500),l&&te(`demand-${X}`,async()=>d(l.id,g,X,"demand_plan",Number(ge)),1e3)},[g,l,te,ne,w,d]),be=x.useCallback((X,me)=>{const ge=me===""||me===null?void 0:me,ke={...q.current};ge===void 0?delete ke[X]:ke[X]=ge,S(ke),ne("monthlyProductionActuals",()=>{Zr("monthlyProductionActuals",ke,g,!0)},500),l&&te(`actual-${X}`,async()=>d(l.id,g,X,"production_actual",ge===void 0?null:Number(ge)),1e3)},[g,l,te,ne,S,d]),Z=x.useCallback((X,me)=>{const ge=me,ke={...F.current};ge===""||ge==="0"||Number(ge)===0?delete ke[X]:ke[X]=ge,N(ke),ne("monthlyInbound",()=>{Zr("monthlyInbound",ke,g,!0)},500),l&&te(`inbound-${X}`,async()=>d(l.id,g,X,"inbound_trucks",ge===""||ge==="0"||Number(ge)===0?null:Number(ge)),1e3)},[g,l,te,ne,N,d]);x.useEffect(()=>{if(!R||!B||Date.now()-G.current<250)return;const X=setTimeout(()=>{de()},50);return()=>clearTimeout(X)},[z,r,n,R,v,k,B,de]);const ce=x.useCallback(X=>{const me={...ae.current,...X};w(me),ne("monthlyDemand",()=>{Zr("monthlyDemand",me,g,!0)},500),l&&te(`demand-bulk-${Object.keys(X)[0]}`,async()=>{const ge=Object.entries(X).map(([ke,Oe])=>d(l.id,g,ke,"demand_plan",Number(Oe)));await Promise.all(ge)},1e3)},[g,l,te,ne,w,d]),[ye,ie]=x.useState(a[g]?.productionRate||0);return x.useEffect(()=>{ie(a[g]?.productionRate||0)},[g,a]),{setters:x.useMemo(()=>({setSelectedSize:y,updateDateDemand:ve,updateDateDemandBulk:ce,updateDateActual:be,updateDateInbound:Z,updateTruckManifest:(X,me)=>{const ge={...E,[X]:me};(!me||me.length===0)&&delete ge[X],D(ge),Zr("truckManifest",ge,g,!0),l&&U(async()=>d(l.id,g,X,"truck_manifest_json",JSON.stringify(me)))},setProductionRate:async X=>{const me=Number(X);ie(me),l&&(await U(async()=>f(l.id,g,"production_rate",me)),s())},setDowntimeHours:X=>{const me=Number(X);O(me),Zr("downtimeHours",me,g),l&&U(async()=>f(l.id,g,"downtime_hours",me))},setCurrentInventoryPallets:X=>{const me=Number(X);T(me),Zr("currentInventoryPallets",me,g)},setIncomingTrucks:X=>{const me=Number(X);P(me),Zr("incomingTrucks",me,g)},setYardInventory:X=>{C(X),Zr("yardInventory",X,g,!0)},updateYardInventory:X=>{const me=Number(X),ge=mr();C({date:ge,count:me}),Zr("yardInventory",{date:ge,count:me},g,!0),l&&U(async()=>p(l.id,g,ge,me,"yard"))},setIsAutoReplenish:X=>{I(X),Zr("isAutoReplenish",X,g,!0),l&&U(async()=>f(l.id,g,"is_auto_replenish",X))},setInventoryAnchor:X=>{M(X),Zr("inventoryAnchor",X,g,!0),l&&U(()=>p(l.id,g,X.date,X.count,"floor"))},setMonthlyInbound:X=>{N(X),Zr("monthlyInbound",X,g,!0)}}),[y,ve,ce,be,Z,E,D,g,l,U,d,ie,f,s,O,T,P,C,I,M,p]),formState:{isSaving:W,saveError:J,selectedSize:g,productionRate:ye}}}const mm="production_runs";async function vle(e,t=45){const r=new Date(e),n=new Date(r);n.setDate(n.getDate()-7);const a=new Date(r);a.setDate(a.getDate()+t);const{data:s,error:l}=await Ne.from(mm).select("*").gte("start_time",n.toISOString()).lte("start_time",a.toISOString()).order("start_time",{ascending:!0});return l?(console.error("Error fetching production runs:",l),[]):s||[]}async function MA(e){const t={id:e.id,sku:e.sku,line_id:e.lineId,start_time:e.startTime,duration_hours:e.durationHours,target_cases:e.targetCases,status:e.status,end_time:xle(e.startTime,e.durationHours),updated_at:new Date().toISOString()},{data:r,error:n}=await Ne.from(mm).upsert(t).select().single();if(n)throw n;return ble(r)}async function yle(e){const{error:t}=await Ne.from(mm).delete().eq("id",e);if(t)throw t}function ble(e){return{id:e.id,sku:e.sku,lineId:e.line_id,startTime:e.start_time,durationHours:e.duration_hours,targetCases:e.target_cases,status:e.status}}function xle(e,t){const r=new Date(e);return r.setTime(r.getTime()+t*60*60*1e3),r.toISOString()}const GM=x.createContext(null);function wle({children:e}){const[t,r]=x.useState([]),[n,a]=x.useState(!0),[s,l]=x.useState(null);x.useEffect(()=>{const y=async()=>{a(!0);try{const w=mr(),S=(await vle(w,60)).map(_le);r(S)}catch(w){console.error("Failed to load production runs:",w),l(w.message)}finally{a(!1)}};y();const v=Ne.channel("public:production_runs").on("postgres_changes",{event:"*",schema:"public",table:mm},w=>{console.log("Realtime Change detected:",w),y()}).subscribe();return()=>{Ne.removeChannel(v)}},[]);const g={runs:t,loading:n,error:s,addRun:async y=>{const v=y.id||`temp-${Date.now()}`,w={...y,id:v};r(k=>[...k,w]);try{const k=await MA(w);r(S=>S.map(j=>j.id===v?k:j))}catch(k){console.error(k),r(S=>S.filter(j=>j.id!==v)),alert("Failed to save run!")}},updateRun:async y=>{r(v=>v.map(w=>w.id===y.id?y:w));try{await MA(y)}catch(v){console.error(v),alert("Failed to update run!")}},deleteRun:async y=>{const v=t.find(w=>w.id===y);r(w=>w.filter(k=>k.id!==y));try{await yle(y)}catch(w){console.error(w),v&&r(k=>[...k,v]),alert("Failed to delete run!")}},getDailyProductionSum:(y,v)=>t.filter(w=>w.startTime.split("T")[0]===y&&(v==="ALL"||w.sku===v)).reduce((w,k)=>w+(k.targetCases||0),0)};return m.jsx(GM.Provider,{value:g,children:e})}function _le(e){return{id:e.id,sku:e.sku,lineId:e.line_id,startTime:e.start_time,durationHours:e.duration_hours,targetCases:e.target_cases,status:e.status}}function Sle(){const e=x.useContext(GM);if(!e)throw new Error("useProduction must be used within a ProductionProvider");return e}function kle(e={}){const t=hle(),{getDailyProductionSum:r}=Sle(),n=x.useMemo(()=>{const y={};return t.selectedSize&&e&&Object.entries(e).forEach(([v,w])=>{const k=w.items?.filter(S=>S.sku===t.selectedSize)||[];k.length>0&&(y[v]={items:[...k]})}),t.truckManifest&&Object.entries(t.truckManifest).forEach(([v,w])=>{Array.isArray(w)&&(y[v]||(y[v]={items:[]}),w.forEach(k=>{y[v].items.some(j=>j.po&&k.po&&j.po===k.po||j.id&&k.id&&j.id===k.id)||y[v].items.push(k)}))}),y},[e,t.selectedSize,t.truckManifest]),a=x.useMemo(()=>{const y={...t.monthlyDemand||{}};if(r&&t.selectedSize){const v=mr();for(let w=0;w<45;w++){const k=Rt(v,w),S=r(k,t.selectedSize);S>0&&(y[k]=S)}}return y},[t.monthlyDemand,t.selectedSize,r]),s=x.useMemo(()=>({...t,monthlyDemand:a}),[t,a]),{calculations:l,totalScheduledCases:u,productionRate:d}=ple(s,n),f=x.useMemo(()=>({calculations:l}),[l]),{setters:p,formState:g}=gle(t,f);return{formState:{selectedSize:t.selectedSize,monthlyDemand:t.monthlyDemand,monthlyProductionActuals:t.monthlyProductionActuals,monthlyInbound:t.monthlyInbound,truckManifest:t.truckManifest,downtimeHours:t.downtimeHours,currentInventoryPallets:t.currentInventoryPallets,incomingTrucks:t.incomingTrucks,yardInventory:t.yardInventory,isAutoReplenish:t.isAutoReplenish,inventoryAnchor:t.inventoryAnchor,productionRate:g.productionRate??d,totalScheduledCases:u,isSaving:g.isSaving,saveError:g.saveError},setters:p,results:l?{...l,poManifest:n}:null,refreshData:t.refreshData}}function jle(){const{safetyStockLoads:e,schedulerSettings:t,updateSchedulerSetting:r}=zn(),{productMap:n,updateProductSettings:a}=yr(),[s,l]=x.useState(()=>localStorage.getItem("sched_selectedSize")||"20oz");x.useEffect(()=>localStorage.setItem("sched_selectedSize",s),[s]);const{shiftStartTime:u="00:00",poAssignments:d={},cancelledLoads:f=[]}=t,p=x.useMemo(()=>{const v=n[s];if(!v)return null;const w=v.casesPerTruck?Math.ceil(v.casesPerTruck/(v.casesPerPallet||1)):0,k={...v,name:s,palletsPerTruck:v.palletsPerTruck||w},S=k.productionRate||0,j=S*24,N=isNaN(j)?0:j,E=k.casesPerTruck&&k.casesPerTruck>0?Math.ceil(N/k.casesPerTruck):0,D=E*7,O=[{name:"Shift 1 (00:00-08:00)",loads:0},{name:"Shift 2 (08:00-16:00)",loads:0},{name:"Shift 3 (16:00-00:00)",loads:0}],T=S,P=T,C=k.casesPerTruck||0,R=T>0&&C>0?C/T:0;let I=[];if(R>0&&E>0){const[B,G]=u.split(":").map(Number);let ae=B+G/60;for(let q=0;q<E;q++){const W=(ae+R*q)%24,J=Math.floor(W),pe=J===24?0:J,L=Math.round((W-J)*60),K=`${pe.toString().padStart(2,"0")}:${L.toString().padStart(2,"0")}`;I.push({id:q+1,time:K,rawDecimal:W,po:d[String(q+1)]||""})}}const M=I.filter(B=>!f.includes(String(B.id)));M.forEach(B=>{const G=B.rawDecimal;G>=0&&G<8?O[0].loads++:G>=8&&G<16?O[1].loads++:O[2].loads++}),I=M;const z=e<E;return{requiredDailyLoads:E,weeklyLoads:D,schedule:O,truckSchedule:I,burnRate:P,hoursPerTruck:R,isHighRisk:z,safetyStockLoads:e,specs:k}},[s,u,n,e,d,f]),g=(v,w)=>{const k={...d,[String(v)]:w};r("poAssignments",k)},y=v=>{const w=String(v),S=f.includes(w)?f.filter(j=>j!==w):[...f,w];r("cancelledLoads",S)};return{formState:{selectedSize:s,targetDailyProduction:(p?.burnRate||0)*24,shiftStartTime:u,poAssignments:d},setters:{setSelectedSize:l,setTargetDailyProduction:v=>{const w=Number(v),k=!isNaN(w)&&w>=0?w:0;a(s,{production_rate:k/24})},setShiftStartTime:v=>r("shiftStartTime",v),updatePO:g,toggleCancelled:y},results:p}}function Ele(e,t=!0){const{user:r}=Or(),{fetchMRPState:n}=Nl(),[a,s]=x.useState({}),[l,u]=x.useState(!1),[d,f]=x.useState(0),p=x.useRef(null);return x.useEffect(()=>{if(!t)return;const y=async()=>{if(!t)return;u(!0);const v={},w=(j,N)=>{const E=`mrp_${j}`,D=`mrp_${N}_${j}`;let O=localStorage.getItem(D);O===null&&N==="20oz"&&(O=localStorage.getItem(E));try{return JSON.parse(O||"{}")}catch{return{}}},k=e.map(async j=>{if(r)try{const N=await n(r.id,j);return{sku:j,data:N?{demand:N.monthlyDemand||{},actuals:N.monthlyProductionActuals||{},inbound:N.monthlyInbound||{}}:{demand:{},actuals:{},inbound:{}}}}catch(N){return console.error(`Failed to load master state for ${j}`,N),{sku:j,data:{demand:{},actuals:{},inbound:{}}}}else return{sku:j,data:{demand:w("monthlyDemand",j),actuals:w("monthlyProductionActuals",j),inbound:w("monthlyInbound",j)}}});(await Promise.all(k)).forEach(({sku:j,data:N})=>{v[j]=N}),s(v),u(!1)};e.length>0&&y()},[e.join(","),r?.id,t,d]),cl({table:"planning_entries",enabled:t&&!!r,onDataChange:()=>{p.current&&clearTimeout(p.current),p.current=setTimeout(()=>{f(y=>y+1)},1e3)}}),{masterLedger:x.useMemo(()=>{const y={},v=new Set;return Object.values(a).forEach(k=>{Object.keys(k.demand).forEach(S=>v.add(S)),Object.keys(k.actuals).forEach(S=>v.add(S)),Object.keys(k.inbound).forEach(S=>v.add(S))}),Array.from(v).sort().forEach(k=>{const S=[];e.forEach(j=>{const N=a[j];if(!N)return;const E=Number(N.demand[k])||0,D=N.actuals[k]!==void 0?Number(N.actuals[k]):null,O=Number(N.inbound[k])||0;(E>0||D!==null&&D>0||O>0)&&S.push({sku:j,demand:E,actual:D,trucks:O})}),S.length>0&&(y[k]=S)}),y},[a,e]),loading:l,skuStates:a}}function Nle({masterLedger:e,loading:t}){const r=x.useMemo(()=>e?Object.keys(e).sort():[],[e]),n=a=>({"20oz":"bg-blue-100 dark:bg-blue-900/40 text-blue-800 dark:text-blue-200 border-blue-200 dark:border-blue-700","12oz":"bg-purple-100 dark:bg-purple-900/40 text-purple-800 dark:text-purple-200 border-purple-200 dark:border-purple-700","2L":"bg-green-100 dark:bg-green-900/40 text-green-800 dark:text-green-200 border-green-200 dark:border-green-700","1L":"bg-orange-100 dark:bg-orange-900/40 text-orange-800 dark:text-orange-200 border-orange-200 dark:border-orange-700"})[a]||"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200 border-gray-200 dark:border-gray-700";return t?m.jsxs("div",{className:"flex h-full items-center justify-center p-10",children:[m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),m.jsx("span",{className:"ml-3 text-gray-500",children:"Aggregating Master Plan..."})]}):r.length===0?m.jsxs("div",{className:"text-center p-10 bg-gray-50 dark:bg-gray-800 rounded-lg border-2 border-dashed border-gray-200 dark:border-gray-700",children:[m.jsx("h3",{className:"text-gray-400 dark:text-gray-500 font-bold mb-2",children:"No Active Production"}),m.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-sm",children:"Add demand or trucks to individual SKU plans to see them here."})]}):m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 mb-6",children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Master Schedule"}),m.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Global view of all production lines and logistics."})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("div",{className:"md:hidden space-y-4",children:r.map(a=>{const s=e[a]||[],l=new Date(a),u=new Date().toISOString().split("T")[0]===a;return s.length===0?null:m.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-lg shadow-sm border p-4 ${u?"border-blue-300 ring-1 ring-blue-100 dark:ring-blue-900":"border-gray-200 dark:border-gray-700"}`,children:[m.jsxs("div",{className:"flex justify-between items-center mb-3 pb-2 border-b border-gray-100 dark:border-gray-700",children:[m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:`text-lg font-bold ${u?"text-blue-600 dark:text-blue-400":"text-gray-900 dark:text-white"}`,children:l.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}),m.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500 font-mono",children:a})]}),u&&m.jsx("span",{className:"text-xs font-bold bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 px-2 py-1 rounded",children:"TODAY"})]}),m.jsx("div",{className:"space-y-2",children:s.map(d=>m.jsxs("div",{className:`flex items-center justify-between p-2 rounded border ${n(d.sku)}`,children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("span",{className:"font-bold text-sm mr-3 w-12",children:d.sku}),(d.demand>0||d.actual!==null&&d.actual>0)&&m.jsxs("span",{className:"font-mono font-bold text-sm",children:[d.actual!==null?d.actual.toLocaleString():d.demand.toLocaleString()," cases"]})]}),d.trucks>0&&m.jsxs("div",{className:"flex items-center space-x-1 bg-white dark:bg-gray-800 bg-opacity-60 px-2 py-1 rounded border border-black/5 dark:border-white/10",children:[m.jsx("span",{className:"text-base",children:""}),m.jsx("span",{className:"font-bold text-sm",children:d.trucks})]})]},`${a}-${d.sku}-mobile`))})]},a)})}),m.jsxs("div",{className:"hidden md:block bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:[m.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 px-6 py-3 border-b border-gray-200 dark:border-gray-700 grid grid-cols-12 gap-4 text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[m.jsx("div",{className:"col-span-3 md:col-span-2",children:"Date"}),m.jsx("div",{className:"col-span-9 md:col-span-10",children:"Production & Logistics"})]}),m.jsx("div",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:r.map(a=>{const s=e[a]||[],l=new Date(a),u=new Date().toISOString().split("T")[0]===a;return m.jsxs("div",{className:`group grid grid-cols-12 gap-4 px-6 py-4 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors ${u?"bg-blue-50/30 dark:bg-blue-900/10":""}`,children:[m.jsxs("div",{className:"col-span-3 md:col-span-2 flex flex-col justify-center",children:[m.jsx("span",{className:`text-sm font-bold ${u?"text-blue-600 dark:text-blue-400":"text-gray-900 dark:text-white"}`,children:l.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}),m.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500 font-mono mt-1",children:a})]}),m.jsx("div",{className:"col-span-9 md:col-span-10 flex flex-col space-y-2 justify-center",children:s.map((d,f)=>m.jsxs("div",{className:`flex items-center p-2 rounded border ${n(d.sku)}`,children:[m.jsx("span",{className:"font-bold text-xs uppercase w-16 tracking-wide",children:d.sku}),m.jsxs("div",{className:"flex-1 flex items-center space-x-4",children:[(d.demand>0||d.actual!==null&&d.actual>0)&&m.jsxs("div",{className:"flex items-baseline space-x-1",children:[m.jsx("span",{className:"text-xs opacity-70",children:"Run:"}),m.jsx("span",{className:"font-mono font-bold text-sm",children:d.actual!==null?d.actual.toLocaleString():d.demand.toLocaleString()}),d.actual!==null&&m.jsx("span",{className:"text-[10px] bg-white bg-opacity-50 px-1 rounded ml-1",children:"ACT"})]}),(d.demand>0||d.actual>0)&&d.trucks>0&&m.jsx("span",{className:"text-gray-300 dark:text-gray-600",children:"|"}),d.trucks>0&&m.jsxs("div",{className:"flex items-center space-x-1",children:[m.jsx("span",{className:"text-lg",children:""}),m.jsx("span",{className:"font-bold text-sm",children:d.trucks}),m.jsx("span",{className:"text-xs opacity-70",children:"Trucks"})]})]})]},`${a}-${d.sku}`))})]},a)})})]})]})]})}function Ole(){const{signIn:e,resendVerificationEmail:t}=Or(),[r,n]=x.useState(""),[a,s]=x.useState(""),[l,u]=x.useState(null),[d,f]=x.useState(!1),[p,g]=x.useState(!1),y=async w=>{w.preventDefault(),u(null),f(!0);try{await e(r,a)}catch(k){u(k.message)}finally{f(!1)}},v=async()=>{try{f(!0),await t(r),g(!0),u("Confirmation email resent! Check your spam folder.")}catch(w){u(w.message)}finally{f(!1)}};return m.jsxs("div",{className:"min-h-screen bg-slate-950 flex flex-col items-center justify-center relative overflow-hidden font-sans selection:bg-blue-500 selection:text-white",children:[m.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-blue-950/20 via-slate-950 to-black z-0 pointer-events-none"}),m.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-5 z-0 pointer-events-none"}),m.jsx("div",{className:"absolute top-0 -left-4 w-72 h-72 bg-purple-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),m.jsx("div",{className:"absolute top-0 -right-4 w-72 h-72 bg-blue-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),m.jsx("div",{className:"absolute -bottom-8 left-20 w-72 h-72 bg-emerald-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"}),m.jsx("main",{className:"relative z-10 w-full max-w-sm px-4 animate-slide-up",children:m.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-md border border-slate-800 rounded-3xl p-8 shadow-2xl",children:[m.jsxs("div",{className:"flex flex-col items-center mb-8",children:[m.jsx("div",{className:"h-24 w-24 bg-white rounded-full p-1 shadow-2xl shadow-blue-500/20 mb-6 overflow-hidden ring-4 ring-slate-800 transition-transform duration-700 hover:scale-110 hover:shadow-blue-500/40",children:m.jsx("img",{src:YC,alt:"UBP",className:"h-full w-full object-contain"})}),m.jsx("h1",{className:"text-xl font-bold text-white tracking-tight",children:"MRP Portal"}),m.jsxs("div",{className:"flex items-center gap-1.5 text-slate-500 text-[10px] font-bold uppercase tracking-widest mt-1",children:[m.jsx(KA,{className:"w-3.5 h-3.5 text-emerald-500"}),m.jsx("span",{children:"Authorized Access Only"})]})]}),l&&m.jsxs("div",{className:`p-3 rounded-lg mb-6 text-xs font-medium border flex gap-2 items-start ${l.includes("resent")?"bg-emerald-900/20 text-emerald-400 border-emerald-900/50":"bg-rose-900/20 text-rose-400 border-rose-900/50"}`,children:[l.includes("resent")?m.jsx(ua,{className:"w-4 h-4 shrink-0"}):m.jsx(VA,{className:"w-4 h-4 shrink-0"}),m.jsxs("div",{children:[l,l.includes("Email not confirmed")&&!p&&m.jsx("button",{onClick:v,className:"block mt-1 underline hover:text-white transition-colors",children:"Resend Verification Email"})]})]}),m.jsxs("form",{onSubmit:y,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-semibold text-slate-400 mb-1.5 ml-1",children:"Email Address"}),m.jsx("input",{type:"email",required:!0,value:r,onChange:w=>n(w.target.value),className:"block w-full rounded-xl bg-slate-950 border border-slate-800 text-white placeholder-slate-600 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 py-2.5 px-4 text-sm transition-all",placeholder:"name@unionbevnj.com"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-semibold text-slate-400 mb-1.5 ml-1",children:"Password"}),m.jsx("input",{type:"password",required:!0,value:a,onChange:w=>s(w.target.value),className:"block w-full rounded-xl bg-slate-950 border border-slate-800 text-white placeholder-slate-600 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 py-2.5 px-4 text-sm transition-all",placeholder:""})]}),m.jsx("div",{className:"pt-2",children:m.jsx("button",{type:"submit",disabled:d,className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 rounded-xl shadow-lg shadow-blue-900/20 transition-all active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed flex justify-center",children:d?m.jsxs("span",{className:"flex items-center gap-2",children:[m.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing In..."]}):"Sign In to Dashboard"})})]}),m.jsx("div",{className:"mt-8 text-center border-t border-slate-800/50 pt-4",children:m.jsx("p",{className:"text-slate-500 text-xs",children:"Sign In to access planning tool."})})]})}),m.jsx("footer",{className:"absolute bottom-6 w-full text-center",children:m.jsxs("p",{className:"text-slate-800 text-[10px] font-medium uppercase tracking-wider",children:[" ",new Date().getFullYear()," Union Beverage Packers"]})})]})}function $A({date:e,totalRequired:t,manifest:r,onUpdate:n,onReceive:a,readOnly:s=!1}){const[l,u]=x.useState(!1),d=r||[],f=Math.max(d.length,t),p=Math.max(0,f-d.length),[g,y]=x.useState(d),v=j=>{j&&(j.preventDefault(),j.stopPropagation()),n(e,g),u(!1)},w=()=>{y([...g,{id:crypto.randomUUID(),po:"",carrier:"",time:"",status:"scheduled"}])},k=j=>{const N=[...g];N.splice(j,1),y(N)},S=(j,N,E)=>{const D=[...g];D[j]={...D[j],[N]:E},y(D)};return l?m.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-blue-200 dark:border-blue-900 shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white flex items-center",children:[m.jsx(eu,{className:"w-5 h-5 mr-2 text-blue-500"}),"Edit Manifest: ",e]}),m.jsxs("div",{className:"space-x-2",children:[m.jsx("button",{type:"button",onClick:()=>u(!1),className:"text-xs text-gray-500 hover:text-gray-700",children:"Cancel"}),m.jsx("button",{type:"button",onClick:v,className:"px-3 py-1 bg-blue-600 text-white text-xs font-bold rounded shadow hover:bg-blue-500",children:"Save Changes"})]})]}),m.jsxs("div",{className:"space-y-2",children:[g.map((j,N)=>m.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 bg-gray-50 dark:bg-gray-700/50 p-3 rounded border border-gray-100 dark:border-gray-600",children:[m.jsxs("div",{className:"flex-1 w-full",children:[m.jsx("label",{className:"text-[10px] uppercase text-gray-400 font-bold block mb-1 sm:hidden",children:"Carrier"}),m.jsx("input",{className:"w-full text-sm font-bold bg-transparent border-b border-gray-300 focus:border-blue-500 outline-none dark:text-white pb-1",placeholder:"Carrier Name",value:j.carrier,onChange:E=>S(N,"carrier",E.target.value)})]}),m.jsxs("div",{className:"w-full sm:w-24",children:[m.jsx("label",{className:"text-[10px] uppercase text-gray-400 font-bold block mb-1 sm:hidden",children:"PO #"}),m.jsx("input",{className:"w-full text-sm font-mono bg-transparent border-b border-gray-300 focus:border-blue-500 outline-none dark:text-white pb-1",placeholder:"PO-123",value:j.po,onChange:E=>S(N,"po",E.target.value)})]}),m.jsxs("div",{className:"w-full sm:w-28",children:[m.jsx("label",{className:"text-[10px] uppercase text-gray-400 font-bold block mb-1 sm:hidden",children:"Time"}),m.jsxs("select",{className:"w-full text-sm bg-transparent border-b border-gray-300 focus:border-blue-500 outline-none dark:text-gray-200 dark:bg-gray-800 rounded px-1 pb-1",value:j.time,onChange:E=>S(N,"time",E.target.value),children:[m.jsx("option",{value:"",className:"text-gray-500",children:"TBD"}),Array.from({length:24}).map((E,D)=>{const O=D,P=`${String(O).padStart(2,"0")}:${String(0).padStart(2,"0")}`,C=O>=12?"PM":"AM",I=`${O%12||12}:00 ${C}`;return m.jsx("option",{value:P,className:"dark:bg-gray-800",children:I},P)})]})]}),m.jsx("div",{className:"w-full sm:w-auto flex justify-end",children:m.jsxs("button",{type:"button",onClick:()=>k(N),className:"text-red-400 hover:text-red-600 p-2 sm:p-1 bg-red-50 dark:bg-red-900/10 sm:bg-transparent rounded",children:[m.jsxs("div",{className:"flex items-center sm:hidden",children:[m.jsx(Ja,{className:"w-4 h-4 mr-1"}),m.jsx("span",{className:"text-xs font-bold",children:"Remove"})]}),m.jsx(Ja,{className:"w-4 h-4 hidden sm:block"})]})})]},j.id||N)),m.jsxs("button",{onClick:w,className:"w-full py-2 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded text-gray-400 dark:text-gray-500 hover:border-blue-400 hover:text-blue-500 flex items-center justify-center text-sm font-bold",children:[m.jsx(Q6,{className:"w-4 h-4 mr-1"})," Add Truck"]})]})]}):m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("div",{}),!s&&(t>0||d.length>0)&&m.jsxs("button",{onClick:()=>{y(d.length?d:Array(t).fill().map(()=>({id:crypto.randomUUID(),po:"",carrier:"",time:""}))),u(!0)},className:"text-xs font-bold text-blue-600 hover:text-blue-500 flex items-center bg-blue-50 dark:bg-blue-900/20 px-2 py-1 rounded",children:[m.jsx(eu,{className:"w-3 h-3 mr-1"}),"Edit Manifest"]})]}),d.map((j,N)=>m.jsx("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-gray-800 border-l-4 border-green-500 shadow-sm rounded-r-md",children:m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("span",{className:"font-bold text-gray-900 dark:text-white text-lg",children:j.carrier||j.supplier||"Pending Assignment"}),j.time&&m.jsxs("span",{className:"ml-2 text-sm font-bold bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 px-2 py-1 rounded flex items-center shadow-sm",children:[m.jsx(sx,{className:"w-4 h-4 mr-1"}),Vs(j.time)]})]}),m.jsx("div",{className:"flex flex-col text-xs text-gray-500 mt-1",children:m.jsxs("div",{className:"flex items-center justify-between w-full",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx(aI,{className:"w-3 h-3 mr-1"}),m.jsxs("span",{className:"font-mono text-gray-700 dark:text-gray-300 font-bold mr-2",children:["PO: ",j.po||"N/A"]}),j.supplier&&j.carrier&&m.jsxs("span",{className:"text-gray-400",children:["(",j.supplier,")"]})]}),a&&j.status!=="received"&&j.po&&m.jsxs("button",{onClick:()=>a(j),className:"ml-4 px-3 py-1 bg-blue-600 hover:bg-blue-500 text-white text-[10px] font-bold uppercase tracking-wider rounded shadow transition-all hover:scale-105 flex items-center",children:[m.jsx(Rn,{className:"w-3 h-3 mr-1"}),"Receive"]})]})})]})},N)),Array.from({length:p}).map((j,N)=>m.jsx("div",{className:"flex items-center justify-between p-3 bg-gray-50 border-l-4 border-gray-300 dark:border-gray-600 dark:bg-gray-800/50 rounded-r-md opacity-70 dashed-border",children:m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("div",{className:"p-1.5 bg-gray-200 dark:bg-gray-700 rounded-full",children:m.jsx(Rn,{className:"w-5 h-5 text-gray-400"})}),m.jsxs("div",{children:[m.jsxs("p",{className:"text-sm font-bold text-gray-500 italic",children:["Planned Delivery Slot #",d.length+N+1]}),m.jsx("div",{className:"flex items-center text-xs text-gray-400 mt-0.5",children:m.jsx("span",{children:"Awaiting Carrier Assignment"})})]})]})},`p-${N}`)),f===0&&m.jsx("div",{className:"p-4 text-center text-gray-400 text-sm italic bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:"No Deliveries Needed"})]})}function Ale({state:e,setters:t,results:r,readOnly:n=!1}){const[a,s]=x.useState(!1),{productMap:l}=yr(),u=x.useMemo(()=>Object.keys(l||{}),[l]),[d,f]=x.useState({today:[],tomorrow:[]}),[p,g]=x.useState("ALL"),{poManifest:y,updateDailyManifest:v,bulkUpdateOrders:w,refreshData:k}=ra(),S=async M=>{const z=`Receive Truck: ${M.carrier||"Unknown"}?
PO: ${M.po}

This will update inventory and clear the scheduled slot.`;if(!confirm(z))return;const{success:B,error:G}=await GC(M.id);if(!B){alert(`Error receiving truck: ${G}`);return}const q=(r.yardInventory?.effectiveCount||0)+1;t.updateYardInventory(q)},j=(M,z,B)=>{try{const ae=r.specs?.bottlesPerTruck||2e4,q=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`uuid-${Date.now()}-${Math.random()}`,F=z.map(L=>({id:L.id||q(),date:M,po:L.po||`TEMP-${Date.now()}`,sku:B,qty:ae,supplier:L.carrier||"Unknown",carrier:L.carrier,time:L.time,status:"scheduled",isGlobal:!0})),W=y[M]?.items||[],pe=[...Array.isArray(W)?W.filter(L=>L.sku!==B):[],...F];v(M,pe)}catch(G){console.error("Failed to update manifest in LogisticsView:",G),alert("Error saving manifest. See console.")}try{const G=`mrp_${B}_truckManifest`,ae=localStorage.getItem(G);if(ae){const q=JSON.parse(ae);q[M]&&(delete q[M],localStorage.setItem(G,JSON.stringify(q)))}}catch(G){console.warn("Legacy cleanup failed",G)}},N=mr(),E=Rt(N,1),D=new Date(E+"T00:00:00");x.useEffect(()=>{try{const M={today:[],tomorrow:[]};u.forEach(z=>{const B=`mrp_${z}_monthlyInbound`;let G={};try{const ce=localStorage.getItem(B);ce&&(G=JSON.parse(ce))}catch{}const ae=`mrp_${z}_truckManifest`;let q={};try{const ce=localStorage.getItem(ae);ce&&(q=JSON.parse(ce))}catch{}const F=ce=>{try{const ye=y[ce];return!ye||!ye.items?[]:ye.items.filter(ie=>ie.sku===z&&ie.status!=="received")}catch(ye){return console.warn("Error reading global POs for date:",ce,ye),[]}},W=F(N),J=F(E),pe=Number(G[N])||0,L=q[N]||[],K=W.map(ce=>({id:ce.id,time:ce.time,carrier:ce.carrier||ce.supplier,type:"PO",po:ce.po,details:`PO#${ce.po} (${ce.qty})`,status:ce.status,supplier:ce.supplier,isGlobal:!0})),U=[...L,...K],te=Math.max(pe,U.length);(te>0||U.length>0)&&M.today.push({sku:z,count:te,manifest:U});const ne=Number(G[E])||0,de=q[E]||[],ve=J.map(ce=>({id:ce.id,time:ce.time,carrier:ce.carrier||ce.supplier,type:"PO",po:ce.po,details:`PO#${ce.po} (${ce.qty})`,status:ce.status,supplier:ce.supplier,isGlobal:!0})),be=[...de,...ve],Z=Math.max(ne,be.length);(Z>0||be.length>0)&&M.tomorrow.push({sku:z,count:Z,manifest:be})}),f(M)}catch(M){console.error("Critical Error in LogisticsView Aggregation:",M),f({today:[],tomorrow:[]})}},[u,e.monthlyInbound,e.stateVersion,y,N,E]);const O=p==="ALL"?d.today:d.today.filter(M=>M.sku===p),T=p==="ALL"?d.tomorrow:d.tomorrow.filter(M=>M.sku===p),P=O.reduce((M,z)=>M+z.count,0),C=T.reduce((M,z)=>M+z.count,0),R=M=>M?M.toLocaleString():"0";if(!r)return m.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading Logistics Data..."});const{yardInventory:I}=r;return m.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[m.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center bg-slate-900 text-white p-6 rounded-2xl shadow-lg",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-black tracking-tight uppercase",children:"Floor Operations"}),m.jsxs("div",{className:"flex items-center space-x-2 mt-2 opacity-80",children:[m.jsxs("span",{className:"bg-slate-700 px-3 py-1 rounded text-sm font-mono",children:["ACTIVE: ",e.selectedSize]}),m.jsx("span",{className:"text-sm",children:new Date().toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})})]})]}),m.jsx("div",{className:"flex flex-col sm:flex-row gap-3 mt-4 md:mt-0 w-full md:w-auto",children:!n&&m.jsxs("button",{onClick:()=>s(!0),className:"flex items-center justify-center bg-emerald-500 hover:bg-emerald-400 text-slate-900 px-6 py-3 rounded-xl font-bold text-base md:text-lg transition-transform hover:scale-105 shadow-xl w-full sm:w-auto",children:[m.jsx(ix,{className:"w-6 h-6 md:w-8 md:h-8 mr-2"}),"START DAY"]})})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(()=>{const M=r.daysOfSupply!==void 0?r.daysOfSupply:0,z=2,B=M<=z,G=M<=z+2;let ae="bg-white dark:bg-gray-800 border-gray-100 dark:border-gray-700",q="bg-blue-50 text-blue-600",F=null;return B?(ae="bg-red-50 border-red-200 animate-pulse-slow",q="bg-red-100 text-red-600",F=m.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 border border-red-200 mt-2",children:[m.jsx(VA,{className:"w-4 h-4 mr-1"}),"CRITICAL: ",M.toFixed(1)," Days"]})):G?(ae="bg-amber-50 border-amber-200",q="bg-amber-100 text-amber-600",F=m.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-amber-100 text-amber-800 border border-amber-200 mt-2",children:["Warning: ",M.toFixed(1)," Days"]})):F=m.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-emerald-50 text-emerald-700 border border-emerald-200 mt-2",children:["Healthy: ",M.toFixed(1)," Days"]}),m.jsxs("div",{className:`p-8 rounded-2xl border-2 shadow-sm flex items-center justify-between transition-colors duration-500 ${ae}`,children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-bold uppercase tracking-wider text-sm",children:"Floor Inventory"}),m.jsxs("div",{className:"flex items-baseline mt-2",children:[m.jsx("span",{className:"text-6xl font-black text-slate-800 dark:text-white",children:R(Math.round(r.calculatedPallets))}),m.jsx("span",{className:"ml-2 text-xl font-medium text-gray-400",children:"Pallets"})]}),F]}),m.jsx("div",{className:`h-16 w-16 rounded-full flex items-center justify-center ${q}`,children:m.jsx(nh,{className:"w-8 h-8"})})]})})(),m.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-2xl border-2 border-gray-100 dark:border-gray-700 shadow-sm flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-bold uppercase tracking-wider text-sm",children:"Yard Inventory"}),m.jsxs("div",{className:"flex items-baseline mt-2",children:[m.jsx("span",{className:"text-6xl font-black text-slate-800 dark:text-white",children:I.effectiveCount}),m.jsx("span",{className:"ml-2 text-xl font-medium text-gray-400",children:"Loads"})]}),I.isOverridden&&m.jsx("span",{className:"inline-block mt-2 px-2 py-1 bg-yellow-100 text-yellow-800 text-xs font-bold rounded",children:"MANUAL OVERRIDE"})]}),m.jsx("div",{className:"h-16 w-16 bg-orange-50 rounded-full flex items-center justify-center",children:m.jsx(Rn,{className:"w-8 h-8 text-orange-600"})})]})]}),m.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden",children:[m.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[m.jsxs("h2",{className:"text-lg font-bold text-gray-800 dark:text-white flex items-center",children:[m.jsx(qA,{className:"w-5 h-5 mr-2 text-gray-500"}),"Master Dock Schedule"]}),m.jsxs("div",{className:"flex space-x-1 bg-white dark:bg-gray-800 rounded-lg p-1 border dark:border-gray-600",children:[m.jsx("button",{onClick:()=>g("ALL"),className:`px-3 py-1 text-[10px] uppercase font-bold rounded ${p==="ALL"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":"text-gray-400 hover:text-gray-600"}`,children:"All"}),u.map(M=>m.jsx("button",{onClick:()=>g(M),className:`px-3 py-1 text-[10px] uppercase font-bold rounded ${p===M?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":"text-gray-400 hover:text-gray-600"}`,children:M},M))]})]}),m.jsxs("div",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:[m.jsxs("div",{className:"p-6 transition-colors",children:[m.jsxs("div",{className:"flex items-center mb-4",children:[m.jsx("div",{className:`w-3 h-12 rounded-full mr-4 ${P>0?"bg-green-500":"bg-gray-300"}`}),m.jsxs("div",{children:[m.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"TODAY"}),m.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date().toLocaleDateString()})]}),m.jsx("div",{className:"ml-auto text-right",children:P>0?m.jsxs("span",{className:"text-sm font-bold text-green-600 bg-green-50 dark:bg-green-900/20 px-3 py-1 rounded-full uppercase",children:[P," Total Trucks"]}):null})]}),m.jsxs("div",{className:"pl-7 space-y-6",children:[O.length===0&&m.jsx("p",{className:"text-sm text-gray-400 italic",children:"No scheduled deliveries."}),O.map(M=>m.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[m.jsxs("h4",{className:"flex items-center text-xs font-bold text-gray-500 uppercase mb-3",children:[m.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500 mr-2"}),M.sku," Production Supply (",M.count," Trucks)"]}),m.jsx($A,{date:N,totalRequired:M.count,manifest:M.manifest,readOnly:n,onReceive:S,onUpdate:(z,B)=>j(z,B,M.sku)})]},M.sku))]})]}),m.jsxs("div",{className:"p-6 transition-colors opacity-95",children:[m.jsxs("div",{className:"flex items-center mb-4",children:[m.jsx("div",{className:`w-3 h-12 rounded-full mr-4 ${C>0?"bg-blue-500":"bg-gray-300"}`}),m.jsxs("div",{children:[m.jsx("p",{className:"text-xl font-bold text-gray-700 dark:text-gray-300",children:"TOMORROW"}),m.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:D.toLocaleDateString()})]})]}),m.jsxs("div",{className:"pl-7 space-y-6",children:[T.length===0&&m.jsx("p",{className:"text-sm text-gray-400 italic",children:"No scheduled deliveries."}),T.map(M=>m.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[m.jsxs("h4",{className:"flex items-center text-xs font-bold text-gray-500 uppercase mb-3",children:[m.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500 mr-2"}),M.sku," Production Supply (",M.count," Trucks)"]}),m.jsx($A,{date:E,totalRequired:M.count,manifest:M.manifest,readOnly:n,onReceive:S,onUpdate:(z,B)=>j(z,B,M.sku)})]},M.sku))]})]})]}),m.jsx("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-4 text-center",children:m.jsx("p",{className:"text-xs text-gray-500",children:"For the full 30-day schedule, ask a Planner or switch to the Planning View."})})]}),m.jsx(XC,{isOpen:a,onClose:()=>s(!1),state:e,setters:t})]})}function Tle({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{fillRule:"evenodd",d:"M12.53 16.28a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 0 1 1.06-1.06L12 14.69l6.97-6.97a.75.75 0 1 1 1.06 1.06l-7.5 7.5Z",clipRule:"evenodd"}))}const jy=x.forwardRef(Tle);function Cle({mrp:e,scheduler:t,activeSku:r}){const{formState:n,setters:a,results:s}=e,[l,u]=x.useState(!1),{productMap:d}=yr(),f=Object.keys(d);if(!s)return null;const p=kt(new Date),g=s?.dailyLedger||[];g.find(I=>I.date===p);const y=s.calculatedPallets||0,v=n.yardInventory?.count||0,w=s.specs||{},k=w.bottlesPerCase||1,S=w.casesPerPallet||1,N=(s.safetyTarget||0)/(k*S),E=w.palletsPerTruck||22,D=y+v*E;let O=0,T=!1;for(const I of g){if(I.balance<0){T=!0;break}I.date>=p&&O++}const P=T?O:"14+",C=T?O<=2?"text-rose-600 dark:text-rose-400":"text-amber-600 dark:text-amber-400":"text-emerald-600 dark:text-emerald-400",R=T?O<=2?"border-rose-200 dark:border-rose-900 bg-rose-50 dark:bg-rose-900/10":"border-amber-200 dark:border-amber-900 bg-amber-50 dark:bg-amber-900/10":"border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900";return m.jsxs("div",{className:`w-full mb-6 rounded-xl border shadow-lg bg-slate-200 dark:bg-slate-800/50 transition-all duration-300 relative ${R} ${l?"p-2":"p-4"}`,children:[m.jsx("button",{onClick:()=>u(!l),className:"absolute top-0 right-0 p-1.5 m-1 text-slate-400 hover:text-blue-500 transition-colors z-10",title:l?"Expand Dashboard":"Collapse Dashboard",children:l?m.jsx(jy,{className:"w-4 h-4"}):m.jsx(jy,{className:"w-4 h-4 rotate-180"})}),l?m.jsxs("div",{className:"flex items-center justify-between px-2 pr-8",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"h-6 w-6 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center shadow-inner",children:m.jsx(nh,{className:"w-3.5 h-3.5 text-slate-500"})}),m.jsx("span",{className:"text-sm font-black text-slate-700 dark:text-slate-200",children:n.selectedSize})]}),m.jsx("div",{className:"h-4 w-px bg-slate-300 dark:bg-slate-700"}),m.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[m.jsx("span",{className:"font-bold text-slate-500 uppercase tracking-wider",children:"Floor:"}),m.jsx("span",{className:"font-mono font-bold text-slate-800 dark:text-slate-200",children:Math.round(y)})]}),m.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[m.jsx("span",{className:"font-bold text-slate-500 uppercase tracking-wider",children:"Runway:"}),m.jsxs("span",{className:`font-mono font-black ${C}`,children:[P," Days"]})]})]}),m.jsx("div",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-wide border ${D>=N?"bg-emerald-50 text-emerald-700 border-emerald-200 dark:bg-emerald-900/20 dark:text-emerald-400":"bg-amber-50 text-amber-700 border-amber-200 dark:bg-amber-900/20 dark:text-amber-400"}`,children:D>=N?"Secure":"Below Safety"})]}):m.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between gap-6",children:[m.jsxs("div",{className:"flex items-center gap-6 w-full lg:w-auto",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"h-12 w-12 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center flex-shrink-0 shadow-inner",children:m.jsx(nh,{className:"w-6 h-6 text-slate-500"})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-xs font-bold uppercase tracking-wider text-slate-500 dark:text-slate-400",children:"Production Plan"}),m.jsxs("div",{className:"relative group flex items-center",children:[m.jsx("select",{className:"appearance-none bg-transparent hover:bg-slate-50 dark:hover:bg-slate-800 text-xl font-extrabold text-slate-800 dark:text-white pr-6 py-0.5 rounded cursor-pointer outline-none focus:ring-2 focus:ring-blue-500 transition-colors",value:n.selectedSize,onChange:I=>a.setSelectedSize(I.target.value),children:f.map(I=>m.jsx("option",{value:I,children:I},I))}),m.jsx(jy,{className:"w-4 h-4 text-slate-400 -ml-4 pointer-events-none group-hover:text-blue-500"})]})]})]}),m.jsxs("div",{className:"hidden md:flex items-center gap-4 border-l border-slate-200 dark:border-slate-700 pl-6",children:[m.jsx(LA,{label:"Rate (cph)",value:n.productionRate,onChange:I=>a.setProductionRate(I),width:"w-20"}),m.jsx(LA,{label:"Downtime (hr)",value:n.downtimeHours,onChange:I=>a.setDowntimeHours(I),width:"w-16"})]})]}),m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 w-full lg:w-auto flex-grow justify-end",children:[m.jsx("div",{className:"text-center md:text-right",children:m.jsx(IA,{label:"Floor Stock",value:Math.round(y),unit:"plts",onSave:I=>a.setInventoryAnchor({date:mr(),count:Number(I)})})}),m.jsx("div",{className:"text-center md:text-right border-l dark:border-slate-700 pl-6",children:m.jsx(IA,{label:"Yard Stock",value:Number(v),unit:"loads",onSave:I=>a.updateYardInventory(I),colorClass:"text-blue-600 dark:text-blue-400"})}),m.jsxs("div",{className:"text-center md:text-right border-l dark:border-slate-700 pl-6",children:[m.jsx("div",{className:"text-xs font-bold uppercase tracking-wider text-slate-400",children:"Runway"}),m.jsxs("div",{className:`text-2xl font-black flex items-center justify-center md:justify-end gap-2 ${C}`,children:[T?m.jsx(ox,{className:"w-5 h-5"}):m.jsx(sx,{className:"w-5 h-5"}),P," ",m.jsx("span",{className:"text-sm text-slate-400 font-medium",children:"Days"})]})]}),m.jsx("div",{className:"hidden md:flex flex-col items-end justify-center border-l dark:border-slate-700 pl-6",children:m.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide border ${D>=N?"bg-emerald-50 text-emerald-700 border-emerald-200 dark:bg-emerald-900/20 dark:text-emerald-400":"bg-amber-50 text-amber-700 border-amber-200 dark:bg-amber-900/20 dark:text-amber-400"}`,children:D>=N?"Secure":"Below Safety"})})]})]})]})}function IA({label:e,value:t,unit:r,onSave:n,colorClass:a="text-slate-700 dark:text-slate-200"}){const[s,l]=x.useState(!1),[u,d]=x.useState(t===0?"":t);x.useEffect(()=>d(t===0?"":t),[t]);const f=p=>{p.key==="Enter"&&(n(u),l(!1))};return s?m.jsxs("div",{className:"flex flex-col items-end",children:[m.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-slate-400 mb-1",children:e}),m.jsx("input",{autoFocus:!0,type:"number",className:"w-24 text-right text-xl font-bold p-1 bg-white dark:bg-slate-800 border-2 border-blue-400 rounded shadow-md outline-none",value:u,onChange:p=>d(p.target.value),onBlur:()=>{n(u),l(!1)},onKeyDown:f})]}):m.jsxs("div",{className:"group cursor-pointer relative",onClick:()=>l(!0),children:[m.jsxs("div",{className:"flex items-center justify-end gap-1 mb-0.5",children:[m.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-slate-400 group-hover:text-blue-500 transition-colors",children:e}),m.jsx(eu,{className:"w-3 h-3 text-slate-300 opacity-0 group-hover:opacity-100 transition-opacity"})]}),m.jsxs("div",{className:`text-2xl font-black ${a} group-hover:bg-slate-50 dark:group-hover:bg-slate-800 rounded px-1 -mr-1 transition-colors`,children:[Number(t).toLocaleString()," ",m.jsx("span",{className:"text-xs font-medium text-slate-400",children:r})]})]})}function LA({label:e,value:t,onChange:r,width:n}){return m.jsxs("div",{className:"flex flex-col",children:[m.jsx("label",{className:"text-[10px] uppercase font-bold text-slate-400 mb-0.5 ml-1",children:e}),m.jsx("input",{type:"number",className:`${n} bg-transparent hover:bg-slate-50 dark:hover:bg-slate-800 border-b-2 border-transparent hover:border-slate-300 dark:hover:border-slate-600 rounded-t p-1 text-lg font-extrabold text-slate-800 dark:text-white focus:bg-white dark:focus:bg-slate-800 focus:border-blue-500 focus:ring-0 outline-none transition-all`,value:t===0?"":t,onChange:a=>r(a.target.value),onFocus:a=>a.target.select()})]})}function Ple({activeTab:e,setActiveTab:t,userRole:r}){const[n,a]=x.useState(!1),s=["admin","planner"].includes(r||"admin"),l=({id:u,label:d,icon:f,activeColor:p})=>{const g=e===u;return m.jsxs("button",{onClick:()=>{t(u),a(!1)},className:`flex flex-col items-center justify-center w-full h-full space-y-1 ${g?p:"text-slate-400 dark:text-slate-500"}`,children:[m.jsx(f,{className:`w-6 h-6 ${g?"fill-current opacity-20":""} absolute transform scale-150 transition-opacity`}),m.jsx(f,{className:`w-6 h-6 z-10 ${g?"scale-110":""}`}),m.jsx("span",{className:"text-[10px] font-bold",children:d})]})};return m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"h-20 lg:hidden block"}),n&&m.jsx("div",{className:"fixed inset-0 z-40 bg-black/60 backdrop-blur-sm lg:hidden flex flex-col justify-end pb-24 px-4 animation-delay-100",onClick:()=>a(!1),children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-4 shadow-2xl border border-slate-200 dark:border-slate-700 animate-slide-up space-y-2",children:[m.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-slate-400 mb-2 px-2",children:"More Options"}),m.jsxs("button",{onClick:()=>{t("master"),a(!1)},className:"flex items-center gap-4 w-full p-3 rounded-xl hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors text-slate-700 dark:text-slate-200",children:[m.jsx("div",{className:"p-2 bg-amber-100 text-amber-600 rounded-lg",children:m.jsx(wI,{className:"w-5 h-5"})}),m.jsx("span",{className:"font-bold",children:"Master Plan"})]})]})}),m.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 bg-white dark:bg-slate-900 border-t border-slate-200 dark:border-slate-800 h-20 shadow-2xl lg:hidden pb-safe",children:m.jsxs("div",{className:"grid grid-cols-4 h-full items-center",children:[s?m.jsx(l,{id:"plan",label:"Plan",icon:Oy,activeColor:"text-blue-600 dark:text-blue-400"}):m.jsx("div",{className:"text-center opacity-20",children:m.jsx(Oy,{className:"w-6 h-6 mx-auto"})}),m.jsx(l,{id:"schedule",label:"Schedule",icon:WA,activeColor:"text-purple-600 dark:text-purple-400"}),m.jsx(l,{id:"operations",label:"Ops",icon:XA,activeColor:"text-emerald-600 dark:text-emerald-400"}),m.jsxs("button",{onClick:()=>a(!n),className:`flex flex-col items-center justify-center w-full h-full space-y-1 ${n?"text-slate-900 dark:text-white":"text-slate-400 dark:text-slate-500"}`,children:[n?m.jsx(NI,{className:"w-6 h-6"}):m.jsx(SI,{className:"w-6 h-6"}),m.jsx("span",{className:"text-[10px] font-bold",children:"Menu"})]})]})})]})}function Dle(){const{user:e,loading:t,userRole:r}=Or(),{uploadLocalData:n}=Nl(),{productMap:a}=yr(),s=Object.keys(a);return x.useEffect(()=>{e&&n(e,s,r)},[e,s,n,r]),x.useEffect(()=>{document.title="UBP Planner v2.25.43"},[]),t?m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-slate-900 transition-colors",children:m.jsxs("div",{className:"flex flex-col items-center",children:[m.jsx("div",{className:"h-24 w-24 bg-white rounded-full shadow-2xl shadow-blue-500/20 flex items-center justify-center overflow-hidden animate-pulse",children:m.jsx("img",{src:YC,className:"h-[95%] w-[95%] object-contain",alt:"Loading..."})}),m.jsx("div",{className:"mt-6 text-slate-400 font-extrabold tracking-[0.2em] uppercase text-xs animate-pulse",children:"Loading Planner..."})]})}):e?m.jsx(qB,{children:m.jsx(wle,{children:m.jsx(Rle,{user:e})})}):m.jsx(Ole,{})}function Rle({user:e}){const{userRole:t}=Or(),r=t||"viewer",n=["admin","planner"].includes(r),a=["admin","planner","logistics"].includes(r),[s,l]=x.useState(()=>{const S=localStorage.getItem("activeTab");return S==="mrp"?"plan":S==="scheduler"?"schedule":S==="logistics"?"operations":S||(n?"plan":"operations")}),[u,d]=x.useState(!1);x.useEffect(()=>{(s==="plan"||s==="schedule"||s==="master")&&!n&&l("operations"),localStorage.setItem("activeTab",s)},[s,n]);const{poManifest:f}=ra(),p=kle(f),g=jle(),{activeSku:y}=zn(),{productMap:v}=yr(),w=Object.keys(v),k=Ele(w,s==="master");return m.jsxs("div",{id:"main-app-wrapper",className:"min-h-screen flex flex-col transition-colors duration-200 bg-slate-300 dark:bg-slate-900",children:[m.jsx(B8,{onOpenSettings:()=>d(!0),isSaving:p.formState.isSaving,saveError:p.formState.saveError,activeTab:s,setActiveTab:l}),m.jsxs("main",{className:"flex-grow p-2 md:p-6 w-full pt-4",children:[["operations","plan","schedule"].includes(s)&&m.jsx(Cle,{mrp:p,scheduler:g,activeSku:y}),m.jsx("div",{className:s==="operations"?"block":"hidden",children:m.jsx(Ale,{state:p.formState,setters:p.setters,results:p.results,readOnly:!a})}),m.jsx("div",{className:s==="plan"?"block":"hidden",children:m.jsx(sle,{state:p.formState,setters:p.setters,results:p.results,readOnly:!n})}),m.jsx("div",{className:s==="schedule"?"block":"hidden",children:m.jsx(fle,{state:g.formState,setters:g.setters,results:g.results,readOnly:!a})}),m.jsx("div",{className:s==="master"?"block":"hidden",children:m.jsx(Nle,{masterLedger:k.masterLedger,loading:k.loading})})]}),u&&m.jsx(vV,{onClose:()=>d(!1)}),m.jsx(Ple,{activeTab:s,setActiveTab:l,userRole:t})]})}class Mle extends we.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,r){this.setState({error:t,errorInfo:r}),console.error("Uncaught error:",t,r)}render(){return this.state.hasError?m.jsxs("div",{style:{padding:"20px",backgroundColor:"#fee2e2",border:"1px solid #ef4444",margin:"20px",borderRadius:"8px",color:"#7f1d1d"},children:[m.jsx("h1",{style:{fontSize:"1.5rem",fontWeight:"bold",marginBottom:"10px"},children:"Something went wrong."}),m.jsx("p",{style:{fontWeight:"bold"},children:this.state.error&&this.state.error.toString()}),m.jsx("details",{style:{marginTop:"10px",whiteSpace:"pre-wrap"},children:this.state.errorInfo&&this.state.errorInfo.componentStack})]}):this.props.children}}b6.createRoot(document.getElementById("root")).render(m.jsx(Mle,{children:m.jsx(z8,{children:m.jsx(UB,{children:m.jsx(BB,{children:m.jsx(Dle,{})})})})}));
