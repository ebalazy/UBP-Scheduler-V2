function N5(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var cf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ri(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function bu(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){var a=!1;try{a=this instanceof n}catch{}return a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var jg={exports:{}},kc={};var e2;function K$(){if(e2)return kc;e2=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,a,s){var l=null;if(s!==void 0&&(l=""+s),a.key!==void 0&&(l=""+a.key),"key"in a){s={};for(var u in a)u!=="key"&&(s[u]=a[u])}else s=a;return a=s.ref,{$$typeof:e,type:n,key:l,ref:a!==void 0?a:null,props:s}}return kc.Fragment=t,kc.jsx=r,kc.jsxs=r,kc}var t2;function Z$(){return t2||(t2=1,jg.exports=K$()),jg.exports}var p=Z$(),Eg={exports:{}},De={};var r2;function G$(){if(r2)return De;r2=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),v=Symbol.iterator;function y(I){return I===null||typeof I!="object"?null:(I=v&&I[v]||I["@@iterator"],typeof I=="function"?I:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,S={};function j(I,K,W){this.props=I,this.context=K,this.refs=S,this.updater=W||_}j.prototype.isReactComponent={},j.prototype.setState=function(I,K){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,K,"setState")},j.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function N(){}N.prototype=j.prototype;function E(I,K,W){this.props=I,this.context=K,this.refs=S,this.updater=W||_}var C=E.prototype=new N;C.constructor=E,k(C,j.prototype),C.isPureReactComponent=!0;var A=Array.isArray;function T(){}var P={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function R(I,K,W){var H=W.ref;return{$$typeof:e,type:I,key:K,ref:H!==void 0?H:null,props:W}}function L(I,K){return R(I.type,K,I.props)}function $(I){return typeof I=="object"&&I!==null&&I.$$typeof===e}function q(I){var K={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(W){return K[W]})}var V=/\/+/g;function Q(I,K){return typeof I=="object"&&I!==null&&I.key!=null?q(""+I.key):K.toString(36)}function ae(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(T,T):(I.status="pending",I.then(function(K){I.status==="pending"&&(I.status="fulfilled",I.value=K)},function(K){I.status==="pending"&&(I.status="rejected",I.reason=K)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function U(I,K,W,H,se){var ce=typeof I;(ce==="undefined"||ce==="boolean")&&(I=null);var re=!1;if(I===null)re=!0;else switch(ce){case"bigint":case"string":case"number":re=!0;break;case"object":switch(I.$$typeof){case e:case t:re=!0;break;case m:return re=I._init,U(re(I._payload),K,W,H,se)}}if(re)return se=se(I),re=H===""?"."+Q(I,0):H,A(se)?(W="",re!=null&&(W=re.replace(V,"$&/")+"/"),U(se,K,W,"",function(me){return me})):se!=null&&($(se)&&(se=L(se,W+(se.key==null||I&&I.key===se.key?"":(""+se.key).replace(V,"$&/")+"/")+re)),K.push(se)),1;re=0;var Se=H===""?".":H+":";if(A(I))for(var X=0;X<I.length;X++)H=I[X],ce=Se+Q(H,X),re+=U(H,K,W,ce,se);else if(X=y(I),typeof X=="function")for(I=X.call(I),X=0;!(H=I.next()).done;)H=H.value,ce=Se+Q(H,X++),re+=U(H,K,W,ce,se);else if(ce==="object"){if(typeof I.then=="function")return U(ae(I),K,W,H,se);throw K=String(I),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return re}function Y(I,K,W){if(I==null)return I;var H=[],se=0;return U(I,H,"","",function(ce){return K.call(W,ce,se++)}),H}function ee(I){if(I._status===-1){var K=I._result;K=K(),K.then(function(W){(I._status===0||I._status===-1)&&(I._status=1,I._result=W)},function(W){(I._status===0||I._status===-1)&&(I._status=2,I._result=W)}),I._status===-1&&(I._status=0,I._result=K)}if(I._status===1)return I._result.default;throw I._result}var le=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},ve={map:Y,forEach:function(I,K,W){Y(I,function(){K.apply(this,arguments)},W)},count:function(I){var K=0;return Y(I,function(){K++}),K},toArray:function(I){return Y(I,function(K){return K})||[]},only:function(I){if(!$(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return De.Activity=g,De.Children=ve,De.Component=j,De.Fragment=r,De.Profiler=a,De.PureComponent=E,De.StrictMode=n,De.Suspense=d,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,De.__COMPILER_RUNTIME={__proto__:null,c:function(I){return P.H.useMemoCache(I)}},De.cache=function(I){return function(){return I.apply(null,arguments)}},De.cacheSignal=function(){return null},De.cloneElement=function(I,K,W){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var H=k({},I.props),se=I.key;if(K!=null)for(ce in K.key!==void 0&&(se=""+K.key),K)!M.call(K,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&K.ref===void 0||(H[ce]=K[ce]);var ce=arguments.length-2;if(ce===1)H.children=W;else if(1<ce){for(var re=Array(ce),Se=0;Se<ce;Se++)re[Se]=arguments[Se+2];H.children=re}return R(I.type,se,H)},De.createContext=function(I){return I={$$typeof:l,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:s,_context:I},I},De.createElement=function(I,K,W){var H,se={},ce=null;if(K!=null)for(H in K.key!==void 0&&(ce=""+K.key),K)M.call(K,H)&&H!=="key"&&H!=="__self"&&H!=="__source"&&(se[H]=K[H]);var re=arguments.length-2;if(re===1)se.children=W;else if(1<re){for(var Se=Array(re),X=0;X<re;X++)Se[X]=arguments[X+2];se.children=Se}if(I&&I.defaultProps)for(H in re=I.defaultProps,re)se[H]===void 0&&(se[H]=re[H]);return R(I,ce,se)},De.createRef=function(){return{current:null}},De.forwardRef=function(I){return{$$typeof:u,render:I}},De.isValidElement=$,De.lazy=function(I){return{$$typeof:m,_payload:{_status:-1,_result:I},_init:ee}},De.memo=function(I,K){return{$$typeof:f,type:I,compare:K===void 0?null:K}},De.startTransition=function(I){var K=P.T,W={};P.T=W;try{var H=I(),se=P.S;se!==null&&se(W,H),typeof H=="object"&&H!==null&&typeof H.then=="function"&&H.then(T,le)}catch(ce){le(ce)}finally{K!==null&&W.types!==null&&(K.types=W.types),P.T=K}},De.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},De.use=function(I){return P.H.use(I)},De.useActionState=function(I,K,W){return P.H.useActionState(I,K,W)},De.useCallback=function(I,K){return P.H.useCallback(I,K)},De.useContext=function(I){return P.H.useContext(I)},De.useDebugValue=function(){},De.useDeferredValue=function(I,K){return P.H.useDeferredValue(I,K)},De.useEffect=function(I,K){return P.H.useEffect(I,K)},De.useEffectEvent=function(I){return P.H.useEffectEvent(I)},De.useId=function(){return P.H.useId()},De.useImperativeHandle=function(I,K,W){return P.H.useImperativeHandle(I,K,W)},De.useInsertionEffect=function(I,K){return P.H.useInsertionEffect(I,K)},De.useLayoutEffect=function(I,K){return P.H.useLayoutEffect(I,K)},De.useMemo=function(I,K){return P.H.useMemo(I,K)},De.useOptimistic=function(I,K){return P.H.useOptimistic(I,K)},De.useReducer=function(I,K,W){return P.H.useReducer(I,K,W)},De.useRef=function(I){return P.H.useRef(I)},De.useState=function(I){return P.H.useState(I)},De.useSyncExternalStore=function(I,K,W){return P.H.useSyncExternalStore(I,K,W)},De.useTransition=function(){return P.H.useTransition()},De.version="19.2.1",De}var n2;function yl(){return n2||(n2=1,Eg.exports=G$()),Eg.exports}var x=yl();const ye=ri(x),_y=N5({__proto__:null,default:ye},[x]);var Og={exports:{}},jc={},Ng={exports:{}},Ag={};var a2;function Y$(){return a2||(a2=1,(function(e){function t(U,Y){var ee=U.length;U.push(Y);e:for(;0<ee;){var le=ee-1>>>1,ve=U[le];if(0<a(ve,Y))U[le]=Y,U[ee]=ve,ee=le;else break e}}function r(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var Y=U[0],ee=U.pop();if(ee!==Y){U[0]=ee;e:for(var le=0,ve=U.length,I=ve>>>1;le<I;){var K=2*(le+1)-1,W=U[K],H=K+1,se=U[H];if(0>a(W,ee))H<ve&&0>a(se,W)?(U[le]=se,U[H]=ee,le=H):(U[le]=W,U[K]=ee,le=K);else if(H<ve&&0>a(se,ee))U[le]=se,U[H]=ee,le=H;else break e}}return Y}function a(U,Y){var ee=U.sortIndex-Y.sortIndex;return ee!==0?ee:U.id-Y.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],f=[],m=1,g=null,v=3,y=!1,_=!1,k=!1,S=!1,j=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function C(U){for(var Y=r(f);Y!==null;){if(Y.callback===null)n(f);else if(Y.startTime<=U)n(f),Y.sortIndex=Y.expirationTime,t(d,Y);else break;Y=r(f)}}function A(U){if(k=!1,C(U),!_)if(r(d)!==null)_=!0,T||(T=!0,q());else{var Y=r(f);Y!==null&&ae(A,Y.startTime-U)}}var T=!1,P=-1,M=5,R=-1;function L(){return S?!0:!(e.unstable_now()-R<M)}function $(){if(S=!1,T){var U=e.unstable_now();R=U;var Y=!0;try{e:{_=!1,k&&(k=!1,N(P),P=-1),y=!0;var ee=v;try{t:{for(C(U),g=r(d);g!==null&&!(g.expirationTime>U&&L());){var le=g.callback;if(typeof le=="function"){g.callback=null,v=g.priorityLevel;var ve=le(g.expirationTime<=U);if(U=e.unstable_now(),typeof ve=="function"){g.callback=ve,C(U),Y=!0;break t}g===r(d)&&n(d),C(U)}else n(d);g=r(d)}if(g!==null)Y=!0;else{var I=r(f);I!==null&&ae(A,I.startTime-U),Y=!1}}break e}finally{g=null,v=ee,y=!1}Y=void 0}}finally{Y?q():T=!1}}}var q;if(typeof E=="function")q=function(){E($)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Q=V.port2;V.port1.onmessage=$,q=function(){Q.postMessage(null)}}else q=function(){j($,0)};function ae(U,Y){P=j(function(){U(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(U){switch(v){case 1:case 2:case 3:var Y=3;break;default:Y=v}var ee=v;v=Y;try{return U()}finally{v=ee}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(U,Y){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ee=v;v=U;try{return Y()}finally{v=ee}},e.unstable_scheduleCallback=function(U,Y,ee){var le=e.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?le+ee:le):ee=le,U){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=ee+ve,U={id:m++,callback:Y,priorityLevel:U,startTime:ee,expirationTime:ve,sortIndex:-1},ee>le?(U.sortIndex=ee,t(f,U),r(d)===null&&U===r(f)&&(k?(N(P),P=-1):k=!0,ae(A,ee-le))):(U.sortIndex=ve,t(d,U),_||y||(_=!0,T||(T=!0,q()))),U},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(U){var Y=v;return function(){var ee=v;v=Y;try{return U.apply(this,arguments)}finally{v=ee}}}})(Ag)),Ag}var i2;function W$(){return i2||(i2=1,Ng.exports=Y$()),Ng.exports}var Tg={exports:{}},mr={};var s2;function X$(){if(s2)return mr;s2=1;var e=yl();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(d,f,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:d,containerInfo:f,implementation:m}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return mr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,mr.createPortal=function(d,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return s(d,f,null,m)},mr.flushSync=function(d){var f=l.T,m=n.p;try{if(l.T=null,n.p=2,d)return d()}finally{l.T=f,n.p=m,n.d.f()}},mr.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(d,f))},mr.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},mr.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var m=f.as,g=u(m,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,y=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?n.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:y}):m==="script"&&n.d.X(d,{crossOrigin:g,integrity:v,fetchPriority:y,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},mr.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=u(f.as,f.crossOrigin);n.d.M(d,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(d)},mr.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,g=u(m,f.crossOrigin);n.d.L(d,m,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},mr.preloadModule=function(d,f){if(typeof d=="string")if(f){var m=u(f.as,f.crossOrigin);n.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(d)},mr.requestFormReset=function(d){n.d.r(d)},mr.unstable_batchedUpdates=function(d,f){return d(f)},mr.useFormState=function(d,f,m){return l.H.useFormState(d,f,m)},mr.useFormStatus=function(){return l.H.useHostTransitionStatus()},mr.version="19.2.1",mr}var o2;function A5(){if(o2)return Tg.exports;o2=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Tg.exports=X$(),Tg.exports}var l2;function J$(){if(l2)return jc;l2=1;var e=W$(),t=yl(),r=A5();function n(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function s(i){var o=i,c=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(c=o.return),i=o.return;while(i)}return o.tag===3?c:null}function l(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function u(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function d(i){if(s(i)!==i)throw Error(n(188))}function f(i){var o=i.alternate;if(!o){if(o=s(i),o===null)throw Error(n(188));return o!==i?null:i}for(var c=i,h=o;;){var b=c.return;if(b===null)break;var w=b.alternate;if(w===null){if(h=b.return,h!==null){c=h;continue}break}if(b.child===w.child){for(w=b.child;w;){if(w===c)return d(b),i;if(w===h)return d(b),o;w=w.sibling}throw Error(n(188))}if(c.return!==h.return)c=b,h=w;else{for(var O=!1,D=b.child;D;){if(D===c){O=!0,c=b,h=w;break}if(D===h){O=!0,h=b,c=w;break}D=D.sibling}if(!O){for(D=w.child;D;){if(D===c){O=!0,c=w,h=b;break}if(D===h){O=!0,h=w,c=b;break}D=D.sibling}if(!O)throw Error(n(189))}}if(c.alternate!==h)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?i:o}function m(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=m(i),o!==null)return o;i=i.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),E=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function q(i){return i===null||typeof i!="object"?null:(i=$&&i[$]||i["@@iterator"],typeof i=="function"?i:null)}var V=Symbol.for("react.client.reference");function Q(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===V?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case k:return"Fragment";case j:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case T:return"SuspenseList";case R:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case _:return"Portal";case E:return i.displayName||"Context";case N:return(i._context.displayName||"Context")+".Consumer";case C:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case P:return o=i.displayName||null,o!==null?o:Q(i.type)||"Memo";case M:o=i._payload,i=i._init;try{return Q(i(o))}catch{}}return null}var ae=Array.isArray,U=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},le=[],ve=-1;function I(i){return{current:i}}function K(i){0>ve||(i.current=le[ve],le[ve]=null,ve--)}function W(i,o){ve++,le[ve]=i.current,i.current=o}var H=I(null),se=I(null),ce=I(null),re=I(null);function Se(i,o){switch(W(ce,o),W(se,i),W(H,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?Sk(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=Sk(o),i=kk(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}K(H),W(H,i)}function X(){K(H),K(se),K(ce)}function me(i){i.memoizedState!==null&&W(re,i);var o=H.current,c=kk(o,i.type);o!==c&&(W(se,i),W(H,c))}function je(i){se.current===i&&(K(H),K(se)),re.current===i&&(K(re),xc._currentValue=ee)}var fe,he;function pe(i){if(fe===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);fe=o&&o[1]||"",he=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fe+i+he}var ge=!1;function Pe(i,o){if(!i||ge)return"";ge=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(o){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(te){var J=te}Reflect.construct(i,[],ue)}else{try{ue.call()}catch(te){J=te}i.call(ue.prototype)}}else{try{throw Error()}catch(te){J=te}(ue=i())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(te){if(te&&J&&typeof te.stack=="string")return[te.stack,J.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=h.DetermineComponentFrameRoot(),O=w[0],D=w[1];if(O&&D){var z=O.split(`
`),G=D.split(`
`);for(b=h=0;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;for(;b<G.length&&!G[b].includes("DetermineComponentFrameRoot");)b++;if(h===z.length||b===G.length)for(h=z.length-1,b=G.length-1;1<=h&&0<=b&&z[h]!==G[b];)b--;for(;1<=h&&0<=b;h--,b--)if(z[h]!==G[b]){if(h!==1||b!==1)do if(h--,b--,0>b||z[h]!==G[b]){var ie=`
`+z[h].replace(" at new "," at ");return i.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",i.displayName)),ie}while(1<=h&&0<=b);break}}}finally{ge=!1,Error.prepareStackTrace=c}return(c=i?i.displayName||i.name:"")?pe(c):""}function dt(i,o){switch(i.tag){case 26:case 27:case 5:return pe(i.type);case 16:return pe("Lazy");case 13:return i.child!==o&&o!==null?pe("Suspense Fallback"):pe("Suspense");case 19:return pe("SuspenseList");case 0:case 15:return Pe(i.type,!1);case 11:return Pe(i.type.render,!1);case 1:return Pe(i.type,!0);case 31:return pe("Activity");default:return""}}function Sr(i){try{var o="",c=null;do o+=dt(i,c),c=i,i=i.return;while(i);return o}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var fr=Object.prototype.hasOwnProperty,Gr=e.unstable_scheduleCallback,mn=e.unstable_cancelCallback,Qn=e.unstable_shouldYield,Pr=e.unstable_requestPaint,Ke=e.unstable_now,pn=e.unstable_getCurrentPriorityLevel,ot=e.unstable_ImmediatePriority,bt=e.unstable_UserBlockingPriority,At=e.unstable_NormalPriority,Qi=e.unstable_LowPriority,ro=e.unstable_IdlePriority,Pl=e.log,fm=e.unstable_setDisableYieldValue,ya=null,It=null;function Yr(i){if(typeof Pl=="function"&&fm(i),It&&typeof It.setStrictMode=="function")try{It.setStrictMode(ya,i)}catch{}}var hr=Math.clz32?Math.clz32:PM,TM=Math.log,CM=Math.LN2;function PM(i){return i>>>=0,i===0?32:31-(TM(i)/CM|0)|0}var Ku=256,Zu=262144,Gu=4194304;function es(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Yu(i,o,c){var h=i.pendingLanes;if(h===0)return 0;var b=0,w=i.suspendedLanes,O=i.pingedLanes;i=i.warmLanes;var D=h&134217727;return D!==0?(h=D&~w,h!==0?b=es(h):(O&=D,O!==0?b=es(O):c||(c=D&~i,c!==0&&(b=es(c))))):(D=h&~w,D!==0?b=es(D):O!==0?b=es(O):c||(c=h&~i,c!==0&&(b=es(c)))),b===0?0:o!==0&&o!==b&&(o&w)===0&&(w=b&-b,c=o&-o,w>=c||w===32&&(c&4194048)!==0)?o:b}function Dl(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function DM(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function a1(){var i=Gu;return Gu<<=1,(Gu&62914560)===0&&(Gu=4194304),i}function hm(i){for(var o=[],c=0;31>c;c++)o.push(i);return o}function Ml(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function MM(i,o,c,h,b,w){var O=i.pendingLanes;i.pendingLanes=c,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=c,i.entangledLanes&=c,i.errorRecoveryDisabledLanes&=c,i.shellSuspendCounter=0;var D=i.entanglements,z=i.expirationTimes,G=i.hiddenUpdates;for(c=O&~c;0<c;){var ie=31-hr(c),ue=1<<ie;D[ie]=0,z[ie]=-1;var J=G[ie];if(J!==null)for(G[ie]=null,ie=0;ie<J.length;ie++){var te=J[ie];te!==null&&(te.lane&=-536870913)}c&=~ue}h!==0&&i1(i,h,0),w!==0&&b===0&&i.tag!==0&&(i.suspendedLanes|=w&~(O&~o))}function i1(i,o,c){i.pendingLanes|=o,i.suspendedLanes&=~o;var h=31-hr(o);i.entangledLanes|=o,i.entanglements[h]=i.entanglements[h]|1073741824|c&261930}function s1(i,o){var c=i.entangledLanes|=o;for(i=i.entanglements;c;){var h=31-hr(c),b=1<<h;b&o|i[h]&o&&(i[h]|=o),c&=~b}}function o1(i,o){var c=o&-o;return c=(c&42)!==0?1:mm(c),(c&(i.suspendedLanes|o))!==0?0:c}function mm(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function pm(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function l1(){var i=Y.p;return i!==0?i:(i=window.event,i===void 0?32:Zk(i.type))}function c1(i,o){var c=Y.p;try{return Y.p=i,o()}finally{Y.p=c}}var ui=Math.random().toString(36).slice(2),Jt="__reactFiber$"+ui,Dr="__reactProps$"+ui,no="__reactContainer$"+ui,gm="__reactEvents$"+ui,RM="__reactListeners$"+ui,$M="__reactHandles$"+ui,u1="__reactResources$"+ui,Rl="__reactMarker$"+ui;function vm(i){delete i[Jt],delete i[Dr],delete i[gm],delete i[RM],delete i[$M]}function ao(i){var o=i[Jt];if(o)return o;for(var c=i.parentNode;c;){if(o=c[no]||c[Jt]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(i=Ck(i);i!==null;){if(c=i[Jt])return c;i=Ck(i)}return o}i=c,c=i.parentNode}return null}function io(i){if(i=i[Jt]||i[no]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function $l(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(n(33))}function so(i){var o=i[u1];return o||(o=i[u1]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Kt(i){i[Rl]=!0}var d1=new Set,f1={};function ts(i,o){oo(i,o),oo(i+"Capture",o)}function oo(i,o){for(f1[i]=o,i=0;i<o.length;i++)d1.add(o[i])}var LM=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),h1={},m1={};function IM(i){return fr.call(m1,i)?!0:fr.call(h1,i)?!1:LM.test(i)?m1[i]=!0:(h1[i]=!0,!1)}function Wu(i,o,c){if(IM(o))if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var h=o.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+c)}}function Xu(i,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+c)}}function ba(i,o,c,h){if(h===null)i.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(c);return}i.setAttributeNS(o,c,""+h)}}function gn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function p1(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function zM(i,o,c){var h=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var b=h.get,w=h.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return b.call(this)},set:function(O){c=""+O,w.call(this,O)}}),Object.defineProperty(i,o,{enumerable:h.enumerable}),{getValue:function(){return c},setValue:function(O){c=""+O},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function ym(i){if(!i._valueTracker){var o=p1(i)?"checked":"value";i._valueTracker=zM(i,o,""+i[o])}}function g1(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var c=o.getValue(),h="";return i&&(h=p1(i)?i.checked?"true":"false":i.value),i=h,i!==c?(o.setValue(i),!0):!1}function Ju(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var UM=/[\n"\\]/g;function vn(i){return i.replace(UM,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function bm(i,o,c,h,b,w,O,D){i.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?i.type=O:i.removeAttribute("type"),o!=null?O==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+gn(o)):i.value!==""+gn(o)&&(i.value=""+gn(o)):O!=="submit"&&O!=="reset"||i.removeAttribute("value"),o!=null?xm(i,O,gn(o)):c!=null?xm(i,O,gn(c)):h!=null&&i.removeAttribute("value"),b==null&&w!=null&&(i.defaultChecked=!!w),b!=null&&(i.checked=b&&typeof b!="function"&&typeof b!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?i.name=""+gn(D):i.removeAttribute("name")}function v1(i,o,c,h,b,w,O,D){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.type=w),o!=null||c!=null){if(!(w!=="submit"&&w!=="reset"||o!=null)){ym(i);return}c=c!=null?""+gn(c):"",o=o!=null?""+gn(o):c,D||o===i.value||(i.value=o),i.defaultValue=o}h=h??b,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=D?i.checked:!!h,i.defaultChecked=!!h,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(i.name=O),ym(i)}function xm(i,o,c){o==="number"&&Ju(i.ownerDocument)===i||i.defaultValue===""+c||(i.defaultValue=""+c)}function lo(i,o,c,h){if(i=i.options,o){o={};for(var b=0;b<c.length;b++)o["$"+c[b]]=!0;for(c=0;c<i.length;c++)b=o.hasOwnProperty("$"+i[c].value),i[c].selected!==b&&(i[c].selected=b),b&&h&&(i[c].defaultSelected=!0)}else{for(c=""+gn(c),o=null,b=0;b<i.length;b++){if(i[b].value===c){i[b].selected=!0,h&&(i[b].defaultSelected=!0);return}o!==null||i[b].disabled||(o=i[b])}o!==null&&(o.selected=!0)}}function y1(i,o,c){if(o!=null&&(o=""+gn(o),o!==i.value&&(i.value=o),c==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=c!=null?""+gn(c):""}function b1(i,o,c,h){if(o==null){if(h!=null){if(c!=null)throw Error(n(92));if(ae(h)){if(1<h.length)throw Error(n(93));h=h[0]}c=h}c==null&&(c=""),o=c}c=gn(o),i.defaultValue=c,h=i.textContent,h===c&&h!==""&&h!==null&&(i.value=h),ym(i)}function co(i,o){if(o){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=o;return}}i.textContent=o}var BM=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function x1(i,o,c){var h=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":h?i.setProperty(o,c):typeof c!="number"||c===0||BM.has(o)?o==="float"?i.cssFloat=c:i[o]=(""+c).trim():i[o]=c+"px"}function w1(i,o,c){if(o!=null&&typeof o!="object")throw Error(n(62));if(i=i.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||o!=null&&o.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var b in o)h=o[b],o.hasOwnProperty(b)&&c[b]!==h&&x1(i,b,h)}else for(var w in o)o.hasOwnProperty(w)&&x1(i,w,o[w])}function wm(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qM=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),HM=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qu(i){return HM.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function xa(){}var _m=null;function Sm(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var uo=null,fo=null;function _1(i){var o=io(i);if(o&&(i=o.stateNode)){var c=i[Dr]||null;e:switch(i=o.stateNode,o.type){case"input":if(bm(i,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+vn(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var h=c[o];if(h!==i&&h.form===i.form){var b=h[Dr]||null;if(!b)throw Error(n(90));bm(h,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(o=0;o<c.length;o++)h=c[o],h.form===i.form&&g1(h)}break e;case"textarea":y1(i,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&lo(i,!!c.multiple,o,!1)}}}var km=!1;function S1(i,o,c){if(km)return i(o,c);km=!0;try{var h=i(o);return h}finally{if(km=!1,(uo!==null||fo!==null)&&(Ud(),uo&&(o=uo,i=fo,fo=uo=null,_1(o),i)))for(o=0;o<i.length;o++)_1(i[o])}}function Ll(i,o){var c=i.stateNode;if(c===null)return null;var h=c[Dr]||null;if(h===null)return null;c=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(n(231,o,typeof c));return c}var wa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jm=!1;if(wa)try{var Il={};Object.defineProperty(Il,"passive",{get:function(){jm=!0}}),window.addEventListener("test",Il,Il),window.removeEventListener("test",Il,Il)}catch{jm=!1}var di=null,Em=null,ed=null;function k1(){if(ed)return ed;var i,o=Em,c=o.length,h,b="value"in di?di.value:di.textContent,w=b.length;for(i=0;i<c&&o[i]===b[i];i++);var O=c-i;for(h=1;h<=O&&o[c-h]===b[w-h];h++);return ed=b.slice(i,1<h?1-h:void 0)}function td(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function rd(){return!0}function j1(){return!1}function Mr(i){function o(c,h,b,w,O){this._reactName=c,this._targetInst=b,this.type=h,this.nativeEvent=w,this.target=O,this.currentTarget=null;for(var D in i)i.hasOwnProperty(D)&&(c=i[D],this[D]=c?c(w):w[D]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?rd:j1,this.isPropagationStopped=j1,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=rd)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=rd)},persist:function(){},isPersistent:rd}),o}var rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nd=Mr(rs),zl=g({},rs,{view:0,detail:0}),FM=Mr(zl),Om,Nm,Ul,ad=g({},zl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tm,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ul&&(Ul&&i.type==="mousemove"?(Om=i.screenX-Ul.screenX,Nm=i.screenY-Ul.screenY):Nm=Om=0,Ul=i),Om)},movementY:function(i){return"movementY"in i?i.movementY:Nm}}),E1=Mr(ad),VM=g({},ad,{dataTransfer:0}),KM=Mr(VM),ZM=g({},zl,{relatedTarget:0}),Am=Mr(ZM),GM=g({},rs,{animationName:0,elapsedTime:0,pseudoElement:0}),YM=Mr(GM),WM=g({},rs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),XM=Mr(WM),JM=g({},rs,{data:0}),O1=Mr(JM),QM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rR(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=tR[i])?!!o[i]:!1}function Tm(){return rR}var nR=g({},zl,{key:function(i){if(i.key){var o=QM[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=td(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?eR[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tm,charCode:function(i){return i.type==="keypress"?td(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?td(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),aR=Mr(nR),iR=g({},ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),N1=Mr(iR),sR=g({},zl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tm}),oR=Mr(sR),lR=g({},rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),cR=Mr(lR),uR=g({},ad,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),dR=Mr(uR),fR=g({},rs,{newState:0,oldState:0}),hR=Mr(fR),mR=[9,13,27,32],Cm=wa&&"CompositionEvent"in window,Bl=null;wa&&"documentMode"in document&&(Bl=document.documentMode);var pR=wa&&"TextEvent"in window&&!Bl,A1=wa&&(!Cm||Bl&&8<Bl&&11>=Bl),T1=" ",C1=!1;function P1(i,o){switch(i){case"keyup":return mR.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function D1(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ho=!1;function gR(i,o){switch(i){case"compositionend":return D1(o);case"keypress":return o.which!==32?null:(C1=!0,T1);case"textInput":return i=o.data,i===T1&&C1?null:i;default:return null}}function vR(i,o){if(ho)return i==="compositionend"||!Cm&&P1(i,o)?(i=k1(),ed=Em=di=null,ho=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return A1&&o.locale!=="ko"?null:o.data;default:return null}}var yR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function M1(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!yR[i.type]:o==="textarea"}function R1(i,o,c,h){uo?fo?fo.push(h):fo=[h]:uo=h,o=Zd(o,"onChange"),0<o.length&&(c=new nd("onChange","change",null,c,h),i.push({event:c,listeners:o}))}var ql=null,Hl=null;function bR(i){vk(i,0)}function id(i){var o=$l(i);if(g1(o))return i}function $1(i,o){if(i==="change")return o}var L1=!1;if(wa){var Pm;if(wa){var Dm="oninput"in document;if(!Dm){var I1=document.createElement("div");I1.setAttribute("oninput","return;"),Dm=typeof I1.oninput=="function"}Pm=Dm}else Pm=!1;L1=Pm&&(!document.documentMode||9<document.documentMode)}function z1(){ql&&(ql.detachEvent("onpropertychange",U1),Hl=ql=null)}function U1(i){if(i.propertyName==="value"&&id(Hl)){var o=[];R1(o,Hl,i,Sm(i)),S1(bR,o)}}function xR(i,o,c){i==="focusin"?(z1(),ql=o,Hl=c,ql.attachEvent("onpropertychange",U1)):i==="focusout"&&z1()}function wR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return id(Hl)}function _R(i,o){if(i==="click")return id(o)}function SR(i,o){if(i==="input"||i==="change")return id(o)}function kR(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Wr=typeof Object.is=="function"?Object.is:kR;function Fl(i,o){if(Wr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var c=Object.keys(i),h=Object.keys(o);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var b=c[h];if(!fr.call(o,b)||!Wr(i[b],o[b]))return!1}return!0}function B1(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function q1(i,o){var c=B1(i);i=0;for(var h;c;){if(c.nodeType===3){if(h=i+c.textContent.length,i<=o&&h>=o)return{node:c,offset:o-i};i=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=B1(c)}}function H1(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?H1(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function F1(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=Ju(i.document);o instanceof i.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)i=o.contentWindow;else break;o=Ju(i.document)}return o}function Mm(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var jR=wa&&"documentMode"in document&&11>=document.documentMode,mo=null,Rm=null,Vl=null,$m=!1;function V1(i,o,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;$m||mo==null||mo!==Ju(h)||(h=mo,"selectionStart"in h&&Mm(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Vl&&Fl(Vl,h)||(Vl=h,h=Zd(Rm,"onSelect"),0<h.length&&(o=new nd("onSelect","select",null,o,c),i.push({event:o,listeners:h}),o.target=mo)))}function ns(i,o){var c={};return c[i.toLowerCase()]=o.toLowerCase(),c["Webkit"+i]="webkit"+o,c["Moz"+i]="moz"+o,c}var po={animationend:ns("Animation","AnimationEnd"),animationiteration:ns("Animation","AnimationIteration"),animationstart:ns("Animation","AnimationStart"),transitionrun:ns("Transition","TransitionRun"),transitionstart:ns("Transition","TransitionStart"),transitioncancel:ns("Transition","TransitionCancel"),transitionend:ns("Transition","TransitionEnd")},Lm={},K1={};wa&&(K1=document.createElement("div").style,"AnimationEvent"in window||(delete po.animationend.animation,delete po.animationiteration.animation,delete po.animationstart.animation),"TransitionEvent"in window||delete po.transitionend.transition);function as(i){if(Lm[i])return Lm[i];if(!po[i])return i;var o=po[i],c;for(c in o)if(o.hasOwnProperty(c)&&c in K1)return Lm[i]=o[c];return i}var Z1=as("animationend"),G1=as("animationiteration"),Y1=as("animationstart"),ER=as("transitionrun"),OR=as("transitionstart"),NR=as("transitioncancel"),W1=as("transitionend"),X1=new Map,Im="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Im.push("scrollEnd");function Ln(i,o){X1.set(i,o),ts(o,[i])}var sd=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},yn=[],go=0,zm=0;function od(){for(var i=go,o=zm=go=0;o<i;){var c=yn[o];yn[o++]=null;var h=yn[o];yn[o++]=null;var b=yn[o];yn[o++]=null;var w=yn[o];if(yn[o++]=null,h!==null&&b!==null){var O=h.pending;O===null?b.next=b:(b.next=O.next,O.next=b),h.pending=b}w!==0&&J1(c,b,w)}}function ld(i,o,c,h){yn[go++]=i,yn[go++]=o,yn[go++]=c,yn[go++]=h,zm|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function Um(i,o,c,h){return ld(i,o,c,h),cd(i)}function is(i,o){return ld(i,null,null,o),cd(i)}function J1(i,o,c){i.lanes|=c;var h=i.alternate;h!==null&&(h.lanes|=c);for(var b=!1,w=i.return;w!==null;)w.childLanes|=c,h=w.alternate,h!==null&&(h.childLanes|=c),w.tag===22&&(i=w.stateNode,i===null||i._visibility&1||(b=!0)),i=w,w=w.return;return i.tag===3?(w=i.stateNode,b&&o!==null&&(b=31-hr(c),i=w.hiddenUpdates,h=i[b],h===null?i[b]=[o]:h.push(o),o.lane=c|536870912),w):null}function cd(i){if(50<hc)throw hc=0,Yp=null,Error(n(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var vo={};function AR(i,o,c,h){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xr(i,o,c,h){return new AR(i,o,c,h)}function Bm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function _a(i,o){var c=i.alternate;return c===null?(c=Xr(i.tag,o,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=o,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&65011712,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,o=i.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c.refCleanup=i.refCleanup,c}function Q1(i,o){i.flags&=65011714;var c=i.alternate;return c===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=c.childLanes,i.lanes=c.lanes,i.child=c.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=c.memoizedProps,i.memoizedState=c.memoizedState,i.updateQueue=c.updateQueue,i.type=c.type,o=c.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function ud(i,o,c,h,b,w){var O=0;if(h=i,typeof i=="function")Bm(i)&&(O=1);else if(typeof i=="string")O=M$(i,c,H.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case R:return i=Xr(31,c,o,b),i.elementType=R,i.lanes=w,i;case k:return ss(c.children,b,w,o);case S:O=8,b|=24;break;case j:return i=Xr(12,c,o,b|2),i.elementType=j,i.lanes=w,i;case A:return i=Xr(13,c,o,b),i.elementType=A,i.lanes=w,i;case T:return i=Xr(19,c,o,b),i.elementType=T,i.lanes=w,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case E:O=10;break e;case N:O=9;break e;case C:O=11;break e;case P:O=14;break e;case M:O=16,h=null;break e}O=29,c=Error(n(130,i===null?"null":typeof i,"")),h=null}return o=Xr(O,c,o,b),o.elementType=i,o.type=h,o.lanes=w,o}function ss(i,o,c,h){return i=Xr(7,i,h,o),i.lanes=c,i}function qm(i,o,c){return i=Xr(6,i,null,o),i.lanes=c,i}function e_(i){var o=Xr(18,null,null,0);return o.stateNode=i,o}function Hm(i,o,c){return o=Xr(4,i.children!==null?i.children:[],i.key,o),o.lanes=c,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var t_=new WeakMap;function bn(i,o){if(typeof i=="object"&&i!==null){var c=t_.get(i);return c!==void 0?c:(o={value:i,source:o,stack:Sr(o)},t_.set(i,o),o)}return{value:i,source:o,stack:Sr(o)}}var yo=[],bo=0,dd=null,Kl=0,xn=[],wn=0,fi=null,ea=1,ta="";function Sa(i,o){yo[bo++]=Kl,yo[bo++]=dd,dd=i,Kl=o}function r_(i,o,c){xn[wn++]=ea,xn[wn++]=ta,xn[wn++]=fi,fi=i;var h=ea;i=ta;var b=32-hr(h)-1;h&=~(1<<b),c+=1;var w=32-hr(o)+b;if(30<w){var O=b-b%5;w=(h&(1<<O)-1).toString(32),h>>=O,b-=O,ea=1<<32-hr(o)+b|c<<b|h,ta=w+i}else ea=1<<w|c<<b|h,ta=i}function Fm(i){i.return!==null&&(Sa(i,1),r_(i,1,0))}function Vm(i){for(;i===dd;)dd=yo[--bo],yo[bo]=null,Kl=yo[--bo],yo[bo]=null;for(;i===fi;)fi=xn[--wn],xn[wn]=null,ta=xn[--wn],xn[wn]=null,ea=xn[--wn],xn[wn]=null}function n_(i,o){xn[wn++]=ea,xn[wn++]=ta,xn[wn++]=fi,ea=o.id,ta=o.overflow,fi=i}var Qt=null,lt=null,qe=!1,hi=null,_n=!1,Km=Error(n(519));function mi(i){var o=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zl(bn(o,i)),Km}function a_(i){var o=i.stateNode,c=i.type,h=i.memoizedProps;switch(o[Jt]=i,o[Dr]=h,c){case"dialog":Ie("cancel",o),Ie("close",o);break;case"iframe":case"object":case"embed":Ie("load",o);break;case"video":case"audio":for(c=0;c<pc.length;c++)Ie(pc[c],o);break;case"source":Ie("error",o);break;case"img":case"image":case"link":Ie("error",o),Ie("load",o);break;case"details":Ie("toggle",o);break;case"input":Ie("invalid",o),v1(o,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":Ie("invalid",o);break;case"textarea":Ie("invalid",o),b1(o,h.value,h.defaultValue,h.children)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||h.suppressHydrationWarning===!0||wk(o.textContent,c)?(h.popover!=null&&(Ie("beforetoggle",o),Ie("toggle",o)),h.onScroll!=null&&Ie("scroll",o),h.onScrollEnd!=null&&Ie("scrollend",o),h.onClick!=null&&(o.onclick=xa),o=!0):o=!1,o||mi(i,!0)}function i_(i){for(Qt=i.return;Qt;)switch(Qt.tag){case 5:case 31:case 13:_n=!1;return;case 27:case 3:_n=!0;return;default:Qt=Qt.return}}function xo(i){if(i!==Qt)return!1;if(!qe)return i_(i),qe=!0,!1;var o=i.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=i.type,c=!(c!=="form"&&c!=="button")||ug(i.type,i.memoizedProps)),c=!c),c&&lt&&mi(i),i_(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));lt=Tk(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));lt=Tk(i)}else o===27?(o=lt,Ni(i.type)?(i=pg,pg=null,lt=i):lt=o):lt=Qt?kn(i.stateNode.nextSibling):null;return!0}function os(){lt=Qt=null,qe=!1}function Zm(){var i=hi;return i!==null&&(Ir===null?Ir=i:Ir.push.apply(Ir,i),hi=null),i}function Zl(i){hi===null?hi=[i]:hi.push(i)}var Gm=I(null),ls=null,ka=null;function pi(i,o,c){W(Gm,o._currentValue),o._currentValue=c}function ja(i){i._currentValue=Gm.current,K(Gm)}function Ym(i,o,c){for(;i!==null;){var h=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),i===c)break;i=i.return}}function Wm(i,o,c,h){var b=i.child;for(b!==null&&(b.return=i);b!==null;){var w=b.dependencies;if(w!==null){var O=b.child;w=w.firstContext;e:for(;w!==null;){var D=w;w=b;for(var z=0;z<o.length;z++)if(D.context===o[z]){w.lanes|=c,D=w.alternate,D!==null&&(D.lanes|=c),Ym(w.return,c,i),h||(O=null);break e}w=D.next}}else if(b.tag===18){if(O=b.return,O===null)throw Error(n(341));O.lanes|=c,w=O.alternate,w!==null&&(w.lanes|=c),Ym(O,c,i),O=null}else O=b.child;if(O!==null)O.return=b;else for(O=b;O!==null;){if(O===i){O=null;break}if(b=O.sibling,b!==null){b.return=O.return,O=b;break}O=O.return}b=O}}function wo(i,o,c,h){i=null;for(var b=o,w=!1;b!==null;){if(!w){if((b.flags&524288)!==0)w=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var O=b.alternate;if(O===null)throw Error(n(387));if(O=O.memoizedProps,O!==null){var D=b.type;Wr(b.pendingProps.value,O.value)||(i!==null?i.push(D):i=[D])}}else if(b===re.current){if(O=b.alternate,O===null)throw Error(n(387));O.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(i!==null?i.push(xc):i=[xc])}b=b.return}i!==null&&Wm(o,i,c,h),o.flags|=262144}function fd(i){for(i=i.firstContext;i!==null;){if(!Wr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function cs(i){ls=i,ka=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function er(i){return s_(ls,i)}function hd(i,o){return ls===null&&cs(i),s_(i,o)}function s_(i,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},ka===null){if(i===null)throw Error(n(308));ka=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else ka=ka.next=o;return c}var TR=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(c,h){i.push(h)}};this.abort=function(){o.aborted=!0,i.forEach(function(c){return c()})}},CR=e.unstable_scheduleCallback,PR=e.unstable_NormalPriority,Tt={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xm(){return{controller:new TR,data:new Map,refCount:0}}function Gl(i){i.refCount--,i.refCount===0&&CR(PR,function(){i.controller.abort()})}var Yl=null,Jm=0,_o=0,So=null;function DR(i,o){if(Yl===null){var c=Yl=[];Jm=0,_o=tg(),So={status:"pending",value:void 0,then:function(h){c.push(h)}}}return Jm++,o.then(o_,o_),o}function o_(){if(--Jm===0&&Yl!==null){So!==null&&(So.status="fulfilled");var i=Yl;Yl=null,_o=0,So=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function MR(i,o){var c=[],h={status:"pending",value:null,reason:null,then:function(b){c.push(b)}};return i.then(function(){h.status="fulfilled",h.value=o;for(var b=0;b<c.length;b++)(0,c[b])(o)},function(b){for(h.status="rejected",h.reason=b,b=0;b<c.length;b++)(0,c[b])(void 0)}),h}var l_=U.S;U.S=function(i,o){VS=Ke(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&DR(i,o),l_!==null&&l_(i,o)};var us=I(null);function Qm(){var i=us.current;return i!==null?i:et.pooledCache}function md(i,o){o===null?W(us,us.current):W(us,o.pool)}function c_(){var i=Qm();return i===null?null:{parent:Tt._currentValue,pool:i}}var ko=Error(n(460)),ep=Error(n(474)),pd=Error(n(542)),gd={then:function(){}};function u_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function d_(i,o,c){switch(c=i[c],c===void 0?i.push(o):c!==o&&(o.then(xa,xa),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,h_(i),i;default:if(typeof o.status=="string")o.then(xa,xa);else{if(i=et,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=o,i.status="pending",i.then(function(h){if(o.status==="pending"){var b=o;b.status="fulfilled",b.value=h}},function(h){if(o.status==="pending"){var b=o;b.status="rejected",b.reason=h}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,h_(i),i}throw fs=o,ko}}function ds(i){try{var o=i._init;return o(i._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(fs=c,ko):c}}var fs=null;function f_(){if(fs===null)throw Error(n(459));var i=fs;return fs=null,i}function h_(i){if(i===ko||i===pd)throw Error(n(483))}var jo=null,Wl=0;function vd(i){var o=Wl;return Wl+=1,jo===null&&(jo=[]),d_(jo,i,o)}function Xl(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function yd(i,o){throw o.$$typeof===v?Error(n(525)):(i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function m_(i){function o(F,B){if(i){var Z=F.deletions;Z===null?(F.deletions=[B],F.flags|=16):Z.push(B)}}function c(F,B){if(!i)return null;for(;B!==null;)o(F,B),B=B.sibling;return null}function h(F){for(var B=new Map;F!==null;)F.key!==null?B.set(F.key,F):B.set(F.index,F),F=F.sibling;return B}function b(F,B){return F=_a(F,B),F.index=0,F.sibling=null,F}function w(F,B,Z){return F.index=Z,i?(Z=F.alternate,Z!==null?(Z=Z.index,Z<B?(F.flags|=67108866,B):Z):(F.flags|=67108866,B)):(F.flags|=1048576,B)}function O(F){return i&&F.alternate===null&&(F.flags|=67108866),F}function D(F,B,Z,oe){return B===null||B.tag!==6?(B=qm(Z,F.mode,oe),B.return=F,B):(B=b(B,Z),B.return=F,B)}function z(F,B,Z,oe){var Ne=Z.type;return Ne===k?ie(F,B,Z.props.children,oe,Z.key):B!==null&&(B.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===M&&ds(Ne)===B.type)?(B=b(B,Z.props),Xl(B,Z),B.return=F,B):(B=ud(Z.type,Z.key,Z.props,null,F.mode,oe),Xl(B,Z),B.return=F,B)}function G(F,B,Z,oe){return B===null||B.tag!==4||B.stateNode.containerInfo!==Z.containerInfo||B.stateNode.implementation!==Z.implementation?(B=Hm(Z,F.mode,oe),B.return=F,B):(B=b(B,Z.children||[]),B.return=F,B)}function ie(F,B,Z,oe,Ne){return B===null||B.tag!==7?(B=ss(Z,F.mode,oe,Ne),B.return=F,B):(B=b(B,Z),B.return=F,B)}function ue(F,B,Z){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=qm(""+B,F.mode,Z),B.return=F,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case y:return Z=ud(B.type,B.key,B.props,null,F.mode,Z),Xl(Z,B),Z.return=F,Z;case _:return B=Hm(B,F.mode,Z),B.return=F,B;case M:return B=ds(B),ue(F,B,Z)}if(ae(B)||q(B))return B=ss(B,F.mode,Z,null),B.return=F,B;if(typeof B.then=="function")return ue(F,vd(B),Z);if(B.$$typeof===E)return ue(F,hd(F,B),Z);yd(F,B)}return null}function J(F,B,Z,oe){var Ne=B!==null?B.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Ne!==null?null:D(F,B,""+Z,oe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case y:return Z.key===Ne?z(F,B,Z,oe):null;case _:return Z.key===Ne?G(F,B,Z,oe):null;case M:return Z=ds(Z),J(F,B,Z,oe)}if(ae(Z)||q(Z))return Ne!==null?null:ie(F,B,Z,oe,null);if(typeof Z.then=="function")return J(F,B,vd(Z),oe);if(Z.$$typeof===E)return J(F,B,hd(F,Z),oe);yd(F,Z)}return null}function te(F,B,Z,oe,Ne){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return F=F.get(Z)||null,D(B,F,""+oe,Ne);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case y:return F=F.get(oe.key===null?Z:oe.key)||null,z(B,F,oe,Ne);case _:return F=F.get(oe.key===null?Z:oe.key)||null,G(B,F,oe,Ne);case M:return oe=ds(oe),te(F,B,Z,oe,Ne)}if(ae(oe)||q(oe))return F=F.get(Z)||null,ie(B,F,oe,Ne,null);if(typeof oe.then=="function")return te(F,B,Z,vd(oe),Ne);if(oe.$$typeof===E)return te(F,B,Z,hd(B,oe),Ne);yd(B,oe)}return null}function we(F,B,Z,oe){for(var Ne=null,He=null,_e=B,$e=B=0,Ue=null;_e!==null&&$e<Z.length;$e++){_e.index>$e?(Ue=_e,_e=null):Ue=_e.sibling;var Fe=J(F,_e,Z[$e],oe);if(Fe===null){_e===null&&(_e=Ue);break}i&&_e&&Fe.alternate===null&&o(F,_e),B=w(Fe,B,$e),He===null?Ne=Fe:He.sibling=Fe,He=Fe,_e=Ue}if($e===Z.length)return c(F,_e),qe&&Sa(F,$e),Ne;if(_e===null){for(;$e<Z.length;$e++)_e=ue(F,Z[$e],oe),_e!==null&&(B=w(_e,B,$e),He===null?Ne=_e:He.sibling=_e,He=_e);return qe&&Sa(F,$e),Ne}for(_e=h(_e);$e<Z.length;$e++)Ue=te(_e,F,$e,Z[$e],oe),Ue!==null&&(i&&Ue.alternate!==null&&_e.delete(Ue.key===null?$e:Ue.key),B=w(Ue,B,$e),He===null?Ne=Ue:He.sibling=Ue,He=Ue);return i&&_e.forEach(function(Di){return o(F,Di)}),qe&&Sa(F,$e),Ne}function Te(F,B,Z,oe){if(Z==null)throw Error(n(151));for(var Ne=null,He=null,_e=B,$e=B=0,Ue=null,Fe=Z.next();_e!==null&&!Fe.done;$e++,Fe=Z.next()){_e.index>$e?(Ue=_e,_e=null):Ue=_e.sibling;var Di=J(F,_e,Fe.value,oe);if(Di===null){_e===null&&(_e=Ue);break}i&&_e&&Di.alternate===null&&o(F,_e),B=w(Di,B,$e),He===null?Ne=Di:He.sibling=Di,He=Di,_e=Ue}if(Fe.done)return c(F,_e),qe&&Sa(F,$e),Ne;if(_e===null){for(;!Fe.done;$e++,Fe=Z.next())Fe=ue(F,Fe.value,oe),Fe!==null&&(B=w(Fe,B,$e),He===null?Ne=Fe:He.sibling=Fe,He=Fe);return qe&&Sa(F,$e),Ne}for(_e=h(_e);!Fe.done;$e++,Fe=Z.next())Fe=te(_e,F,$e,Fe.value,oe),Fe!==null&&(i&&Fe.alternate!==null&&_e.delete(Fe.key===null?$e:Fe.key),B=w(Fe,B,$e),He===null?Ne=Fe:He.sibling=Fe,He=Fe);return i&&_e.forEach(function(V$){return o(F,V$)}),qe&&Sa(F,$e),Ne}function Qe(F,B,Z,oe){if(typeof Z=="object"&&Z!==null&&Z.type===k&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case y:e:{for(var Ne=Z.key;B!==null;){if(B.key===Ne){if(Ne=Z.type,Ne===k){if(B.tag===7){c(F,B.sibling),oe=b(B,Z.props.children),oe.return=F,F=oe;break e}}else if(B.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===M&&ds(Ne)===B.type){c(F,B.sibling),oe=b(B,Z.props),Xl(oe,Z),oe.return=F,F=oe;break e}c(F,B);break}else o(F,B);B=B.sibling}Z.type===k?(oe=ss(Z.props.children,F.mode,oe,Z.key),oe.return=F,F=oe):(oe=ud(Z.type,Z.key,Z.props,null,F.mode,oe),Xl(oe,Z),oe.return=F,F=oe)}return O(F);case _:e:{for(Ne=Z.key;B!==null;){if(B.key===Ne)if(B.tag===4&&B.stateNode.containerInfo===Z.containerInfo&&B.stateNode.implementation===Z.implementation){c(F,B.sibling),oe=b(B,Z.children||[]),oe.return=F,F=oe;break e}else{c(F,B);break}else o(F,B);B=B.sibling}oe=Hm(Z,F.mode,oe),oe.return=F,F=oe}return O(F);case M:return Z=ds(Z),Qe(F,B,Z,oe)}if(ae(Z))return we(F,B,Z,oe);if(q(Z)){if(Ne=q(Z),typeof Ne!="function")throw Error(n(150));return Z=Ne.call(Z),Te(F,B,Z,oe)}if(typeof Z.then=="function")return Qe(F,B,vd(Z),oe);if(Z.$$typeof===E)return Qe(F,B,hd(F,Z),oe);yd(F,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,B!==null&&B.tag===6?(c(F,B.sibling),oe=b(B,Z),oe.return=F,F=oe):(c(F,B),oe=qm(Z,F.mode,oe),oe.return=F,F=oe),O(F)):c(F,B)}return function(F,B,Z,oe){try{Wl=0;var Ne=Qe(F,B,Z,oe);return jo=null,Ne}catch(_e){if(_e===ko||_e===pd)throw _e;var He=Xr(29,_e,null,F.mode);return He.lanes=oe,He.return=F,He}finally{}}}var hs=m_(!0),p_=m_(!1),gi=!1;function tp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rp(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function vi(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function yi(i,o,c){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Ze&2)!==0){var b=h.pending;return b===null?o.next=o:(o.next=b.next,b.next=o),h.pending=o,o=cd(i),J1(i,null,c),o}return ld(i,h,o,c),cd(i)}function Jl(i,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var h=o.lanes;h&=i.pendingLanes,c|=h,o.lanes=c,s1(i,c)}}function np(i,o){var c=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var b=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var O={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};w===null?b=w=O:w=w.next=O,c=c.next}while(c!==null);w===null?b=w=o:w=w.next=o}else b=w=o;c={baseState:h.baseState,firstBaseUpdate:b,lastBaseUpdate:w,shared:h.shared,callbacks:h.callbacks},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=o:i.next=o,c.lastBaseUpdate=o}var ap=!1;function Ql(){if(ap){var i=So;if(i!==null)throw i}}function ec(i,o,c,h){ap=!1;var b=i.updateQueue;gi=!1;var w=b.firstBaseUpdate,O=b.lastBaseUpdate,D=b.shared.pending;if(D!==null){b.shared.pending=null;var z=D,G=z.next;z.next=null,O===null?w=G:O.next=G,O=z;var ie=i.alternate;ie!==null&&(ie=ie.updateQueue,D=ie.lastBaseUpdate,D!==O&&(D===null?ie.firstBaseUpdate=G:D.next=G,ie.lastBaseUpdate=z))}if(w!==null){var ue=b.baseState;O=0,ie=G=z=null,D=w;do{var J=D.lane&-536870913,te=J!==D.lane;if(te?(ze&J)===J:(h&J)===J){J!==0&&J===_o&&(ap=!0),ie!==null&&(ie=ie.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var we=i,Te=D;J=o;var Qe=c;switch(Te.tag){case 1:if(we=Te.payload,typeof we=="function"){ue=we.call(Qe,ue,J);break e}ue=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Te.payload,J=typeof we=="function"?we.call(Qe,ue,J):we,J==null)break e;ue=g({},ue,J);break e;case 2:gi=!0}}J=D.callback,J!==null&&(i.flags|=64,te&&(i.flags|=8192),te=b.callbacks,te===null?b.callbacks=[J]:te.push(J))}else te={lane:J,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ie===null?(G=ie=te,z=ue):ie=ie.next=te,O|=J;if(D=D.next,D===null){if(D=b.shared.pending,D===null)break;te=D,D=te.next,te.next=null,b.lastBaseUpdate=te,b.shared.pending=null}}while(!0);ie===null&&(z=ue),b.baseState=z,b.firstBaseUpdate=G,b.lastBaseUpdate=ie,w===null&&(b.shared.lanes=0),Si|=O,i.lanes=O,i.memoizedState=ue}}function g_(i,o){if(typeof i!="function")throw Error(n(191,i));i.call(o)}function v_(i,o){var c=i.callbacks;if(c!==null)for(i.callbacks=null,i=0;i<c.length;i++)g_(c[i],o)}var Eo=I(null),bd=I(0);function y_(i,o){i=Ma,W(bd,i),W(Eo,o),Ma=i|o.baseLanes}function ip(){W(bd,Ma),W(Eo,Eo.current)}function sp(){Ma=bd.current,K(Eo),K(bd)}var Jr=I(null),Sn=null;function bi(i){var o=i.alternate;W(kt,kt.current&1),W(Jr,i),Sn===null&&(o===null||Eo.current!==null||o.memoizedState!==null)&&(Sn=i)}function op(i){W(kt,kt.current),W(Jr,i),Sn===null&&(Sn=i)}function b_(i){i.tag===22?(W(kt,kt.current),W(Jr,i),Sn===null&&(Sn=i)):xi()}function xi(){W(kt,kt.current),W(Jr,Jr.current)}function Qr(i){K(Jr),Sn===i&&(Sn=null),K(kt)}var kt=I(0);function xd(i){for(var o=i;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||hg(c)||mg(c)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Ea=0,Re=null,Xe=null,Ct=null,wd=!1,Oo=!1,ms=!1,_d=0,tc=0,No=null,RR=0;function xt(){throw Error(n(321))}function lp(i,o){if(o===null)return!1;for(var c=0;c<o.length&&c<i.length;c++)if(!Wr(i[c],o[c]))return!1;return!0}function cp(i,o,c,h,b,w){return Ea=w,Re=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,U.H=i===null||i.memoizedState===null?rS:kp,ms=!1,w=c(h,b),ms=!1,Oo&&(w=w_(o,c,h,b)),x_(i),w}function x_(i){U.H=ac;var o=Xe!==null&&Xe.next!==null;if(Ea=0,Ct=Xe=Re=null,wd=!1,tc=0,No=null,o)throw Error(n(300));i===null||Pt||(i=i.dependencies,i!==null&&fd(i)&&(Pt=!0))}function w_(i,o,c,h){Re=i;var b=0;do{if(Oo&&(No=null),tc=0,Oo=!1,25<=b)throw Error(n(301));if(b+=1,Ct=Xe=null,i.updateQueue!=null){var w=i.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}U.H=nS,w=o(c,h)}while(Oo);return w}function $R(){var i=U.H,o=i.useState()[0];return o=typeof o.then=="function"?rc(o):o,i=i.useState()[0],(Xe!==null?Xe.memoizedState:null)!==i&&(Re.flags|=1024),o}function up(){var i=_d!==0;return _d=0,i}function dp(i,o,c){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~c}function fp(i){if(wd){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}wd=!1}Ea=0,Ct=Xe=Re=null,Oo=!1,tc=_d=0,No=null}function kr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Re.memoizedState=Ct=i:Ct=Ct.next=i,Ct}function jt(){if(Xe===null){var i=Re.alternate;i=i!==null?i.memoizedState:null}else i=Xe.next;var o=Ct===null?Re.memoizedState:Ct.next;if(o!==null)Ct=o,Xe=i;else{if(i===null)throw Re.alternate===null?Error(n(467)):Error(n(310));Xe=i,i={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},Ct===null?Re.memoizedState=Ct=i:Ct=Ct.next=i}return Ct}function Sd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rc(i){var o=tc;return tc+=1,No===null&&(No=[]),i=d_(No,i,o),o=Re,(Ct===null?o.memoizedState:Ct.next)===null&&(o=o.alternate,U.H=o===null||o.memoizedState===null?rS:kp),i}function kd(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return rc(i);if(i.$$typeof===E)return er(i)}throw Error(n(438,String(i)))}function hp(i){var o=null,c=Re.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var h=Re.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(o={data:h.data.map(function(b){return b.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=Sd(),Re.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(i),h=0;h<i;h++)c[h]=L;return o.index++,c}function Oa(i,o){return typeof o=="function"?o(i):o}function jd(i){var o=jt();return mp(o,Xe,i)}function mp(i,o,c){var h=i.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=c;var b=i.baseQueue,w=h.pending;if(w!==null){if(b!==null){var O=b.next;b.next=w.next,w.next=O}o.baseQueue=b=w,h.pending=null}if(w=i.baseState,b===null)i.memoizedState=w;else{o=b.next;var D=O=null,z=null,G=o,ie=!1;do{var ue=G.lane&-536870913;if(ue!==G.lane?(ze&ue)===ue:(Ea&ue)===ue){var J=G.revertLane;if(J===0)z!==null&&(z=z.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),ue===_o&&(ie=!0);else if((Ea&J)===J){G=G.next,J===_o&&(ie=!0);continue}else ue={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},z===null?(D=z=ue,O=w):z=z.next=ue,Re.lanes|=J,Si|=J;ue=G.action,ms&&c(w,ue),w=G.hasEagerState?G.eagerState:c(w,ue)}else J={lane:ue,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},z===null?(D=z=J,O=w):z=z.next=J,Re.lanes|=ue,Si|=ue;G=G.next}while(G!==null&&G!==o);if(z===null?O=w:z.next=D,!Wr(w,i.memoizedState)&&(Pt=!0,ie&&(c=So,c!==null)))throw c;i.memoizedState=w,i.baseState=O,i.baseQueue=z,h.lastRenderedState=w}return b===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function pp(i){var o=jt(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=i;var h=c.dispatch,b=c.pending,w=o.memoizedState;if(b!==null){c.pending=null;var O=b=b.next;do w=i(w,O.action),O=O.next;while(O!==b);Wr(w,o.memoizedState)||(Pt=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),c.lastRenderedState=w}return[w,h]}function __(i,o,c){var h=Re,b=jt(),w=qe;if(w){if(c===void 0)throw Error(n(407));c=c()}else c=o();var O=!Wr((Xe||b).memoizedState,c);if(O&&(b.memoizedState=c,Pt=!0),b=b.queue,yp(j_.bind(null,h,b,i),[i]),b.getSnapshot!==o||O||Ct!==null&&Ct.memoizedState.tag&1){if(h.flags|=2048,Ao(9,{destroy:void 0},k_.bind(null,h,b,c,o),null),et===null)throw Error(n(349));w||(Ea&127)!==0||S_(h,o,c)}return c}function S_(i,o,c){i.flags|=16384,i={getSnapshot:o,value:c},o=Re.updateQueue,o===null?(o=Sd(),Re.updateQueue=o,o.stores=[i]):(c=o.stores,c===null?o.stores=[i]:c.push(i))}function k_(i,o,c,h){o.value=c,o.getSnapshot=h,E_(o)&&O_(i)}function j_(i,o,c){return c(function(){E_(o)&&O_(i)})}function E_(i){var o=i.getSnapshot;i=i.value;try{var c=o();return!Wr(i,c)}catch{return!0}}function O_(i){var o=is(i,2);o!==null&&zr(o,i,2)}function gp(i){var o=kr();if(typeof i=="function"){var c=i;if(i=c(),ms){Yr(!0);try{c()}finally{Yr(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oa,lastRenderedState:i},o}function N_(i,o,c,h){return i.baseState=c,mp(i,Xe,typeof h=="function"?h:Oa)}function LR(i,o,c,h,b){if(Nd(i))throw Error(n(485));if(i=o.action,i!==null){var w={payload:b,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){w.listeners.push(O)}};U.T!==null?c(!0):w.isTransition=!1,h(w),c=o.pending,c===null?(w.next=o.pending=w,A_(o,w)):(w.next=c.next,o.pending=c.next=w)}}function A_(i,o){var c=o.action,h=o.payload,b=i.state;if(o.isTransition){var w=U.T,O={};U.T=O;try{var D=c(b,h),z=U.S;z!==null&&z(O,D),T_(i,o,D)}catch(G){vp(i,o,G)}finally{w!==null&&O.types!==null&&(w.types=O.types),U.T=w}}else try{w=c(b,h),T_(i,o,w)}catch(G){vp(i,o,G)}}function T_(i,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){C_(i,o,h)},function(h){return vp(i,o,h)}):C_(i,o,c)}function C_(i,o,c){o.status="fulfilled",o.value=c,P_(o),i.state=c,o=i.pending,o!==null&&(c=o.next,c===o?i.pending=null:(c=c.next,o.next=c,A_(i,c)))}function vp(i,o,c){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do o.status="rejected",o.reason=c,P_(o),o=o.next;while(o!==h)}i.action=null}function P_(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function D_(i,o){return o}function M_(i,o){if(qe){var c=et.formState;if(c!==null){e:{var h=Re;if(qe){if(lt){t:{for(var b=lt,w=_n;b.nodeType!==8;){if(!w){b=null;break t}if(b=kn(b.nextSibling),b===null){b=null;break t}}w=b.data,b=w==="F!"||w==="F"?b:null}if(b){lt=kn(b.nextSibling),h=b.data==="F!";break e}}mi(h)}h=!1}h&&(o=c[0])}}return c=kr(),c.memoizedState=c.baseState=o,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:D_,lastRenderedState:o},c.queue=h,c=Q_.bind(null,Re,h),h.dispatch=c,h=gp(!1),w=Sp.bind(null,Re,!1,h.queue),h=kr(),b={state:o,dispatch:null,action:i,pending:null},h.queue=b,c=LR.bind(null,Re,b,w,c),b.dispatch=c,h.memoizedState=i,[o,c,!1]}function R_(i){var o=jt();return $_(o,Xe,i)}function $_(i,o,c){if(o=mp(i,o,D_)[0],i=jd(Oa)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var h=rc(o)}catch(O){throw O===ko?pd:O}else h=o;o=jt();var b=o.queue,w=b.dispatch;return c!==o.memoizedState&&(Re.flags|=2048,Ao(9,{destroy:void 0},IR.bind(null,b,c),null)),[h,w,i]}function IR(i,o){i.action=o}function L_(i){var o=jt(),c=Xe;if(c!==null)return $_(o,c,i);jt(),o=o.memoizedState,c=jt();var h=c.queue.dispatch;return c.memoizedState=i,[o,h,!1]}function Ao(i,o,c,h){return i={tag:i,create:c,deps:h,inst:o,next:null},o=Re.updateQueue,o===null&&(o=Sd(),Re.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=i.next=i:(h=c.next,c.next=i,i.next=h,o.lastEffect=i),i}function I_(){return jt().memoizedState}function Ed(i,o,c,h){var b=kr();Re.flags|=i,b.memoizedState=Ao(1|o,{destroy:void 0},c,h===void 0?null:h)}function Od(i,o,c,h){var b=jt();h=h===void 0?null:h;var w=b.memoizedState.inst;Xe!==null&&h!==null&&lp(h,Xe.memoizedState.deps)?b.memoizedState=Ao(o,w,c,h):(Re.flags|=i,b.memoizedState=Ao(1|o,w,c,h))}function z_(i,o){Ed(8390656,8,i,o)}function yp(i,o){Od(2048,8,i,o)}function zR(i){Re.flags|=4;var o=Re.updateQueue;if(o===null)o=Sd(),Re.updateQueue=o,o.events=[i];else{var c=o.events;c===null?o.events=[i]:c.push(i)}}function U_(i){var o=jt().memoizedState;return zR({ref:o,nextImpl:i}),function(){if((Ze&2)!==0)throw Error(n(440));return o.impl.apply(void 0,arguments)}}function B_(i,o){return Od(4,2,i,o)}function q_(i,o){return Od(4,4,i,o)}function H_(i,o){if(typeof o=="function"){i=i();var c=o(i);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function F_(i,o,c){c=c!=null?c.concat([i]):null,Od(4,4,H_.bind(null,o,i),c)}function bp(){}function V_(i,o){var c=jt();o=o===void 0?null:o;var h=c.memoizedState;return o!==null&&lp(o,h[1])?h[0]:(c.memoizedState=[i,o],i)}function K_(i,o){var c=jt();o=o===void 0?null:o;var h=c.memoizedState;if(o!==null&&lp(o,h[1]))return h[0];if(h=i(),ms){Yr(!0);try{i()}finally{Yr(!1)}}return c.memoizedState=[h,o],h}function xp(i,o,c){return c===void 0||(Ea&1073741824)!==0&&(ze&261930)===0?i.memoizedState=o:(i.memoizedState=c,i=ZS(),Re.lanes|=i,Si|=i,c)}function Z_(i,o,c,h){return Wr(c,o)?c:Eo.current!==null?(i=xp(i,c,h),Wr(i,o)||(Pt=!0),i):(Ea&42)===0||(Ea&1073741824)!==0&&(ze&261930)===0?(Pt=!0,i.memoizedState=c):(i=ZS(),Re.lanes|=i,Si|=i,o)}function G_(i,o,c,h,b){var w=Y.p;Y.p=w!==0&&8>w?w:8;var O=U.T,D={};U.T=D,Sp(i,!1,o,c);try{var z=b(),G=U.S;if(G!==null&&G(D,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var ie=MR(z,h);nc(i,o,ie,rn(i))}else nc(i,o,h,rn(i))}catch(ue){nc(i,o,{then:function(){},status:"rejected",reason:ue},rn())}finally{Y.p=w,O!==null&&D.types!==null&&(O.types=D.types),U.T=O}}function UR(){}function wp(i,o,c,h){if(i.tag!==5)throw Error(n(476));var b=Y_(i).queue;G_(i,b,o,ee,c===null?UR:function(){return W_(i),c(h)})}function Y_(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oa,lastRenderedState:ee},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oa,lastRenderedState:c},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function W_(i){var o=Y_(i);o.next===null&&(o=i.alternate.memoizedState),nc(i,o.next.queue,{},rn())}function _p(){return er(xc)}function X_(){return jt().memoizedState}function J_(){return jt().memoizedState}function BR(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var c=rn();i=vi(c);var h=yi(o,i,c);h!==null&&(zr(h,o,c),Jl(h,o,c)),o={cache:Xm()},i.payload=o;return}o=o.return}}function qR(i,o,c){var h=rn();c={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Nd(i)?eS(o,c):(c=Um(i,o,c,h),c!==null&&(zr(c,i,h),tS(c,o,h)))}function Q_(i,o,c){var h=rn();nc(i,o,c,h)}function nc(i,o,c,h){var b={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Nd(i))eS(o,b);else{var w=i.alternate;if(i.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var O=o.lastRenderedState,D=w(O,c);if(b.hasEagerState=!0,b.eagerState=D,Wr(D,O))return ld(i,o,b,0),et===null&&od(),!1}catch{}finally{}if(c=Um(i,o,b,h),c!==null)return zr(c,i,h),tS(c,o,h),!0}return!1}function Sp(i,o,c,h){if(h={lane:2,revertLane:tg(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Nd(i)){if(o)throw Error(n(479))}else o=Um(i,c,h,2),o!==null&&zr(o,i,2)}function Nd(i){var o=i.alternate;return i===Re||o!==null&&o===Re}function eS(i,o){Oo=wd=!0;var c=i.pending;c===null?o.next=o:(o.next=c.next,c.next=o),i.pending=o}function tS(i,o,c){if((c&4194048)!==0){var h=o.lanes;h&=i.pendingLanes,c|=h,o.lanes=c,s1(i,c)}}var ac={readContext:er,use:kd,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt};ac.useEffectEvent=xt;var rS={readContext:er,use:kd,useCallback:function(i,o){return kr().memoizedState=[i,o===void 0?null:o],i},useContext:er,useEffect:z_,useImperativeHandle:function(i,o,c){c=c!=null?c.concat([i]):null,Ed(4194308,4,H_.bind(null,o,i),c)},useLayoutEffect:function(i,o){return Ed(4194308,4,i,o)},useInsertionEffect:function(i,o){Ed(4,2,i,o)},useMemo:function(i,o){var c=kr();o=o===void 0?null:o;var h=i();if(ms){Yr(!0);try{i()}finally{Yr(!1)}}return c.memoizedState=[h,o],h},useReducer:function(i,o,c){var h=kr();if(c!==void 0){var b=c(o);if(ms){Yr(!0);try{c(o)}finally{Yr(!1)}}}else b=o;return h.memoizedState=h.baseState=b,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:b},h.queue=i,i=i.dispatch=qR.bind(null,Re,i),[h.memoizedState,i]},useRef:function(i){var o=kr();return i={current:i},o.memoizedState=i},useState:function(i){i=gp(i);var o=i.queue,c=Q_.bind(null,Re,o);return o.dispatch=c,[i.memoizedState,c]},useDebugValue:bp,useDeferredValue:function(i,o){var c=kr();return xp(c,i,o)},useTransition:function(){var i=gp(!1);return i=G_.bind(null,Re,i.queue,!0,!1),kr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,c){var h=Re,b=kr();if(qe){if(c===void 0)throw Error(n(407));c=c()}else{if(c=o(),et===null)throw Error(n(349));(ze&127)!==0||S_(h,o,c)}b.memoizedState=c;var w={value:c,getSnapshot:o};return b.queue=w,z_(j_.bind(null,h,w,i),[i]),h.flags|=2048,Ao(9,{destroy:void 0},k_.bind(null,h,w,c,o),null),c},useId:function(){var i=kr(),o=et.identifierPrefix;if(qe){var c=ta,h=ea;c=(h&~(1<<32-hr(h)-1)).toString(32)+c,o="_"+o+"R_"+c,c=_d++,0<c&&(o+="H"+c.toString(32)),o+="_"}else c=RR++,o="_"+o+"r_"+c.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:_p,useFormState:M_,useActionState:M_,useOptimistic:function(i){var o=kr();o.memoizedState=o.baseState=i;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=Sp.bind(null,Re,!0,c),c.dispatch=o,[i,o]},useMemoCache:hp,useCacheRefresh:function(){return kr().memoizedState=BR.bind(null,Re)},useEffectEvent:function(i){var o=kr(),c={impl:i};return o.memoizedState=c,function(){if((Ze&2)!==0)throw Error(n(440));return c.impl.apply(void 0,arguments)}}},kp={readContext:er,use:kd,useCallback:V_,useContext:er,useEffect:yp,useImperativeHandle:F_,useInsertionEffect:B_,useLayoutEffect:q_,useMemo:K_,useReducer:jd,useRef:I_,useState:function(){return jd(Oa)},useDebugValue:bp,useDeferredValue:function(i,o){var c=jt();return Z_(c,Xe.memoizedState,i,o)},useTransition:function(){var i=jd(Oa)[0],o=jt().memoizedState;return[typeof i=="boolean"?i:rc(i),o]},useSyncExternalStore:__,useId:X_,useHostTransitionStatus:_p,useFormState:R_,useActionState:R_,useOptimistic:function(i,o){var c=jt();return N_(c,Xe,i,o)},useMemoCache:hp,useCacheRefresh:J_};kp.useEffectEvent=U_;var nS={readContext:er,use:kd,useCallback:V_,useContext:er,useEffect:yp,useImperativeHandle:F_,useInsertionEffect:B_,useLayoutEffect:q_,useMemo:K_,useReducer:pp,useRef:I_,useState:function(){return pp(Oa)},useDebugValue:bp,useDeferredValue:function(i,o){var c=jt();return Xe===null?xp(c,i,o):Z_(c,Xe.memoizedState,i,o)},useTransition:function(){var i=pp(Oa)[0],o=jt().memoizedState;return[typeof i=="boolean"?i:rc(i),o]},useSyncExternalStore:__,useId:X_,useHostTransitionStatus:_p,useFormState:L_,useActionState:L_,useOptimistic:function(i,o){var c=jt();return Xe!==null?N_(c,Xe,i,o):(c.baseState=i,[i,c.queue.dispatch])},useMemoCache:hp,useCacheRefresh:J_};nS.useEffectEvent=U_;function jp(i,o,c,h){o=i.memoizedState,c=c(h,o),c=c==null?o:g({},o,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var Ep={enqueueSetState:function(i,o,c){i=i._reactInternals;var h=rn(),b=vi(h);b.payload=o,c!=null&&(b.callback=c),o=yi(i,b,h),o!==null&&(zr(o,i,h),Jl(o,i,h))},enqueueReplaceState:function(i,o,c){i=i._reactInternals;var h=rn(),b=vi(h);b.tag=1,b.payload=o,c!=null&&(b.callback=c),o=yi(i,b,h),o!==null&&(zr(o,i,h),Jl(o,i,h))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var c=rn(),h=vi(c);h.tag=2,o!=null&&(h.callback=o),o=yi(i,h,c),o!==null&&(zr(o,i,c),Jl(o,i,c))}};function aS(i,o,c,h,b,w,O){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,w,O):o.prototype&&o.prototype.isPureReactComponent?!Fl(c,h)||!Fl(b,w):!0}function iS(i,o,c,h){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,h),o.state!==i&&Ep.enqueueReplaceState(o,o.state,null)}function ps(i,o){var c=o;if("ref"in o){c={};for(var h in o)h!=="ref"&&(c[h]=o[h])}if(i=i.defaultProps){c===o&&(c=g({},c));for(var b in i)c[b]===void 0&&(c[b]=i[b])}return c}function sS(i){sd(i)}function oS(i){console.error(i)}function lS(i){sd(i)}function Ad(i,o){try{var c=i.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(h){setTimeout(function(){throw h})}}function cS(i,o,c){try{var h=i.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function Op(i,o,c){return c=vi(c),c.tag=3,c.payload={element:null},c.callback=function(){Ad(i,o)},c}function uS(i){return i=vi(i),i.tag=3,i}function dS(i,o,c,h){var b=c.type.getDerivedStateFromError;if(typeof b=="function"){var w=h.value;i.payload=function(){return b(w)},i.callback=function(){cS(o,c,h)}}var O=c.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(i.callback=function(){cS(o,c,h),typeof b!="function"&&(ki===null?ki=new Set([this]):ki.add(this));var D=h.stack;this.componentDidCatch(h.value,{componentStack:D!==null?D:""})})}function HR(i,o,c,h,b){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(o=c.alternate,o!==null&&wo(o,c,b,!0),c=Jr.current,c!==null){switch(c.tag){case 31:case 13:return Sn===null?Bd():c.alternate===null&&wt===0&&(wt=3),c.flags&=-257,c.flags|=65536,c.lanes=b,h===gd?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([h]):o.add(h),Jp(i,h,b)),!1;case 22:return c.flags|=65536,h===gd?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([h]):c.add(h)),Jp(i,h,b)),!1}throw Error(n(435,c.tag))}return Jp(i,h,b),Bd(),!1}if(qe)return o=Jr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=b,h!==Km&&(i=Error(n(422),{cause:h}),Zl(bn(i,c)))):(h!==Km&&(o=Error(n(423),{cause:h}),Zl(bn(o,c))),i=i.current.alternate,i.flags|=65536,b&=-b,i.lanes|=b,h=bn(h,c),b=Op(i.stateNode,h,b),np(i,b),wt!==4&&(wt=2)),!1;var w=Error(n(520),{cause:h});if(w=bn(w,c),fc===null?fc=[w]:fc.push(w),wt!==4&&(wt=2),o===null)return!0;h=bn(h,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,i=b&-b,c.lanes|=i,i=Op(c.stateNode,h,i),np(c,i),!1;case 1:if(o=c.type,w=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ki===null||!ki.has(w))))return c.flags|=65536,b&=-b,c.lanes|=b,b=uS(b),dS(b,i,c,h),np(c,b),!1}c=c.return}while(c!==null);return!1}var Np=Error(n(461)),Pt=!1;function tr(i,o,c,h){o.child=i===null?p_(o,null,c,h):hs(o,i.child,c,h)}function fS(i,o,c,h,b){c=c.render;var w=o.ref;if("ref"in h){var O={};for(var D in h)D!=="ref"&&(O[D]=h[D])}else O=h;return cs(o),h=cp(i,o,c,O,w,b),D=up(),i!==null&&!Pt?(dp(i,o,b),Na(i,o,b)):(qe&&D&&Fm(o),o.flags|=1,tr(i,o,h,b),o.child)}function hS(i,o,c,h,b){if(i===null){var w=c.type;return typeof w=="function"&&!Bm(w)&&w.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=w,mS(i,o,w,h,b)):(i=ud(c.type,null,h,o,o.mode,b),i.ref=o.ref,i.return=o,o.child=i)}if(w=i.child,!$p(i,b)){var O=w.memoizedProps;if(c=c.compare,c=c!==null?c:Fl,c(O,h)&&i.ref===o.ref)return Na(i,o,b)}return o.flags|=1,i=_a(w,h),i.ref=o.ref,i.return=o,o.child=i}function mS(i,o,c,h,b){if(i!==null){var w=i.memoizedProps;if(Fl(w,h)&&i.ref===o.ref)if(Pt=!1,o.pendingProps=h=w,$p(i,b))(i.flags&131072)!==0&&(Pt=!0);else return o.lanes=i.lanes,Na(i,o,b)}return Ap(i,o,c,h,b)}function pS(i,o,c,h){var b=h.children,w=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((o.flags&128)!==0){if(w=w!==null?w.baseLanes|c:c,i!==null){for(h=o.child=i.child,b=0;h!==null;)b=b|h.lanes|h.childLanes,h=h.sibling;h=b&~w}else h=0,o.child=null;return gS(i,o,w,c,h)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&md(o,w!==null?w.cachePool:null),w!==null?y_(o,w):ip(),b_(o);else return h=o.lanes=536870912,gS(i,o,w!==null?w.baseLanes|c:c,c,h)}else w!==null?(md(o,w.cachePool),y_(o,w),xi(),o.memoizedState=null):(i!==null&&md(o,null),ip(),xi());return tr(i,o,b,c),o.child}function ic(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function gS(i,o,c,h,b){var w=Qm();return w=w===null?null:{parent:Tt._currentValue,pool:w},o.memoizedState={baseLanes:c,cachePool:w},i!==null&&md(o,null),ip(),b_(o),i!==null&&wo(i,o,h,!0),o.childLanes=b,null}function Td(i,o){return o=Pd({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function vS(i,o,c){return hs(o,i.child,null,c),i=Td(o,o.pendingProps),i.flags|=2,Qr(o),o.memoizedState=null,i}function FR(i,o,c){var h=o.pendingProps,b=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(qe){if(h.mode==="hidden")return i=Td(o,h),o.lanes=536870912,ic(null,i);if(op(o),(i=lt)?(i=Ak(i,_n),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:fi!==null?{id:ea,overflow:ta}:null,retryLane:536870912,hydrationErrors:null},c=e_(i),c.return=o,o.child=c,Qt=o,lt=null)):i=null,i===null)throw mi(o);return o.lanes=536870912,null}return Td(o,h)}var w=i.memoizedState;if(w!==null){var O=w.dehydrated;if(op(o),b)if(o.flags&256)o.flags&=-257,o=vS(i,o,c);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(n(558));else if(Pt||wo(i,o,c,!1),b=(c&i.childLanes)!==0,Pt||b){if(h=et,h!==null&&(O=o1(h,c),O!==0&&O!==w.retryLane))throw w.retryLane=O,is(i,O),zr(h,i,O),Np;Bd(),o=vS(i,o,c)}else i=w.treeContext,lt=kn(O.nextSibling),Qt=o,qe=!0,hi=null,_n=!1,i!==null&&n_(o,i),o=Td(o,h),o.flags|=4096;return o}return i=_a(i.child,{mode:h.mode,children:h.children}),i.ref=o.ref,o.child=i,i.return=o,i}function Cd(i,o){var c=o.ref;if(c===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(n(284));(i===null||i.ref!==c)&&(o.flags|=4194816)}}function Ap(i,o,c,h,b){return cs(o),c=cp(i,o,c,h,void 0,b),h=up(),i!==null&&!Pt?(dp(i,o,b),Na(i,o,b)):(qe&&h&&Fm(o),o.flags|=1,tr(i,o,c,b),o.child)}function yS(i,o,c,h,b,w){return cs(o),o.updateQueue=null,c=w_(o,h,c,b),x_(i),h=up(),i!==null&&!Pt?(dp(i,o,w),Na(i,o,w)):(qe&&h&&Fm(o),o.flags|=1,tr(i,o,c,w),o.child)}function bS(i,o,c,h,b){if(cs(o),o.stateNode===null){var w=vo,O=c.contextType;typeof O=="object"&&O!==null&&(w=er(O)),w=new c(h,w),o.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Ep,o.stateNode=w,w._reactInternals=o,w=o.stateNode,w.props=h,w.state=o.memoizedState,w.refs={},tp(o),O=c.contextType,w.context=typeof O=="object"&&O!==null?er(O):vo,w.state=o.memoizedState,O=c.getDerivedStateFromProps,typeof O=="function"&&(jp(o,c,O,h),w.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(O=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),O!==w.state&&Ep.enqueueReplaceState(w,w.state,null),ec(o,h,w,b),Ql(),w.state=o.memoizedState),typeof w.componentDidMount=="function"&&(o.flags|=4194308),h=!0}else if(i===null){w=o.stateNode;var D=o.memoizedProps,z=ps(c,D);w.props=z;var G=w.context,ie=c.contextType;O=vo,typeof ie=="object"&&ie!==null&&(O=er(ie));var ue=c.getDerivedStateFromProps;ie=typeof ue=="function"||typeof w.getSnapshotBeforeUpdate=="function",D=o.pendingProps!==D,ie||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(D||G!==O)&&iS(o,w,h,O),gi=!1;var J=o.memoizedState;w.state=J,ec(o,h,w,b),Ql(),G=o.memoizedState,D||J!==G||gi?(typeof ue=="function"&&(jp(o,c,ue,h),G=o.memoizedState),(z=gi||aS(o,c,z,h,J,G,O))?(ie||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(o.flags|=4194308)):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=G),w.props=h,w.state=G,w.context=O,h=z):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{w=o.stateNode,rp(i,o),O=o.memoizedProps,ie=ps(c,O),w.props=ie,ue=o.pendingProps,J=w.context,G=c.contextType,z=vo,typeof G=="object"&&G!==null&&(z=er(G)),D=c.getDerivedStateFromProps,(G=typeof D=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(O!==ue||J!==z)&&iS(o,w,h,z),gi=!1,J=o.memoizedState,w.state=J,ec(o,h,w,b),Ql();var te=o.memoizedState;O!==ue||J!==te||gi||i!==null&&i.dependencies!==null&&fd(i.dependencies)?(typeof D=="function"&&(jp(o,c,D,h),te=o.memoizedState),(ie=gi||aS(o,c,ie,h,J,te,z)||i!==null&&i.dependencies!==null&&fd(i.dependencies))?(G||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,te,z),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,te,z)),typeof w.componentDidUpdate=="function"&&(o.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof w.componentDidUpdate!="function"||O===i.memoizedProps&&J===i.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&J===i.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=te),w.props=h,w.state=te,w.context=z,h=ie):(typeof w.componentDidUpdate!="function"||O===i.memoizedProps&&J===i.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&J===i.memoizedState||(o.flags|=1024),h=!1)}return w=h,Cd(i,o),h=(o.flags&128)!==0,w||h?(w=o.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:w.render(),o.flags|=1,i!==null&&h?(o.child=hs(o,i.child,null,b),o.child=hs(o,null,c,b)):tr(i,o,c,b),o.memoizedState=w.state,i=o.child):i=Na(i,o,b),i}function xS(i,o,c,h){return os(),o.flags|=256,tr(i,o,c,h),o.child}var Tp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cp(i){return{baseLanes:i,cachePool:c_()}}function Pp(i,o,c){return i=i!==null?i.childLanes&~c:0,o&&(i|=tn),i}function wS(i,o,c){var h=o.pendingProps,b=!1,w=(o.flags&128)!==0,O;if((O=w)||(O=i!==null&&i.memoizedState===null?!1:(kt.current&2)!==0),O&&(b=!0,o.flags&=-129),O=(o.flags&32)!==0,o.flags&=-33,i===null){if(qe){if(b?bi(o):xi(),(i=lt)?(i=Ak(i,_n),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:fi!==null?{id:ea,overflow:ta}:null,retryLane:536870912,hydrationErrors:null},c=e_(i),c.return=o,o.child=c,Qt=o,lt=null)):i=null,i===null)throw mi(o);return mg(i)?o.lanes=32:o.lanes=536870912,null}var D=h.children;return h=h.fallback,b?(xi(),b=o.mode,D=Pd({mode:"hidden",children:D},b),h=ss(h,b,c,null),D.return=o,h.return=o,D.sibling=h,o.child=D,h=o.child,h.memoizedState=Cp(c),h.childLanes=Pp(i,O,c),o.memoizedState=Tp,ic(null,h)):(bi(o),Dp(o,D))}var z=i.memoizedState;if(z!==null&&(D=z.dehydrated,D!==null)){if(w)o.flags&256?(bi(o),o.flags&=-257,o=Mp(i,o,c)):o.memoizedState!==null?(xi(),o.child=i.child,o.flags|=128,o=null):(xi(),D=h.fallback,b=o.mode,h=Pd({mode:"visible",children:h.children},b),D=ss(D,b,c,null),D.flags|=2,h.return=o,D.return=o,h.sibling=D,o.child=h,hs(o,i.child,null,c),h=o.child,h.memoizedState=Cp(c),h.childLanes=Pp(i,O,c),o.memoizedState=Tp,o=ic(null,h));else if(bi(o),mg(D)){if(O=D.nextSibling&&D.nextSibling.dataset,O)var G=O.dgst;O=G,h=Error(n(419)),h.stack="",h.digest=O,Zl({value:h,source:null,stack:null}),o=Mp(i,o,c)}else if(Pt||wo(i,o,c,!1),O=(c&i.childLanes)!==0,Pt||O){if(O=et,O!==null&&(h=o1(O,c),h!==0&&h!==z.retryLane))throw z.retryLane=h,is(i,h),zr(O,i,h),Np;hg(D)||Bd(),o=Mp(i,o,c)}else hg(D)?(o.flags|=192,o.child=i.child,o=null):(i=z.treeContext,lt=kn(D.nextSibling),Qt=o,qe=!0,hi=null,_n=!1,i!==null&&n_(o,i),o=Dp(o,h.children),o.flags|=4096);return o}return b?(xi(),D=h.fallback,b=o.mode,z=i.child,G=z.sibling,h=_a(z,{mode:"hidden",children:h.children}),h.subtreeFlags=z.subtreeFlags&65011712,G!==null?D=_a(G,D):(D=ss(D,b,c,null),D.flags|=2),D.return=o,h.return=o,h.sibling=D,o.child=h,ic(null,h),h=o.child,D=i.child.memoizedState,D===null?D=Cp(c):(b=D.cachePool,b!==null?(z=Tt._currentValue,b=b.parent!==z?{parent:z,pool:z}:b):b=c_(),D={baseLanes:D.baseLanes|c,cachePool:b}),h.memoizedState=D,h.childLanes=Pp(i,O,c),o.memoizedState=Tp,ic(i.child,h)):(bi(o),c=i.child,i=c.sibling,c=_a(c,{mode:"visible",children:h.children}),c.return=o,c.sibling=null,i!==null&&(O=o.deletions,O===null?(o.deletions=[i],o.flags|=16):O.push(i)),o.child=c,o.memoizedState=null,c)}function Dp(i,o){return o=Pd({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function Pd(i,o){return i=Xr(22,i,null,o),i.lanes=0,i}function Mp(i,o,c){return hs(o,i.child,null,c),i=Dp(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function _S(i,o,c){i.lanes|=o;var h=i.alternate;h!==null&&(h.lanes|=o),Ym(i.return,o,c)}function Rp(i,o,c,h,b,w){var O=i.memoizedState;O===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:b,treeForkCount:w}:(O.isBackwards=o,O.rendering=null,O.renderingStartTime=0,O.last=h,O.tail=c,O.tailMode=b,O.treeForkCount=w)}function SS(i,o,c){var h=o.pendingProps,b=h.revealOrder,w=h.tail;h=h.children;var O=kt.current,D=(O&2)!==0;if(D?(O=O&1|2,o.flags|=128):O&=1,W(kt,O),tr(i,o,h,c),h=qe?Kl:0,!D&&i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&_S(i,c,o);else if(i.tag===19)_S(i,c,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(b){case"forwards":for(c=o.child,b=null;c!==null;)i=c.alternate,i!==null&&xd(i)===null&&(b=c),c=c.sibling;c=b,c===null?(b=o.child,o.child=null):(b=c.sibling,c.sibling=null),Rp(o,!1,b,c,w,h);break;case"backwards":case"unstable_legacy-backwards":for(c=null,b=o.child,o.child=null;b!==null;){if(i=b.alternate,i!==null&&xd(i)===null){o.child=b;break}i=b.sibling,b.sibling=c,c=b,b=i}Rp(o,!0,c,null,w,h);break;case"together":Rp(o,!1,null,null,void 0,h);break;default:o.memoizedState=null}return o.child}function Na(i,o,c){if(i!==null&&(o.dependencies=i.dependencies),Si|=o.lanes,(c&o.childLanes)===0)if(i!==null){if(wo(i,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,c=_a(i,i.pendingProps),o.child=c,c.return=o;i.sibling!==null;)i=i.sibling,c=c.sibling=_a(i,i.pendingProps),c.return=o;c.sibling=null}return o.child}function $p(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&fd(i)))}function VR(i,o,c){switch(o.tag){case 3:Se(o,o.stateNode.containerInfo),pi(o,Tt,i.memoizedState.cache),os();break;case 27:case 5:me(o);break;case 4:Se(o,o.stateNode.containerInfo);break;case 10:pi(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,op(o),null;break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(bi(o),o.flags|=128,null):(c&o.child.childLanes)!==0?wS(i,o,c):(bi(o),i=Na(i,o,c),i!==null?i.sibling:null);bi(o);break;case 19:var b=(i.flags&128)!==0;if(h=(c&o.childLanes)!==0,h||(wo(i,o,c,!1),h=(c&o.childLanes)!==0),b){if(h)return SS(i,o,c);o.flags|=128}if(b=o.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),W(kt,kt.current),h)break;return null;case 22:return o.lanes=0,pS(i,o,c,o.pendingProps);case 24:pi(o,Tt,i.memoizedState.cache)}return Na(i,o,c)}function kS(i,o,c){if(i!==null)if(i.memoizedProps!==o.pendingProps)Pt=!0;else{if(!$p(i,c)&&(o.flags&128)===0)return Pt=!1,VR(i,o,c);Pt=(i.flags&131072)!==0}else Pt=!1,qe&&(o.flags&1048576)!==0&&r_(o,Kl,o.index);switch(o.lanes=0,o.tag){case 16:e:{var h=o.pendingProps;if(i=ds(o.elementType),o.type=i,typeof i=="function")Bm(i)?(h=ps(i,h),o.tag=1,o=bS(null,o,i,h,c)):(o.tag=0,o=Ap(null,o,i,h,c));else{if(i!=null){var b=i.$$typeof;if(b===C){o.tag=11,o=fS(null,o,i,h,c);break e}else if(b===P){o.tag=14,o=hS(null,o,i,h,c);break e}}throw o=Q(i)||i,Error(n(306,o,""))}}return o;case 0:return Ap(i,o,o.type,o.pendingProps,c);case 1:return h=o.type,b=ps(h,o.pendingProps),bS(i,o,h,b,c);case 3:e:{if(Se(o,o.stateNode.containerInfo),i===null)throw Error(n(387));h=o.pendingProps;var w=o.memoizedState;b=w.element,rp(i,o),ec(o,h,null,c);var O=o.memoizedState;if(h=O.cache,pi(o,Tt,h),h!==w.cache&&Wm(o,[Tt],c,!0),Ql(),h=O.element,w.isDehydrated)if(w={element:h,isDehydrated:!1,cache:O.cache},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){o=xS(i,o,h,c);break e}else if(h!==b){b=bn(Error(n(424)),o),Zl(b),o=xS(i,o,h,c);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(lt=kn(i.firstChild),Qt=o,qe=!0,hi=null,_n=!0,c=p_(o,null,h,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(os(),h===b){o=Na(i,o,c);break e}tr(i,o,h,c)}o=o.child}return o;case 26:return Cd(i,o),i===null?(c=Rk(o.type,null,o.pendingProps,null))?o.memoizedState=c:qe||(c=o.type,i=o.pendingProps,h=Gd(ce.current).createElement(c),h[Jt]=o,h[Dr]=i,rr(h,c,i),Kt(h),o.stateNode=h):o.memoizedState=Rk(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return me(o),i===null&&qe&&(h=o.stateNode=Pk(o.type,o.pendingProps,ce.current),Qt=o,_n=!0,b=lt,Ni(o.type)?(pg=b,lt=kn(h.firstChild)):lt=b),tr(i,o,o.pendingProps.children,c),Cd(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&qe&&((b=h=lt)&&(h=w$(h,o.type,o.pendingProps,_n),h!==null?(o.stateNode=h,Qt=o,lt=kn(h.firstChild),_n=!1,b=!0):b=!1),b||mi(o)),me(o),b=o.type,w=o.pendingProps,O=i!==null?i.memoizedProps:null,h=w.children,ug(b,w)?h=null:O!==null&&ug(b,O)&&(o.flags|=32),o.memoizedState!==null&&(b=cp(i,o,$R,null,null,c),xc._currentValue=b),Cd(i,o),tr(i,o,h,c),o.child;case 6:return i===null&&qe&&((i=c=lt)&&(c=_$(c,o.pendingProps,_n),c!==null?(o.stateNode=c,Qt=o,lt=null,i=!0):i=!1),i||mi(o)),null;case 13:return wS(i,o,c);case 4:return Se(o,o.stateNode.containerInfo),h=o.pendingProps,i===null?o.child=hs(o,null,h,c):tr(i,o,h,c),o.child;case 11:return fS(i,o,o.type,o.pendingProps,c);case 7:return tr(i,o,o.pendingProps,c),o.child;case 8:return tr(i,o,o.pendingProps.children,c),o.child;case 12:return tr(i,o,o.pendingProps.children,c),o.child;case 10:return h=o.pendingProps,pi(o,o.type,h.value),tr(i,o,h.children,c),o.child;case 9:return b=o.type._context,h=o.pendingProps.children,cs(o),b=er(b),h=h(b),o.flags|=1,tr(i,o,h,c),o.child;case 14:return hS(i,o,o.type,o.pendingProps,c);case 15:return mS(i,o,o.type,o.pendingProps,c);case 19:return SS(i,o,c);case 31:return FR(i,o,c);case 22:return pS(i,o,c,o.pendingProps);case 24:return cs(o),h=er(Tt),i===null?(b=Qm(),b===null&&(b=et,w=Xm(),b.pooledCache=w,w.refCount++,w!==null&&(b.pooledCacheLanes|=c),b=w),o.memoizedState={parent:h,cache:b},tp(o),pi(o,Tt,b)):((i.lanes&c)!==0&&(rp(i,o),ec(o,null,null,c),Ql()),b=i.memoizedState,w=o.memoizedState,b.parent!==h?(b={parent:h,cache:h},o.memoizedState=b,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=b),pi(o,Tt,h)):(h=w.cache,pi(o,Tt,h),h!==b.cache&&Wm(o,[Tt],c,!0))),tr(i,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function Aa(i){i.flags|=4}function Lp(i,o,c,h,b){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(b&335544128)===b)if(i.stateNode.complete)i.flags|=8192;else if(XS())i.flags|=8192;else throw fs=gd,ep}else i.flags&=-16777217}function jS(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Uk(o))if(XS())i.flags|=8192;else throw fs=gd,ep}function Dd(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?a1():536870912,i.lanes|=o,Do|=o)}function sc(i,o){if(!qe)switch(i.tailMode){case"hidden":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function ct(i){var o=i.alternate!==null&&i.alternate.child===i.child,c=0,h=0;if(o)for(var b=i.child;b!==null;)c|=b.lanes|b.childLanes,h|=b.subtreeFlags&65011712,h|=b.flags&65011712,b.return=i,b=b.sibling;else for(b=i.child;b!==null;)c|=b.lanes|b.childLanes,h|=b.subtreeFlags,h|=b.flags,b.return=i,b=b.sibling;return i.subtreeFlags|=h,i.childLanes=c,o}function KR(i,o,c){var h=o.pendingProps;switch(Vm(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(o),null;case 1:return ct(o),null;case 3:return c=o.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),ja(Tt),X(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(i===null||i.child===null)&&(xo(o)?Aa(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Zm())),ct(o),null;case 26:var b=o.type,w=o.memoizedState;return i===null?(Aa(o),w!==null?(ct(o),jS(o,w)):(ct(o),Lp(o,b,null,h,c))):w?w!==i.memoizedState?(Aa(o),ct(o),jS(o,w)):(ct(o),o.flags&=-16777217):(i=i.memoizedProps,i!==h&&Aa(o),ct(o),Lp(o,b,i,h,c)),null;case 27:if(je(o),c=ce.current,b=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==h&&Aa(o);else{if(!h){if(o.stateNode===null)throw Error(n(166));return ct(o),null}i=H.current,xo(o)?a_(o):(i=Pk(b,h,c),o.stateNode=i,Aa(o))}return ct(o),null;case 5:if(je(o),b=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==h&&Aa(o);else{if(!h){if(o.stateNode===null)throw Error(n(166));return ct(o),null}if(w=H.current,xo(o))a_(o);else{var O=Gd(ce.current);switch(w){case 1:w=O.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:w=O.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":w=O.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":w=O.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":w=O.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof h.is=="string"?O.createElement("select",{is:h.is}):O.createElement("select"),h.multiple?w.multiple=!0:h.size&&(w.size=h.size);break;default:w=typeof h.is=="string"?O.createElement(b,{is:h.is}):O.createElement(b)}}w[Jt]=o,w[Dr]=h;e:for(O=o.child;O!==null;){if(O.tag===5||O.tag===6)w.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===o)break e;for(;O.sibling===null;){if(O.return===null||O.return===o)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}o.stateNode=w;e:switch(rr(w,b,h),b){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&Aa(o)}}return ct(o),Lp(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,c),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==h&&Aa(o);else{if(typeof h!="string"&&o.stateNode===null)throw Error(n(166));if(i=ce.current,xo(o)){if(i=o.stateNode,c=o.memoizedProps,h=null,b=Qt,b!==null)switch(b.tag){case 27:case 5:h=b.memoizedProps}i[Jt]=o,i=!!(i.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||wk(i.nodeValue,c)),i||mi(o,!0)}else i=Gd(i).createTextNode(h),i[Jt]=o,o.stateNode=i}return ct(o),null;case 31:if(c=o.memoizedState,i===null||i.memoizedState!==null){if(h=xo(o),c!==null){if(i===null){if(!h)throw Error(n(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(557));i[Jt]=o}else os(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;ct(o),i=!1}else c=Zm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=c),i=!0;if(!i)return o.flags&256?(Qr(o),o):(Qr(o),null);if((o.flags&128)!==0)throw Error(n(558))}return ct(o),null;case 13:if(h=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(b=xo(o),h!==null&&h.dehydrated!==null){if(i===null){if(!b)throw Error(n(318));if(b=o.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));b[Jt]=o}else os(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;ct(o),b=!1}else b=Zm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=b),b=!0;if(!b)return o.flags&256?(Qr(o),o):(Qr(o),null)}return Qr(o),(o.flags&128)!==0?(o.lanes=c,o):(c=h!==null,i=i!==null&&i.memoizedState!==null,c&&(h=o.child,b=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(b=h.alternate.memoizedState.cachePool.pool),w=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(w=h.memoizedState.cachePool.pool),w!==b&&(h.flags|=2048)),c!==i&&c&&(o.child.flags|=8192),Dd(o,o.updateQueue),ct(o),null);case 4:return X(),i===null&&ig(o.stateNode.containerInfo),ct(o),null;case 10:return ja(o.type),ct(o),null;case 19:if(K(kt),h=o.memoizedState,h===null)return ct(o),null;if(b=(o.flags&128)!==0,w=h.rendering,w===null)if(b)sc(h,!1);else{if(wt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(w=xd(i),w!==null){for(o.flags|=128,sc(h,!1),i=w.updateQueue,o.updateQueue=i,Dd(o,i),o.subtreeFlags=0,i=c,c=o.child;c!==null;)Q1(c,i),c=c.sibling;return W(kt,kt.current&1|2),qe&&Sa(o,h.treeForkCount),o.child}i=i.sibling}h.tail!==null&&Ke()>Id&&(o.flags|=128,b=!0,sc(h,!1),o.lanes=4194304)}else{if(!b)if(i=xd(w),i!==null){if(o.flags|=128,b=!0,i=i.updateQueue,o.updateQueue=i,Dd(o,i),sc(h,!0),h.tail===null&&h.tailMode==="hidden"&&!w.alternate&&!qe)return ct(o),null}else 2*Ke()-h.renderingStartTime>Id&&c!==536870912&&(o.flags|=128,b=!0,sc(h,!1),o.lanes=4194304);h.isBackwards?(w.sibling=o.child,o.child=w):(i=h.last,i!==null?i.sibling=w:o.child=w,h.last=w)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Ke(),i.sibling=null,c=kt.current,W(kt,b?c&1|2:c&1),qe&&Sa(o,h.treeForkCount),i):(ct(o),null);case 22:case 23:return Qr(o),sp(),h=o.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(o.flags|=8192):h&&(o.flags|=8192),h?(c&536870912)!==0&&(o.flags&128)===0&&(ct(o),o.subtreeFlags&6&&(o.flags|=8192)):ct(o),c=o.updateQueue,c!==null&&Dd(o,c.retryQueue),c=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==c&&(o.flags|=2048),i!==null&&K(us),null;case 24:return c=null,i!==null&&(c=i.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),ja(Tt),ct(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function ZR(i,o){switch(Vm(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return ja(Tt),X(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return je(o),null;case 31:if(o.memoizedState!==null){if(Qr(o),o.alternate===null)throw Error(n(340));os()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if(Qr(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));os()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return K(kt),null;case 4:return X(),null;case 10:return ja(o.type),null;case 22:case 23:return Qr(o),sp(),i!==null&&K(us),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return ja(Tt),null;case 25:return null;default:return null}}function ES(i,o){switch(Vm(o),o.tag){case 3:ja(Tt),X();break;case 26:case 27:case 5:je(o);break;case 4:X();break;case 31:o.memoizedState!==null&&Qr(o);break;case 13:Qr(o);break;case 19:K(kt);break;case 10:ja(o.type);break;case 22:case 23:Qr(o),sp(),i!==null&&K(us);break;case 24:ja(Tt)}}function oc(i,o){try{var c=o.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var b=h.next;c=b;do{if((c.tag&i)===i){h=void 0;var w=c.create,O=c.inst;h=w(),O.destroy=h}c=c.next}while(c!==b)}}catch(D){Ye(o,o.return,D)}}function wi(i,o,c){try{var h=o.updateQueue,b=h!==null?h.lastEffect:null;if(b!==null){var w=b.next;h=w;do{if((h.tag&i)===i){var O=h.inst,D=O.destroy;if(D!==void 0){O.destroy=void 0,b=o;var z=c,G=D;try{G()}catch(ie){Ye(b,z,ie)}}}h=h.next}while(h!==w)}}catch(ie){Ye(o,o.return,ie)}}function OS(i){var o=i.updateQueue;if(o!==null){var c=i.stateNode;try{v_(o,c)}catch(h){Ye(i,i.return,h)}}}function NS(i,o,c){c.props=ps(i.type,i.memoizedProps),c.state=i.memoizedState;try{c.componentWillUnmount()}catch(h){Ye(i,o,h)}}function lc(i,o){try{var c=i.ref;if(c!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof c=="function"?i.refCleanup=c(h):c.current=h}}catch(b){Ye(i,o,b)}}function ra(i,o){var c=i.ref,h=i.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(b){Ye(i,o,b)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(b){Ye(i,o,b)}else c.current=null}function AS(i){var o=i.type,c=i.memoizedProps,h=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break e;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(b){Ye(i,i.return,b)}}function Ip(i,o,c){try{var h=i.stateNode;p$(h,i.type,c,o),h[Dr]=o}catch(b){Ye(i,i.return,b)}}function TS(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ni(i.type)||i.tag===4}function zp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||TS(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ni(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Up(i,o,c){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(i,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(i),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=xa));else if(h!==4&&(h===27&&Ni(i.type)&&(c=i.stateNode,o=null),i=i.child,i!==null))for(Up(i,o,c),i=i.sibling;i!==null;)Up(i,o,c),i=i.sibling}function Md(i,o,c){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?c.insertBefore(i,o):c.appendChild(i);else if(h!==4&&(h===27&&Ni(i.type)&&(c=i.stateNode),i=i.child,i!==null))for(Md(i,o,c),i=i.sibling;i!==null;)Md(i,o,c),i=i.sibling}function CS(i){var o=i.stateNode,c=i.memoizedProps;try{for(var h=i.type,b=o.attributes;b.length;)o.removeAttributeNode(b[0]);rr(o,h,c),o[Jt]=i,o[Dr]=c}catch(w){Ye(i,i.return,w)}}var Ta=!1,Dt=!1,Bp=!1,PS=typeof WeakSet=="function"?WeakSet:Set,Zt=null;function GR(i,o){if(i=i.containerInfo,lg=tf,i=F1(i),Mm(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var b=h.anchorOffset,w=h.focusNode;h=h.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var O=0,D=-1,z=-1,G=0,ie=0,ue=i,J=null;t:for(;;){for(var te;ue!==c||b!==0&&ue.nodeType!==3||(D=O+b),ue!==w||h!==0&&ue.nodeType!==3||(z=O+h),ue.nodeType===3&&(O+=ue.nodeValue.length),(te=ue.firstChild)!==null;)J=ue,ue=te;for(;;){if(ue===i)break t;if(J===c&&++G===b&&(D=O),J===w&&++ie===h&&(z=O),(te=ue.nextSibling)!==null)break;ue=J,J=ue.parentNode}ue=te}c=D===-1||z===-1?null:{start:D,end:z}}else c=null}c=c||{start:0,end:0}}else c=null;for(cg={focusedElem:i,selectionRange:c},tf=!1,Zt=o;Zt!==null;)if(o=Zt,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Zt=i;else for(;Zt!==null;){switch(o=Zt,w=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(c=0;c<i.length;c++)b=i[c],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&w!==null){i=void 0,c=o,b=w.memoizedProps,w=w.memoizedState,h=c.stateNode;try{var we=ps(c.type,b);i=h.getSnapshotBeforeUpdate(we,w),h.__reactInternalSnapshotBeforeUpdate=i}catch(Te){Ye(c,c.return,Te)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,c=i.nodeType,c===9)fg(i);else if(c===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":fg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=o.sibling,i!==null){i.return=o.return,Zt=i;break}Zt=o.return}}function DS(i,o,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:Pa(i,c),h&4&&oc(5,c);break;case 1:if(Pa(i,c),h&4)if(i=c.stateNode,o===null)try{i.componentDidMount()}catch(O){Ye(c,c.return,O)}else{var b=ps(c.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(b,o,i.__reactInternalSnapshotBeforeUpdate)}catch(O){Ye(c,c.return,O)}}h&64&&OS(c),h&512&&lc(c,c.return);break;case 3:if(Pa(i,c),h&64&&(i=c.updateQueue,i!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{v_(i,o)}catch(O){Ye(c,c.return,O)}}break;case 27:o===null&&h&4&&CS(c);case 26:case 5:Pa(i,c),o===null&&h&4&&AS(c),h&512&&lc(c,c.return);break;case 12:Pa(i,c);break;case 31:Pa(i,c),h&4&&$S(i,c);break;case 13:Pa(i,c),h&4&&LS(i,c),h&64&&(i=c.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(c=n$.bind(null,c),S$(i,c))));break;case 22:if(h=c.memoizedState!==null||Ta,!h){o=o!==null&&o.memoizedState!==null||Dt,b=Ta;var w=Dt;Ta=h,(Dt=o)&&!w?Da(i,c,(c.subtreeFlags&8772)!==0):Pa(i,c),Ta=b,Dt=w}break;case 30:break;default:Pa(i,c)}}function MS(i){var o=i.alternate;o!==null&&(i.alternate=null,MS(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&vm(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ft=null,Rr=!1;function Ca(i,o,c){for(c=c.child;c!==null;)RS(i,o,c),c=c.sibling}function RS(i,o,c){if(It&&typeof It.onCommitFiberUnmount=="function")try{It.onCommitFiberUnmount(ya,c)}catch{}switch(c.tag){case 26:Dt||ra(c,o),Ca(i,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Dt||ra(c,o);var h=ft,b=Rr;Ni(c.type)&&(ft=c.stateNode,Rr=!1),Ca(i,o,c),vc(c.stateNode),ft=h,Rr=b;break;case 5:Dt||ra(c,o);case 6:if(h=ft,b=Rr,ft=null,Ca(i,o,c),ft=h,Rr=b,ft!==null)if(Rr)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(c.stateNode)}catch(w){Ye(c,o,w)}else try{ft.removeChild(c.stateNode)}catch(w){Ye(c,o,w)}break;case 18:ft!==null&&(Rr?(i=ft,Ok(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,c.stateNode),Bo(i)):Ok(ft,c.stateNode));break;case 4:h=ft,b=Rr,ft=c.stateNode.containerInfo,Rr=!0,Ca(i,o,c),ft=h,Rr=b;break;case 0:case 11:case 14:case 15:wi(2,c,o),Dt||wi(4,c,o),Ca(i,o,c);break;case 1:Dt||(ra(c,o),h=c.stateNode,typeof h.componentWillUnmount=="function"&&NS(c,o,h)),Ca(i,o,c);break;case 21:Ca(i,o,c);break;case 22:Dt=(h=Dt)||c.memoizedState!==null,Ca(i,o,c),Dt=h;break;default:Ca(i,o,c)}}function $S(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Bo(i)}catch(c){Ye(o,o.return,c)}}}function LS(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Bo(i)}catch(c){Ye(o,o.return,c)}}function YR(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new PS),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new PS),o;default:throw Error(n(435,i.tag))}}function Rd(i,o){var c=YR(i);o.forEach(function(h){if(!c.has(h)){c.add(h);var b=a$.bind(null,i,h);h.then(b,b)}})}function $r(i,o){var c=o.deletions;if(c!==null)for(var h=0;h<c.length;h++){var b=c[h],w=i,O=o,D=O;e:for(;D!==null;){switch(D.tag){case 27:if(Ni(D.type)){ft=D.stateNode,Rr=!1;break e}break;case 5:ft=D.stateNode,Rr=!1;break e;case 3:case 4:ft=D.stateNode.containerInfo,Rr=!0;break e}D=D.return}if(ft===null)throw Error(n(160));RS(w,O,b),ft=null,Rr=!1,w=b.alternate,w!==null&&(w.return=null),b.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)IS(o,i),o=o.sibling}var In=null;function IS(i,o){var c=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:$r(o,i),Lr(i),h&4&&(wi(3,i,i.return),oc(3,i),wi(5,i,i.return));break;case 1:$r(o,i),Lr(i),h&512&&(Dt||c===null||ra(c,c.return)),h&64&&Ta&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(c=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var b=In;if($r(o,i),Lr(i),h&512&&(Dt||c===null||ra(c,c.return)),h&4){var w=c!==null?c.memoizedState:null;if(h=i.memoizedState,c===null)if(h===null)if(i.stateNode===null){e:{h=i.type,c=i.memoizedProps,b=b.ownerDocument||b;t:switch(h){case"title":w=b.getElementsByTagName("title")[0],(!w||w[Rl]||w[Jt]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=b.createElement(h),b.head.insertBefore(w,b.querySelector("head > title"))),rr(w,h,c),w[Jt]=i,Kt(w),h=w;break e;case"link":var O=Ik("link","href",b).get(h+(c.href||""));if(O){for(var D=0;D<O.length;D++)if(w=O[D],w.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&w.getAttribute("rel")===(c.rel==null?null:c.rel)&&w.getAttribute("title")===(c.title==null?null:c.title)&&w.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){O.splice(D,1);break t}}w=b.createElement(h),rr(w,h,c),b.head.appendChild(w);break;case"meta":if(O=Ik("meta","content",b).get(h+(c.content||""))){for(D=0;D<O.length;D++)if(w=O[D],w.getAttribute("content")===(c.content==null?null:""+c.content)&&w.getAttribute("name")===(c.name==null?null:c.name)&&w.getAttribute("property")===(c.property==null?null:c.property)&&w.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&w.getAttribute("charset")===(c.charSet==null?null:c.charSet)){O.splice(D,1);break t}}w=b.createElement(h),rr(w,h,c),b.head.appendChild(w);break;default:throw Error(n(468,h))}w[Jt]=i,Kt(w),h=w}i.stateNode=h}else zk(b,i.type,i.stateNode);else i.stateNode=Lk(b,h,i.memoizedProps);else w!==h?(w===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):w.count--,h===null?zk(b,i.type,i.stateNode):Lk(b,h,i.memoizedProps)):h===null&&i.stateNode!==null&&Ip(i,i.memoizedProps,c.memoizedProps)}break;case 27:$r(o,i),Lr(i),h&512&&(Dt||c===null||ra(c,c.return)),c!==null&&h&4&&Ip(i,i.memoizedProps,c.memoizedProps);break;case 5:if($r(o,i),Lr(i),h&512&&(Dt||c===null||ra(c,c.return)),i.flags&32){b=i.stateNode;try{co(b,"")}catch(we){Ye(i,i.return,we)}}h&4&&i.stateNode!=null&&(b=i.memoizedProps,Ip(i,b,c!==null?c.memoizedProps:b)),h&1024&&(Bp=!0);break;case 6:if($r(o,i),Lr(i),h&4){if(i.stateNode===null)throw Error(n(162));h=i.memoizedProps,c=i.stateNode;try{c.nodeValue=h}catch(we){Ye(i,i.return,we)}}break;case 3:if(Xd=null,b=In,In=Yd(o.containerInfo),$r(o,i),In=b,Lr(i),h&4&&c!==null&&c.memoizedState.isDehydrated)try{Bo(o.containerInfo)}catch(we){Ye(i,i.return,we)}Bp&&(Bp=!1,zS(i));break;case 4:h=In,In=Yd(i.stateNode.containerInfo),$r(o,i),Lr(i),In=h;break;case 12:$r(o,i),Lr(i);break;case 31:$r(o,i),Lr(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Rd(i,h)));break;case 13:$r(o,i),Lr(i),i.child.flags&8192&&i.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Ld=Ke()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Rd(i,h)));break;case 22:b=i.memoizedState!==null;var z=c!==null&&c.memoizedState!==null,G=Ta,ie=Dt;if(Ta=G||b,Dt=ie||z,$r(o,i),Dt=ie,Ta=G,Lr(i),h&8192)e:for(o=i.stateNode,o._visibility=b?o._visibility&-2:o._visibility|1,b&&(c===null||z||Ta||Dt||gs(i)),c=null,o=i;;){if(o.tag===5||o.tag===26){if(c===null){z=c=o;try{if(w=z.stateNode,b)O=w.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{D=z.stateNode;var ue=z.memoizedProps.style,J=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;D.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(we){Ye(z,z.return,we)}}}else if(o.tag===6){if(c===null){z=o;try{z.stateNode.nodeValue=b?"":z.memoizedProps}catch(we){Ye(z,z.return,we)}}}else if(o.tag===18){if(c===null){z=o;try{var te=z.stateNode;b?Nk(te,!0):Nk(z.stateNode,!1)}catch(we){Ye(z,z.return,we)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}h&4&&(h=i.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,Rd(i,c))));break;case 19:$r(o,i),Lr(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Rd(i,h)));break;case 30:break;case 21:break;default:$r(o,i),Lr(i)}}function Lr(i){var o=i.flags;if(o&2){try{for(var c,h=i.return;h!==null;){if(TS(h)){c=h;break}h=h.return}if(c==null)throw Error(n(160));switch(c.tag){case 27:var b=c.stateNode,w=zp(i);Md(i,w,b);break;case 5:var O=c.stateNode;c.flags&32&&(co(O,""),c.flags&=-33);var D=zp(i);Md(i,D,O);break;case 3:case 4:var z=c.stateNode.containerInfo,G=zp(i);Up(i,G,z);break;default:throw Error(n(161))}}catch(ie){Ye(i,i.return,ie)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function zS(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;zS(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function Pa(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)DS(i,o.alternate,o),o=o.sibling}function gs(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:wi(4,o,o.return),gs(o);break;case 1:ra(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&NS(o,o.return,c),gs(o);break;case 27:vc(o.stateNode);case 26:case 5:ra(o,o.return),gs(o);break;case 22:o.memoizedState===null&&gs(o);break;case 30:gs(o);break;default:gs(o)}i=i.sibling}}function Da(i,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var h=o.alternate,b=i,w=o,O=w.flags;switch(w.tag){case 0:case 11:case 15:Da(b,w,c),oc(4,w);break;case 1:if(Da(b,w,c),h=w,b=h.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(G){Ye(h,h.return,G)}if(h=w,b=h.updateQueue,b!==null){var D=h.stateNode;try{var z=b.shared.hiddenCallbacks;if(z!==null)for(b.shared.hiddenCallbacks=null,b=0;b<z.length;b++)g_(z[b],D)}catch(G){Ye(h,h.return,G)}}c&&O&64&&OS(w),lc(w,w.return);break;case 27:CS(w);case 26:case 5:Da(b,w,c),c&&h===null&&O&4&&AS(w),lc(w,w.return);break;case 12:Da(b,w,c);break;case 31:Da(b,w,c),c&&O&4&&$S(b,w);break;case 13:Da(b,w,c),c&&O&4&&LS(b,w);break;case 22:w.memoizedState===null&&Da(b,w,c),lc(w,w.return);break;case 30:break;default:Da(b,w,c)}o=o.sibling}}function qp(i,o){var c=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==c&&(i!=null&&i.refCount++,c!=null&&Gl(c))}function Hp(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Gl(i))}function zn(i,o,c,h){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)US(i,o,c,h),o=o.sibling}function US(i,o,c,h){var b=o.flags;switch(o.tag){case 0:case 11:case 15:zn(i,o,c,h),b&2048&&oc(9,o);break;case 1:zn(i,o,c,h);break;case 3:zn(i,o,c,h),b&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Gl(i)));break;case 12:if(b&2048){zn(i,o,c,h),i=o.stateNode;try{var w=o.memoizedProps,O=w.id,D=w.onPostCommit;typeof D=="function"&&D(O,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(z){Ye(o,o.return,z)}}else zn(i,o,c,h);break;case 31:zn(i,o,c,h);break;case 13:zn(i,o,c,h);break;case 23:break;case 22:w=o.stateNode,O=o.alternate,o.memoizedState!==null?w._visibility&2?zn(i,o,c,h):cc(i,o):w._visibility&2?zn(i,o,c,h):(w._visibility|=2,To(i,o,c,h,(o.subtreeFlags&10256)!==0||!1)),b&2048&&qp(O,o);break;case 24:zn(i,o,c,h),b&2048&&Hp(o.alternate,o);break;default:zn(i,o,c,h)}}function To(i,o,c,h,b){for(b=b&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var w=i,O=o,D=c,z=h,G=O.flags;switch(O.tag){case 0:case 11:case 15:To(w,O,D,z,b),oc(8,O);break;case 23:break;case 22:var ie=O.stateNode;O.memoizedState!==null?ie._visibility&2?To(w,O,D,z,b):cc(w,O):(ie._visibility|=2,To(w,O,D,z,b)),b&&G&2048&&qp(O.alternate,O);break;case 24:To(w,O,D,z,b),b&&G&2048&&Hp(O.alternate,O);break;default:To(w,O,D,z,b)}o=o.sibling}}function cc(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=i,h=o,b=h.flags;switch(h.tag){case 22:cc(c,h),b&2048&&qp(h.alternate,h);break;case 24:cc(c,h),b&2048&&Hp(h.alternate,h);break;default:cc(c,h)}o=o.sibling}}var uc=8192;function Co(i,o,c){if(i.subtreeFlags&uc)for(i=i.child;i!==null;)BS(i,o,c),i=i.sibling}function BS(i,o,c){switch(i.tag){case 26:Co(i,o,c),i.flags&uc&&i.memoizedState!==null&&R$(c,In,i.memoizedState,i.memoizedProps);break;case 5:Co(i,o,c);break;case 3:case 4:var h=In;In=Yd(i.stateNode.containerInfo),Co(i,o,c),In=h;break;case 22:i.memoizedState===null&&(h=i.alternate,h!==null&&h.memoizedState!==null?(h=uc,uc=16777216,Co(i,o,c),uc=h):Co(i,o,c));break;default:Co(i,o,c)}}function qS(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function dc(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var h=o[c];Zt=h,FS(h,i)}qS(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)HS(i),i=i.sibling}function HS(i){switch(i.tag){case 0:case 11:case 15:dc(i),i.flags&2048&&wi(9,i,i.return);break;case 3:dc(i);break;case 12:dc(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,$d(i)):dc(i);break;default:dc(i)}}function $d(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var h=o[c];Zt=h,FS(h,i)}qS(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:wi(8,o,o.return),$d(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,$d(o));break;default:$d(o)}i=i.sibling}}function FS(i,o){for(;Zt!==null;){var c=Zt;switch(c.tag){case 0:case 11:case 15:wi(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Gl(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,Zt=h;else e:for(c=i;Zt!==null;){h=Zt;var b=h.sibling,w=h.return;if(MS(h),h===c){Zt=null;break e}if(b!==null){b.return=w,Zt=b;break e}Zt=w}}}var WR={getCacheForType:function(i){var o=er(Tt),c=o.data.get(i);return c===void 0&&(c=i(),o.data.set(i,c)),c},cacheSignal:function(){return er(Tt).controller.signal}},XR=typeof WeakMap=="function"?WeakMap:Map,Ze=0,et=null,Le=null,ze=0,Ge=0,en=null,_i=!1,Po=!1,Fp=!1,Ma=0,wt=0,Si=0,vs=0,Vp=0,tn=0,Do=0,fc=null,Ir=null,Kp=!1,Ld=0,VS=0,Id=1/0,zd=null,ki=null,zt=0,ji=null,Mo=null,Ra=0,Zp=0,Gp=null,KS=null,hc=0,Yp=null;function rn(){return(Ze&2)!==0&&ze!==0?ze&-ze:U.T!==null?tg():l1()}function ZS(){if(tn===0)if((ze&536870912)===0||qe){var i=Zu;Zu<<=1,(Zu&3932160)===0&&(Zu=262144),tn=i}else tn=536870912;return i=Jr.current,i!==null&&(i.flags|=32),tn}function zr(i,o,c){(i===et&&(Ge===2||Ge===9)||i.cancelPendingCommit!==null)&&(Ro(i,0),Ei(i,ze,tn,!1)),Ml(i,c),((Ze&2)===0||i!==et)&&(i===et&&((Ze&2)===0&&(vs|=c),wt===4&&Ei(i,ze,tn,!1)),na(i))}function GS(i,o,c){if((Ze&6)!==0)throw Error(n(327));var h=!c&&(o&127)===0&&(o&i.expiredLanes)===0||Dl(i,o),b=h?e$(i,o):Xp(i,o,!0),w=h;do{if(b===0){Po&&!h&&Ei(i,o,0,!1);break}else{if(c=i.current.alternate,w&&!JR(c)){b=Xp(i,o,!1),w=!1;continue}if(b===2){if(w=o,i.errorRecoveryDisabledLanes&w)var O=0;else O=i.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){o=O;e:{var D=i;b=fc;var z=D.current.memoizedState.isDehydrated;if(z&&(Ro(D,O).flags|=256),O=Xp(D,O,!1),O!==2){if(Fp&&!z){D.errorRecoveryDisabledLanes|=w,vs|=w,b=4;break e}w=Ir,Ir=b,w!==null&&(Ir===null?Ir=w:Ir.push.apply(Ir,w))}b=O}if(w=!1,b!==2)continue}}if(b===1){Ro(i,0),Ei(i,o,0,!0);break}e:{switch(h=i,w=b,w){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:Ei(h,o,tn,!_i);break e;case 2:Ir=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(b=Ld+300-Ke(),10<b)){if(Ei(h,o,tn,!_i),Yu(h,0,!0)!==0)break e;Ra=o,h.timeoutHandle=jk(YS.bind(null,h,c,Ir,zd,Kp,o,tn,vs,Do,_i,w,"Throttled",-0,0),b);break e}YS(h,c,Ir,zd,Kp,o,tn,vs,Do,_i,w,null,-0,0)}}break}while(!0);na(i)}function YS(i,o,c,h,b,w,O,D,z,G,ie,ue,J,te){if(i.timeoutHandle=-1,ue=o.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xa},BS(o,w,ue);var we=(w&62914560)===w?Ld-Ke():(w&4194048)===w?VS-Ke():0;if(we=$$(ue,we),we!==null){Ra=w,i.cancelPendingCommit=we(nk.bind(null,i,o,w,c,h,b,O,D,z,ie,ue,null,J,te)),Ei(i,w,O,!G);return}}nk(i,o,w,c,h,b,O,D,z)}function JR(i){for(var o=i;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var b=c[h],w=b.getSnapshot;b=b.value;try{if(!Wr(w(),b))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ei(i,o,c,h){o&=~Vp,o&=~vs,i.suspendedLanes|=o,i.pingedLanes&=~o,h&&(i.warmLanes|=o),h=i.expirationTimes;for(var b=o;0<b;){var w=31-hr(b),O=1<<w;h[w]=-1,b&=~O}c!==0&&i1(i,c,o)}function Ud(){return(Ze&6)===0?(mc(0),!1):!0}function Wp(){if(Le!==null){if(Ge===0)var i=Le.return;else i=Le,ka=ls=null,fp(i),jo=null,Wl=0,i=Le;for(;i!==null;)ES(i.alternate,i),i=i.return;Le=null}}function Ro(i,o){var c=i.timeoutHandle;c!==-1&&(i.timeoutHandle=-1,y$(c)),c=i.cancelPendingCommit,c!==null&&(i.cancelPendingCommit=null,c()),Ra=0,Wp(),et=i,Le=c=_a(i.current,null),ze=o,Ge=0,en=null,_i=!1,Po=Dl(i,o),Fp=!1,Do=tn=Vp=vs=Si=wt=0,Ir=fc=null,Kp=!1,(o&8)!==0&&(o|=o&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=o;0<h;){var b=31-hr(h),w=1<<b;o|=i[b],h&=~w}return Ma=o,od(),c}function WS(i,o){Re=null,U.H=ac,o===ko||o===pd?(o=f_(),Ge=3):o===ep?(o=f_(),Ge=4):Ge=o===Np?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,en=o,Le===null&&(wt=1,Ad(i,bn(o,i.current)))}function XS(){var i=Jr.current;return i===null?!0:(ze&4194048)===ze?Sn===null:(ze&62914560)===ze||(ze&536870912)!==0?i===Sn:!1}function JS(){var i=U.H;return U.H=ac,i===null?ac:i}function QS(){var i=U.A;return U.A=WR,i}function Bd(){wt=4,_i||(ze&4194048)!==ze&&Jr.current!==null||(Po=!0),(Si&134217727)===0&&(vs&134217727)===0||et===null||Ei(et,ze,tn,!1)}function Xp(i,o,c){var h=Ze;Ze|=2;var b=JS(),w=QS();(et!==i||ze!==o)&&(zd=null,Ro(i,o)),o=!1;var O=wt;e:do try{if(Ge!==0&&Le!==null){var D=Le,z=en;switch(Ge){case 8:Wp(),O=6;break e;case 3:case 2:case 9:case 6:Jr.current===null&&(o=!0);var G=Ge;if(Ge=0,en=null,$o(i,D,z,G),c&&Po){O=0;break e}break;default:G=Ge,Ge=0,en=null,$o(i,D,z,G)}}QR(),O=wt;break}catch(ie){WS(i,ie)}while(!0);return o&&i.shellSuspendCounter++,ka=ls=null,Ze=h,U.H=b,U.A=w,Le===null&&(et=null,ze=0,od()),O}function QR(){for(;Le!==null;)ek(Le)}function e$(i,o){var c=Ze;Ze|=2;var h=JS(),b=QS();et!==i||ze!==o?(zd=null,Id=Ke()+500,Ro(i,o)):Po=Dl(i,o);e:do try{if(Ge!==0&&Le!==null){o=Le;var w=en;t:switch(Ge){case 1:Ge=0,en=null,$o(i,o,w,1);break;case 2:case 9:if(u_(w)){Ge=0,en=null,tk(o);break}o=function(){Ge!==2&&Ge!==9||et!==i||(Ge=7),na(i)},w.then(o,o);break e;case 3:Ge=7;break e;case 4:Ge=5;break e;case 7:u_(w)?(Ge=0,en=null,tk(o)):(Ge=0,en=null,$o(i,o,w,7));break;case 5:var O=null;switch(Le.tag){case 26:O=Le.memoizedState;case 5:case 27:var D=Le;if(O?Uk(O):D.stateNode.complete){Ge=0,en=null;var z=D.sibling;if(z!==null)Le=z;else{var G=D.return;G!==null?(Le=G,qd(G)):Le=null}break t}}Ge=0,en=null,$o(i,o,w,5);break;case 6:Ge=0,en=null,$o(i,o,w,6);break;case 8:Wp(),wt=6;break e;default:throw Error(n(462))}}t$();break}catch(ie){WS(i,ie)}while(!0);return ka=ls=null,U.H=h,U.A=b,Ze=c,Le!==null?0:(et=null,ze=0,od(),wt)}function t$(){for(;Le!==null&&!Qn();)ek(Le)}function ek(i){var o=kS(i.alternate,i,Ma);i.memoizedProps=i.pendingProps,o===null?qd(i):Le=o}function tk(i){var o=i,c=o.alternate;switch(o.tag){case 15:case 0:o=yS(c,o,o.pendingProps,o.type,void 0,ze);break;case 11:o=yS(c,o,o.pendingProps,o.type.render,o.ref,ze);break;case 5:fp(o);default:ES(c,o),o=Le=Q1(o,Ma),o=kS(c,o,Ma)}i.memoizedProps=i.pendingProps,o===null?qd(i):Le=o}function $o(i,o,c,h){ka=ls=null,fp(o),jo=null,Wl=0;var b=o.return;try{if(HR(i,b,o,c,ze)){wt=1,Ad(i,bn(c,i.current)),Le=null;return}}catch(w){if(b!==null)throw Le=b,w;wt=1,Ad(i,bn(c,i.current)),Le=null;return}o.flags&32768?(qe||h===1?i=!0:Po||(ze&536870912)!==0?i=!1:(_i=i=!0,(h===2||h===9||h===3||h===6)&&(h=Jr.current,h!==null&&h.tag===13&&(h.flags|=16384))),rk(o,i)):qd(o)}function qd(i){var o=i;do{if((o.flags&32768)!==0){rk(o,_i);return}i=o.return;var c=KR(o.alternate,o,Ma);if(c!==null){Le=c;return}if(o=o.sibling,o!==null){Le=o;return}Le=o=i}while(o!==null);wt===0&&(wt=5)}function rk(i,o){do{var c=ZR(i.alternate,i);if(c!==null){c.flags&=32767,Le=c;return}if(c=i.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(i=i.sibling,i!==null)){Le=i;return}Le=i=c}while(i!==null);wt=6,Le=null}function nk(i,o,c,h,b,w,O,D,z){i.cancelPendingCommit=null;do Hd();while(zt!==0);if((Ze&6)!==0)throw Error(n(327));if(o!==null){if(o===i.current)throw Error(n(177));if(w=o.lanes|o.childLanes,w|=zm,MM(i,c,w,O,D,z),i===et&&(Le=et=null,ze=0),Mo=o,ji=i,Ra=c,Zp=w,Gp=b,KS=h,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,i$(At,function(){return lk(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||h){h=U.T,U.T=null,b=Y.p,Y.p=2,O=Ze,Ze|=4;try{GR(i,o,c)}finally{Ze=O,Y.p=b,U.T=h}}zt=1,ak(),ik(),sk()}}function ak(){if(zt===1){zt=0;var i=ji,o=Mo,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=U.T,U.T=null;var h=Y.p;Y.p=2;var b=Ze;Ze|=4;try{IS(o,i);var w=cg,O=F1(i.containerInfo),D=w.focusedElem,z=w.selectionRange;if(O!==D&&D&&D.ownerDocument&&H1(D.ownerDocument.documentElement,D)){if(z!==null&&Mm(D)){var G=z.start,ie=z.end;if(ie===void 0&&(ie=G),"selectionStart"in D)D.selectionStart=G,D.selectionEnd=Math.min(ie,D.value.length);else{var ue=D.ownerDocument||document,J=ue&&ue.defaultView||window;if(J.getSelection){var te=J.getSelection(),we=D.textContent.length,Te=Math.min(z.start,we),Qe=z.end===void 0?Te:Math.min(z.end,we);!te.extend&&Te>Qe&&(O=Qe,Qe=Te,Te=O);var F=q1(D,Te),B=q1(D,Qe);if(F&&B&&(te.rangeCount!==1||te.anchorNode!==F.node||te.anchorOffset!==F.offset||te.focusNode!==B.node||te.focusOffset!==B.offset)){var Z=ue.createRange();Z.setStart(F.node,F.offset),te.removeAllRanges(),Te>Qe?(te.addRange(Z),te.extend(B.node,B.offset)):(Z.setEnd(B.node,B.offset),te.addRange(Z))}}}}for(ue=[],te=D;te=te.parentNode;)te.nodeType===1&&ue.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<ue.length;D++){var oe=ue[D];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}tf=!!lg,cg=lg=null}finally{Ze=b,Y.p=h,U.T=c}}i.current=o,zt=2}}function ik(){if(zt===2){zt=0;var i=ji,o=Mo,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=U.T,U.T=null;var h=Y.p;Y.p=2;var b=Ze;Ze|=4;try{DS(i,o.alternate,o)}finally{Ze=b,Y.p=h,U.T=c}}zt=3}}function sk(){if(zt===4||zt===3){zt=0,Pr();var i=ji,o=Mo,c=Ra,h=KS;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?zt=5:(zt=0,Mo=ji=null,ok(i,i.pendingLanes));var b=i.pendingLanes;if(b===0&&(ki=null),pm(c),o=o.stateNode,It&&typeof It.onCommitFiberRoot=="function")try{It.onCommitFiberRoot(ya,o,void 0,(o.current.flags&128)===128)}catch{}if(h!==null){o=U.T,b=Y.p,Y.p=2,U.T=null;try{for(var w=i.onRecoverableError,O=0;O<h.length;O++){var D=h[O];w(D.value,{componentStack:D.stack})}}finally{U.T=o,Y.p=b}}(Ra&3)!==0&&Hd(),na(i),b=i.pendingLanes,(c&261930)!==0&&(b&42)!==0?i===Yp?hc++:(hc=0,Yp=i):hc=0,mc(0)}}function ok(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,Gl(o)))}function Hd(){return ak(),ik(),sk(),lk()}function lk(){if(zt!==5)return!1;var i=ji,o=Zp;Zp=0;var c=pm(Ra),h=U.T,b=Y.p;try{Y.p=32>c?32:c,U.T=null,c=Gp,Gp=null;var w=ji,O=Ra;if(zt=0,Mo=ji=null,Ra=0,(Ze&6)!==0)throw Error(n(331));var D=Ze;if(Ze|=4,HS(w.current),US(w,w.current,O,c),Ze=D,mc(0,!1),It&&typeof It.onPostCommitFiberRoot=="function")try{It.onPostCommitFiberRoot(ya,w)}catch{}return!0}finally{Y.p=b,U.T=h,ok(i,o)}}function ck(i,o,c){o=bn(c,o),o=Op(i.stateNode,o,2),i=yi(i,o,2),i!==null&&(Ml(i,2),na(i))}function Ye(i,o,c){if(i.tag===3)ck(i,i,c);else for(;o!==null;){if(o.tag===3){ck(o,i,c);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(ki===null||!ki.has(h))){i=bn(c,i),c=uS(2),h=yi(o,c,2),h!==null&&(dS(c,h,o,i),Ml(h,2),na(h));break}}o=o.return}}function Jp(i,o,c){var h=i.pingCache;if(h===null){h=i.pingCache=new XR;var b=new Set;h.set(o,b)}else b=h.get(o),b===void 0&&(b=new Set,h.set(o,b));b.has(c)||(Fp=!0,b.add(c),i=r$.bind(null,i,o,c),o.then(i,i))}function r$(i,o,c){var h=i.pingCache;h!==null&&h.delete(o),i.pingedLanes|=i.suspendedLanes&c,i.warmLanes&=~c,et===i&&(ze&c)===c&&(wt===4||wt===3&&(ze&62914560)===ze&&300>Ke()-Ld?(Ze&2)===0&&Ro(i,0):Vp|=c,Do===ze&&(Do=0)),na(i)}function uk(i,o){o===0&&(o=a1()),i=is(i,o),i!==null&&(Ml(i,o),na(i))}function n$(i){var o=i.memoizedState,c=0;o!==null&&(c=o.retryLane),uk(i,c)}function a$(i,o){var c=0;switch(i.tag){case 31:case 13:var h=i.stateNode,b=i.memoizedState;b!==null&&(c=b.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(n(314))}h!==null&&h.delete(o),uk(i,c)}function i$(i,o){return Gr(i,o)}var Fd=null,Lo=null,Qp=!1,Vd=!1,eg=!1,Oi=0;function na(i){i!==Lo&&i.next===null&&(Lo===null?Fd=Lo=i:Lo=Lo.next=i),Vd=!0,Qp||(Qp=!0,o$())}function mc(i,o){if(!eg&&Vd){eg=!0;do for(var c=!1,h=Fd;h!==null;){if(i!==0){var b=h.pendingLanes;if(b===0)var w=0;else{var O=h.suspendedLanes,D=h.pingedLanes;w=(1<<31-hr(42|i)+1)-1,w&=b&~(O&~D),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(c=!0,mk(h,w))}else w=ze,w=Yu(h,h===et?w:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(w&3)===0||Dl(h,w)||(c=!0,mk(h,w));h=h.next}while(c);eg=!1}}function s$(){dk()}function dk(){Vd=Qp=!1;var i=0;Oi!==0&&v$()&&(i=Oi);for(var o=Ke(),c=null,h=Fd;h!==null;){var b=h.next,w=fk(h,o);w===0?(h.next=null,c===null?Fd=b:c.next=b,b===null&&(Lo=c)):(c=h,(i!==0||(w&3)!==0)&&(Vd=!0)),h=b}zt!==0&&zt!==5||mc(i),Oi!==0&&(Oi=0)}function fk(i,o){for(var c=i.suspendedLanes,h=i.pingedLanes,b=i.expirationTimes,w=i.pendingLanes&-62914561;0<w;){var O=31-hr(w),D=1<<O,z=b[O];z===-1?((D&c)===0||(D&h)!==0)&&(b[O]=DM(D,o)):z<=o&&(i.expiredLanes|=D),w&=~D}if(o=et,c=ze,c=Yu(i,i===o?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,c===0||i===o&&(Ge===2||Ge===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&mn(h),i.callbackNode=null,i.callbackPriority=0;if((c&3)===0||Dl(i,c)){if(o=c&-c,o===i.callbackPriority)return o;switch(h!==null&&mn(h),pm(c)){case 2:case 8:c=bt;break;case 32:c=At;break;case 268435456:c=ro;break;default:c=At}return h=hk.bind(null,i),c=Gr(c,h),i.callbackPriority=o,i.callbackNode=c,o}return h!==null&&h!==null&&mn(h),i.callbackPriority=2,i.callbackNode=null,2}function hk(i,o){if(zt!==0&&zt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var c=i.callbackNode;if(Hd()&&i.callbackNode!==c)return null;var h=ze;return h=Yu(i,i===et?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(GS(i,h,o),fk(i,Ke()),i.callbackNode!=null&&i.callbackNode===c?hk.bind(null,i):null)}function mk(i,o){if(Hd())return null;GS(i,o,!0)}function o$(){b$(function(){(Ze&6)!==0?Gr(ot,s$):dk()})}function tg(){if(Oi===0){var i=_o;i===0&&(i=Ku,Ku<<=1,(Ku&261888)===0&&(Ku=256)),Oi=i}return Oi}function pk(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Qu(""+i)}function gk(i,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,i.id&&c.setAttribute("form",i.id),o.parentNode.insertBefore(c,o),i=new FormData(i),c.parentNode.removeChild(c),i}function l$(i,o,c,h,b){if(o==="submit"&&c&&c.stateNode===b){var w=pk((b[Dr]||null).action),O=h.submitter;O&&(o=(o=O[Dr]||null)?pk(o.formAction):O.getAttribute("formAction"),o!==null&&(w=o,O=null));var D=new nd("action","action",null,h,b);i.push({event:D,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Oi!==0){var z=O?gk(b,O):new FormData(b);wp(c,{pending:!0,data:z,method:b.method,action:w},null,z)}}else typeof w=="function"&&(D.preventDefault(),z=O?gk(b,O):new FormData(b),wp(c,{pending:!0,data:z,method:b.method,action:w},w,z))},currentTarget:b}]})}}for(var rg=0;rg<Im.length;rg++){var ng=Im[rg],c$=ng.toLowerCase(),u$=ng[0].toUpperCase()+ng.slice(1);Ln(c$,"on"+u$)}Ln(Z1,"onAnimationEnd"),Ln(G1,"onAnimationIteration"),Ln(Y1,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(ER,"onTransitionRun"),Ln(OR,"onTransitionStart"),Ln(NR,"onTransitionCancel"),Ln(W1,"onTransitionEnd"),oo("onMouseEnter",["mouseout","mouseover"]),oo("onMouseLeave",["mouseout","mouseover"]),oo("onPointerEnter",["pointerout","pointerover"]),oo("onPointerLeave",["pointerout","pointerover"]),ts("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ts("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ts("onBeforeInput",["compositionend","keypress","textInput","paste"]),ts("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ts("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ts("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),d$=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pc));function vk(i,o){o=(o&4)!==0;for(var c=0;c<i.length;c++){var h=i[c],b=h.event;h=h.listeners;e:{var w=void 0;if(o)for(var O=h.length-1;0<=O;O--){var D=h[O],z=D.instance,G=D.currentTarget;if(D=D.listener,z!==w&&b.isPropagationStopped())break e;w=D,b.currentTarget=G;try{w(b)}catch(ie){sd(ie)}b.currentTarget=null,w=z}else for(O=0;O<h.length;O++){if(D=h[O],z=D.instance,G=D.currentTarget,D=D.listener,z!==w&&b.isPropagationStopped())break e;w=D,b.currentTarget=G;try{w(b)}catch(ie){sd(ie)}b.currentTarget=null,w=z}}}}function Ie(i,o){var c=o[gm];c===void 0&&(c=o[gm]=new Set);var h=i+"__bubble";c.has(h)||(yk(o,i,2,!1),c.add(h))}function ag(i,o,c){var h=0;o&&(h|=4),yk(c,i,h,o)}var Kd="_reactListening"+Math.random().toString(36).slice(2);function ig(i){if(!i[Kd]){i[Kd]=!0,d1.forEach(function(c){c!=="selectionchange"&&(d$.has(c)||ag(c,!1,i),ag(c,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Kd]||(o[Kd]=!0,ag("selectionchange",!1,o))}}function yk(i,o,c,h){switch(Zk(o)){case 2:var b=z$;break;case 8:b=U$;break;default:b=xg}c=b.bind(null,o,c,i),b=void 0,!jm||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(b=!0),h?b!==void 0?i.addEventListener(o,c,{capture:!0,passive:b}):i.addEventListener(o,c,!0):b!==void 0?i.addEventListener(o,c,{passive:b}):i.addEventListener(o,c,!1)}function sg(i,o,c,h,b){var w=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var O=h.tag;if(O===3||O===4){var D=h.stateNode.containerInfo;if(D===b)break;if(O===4)for(O=h.return;O!==null;){var z=O.tag;if((z===3||z===4)&&O.stateNode.containerInfo===b)return;O=O.return}for(;D!==null;){if(O=ao(D),O===null)return;if(z=O.tag,z===5||z===6||z===26||z===27){h=w=O;continue e}D=D.parentNode}}h=h.return}S1(function(){var G=w,ie=Sm(c),ue=[];e:{var J=X1.get(i);if(J!==void 0){var te=nd,we=i;switch(i){case"keypress":if(td(c)===0)break e;case"keydown":case"keyup":te=aR;break;case"focusin":we="focus",te=Am;break;case"focusout":we="blur",te=Am;break;case"beforeblur":case"afterblur":te=Am;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=E1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=KM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=oR;break;case Z1:case G1:case Y1:te=YM;break;case W1:te=cR;break;case"scroll":case"scrollend":te=FM;break;case"wheel":te=dR;break;case"copy":case"cut":case"paste":te=XM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=N1;break;case"toggle":case"beforetoggle":te=hR}var Te=(o&4)!==0,Qe=!Te&&(i==="scroll"||i==="scrollend"),F=Te?J!==null?J+"Capture":null:J;Te=[];for(var B=G,Z;B!==null;){var oe=B;if(Z=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||Z===null||F===null||(oe=Ll(B,F),oe!=null&&Te.push(gc(B,oe,Z))),Qe)break;B=B.return}0<Te.length&&(J=new te(J,we,null,c,ie),ue.push({event:J,listeners:Te}))}}if((o&7)===0){e:{if(J=i==="mouseover"||i==="pointerover",te=i==="mouseout"||i==="pointerout",J&&c!==_m&&(we=c.relatedTarget||c.fromElement)&&(ao(we)||we[no]))break e;if((te||J)&&(J=ie.window===ie?ie:(J=ie.ownerDocument)?J.defaultView||J.parentWindow:window,te?(we=c.relatedTarget||c.toElement,te=G,we=we?ao(we):null,we!==null&&(Qe=s(we),Te=we.tag,we!==Qe||Te!==5&&Te!==27&&Te!==6)&&(we=null)):(te=null,we=G),te!==we)){if(Te=E1,oe="onMouseLeave",F="onMouseEnter",B="mouse",(i==="pointerout"||i==="pointerover")&&(Te=N1,oe="onPointerLeave",F="onPointerEnter",B="pointer"),Qe=te==null?J:$l(te),Z=we==null?J:$l(we),J=new Te(oe,B+"leave",te,c,ie),J.target=Qe,J.relatedTarget=Z,oe=null,ao(ie)===G&&(Te=new Te(F,B+"enter",we,c,ie),Te.target=Z,Te.relatedTarget=Qe,oe=Te),Qe=oe,te&&we)t:{for(Te=f$,F=te,B=we,Z=0,oe=F;oe;oe=Te(oe))Z++;oe=0;for(var Ne=B;Ne;Ne=Te(Ne))oe++;for(;0<Z-oe;)F=Te(F),Z--;for(;0<oe-Z;)B=Te(B),oe--;for(;Z--;){if(F===B||B!==null&&F===B.alternate){Te=F;break t}F=Te(F),B=Te(B)}Te=null}else Te=null;te!==null&&bk(ue,J,te,Te,!1),we!==null&&Qe!==null&&bk(ue,Qe,we,Te,!0)}}e:{if(J=G?$l(G):window,te=J.nodeName&&J.nodeName.toLowerCase(),te==="select"||te==="input"&&J.type==="file")var He=$1;else if(M1(J))if(L1)He=SR;else{He=wR;var _e=xR}else te=J.nodeName,!te||te.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?G&&wm(G.elementType)&&(He=$1):He=_R;if(He&&(He=He(i,G))){R1(ue,He,c,ie);break e}_e&&_e(i,J,G),i==="focusout"&&G&&J.type==="number"&&G.memoizedProps.value!=null&&xm(J,"number",J.value)}switch(_e=G?$l(G):window,i){case"focusin":(M1(_e)||_e.contentEditable==="true")&&(mo=_e,Rm=G,Vl=null);break;case"focusout":Vl=Rm=mo=null;break;case"mousedown":$m=!0;break;case"contextmenu":case"mouseup":case"dragend":$m=!1,V1(ue,c,ie);break;case"selectionchange":if(jR)break;case"keydown":case"keyup":V1(ue,c,ie)}var $e;if(Cm)e:{switch(i){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else ho?P1(i,c)&&(Ue="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(Ue="onCompositionStart");Ue&&(A1&&c.locale!=="ko"&&(ho||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&ho&&($e=k1()):(di=ie,Em="value"in di?di.value:di.textContent,ho=!0)),_e=Zd(G,Ue),0<_e.length&&(Ue=new O1(Ue,i,null,c,ie),ue.push({event:Ue,listeners:_e}),$e?Ue.data=$e:($e=D1(c),$e!==null&&(Ue.data=$e)))),($e=pR?gR(i,c):vR(i,c))&&(Ue=Zd(G,"onBeforeInput"),0<Ue.length&&(_e=new O1("onBeforeInput","beforeinput",null,c,ie),ue.push({event:_e,listeners:Ue}),_e.data=$e)),l$(ue,i,G,c,ie)}vk(ue,o)})}function gc(i,o,c){return{instance:i,listener:o,currentTarget:c}}function Zd(i,o){for(var c=o+"Capture",h=[];i!==null;){var b=i,w=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||w===null||(b=Ll(i,c),b!=null&&h.unshift(gc(i,b,w)),b=Ll(i,o),b!=null&&h.push(gc(i,b,w))),i.tag===3)return h;i=i.return}return[]}function f$(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function bk(i,o,c,h,b){for(var w=o._reactName,O=[];c!==null&&c!==h;){var D=c,z=D.alternate,G=D.stateNode;if(D=D.tag,z!==null&&z===h)break;D!==5&&D!==26&&D!==27||G===null||(z=G,b?(G=Ll(c,w),G!=null&&O.unshift(gc(c,G,z))):b||(G=Ll(c,w),G!=null&&O.push(gc(c,G,z)))),c=c.return}O.length!==0&&i.push({event:o,listeners:O})}var h$=/\r\n?/g,m$=/\u0000|\uFFFD/g;function xk(i){return(typeof i=="string"?i:""+i).replace(h$,`
`).replace(m$,"")}function wk(i,o){return o=xk(o),xk(i)===o}function Je(i,o,c,h,b,w){switch(c){case"children":typeof h=="string"?o==="body"||o==="textarea"&&h===""||co(i,h):(typeof h=="number"||typeof h=="bigint")&&o!=="body"&&co(i,""+h);break;case"className":Xu(i,"class",h);break;case"tabIndex":Xu(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Xu(i,c,h);break;case"style":w1(i,h,w);break;case"data":if(o!=="object"){Xu(i,"data",h);break}case"src":case"href":if(h===""&&(o!=="a"||c!=="href")){i.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(c);break}h=Qu(""+h),i.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(c==="formAction"?(o!=="input"&&Je(i,o,"name",b.name,b,null),Je(i,o,"formEncType",b.formEncType,b,null),Je(i,o,"formMethod",b.formMethod,b,null),Je(i,o,"formTarget",b.formTarget,b,null)):(Je(i,o,"encType",b.encType,b,null),Je(i,o,"method",b.method,b,null),Je(i,o,"target",b.target,b,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(c);break}h=Qu(""+h),i.setAttribute(c,h);break;case"onClick":h!=null&&(i.onclick=xa);break;case"onScroll":h!=null&&Ie("scroll",i);break;case"onScrollEnd":h!=null&&Ie("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(c=h.__html,c!=null){if(b.children!=null)throw Error(n(60));i.innerHTML=c}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}c=Qu(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(c,""+h):i.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(c,""):i.removeAttribute(c);break;case"capture":case"download":h===!0?i.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(c,h):i.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(c,h):i.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(c):i.setAttribute(c,h);break;case"popover":Ie("beforetoggle",i),Ie("toggle",i),Wu(i,"popover",h);break;case"xlinkActuate":ba(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":ba(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":ba(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":ba(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":ba(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":ba(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":ba(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":ba(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":ba(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Wu(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=qM.get(c)||c,Wu(i,c,h))}}function og(i,o,c,h,b,w){switch(c){case"style":w1(i,h,w);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(c=h.__html,c!=null){if(b.children!=null)throw Error(n(60));i.innerHTML=c}}break;case"children":typeof h=="string"?co(i,h):(typeof h=="number"||typeof h=="bigint")&&co(i,""+h);break;case"onScroll":h!=null&&Ie("scroll",i);break;case"onScrollEnd":h!=null&&Ie("scrollend",i);break;case"onClick":h!=null&&(i.onclick=xa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!f1.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(b=c.endsWith("Capture"),o=c.slice(2,b?c.length-7:void 0),w=i[Dr]||null,w=w!=null?w[c]:null,typeof w=="function"&&i.removeEventListener(o,w,b),typeof h=="function")){typeof w!="function"&&w!==null&&(c in i?i[c]=null:i.hasAttribute(c)&&i.removeAttribute(c)),i.addEventListener(o,h,b);break e}c in i?i[c]=h:h===!0?i.setAttribute(c,""):Wu(i,c,h)}}}function rr(i,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ie("error",i),Ie("load",i);var h=!1,b=!1,w;for(w in c)if(c.hasOwnProperty(w)){var O=c[w];if(O!=null)switch(w){case"src":h=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:Je(i,o,w,O,c,null)}}b&&Je(i,o,"srcSet",c.srcSet,c,null),h&&Je(i,o,"src",c.src,c,null);return;case"input":Ie("invalid",i);var D=w=O=b=null,z=null,G=null;for(h in c)if(c.hasOwnProperty(h)){var ie=c[h];if(ie!=null)switch(h){case"name":b=ie;break;case"type":O=ie;break;case"checked":z=ie;break;case"defaultChecked":G=ie;break;case"value":w=ie;break;case"defaultValue":D=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(n(137,o));break;default:Je(i,o,h,ie,c,null)}}v1(i,w,D,z,G,O,b,!1);return;case"select":Ie("invalid",i),h=O=w=null;for(b in c)if(c.hasOwnProperty(b)&&(D=c[b],D!=null))switch(b){case"value":w=D;break;case"defaultValue":O=D;break;case"multiple":h=D;default:Je(i,o,b,D,c,null)}o=w,c=O,i.multiple=!!h,o!=null?lo(i,!!h,o,!1):c!=null&&lo(i,!!h,c,!0);return;case"textarea":Ie("invalid",i),w=b=h=null;for(O in c)if(c.hasOwnProperty(O)&&(D=c[O],D!=null))switch(O){case"value":h=D;break;case"defaultValue":b=D;break;case"children":w=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(n(91));break;default:Je(i,o,O,D,c,null)}b1(i,h,b,w);return;case"option":for(z in c)if(c.hasOwnProperty(z)&&(h=c[z],h!=null))switch(z){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Je(i,o,z,h,c,null)}return;case"dialog":Ie("beforetoggle",i),Ie("toggle",i),Ie("cancel",i),Ie("close",i);break;case"iframe":case"object":Ie("load",i);break;case"video":case"audio":for(h=0;h<pc.length;h++)Ie(pc[h],i);break;case"image":Ie("error",i),Ie("load",i);break;case"details":Ie("toggle",i);break;case"embed":case"source":case"link":Ie("error",i),Ie("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in c)if(c.hasOwnProperty(G)&&(h=c[G],h!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:Je(i,o,G,h,c,null)}return;default:if(wm(o)){for(ie in c)c.hasOwnProperty(ie)&&(h=c[ie],h!==void 0&&og(i,o,ie,h,c,void 0));return}}for(D in c)c.hasOwnProperty(D)&&(h=c[D],h!=null&&Je(i,o,D,h,c,null))}function p$(i,o,c,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,w=null,O=null,D=null,z=null,G=null,ie=null;for(te in c){var ue=c[te];if(c.hasOwnProperty(te)&&ue!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":z=ue;default:h.hasOwnProperty(te)||Je(i,o,te,null,h,ue)}}for(var J in h){var te=h[J];if(ue=c[J],h.hasOwnProperty(J)&&(te!=null||ue!=null))switch(J){case"type":w=te;break;case"name":b=te;break;case"checked":G=te;break;case"defaultChecked":ie=te;break;case"value":O=te;break;case"defaultValue":D=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(n(137,o));break;default:te!==ue&&Je(i,o,J,te,h,ue)}}bm(i,O,D,z,G,ie,w,b);return;case"select":te=O=D=J=null;for(w in c)if(z=c[w],c.hasOwnProperty(w)&&z!=null)switch(w){case"value":break;case"multiple":te=z;default:h.hasOwnProperty(w)||Je(i,o,w,null,h,z)}for(b in h)if(w=h[b],z=c[b],h.hasOwnProperty(b)&&(w!=null||z!=null))switch(b){case"value":J=w;break;case"defaultValue":D=w;break;case"multiple":O=w;default:w!==z&&Je(i,o,b,w,h,z)}o=D,c=O,h=te,J!=null?lo(i,!!c,J,!1):!!h!=!!c&&(o!=null?lo(i,!!c,o,!0):lo(i,!!c,c?[]:"",!1));return;case"textarea":te=J=null;for(D in c)if(b=c[D],c.hasOwnProperty(D)&&b!=null&&!h.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:Je(i,o,D,null,h,b)}for(O in h)if(b=h[O],w=c[O],h.hasOwnProperty(O)&&(b!=null||w!=null))switch(O){case"value":J=b;break;case"defaultValue":te=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(n(91));break;default:b!==w&&Je(i,o,O,b,h,w)}y1(i,J,te);return;case"option":for(var we in c)if(J=c[we],c.hasOwnProperty(we)&&J!=null&&!h.hasOwnProperty(we))switch(we){case"selected":i.selected=!1;break;default:Je(i,o,we,null,h,J)}for(z in h)if(J=h[z],te=c[z],h.hasOwnProperty(z)&&J!==te&&(J!=null||te!=null))switch(z){case"selected":i.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:Je(i,o,z,J,h,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in c)J=c[Te],c.hasOwnProperty(Te)&&J!=null&&!h.hasOwnProperty(Te)&&Je(i,o,Te,null,h,J);for(G in h)if(J=h[G],te=c[G],h.hasOwnProperty(G)&&J!==te&&(J!=null||te!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(n(137,o));break;default:Je(i,o,G,J,h,te)}return;default:if(wm(o)){for(var Qe in c)J=c[Qe],c.hasOwnProperty(Qe)&&J!==void 0&&!h.hasOwnProperty(Qe)&&og(i,o,Qe,void 0,h,J);for(ie in h)J=h[ie],te=c[ie],!h.hasOwnProperty(ie)||J===te||J===void 0&&te===void 0||og(i,o,ie,J,h,te);return}}for(var F in c)J=c[F],c.hasOwnProperty(F)&&J!=null&&!h.hasOwnProperty(F)&&Je(i,o,F,null,h,J);for(ue in h)J=h[ue],te=c[ue],!h.hasOwnProperty(ue)||J===te||J==null&&te==null||Je(i,o,ue,J,h,te)}function _k(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function g$(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,c=performance.getEntriesByType("resource"),h=0;h<c.length;h++){var b=c[h],w=b.transferSize,O=b.initiatorType,D=b.duration;if(w&&D&&_k(O)){for(O=0,D=b.responseEnd,h+=1;h<c.length;h++){var z=c[h],G=z.startTime;if(G>D)break;var ie=z.transferSize,ue=z.initiatorType;ie&&_k(ue)&&(z=z.responseEnd,O+=ie*(z<D?1:(D-G)/(z-G)))}if(--h,o+=8*(w+O)/(b.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var lg=null,cg=null;function Gd(i){return i.nodeType===9?i:i.ownerDocument}function Sk(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kk(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function ug(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var dg=null;function v$(){var i=window.event;return i&&i.type==="popstate"?i===dg?!1:(dg=i,!0):(dg=null,!1)}var jk=typeof setTimeout=="function"?setTimeout:void 0,y$=typeof clearTimeout=="function"?clearTimeout:void 0,Ek=typeof Promise=="function"?Promise:void 0,b$=typeof queueMicrotask=="function"?queueMicrotask:typeof Ek<"u"?function(i){return Ek.resolve(null).then(i).catch(x$)}:jk;function x$(i){setTimeout(function(){throw i})}function Ni(i){return i==="head"}function Ok(i,o){var c=o,h=0;do{var b=c.nextSibling;if(i.removeChild(c),b&&b.nodeType===8)if(c=b.data,c==="/$"||c==="/&"){if(h===0){i.removeChild(b),Bo(o);return}h--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")h++;else if(c==="html")vc(i.ownerDocument.documentElement);else if(c==="head"){c=i.ownerDocument.head,vc(c);for(var w=c.firstChild;w;){var O=w.nextSibling,D=w.nodeName;w[Rl]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&w.rel.toLowerCase()==="stylesheet"||c.removeChild(w),w=O}}else c==="body"&&vc(i.ownerDocument.body);c=b}while(c);Bo(o)}function Nk(i,o){var c=i;i=0;do{var h=c.nextSibling;if(c.nodeType===1?o?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(o?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),h&&h.nodeType===8)if(c=h.data,c==="/$"){if(i===0)break;i--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||i++;c=h}while(c)}function fg(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":fg(c),vm(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}i.removeChild(c)}}function w$(i,o,c,h){for(;i.nodeType===1;){var b=c;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[Rl])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(w=i.getAttribute("rel"),w==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(w!==b.rel||i.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||i.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||i.getAttribute("title")!==(b.title==null?null:b.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(w=i.getAttribute("src"),(w!==(b.src==null?null:b.src)||i.getAttribute("type")!==(b.type==null?null:b.type)||i.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&w&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var w=b.name==null?null:""+b.name;if(b.type==="hidden"&&i.getAttribute("name")===w)return i}else return i;if(i=kn(i.nextSibling),i===null)break}return null}function _$(i,o,c){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!c||(i=kn(i.nextSibling),i===null))return null;return i}function Ak(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=kn(i.nextSibling),i===null))return null;return i}function hg(i){return i.data==="$?"||i.data==="$~"}function mg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function S$(i,o){var c=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||c.readyState!=="loading")o();else{var h=function(){o(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function kn(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var pg=null;function Tk(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"||c==="/&"){if(o===0)return kn(i.nextSibling);o--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||o++}i=i.nextSibling}return null}function Ck(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(o===0)return i;o--}else c!=="/$"&&c!=="/&"||o++}i=i.previousSibling}return null}function Pk(i,o,c){switch(o=Gd(c),i){case"html":if(i=o.documentElement,!i)throw Error(n(452));return i;case"head":if(i=o.head,!i)throw Error(n(453));return i;case"body":if(i=o.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function vc(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);vm(i)}var jn=new Map,Dk=new Set;function Yd(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var $a=Y.d;Y.d={f:k$,r:j$,D:E$,C:O$,L:N$,m:A$,X:C$,S:T$,M:P$};function k$(){var i=$a.f(),o=Ud();return i||o}function j$(i){var o=io(i);o!==null&&o.tag===5&&o.type==="form"?W_(o):$a.r(i)}var Io=typeof document>"u"?null:document;function Mk(i,o,c){var h=Io;if(h&&typeof o=="string"&&o){var b=vn(o);b='link[rel="'+i+'"][href="'+b+'"]',typeof c=="string"&&(b+='[crossorigin="'+c+'"]'),Dk.has(b)||(Dk.add(b),i={rel:i,crossOrigin:c,href:o},h.querySelector(b)===null&&(o=h.createElement("link"),rr(o,"link",i),Kt(o),h.head.appendChild(o)))}}function E$(i){$a.D(i),Mk("dns-prefetch",i,null)}function O$(i,o){$a.C(i,o),Mk("preconnect",i,o)}function N$(i,o,c){$a.L(i,o,c);var h=Io;if(h&&i&&o){var b='link[rel="preload"][as="'+vn(o)+'"]';o==="image"&&c&&c.imageSrcSet?(b+='[imagesrcset="'+vn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(b+='[imagesizes="'+vn(c.imageSizes)+'"]')):b+='[href="'+vn(i)+'"]';var w=b;switch(o){case"style":w=zo(i);break;case"script":w=Uo(i)}jn.has(w)||(i=g({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:i,as:o},c),jn.set(w,i),h.querySelector(b)!==null||o==="style"&&h.querySelector(yc(w))||o==="script"&&h.querySelector(bc(w))||(o=h.createElement("link"),rr(o,"link",i),Kt(o),h.head.appendChild(o)))}}function A$(i,o){$a.m(i,o);var c=Io;if(c&&i){var h=o&&typeof o.as=="string"?o.as:"script",b='link[rel="modulepreload"][as="'+vn(h)+'"][href="'+vn(i)+'"]',w=b;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Uo(i)}if(!jn.has(w)&&(i=g({rel:"modulepreload",href:i},o),jn.set(w,i),c.querySelector(b)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(bc(w)))return}h=c.createElement("link"),rr(h,"link",i),Kt(h),c.head.appendChild(h)}}}function T$(i,o,c){$a.S(i,o,c);var h=Io;if(h&&i){var b=so(h).hoistableStyles,w=zo(i);o=o||"default";var O=b.get(w);if(!O){var D={loading:0,preload:null};if(O=h.querySelector(yc(w)))D.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":o},c),(c=jn.get(w))&&gg(i,c);var z=O=h.createElement("link");Kt(z),rr(z,"link",i),z._p=new Promise(function(G,ie){z.onload=G,z.onerror=ie}),z.addEventListener("load",function(){D.loading|=1}),z.addEventListener("error",function(){D.loading|=2}),D.loading|=4,Wd(O,o,h)}O={type:"stylesheet",instance:O,count:1,state:D},b.set(w,O)}}}function C$(i,o){$a.X(i,o);var c=Io;if(c&&i){var h=so(c).hoistableScripts,b=Uo(i),w=h.get(b);w||(w=c.querySelector(bc(b)),w||(i=g({src:i,async:!0},o),(o=jn.get(b))&&vg(i,o),w=c.createElement("script"),Kt(w),rr(w,"link",i),c.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(b,w))}}function P$(i,o){$a.M(i,o);var c=Io;if(c&&i){var h=so(c).hoistableScripts,b=Uo(i),w=h.get(b);w||(w=c.querySelector(bc(b)),w||(i=g({src:i,async:!0,type:"module"},o),(o=jn.get(b))&&vg(i,o),w=c.createElement("script"),Kt(w),rr(w,"link",i),c.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(b,w))}}function Rk(i,o,c,h){var b=(b=ce.current)?Yd(b):null;if(!b)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=zo(c.href),c=so(b).hoistableStyles,h=c.get(o),h||(h={type:"style",instance:null,count:0,state:null},c.set(o,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){i=zo(c.href);var w=so(b).hoistableStyles,O=w.get(i);if(O||(b=b.ownerDocument||b,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(i,O),(w=b.querySelector(yc(i)))&&!w._p&&(O.instance=w,O.state.loading=5),jn.has(i)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},jn.set(i,c),w||D$(b,i,c,O.state))),o&&h===null)throw Error(n(528,""));return O}if(o&&h!==null)throw Error(n(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Uo(c),c=so(b).hoistableScripts,h=c.get(o),h||(h={type:"script",instance:null,count:0,state:null},c.set(o,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function zo(i){return'href="'+vn(i)+'"'}function yc(i){return'link[rel="stylesheet"]['+i+"]"}function $k(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function D$(i,o,c,h){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(o=i.createElement("link"),h.preload=o,o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),rr(o,"link",c),Kt(o),i.head.appendChild(o))}function Uo(i){return'[src="'+vn(i)+'"]'}function bc(i){return"script[async]"+i}function Lk(i,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var h=i.querySelector('style[data-href~="'+vn(c.href)+'"]');if(h)return o.instance=h,Kt(h),h;var b=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),Kt(h),rr(h,"style",b),Wd(h,c.precedence,i),o.instance=h;case"stylesheet":b=zo(c.href);var w=i.querySelector(yc(b));if(w)return o.state.loading|=4,o.instance=w,Kt(w),w;h=$k(c),(b=jn.get(b))&&gg(h,b),w=(i.ownerDocument||i).createElement("link"),Kt(w);var O=w;return O._p=new Promise(function(D,z){O.onload=D,O.onerror=z}),rr(w,"link",h),o.state.loading|=4,Wd(w,c.precedence,i),o.instance=w;case"script":return w=Uo(c.src),(b=i.querySelector(bc(w)))?(o.instance=b,Kt(b),b):(h=c,(b=jn.get(w))&&(h=g({},c),vg(h,b)),i=i.ownerDocument||i,b=i.createElement("script"),Kt(b),rr(b,"link",h),i.head.appendChild(b),o.instance=b);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(h=o.instance,o.state.loading|=4,Wd(h,c.precedence,i));return o.instance}function Wd(i,o,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=h.length?h[h.length-1]:null,w=b,O=0;O<h.length;O++){var D=h[O];if(D.dataset.precedence===o)w=D;else if(w!==b)break}w?w.parentNode.insertBefore(i,w.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(i,o.firstChild))}function gg(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function vg(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var Xd=null;function Ik(i,o,c){if(Xd===null){var h=new Map,b=Xd=new Map;b.set(c,h)}else b=Xd,h=b.get(c),h||(h=new Map,b.set(c,h));if(h.has(i))return h;for(h.set(i,null),c=c.getElementsByTagName(i),b=0;b<c.length;b++){var w=c[b];if(!(w[Rl]||w[Jt]||i==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var O=w.getAttribute(o)||"";O=i+O;var D=h.get(O);D?D.push(w):h.set(O,[w])}}return h}function zk(i,o,c){i=i.ownerDocument||i,i.head.insertBefore(c,o==="title"?i.querySelector("head > title"):null)}function M$(i,o,c){if(c===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function Uk(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function R$(i,o,c,h){if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var b=zo(h.href),w=o.querySelector(yc(b));if(w){o=w._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=Jd.bind(i),o.then(i,i)),c.state.loading|=4,c.instance=w,Kt(w);return}w=o.ownerDocument||o,h=$k(h),(b=jn.get(b))&&gg(h,b),w=w.createElement("link"),Kt(w);var O=w;O._p=new Promise(function(D,z){O.onload=D,O.onerror=z}),rr(w,"link",h),c.instance=w}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(i.count++,c=Jd.bind(i),o.addEventListener("load",c),o.addEventListener("error",c))}}var yg=0;function $$(i,o){return i.stylesheets&&i.count===0&&ef(i,i.stylesheets),0<i.count||0<i.imgCount?function(c){var h=setTimeout(function(){if(i.stylesheets&&ef(i,i.stylesheets),i.unsuspend){var w=i.unsuspend;i.unsuspend=null,w()}},6e4+o);0<i.imgBytes&&yg===0&&(yg=62500*g$());var b=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&ef(i,i.stylesheets),i.unsuspend)){var w=i.unsuspend;i.unsuspend=null,w()}},(i.imgBytes>yg?50:800)+o);return i.unsuspend=c,function(){i.unsuspend=null,clearTimeout(h),clearTimeout(b)}}:null}function Jd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ef(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Qd=null;function ef(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Qd=new Map,o.forEach(L$,i),Qd=null,Jd.call(i))}function L$(i,o){if(!(o.state.loading&4)){var c=Qd.get(i);if(c)var h=c.get(null);else{c=new Map,Qd.set(i,c);for(var b=i.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<b.length;w++){var O=b[w];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(c.set(O.dataset.precedence,O),h=O)}h&&c.set(null,h)}b=o.instance,O=b.getAttribute("data-precedence"),w=c.get(O)||h,w===h&&c.set(null,b),c.set(O,b),this.count++,h=Jd.bind(this),b.addEventListener("load",h),b.addEventListener("error",h),w?w.parentNode.insertBefore(b,w.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(b,i.firstChild)),o.state.loading|=4}}var xc={$$typeof:E,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function I$(i,o,c,h,b,w,O,D,z){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hm(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hm(0),this.hiddenUpdates=hm(null),this.identifierPrefix=h,this.onUncaughtError=b,this.onCaughtError=w,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function Bk(i,o,c,h,b,w,O,D,z,G,ie,ue){return i=new I$(i,o,c,O,z,G,ie,ue,D),o=1,w===!0&&(o|=24),w=Xr(3,null,null,o),i.current=w,w.stateNode=i,o=Xm(),o.refCount++,i.pooledCache=o,o.refCount++,w.memoizedState={element:h,isDehydrated:c,cache:o},tp(w),i}function qk(i){return i?(i=vo,i):vo}function Hk(i,o,c,h,b,w){b=qk(b),h.context===null?h.context=b:h.pendingContext=b,h=vi(o),h.payload={element:c},w=w===void 0?null:w,w!==null&&(h.callback=w),c=yi(i,h,o),c!==null&&(zr(c,i,o),Jl(c,i,o))}function Fk(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<o?c:o}}function bg(i,o){Fk(i,o),(i=i.alternate)&&Fk(i,o)}function Vk(i){if(i.tag===13||i.tag===31){var o=is(i,67108864);o!==null&&zr(o,i,67108864),bg(i,67108864)}}function Kk(i){if(i.tag===13||i.tag===31){var o=rn();o=mm(o);var c=is(i,o);c!==null&&zr(c,i,o),bg(i,o)}}var tf=!0;function z$(i,o,c,h){var b=U.T;U.T=null;var w=Y.p;try{Y.p=2,xg(i,o,c,h)}finally{Y.p=w,U.T=b}}function U$(i,o,c,h){var b=U.T;U.T=null;var w=Y.p;try{Y.p=8,xg(i,o,c,h)}finally{Y.p=w,U.T=b}}function xg(i,o,c,h){if(tf){var b=wg(h);if(b===null)sg(i,o,h,rf,c),Gk(i,h);else if(q$(b,i,o,c,h))h.stopPropagation();else if(Gk(i,h),o&4&&-1<B$.indexOf(i)){for(;b!==null;){var w=io(b);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var O=es(w.pendingLanes);if(O!==0){var D=w;for(D.pendingLanes|=2,D.entangledLanes|=2;O;){var z=1<<31-hr(O);D.entanglements[1]|=z,O&=~z}na(w),(Ze&6)===0&&(Id=Ke()+500,mc(0))}}break;case 31:case 13:D=is(w,2),D!==null&&zr(D,w,2),Ud(),bg(w,2)}if(w=wg(h),w===null&&sg(i,o,h,rf,c),w===b)break;b=w}b!==null&&h.stopPropagation()}else sg(i,o,h,null,c)}}function wg(i){return i=Sm(i),_g(i)}var rf=null;function _g(i){if(rf=null,i=ao(i),i!==null){var o=s(i);if(o===null)i=null;else{var c=o.tag;if(c===13){if(i=l(o),i!==null)return i;i=null}else if(c===31){if(i=u(o),i!==null)return i;i=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return rf=i,null}function Zk(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pn()){case ot:return 2;case bt:return 8;case At:case Qi:return 32;case ro:return 268435456;default:return 32}default:return 32}}var Sg=!1,Ai=null,Ti=null,Ci=null,wc=new Map,_c=new Map,Pi=[],B$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Gk(i,o){switch(i){case"focusin":case"focusout":Ai=null;break;case"dragenter":case"dragleave":Ti=null;break;case"mouseover":case"mouseout":Ci=null;break;case"pointerover":case"pointerout":wc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":_c.delete(o.pointerId)}}function Sc(i,o,c,h,b,w){return i===null||i.nativeEvent!==w?(i={blockedOn:o,domEventName:c,eventSystemFlags:h,nativeEvent:w,targetContainers:[b]},o!==null&&(o=io(o),o!==null&&Vk(o)),i):(i.eventSystemFlags|=h,o=i.targetContainers,b!==null&&o.indexOf(b)===-1&&o.push(b),i)}function q$(i,o,c,h,b){switch(o){case"focusin":return Ai=Sc(Ai,i,o,c,h,b),!0;case"dragenter":return Ti=Sc(Ti,i,o,c,h,b),!0;case"mouseover":return Ci=Sc(Ci,i,o,c,h,b),!0;case"pointerover":var w=b.pointerId;return wc.set(w,Sc(wc.get(w)||null,i,o,c,h,b)),!0;case"gotpointercapture":return w=b.pointerId,_c.set(w,Sc(_c.get(w)||null,i,o,c,h,b)),!0}return!1}function Yk(i){var o=ao(i.target);if(o!==null){var c=s(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){i.blockedOn=o,c1(i.priority,function(){Kk(c)});return}}else if(o===31){if(o=u(c),o!==null){i.blockedOn=o,c1(i.priority,function(){Kk(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function nf(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var c=wg(i.nativeEvent);if(c===null){c=i.nativeEvent;var h=new c.constructor(c.type,c);_m=h,c.target.dispatchEvent(h),_m=null}else return o=io(c),o!==null&&Vk(o),i.blockedOn=c,!1;o.shift()}return!0}function Wk(i,o,c){nf(i)&&c.delete(o)}function H$(){Sg=!1,Ai!==null&&nf(Ai)&&(Ai=null),Ti!==null&&nf(Ti)&&(Ti=null),Ci!==null&&nf(Ci)&&(Ci=null),wc.forEach(Wk),_c.forEach(Wk)}function af(i,o){i.blockedOn===o&&(i.blockedOn=null,Sg||(Sg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,H$)))}var sf=null;function Xk(i){sf!==i&&(sf=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){sf===i&&(sf=null);for(var o=0;o<i.length;o+=3){var c=i[o],h=i[o+1],b=i[o+2];if(typeof h!="function"){if(_g(h||c)===null)continue;break}var w=io(c);w!==null&&(i.splice(o,3),o-=3,wp(w,{pending:!0,data:b,method:c.method,action:h},h,b))}}))}function Bo(i){function o(z){return af(z,i)}Ai!==null&&af(Ai,i),Ti!==null&&af(Ti,i),Ci!==null&&af(Ci,i),wc.forEach(o),_c.forEach(o);for(var c=0;c<Pi.length;c++){var h=Pi[c];h.blockedOn===i&&(h.blockedOn=null)}for(;0<Pi.length&&(c=Pi[0],c.blockedOn===null);)Yk(c),c.blockedOn===null&&Pi.shift();if(c=(i.ownerDocument||i).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var b=c[h],w=c[h+1],O=b[Dr]||null;if(typeof w=="function")O||Xk(c);else if(O){var D=null;if(w&&w.hasAttribute("formAction")){if(b=w,O=w[Dr]||null)D=O.formAction;else if(_g(b)!==null)continue}else D=O.action;typeof D=="function"?c[h+1]=D:(c.splice(h,3),h-=3),Xk(c)}}}function Jk(){function i(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(O){return b=O})},focusReset:"manual",scroll:"manual"})}function o(){b!==null&&(b(),b=null),h||setTimeout(c,20)}function c(){if(!h&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,b=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(c,100),function(){h=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),b!==null&&(b(),b=null)}}}function kg(i){this._internalRoot=i}of.prototype.render=kg.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));var c=o.current,h=rn();Hk(c,h,i,o,null,null)},of.prototype.unmount=kg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Hk(i.current,2,null,i,null,null),Ud(),o[no]=null}};function of(i){this._internalRoot=i}of.prototype.unstable_scheduleHydration=function(i){if(i){var o=l1();i={blockedOn:null,target:i,priority:o};for(var c=0;c<Pi.length&&o!==0&&o<Pi[c].priority;c++);Pi.splice(c,0,i),c===0&&Yk(i)}};var Qk=t.version;if(Qk!=="19.2.1")throw Error(n(527,Qk,"19.2.1"));Y.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=f(o),i=i!==null?m(i):null,i=i===null?null:i.stateNode,i};var F$={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lf.isDisabled&&lf.supportsFiber)try{ya=lf.inject(F$),It=lf}catch{}}return jc.createRoot=function(i,o){if(!a(i))throw Error(n(299));var c=!1,h="",b=sS,w=oS,O=lS;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(b=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(O=o.onRecoverableError)),o=Bk(i,1,!1,null,null,c,h,null,b,w,O,Jk),i[no]=o.current,ig(i),new kg(o)},jc.hydrateRoot=function(i,o,c){if(!a(i))throw Error(n(299));var h=!1,b="",w=sS,O=oS,D=lS,z=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(b=c.identifierPrefix),c.onUncaughtError!==void 0&&(w=c.onUncaughtError),c.onCaughtError!==void 0&&(O=c.onCaughtError),c.onRecoverableError!==void 0&&(D=c.onRecoverableError),c.formState!==void 0&&(z=c.formState)),o=Bk(i,1,!0,o,c??null,h,b,z,w,O,D,Jk),o.context=qk(null),c=o.current,h=rn(),h=mm(h),b=vi(h),b.callback=null,yi(c,b,h),c=h,o.current.lanes=c,Ml(o,c),na(o),i[no]=o.current,ig(i),new of(o)},jc.version="19.2.1",jc}var c2;function Q$(){if(c2)return Og.exports;c2=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Og.exports=J$(),Og.exports}var e6=Q$();function t6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const Jb=x.forwardRef(t6);function r6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const T5=x.forwardRef(r6);function n6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m12.75 15 3-3m0 0-3-3m3 3h-7.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const a6=x.forwardRef(n6);function i6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const s6=x.forwardRef(i6);function o6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))}const l6=x.forwardRef(o6);function c6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"}))}const u6=x.forwardRef(c6);function d6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"}))}const C5=x.forwardRef(d6);function f6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const h6=x.forwardRef(f6);function m6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const oa=x.forwardRef(m6);function p6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const Qb=x.forwardRef(p6);function g6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const ex=x.forwardRef(g6);function v6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"}))}const tx=x.forwardRef(v6);function y6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"}))}const u2=x.forwardRef(y6);function b6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"}))}const Sy=x.forwardRef(b6);function x6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const o0=x.forwardRef(x6);function w6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9.75v6.75m0 0-3-3m3 3 3-3m-8.25 6a4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H6.75Z"}))}const _6=x.forwardRef(w6);function S6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15a4.5 4.5 0 0 0 4.5 4.5H18a3.75 3.75 0 0 0 1.332-7.257 3 3 0 0 0-3.758-3.848 5.25 5.25 0 0 0-10.233 2.33A4.502 4.502 0 0 0 2.25 15Z"}))}const k6=x.forwardRef(S6);function j6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const E6=x.forwardRef(j6);function O6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 7.5-9-5.25L3 7.5m18 0-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9"}))}const rx=x.forwardRef(O6);function N6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const A6=x.forwardRef(N6);function T6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const P5=x.forwardRef(T6);function C6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const P6=x.forwardRef(C6);function D6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const D5=x.forwardRef(D6);function M6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const Cg=x.forwardRef(M6);function R6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const $6=x.forwardRef(R6);function L6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"}))}const I6=x.forwardRef(L6);function z6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const Wc=x.forwardRef(z6);function U6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const B6=x.forwardRef(U6);function q6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const l0=x.forwardRef(q6);function H6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0 1 10.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0 .229 2.523a1.125 1.125 0 0 1-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0 0 21 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 0 0-1.913-.247M6.34 18H5.25A2.25 2.25 0 0 1 3 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 0 1 1.913-.247m10.5 0a48.536 48.536 0 0 0-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5Zm-3 0h.008v.008H15V10.5Z"}))}const F6=x.forwardRef(H6);function V6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 3.75 9.375v-4.5ZM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 0 1-1.125-1.125v-4.5ZM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 13.5 9.375v-4.5Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 6.75h.75v.75h-.75v-.75ZM6.75 16.5h.75v.75h-.75v-.75ZM16.5 6.75h.75v.75h-.75v-.75ZM13.5 13.5h.75v.75h-.75v-.75ZM13.5 19.5h.75v.75h-.75v-.75ZM19.5 13.5h.75v.75h-.75v-.75ZM19.5 19.5h.75v.75h-.75v-.75ZM16.5 16.5h.75v.75h-.75v-.75Z"}))}const K6=x.forwardRef(V6);function Z6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const M5=x.forwardRef(Z6);function G6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"}))}const R5=x.forwardRef(G6);function Y6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 0 1-1.125-1.125M3.375 19.5h7.5c.621 0 1.125-.504 1.125-1.125m-9.75 0V5.625m0 12.75v-1.5c0-.621.504-1.125 1.125-1.125m18.375 2.625V5.625m0 12.75c0 .621-.504 1.125-1.125 1.125m1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125m0 3.75h-7.5A1.125 1.125 0 0 1 12 18.375m9.75-12.75c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125m19.5 0v1.5c0 .621-.504 1.125-1.125 1.125M2.25 5.625v1.5c0 .621.504 1.125 1.125 1.125m0 0h17.25m-17.25 0h7.5c.621 0 1.125.504 1.125 1.125M3.375 8.25c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125m17.25-3.75h-7.5c-.621 0-1.125.504-1.125 1.125m8.625-1.125c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125M12 10.875v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 10.875c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125M13.125 12h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125M20.625 12c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5M12 14.625v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 14.625c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125m0 1.5v-1.5m0 0c0-.621.504-1.125 1.125-1.125m0 0h7.5"}))}const $5=x.forwardRef(Y6);function W6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const da=x.forwardRef(W6);function X6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 0 1-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 0 0-3.213-9.193 2.056 2.056 0 0 0-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 0 0-10.026 0 1.106 1.106 0 0 0-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"}))}const un=x.forwardRef(X6);function J6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const Q6=x.forwardRef(J6);function eL({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Zs=x.forwardRef(eL);const tL=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rL=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),d2=e=>{const t=rL(e);return t.charAt(0).toUpperCase()+t.slice(1)},L5=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),nL=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var aL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const iL=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:l,...u},d)=>x.createElement("svg",{ref:d,...aL,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:L5("lucide",a),...!s&&!nL(u)&&{"aria-hidden":"true"},...u},[...l.map(([f,m])=>x.createElement(f,m)),...Array.isArray(s)?s:[s]]));const xu=(e,t)=>{const r=x.forwardRef(({className:n,...a},s)=>x.createElement(iL,{ref:s,iconNode:t,className:L5(`lucide-${tL(d2(e))}`,`lucide-${e}`,n),...a}));return r.displayName=d2(e),r};const sL=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],oL=xu("boxes",sL);const lL=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],cL=xu("calendar-clock",lL);const uL=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],dL=xu("crown",uL);const fL=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Ff=xu("package",fL);const hL=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],mL=xu("truck",hL);var La={},uf={},ky=function(e,t){return ky=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},ky(e,t)};function I5(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ky(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var rh=function(){return rh=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},rh.apply(this,arguments)};function bl(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function z5(e,t,r,n){var a=arguments.length,s=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var u=e.length-1;u>=0;u--)(l=e[u])&&(s=(a<3?l(s):a>3?l(t,r,s):l(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s}function U5(e,t){return function(r,n){t(r,n,e)}}function B5(e,t,r,n,a,s){function l(j){if(j!==void 0&&typeof j!="function")throw new TypeError("Function expected");return j}for(var u=n.kind,d=u==="getter"?"get":u==="setter"?"set":"value",f=!t&&e?n.static?e:e.prototype:null,m=t||(f?Object.getOwnPropertyDescriptor(f,n.name):{}),g,v=!1,y=r.length-1;y>=0;y--){var _={};for(var k in n)_[k]=k==="access"?{}:n[k];for(var k in n.access)_.access[k]=n.access[k];_.addInitializer=function(j){if(v)throw new TypeError("Cannot add initializers after decoration has completed");s.push(l(j||null))};var S=(0,r[y])(u==="accessor"?{get:m.get,set:m.set}:m[d],_);if(u==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(g=l(S.get))&&(m.get=g),(g=l(S.set))&&(m.set=g),(g=l(S.init))&&a.unshift(g)}else(g=l(S))&&(u==="field"?a.unshift(g):m[d]=g)}f&&Object.defineProperty(f,n.name,m),v=!0}function q5(e,t,r){for(var n=arguments.length>2,a=0;a<t.length;a++)r=n?t[a].call(e,r):t[a].call(e);return n?r:void 0}function H5(e){return typeof e=="symbol"?e:"".concat(e)}function F5(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function V5(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function be(e,t,r,n){function a(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function u(m){try{f(n.next(m))}catch(g){l(g)}}function d(m){try{f(n.throw(m))}catch(g){l(g)}}function f(m){m.done?s(m.value):a(m.value).then(u,d)}f((n=n.apply(e,t||[])).next())})}function K5(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,a,s,l=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return l.next=u(0),l.throw=u(1),l.return=u(2),typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(f){return function(m){return d([f,m])}}function d(f){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,f[0]&&(r=0)),r;)try{if(n=1,a&&(s=f[0]&2?a.return:f[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,f[1])).done)return s;switch(a=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,a=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){r.label=f[1];break}if(f[0]===6&&r.label<s[1]){r.label=s[1],s=f;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(f);break}s[2]&&r.ops.pop(),r.trys.pop();continue}f=t.call(e,r)}catch(m){f=[6,m],a=0}finally{n=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var c0=Object.create?(function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]});function Z5(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&c0(t,e,r)}function nh(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function nx(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,s=[],l;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(u){l={error:u}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(l)throw l.error}}return s}function G5(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(nx(arguments[t]));return e}function Y5(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var s=arguments[t],l=0,u=s.length;l<u;l++,a++)n[a]=s[l];return n}function W5(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function ll(e){return this instanceof ll?(this.v=e,this):new ll(e)}function X5(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,s=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),a[Symbol.asyncIterator]=function(){return this},a;function l(y){return function(_){return Promise.resolve(_).then(y,g)}}function u(y,_){n[y]&&(a[y]=function(k){return new Promise(function(S,j){s.push([y,k,S,j])>1||d(y,k)})},_&&(a[y]=_(a[y])))}function d(y,_){try{f(n[y](_))}catch(k){v(s[0][3],k)}}function f(y){y.value instanceof ll?Promise.resolve(y.value.v).then(m,g):v(s[0][2],y)}function m(y){d("next",y)}function g(y){d("throw",y)}function v(y,_){y(_),s.shift(),s.length&&d(s[0][0],s[0][1])}}function J5(e){var t,r;return t={},n("next"),n("throw",function(a){throw a}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(a,s){t[a]=e[a]?function(l){return(r=!r)?{value:ll(e[a](l)),done:!1}:s?s(l):l}:s}}function Q5(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof nh=="function"?nh(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(l){return new Promise(function(u,d){l=e[s](l),a(u,d,l.done,l.value)})}}function a(s,l,u,d){Promise.resolve(d).then(function(f){s({value:f,done:u})},l)}}function eA(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var pL=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},jy=function(e){return jy=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},jy(e)};function tA(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=jy(e),n=0;n<r.length;n++)r[n]!=="default"&&c0(t,e,r[n]);return pL(t,e),t}function rA(e){return e&&e.__esModule?e:{default:e}}function nA(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function aA(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r}function iA(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function sA(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(a=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var gL=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function oA(e){function t(s){e.error=e.hasError?new gL(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var r,n=0;function a(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(a);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(a,function(l){return t(l),a()})}else n|=1}catch(l){t(l)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return a()}function lA(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,a,s,l){return n?t?".jsx":".js":a&&(!s||!l)?r:a+s+"."+l.toLowerCase()+"js"}):e}const vL={__extends:I5,__assign:rh,__rest:bl,__decorate:z5,__param:U5,__esDecorate:B5,__runInitializers:q5,__propKey:H5,__setFunctionName:F5,__metadata:V5,__awaiter:be,__generator:K5,__createBinding:c0,__exportStar:Z5,__values:nh,__read:nx,__spread:G5,__spreadArrays:Y5,__spreadArray:W5,__await:ll,__asyncGenerator:X5,__asyncDelegator:J5,__asyncValues:Q5,__makeTemplateObject:eA,__importStar:tA,__importDefault:rA,__classPrivateFieldGet:nA,__classPrivateFieldSet:aA,__classPrivateFieldIn:iA,__addDisposableResource:sA,__disposeResources:oA,__rewriteRelativeImportExtension:lA},yL=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:sA,get __assign(){return rh},__asyncDelegator:J5,__asyncGenerator:X5,__asyncValues:Q5,__await:ll,__awaiter:be,__classPrivateFieldGet:nA,__classPrivateFieldIn:iA,__classPrivateFieldSet:aA,__createBinding:c0,__decorate:z5,__disposeResources:oA,__esDecorate:B5,__exportStar:Z5,__extends:I5,__generator:K5,__importDefault:rA,__importStar:tA,__makeTemplateObject:eA,__metadata:V5,__param:U5,__propKey:H5,__read:nx,__rest:bl,__rewriteRelativeImportExtension:lA,__runInitializers:q5,__setFunctionName:F5,__spread:G5,__spreadArray:W5,__spreadArrays:Y5,__values:nh,default:vL},Symbol.toStringTag,{value:"Module"})),bL=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);let u0=class extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}},cA=class extends u0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},Ey=class extends u0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},Oy=class extends u0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var ah;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ah||(ah={}));class xL{constructor(t,{headers:r={},customFetch:n,region:a=ah.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=bL(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return be(this,arguments,void 0,function*(r,n={}){var a;let s,l;try{const{headers:u,method:d,body:f,signal:m,timeout:g}=n;let v={},{region:y}=n;y||(y=this.region);const _=new URL(`${this.url}/${r}`);y&&y!=="any"&&(v["x-region"]=y,_.searchParams.set("forceFunctionRegion",y));let k;f&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",k=f):typeof f=="string"?(v["Content-Type"]="text/plain",k=f):typeof FormData<"u"&&f instanceof FormData?k=f:(v["Content-Type"]="application/json",k=JSON.stringify(f)):k=f;let S=m;g&&(l=new AbortController,s=setTimeout(()=>l.abort(),g),m?(S=l.signal,m.addEventListener("abort",()=>l.abort())):S=l.signal);const j=yield this.fetch(_.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),u),body:k,signal:S}).catch(A=>{throw new cA(A)}),N=j.headers.get("x-relay-error");if(N&&N==="true")throw new Ey(j);if(!j.ok)throw new Oy(j);let E=((a=j.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),C;return E==="application/json"?C=yield j.json():E==="application/octet-stream"||E==="application/pdf"?C=yield j.blob():E==="text/event-stream"?C=j:E==="multipart/form-data"?C=yield j.formData():C=yield j.text(),{data:C,error:null,response:j}}catch(u){return{data:null,error:u,response:u instanceof Oy||u instanceof Ey?u.context:void 0}}finally{s&&clearTimeout(s)}})}}const wL=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return ah},FunctionsClient:xL,FunctionsError:u0,FunctionsFetchError:cA,FunctionsHttpError:Oy,FunctionsRelayError:Ey},Symbol.toStringTag,{value:"Module"})),uA=bu(wL);var pr={};const xl=bu(yL);var df={},ff={},hf={},mf={},pf={},gf={},f2;function dA(){if(f2)return gf;f2=1,Object.defineProperty(gf,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return gf.default=e,gf}var h2;function fA(){if(h2)return pf;h2=1,Object.defineProperty(pf,"__esModule",{value:!0});const t=xl.__importDefault(dA());let r=class{constructor(a){var s,l;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(s=a.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=a.signal,this.isMaybeSingle=(l=a.isMaybeSingle)!==null&&l!==void 0?l:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,s){return this.headers=new Headers(this.headers),this.headers.set(a,s),this}then(a,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let u=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var f,m,g,v;let y=null,_=null,k=null,S=d.status,j=d.statusText;if(d.ok){if(this.method!=="HEAD"){const A=await d.text();A===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?_=A:_=JSON.parse(A))}const E=(m=this.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),C=(g=d.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");E&&C&&C.length>1&&(k=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(y={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,k=null,S=406,j="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const E=await d.text();try{y=JSON.parse(E),Array.isArray(y)&&d.status===404&&(_=[],y=null,S=200,j="OK")}catch{d.status===404&&E===""?(S=204,j="No Content"):y={message:E}}if(y&&this.isMaybeSingle&&(!((v=y?.details)===null||v===void 0)&&v.includes("0 rows"))&&(y=null,S=200,j="OK"),y&&this.shouldThrowOnError)throw new t.default(y)}return{error:y,data:_,count:k,status:S,statusText:j}});return this.shouldThrowOnError||(u=u.catch(d=>{var f,m,g,v,y,_;let k="";const S=d?.cause;if(S){const j=(f=S?.message)!==null&&f!==void 0?f:"",N=(m=S?.code)!==null&&m!==void 0?m:"";k=`${(g=d?.name)!==null&&g!==void 0?g:"FetchError"}: ${d?.message}`,k+=`

Caused by: ${(v=S?.name)!==null&&v!==void 0?v:"Error"}: ${j}`,N&&(k+=` (${N})`),S?.stack&&(k+=`
${S.stack}`)}else k=(y=d?.stack)!==null&&y!==void 0?y:"";return{error:{message:`${(_=d?.name)!==null&&_!==void 0?_:"FetchError"}: ${d?.message}`,details:k,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),u.then(a,s)}returns(){return this}overrideTypes(){return this}};return pf.default=r,pf}var m2;function hA(){if(m2)return mf;m2=1,Object.defineProperty(mf,"__esModule",{value:!0});const t=xl.__importDefault(fA());let r=class extends t.default{select(a){let s=!1;const l=(a??"*").split("").map(u=>/\s/.test(u)&&!s?"":(u==='"'&&(s=!s),u)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:s=!0,nullsFirst:l,foreignTable:u,referencedTable:d=u}={}){const f=d?`${d}.order`:"order",m=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${m?`${m},`:""}${a}.${s?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:s,referencedTable:l=s}={}){const u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${a}`),this}range(a,s,{foreignTable:l,referencedTable:u=l}={}){const d=typeof u>"u"?"offset":`${u}.offset`,f=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${a}`),this.url.searchParams.set(f,`${s-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:s=!1,settings:l=!1,buffers:u=!1,wal:d=!1,format:f="text"}={}){var m;const g=[a?"analyze":null,s?"verbose":null,l?"settings":null,u?"buffers":null,d?"wal":null].filter(Boolean).join("|"),v=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${v}"; options=${g};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}};return mf.default=r,mf}var p2;function ax(){if(p2)return hf;p2=1,Object.defineProperty(hf,"__esModule",{value:!0});const t=xl.__importDefault(hA()),r=new RegExp("[,()]");let n=class extends t.default{eq(s,l){return this.url.searchParams.append(s,`eq.${l}`),this}neq(s,l){return this.url.searchParams.append(s,`neq.${l}`),this}gt(s,l){return this.url.searchParams.append(s,`gt.${l}`),this}gte(s,l){return this.url.searchParams.append(s,`gte.${l}`),this}lt(s,l){return this.url.searchParams.append(s,`lt.${l}`),this}lte(s,l){return this.url.searchParams.append(s,`lte.${l}`),this}like(s,l){return this.url.searchParams.append(s,`like.${l}`),this}likeAllOf(s,l){return this.url.searchParams.append(s,`like(all).{${l.join(",")}}`),this}likeAnyOf(s,l){return this.url.searchParams.append(s,`like(any).{${l.join(",")}}`),this}ilike(s,l){return this.url.searchParams.append(s,`ilike.${l}`),this}ilikeAllOf(s,l){return this.url.searchParams.append(s,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(s,l){return this.url.searchParams.append(s,`ilike(any).{${l.join(",")}}`),this}regexMatch(s,l){return this.url.searchParams.append(s,`match.${l}`),this}regexIMatch(s,l){return this.url.searchParams.append(s,`imatch.${l}`),this}is(s,l){return this.url.searchParams.append(s,`is.${l}`),this}isDistinct(s,l){return this.url.searchParams.append(s,`isdistinct.${l}`),this}in(s,l){const u=Array.from(new Set(l)).map(d=>typeof d=="string"&&r.test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(s,`in.(${u})`),this}contains(s,l){return typeof l=="string"?this.url.searchParams.append(s,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(s,`cs.{${l.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(l)}`),this}containedBy(s,l){return typeof l=="string"?this.url.searchParams.append(s,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(s,`cd.{${l.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(l)}`),this}rangeGt(s,l){return this.url.searchParams.append(s,`sr.${l}`),this}rangeGte(s,l){return this.url.searchParams.append(s,`nxl.${l}`),this}rangeLt(s,l){return this.url.searchParams.append(s,`sl.${l}`),this}rangeLte(s,l){return this.url.searchParams.append(s,`nxr.${l}`),this}rangeAdjacent(s,l){return this.url.searchParams.append(s,`adj.${l}`),this}overlaps(s,l){return typeof l=="string"?this.url.searchParams.append(s,`ov.${l}`):this.url.searchParams.append(s,`ov.{${l.join(",")}}`),this}textSearch(s,l,{config:u,type:d}={}){let f="";d==="plain"?f="pl":d==="phrase"?f="ph":d==="websearch"&&(f="w");const m=u===void 0?"":`(${u})`;return this.url.searchParams.append(s,`${f}fts${m}.${l}`),this}match(s){return Object.entries(s).forEach(([l,u])=>{this.url.searchParams.append(l,`eq.${u}`)}),this}not(s,l,u){return this.url.searchParams.append(s,`not.${l}.${u}`),this}or(s,{foreignTable:l,referencedTable:u=l}={}){const d=u?`${u}.or`:"or";return this.url.searchParams.append(d,`(${s})`),this}filter(s,l,u){return this.url.searchParams.append(s,`${l}.${u}`),this}};return hf.default=n,hf}var g2;function mA(){if(g2)return ff;g2=1,Object.defineProperty(ff,"__esModule",{value:!0});const t=xl.__importDefault(ax());let r=class{constructor(a,{headers:s={},schema:l,fetch:u}){this.url=a,this.headers=new Headers(s),this.schema=l,this.fetch=u}select(a,s){const{head:l=!1,count:u}=s??{},d=l?"HEAD":"GET";let f=!1;const m=(a??"*").split("").map(g=>/\s/.test(g)&&!f?"":(g==='"'&&(f=!f),g)).join("");return this.url.searchParams.set("select",m),u&&this.headers.append("Prefer",`count=${u}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:s,defaultToNull:l=!0}={}){var u;const d="POST";if(s&&this.headers.append("Prefer",`count=${s}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const f=a.reduce((m,g)=>m.concat(Object.keys(g)),[]);if(f.length>0){const m=[...new Set(f)].map(g=>`"${g}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(a,{onConflict:s,ignoreDuplicates:l=!1,count:u,defaultToNull:d=!0}={}){var f;const m="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),u&&this.headers.append("Prefer",`count=${u}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const g=a.reduce((v,y)=>v.concat(Object.keys(y)),[]);if(g.length>0){const v=[...new Set(g)].map(y=>`"${y}"`);this.url.searchParams.set("columns",v.join(","))}}return new t.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(a,{count:s}={}){var l;const u="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:a}={}){var s;const l="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};return ff.default=r,ff}var v2;function _L(){if(v2)return df;v2=1,Object.defineProperty(df,"__esModule",{value:!0});const e=xl,t=e.__importDefault(mA()),r=e.__importDefault(ax());let n=class pA{constructor(s,{headers:l={},schema:u,fetch:d}={}){this.url=s,this.headers=new Headers(l),this.schemaName=u,this.fetch=d}from(s){if(!s||typeof s!="string"||s.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const l=new URL(`${this.url}/${s}`);return new t.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new pA(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,l={},{head:u=!1,get:d=!1,count:f}={}){var m;let g;const v=new URL(`${this.url}/rpc/${s}`);let y;u||d?(g=u?"HEAD":"GET",Object.entries(l).filter(([k,S])=>S!==void 0).map(([k,S])=>[k,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([k,S])=>{v.searchParams.append(k,S)})):(g="POST",y=l);const _=new Headers(this.headers);return f&&_.set("Prefer",`count=${f}`),new r.default({method:g,url:v,headers:_,schema:this.schemaName,body:y,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}};return df.default=n,df}var y2;function gA(){if(y2)return pr;y2=1,Object.defineProperty(pr,"__esModule",{value:!0}),pr.PostgrestError=pr.PostgrestBuilder=pr.PostgrestTransformBuilder=pr.PostgrestFilterBuilder=pr.PostgrestQueryBuilder=pr.PostgrestClient=void 0;const e=xl,t=e.__importDefault(_L());pr.PostgrestClient=t.default;const r=e.__importDefault(mA());pr.PostgrestQueryBuilder=r.default;const n=e.__importDefault(ax());pr.PostgrestFilterBuilder=n.default;const a=e.__importDefault(hA());pr.PostgrestTransformBuilder=a.default;const s=e.__importDefault(fA());pr.PostgrestBuilder=s.default;const l=e.__importDefault(dA());return pr.PostgrestError=l.default,pr.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:s.default,PostgrestError:l.default},pr}class vA{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const SL="2.87.1",kL=`realtime-js/${SL}`,yA="1.0.0",jL="2.0.0",b2=yA,Ny=1e4,EL=1e3,OL=100;var Es;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Es||(Es={}));var Mt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Mt||(Mt={}));var qn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(qn||(qn={}));var Ay;(function(e){e.websocket="websocket"})(Ay||(Ay={}));var Os;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Os||(Os={}));class NL{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},l=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(t,r,n){var a,s;const l=t.topic,u=(a=t.ref)!==null&&a!==void 0?a:"",d=(s=t.join_ref)!==null&&s!==void 0?s:"",f=t.payload.event,m=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},g=Object.keys(m).length===0?"":JSON.stringify(m);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`metadata length ${g.length} exceeds maximum of 255`);const v=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+u.length+l.length+f.length+g.length,y=new ArrayBuffer(this.HEADER_LENGTH+v);let _=new DataView(y),k=0;_.setUint8(k++,this.KINDS.userBroadcastPush),_.setUint8(k++,d.length),_.setUint8(k++,u.length),_.setUint8(k++,l.length),_.setUint8(k++,f.length),_.setUint8(k++,g.length),_.setUint8(k++,r),Array.from(d,j=>_.setUint8(k++,j.charCodeAt(0))),Array.from(u,j=>_.setUint8(k++,j.charCodeAt(0))),Array.from(l,j=>_.setUint8(k++,j.charCodeAt(0))),Array.from(f,j=>_.setUint8(k++,j.charCodeAt(0))),Array.from(g,j=>_.setUint8(k++,j.charCodeAt(0)));var S=new Uint8Array(y.byteLength+n.byteLength);return S.set(new Uint8Array(y),0),S.set(new Uint8Array(n),y.byteLength),S.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,s,l,u,d]=n;return r({join_ref:a,ref:s,topic:l,event:u,payload:d})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),s=r.getUint8(2),l=r.getUint8(3),u=r.getUint8(4);let d=this.HEADER_LENGTH+4;const f=n.decode(t.slice(d,d+a));d=d+a;const m=n.decode(t.slice(d,d+s));d=d+s;const g=n.decode(t.slice(d,d+l));d=d+l;const v=t.slice(d,t.byteLength),y=u===this.JSON_ENCODING?JSON.parse(n.decode(v)):v,_={type:this.BROADCAST_EVENT,event:m,payload:y};return l>0&&(_.meta=JSON.parse(g)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:_}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class bA{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var rt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(rt||(rt={}));const x2=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((s,l)=>(s[l]=AL(l,e,t,a),s),{}):{}},AL=(e,t,r,n)=>{const a=t.find(u=>u.name===e),s=a?.type,l=r[e];return s&&!n.includes(s)?xA(s,l):Ty(l)},xA=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return DL(t,r)}switch(e){case rt.bool:return TL(t);case rt.float4:case rt.float8:case rt.int2:case rt.int4:case rt.int8:case rt.numeric:case rt.oid:return CL(t);case rt.json:case rt.jsonb:return PL(t);case rt.timestamp:return ML(t);case rt.abstime:case rt.date:case rt.daterange:case rt.int4range:case rt.int8range:case rt.money:case rt.reltime:case rt.text:case rt.time:case rt.timestamptz:case rt.timetz:case rt.tsrange:case rt.tstzrange:return Ty(t);default:return Ty(t)}},Ty=e=>e,TL=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},CL=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},PL=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},DL=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const l=e.slice(1,r);try{s=JSON.parse("["+l+"]")}catch{s=l?l.split(","):[]}return s.map(u=>xA(t,u))}return e},ML=e=>typeof e=="string"?e.replace(" ","T"):e,wA=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Pg{constructor(t,r,n={},a=Ny){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Cy;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Cy||(Cy={}));let _A=class Vf{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:s,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Vf.syncState(this.state,a,s,l),this.pendingDiffs.forEach(d=>{this.state=Vf.syncDiff(this.state,d,s,l)}),this.pendingDiffs=[],u()}),this.channel._on(n.diff,{},a=>{const{onJoin:s,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Vf.syncDiff(this.state,a,s,l),u())}),this.onJoin((a,s,l)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:s,newPresences:l})}),this.onLeave((a,s,l)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:s,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const s=this.cloneDeep(t),l=this.transformState(r),u={},d={};return this.map(s,(f,m)=>{l[f]||(d[f]=m)}),this.map(l,(f,m)=>{const g=s[f];if(g){const v=m.map(S=>S.presence_ref),y=g.map(S=>S.presence_ref),_=m.filter(S=>y.indexOf(S.presence_ref)<0),k=g.filter(S=>v.indexOf(S.presence_ref)<0);_.length>0&&(u[f]=_),k.length>0&&(d[f]=k)}else u[f]=m}),this.syncDiff(s,{joins:u,leaves:d},n,a)}static syncDiff(t,r,n,a){const{joins:s,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(s,(u,d)=>{var f;const m=(f=t[u])!==null&&f!==void 0?f:[];if(t[u]=this.cloneDeep(d),m.length>0){const g=t[u].map(y=>y.presence_ref),v=m.filter(y=>g.indexOf(y.presence_ref)<0);t[u].unshift(...v)}n(u,m,d)}),this.map(l,(u,d)=>{let f=t[u];if(!f)return;const m=d.map(g=>g.presence_ref);f=f.filter(g=>m.indexOf(g.presence_ref)<0),t[u]=f,a(u,f,d),f.length===0&&delete t[u]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Py;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Py||(Py={}));var rl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(rl||(rl={}));var ia;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ia||(ia={}));const RL=Mt;let SA=class $c{constructor(t,r={config:{}},n){var a,s;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Mt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Pg(this,qn.join,this.params,this.timeout),this.rejoinTimer=new bA(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Mt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Mt.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Mt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Mt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Mt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(qn.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new _A(this),this.broadcastEndpointURL=wA(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Mt.closed){const{config:{broadcast:l,presence:u,private:d}}=this.params,f=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(y=>y.filter))!==null&&a!==void 0?a:[],m=!!this.bindings[rl.PRESENCE]&&this.bindings[rl.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,g={},v={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:m}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(y=>t?.(ia.CHANNEL_ERROR,y)),this._onClose(()=>t?.(ia.CLOSED)),this.updateJoinPayload(Object.assign({config:v},g)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:y})=>{var _;if(this.socket._isManualToken()||this.socket.setAuth(),y===void 0){t?.(ia.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,S=(_=k?.length)!==null&&_!==void 0?_:0,j=[];for(let N=0;N<S;N++){const E=k[N],{filter:{event:C,schema:A,table:T,filter:P}}=E,M=y&&y[N];if(M&&M.event===C&&$c.isFilterValueEqual(M.schema,A)&&$c.isFilterValueEqual(M.table,T)&&$c.isFilterValueEqual(M.filter,P))j.push(Object.assign(Object.assign({},E),{id:M.id}));else{this.unsubscribe(),this.state=Mt.errored,t?.(ia.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,t&&t(ia.SUBSCRIBED);return}}).receive("error",y=>{this.state=Mt.errored,t?.(ia.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{t?.(ia.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Mt.joined&&t===rl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const l={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(u.status===202)return{success:!0};let d=u.statusText;try{const f=await u.json();d=f.error||f.message||d}catch{}return Promise.reject(new Error(d))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:l}=t,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:l,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=f.body)===null||a===void 0?void 0:a.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var l,u,d;const f=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&s("ok"),f.receive("ok",()=>s("ok")),f.receive("error",()=>s("error")),f.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Mt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(qn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Pg(this,qn.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Mt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,s=setTimeout(()=>a.abort(),n),l=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(s),l}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Pg(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>OL){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,s;const l=t.toLocaleLowerCase(),{close:u,error:d,leave:f,join:m}=qn;if(n&&[u,d,f,m].indexOf(l)>=0&&n!==this._joinRef())return;let v=this._onMessage(l,r,n);if(r&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(y=>{var _,k,S;return((_=y.filter)===null||_===void 0?void 0:_.event)==="*"||((S=(k=y.filter)===null||k===void 0?void 0:k.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===l}).map(y=>y.callback(v,n)):(s=this.bindings[l])===null||s===void 0||s.filter(y=>{var _,k,S,j,N,E;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in y){const C=y.id,A=(_=y.filter)===null||_===void 0?void 0:_.event;return C&&((k=r.ids)===null||k===void 0?void 0:k.includes(C))&&(A==="*"||A?.toLocaleLowerCase()===((S=r.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const C=(N=(j=y?.filter)===null||j===void 0?void 0:j.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return C==="*"||C===((E=r?.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===l}).map(y=>{if(typeof v=="object"&&"ids"in v){const _=v.data,{schema:k,table:S,commit_timestamp:j,type:N,errors:E}=_;v=Object.assign(Object.assign({},{schema:k,table:S,commit_timestamp:j,eventType:N,new:{},old:{},errors:E}),this._getPayloadRecords(_))}y.callback(v,n)})}_isClosed(){return this.state===Mt.closed}_isJoined(){return this.state===Mt.joined}_isJoining(){return this.state===Mt.joining}_isLeaving(){return this.state===Mt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),s={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(s):this.bindings[a]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var s;return!(((s=a.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&$c.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(qn.close,{},t)}_onError(t){this._on(qn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Mt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=x2(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=x2(t.columns,t.old_record)),r}};const Dg=()=>{},vf={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},$L=[1e3,2e3,5e3,1e4],LL=1e4,IL=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let zL=class{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ny,this.transport=null,this.heartbeatIntervalMs=vf.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Dg,this.ref=0,this.reconnectTimer=null,this.vsn=b2,this.logger=Dg,this.conn=null,this.sendBuffer=[],this.serializer=new NL,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...s)=>a(...s):(...s)=>fetch(...s),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Ay.websocket}`,this.httpEndpoint=wA(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=vA.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Es.connecting:return Os.Connecting;case Es.open:return Os.Open;case Es.closing:return Os.Closing;default:return Os.Closed}}isConnected(){return this.connectionState()===Os.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(s=>s.topic===n);if(a)return a;{const s=new SA(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:a,ref:s}=t,l=()=>{this.encode(t,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${r} ${n} (${s})`,a),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(EL,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},vf.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:s,ref:l}=r,u=l?`(${l})`:"",d=s.status||"";this.log("receive",`${d} ${n} ${a} ${u}`.trim(),s),this.channels.filter(f=>f._isMember(n)).forEach(f=>f._trigger(a,s,l)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Es.open||this.conn.readyState===Es.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(qn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([IL],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const s={access_token:r,version:kL};r&&a.updateJoinPayload(s),a.joinedOnce&&a._isJoined()&&a._push(qn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new bA(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},vf.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,s,l,u,d,f,m,g,v,y;switch(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t?.timeout)!==null&&n!==void 0?n:Ny,this.heartbeatIntervalMs=(a=t?.heartbeatIntervalMs)!==null&&a!==void 0?a:vf.HEARTBEAT_INTERVAL,this.worker=(s=t?.worker)!==null&&s!==void 0?s:!1,this.accessToken=(l=t?.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=t?.heartbeatCallback)!==null&&u!==void 0?u:Dg,this.vsn=(d=t?.vsn)!==null&&d!==void 0?d:b2,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=t?.reconnectAfterMs)!==null&&f!==void 0?f:(_=>$L[_-1]||LL),this.vsn){case yA:this.encode=(m=t?.encode)!==null&&m!==void 0?m:((_,k)=>k(JSON.stringify(_))),this.decode=(g=t?.decode)!==null&&g!==void 0?g:((_,k)=>k(JSON.parse(_)));break;case jL:this.encode=(v=t?.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(y=t?.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};const UL=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:RL,get REALTIME_LISTEN_TYPES(){return rl},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return Py},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Cy},get REALTIME_SUBSCRIBE_STATES(){return ia},RealtimeChannel:SA,RealtimeClient:zL,RealtimePresence:_A,WebSocketFactory:vA},Symbol.toStringTag,{value:"Module"})),kA=bu(UL);class wu extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ht(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class jA extends wu{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ih extends wu{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const ix=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),BL=()=>Response,Dy=e=>{if(Array.isArray(e))return e.map(r=>Dy(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[a]=Dy(n)}),t},qL=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},HL=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),Mg=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},FL=(e,t,r)=>be(void 0,void 0,void 0,function*(){const n=yield BL();e instanceof n&&!r?.noResolveJson?e.json().then(a=>{const s=e.status||500,l=a?.statusCode||s+"";t(new jA(Mg(a),s,l))}).catch(a=>{t(new ih(Mg(a),a))}):t(new ih(Mg(e),e))}),VL=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"||!n?a:(qL(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(n)):a.body=n,t?.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function _u(e,t,r,n,a,s){return be(this,void 0,void 0,function*(){return new Promise((l,u)=>{e(r,VL(t,n,a,s)).then(d=>{if(!d.ok)throw d;return n?.noResolveJson?d:d.json()}).then(d=>l(d)).catch(d=>FL(d,u,n))})})}function Xc(e,t,r,n){return be(this,void 0,void 0,function*(){return _u(e,"GET",t,r,n)})}function Bn(e,t,r,n,a){return be(this,void 0,void 0,function*(){return _u(e,"POST",t,n,a,r)})}function My(e,t,r,n,a){return be(this,void 0,void 0,function*(){return _u(e,"PUT",t,n,a,r)})}function KL(e,t,r,n){return be(this,void 0,void 0,function*(){return _u(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function sx(e,t,r,n,a){return be(this,void 0,void 0,function*(){return _u(e,"DELETE",t,n,a,r)})}class ZL{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return be(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ht(t))return{data:null,error:t};throw t}})}}var EA;class GL{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[EA]="BlobDownloadBuilder",this.promise=null}asStream(){return new ZL(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return be(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ht(t))return{data:null,error:t};throw t}})}}EA=Symbol.toStringTag;const YL={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},w2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class WL{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=ix(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return be(this,void 0,void 0,function*(){try{let s;const l=Object.assign(Object.assign({},w2),a);let u=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",l.cacheControl),d&&s.append("metadata",this.encodeMetadata(d)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.has("cacheControl")||s.append("cacheControl",l.cacheControl),d&&!s.has("metadata")&&s.append("metadata",this.encodeMetadata(d))):(s=n,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,d&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(d))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!l.duplex&&(l.duplex="half")),a?.headers&&(u=Object.assign(Object.assign({},u),a.headers));const f=this._removeEmptyFolders(r),m=this._getFinalPath(f),g=yield(t=="PUT"?My:Bn)(this.fetch,`${this.url}/object/${m}`,s,Object.assign({headers:u},l?.duplex?{duplex:l.duplex}:{}));return{data:{path:f,id:g.Id,fullPath:g.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ht(s))return{data:null,error:s};throw s}})}upload(t,r,n){return be(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return be(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),l=this._getFinalPath(s),u=new URL(this.url+`/object/upload/sign/${l}`);u.searchParams.set("token",r);try{let d;const f=Object.assign({upsert:w2.upsert},a),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.append("cacheControl",f.cacheControl)):(d=n,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType);const g=yield My(this.fetch,u.toString(),d,{headers:m});return{data:{path:s,fullPath:g.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(ht(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(t,r){return be(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r?.upsert&&(a["x-upsert"]="true");const s=yield Bn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),l=new URL(this.url+s.url),u=l.searchParams.get("token");if(!u)throw new wu("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:u},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}})}update(t,r,n){return be(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return be(this,void 0,void 0,function*(){try{return{data:yield Bn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ht(a))return{data:null,error:a};throw a}})}copy(t,r,n){return be(this,void 0,void 0,function*(){try{return{data:{path:(yield Bn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ht(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return be(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),s=yield Bn(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const l=n?.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${l}`)},{data:s,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ht(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return be(this,void 0,void 0,function*(){try{const a=yield Bn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${s}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ht(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof r?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(r?.transform||{}),l=s?`?${s}`:"",u=this._getFinalPath(t),d=()=>Xc(this.fetch,`${this.url}/${a}/${u}${l}`,{headers:this.headers,noResolveJson:!0});return new GL(d,this.shouldThrowOnError)}info(t){return be(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Xc(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Dy(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}})}exists(t){return be(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield KL(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n)&&n instanceof ih){const a=n.originalError;if([400,404].includes(a?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],s=r?.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&a.push(s);const u=typeof r?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(r?.transform||{});d!==""&&a.push(d);let f=a.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${n}${f}`)}}}remove(t){return be(this,void 0,void 0,function*(){try{return{data:yield sx(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}})}list(t,r,n){return be(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},YL),r),{prefix:t||""});return{data:yield Bn(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ht(a))return{data:null,error:a};throw a}})}listV2(t,r){return be(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Bn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const OA="2.87.1",NA={"X-Client-Info":`storage-js/${OA}`};class XL{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const s=new URL(t);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},NA),r),this.fetch=ix(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return be(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Xc(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}})}getBucket(t){return be(this,void 0,void 0,function*(){try{return{data:yield Xc(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}})}createBucket(t){return be(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Bn(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ht(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return be(this,void 0,void 0,function*(){try{return{data:yield My(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}})}emptyBucket(t){return be(this,void 0,void 0,function*(){try{return{data:yield Bn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}})}deleteBucket(t){return be(this,void 0,void 0,function*(){try{return{data:yield sx(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var Jc=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function JL(e,t,r){const n=new URL(t,e);if(r)for(const[a,s]of Object.entries(r))s!==void 0&&n.searchParams.set(a,s);return n.toString()}async function QL(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function e8(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:s,headers:l}){const u=JL(e.baseUrl,n,a),d=await QL(e.auth),f=await t(u,{method:r,headers:{...s?{"Content-Type":"application/json"}:{},...d,...l},body:s?JSON.stringify(s):void 0}),m=await f.text(),g=(f.headers.get("content-type")||"").includes("application/json"),v=g&&m?JSON.parse(m):m;if(!f.ok){const y=g?v:void 0,_=y?.error;throw new Jc(_?.message??`Request failed with status ${f.status}`,{status:f.status,icebergType:_?.type,icebergCode:_?.code,details:y})}return{status:f.status,headers:f.headers,data:v}}}}function yf(e){return e.join("")}var t8=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:yf(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${yf(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${yf(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${yf(e.namespace)}`}),!0}catch(t){if(t instanceof Jc&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Jc&&r.status===409)return;throw r}}};function qo(e){return e.join("")}var r8=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${qo(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${qo(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${qo(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${qo(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${qo(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${qo(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Jc&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Jc&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},n8=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=e8({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new t8(this.client,t),this.tableOps=new r8(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class AA{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},NA),r),this.fetch=ix(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return be(this,void 0,void 0,function*(){try{return{data:yield Bn(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}})}listBuckets(t){return be(this,void 0,void 0,function*(){try{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const n=r.toString(),a=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Xc(this.fetch,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}})}deleteBucket(t){return be(this,void 0,void 0,function*(){try{return{data:yield sx(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}})}from(t){if(!HL(t))throw new wu("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new n8({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>be(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,l){const u=s[l];return typeof u!="function"?u:(...d)=>be(this,void 0,void 0,function*(){try{return{data:yield u.apply(s,d),error:null}}catch(f){if(n)throw f;return{data:null,error:f}}})}})}}const ox={"X-Client-Info":`storage-js/${OA}`,"Content-Type":"application/json"};class lx extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function qr(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Kf extends lx{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class TA extends lx{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var Ry;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Ry||(Ry={}));const d0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),a8=()=>Response,CA=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},i8=e=>Array.from(new Float32Array(e)),s8=(e,t)=>{if(t!==void 0&&e.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`)},_2=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),o8=(e,t,r)=>be(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!r?.noResolveJson){const a=e.status||500,s=e;if(typeof s.json=="function")s.json().then(l=>{const u=l?.statusCode||l?.code||a+"";t(new Kf(_2(l),a,u))}).catch(()=>{const l=a+"",u=s.statusText||`HTTP ${a} error`;t(new Kf(u,a,l))});else{const l=a+"",u=s.statusText||`HTTP ${a} error`;t(new Kf(u,a,l))}}else t(new TA(_2(e),e))}),l8=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return n?(CA(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r)):a};function c8(e,t,r,n,a,s){return be(this,void 0,void 0,function*(){return new Promise((l,u)=>{e(r,l8(t,n,a,s)).then(d=>{if(!d.ok)throw d;if(n?.noResolveJson)return d;const f=d.headers.get("content-type");return!f||!f.includes("application/json")?{}:d.json()}).then(d=>l(d)).catch(d=>o8(d,u,n))})})}function sn(e,t,r,n,a){return be(this,void 0,void 0,function*(){return c8(e,"POST",t,n,a,r)})}class PA{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ox),r),this.fetch=d0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return be(this,void 0,void 0,function*(){try{return{data:(yield sn(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qr(r))return{data:null,error:r};throw r}})}getIndex(t,r){return be(this,void 0,void 0,function*(){try{return{data:yield sn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qr(n))return{data:null,error:n};throw n}})}listIndexes(t){return be(this,void 0,void 0,function*(){try{return{data:yield sn(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qr(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return be(this,void 0,void 0,function*(){try{return{data:(yield sn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qr(n))return{data:null,error:n};throw n}})}}class DA{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ox),r),this.fetch=d0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return be(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield sn(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qr(r))return{data:null,error:r};throw r}})}getVectors(t){return be(this,void 0,void 0,function*(){try{return{data:yield sn(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qr(r))return{data:null,error:r};throw r}})}listVectors(t){return be(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield sn(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qr(r))return{data:null,error:r};throw r}})}queryVectors(t){return be(this,void 0,void 0,function*(){try{return{data:yield sn(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qr(r))return{data:null,error:r};throw r}})}deleteVectors(t){return be(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield sn(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qr(r))return{data:null,error:r};throw r}})}}class MA{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ox),r),this.fetch=d0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return be(this,void 0,void 0,function*(){try{return{data:(yield sn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qr(r))return{data:null,error:r};throw r}})}getBucket(t){return be(this,void 0,void 0,function*(){try{return{data:yield sn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qr(r))return{data:null,error:r};throw r}})}listBuckets(){return be(this,arguments,void 0,function*(t={}){try{return{data:yield sn(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return be(this,void 0,void 0,function*(){try{return{data:(yield sn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qr(r))return{data:null,error:r};throw r}})}}class RA extends MA{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new $A(this.url,this.headers,t,this.fetch)}createBucket(t){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return be(this,void 0,void 0,function*(){return r.createBucket.call(this,t)})}getBucket(t){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return be(this,void 0,void 0,function*(){return r.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return be(this,arguments,void 0,function*(r={}){return t.listBuckets.call(this,r)})}deleteBucket(t){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return be(this,void 0,void 0,function*(){return r.deleteBucket.call(this,t)})}}class $A extends PA{constructor(t,r,n,a){super(t,r,a),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return be(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return be(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return be(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return be(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new LA(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class LA extends DA{constructor(t,r,n,a,s){super(t,r,s),this.vectorBucketName=n,this.indexName=a}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return be(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return be(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return be(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return be(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return be(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class u8 extends XL{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new WL(this.url,this.headers,t,this.fetch)}get vectors(){return new RA(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new AA(this.url+"/iceberg",this.headers,this.fetch)}}const d8=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:AA,StorageApiError:jA,StorageClient:u8,StorageError:wu,StorageUnknownError:ih,StorageVectorsApiError:Kf,StorageVectorsClient:RA,StorageVectorsError:lx,get StorageVectorsErrorCode(){return Ry},StorageVectorsUnknownError:TA,VectorBucketApi:MA,VectorBucketScope:$A,VectorDataApi:DA,VectorIndexApi:PA,VectorIndexScope:LA,isPlainObject:CA,isStorageError:ht,isStorageVectorsError:qr,normalizeToFloat32:i8,resolveFetch:d0,resolveResponse:a8,validateVectorDimension:s8},Symbol.toStringTag,{value:"Module"})),f8=bu(d8);var Rg={},Ec={},S2;function h8(){return S2||(S2=1,Object.defineProperty(Ec,"__esModule",{value:!0}),Ec.version=void 0,Ec.version="2.87.1"),Ec}var k2;function m8(){return k2||(k2=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_REALTIME_OPTIONS=e.DEFAULT_AUTH_OPTIONS=e.DEFAULT_DB_OPTIONS=e.DEFAULT_GLOBAL_OPTIONS=e.DEFAULT_HEADERS=void 0;const t=h8();let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",e.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${t.version}`},e.DEFAULT_GLOBAL_OPTIONS={headers:e.DEFAULT_HEADERS},e.DEFAULT_DB_OPTIONS={schema:"public"},e.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e.DEFAULT_REALTIME_OPTIONS={}})(Rg)),Rg}var $g={},j2;function p8(){return j2||(j2=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWithAuth=e.resolveHeadersConstructor=e.resolveFetch=void 0;const t=a=>a?(...s)=>a(...s):(...s)=>fetch(...s);e.resolveFetch=t;const r=()=>Headers;e.resolveHeadersConstructor=r;const n=(a,s,l)=>{const u=(0,e.resolveFetch)(l),d=(0,e.resolveHeadersConstructor)();return async(f,m)=>{var g;const v=(g=await s())!==null&&g!==void 0?g:a;let y=new d(m?.headers);return y.has("apikey")||y.set("apikey",a),y.has("Authorization")||y.set("Authorization",`Bearer ${v}`),u(f,Object.assign(Object.assign({},m),{headers:y}))}};e.fetchWithAuth=n})($g)),$g}var Ia={},E2;function g8(){if(E2)return Ia;E2=1,Object.defineProperty(Ia,"__esModule",{value:!0}),Ia.isBrowser=void 0,Ia.uuid=e,Ia.ensureTrailingSlash=t,Ia.applySettingDefaults=n,Ia.validateSupabaseUrl=a;function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){var l=Math.random()*16|0,u=s=="x"?l:l&3|8;return u.toString(16)})}function t(s){return s.endsWith("/")?s:s+"/"}const r=()=>typeof window<"u";Ia.isBrowser=r;function n(s,l){var u,d;const{db:f,auth:m,realtime:g,global:v}=s,{db:y,auth:_,realtime:k,global:S}=l,j={db:Object.assign(Object.assign({},y),f),auth:Object.assign(Object.assign({},_),m),realtime:Object.assign(Object.assign({},k),g),storage:{},global:Object.assign(Object.assign(Object.assign({},S),v),{headers:Object.assign(Object.assign({},(u=S?.headers)!==null&&u!==void 0?u:{}),(d=v?.headers)!==null&&d!==void 0?d:{})}),accessToken:async()=>""};return s.accessToken?j.accessToken=s.accessToken:delete j.accessToken,j}function a(s){const l=s?.trim();if(!l)throw new Error("supabaseUrl is required.");if(!l.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t(l))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return Ia}var Oc={};const IA="2.87.1",Yo=30*1e3,$y=3,Lg=$y*Yo,v8="http://localhost:9999",y8="supabase.auth.token",b8={"X-Client-Info":`gotrue-js/${IA}`},Ly="X-Supabase-Api-Version",zA={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},x8=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,w8=600*1e3;let cl=class extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}};function ke(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}let UA=class extends cl{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}};function BA(e){return ke(e)&&e.name==="AuthApiError"}let Li=class extends cl{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}},ni=class extends cl{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}},Ur=class extends ni{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function qA(e){return ke(e)&&e.name==="AuthSessionMissingError"}let xs=class extends ni{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Lc=class extends ni{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},Ic=class extends ni{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function HA(e){return ke(e)&&e.name==="AuthImplicitGrantRedirectError"}let Iy=class extends ni{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},sh=class extends ni{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}};function Zf(e){return ke(e)&&e.name==="AuthRetryableFetchError"}let zy=class extends ni{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}};function _8(e){return ke(e)&&e.name==="AuthWeakPasswordError"}let oh=class extends ni{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const lh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),O2=` 	
\r=`.split(""),S8=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<O2.length;t+=1)e[O2[t].charCodeAt(0)]=-2;for(let t=0;t<lh.length;t+=1)e[lh[t].charCodeAt(0)]=t;return e})();function N2(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(lh[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(lh[n]),t.queuedBits-=6}}function FA(e,t,r){const n=S8[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function A2(e){const t=[],r=l=>{t.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=l=>{E8(l,n,r)};for(let l=0;l<e.length;l+=1)FA(e.charCodeAt(l),a,s);return t.join("")}function k8(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function j8(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}k8(n,t)}}function E8(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function nl(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)FA(e.charCodeAt(a),r,n);return new Uint8Array(t)}function O8(e){const t=[];return j8(e,r=>t.push(r)),new Uint8Array(t)}function As(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>N2(a,r,n)),N2(null,r,n),t.join("")}function N8(e){return Math.round(Date.now()/1e3)+e}function A8(){return Symbol("auth-callback")}const ar=()=>typeof window<"u"&&typeof document<"u",ys={tested:!1,writable:!1},VA=()=>{if(!ar())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ys.tested)return ys.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ys.tested=!0,ys.writable=!0}catch{ys.tested=!0,ys.writable=!1}return ys.writable};function T8(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,s)=>{t[s]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const KA=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),C8=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Wo=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},bs=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},nr=async(e,t)=>{await e.removeItem(t)};class f0{constructor(){this.promise=new f0.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}f0.promiseConstructor=Promise;function Ig(e){const t=e.split(".");if(t.length!==3)throw new oh("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!x8.test(t[n]))throw new oh("JWT not in base64url format");return{header:JSON.parse(A2(t[0])),payload:JSON.parse(A2(t[1])),signature:nl(t[2]),raw:{header:t[0],payload:t[1]}}}async function P8(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function D8(e,t){return new Promise((n,a)=>{(async()=>{for(let s=0;s<1/0;s++)try{const l=await e(s);if(!t(s,null,l)){n(l);return}}catch(l){if(!t(s,l)){a(l);return}}})()})}function M8(e){return("0"+e.toString(16)).substr(-2)}function R8(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let s=0;s<56;s++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,M8).join("")}async function $8(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(s=>String.fromCharCode(s)).join("")}async function L8(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await $8(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ho(e,t,r=!1){const n=R8();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Wo(e,`${t}-code-verifier`,a);const s=await L8(n);return[s,n===s?"plain":"s256"]}const I8=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function z8(e){const t=e.headers.get(Ly);if(!t||!t.match(I8))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function U8(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function B8(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const q8=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Fo(e){if(!q8.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function zg(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function H8(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function T2(e){return JSON.parse(JSON.stringify(e))}const ws=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),F8=[502,503,504];async function C2(e){var t;if(!C8(e))throw new sh(ws(e),0);if(F8.includes(e.status))throw new sh(ws(e),e.status);let r;try{r=await e.json()}catch(s){throw new Li(ws(s),s)}let n;const a=z8(e);if(a&&a.getTime()>=zA["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new zy(ws(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ur}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,l)=>s&&typeof l=="string",!0))throw new zy(ws(r),e.status,r.weak_password.reasons);throw new UA(ws(r),e.status||500,n)}const V8=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Ce(e,t,r,n){var a;const s=Object.assign({},n?.headers);s[Ly]||(s[Ly]=zA["2024-01-01"].name),n?.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const l=(a=n?.query)!==null&&a!==void 0?a:{};n?.redirectTo&&(l.redirect_to=n.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await K8(e,t,r+u,{headers:s,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(d):{data:Object.assign({},d),error:null}}async function K8(e,t,r,n,a,s){const l=V8(t,n,a,s);let u;try{u=await e(r,Object.assign({},l))}catch(d){throw console.error(d),new sh(ws(d),0)}if(u.ok||await C2(u),n?.noResolveJson)return u;try{return await u.json()}catch(d){await C2(d)}}function Un(e){var t;let r=null;Y8(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=N8(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function P2(e){const t=Un(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ii(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Z8(e){return{data:e,error:null}}function G8(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s}=e,l=bl(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s},d=Object.assign({},l);return{data:{properties:u,user:d},error:null}}function D2(e){return e}function Y8(e){return e.access_token&&e.refresh_token&&e.expires_in}const Gf=["global","local","others"];let cx=class{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=KA(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Gf[0]){if(Gf.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Gf.join(", ")}`);try{return await Ce(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ce(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ii})}catch(n){if(ke(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=bl(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n?.newEmail,delete a.newEmail),await Ce(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:G8,redirectTo:r?.redirectTo})}catch(r){if(ke(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ce(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ii})}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,s,l,u,d;try{const f={nextPage:null,lastPage:0,total:0},m=await Ce(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:D2});if(m.error)throw m.error;const g=await m.json(),v=(l=m.headers.get("x-total-count"))!==null&&l!==void 0?l:0,y=(d=(u=m.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return y.length>0&&(y.forEach(_=>{const k=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(_.split(";")[1].split("=")[1]);f[`${S}Page`]=k}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},g),f),error:null}}catch(f){if(ke(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){Fo(t);try{return await Ce(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ii})}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Fo(t);try{return await Ce(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Ii})}catch(n){if(ke(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Fo(t);try{return await Ce(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ii})}catch(n){if(ke(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Fo(t.userId);try{const{data:r,error:n}=await Ce(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Fo(t.userId),Fo(t.id);try{return{data:await Ce(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,s,l,u,d;try{const f={nextPage:null,lastPage:0,total:0},m=await Ce(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:D2});if(m.error)throw m.error;const g=await m.json(),v=(l=m.headers.get("x-total-count"))!==null&&l!==void 0?l:0,y=(d=(u=m.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return y.length>0&&(y.forEach(_=>{const k=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(_.split(";")[1].split("=")[1]);f[`${S}Page`]=k}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},g),f),error:null}}catch(f){if(ke(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(t){try{return await Ce(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Ce(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Ce(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ke(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Ce(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Ce(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ke(r))return{data:null,error:r};throw r}}};function M2(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const _s={debug:!!(globalThis&&VA()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ux extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let ZA=class extends ux{};class W8 extends ux{}async function GA(e,t,r){_s.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),_s.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){_s.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{_s.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw _s.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new ZA(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(_s.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const R2={};async function X8(e,t,r){var n;const a=(n=R2[e])!==null&&n!==void 0?n:Promise.resolve(),s=Promise.race([a.catch(()=>null),t>=0?new Promise((l,u)=>{setTimeout(()=>{u(new W8(`Acquring process lock with name "${e}" timed out`))},t)}):null].filter(l=>l)).catch(l=>{if(l&&l.isAcquireTimeout)throw l;return null}).then(async()=>await r());return R2[e]=s.catch(async l=>{if(l&&l.isAcquireTimeout)return await a,null;throw l}),await s}function J8(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function YA(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Q8(e){return parseInt(e,16)}function eI(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function tI(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:s=new Date,nonce:l,notBefore:u,requestId:d,resources:f,scheme:m,uri:g,version:v}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const y=YA(e.address),_=m?`${m}://${n}`:n,k=e.statement?`${e.statement}
`:"",S=`${_} wants you to sign in with your Ethereum account:
${y}

${k}`;let j=`URI: ${g}
Version: ${v}
Chain ID: ${r}${l?`
Nonce: ${l}`:""}
Issued At: ${s.toISOString()}`;if(a&&(j+=`
Expiration Time: ${a.toISOString()}`),u&&(j+=`
Not Before: ${u.toISOString()}`),d&&(j+=`
Request ID: ${d}`),f){let N=`
Resources:`;for(const E of f){if(!E||typeof E!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${E}`);N+=`
- ${E}`}j+=N}return`${S}
${j}`}class Rt extends Error{constructor({message:t,code:r,cause:n,name:a}){var s;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=a??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class ch extends Rt{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function rI({error:e,options:t}){var r,n,a;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Rt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Rt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Rt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=s.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Rt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Rt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Rt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new Rt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Rt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(WA(l)){if(s.rp.id!==l)return new Rt({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Rt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Rt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Rt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Rt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function nI({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Rt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Rt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(WA(n)){if(r.rpId!==n)return new Rt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Rt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Rt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Rt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class aI{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const iI=new aI;function sI(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=bl(e,["challenge","user","excludeCredentials"]),s=nl(t).buffer,l=Object.assign(Object.assign({},r),{id:nl(r.id).buffer}),u=Object.assign(Object.assign({},a),{challenge:s,user:l});if(n&&n.length>0){u.excludeCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const f=n[d];u.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:nl(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function oI(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=bl(e,["challenge","allowCredentials"]),a=nl(t).buffer,s=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];s.allowCredentials[l]=Object.assign(Object.assign({},u),{id:nl(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function lI(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:As(new Uint8Array(e.response.attestationObject)),clientDataJSON:As(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function cI(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:As(new Uint8Array(a.authenticatorData)),clientDataJSON:As(new Uint8Array(a.clientDataJSON)),signature:As(new Uint8Array(a.signature)),userHandle:a.userHandle?As(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function WA(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function $2(){var e,t;return!!(ar()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function uI(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ch("Browser returned unexpected credential type",t)}:{data:null,error:new ch("Empty credential response",t)}}catch(t){return{data:null,error:rI({error:t,options:e})}}}async function dI(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ch("Browser returned unexpected credential type",t)}:{data:null,error:new ch("Empty credential response",t)}}catch(t){return{data:null,error:nI({error:t,options:e})}}}const fI={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},hI={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function uh(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const s in a){const l=a[s];if(l!==void 0)if(Array.isArray(l))n[s]=l;else if(r(l))n[s]=l;else if(t(l)){const u=n[s];t(u)?n[s]=uh(u,l):n[s]=uh(l)}else n[s]=l}return n}function mI(e,t){return uh(fI,e,t||{})}function pI(e,t){return uh(hI,e,t||{})}class gI{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},s){try{const{data:l,error:u}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!l)return{data:null,error:u};const d=a??iI.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:f}=l.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${n}`),f.displayName||(f.displayName=f.name)}switch(l.webauthn.type){case"create":{const f=mI(l.webauthn.credential_options.publicKey,s?.create),{data:m,error:g}=await uI({publicKey:f,signal:d});return m?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:m}},error:null}:{data:null,error:g}}case"request":{const f=pI(l.webauthn.credential_options.publicKey,s?.request),{data:m,error:g}=await dI(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:f,signal:d}));return m?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:m}},error:null}:{data:null,error:g}}}}catch(l){return ke(l)?{data:null,error:l}:{data:null,error:new Li("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},s){if(!r)return{data:null,error:new cl("rpId is required for WebAuthn authentication")};try{if(!$2())return{data:null,error:new Li("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:s});if(!l)return{data:null,error:u};const{webauthn:d}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:d.type,rpId:r,rpOrigins:n,credential_response:d.credential_response}})}catch(l){return ke(l)?{data:null,error:l}:{data:null,error:new Li("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},s){if(!r)return{data:null,error:new cl("rpId is required for WebAuthn registration")};try{if(!$2())return{data:null,error:new Li("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(m=>{var g;return(g=m.data)===null||g===void 0?void 0:g.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===t&&v.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m?.id}):void 0),{data:null,error:u};const{data:d,error:f}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:s});return d?this._verify({factorId:l.id,challengeId:d.challengeId,webauthn:{rpId:r,rpOrigins:n,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(l){return ke(l)?{data:null,error:l}:{data:null,error:new Li("Unexpected error in register",l)}}}}J8();const vI={url:v8,storageKey:y8,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:b8,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function L2(e,t,r){return await r()}const Vo={};let dx=class Uy{get jwks(){var t,r;return(r=(t=Vo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Vo[this.storageKey]=Object.assign(Object.assign({},Vo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Vo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Vo[this.storageKey]=Object.assign(Object.assign({},Vo[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},vI),t);if(this.storageKey=s.storageKey,this.instanceID=(r=Uy.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Uy.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&ar()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new cx({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=KA(s.fetch),this.lock=s.lock||L2,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:this.persistSession&&ar()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=GA:this.lock=L2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new gI(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:VA()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=M2(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=M2(this.memoryStorage)),ar()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${IA}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(ar()&&(r=T8(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),ar()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),HA(s)){const d=(t=s.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:l,redirectType:u}=a;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ke(r)?this._returnResult({error:r}):this._returnResult({error:new Li("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const s=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t?.options)===null||a===void 0?void 0:a.captchaToken}},xform:Un}),{data:l,error:u}=s;if(u||!l)return this._returnResult({data:{user:null,session:null},error:u});const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(s){if(ke(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(t){var r,n,a;try{let s;if("email"in t){const{email:m,password:g,options:v}=t;let y=null,_=null;this.flowType==="pkce"&&([y,_]=await Ho(this.storage,this.storageKey)),s=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:m,password:g,data:(r=v?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:y,code_challenge_method:_},xform:Un})}else if("phone"in t){const{phone:m,password:g,options:v}=t;s=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:g,data:(n=v?.data)!==null&&n!==void 0?n:{},channel:(a=v?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:Un})}else throw new Lc("You must provide either an email or phone number and a password");const{data:l,error:u}=s;if(u||!l)return await nr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(s){if(await nr(this.storage,`${this.storageKey}-code-verifier`),ke(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:l,options:u}=t;r=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:P2})}else if("phone"in t){const{phone:s,password:l,options:u}=t;r=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:P2})}else throw new Lc("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const s=new xs;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(ke(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,s,l,u,d,f,m,g,v;let y,_;if("message"in t)y=t.message,_=t.signature;else{const{chain:k,wallet:S,statement:j,options:N}=t;let E;if(ar())if(typeof S=="object")E=S;else{const R=window;if("ethereum"in R&&typeof R.ethereum=="object"&&"request"in R.ethereum&&typeof R.ethereum.request=="function")E=R.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=S}const C=new URL((r=N?.url)!==null&&r!==void 0?r:window.location.href),A=await E.request({method:"eth_requestAccounts"}).then(R=>R).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!A||A.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const T=YA(A[0]);let P=(n=N?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!P){const R=await E.request({method:"eth_chainId"});P=Q8(R)}const M={domain:C.host,address:T,statement:j,uri:C.href,version:"1",chainId:P,nonce:(a=N?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(l=(s=N?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(u=N?.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(d=N?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=N?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(m=N?.signInWithEthereum)===null||m===void 0?void 0:m.resources};y=tI(M),_=await E.request({method:"personal_sign",params:[eI(y),T]})}try{const{data:k,error:S}=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:_},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Un});if(S)throw S;if(!k||!k.session||!k.user){const j=new xs;return this._returnResult({data:{user:null,session:null},error:j})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:S})}catch(k){if(ke(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async signInWithSolana(t){var r,n,a,s,l,u,d,f,m,g,v,y;let _,k;if("message"in t)_=t.message,k=t.signature;else{const{chain:S,wallet:j,statement:N,options:E}=t;let C;if(ar())if(typeof j=="object")C=j;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))C=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=j}const A=new URL((r=E?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in C&&C.signIn){const T=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E?.signInWithSolana),{version:"1",domain:A.host,uri:A.href}),N?{statement:N}:null));let P;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")P=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)P=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)_=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),k=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${A.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${A.href}`,`Issued At: ${(a=(n=E?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((s=E?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((l=E?.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((u=E?.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((d=E?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((f=E?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((g=(m=E?.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||g===void 0)&&g.length?["Resources",...E.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const T=await C.signMessage(new TextEncoder().encode(_),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=T}}try{const{data:S,error:j}=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:As(k)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Un});if(j)throw j;if(!S||!S.session||!S.user){const N=new xs;return this._returnResult({data:{user:null,session:null},error:N})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:j})}catch(S){if(ke(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(t){const r=await bs(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:s,error:l}=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Un});if(await nr(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!s||!s.session||!s.user){const u=new xs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:a??null}),error:l})}catch(s){if(await nr(this.storage,`${this.storageKey}-code-verifier`),ke(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:s,nonce:l}=t,u=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:s,nonce:l,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Un}),{data:d,error:f}=u;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d||!d.session||!d.user){const m=new xs;return this._returnResult({data:{user:null,session:null},error:m})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:f})}catch(r){if(ke(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,s,l;try{if("email"in t){const{email:u,options:d}=t;let f=null,m=null;this.flowType==="pkce"&&([f,m]=await Ho(this.storage,this.storageKey));const{error:g}=await Ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=d?.data)!==null&&r!==void 0?r:{},create_user:(n=d?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:f,code_challenge_method:m},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in t){const{phone:u,options:d}=t,{data:f,error:m}=await Ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(a=d?.data)!==null&&a!==void 0?a:{},create_user:(s=d?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(l=d?.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:m})}throw new Lc("You must provide either an email or phone number.")}catch(u){if(await nr(this.storage,`${this.storageKey}-code-verifier`),ke(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(t){var r,n;try{let a,s;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:u}=await Ce(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:a,xform:Un});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,f=l.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(a){if(ke(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,s,l;try{let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ho(this.storage,this.storageKey));const f=await Ce(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:d}),headers:this.headers,xform:Z8});return!((s=f.data)===null||s===void 0)&&s.url&&ar()&&!(!((l=t.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(u){if(await nr(this.storage,`${this.storageKey}-code-verifier`),ke(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Ur;const{error:a}=await Ce(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(ke(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:s}=t,{error:l}=await Ce(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in t){const{phone:n,type:a,options:s}=t,{data:l,error:u}=await Ce(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l?.message_id},error:u})}throw new Lc("You must provide either an email or phone number and a type")}catch(r){if(ke(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await bs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Lg:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const l=await bs(this.userStorage,this.storageKey+"-user");l?.user?t.user=l.user:t.user=zg()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};t.user=H8(t.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ii}):await this._useSession(async r=>{var n,a,s;const{data:l,error:u}=r;if(u)throw u;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ur}:await Ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0,xform:Ii})})}catch(r){if(ke(r))return qA(r)&&(await this._removeSession(),await nr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:s}=n;if(s)throw s;if(!a.session)throw new Ur;const l=a.session;let u=null,d=null;this.flowType==="pkce"&&t.email!=null&&([u,d]=await Ho(this.storage,this.storageKey));const{data:f,error:m}=await Ce(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:d}),jwt:l.access_token,xform:Ii});if(m)throw m;return l.user=f.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(n){if(await nr(this.storage,`${this.storageKey}-code-verifier`),ke(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ur;const r=Date.now()/1e3;let n=r,a=!0,s=null;const{payload:l}=Ig(t.access_token);if(l.exp&&(n=l.exp,a=n<=r),a){const{data:u,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u)return{data:{user:null,session:null},error:null};s=u}else{const{data:u,error:d}=await this._getUser(t.access_token);if(d)throw d;s={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(ke(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:l,error:u}=r;if(u)throw u;t=(n=l.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new Ur;const{data:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ke(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!ar())throw new Ic("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ic(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Iy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ic("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Iy("No code detected.");const{data:N,error:E}=await this._exchangeCodeForSession(t.code);if(E)throw E;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:s,refresh_token:l,expires_in:u,expires_at:d,token_type:f}=t;if(!s||!u||!l||!f)throw new Ic("No session defined in URL");const m=Math.round(Date.now()/1e3),g=parseInt(u);let v=m+g;d&&(v=parseInt(d));const y=v-m;y*1e3<=Yo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${g}s`);const _=v-g;m-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,v,m):m-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,v,m);const{data:k,error:S}=await this._getUser(s);if(S)throw S;const j={provider_token:n,provider_refresh_token:a,access_token:s,expires_in:g,expires_at:v,refresh_token:l,token_type:f,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:j,redirectType:t.type},error:null})}catch(n){if(ke(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await bs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({error:s});const l=(n=a.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:u}=await this.admin.signOut(l,t);if(u&&!(BA(u)&&(u.status===404||u.status===401||u.status===403)))return this._returnResult({error:u})}return t!=="others"&&(await this._removeSession(),await nr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=A8(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:s},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Ho(this.storage,this.storageKey,!0));try{return await Ce(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(await nr(this.storage,`${this.storageKey}-code-verifier`),ke(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async s=>{var l,u,d,f,m;const{data:g,error:v}=s;if(v)throw v;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Ce(this.fetch,"GET",y,{headers:this.headers,jwt:(m=(f=g.session)===null||f===void 0?void 0:f.access_token)!==null&&m!==void 0?m:void 0})});if(a)throw a;return ar()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:t.provider,url:n?.url},error:null})}catch(n){if(ke(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:s}}=r;if(a)throw a;const{options:l,provider:u,token:d,access_token:f,nonce:m}=t,g=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:u,id_token:d,access_token:f,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Un}),{data:v,error:y}=g;return y?this._returnResult({data:{user:null,session:null},error:y}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new xs}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:y}))}catch(a){if(await nr(this.storage,`${this.storageKey}-code-verifier`),ke(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:l}=r;if(l)throw l;return await Ce(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await D8(async a=>(a>0&&await P8(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Ce(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Un})),(a,s)=>{const l=200*Math.pow(2,a);return s&&Zf(s)&&Date.now()+l-n<Yo})}catch(n){if(this._debug(r,"error",n),ke(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),ar()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await bs(this.storage,this.storageKey);if(a&&this.userStorage){let l=await bs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:a.user},await Wo(this.userStorage,this.storageKey+"-user",l)),a.user=(t=l?.user)!==null&&t!==void 0?t:zg()}else if(a&&!a.user&&!a.user){const l=await bs(this.storage,this.storageKey+"-user");l&&l?.user?(a.user=l.user,await nr(this.storage,this.storageKey+"-user"),await Wo(this.storage,this.storageKey,a)):a.user=zg()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const s=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Lg;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Lg}s`),s){if(this.autoRefreshToken&&a.refresh_token){const{error:l}=await this._callRefreshToken(a.refresh_token);l&&(console.error(l),Zf(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(a.access_token);!u&&l?.user?(a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(n,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Ur;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new f0;const{data:s,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!s.session)throw new Ur;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const u={data:s.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(s){if(this._debug(a,"error",s),ke(s)){const l={data:null,error:s};return Zf(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,r)}catch(d){s.push(d)}});if(await Promise.all(l),s.length>0){for(let u=0;u<s.length;u+=1)console.error(s[u]);throw s[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await nr(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Wo(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const s=T2(a);await Wo(this.storage,this.storageKey,s)}else{const a=T2(r);await Wo(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await nr(this.storage,this.storageKey),await nr(this.storage,this.storageKey+"-code-verifier"),await nr(this.storage,this.storageKey+"-user"),this.userStorage&&await nr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ar()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Yo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Yo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Yo}ms, refresh threshold is ${$y} ticks`),a<=$y&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof ux)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ar()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,l]=await Ho(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(l)}`});a.push(u.toString())}if(n?.queryParams){const s=new URLSearchParams(n.queryParams);a.push(s.toString())}return n?.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;return s?this._returnResult({data:null,error:s}):await Ce(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:l}=r;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:d,error:f}=await Ce(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token});return f?this._returnResult({data:null,error:f}):(t.factorType==="totp"&&d.type==="totp"&&(!((a=d?.totp)===null||a===void 0)&&a.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?lI(t.webauthn.credential_response):cI(t.webauthn.credential_response)})}:{code:t.code}),{data:u,error:d}=await Ce(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:d}))})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const l=await Ce(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});if(l.error)return l;const{data:u}=l;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:sI(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:oI(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=r?.factors)!==null&&t!==void 0?t:[])a.all.push(s),s.status==="verified"&&a[s.factor_type].push(s);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Ig(n.access_token);let l=null;s.aal&&(l=s.aal);let u=l;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(m=>m.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const f=s.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await Ce(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Ur})})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!a)return this._returnResult({data:null,error:new Ur});const l=await Ce(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&ar()&&!r?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(n){if(ke(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!a)return this._returnResult({data:null,error:new Ur});const l=await Ce(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&ar()&&!r?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(n){if(ke(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await Ce(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Ur})})}catch(t){if(ke(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await Ce(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ur})})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(u=>u.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(u=>u.kid===t),n&&this.jwks_cached_at+w8>a)return n;const{data:s,error:l}=await Ce(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=a,n=s.keys.find(u=>u.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:y,error:_}=await this.getSession();if(_||!y.session)return this._returnResult({data:null,error:_});n=y.session.access_token}const{header:a,payload:s,signature:l,raw:{header:u,payload:d}}=Ig(n);r?.allowExpired||U8(s.exp);const f=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!f){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:s,header:a,signature:l},error:null}}const m=B8(a.alg),g=await crypto.subtle.importKey("jwk",f,m,!0,["verify"]);if(!await crypto.subtle.verify(m,g,l,O8(`${u}.${d}`)))throw new oh("Invalid JWT signature");return{data:{claims:s,header:a,signature:l},error:null}}catch(n){if(ke(n))return this._returnResult({data:null,error:n});throw n}}};dx.nextInstanceID={};const yI=cx,bI=dx,xI=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:yI,AuthApiError:UA,AuthClient:bI,AuthError:cl,AuthImplicitGrantRedirectError:Ic,AuthInvalidCredentialsError:Lc,AuthInvalidJwtError:oh,AuthInvalidTokenResponseError:xs,AuthPKCEGrantCodeExchangeError:Iy,AuthRetryableFetchError:sh,AuthSessionMissingError:Ur,AuthUnknownError:Li,AuthWeakPasswordError:zy,CustomAuthError:ni,GoTrueAdminApi:cx,GoTrueClient:dx,NavigatorLockAcquireTimeoutError:ZA,SIGN_OUT_SCOPES:Gf,isAuthApiError:BA,isAuthError:ke,isAuthImplicitGrantRedirectError:HA,isAuthRetryableFetchError:Zf,isAuthSessionMissingError:qA,isAuthWeakPasswordError:_8,lockInternals:_s,navigatorLock:GA,processLock:X8},Symbol.toStringTag,{value:"Module"})),XA=bu(xI);var I2;function wI(){if(I2)return Oc;I2=1,Object.defineProperty(Oc,"__esModule",{value:!0}),Oc.SupabaseAuthClient=void 0;const e=XA;let t=class extends e.AuthClient{constructor(n){super(n)}};return Oc.SupabaseAuthClient=t,Oc}var z2;function U2(){if(z2)return uf;z2=1,Object.defineProperty(uf,"__esModule",{value:!0});const e=uA,t=gA(),r=kA,n=f8,a=m8(),s=p8(),l=g8(),u=wI();class d{constructor(m,g,v){var y,_,k;this.supabaseUrl=m,this.supabaseKey=g;const S=(0,l.validateSupabaseUrl)(m);if(!g)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",S),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",S),this.storageUrl=new URL("storage/v1",S),this.functionsUrl=new URL("functions/v1",S);const j=`sb-${S.hostname.split(".")[0]}-auth-token`,N={db:a.DEFAULT_DB_OPTIONS,realtime:a.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},a.DEFAULT_AUTH_OPTIONS),{storageKey:j}),global:a.DEFAULT_GLOBAL_OPTIONS},E=(0,l.applySettingDefaults)(v??{},N);this.storageKey=(y=E.auth.storageKey)!==null&&y!==void 0?y:"",this.headers=(_=E.global.headers)!==null&&_!==void 0?_:{},E.accessToken?(this.accessToken=E.accessToken,this.auth=new Proxy({},{get:(C,A)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(A)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((k=E.auth)!==null&&k!==void 0?k:{},this.headers,E.global.fetch),this.fetch=(0,s.fetchWithAuth)(g,this._getAccessToken.bind(this),E.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},E.realtime)),this.accessToken&&this.accessToken().then(C=>this.realtime.setAuth(C)).catch(C=>console.warn("Failed to set initial Realtime auth token:",C)),this.rest=new t.PostgrestClient(new URL("rest/v1",S).href,{headers:this.headers,schema:E.db.schema,fetch:this.fetch}),this.storage=new n.StorageClient(this.storageUrl.href,this.headers,this.fetch,v?.storage),E.accessToken||this._listenForAuthEvents()}get functions(){return new e.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(m){return this.rest.from(m)}schema(m){return this.rest.schema(m)}rpc(m,g={},v={head:!1,get:!1,count:void 0}){return this.rest.rpc(m,g,v)}channel(m,g={config:{}}){return this.realtime.channel(m,g)}getChannels(){return this.realtime.getChannels()}removeChannel(m){return this.realtime.removeChannel(m)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var m,g;if(this.accessToken)return await this.accessToken();const{data:v}=await this.auth.getSession();return(g=(m=v.session)===null||m===void 0?void 0:m.access_token)!==null&&g!==void 0?g:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:m,persistSession:g,detectSessionInUrl:v,storage:y,userStorage:_,storageKey:k,flowType:S,lock:j,debug:N,throwOnError:E},C,A){const T={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new u.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},T),C),storageKey:k,autoRefreshToken:m,persistSession:g,detectSessionInUrl:v,storage:y,userStorage:_,flowType:S,lock:j,debug:N,throwOnError:E,fetch:A,hasCustomAuthorizationHeader:Object.keys(this.headers).some(P=>P.toLowerCase()==="authorization")})}_initRealtimeClient(m){return new r.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},m),{params:Object.assign({apikey:this.supabaseKey},m?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((g,v)=>{this._handleTokenChanged(g,"CLIENT",v?.access_token)})}_handleTokenChanged(m,g,v){(m==="TOKEN_REFRESHED"||m==="SIGNED_IN")&&this.changedAccessToken!==v?(this.changedAccessToken=v,this.realtime.setAuth(v)):m==="SIGNED_OUT"&&(this.realtime.setAuth(),g=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return uf.default=d,uf}var B2;function _I(){return B2||(B2=1,(function(e){var t=La&&La.__createBinding||(Object.create?(function(m,g,v,y){y===void 0&&(y=v);var _=Object.getOwnPropertyDescriptor(g,v);(!_||("get"in _?!g.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return g[v]}}),Object.defineProperty(m,y,_)}):(function(m,g,v,y){y===void 0&&(y=v),m[y]=g[v]})),r=La&&La.__exportStar||function(m,g){for(var v in m)v!=="default"&&!Object.prototype.hasOwnProperty.call(g,v)&&t(g,m,v)},n=La&&La.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(e,"__esModule",{value:!0}),e.createClient=e.SupabaseClient=e.FunctionRegion=e.FunctionsError=e.FunctionsRelayError=e.FunctionsFetchError=e.FunctionsHttpError=e.PostgrestError=void 0;const a=n(U2());r(XA,e);var s=gA();Object.defineProperty(e,"PostgrestError",{enumerable:!0,get:function(){return s.PostgrestError}});var l=uA;Object.defineProperty(e,"FunctionsHttpError",{enumerable:!0,get:function(){return l.FunctionsHttpError}}),Object.defineProperty(e,"FunctionsFetchError",{enumerable:!0,get:function(){return l.FunctionsFetchError}}),Object.defineProperty(e,"FunctionsRelayError",{enumerable:!0,get:function(){return l.FunctionsRelayError}}),Object.defineProperty(e,"FunctionsError",{enumerable:!0,get:function(){return l.FunctionsError}}),Object.defineProperty(e,"FunctionRegion",{enumerable:!0,get:function(){return l.FunctionRegion}}),r(kA,e);var u=U2();Object.defineProperty(e,"SupabaseClient",{enumerable:!0,get:function(){return n(u).default}});const d=(m,g,v)=>new a.default(m,g,v);e.createClient=d;function f(){if(typeof window<"u"||typeof process>"u")return!1;const m=process.version;if(m==null)return!1;const g=m.match(/^v(\d+)\./);return g?parseInt(g[1],10)<=18:!1}f()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(La)),La}var JA=_I();const QA=ri(JA),SI=N5({__proto__:null,default:QA},[JA]),{PostgrestError:Ele,FunctionsHttpError:Ole,FunctionsFetchError:Nle,FunctionsRelayError:Ale,FunctionsError:Tle,FunctionRegion:Cle,SupabaseClient:Ple,createClient:eT,GoTrueAdminApi:Dle,GoTrueClient:Mle,AuthAdminApi:Rle,AuthClient:$le,navigatorLock:Lle,NavigatorLockAcquireTimeoutError:Ile,lockInternals:zle,processLock:Ule,SIGN_OUT_SCOPES:Ble,AuthError:qle,AuthApiError:Hle,AuthUnknownError:Fle,CustomAuthError:Vle,AuthSessionMissingError:Kle,AuthInvalidTokenResponseError:Zle,AuthInvalidCredentialsError:Gle,AuthImplicitGrantRedirectError:Yle,AuthPKCEGrantCodeExchangeError:Wle,AuthRetryableFetchError:Xle,AuthWeakPasswordError:Jle,AuthInvalidJwtError:Qle,isAuthError:ece,isAuthApiError:tce,isAuthSessionMissingError:rce,isAuthImplicitGrantRedirectError:nce,isAuthRetryableFetchError:ace,isAuthWeakPasswordError:ice,RealtimePresence:sce,RealtimeChannel:oce,RealtimeClient:lce,REALTIME_LISTEN_TYPES:cce,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:uce,REALTIME_PRESENCE_LISTEN_EVENTS:dce,REALTIME_SUBSCRIBE_STATES:fce,REALTIME_CHANNEL_STATES:hce}=QA||SI,kI="https://jbedxxdpqtmprixfxgos.supabase.co",jI="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpiZWR4eGRwcXRtcHJpeGZ4Z29zIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU0NjQxODcsImV4cCI6MjA4MTA0MDE4N30.U-3j_SAvrno9vMAVCsa2RHrmYFs0wLfyYka-Ax0TUQ4",tT=kI,rT=jI;console.warn("Using Fallback Supabase Keys. Please set VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY in your .env file.");const Me=eT(tT,rT),nT=x.createContext();function EI({children:e}){const[t,r]=x.useState(()=>{try{const y=localStorage.getItem("ubp_session_user");return y?JSON.parse(y):null}catch{return null}}),[n,a]=x.useState(()=>localStorage.getItem("ubp_user_role")||null),[s,l]=x.useState(()=>!localStorage.getItem("ubp_session_user")),u=async y=>{if(!y){a(null),localStorage.removeItem("ubp_user_role");return}try{const{data:_,error:k}=await Me.from("user_roles").select("role").eq("email",y).maybeSingle();if(k){k.code!=="42P01"&&console.error("Error fetching role:",k),a("viewer");return}const S=_?.role||"viewer";a(S),localStorage.setItem("ubp_user_role",S)}catch(_){console.error("Unexpected error fetching role:",_),a("viewer")}};x.useEffect(()=>{let y=!0;Me.auth.getSession().then(({data:{session:k}})=>{if(!y)return;const S=k?.user??null;r(S),S?(localStorage.setItem("ubp_session_user",JSON.stringify(S)),u(S.email)):(localStorage.removeItem("ubp_session_user"),localStorage.removeItem("ubp_user_role"),l(!1))});const{data:{subscription:_}}=Me.auth.onAuthStateChange((k,S)=>{if(!y)return;const j=S?.user??null;r(j),j?(localStorage.setItem("ubp_session_user",JSON.stringify(j)),u(j.email)):(a(null),localStorage.removeItem("ubp_user_role"),localStorage.removeItem("ubp_session_user"),l(!1))});return()=>{y=!1,_.unsubscribe()}},[]);const v={user:t,userRole:n,signIn:async(y,_)=>{const{error:k}=await Me.auth.signInWithPassword({email:y,password:_});if(k)throw k},signUp:async(y,_)=>{const{data:k,error:S}=await Me.auth.signUp({email:y,password:_,options:{emailRedirectTo:window.location.origin}});if(S)throw S;return k},signOut:async()=>{const{error:y}=await Me.auth.signOut();if(y)throw y},resendVerificationEmail:async y=>{const{error:_}=await Me.auth.resend({type:"signup",email:y,options:{emailRedirectTo:window.location.origin}});if(_)throw _},loading:s};return p.jsx(nT.Provider,{value:v,children:!s&&e})}function wr(){return x.useContext(nT)}const h0="/UBP-Scheduler-V2/assets/ubp_logo_v4-BJtcTMQd.png";function OI({isOpen:e,onClose:t}){const{signIn:r}=wr(),[n,a]=x.useState(""),[s,l]=x.useState(""),[u,d]=x.useState(null),[f,m]=x.useState(!1);if(!e)return null;const g=async v=>{v.preventDefault(),d(null),m(!0);try{await r(n,s),t()}catch(y){d(y.message)}finally{m(!1)}};return p.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4 transition-all",children:p.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden relative",children:[p.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-500 hover:text-white transition-colors",children:p.jsx(Zs,{className:"h-6 w-6"})}),p.jsxs("div",{className:"p-8",children:[p.jsx("div",{className:"flex justify-center mb-6",children:p.jsx("div",{className:"h-20 w-20 bg-white rounded-full shadow-2xl shadow-blue-500/20 flex items-center justify-center overflow-hidden",children:p.jsx("img",{src:h0,alt:"UBP",className:"h-full w-full object-cover transform scale-105"})})}),p.jsx("h2",{className:"text-2xl font-bold text-white mb-2 text-center",children:"Welcome Back"}),p.jsx("p",{className:"text-gray-400 text-sm mb-6 text-center",children:"Sign in to access your production schedule."}),u&&p.jsx("div",{className:"p-3 rounded-lg mb-4 text-sm font-medium border bg-red-900/30 text-red-300 border-red-800",children:u}),p.jsxs("form",{onSubmit:g,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Email"}),p.jsx("input",{type:"email",required:!0,value:n,onChange:v=>a(v.target.value),className:"mt-1 block w-full rounded-lg bg-gray-800 border-gray-700 text-white placeholder-gray-500 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2.5 border transition-colors",placeholder:"name@company.com"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Password"}),p.jsx("input",{type:"password",required:!0,value:s,onChange:v=>l(v.target.value),className:"mt-1 block w-full rounded-lg bg-gray-800 border-gray-700 text-white placeholder-gray-500 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2.5 border transition-colors",placeholder:""})]}),p.jsx("button",{type:"submit",disabled:f,className:"w-full bg-blue-600 text-white rounded-lg py-2.5 font-bold hover:bg-blue-500 transition-all disabled:opacity-50 shadow-lg shadow-blue-900/20",children:f?"Processing...":"Sign In"})]}),p.jsx("div",{className:"mt-6 text-center text-sm text-gray-500",children:p.jsx("span",{className:"italic",children:"Authorized personnel only."})})]})]})})}function NI({onOpenSettings:e,isSaving:t,saveError:r,activeTab:n,setActiveTab:a}){const{user:s,userRole:l,signOut:u}=wr(),[d,f]=x.useState(!1),[m,g]=x.useState(navigator.onLine),[v,y]=x.useState(!1),_=["admin","planner"].includes(l||"admin");x.useEffect(()=>{const S=()=>y(window.scrollY>10);window.addEventListener("scroll",S);const j=()=>g(!0),N=()=>g(!1);return window.addEventListener("online",j),window.addEventListener("offline",N),()=>{window.removeEventListener("scroll",S),window.removeEventListener("online",j),window.removeEventListener("offline",N)}},[]);const k=({id:S,label:j,icon:N,activeColor:E})=>{const C=n===S;return p.jsxs("button",{onClick:()=>a(S),className:`
                    relative group flex items-center gap-2 px-4 py-2 rounded-full text-sm font-bold transition-all duration-300
                    ${C?"bg-white text-slate-900 shadow-md ring-1 ring-black/5 dark:bg-slate-700 dark:text-white dark:ring-white/10":"text-slate-500 hover:text-slate-800 hover:bg-slate-100/50 dark:text-slate-400 dark:hover:text-slate-200 dark:hover:bg-slate-800/50"}
                `,children:[p.jsx(N,{className:`w-4 h-4 transition-transform duration-300 ${C?"scale-110 "+E:"group-hover:scale-110 opacity-70 group-hover:opacity-100"}`}),p.jsx("span",{children:j}),C&&p.jsx("span",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 w-1 h-1 rounded-full bg-slate-900 dark:bg-white opacity-20"})]})};return p.jsxs(p.Fragment,{children:[p.jsx(OI,{isOpen:d,onClose:()=>f(!1)}),p.jsx("header",{className:`
                sticky top-0 z-50 w-full transition-all duration-500 ease-in-out border-b
                ${v?"bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl border-slate-200/50 dark:border-slate-800/50 shadow-sm py-2":"bg-white dark:bg-slate-900 border-transparent py-4"}
            `,children:p.jsxs("div",{className:"max-w-[1920px] mx-auto px-6 flex justify-between items-center",children:[p.jsxs("div",{className:"flex items-center gap-4 w-[280px]",children:[p.jsx("div",{className:`
                            relative h-10 w-10 rounded-xl bg-gradient-to-br from-blue-600 to-indigo-700 shadow-lg shadow-blue-500/20 
                            flex items-center justify-center overflow-hidden transition-transform hover:scale-105 duration-300
                            ${v?"ring-2 ring-white dark:ring-slate-800":""}
                        `,children:p.jsx("img",{src:h0,alt:"UBP",className:"h-[90%] w-[90%] object-contain drop-shadow-md"})}),p.jsxs("div",{className:"flex flex-col",children:[p.jsxs("h1",{className:"text-base font-black tracking-tight text-slate-900 dark:text-white leading-none",children:["UBP ",p.jsx("span",{className:"text-slate-400 font-medium",children:"Scheduler"})]}),p.jsx("span",{className:"text-[10px] font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-500 to-indigo-500 uppercase tracking-widest mt-0.5",children:"Enterprise Edition"})]})]}),s&&p.jsxs("nav",{className:`
                            hidden lg:flex items-center p-1.5 rounded-full transition-all duration-300
                            ${v?"bg-slate-100/80 dark:bg-slate-800/80 backdrop-blur-md shadow-inner border border-white/20 dark:border-slate-700/50":"bg-slate-50 dark:bg-slate-800/30"}
                        `,children:[p.jsx(k,{id:"logistics",label:"Floor Ops",icon:mL,activeColor:"text-emerald-500"}),_&&p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"w-px h-4 bg-slate-300 dark:bg-slate-700 mx-2 opacity-50"}),p.jsx(k,{id:"mrp",label:"Materials",icon:oL,activeColor:"text-blue-500"}),p.jsx(k,{id:"scheduler",label:"Scheduler",icon:cL,activeColor:"text-purple-500"}),p.jsx(k,{id:"master",label:"Master Plan",icon:dL,activeColor:"text-amber-500"})]}),p.jsx("div",{className:"w-px h-4 bg-slate-300 dark:bg-slate-700 mx-2 opacity-50"}),p.jsx(k,{id:"products",label:"Catalog",icon:Ff,activeColor:"text-pink-500"})]}),p.jsxs("div",{className:"flex items-center justify-end gap-5 w-[280px]",children:[s&&p.jsx("div",{className:"flex items-center gap-3",children:p.jsxs("div",{className:`
                                    flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-bold transition-colors
                                    ${t?"bg-blue-50 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400":r?"bg-rose-50 text-rose-600 dark:bg-rose-900/30 dark:text-rose-400":m?"bg-emerald-50 text-emerald-600 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-slate-100 text-slate-500 dark:bg-slate-800 dark:text-slate-400"}
                                `,title:r||(m?"Online & Synced":"Offline"),children:[p.jsx(k6,{className:`h-3.5 w-3.5 ${t?"animate-bounce":""}`}),p.jsx("span",{className:"hidden xl:inline",children:t?"Saving...":r?"Error":"Synced"})]})}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("button",{onClick:()=>window.print(),className:"p-2 text-slate-400 hover:text-slate-700 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-all",title:"Print View",children:p.jsx(F6,{className:"h-5 w-5"})}),p.jsx("button",{onClick:e,className:"p-2 text-slate-400 hover:text-slate-700 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-all group",title:"Settings",children:p.jsx(E6,{className:"h-5 w-5 group-hover:rotate-180 transition-transform duration-700"})})]}),s?p.jsx("div",{className:"flex items-center pl-5 border-l border-slate-200 dark:border-slate-800",children:p.jsxs("button",{onClick:u,className:"flex items-center gap-3 group pl-2",title:"Click to Sign Out",children:[p.jsxs("div",{className:"text-right hidden xl:block",children:[p.jsx("div",{className:"text-xs font-bold text-slate-700 dark:text-slate-200 group-hover:text-rose-500 transition-colors",children:s.email?.split("@")[0]}),p.jsx("div",{className:"text-[10px] font-medium text-slate-400 uppercase tracking-widest group-hover:text-rose-400 transition-colors",children:l||"User"})]}),p.jsx("div",{className:"h-9 w-9 rounded-full bg-gradient-to-tr from-indigo-500 to-purple-600 shadow-md ring-2 ring-white dark:ring-slate-900 flex items-center justify-center text-xs font-bold text-white group-hover:ring-rose-500 transition-all",children:s.email?.[0].toUpperCase()}),p.jsx(s6,{className:"w-4 h-4 text-slate-400 group-hover:text-rose-500 transition-colors xl:hidden"})]})}):p.jsx("button",{onClick:()=>f(!0),className:"px-5 py-2 rounded-full bg-slate-900 text-white text-sm font-bold shadow-lg hover:shadow-xl hover:-translate-y-0.5 transition-all dark:bg-white dark:text-slate-900",children:"Sign In"})]})]})})]})}const bf=async(e,t,r={})=>{const{data:n,error:a}=await Me.from("products").select("id").eq("user_id",e).eq("name",t).order("created_at",{ascending:!0}).limit(1).maybeSingle();if(a)throw a;if(n)return n.id;const{data:s,error:l}=await Me.from("products").insert({user_id:e,name:t,bottles_per_case:r.bottles_per_case||12,bottles_per_truck:r.bottles_per_truck||2e4,cases_per_pallet:r.cases_per_pallet||100}).select("id").single();if(l)throw console.error("Error creating product:",l),l;return s.id},AI=async(e,t)=>{const{data:r,error:n}=await Me.from("products").select("*").eq("user_id",e).eq("name",t).order("created_at",{ascending:!0}).limit(1).maybeSingle();if(n)throw n;return r},TI=async e=>{const{data:t,error:r}=await Me.from("products").select("*").eq("user_id",e);if(r)throw r;return t||[]},CI=async e=>{const{error:t}=await Me.from("products").delete().eq("id",e);if(t)throw t};function de(e,t,r){function n(u,d){if(u._zod||Object.defineProperty(u,"_zod",{value:{def:d,constr:l,traits:new Set},enumerable:!1}),u._zod.traits.has(e))return;u._zod.traits.add(e),t(u,d);const f=l.prototype,m=Object.keys(f);for(let g=0;g<m.length;g++){const v=m[g];v in u||(u[v]=f[v].bind(u))}}const a=r?.Parent??Object;class s extends a{}Object.defineProperty(s,"name",{value:e});function l(u){var d;const f=r?.Parent?new s:this;n(f,u),(d=f._zod).deferred??(d.deferred=[]);for(const m of f._zod.deferred)m();return f}return Object.defineProperty(l,"init",{value:n}),Object.defineProperty(l,Symbol.hasInstance,{value:u=>r?.Parent&&u instanceof r.Parent?!0:u?._zod?.traits?.has(e)}),Object.defineProperty(l,"name",{value:e}),l}class al extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class aT extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const iT={};function zs(e){return iT}function sT(e){const t=Object.values(e).filter(n=>typeof n=="number");return Object.entries(e).filter(([n,a])=>t.indexOf(+n)===-1).map(([n,a])=>a)}function By(e,t){return typeof t=="bigint"?t.toString():t}function fx(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function hx(e){return e==null}function mx(e){const t=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}function PI(e,t){const r=(e.toString().split(".")[1]||"").length,n=t.toString();let a=(n.split(".")[1]||"").length;if(a===0&&/\d?e-\d?/.test(n)){const d=n.match(/\d?e-(\d?)/);d?.[1]&&(a=Number.parseInt(d[1]))}const s=r>a?r:a,l=Number.parseInt(e.toFixed(s).replace(".","")),u=Number.parseInt(t.toFixed(s).replace(".",""));return l%u/10**s}const q2=Symbol("evaluating");function nt(e,t,r){let n;Object.defineProperty(e,t,{get(){if(n!==q2)return n===void 0&&(n=q2,n=r()),n},set(a){Object.defineProperty(e,t,{value:a})},configurable:!0})}function Gs(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function Ys(...e){const t={};for(const r of e){const n=Object.getOwnPropertyDescriptors(r);Object.assign(t,n)}return Object.defineProperties({},t)}function H2(e){return JSON.stringify(e)}function DI(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const oT="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function dh(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const MI=fx(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function Qc(e){if(dh(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const r=t.prototype;return!(dh(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function lT(e){return Qc(e)?{...e}:Array.isArray(e)?[...e]:e}const RI=new Set(["string","number","symbol"]);function m0(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Gi(e,t,r){const n=new e._zod.constr(t??e._zod.def);return(!t||r?.parent)&&(n._zod.parent=e),n}function Ae(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function $I(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const LI={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function II(e,t){const r=e._zod.def,n=Ys(e._zod.def,{get shape(){const a={};for(const s in t){if(!(s in r.shape))throw new Error(`Unrecognized key: "${s}"`);t[s]&&(a[s]=r.shape[s])}return Gs(this,"shape",a),a},checks:[]});return Gi(e,n)}function zI(e,t){const r=e._zod.def,n=Ys(e._zod.def,{get shape(){const a={...e._zod.def.shape};for(const s in t){if(!(s in r.shape))throw new Error(`Unrecognized key: "${s}"`);t[s]&&delete a[s]}return Gs(this,"shape",a),a},checks:[]});return Gi(e,n)}function UI(e,t){if(!Qc(t))throw new Error("Invalid input to extend: expected a plain object");const r=e._zod.def.checks;if(r&&r.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const a=Ys(e._zod.def,{get shape(){const s={...e._zod.def.shape,...t};return Gs(this,"shape",s),s},checks:[]});return Gi(e,a)}function BI(e,t){if(!Qc(t))throw new Error("Invalid input to safeExtend: expected a plain object");const r={...e._zod.def,get shape(){const n={...e._zod.def.shape,...t};return Gs(this,"shape",n),n},checks:e._zod.def.checks};return Gi(e,r)}function qI(e,t){const r=Ys(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return Gs(this,"shape",n),n},get catchall(){return t._zod.def.catchall},checks:[]});return Gi(e,r)}function HI(e,t,r){const n=Ys(t._zod.def,{get shape(){const a=t._zod.def.shape,s={...a};if(r)for(const l in r){if(!(l in a))throw new Error(`Unrecognized key: "${l}"`);r[l]&&(s[l]=e?new e({type:"optional",innerType:a[l]}):a[l])}else for(const l in a)s[l]=e?new e({type:"optional",innerType:a[l]}):a[l];return Gs(this,"shape",s),s},checks:[]});return Gi(t,n)}function FI(e,t,r){const n=Ys(t._zod.def,{get shape(){const a=t._zod.def.shape,s={...a};if(r)for(const l in r){if(!(l in s))throw new Error(`Unrecognized key: "${l}"`);r[l]&&(s[l]=new e({type:"nonoptional",innerType:a[l]}))}else for(const l in a)s[l]=new e({type:"nonoptional",innerType:a[l]});return Gs(this,"shape",s),s},checks:[]});return Gi(t,n)}function Jo(e,t=0){if(e.aborted===!0)return!0;for(let r=t;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}function cT(e,t){return t.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(e),r})}function xf(e){return typeof e=="string"?e:e?.message}function Us(e,t,r){const n={...e,path:e.path??[]};if(!e.message){const a=xf(e.inst?._zod.def?.error?.(e))??xf(t?.error?.(e))??xf(r.customError?.(e))??xf(r.localeError?.(e))??"Invalid input";n.message=a}return delete n.inst,delete n.continue,t?.reportInput||delete n.input,n}function px(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function eu(...e){const[t,r,n]=e;return typeof t=="string"?{message:t,code:"custom",input:r,inst:n}:{...t}}const uT=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,By,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},dT=de("$ZodError",uT),fT=de("$ZodError",uT,{Parent:Error});function VI(e,t=r=>r.message){const r={},n=[];for(const a of e.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(t(a))):n.push(t(a));return{formErrors:n,fieldErrors:r}}function KI(e,t=r=>r.message){const r={_errors:[]},n=a=>{for(const s of a.issues)if(s.code==="invalid_union"&&s.errors.length)s.errors.map(l=>n({issues:l}));else if(s.code==="invalid_key")n({issues:s.issues});else if(s.code==="invalid_element")n({issues:s.issues});else if(s.path.length===0)r._errors.push(t(s));else{let l=r,u=0;for(;u<s.path.length;){const d=s.path[u];u===s.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(t(s))):l[d]=l[d]||{_errors:[]},l=l[d],u++}}};return n(e),r}const gx=e=>(t,r,n,a)=>{const s=n?Object.assign(n,{async:!1}):{async:!1},l=t._zod.run({value:r,issues:[]},s);if(l instanceof Promise)throw new al;if(l.issues.length){const u=new(a?.Err??e)(l.issues.map(d=>Us(d,s,zs())));throw oT(u,a?.callee),u}return l.value},vx=e=>async(t,r,n,a)=>{const s=n?Object.assign(n,{async:!0}):{async:!0};let l=t._zod.run({value:r,issues:[]},s);if(l instanceof Promise&&(l=await l),l.issues.length){const u=new(a?.Err??e)(l.issues.map(d=>Us(d,s,zs())));throw oT(u,a?.callee),u}return l.value},p0=e=>(t,r,n)=>{const a=n?{...n,async:!1}:{async:!1},s=t._zod.run({value:r,issues:[]},a);if(s instanceof Promise)throw new al;return s.issues.length?{success:!1,error:new(e??dT)(s.issues.map(l=>Us(l,a,zs())))}:{success:!0,data:s.value}},ZI=p0(fT),g0=e=>async(t,r,n)=>{const a=n?Object.assign(n,{async:!0}):{async:!0};let s=t._zod.run({value:r,issues:[]},a);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new e(s.issues.map(l=>Us(l,a,zs())))}:{success:!0,data:s.value}},GI=g0(fT),YI=e=>(t,r,n)=>{const a=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return gx(e)(t,r,a)},WI=e=>(t,r,n)=>gx(e)(t,r,n),XI=e=>async(t,r,n)=>{const a=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return vx(e)(t,r,a)},JI=e=>async(t,r,n)=>vx(e)(t,r,n),QI=e=>(t,r,n)=>{const a=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return p0(e)(t,r,a)},e7=e=>(t,r,n)=>p0(e)(t,r,n),t7=e=>async(t,r,n)=>{const a=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return g0(e)(t,r,a)},r7=e=>async(t,r,n)=>g0(e)(t,r,n),n7=/^[cC][^\s-]{8,}$/,a7=/^[0-9a-z]+$/,i7=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,s7=/^[0-9a-vA-V]{20}$/,o7=/^[A-Za-z0-9]{27}$/,l7=/^[a-zA-Z0-9_-]{21}$/,c7=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,u7=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,F2=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,d7=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,f7="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function h7(){return new RegExp(f7,"u")}const m7=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,p7=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,g7=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,v7=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,y7=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,hT=/^[A-Za-z0-9_-]*$/,b7=/^\+(?:[0-9]){6,14}[0-9]$/,mT="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",x7=new RegExp(`^${mT}$`);function pT(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function w7(e){return new RegExp(`^${pT(e)}$`)}function _7(e){const t=pT({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const n=`${t}(?:${r.join("|")})`;return new RegExp(`^${mT}T(?:${n})$`)}const S7=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},k7=/^-?\d+$/,j7=/^-?\d+(?:\.\d+)?/,E7=/^(?:true|false)$/i,O7=/^[^A-Z]*$/,N7=/^[^a-z]*$/,Vr=de("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),gT={number:"number",bigint:"bigint",object:"date"},vT=de("$ZodCheckLessThan",(e,t)=>{Vr.init(e,t);const r=gT[typeof t.value];e._zod.onattach.push(n=>{const a=n._zod.bag,s=(t.inclusive?a.maximum:a.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<s&&(t.inclusive?a.maximum=t.value:a.exclusiveMaximum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value<=t.value:n.value<t.value)||n.issues.push({origin:r,code:"too_big",maximum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),yT=de("$ZodCheckGreaterThan",(e,t)=>{Vr.init(e,t);const r=gT[typeof t.value];e._zod.onattach.push(n=>{const a=n._zod.bag,s=(t.inclusive?a.minimum:a.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>s&&(t.inclusive?a.minimum=t.value:a.exclusiveMinimum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value>=t.value:n.value>t.value)||n.issues.push({origin:r,code:"too_small",minimum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),A7=de("$ZodCheckMultipleOf",(e,t)=>{Vr.init(e,t),e._zod.onattach.push(r=>{var n;(n=r._zod.bag).multipleOf??(n.multipleOf=t.value)}),e._zod.check=r=>{if(typeof r.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%t.value===BigInt(0):PI(r.value,t.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:e,continue:!t.abort})}}),T7=de("$ZodCheckNumberFormat",(e,t)=>{Vr.init(e,t),t.format=t.format||"float64";const r=t.format?.includes("int"),n=r?"int":"number",[a,s]=LI[t.format];e._zod.onattach.push(l=>{const u=l._zod.bag;u.format=t.format,u.minimum=a,u.maximum=s,r&&(u.pattern=k7)}),e._zod.check=l=>{const u=l.value;if(r){if(!Number.isInteger(u)){l.issues.push({expected:n,format:t.format,code:"invalid_type",continue:!1,input:u,inst:e});return}if(!Number.isSafeInteger(u)){u>0?l.issues.push({input:u,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort}):l.issues.push({input:u,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort});return}}u<a&&l.issues.push({origin:"number",input:u,code:"too_small",minimum:a,inclusive:!0,inst:e,continue:!t.abort}),u>s&&l.issues.push({origin:"number",input:u,code:"too_big",maximum:s,inst:e})}}),C7=de("$ZodCheckMaxLength",(e,t)=>{var r;Vr.init(e,t),(r=e._zod.def).when??(r.when=n=>{const a=n.value;return!hx(a)&&a.length!==void 0}),e._zod.onattach.push(n=>{const a=n._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<a&&(n._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{const a=n.value;if(a.length<=t.maximum)return;const l=px(a);n.issues.push({origin:l,code:"too_big",maximum:t.maximum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),P7=de("$ZodCheckMinLength",(e,t)=>{var r;Vr.init(e,t),(r=e._zod.def).when??(r.when=n=>{const a=n.value;return!hx(a)&&a.length!==void 0}),e._zod.onattach.push(n=>{const a=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>a&&(n._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{const a=n.value;if(a.length>=t.minimum)return;const l=px(a);n.issues.push({origin:l,code:"too_small",minimum:t.minimum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),D7=de("$ZodCheckLengthEquals",(e,t)=>{var r;Vr.init(e,t),(r=e._zod.def).when??(r.when=n=>{const a=n.value;return!hx(a)&&a.length!==void 0}),e._zod.onattach.push(n=>{const a=n._zod.bag;a.minimum=t.length,a.maximum=t.length,a.length=t.length}),e._zod.check=n=>{const a=n.value,s=a.length;if(s===t.length)return;const l=px(a),u=s>t.length;n.issues.push({origin:l,...u?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),v0=de("$ZodCheckStringFormat",(e,t)=>{var r,n;Vr.init(e,t),e._zod.onattach.push(a=>{const s=a._zod.bag;s.format=t.format,t.pattern&&(s.patterns??(s.patterns=new Set),s.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=a=>{t.pattern.lastIndex=0,!t.pattern.test(a.value)&&a.issues.push({origin:"string",code:"invalid_format",format:t.format,input:a.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(n=e._zod).check??(n.check=()=>{})}),M7=de("$ZodCheckRegex",(e,t)=>{v0.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),R7=de("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=O7),v0.init(e,t)}),$7=de("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=N7),v0.init(e,t)}),L7=de("$ZodCheckIncludes",(e,t)=>{Vr.init(e,t);const r=m0(t.includes),n=new RegExp(typeof t.position=="number"?`^.{${t.position}}${r}`:r);t.pattern=n,e._zod.onattach.push(a=>{const s=a._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),e._zod.check=a=>{a.value.includes(t.includes,t.position)||a.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:a.value,inst:e,continue:!t.abort})}}),I7=de("$ZodCheckStartsWith",(e,t)=>{Vr.init(e,t);const r=new RegExp(`^${m0(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const a=n._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(r)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),z7=de("$ZodCheckEndsWith",(e,t)=>{Vr.init(e,t);const r=new RegExp(`.*${m0(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const a=n._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(r)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}}),U7=de("$ZodCheckOverwrite",(e,t)=>{Vr.init(e,t),e._zod.check=r=>{r.value=t.tx(r.value)}});class B7{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const n=t.split(`
`).filter(l=>l),a=Math.min(...n.map(l=>l.length-l.trimStart().length)),s=n.map(l=>l.slice(a)).map(l=>" ".repeat(this.indent*2)+l);for(const l of s)this.content.push(l)}compile(){const t=Function,r=this?.args,a=[...(this?.content??[""]).map(s=>`  ${s}`)];return new t(...r,a.join(`
`))}}const q7={major:4,minor:2,patch:1},St=de("$ZodType",(e,t)=>{var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=q7;const n=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&n.unshift(e);for(const a of n)for(const s of a._zod.onattach)s(e);if(n.length===0)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const a=(l,u,d)=>{let f=Jo(l),m;for(const g of u){if(g._zod.def.when){if(!g._zod.def.when(l))continue}else if(f)continue;const v=l.issues.length,y=g._zod.check(l);if(y instanceof Promise&&d?.async===!1)throw new al;if(m||y instanceof Promise)m=(m??Promise.resolve()).then(async()=>{await y,l.issues.length!==v&&(f||(f=Jo(l,v)))});else{if(l.issues.length===v)continue;f||(f=Jo(l,v))}}return m?m.then(()=>l):l},s=(l,u,d)=>{if(Jo(l))return l.aborted=!0,l;const f=a(u,n,d);if(f instanceof Promise){if(d.async===!1)throw new al;return f.then(m=>e._zod.parse(m,d))}return e._zod.parse(f,d)};e._zod.run=(l,u)=>{if(u.skipChecks)return e._zod.parse(l,u);if(u.direction==="backward"){const f=e._zod.parse({value:l.value,issues:[]},{...u,skipChecks:!0});return f instanceof Promise?f.then(m=>s(m,l,u)):s(f,l,u)}const d=e._zod.parse(l,u);if(d instanceof Promise){if(u.async===!1)throw new al;return d.then(f=>a(f,n,u))}return a(d,n,u)}}e["~standard"]={validate:a=>{try{const s=ZI(e,a);return s.success?{value:s.data}:{issues:s.error?.issues}}catch{return GI(e,a).then(l=>l.success?{value:l.data}:{issues:l.error?.issues})}},vendor:"zod",version:1}}),yx=de("$ZodString",(e,t)=>{St.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??S7(e._zod.bag),e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),gt=de("$ZodStringFormat",(e,t)=>{v0.init(e,t),yx.init(e,t)}),H7=de("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=u7),gt.init(e,t)}),F7=de("$ZodUUID",(e,t)=>{if(t.version){const n={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(n===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=F2(n))}else t.pattern??(t.pattern=F2());gt.init(e,t)}),V7=de("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=d7),gt.init(e,t)}),K7=de("$ZodURL",(e,t)=>{gt.init(e,t),e._zod.check=r=>{try{const n=r.value.trim(),a=new URL(n);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(a.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(a.protocol.endsWith(":")?a.protocol.slice(0,-1):a.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),t.normalize?r.value=a.href:r.value=n;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),Z7=de("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=h7()),gt.init(e,t)}),G7=de("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=l7),gt.init(e,t)}),Y7=de("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=n7),gt.init(e,t)}),W7=de("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=a7),gt.init(e,t)}),X7=de("$ZodULID",(e,t)=>{t.pattern??(t.pattern=i7),gt.init(e,t)}),J7=de("$ZodXID",(e,t)=>{t.pattern??(t.pattern=s7),gt.init(e,t)}),Q7=de("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=o7),gt.init(e,t)}),ez=de("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=_7(t)),gt.init(e,t)}),tz=de("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=x7),gt.init(e,t)}),rz=de("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=w7(t)),gt.init(e,t)}),nz=de("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=c7),gt.init(e,t)}),az=de("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=m7),gt.init(e,t),e._zod.bag.format="ipv4"}),iz=de("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=p7),gt.init(e,t),e._zod.bag.format="ipv6",e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),sz=de("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=g7),gt.init(e,t)}),oz=de("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=v7),gt.init(e,t),e._zod.check=r=>{const n=r.value.split("/");try{if(n.length!==2)throw new Error;const[a,s]=n;if(!s)throw new Error;const l=Number(s);if(`${l}`!==s)throw new Error;if(l<0||l>128)throw new Error;new URL(`http://[${a}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function bT(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const lz=de("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=y7),gt.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=r=>{bT(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function cz(e){if(!hT.test(e))return!1;const t=e.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=t.padEnd(Math.ceil(t.length/4)*4,"=");return bT(r)}const uz=de("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=hT),gt.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=r=>{cz(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),dz=de("$ZodE164",(e,t)=>{t.pattern??(t.pattern=b7),gt.init(e,t)});function fz(e,t=null){try{const r=e.split(".");if(r.length!==3)return!1;const[n]=r;if(!n)return!1;const a=JSON.parse(atob(n));return!("typ"in a&&a?.typ!=="JWT"||!a.alg||t&&(!("alg"in a)||a.alg!==t))}catch{return!1}}const hz=de("$ZodJWT",(e,t)=>{gt.init(e,t),e._zod.check=r=>{fz(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),xT=de("$ZodNumber",(e,t)=>{St.init(e,t),e._zod.pattern=e._zod.bag.pattern??j7,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=Number(r.value)}catch{}const a=r.value;if(typeof a=="number"&&!Number.isNaN(a)&&Number.isFinite(a))return r;const s=typeof a=="number"?Number.isNaN(a)?"NaN":Number.isFinite(a)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:a,inst:e,...s?{received:s}:{}}),r}}),mz=de("$ZodNumberFormat",(e,t)=>{T7.init(e,t),xT.init(e,t)}),pz=de("$ZodBoolean",(e,t)=>{St.init(e,t),e._zod.pattern=E7,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=!!r.value}catch{}const a=r.value;return typeof a=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:a,inst:e}),r}}),gz=de("$ZodAny",(e,t)=>{St.init(e,t),e._zod.parse=r=>r}),vz=de("$ZodUnknown",(e,t)=>{St.init(e,t),e._zod.parse=r=>r}),yz=de("$ZodNever",(e,t)=>{St.init(e,t),e._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)});function V2(e,t,r){e.issues.length&&t.issues.push(...cT(r,e.issues)),t.value[r]=e.value}const bz=de("$ZodArray",(e,t)=>{St.init(e,t),e._zod.parse=(r,n)=>{const a=r.value;if(!Array.isArray(a))return r.issues.push({expected:"array",code:"invalid_type",input:a,inst:e}),r;r.value=Array(a.length);const s=[];for(let l=0;l<a.length;l++){const u=a[l],d=t.element._zod.run({value:u,issues:[]},n);d instanceof Promise?s.push(d.then(f=>V2(f,r,l))):V2(d,r,l)}return s.length?Promise.all(s).then(()=>r):r}});function fh(e,t,r,n){e.issues.length&&t.issues.push(...cT(r,e.issues)),e.value===void 0?r in n&&(t.value[r]=void 0):t.value[r]=e.value}function wT(e){const t=Object.keys(e.shape);for(const n of t)if(!e.shape?.[n]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${n}": expected a Zod schema`);const r=$I(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(r)}}function _T(e,t,r,n,a,s){const l=[],u=a.keySet,d=a.catchall._zod,f=d.def.type;for(const m in t){if(u.has(m))continue;if(f==="never"){l.push(m);continue}const g=d.run({value:t[m],issues:[]},n);g instanceof Promise?e.push(g.then(v=>fh(v,r,m,t))):fh(g,r,m,t)}return l.length&&r.issues.push({code:"unrecognized_keys",keys:l,input:t,inst:s}),e.length?Promise.all(e).then(()=>r):r}const xz=de("$ZodObject",(e,t)=>{if(St.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){const u=t.shape;Object.defineProperty(t,"shape",{get:()=>{const d={...u};return Object.defineProperty(t,"shape",{value:d}),d}})}const n=fx(()=>wT(t));nt(e._zod,"propValues",()=>{const u=t.shape,d={};for(const f in u){const m=u[f]._zod;if(m.values){d[f]??(d[f]=new Set);for(const g of m.values)d[f].add(g)}}return d});const a=dh,s=t.catchall;let l;e._zod.parse=(u,d)=>{l??(l=n.value);const f=u.value;if(!a(f))return u.issues.push({expected:"object",code:"invalid_type",input:f,inst:e}),u;u.value={};const m=[],g=l.shape;for(const v of l.keys){const _=g[v]._zod.run({value:f[v],issues:[]},d);_ instanceof Promise?m.push(_.then(k=>fh(k,u,v,f))):fh(_,u,v,f)}return s?_T(m,f,u,d,n.value,e):m.length?Promise.all(m).then(()=>u):u}}),wz=de("$ZodObjectJIT",(e,t)=>{xz.init(e,t);const r=e._zod.parse,n=fx(()=>wT(t)),a=v=>{const y=new B7(["shape","payload","ctx"]),_=n.value,k=E=>{const C=H2(E);return`shape[${C}]._zod.run({ value: input[${C}], issues: [] }, ctx)`};y.write("const input = payload.value;");const S=Object.create(null);let j=0;for(const E of _.keys)S[E]=`key_${j++}`;y.write("const newResult = {};");for(const E of _.keys){const C=S[E],A=H2(E);y.write(`const ${C} = ${k(E)};`),y.write(`
        if (${C}.issues.length) {
          payload.issues = payload.issues.concat(${C}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${A}, ...iss.path] : [${A}]
          })));
        }
        
        
        if (${C}.value === undefined) {
          if (${A} in input) {
            newResult[${A}] = undefined;
          }
        } else {
          newResult[${A}] = ${C}.value;
        }
        
      `)}y.write("payload.value = newResult;"),y.write("return payload;");const N=y.compile();return(E,C)=>N(v,E,C)};let s;const l=dh,u=!iT.jitless,f=u&&MI.value,m=t.catchall;let g;e._zod.parse=(v,y)=>{g??(g=n.value);const _=v.value;return l(_)?u&&f&&y?.async===!1&&y.jitless!==!0?(s||(s=a(t.shape)),v=s(v,y),m?_T([],_,v,y,g,e):v):r(v,y):(v.issues.push({expected:"object",code:"invalid_type",input:_,inst:e}),v)}});function K2(e,t,r,n){for(const s of e)if(s.issues.length===0)return t.value=s.value,t;const a=e.filter(s=>!Jo(s));return a.length===1?(t.value=a[0].value,a[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(s=>s.issues.map(l=>Us(l,n,zs())))}),t)}const _z=de("$ZodUnion",(e,t)=>{St.init(e,t),nt(e._zod,"optin",()=>t.options.some(a=>a._zod.optin==="optional")?"optional":void 0),nt(e._zod,"optout",()=>t.options.some(a=>a._zod.optout==="optional")?"optional":void 0),nt(e._zod,"values",()=>{if(t.options.every(a=>a._zod.values))return new Set(t.options.flatMap(a=>Array.from(a._zod.values)))}),nt(e._zod,"pattern",()=>{if(t.options.every(a=>a._zod.pattern)){const a=t.options.map(s=>s._zod.pattern);return new RegExp(`^(${a.map(s=>mx(s.source)).join("|")})$`)}});const r=t.options.length===1,n=t.options[0]._zod.run;e._zod.parse=(a,s)=>{if(r)return n(a,s);let l=!1;const u=[];for(const d of t.options){const f=d._zod.run({value:a.value,issues:[]},s);if(f instanceof Promise)u.push(f),l=!0;else{if(f.issues.length===0)return f;u.push(f)}}return l?Promise.all(u).then(d=>K2(d,a,e,s)):K2(u,a,e,s)}}),Sz=de("$ZodIntersection",(e,t)=>{St.init(e,t),e._zod.parse=(r,n)=>{const a=r.value,s=t.left._zod.run({value:a,issues:[]},n),l=t.right._zod.run({value:a,issues:[]},n);return s instanceof Promise||l instanceof Promise?Promise.all([s,l]).then(([d,f])=>Z2(r,d,f)):Z2(r,s,l)}});function qy(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Qc(e)&&Qc(t)){const r=Object.keys(t),n=Object.keys(e).filter(s=>r.indexOf(s)!==-1),a={...e,...t};for(const s of n){const l=qy(e[s],t[s]);if(!l.valid)return{valid:!1,mergeErrorPath:[s,...l.mergeErrorPath]};a[s]=l.data}return{valid:!0,data:a}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let n=0;n<e.length;n++){const a=e[n],s=t[n],l=qy(a,s);if(!l.valid)return{valid:!1,mergeErrorPath:[n,...l.mergeErrorPath]};r.push(l.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function Z2(e,t,r){if(t.issues.length&&e.issues.push(...t.issues),r.issues.length&&e.issues.push(...r.issues),Jo(e))return e;const n=qy(t.value,r.value);if(!n.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(n.mergeErrorPath)}`);return e.value=n.data,e}const kz=de("$ZodEnum",(e,t)=>{St.init(e,t);const r=sT(t.entries),n=new Set(r);e._zod.values=n,e._zod.pattern=new RegExp(`^(${r.filter(a=>RI.has(typeof a)).map(a=>typeof a=="string"?m0(a):a.toString()).join("|")})$`),e._zod.parse=(a,s)=>{const l=a.value;return n.has(l)||a.issues.push({code:"invalid_value",values:r,input:l,inst:e}),a}}),jz=de("$ZodTransform",(e,t)=>{St.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new aT(e.constructor.name);const a=t.transform(r.value,r);if(n.async)return(a instanceof Promise?a:Promise.resolve(a)).then(l=>(r.value=l,r));if(a instanceof Promise)throw new al;return r.value=a,r}});function G2(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const Ez=de("$ZodOptional",(e,t)=>{St.init(e,t),e._zod.optin="optional",e._zod.optout="optional",nt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),nt(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${mx(r.source)})?$`):void 0}),e._zod.parse=(r,n)=>{if(t.innerType._zod.optin==="optional"){const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(s=>G2(s,r.value)):G2(a,r.value)}return r.value===void 0?r:t.innerType._zod.run(r,n)}}),Oz=de("$ZodNullable",(e,t)=>{St.init(e,t),nt(e._zod,"optin",()=>t.innerType._zod.optin),nt(e._zod,"optout",()=>t.innerType._zod.optout),nt(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${mx(r.source)}|null)$`):void 0}),nt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(r,n)=>r.value===null?r:t.innerType._zod.run(r,n)}),Nz=de("$ZodDefault",(e,t)=>{St.init(e,t),e._zod.optin="optional",nt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);if(r.value===void 0)return r.value=t.defaultValue,r;const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(s=>Y2(s,t)):Y2(a,t)}});function Y2(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const Az=de("$ZodPrefault",(e,t)=>{St.init(e,t),e._zod.optin="optional",nt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>(n.direction==="backward"||r.value===void 0&&(r.value=t.defaultValue),t.innerType._zod.run(r,n))}),Tz=de("$ZodNonOptional",(e,t)=>{St.init(e,t),nt(e._zod,"values",()=>{const r=t.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),e._zod.parse=(r,n)=>{const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(s=>W2(s,e)):W2(a,e)}});function W2(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const Cz=de("$ZodCatch",(e,t)=>{St.init(e,t),nt(e._zod,"optin",()=>t.innerType._zod.optin),nt(e._zod,"optout",()=>t.innerType._zod.optout),nt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(s=>(r.value=s.value,s.issues.length&&(r.value=t.catchValue({...r,error:{issues:s.issues.map(l=>Us(l,n,zs()))},input:r.value}),r.issues=[]),r)):(r.value=a.value,a.issues.length&&(r.value=t.catchValue({...r,error:{issues:a.issues.map(s=>Us(s,n,zs()))},input:r.value}),r.issues=[]),r)}}),Pz=de("$ZodPipe",(e,t)=>{St.init(e,t),nt(e._zod,"values",()=>t.in._zod.values),nt(e._zod,"optin",()=>t.in._zod.optin),nt(e._zod,"optout",()=>t.out._zod.optout),nt(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(r,n)=>{if(n.direction==="backward"){const s=t.out._zod.run(r,n);return s instanceof Promise?s.then(l=>wf(l,t.in,n)):wf(s,t.in,n)}const a=t.in._zod.run(r,n);return a instanceof Promise?a.then(s=>wf(s,t.out,n)):wf(a,t.out,n)}});function wf(e,t,r){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},r)}const Dz=de("$ZodReadonly",(e,t)=>{St.init(e,t),nt(e._zod,"propValues",()=>t.innerType._zod.propValues),nt(e._zod,"values",()=>t.innerType._zod.values),nt(e._zod,"optin",()=>t.innerType?._zod?.optin),nt(e._zod,"optout",()=>t.innerType?._zod?.optout),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(X2):X2(a)}});function X2(e){return e.value=Object.freeze(e.value),e}const Mz=de("$ZodCustom",(e,t)=>{Vr.init(e,t),St.init(e,t),e._zod.parse=(r,n)=>r,e._zod.check=r=>{const n=r.value,a=t.fn(n);if(a instanceof Promise)return a.then(s=>J2(s,r,n,e));J2(a,r,n,e)}});function J2(e,t,r,n){if(!e){const a={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(a.params=n._zod.def.params),t.issues.push(eu(a))}}var Q2;class Rz{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...r){const n=r[0];if(this._map.set(t,n),n&&typeof n=="object"&&"id"in n){if(this._idmap.has(n.id))throw new Error(`ID ${n.id} already exists in the registry`);this._idmap.set(n.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const r=this._map.get(t);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(t),this}get(t){const r=t._zod.parent;if(r){const n={...this.get(r)??{}};delete n.id;const a={...n,...this._map.get(t)};return Object.keys(a).length?a:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function $z(){return new Rz}(Q2=globalThis).__zod_globalRegistry??(Q2.__zod_globalRegistry=$z());const zc=globalThis.__zod_globalRegistry;function Lz(e,t){return new e({type:"string",...Ae(t)})}function Iz(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...Ae(t)})}function ej(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...Ae(t)})}function zz(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...Ae(t)})}function Uz(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Ae(t)})}function Bz(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Ae(t)})}function qz(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Ae(t)})}function Hz(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...Ae(t)})}function Fz(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...Ae(t)})}function Vz(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...Ae(t)})}function Kz(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...Ae(t)})}function Zz(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...Ae(t)})}function Gz(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...Ae(t)})}function Yz(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...Ae(t)})}function Wz(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...Ae(t)})}function Xz(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...Ae(t)})}function Jz(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...Ae(t)})}function Qz(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Ae(t)})}function e9(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Ae(t)})}function t9(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...Ae(t)})}function r9(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...Ae(t)})}function n9(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...Ae(t)})}function a9(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...Ae(t)})}function i9(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Ae(t)})}function s9(e,t){return new e({type:"string",format:"date",check:"string_format",...Ae(t)})}function o9(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...Ae(t)})}function l9(e,t){return new e({type:"string",format:"duration",check:"string_format",...Ae(t)})}function c9(e,t){return new e({type:"number",checks:[],...Ae(t)})}function u9(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...Ae(t)})}function d9(e,t){return new e({type:"boolean",...Ae(t)})}function f9(e){return new e({type:"any"})}function h9(e){return new e({type:"unknown"})}function m9(e,t){return new e({type:"never",...Ae(t)})}function tj(e,t){return new vT({check:"less_than",...Ae(t),value:e,inclusive:!1})}function Ug(e,t){return new vT({check:"less_than",...Ae(t),value:e,inclusive:!0})}function rj(e,t){return new yT({check:"greater_than",...Ae(t),value:e,inclusive:!1})}function Bg(e,t){return new yT({check:"greater_than",...Ae(t),value:e,inclusive:!0})}function nj(e,t){return new A7({check:"multiple_of",...Ae(t),value:e})}function ST(e,t){return new C7({check:"max_length",...Ae(t),maximum:e})}function hh(e,t){return new P7({check:"min_length",...Ae(t),minimum:e})}function kT(e,t){return new D7({check:"length_equals",...Ae(t),length:e})}function p9(e,t){return new M7({check:"string_format",format:"regex",...Ae(t),pattern:e})}function g9(e){return new R7({check:"string_format",format:"lowercase",...Ae(e)})}function v9(e){return new $7({check:"string_format",format:"uppercase",...Ae(e)})}function y9(e,t){return new L7({check:"string_format",format:"includes",...Ae(t),includes:e})}function b9(e,t){return new I7({check:"string_format",format:"starts_with",...Ae(t),prefix:e})}function x9(e,t){return new z7({check:"string_format",format:"ends_with",...Ae(t),suffix:e})}function wl(e){return new U7({check:"overwrite",tx:e})}function w9(e){return wl(t=>t.normalize(e))}function _9(){return wl(e=>e.trim())}function S9(){return wl(e=>e.toLowerCase())}function k9(){return wl(e=>e.toUpperCase())}function j9(){return wl(e=>DI(e))}function E9(e,t,r){return new e({type:"array",element:t,...Ae(r)})}function O9(e,t,r){return new e({type:"custom",check:"custom",fn:t,...Ae(r)})}function N9(e){const t=A9(r=>(r.addIssue=n=>{if(typeof n=="string")r.issues.push(eu(n,r.value,t._zod.def));else{const a=n;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=r.value),a.inst??(a.inst=t),a.continue??(a.continue=!t._zod.def.abort),r.issues.push(eu(a))}},e(r.value,r)));return t}function A9(e,t){const r=new Vr({check:"custom",...Ae(t)});return r._zod.check=e,r}function jT(e){let t=e?.target??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:e?.metadata??zc,target:t,unrepresentable:e?.unrepresentable??"throw",override:e?.override??(()=>{}),io:e?.io??"output",counter:0,seen:new Map,cycles:e?.cycles??"ref",reused:e?.reused??"inline",external:e?.external??void 0}}function cr(e,t,r={path:[],schemaPath:[]}){var n;const a=e._zod.def,s=t.seen.get(e);if(s)return s.count++,r.schemaPath.includes(e)&&(s.cycle=r.path),s.schema;const l={schema:{},count:1,cycle:void 0,path:r.path};t.seen.set(e,l);const u=e._zod.toJSONSchema?.();if(u)l.schema=u;else{const m={...r,schemaPath:[...r.schemaPath,e],path:r.path},g=e._zod.parent;if(g)l.ref=g,cr(g,t,m),t.seen.get(g).isParent=!0;else if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,l.schema,m);else{const v=l.schema,y=t.processors[a.type];if(!y)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${a.type}`);y(e,t,v,m)}}const d=t.metadataRegistry.get(e);return d&&Object.assign(l.schema,d),t.io==="input"&&jr(e)&&(delete l.schema.examples,delete l.schema.default),t.io==="input"&&l.schema._prefault&&((n=l.schema).default??(n.default=l.schema._prefault)),delete l.schema._prefault,t.seen.get(e).schema}function ET(e,t){const r=e.seen.get(t);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");const n=s=>{const l=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const m=e.external.registry.get(s[0])?.id,g=e.external.uri??(y=>y);if(m)return{ref:g(m)};const v=s[1].defId??s[1].schema.id??`schema${e.counter++}`;return s[1].defId=v,{defId:v,ref:`${g("__shared")}#/${l}/${v}`}}if(s[1]===r)return{ref:"#"};const d=`#/${l}/`,f=s[1].schema.id??`__schema${e.counter++}`;return{defId:f,ref:d+f}},a=s=>{if(s[1].schema.$ref)return;const l=s[1],{ref:u,defId:d}=n(s);l.def={...l.schema},d&&(l.defId=d);const f=l.schema;for(const m in f)delete f[m];f.$ref=u};if(e.cycles==="throw")for(const s of e.seen.entries()){const l=s[1];if(l.cycle)throw new Error(`Cycle detected: #/${l.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const s of e.seen.entries()){const l=s[1];if(t===s[0]){a(s);continue}if(e.external){const d=e.external.registry.get(s[0])?.id;if(t!==s[0]&&d){a(s);continue}}if(e.metadataRegistry.get(s[0])?.id){a(s);continue}if(l.cycle){a(s);continue}if(l.count>1&&e.reused==="ref"){a(s);continue}}}function OT(e,t){const r=e.seen.get(t);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");const n=l=>{const u=e.seen.get(l),d=u.def??u.schema,f={...d};if(u.ref===null)return;const m=u.ref;if(u.ref=null,m){n(m);const g=e.seen.get(m).schema;g.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(d.allOf=d.allOf??[],d.allOf.push(g)):(Object.assign(d,g),Object.assign(d,f))}u.isParent||e.override({zodSchema:l,jsonSchema:d,path:u.path??[]})};for(const l of[...e.seen.entries()].reverse())n(l[0]);const a={};if(e.target==="draft-2020-12"?a.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?a.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?a.$schema="http://json-schema.org/draft-04/schema#":e.target,e.external?.uri){const l=e.external.registry.get(t)?.id;if(!l)throw new Error("Schema is missing an `id` property");a.$id=e.external.uri(l)}Object.assign(a,r.def??r.schema);const s=e.external?.defs??{};for(const l of e.seen.entries()){const u=l[1];u.def&&u.defId&&(s[u.defId]=u.def)}e.external||Object.keys(s).length>0&&(e.target==="draft-2020-12"?a.$defs=s:a.definitions=s);try{const l=JSON.parse(JSON.stringify(a));return Object.defineProperty(l,"~standard",{value:{...t["~standard"],jsonSchema:{input:mh(t,"input"),output:mh(t,"output")}},enumerable:!1,writable:!1}),l}catch{throw new Error("Error converting schema to JSON.")}}function jr(e,t){const r=t??{seen:new Set};if(r.seen.has(e))return!1;r.seen.add(e);const n=e._zod.def;if(n.type==="transform")return!0;if(n.type==="array")return jr(n.element,r);if(n.type==="set")return jr(n.valueType,r);if(n.type==="lazy")return jr(n.getter(),r);if(n.type==="promise"||n.type==="optional"||n.type==="nonoptional"||n.type==="nullable"||n.type==="readonly"||n.type==="default"||n.type==="prefault")return jr(n.innerType,r);if(n.type==="intersection")return jr(n.left,r)||jr(n.right,r);if(n.type==="record"||n.type==="map")return jr(n.keyType,r)||jr(n.valueType,r);if(n.type==="pipe")return jr(n.in,r)||jr(n.out,r);if(n.type==="object"){for(const a in n.shape)if(jr(n.shape[a],r))return!0;return!1}if(n.type==="union"){for(const a of n.options)if(jr(a,r))return!0;return!1}if(n.type==="tuple"){for(const a of n.items)if(jr(a,r))return!0;return!!(n.rest&&jr(n.rest,r))}return!1}const T9=(e,t={})=>r=>{const n=jT({...r,processors:t});return cr(e,n),ET(n,e),OT(n,e)},mh=(e,t)=>r=>{const{libraryOptions:n,target:a}=r??{},s=jT({...n??{},target:a,io:t,processors:{}});return cr(e,s),ET(s,e),OT(s,e)},C9={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},P9=(e,t,r,n)=>{const a=r;a.type="string";const{minimum:s,maximum:l,format:u,patterns:d,contentEncoding:f}=e._zod.bag;if(typeof s=="number"&&(a.minLength=s),typeof l=="number"&&(a.maxLength=l),u&&(a.format=C9[u]??u,a.format===""&&delete a.format),f&&(a.contentEncoding=f),d&&d.size>0){const m=[...d];m.length===1?a.pattern=m[0].source:m.length>1&&(a.allOf=[...m.map(g=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:g.source}))])}},D9=(e,t,r,n)=>{const a=r,{minimum:s,maximum:l,format:u,multipleOf:d,exclusiveMaximum:f,exclusiveMinimum:m}=e._zod.bag;typeof u=="string"&&u.includes("int")?a.type="integer":a.type="number",typeof m=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(a.minimum=m,a.exclusiveMinimum=!0):a.exclusiveMinimum=m),typeof s=="number"&&(a.minimum=s,typeof m=="number"&&t.target!=="draft-04"&&(m>=s?delete a.minimum:delete a.exclusiveMinimum)),typeof f=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(a.maximum=f,a.exclusiveMaximum=!0):a.exclusiveMaximum=f),typeof l=="number"&&(a.maximum=l,typeof f=="number"&&t.target!=="draft-04"&&(f<=l?delete a.maximum:delete a.exclusiveMaximum)),typeof d=="number"&&(a.multipleOf=d)},M9=(e,t,r,n)=>{r.type="boolean"},R9=(e,t,r,n)=>{r.not={}},$9=(e,t,r,n)=>{},L9=(e,t,r,n)=>{},I9=(e,t,r,n)=>{const a=e._zod.def,s=sT(a.entries);s.every(l=>typeof l=="number")&&(r.type="number"),s.every(l=>typeof l=="string")&&(r.type="string"),r.enum=s},z9=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},U9=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},B9=(e,t,r,n)=>{const a=r,s=e._zod.def,{minimum:l,maximum:u}=e._zod.bag;typeof l=="number"&&(a.minItems=l),typeof u=="number"&&(a.maxItems=u),a.type="array",a.items=cr(s.element,t,{...n,path:[...n.path,"items"]})},q9=(e,t,r,n)=>{const a=r,s=e._zod.def;a.type="object",a.properties={};const l=s.shape;for(const f in l)a.properties[f]=cr(l[f],t,{...n,path:[...n.path,"properties",f]});const u=new Set(Object.keys(l)),d=new Set([...u].filter(f=>{const m=s.shape[f]._zod;return t.io==="input"?m.optin===void 0:m.optout===void 0}));d.size>0&&(a.required=Array.from(d)),s.catchall?._zod.def.type==="never"?a.additionalProperties=!1:s.catchall?s.catchall&&(a.additionalProperties=cr(s.catchall,t,{...n,path:[...n.path,"additionalProperties"]})):t.io==="output"&&(a.additionalProperties=!1)},H9=(e,t,r,n)=>{const a=e._zod.def,s=a.inclusive===!1,l=a.options.map((u,d)=>cr(u,t,{...n,path:[...n.path,s?"oneOf":"anyOf",d]}));s?r.oneOf=l:r.anyOf=l},F9=(e,t,r,n)=>{const a=e._zod.def,s=cr(a.left,t,{...n,path:[...n.path,"allOf",0]}),l=cr(a.right,t,{...n,path:[...n.path,"allOf",1]}),u=f=>"allOf"in f&&Object.keys(f).length===1,d=[...u(s)?s.allOf:[s],...u(l)?l.allOf:[l]];r.allOf=d},V9=(e,t,r,n)=>{const a=e._zod.def,s=cr(a.innerType,t,n),l=t.seen.get(e);t.target==="openapi-3.0"?(l.ref=a.innerType,r.nullable=!0):r.anyOf=[s,{type:"null"}]},K9=(e,t,r,n)=>{const a=e._zod.def;cr(a.innerType,t,n);const s=t.seen.get(e);s.ref=a.innerType},Z9=(e,t,r,n)=>{const a=e._zod.def;cr(a.innerType,t,n);const s=t.seen.get(e);s.ref=a.innerType,r.default=JSON.parse(JSON.stringify(a.defaultValue))},G9=(e,t,r,n)=>{const a=e._zod.def;cr(a.innerType,t,n);const s=t.seen.get(e);s.ref=a.innerType,t.io==="input"&&(r._prefault=JSON.parse(JSON.stringify(a.defaultValue)))},Y9=(e,t,r,n)=>{const a=e._zod.def;cr(a.innerType,t,n);const s=t.seen.get(e);s.ref=a.innerType;let l;try{l=a.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}r.default=l},W9=(e,t,r,n)=>{const a=e._zod.def,s=t.io==="input"?a.in._zod.def.type==="transform"?a.out:a.in:a.out;cr(s,t,n);const l=t.seen.get(e);l.ref=s},X9=(e,t,r,n)=>{const a=e._zod.def;cr(a.innerType,t,n);const s=t.seen.get(e);s.ref=a.innerType,r.readOnly=!0},J9=(e,t,r,n)=>{const a=e._zod.def;cr(a.innerType,t,n);const s=t.seen.get(e);s.ref=a.innerType},Q9=de("ZodISODateTime",(e,t)=>{ez.init(e,t),yt.init(e,t)});function eU(e){return i9(Q9,e)}const tU=de("ZodISODate",(e,t)=>{tz.init(e,t),yt.init(e,t)});function rU(e){return s9(tU,e)}const nU=de("ZodISOTime",(e,t)=>{rz.init(e,t),yt.init(e,t)});function aU(e){return o9(nU,e)}const iU=de("ZodISODuration",(e,t)=>{nz.init(e,t),yt.init(e,t)});function sU(e){return l9(iU,e)}const oU=(e,t)=>{dT.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:r=>KI(e,r)},flatten:{value:r=>VI(e,r)},addIssue:{value:r=>{e.issues.push(r),e.message=JSON.stringify(e.issues,By,2)}},addIssues:{value:r=>{e.issues.push(...r),e.message=JSON.stringify(e.issues,By,2)}},isEmpty:{get(){return e.issues.length===0}}})},Mn=de("ZodError",oU,{Parent:Error}),lU=gx(Mn),cU=vx(Mn),uU=p0(Mn),dU=g0(Mn),fU=YI(Mn),hU=WI(Mn),mU=XI(Mn),pU=JI(Mn),gU=QI(Mn),vU=e7(Mn),yU=t7(Mn),bU=r7(Mn),Nt=de("ZodType",(e,t)=>(St.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:mh(e,"input"),output:mh(e,"output")}}),e.toJSONSchema=T9(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone(Ys(t,{checks:[...t.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]})),e.clone=(r,n)=>Gi(e,r,n),e.brand=()=>e,e.register=((r,n)=>(r.add(e,n),e)),e.parse=(r,n)=>lU(e,r,n,{callee:e.parse}),e.safeParse=(r,n)=>uU(e,r,n),e.parseAsync=async(r,n)=>cU(e,r,n,{callee:e.parseAsync}),e.safeParseAsync=async(r,n)=>dU(e,r,n),e.spa=e.safeParseAsync,e.encode=(r,n)=>fU(e,r,n),e.decode=(r,n)=>hU(e,r,n),e.encodeAsync=async(r,n)=>mU(e,r,n),e.decodeAsync=async(r,n)=>pU(e,r,n),e.safeEncode=(r,n)=>gU(e,r,n),e.safeDecode=(r,n)=>vU(e,r,n),e.safeEncodeAsync=async(r,n)=>yU(e,r,n),e.safeDecodeAsync=async(r,n)=>bU(e,r,n),e.refine=(r,n)=>e.check(hB(r,n)),e.superRefine=r=>e.check(mB(r)),e.overwrite=r=>e.check(wl(r)),e.optional=()=>oj(e),e.nullable=()=>lj(e),e.nullish=()=>oj(lj(e)),e.nonoptional=r=>sB(e,r),e.array=()=>ZU(e),e.or=r=>WU([e,r]),e.and=r=>JU(e,r),e.transform=r=>cj(e,eB(r)),e.default=r=>nB(e,r),e.prefault=r=>iB(e,r),e.catch=r=>lB(e,r),e.pipe=r=>cj(e,r),e.readonly=()=>dB(e),e.describe=r=>{const n=e.clone();return zc.add(n,{description:r}),n},Object.defineProperty(e,"description",{get(){return zc.get(e)?.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return zc.get(e);const n=e.clone();return zc.add(n,r[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),NT=de("_ZodString",(e,t)=>{yx.init(e,t),Nt.init(e,t),e._zod.processJSONSchema=(n,a,s)=>P9(e,n,a);const r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...n)=>e.check(p9(...n)),e.includes=(...n)=>e.check(y9(...n)),e.startsWith=(...n)=>e.check(b9(...n)),e.endsWith=(...n)=>e.check(x9(...n)),e.min=(...n)=>e.check(hh(...n)),e.max=(...n)=>e.check(ST(...n)),e.length=(...n)=>e.check(kT(...n)),e.nonempty=(...n)=>e.check(hh(1,...n)),e.lowercase=n=>e.check(g9(n)),e.uppercase=n=>e.check(v9(n)),e.trim=()=>e.check(_9()),e.normalize=(...n)=>e.check(w9(...n)),e.toLowerCase=()=>e.check(S9()),e.toUpperCase=()=>e.check(k9()),e.slugify=()=>e.check(j9())}),xU=de("ZodString",(e,t)=>{yx.init(e,t),NT.init(e,t),e.email=r=>e.check(Iz(wU,r)),e.url=r=>e.check(Hz(_U,r)),e.jwt=r=>e.check(a9(LU,r)),e.emoji=r=>e.check(Fz(SU,r)),e.guid=r=>e.check(ej(aj,r)),e.uuid=r=>e.check(zz(_f,r)),e.uuidv4=r=>e.check(Uz(_f,r)),e.uuidv6=r=>e.check(Bz(_f,r)),e.uuidv7=r=>e.check(qz(_f,r)),e.nanoid=r=>e.check(Vz(kU,r)),e.guid=r=>e.check(ej(aj,r)),e.cuid=r=>e.check(Kz(jU,r)),e.cuid2=r=>e.check(Zz(EU,r)),e.ulid=r=>e.check(Gz(OU,r)),e.base64=r=>e.check(t9(MU,r)),e.base64url=r=>e.check(r9(RU,r)),e.xid=r=>e.check(Yz(NU,r)),e.ksuid=r=>e.check(Wz(AU,r)),e.ipv4=r=>e.check(Xz(TU,r)),e.ipv6=r=>e.check(Jz(CU,r)),e.cidrv4=r=>e.check(Qz(PU,r)),e.cidrv6=r=>e.check(e9(DU,r)),e.e164=r=>e.check(n9($U,r)),e.datetime=r=>e.check(eU(r)),e.date=r=>e.check(rU(r)),e.time=r=>e.check(aU(r)),e.duration=r=>e.check(sU(r))});function bx(e){return Lz(xU,e)}const yt=de("ZodStringFormat",(e,t)=>{gt.init(e,t),NT.init(e,t)}),wU=de("ZodEmail",(e,t)=>{V7.init(e,t),yt.init(e,t)}),aj=de("ZodGUID",(e,t)=>{H7.init(e,t),yt.init(e,t)}),_f=de("ZodUUID",(e,t)=>{F7.init(e,t),yt.init(e,t)}),_U=de("ZodURL",(e,t)=>{K7.init(e,t),yt.init(e,t)}),SU=de("ZodEmoji",(e,t)=>{Z7.init(e,t),yt.init(e,t)}),kU=de("ZodNanoID",(e,t)=>{G7.init(e,t),yt.init(e,t)}),jU=de("ZodCUID",(e,t)=>{Y7.init(e,t),yt.init(e,t)}),EU=de("ZodCUID2",(e,t)=>{W7.init(e,t),yt.init(e,t)}),OU=de("ZodULID",(e,t)=>{X7.init(e,t),yt.init(e,t)}),NU=de("ZodXID",(e,t)=>{J7.init(e,t),yt.init(e,t)}),AU=de("ZodKSUID",(e,t)=>{Q7.init(e,t),yt.init(e,t)}),TU=de("ZodIPv4",(e,t)=>{az.init(e,t),yt.init(e,t)}),CU=de("ZodIPv6",(e,t)=>{iz.init(e,t),yt.init(e,t)}),PU=de("ZodCIDRv4",(e,t)=>{sz.init(e,t),yt.init(e,t)}),DU=de("ZodCIDRv6",(e,t)=>{oz.init(e,t),yt.init(e,t)}),MU=de("ZodBase64",(e,t)=>{lz.init(e,t),yt.init(e,t)}),RU=de("ZodBase64URL",(e,t)=>{uz.init(e,t),yt.init(e,t)}),$U=de("ZodE164",(e,t)=>{dz.init(e,t),yt.init(e,t)}),LU=de("ZodJWT",(e,t)=>{hz.init(e,t),yt.init(e,t)}),AT=de("ZodNumber",(e,t)=>{xT.init(e,t),Nt.init(e,t),e._zod.processJSONSchema=(n,a,s)=>D9(e,n,a),e.gt=(n,a)=>e.check(rj(n,a)),e.gte=(n,a)=>e.check(Bg(n,a)),e.min=(n,a)=>e.check(Bg(n,a)),e.lt=(n,a)=>e.check(tj(n,a)),e.lte=(n,a)=>e.check(Ug(n,a)),e.max=(n,a)=>e.check(Ug(n,a)),e.int=n=>e.check(ij(n)),e.safe=n=>e.check(ij(n)),e.positive=n=>e.check(rj(0,n)),e.nonnegative=n=>e.check(Bg(0,n)),e.negative=n=>e.check(tj(0,n)),e.nonpositive=n=>e.check(Ug(0,n)),e.multipleOf=(n,a)=>e.check(nj(n,a)),e.step=(n,a)=>e.check(nj(n,a)),e.finite=()=>e;const r=e._zod.bag;e.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function Bi(e){return c9(AT,e)}const IU=de("ZodNumberFormat",(e,t)=>{mz.init(e,t),AT.init(e,t)});function ij(e){return u9(IU,e)}const zU=de("ZodBoolean",(e,t)=>{pz.init(e,t),Nt.init(e,t),e._zod.processJSONSchema=(r,n,a)=>M9(e,r,n)});function UU(e){return d9(zU,e)}const BU=de("ZodAny",(e,t)=>{gz.init(e,t),Nt.init(e,t),e._zod.processJSONSchema=(r,n,a)=>$9()});function qU(){return f9(BU)}const HU=de("ZodUnknown",(e,t)=>{vz.init(e,t),Nt.init(e,t),e._zod.processJSONSchema=(r,n,a)=>L9()});function sj(){return h9(HU)}const FU=de("ZodNever",(e,t)=>{yz.init(e,t),Nt.init(e,t),e._zod.processJSONSchema=(r,n,a)=>R9(e,r,n)});function VU(e){return m9(FU,e)}const KU=de("ZodArray",(e,t)=>{bz.init(e,t),Nt.init(e,t),e._zod.processJSONSchema=(r,n,a)=>B9(e,r,n,a),e.element=t.element,e.min=(r,n)=>e.check(hh(r,n)),e.nonempty=r=>e.check(hh(1,r)),e.max=(r,n)=>e.check(ST(r,n)),e.length=(r,n)=>e.check(kT(r,n)),e.unwrap=()=>e.element});function ZU(e,t){return E9(KU,e,t)}const GU=de("ZodObject",(e,t)=>{wz.init(e,t),Nt.init(e,t),e._zod.processJSONSchema=(r,n,a)=>q9(e,r,n,a),nt(e,"shape",()=>t.shape),e.keyof=()=>xx(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:sj()}),e.loose=()=>e.clone({...e._zod.def,catchall:sj()}),e.strict=()=>e.clone({...e._zod.def,catchall:VU()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>UI(e,r),e.safeExtend=r=>BI(e,r),e.merge=r=>qI(e,r),e.pick=r=>II(e,r),e.omit=r=>zI(e,r),e.partial=(...r)=>HI(TT,e,r[0]),e.required=(...r)=>FI(CT,e,r[0])});function y0(e,t){const r={type:"object",shape:e??{},...Ae(t)};return new GU(r)}const YU=de("ZodUnion",(e,t)=>{_z.init(e,t),Nt.init(e,t),e._zod.processJSONSchema=(r,n,a)=>H9(e,r,n,a),e.options=t.options});function WU(e,t){return new YU({type:"union",options:e,...Ae(t)})}const XU=de("ZodIntersection",(e,t)=>{Sz.init(e,t),Nt.init(e,t),e._zod.processJSONSchema=(r,n,a)=>F9(e,r,n,a)});function JU(e,t){return new XU({type:"intersection",left:e,right:t})}const Hy=de("ZodEnum",(e,t)=>{kz.init(e,t),Nt.init(e,t),e._zod.processJSONSchema=(n,a,s)=>I9(e,n,a),e.enum=t.entries,e.options=Object.values(t.entries);const r=new Set(Object.keys(t.entries));e.extract=(n,a)=>{const s={};for(const l of n)if(r.has(l))s[l]=t.entries[l];else throw new Error(`Key ${l} not found in enum`);return new Hy({...t,checks:[],...Ae(a),entries:s})},e.exclude=(n,a)=>{const s={...t.entries};for(const l of n)if(r.has(l))delete s[l];else throw new Error(`Key ${l} not found in enum`);return new Hy({...t,checks:[],...Ae(a),entries:s})}});function xx(e,t){const r=Array.isArray(e)?Object.fromEntries(e.map(n=>[n,n])):e;return new Hy({type:"enum",entries:r,...Ae(t)})}const QU=de("ZodTransform",(e,t)=>{jz.init(e,t),Nt.init(e,t),e._zod.processJSONSchema=(r,n,a)=>U9(e,r),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new aT(e.constructor.name);r.addIssue=s=>{if(typeof s=="string")r.issues.push(eu(s,r.value,t));else{const l=s;l.fatal&&(l.continue=!1),l.code??(l.code="custom"),l.input??(l.input=r.value),l.inst??(l.inst=e),r.issues.push(eu(l))}};const a=t.transform(r.value,r);return a instanceof Promise?a.then(s=>(r.value=s,r)):(r.value=a,r)}});function eB(e){return new QU({type:"transform",transform:e})}const TT=de("ZodOptional",(e,t)=>{Ez.init(e,t),Nt.init(e,t),e._zod.processJSONSchema=(r,n,a)=>J9(e,r,n,a),e.unwrap=()=>e._zod.def.innerType});function oj(e){return new TT({type:"optional",innerType:e})}const tB=de("ZodNullable",(e,t)=>{Oz.init(e,t),Nt.init(e,t),e._zod.processJSONSchema=(r,n,a)=>V9(e,r,n,a),e.unwrap=()=>e._zod.def.innerType});function lj(e){return new tB({type:"nullable",innerType:e})}const rB=de("ZodDefault",(e,t)=>{Nz.init(e,t),Nt.init(e,t),e._zod.processJSONSchema=(r,n,a)=>Z9(e,r,n,a),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function nB(e,t){return new rB({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():lT(t)}})}const aB=de("ZodPrefault",(e,t)=>{Az.init(e,t),Nt.init(e,t),e._zod.processJSONSchema=(r,n,a)=>G9(e,r,n,a),e.unwrap=()=>e._zod.def.innerType});function iB(e,t){return new aB({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():lT(t)}})}const CT=de("ZodNonOptional",(e,t)=>{Tz.init(e,t),Nt.init(e,t),e._zod.processJSONSchema=(r,n,a)=>K9(e,r,n,a),e.unwrap=()=>e._zod.def.innerType});function sB(e,t){return new CT({type:"nonoptional",innerType:e,...Ae(t)})}const oB=de("ZodCatch",(e,t)=>{Cz.init(e,t),Nt.init(e,t),e._zod.processJSONSchema=(r,n,a)=>Y9(e,r,n,a),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function lB(e,t){return new oB({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const cB=de("ZodPipe",(e,t)=>{Pz.init(e,t),Nt.init(e,t),e._zod.processJSONSchema=(r,n,a)=>W9(e,r,n,a),e.in=t.in,e.out=t.out});function cj(e,t){return new cB({type:"pipe",in:e,out:t})}const uB=de("ZodReadonly",(e,t)=>{Dz.init(e,t),Nt.init(e,t),e._zod.processJSONSchema=(r,n,a)=>X9(e,r,n,a),e.unwrap=()=>e._zod.def.innerType});function dB(e){return new uB({type:"readonly",innerType:e})}const fB=de("ZodCustom",(e,t)=>{Mz.init(e,t),Nt.init(e,t),e._zod.processJSONSchema=(r,n,a)=>z9(e,r)});function hB(e,t={}){return O9(fB,e,t)}function mB(e){return N9(e)}y0({name:bx().min(1,"SKU Name is required"),bottlesPerCase:Bi().min(1),bottlesPerTruck:Bi().min(1),casesPerPallet:Bi().min(1),scrapPercentage:Bi().min(0).default(0)});const pB=y0({date:bx().regex(/^\d{4}-\d{2}-\d{2}$/,"Date must be YYYY-MM-DD"),type:xx(["demand_plan","inbound_trucks","production_actual","truck_manifest_json"]),value:Bi(),metaJson:qU().optional()});y0({productionRate:Bi().min(0),downtimeHours:Bi().min(0),isAutoReplenish:UU().optional()});const gB=y0({date:bx().regex(/^\d{4}-\d{2}-\d{2}$/),count:Bi().min(0),location:xx(["floor","yard"])}),vB=async e=>{const[t,r,n,a]=await Promise.all([Me.from("planning_entries").select("date, entry_type, value, meta_json").eq("product_id",e),Me.from("production_settings").select("*").eq("product_id",e).maybeSingle(),Me.from("inventory_snapshots").select("*").eq("product_id",e).eq("location","floor").order("date",{ascending:!1}).limit(1).maybeSingle(),Me.from("inventory_snapshots").select("*").eq("product_id",e).eq("location","yard").order("date",{ascending:!1}).limit(1).maybeSingle()]);return{entries:t.data||[],settings:r.data,snapshotFloor:n.data,snapshotYard:a.data}},yB=async(e,t,r,n,a,s=null)=>{if(a==null){const{error:d}=await Me.from("planning_entries").delete().eq("product_id",e).eq("date",r).eq("entry_type",n);if(d)throw d;return}try{pB.parse({date:r,type:n,value:a,metaJson:s})}catch(d){throw console.error("Validation Failed:",d),new Error(`Invalid Planning Entry: ${d.errors[0].message}`)}const{data:l}=await Me.from("planning_entries").select("id").eq("product_id",e).eq("date",r).eq("entry_type",n).maybeSingle(),u={product_id:e,user_id:t,date:r,entry_type:n,value:a,meta_json:s};if(l){const{error:d}=await Me.from("planning_entries").update({value:a,meta_json:s,user_id:t}).eq("id",l.id);if(d)throw d}else{const{error:d}=await Me.from("planning_entries").insert(u);if(d)throw d}},Sf=async(e,t,r)=>{if(t==="production_rate"&&typeof r=="number"&&r<0)throw new Error("Production Rate cannot be negative");if(t==="downtime_hours"&&typeof r=="number"&&r<0)throw new Error("Downtime cannot be negative");const{data:n}=await Me.from("production_settings").select("id").eq("product_id",e).limit(1),a=n&&n.length>0?n[0].id:null,s={product_id:e,[t]:r};a&&(s.id=a);const{error:l}=await Me.from("production_settings").upsert(s);if(l)throw console.error("Error saving production setting:",l),l},bB=async e=>{if(!e.length)return;const{error:t}=await Me.from("planning_entries").upsert(e,{onConflict:"product_id, date, entry_type"});if(t)throw t},uj=async(e,t,r,n,a="floor")=>{try{gB.parse({date:r,count:n,location:a})}catch(l){throw new Error(`Invalid Snapshot: ${l.errors[0].message}`)}const{error:s}=await Me.from("inventory_snapshots").upsert({product_id:e,user_id:t,date:r,location:a,quantity_pallets:n},{onConflict:"product_id, date, location"});if(s)throw s},xB=async()=>{const{data:e,error:t}=await Me.from("procurement_orders").select("*").order("date",{ascending:!0});if(t)throw t;return e||[]},wB=async(e,t)=>{const r={po_number:e.po,quantity:e.qty,sku:e.sku,supplier:e.supplier,carrier:e.carrier,status:e.status||"planned",date:e.date,delivery_time:e.time,user_id:t},{data:n}=await Me.from("procurement_orders").select("id").eq("po_number",e.po).maybeSingle();n?await Me.from("procurement_orders").update(r).eq("id",n.id):await Me.from("procurement_orders").insert(r)},_B=async e=>{const{error:t}=await Me.from("procurement_orders").delete().eq("po_number",e);if(t)throw t},SB=async e=>{const{data:t,error:r}=await Me.from("profiles").select("lead_time_days, safety_stock_loads, dashboard_layout, theme").eq("id",e).maybeSingle();return r?(console.error("Error fetching profile:",r),null):t},kB=async(e,t)=>{const r={id:e,...t,updated_at:new Date().toISOString()},{error:n}=await Me.from("profiles").upsert(r);if(n)throw n},_l=()=>{const e=x.useCallback(async(g,v)=>{if(!g)return{success:!1,error:"No user"};try{for(const y of v){const _=await bf(g.id,y),k=localStorage.getItem(`mrp_${y}_productionRate`),S=localStorage.getItem(`mrp_${y}_downtimeHours`),j=localStorage.getItem(`mrp_${y}_isAutoReplenish`);(k||S||j)&&(await Sf(_,"production_rate",k?Number(k):null),await Sf(_,"downtime_hours",S?Number(S):null),await Sf(_,"is_auto_replenish",j==="true"));const N=[{key:"monthlyDemand",type:"demand_plan"},{key:"monthlyInbound",type:"inbound_trucks"},{key:"monthlyProductionActuals",type:"production_actual"}],E=[];for(const{key:A,type:T}of N){const P=localStorage.getItem(`mrp_${y}_${A}`);if(P)try{const M=JSON.parse(P);Object.entries(M).forEach(([R,L])=>{E.push({product_id:_,user_id:g.id,date:R,entry_type:T,value:Number(L)})})}catch{}}E.length>0&&await bB(E);const C=localStorage.getItem(`mrp_${y}_inventoryAnchor`);if(C)try{const A=JSON.parse(C);await uj(_,g.id,A.date,Number(A.count),"floor")}catch{}}return{success:!0}}catch(y){return console.error("Migration Failed:",y),{success:!1,error:y}}},[]),t=x.useCallback(async(g,v)=>{console.log(`[SupabaseSync] Fetching MRP State for User: ${g}, SKU: ${v}`);const y=await AI(g,v);if(!y)return console.warn(`[SupabaseSync] Product not found: ${v}`),null;console.log(`[SupabaseSync] Product Found: ${y.id}. Fetching Details...`);const{entries:_,settings:k,snapshotFloor:S,snapshotYard:j}=await vB(y.id);console.log(`[SupabaseSync] Entries fetched: ${_?.length||0}`);const N={},E={},C={},A={};_?.forEach(M=>{const R=Number(M.value);M.entry_type==="demand_plan"&&(N[M.date]=R),M.entry_type==="inbound_trucks"&&(E[M.date]=R),M.entry_type==="production_actual"&&(C[M.date]=R),M.entry_type==="truck_manifest_json"&&(A[M.date]=M.meta_json||[])});const T=S?{date:S.date,count:Number(S.quantity_pallets)}:null,P=j?{count:Number(j.quantity_pallets),date:j.date}:{count:0,date:null};return{product:y,monthlyDemand:N,monthlyInbound:E,monthlyProductionActuals:C,productionRate:k?.production_rate||5e3,downtimeHours:k?.downtime_hours||0,isAutoReplenish:k?.is_auto_replenish!==!1,inventoryAnchor:T,yardInventory:P,truckManifest:A}},[]),r=x.useCallback(async(g,v,y,_,k)=>{const S=await bf(g,v);let j=typeof k=="number"?k:null,N=null;_==="truck_manifest_json"&&Array.isArray(k)?(j=k.length,N=k):j=Number(k),await yB(S,g,y,_,j,N)},[]),n=x.useCallback(async(g,v,y,_)=>{const k=await bf(g,v);await Sf(k,y,_)},[]),a=x.useCallback(async(g,v,y,_,k="floor")=>{const S=await bf(g,v);await uj(S,g,y,_,k)},[]),s=x.useCallback(async g=>await SB(g),[]),l=x.useCallback(async(g,v)=>{await kB(g,v)},[]),u=x.useCallback(async(g,v,y="viewer")=>{if(!g)return;if(!["admin","planner"].includes(y)){console.warn("Upload skipped: insufficient role (client-side check). RLS would likely reject this.");return}const{count:_,error:k}=await Me.from("products").select("*",{count:"exact",head:!0}).eq("user_id",g.id);if(k){console.error("Migration Check Failed:",k);return}_===0&&await e(g,v)},[e]),d=x.useCallback(async g=>{if(!g.po)return;const v=(await Me.auth.getUser()).data.user;v&&await wB(g,v.id)},[]),f=x.useCallback(async g=>{await _B(g)},[]),m=x.useCallback(async()=>{const g=await xB(),v={};return g.forEach(y=>{v[y.date]||(v[y.date]={items:[]}),v[y.date].items.push({id:y.id,po:y.po_number,qty:Number(y.quantity),sku:y.sku||"",supplier:y.supplier,status:y.status,date:y.date,time:y.delivery_time||"",carrier:y.carrier||"",palletStats:y.meta_data?y.meta_data.palletStats:void 0})}),v},[]);return{supabase:Me,fetchMRPState:t,savePlanningEntry:r,saveProductionSetting:n,saveInventorySnapshot:a,migrateLocalStorage:e,uploadLocalData:u,fetchUserProfile:s,saveUserProfile:l,saveProcurementEntry:d,deleteProcurementEntry:f,fetchProcurementData:m}};function tu({table:e,filter:t,event:r="*",schema:n="public",onDataChange:a,enabled:s=!0}){x.useEffect(()=>{if(!s)return;const l=`public:${e}${t?`:${t}`:""}`,u={event:r,schema:n,table:e,filter:t||void 0},d=Me.channel(l).on("postgres_changes",u,f=>{a(f)}).subscribe(f=>{});return()=>{Me.removeChannel(d)}},[e,t,r,n,a,s])}const nn={safetyStockLoads:6,csvMapping:{statusColumn:"Trailer State",fullValue:"Loaded - Inbound",skuColumn:"Commodity"},dashboardLayout:{top:["kpis"],col1:["demand"],col2:["chart","inventory","production"]},leadTimeDays:2},PT=x.createContext(void 0);function jB({children:e}){const{user:t}=wr(),{fetchUserProfile:r,saveUserProfile:n}=_l(),[a,s]=x.useState(()=>{try{const T=localStorage.getItem("safetyStockLoads");if(T===null)return nn.safetyStockLoads;const P=Number(T);return!isNaN(P)&&P>=0?P:nn.safetyStockLoads}catch{return nn.safetyStockLoads}}),[l,u]=x.useState(()=>{try{const T=localStorage.getItem("csvMapping");return T?JSON.parse(T):nn.csvMapping}catch{return nn.csvMapping}}),[d,f]=x.useState(()=>{try{const T=localStorage.getItem("dashboardLayout");let P=T?JSON.parse(T):nn.dashboardLayout;return P.top&&P.top.includes("demand")&&(P.top=P.top.filter(M=>M!=="demand"),P.col1.includes("demand")||P.col1.unshift("demand")),{top:P.top||["kpis"],col1:P.col1||["demand"],col2:P.col2||["chart","inventory","production"],...P}}catch{return nn.dashboardLayout}}),[m,g]=x.useState(()=>{try{const T=localStorage.getItem("leadTimeDays"),P=Number(T);return!isNaN(P)&&P>=0?P:nn.leadTimeDays}catch{return nn.leadTimeDays}}),[v,y]=x.useState(()=>localStorage.getItem("activeSku")||"20oz"),[_,k]=x.useState(()=>localStorage.getItem("theme")||"light"),[S,j]=x.useState(()=>{try{const T=localStorage.getItem("sched_targetDailyProduction"),P=localStorage.getItem("sched_shiftStartTime"),M=localStorage.getItem("sched_poAssignments"),R=localStorage.getItem("sched_cancelledLoads");return T!==null||P!==null||M!==null?{targetDailyProduction:T?Number(T):0,shiftStartTime:P||"00:00",poAssignments:M?JSON.parse(M):{},cancelledLoads:R?JSON.parse(R):[]}:{targetDailyProduction:0,shiftStartTime:"00:00",poAssignments:{},cancelledLoads:[]}}catch{return{targetDailyProduction:0,shiftStartTime:"00:00",poAssignments:{},cancelledLoads:[]}}});tu({table:"profiles",filter:t?`id=eq.${t.id}`:void 0,event:"UPDATE",enabled:!!t,onDataChange:T=>{const P=T.new;if(P&&(P.lead_time_days!==void 0&&P.lead_time_days!==null&&g(Number(P.lead_time_days)),P.safety_stock_loads!==void 0&&P.safety_stock_loads!==null&&s(Number(P.safety_stock_loads)),P.theme&&k(P.theme),P.dashboard_layout)){const M=P.dashboard_layout;f(R=>({...R,top:M.top||R.top,col1:M.col1||R.col1,col2:M.col2||R.col2})),M.scheduler&&j(R=>({...R,...M.scheduler}))}}}),x.useEffect(()=>{t&&r(t.id).then(T=>{if(T){if(T.lead_time_days!==null&&g(T.lead_time_days),T.safety_stock_loads!==null&&s(T.safety_stock_loads),T.dashboard_layout){const P=T.dashboard_layout;f(M=>({...M,top:P.top||M.top,col1:P.col1||M.col1,col2:P.col2||M.col2})),P.scheduler&&j(M=>({...M,...P.scheduler}))}T.theme&&k(T.theme)}})},[t,r]),x.useEffect(()=>{localStorage.setItem("safetyStockLoads",JSON.stringify(a)),t&&n(t.id,{safety_stock_loads:a})},[a,t,n]),x.useEffect(()=>{localStorage.setItem("leadTimeDays",JSON.stringify(m)),t&&n(t.id,{lead_time_days:m})},[m,t,n]),x.useEffect(()=>{localStorage.setItem("csvMapping",JSON.stringify(l))},[l]),x.useEffect(()=>{localStorage.setItem("activeSku",v)},[v]),x.useEffect(()=>{const T=window.document.documentElement;_==="dark"?T.classList.add("dark"):T.classList.remove("dark"),localStorage.setItem("theme",_),t&&n(t.id,{theme:_})},[_,t,n]),x.useEffect(()=>{if(localStorage.setItem("dashboardLayout",JSON.stringify(d)),localStorage.setItem("settings_scheduler",JSON.stringify(S)),t){const T={...d,scheduler:S};n(t.id,{dashboard_layout:T})}},[d,S,t,n]);const N=x.useCallback((T,P)=>{u(M=>({...M,[T]:P}))},[]),E=x.useCallback((T,P)=>{j(M=>({...M,[T]:P}))},[]),C=x.useCallback(()=>{s(nn.safetyStockLoads),g(nn.leadTimeDays),u(nn.csvMapping),f(nn.dashboardLayout),j({targetDailyProduction:0,shiftStartTime:"00:00",poAssignments:{},cancelledLoads:[]})},[]),A=x.useMemo(()=>({safetyStockLoads:a,leadTimeDays:m,csvMapping:l,dashboardLayout:d,schedulerSettings:S,theme:_,activeSku:v,setTheme:k,setDashboardLayout:f,setSafetyStockLoads:T=>{const P=Number(T);s(!isNaN(P)&&P>=0?P:0)},setLeadTimeDays:T=>{const P=Number(T);g(!isNaN(P)&&P>=0?P:2)},updateCsvMapping:N,updateSchedulerSetting:E,resetDefaults:C,setActiveSku:y,updateGlobalSetting:(T,P)=>{T==="leadTimeDays"&&g(Number(P)),T==="safetyStockLoads"&&s(Number(P))}}),[a,m,l,d,S,_,v,N,E,C]);return p.jsx(PT.Provider,{value:A,children:e})}function Xn(){const e=x.useContext(PT);if(!e)throw new Error("useSettings must be used within a SettingsProvider");return e}const DT=x.createContext();function ur(){return x.useContext(DT)}function EB({children:e}){const{user:t}=wr(),[r,n]=x.useState(()=>{try{const m=localStorage.getItem("ubp_products_list");return m?JSON.parse(m):[]}catch{return[]}}),[a,s]=x.useState(()=>!localStorage.getItem("ubp_products_list")),l=async()=>{if(t)try{const{data:m,error:g}=await Me.from("products").select(`
                    *,
                    production_settings (
                        line_name,
                        production_rate
                    )
                `);if(g)throw g;const v=m||[];n(v),localStorage.setItem("ubp_products_list",JSON.stringify(v))}catch(m){console.error("Error loading products:",m)}finally{s(!1)}},u=async(m,g)=>{const v=r.find(_=>_.name===m);if(!v)return;const y=r.map(_=>_.name===m?{..._,...g}:_);n(y);try{const{error:_}=await Me.from("products").update(g).eq("id",v.id);if(_)throw _}catch(_){console.error("Failed to update product settings",_),l()}};x.useEffect(()=>{l()},[t]);const d=x.useMemo(()=>{const m={};return r.forEach(g=>{const y=(g.production_settings?.find(_=>_.line_name==="Line 1")||g.production_settings?.[0])?.production_rate||0;m[g.name]={bottlesPerCase:g.bottles_per_case,bottlesPerTruck:g.bottles_per_truck,casesPerTruck:Math.floor((g.bottles_per_truck||0)/(g.bottles_per_case||1)),casesPerPallet:g.cases_per_pallet,palletsPerTruck:22,productionRate:y,scrapPercentage:0,leadTimeDays:g.lead_time_days,safetyStockLoads:g.safety_stock_loads,id:g.id}}),m},[r]),f={products:r,productMap:d,loading:a,refreshProducts:l,updateProductSettings:u,getProductSpecs:m=>d[m]||null};return p.jsx(DT.Provider,{value:f,children:e})}const MT=(e,t="00:00",r,n,a=1,s=0)=>{if(!n||n<=0)return"";let l=n,u=r;a>1&&n<1e4&&r>2e4&&(u=r/a);const d=u/l;let f=d;s>0&&s*d>23.5&&(f=23.5/s);const[m,g]=t.split(":").map(Number);let _=((m||0)+(g||0)/60+e*f)%24;_<0&&(_+=24);const k=Math.floor(_),S=Math.round((_-k)*60),j=(k+Math.floor(S/60))%24,N=S%60;return`${String(j).padStart(2,"0")}:${String(N).padStart(2,"0")}`},RT=x.createContext(void 0);function OB({children:e}){const{user:t}=wr(),{fetchProcurementData:r,saveProcurementEntry:n,deleteProcurementEntry:a}=_l(),{schedulerSettings:s,activeSku:l}=Xn(),{getProductSpecs:u}=ur(),[d,f]=x.useState(()=>{try{const E=localStorage.getItem("poManifest");return E?JSON.parse(E):{}}catch{return{}}});x.useEffect(()=>{localStorage.setItem("poManifest",JSON.stringify(d))},[d]),tu({table:"procurement_orders",event:"*",enabled:!!t,onDataChange:E=>{const{eventType:C,new:A,old:T}=E;if(C==="DELETE"){const R=T.id,L=T.po_number;if(!R&&!L)return;f($=>{const q={...$};let V=null,Q=null;for(const[ae,U]of Object.entries(q)){const Y=U.items.find(ee=>R&&ee.id===R||L&&ee.po===L);if(Y){V=ae,Q=Y;break}}return V&&Q&&(q[V].items=q[V].items.filter(ae=>ae!==Q),q[V].items.length===0&&delete q[V]),q});return}const P=A.date,M={id:A.id||crypto.randomUUID(),po:A.po_number,date:A.date,qty:Number(A.quantity),status:A.status,supplier:A.supplier,sku:A.sku,time:A.delivery_time,carrier:A.carrier,palletStats:A.meta_data?A.meta_data.palletStats:void 0};f(R=>{const L={...R};for(const[$,q]of Object.entries(L)){const V=q.items.filter(Q=>Q.po!==M.po);V.length!==q.items.length&&(L[$]={items:V},V.length===0&&delete L[$])}return L[P]||(L[P]={items:[]}),L[P].items.push(M),L})}});const m=(E,C)=>{if(f(A=>({...A,[E]:{items:C}})),t)try{C.forEach(A=>{n(A).catch(T=>console.error("Cloud Save Failed for Item:",A,T))})}catch(A){console.error("Error initiating cloud sync:",A)}},g=E=>{f(C=>{const A={...C},T=E.reduce((P,M)=>(P[M.date]||(P[M.date]=[]),P[M.date].push(M),P),{});return Object.entries(T).forEach(([P,M])=>{let L=(A[P]?.items||[]).length;M.forEach(($,q)=>{if($.id||($.id=crypto.randomUUID()),!$.time){const V=$.sku||l,Q=u(V),ae=s?.shiftStartTime||"00:00";if(Q&&Q.productionRate>0){const U=Q.bottlesPerTruck||2e4,Y=Q.productionRate,ee=Q.bottlesPerCase||1;$.time=MT(L+q,ae,U,Y,ee)}}A[P]||(A[P]={items:[]}),A[P].items.push($)})}),t&&E.forEach(P=>{n(P).catch(M=>console.error("Cloud Sync Error",M))}),A})},v=(E,C,A)=>{f(T=>{const P={...T};return P[E]&&(P[E].items=P[E].items.filter(M=>M.id!==C)),P}),t&&A&&a(A)},y=(E,C)=>{f(A=>{const T={...A};return T[E]?.items&&(T[E].items=T[E].items.map(P=>P.id===C.id?C:P)),T}),t&&n(C)},_=E=>{f(C=>{const A={...C};return E.forEach(T=>{A[T.date]?.items&&(A[T.date].items=A[T.date].items.filter(P=>P.id!==T.id))}),A}),t&&E.forEach(C=>{C.po&&a(C.po)})},k=(E,C,A)=>{if(f(T=>{const P={...T};P[E]?.items&&(P[E].items=P[E].items.filter(L=>L.id!==A.id));const M=P[C]?.items||[],R={...A,date:C};return P[C]={items:[...M,R]},P}),t){const T={...A,date:C};n(T)}},S=E=>{f(C=>{const A={...C};return E.forEach(T=>{let P=null;for(const[R,L]of Object.entries(A)){if(L.items.some($=>$.id===T.id)){P=R;break}if(L.items.some($=>$.po===T.po)){P=R;break}}const M=T.date;if(P&&P!==M)A[P]?.items&&(A[P].items=A[P].items.filter(R=>R.id!==T.id),A[P].items.length===0&&delete A[P]),A[M]||(A[M]={items:[]}),A[M].items.push(T);else{const R=P||M;A[R]?A[R].items=A[R].items.map(L=>L.id===T.id?T:L):(A[R]||(A[R]={items:[]}),A[R].items.push(T))}}),A}),t&&E.forEach(C=>n(C))},j=()=>f({});x.useEffect(()=>{t&&r().then(E=>{E&&Object.keys(E).length>0&&f(E)})},[t,r]);const N={poManifest:d,updateDailyManifest:m,addOrdersBulk:g,removeOrder:v,updateOrder:y,deleteOrdersBulk:_,moveOrder:k,bulkUpdateOrders:S,clearManifest:j};return p.jsx(RT.Provider,{value:N,children:e})}function Jn(){const e=x.useContext(RT);if(!e)throw new Error("useProcurement must be used within a ProcurementProvider");return e}const NB=async()=>{const{data:e,error:t}=await Me.from("user_roles").select("*").order("created_at",{ascending:!1});if(t)throw t.code==="42P01",t;return e||[]},AB=async(e,t)=>{const{error:r}=await Me.from("user_roles").update({role:t}).match({email:e});if(r)throw r},TB=async e=>{const{error:t}=await Me.from("user_roles").delete().match({email:e});if(t)throw t},CB=async(e,t)=>{const{error:r}=await Me.from("user_roles").upsert({email:e.toLowerCase(),role:t},{onConflict:"email"});if(r)throw r},PB=async(e,t)=>{const r=eT(tT,rT,{auth:{persistSession:!1,autoRefreshToken:!1,detectSessionInUrl:!1}}),{data:n,error:a}=await r.auth.signUp({email:e,password:t});if(a)throw a;return n};function DB(){const{user:e}=wr(),[t,r]=x.useState(!1),[n,a]=x.useState([]),[s,l]=x.useState(null),u=async()=>{if(e){r(!0),a([]),l(null);try{const m=(await TI(e.id)).reduce((v,y)=>{const _=y.name.trim();return v[_]||(v[_]=[]),v[_].push(y),v},{}),g=[];Object.entries(m).forEach(([v,y])=>{if(y.length>1){y.sort((S,j)=>{const N=new Date(S.created_at||0),E=new Date(j.created_at||0);return N-E});const _=y[0],k=y.slice(1);g.push({name:v,keeper:_,toDelete:k})}}),a(g),l(`Scan Complete. Found ${g.length} duplicate groups.`)}catch(f){console.error(f),l("Error scanning database.")}finally{r(!1)}}},d=async f=>{const m=n[f];if(confirm(`Permanently delete ${m.toDelete.length} duplicate(s) for "${m.name}"?

The oldest record (ID: ...${m.keeper.id.slice(-4)}) will be kept.
Newer duplicates will be removed.`))try{for(const v of m.toDelete)await CI(v.id);const g=[...n];g.splice(f,1),a(g),alert("Cleaned successfully.")}catch(g){alert("Error deleting: "+g.message)}};return p.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm",children:[p.jsxs("div",{className:"flex justify-between items-start mb-4",children:[p.jsxs("div",{children:[p.jsxs("h3",{className:"text-sm font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[p.jsx(D5,{className:"w-4 h-4 text-amber-500"}),"Database Health: Duplicate SKU Cleaner"]}),p.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Find and remove "ghost" duplicates that cause loading errors.'})]}),p.jsxs("button",{onClick:u,disabled:t,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-white bg-indigo-600 hover:bg-indigo-700 rounded-md transition-colors disabled:opacity-50",children:[p.jsx(T5,{className:`w-3.5 h-3.5 ${t?"animate-spin":""}`}),t?"Scanning...":"Scan Now"]})]}),s&&p.jsx("div",{className:"mb-4 text-xs font-medium text-gray-600 dark:text-gray-300",children:s}),n.length>0&&p.jsx("div",{className:"space-y-3",children:n.map((f,m)=>p.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/10 border border-red-100 dark:border-red-900 rounded-md",children:p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-sm font-bold text-red-800 dark:text-red-300",children:f.name}),p.jsxs("div",{className:"text-xs text-red-600 dark:text-red-400 mt-0.5",children:["Keeping: ",p.jsx("span",{className:"font-mono",children:f.keeper.id})," (Created: ",new Date(f.keeper.created_at).toLocaleDateString(),")"]}),p.jsxs("div",{className:"text-xs text-red-500 dark:text-red-400/80",children:["Deleting ",f.toDelete.length," newer copies."]})]}),p.jsx("button",{onClick:()=>d(m),className:"p-2 text-red-600 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-full transition-colors",title:"Fix this Duplicate",children:p.jsx(da,{className:"w-5 h-5"})})]})},m))}),s&&n.length===0&&p.jsxs("div",{className:"text-center py-6 text-gray-400",children:[p.jsx(oa,{className:"w-8 h-8 mx-auto mb-2 text-emerald-500 opacity-50"}),p.jsx("p",{className:"text-xs",children:"Database is clean. No duplicates found."})]})]})}const Nc=[{id:"admin",label:"Administrator",badge:"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300",desc:"Full system access. Can manage users, settings, and master data."},{id:"planner",label:"Lead Planner",badge:"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300",desc:"Can edit Master Schedule, MRP, and Production Plans."},{id:"logistics",label:"Floor / Logistics",badge:"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300",desc:"Can manage Trucks, Verify Shifts, and view Schedule. No MRP editing."},{id:"viewer",label:"Read-Only Viewer",badge:"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300",desc:"Can view dashboards and schedules but cannot make changes."}];function MB(){const[e,t]=x.useState([]),[r,n]=x.useState(!0),[a,s]=x.useState(""),[l,u]=x.useState("viewer"),[d,f]=x.useState(null),[m,g]=x.useState(null),[v,y]=x.useState(!1);x.useEffect(()=>{_()},[]);const _=async()=>{try{n(!0);const N=await NB();t(N),y(!1)}catch(N){console.error(N),N.code==="42P01"||N.message?.includes("Could not find the table")?(y(!0),t([])):f(N.message)}finally{n(!1)}},k=async N=>{if(N.preventDefault(),!a)return;n(!0),f(null);const E="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",C=new Uint32Array(10);crypto.getRandomValues(C);let A="";for(let T=0;T<10;T++)A+=E[C[T]%E.length];try{try{await PB(a,A)}catch(T){throw T.message?.includes("Signups not allowed")?new Error("Cannot create user: Public Signups are disabled. Enable them or use Enterprise Invite."):T}await CB(a,l),t(T=>[{email:a.toLowerCase(),role:l,created_at:new Date().toISOString()},...T.filter(P=>P.email!==a.toLowerCase())]),g({email:a,password:A}),s("")}catch(T){console.error("Provisioning Error:",T),f(T.message)}finally{n(!1),_()}},S=async N=>{if(confirm(`Revoke access for ${N}?`))try{await TB(N),t(e.filter(E=>E.email!==N))}catch(E){f(E.message)}},j=async(N,E)=>{try{t(e.map(C=>C.email===N?{...C,role:E}:C)),await AB(N,E)}catch(C){f(C.message),_()}};return v?p.jsxs("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 rounded-lg border border-amber-200 dark:border-amber-700/50",children:[p.jsx("h3",{className:"font-bold text-amber-800 dark:text-amber-200 mb-2",children:"Setup Required"}),p.jsxs("p",{className:"text-sm text-amber-700 dark:text-amber-300 mb-4",children:["The ",p.jsx("code",{children:"user_roles"})," table is missing. Run this SQL in your Supabase SQL Editor:"]}),p.jsxs("div",{className:"bg-slate-900 rounded p-4 relative group",children:[p.jsx("code",{className:"text-xs text-green-400 font-mono block whitespace-pre-wrap",children:`create table user_roles (
  id uuid default gen_random_uuid() primary key,
  email text unique not null,
  role text default 'viewer',
  created_at timestamptz default now()
);

alter table user_roles enable row level security;
create policy "Allow read access for all auth users" on user_roles for select to authenticated using (true);
create policy "Allow insert/update/delete for authenticated" on user_roles for all to authenticated using (true); 
-- In production, replace the write policy with: using (auth.email() IN (SELECT email FROM user_roles WHERE role = 'admin'))`}),p.jsxs("button",{onClick:()=>navigator.clipboard.writeText(`create table user_roles ( id uuid default gen_random_uuid() primary key, email text unique not null, role text default 'viewer', created_at timestamptz default now() ); alter table user_roles enable row level security; create policy "Allow read access" on user_roles for select to authenticated using (true); create policy "Allow all write" on user_roles for all to authenticated using (true);`),className:"absolute top-2 right-2 bg-slate-700 hover:bg-slate-600 text-white text-xs px-2 py-1 rounded flex items-center gap-1",children:[p.jsx(Sy,{className:"w-3 h-3"})," Copy"]})]}),p.jsx("div",{className:"mt-4 flex gap-2",children:p.jsx("button",{onClick:_,className:"px-4 py-2 bg-amber-200 hover:bg-amber-300 rounded text-amber-900 font-bold text-sm",children:"I've ran the SQL, Try Again"})})]}):p.jsxs("div",{className:"space-y-8 relative",children:[p.jsx(DB,{}),m&&p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:p.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-2xl max-w-md w-full border border-slate-200 dark:border-slate-700 overflow-hidden transform scale-100 transition-all",children:[p.jsx("div",{className:"bg-emerald-500 h-2 w-full"}),p.jsxs("div",{className:"p-6",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[p.jsx("div",{className:"bg-emerald-100 dark:bg-emerald-900/30 p-2 rounded-full",children:p.jsx(M5,{className:"w-6 h-6 text-emerald-600 dark:text-emerald-400"})}),p.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"User Created!"})]}),p.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-6",children:["The account for ",p.jsx("strong",{className:"text-slate-700 dark:text-slate-200",children:m.email})," is ready. Please copy the temporary password below."]}),p.jsxs("div",{className:"bg-slate-100 dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700 mb-6",children:[p.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1 block",children:"Temporary Password"}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("code",{className:"text-lg font-mono font-bold text-slate-800 dark:text-emerald-400 break-all",children:m.password}),p.jsx("button",{onClick:()=>{navigator.clipboard.writeText(m.password),alert("Password Copied!")},className:"ml-auto p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-slate-700 rounded-lg transition-colors",title:"Copy Password",children:p.jsx(Sy,{className:"w-5 h-5"})})]})]}),p.jsx("button",{onClick:()=>g(null),className:"w-full bg-slate-900 dark:bg-slate-700 hover:bg-slate-800 text-white font-bold py-3 rounded-xl transition-colors",children:"Done"})]})]})}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:Nc.map(N=>p.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-white dark:bg-slate-800 border border-slate-100 dark:border-slate-700 shadow-sm",children:[p.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wide shrink-0 mt-0.5 ${N.badge}`,children:N.label}),p.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 leading-tight",children:N.desc})]},N.id))}),p.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[p.jsxs("h3",{className:"text-sm font-bold text-slate-700 dark:text-slate-300 mb-2 uppercase tracking-wider flex items-center gap-2",children:[p.jsx(Q6,{className:"w-5 h-5 text-blue-500"})," Provision New User"]}),p.jsx("p",{className:"text-xs text-slate-500 mb-4",children:"Instantly create a user account. The system will generate a temporary password for you to give to them."}),p.jsxs("form",{onSubmit:k,className:"flex flex-col sm:flex-row gap-4 items-end",children:[p.jsxs("div",{className:"flex-1 w-full",children:[p.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"User Email"}),p.jsx("input",{type:"email",required:!0,placeholder:"colleague@company.com",value:a,onChange:N=>s(N.target.value),className:"w-full rounded-lg border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white p-2.5 focus:ring-blue-500 focus:border-blue-500 shadow-sm"})]}),p.jsxs("div",{className:"w-full sm:w-48",children:[p.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"Role"}),p.jsx("select",{value:l,onChange:N=>u(N.target.value),className:"w-full rounded-lg border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white p-2.5 focus:ring-blue-500 focus:border-blue-500 shadow-sm",children:Nc.map(N=>p.jsx("option",{value:N.id,children:N.label},N.id))})]}),p.jsx("div",{className:"w-full sm:w-auto",children:p.jsx("button",{type:"submit",disabled:r,className:"w-full sm:w-auto bg-blue-600 hover:bg-blue-500 text-white font-bold py-2.5 px-6 rounded-lg transition-colors shadow-lg shadow-blue-500/30 flex items-center justify-center gap-2 disabled:opacity-50",children:r?"Processing...":p.jsxs(p.Fragment,{children:[p.jsx(l0,{className:"w-5 h-5"}),p.jsx("span",{children:"Create User"})]})})})]})]}),p.jsxs("div",{children:[p.jsx("div",{className:"flex justify-between items-end mb-3",children:p.jsxs("h3",{className:"text-sm font-bold text-slate-700 dark:text-slate-300 uppercase tracking-wider",children:["Authorized Users (",e.length,")"]})}),d&&p.jsx("div",{className:"mb-4 text-rose-500 text-sm bg-rose-50 dark:bg-rose-900/20 p-2 rounded border border-rose-100 dark:border-rose-800",children:d}),p.jsx("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl divide-y divide-slate-100 dark:divide-slate-700 shadow-sm overflow-hidden",children:r?p.jsx("div",{className:"p-8 text-center text-slate-500 animate-pulse text-sm",children:"Loading users..."}):e.length===0?p.jsx("div",{className:"p-8 text-center text-slate-400 text-sm italic",children:"No users found. Create one above."}):e.map(N=>{const E=Nc.find(C=>C.id===N.role)||Nc[3];return p.jsxs("div",{className:"p-4 flex flex-col sm:flex-row sm:items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors gap-3",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 dark:bg-slate-700 ring-2 ring-white dark:ring-slate-800 flex items-center justify-center text-sm font-bold text-slate-600 dark:text-slate-300 uppercase shadow-sm",children:N.email.substring(0,2)}),p.jsxs("div",{children:[p.jsx("div",{className:"text-sm font-bold text-slate-900 dark:text-white",children:N.email}),p.jsxs("div",{className:"text-[10px] text-slate-500 dark:text-slate-400 flex items-center gap-1",children:["Added ",new Date(N.created_at).toLocaleDateString()]})]})]}),p.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3 w-full sm:w-auto pl-14 sm:pl-0",children:[p.jsx("select",{value:N.role,onChange:C=>j(N.email,C.target.value),className:`text-xs font-bold rounded-full py-1.5 px-3 border-0 cursor-pointer focus:ring-2 focus:ring-offset-1 transition-colors outline-none ${E.badge}`,children:Nc.map(C=>p.jsx("option",{value:C.id,children:C.label},C.id))}),p.jsx("button",{title:"Revoke Access",onClick:()=>S(N.email),className:"p-2 text-slate-400 hover:text-rose-600 hover:bg-rose-50 dark:hover:bg-rose-900/30 rounded-lg transition-colors",children:p.jsx(da,{className:"w-4 h-4"})})]})]},N.id)})})]})]})}function RB({onClose:e}){const[t,r]=x.useState("general"),{userRole:n}=wr(),a=n==="admin",{safetyStockLoads:s,setSafetyStockLoads:l,leadTimeDays:u,setLeadTimeDays:d,csvMapping:f,updateCsvMapping:m,resetDefaults:g,theme:v,setTheme:y}=Xn(),{poManifest:_}=Jn();return p.jsx("div",{className:"fixed inset-0 z-50 flex justify-center bg-black bg-opacity-50 overflow-y-auto px-4 py-6 backdrop-blur-sm",children:p.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-xl w-full max-w-2xl relative h-fit my-auto p-6 border dark:border-gray-700 transition-colors",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Master Settings"}),p.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 font-bold text-xl",children:""})]}),p.jsxs("div",{className:"flex border-b border-slate-200 dark:border-slate-700 mb-6",children:[p.jsx("button",{className:`pb-2 px-1 text-sm font-bold mr-6 border-b-2 transition-colors ${t==="general"?"border-blue-600 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400"}`,onClick:()=>r("general"),children:"General & Appearance"}),a&&p.jsx("button",{className:`pb-2 px-1 text-sm font-bold border-b-2 transition-colors ${t==="users"?"border-blue-600 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400"}`,onClick:()=>r("users"),children:"User Management"})]}),p.jsx("div",{className:"space-y-6 h-[60vh] overflow-y-auto pr-2 custom-scrollbar",children:t==="general"?p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex items-center justify-between bg-gray-50 dark:bg-gray-800 p-4 rounded-md border border-gray-200 dark:border-gray-700",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"font-bold text-gray-800 dark:text-gray-200",children:"Appearance"}),p.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Choose your interface theme."})]}),p.jsxs("div",{className:"flex bg-gray-200 dark:bg-gray-700 p-1 rounded-lg",children:[p.jsxs("button",{onClick:()=>y("light"),className:`flex items-center space-x-2 px-3 py-1.5 rounded-md text-sm font-medium transition-all ${v==="light"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"}`,children:[p.jsx(R5,{className:"w-4 h-4"}),p.jsx("span",{children:"Light"})]}),p.jsxs("button",{onClick:()=>y("dark"),className:`flex items-center space-x-2 px-3 py-1.5 rounded-md text-sm font-medium transition-all ${v==="dark"?"bg-gray-600 text-white shadow-sm":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"}`,children:[p.jsx(I6,{className:"w-4 h-4"}),p.jsx("span",{children:"Dark"})]})]})]}),p.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-md border border-blue-100 dark:border-blue-800 grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-blue-900 dark:text-blue-300 mb-2",children:"Global Safety Stock (Full Loads)"}),p.jsx("input",{type:"number",inputMode:"numeric",pattern:"[0-9]*",value:s,onChange:k=>l(Number(k.target.value)),className:"mt-1 block w-24 rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-800 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500 text-base sm:text-lg"}),p.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-400 mt-1",children:"Minimum inventory target (Trucks)."})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-blue-900 dark:text-blue-300 mb-2",children:"Inbound Lead Time (Days)"}),p.jsx("input",{type:"number",inputMode:"numeric",pattern:"[0-9]*",value:u,onChange:k=>d(Number(k.target.value)),className:"mt-1 block w-24 rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-800 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500 text-base sm:text-lg"}),p.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-400 mt-1",children:"Days from Order to Delivery."})]})]}),p.jsx("hr",{className:"border-gray-200 dark:border-gray-700"}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-200 mb-4",children:"CSV Integration Mappings"}),p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-md border border-gray-200 dark:border-gray-700 grid grid-cols-1 md:grid-cols-3 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Status Column Header"}),p.jsx("input",{type:"text",value:f.statusColumn,onChange:k=>m("statusColumn",k.target.value),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm",placeholder:"e.g. Trailer State"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:'"Full" Keyword'}),p.jsx("input",{type:"text",value:f.fullValue,onChange:k=>m("fullValue",k.target.value),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm",placeholder:"e.g. Loaded"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"SKU/Product Column"}),p.jsx("input",{type:"text",value:f.skuColumn,onChange:k=>m("skuColumn",k.target.value),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm",placeholder:"e.g. Commodity"})]}),p.jsx("div",{className:"col-span-1 md:col-span-3",children:p.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 italic",children:["The importer will look for rows where ",p.jsx("strong",{children:f.statusColumn}),' contains "',p.jsx("strong",{children:f.fullValue}),'"',f.skuColumn?p.jsxs("span",{children:[" and ",p.jsx("strong",{children:f.skuColumn}),' contains the active bottle size (e.g. "20oz").']}):"."]})})]})]})]}):p.jsx(MB,{})}),p.jsxs("div",{className:"mt-8 bg-gray-50 dark:bg-gray-800 -mx-6 -mb-6 p-4 rounded-b-lg border-t dark:border-gray-700",children:[p.jsxs("div",{className:"flex flex-col-reverse md:flex-row justify-between items-center gap-4",children:[p.jsx("button",{onClick:()=>{confirm("Are you sure you want to reset all settings to factory defaults?")&&g()},className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 text-sm font-medium",children:"Reset to Defaults"}),p.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-4 w-full md:w-auto",children:[p.jsxs("button",{onClick:()=>window.location.reload(),className:"w-full md:w-auto px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 text-sm font-bold flex items-center justify-center",children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4 mr-2",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 4.992l3.181-3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})}),"Reload & Sync"]}),p.jsx("button",{onClick:e,className:"w-full md:w-auto px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm font-bold shadow-sm",children:"Done"})]})]}),p.jsx("div",{className:"text-center mt-4",children:p.jsxs("p",{className:"text-[10px] text-gray-400 dark:text-gray-600",children:["v","2.25.42"," (Smart Planner)"]})})]})]})})}var Ws=A5();const Hr=e=>{const t=e?new Date(e):new Date,r=t.getTimezoneOffset()*6e4;return new Date(t.getTime()-r).toISOString().split("T")[0]},sr=(e,t)=>{if(!e)return"";try{let r;if(e instanceof Date)r=new Date(e),r.setDate(r.getDate()+t);else{const[l,u,d]=e.split("-").map(Number);r=new Date(l,u-1,d+t)}const n=r.getFullYear(),a=String(r.getMonth()+1).padStart(2,"0"),s=String(r.getDate()).padStart(2,"0");return`${n}-${a}-${s}`}catch(r){return console.error("addDays Error",r),String(e)}},vt=e=>{if(!e)return"";const t=new Date(e);if(isNaN(t.getTime()))return"";if(typeof e=="string"&&e.match(/^\d{4}-\d{2}-\d{2}$/))return e;const r=t.getTimezoneOffset()*6e4;return new Date(t.getTime()-r).toISOString().split("T")[0]},ru=e=>{if(!e)return"";const[t,r]=e.split(":").map(Number);if(isNaN(t))return e;const n=t>=12?"PM":"AM",a=t%12||12,s=r!==void 0?String(r).padStart(2,"0"):"00";return`${a}:${s} ${n}`},$B=e=>e.isSafetyRisk?"bg-red-500":e.isOverflow?"bg-amber-400":"bg-emerald-400",LB=x.memo(({day:e,isToday:t,updateDateDemand:r,updateDateActual:n,updateDateInbound:a,onContextMenu:s,performBulkFill:l,readOnly:u})=>{const[d,f]=x.useState(e?.val?Number(e.val).toLocaleString():0),[m,g]=x.useState(e?.actual?Number(e.actual).toLocaleString():""),[v,y]=x.useState(e?.trucks||0);if(x.useEffect(()=>{f(e?.val?Number(e.val).toLocaleString():0)},[e?.val]),x.useEffect(()=>{g(e?.actual?Number(e.actual).toLocaleString():"")},[e?.actual]),x.useEffect(()=>{y(e?.trucks||0)},[e?.trucks]),!e)return p.jsx("div",{className:"bg-transparent"});const _=Number(v)>0,k=Number(d)>0,S=m!==""&&m!==null&&m!==void 0,j=()=>{let A=String(d).replace(/,/g,"").trim();if(A===""&&(A="0"),!isNaN(A)){let T=Number(A);T>0&&T<1e3&&(T*=1e3),f(T.toLocaleString()),T!==Number(e.val)&&r(e.dateStr,T)}},N=()=>{let A=String(m).replace(/,/g,"").trim();if(A==="")e.actual!==null&&e.actual!==""&&n(e.dateStr,null);else if(!isNaN(A)){let T=Number(A);T>0&&T<1e3&&(T*=1e3),g(T.toLocaleString()),T!==Number(e.actual)&&n(e.dateStr,T)}},E=()=>{const A=String(v).replace(/,/g,"");!isNaN(A)&&Number(A)!==Number(e.trucks)&&a(e.dateStr,A)},C=(A,T)=>{(A.key==="Enter"||A.code==="Enter"||A.code==="NumpadEnter")&&(A.preventDefault(),A.target.blur())};return p.jsxs("div",{onContextMenu:A=>s(A,e.dateStr,d),className:`
                relative group flex flex-col justify-between p-2 rounded-xl transition-all duration-200 border
                ${t?"bg-white dark:bg-slate-800 ring-2 ring-blue-500 border-blue-500 shadow-blue-500/10 z-10 scale-[1.02]":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 hover:border-blue-300 dark:hover:border-blue-700 hover:shadow-md hover:-translate-y-0.5"}
                ${e.isSafetyRisk?"ring-1 ring-red-500/20 bg-red-50/10":""}
            `,children:[p.jsxs("div",{className:"flex justify-between items-center mb-1",children:[p.jsx("span",{className:`
                    text-sm font-bold w-6 h-6 flex items-center justify-center rounded-full
                    ${t?"bg-blue-600 text-white shadow-sm":"text-slate-700 dark:text-slate-300 group-hover:bg-slate-100 dark:group-hover:bg-slate-700"}
                `,children:e.dayNum}),e.isConfirmed&&p.jsx("span",{title:"Confirmed POs",className:"text-[10px] font-bold text-emerald-600 bg-emerald-50 dark:bg-emerald-900/30 px-1.5 py-0.5 rounded border border-emerald-100 dark:border-emerald-800",children:"PO"})]}),p.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-1.5 py-1 min-h-0",children:[p.jsxs("div",{className:"w-full relative group/demand",children:[p.jsx("div",{className:"text-[9px] font-black text-slate-300 dark:text-slate-600 uppercase tracking-widest text-center mb-0.5 group-hover/demand:text-blue-400 transition-colors",children:"Demand"}),p.jsx("input",{className:`
                            w-full text-center outline-none bg-transparent transition-all
                            ${u?"cursor-not-allowed":"cursor-text"}
                            ${k?"text-2xl font-black text-slate-700 dark:text-white":"text-xl font-bold text-slate-300 dark:text-slate-600"}
                            focus:scale-110 focus:text-blue-600 dark:focus:text-blue-400
                        `,value:d||"",placeholder:"-",disabled:u,onChange:A=>f(A.target.value),onBlur:j,onKeyDown:A=>C(A)})]}),p.jsx("div",{className:"flex items-center justify-center w-full",children:p.jsxs("div",{className:`
                        flex items-center gap-1.5 px-2 py-0.5 rounded-md transition-all
                        ${S?"bg-blue-50 dark:bg-blue-900/30 ring-1 ring-blue-100 dark:ring-blue-800":"bg-slate-50 dark:bg-slate-800/50 hover:bg-slate-100 dark:hover:bg-slate-700"}
                     `,children:[p.jsx("span",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-wider select-none",children:"Act"}),p.jsx("input",{className:`
                                w-12 text-center text-xs font-bold bg-transparent outline-none
                                ${S?"text-blue-700 dark:text-blue-300":"text-slate-400"}
                                focus:text-blue-600 dark:focus:text-blue-400
                            `,value:m,placeholder:"-",disabled:u,onChange:A=>g(A.target.value),onBlur:N,onKeyDown:A=>C(A)})]})})]}),p.jsx("div",{className:"mt-2 flex items-center justify-end",children:p.jsxs("div",{className:`
                    flex items-center gap-1 px-1.5 py-0.5 rounded transition-colors
                    ${_?"bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-400 border border-emerald-100 dark:border-emerald-800/50":"text-slate-300"}
                `,children:[p.jsx(un,{className:"w-3 h-3"}),p.jsx("input",{className:"w-4 text-center text-[10px] font-bold bg-transparent outline-none",value:v||"",placeholder:"0",disabled:u,onChange:A=>y(A.target.value),onBlur:E,onKeyDown:A=>C(A)})]})}),p.jsx("div",{className:"mt-2 h-1.5 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden flex",children:p.jsx("div",{className:`h-full ${$B(e)}`,style:{width:"100%"},title:`Inventory Health: ${e.isSafetyRisk?"Critical":"Healthy"}`})})]})},(e,t)=>!(e.day?.dateStr!==t.day?.dateStr||e.day?.val!==t.day?.val||e.day?.actual!==t.day?.actual||e.day?.trucks!==t.day?.trucks||e.day?.isSafetyRisk!==t.day?.isSafetyRisk||e.day?.isOverflow!==t.day?.isOverflow||e.day?.isConfirmed!==t.day?.isConfirmed||e.isToday!==t.isToday||e.readOnly!==t.readOnly));function IB({monthlyDemand:e,updateDateDemand:t,updateDateDemandBulk:r,monthlyInbound:n,updateDateInbound:a,monthlyProductionActuals:s,updateDateActual:l,specs:u,trucksToCancel:d,dailyLedger:f,safetyTarget:m,poManifest:g={},readOnly:v=!1}){const[y,_]=x.useState(new Date),{days:k,monthLabel:S,totalMonthlyDemand:j,totalEstTrucks:N}=x.useMemo(()=>{const R=y.getFullYear(),L=y.getMonth(),$=new Date(R,L,1),V=new Date(R,L+1,0).getDate(),Q=$.getDay(),ae=Array(Q).fill(null),U=new Date().toLocaleDateString("en-CA");let Y=null;d>0&&(Y=Object.keys(n||{}).sort().find(W=>W>=U&&n[W]>0));const ee=(f||[]).reduce((K,W)=>(K[W.date]=W.balance,K),{}),le=Array.from({length:V},(K,W)=>{const H=new Date(R,L,W+1),se=H.getFullYear(),ce=String(H.getMonth()+1).padStart(2,"0"),re=String(H.getDate()).padStart(2,"0"),Se=`${se}-${ce}-${re}`,X=ee[Se];let me=null;return X!==void 0&&u?.bottlesPerCase&&(me=Math.round(X/u.bottlesPerCase)),{date:H,dateStr:Se,dayNum:W+1,val:e[Se]||0,trucks:n?.[Se]||0,actual:s?.[Se],isPushCandidate:Y===Se,endInvCases:me,isSafetyRisk:X!==void 0&&X<(m||0),isOverflow:X!==void 0&&X>(m||0)+(u?.bottlesPerTruck||0)*2,isConfirmed:g[Se]?.items?.length>0}}),ve=le.reduce((K,W)=>{const H=W.actual!==void 0&&W.actual!==null?Number(W.actual):Number(W.val||0);return K+H},0);let I=0;if(u&&u.bottlesPerTruck&&u.bottlesPerCase){const K=u.bottlesPerTruck/u.bottlesPerCase;I=Math.ceil(ve/K)}return{days:[...ae,...le],monthLabel:$.toLocaleString("default",{month:"long",year:"numeric"}),totalMonthlyDemand:ve,totalEstTrucks:I}},[y,e,n,s,u,d,g,f,m]),E=R=>{_(L=>{const $=new Date(L);return $.setMonth($.getMonth()+R),$})},[C,A]=x.useState(null),T=()=>A(null),P=(R,L,$)=>{v||(R.preventDefault(),A({x:R.clientX,y:R.clientY,dateStr:L,currentVal:$}))},M=R=>{if(!C)return;const{dateStr:L,currentVal:$}=C,q=String($||"").replace(/,/g,""),V=parseInt(q,10);if(!V&&V!==0){T();return}const Q={};if(Q[L]=V.toString(),R==="week")for(let ae=1;ae<7;ae++)Q[sr(L,ae)]=V.toString();if(R==="month"){const[ae,U]=L.split("-").map(Number),Y=U-1;let ee=1;for(;;){const le=sr(L,ee),[ve,I]=le.split("-").map(Number);if(I-1!==Y||(Q[le]=V.toString(),ee++,ee>31))break}}if(R==="restOfWeek"){new Date(L.replace(/-/g,"/"));const[ae,U,Y]=L.split("-").map(Number);let ee=1;for(;;){const le=sr(L,ee),[ve,I,K]=le.split("-").map(Number);if(new Date(ve,I-1,K).getDay()===0||(Q[le]=V.toString(),ee++,ee>7))break}}r&&r(Q),T()};return p.jsxs("div",{className:"h-full flex flex-col bg-slate-50 dark:bg-slate-900/50 p-4 rounded-xl",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("button",{onClick:()=>E(-1),className:"p-2 hover:bg-white dark:hover:bg-slate-800 rounded-full shadow-sm transition-all text-slate-500 hover:text-blue-600",children:p.jsx(Qb,{className:"w-5 h-5"})}),p.jsxs("h2",{className:"text-2xl font-black text-slate-800 dark:text-white tracking-tight flex items-center gap-2",children:[S,p.jsx("span",{className:"text-sm font-medium text-slate-400 font-mono tracking-normal bg-slate-200 dark:bg-slate-800 px-2 py-0.5 rounded-md",children:y.getFullYear()})]}),p.jsx("button",{onClick:()=>E(1),className:"p-2 hover:bg-white dark:hover:bg-slate-800 rounded-full shadow-sm transition-all text-slate-500 hover:text-blue-600",children:p.jsx(ex,{className:"w-5 h-5"})})]}),p.jsx("div",{className:"flex gap-4 text-xs font-bold text-slate-500",children:p.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[p.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500"}),p.jsxs("span",{children:[N," Trucks Est."]})]})})]}),p.jsx("div",{className:"grid grid-cols-7 gap-4 mb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((R,L)=>p.jsx("div",{className:`text-center text-xs font-bold uppercase tracking-wider py-1
                        ${L===0||L===6?"text-slate-400":"text-slate-600 dark:text-slate-300"}
                    `,children:R},R))}),p.jsx("div",{className:"flex-1 grid grid-cols-7 grid-rows-5 gap-3 min-h-0",children:k.map((R,L)=>{if(!R)return p.jsx("div",{className:"bg-transparent"},`pad-${L}`);const $=R.dateStr===new Date().toLocaleDateString("en-CA");return p.jsx(LB,{day:R,isToday:$,updateDateDemand:t,updateDateActual:l,updateDateInbound:a,onContextMenu:P,performBulkFill:M,readOnly:v},R.dateStr)})}),C&&Ws.createPortal(p.jsxs("div",{className:"fixed z-50 bg-white dark:bg-slate-800 rounded-lg shadow-xl border border-slate-200 dark:border-slate-700 py-1 min-w-[160px] animate-in fade-in zoom-in-95 duration-100",style:{top:C.y,left:C.x},onClick:R=>R.stopPropagation(),children:[p.jsx("div",{className:"px-3 py-2 border-b dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50",children:p.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Quick Fill"})}),p.jsxs("button",{onClick:()=>M("week"),className:"w-full text-left px-4 py-2 text-sm text-slate-700 dark:text-slate-200 hover:bg-blue-50 dark:hover:bg-blue-900/30 hover:text-blue-600 flex items-center gap-2",children:[p.jsx("span",{children:""})," Fill Next 7 Days"]}),p.jsxs("button",{onClick:()=>M("restOfWeek"),className:"w-full text-left px-4 py-2 text-sm text-slate-700 dark:text-slate-200 hover:bg-blue-50 dark:hover:bg-blue-900/30 hover:text-blue-600 flex items-center gap-2",children:[p.jsx("span",{children:""})," Rest of Week"]}),p.jsxs("button",{onClick:()=>M("month"),className:"w-full text-left px-4 py-2 text-sm text-slate-700 dark:text-slate-200 hover:bg-blue-50 dark:hover:bg-blue-900/30 hover:text-blue-600 flex items-center gap-2",children:[p.jsx("span",{children:""})," Fill Rest of Month"]}),p.jsx("div",{className:"border-t dark:border-slate-700 my-1"}),p.jsx("button",{onClick:T,className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:"Cancel"})]}),document.body)]})}const $T=typeof document<"u"?ye.useLayoutEffect:()=>{};var qg;const zB=(qg=ye.useInsertionEffect)!==null&&qg!==void 0?qg:$T;function UB(e){const t=x.useRef(null);return zB(()=>{t.current=e},[e]),x.useCallback((...r)=>{const n=t.current;return n?.(...r)},[])}const Yi=e=>{var t;return(t=e?.ownerDocument)!==null&&t!==void 0?t:document},Ts=e=>e&&"window"in e&&e.window===e?e:Yi(e).defaultView||window;function BB(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function qB(e){return BB(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}let HB=!1;function wx(){return HB}function LT(e,t){if(!wx())return t&&e?e.contains(t):!1;if(!e||!t)return!1;let r=t;for(;r!==null;){if(r===e)return!0;r.tagName==="SLOT"&&r.assignedSlot?r=r.assignedSlot.parentNode:qB(r)?r=r.host:r=r.parentNode}return!1}const Fy=(e=document)=>{var t;if(!wx())return e.activeElement;let r=e.activeElement;for(;r&&"shadowRoot"in r&&(!((t=r.shadowRoot)===null||t===void 0)&&t.activeElement);)r=r.shadowRoot.activeElement;return r};function IT(e){return wx()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}function zT(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=zT(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function it(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=zT(e))&&(n&&(n+=" "),n+=t);return n}function FB(e){var t;if(typeof window>"u"||window.navigator==null)return!1;let r=(t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands;return Array.isArray(r)&&r.some(n=>e.test(n.brand))||e.test(window.navigator.userAgent)}function VB(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function UT(e){let t=null;return()=>(t==null&&(t=e()),t)}const KB=UT(function(){return VB(/^Mac/i)}),ZB=UT(function(){return FB(/Android/i)});function BT(){let e=x.useRef(new Map),t=x.useCallback((a,s,l,u)=>{let d=u?.once?(...f)=>{e.current.delete(l),l(...f)}:l;e.current.set(l,{type:s,eventTarget:a,fn:d,options:u}),a.addEventListener(s,d,u)},[]),r=x.useCallback((a,s,l,u)=>{var d;let f=((d=e.current.get(l))===null||d===void 0?void 0:d.fn)||l;a.removeEventListener(s,f,u),e.current.delete(l)},[]),n=x.useCallback(()=>{e.current.forEach((a,s)=>{r(a.eventTarget,a.type,s,a.options)})},[r]);return x.useEffect(()=>n,[n]),{addGlobalListener:t,removeGlobalListener:r,removeAllGlobalListeners:n}}function GB(e){return e.pointerType===""&&e.isTrusted?!0:ZB()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function qT(e){let t=e;return t.nativeEvent=e,t.isDefaultPrevented=()=>t.defaultPrevented,t.isPropagationStopped=()=>t.cancelBubble,t.persist=()=>{},t}function YB(e,t){Object.defineProperty(e,"target",{value:t}),Object.defineProperty(e,"currentTarget",{value:t})}function HT(e){let t=x.useRef({isFocused:!1,observer:null});$T(()=>{const n=t.current;return()=>{n.observer&&(n.observer.disconnect(),n.observer=null)}},[]);let r=UB(n=>{e?.(n)});return x.useCallback(n=>{if(n.target instanceof HTMLButtonElement||n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLSelectElement){t.current.isFocused=!0;let a=n.target,s=l=>{if(t.current.isFocused=!1,a.disabled){let u=qT(l);r(u)}t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};a.addEventListener("focusout",s,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&a.disabled){var l;(l=t.current.observer)===null||l===void 0||l.disconnect();let u=a===document.activeElement?null:document.activeElement;a.dispatchEvent(new FocusEvent("blur",{relatedTarget:u})),a.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:u}))}}),t.current.observer.observe(a,{attributes:!0,attributeFilter:["disabled"]})}},[r])}let WB=!1,Su=null,Vy=new Set,Vc=new Map,Bs=!1,Ky=!1;const XB={Tab:!0,Escape:!0};function _x(e,t){for(let r of Vy)r(e,t)}function JB(e){return!(e.metaKey||!KB()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function ph(e){Bs=!0,JB(e)&&(Su="keyboard",_x("keyboard",e))}function il(e){Su="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(Bs=!0,_x("pointer",e))}function FT(e){GB(e)&&(Bs=!0,Su="virtual")}function VT(e){e.target===window||e.target===document||WB||!e.isTrusted||(!Bs&&!Ky&&(Su="virtual",_x("virtual",e)),Bs=!1,Ky=!1)}function KT(){Bs=!1,Ky=!0}function Zy(e){if(typeof window>"u"||typeof document>"u"||Vc.get(Ts(e)))return;const t=Ts(e),r=Yi(e);let n=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){Bs=!0,n.apply(this,arguments)},r.addEventListener("keydown",ph,!0),r.addEventListener("keyup",ph,!0),r.addEventListener("click",FT,!0),t.addEventListener("focus",VT,!0),t.addEventListener("blur",KT,!1),typeof PointerEvent<"u"&&(r.addEventListener("pointerdown",il,!0),r.addEventListener("pointermove",il,!0),r.addEventListener("pointerup",il,!0)),t.addEventListener("beforeunload",()=>{ZT(e)},{once:!0}),Vc.set(t,{focus:n})}const ZT=(e,t)=>{const r=Ts(e),n=Yi(e);t&&n.removeEventListener("DOMContentLoaded",t),Vc.has(r)&&(r.HTMLElement.prototype.focus=Vc.get(r).focus,n.removeEventListener("keydown",ph,!0),n.removeEventListener("keyup",ph,!0),n.removeEventListener("click",FT,!0),r.removeEventListener("focus",VT,!0),r.removeEventListener("blur",KT,!1),typeof PointerEvent<"u"&&(n.removeEventListener("pointerdown",il,!0),n.removeEventListener("pointermove",il,!0),n.removeEventListener("pointerup",il,!0)),Vc.delete(r))};function QB(e){const t=Yi(e);let r;return t.readyState!=="loading"?Zy(e):(r=()=>{Zy(e)},t.addEventListener("DOMContentLoaded",r)),()=>ZT(e,r)}typeof document<"u"&&QB();function GT(){return Su!=="pointer"}const eq=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function tq(e,t,r){let n=Yi(r?.target);const a=typeof window<"u"?Ts(r?.target).HTMLInputElement:HTMLInputElement,s=typeof window<"u"?Ts(r?.target).HTMLTextAreaElement:HTMLTextAreaElement,l=typeof window<"u"?Ts(r?.target).HTMLElement:HTMLElement,u=typeof window<"u"?Ts(r?.target).KeyboardEvent:KeyboardEvent;return e=e||n.activeElement instanceof a&&!eq.has(n.activeElement.type)||n.activeElement instanceof s||n.activeElement instanceof l&&n.activeElement.isContentEditable,!(e&&t==="keyboard"&&r instanceof u&&!XB[r.key])}function rq(e,t,r){Zy(),x.useEffect(()=>{let n=(a,s)=>{tq(!!r?.isTextInput,a,s)&&e(GT())};return Vy.add(n),()=>{Vy.delete(n)}},t)}function nq(e){let{isDisabled:t,onFocus:r,onBlur:n,onFocusChange:a}=e;const s=x.useCallback(d=>{if(d.target===d.currentTarget)return n&&n(d),a&&a(!1),!0},[n,a]),l=HT(s),u=x.useCallback(d=>{const f=Yi(d.target),m=f?Fy(f):Fy();d.target===d.currentTarget&&m===IT(d.nativeEvent)&&(r&&r(d),a&&a(!0),l(d))},[a,r,l]);return{focusProps:{onFocus:!t&&(r||a||n)?u:void 0,onBlur:!t&&(n||a)?s:void 0}}}function aq(e){let{isDisabled:t,onBlurWithin:r,onFocusWithin:n,onFocusWithinChange:a}=e,s=x.useRef({isFocusWithin:!1}),{addGlobalListener:l,removeAllGlobalListeners:u}=BT(),d=x.useCallback(g=>{g.currentTarget.contains(g.target)&&s.current.isFocusWithin&&!g.currentTarget.contains(g.relatedTarget)&&(s.current.isFocusWithin=!1,u(),r&&r(g),a&&a(!1))},[r,a,s,u]),f=HT(d),m=x.useCallback(g=>{if(!g.currentTarget.contains(g.target))return;const v=Yi(g.target),y=Fy(v);if(!s.current.isFocusWithin&&y===IT(g.nativeEvent)){n&&n(g),a&&a(!0),s.current.isFocusWithin=!0,f(g);let _=g.currentTarget;l(v,"focus",k=>{if(s.current.isFocusWithin&&!LT(_,k.target)){let S=new v.defaultView.FocusEvent("blur",{relatedTarget:k.target});YB(S,_);let j=qT(S);d(j)}},{capture:!0})}},[n,a,f,l,d]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:m,onBlur:d}}}let Gy=!1,kf=0;function iq(){Gy=!0,setTimeout(()=>{Gy=!1},50)}function dj(e){e.pointerType==="touch"&&iq()}function sq(){if(!(typeof document>"u"))return kf===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",dj),kf++,()=>{kf--,!(kf>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",dj)}}function oq(e){let{onHoverStart:t,onHoverChange:r,onHoverEnd:n,isDisabled:a}=e,[s,l]=x.useState(!1),u=x.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;x.useEffect(sq,[]);let{addGlobalListener:d,removeAllGlobalListeners:f}=BT(),{hoverProps:m,triggerHoverEnd:g}=x.useMemo(()=>{let v=(k,S)=>{if(u.pointerType=S,a||S==="touch"||u.isHovered||!k.currentTarget.contains(k.target))return;u.isHovered=!0;let j=k.currentTarget;u.target=j,d(Yi(k.target),"pointerover",N=>{u.isHovered&&u.target&&!LT(u.target,N.target)&&y(N,N.pointerType)},{capture:!0}),t&&t({type:"hoverstart",target:j,pointerType:S}),r&&r(!0),l(!0)},y=(k,S)=>{let j=u.target;u.pointerType="",u.target=null,!(S==="touch"||!u.isHovered||!j)&&(u.isHovered=!1,f(),n&&n({type:"hoverend",target:j,pointerType:S}),r&&r(!1),l(!1))},_={};return typeof PointerEvent<"u"&&(_.onPointerEnter=k=>{Gy&&k.pointerType==="mouse"||v(k,k.pointerType)},_.onPointerLeave=k=>{!a&&k.currentTarget.contains(k.target)&&y(k,k.pointerType)}),{hoverProps:_,triggerHoverEnd:y}},[t,r,n,a,u,d,f]);return x.useEffect(()=>{a&&g({currentTarget:u.target},u.pointerType)},[a]),{hoverProps:m,isHovered:s}}function lq(e={}){let{autoFocus:t=!1,isTextInput:r,within:n}=e,a=x.useRef({isFocused:!1,isFocusVisible:t||GT()}),[s,l]=x.useState(!1),[u,d]=x.useState(()=>a.current.isFocused&&a.current.isFocusVisible),f=x.useCallback(()=>d(a.current.isFocused&&a.current.isFocusVisible),[]),m=x.useCallback(y=>{a.current.isFocused=y,l(y),f()},[f]);rq(y=>{a.current.isFocusVisible=y,f()},[],{isTextInput:r});let{focusProps:g}=nq({isDisabled:n,onFocusChange:m}),{focusWithinProps:v}=aq({isDisabled:!n,onFocusWithinChange:m});return{isFocused:s,isFocusVisible:u,focusProps:n?v:g}}var cq=Object.defineProperty,uq=(e,t,r)=>t in e?cq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Hg=(e,t,r)=>(uq(e,typeof t!="symbol"?t+"":t,r),r);let dq=class{constructor(){Hg(this,"current",this.detect()),Hg(this,"handoffState","pending"),Hg(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},ca=new dq;function Sl(e){var t;return ca.isServer?null:e==null?document:(t=e?.ownerDocument)!=null?t:document}function Yy(e){var t,r;return ca.isServer?null:e==null?document:(r=(t=e?.getRootNode)==null?void 0:t.call(e))!=null?r:document}function YT(e){var t,r;return(r=(t=Yy(e))==null?void 0:t.activeElement)!=null?r:null}function fq(e){return YT(e)===e}function b0(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function ai(){let e=[],t={addEventListener(r,n,a,s){return r.addEventListener(n,a,s),t.add(()=>r.removeEventListener(n,a,s))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return t.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return t.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return b0(()=>{n.current&&r[0]()}),t.add(()=>{n.current=!1})},style(r,n,a){let s=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:a}),this.add(()=>{Object.assign(r.style,{[n]:s})})},group(r){let n=ai();return r(n),this.add(()=>n.dispose())},add(r){return e.includes(r)||e.push(r),()=>{let n=e.indexOf(r);if(n>=0)for(let a of e.splice(n,1))a()}},dispose(){for(let r of e.splice(0))r()}};return t}function Xs(){let[e]=x.useState(ai);return x.useEffect(()=>()=>e.dispose(),[e]),e}let Or=(e,t)=>{ca.isServer?x.useEffect(e,t):x.useLayoutEffect(e,t)};function Js(e){let t=x.useRef(e);return Or(()=>{t.current=e},[e]),t}let Be=function(e){let t=Js(e);return ye.useCallback((...r)=>t.current(...r),[t])};function hq(e){let t=e.width/2,r=e.height/2;return{top:e.clientY-r,right:e.clientX+t,bottom:e.clientY+r,left:e.clientX-t}}function mq(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function pq({disabled:e=!1}={}){let t=x.useRef(null),[r,n]=x.useState(!1),a=Xs(),s=Be(()=>{t.current=null,n(!1),a.dispose()}),l=Be(u=>{if(a.dispose(),t.current===null){t.current=u.currentTarget,n(!0);{let d=Sl(u.currentTarget);a.addEventListener(d,"pointerup",s,!1),a.addEventListener(d,"pointermove",f=>{if(t.current){let m=hq(f);n(mq(m,t.current.getBoundingClientRect()))}},!1),a.addEventListener(d,"pointercancel",s,!1)}}});return{pressed:r,pressProps:e?{}:{onPointerDown:l,onPointerUp:s,onClick:s}}}function Qs(e){return x.useMemo(()=>e,Object.values(e))}let gq=x.createContext(void 0);function Sx(){return x.useContext(gq)}function Wy(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function Ya(e,t,...r){if(e in t){let a=t[e];return typeof a=="function"?a(...r):a}let n=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ya),n}var gh=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(gh||{}),qi=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(qi||{});function Ar(){let e=yq();return x.useCallback(t=>vq({mergeRefs:e,...t}),[e])}function vq({ourProps:e,theirProps:t,slot:r,defaultTag:n,features:a,visible:s=!0,name:l,mergeRefs:u}){u=u??bq;let d=WT(t,e);if(s)return jf(d,r,n,l,u);let f=a??0;if(f&2){let{static:m=!1,...g}=d;if(m)return jf(g,r,n,l,u)}if(f&1){let{unmount:m=!0,...g}=d;return Ya(m?0:1,{0(){return null},1(){return jf({...g,hidden:!0,style:{display:"none"}},r,n,l,u)}})}return jf(d,r,n,l,u)}function jf(e,t={},r,n,a){let{as:s=r,children:l,refName:u="ref",...d}=Fg(e,["unmount","static"]),f=e.ref!==void 0?{[u]:e.ref}:{},m=typeof l=="function"?l(t):l;"className"in d&&d.className&&typeof d.className=="function"&&(d.className=d.className(t)),d["aria-labelledby"]&&d["aria-labelledby"]===d.id&&(d["aria-labelledby"]=void 0);let g={};if(t){let v=!1,y=[];for(let[_,k]of Object.entries(t))typeof k=="boolean"&&(v=!0),k===!0&&y.push(_.replace(/([A-Z])/g,S=>`-${S.toLowerCase()}`));if(v){g["data-headlessui-state"]=y.join(" ");for(let _ of y)g[`data-${_}`]=""}}if(Kc(s)&&(Object.keys(Mi(d)).length>0||Object.keys(Mi(g)).length>0))if(!x.isValidElement(m)||Array.isArray(m)&&m.length>1||_q(m)){if(Object.keys(Mi(d)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Mi(d)).concat(Object.keys(Mi(g))).map(v=>`  - ${v}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(v=>`  - ${v}`).join(`
`)].join(`
`))}else{let v=m.props,y=v?.className,_=typeof y=="function"?(...j)=>Wy(y(...j),d.className):Wy(y,d.className),k=_?{className:_}:{},S=WT(m.props,Mi(Fg(d,["ref"])));for(let j in g)j in S&&delete g[j];return x.cloneElement(m,Object.assign({},S,g,f,{ref:a(wq(m),f.ref)},k))}return x.createElement(s,Object.assign({},Fg(d,["ref"]),!Kc(s)&&f,!Kc(s)&&g),m)}function yq(){let e=x.useRef([]),t=x.useCallback(r=>{for(let n of e.current)n!=null&&(typeof n=="function"?n(r):n.current=r)},[]);return(...r)=>{if(!r.every(n=>n==null))return e.current=r,t}}function bq(...e){return e.every(t=>t==null)?void 0:t=>{for(let r of e)r!=null&&(typeof r=="function"?r(t):r.current=t)}}function WT(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},r={};for(let n of e)for(let a in n)a.startsWith("on")&&typeof n[a]=="function"?(r[a]!=null||(r[a]=[]),r[a].push(n[a])):t[a]=n[a];if(t.disabled||t["aria-disabled"])for(let n in r)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(n)&&(r[n]=[a=>{var s;return(s=a?.preventDefault)==null?void 0:s.call(a)}]);for(let n in r)Object.assign(t,{[n](a,...s){let l=r[n];for(let u of l){if((a instanceof Event||a?.nativeEvent instanceof Event)&&a.defaultPrevented)return;u(a,...s)}}});return t}function xq(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},r={};for(let n of e)for(let a in n)a.startsWith("on")&&typeof n[a]=="function"?(r[a]!=null||(r[a]=[]),r[a].push(n[a])):t[a]=n[a];for(let n in r)Object.assign(t,{[n](...a){let s=r[n];for(let l of s)l?.(...a)}});return t}function _r(e){var t;return Object.assign(x.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Mi(e){let t=Object.assign({},e);for(let r in t)t[r]===void 0&&delete t[r];return t}function Fg(e,t=[]){let r=Object.assign({},e);for(let n of t)n in r&&delete r[n];return r}function wq(e){return ye.version.split(".")[0]>="19"?e.props.ref:e.ref}function Kc(e){return e===x.Fragment||e===Symbol.for("react.fragment")}function _q(e){return Kc(e.type)}function Sq(e,t,r){let[n,a]=x.useState(r),s=e!==void 0,l=x.useRef(s),u=x.useRef(!1),d=x.useRef(!1);return s&&!l.current&&!u.current?(u.current=!0,l.current=s,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!s&&l.current&&!d.current&&(d.current=!0,l.current=s,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[s?e:n,Be(f=>(s||Ws.flushSync(()=>a(f)),t?.(f)))]}function kq(e){let[t]=x.useState(e);return t}function XT(e={},t=null,r=[]){for(let[n,a]of Object.entries(e))QT(r,JT(t,n),a);return r}function JT(e,t){return e?e+"["+t+"]":t}function QT(e,t,r){if(Array.isArray(r))for(let[n,a]of r.entries())QT(e,JT(t,n.toString()),a);else r instanceof Date?e.push([t,r.toISOString()]):typeof r=="boolean"?e.push([t,r?"1":"0"]):typeof r=="string"?e.push([t,r]):typeof r=="number"?e.push([t,`${r}`]):r==null?e.push([t,""]):Eq(r)&&!x.isValidElement(r)&&XT(r,t,e)}function jq(e){var t,r;let n=(t=e?.form)!=null?t:e.closest("form");if(n){for(let a of n.elements)if(a!==e&&(a.tagName==="INPUT"&&a.type==="submit"||a.tagName==="BUTTON"&&a.type==="submit"||a.nodeName==="INPUT"&&a.type==="image")){a.click();return}(r=n.requestSubmit)==null||r.call(n)}}function Eq(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}let Oq="span";var ul=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(ul||{});function Nq(e,t){var r;let{features:n=1,...a}=e,s={ref:t,"aria-hidden":(n&2)===2?!0:(r=a["aria-hidden"])!=null?r:void 0,hidden:(n&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return Ar()({ourProps:s,theirProps:a,slot:{},defaultTag:Oq,name:"Hidden"})}let nu=_r(Nq),Aq=x.createContext(null);function Tq({children:e}){let t=x.useContext(Aq);if(!t)return ye.createElement(ye.Fragment,null,e);let{target:r}=t;return r?Ws.createPortal(ye.createElement(ye.Fragment,null,e),r):null}function Cq({data:e,form:t,disabled:r,onReset:n,overrides:a}){let[s,l]=x.useState(null),u=Xs();return x.useEffect(()=>{if(n&&s)return u.addEventListener(s,"reset",n)},[s,t,n]),ye.createElement(Tq,null,ye.createElement(Pq,{setForm:l,formId:t}),XT(e).map(([d,f])=>ye.createElement(nu,{features:ul.Hidden,...Mi({key:d,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:t,disabled:r,name:d,value:f,...a})})))}function Pq({setForm:e,formId:t}){return x.useEffect(()=>{if(t){let r=document.getElementById(t);r&&e(r)}},[e,t]),t?null:ye.createElement(nu,{features:ul.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:r=>{if(!r)return;let n=r.closest("form");n&&e(n)}})}let Dq=x.createContext(void 0);function eC(){return x.useContext(Dq)}function Mq(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function Va(e){return Mq(e)&&"tagName"in e}function fa(e){return Va(e)&&"accessKey"in e}function Hi(e){return Va(e)&&"tabIndex"in e}function Rq(e){return Va(e)&&"style"in e}function $q(e){return fa(e)&&e.nodeName==="IFRAME"}function tC(e){return fa(e)&&e.nodeName==="INPUT"}function Xy(e){return fa(e)&&e.nodeName==="LABEL"}function Lq(e){return fa(e)&&e.nodeName==="FIELDSET"}function rC(e){return fa(e)&&e.nodeName==="LEGEND"}function Iq(e){return Va(e)?e.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function zq(e){let t=e.parentElement,r=null;for(;t&&!Lq(t);)rC(t)&&(r=t),t=t.parentElement;let n=t?.getAttribute("disabled")==="";return n&&Uq(r)?!1:n}function Uq(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(rC(t))return!1;t=t.previousElementSibling}return!0}let nC=Symbol();function Bq(e,t=!0){return Object.assign(e,{[nC]:t})}function Rn(...e){let t=x.useRef(e);x.useEffect(()=>{t.current=e},[e]);let r=Be(n=>{for(let a of t.current)a!=null&&(typeof a=="function"?a(n):a.current=n)});return e.every(n=>n==null||n?.[nC])?void 0:r}let x0=x.createContext(null);x0.displayName="DescriptionContext";function aC(){let e=x.useContext(x0);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,aC),t}return e}function qq(){var e,t;return(t=(e=x.useContext(x0))==null?void 0:e.value)!=null?t:void 0}function iC(){let[e,t]=x.useState([]);return[e.length>0?e.join(" "):void 0,x.useMemo(()=>function(r){let n=Be(s=>(t(l=>[...l,s]),()=>t(l=>{let u=l.slice(),d=u.indexOf(s);return d!==-1&&u.splice(d,1),u}))),a=x.useMemo(()=>({register:n,slot:r.slot,name:r.name,props:r.props,value:r.value}),[n,r.slot,r.name,r.props,r.value]);return ye.createElement(x0.Provider,{value:a},r.children)},[t])]}let Hq="p";function Fq(e,t){let r=x.useId(),n=Sx(),{id:a=`headlessui-description-${r}`,...s}=e,l=aC(),u=Rn(t);Or(()=>l.register(a),[a,l.register]);let d=Qs({...l.slot,disabled:n||!1}),f={ref:u,...l.props,id:a};return Ar()({ourProps:f,theirProps:s,slot:d,defaultTag:Hq,name:l.name||"Description"})}let Vq=_r(Fq),sC=Object.assign(Vq,{});var vh=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(vh||{});let w0=x.createContext(null);w0.displayName="LabelContext";function oC(){let e=x.useContext(w0);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,oC),t}return e}function lC(e){var t,r,n;let a=(r=(t=x.useContext(w0))==null?void 0:t.value)!=null?r:void 0;return((n=void 0)!=null?n:0)>0?[a,...e].filter(Boolean).join(" "):a}function Kq({inherit:e=!1}={}){let t=lC(),[r,n]=x.useState([]),a=e?[t,...r].filter(Boolean):r;return[a.length>0?a.join(" "):void 0,x.useMemo(()=>function(s){let l=Be(d=>(n(f=>[...f,d]),()=>n(f=>{let m=f.slice(),g=m.indexOf(d);return g!==-1&&m.splice(g,1),m}))),u=x.useMemo(()=>({register:l,slot:s.slot,name:s.name,props:s.props,value:s.value}),[l,s.slot,s.name,s.props,s.value]);return ye.createElement(w0.Provider,{value:u},s.children)},[n])]}let Zq="label";function Gq(e,t){var r;let n=x.useId(),a=oC(),s=eC(),l=Sx(),{id:u=`headlessui-label-${n}`,htmlFor:d=s??((r=a.props)==null?void 0:r.htmlFor),passive:f=!1,...m}=e,g=Rn(t);Or(()=>a.register(u),[u,a.register]);let v=Be(k=>{let S=k.currentTarget;if(!(k.target!==k.currentTarget&&Iq(k.target))&&(Xy(S)&&k.preventDefault(),a.props&&"onClick"in a.props&&typeof a.props.onClick=="function"&&a.props.onClick(k),Xy(S))){let j=document.getElementById(S.htmlFor);if(j){let N=j.getAttribute("disabled");if(N==="true"||N==="")return;let E=j.getAttribute("aria-disabled");if(E==="true"||E==="")return;(tC(j)&&(j.type==="file"||j.type==="radio"||j.type==="checkbox")||j.role==="radio"||j.role==="checkbox"||j.role==="switch")&&j.click(),j.focus({preventScroll:!0})}}}),y=Qs({...a.slot,disabled:l||!1}),_={ref:g,...a.props,id:u,htmlFor:d,onClick:v};return f&&("onClick"in _&&(delete _.htmlFor,delete _.onClick),"onClick"in m&&delete m.onClick),Ar()({ourProps:_,theirProps:m,slot:y,defaultTag:d?Zq:"div",name:a.name||"Label"})}let Yq=_r(Gq),Wq=Object.assign(Yq,{}),Xq=x.createContext(()=>{});function Jq({value:e,children:t}){return ye.createElement(Xq.Provider,{value:e},t)}let cC=class extends Map{constructor(t){super(),this.factory=t}get(t){let r=super.get(t);return r===void 0&&(r=this.factory(t),this.set(t,r)),r}};var Qq=Object.defineProperty,eH=(e,t,r)=>t in e?Qq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,tH=(e,t,r)=>(eH(e,t+"",r),r),uC=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},En=(e,t,r)=>(uC(e,t,"read from private field"),r?r.call(e):t.get(e)),Vg=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},fj=(e,t,r,n)=>(uC(e,t,"write to private field"),t.set(e,r),r),aa,Uc,Bc;let rH=class{constructor(t){Vg(this,aa,{}),Vg(this,Uc,new cC(()=>new Set)),Vg(this,Bc,new Set),tH(this,"disposables",ai()),fj(this,aa,t),ca.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return En(this,aa)}subscribe(t,r){if(ca.isServer)return()=>{};let n={selector:t,callback:r,current:t(En(this,aa))};return En(this,Bc).add(n),this.disposables.add(()=>{En(this,Bc).delete(n)})}on(t,r){return ca.isServer?()=>{}:(En(this,Uc).get(t).add(r),this.disposables.add(()=>{En(this,Uc).get(t).delete(r)}))}send(t){let r=this.reduce(En(this,aa),t);if(r!==En(this,aa)){fj(this,aa,r);for(let n of En(this,Bc)){let a=n.selector(En(this,aa));dC(n.current,a)||(n.current=a,n.callback(a))}for(let n of En(this,Uc).get(t.type))n(En(this,aa),t)}}};aa=new WeakMap,Uc=new WeakMap,Bc=new WeakMap;function dC(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:Kg(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:Kg(e.entries(),t.entries()):hj(e)&&hj(t)?Kg(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function Kg(e,t){do{let r=e.next(),n=t.next();if(r.done&&n.done)return!0;if(r.done||n.done||!Object.is(r.value,n.value))return!1}while(!0)}function hj(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}var nH=Object.defineProperty,aH=(e,t,r)=>t in e?nH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,mj=(e,t,r)=>(aH(e,typeof t!="symbol"?t+"":t,r),r),iH=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(iH||{});let sH={0(e,t){let r=t.id,n=e.stack,a=e.stack.indexOf(r);if(a!==-1){let s=e.stack.slice();return s.splice(a,1),s.push(r),n=s,{...e,stack:n}}return{...e,stack:[...e.stack,r]}},1(e,t){let r=t.id,n=e.stack.indexOf(r);if(n===-1)return e;let a=e.stack.slice();return a.splice(n,1),{...e,stack:a}}},oH=class fC extends rH{constructor(){super(...arguments),mj(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),mj(this,"selectors",{isTop:(t,r)=>t.stack[t.stack.length-1]===r,inStack:(t,r)=>t.stack.includes(r)})}static new(){return new fC({stack:[]})}reduce(t,r){return Ya(r.type,sH,t,r)}};const hC=new cC(()=>oH.new());var Zg={exports:{}},Gg={};var pj;function lH(){if(pj)return Gg;pj=1;var e=yl();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,a=e.useRef,s=e.useEffect,l=e.useMemo,u=e.useDebugValue;return Gg.useSyncExternalStoreWithSelector=function(d,f,m,g,v){var y=a(null);if(y.current===null){var _={hasValue:!1,value:null};y.current=_}else _=y.current;y=l(function(){function S(A){if(!j){if(j=!0,N=A,A=g(A),v!==void 0&&_.hasValue){var T=_.value;if(v(T,A))return E=T}return E=A}if(T=E,r(N,A))return T;var P=g(A);return v!==void 0&&v(T,P)?(N=A,T):(N=A,E=P)}var j=!1,N,E,C=m===void 0?null:m;return[function(){return S(f())},C===null?void 0:function(){return S(C())}]},[f,m,g,v]);var k=n(d,y[0],y[1]);return s(function(){_.hasValue=!0,_.value=k},[k]),u(k),k},Gg}var gj;function cH(){return gj||(gj=1,Zg.exports=lH()),Zg.exports}var uH=cH();function mC(e,t,r=dC){return uH.useSyncExternalStoreWithSelector(Be(n=>e.subscribe(dH,n)),Be(()=>e.state),Be(()=>e.state),Be(t),r)}function dH(e){return e}function ku(e,t){let r=x.useId(),n=hC.get(t),[a,s]=mC(n,x.useCallback(l=>[n.selectors.isTop(l,r),n.selectors.inStack(l,r)],[n,r]));return Or(()=>{if(e)return n.actions.push(r),()=>n.actions.pop(r)},[n,e,r]),e?s?a:!0:!1}let Jy=new Map,Zc=new Map;function vj(e){var t;let r=(t=Zc.get(e))!=null?t:0;return Zc.set(e,r+1),r!==0?()=>yj(e):(Jy.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>yj(e))}function yj(e){var t;let r=(t=Zc.get(e))!=null?t:1;if(r===1?Zc.delete(e):Zc.set(e,r-1),r!==1)return;let n=Jy.get(e);n&&(n["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",n["aria-hidden"]),e.inert=n.inert,Jy.delete(e))}function fH(e,{allowed:t,disallowed:r}={}){let n=ku(e,"inert-others");Or(()=>{var a,s;if(!n)return;let l=ai();for(let d of(a=r?.())!=null?a:[])d&&l.add(vj(d));let u=(s=t?.())!=null?s:[];for(let d of u){if(!d)continue;let f=Sl(d);if(!f)continue;let m=d.parentElement;for(;m&&m!==f.body;){for(let g of m.children)u.some(v=>g.contains(v))||l.add(vj(g));m=m.parentElement}}return l.dispose},[n,t,r])}function hH(e,t,r){let n=Js(a=>{let s=a.getBoundingClientRect();s.x===0&&s.y===0&&s.width===0&&s.height===0&&r()});x.useEffect(()=>{if(!e)return;let a=t===null?null:fa(t)?t:t.current;if(!a)return;let s=ai();if(typeof ResizeObserver<"u"){let l=new ResizeObserver(()=>n.current(a));l.observe(a),s.add(()=>l.disconnect())}if(typeof IntersectionObserver<"u"){let l=new IntersectionObserver(()=>n.current(a));l.observe(a),s.add(()=>l.disconnect())}return()=>s.dispose()},[t,n,e])}let yh=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),mH=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Ua=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(Ua||{}),Qy=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(Qy||{}),pH=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(pH||{});function gH(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(yh)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}function vH(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(mH)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var pC=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(pC||{});function yH(e,t=0){var r;return e===((r=Sl(e))==null?void 0:r.body)?!1:Ya(t,{0(){return e.matches(yh)},1(){let n=e;for(;n!==null;){if(n.matches(yh))return!0;n=n.parentElement}return!1}})}var bH=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(bH||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Ka(e){e?.focus({preventScroll:!0})}let xH=["textarea","input"].join(",");function wH(e){var t,r;return(r=(t=e?.matches)==null?void 0:t.call(e,xH))!=null?r:!1}function _H(e,t=r=>r){return e.slice().sort((r,n)=>{let a=t(r),s=t(n);if(a===null||s===null)return 0;let l=a.compareDocumentPosition(s);return l&Node.DOCUMENT_POSITION_FOLLOWING?-1:l&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Gc(e,t,{sorted:r=!0,relativeTo:n=null,skipElements:a=[]}={}){let s=Array.isArray(e)?e.length>0?Yy(e[0]):document:Yy(e),l=Array.isArray(e)?r?_H(e):e:t&64?vH(e):gH(e);a.length>0&&l.length>1&&(l=l.filter(y=>!a.some(_=>_!=null&&"current"in _?_?.current===y:_===y))),n=n??s?.activeElement;let u=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,l.indexOf(n))-1;if(t&4)return Math.max(0,l.indexOf(n))+1;if(t&8)return l.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=t&32?{preventScroll:!0}:{},m=0,g=l.length,v;do{if(m>=g||m+g<=0)return 0;let y=d+m;if(t&16)y=(y+g)%g;else{if(y<0)return 3;if(y>=g)return 1}v=l[y],v?.focus(f),m+=u}while(v!==YT(v));return t&6&&wH(v)&&v.select(),2}function gC(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function SH(){return/Android/gi.test(window.navigator.userAgent)}function bj(){return gC()||SH()}function Ef(e,t,r,n){let a=Js(r);x.useEffect(()=>{if(!e)return;function s(l){a.current(l)}return document.addEventListener(t,s,n),()=>document.removeEventListener(t,s,n)},[e,t,n])}function vC(e,t,r,n){let a=Js(r);x.useEffect(()=>{if(!e)return;function s(l){a.current(l)}return window.addEventListener(t,s,n),()=>window.removeEventListener(t,s,n)},[e,t,n])}const xj=30;function kH(e,t,r){let n=Js(r),a=x.useCallback(function(u,d){if(u.defaultPrevented)return;let f=d(u);if(f===null||!f.getRootNode().contains(f)||!f.isConnected)return;let m=(function g(v){return typeof v=="function"?g(v()):Array.isArray(v)||v instanceof Set?v:[v]})(t);for(let g of m)if(g!==null&&(g.contains(f)||u.composed&&u.composedPath().includes(g)))return;return!yH(f,pC.Loose)&&f.tabIndex!==-1&&u.preventDefault(),n.current(u,f)},[n,t]),s=x.useRef(null);Ef(e,"pointerdown",u=>{var d,f;bj()||(s.current=((f=(d=u.composedPath)==null?void 0:d.call(u))==null?void 0:f[0])||u.target)},!0),Ef(e,"pointerup",u=>{if(bj()||!s.current)return;let d=s.current;return s.current=null,a(u,()=>d)},!0);let l=x.useRef({x:0,y:0});Ef(e,"touchstart",u=>{l.current.x=u.touches[0].clientX,l.current.y=u.touches[0].clientY},!0),Ef(e,"touchend",u=>{let d={x:u.changedTouches[0].clientX,y:u.changedTouches[0].clientY};if(!(Math.abs(d.x-l.current.x)>=xj||Math.abs(d.y-l.current.y)>=xj))return a(u,()=>Hi(u.target)?u.target:null)},!0),vC(e,"blur",u=>a(u,()=>$q(window.document.activeElement)?window.document.activeElement:null),!0)}function kx(...e){return x.useMemo(()=>Sl(...e),[...e])}function yC(e,t,r,n){let a=Js(r);x.useEffect(()=>{e=e??window;function s(l){a.current(l)}return e.addEventListener(t,s,n),()=>e.removeEventListener(t,s,n)},[e,t,n])}function jH(e,t){return x.useMemo(()=>{var r;if(e.type)return e.type;let n=(r=e.as)!=null?r:"button";if(typeof n=="string"&&n.toLowerCase()==="button"||t?.tagName==="BUTTON"&&!t.hasAttribute("type"))return"button"},[e.type,e.as,t])}function EH(e){return x.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}function OH(e,t){let r=e(),n=new Set;return{getSnapshot(){return r},subscribe(a){return n.add(a),()=>n.delete(a)},dispatch(a,...s){let l=t[a].call(r,...s);l&&(r=l,n.forEach(u=>u()))}}}function NH(){let e;return{before({doc:t}){var r;let n=t.documentElement,a=(r=t.defaultView)!=null?r:window;e=Math.max(0,a.innerWidth-n.clientWidth)},after({doc:t,d:r}){let n=t.documentElement,a=Math.max(0,n.clientWidth-n.offsetWidth),s=Math.max(0,e-a);r.style(n,"paddingRight",`${s}px`)}}}function AH(){return gC()?{before({doc:e,d:t,meta:r}){function n(a){for(let s of r().containers)for(let l of s())if(l.contains(a))return!0;return!1}t.microTask(()=>{var a;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let u=ai();u.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>u.dispose()))}let s=(a=window.scrollY)!=null?a:window.pageYOffset,l=null;t.addEventListener(e,"click",u=>{if(Hi(u.target))try{let d=u.target.closest("a");if(!d)return;let{hash:f}=new URL(d.href),m=e.querySelector(f);Hi(m)&&!n(m)&&(l=m)}catch{}},!0),t.group(u=>{t.addEventListener(e,"touchstart",d=>{if(u.dispose(),Hi(d.target)&&Rq(d.target))if(n(d.target)){let f=d.target;for(;f.parentElement&&n(f.parentElement);)f=f.parentElement;u.style(f,"overscrollBehavior","contain")}else u.style(d.target,"touchAction","none")})}),t.addEventListener(e,"touchmove",u=>{if(Hi(u.target)){if(tC(u.target))return;if(n(u.target)){let d=u.target;for(;d.parentElement&&d.dataset.headlessuiPortal!==""&&!(d.scrollHeight>d.clientHeight||d.scrollWidth>d.clientWidth);)d=d.parentElement;d.dataset.headlessuiPortal===""&&u.preventDefault()}else u.preventDefault()}},{passive:!1}),t.add(()=>{var u;let d=(u=window.scrollY)!=null?u:window.pageYOffset;s!==d&&window.scrollTo(0,s),l&&l.isConnected&&(l.scrollIntoView({block:"nearest"}),l=null)})})}}:{}}function TH(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function wj(e){let t={};for(let r of e)Object.assign(t,r(t));return t}let Cs=OH(()=>new Map,{PUSH(e,t){var r;let n=(r=this.get(e))!=null?r:{doc:e,count:0,d:ai(),meta:new Set,computedMeta:{}};return n.count++,n.meta.add(t),n.computedMeta=wj(n.meta),this.set(e,n),this},POP(e,t){let r=this.get(e);return r&&(r.count--,r.meta.delete(t),r.computedMeta=wj(r.meta)),this},SCROLL_PREVENT(e){let t={doc:e.doc,d:e.d,meta(){return e.computedMeta}},r=[AH(),NH(),TH()];r.forEach(({before:n})=>n?.(t)),r.forEach(({after:n})=>n?.(t))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Cs.subscribe(()=>{let e=Cs.getSnapshot(),t=new Map;for(let[r]of e)t.set(r,r.documentElement.style.overflow);for(let r of e.values()){let n=t.get(r.doc)==="hidden",a=r.count!==0;(a&&!n||!a&&n)&&Cs.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&Cs.dispatch("TEARDOWN",r)}});function CH(e,t,r=()=>({containers:[]})){let n=EH(Cs),a=t?n.get(t):void 0,s=a?a.count>0:!1;return Or(()=>{if(!(!t||!e))return Cs.dispatch("PUSH",t,r),()=>Cs.dispatch("POP",t,r)},[e,t]),s}function PH(e,t,r=()=>[document.body]){let n=ku(e,"scroll-lock");CH(n,t,a=>{var s;return{containers:[...(s=a.containers)!=null?s:[],r]}})}function DH(e=0){let[t,r]=x.useState(e),n=x.useCallback(d=>r(d),[]),a=x.useCallback(d=>r(f=>f|d),[]),s=x.useCallback(d=>(t&d)===d,[t]),l=x.useCallback(d=>r(f=>f&~d),[]),u=x.useCallback(d=>r(f=>f^d),[]);return{flags:t,setFlag:n,addFlag:a,hasFlag:s,removeFlag:l,toggleFlag:u}}var MH={},_j,Sj;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((_j=process==null?void 0:MH)==null?void 0:_j.NODE_ENV)==="test"&&typeof((Sj=Element?.prototype)==null?void 0:Sj.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var RH=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(RH||{});function $H(e){let t={};for(let r in e)e[r]===!0&&(t[`data-${r}`]="");return t}function LH(e,t,r,n){let[a,s]=x.useState(r),{hasFlag:l,addFlag:u,removeFlag:d}=DH(e&&a?3:0),f=x.useRef(!1),m=x.useRef(!1),g=Xs();return Or(()=>{var v;if(e){if(r&&s(!0),!t){r&&u(3);return}return(v=n?.start)==null||v.call(n,r),IH(t,{inFlight:f,prepare(){m.current?m.current=!1:m.current=f.current,f.current=!0,!m.current&&(r?(u(3),d(4)):(u(4),d(2)))},run(){m.current?r?(d(3),u(4)):(d(4),u(3)):r?d(1):u(1)},done(){var y;m.current&&BH(t)||(f.current=!1,d(7),r||s(!1),(y=n?.end)==null||y.call(n,r))}})}},[e,r,t,g]),e?[a,{closed:l(1),enter:l(2),leave:l(4),transition:l(2)||l(4)}]:[r,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function IH(e,{prepare:t,run:r,done:n,inFlight:a}){let s=ai();return UH(e,{prepare:t,inFlight:a}),s.nextFrame(()=>{r(),s.requestAnimationFrame(()=>{s.add(zH(e,n))})}),s.dispose}function zH(e,t){var r,n;let a=ai();if(!e)return a.dispose;let s=!1;a.add(()=>{s=!0});let l=(n=(r=e.getAnimations)==null?void 0:r.call(e).filter(u=>u instanceof CSSTransition))!=null?n:[];return l.length===0?(t(),a.dispose):(Promise.allSettled(l.map(u=>u.finished)).then(()=>{s||t()}),a.dispose)}function UH(e,{inFlight:t,prepare:r}){if(t!=null&&t.current){r();return}let n=e.style.transition;e.style.transition="none",r(),e.offsetHeight,e.style.transition=n}function BH(e){var t,r;return((r=(t=e.getAnimations)==null?void 0:t.call(e))!=null?r:[]).some(n=>n instanceof CSSTransition&&n.playState!=="finished")}function jx(e,t){let r=x.useRef([]),n=Be(e);x.useEffect(()=>{let a=[...r.current];for(let[s,l]of t.entries())if(r.current[s]!==l){let u=n(t,a);return r.current=t,u}},[n,...t])}let _0=x.createContext(null);_0.displayName="OpenClosedContext";var Kn=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Kn||{});function S0(){return x.useContext(_0)}function qH({value:e,children:t}){return ye.createElement(_0.Provider,{value:e},t)}function HH({children:e}){return ye.createElement(_0.Provider,{value:null},e)}function FH(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let zi=[];FH(()=>{function e(t){if(!Hi(t.target)||t.target===document.body||zi[0]===t.target)return;let r=t.target;r=r.closest(yh),zi.unshift(r??t.target),zi=zi.filter(n=>n!=null&&n.isConnected),zi.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function bC(e){let t=Be(e),r=x.useRef(!1);x.useEffect(()=>(r.current=!1,()=>{r.current=!0,b0(()=>{r.current&&t()})}),[t])}let xC=x.createContext(!1);function VH(){return x.useContext(xC)}function kj(e){return ye.createElement(xC.Provider,{value:e.force},e.children)}function KH(e){let t=VH(),r=x.useContext(_C),[n,a]=x.useState(()=>{var s;if(!t&&r!==null)return(s=r.current)!=null?s:null;if(ca.isServer)return null;let l=e?.getElementById("headlessui-portal-root");if(l)return l;if(e===null)return null;let u=e.createElement("div");return u.setAttribute("id","headlessui-portal-root"),e.body.appendChild(u)});return x.useEffect(()=>{n!==null&&(e!=null&&e.body.contains(n)||e==null||e.body.appendChild(n))},[n,e]),x.useEffect(()=>{t||r!==null&&a(r.current)},[r,a,t]),n}let wC=x.Fragment,ZH=_r(function(e,t){let{ownerDocument:r=null,...n}=e,a=x.useRef(null),s=Rn(Bq(v=>{a.current=v}),t),l=kx(a.current),u=r??l,d=KH(u),f=x.useContext(eb),m=Xs(),g=Ar();return bC(()=>{var v;d&&d.childNodes.length<=0&&((v=d.parentElement)==null||v.removeChild(d))}),d?Ws.createPortal(ye.createElement("div",{"data-headlessui-portal":"",ref:v=>{m.dispose(),f&&v&&m.add(f.register(v))}},g({ourProps:{ref:s},theirProps:n,slot:{},defaultTag:wC,name:"Portal"})),d):null});function GH(e,t){let r=Rn(t),{enabled:n=!0,ownerDocument:a,...s}=e,l=Ar();return n?ye.createElement(ZH,{...s,ownerDocument:a,ref:r}):l({ourProps:{ref:r},theirProps:s,slot:{},defaultTag:wC,name:"Portal"})}let YH=x.Fragment,_C=x.createContext(null);function WH(e,t){let{target:r,...n}=e,a={ref:Rn(t)},s=Ar();return ye.createElement(_C.Provider,{value:r},s({ourProps:a,theirProps:n,defaultTag:YH,name:"Popover.Group"}))}let eb=x.createContext(null);function XH(){let e=x.useContext(eb),t=x.useRef([]),r=Be(s=>(t.current.push(s),e&&e.register(s),()=>n(s))),n=Be(s=>{let l=t.current.indexOf(s);l!==-1&&t.current.splice(l,1),e&&e.unregister(s)}),a=x.useMemo(()=>({register:r,unregister:n,portals:t}),[r,n,t]);return[t,x.useMemo(()=>function({children:s}){return ye.createElement(eb.Provider,{value:a},s)},[a])]}let JH=_r(GH),SC=_r(WH),QH=Object.assign(JH,{Group:SC});function eF(e,t=typeof document<"u"?document.defaultView:null,r){let n=ku(e,"escape");yC(t,"keydown",a=>{n&&(a.defaultPrevented||a.key===vh.Escape&&r(a))})}function tF(){var e;let[t]=x.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[r,n]=x.useState((e=t?.matches)!=null?e:!1);return Or(()=>{if(!t)return;function a(s){n(s.matches)}return t.addEventListener("change",a),()=>t.removeEventListener("change",a)},[t]),r}function rF({defaultContainers:e=[],portals:t,mainTreeNode:r}={}){let n=Be(()=>{var a,s;let l=Sl(r),u=[];for(let d of e)d!==null&&(Va(d)?u.push(d):"current"in d&&Va(d.current)&&u.push(d.current));if(t!=null&&t.current)for(let d of t.current)u.push(d);for(let d of(a=l?.querySelectorAll("html > *, body > *"))!=null?a:[])d!==document.body&&d!==document.head&&Va(d)&&d.id!=="headlessui-portal-root"&&(r&&(d.contains(r)||d.contains((s=r?.getRootNode())==null?void 0:s.host))||u.some(f=>d.contains(f))||u.push(d));return u});return{resolveContainers:n,contains:Be(a=>n().some(s=>s.contains(a)))}}let kC=x.createContext(null);function jj({children:e,node:t}){let[r,n]=x.useState(null),a=jC(t??r);return ye.createElement(kC.Provider,{value:a},e,a===null&&ye.createElement(nu,{features:ul.Hidden,ref:s=>{var l,u;if(s){for(let d of(u=(l=Sl(s))==null?void 0:l.querySelectorAll("html > *, body > *"))!=null?u:[])if(d!==document.body&&d!==document.head&&Va(d)&&d!=null&&d.contains(s)){n(d);break}}}}))}function jC(e=null){var t;return(t=x.useContext(kC))!=null?t:e}function nF(){let e=typeof document>"u";return"useSyncExternalStore"in _y?(t=>t.useSyncExternalStore)(_y)(()=>()=>{},()=>!1,()=>!e):!1}function k0(){let e=nF(),[t,r]=x.useState(ca.isHandoffComplete);return t&&ca.isHandoffComplete===!1&&r(!1),x.useEffect(()=>{t!==!0&&r(!0)},[t]),x.useEffect(()=>ca.handoff(),[]),e?!1:t}function Ex(){let e=x.useRef(!1);return Or(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var qc=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(qc||{});function aF(){let e=x.useRef(0);return vC(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function EC(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let r of e.current)Va(r.current)&&t.add(r.current);return t}let iF="div";var Ns=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(Ns||{});function sF(e,t){let r=x.useRef(null),n=Rn(r,t),{initialFocus:a,initialFocusFallback:s,containers:l,features:u=15,...d}=e;k0()||(u=0);let f=kx(r.current);uF(u,{ownerDocument:f});let m=dF(u,{ownerDocument:f,container:r,initialFocus:a,initialFocusFallback:s});fF(u,{ownerDocument:f,container:r,containers:l,previousActiveElement:m});let g=aF(),v=Be(N=>{if(!fa(r.current))return;let E=r.current;(C=>C())(()=>{Ya(g.current,{[qc.Forwards]:()=>{Gc(E,Ua.First,{skipElements:[N.relatedTarget,s]})},[qc.Backwards]:()=>{Gc(E,Ua.Last,{skipElements:[N.relatedTarget,s]})}})})}),y=ku(!!(u&2),"focus-trap#tab-lock"),_=Xs(),k=x.useRef(!1),S={ref:n,onKeyDown(N){N.key=="Tab"&&(k.current=!0,_.requestAnimationFrame(()=>{k.current=!1}))},onBlur(N){if(!(u&4))return;let E=EC(l);fa(r.current)&&E.add(r.current);let C=N.relatedTarget;Hi(C)&&C.dataset.headlessuiFocusGuard!=="true"&&(OC(E,C)||(k.current?Gc(r.current,Ya(g.current,{[qc.Forwards]:()=>Ua.Next,[qc.Backwards]:()=>Ua.Previous})|Ua.WrapAround,{relativeTo:N.target}):Hi(N.target)&&Ka(N.target)))}},j=Ar();return ye.createElement(ye.Fragment,null,y&&ye.createElement(nu,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:v,features:ul.Focusable}),j({ourProps:S,theirProps:d,defaultTag:iF,name:"FocusTrap"}),y&&ye.createElement(nu,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:v,features:ul.Focusable}))}let oF=_r(sF),lF=Object.assign(oF,{features:Ns});function cF(e=!0){let t=x.useRef(zi.slice());return jx(([r],[n])=>{n===!0&&r===!1&&b0(()=>{t.current.splice(0)}),n===!1&&r===!0&&(t.current=zi.slice())},[e,zi,t]),Be(()=>{var r;return(r=t.current.find(n=>n!=null&&n.isConnected))!=null?r:null})}function uF(e,{ownerDocument:t}){let r=!!(e&8),n=cF(r);jx(()=>{r||fq(t?.body)&&Ka(n())},[r]),bC(()=>{r&&Ka(n())})}function dF(e,{ownerDocument:t,container:r,initialFocus:n,initialFocusFallback:a}){let s=x.useRef(null),l=ku(!!(e&1),"focus-trap#initial-focus"),u=Ex();return jx(()=>{if(e===0)return;if(!l){a!=null&&a.current&&Ka(a.current);return}let d=r.current;d&&b0(()=>{if(!u.current)return;let f=t?.activeElement;if(n!=null&&n.current){if(n?.current===f){s.current=f;return}}else if(d.contains(f)){s.current=f;return}if(n!=null&&n.current)Ka(n.current);else{if(e&16){if(Gc(d,Ua.First|Ua.AutoFocus)!==Qy.Error)return}else if(Gc(d,Ua.First)!==Qy.Error)return;if(a!=null&&a.current&&(Ka(a.current),t?.activeElement===a.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}s.current=t?.activeElement})},[a,l,e]),s}function fF(e,{ownerDocument:t,container:r,containers:n,previousActiveElement:a}){let s=Ex(),l=!!(e&4);yC(t?.defaultView,"focus",u=>{if(!l||!s.current)return;let d=EC(n);fa(r.current)&&d.add(r.current);let f=a.current;if(!f)return;let m=u.target;fa(m)?OC(d,m)?(a.current=m,Ka(m)):(u.preventDefault(),u.stopPropagation(),Ka(f)):Ka(a.current)},!0)}function OC(e,t){for(let r of e)if(r.contains(t))return!0;return!1}function NC(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||!Kc((t=e.as)!=null?t:TC)||ye.Children.count(e.children)===1}let j0=x.createContext(null);j0.displayName="TransitionContext";var hF=(e=>(e.Visible="visible",e.Hidden="hidden",e))(hF||{});function mF(){let e=x.useContext(j0);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function pF(){let e=x.useContext(E0);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let E0=x.createContext(null);E0.displayName="NestingContext";function O0(e){return"children"in e?O0(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function AC(e,t){let r=Js(e),n=x.useRef([]),a=Ex(),s=Xs(),l=Be((y,_=qi.Hidden)=>{let k=n.current.findIndex(({el:S})=>S===y);k!==-1&&(Ya(_,{[qi.Unmount](){n.current.splice(k,1)},[qi.Hidden](){n.current[k].state="hidden"}}),s.microTask(()=>{var S;!O0(n)&&a.current&&((S=r.current)==null||S.call(r))}))}),u=Be(y=>{let _=n.current.find(({el:k})=>k===y);return _?_.state!=="visible"&&(_.state="visible"):n.current.push({el:y,state:"visible"}),()=>l(y,qi.Unmount)}),d=x.useRef([]),f=x.useRef(Promise.resolve()),m=x.useRef({enter:[],leave:[]}),g=Be((y,_,k)=>{d.current.splice(0),t&&(t.chains.current[_]=t.chains.current[_].filter(([S])=>S!==y)),t?.chains.current[_].push([y,new Promise(S=>{d.current.push(S)})]),t?.chains.current[_].push([y,new Promise(S=>{Promise.all(m.current[_].map(([j,N])=>N)).then(()=>S())})]),_==="enter"?f.current=f.current.then(()=>t?.wait.current).then(()=>k(_)):k(_)}),v=Be((y,_,k)=>{Promise.all(m.current[_].splice(0).map(([S,j])=>j)).then(()=>{var S;(S=d.current.shift())==null||S()}).then(()=>k(_))});return x.useMemo(()=>({children:n,register:u,unregister:l,onStart:g,onStop:v,wait:f,chains:m}),[u,l,n,g,v,m,f])}let TC=x.Fragment,CC=gh.RenderStrategy;function gF(e,t){var r,n;let{transition:a=!0,beforeEnter:s,afterEnter:l,beforeLeave:u,afterLeave:d,enter:f,enterFrom:m,enterTo:g,entered:v,leave:y,leaveFrom:_,leaveTo:k,...S}=e,[j,N]=x.useState(null),E=x.useRef(null),C=NC(e),A=Rn(...C?[E,t,N]:t===null?[]:[t]),T=(r=S.unmount)==null||r?qi.Unmount:qi.Hidden,{show:P,appear:M,initial:R}=mF(),[L,$]=x.useState(P?"visible":"hidden"),q=pF(),{register:V,unregister:Q}=q;Or(()=>V(E),[V,E]),Or(()=>{if(T===qi.Hidden&&E.current){if(P&&L!=="visible"){$("visible");return}return Ya(L,{hidden:()=>Q(E),visible:()=>V(E)})}},[L,E,V,Q,P,T]);let ae=k0();Or(()=>{if(C&&ae&&L==="visible"&&E.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[E,L,ae,C]);let U=R&&!M,Y=M&&P&&R,ee=x.useRef(!1),le=AC(()=>{ee.current||($("hidden"),Q(E))},q),ve=Be(re=>{ee.current=!0;let Se=re?"enter":"leave";le.onStart(E,Se,X=>{X==="enter"?s?.():X==="leave"&&u?.()})}),I=Be(re=>{let Se=re?"enter":"leave";ee.current=!1,le.onStop(E,Se,X=>{X==="enter"?l?.():X==="leave"&&d?.()}),Se==="leave"&&!O0(le)&&($("hidden"),Q(E))});x.useEffect(()=>{C&&a||(ve(P),I(P))},[P,C,a]);let K=!(!a||!C||!ae||U),[,W]=LH(K,j,P,{start:ve,end:I}),H=Mi({ref:A,className:((n=Wy(S.className,Y&&f,Y&&m,W.enter&&f,W.enter&&W.closed&&m,W.enter&&!W.closed&&g,W.leave&&y,W.leave&&!W.closed&&_,W.leave&&W.closed&&k,!W.transition&&P&&v))==null?void 0:n.trim())||void 0,...$H(W)}),se=0;L==="visible"&&(se|=Kn.Open),L==="hidden"&&(se|=Kn.Closed),P&&L==="hidden"&&(se|=Kn.Opening),!P&&L==="visible"&&(se|=Kn.Closing);let ce=Ar();return ye.createElement(E0.Provider,{value:le},ye.createElement(qH,{value:se},ce({ourProps:H,theirProps:S,defaultTag:TC,features:CC,visible:L==="visible",name:"Transition.Child"})))}function vF(e,t){let{show:r,appear:n=!1,unmount:a=!0,...s}=e,l=x.useRef(null),u=NC(e),d=Rn(...u?[l,t]:t===null?[]:[t]);k0();let f=S0();if(r===void 0&&f!==null&&(r=(f&Kn.Open)===Kn.Open),r===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[m,g]=x.useState(r?"visible":"hidden"),v=AC(()=>{r||g("hidden")}),[y,_]=x.useState(!0),k=x.useRef([r]);Or(()=>{y!==!1&&k.current[k.current.length-1]!==r&&(k.current.push(r),_(!1))},[k,r]);let S=x.useMemo(()=>({show:r,appear:n,initial:y}),[r,n,y]);Or(()=>{r?g("visible"):!O0(v)&&l.current!==null&&g("hidden")},[r,v]);let j={unmount:a},N=Be(()=>{var A;y&&_(!1),(A=e.beforeEnter)==null||A.call(e)}),E=Be(()=>{var A;y&&_(!1),(A=e.beforeLeave)==null||A.call(e)}),C=Ar();return ye.createElement(E0.Provider,{value:v},ye.createElement(j0.Provider,{value:S},C({ourProps:{...j,as:x.Fragment,children:ye.createElement(PC,{ref:d,...j,...s,beforeEnter:N,beforeLeave:E})},theirProps:{},defaultTag:x.Fragment,features:CC,visible:m==="visible",name:"Transition"})))}function yF(e,t){let r=x.useContext(j0)!==null,n=S0()!==null;return ye.createElement(ye.Fragment,null,!r&&n?ye.createElement(tb,{ref:t,...e}):ye.createElement(PC,{ref:t,...e}))}let tb=_r(vF),PC=_r(gF),Ox=_r(yF),bF=Object.assign(tb,{Child:Ox,Root:tb});var xF=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(xF||{}),wF=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(wF||{});let _F={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},Nx=x.createContext(null);Nx.displayName="DialogContext";function N0(e){let t=x.useContext(Nx);if(t===null){let r=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,N0),r}return t}function SF(e,t){return Ya(t.type,_F,e,t)}let Ej=_r(function(e,t){let r=x.useId(),{id:n=`headlessui-dialog-${r}`,open:a,onClose:s,initialFocus:l,role:u="dialog",autoFocus:d=!0,__demoMode:f=!1,unmount:m=!1,...g}=e,v=x.useRef(!1);u=(function(){return u==="dialog"||u==="alertdialog"?u:(v.current||(v.current=!0,console.warn(`Invalid role [${u}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")})();let y=S0();a===void 0&&y!==null&&(a=(y&Kn.Open)===Kn.Open);let _=x.useRef(null),k=Rn(_,t),S=kx(_.current),j=a?0:1,[N,E]=x.useReducer(SF,{titleId:null,descriptionId:null,panelRef:x.createRef()}),C=Be(()=>s(!1)),A=Be(W=>E({type:0,id:W})),T=k0()?j===0:!1,[P,M]=XH(),R={get current(){var W;return(W=N.panelRef.current)!=null?W:_.current}},L=jC(),{resolveContainers:$}=rF({mainTreeNode:L,portals:P,defaultContainers:[R]}),q=y!==null?(y&Kn.Closing)===Kn.Closing:!1;fH(f||q?!1:T,{allowed:Be(()=>{var W,H;return[(H=(W=_.current)==null?void 0:W.closest("[data-headlessui-portal]"))!=null?H:null]}),disallowed:Be(()=>{var W;return[(W=L?.closest("body > *:not(#headlessui-portal-root)"))!=null?W:null]})});let V=hC.get(null);Or(()=>{if(T)return V.actions.push(n),()=>V.actions.pop(n)},[V,n,T]);let Q=mC(V,x.useCallback(W=>V.selectors.isTop(W,n),[V,n]));kH(Q,$,W=>{W.preventDefault(),C()}),eF(Q,S?.defaultView,W=>{W.preventDefault(),W.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),C()}),PH(f||q?!1:T,S,$),hH(T,_,C);let[ae,U]=iC(),Y=x.useMemo(()=>[{dialogState:j,close:C,setTitleId:A,unmount:m},N],[j,C,A,m,N]),ee=Qs({open:j===0}),le={ref:k,id:n,role:u,tabIndex:-1,"aria-modal":f?void 0:j===0?!0:void 0,"aria-labelledby":N.titleId,"aria-describedby":ae,unmount:m},ve=!tF(),I=Ns.None;T&&!f&&(I|=Ns.RestoreFocus,I|=Ns.TabLock,d&&(I|=Ns.AutoFocus),ve&&(I|=Ns.InitialFocus));let K=Ar();return ye.createElement(HH,null,ye.createElement(kj,{force:!0},ye.createElement(QH,null,ye.createElement(Nx.Provider,{value:Y},ye.createElement(SC,{target:_},ye.createElement(kj,{force:!1},ye.createElement(U,{slot:ee},ye.createElement(M,null,ye.createElement(lF,{initialFocus:l,initialFocusFallback:_,containers:$,features:I},ye.createElement(Jq,{value:C},K({ourProps:le,theirProps:g,slot:ee,defaultTag:kF,features:jF,visible:j===0,name:"Dialog"})))))))))))}),kF="div",jF=gh.RenderStrategy|gh.Static;function EF(e,t){let{transition:r=!1,open:n,...a}=e,s=S0(),l=e.hasOwnProperty("open")||s!==null,u=e.hasOwnProperty("onClose");if(!l&&!u)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!l)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!u)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!s&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(n!==void 0||r)&&!a.static?ye.createElement(jj,null,ye.createElement(bF,{show:n,transition:r,unmount:a.unmount},ye.createElement(Ej,{ref:t,...a}))):ye.createElement(jj,null,ye.createElement(Ej,{ref:t,open:n,...a}))}let OF="div";function NF(e,t){let r=x.useId(),{id:n=`headlessui-dialog-panel-${r}`,transition:a=!1,...s}=e,[{dialogState:l,unmount:u},d]=N0("Dialog.Panel"),f=Rn(t,d.panelRef),m=Qs({open:l===0}),g=Be(S=>{S.stopPropagation()}),v={ref:f,id:n,onClick:g},y=a?Ox:x.Fragment,_=a?{unmount:u}:{},k=Ar();return ye.createElement(y,{..._},k({ourProps:v,theirProps:s,slot:m,defaultTag:OF,name:"Dialog.Panel"}))}let AF="div";function TF(e,t){let{transition:r=!1,...n}=e,[{dialogState:a,unmount:s}]=N0("Dialog.Backdrop"),l=Qs({open:a===0}),u={ref:t,"aria-hidden":!0},d=r?Ox:x.Fragment,f=r?{unmount:s}:{},m=Ar();return ye.createElement(d,{...f},m({ourProps:u,theirProps:n,slot:l,defaultTag:AF,name:"Dialog.Backdrop"}))}let CF="h2";function PF(e,t){let r=x.useId(),{id:n=`headlessui-dialog-title-${r}`,...a}=e,[{dialogState:s,setTitleId:l}]=N0("Dialog.Title"),u=Rn(t);x.useEffect(()=>(l(n),()=>l(null)),[n,l]);let d=Qs({open:s===0}),f={ref:u,id:n};return Ar()({ourProps:f,theirProps:a,slot:d,defaultTag:CF,name:"Dialog.Title"})}let DF=_r(EF),MF=_r(NF);_r(TF);let RF=_r(PF),Ot=Object.assign(DF,{Panel:MF,Title:RF,Description:sC}),Ax=x.createContext(null);Ax.displayName="GroupContext";let $F=x.Fragment;function LF(e){var t;let[r,n]=x.useState(null),[a,s]=Kq(),[l,u]=iC(),d=x.useMemo(()=>({switch:r,setSwitch:n}),[r,n]),f={},m=e,g=Ar();return ye.createElement(u,{name:"Switch.Description",value:l},ye.createElement(s,{name:"Switch.Label",value:a,props:{htmlFor:(t=d.switch)==null?void 0:t.id,onClick(v){r&&(Xy(v.currentTarget)&&v.preventDefault(),r.click(),r.focus({preventScroll:!0}))}}},ye.createElement(Ax.Provider,{value:d},g({ourProps:f,theirProps:m,slot:{},defaultTag:$F,name:"Switch.Group"}))))}let IF="button";function zF(e,t){var r;let n=x.useId(),a=eC(),s=Sx(),{id:l=a||`headlessui-switch-${n}`,disabled:u=s||!1,checked:d,defaultChecked:f,onChange:m,name:g,value:v,form:y,autoFocus:_=!1,...k}=e,S=x.useContext(Ax),[j,N]=x.useState(null),E=x.useRef(null),C=Rn(E,t,S===null?null:S.setSwitch,N),A=kq(f),[T,P]=Sq(d,m,A??!1),M=Xs(),[R,L]=x.useState(!1),$=Be(()=>{L(!0),P?.(!T),M.nextFrame(()=>{L(!1)})}),q=Be(re=>{if(zq(re.currentTarget))return re.preventDefault();re.preventDefault(),$()}),V=Be(re=>{re.key===vh.Space?(re.preventDefault(),$()):re.key===vh.Enter&&jq(re.currentTarget)}),Q=Be(re=>re.preventDefault()),ae=lC(),U=qq(),{isFocusVisible:Y,focusProps:ee}=lq({autoFocus:_}),{isHovered:le,hoverProps:ve}=oq({isDisabled:u}),{pressed:I,pressProps:K}=pq({disabled:u}),W=Qs({checked:T,disabled:u,hover:le,focus:Y,active:I,autofocus:_,changing:R}),H=xq({id:l,ref:C,role:"switch",type:jH(e,j),tabIndex:e.tabIndex===-1?0:(r=e.tabIndex)!=null?r:0,"aria-checked":T,"aria-labelledby":ae,"aria-describedby":U,disabled:u||void 0,autoFocus:_,onClick:q,onKeyUp:V,onKeyPress:Q},ee,ve,K),se=x.useCallback(()=>{if(A!==void 0)return P?.(A)},[P,A]),ce=Ar();return ye.createElement(ye.Fragment,null,g!=null&&ye.createElement(Cq,{disabled:u,data:{[g]:v||"on"},overrides:{type:"checkbox",checked:T},form:y,onReset:se}),ce({ourProps:H,theirProps:k,slot:W,defaultTag:IF,name:"Switch"}))}let UF=_r(zF),BF=LF,qF=Wq,HF=sC,FF=Object.assign(UF,{Group:BF,Label:qF,Description:HF});function DC({isOpen:e,onClose:t,date:r,orders:n=[],monthlyInbound:a,updateDateInbound:s}){const{updateDailyManifest:l,addOrdersBulk:u,removeOrder:d,updateOrder:f}=Jn(),{schedulerSettings:m,activeSku:g}=Xn(),{getProductSpecs:v,productMap:y}=ur(),[_,k]=x.useState(null),[S,j]=x.useState({}),[N,E]=x.useState(""),[C,A]=x.useState(null),T=[...n].sort((H,se)=>{const ce=re=>{if(!re||re==="00:00")return 99999;const[Se,X]=re.split(":").map(Number);return Se*60+(X||0)};return ce(H.time)-ce(se.time)}),P=H=>"1.0",M=H=>1,R=H=>{if(!m)return"TBD (Settings)";const ce=T[H]?.sku||g,re=v(ce)||y?.[ce];if(!re)return"TBD (No SKU)";const Se=Number(re.productionRate),X=Number(re.bottlesPerTruck);if(!Se||Se<=0)return"TBD (No Rate)";if(!X)return"TBD (No Cap)";const me=MT(H,m.shiftStartTime||"06:00",X,Se,Number(re.bottlesPerCase)||1,Math.max(T.length,Math.round(Number(a[r]||0))));return me?ru(me):"TBD"},L=(H,se)=>{if(!s)return;const ce=se.length;s(H,ce)},[$,q]=x.useState(null),V=H=>{const se=n.find(re=>re.id===H);d(r,H,se?.po);const ce=n.filter(re=>re.id!==H);L(r,ce),q(null)},Q=H=>{q({title:"Cancel Delivery?",message:"Are you sure you want to remove this delivery? This action cannot be undone if not synced with SAP.",type:"danger",onConfirm:()=>V(H)})},ae=H=>{f(r,{...H,status:"received"}),q(null)},U=H=>{ae(H)},Y=H=>{A(H);const se=sr(new Date(r+"T00:00:00"),1);E(vt(se))},ee=()=>{if(!N||!C)return;const H=n.find(re=>re.id===C);if(!H)return;const se=_===C?{...H,...S,date:N}:{...H,date:N};u([se]),d(r,C,H.po);const ce=n.filter(re=>re.id!==C);if(L(r,ce),s&&a){const re=Number(a[N]||0),Se=M(se.qty);s(N,re+Se)}A(null),E(""),k(null)},[le,ve]=x.useState(!1),I=()=>{const H=Math.round(Number(a[r]||0));let se=`Replenishment Plan - ${new Date(r+"T00:00:00").toLocaleDateString()}
`;se+=`Total Planned Trucks: ${H}
`,se+=`--------------------------------
`;for(let ce=0;ce<H;ce++)se+=`Load #${ce+1}: ${R(ce)}
`;navigator.clipboard.writeText(se),ve(!0),setTimeout(()=>ve(!1),2e3)},K=H=>{k(H.id),j({...H})},W=()=>{if(!_)return;const H={...n.find(ce=>ce.id===_),...S};f(r,H);const se=n.map(ce=>ce.id===_?H:ce);L(r,se),k(null)};return p.jsxs(Ot,{open:e,onClose:t,className:"relative z-50",children:[p.jsx("div",{className:"fixed inset-0 bg-black/30","aria-hidden":"true"}),p.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:p.jsxs(Ot.Panel,{className:"w-full max-w-3xl bg-white dark:bg-gray-900 rounded-2xl shadow-xl overflow-hidden flex flex-col max-h-[90vh]",children:[p.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800/50",children:[p.jsxs("div",{children:[p.jsxs(Ot.Title,{className:"text-lg font-bold flex items-center gap-2 text-gray-900 dark:text-white uppercase tracking-wide",children:[p.jsx(C5,{className:"w-5 h-5 text-blue-500"}),new Date(r+"T00:00:00").toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"})]}),p.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Found ",n.length," Scheduled Deliveries"]})]}),p.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:p.jsx(Zs,{className:"w-6 h-6"})})]}),$&&p.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/20 backdrop-blur-sm p-4 animate-fadeIn",children:p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700 p-6 w-full max-w-sm flex flex-col items-center text-center transform transition-all scale-100",children:[p.jsx("div",{className:`p-4 rounded-full mb-4 ${$.type==="danger"?"bg-red-100 text-red-600":"bg-blue-100 text-blue-600"}`,children:$.type==="danger"?p.jsx(da,{className:"w-8 h-8"}):p.jsx(oa,{className:"w-8 h-8"})}),p.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:$.title}),p.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6 leading-relaxed",children:$.message}),p.jsxs("div",{className:"flex gap-3 w-full",children:[p.jsx("button",{onClick:()=>q(null),className:"flex-1 px-4 py-2 rounded-lg border border-gray-300 text-gray-700 font-bold hover:bg-gray-50 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),p.jsx("button",{onClick:()=>$.onConfirm(),className:`flex-1 px-4 py-2 rounded-lg text-white font-bold shadow-lg transition-transform hover:scale-105 ${$.type==="danger"?"bg-red-600 hover:bg-red-700 shadow-red-500/30":"bg-emerald-600 hover:bg-emerald-700 shadow-emerald-500/30"}`,children:"Confirm"})]})]})}),p.jsxs("div",{className:"p-6 overflow-y-auto space-y-4",children:[n.length===0?p.jsx(p.Fragment,{children:a&&Number(a[r]||0)>0?p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center justify-between bg-blue-50 dark:bg-blue-900/20 p-3 rounded-md",children:[p.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-200 flex items-center gap-2",children:[p.jsx("span",{className:"text-xl",children:""}),p.jsxs("span",{children:[p.jsxs("strong",{children:[Number(a[r])," Trucks Planned"]})," via Auto-Replenishment.",p.jsx("br",{}),"Purchase Orders have not been imported yet."]})]}),p.jsx("button",{onClick:I,className:`flex items-center px-3 py-1.5 rounded-lg text-xs font-bold transition-all ${le?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-white text-gray-600 border border-gray-200 hover:bg-gray-50 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600"}`,children:le?p.jsxs(p.Fragment,{children:[p.jsx(oa,{className:"w-4 h-4 mr-1.5"}),"Copied!"]}):p.jsxs(p.Fragment,{children:[p.jsx(tx,{className:"w-4 h-4 mr-1.5"}),"Copy Plan"]})})]}),Array.from({length:Math.round(Number(a[r]))}).map((H,se)=>p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-4 flex items-center justify-between opacity-75 grayscale",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"bg-gray-200 dark:bg-gray-700 p-3 rounded-lg",children:p.jsx(un,{className:"w-6 h-6 text-gray-400"})}),p.jsxs("div",{children:[p.jsxs("h3",{className:"text-lg font-bold text-gray-500 dark:text-gray-400 italic",children:["Planned Load #",se+1]}),p.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[p.jsxs("div",{className:"flex items-center text-xs font-mono font-bold text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/30 px-2 py-0.5 rounded",children:[p.jsx(o0,{className:"w-3 h-3 mr-1"}),"Est. ",R(se)]}),p.jsx("span",{className:"text-xs text-gray-400",children:"Awaiting PO"})]})]})]}),p.jsx("div",{className:"px-3 py-1 bg-gray-100 dark:bg-gray-700 text-xs font-bold text-gray-500 rounded-full",children:"AUTO-PLAN"})]},`planned-${se}`))]}):p.jsx("div",{className:"text-center py-10 text-gray-400 italic bg-gray-50 dark:bg-gray-800 rounded-lg",children:"No deliveries scheduled for this day."})}):T.map((H,se)=>p.jsx("div",{className:"bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-lg shadow-sm p-4 relative group hover:border-blue-300 dark:hover:border-blue-700 transition-colors",children:_===H.id?p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[p.jsxs("div",{className:"col-span-1",children:[p.jsx("label",{className:"text-xs font-bold text-gray-500",children:"PO Number"}),p.jsx("input",{type:"text",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:S.po||"",onChange:ce=>j(re=>({...re,po:ce.target.value}))})]}),p.jsxs("div",{className:"col-span-1",children:[p.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Appointment Time"}),p.jsx("input",{type:"time",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:S.time||"",onChange:ce=>j(re=>({...re,time:ce.target.value}))})]}),p.jsxs("div",{className:"col-span-1",children:[p.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Appointment Time"}),p.jsx("input",{type:"time",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:S.time||"",onChange:ce=>j(re=>({...re,time:ce.target.value}))})]}),p.jsxs("div",{className:"col-span-1",children:[p.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Supplier"}),p.jsx("input",{type:"text",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:S.supplier||"",onChange:ce=>j(re=>({...re,supplier:ce.target.value}))})]}),p.jsxs("div",{className:"col-span-1",children:[p.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Quantity"}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("input",{type:"number",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:S.qty||0,onChange:ce=>j(re=>({...re,qty:ce.target.value}))}),p.jsxs("span",{className:"text-xs text-gray-400 whitespace-nowrap",children:["= ",P(S.qty||0)," Trucks"]})]})]})]}),p.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg flex items-center gap-3",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("label",{className:"text-xs font-bold text-blue-700 dark:text-blue-300",children:"Move to Date"}),p.jsx("input",{type:"date",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white mt-1",value:N,onChange:ce=>{E(ce.target.value),C||A(H.id)}})]}),p.jsxs("button",{onClick:ee,disabled:!N,className:"mt-5 px-4 py-2 bg-blue-600 text-white rounded-lg font-bold text-sm disabled:opacity-50 hover:bg-blue-500 flex items-center",children:[p.jsx(a6,{className:"w-5 h-5 mr-1"}),"Reschedule"]})]}),p.jsxs("div",{className:"flex justify-between border-t dark:border-gray-700 pt-3",children:[p.jsx("button",{onClick:()=>k(null),className:"text-sm text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:"Cancel"}),p.jsxs("button",{onClick:W,className:"flex items-center text-sm font-bold text-green-600 hover:text-green-700",children:[p.jsx(oa,{className:"w-5 h-5 mr-1"}),"Save Changes"]})]})]}):p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{className:"flex items-start gap-4",children:[p.jsx("div",{className:"bg-blue-100 dark:bg-blue-900 p-3 rounded-lg",children:p.jsx(un,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),p.jsxs("div",{children:[p.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center",children:[p.jsx("span",{className:"font-mono",children:H.time&&H.time!=="00:00"?ru(H.time):"TBD"}),p.jsx("span",{className:"mx-2 text-gray-300",children:"|"}),"PO #",H.po,H.loadId&&p.jsxs("span",{className:"ml-2 px-2 py-0.5 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs rounded-full font-bold",children:["Load ID: ",H.loadId]}),p.jsx("span",{className:"ml-2 px-2 py-0.5 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-100 text-xs rounded-full font-bold",children:"1 Truck"}),p.jsx("button",{onClick:ce=>{ce.stopPropagation();const re=H.status||"ordered";re==="received"?confirm("Revert 'Received' status back to 'Ordered'?")&&f(r,{...H,status:"ordered"}):f(r,{...H,status:re==="confirmed"?"ordered":"confirmed"})},className:`ml-2 px-2 py-0.5 text-xs rounded-full font-bold border transition-colors ${H.status==="received"?"bg-emerald-100 text-emerald-800 border-emerald-200 hover:bg-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-300 dark:border-emerald-800":H.status==="confirmed"?"bg-blue-100 text-blue-800 border-blue-200 hover:bg-blue-200 dark:bg-blue-900/30 dark:text-blue-300 dark:border-blue-800":"bg-yellow-100 text-yellow-800 border-yellow-200 hover:bg-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-300 dark:border-yellow-800"}`,title:"Toggle Status",children:H.status==="received"?"Received":H.status==="confirmed"?"Confirmed":"Ordered"})]}),p.jsxs("div",{className:"flex flex-col gap-1 mt-1",children:[p.jsxs("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[p.jsx("span",{children:H.supplier||H.vendor||"Unknown Supplier"}),p.jsx("span",{className:"text-gray-300",children:"|"}),p.jsx("span",{className:"text-gray-600 dark:text-gray-400 font-bold",children:H.sku||g}),p.jsxs("span",{className:"text-gray-400 font-normal",children:["- ",y[H.sku||g]?.description||"No Description"]})]}),Number(H.qty)>0&&p.jsxs("span",{className:"text-xs text-gray-400",children:["(",Number(String(H.qty).replace(/,/g,"")).toLocaleString()," units)"]})]})]})]}),p.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[H.status!=="received"&&p.jsx("button",{onClick:ce=>{ce.stopPropagation(),U(H)},className:"p-2 text-gray-400 hover:text-emerald-600 hover:bg-emerald-50 rounded-lg dark:hover:bg-emerald-900/30",title:"Mark as Received",children:p.jsx(oa,{className:"w-5 h-5"})}),p.jsx("button",{onClick:()=>{K(H),Y(H.id)},className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg dark:hover:bg-blue-900/30",title:"Edit or Reschedule",children:p.jsx(Wc,{className:"w-5 h-5"})}),p.jsx("button",{onClick:ce=>{ce.stopPropagation(),Q(H.id)},className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg dark:hover:bg-red-900/30",title:"Cancel Delivery",children:p.jsx(da,{className:"w-5 h-5"})})]})]})},H.id||se)),p.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-lg flex gap-3 text-xs text-yellow-800 dark:text-yellow-200",children:[p.jsx("span",{className:"text-lg",children:""}),p.jsxs("p",{children:[p.jsx("strong",{children:"Schedule Exception Management"}),p.jsx("br",{}),"Use this tool to handle cancellations or delays. Removing a PO here is permanent unless re-imported from SAP."]})]})]})]})})]})}const VF=x.memo(({dates:e,todayStr:t})=>p.jsx("thead",{className:"sticky top-0 z-20",children:p.jsxs("tr",{children:[p.jsx("th",{className:"sticky left-0 min-w-[140px] w-[140px] h-10 bg-slate-800 dark:bg-slate-950 border-b border-r border-slate-600 dark:border-slate-700 pl-2 pr-2 text-left text-xs font-bold text-white dark:text-slate-200 uppercase tracking-wider z-30 shadow-md",children:p.jsx("div",{className:"flex items-center h-full",children:p.jsx("span",{children:"Metric"})})}),e.map(r=>{const n=vt(r),a=new Date(n+"T00:00:00"),s=n===t,l=a.getDay()===0||a.getDay()===6;return p.jsx("th",{className:`
                            min-w-[100px] w-[100px] h-10 p-0 border-b border-r border-slate-600 dark:border-slate-700 transition-colors
                            ${s?"bg-blue-600 text-white font-extrabold shadow-md":"bg-slate-800 dark:bg-slate-950 text-slate-200 dark:text-slate-400"}
                            ${l&&!s?"bg-slate-700/50 dark:bg-slate-900/50 text-slate-400":""}
                        `,children:p.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center",children:[p.jsx("div",{className:`uppercase text-[9px] leading-tight font-semibold ${s?"opacity-90":"opacity-60"}`,children:(()=>{const[u,d,f]=n.split("-").map(Number);return new Date(u,d-1,f).toLocaleDateString("en-US",{weekday:"short"})})()}),p.jsx("div",{className:"text-sm leading-none mt-0.5",children:n.split("-")[2].replace(/^0/,"")})]})},n)})]})}));function KF({date:e,todayStr:t,demandVal:r,updateDateDemand:n,actualVal:a,updateDateActual:s,manifestItems:l,monthlyInboundVal:u,updateDateInbound:d,ledgerItem:f,openManager:m,readOnly:g=!1}){const v=vt(e),y=v===t,_=a!==void 0,k=l&&l.length>0,S=k?l.length:u||0;return p.jsxs("div",{className:`p-4 rounded-xl border-2 mb-4 shadow-sm ${y?"bg-blue-50 border-blue-200 dark:bg-blue-900/20 dark:border-blue-800":"bg-white border-gray-100 dark:bg-gray-800 dark:border-gray-700"}`,children:[p.jsxs("div",{className:"flex justify-between items-center mb-3",children:[p.jsxs("div",{children:[p.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:new Date(e).toLocaleDateString("en-US",{weekday:"long"})}),p.jsx("div",{className:"text-lg font-black text-gray-800 dark:text-white",children:new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]}),y&&p.jsx("span",{className:"bg-blue-100 text-blue-700 px-2 py-0.5 rounded text-[10px] font-bold uppercase",children:"Today"})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-2 rounded-lg",children:[p.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"Production Plan"}),p.jsx("input",{className:`w-full bg-white dark:bg-gray-600 rounded border border-gray-200 dark:border-gray-500 p-2 text-sm font-bold text-center outline-none ${g?"cursor-default opacity-80":"focus:ring-2 focus:ring-blue-500"}`,placeholder:g?"":"-",value:r||"",disabled:g,onChange:j=>n(v,j.target.value)})]}),p.jsxs("div",{className:"bg-blue-50/50 dark:bg-blue-900/10 p-2 rounded-lg border border-blue-100 dark:border-blue-900",children:[p.jsx("label",{className:"text-[10px] font-bold text-blue-400 uppercase block mb-1",children:"Actual / Prod"}),p.jsx("input",{className:`w-full bg-white dark:bg-gray-600 rounded border border-blue-200 dark:border-blue-800 p-2 text-sm font-bold text-center text-blue-700 dark:text-blue-300 outline-none ${g?"cursor-default opacity-80":"focus:ring-2 focus:ring-blue-500"}`,placeholder:g?"":"-",value:_?Number(a).toLocaleString():"",disabled:g,onChange:j=>{const N=j.target.value.replace(/,/g,"");isNaN(N)||s(v,N)}})]}),p.jsxs("div",{className:"bg-green-50/50 dark:bg-green-900/10 p-2 rounded-lg border border-green-100 dark:border-green-900",children:[p.jsx("label",{className:"text-[10px] font-bold text-green-400 uppercase block mb-1",children:"Inbound Trucks"}),k?p.jsxs("button",{className:`w-full bg-white dark:bg-gray-600 rounded border border-green-200 dark:border-green-800 p-2 text-sm font-bold text-center text-green-700 dark:text-green-400 flex items-center justify-center gap-2 ${g?"cursor-default opacity-80":""}`,onClick:()=>!g&&m(v),disabled:g,children:[S," ",p.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"})]}):p.jsx("input",{className:`w-full bg-white dark:bg-gray-600 rounded border border-green-200 dark:border-green-800 p-2 text-sm font-bold text-center text-green-700 dark:text-green-400 outline-none ${g?"cursor-default opacity-80":"focus:ring-2 focus:ring-green-500"}`,placeholder:g?"":"0",value:S||"",disabled:g,onChange:j=>{const N=j.target.value.replace(/,/g,"");isNaN(N)||d(v,N)}})]}),p.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-2 rounded-lg flex flex-col justify-center items-center",children:[p.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"End Balance"}),p.jsx("div",{className:"text-sm font-black text-gray-700 dark:text-gray-300",children:f?f.balance.toLocaleString():"-"})]})]})]})}const ZF=x.memo(({dates:e,monthlyDemand:t,updateDateDemand:r,updateDateDemandBulk:n,readOnly:a=!1,todayStr:s})=>{const l=x.useRef(r);return x.useEffect(()=>{l.current=r},[r]),p.jsxs("tr",{className:"group/row",children:[p.jsx("th",{className:"sticky left-0 min-w-[140px] w-[140px] h-8 bg-slate-300 dark:bg-slate-800 border-r border-slate-400 dark:border-slate-600 pl-2 pr-2 text-left text-xs font-bold text-slate-800 dark:text-slate-300 z-10 shadow-md relative",children:p.jsx("div",{className:"w-full h-full flex items-center",children:"Production (Plan)"})}),e.map(u=>{const d=vt(u),f=t[d];return p.jsx(GF,{date:u,dateStr:d,initialValue:f,updateDateDemand:r,updateDateDemandBulk:n,readOnly:a,isToday:d===s},d)})]})}),GF=x.memo(({date:e,dateStr:t,initialValue:r,updateDateDemand:n,updateDateDemandBulk:a,readOnly:s,isToday:l})=>{const u=x.useRef(null),[d,f]=x.useState(null);x.useEffect(()=>{u.current&&document.activeElement!==u.current&&(u.current.value=r?Number(r).toLocaleString():"")},[r]);const m=S=>{if(!S)return"";const j=S.toString().toLowerCase().trim().replace(/,/g,"");let N=1;j.endsWith("k")?N=1e3:j.endsWith("m")&&(N=1e6);let E=parseFloat(j.replace(/[km]/g,""));return isNaN(E)?S:(E*=N,N===1&&E>0&&E<1e3&&(E*=1e3),E.toString())},g=()=>{if(!s&&u.current){const S=m(u.current.value);S!==r&&n(t,S),S&&!isNaN(S)&&(u.current.value=Number(S).toLocaleString())}},v=S=>{if(!s&&S.key==="Enter"){S.preventDefault();const j=S.target.value.replace(/,/g,""),N=m(j);n(t,N),N&&!isNaN(N)&&(S.target.value=Number(N).toLocaleString());const C=`demand-${sr(t,1)}`;setTimeout(()=>{const A=document.getElementById(C);A&&(A.focus(),A.select())},0)}},y=S=>{s||(S.preventDefault(),f({x:S.clientX,y:S.clientY}))},_=()=>f(null),k=S=>{const j=u.current?m(u.current.value):r;if(!j)return;const N={};if(N[t]=j,S==="week")for(let E=1;E<7;E++)N[sr(t,E)]=j;if(S==="month"){const E=new Date(e).getMonth();let C=1;for(;;){const A=sr(t,C);if(new Date(A).getMonth()!==E||(N[A]=j,C++,C>31))break}}if(S==="restOfWeek"){new Date(e).getDay();let E=1;for(;;){const C=sr(t,E),A=new Date(C);if(N[C]=j,A.getDay()===0||(E++,E>7))break}}a&&a(N),_()};return p.jsxs("td",{className:`min-w-[100px] w-[100px] h-8 p-0 border-r border-slate-300 dark:border-slate-700 transition-colors 
            ${l?"bg-blue-50/50 dark:bg-blue-900/10 border-x-2 border-x-blue-300":"bg-slate-200 dark:bg-slate-800/50"}`,children:[p.jsx("div",{className:"w-full h-full relative group/cell",onContextMenu:y,children:p.jsx("input",{ref:u,id:`demand-${t}`,type:"text",inputMode:"decimal",className:`
                        w-full h-full text-center outline-none transition-all font-bold text-sm m-0 p-0
                        ${s?"cursor-not-allowed text-slate-500 bg-transparent":"cursor-text text-slate-800 dark:text-slate-100 bg-transparent focus:bg-white dark:focus:bg-slate-700 hover:ring-1 hover:ring-slate-300 dark:hover:ring-slate-600 focus:ring-2 focus:ring-inset focus:ring-blue-500 focus:z-10 focus:shadow-sm"}
                        placeholder:text-slate-300 dark:placeholder:text-slate-600
                    `,placeholder:s?"":"-",disabled:s,onBlur:g,onKeyDown:v,autoComplete:"off"})}),d&&p.jsx(YF,{x:d.x,y:d.y,onClose:_,onAction:k})]})}),YF=({x:e,y:t,onClose:r,onAction:n})=>{x.useEffect(()=>{const s=()=>r();return window.addEventListener("click",s),()=>window.removeEventListener("click",s)},[r]);const a=s=>s.stopPropagation();return Ws.createPortal(p.jsxs("div",{className:"fixed z-[100] min-w-[180px] bg-white dark:bg-slate-800 rounded-lg shadow-xl ring-1 ring-black/5 dark:ring-white/10 py-1 origin-top-left transform transition-all animate-in fade-in zoom-in-95 duration-100",style:{top:t,left:e},onClick:a,onContextMenu:s=>s.preventDefault(),children:[p.jsx("div",{className:"px-3 py-2 text-[10px] font-bold text-slate-400 uppercase tracking-wider border-b border-slate-100 dark:border-slate-700 mb-1",children:"Quick Fill"}),p.jsxs("button",{onClick:()=>n("week"),className:"w-full text-left px-4 py-2 text-sm text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700 flex items-center gap-2 group",children:[p.jsx("div",{className:"p-1 rounded-md bg-emerald-50 text-emerald-600 group-hover:bg-emerald-100 dark:bg-emerald-900/30 dark:text-emerald-400",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"})})}),p.jsx("span",{children:"Next 7 Days"})]}),p.jsxs("button",{onClick:()=>n("restOfWeek"),className:"w-full text-left px-4 py-2 text-sm text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700 flex items-center gap-2 group",children:[p.jsx("div",{className:"p-1 rounded-md bg-blue-50 text-blue-600 group-hover:bg-blue-100 dark:bg-blue-900/30 dark:text-blue-400",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0h9m3.102-1.296a4.5 4.5 0 016.3 6.3m0-6.3a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0z"})})}),p.jsx("span",{children:"Rest of Week"})]}),p.jsxs("button",{onClick:()=>n("month"),className:"w-full text-left px-4 py-2 text-sm text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700 flex items-center gap-2 group",children:[p.jsx("div",{className:"p-1 rounded-md bg-purple-50 text-purple-600 group-hover:bg-purple-100 dark:bg-purple-900/30 dark:text-purple-400",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0h9m3.102-1.296a4.5 4.5 0 016.3 6.3m0-6.3a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0z"})})}),p.jsx("span",{children:"Rest of Month"})]})]}),document.body)},WF=x.memo(({dates:e,monthlyProductionActuals:t,updateDateActual:r,readOnly:n=!1,todayStr:a})=>p.jsxs("tr",{className:"bg-sky-50/20 dark:bg-sky-900/10",children:[p.jsx("th",{className:"sticky left-0 min-w-[140px] w-[140px] h-8 bg-sky-50 dark:bg-slate-800 border-r border-slate-300 dark:border-slate-600 pl-2 pr-2 text-left text-xs font-bold text-sky-700 dark:text-sky-400 z-10 shadow-md",children:p.jsx("div",{className:"w-full h-full flex items-center",children:"Actual / Prod"})}),e.map(s=>{const l=vt(s),u=t[l];return p.jsx(XF,{date:s,dateStr:l,initialValue:u,updateDateActual:r,readOnly:n,isToday:l===a},l)})]})),XF=ye.memo(({dateStr:e,initialValue:t,updateDateActual:r,readOnly:n,isToday:a})=>{const[s,l]=ye.useState(t?Number(t).toLocaleString():"");ye.useEffect(()=>{l(t?Number(t).toLocaleString():"")},[t]);const u=()=>{if(n)return;let d=s.toString().toLowerCase().trim().replace(/,/g,""),f=1;d.endsWith("k")?f=1e3:d.endsWith("m")&&(f=1e6);let m=parseFloat(d.replace(/[km]/g,""));f===1&&m>0&&m<1e3&&(m*=1e3);const g=isNaN(m)?null:m*f;g!==t&&r(e,g),g!==null&&l(g.toLocaleString())};return p.jsx("td",{className:`min-w-[100px] w-[100px] h-8 p-0 border-r border-slate-200 dark:border-slate-700 
            ${a?"bg-blue-50/50 dark:bg-blue-900/10 border-x-2 border-x-blue-300":"bg-sky-50/10 dark:bg-sky-900/5"}
            ${n?"":"hover:bg-sky-50/30"}
        `,children:p.jsx("input",{type:"text",className:`w-full h-full text-center text-sm bg-transparent outline-none font-bold text-sky-700 dark:text-sky-300 rounded-sm ${n?"cursor-default opacity-80":"focus:bg-white dark:focus:bg-slate-700 focus:ring-2 focus:ring-inset focus:ring-sky-400"}`,value:s,onChange:d=>l(d.target.value),onBlur:u,onKeyDown:d=>{d.key==="Enter"&&d.target.blur()},placeholder:n?"":"-",disabled:n})})}),JF=x.memo(({dates:e,poManifest:t,monthlyInbound:r,updateDateInbound:n,openManager:a,readOnly:s=!1,todayStr:l})=>p.jsxs("tr",{children:[p.jsx("th",{className:"sticky left-0 min-w-[140px] w-[140px] h-8 bg-white dark:bg-slate-800 border-r border-slate-300 dark:border-slate-600 pl-2 pr-2 text-left text-xs font-bold text-emerald-700 dark:text-emerald-400 z-10 shadow-md",children:p.jsx("div",{className:"w-full h-full flex items-center",children:"Inbound Trucks"})}),e.map(u=>{const d=vt(u),f=t[d]?.items||[],m=f.length>0,g=m?f.length:r[d]||0,v=d===l,y=f.length>0&&f.every(k=>k.status==="received"),_=f.filter(k=>k.status==="received").length;return p.jsx("td",{className:`min-w-[100px] w-[100px] h-8 p-0 border-r border-slate-200 dark:border-slate-700 relative group transition-colors 
                        ${v?"bg-blue-50/50 dark:bg-blue-900/10 border-x-2 border-x-blue-300":""}
                        ${s?"":"hover:bg-slate-50 dark:hover:bg-slate-700"}
                    `,children:m?p.jsx("button",{className:`w-full h-full p-1 flex items-center justify-center ${s?"cursor-default":""}`,onClick:()=>!s&&a(d),title:`${f.length} POs (${_} Received)${s?" (Read Only)":""}`,disabled:s,children:p.jsx("span",{className:`flex items-center gap-1 rounded px-2 py-0.5 text-sm font-bold shadow-sm whitespace-nowrap transition-colors 
                                    ${y?"bg-emerald-100 text-emerald-800 border border-emerald-200 dark:bg-emerald-900/50 dark:text-emerald-300 dark:border-emerald-700":s?"bg-indigo-600/70 text-white/90":"bg-indigo-600 text-white dark:bg-indigo-500 hover:bg-indigo-700"}
                                `,children:y?p.jsxs(p.Fragment,{children:[p.jsx("span",{className:"text-emerald-600 dark:text-emerald-400",children:""}),g," OK"]}):p.jsxs(p.Fragment,{children:[p.jsx(un,{className:"w-3 h-3"}),g," PO"]})})}):p.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[Number(g)>0&&p.jsx(un,{className:"w-3 h-3 text-emerald-500 absolute left-2 pointer-events-none opacity-50"}),p.jsx("input",{className:`w-full h-full text-center text-sm bg-transparent font-bold rounded-sm outline-none
                                        ${g>0?"text-emerald-600 dark:text-emerald-400 pl-4":"text-slate-300"}
                                        ${s?"cursor-default":"focus:bg-emerald-50 dark:focus:bg-slate-700 focus:ring-2 focus:ring-inset focus:ring-emerald-400"}
                                    `,value:g||"",placeholder:s?"":"0",disabled:s,onChange:k=>{const S=k.target.value.replace(/,/g,"");isNaN(S)||n(d,S)},onDoubleClick:()=>!s&&a(d)})]})},d)})]})),QF=x.memo(({dates:e,ledgerMap:t,specs:r,safetyTarget:n,todayStr:a})=>p.jsxs("tr",{className:"bg-slate-200 dark:bg-slate-800 border-t-2 border-slate-300 dark:border-slate-600",children:[p.jsx("th",{className:"sticky left-0 min-w-[140px] w-[140px] h-8 bg-slate-200 dark:bg-slate-800 border-r border-slate-300 dark:border-slate-600 pl-2 pr-2 text-left text-xs font-bold text-slate-800 dark:text-white z-10 shadow-md",children:p.jsx("div",{className:"w-full h-full flex items-center",children:"End Inventory"})}),e.map(s=>{const l=vt(s),u=t[l],d=u?u.balance:null,f=l===a,m=r?.casesPerPallet||100,g=r?.bottlesPerCase||1,v=r?.bottlesPerTruck||2e4,y=d!==null?Math.round(d/g/m):null;let _="-";if(y!==null){const S=Math.floor(v/g/m)||22;if(Math.abs(y)>=S){const j=Math.floor(y/S),N=y%S;_=`${j}T ${N}P`}else _=`${y}`}let k="";return d!==null&&n&&(d<n?k="bg-red-100 dark:bg-red-900/40 text-red-800 dark:text-red-200 font-bold":d>n+v*2?k="bg-orange-100 dark:bg-orange-900/40 text-orange-900 dark:text-orange-200":k="text-slate-700 dark:text-slate-200"),f&&(k+=" bg-blue-50/50 dark:bg-blue-900/10 border-x-2 border-x-blue-300"),p.jsx("td",{className:`min-w-[100px] w-[100px] h-8 p-0 border-r border-slate-300 dark:border-slate-600 ${k}`,children:p.jsx("div",{className:"w-full h-full flex items-center justify-center",children:_})},l)})]})),eV=x.memo(({dates:e,ledgerMap:t,monthlyDemand:r,specs:n,todayStr:a})=>p.jsxs("tr",{className:"border-t border-slate-300 dark:border-slate-600 bg-slate-200 dark:bg-slate-800",children:[p.jsx("th",{className:"sticky left-0 min-w-[140px] w-[140px] h-8 bg-slate-300 dark:bg-slate-800 border-r border-slate-400 dark:border-slate-600 pl-2 pr-2 text-left text-xs font-bold text-slate-500 uppercase z-10 shadow-md",children:p.jsx("div",{className:"w-full h-full flex items-center",children:"Coverage (DOS)"})}),e.map(s=>{const l=vt(s),u=t[l],d=u?u.balance:0,f=1+(n?.scrapPercentage||0)/100,m=l===a;let g=0,v=d,y=!1;for(let j=1;j<=30;j++){const N=new Date(s);N.setDate(N.getDate()+j);const E=vt(N),C=(r[E]||0)*n.bottlesPerCase*f;if(C===0){g+=1,j===30&&(y=!0);continue}if(v>=C)v-=C,g+=1;else{g+=v/C,v=0;break}}const _=g.toFixed(1),k=parseFloat(_);let S="text-slate-400";return d>0&&(k<2?S="bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300 font-bold":k<4?S="bg-yellow-100 dark:bg-yellow-900/50 text-yellow-700 dark:text-yellow-300 font-bold":S="bg-green-100 dark:bg-green-900/40 text-green-700 dark:text-green-300 font-bold"),m&&(S+=" bg-blue-50/50 dark:bg-blue-900/10 border-x-2 border-x-blue-300"),p.jsx("td",{className:`min-w-[100px] w-[100px] h-8 p-0 text-center text-xs border-r border-slate-300 dark:border-slate-600 ${S}`,children:p.jsx("div",{className:"w-full h-full flex items-center justify-center",children:y?"":_})},l)})]}));function tV({monthlyDemand:e,monthlyProductionActuals:t,monthlyInbound:r,updateDateDemand:n,updateDateDemandBulk:a,updateDateActual:s,updateDateInbound:l,dailyLedger:u=[],specs:d,userProfile:f,startDate:m,readOnly:g=!1,poManifest:v={}}){const{updateDailyManifest:y,removeOrder:_}=Jn(),[k,S]=x.useState({isOpen:!1,date:null}),j=Hr(new Date),N=x.useMemo(()=>{const L=[],$=m?new Date(m):new Date;for(let q=0;q<60;q++)L.push(sr($,q));return L},[m]),E=x.useMemo(()=>u.reduce((L,$)=>(L[$.date]=$,L),{}),[u]),C=L=>{g||S({isOpen:!0,date:L})},A=()=>{S({isOpen:!1,date:null})},T=L=>{k.date&&y(k.date,L)},P=L=>{k.date&&_(k.date,L)},M=()=>p.jsx(DC,{isOpen:k.isOpen,onClose:A,date:k.date||"",orders:k.date?v[k.date]?.items||[]:[],monthlyInbound:r,updateDateInbound:l,onSave:T,onDelete:P,specs:d}),R=x.useMemo(()=>{if(!d||!d.bottlesPerTruck||!d.bottlesPerCase)return null;let L=0,$=0;const q=d.bottlesPerTruck/d.bottlesPerCase;N.forEach(ae=>{const U=Hr(ae),Y=e[U];Y&&(L+=Number(Y));const ee=v[U],le=ee?.items?.length>0?ee.items.length:r[U]||0;$+=Number(le)});const V=Math.ceil(L/q),Q=$-V;return{totalCases:L,trucksRequired:V,totalScheduled:$,gap:Q}},[N,e,r,v,d]);return p.jsxs("div",{className:"relative",children:[R&&p.jsxs("div",{className:"hidden md:flex sticky left-0 right-0 mb-2 mx-1 p-1.5 bg-slate-900 text-white rounded-lg shadow-md items-center justify-between z-10 font-mono text-xs uppercase tracking-wider",children:[p.jsxs("div",{className:"flex gap-4",children:[p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"text-slate-400 text-[8px]",children:"Total Plan"}),p.jsxs("span",{className:"font-bold text-sm text-blue-200",children:[R.totalCases.toLocaleString()," ",p.jsx("span",{className:"text-[8px] text-slate-500",children:"cs"})]})]}),p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"text-slate-400 text-[8px]",children:"Est. Trucks"}),p.jsxs("span",{className:"font-bold text-sm",children:[R.trucksRequired," ",p.jsx("span",{className:"text-[8px] text-slate-500",children:"trks"})]})]})]}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsxs("div",{className:"flex flex-col text-right",children:[p.jsx("span",{className:"text-slate-400 text-[8px]",children:"Scheduled"}),p.jsx("span",{className:"font-bold text-sm text-emerald-400",children:R.totalScheduled})]}),p.jsxs("div",{className:`flex flex-col items-center justify-center px-3 py-0.5 rounded border ${R.gap<0?"bg-red-500/20 border-red-500 text-red-200":"bg-emerald-500/20 border-emerald-500 text-emerald-200"}`,children:[p.jsx("span",{className:"text-[8px] opacity-75",children:"Gap"}),p.jsxs("span",{className:"font-black text-lg leading-none",children:[R.gap>0?"+":"",R.gap]})]})]})]}),p.jsx("div",{className:"md:hidden space-y-4 pb-20",children:N.slice(0,30).map(L=>{const $=Hr(L);return p.jsx(KF,{date:L,todayStr:j,demandVal:e[$],updateDateDemand:n,actualVal:t[$],updateDateActual:s,manifestItems:v[$]?.items||[],monthlyInboundVal:r[$],updateDateInbound:l,ledgerItem:E[$],openManager:C,readOnly:g},$)})}),p.jsx("div",{className:"hidden md:block overflow-x-auto pb-4 relative custom-scrollbar",children:p.jsxs("table",{className:"w-full border-collapse text-sm",children:[p.jsx(VF,{dates:N,todayStr:j}),p.jsxs("tbody",{children:[p.jsx(ZF,{dates:N,monthlyDemand:e,updateDateDemand:n,updateDateDemandBulk:a,readOnly:g,todayStr:j}),p.jsx(WF,{dates:N,monthlyProductionActuals:t,updateDateActual:s,readOnly:g,todayStr:j}),p.jsx(JF,{dates:N,poManifest:v,monthlyInbound:r,updateDateInbound:l,openManager:C,readOnly:g,todayStr:j}),p.jsx(QF,{dates:N,ledgerMap:E,specs:d,safetyTarget:d?.bottles_per_truck?d.bottles_per_truck*2:0,todayStr:j}),p.jsx(eV,{dates:N,ledgerMap:E,monthlyDemand:e,specs:d,todayStr:j})]})]})}),M()]})}const rV=(e,t)=>{const r={};e.forEach(a=>{r[a.date]||(r[a.date]=[]),r[a.date].push(a)});const n=[];return Object.entries(r).forEach(([a,s])=>{s.sort((f,m)=>{const g=f.po?String(f.po).replace(/\D/g,""):"",v=m.po?String(m.po).replace(/\D/g,""):"";return g&&v?Number(g)-Number(v):(f.po||"").localeCompare(m.po||"")});let[l,u]=(t.schedulerSettings?.shiftStartTime||"06:00").split(":").map(Number),d=new Date;d.setHours(l,u,0,0),s.forEach(f=>{const m=f.sku||Object.keys(t.bottleDefinitions)[0],g=t.bottleDefinitions[m],v=new Date(d);v.getMinutes()>=30&&v.setHours(v.getHours()+1),v.setMinutes(0);const y=v.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"});if(n.push({...f,time:y}),!g)return;const _=(f.qty||1)*(g.bottlesPerTruck||2e4),k=g.productionRate||1e3,j=_/k*60;d.setMinutes(d.getMinutes()+j)})}),n};function nV({isOpen:e,onClose:t}){const{addOrdersBulk:r}=Jn(),{schedulerSettings:n}=Xn(),{productMap:a}=ur(),[s,l]=x.useState(1),[u,d]=x.useState(""),[f,m]=x.useState([]),[g,v]=x.useState({po:-1,date:-1,qty:-1,supplier:-1,sku:-1}),y=A=>{const T=A.trim().split(/\r?\n/);if(T.length===0)return[];const R=T[0].includes("	")?"	":",";return T.map(L=>L.split(R).map($=>$.trim()))},_=()=>{if(s===1){const A=y(u);m(A.slice(0,5)),l(2)}else s===2&&N()},k=A=>{if(!A)return null;const T=A.trim();if(T.match(/^\d{4}-\d{2}-\d{2}$/))return T;const P=T.split(/[\-\s\/]/);if(P.length===2||P.length===3){const R={jan:0,feb:1,mar:2,apr:3,may:4,jun:5,jul:6,aug:7,sep:8,oct:9,nov:10,dec:11};let L,$,q=new Date().getFullYear();const V=P[0].toLowerCase(),Q=P[1].toLowerCase();if(P[2]&&P[2].toLowerCase(),R[Q]!==void 0?(L=parseInt(V),$=R[Q]):R[V]!==void 0&&($=R[V],L=parseInt(Q)),L&&$!==void 0)return new Date(q,$,L).toISOString().split("T")[0]}const M=new Date(T);return isNaN(M.getTime())?null:M.toISOString().split("T")[0]},S=A=>A?A.match(/^\d+(\.\d+)?[eE]\+\d+$/)?Number(A).toLocaleString("fullwide",{useGrouping:!1}):A:"",j=A=>{if(!A)return 0;const T=String(A).replace(/[^0-9.\-]/g,""),P=parseFloat(T);return isNaN(P)?0:P},N=()=>{const A=y(u);let T=0;const P=A.map(R=>{const L=R[g.date],$=k(L);return $?{id:crypto.randomUUID(),po:S(R[g.po]),date:$,qty:j(R[g.qty]),supplier:R[g.supplier]||"Unknown",sku:R[g.sku]||g.defaultSku||"",status:"planned"}:null}).filter(R=>R&&R.po&&R.date?(T++,!0):!1),M=rV(P,{bottleDefinitions:a,schedulerSettings:n});r(M),alert(`Successfully imported ${T} orders! Check the Planning Grid for blue badges.`),t(),d(""),l(1)},E=()=>p.jsxs("div",{className:"space-y-4",children:[p.jsxs("p",{className:"text-sm text-gray-500",children:["Copy your rows from Excel or SAP and paste them below. Make sure to include the ",p.jsx("strong",{children:"PO Number"})," and ",p.jsx("strong",{children:"Delivery Date"}),"."]}),p.jsx("textarea",{className:"w-full h-64 p-3 border rounded-lg font-mono text-xs bg-gray-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 focus:ring-2 focus:ring-blue-500",placeholder:`Example:
450001234	${new Date().toISOString().split("T")[0]}	44000	Supplier A
450001235	${new Date(Date.now()+864e5).toISOString().split("T")[0]}	22000	Supplier B`,value:u,onChange:A=>d(A.target.value)})]}),C=()=>p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 text-sm rounded-lg",children:["Identify the columns. We found ",p.jsxs("strong",{children:[y(u).length," rows"]}),"."]}),p.jsx("div",{className:"overflow-x-auto border rounded-lg dark:border-gray-700",children:p.jsxs("table",{className:"w-full text-xs text-left",children:[p.jsx("thead",{className:"bg-gray-100 dark:bg-gray-800 text-gray-500 uppercase",children:p.jsxs("tr",{children:[f[0]?.map((A,T)=>p.jsxs("th",{className:"p-2 border-b dark:border-gray-700 min-w-[120px]",children:[p.jsxs("div",{className:"mb-2",children:["Column ",T+1]}),p.jsxs("select",{className:"w-full p-1 border rounded bg-white dark:bg-gray-700 dark:border-gray-600",value:Object.keys(g).find(P=>g[P]===T)||"",onChange:P=>{const M=P.target.value;v(R=>{const L={...R};if(!M){const $=Object.keys(L).find(q=>L[q]===T);return $&&(L[$]=-1),L}return L[M]=T,L})},children:[p.jsx("option",{value:"",children:"-- Ignore --"}),p.jsx("option",{value:"po",children:"PO Number *"}),p.jsx("option",{value:"date",children:"Date *"}),p.jsx("option",{value:"qty",children:"Quantity"}),p.jsx("option",{value:"supplier",children:"Supplier"}),p.jsx("option",{value:"sku",children:"Material / SKU"})]})]},T)),g.qty!==-1&&p.jsx("th",{className:"p-2 border-b dark:border-gray-700 w-[100px] bg-blue-50 dark:bg-blue-900/10",children:p.jsx("div",{className:"mb-2 text-blue-600",children:"Detected Qty"})})]})}),p.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:f.map((A,T)=>p.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[A.map((P,M)=>p.jsx("td",{className:`p-2 font-mono truncate max-w-[150px] ${Object.values(g).includes(M)?"font-bold text-gray-800 dark:text-white":"text-gray-400"}`,children:P},M)),g.qty!==-1&&p.jsx("td",{className:"p-2 font-mono font-bold text-blue-600 bg-blue-50/50",children:A[g.qty]?j(A[g.qty]).toLocaleString():"-"})]},T))})]})}),p.jsx("p",{className:"text-xs text-red-500",children:"* Required Fields"})]});return p.jsxs(Ot,{open:e,onClose:t,className:"relative z-50",children:[p.jsx("div",{className:"fixed inset-0 bg-black/30","aria-hidden":"true"}),p.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:p.jsxs(Ot.Panel,{className:"w-full max-w-4xl bg-white dark:bg-gray-900 rounded-2xl shadow-xl overflow-hidden flex flex-col max-h-[90vh]",children:[p.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800/50",children:[p.jsxs(Ot.Title,{className:"text-lg font-bold flex items-center gap-2 text-gray-900 dark:text-white",children:[p.jsx(l6,{className:"w-5 h-5 text-blue-600"}),"Import Purchase Orders"]}),p.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:p.jsx(Zs,{className:"w-6 h-6"})})]}),p.jsxs("div",{className:"p-6 overflow-y-auto flex-1",children:[s===1&&E(),s===2&&C()]}),p.jsxs("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-800/50 border-t border-gray-200 dark:border-gray-700 flex justify-end space-x-3",children:[s===2&&p.jsx("button",{onClick:()=>l(1),className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:"Back"}),p.jsx("button",{onClick:_,disabled:u.trim().length===0||s===2&&(g.po===-1||g.date===-1),className:"px-6 py-2 bg-blue-600 text-white font-bold rounded-lg shadow hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:s===1?"Next: Map Columns":`Import ${y(u).length} Orders`})]})]})})]})}function aV({isOpen:e,onClose:t,mrpResults:r}){const{poManifest:n}=Jn(),a=r||{},{activeSku:s}=Xn(),[l,u]=x.useState({start:"",end:""}),[d,f]=x.useState("new"),m=x.useRef(!1),g=x.useMemo(()=>{const A=[];return Object.entries(n).sort().forEach(([T,P])=>{P.items.forEach(M=>{A.push({...M,date:T})})}),A},[n]),v=x.useMemo(()=>g.filter(A=>new Date(A.date)>=new Date().setHours(0,0,0,0)),[g]);x.useEffect(()=>{if(e&&a?.trucksToCancel>0&&y.size===0){const T=v.filter(P=>P.status==="confirmed").sort((P,M)=>new Date(M.date)-new Date(P.date)).slice(0,a.trucksToCancel);if(T.length>0){const P=new Set(T.map(M=>M.po+M.date));m.current=!0,_(P),f("cancel"),setTimeout(()=>m.current=!1,500)}}},[e,a?.trucksToCancel]);const[y,_]=x.useState(new Set);x.useEffect(()=>{e||(_(new Set),m.current=!1)},[e]);const k=A=>{const T=new Set(y);T.has(A)?T.delete(A):T.add(A),_(T)},S=()=>{const A=v.filter(R=>y.has(R.po+R.date));if(A.length===0)return"";const T=A.map((R,L)=>{const $=R.status==="cancelled"?"[CANCEL] ":"",q=R.time?` @ ${ru(R.time)}`:" @ TBD";return`${L+1}. ${$}PO #${R.po}: ${R.date}${q} (1 Truck)`}).join(`
`),P=`${A.length} Truck${A.length!==1?"s":""}`;return(N[d]||N.new).body(T,P)},j=()=>{y.size===v.length?_(new Set):_(new Set(v.map(A=>A.po+A.date)))},N={new:{subject:(A,T)=>`New Orders for Approval - ${s}`,body:(A,T)=>`Hello Team,

Please confirm the following NEW orders for ${s}:

${A}

Total: ${T}

Please configure delivery appointments for each.

Thanks,
Planner`},add:{subject:(A,T)=>`URGENT: ADD to Schedule (Week of ${T.start}) - ${s}`,body:(A,T)=>`Hello Team,

Please ADD the following loads to our existing schedule for ${s}:

${A}

Total: ${T}

This is an addition to the already confirmed plan.

Thanks,
Planner`},cancel:{subject:(A,T)=>`URGENT: CANCELLATION REQUEST - ${A} Orders - ${s}`,body:(A,T)=>`Hello Team,

Please CANCEL the following purchase orders immediately:

${A}

Total: ${T}

Please confirm cancellation.

Thanks,
Planner`}};x.useEffect(()=>{if(y.size===0||m.current)return;const A=v.filter(R=>y.has(R.po+R.date));if(A.some(R=>R.status==="cancelled")){f("cancel");return}const P=new Set(A.map(R=>R.date)),M=g.some(R=>P.has(R.date)&&!y.has(R.po+R.date)&&R.status==="confirmed");f(M?"add":"new")},[y,v,g]);const E=()=>{const A=v.filter(P=>y.has(P.po+P.date));return(N[d]||N.new).subject(A.length,{start:A[0]?.date||"..."})},C=()=>{const A=`Subject: ${E()}

${S()}`;navigator.clipboard.writeText(A),alert("Email copied to clipboard!")};return p.jsxs(Ot,{open:e,onClose:t,className:"relative z-50",children:[p.jsx("div",{className:"fixed inset-0 bg-black/30","aria-hidden":"true"}),p.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:p.jsxs(Ot.Panel,{className:"w-full max-w-5xl bg-white dark:bg-gray-900 rounded-2xl shadow-xl overflow-hidden flex flex-col max-h-[90vh]",children:[p.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800/50",children:[p.jsxs(Ot.Title,{className:"text-lg font-bold flex items-center gap-2 text-gray-900 dark:text-white",children:[p.jsx(P5,{className:"w-5 h-5 text-indigo-600"}),"Email Supplier"]}),p.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:p.jsx(Zs,{className:"w-6 h-6"})})]}),p.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-6 py-3 flex items-center gap-4",children:[p.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:"Email Type:"}),p.jsx("div",{className:"flex gap-2",children:["new","add","cancel"].map(A=>p.jsx("button",{onClick:()=>f(A),className:`px-3 py-1 rounded-full text-xs font-bold capitalize transition-colors ${d===A?"bg-blue-600 text-white shadow-sm":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 border border-gray-200 dark:border-gray-600 hover:bg-gray-50"}`,children:A==="new"?"New Orders":A==="add"?"Add to Schedule":"Cancellation"},A))})]}),p.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[p.jsxs("div",{className:"w-1/2 border-r border-gray-200 dark:border-gray-700 flex flex-col",children:[p.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800/30 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[p.jsx("h3",{className:"text-xs font-bold uppercase text-gray-500",children:"Available Orders"}),p.jsx("button",{onClick:j,className:"text-xs text-blue-600 font-bold hover:underline",children:y.size===v.length?"Deselect All":"Select All"})]}),p.jsxs("div",{className:"overflow-y-auto p-2 space-y-2 flex-1",children:[v.length===0&&p.jsx("p",{className:"text-center text-sm text-gray-400 mt-10",children:"No future orders found."}),v.map((A,T)=>{const P=A.po+A.date,M=y.has(P);return p.jsxs("div",{onClick:()=>k(P),className:`p-3 rounded-lg border cursor-pointer transition-all flex justify-between items-center ${M?"bg-indigo-50 border-indigo-200 dark:bg-indigo-900/30 dark:border-indigo-700":"bg-white border-gray-100 hover:border-gray-300 dark:bg-gray-800 dark:border-gray-700"}`,children:[p.jsxs("div",{children:[p.jsxs("div",{className:"font-bold text-sm text-gray-800 dark:text-gray-200",children:["PO #",A.po]}),p.jsxs("div",{className:"text-xs text-gray-500",children:[A.date,"  ",A.qty?A.qty.toLocaleString():"-"," units"]})]}),M&&p.jsx("div",{className:"w-4 h-4 bg-indigo-600 rounded-full flex items-center justify-center text-white text-[10px]",children:""})]},T)})]})]}),p.jsxs("div",{className:"w-1/2 flex flex-col bg-gray-50 dark:bg-gray-900/50",children:[p.jsx("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700",children:p.jsx("h3",{className:"text-xs font-bold uppercase text-gray-500",children:"Email Preview"})}),p.jsx("div",{className:"flex-1 p-4",children:p.jsx("textarea",{className:"w-full h-full p-4 text-sm font-mono border rounded-lg resize-none focus:ring-2 focus:ring-indigo-500 bg-white dark:bg-gray-800 dark:border-gray-700 dark:text-gray-300",value:S(),readOnly:!0})}),p.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 flex justify-end",children:p.jsxs("button",{onClick:C,className:"flex items-center gap-2 bg-indigo-600 hover:bg-indigo-500 text-white px-4 py-2 rounded-lg font-bold shadow-sm transition-all active:scale-95",children:[p.jsx(Sy,{className:"w-4 h-4"}),"Copy to Clipboard"]})})]})]})]})})]})}function iV({isOpen:e,onClose:t}){const{poManifest:r}=Jn(),n=x.useMemo(()=>{const k=[];return Object.entries(r).forEach(([S,j])=>{j.items.forEach(N=>{k.push({...N,date:S})})}),k.sort((S,j)=>S.date.localeCompare(j.date))},[r]),a=n.filter(k=>new Date(k.date)>=new Date().setHours(0,0,0,0)),[s,l]=x.useState(`YMS_Import_${new Date().toISOString().slice(0,10)}`),[u,d]=x.useState(!0),f=[{id:"date",label:"Expected Arrival Date"},{id:"po",label:"PO Number"},{id:"qty",label:"Quantity"},{id:"supplier",label:"Supplier Name"},{id:"status",label:"Status"},{id:"carrier",label:"Carrier (Empty)"},{id:"trailer_type",label:"Trailer Type (Dry Van)"}],[m,g]=x.useState(f.map(k=>k.id)),v=k=>{m.includes(k)?g(S=>S.filter(j=>j!==k)):g(S=>[...S,k])},y=()=>{const k=[];return u&&k.push(m.map(S=>{const j=f.find(N=>N.id===S);return j?j.label:S}).join(",")),a.forEach(S=>{const j=m.map(N=>{switch(N){case"carrier":return"";case"trailer_type":return"Dry Van";case"qty":return S.qty||0;default:return S[N]||""}});k.push(j.join(","))}),k.join(`
`)},_=()=>{const k=y(),S=new Blob([k],{type:"text/csv;charset=utf-8;"}),j=document.createElement("a");if(j.download!==void 0){const N=URL.createObjectURL(S);j.setAttribute("href",N),j.setAttribute("download",`${s}.csv`),j.style.visibility="hidden",document.body.appendChild(j),j.click(),document.body.removeChild(j)}t()};return p.jsxs(Ot,{open:e,onClose:t,className:"relative z-50",children:[p.jsx("div",{className:"fixed inset-0 bg-black/30","aria-hidden":"true"}),p.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:p.jsxs(Ot.Panel,{className:"w-full max-w-2xl bg-white dark:bg-gray-900 rounded-2xl shadow-xl overflow-hidden flex flex-col",children:[p.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800/50",children:[p.jsxs(Ot.Title,{className:"text-lg font-bold flex items-center gap-2 text-gray-900 dark:text-white",children:[p.jsx(Jb,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"}),"Export for YMS"]}),p.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:p.jsx(Zs,{className:"w-6 h-6"})})]}),p.jsxs("div",{className:"p-6 space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Filename"}),p.jsxs("div",{className:"flex items-center",children:[p.jsx("input",{type:"text",value:s,onChange:k=>l(k.target.value),className:"w-full p-2 border rounded-l-lg dark:bg-gray-800 dark:border-gray-600"}),p.jsx("span",{className:"bg-gray-100 dark:bg-gray-700 px-3 py-2 border border-l-0 rounded-r-lg text-gray-500 dark:border-gray-600",children:".csv"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Include Columns"}),p.jsx("div",{className:"grid grid-cols-2 gap-3",children:f.map(k=>p.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer p-2 rounded hover:bg-gray-50 dark:hover:bg-gray-800 border dark:border-gray-700",children:[p.jsx("input",{type:"checkbox",checked:m.includes(k.id),onChange:()=>v(k.id),className:"rounded text-blue-600 focus:ring-blue-500"}),p.jsx("span",{className:"text-sm font-medium dark:text-gray-200",children:k.label})]},k.id))})]}),p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("span",{className:"text-sm font-medium dark:text-gray-300",children:"Include Headers?"}),p.jsx(FF,{checked:u,onChange:d,className:`${u?"bg-blue-600":"bg-gray-200"} relative inline-flex h-6 w-11 items-center rounded-full transition-colors`,children:p.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition ${u?"translate-x-6":"translate-x-1"}`})})]}),p.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-2 rounded text-xs font-mono text-gray-500 overflow-x-auto whitespace-pre",children:[u&&m.map(k=>f.find(S=>S.id===k)?.label).join(","),`
`,n.length>0&&m.map(k=>k==="carrier"?'""':n[0][k]||'""').join(","),n.length===0&&"(No data to export)","..."]})]}),p.jsx("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-800/50 border-t border-gray-200 dark:border-gray-700 flex justify-end",children:p.jsx("button",{onClick:_,disabled:n.length===0,className:"px-6 py-2 bg-gray-900 dark:bg-white dark:text-gray-900 text-white font-bold rounded-lg shadow hover:opacity-90 transition-all disabled:opacity-50",children:"Download CSV"})})]})})]})}function sV({isOpen:e,onClose:t,order:r,date:n}){const{addOrdersBulk:a,updateOrder:s,moveOrder:l}=Jn(),{productMap:u}=ur(),d=Object.keys(u),[f,m]=x.useState({po:"",date:"",qty:"",supplier:"",carrier:"",sku:""});x.useEffect(()=>{e&&m(r?{po:r.po,date:n||r.date,time:r.time||"",qty:r.qty,supplier:r.supplier,carrier:r.carrier||"",sku:r.sku||""}:{po:"",date:n||new Date().toISOString().split("T")[0],time:"",qty:"",supplier:"",carrier:"",sku:""})},[e,r,n]);const g=()=>{if(!f.po||!f.date||!f.qty){alert("PO, Date, and Quantity are required.");return}const v={id:r?.id||crypto.randomUUID(),po:f.po,date:f.date,time:f.time,qty:Number(f.qty),supplier:f.supplier||"Unknown",carrier:f.carrier,sku:f.sku};r?f.date!==r.date?l(r.date,f.date,v):s(f.date,v):a([v]),t()};return p.jsxs(Ot,{open:e,onClose:t,className:"relative z-50",children:[p.jsx("div",{className:"fixed inset-0 bg-black/30","aria-hidden":"true"}),p.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:p.jsxs(Ot.Panel,{className:"w-full max-w-md bg-white dark:bg-gray-800 rounded-xl shadow-xl overflow-hidden",children:[p.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center",children:[p.jsx(Ot.Title,{className:"text-lg font-bold text-gray-900 dark:text-white",children:r?"Edit Order":"New Purchase Order"}),p.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500",children:p.jsx(Zs,{className:"w-5 h-5"})})]}),p.jsxs("div",{className:"p-6 space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Material / SKU"}),p.jsxs("select",{className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:f.sku,onChange:v=>m({...f,sku:v.target.value}),children:[p.jsx("option",{value:"",children:"-- Any / All --"}),d.map(v=>p.jsx("option",{value:v,children:v},v))]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"PO Number"}),p.jsx("input",{type:"text",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:f.po,onChange:v=>m({...f,po:v.target.value}),autoFocus:!0})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Delivery Date"}),p.jsxs("div",{className:"relative",children:[p.jsx(h6,{className:"absolute left-2 top-2.5 w-4 h-4 text-gray-400"}),p.jsx("input",{type:"date",className:"w-full pl-8 p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:f.date,onChange:v=>m({...f,date:v.target.value})})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Time (Hour)"}),p.jsxs("select",{className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:f.time,onChange:v=>m({...f,time:v.target.value}),children:[p.jsx("option",{value:"",children:"-- TBD --"}),Array.from({length:24}).map((v,y)=>{const _=`${String(y).padStart(2,"0")}:00`,k=y>=12?"PM":"AM",j=`${y%12||12}:00 ${k}`;return p.jsx("option",{value:_,children:j},_)})]})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Quantity"}),p.jsx("input",{type:"number",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:f.qty,onChange:v=>m({...f,qty:v.target.value})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Supplier"}),p.jsx("input",{type:"text",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:f.supplier,onChange:v=>m({...f,supplier:v.target.value})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Carrier (Optional)"}),p.jsxs("div",{className:"relative",children:[p.jsx(un,{className:"absolute left-2 top-2.5 w-4 h-4 text-gray-400"}),p.jsx("input",{type:"text",className:"w-full pl-8 p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:f.carrier,onChange:v=>m({...f,carrier:v.target.value})})]})]})]}),p.jsxs("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-700/50 flex justify-end gap-2",children:[p.jsx("button",{onClick:t,className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800",children:"Cancel"}),p.jsx("button",{onClick:g,className:"px-4 py-2 bg-blue-600 text-white text-sm font-bold rounded hover:bg-blue-500",children:"Save Order"})]})]})})]})}function oV({isOpen:e,onClose:t}){const{poManifest:r,deleteOrdersBulk:n,bulkUpdateOrders:a}=Jn(),{productMap:s}=ur(),[l,u]=x.useState(""),[d,f]=x.useState(new Set),[m,g]=x.useState(!1),[v,y]=x.useState(null),_=L=>{y(L),g(!0)},k=()=>{y(null),g(!0)},S=x.useMemo(()=>{const L=[];return Object.entries(r).forEach(([$,q])=>{q.items&&q.items.forEach(V=>{L.push({...V,date:$})})}),L.sort(($,q)=>{const V=new Date(q.date)-new Date($.date);if(V!==0)return V;const Q=ae=>{if(!ae||ae==="00:00")return 99999;const[U,Y]=ae.split(":").map(Number);return U*60+(Y||0)};return Q($.time)-Q(q.time)})},[r]),j=x.useMemo(()=>{if(!l)return S;const L=l.toLowerCase();return S.filter($=>($.po||"").toLowerCase().includes(L)||($.supplier||"").toLowerCase().includes(L)||($.date||"").includes(L))},[S,l]),N=L=>{const $=new Set(d);$.has(L)?$.delete(L):$.add(L),f($)},E=()=>{if(d.size===j.length&&j.length>0)f(new Set);else{const L=new Set;j.forEach($=>L.add($.id)),f(L)}},[C,A]=x.useState(null),T=()=>{d.size!==0&&A({title:`Delete ${d.size} Orders?`,message:`Are you sure you want to PERMANENTLY delete ${d.size} selected orders? This action cannot be undone.`,type:"danger",onConfirm:()=>{const L=S.filter($=>d.has($.id));n(L),f(new Set),A(null)}})},P=L=>{if(!L||d.size===0||!confirm(`Set SKU to "${L}" for ${d.size} orders?`))return;const $=S.filter(q=>d.has(q.id)).map(q=>({...q,sku:L}));a($),f(new Set)},M=L=>{const $=parseInt(L);if(isNaN($)||$<2e3||$>2100){alert("Invalid Year");return}if(!confirm(`Update YEAR to "${$}" for ${d.size} orders? (Month/Day will be preserved)`))return;const q=S.filter(V=>d.has(V.id)).map(V=>{const Q=V.date.split("-");if(Q.length!==3)return V;const ae=`${$}-${Q[1]}-${Q[2]}`;return{...V,date:ae}});a(q),f(new Set)},R=L=>{if(!confirm(`Update status to "${L.toUpperCase()}" for ${d.size} orders?`))return;const $=S.filter(q=>d.has(q.id)).map(q=>({...q,status:L}));a($),f(new Set)};return p.jsxs(Ot,{open:e,onClose:t,className:"relative z-50",children:[p.jsx("div",{className:"fixed inset-0 bg-black/50","aria-hidden":"true"}),p.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:p.jsxs(Ot.Panel,{className:"w-full max-w-5xl h-[80vh] bg-white dark:bg-gray-900 rounded-2xl shadow-2xl flex flex-col overflow-hidden",children:[p.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"bg-purple-100 dark:bg-purple-900 p-2 rounded-lg",children:p.jsx($5,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),p.jsxs("div",{children:[p.jsx(Ot.Title,{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Global Procurement Manager"}),p.jsx("p",{className:"text-sm text-gray-500",children:"Manage all Inbound Orders across all dates."})]}),C&&p.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/20 backdrop-blur-sm p-4 animate-fadeIn",children:p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700 p-6 w-full max-w-sm flex flex-col items-center text-center transform transition-all scale-100",children:[p.jsx("div",{className:`p-4 rounded-full mb-4 ${C.type==="danger"?"bg-red-100 text-red-600":"bg-blue-100 text-blue-600"}`,children:C.type==="danger"?p.jsx(da,{className:"w-8 h-8"}):p.jsx(oa,{className:"w-8 h-8"})}),p.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:C.title}),p.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6 leading-relaxed",children:C.message}),p.jsxs("div",{className:"flex gap-3 w-full",children:[p.jsx("button",{onClick:()=>A(null),className:"flex-1 px-4 py-2 rounded-lg border border-gray-300 text-gray-700 font-bold hover:bg-gray-50 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),p.jsx("button",{onClick:()=>C.onConfirm(),className:`flex-1 px-4 py-2 rounded-lg text-white font-bold shadow-lg transition-transform hover:scale-105 ${C.type==="danger"?"bg-red-600 hover:bg-red-700 shadow-red-500/30":"bg-emerald-600 hover:bg-emerald-700 shadow-emerald-500/30"}`,children:"Confirm"})]})]})})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("button",{onClick:k,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white hover:bg-blue-500 rounded-lg font-bold transition-colors shadow-sm",children:[p.jsx(l0,{className:"w-5 h-5"}),"New Order"]}),p.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 ml-4",children:p.jsx(Zs,{className:"w-6 h-6"})})]})]}),p.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex flex-col md:flex-row gap-4 items-center justify-between",children:[p.jsxs("div",{className:"relative w-full max-w-md",children:[p.jsx($6,{className:"absolute left-3 top-2.5 w-5 h-5 text-gray-400"}),p.jsx("input",{type:"text",placeholder:"Search PO, Supplier, or Date...",className:"w-full pl-10 pr-4 py-2 border rounded-lg dark:bg-gray-800 dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none",value:l,onChange:L=>u(L.target.value)})]}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsxs("span",{className:"text-sm text-gray-500",children:[d.size," selected"]}),d.size>0&&p.jsx("div",{className:"flex items-center gap-2",children:p.jsxs("div",{className:"relative group",children:[p.jsx("button",{className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-sm font-bold shadow-sm hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",children:"Bulk Actions"}),p.jsx("div",{className:"absolute top-full left-0 pt-2 w-48 z-50 hidden group-hover:block",children:p.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:p.jsxs("div",{className:"p-2",children:[p.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase px-2 py-1",children:"Set Status"}),p.jsxs("button",{onClick:()=>R("received"),className:"w-full text-left px-2 py-2 hover:bg-emerald-50 dark:hover:bg-emerald-900/30 rounded text-sm text-emerald-700 dark:text-emerald-400 font-bold flex items-center gap-2",children:[p.jsx("span",{children:""})," Mark as Received"]}),p.jsx("button",{onClick:()=>R("confirmed"),className:"w-full text-left px-2 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded text-sm text-blue-700 dark:text-blue-400 font-bold",children:"Mark as Confirmed"}),p.jsx("button",{onClick:()=>R("ordered"),className:"w-full text-left px-2 py-2 hover:bg-yellow-50 dark:hover:bg-yellow-900/30 rounded text-sm text-yellow-700 dark:text-yellow-400",children:"Mark as Ordered"}),p.jsx("button",{onClick:()=>R("cancelled"),className:"w-full text-left px-2 py-2 hover:bg-red-50 dark:hover:bg-red-900/30 rounded text-sm text-red-600 dark:text-red-400 font-bold",children:"Mark for Cancellation"}),p.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700 my-1"}),p.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase px-2 py-1",children:"Set properties"}),p.jsx("button",{onClick:()=>{const L=prompt("Enter Target Year (e.g. 2025):",new Date().getFullYear());L&&M(L)},className:"w-full text-left px-2 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded text-sm text-gray-700 dark:text-gray-200",children:"Set Year..."}),p.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700 my-1"}),p.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase px-2 py-1",children:"Assign SKU"}),Object.keys(s).map(L=>p.jsx("button",{onClick:()=>P(L),className:"w-full text-left px-2 py-1.5 hover:bg-purple-50 dark:hover:bg-purple-900/30 rounded text-sm text-gray-700 dark:text-gray-200",children:L},L))]})})})]})}),p.jsxs("button",{onClick:T,disabled:d.size===0,className:"flex items-center gap-2 px-4 py-2 bg-red-50 text-red-600 hover:bg-red-100 rounded-lg font-bold disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[p.jsx(da,{className:"w-5 h-5"}),"Delete"]})]})]}),p.jsx("div",{className:"flex-1 overflow-auto",children:p.jsxs("table",{className:"w-full text-left border-collapse",children:[p.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800 sticky top-0 z-10 shadow-sm",children:p.jsxs("tr",{children:[p.jsx("th",{className:"p-4 w-12 border-b dark:border-gray-700",children:p.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500",checked:j.length>0&&d.size===j.length,onChange:E})}),p.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase border-b dark:border-gray-700",children:"Date"}),p.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase border-b dark:border-gray-700",children:"Time"}),p.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase border-b dark:border-gray-700",children:"PO Number"}),p.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase border-b dark:border-gray-700",children:"SKU"}),p.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase border-b dark:border-gray-700",children:"Supplier"}),p.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase border-b dark:border-gray-700",children:"Trucks"}),p.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase border-b dark:border-gray-700",children:"Carrier"}),p.jsx("th",{className:"p-4 w-12 border-b dark:border-gray-700"})]})}),p.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700 bg-white dark:bg-gray-900",children:j.length===0?p.jsx("tr",{children:p.jsx("td",{colSpan:"7",className:"p-10 text-center text-gray-400 italic",children:"No orders found matching your search."})}):j.map(L=>p.jsxs("tr",{className:`hover:bg-blue-50 dark:hover:bg-gray-800 transition-colors ${d.has(L.id)?"bg-blue-50 dark:bg-blue-900/20":""}`,children:[p.jsx("td",{className:"p-4",children:p.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500",checked:d.has(L.id),onChange:()=>N(L.id)})}),p.jsx("td",{className:"p-4 text-sm font-medium text-gray-900 dark:text-white text-nowrap",children:new Date(L.date+"T00:00:00").toLocaleDateString()}),p.jsx("td",{className:"p-4 text-sm text-gray-500 dark:text-gray-400 font-mono",children:L.time&&L.time!=="00:00"?ru(L.time):"-"}),p.jsx("td",{className:"p-4 text-sm font-mono text-gray-600 dark:text-gray-300",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:`font-mono ${L.status==="received"?"line-through text-gray-400":"text-gray-600 dark:text-gray-300"}`,children:L.po}),L.status==="received"&&p.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] font-bold bg-emerald-100 text-emerald-800 border border-emerald-200 uppercase tracking-wide",children:"RCVD"})]})}),p.jsx("td",{className:"p-4",children:L.sku?p.jsx("span",{className:"px-2 py-1 bg-purple-100 dark:bg-purple-900 text-purple-700 dark:text-purple-300 rounded text-xs font-bold",children:L.sku}):p.jsx("span",{className:"text-gray-400 text-xs italic",children:"Any"})}),p.jsx("td",{className:"p-4 text-sm text-gray-600 dark:text-gray-300",children:L.supplier}),p.jsx("td",{className:"p-4",children:p.jsx("span",{className:"px-2 py-0.5 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded text-xs font-bold",children:"1 Truck"})}),p.jsx("td",{className:"p-4 text-sm text-gray-500 dark:text-gray-400",children:L.carrier||"-"}),p.jsxs("td",{className:"p-4",children:[L.status!=="received"&&p.jsx("button",{onClick:()=>{confirm("Mark this order as Received?")&&a([{...L,status:"received"}])},className:"p-1 text-gray-400 hover:text-emerald-600 transition-colors mr-1",title:"Mark Received",children:""}),p.jsx("button",{onClick:()=>_(L),className:"p-1 text-gray-400 hover:text-blue-600 transition-colors",title:"Edit Order",children:p.jsx(Wc,{className:"w-5 h-5"})})]})]},L.id))})]})}),p.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 text-xs text-gray-500 border-t border-gray-200 dark:border-gray-700 flex justify-between",children:[p.jsxs("span",{children:["Showing ",j.length," of ",S.length," orders"]}),p.jsx("span",{className:"text-gray-400",children:"Press Shift to select range (coming soon)"})]})]})}),p.jsx(sV,{isOpen:m,onClose:()=>g(!1),order:v})]})}function lV({selectedSize:e,setSelectedSize:t,floorCount:r,setFloorCount:n,yardCount:a,setYardCount:s,yardUnit:l,setYardUnit:u,sizes:d,palletsPerTruck:f}){return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-4 rounded-lg border border-purple-100 dark:border-purple-800",children:[p.jsx("h3",{className:"font-bold text-purple-900 dark:text-purple-300 mb-1",children:"Morning Inventory Count"}),p.jsxs("p",{className:"text-sm text-purple-700 dark:text-purple-400",children:["What is physically on the floor and in the yard ",p.jsx("strong",{children:"right now"}),"?"]})]}),p.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg border border-gray-200 dark:border-gray-700",children:[p.jsx("label",{className:"block text-xs uppercase font-bold text-gray-500 mb-2",children:"Select Product"}),p.jsx("div",{className:"flex flex-wrap gap-2",children:d.map(m=>p.jsx("button",{onClick:()=>t(m),className:`px-3 py-1.5 rounded-md text-sm font-bold transition-colors ${e===m?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:m},m))})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:"Floor Count (Pallets)"}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(rx,{className:"h-5 w-5 text-gray-400"})}),p.jsx("input",{type:"number",autoFocus:!0,value:r,onChange:m=>n(m.target.value),className:"w-full pl-10 pr-4 py-3 text-xl font-bold border rounded-lg shadow-sm focus:ring-2 focus:ring-purple-500 dark:bg-gray-800 dark:text-white dark:border-gray-600"})]}),p.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Count all finished goods on the floor."})]}),p.jsxs("div",{children:[p.jsxs("div",{className:"flex justify-between items-center mb-2",children:[p.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300",children:"Yard Count"}),p.jsxs("div",{className:"flex bg-gray-200 dark:bg-gray-700 rounded-md p-0.5",children:[p.jsx("button",{onClick:()=>u("loads"),className:`px-2 py-0.5 text-xs font-bold rounded-sm ${l==="loads"?"bg-white text-blue-600 shadow-sm":"text-gray-500"}`,children:"Loads"}),p.jsx("button",{onClick:()=>u("pallets"),className:`px-2 py-0.5 text-xs font-bold rounded-sm ${l==="pallets"?"bg-white text-blue-600 shadow-sm":"text-gray-500"}`,children:"Pallets"})]})]}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(un,{className:"h-5 w-5 text-gray-400"})}),p.jsx("input",{type:"number",value:l==="loads"?a:a===""?"":Math.round(a*f),onChange:m=>{const g=m.target.value===""?"":Number(m.target.value);s(l==="loads"?g:g===""?"":g/f)},className:"w-full pl-10 pr-4 py-3 text-xl font-bold border rounded-lg shadow-sm focus:ring-2 focus:ring-purple-500 dark:bg-gray-800 dark:text-white dark:border-gray-600"})]}),p.jsx("p",{className:"text-xs text-gray-500 mt-1",children:l==="loads"?"Number of fully loaded trailers.":`Total pallets (~${Math.round(f)} per load).`})]})]})]})}function MC({isOpen:e,onClose:t,state:r,setters:n}){const{productMap:a}=ur(),s=Object.keys(a),l=a[r.selectedSize],u=l?.bottlesPerTruck||2e4,d=(l?.bottlesPerCase||12)*(l?.casesPerPallet||100),f=u/d,[m,g]=x.useState(1),[v,y]=x.useState(""),[_,k]=x.useState(""),[S,j]=x.useState("loads");x.useEffect(()=>{e&&(y(r.inventoryAnchor?.count||0),k(r.yardInventory?.effectiveCount||0),g(1))},[e,r.inventoryAnchor,r.yardInventory]);const N=()=>{const C=Hr();n.setInventoryAnchor({date:C,count:Number(v)}),n.updateYardInventory(Number(_)),t()},E=()=>p.jsxs("div",{className:"text-center py-6 space-y-6",children:[p.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100 dark:bg-green-900/30",children:p.jsx(oa,{className:"h-10 w-10 text-green-600 dark:text-green-400"})}),p.jsxs("div",{children:[p.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:["Ready to Update ",r.selectedSize,"?"]}),p.jsxs("p",{className:"text-gray-500 dark:text-gray-400 mt-2 max-w-sm mx-auto",children:["The system will reset the ",p.jsx("strong",{children:r.selectedSize})," inventory baseline to ",p.jsxs("strong",{children:[v," Pallets"]})," + ",p.jsxs("strong",{children:[_," Loads"]}),"."]})]}),p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700 max-w-sm mx-auto text-left text-sm space-y-2",children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-gray-500",children:"New Floor Count:"}),p.jsxs("span",{className:"font-mono font-bold",children:[v," plts"]})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-gray-500",children:"New Yard Count:"}),p.jsxs("span",{className:"font-mono font-bold",children:[Number(_).toFixed(1)," loads ",p.jsxs("span",{className:"text-gray-400 text-xs",children:["(",Math.round(_*f)," plts)"]})]})]})]})]});return e?p.jsxs("div",{className:"relative z-50","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:[p.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"}),p.jsx("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto",children:p.jsx("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:p.jsxs("div",{className:"relative transform overflow-hidden rounded-lg bg-white dark:bg-gray-900 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg border dark:border-gray-700 p-6",children:[p.jsxs("div",{className:"sm:flex sm:items-start mb-6",children:[p.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-blue-100 dark:bg-blue-900/30 sm:mx-0 sm:h-10 sm:w-10",children:p.jsx(tx,{className:"h-6 w-6 text-blue-600 dark:text-blue-400","aria-hidden":"true"})}),p.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[p.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 dark:text-white",id:"modal-title",children:"Morning True-Up"}),p.jsx("div",{className:"mt-2 text-left",children:p.jsxs("div",{className:"flex items-center space-x-2 text-xs font-medium text-gray-400",children:[p.jsx("span",{className:`${m===1?"text-blue-600 dark:text-blue-400":""}`,children:"1. Inventory"}),p.jsx("span",{children:""}),p.jsx("span",{className:`${m===2?"text-blue-600 dark:text-blue-400":""}`,children:"2. Confirm"})]})})]})]}),p.jsxs("div",{className:"mt-2",children:[m===1&&p.jsx(lV,{selectedSize:r.selectedSize,setSelectedSize:n.setSelectedSize,floorCount:v,setFloorCount:y,yardCount:_,setYardCount:k,yardUnit:S,setYardUnit:j,sizes:s,palletsPerTruck:f}),m===2&&E()]}),p.jsxs("div",{className:"mt-8 sm:mt-6 sm:grid sm:grid-flow-row-dense sm:grid-cols-2 sm:gap-3",children:[m<2?p.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:col-start-2 sm:text-sm",onClick:()=>g(C=>C+1),children:"Next Step"}):p.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-green-600 text-base font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 sm:col-start-2 sm:text-sm",onClick:N,children:"Update Plan"}),m>1?p.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 dark:border-gray-600 shadow-sm px-4 py-2 bg-white dark:bg-gray-800 text-base font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:col-start-1 sm:mt-0 sm:text-sm",onClick:()=>g(C=>C-1),children:"Back"}):p.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 dark:border-gray-600 shadow-sm px-4 py-2 bg-white dark:bg-gray-800 text-base font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:col-start-1 sm:mt-0 sm:text-sm",onClick:t,children:"Cancel"})]})]})})})]}):null}var cV=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Tx(e){if(typeof e!="string")return!1;var t=cV;return t.includes(e)}var uV=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],dV=new Set(uV);function RC(e){return typeof e!="string"?!1:dV.has(e)}function $C(e){return typeof e=="string"&&e.startsWith("data-")}function Gn(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(RC(r)||$C(r))&&(t[r]=e[r]);return t}function A0(e){if(e==null)return null;if(x.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Gn(t)}return typeof e=="object"&&!Array.isArray(e)?Gn(e):null}function dn(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(RC(r)||$C(r)||Tx(r))&&(t[r]=e[r]);return t}function fV(e){return e==null?null:x.isValidElement(e)?dn(e.props):typeof e=="object"&&!Array.isArray(e)?dn(e):null}var hV=["children","width","height","viewBox","className","style","title","desc"];function rb(){return rb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rb.apply(null,arguments)}function mV(e,t){if(e==null)return{};var r,n,a=pV(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function pV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var LC=x.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:s,className:l,style:u,title:d,desc:f}=e,m=mV(e,hV),g=s||{width:n,height:a,x:0,y:0},v=it("recharts-surface",l);return x.createElement("svg",rb({},dn(m),{className:v,width:n,height:a,style:u,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:t}),x.createElement("title",null,d),x.createElement("desc",null,f),r)}),gV=["children","className"];function nb(){return nb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nb.apply(null,arguments)}function vV(e,t){if(e==null)return{};var r,n,a=yV(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function yV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Yn=x.forwardRef((e,t)=>{var{children:r,className:n}=e,a=vV(e,gV),s=it("recharts-layer",n);return x.createElement("g",nb({className:s},dn(a),{ref:t}),r)}),bV=x.createContext(null);function _t(e){return function(){return e}}const ab=Math.PI,ib=2*ab,Ss=1e-6,xV=ib-Ss;function IC(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function wV(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return IC;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class _V{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?IC:wV(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,l){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+l}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,u=this._y1,d=n-t,f=a-r,m=l-t,g=u-r,v=m*m+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(v>Ss)if(!(Math.abs(g*d-f*m)>Ss)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let y=n-l,_=a-u,k=d*d+f*f,S=y*y+_*_,j=Math.sqrt(k),N=Math.sqrt(v),E=s*Math.tan((ab-Math.acos((k+v-S)/(2*j*N)))/2),C=E/N,A=E/j;Math.abs(C-1)>Ss&&this._append`L${t+C*m},${r+C*g}`,this._append`A${s},${s},0,0,${+(g*y>m*_)},${this._x1=t+A*d},${this._y1=r+A*f}`}}arc(t,r,n,a,s,l){if(t=+t,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(a),d=n*Math.sin(a),f=t+u,m=r+d,g=1^l,v=l?a-s:s-a;this._x1===null?this._append`M${f},${m}`:(Math.abs(this._x1-f)>Ss||Math.abs(this._y1-m)>Ss)&&this._append`L${f},${m}`,n&&(v<0&&(v=v%ib+ib),v>xV?this._append`A${n},${n},0,1,${g},${t-u},${r-d}A${n},${n},0,1,${g},${this._x1=f},${this._y1=m}`:v>Ss&&this._append`A${n},${n},0,${+(v>=ab)},${g},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function zC(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new _V(t)}function Cx(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function UC(e){this._context=e}UC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function T0(e){return new UC(e)}function BC(e){return e[0]}function qC(e){return e[1]}function HC(e,t){var r=_t(!0),n=null,a=T0,s=null,l=zC(u);e=typeof e=="function"?e:e===void 0?BC:_t(e),t=typeof t=="function"?t:t===void 0?qC:_t(t);function u(d){var f,m=(d=Cx(d)).length,g,v=!1,y;for(n==null&&(s=a(y=l())),f=0;f<=m;++f)!(f<m&&r(g=d[f],f,d))===v&&((v=!v)?s.lineStart():s.lineEnd()),v&&s.point(+e(g,f,d),+t(g,f,d));if(y)return s=null,y+""||null}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:_t(+d),u):e},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:_t(+d),u):t},u.defined=function(d){return arguments.length?(r=typeof d=="function"?d:_t(!!d),u):r},u.curve=function(d){return arguments.length?(a=d,n!=null&&(s=a(n)),u):a},u.context=function(d){return arguments.length?(d==null?n=s=null:s=a(n=d),u):n},u}function Of(e,t,r){var n=null,a=_t(!0),s=null,l=T0,u=null,d=zC(f);e=typeof e=="function"?e:e===void 0?BC:_t(+e),t=typeof t=="function"?t:_t(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?qC:_t(+r);function f(g){var v,y,_,k=(g=Cx(g)).length,S,j=!1,N,E=new Array(k),C=new Array(k);for(s==null&&(u=l(N=d())),v=0;v<=k;++v){if(!(v<k&&a(S=g[v],v,g))===j)if(j=!j)y=v,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),_=v-1;_>=y;--_)u.point(E[_],C[_]);u.lineEnd(),u.areaEnd()}j&&(E[v]=+e(S,v,g),C[v]=+t(S,v,g),u.point(n?+n(S,v,g):E[v],r?+r(S,v,g):C[v]))}if(N)return u=null,N+""||null}function m(){return HC().defined(a).curve(l).context(s)}return f.x=function(g){return arguments.length?(e=typeof g=="function"?g:_t(+g),n=null,f):e},f.x0=function(g){return arguments.length?(e=typeof g=="function"?g:_t(+g),f):e},f.x1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:_t(+g),f):n},f.y=function(g){return arguments.length?(t=typeof g=="function"?g:_t(+g),r=null,f):t},f.y0=function(g){return arguments.length?(t=typeof g=="function"?g:_t(+g),f):t},f.y1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:_t(+g),f):r},f.lineX0=f.lineY0=function(){return m().x(e).y(t)},f.lineY1=function(){return m().x(e).y(r)},f.lineX1=function(){return m().x(n).y(t)},f.defined=function(g){return arguments.length?(a=typeof g=="function"?g:_t(!!g),f):a},f.curve=function(g){return arguments.length?(l=g,s!=null&&(u=l(s)),f):l},f.context=function(g){return arguments.length?(g==null?s=u=null:u=l(s=g),f):s},f}class FC{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function SV(e){return new FC(e,!0)}function kV(e){return new FC(e,!1)}function bh(){}function xh(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function VC(e){this._context=e}VC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:xh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:xh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function jV(e){return new VC(e)}function KC(e){this._context=e}KC.prototype={areaStart:bh,areaEnd:bh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:xh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function EV(e){return new KC(e)}function ZC(e){this._context=e}ZC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:xh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function OV(e){return new ZC(e)}function GC(e){this._context=e}GC.prototype={areaStart:bh,areaEnd:bh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function NV(e){return new GC(e)}function Oj(e){return e<0?-1:1}function Nj(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),l=(r-e._y1)/(a||n<0&&-0),u=(s*a+l*n)/(n+a);return(Oj(s)+Oj(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(u))||0}function Aj(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Yg(e,t,r){var n=e._x0,a=e._y0,s=e._x1,l=e._y1,u=(s-n)/3;e._context.bezierCurveTo(n+u,a+u*t,s-u,l-u*r,s,l)}function wh(e){this._context=e}wh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Yg(this,this._t0,Aj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Yg(this,Aj(this,r=Nj(this,e,t)),r);break;default:Yg(this,this._t0,r=Nj(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function YC(e){this._context=new WC(e)}(YC.prototype=Object.create(wh.prototype)).point=function(e,t){wh.prototype.point.call(this,t,e)};function WC(e){this._context=e}WC.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function AV(e){return new wh(e)}function TV(e){return new YC(e)}function XC(e){this._context=e}XC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Tj(e),a=Tj(t),s=0,l=1;l<r;++s,++l)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Tj(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),l=new Array(r);for(a[0]=0,s[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,l[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,l[t]-=n*l[t-1];for(a[r-1]=l[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(l[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function CV(e){return new XC(e)}function C0(e,t){this._context=e,this._t=t}C0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function PV(e){return new C0(e,.5)}function DV(e){return new C0(e,0)}function MV(e){return new C0(e,1)}function dl(e,t){if((l=e.length)>1)for(var r=1,n,a,s=e[t[0]],l,u=s.length;r<l;++r)for(a=s,s=e[t[r]],n=0;n<u;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function sb(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function RV(e,t){return e[t]}function $V(e){const t=[];return t.key=e,t}function LV(){var e=_t([]),t=sb,r=dl,n=RV;function a(s){var l=Array.from(e.apply(this,arguments),$V),u,d=l.length,f=-1,m;for(const g of s)for(u=0,++f;u<d;++u)(l[u][f]=[0,+n(g,l[u].key,f,s)]).data=g;for(u=0,m=Cx(t(l));u<d;++u)l[m[u]].index=u;return r(l,m),l}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:_t(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:_t(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?sb:typeof s=="function"?s:_t(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??dl,a):r},a}function IV(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,l;a<s;++a){for(l=r=0;r<n;++r)l+=e[r][a][1]||0;if(l)for(r=0;r<n;++r)e[r][a][1]/=l}dl(e,t)}}function zV(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var l=0,u=0;l<a;++l)u+=e[l][r][1]||0;n[r][1]+=n[r][0]=-u/2}dl(e,t)}}function UV(e,t){if(!(!((l=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,l;n<s;++n){for(var u=0,d=0,f=0;u<l;++u){for(var m=e[t[u]],g=m[n][1]||0,v=m[n-1][1]||0,y=(g-v)/2,_=0;_<u;++_){var k=e[t[_]],S=k[n][1]||0,j=k[n-1][1]||0;y+=S-j}d+=g,f+=y*g}a[n-1][1]+=a[n-1][0]=r,d&&(r-=f/d)}a[n-1][1]+=a[n-1][0]=r,dl(e,t)}}var Wg={},Xg={},Cj;function BV(){return Cj||(Cj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(Xg)),Xg}var Jg={},Pj;function JC(){return Pj||(Pj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Jg)),Jg}var Qg={},Dj;function Px(){return Dj||(Dj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(Qg)),Qg}var ev={},tv={},Mj;function qV(){return Mj||(Mj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(tv)),tv}var Rj;function Dx(){return Rj||(Rj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qV(),r=Px();function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const s=[],l=a.length;if(l===0)return s;let u=0,d="",f="",m=!1;for(a.charCodeAt(0)===46&&(s.push(""),u++);u<l;){const g=a[u];f?g==="\\"&&u+1<l?(u++,d+=a[u]):g===f?f="":d+=g:m?g==='"'||g==="'"?f=g:g==="]"?(m=!1,s.push(d),d=""):d+=g:g==="["?(m=!0,d&&(s.push(d),d="")):g==="."?d&&(s.push(d),d=""):d+=g,u++}return d&&s.push(d),s}e.toPath=n})(ev)),ev}var $j;function Mx(){return $j||($j=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BV(),r=JC(),n=Px(),a=Dx();function s(u,d,f){if(u==null)return f;switch(typeof d){case"string":{if(t.isUnsafeProperty(d))return f;const m=u[d];return m===void 0?r.isDeepKey(d)?s(u,a.toPath(d),f):f:m}case"number":case"symbol":{typeof d=="number"&&(d=n.toKey(d));const m=u[d];return m===void 0?f:m}default:{if(Array.isArray(d))return l(u,d,f);if(Object.is(d?.valueOf(),-0)?d="-0":d=String(d),t.isUnsafeProperty(d))return f;const m=u[d];return m===void 0?f:m}}}function l(u,d,f){if(d.length===0)return f;let m=u;for(let g=0;g<d.length;g++){if(m==null||t.isUnsafeProperty(d[g]))return f;m=m[d[g]]}return m===void 0?f:m}e.get=s})(Wg)),Wg}var rv,Lj;function HV(){return Lj||(Lj=1,rv=Mx().get),rv}var FV=HV();const P0=ri(FV);var An=e=>e===0?0:e>0?1:-1,fn=e=>typeof e=="number"&&e!=+e,Wa=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Oe=e=>(typeof e=="number"||e instanceof Number)&&!fn(e),Cn=e=>Oe(e)||typeof e=="string",VV=0,au=e=>{var t=++VV;return"".concat(e||"").concat(t)},Vi=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Oe(t)&&typeof t!="string")return n;var s;if(Wa(t)){if(r==null)return n;var l=t.indexOf("%");s=r*parseFloat(t.slice(0,l))/100}else s=+t;return fn(s)&&(s=n),a&&r!=null&&s>r&&(s=r),s},QC=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function sa(e,t,r){return Oe(e)&&Oe(t)?e+r*(t-e):t}function eP(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):P0(n,t))===r)}var lr=e=>e===null||typeof e>"u",Rx=e=>lr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function KV(e){return e!=null}function ju(){}var tP=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,$x=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(x.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{Tx(a)&&(n[a]=(s=>r[a](r,s)))}),n},ZV=(e,t,r)=>n=>(e(t,r,n),null),GV=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var s=e[a];Tx(a)&&typeof s=="function"&&(n||(n={}),n[a]=ZV(s,t,r))}),n};function Ij(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function YV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ij(Object(r),!0).forEach(function(n){WV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ij(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WV(e,t,r){return(t=XV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XV(e){var t=JV(e,"string");return typeof t=="symbol"?t:t+""}function JV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kr(e,t){var r=YV({},e),n=t,a=Object.keys(t),s=a.reduce((l,u)=>(l[u]===void 0&&n[u]!==void 0&&(l[u]=n[u]),l),r);return s}var nv={},av={},zj;function QV(){return zj||(zj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let s=0;s<r.length;s++){const l=r[s],u=n(l);a.has(u)||a.set(u,l)}return Array.from(a.values())}e.uniqBy=t})(av)),av}var iv={},Uj;function rP(){return Uj||(Uj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(iv)),iv}var sv={},ov={},lv={},Bj;function eK(){return Bj||(Bj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(lv)),lv}var qj;function Lx(){return qj||(qj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eK();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(ov)),ov}var cv={},Hj;function tK(){return Hj||(Hj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(cv)),cv}var Fj;function rK(){return Fj||(Fj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Lx(),r=tK();function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(sv)),sv}var uv={},dv={},Vj;function nK(){return Vj||(Vj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mx();function r(n){return function(a){return t.get(a,n)}}e.property=r})(dv)),dv}var fv={},hv={},mv={},pv={},Kj;function nP(){return Kj||(Kj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(pv)),pv}var gv={},Zj;function aP(){return Zj||(Zj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(gv)),gv}var vv={},Gj;function iP(){return Gj||(Gj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(vv)),vv}var Yj;function aK(){return Yj||(Yj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nP(),r=aP(),n=iP();function a(m,g,v){return typeof v!="function"?a(m,g,()=>{}):s(m,g,function y(_,k,S,j,N,E){const C=v(_,k,S,j,N,E);return C!==void 0?!!C:s(_,k,y,E)},new Map)}function s(m,g,v,y){if(g===m)return!0;switch(typeof g){case"object":return l(m,g,v,y);case"function":return Object.keys(g).length>0?s(m,{...g},v,y):n.eq(m,g);default:return t.isObject(m)?typeof g=="string"?g==="":!0:n.eq(m,g)}}function l(m,g,v,y){if(g==null)return!0;if(Array.isArray(g))return d(m,g,v,y);if(g instanceof Map)return u(m,g,v,y);if(g instanceof Set)return f(m,g,v,y);const _=Object.keys(g);if(m==null)return _.length===0;if(_.length===0)return!0;if(y?.has(g))return y.get(g)===m;y?.set(g,m);try{for(let k=0;k<_.length;k++){const S=_[k];if(!r.isPrimitive(m)&&!(S in m)||g[S]===void 0&&m[S]!==void 0||g[S]===null&&m[S]!==null||!v(m[S],g[S],S,m,g,y))return!1}return!0}finally{y?.delete(g)}}function u(m,g,v,y){if(g.size===0)return!0;if(!(m instanceof Map))return!1;for(const[_,k]of g.entries()){const S=m.get(_);if(v(S,k,_,m,g,y)===!1)return!1}return!0}function d(m,g,v,y){if(g.length===0)return!0;if(!Array.isArray(m))return!1;const _=new Set;for(let k=0;k<g.length;k++){const S=g[k];let j=!1;for(let N=0;N<m.length;N++){if(_.has(N))continue;const E=m[N];let C=!1;if(v(E,S,k,m,g,y)&&(C=!0),C){_.add(N),j=!0;break}}if(!j)return!1}return!0}function f(m,g,v,y){return g.size===0?!0:m instanceof Set?d([...m],[...g],v,y):!1}e.isMatchWith=a,e.isSetMatch=f})(mv)),mv}var Wj;function sP(){return Wj||(Wj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aK();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(hv)),hv}var yv={},bv={},xv={},Xj;function iK(){return Xj||(Xj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(xv)),xv}var wv={},Jj;function oP(){return Jj||(Jj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(wv)),wv}var _v={},Qj;function lP(){return Qj||(Qj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",s="[object Arguments]",l="[object Symbol]",u="[object Date]",d="[object Map]",f="[object Set]",m="[object Array]",g="[object Function]",v="[object ArrayBuffer]",y="[object Object]",_="[object Error]",k="[object DataView]",S="[object Uint8Array]",j="[object Uint8ClampedArray]",N="[object Uint16Array]",E="[object Uint32Array]",C="[object BigUint64Array]",A="[object Int8Array]",T="[object Int16Array]",P="[object Int32Array]",M="[object BigInt64Array]",R="[object Float32Array]",L="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=v,e.arrayTag=m,e.bigInt64ArrayTag=M,e.bigUint64ArrayTag=C,e.booleanTag=a,e.dataViewTag=k,e.dateTag=u,e.errorTag=_,e.float32ArrayTag=R,e.float64ArrayTag=L,e.functionTag=g,e.int16ArrayTag=T,e.int32ArrayTag=P,e.int8ArrayTag=A,e.mapTag=d,e.numberTag=n,e.objectTag=y,e.regexpTag=t,e.setTag=f,e.stringTag=r,e.symbolTag=l,e.uint16ArrayTag=N,e.uint32ArrayTag=E,e.uint8ArrayTag=S,e.uint8ClampedArrayTag=j})(_v)),_v}var Sv={},eE;function sK(){return eE||(eE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(Sv)),Sv}var tE;function cP(){return tE||(tE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iK(),r=oP(),n=lP(),a=aP(),s=sK();function l(m,g){return u(m,void 0,m,new Map,g)}function u(m,g,v,y=new Map,_=void 0){const k=_?.(m,g,v,y);if(k!==void 0)return k;if(a.isPrimitive(m))return m;if(y.has(m))return y.get(m);if(Array.isArray(m)){const S=new Array(m.length);y.set(m,S);for(let j=0;j<m.length;j++)S[j]=u(m[j],j,v,y,_);return Object.hasOwn(m,"index")&&(S.index=m.index),Object.hasOwn(m,"input")&&(S.input=m.input),S}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const S=new RegExp(m.source,m.flags);return S.lastIndex=m.lastIndex,S}if(m instanceof Map){const S=new Map;y.set(m,S);for(const[j,N]of m)S.set(j,u(N,j,v,y,_));return S}if(m instanceof Set){const S=new Set;y.set(m,S);for(const j of m)S.add(u(j,void 0,v,y,_));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(s.isTypedArray(m)){const S=new(Object.getPrototypeOf(m)).constructor(m.length);y.set(m,S);for(let j=0;j<m.length;j++)S[j]=u(m[j],j,v,y,_);return S}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const S=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return y.set(m,S),d(S,m,v,y,_),S}if(typeof File<"u"&&m instanceof File){const S=new File([m],m.name,{type:m.type});return y.set(m,S),d(S,m,v,y,_),S}if(typeof Blob<"u"&&m instanceof Blob){const S=new Blob([m],{type:m.type});return y.set(m,S),d(S,m,v,y,_),S}if(m instanceof Error){const S=new m.constructor;return y.set(m,S),S.message=m.message,S.name=m.name,S.stack=m.stack,S.cause=m.cause,d(S,m,v,y,_),S}if(m instanceof Boolean){const S=new Boolean(m.valueOf());return y.set(m,S),d(S,m,v,y,_),S}if(m instanceof Number){const S=new Number(m.valueOf());return y.set(m,S),d(S,m,v,y,_),S}if(m instanceof String){const S=new String(m.valueOf());return y.set(m,S),d(S,m,v,y,_),S}if(typeof m=="object"&&f(m)){const S=Object.create(Object.getPrototypeOf(m));return y.set(m,S),d(S,m,v,y,_),S}return m}function d(m,g,v=m,y,_){const k=[...Object.keys(g),...t.getSymbols(g)];for(let S=0;S<k.length;S++){const j=k[S],N=Object.getOwnPropertyDescriptor(m,j);(N==null||N.writable)&&(m[j]=u(g[j],j,v,y,_))}}function f(m){switch(r.getTag(m)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=u,e.copyProperties=d})(bv)),bv}var rE;function oK(){return rE||(rE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cP();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(yv)),yv}var nE;function lK(){return nE||(nE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sP(),r=oK();function n(a){return a=r.cloneDeep(a),s=>t.isMatch(s,a)}e.matches=n})(fv)),fv}var kv={},jv={},Ev={},aE;function cK(){return aE||(aE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cP(),r=lP();function n(a,s){return t.cloneDeepWith(a,(l,u,d,f)=>{const m=s?.(l,u,d,f);if(m!==void 0)return m;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const g=new a.constructor(a?.valueOf());return t.copyProperties(g,a),g}case r.argumentsTag:{const g={};return t.copyProperties(g,a),g.length=a.length,g[Symbol.iterator]=a[Symbol.iterator],g}default:return}})}e.cloneDeepWith=n})(Ev)),Ev}var iE;function uK(){return iE||(iE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cK();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(jv)),jv}var Ov={},Nv={},sE;function uP(){return sE||(sE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Nv)),Nv}var Av={},oE;function dK(){return oE||(oE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oP();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(Av)),Av}var lE;function fK(){return lE||(lE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JC(),r=uP(),n=dK(),a=Dx();function s(l,u){let d;if(Array.isArray(u)?d=u:typeof u=="string"&&t.isDeepKey(u)&&l?.[u]==null?d=a.toPath(u):d=[u],d.length===0)return!1;let f=l;for(let m=0;m<d.length;m++){const g=d[m];if((f==null||!Object.hasOwn(f,g))&&!((Array.isArray(f)||n.isArguments(f))&&r.isIndex(g)&&g<f.length))return!1;f=f[g]}return!0}e.has=s})(Ov)),Ov}var cE;function hK(){return cE||(cE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sP(),r=Px(),n=uK(),a=Mx(),s=fK();function l(u,d){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=r.toKey(u);break}}return d=n.cloneDeep(d),function(f){const m=a.get(f,u);return m===void 0?s.has(f,u):d===void 0?m===void 0:t.isMatch(m,d)}}e.matchesProperty=l})(kv)),kv}var uE;function mK(){return uE||(uE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rP(),r=nK(),n=lK(),a=hK();function s(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?a.matchesProperty(l[0],l[1]):n.matches(l);case"string":case"symbol":case"number":return r.property(l)}}e.iteratee=s})(uv)),uv}var dE;function pK(){return dE||(dE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QV(),r=rP(),n=rK(),a=mK();function s(l,u=r.identity){return n.isArrayLikeObject(l)?t.uniqBy(Array.from(l),a.iteratee(u)):[]}e.uniqBy=s})(nv)),nv}var Tv,fE;function gK(){return fE||(fE=1,Tv=pK().uniqBy),Tv}var vK=gK();const hE=ri(vK);function yK(e,t,r){return t===!0?hE(e,r):typeof t=="function"?hE(e,t):e}var Cv={exports:{}},Pv={},Dv={exports:{}},Mv={};var mE;function bK(){if(mE)return Mv;mE=1;var e=yl();function t(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,s=e.useLayoutEffect,l=e.useDebugValue;function u(g,v){var y=v(),_=n({inst:{value:y,getSnapshot:v}}),k=_[0].inst,S=_[1];return s(function(){k.value=y,k.getSnapshot=v,d(k)&&S({inst:k})},[g,y,v]),a(function(){return d(k)&&S({inst:k}),g(function(){d(k)&&S({inst:k})})},[g]),l(y),y}function d(g){var v=g.getSnapshot;g=g.value;try{var y=v();return!r(g,y)}catch{return!0}}function f(g,v){return v()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return Mv.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:m,Mv}var pE;function xK(){return pE||(pE=1,Dv.exports=bK()),Dv.exports}var gE;function wK(){if(gE)return Pv;gE=1;var e=yl(),t=xK();function r(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var n=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,s=e.useRef,l=e.useEffect,u=e.useMemo,d=e.useDebugValue;return Pv.useSyncExternalStoreWithSelector=function(f,m,g,v,y){var _=s(null);if(_.current===null){var k={hasValue:!1,value:null};_.current=k}else k=_.current;_=u(function(){function j(T){if(!N){if(N=!0,E=T,T=v(T),y!==void 0&&k.hasValue){var P=k.value;if(y(P,T))return C=P}return C=T}if(P=C,n(E,T))return P;var M=v(T);return y!==void 0&&y(P,M)?(E=T,P):(E=T,C=M)}var N=!1,E,C,A=g===void 0?null:g;return[function(){return j(m())},A===null?void 0:function(){return j(A())}]},[m,g,v,y]);var S=a(f,_[0],_[1]);return l(function(){k.hasValue=!0,k.value=S},[S]),d(S),S},Pv}var vE;function _K(){return vE||(vE=1,Cv.exports=wK()),Cv.exports}var SK=_K(),Ix=x.createContext(null),kK=e=>e,Bt=()=>{var e=x.useContext(Ix);return e?e.store.dispatch:kK},Yf=()=>{},jK=()=>Yf,EK=(e,t)=>e===t;function Ee(e){var t=x.useContext(Ix);return SK.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:jK,t?t.store.getState:Yf,t?t.store.getState:Yf,t?e:Yf,EK)}function OK(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function NK(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function AK(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var yE=e=>Array.isArray(e)?e:[e];function TK(e){const t=Array.isArray(e[0])?e[0]:e;return AK(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function CK(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var PK=class{constructor(e){this.value=e}deref(){return this.value}},DK=typeof WeakRef<"u"?WeakRef:PK,MK=0,bE=1;function Nf(){return{s:MK,v:void 0,o:null,p:null}}function dP(e,t={}){let r=Nf();const{resultEqualityCheck:n}=t;let a,s=0;function l(){let u=r;const{length:d}=arguments;for(let g=0,v=d;g<v;g++){const y=arguments[g];if(typeof y=="function"||typeof y=="object"&&y!==null){let _=u.o;_===null&&(u.o=_=new WeakMap);const k=_.get(y);k===void 0?(u=Nf(),_.set(y,u)):u=k}else{let _=u.p;_===null&&(u.p=_=new Map);const k=_.get(y);k===void 0?(u=Nf(),_.set(y,u)):u=k}}const f=u;let m;if(u.s===bE)m=u.v;else if(m=e.apply(null,arguments),s++,n){const g=a?.deref?.()??a;g!=null&&n(g,m)&&(m=g,s!==0&&s--),a=typeof m=="object"&&m!==null||typeof m=="function"?new DK(m):m}return f.s=bE,f.v=m,m}return l.clearCache=()=>{r=Nf(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function RK(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let s=0,l=0,u,d={},f=a.pop();typeof f=="object"&&(d=f,f=a.pop()),OK(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const m={...r,...d},{memoize:g,memoizeOptions:v=[],argsMemoize:y=dP,argsMemoizeOptions:_=[]}=m,k=yE(v),S=yE(_),j=TK(a),N=g(function(){return s++,f.apply(null,arguments)},...k),E=y(function(){l++;const A=CK(j,arguments);return u=N.apply(null,A),u},...S);return Object.assign(E,{resultFunc:f,memoizedResultFunc:N,dependencies:j,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:g,argsMemoize:y})};return Object.assign(n,{withTypes:()=>n}),n}var ne=RK(dP),$K=Object.assign((e,t=ne)=>{NK(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((l,u,d)=>(l[r[d]]=u,l),{}))},{withTypes:()=>$K}),Rv={},$v={},Lv={},xE;function LK(){return xE||(xE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,s)=>{if(n!==a){const l=t(n),u=t(a);if(l===u&&l===0){if(n<a)return s==="desc"?1:-1;if(n>a)return s==="desc"?-1:1}return s==="desc"?u-l:l-u}return 0};e.compareValues=r})(Lv)),Lv}var Iv={},zv={},wE;function fP(){return wE||(wE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(zv)),zv}var _E;function IK(){return _E||(_E=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fP(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||l!=null&&Object.hasOwn(l,s)}e.isKey=a})(Iv)),Iv}var SE;function zK(){return SE||(SE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LK(),r=IK(),n=Dx();function a(s,l,u,d){if(s==null)return[];u=d?void 0:u,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(y=>String(y));const f=(y,_)=>{let k=y;for(let S=0;S<_.length&&k!=null;++S)k=k[_[S]];return k},m=(y,_)=>_==null||y==null?_:typeof y=="object"&&"key"in y?Object.hasOwn(_,y.key)?_[y.key]:f(_,y.path):typeof y=="function"?y(_):Array.isArray(y)?f(_,y):typeof _=="object"?_[y]:_,g=l.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||r.isKey(y)?y:{key:y,path:n.toPath(y)}));return s.map(y=>({original:y,criteria:g.map(_=>m(_,y))})).slice().sort((y,_)=>{for(let k=0;k<g.length;k++){const S=t.compareValues(y.criteria[k],_.criteria[k],u[k]);if(S!==0)return S}return 0}).map(y=>y.original)}e.orderBy=a})($v)),$v}var Uv={},kE;function UK(){return kE||(kE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],s=Math.floor(n),l=(u,d)=>{for(let f=0;f<u.length;f++){const m=u[f];Array.isArray(m)&&d<s?l(m,d+1):a.push(m)}};return l(r,0),a}e.flatten=t})(Uv)),Uv}var Bv={},jE;function hP(){return jE||(jE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uP(),r=Lx(),n=nP(),a=iP();function s(l,u,d){return n.isObject(d)&&(typeof u=="number"&&r.isArrayLike(d)&&t.isIndex(u)&&u<d.length||typeof u=="string"&&u in d)?a.eq(d[u],l):!1}e.isIterateeCall=s})(Bv)),Bv}var EE;function BK(){return EE||(EE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zK(),r=UK(),n=hP();function a(s,...l){const u=l.length;return u>1&&n.isIterateeCall(s,l[0],l[1])?l=[]:u>2&&n.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(s,r.flatten(l),["asc"])}e.sortBy=a})(Rv)),Rv}var qv,OE;function qK(){return OE||(OE=1,qv=BK().sortBy),qv}var HK=qK();const D0=ri(HK);var mP=e=>e.legend.settings,FK=e=>e.legend.size,VK=e=>e.legend.payload;ne([VK,mP],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?D0(n,r):n});var Af=1;function KK(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=x.useState({height:0,left:0,top:0,width:0}),n=x.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-t.height)>Af||Math.abs(l.left-t.left)>Af||Math.abs(l.top-t.top)>Af||Math.abs(l.width-t.width)>Af)&&r({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function ir(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var ZK=typeof Symbol=="function"&&Symbol.observable||"@@observable",NE=ZK,Hv=()=>Math.random().toString(36).substring(7).split("").join("."),GK={INIT:`@@redux/INIT${Hv()}`,REPLACE:`@@redux/REPLACE${Hv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Hv()}`},_h=GK;function zx(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function pP(e,t,r){if(typeof e!="function")throw new Error(ir(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(ir(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(ir(1));return r(pP)(e,t)}let n=e,a=t,s=new Map,l=s,u=0,d=!1;function f(){l===s&&(l=new Map,s.forEach((S,j)=>{l.set(j,S)}))}function m(){if(d)throw new Error(ir(3));return a}function g(S){if(typeof S!="function")throw new Error(ir(4));if(d)throw new Error(ir(5));let j=!0;f();const N=u++;return l.set(N,S),function(){if(j){if(d)throw new Error(ir(6));j=!1,f(),l.delete(N),s=null}}}function v(S){if(!zx(S))throw new Error(ir(7));if(typeof S.type>"u")throw new Error(ir(8));if(typeof S.type!="string")throw new Error(ir(17));if(d)throw new Error(ir(9));try{d=!0,a=n(a,S)}finally{d=!1}return(s=l).forEach(N=>{N()}),S}function y(S){if(typeof S!="function")throw new Error(ir(10));n=S,v({type:_h.REPLACE})}function _(){const S=g;return{subscribe(j){if(typeof j!="object"||j===null)throw new Error(ir(11));function N(){const C=j;C.next&&C.next(m())}return N(),{unsubscribe:S(N)}},[NE](){return this}}}return v({type:_h.INIT}),{dispatch:v,subscribe:g,getState:m,replaceReducer:y,[NE]:_}}function YK(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:_h.INIT})>"u")throw new Error(ir(12));if(typeof r(void 0,{type:_h.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ir(13))})}function gP(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const l=t[s];typeof e[l]=="function"&&(r[l]=e[l])}const n=Object.keys(r);let a;try{YK(r)}catch(s){a=s}return function(l={},u){if(a)throw a;let d=!1;const f={};for(let m=0;m<n.length;m++){const g=n[m],v=r[g],y=l[g],_=v(y,u);if(typeof _>"u")throw u&&u.type,new Error(ir(14));f[g]=_,d=d||_!==y}return d=d||n.length!==Object.keys(l).length,d?f:l}}function Sh(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function WK(...e){return t=>(r,n)=>{const a=t(r,n);let s=()=>{throw new Error(ir(15))};const l={getState:a.getState,dispatch:(d,...f)=>s(d,...f)},u=e.map(d=>d(l));return s=Sh(...u)(a.dispatch),{...a,dispatch:s}}}function vP(e){return zx(e)&&"type"in e&&typeof e.type=="string"}var yP=Symbol.for("immer-nothing"),AE=Symbol.for("immer-draftable"),Nr=Symbol.for("immer-state");function Hn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ln=Object,fl=ln.getPrototypeOf,kh="constructor",M0="prototype",ob="configurable",jh="enumerable",Wf="writable",iu="value",Xa=e=>!!e&&!!e[Nr];function Wn(e){return e?bP(e)||R0(e)||!!e[AE]||!!e[kh]?.[AE]||$0(e)||L0(e):!1}var XK=ln[M0][kh].toString(),TE=new WeakMap;function bP(e){if(!e||!Ux(e))return!1;const t=fl(e);if(t===null||t===ln[M0])return!0;const r=ln.hasOwnProperty.call(t,kh)&&t[kh];if(r===Object)return!0;if(!Xo(r))return!1;let n=TE.get(r);return n===void 0&&(n=Function.toString.call(r),TE.set(r,n)),n===XK}function Eu(e,t,r=!0){Ou(e)===0?(r?Reflect.ownKeys(e):ln.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Ou(e){const t=e[Nr];return t?t.type_:R0(e)?1:$0(e)?2:L0(e)?3:0}var CE=(e,t,r=Ou(e))=>r===2?e.has(t):ln[M0].hasOwnProperty.call(e,t),lb=(e,t,r=Ou(e))=>r===2?e.get(t):e[t],Eh=(e,t,r,n=Ou(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function JK(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var R0=Array.isArray,$0=e=>e instanceof Map,L0=e=>e instanceof Set,Ux=e=>typeof e=="object",Xo=e=>typeof e=="function",Fv=e=>typeof e=="boolean",za=e=>e.copy_||e.base_,Bx=e=>e.modified_?e.copy_:e.base_;function cb(e,t){if($0(e))return new Map(e);if(L0(e))return new Set(e);if(R0(e))return Array[M0].slice.call(e);const r=bP(e);if(t===!0||t==="class_only"&&!r){const n=ln.getOwnPropertyDescriptors(e);delete n[Nr];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const l=a[s],u=n[l];u[Wf]===!1&&(u[Wf]=!0,u[ob]=!0),(u.get||u.set)&&(n[l]={[ob]:!0,[Wf]:!0,[jh]:u[jh],[iu]:e[l]})}return ln.create(fl(e),n)}else{const n=fl(e);if(n!==null&&r)return{...e};const a=ln.create(n);return ln.assign(a,e)}}function qx(e,t=!1){return I0(e)||Xa(e)||!Wn(e)||(Ou(e)>1&&ln.defineProperties(e,{set:Tf,add:Tf,clear:Tf,delete:Tf}),ln.freeze(e),t&&Eu(e,(r,n)=>{qx(n,!0)},!1)),e}function QK(){Hn(2)}var Tf={[iu]:QK};function I0(e){return e===null||!Ux(e)?!0:ln.isFrozen(e)}var Oh="MapSet",ub="Patches",xP={};function hl(e){const t=xP[e];return t||Hn(0,e),t}var eZ=e=>!!xP[e],su,wP=()=>su,tZ=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:eZ(Oh)?hl(Oh):void 0});function PE(e,t){t&&(e.patchPlugin_=hl(ub),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function db(e){fb(e),e.drafts_.forEach(rZ),e.drafts_=null}function fb(e){e===su&&(su=e.parent_)}var DE=e=>su=tZ(su,e);function rZ(e){const t=e[Nr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function ME(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[Nr].modified_&&(db(t),Hn(4)),Wn(e)&&(e=RE(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[Nr].base_,e,t)}else e=RE(t,r);return nZ(t,e,!0),db(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==yP?e:void 0}function RE(e,t){if(I0(t))return t;const r=t[Nr];if(!r)return Hx(t,e.handledSet_,e);if(!z0(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);kP(r,e)}return r.copy_}function nZ(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&qx(t,r)}function _P(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var z0=(e,t)=>e.scope_===t,aZ=[];function SP(e,t,r,n){const a=za(e),s=e.type_;if(n!==void 0&&lb(a,n,s)===t){Eh(a,n,r,s);return}if(!e.draftLocations_){const u=e.draftLocations_=new Map;Eu(a,(d,f)=>{if(Xa(f)){const m=u.get(f)||[];m.push(d),u.set(f,m)}})}const l=e.draftLocations_.get(t)??aZ;for(const u of l)Eh(a,u,r,s)}function iZ(e,t,r){e.callbacks_.push(function(a){const s=t;if(!s||!z0(s,a))return;a.mapSetPlugin_?.fixSetContents(s);const l=Bx(s);SP(e,s.draft_??s,l,r),kP(s,a)})}function kP(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||(e.assigned_?.size??0)>0)){const{patchPlugin_:n}=t;if(n){const a=n.getPath(e);a&&n.generatePatches_(e,a,t)}_P(e)}}function sZ(e,t,r){const{scope_:n}=e;if(Xa(r)){const a=r[Nr];z0(a,n)&&a.callbacks_.push(function(){Xf(e);const l=Bx(a);SP(e,r,l,t)})}else Wn(r)&&e.callbacks_.push(function(){const s=za(e);lb(s,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Hx(lb(e.copy_,t,e.type_),n.handledSet_,n)})}function Hx(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Xa(e)||t.has(e)||!Wn(e)||I0(e)||(t.add(e),Eu(e,(n,a)=>{if(Xa(a)){const s=a[Nr];if(z0(s,r)){const l=Bx(s);Eh(e,n,l,e.type_),_P(s)}}else Wn(a)&&Hx(a,t,r)})),e}function oZ(e,t){const r=R0(e),n={type_:r?1:0,scope_:t?t.scope_:wP(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,s=Fx;r&&(a=[n],s=ou);const{revoke:l,proxy:u}=Proxy.revocable(a,s);return n.draft_=u,n.revoke_=l,[u,n]}var Fx={get(e,t){if(t===Nr)return e;const r=za(e);if(!CE(r,t,e.type_))return lZ(e,r,t);const n=r[t];if(e.finalized_||!Wn(n))return n;if(n===Vv(e.base_,t)){Xf(e);const a=e.type_===1?+t:t,s=mb(e.scope_,n,e,a);return e.copy_[a]=s}return n},has(e,t){return t in za(e)},ownKeys(e){return Reflect.ownKeys(za(e))},set(e,t,r){const n=jP(za(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Vv(za(e),t),s=a?.[Nr];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(JK(r,a)&&(r!==void 0||CE(e.base_,t,e.type_)))return!0;Xf(e),hb(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),sZ(e,t,r)),!0},deleteProperty(e,t){return Xf(e),Vv(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),hb(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=za(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[Wf]:!0,[ob]:e.type_!==1||t!=="length",[jh]:n[jh],[iu]:r[t]}},defineProperty(){Hn(11)},getPrototypeOf(e){return fl(e.base_)},setPrototypeOf(){Hn(12)}},ou={};Eu(Fx,(e,t)=>{ou[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});ou.deleteProperty=function(e,t){return ou.set.call(this,e,t,void 0)};ou.set=function(e,t,r){return Fx.set.call(this,e[0],t,r,e[0])};function Vv(e,t){const r=e[Nr];return(r?za(r):e)[t]}function lZ(e,t,r){const n=jP(t,r);return n?iu in n?n[iu]:n.get?.call(e.draft_):void 0}function jP(e,t){if(!(t in e))return;let r=fl(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=fl(r)}}function hb(e){e.modified_||(e.modified_=!0,e.parent_&&hb(e.parent_))}function Xf(e){e.copy_||(e.assigned_=new Map,e.copy_=cb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var cZ=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(Xo(r)&&!Xo(n)){const l=n;n=r;const u=this;return function(f=l,...m){return u.produce(f,g=>n.call(this,g,...m))}}Xo(n)||Hn(6),a!==void 0&&!Xo(a)&&Hn(7);let s;if(Wn(r)){const l=DE(this),u=mb(l,r,void 0);let d=!0;try{s=n(u),d=!1}finally{d?db(l):fb(l)}return PE(l,a),ME(s,l)}else if(!r||!Ux(r)){if(s=n(r),s===void 0&&(s=r),s===yP&&(s=void 0),this.autoFreeze_&&qx(s,!0),a){const l=[],u=[];hl(ub).generateReplacementPatches_(r,s,{patches_:l,inversePatches_:u}),a(l,u)}return s}else Hn(1,r)},this.produceWithPatches=(r,n)=>{if(Xo(r))return(u,...d)=>this.produceWithPatches(u,f=>r(f,...d));let a,s;return[this.produce(r,n,(u,d)=>{a=u,s=d}),a,s]},Fv(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Fv(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Fv(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Wn(t)||Hn(8),Xa(t)&&(t=Zn(t));const r=DE(this),n=mb(r,t,void 0);return n[Nr].isManual_=!0,fb(r),n}finishDraft(t,r){const n=t&&t[Nr];(!n||!n.isManual_)&&Hn(9);const{scope_:a}=n;return PE(a,r),ME(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const s=r[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(r=r.slice(n+1));const a=hl(ub).applyPatches_;return Xa(t)?a(t,r):this.produce(t,s=>a(s,r))}};function mb(e,t,r,n){const[a,s]=$0(t)?hl(Oh).proxyMap_(t,r):L0(t)?hl(Oh).proxySet_(t,r):oZ(t,r);return(r?.scope_??wP()).drafts_.push(a),s.callbacks_=r?.callbacks_??[],s.key_=n,r&&n!==void 0?iZ(r,s,n):s.callbacks_.push(function(d){d.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:f}=d;s.modified_&&f&&f.generatePatches_(s,[],d)}),a}function Zn(e){return Xa(e)||Hn(10,e),EP(e)}function EP(e){if(!Wn(e)||I0(e))return e;const t=e[Nr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=cb(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=cb(e,!0);return Eu(r,(a,s)=>{Eh(r,a,EP(s))},n),t&&(t.finalized_=!1),r}var uZ=new cZ,OP=uZ.produce;function NP(e){return({dispatch:r,getState:n})=>a=>s=>typeof s=="function"?s(r,n,e):a(s)}var dZ=NP(),fZ=NP,hZ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Sh:Sh.apply(null,arguments)};function Pn(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(cn(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>vP(n)&&n.type===e,r}var AP=class Hc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Hc.prototype)}static get[Symbol.species](){return Hc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Hc(...t[0].concat(this)):new Hc(...t.concat(this))}};function $E(e){return Wn(e)?OP(e,()=>{}):e}function Cf(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function mZ(e){return typeof e=="boolean"}var pZ=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=t??{};let l=new AP;return r&&(mZ(r)?l.push(dZ):l.push(fZ(r.extraArgument))),l},TP="RTK_autoBatch",mt=()=>e=>({payload:e,meta:{[TP]:!0}}),LE=e=>t=>{setTimeout(t,e)},CP=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,s=!1,l=!1;const u=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:LE(10):e.type==="callback"?e.queueNotification:LE(e.timeout),f=()=>{l=!1,s&&(s=!1,u.forEach(m=>m()))};return Object.assign({},n,{subscribe(m){const g=()=>a&&m(),v=n.subscribe(g);return u.add(m),()=>{v(),u.delete(m)}},dispatch(m){try{return a=!m?.meta?.[TP],s=!a,s&&(l||(l=!0,d(f))),n.dispatch(m)}finally{a=!0}}})},gZ=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new AP(e);return n&&a.push(CP(typeof n=="object"?n:void 0)),a};function vZ(e){const t=pZ(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:s=void 0,enhancers:l=void 0}=e||{};let u;if(typeof r=="function")u=r;else if(zx(r))u=gP(r);else throw new Error(cn(1));let d;typeof n=="function"?d=n(t):d=t();let f=Sh;a&&(f=hZ({trace:!1,...typeof a=="object"&&a}));const m=WK(...d),g=gZ(m);let v=typeof l=="function"?l(g):g();const y=f(...v);return pP(u,s,y)}function PP(e){const t={},r=[];let n;const a={addCase(s,l){const u=typeof s=="string"?s:s.type;if(!u)throw new Error(cn(28));if(u in t)throw new Error(cn(29));return t[u]=l,a},addAsyncThunk(s,l){return l.pending&&(t[s.pending.type]=l.pending),l.rejected&&(t[s.rejected.type]=l.rejected),l.fulfilled&&(t[s.fulfilled.type]=l.fulfilled),l.settled&&r.push({matcher:s.settled,reducer:l.settled}),a},addMatcher(s,l){return r.push({matcher:s,reducer:l}),a},addDefaultCase(s){return n=s,a}};return e(a),[t,r,n]}function yZ(e){return typeof e=="function"}function bZ(e,t){let[r,n,a]=PP(t),s;if(yZ(e))s=()=>$E(e());else{const u=$E(e);s=()=>u}function l(u=s(),d){let f=[r[d.type],...n.filter(({matcher:m})=>m(d)).map(({reducer:m})=>m)];return f.filter(m=>!!m).length===0&&(f=[a]),f.reduce((m,g)=>{if(g)if(Xa(m)){const y=g(m,d);return y===void 0?m:y}else{if(Wn(m))return OP(m,v=>g(v,d));{const v=g(m,d);if(v===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return m},u)}return l.getInitialState=s,l}var xZ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",wZ=(e=21)=>{let t="",r=e;for(;r--;)t+=xZ[Math.random()*64|0];return t},_Z=Symbol.for("rtk-slice-createasyncthunk");function SZ(e,t){return`${e}/${t}`}function kZ({creators:e}={}){const t=e?.asyncThunk?.[_Z];return function(n){const{name:a,reducerPath:s=a}=n;if(!a)throw new Error(cn(11));const l=(typeof n.reducers=="function"?n.reducers(EZ()):n.reducers)||{},u=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(E,C){const A=typeof E=="string"?E:E.type;if(!A)throw new Error(cn(12));if(A in d.sliceCaseReducersByType)throw new Error(cn(13));return d.sliceCaseReducersByType[A]=C,f},addMatcher(E,C){return d.sliceMatchers.push({matcher:E,reducer:C}),f},exposeAction(E,C){return d.actionCreators[E]=C,f},exposeCaseReducer(E,C){return d.sliceCaseReducersByName[E]=C,f}};u.forEach(E=>{const C=l[E],A={reducerName:E,type:SZ(a,E),createNotation:typeof n.reducers=="function"};NZ(C)?TZ(A,C,f,t):OZ(A,C,f)});function m(){const[E={},C=[],A=void 0]=typeof n.extraReducers=="function"?PP(n.extraReducers):[n.extraReducers],T={...E,...d.sliceCaseReducersByType};return bZ(n.initialState,P=>{for(let M in T)P.addCase(M,T[M]);for(let M of d.sliceMatchers)P.addMatcher(M.matcher,M.reducer);for(let M of C)P.addMatcher(M.matcher,M.reducer);A&&P.addDefaultCase(A)})}const g=E=>E,v=new Map,y=new WeakMap;let _;function k(E,C){return _||(_=m()),_(E,C)}function S(){return _||(_=m()),_.getInitialState()}function j(E,C=!1){function A(P){let M=P[E];return typeof M>"u"&&C&&(M=Cf(y,A,S)),M}function T(P=g){const M=Cf(v,C,()=>new WeakMap);return Cf(M,P,()=>{const R={};for(const[L,$]of Object.entries(n.selectors??{}))R[L]=jZ($,P,()=>Cf(y,P,S),C);return R})}return{reducerPath:E,getSelectors:T,get selectors(){return T(A)},selectSlice:A}}const N={name:a,reducer:k,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:S,...j(s),injectInto(E,{reducerPath:C,...A}={}){const T=C??s;return E.inject({reducerPath:T,reducer:k},A),{...N,...j(T,!0)}}};return N}}function jZ(e,t,r,n){function a(s,...l){let u=t(s);return typeof u>"u"&&n&&(u=r()),e(u,...l)}return a.unwrapped=e,a}var Zr=kZ();function EZ(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function OZ({type:e,reducerName:t,createNotation:r},n,a){let s,l;if("reducer"in n){if(r&&!AZ(n))throw new Error(cn(17));s=n.reducer,l=n.prepare}else s=n;a.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,l?Pn(e,l):Pn(e))}function NZ(e){return e._reducerDefinitionType==="asyncThunk"}function AZ(e){return e._reducerDefinitionType==="reducerWithPrepare"}function TZ({type:e,reducerName:t},r,n,a){if(!a)throw new Error(cn(18));const{payloadCreator:s,fulfilled:l,pending:u,rejected:d,settled:f,options:m}=r,g=a(e,s,m);n.exposeAction(t,g),l&&n.addCase(g.fulfilled,l),u&&n.addCase(g.pending,u),d&&n.addCase(g.rejected,d),f&&n.addMatcher(g.settled,f),n.exposeCaseReducer(t,{fulfilled:l||Pf,pending:u||Pf,rejected:d||Pf,settled:f||Pf})}function Pf(){}var CZ="task",DP="listener",MP="completed",Vx="cancelled",PZ=`task-${Vx}`,DZ=`task-${MP}`,pb=`${DP}-${Vx}`,MZ=`${DP}-${MP}`,U0=class{constructor(e){this.code=e,this.message=`${CZ} ${Vx} (reason: ${e})`}name="TaskAbortError";message},Kx=(e,t)=>{if(typeof e!="function")throw new TypeError(cn(32))},Nh=()=>{},RP=(e,t=Nh)=>(e.catch(t),e),$P=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Rs=e=>{if(e.aborted)throw new U0(e.reason)};function LP(e,t){let r=Nh;return new Promise((n,a)=>{const s=()=>a(new U0(e.reason));if(e.aborted){s();return}r=$P(e,s),t.finally(()=>r()).then(n,a)}).finally(()=>{r=Nh})}var RZ=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof U0?"cancelled":"rejected",error:r}}finally{t?.()}},Ah=e=>t=>RP(LP(e,t).then(r=>(Rs(e),r))),IP=e=>{const t=Ah(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:sl}=Object,IE={},B0="listenerMiddleware",$Z=(e,t)=>{const r=n=>$P(e,()=>n.abort(e.reason));return(n,a)=>{Kx(n);const s=new AbortController;r(s);const l=RZ(async()=>{Rs(e),Rs(s.signal);const u=await n({pause:Ah(s.signal),delay:IP(s.signal),signal:s.signal});return Rs(s.signal),u},()=>s.abort(DZ));return a?.autoJoin&&t.push(l.catch(Nh)),{result:Ah(e)(l),cancel(){s.abort(PZ)}}}},LZ=(e,t)=>{const r=async(n,a)=>{Rs(t);let s=()=>{};const u=[new Promise((d,f)=>{let m=e({predicate:n,effect:(g,v)=>{v.unsubscribe(),d([g,v.getState(),v.getOriginalState()])}});s=()=>{m(),f()}})];a!=null&&u.push(new Promise(d=>setTimeout(d,a,null)));try{const d=await LP(t,Promise.race(u));return Rs(t),d}finally{s()}};return(n,a)=>RP(r(n,a))},zP=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:s}=e;if(t)a=Pn(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(cn(21));return Kx(s),{predicate:a,type:t,effect:s}},UP=sl(e=>{const{type:t,predicate:r,effect:n}=zP(e);return{id:wZ(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(cn(22))}}},{withTypes:()=>UP}),zE=(e,t)=>{const{type:r,effect:n,predicate:a}=zP(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===a)&&s.effect===n)},gb=e=>{e.pending.forEach(t=>{t.abort(pb)})},IZ=(e,t)=>()=>{for(const r of t.keys())gb(r);e.clear()},UE=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},BP=sl(Pn(`${B0}/add`),{withTypes:()=>BP}),zZ=Pn(`${B0}/removeAll`),qP=sl(Pn(`${B0}/remove`),{withTypes:()=>qP}),UZ=(...e)=>{console.error(`${B0}/error`,...e)},Nu=(e={})=>{const t=new Map,r=new Map,n=y=>{const _=r.get(y)??0;r.set(y,_+1)},a=y=>{const _=r.get(y)??1;_===1?r.delete(y):r.set(y,_-1)},{extra:s,onError:l=UZ}=e;Kx(l);const u=y=>(y.unsubscribe=()=>t.delete(y.id),t.set(y.id,y),_=>{y.unsubscribe(),_?.cancelActive&&gb(y)}),d=y=>{const _=zE(t,y)??UP(y);return u(_)};sl(d,{withTypes:()=>d});const f=y=>{const _=zE(t,y);return _&&(_.unsubscribe(),y.cancelActive&&gb(_)),!!_};sl(f,{withTypes:()=>f});const m=async(y,_,k,S)=>{const j=new AbortController,N=LZ(d,j.signal),E=[];try{y.pending.add(j),n(y),await Promise.resolve(y.effect(_,sl({},k,{getOriginalState:S,condition:(C,A)=>N(C,A).then(Boolean),take:N,delay:IP(j.signal),pause:Ah(j.signal),extra:s,signal:j.signal,fork:$Z(j.signal,E),unsubscribe:y.unsubscribe,subscribe:()=>{t.set(y.id,y)},cancelActiveListeners:()=>{y.pending.forEach((C,A,T)=>{C!==j&&(C.abort(pb),T.delete(C))})},cancel:()=>{j.abort(pb),y.pending.delete(j)},throwIfCancelled:()=>{Rs(j.signal)}})))}catch(C){C instanceof U0||UE(l,C,{raisedBy:"effect"})}finally{await Promise.all(E),j.abort(MZ),a(y),y.pending.delete(j)}},g=IZ(t,r);return{middleware:y=>_=>k=>{if(!vP(k))return _(k);if(BP.match(k))return d(k.payload);if(zZ.match(k)){g();return}if(qP.match(k))return f(k.payload);let S=y.getState();const j=()=>{if(S===IE)throw new Error(cn(23));return S};let N;try{if(N=_(k),t.size>0){const E=y.getState(),C=Array.from(t.values());for(const A of C){let T=!1;try{T=A.predicate(k,E,S)}catch(P){T=!1,UE(l,P,{raisedBy:"predicate"})}T&&m(A,k,y,j)}}}finally{S=IE}return N},startListening:d,stopListening:f,clearListeners:g}};function cn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var BZ={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},HP=Zr({name:"chartLayout",initialState:BZ,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,s;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:qZ,setLayout:HZ,setChartSize:FZ,setScale:VZ}=HP.actions,KZ=HP.reducer;function FP(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function BE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BE(Object(r),!0).forEach(function(n){ZZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZZ(e,t,r){return(t=GZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GZ(e){var t=YZ(e,"string");return typeof t=="symbol"?t:t+""}function YZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xr(e,t,r){return lr(e)||lr(t)?r:Cn(t)?P0(e,t,r):typeof t=="function"?t(e):r}var WZ=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:s,verticalAlign:l,layout:u}=t;if((u==="vertical"||u==="horizontal"&&l==="middle")&&s!=="center"&&Oe(e[s]))return Qo(Qo({},e),{},{[s]:e[s]+(n||0)});if((u==="horizontal"||u==="vertical"&&s==="center")&&l!=="middle"&&Oe(e[l]))return Qo(Qo({},e),{},{[l]:e[l]+(a||0)})}return e},ii=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",VP=(e,t,r,n)=>{if(n)return e.map(u=>u.coordinate);var a,s,l=e.map(u=>(u.coordinate===t&&(a=!0),u.coordinate===r&&(s=!0),u.coordinate));return a||l.push(t),s||l.push(r),l},KP=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:s,scale:l,realScaleType:u,isCategorical:d,categoricalDomain:f,tickCount:m,ticks:g,niceTicks:v,axisType:y}=e;if(!l)return null;var _=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,k=a==="category"&&l.bandwidth?l.bandwidth()/_:0;if(k=y==="angleAxis"&&s&&s.length>=2?An(s[0]-s[1])*2*k:k,g||v){var S=(g||v||[]).map((j,N)=>{var E=n?n.indexOf(j):j;return{coordinate:l(E)+k,value:j,offset:k,index:N}});return S.filter(j=>!fn(j.coordinate))}return d&&f?f.map((j,N)=>({coordinate:l(j)+k,value:j,index:N,offset:k})):l.ticks&&m!=null?l.ticks(m).map((j,N)=>({coordinate:l(j)+k,value:j,offset:k,index:N})):l.domain().map((j,N)=>({coordinate:l(j)+k,value:n?n[j]:j,index:N,offset:k}))},qE=1e-4,XZ=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-qE,s=Math.max(n[0],n[1])+qE,l=e(t[0]),u=e(t[r-1]);(l<a||l>s||u<a||u>s)&&e.domain([t[0],t[r-1]])}},JZ=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,s=0,l=0;l<t;++l){var u=fn(e[l][r][1])?e[l][r][0]:e[l][r][1];u>=0?(e[l][r][0]=a,e[l][r][1]=a+u,a=e[l][r][1]):(e[l][r][0]=s,e[l][r][1]=s+u,s=e[l][r][1])}},QZ=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,s=0;s<t;++s){var l=fn(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},eG={sign:JZ,expand:IV,none:dl,silhouette:zV,wiggle:UV,positive:QZ},tG=(e,t,r)=>{var n=eG[r],a=LV().keys(t).value((s,l)=>Number(xr(s,l,0))).order(sb).offset(n);return a(e)};function rG(e){return e==null?void 0:String(e)}function HE(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:s,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!lr(a[t.dataKey])){var u=eP(r,"value",a[t.dataKey]);if(u)return u.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var d=xr(a,lr(l)?t.dataKey:l);return lr(d)?null:t.scale(d)}var nG=e=>{var t=e.flat(2).filter(Oe);return[Math.min(...t),Math.max(...t)]},aG=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],iG=(e,t,r)=>{if(e!=null)return aG(Object.keys(e).reduce((n,a)=>{var s=e[a],{stackedData:l}=s,u=l.reduce((d,f)=>{var m=FP(f,t,r),g=nG(m);return[Math.min(d[0],g[0]),Math.max(d[1],g[1])]},[1/0,-1/0]);return[Math.min(u[0],n[0]),Math.max(u[1],n[1])]},[1/0,-1/0]))},FE=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,VE=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Th=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=D0(t,m=>m.coordinate),s=1/0,l=1,u=a.length;l<u;l++){var d=a[l],f=a[l-1];s=Math.min((d.coordinate||0)-(f.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function KE(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:s}=e;return Qo(Qo({},t),{},{dataKey:r,payload:n,value:a,name:s})}function ZP(e,t){if(e)return String(e);if(typeof t=="string")return t}var sG=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},oG=(e,t)=>t==="centric"?e.angle:e.radius,si=e=>e.layout.width,oi=e=>e.layout.height,lG=e=>e.layout.scale,GP=e=>e.layout.margin,q0=ne(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),H0=ne(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),cG="data-recharts-item-index",uG="data-recharts-item-data-key",Au=60;function ZE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Df(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZE(Object(r),!0).forEach(function(n){dG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dG(e,t,r){return(t=fG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fG(e){var t=hG(e,"string");return typeof t=="symbol"?t:t+""}function hG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mG=e=>e.brush.height;function pG(e){var t=H0(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Au;return r+a}return r},0)}function gG(e){var t=H0(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Au;return r+a}return r},0)}function vG(e){var t=q0(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function yG(e){var t=q0(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var dr=ne([si,oi,GP,mG,pG,gG,vG,yG,mP,FK],(e,t,r,n,a,s,l,u,d,f)=>{var m={left:(r.left||0)+a,right:(r.right||0)+s},g={top:(r.top||0)+l,bottom:(r.bottom||0)+u},v=Df(Df({},g),m),y=v.bottom;v.bottom+=n,v=WZ(v,d,f);var _=e-v.left-v.right,k=t-v.top-v.bottom;return Df(Df({brushBottom:y},v),{},{width:Math.max(_,0),height:Math.max(k,0)})}),bG=ne(dr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),YP=ne(si,oi,(e,t)=>({x:0,y:0,width:e,height:t})),xG=x.createContext(null),Tr=()=>x.useContext(xG)!=null,F0=e=>e.brush,V0=ne([F0,dr,GP],(e,t,r)=>({height:e.height,x:Oe(e.x)?e.x:t.left,y:Oe(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:Oe(e.width)?e.width:t.width})),Kv={},Zv={},Gv={},GE;function wG(){return GE||(GE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:s}={}){let l,u=null;const d=s!=null&&s.includes("leading"),f=s==null||s.includes("trailing"),m=()=>{u!==null&&(r.apply(l,u),l=void 0,u=null)},g=()=>{f&&m(),k()};let v=null;const y=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,g()},n)},_=()=>{v!==null&&(clearTimeout(v),v=null)},k=()=>{_(),l=void 0,u=null},S=()=>{m()},j=function(...N){if(a?.aborted)return;l=this,u=N;const E=v==null;y(),d&&E&&m()};return j.schedule=y,j.cancel=k,j.flush=S,a?.addEventListener("abort",k,{once:!0}),j}e.debounce=t})(Gv)),Gv}var YE;function _G(){return YE||(YE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wG();function r(n,a=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:u=!0,maxWait:d}=s,f=Array(2);l&&(f[0]="leading"),u&&(f[1]="trailing");let m,g=null;const v=t.debounce(function(...k){m=n.apply(this,k),g=null},a,{edges:f}),y=function(...k){return d!=null&&(g===null&&(g=Date.now()),Date.now()-g>=d)?(m=n.apply(this,k),g=Date.now(),v.cancel(),v.schedule(),m):(v.apply(this,k),m)},_=()=>(v.flush(),m);return y.cancel=v.cancel,y.flush=_,y}e.debounce=r})(Zv)),Zv}var WE;function SG(){return WE||(WE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_G();function r(n,a=0,s={}){const{leading:l=!0,trailing:u=!0}=s;return t.debounce(n,a,{leading:l,maxWait:a,trailing:u})}e.throttle=r})(Kv)),Kv}var Yv,XE;function kG(){return XE||(XE=1,Yv=SG().throttle),Yv}var jG=kG();const EG=ri(jG);var Ch=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(r.replace(/%s/g,()=>a[l++]))}},WP=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:s,maxHeight:l}=r,u=Wa(n)?e:Number(n),d=Wa(a)?t:Number(a);return s&&s>0&&(u?d=u/s:d&&(u=d*s),l&&d!=null&&d>l&&(d=l)),{calculatedWidth:u,calculatedHeight:d}},OG={width:0,height:0,overflow:"visible"},NG={width:0,overflowX:"visible"},AG={height:0,overflowY:"visible"},TG={},CG=e=>{var{width:t,height:r}=e,n=Wa(t),a=Wa(r);return n&&a?OG:n?NG:a?AG:TG};function PG(e){var{width:t,height:r,aspect:n}=e,a=t,s=r;return a===void 0&&s===void 0?(a="100%",s="100%"):a===void 0?a=n&&n>0?void 0:"100%":s===void 0&&(s=n&&n>0?void 0:"100%"),{width:a,height:s}}function at(e){return Number.isFinite(e)}function ha(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function vb(){return vb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vb.apply(null,arguments)}function JE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function QE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JE(Object(r),!0).forEach(function(n){DG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DG(e,t,r){return(t=MG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MG(e){var t=RG(e,"string");return typeof t=="symbol"?t:t+""}function RG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XP=x.createContext({width:-1,height:-1});function $G(e){return ha(e.width)&&ha(e.height)}function JP(e){var{children:t,width:r,height:n}=e,a=x.useMemo(()=>({width:r,height:n}),[r,n]);return $G(a)?x.createElement(XP.Provider,{value:a},t):null}var Zx=()=>x.useContext(XP),LG=x.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:s,minWidth:l=0,minHeight:u,maxHeight:d,children:f,debounce:m=0,id:g,className:v,onResize:y,style:_={}}=e,k=x.useRef(null),S=x.useRef();S.current=y,x.useImperativeHandle(t,()=>k.current);var[j,N]=x.useState({containerWidth:n.width,containerHeight:n.height}),E=x.useCallback((M,R)=>{N(L=>{var $=Math.round(M),q=Math.round(R);return L.containerWidth===$&&L.containerHeight===q?L:{containerWidth:$,containerHeight:q}})},[]);x.useEffect(()=>{if(k.current==null||typeof ResizeObserver>"u")return ju;var M=q=>{var V,{width:Q,height:ae}=q[0].contentRect;E(Q,ae),(V=S.current)===null||V===void 0||V.call(S,Q,ae)};m>0&&(M=EG(M,m,{trailing:!0,leading:!1}));var R=new ResizeObserver(M),{width:L,height:$}=k.current.getBoundingClientRect();return E(L,$),R.observe(k.current),()=>{R.disconnect()}},[E,m]);var{containerWidth:C,containerHeight:A}=j;Ch(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:T,calculatedHeight:P}=WP(C,A,{width:a,height:s,aspect:r,maxHeight:d});return Ch(T!=null&&T>0||P!=null&&P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,T,P,a,s,l,u,r),x.createElement("div",{id:g?"".concat(g):void 0,className:it("recharts-responsive-container",v),style:QE(QE({},_),{},{width:a,height:s,minWidth:l,minHeight:u,maxHeight:d}),ref:k},x.createElement("div",{style:CG({width:a,height:s})},x.createElement(JP,{width:T,height:P},f)))}),IG=x.forwardRef((e,t)=>{var r=Zx();if(ha(r.width)&&ha(r.height))return e.children;var{width:n,height:a}=PG({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:l}=WP(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return Oe(s)&&Oe(l)?x.createElement(JP,{width:s,height:l},e.children):x.createElement(LG,vb({},e,{width:n,height:a,ref:t}))});function QP(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Tu=()=>{var e,t=Tr(),r=Ee(bG),n=Ee(V0),a=(e=Ee(F0))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},zG={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},eD=()=>{var e;return(e=Ee(dr))!==null&&e!==void 0?e:zG},tD=()=>Ee(si),rD=()=>Ee(oi),st=e=>e.layout.layoutType,Cu=()=>Ee(st),UG=()=>{var e=Cu();if(e==="horizontal"||e==="vertical")return e},BG=()=>{var e=Cu();return e!==void 0},K0=e=>{var t=Bt(),r=Tr(),{width:n,height:a}=e,s=Zx(),l=n,u=a;return s&&(l=s.width>0?s.width:n,u=s.height>0?s.height:a),x.useEffect(()=>{!r&&ha(l)&&ha(u)&&t(FZ({width:l,height:u}))},[t,r,l,u]),null},nD=Symbol.for("immer-nothing"),eO=Symbol.for("immer-draftable"),hn=Symbol.for("immer-state");function Fn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var lu=Object.getPrototypeOf;function ml(e){return!!e&&!!e[hn]}function qs(e){return e?aD(e)||Array.isArray(e)||!!e[eO]||!!e.constructor?.[eO]||Pu(e)||G0(e):!1}var qG=Object.prototype.constructor.toString(),tO=new WeakMap;function aD(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=tO.get(r);return n===void 0&&(n=Function.toString.call(r),tO.set(r,n)),n===qG}function Ph(e,t,r=!0){Z0(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Z0(e){const t=e[hn];return t?t.type_:Array.isArray(e)?1:Pu(e)?2:G0(e)?3:0}function yb(e,t){return Z0(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function iD(e,t,r){const n=Z0(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function HG(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Pu(e){return e instanceof Map}function G0(e){return e instanceof Set}function ks(e){return e.copy_||e.base_}function bb(e,t){if(Pu(e))return new Map(e);if(G0(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=aD(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[hn];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const l=a[s],u=n[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(n[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[l]})}return Object.create(lu(e),n)}else{const n=lu(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function Gx(e,t=!1){return Y0(e)||ml(e)||!qs(e)||(Z0(e)>1&&Object.defineProperties(e,{set:Mf,add:Mf,clear:Mf,delete:Mf}),Object.freeze(e),t&&Object.values(e).forEach(r=>Gx(r,!0))),e}function FG(){Fn(2)}var Mf={value:FG};function Y0(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var VG={};function Hs(e){const t=VG[e];return t||Fn(0,e),t}var cu;function sD(){return cu}function KG(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function rO(e,t){t&&(Hs("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function xb(e){wb(e),e.drafts_.forEach(ZG),e.drafts_=null}function wb(e){e===cu&&(cu=e.parent_)}function nO(e){return cu=KG(cu,e)}function ZG(e){const t=e[hn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function aO(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[hn].modified_&&(xb(t),Fn(4)),qs(e)&&(e=Dh(t,e),t.parent_||Mh(t,e)),t.patches_&&Hs("Patches").generateReplacementPatches_(r[hn].base_,e,t.patches_,t.inversePatches_)):e=Dh(t,r,[]),xb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==nD?e:void 0}function Dh(e,t,r){if(Y0(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[hn];if(!a)return Ph(t,(s,l)=>iO(e,a,t,s,l,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return Mh(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let l=s,u=!1;a.type_===3&&(l=new Set(s),s.clear(),u=!0),Ph(l,(d,f)=>iO(e,a,s,d,f,r,u),n),Mh(e,s,!1),r&&e.patches_&&Hs("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function iO(e,t,r,n,a,s,l){if(a==null||typeof a!="object"&&!l)return;const u=Y0(a);if(!(u&&!l)){if(ml(a)){const d=s&&t&&t.type_!==3&&!yb(t.assigned_,n)?s.concat(n):void 0,f=Dh(e,a,d);if(iD(r,n,f),ml(f))e.canAutoFreeze_=!1;else return}else l&&r.add(a);if(qs(a)&&!u){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&u)return;Dh(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Pu(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Mh(e,a)}}}function Mh(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Gx(t,r)}function GG(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:sD(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=Yx;r&&(a=[n],s=uu);const{revoke:l,proxy:u}=Proxy.revocable(a,s);return n.draft_=u,n.revoke_=l,u}var Yx={get(e,t){if(t===hn)return e;const r=ks(e);if(!yb(r,t))return YG(e,r,t);const n=r[t];return e.finalized_||!qs(n)?n:n===Wv(e.base_,t)?(Xv(e),e.copy_[t]=Sb(n,e)):n},has(e,t){return t in ks(e)},ownKeys(e){return Reflect.ownKeys(ks(e))},set(e,t,r){const n=oD(ks(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Wv(ks(e),t),s=a?.[hn];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(HG(r,a)&&(r!==void 0||yb(e.base_,t)))return!0;Xv(e),_b(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Wv(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Xv(e),_b(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=ks(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Fn(11)},getPrototypeOf(e){return lu(e.base_)},setPrototypeOf(){Fn(12)}},uu={};Ph(Yx,(e,t)=>{uu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});uu.deleteProperty=function(e,t){return uu.set.call(this,e,t,void 0)};uu.set=function(e,t,r){return Yx.set.call(this,e[0],t,r,e[0])};function Wv(e,t){const r=e[hn];return(r?ks(r):e)[t]}function YG(e,t,r){const n=oD(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function oD(e,t){if(!(t in e))return;let r=lu(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=lu(r)}}function _b(e){e.modified_||(e.modified_=!0,e.parent_&&_b(e.parent_))}function Xv(e){e.copy_||(e.copy_=bb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var WG=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const l=this;return function(d=s,...f){return l.produce(d,m=>r.call(this,m,...f))}}typeof r!="function"&&Fn(6),n!==void 0&&typeof n!="function"&&Fn(7);let a;if(qs(t)){const s=nO(this),l=Sb(t,void 0);let u=!0;try{a=r(l),u=!1}finally{u?xb(s):wb(s)}return rO(s,n),aO(a,s)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===nD&&(a=void 0),this.autoFreeze_&&Gx(a,!0),n){const s=[],l=[];Hs("Patches").generateReplacementPatches_(t,a,s,l),n(s,l)}return a}else Fn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(l,...u)=>this.produceWithPatches(l,d=>t(d,...u));let n,a;return[this.produce(t,r,(l,u)=>{n=l,a=u}),n,a]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){qs(e)||Fn(8),ml(e)&&(e=XG(e));const t=nO(this),r=Sb(e,void 0);return r[hn].isManual_=!0,wb(t),r}finishDraft(e,t){const r=e&&e[hn];(!r||!r.isManual_)&&Fn(9);const{scope_:n}=r;return rO(n,t),aO(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=Hs("Patches").applyPatches_;return ml(e)?n(e,t):this.produce(e,a=>n(a,t))}};function Sb(e,t){const r=Pu(e)?Hs("MapSet").proxyMap_(e,t):G0(e)?Hs("MapSet").proxySet_(e,t):GG(e,t);return(t?t.scope_:sD()).drafts_.push(r),r}function XG(e){return ml(e)||Fn(10,e),lD(e)}function lD(e){if(!qs(e)||Y0(e))return e;const t=e[hn];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=bb(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=bb(e,!0);return Ph(r,(a,s)=>{iD(r,a,lD(s))},n),t&&(t.finalized_=!1),r}var JG=new WG;JG.produce;var QG={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},cD=Zr({name:"legend",initialState:QG,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:mt()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Zn(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:mt()},removeLegendPayload:{reducer(e,t){var r=Zn(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:mt()}}}),{setLegendSize:yce,setLegendSettings:bce,addLegendPayload:eY,replaceLegendPayload:tY,removeLegendPayload:rY}=cD.actions,nY=cD.reducer;function kb(){return kb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kb.apply(null,arguments)}function sO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sO(Object(r),!0).forEach(function(n){aY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aY(e,t,r){return(t=iY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iY(e){var t=sY(e,"string");return typeof t=="symbol"?t:t+""}function sY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oY(e){return Array.isArray(e)&&Cn(e[0])&&Cn(e[1])?e.join(" ~ "):e}var lY=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:s,formatter:l,itemSorter:u,wrapperClassName:d,labelClassName:f,label:m,labelFormatter:g,accessibilityLayer:v=!1}=e,y=()=>{if(s&&s.length){var A={padding:0,margin:0},T=(u?D0(s,u):s).map((P,M)=>{if(P.type==="none")return null;var R=P.formatter||l||oY,{value:L,name:$}=P,q=L,V=$;if(R){var Q=R(L,$,P,M,s);if(Array.isArray(Q))[q,V]=Q;else if(Q!=null)q=Q;else return null}var ae=Jv({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},n);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:ae},Cn(V)?x.createElement("span",{className:"recharts-tooltip-item-name"},V):null,Cn(V)?x.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,x.createElement("span",{className:"recharts-tooltip-item-value"},q),x.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:A},T)}return null},_=Jv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),k=Jv({margin:0},a),S=!lr(m),j=S?m:"",N=it("recharts-default-tooltip",d),E=it("recharts-tooltip-label",f);S&&g&&s!==void 0&&s!==null&&(j=g(m,s));var C=v?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",kb({className:N,style:_},C),x.createElement("p",{className:E,style:k},x.isValidElement(j)?j:"".concat(j)),y())},Ac="recharts-tooltip-wrapper",cY={visibility:"hidden"};function uY(e){var{coordinate:t,translateX:r,translateY:n}=e;return it(Ac,{["".concat(Ac,"-right")]:Oe(r)&&t&&Oe(t.x)&&r>=t.x,["".concat(Ac,"-left")]:Oe(r)&&t&&Oe(t.x)&&r<t.x,["".concat(Ac,"-bottom")]:Oe(n)&&t&&Oe(t.y)&&n>=t.y,["".concat(Ac,"-top")]:Oe(n)&&t&&Oe(t.y)&&n<t.y})}function oO(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:s,reverseDirection:l,tooltipDimension:u,viewBox:d,viewBoxDimension:f}=e;if(s&&Oe(s[n]))return s[n];var m=r[n]-u-(a>0?a:0),g=r[n]+a;if(t[n])return l[n]?m:g;var v=d[n];if(v==null)return 0;if(l[n]){var y=m,_=v;return y<_?Math.max(g,v):Math.max(m,v)}if(f==null)return 0;var k=g+u,S=v+f;return k>S?Math.max(m,v):Math.max(g,v)}function dY(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function fY(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:s,tooltipBox:l,useTranslate3d:u,viewBox:d}=e,f,m,g;return l.height>0&&l.width>0&&r?(m=oO({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),g=oO({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),f=dY({translateX:m,translateY:g,useTranslate3d:u})):f=cY,{cssProperties:f,cssClasses:uY({translateX:m,translateY:g,coordinate:r})}}function lO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lO(Object(r),!0).forEach(function(n){jb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jb(e,t,r){return(t=hY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hY(e){var t=mY(e,"string");return typeof t=="symbol"?t:t+""}function mY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class pY extends x.PureComponent{constructor(){super(...arguments),jb(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),jb(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:s,coordinate:l,hasPayload:u,isAnimationActive:d,offset:f,position:m,reverseDirection:g,useTranslate3d:v,viewBox:y,wrapperStyle:_,lastBoundingBox:k,innerRef:S,hasPortalFromProps:j}=this.props,{cssClasses:N,cssProperties:E}=fY({allowEscapeViewBox:r,coordinate:l,offsetTopLeft:f,position:m,reverseDirection:g,tooltipBox:{height:k.height,width:k.width},useTranslate3d:v,viewBox:y}),C=j?{}:Rf(Rf({transition:d&&t?"transform ".concat(n,"ms ").concat(a):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),A=Rf(Rf({},C),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},_);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:N,style:A,ref:S},s)}}var uD=()=>{var e;return(e=Ee(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Eb(){return Eb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Eb.apply(null,arguments)}function cO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cO(Object(r),!0).forEach(function(n){gY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gY(e,t,r){return(t=vY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vY(e){var t=yY(e,"string");return typeof t=="symbol"?t:t+""}function yY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dO={curveBasisClosed:EV,curveBasisOpen:OV,curveBasis:jV,curveBumpX:SV,curveBumpY:kV,curveLinearClosed:NV,curveLinear:T0,curveMonotoneX:AV,curveMonotoneY:TV,curveNatural:CV,curveStep:PV,curveStepAfter:MV,curveStepBefore:DV},Rh=e=>at(e.x)&&at(e.y),fO=e=>e.base!=null&&Rh(e.base)&&Rh(e),Tc=e=>e.x,Cc=e=>e.y,bY=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Rx(e));return(r==="curveMonotone"||r==="curveBump")&&t?dO["".concat(r).concat(t==="vertical"?"Y":"X")]:dO[r]||T0},xY=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:s=!1}=e,l=bY(t,a),u=s?r.filter(Rh):r,d;if(Array.isArray(n)){var f=r.map((y,_)=>uO(uO({},y),{},{base:n[_]}));a==="vertical"?d=Of().y(Cc).x1(Tc).x0(y=>y.base.x):d=Of().x(Tc).y1(Cc).y0(y=>y.base.y);var m=d.defined(fO).curve(l),g=s?f.filter(fO):f;return m(g)}a==="vertical"&&Oe(n)?d=Of().y(Cc).x1(Tc).x0(n):Oe(n)?d=Of().x(Tc).y1(Cc).y0(n):d=HC().x(Tc).y(Cc);var v=d.defined(Rh).curve(l);return v(u)},Jf=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var s=r&&r.length?xY(e):n;return x.createElement("path",Eb({},Gn(e),$x(e),{className:it("recharts-curve",t),d:s===null?void 0:s,ref:a}))},wY=["x","y","top","left","width","height","className"];function Ob(){return Ob=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ob.apply(null,arguments)}function hO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _Y(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hO(Object(r),!0).forEach(function(n){SY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SY(e,t,r){return(t=kY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kY(e){var t=jY(e,"string");return typeof t=="symbol"?t:t+""}function jY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EY(e,t){if(e==null)return{};var r,n,a=OY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function OY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var NY=(e,t,r,n,a,s)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),AY=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:s=0,height:l=0,className:u}=e,d=EY(e,wY),f=_Y({x:t,y:r,top:n,left:a,width:s,height:l},d);return!Oe(t)||!Oe(r)||!Oe(s)||!Oe(l)||!Oe(n)||!Oe(a)?null:x.createElement("path",Ob({},dn(f),{className:it("recharts-cross",u),d:NY(t,r,s,l,n,a)}))};function TY(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function mO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mO(Object(r),!0).forEach(function(n){CY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CY(e,t,r){return(t=PY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PY(e){var t=DY(e,"string");return typeof t=="symbol"?t:t+""}function DY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MY=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),RY=(e,t,r)=>e.map(n=>"".concat(MY(n)," ").concat(t,"ms ").concat(r)).join(","),$Y=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),du=(e,t)=>Object.keys(t).reduce((r,n)=>pO(pO({},r),{},{[n]:e(n,t[n])}),{});function gO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ut(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gO(Object(r),!0).forEach(function(n){LY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LY(e,t,r){return(t=IY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IY(e){var t=zY(e,"string");return typeof t=="symbol"?t:t+""}function zY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $h=(e,t,r)=>e+(t-e)*r,Nb=e=>{var{from:t,to:r}=e;return t!==r},dD=(e,t,r)=>{var n=du((a,s)=>{if(Nb(s)){var[l,u]=e(s.from,s.to,s.velocity);return Ut(Ut({},s),{},{from:l,velocity:u})}return s},t);return r<1?du((a,s)=>Nb(s)?Ut(Ut({},s),{},{velocity:$h(s.velocity,n[a].velocity,r),from:$h(s.from,n[a].from,r)}):s,t):dD(e,n,r-1)};function UY(e,t,r,n,a,s){var l,u=n.reduce((v,y)=>Ut(Ut({},v),{},{[y]:{from:e[y],velocity:0,to:t[y]}}),{}),d=()=>du((v,y)=>y.from,u),f=()=>!Object.values(u).filter(Nb).length,m=null,g=v=>{l||(l=v);var y=v-l,_=y/r.dt;u=dD(r,u,_),a(Ut(Ut(Ut({},e),t),d())),l=v,f()||(m=s.setTimeout(g))};return()=>(m=s.setTimeout(g),()=>{var v;(v=m)===null||v===void 0||v()})}function BY(e,t,r,n,a,s,l){var u=null,d=a.reduce((g,v)=>Ut(Ut({},g),{},{[v]:[e[v],t[v]]}),{}),f,m=g=>{f||(f=g);var v=(g-f)/n,y=du((k,S)=>$h(...S,r(v)),d);if(s(Ut(Ut(Ut({},e),t),y)),v<1)u=l.setTimeout(m);else{var _=du((k,S)=>$h(...S,r(1)),d);s(Ut(Ut(Ut({},e),t),_))}};return()=>(u=l.setTimeout(m),()=>{var g;(g=u)===null||g===void 0||g()})}const qY=(e,t,r,n,a,s)=>{var l=$Y(e,t);return r==null?()=>(a(Ut(Ut({},e),t)),()=>{}):r.isStepper===!0?UY(e,t,r,l,a,s):BY(e,t,r,n,l,a,s)};var Lh=1e-4,fD=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],hD=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),vO=(e,t)=>r=>{var n=fD(e,t);return hD(n,r)},HY=(e,t)=>r=>{var n=fD(e,t),a=[...n.map((s,l)=>s*l).slice(1),0];return hD(a,r)},FY=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a,s=r[0].split("(");if(s[0]==="cubic-bezier"&&((a=s[1])===null||a===void 0?void 0:a.split(")")[0].split(",").length)===4){var l=s[1].split(")")[0].split(",").map(u=>parseFloat(u));return[l[0],l[1],l[2],l[3]]}}}return r.length===4?r:[0,0,1,1]},VY=(e,t,r,n)=>{var a=vO(e,r),s=vO(t,n),l=HY(e,r),u=f=>f>1?1:f<0?0:f,d=f=>{for(var m=f>1?1:f,g=m,v=0;v<8;++v){var y=a(g)-m,_=l(g);if(Math.abs(y-m)<Lh||_<Lh)return s(g);g=u(g-y/_)}return s(g)};return d.isStepper=!1,d},yO=function(){return VY(...FY(...arguments))},KY=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,s=(l,u,d)=>{var f=-(l-u)*r,m=d*n,g=d+(f-m)*a/1e3,v=d*a/1e3+l;return Math.abs(v-u)<Lh&&Math.abs(g)<Lh?[u,0]:[v,g]};return s.isStepper=!0,s.dt=a,s},ZY=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return yO(e);case"spring":return KY();default:if(e.split("(")[0]==="cubic-bezier")return yO(e)}return typeof e=="function"?e:null};function GY(e){var t,r=()=>null,n=!1,a=null,s=l=>{if(!n){if(Array.isArray(l)){if(!l.length)return;var u=l,[d,...f]=u;if(typeof d=="number"){a=e.setTimeout(s.bind(null,f),d);return}s(d),a=e.setTimeout(s.bind(null,f));return}typeof l=="string"&&(t=l,r(t)),typeof l=="object"&&(t=l,r(t)),typeof l=="function"&&l()}};return{stop:()=>{n=!0},start:l=>{n=!1,a&&(a(),a=null),s(l)},subscribe:l=>(r=l,()=>{r=()=>null}),getTimeoutController:()=>e}}class YY{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,s=l=>{l-n>=r?t(l):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{a!=null&&cancelAnimationFrame(a)}}}function WY(){return GY(new YY)}var XY=x.createContext(WY);function JY(e,t){var r=x.useContext(XY);return x.useMemo(()=>t??r(e),[e,t,r])}var QY=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),kl={devToolsEnabled:!1,isSsr:QY()},eW={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},bO={t:0},Qv={t:1};function mD(e){var t=Kr(e,eW),{isActive:r,canBegin:n,duration:a,easing:s,begin:l,onAnimationEnd:u,onAnimationStart:d,children:f}=t,m=r==="auto"?!kl.isSsr:r,g=JY(t.animationId,t.animationManager),[v,y]=x.useState(m?bO:Qv),_=x.useRef(null);return x.useEffect(()=>{m||y(Qv)},[m]),x.useEffect(()=>{if(!m||!n)return ju;var k=qY(bO,Qv,ZY(s),a,y,g.getTimeoutController()),S=()=>{_.current=k()};return g.start([d,l,S,a,u]),()=>{g.stop(),_.current&&_.current(),u()}},[m,n,a,s,l,d,u,g]),f(v.t)}function pD(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=x.useRef(au(t)),n=x.useRef(e);return n.current!==e&&(r.current=au(t),n.current=e),r.current}var tW=["radius"],rW=["radius"];function xO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xO(Object(r),!0).forEach(function(n){nW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nW(e,t,r){return(t=aW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aW(e){var t=iW(e,"string");return typeof t=="symbol"?t:t+""}function iW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ih(){return Ih=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ih.apply(null,arguments)}function _O(e,t){if(e==null)return{};var r,n,a=sW(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function sW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var SO=(e,t,r,n,a)=>{var s=Math.min(Math.abs(r)/2,Math.abs(n)/2),l=n>=0?1:-1,u=r>=0?1:-1,d=n>=0&&r>=0||n<0&&r<0?1:0,f;if(s>0&&a instanceof Array){for(var m=[0,0,0,0],g=0,v=4;g<v;g++)m[g]=a[g]>s?s:a[g];f="M".concat(e,",").concat(t+l*m[0]),m[0]>0&&(f+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(d,",").concat(e+u*m[0],",").concat(t)),f+="L ".concat(e+r-u*m[1],",").concat(t),m[1]>0&&(f+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(d,`,
        `).concat(e+r,",").concat(t+l*m[1])),f+="L ".concat(e+r,",").concat(t+n-l*m[2]),m[2]>0&&(f+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(d,`,
        `).concat(e+r-u*m[2],",").concat(t+n)),f+="L ".concat(e+u*m[3],",").concat(t+n),m[3]>0&&(f+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(t+n-l*m[3])),f+="Z"}else if(s>0&&a===+a&&a>0){var y=Math.min(s,a);f="M ".concat(e,",").concat(t+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e+u*y,",").concat(t,`
            L `).concat(e+r-u*y,",").concat(t,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e+r,",").concat(t+l*y,`
            L `).concat(e+r,",").concat(t+n-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e+r-u*y,",").concat(t+n,`
            L `).concat(e+u*y,",").concat(t+n,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e,",").concat(t+n-l*y," Z")}else f="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return f},kO={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},oW=e=>{var t=Kr(e,kO),r=x.useRef(null),[n,a]=x.useState(-1);x.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var Y=r.current.getTotalLength();Y&&a(Y)}catch{}},[]);var{x:s,y:l,width:u,height:d,radius:f,className:m}=t,{animationEasing:g,animationDuration:v,animationBegin:y,isAnimationActive:_,isUpdateAnimationActive:k}=t,S=x.useRef(u),j=x.useRef(d),N=x.useRef(s),E=x.useRef(l),C=x.useMemo(()=>({x:s,y:l,width:u,height:d,radius:f}),[s,l,u,d,f]),A=pD(C,"rectangle-");if(s!==+s||l!==+l||u!==+u||d!==+d||u===0||d===0)return null;var T=it("recharts-rectangle",m);if(!k){var P=dn(t),{radius:M}=P,R=_O(P,tW);return x.createElement("path",Ih({},R,{radius:typeof f=="number"?f:void 0,className:T,d:SO(s,l,u,d,f)}))}var L=S.current,$=j.current,q=N.current,V=E.current,Q="0px ".concat(n===-1?1:n,"px"),ae="".concat(n,"px 0px"),U=RY(["strokeDasharray"],v,typeof g=="string"?g:kO.animationEasing);return x.createElement(mD,{animationId:A,key:A,canBegin:n>0,duration:v,easing:g,isActive:k,begin:y},Y=>{var ee=sa(L,u,Y),le=sa($,d,Y),ve=sa(q,s,Y),I=sa(V,l,Y);r.current&&(S.current=ee,j.current=le,N.current=ve,E.current=I);var K;_?Y>0?K={transition:U,strokeDasharray:ae}:K={strokeDasharray:Q}:K={strokeDasharray:ae};var W=dn(t),{radius:H}=W,se=_O(W,rW);return x.createElement("path",Ih({},se,{radius:typeof f=="number"?f:void 0,className:T,d:SO(ve,I,ee,le,f),ref:r,style:wO(wO({},K),t.style)}))})};function jO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function EO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jO(Object(r),!0).forEach(function(n){lW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lW(e,t,r){return(t=cW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cW(e){var t=uW(e,"string");return typeof t=="symbol"?t:t+""}function uW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zh=Math.PI/180,dW=e=>e*180/Math.PI,or=(e,t,r,n)=>({x:e+Math.cos(-zh*n)*r,y:t+Math.sin(-zh*n)*r}),fW=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},hW=(e,t)=>{var{x:r,y:n}=e,{x:a,y:s}=t;return Math.sqrt((r-a)**2+(n-s)**2)},mW=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:s}=t,l=hW({x:r,y:n},{x:a,y:s});if(l<=0)return{radius:l,angle:0};var u=(r-a)/l,d=Math.acos(u);return n>s&&(d=2*Math.PI-d),{radius:l,angle:dW(d),angleInRadian:d}},pW=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),s=Math.min(n,a);return{startAngle:t-s*360,endAngle:r-s*360}},gW=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),s=Math.floor(n/360),l=Math.min(a,s);return e+l*360},vW=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:s}=mW({x:r,y:n},t),{innerRadius:l,outerRadius:u}=t;if(a<l||a>u||a===0)return null;var{startAngle:d,endAngle:f}=pW(t),m=s,g;if(d<=f){for(;m>f;)m-=360;for(;m<d;)m+=360;g=m>=d&&m<=f}else{for(;m>d;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=d}return g?EO(EO({},t),{},{radius:a,angle:gW(m,t)}):null};function gD(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:s}=e,l=or(t,r,n,a),u=or(t,r,n,s);return{points:[l,u],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function Ab(){return Ab=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ab.apply(null,arguments)}var yW=(e,t)=>{var r=An(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},$f=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:s,isExternal:l,cornerRadius:u,cornerIsExternal:d}=e,f=u*(l?1:-1)+n,m=Math.asin(u/f)/zh,g=d?a:a+s*m,v=or(t,r,f,g),y=or(t,r,n,g),_=d?a-s*m:a,k=or(t,r,f*Math.cos(m*zh),_);return{center:v,circleTangency:y,lineTangency:k,theta:m}},vD=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:s,endAngle:l}=e,u=yW(s,l),d=s+u,f=or(t,r,a,s),m=or(t,r,a,d),g="M ".concat(f.x,",").concat(f.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(s>d),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(n>0){var v=or(t,r,n,s),y=or(t,r,n,d);g+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(s<=d),`,
            `).concat(v.x,",").concat(v.y," Z")}else g+="L ".concat(t,",").concat(r," Z");return g},bW=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}=e,m=An(f-d),{circleTangency:g,lineTangency:v,theta:y}=$f({cx:t,cy:r,radius:a,angle:d,sign:m,cornerRadius:s,cornerIsExternal:u}),{circleTangency:_,lineTangency:k,theta:S}=$f({cx:t,cy:r,radius:a,angle:f,sign:-m,cornerRadius:s,cornerIsExternal:u}),j=u?Math.abs(d-f):Math.abs(d-f)-y-S;if(j<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):vD({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:d,endAngle:f});var N="M ".concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(j>180),",").concat(+(m<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(k.x,",").concat(k.y,`
  `);if(n>0){var{circleTangency:E,lineTangency:C,theta:A}=$f({cx:t,cy:r,radius:n,angle:d,sign:m,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),{circleTangency:T,lineTangency:P,theta:M}=$f({cx:t,cy:r,radius:n,angle:f,sign:-m,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),R=u?Math.abs(d-f):Math.abs(d-f)-A-M;if(R<0&&s===0)return"".concat(N,"L").concat(t,",").concat(r,"Z");N+="L".concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(R>180),",").concat(+(m>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(C.x,",").concat(C.y,"Z")}else N+="L".concat(t,",").concat(r,"Z");return N},xW={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},wW=e=>{var t=Kr(e,xW),{cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:d,startAngle:f,endAngle:m,className:g}=t;if(s<a||f===m)return null;var v=it("recharts-sector",g),y=s-a,_=Vi(l,y,0,!0),k;return _>0&&Math.abs(f-m)<360?k=bW({cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:Math.min(_,y/2),forceCornerRadius:u,cornerIsExternal:d,startAngle:f,endAngle:m}):k=vD({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:f,endAngle:m}),x.createElement("path",Ab({},dn(t),{className:v,d:k}))};function _W(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(tP(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:s,outerRadius:l,angle:u}=t,d=or(n,a,s,u),f=or(n,a,l,u);return[{x:d.x,y:d.y},{x:f.x,y:f.y}]}return gD(t)}}var ey={},ty={},ry={},OO;function SW(){return OO||(OO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fP();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(ry)),ry}var NO;function kW(){return NO||(NO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SW();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(ty)),ty}var AO;function jW(){return AO||(AO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hP(),r=kW();function n(a,s,l){l&&typeof l!="number"&&t.isIterateeCall(a,s,l)&&(s=l=void 0),a=r.toFinite(a),s===void 0?(s=a,a=0):s=r.toFinite(s),l=l===void 0?a<s?1:-1:r.toFinite(l);const u=Math.max(Math.ceil((s-a)/(l||1)),0),d=new Array(u);for(let f=0;f<u;f++)d[f]=a,a+=l;return d}e.range=n})(ey)),ey}var ny,TO;function EW(){return TO||(TO=1,ny=jW().range),ny}var OW=EW();const yD=ri(OW);function Fi(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function NW(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Wx(e){let t,r,n;e.length!==2?(t=Fi,r=(u,d)=>Fi(e(u),d),n=(u,d)=>e(u)-d):(t=e===Fi||e===NW?e:AW,r=e,n=e);function a(u,d,f=0,m=u.length){if(f<m){if(t(d,d)!==0)return m;do{const g=f+m>>>1;r(u[g],d)<0?f=g+1:m=g}while(f<m)}return f}function s(u,d,f=0,m=u.length){if(f<m){if(t(d,d)!==0)return m;do{const g=f+m>>>1;r(u[g],d)<=0?f=g+1:m=g}while(f<m)}return f}function l(u,d,f=0,m=u.length){const g=a(u,d,f,m-1);return g>f&&n(u[g-1],d)>-n(u[g],d)?g-1:g}return{left:a,center:l,right:s}}function AW(){return 0}function bD(e){return e===null?NaN:+e}function*TW(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const CW=Wx(Fi),Du=CW.right;Wx(bD).center;class CO extends Map{constructor(t,r=MW){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(PO(this,t))}has(t){return super.has(PO(this,t))}set(t,r){return super.set(PW(this,t),r)}delete(t){return super.delete(DW(this,t))}}function PO({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function PW({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function DW({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function MW(e){return e!==null&&typeof e=="object"?e.valueOf():e}function RW(e=Fi){if(e===Fi)return xD;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function xD(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const $W=Math.sqrt(50),LW=Math.sqrt(10),IW=Math.sqrt(2);function Uh(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),l=s>=$W?10:s>=LW?5:s>=IW?2:1;let u,d,f;return a<0?(f=Math.pow(10,-a)/l,u=Math.round(e*f),d=Math.round(t*f),u/f<e&&++u,d/f>t&&--d,f=-f):(f=Math.pow(10,a)*l,u=Math.round(e/f),d=Math.round(t/f),u*f<e&&++u,d*f>t&&--d),d<u&&.5<=r&&r<2?Uh(e,t,r*2):[u,d,f]}function Tb(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,l]=n?Uh(t,e,r):Uh(e,t,r);if(!(s>=a))return[];const u=s-a+1,d=new Array(u);if(n)if(l<0)for(let f=0;f<u;++f)d[f]=(s-f)/-l;else for(let f=0;f<u;++f)d[f]=(s-f)*l;else if(l<0)for(let f=0;f<u;++f)d[f]=(a+f)/-l;else for(let f=0;f<u;++f)d[f]=(a+f)*l;return d}function Cb(e,t,r){return t=+t,e=+e,r=+r,Uh(e,t,r)[2]}function Pb(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Cb(t,e,r):Cb(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function DO(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function MO(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function wD(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?xD:RW(a);n>r;){if(n-r>600){const d=n-r+1,f=t-r+1,m=Math.log(d),g=.5*Math.exp(2*m/3),v=.5*Math.sqrt(m*g*(d-g)/d)*(f-d/2<0?-1:1),y=Math.max(r,Math.floor(t-f*g/d+v)),_=Math.min(n,Math.floor(t+(d-f)*g/d+v));wD(e,t,y,_,a)}const s=e[t];let l=r,u=n;for(Pc(e,r,t),a(e[n],s)>0&&Pc(e,r,n);l<u;){for(Pc(e,l,u),++l,--u;a(e[l],s)<0;)++l;for(;a(e[u],s)>0;)--u}a(e[r],s)===0?Pc(e,r,u):(++u,Pc(e,u,n)),u<=t&&(r=u+1),t<=u&&(n=u-1)}return e}function Pc(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function zW(e,t,r){if(e=Float64Array.from(TW(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return MO(e);if(t>=1)return DO(e);var n,a=(n-1)*t,s=Math.floor(a),l=DO(wD(e,s).subarray(0,s+1)),u=MO(e.subarray(s+1));return l+(u-l)*(a-s)}}function UW(e,t,r=bD){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),l=+r(e[s],s,e),u=+r(e[s+1],s+1,e);return l+(u-l)*(a-s)}}function BW(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function $n(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function li(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Db=Symbol("implicit");function Xx(){var e=new CO,t=[],r=[],n=Db;function a(s){let l=e.get(s);if(l===void 0){if(n!==Db)return n;e.set(s,l=t.push(s)-1)}return r[l%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new CO;for(const l of s)e.has(l)||e.set(l,t.push(l)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return Xx(t,r).unknown(n)},$n.apply(a,arguments),a}function Jx(){var e=Xx().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,l,u=!1,d=0,f=0,m=.5;delete e.unknown;function g(){var v=t().length,y=a<n,_=y?a:n,k=y?n:a;s=(k-_)/Math.max(1,v-d+f*2),u&&(s=Math.floor(s)),_+=(k-_-s*(v-d))*m,l=s*(1-d),u&&(_=Math.round(_),l=Math.round(l));var S=BW(v).map(function(j){return _+s*j});return r(y?S.reverse():S)}return e.domain=function(v){return arguments.length?(t(v),g()):t()},e.range=function(v){return arguments.length?([n,a]=v,n=+n,a=+a,g()):[n,a]},e.rangeRound=function(v){return[n,a]=v,n=+n,a=+a,u=!0,g()},e.bandwidth=function(){return l},e.step=function(){return s},e.round=function(v){return arguments.length?(u=!!v,g()):u},e.padding=function(v){return arguments.length?(d=Math.min(1,f=+v),g()):d},e.paddingInner=function(v){return arguments.length?(d=Math.min(1,v),g()):d},e.paddingOuter=function(v){return arguments.length?(f=+v,g()):f},e.align=function(v){return arguments.length?(m=Math.max(0,Math.min(1,v)),g()):m},e.copy=function(){return Jx(t(),[n,a]).round(u).paddingInner(d).paddingOuter(f).align(m)},$n.apply(g(),arguments)}function _D(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return _D(t())},e}function qW(){return _D(Jx.apply(null,arguments).paddingInner(1))}function Qx(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function SD(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Mu(){}var fu=.7,Bh=1/fu,ol="\\s*([+-]?\\d+)\\s*",hu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ua="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",HW=/^#([0-9a-f]{3,8})$/,FW=new RegExp(`^rgb\\(${ol},${ol},${ol}\\)$`),VW=new RegExp(`^rgb\\(${ua},${ua},${ua}\\)$`),KW=new RegExp(`^rgba\\(${ol},${ol},${ol},${hu}\\)$`),ZW=new RegExp(`^rgba\\(${ua},${ua},${ua},${hu}\\)$`),GW=new RegExp(`^hsl\\(${hu},${ua},${ua}\\)$`),YW=new RegExp(`^hsla\\(${hu},${ua},${ua},${hu}\\)$`),RO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Qx(Mu,mu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:$O,formatHex:$O,formatHex8:WW,formatHsl:XW,formatRgb:LO,toString:LO});function $O(){return this.rgb().formatHex()}function WW(){return this.rgb().formatHex8()}function XW(){return kD(this).formatHsl()}function LO(){return this.rgb().formatRgb()}function mu(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=HW.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?IO(t):r===3?new Fr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Lf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Lf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=FW.exec(e))?new Fr(t[1],t[2],t[3],1):(t=VW.exec(e))?new Fr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=KW.exec(e))?Lf(t[1],t[2],t[3],t[4]):(t=ZW.exec(e))?Lf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=GW.exec(e))?BO(t[1],t[2]/100,t[3]/100,1):(t=YW.exec(e))?BO(t[1],t[2]/100,t[3]/100,t[4]):RO.hasOwnProperty(e)?IO(RO[e]):e==="transparent"?new Fr(NaN,NaN,NaN,0):null}function IO(e){return new Fr(e>>16&255,e>>8&255,e&255,1)}function Lf(e,t,r,n){return n<=0&&(e=t=r=NaN),new Fr(e,t,r,n)}function JW(e){return e instanceof Mu||(e=mu(e)),e?(e=e.rgb(),new Fr(e.r,e.g,e.b,e.opacity)):new Fr}function Mb(e,t,r,n){return arguments.length===1?JW(e):new Fr(e,t,r,n??1)}function Fr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Qx(Fr,Mb,SD(Mu,{brighter(e){return e=e==null?Bh:Math.pow(Bh,e),new Fr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?fu:Math.pow(fu,e),new Fr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Fr($s(this.r),$s(this.g),$s(this.b),qh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:zO,formatHex:zO,formatHex8:QW,formatRgb:UO,toString:UO}));function zO(){return`#${Ps(this.r)}${Ps(this.g)}${Ps(this.b)}`}function QW(){return`#${Ps(this.r)}${Ps(this.g)}${Ps(this.b)}${Ps((isNaN(this.opacity)?1:this.opacity)*255)}`}function UO(){const e=qh(this.opacity);return`${e===1?"rgb(":"rgba("}${$s(this.r)}, ${$s(this.g)}, ${$s(this.b)}${e===1?")":`, ${e})`}`}function qh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function $s(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ps(e){return e=$s(e),(e<16?"0":"")+e.toString(16)}function BO(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Vn(e,t,r,n)}function kD(e){if(e instanceof Vn)return new Vn(e.h,e.s,e.l,e.opacity);if(e instanceof Mu||(e=mu(e)),!e)return new Vn;if(e instanceof Vn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),l=NaN,u=s-a,d=(s+a)/2;return u?(t===s?l=(r-n)/u+(r<n)*6:r===s?l=(n-t)/u+2:l=(t-r)/u+4,u/=d<.5?s+a:2-s-a,l*=60):u=d>0&&d<1?0:l,new Vn(l,u,d,e.opacity)}function eX(e,t,r,n){return arguments.length===1?kD(e):new Vn(e,t,r,n??1)}function Vn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Qx(Vn,eX,SD(Mu,{brighter(e){return e=e==null?Bh:Math.pow(Bh,e),new Vn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?fu:Math.pow(fu,e),new Vn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Fr(ay(e>=240?e-240:e+120,a,n),ay(e,a,n),ay(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Vn(qO(this.h),If(this.s),If(this.l),qh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=qh(this.opacity);return`${e===1?"hsl(":"hsla("}${qO(this.h)}, ${If(this.s)*100}%, ${If(this.l)*100}%${e===1?")":`, ${e})`}`}}));function qO(e){return e=(e||0)%360,e<0?e+360:e}function If(e){return Math.max(0,Math.min(1,e||0))}function ay(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const ew=e=>()=>e;function tX(e,t){return function(r){return e+r*t}}function rX(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function nX(e){return(e=+e)==1?jD:function(t,r){return r-t?rX(t,r,e):ew(isNaN(t)?r:t)}}function jD(e,t){var r=t-e;return r?tX(e,r):ew(isNaN(e)?t:e)}const HO=(function e(t){var r=nX(t);function n(a,s){var l=r((a=Mb(a)).r,(s=Mb(s)).r),u=r(a.g,s.g),d=r(a.b,s.b),f=jD(a.opacity,s.opacity);return function(m){return a.r=l(m),a.g=u(m),a.b=d(m),a.opacity=f(m),a+""}}return n.gamma=e,n})(1);function aX(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function iX(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function sX(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),l;for(l=0;l<n;++l)a[l]=jl(e[l],t[l]);for(;l<r;++l)s[l]=t[l];return function(u){for(l=0;l<n;++l)s[l]=a[l](u);return s}}function oX(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Hh(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function lX(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=jl(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var Rb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,iy=new RegExp(Rb.source,"g");function cX(e){return function(){return e}}function uX(e){return function(t){return e(t)+""}}function dX(e,t){var r=Rb.lastIndex=iy.lastIndex=0,n,a,s,l=-1,u=[],d=[];for(e=e+"",t=t+"";(n=Rb.exec(e))&&(a=iy.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),u[l]?u[l]+=s:u[++l]=s),(n=n[0])===(a=a[0])?u[l]?u[l]+=a:u[++l]=a:(u[++l]=null,d.push({i:l,x:Hh(n,a)})),r=iy.lastIndex;return r<t.length&&(s=t.slice(r),u[l]?u[l]+=s:u[++l]=s),u.length<2?d[0]?uX(d[0].x):cX(t):(t=d.length,function(f){for(var m=0,g;m<t;++m)u[(g=d[m]).i]=g.x(f);return u.join("")})}function jl(e,t){var r=typeof t,n;return t==null||r==="boolean"?ew(t):(r==="number"?Hh:r==="string"?(n=mu(t))?(t=n,HO):dX:t instanceof mu?HO:t instanceof Date?oX:iX(t)?aX:Array.isArray(t)?sX:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?lX:Hh)(e,t)}function tw(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function fX(e,t){t===void 0&&(t=e,e=jl);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(l){var u=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return s[u](l-u)}}function hX(e){return function(){return e}}function Fh(e){return+e}var FO=[0,1];function Er(e){return e}function $b(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:hX(isNaN(t)?NaN:.5)}function mX(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function pX(e,t,r){var n=e[0],a=e[1],s=t[0],l=t[1];return a<n?(n=$b(a,n),s=r(l,s)):(n=$b(n,a),s=r(s,l)),function(u){return s(n(u))}}function gX(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),l=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<n;)a[l]=$b(e[l],e[l+1]),s[l]=r(t[l],t[l+1]);return function(u){var d=Du(e,u,1,n)-1;return s[d](a[d](u))}}function Ru(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function W0(){var e=FO,t=FO,r=jl,n,a,s,l=Er,u,d,f;function m(){var v=Math.min(e.length,t.length);return l!==Er&&(l=mX(e[0],e[v-1])),u=v>2?gX:pX,d=f=null,g}function g(v){return v==null||isNaN(v=+v)?s:(d||(d=u(e.map(n),t,r)))(n(l(v)))}return g.invert=function(v){return l(a((f||(f=u(t,e.map(n),Hh)))(v)))},g.domain=function(v){return arguments.length?(e=Array.from(v,Fh),m()):e.slice()},g.range=function(v){return arguments.length?(t=Array.from(v),m()):t.slice()},g.rangeRound=function(v){return t=Array.from(v),r=tw,m()},g.clamp=function(v){return arguments.length?(l=v?!0:Er,m()):l!==Er},g.interpolate=function(v){return arguments.length?(r=v,m()):r},g.unknown=function(v){return arguments.length?(s=v,g):s},function(v,y){return n=v,a=y,m()}}function rw(){return W0()(Er,Er)}function vX(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Vh(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function pl(e){return e=Vh(Math.abs(e)),e?e[1]:NaN}function yX(e,t){return function(r,n){for(var a=r.length,s=[],l=0,u=e[0],d=0;a>0&&u>0&&(d+u+1>n&&(u=Math.max(1,n-d)),s.push(r.substring(a-=u,a+u)),!((d+=u+1)>n));)u=e[l=(l+1)%e.length];return s.reverse().join(t)}}function bX(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var xX=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function pu(e){if(!(t=xX.exec(e)))throw new Error("invalid format: "+e);var t;return new nw({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}pu.prototype=nw.prototype;function nw(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}nw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function wX(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var ED;function _X(e,t){var r=Vh(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(ED=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=n.length;return s===l?n:s>l?n+new Array(s-l+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Vh(e,Math.max(0,t+s-1))[0]}function VO(e,t){var r=Vh(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const KO={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:vX,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>VO(e*100,t),r:VO,s:_X,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ZO(e){return e}var GO=Array.prototype.map,YO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function SX(e){var t=e.grouping===void 0||e.thousands===void 0?ZO:yX(GO.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?ZO:bX(GO.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function f(g){g=pu(g);var v=g.fill,y=g.align,_=g.sign,k=g.symbol,S=g.zero,j=g.width,N=g.comma,E=g.precision,C=g.trim,A=g.type;A==="n"?(N=!0,A="g"):KO[A]||(E===void 0&&(E=12),C=!0,A="g"),(S||v==="0"&&y==="=")&&(S=!0,v="0",y="=");var T=k==="$"?r:k==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",P=k==="$"?n:/[%p]/.test(A)?l:"",M=KO[A],R=/[defgprs%]/.test(A);E=E===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function L($){var q=T,V=P,Q,ae,U;if(A==="c")V=M($)+V,$="";else{$=+$;var Y=$<0||1/$<0;if($=isNaN($)?d:M(Math.abs($),E),C&&($=wX($)),Y&&+$==0&&_!=="+"&&(Y=!1),q=(Y?_==="("?_:u:_==="-"||_==="("?"":_)+q,V=(A==="s"?YO[8+ED/3]:"")+V+(Y&&_==="("?")":""),R){for(Q=-1,ae=$.length;++Q<ae;)if(U=$.charCodeAt(Q),48>U||U>57){V=(U===46?a+$.slice(Q+1):$.slice(Q))+V,$=$.slice(0,Q);break}}}N&&!S&&($=t($,1/0));var ee=q.length+$.length+V.length,le=ee<j?new Array(j-ee+1).join(v):"";switch(N&&S&&($=t(le+$,le.length?j-V.length:1/0),le=""),y){case"<":$=q+$+V+le;break;case"=":$=q+le+$+V;break;case"^":$=le.slice(0,ee=le.length>>1)+q+$+V+le.slice(ee);break;default:$=le+q+$+V;break}return s($)}return L.toString=function(){return g+""},L}function m(g,v){var y=f((g=pu(g),g.type="f",g)),_=Math.max(-8,Math.min(8,Math.floor(pl(v)/3)))*3,k=Math.pow(10,-_),S=YO[8+_/3];return function(j){return y(k*j)+S}}return{format:f,formatPrefix:m}}var zf,aw,OD;kX({thousands:",",grouping:[3],currency:["$",""]});function kX(e){return zf=SX(e),aw=zf.format,OD=zf.formatPrefix,zf}function jX(e){return Math.max(0,-pl(Math.abs(e)))}function EX(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(pl(t)/3)))*3-pl(Math.abs(e)))}function OX(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,pl(t)-pl(e))+1}function ND(e,t,r,n){var a=Pb(e,t,r),s;switch(n=pu(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=EX(a,l))&&(n.precision=s),OD(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=OX(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=jX(a))&&(n.precision=s-(n.type==="%")*2);break}}return aw(n)}function Wi(e){var t=e.domain;return e.ticks=function(r){var n=t();return Tb(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return ND(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,l=n[a],u=n[s],d,f,m=10;for(u<l&&(f=l,l=u,u=f,f=a,a=s,s=f);m-- >0;){if(f=Cb(l,u,r),f===d)return n[a]=l,n[s]=u,t(n);if(f>0)l=Math.floor(l/f)*f,u=Math.ceil(u/f)*f;else if(f<0)l=Math.ceil(l*f)/f,u=Math.floor(u*f)/f;else break;d=f}return e},e}function AD(){var e=rw();return e.copy=function(){return Ru(e,AD())},$n.apply(e,arguments),Wi(e)}function TD(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Fh),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return TD(e).unknown(t)},e=arguments.length?Array.from(e,Fh):[0,1],Wi(r)}function CD(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],l;return s<a&&(l=r,r=n,n=l,l=a,a=s,s=l),e[r]=t.floor(a),e[n]=t.ceil(s),e}function WO(e){return Math.log(e)}function XO(e){return Math.exp(e)}function NX(e){return-Math.log(-e)}function AX(e){return-Math.exp(-e)}function TX(e){return isFinite(e)?+("1e"+e):e<0?0:e}function CX(e){return e===10?TX:e===Math.E?Math.exp:t=>Math.pow(e,t)}function PX(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function JO(e){return(t,r)=>-e(-t,r)}function iw(e){const t=e(WO,XO),r=t.domain;let n=10,a,s;function l(){return a=PX(n),s=CX(n),r()[0]<0?(a=JO(a),s=JO(s),e(NX,AX)):e(WO,XO),t}return t.base=function(u){return arguments.length?(n=+u,l()):n},t.domain=function(u){return arguments.length?(r(u),l()):r()},t.ticks=u=>{const d=r();let f=d[0],m=d[d.length-1];const g=m<f;g&&([f,m]=[m,f]);let v=a(f),y=a(m),_,k;const S=u==null?10:+u;let j=[];if(!(n%1)&&y-v<S){if(v=Math.floor(v),y=Math.ceil(y),f>0){for(;v<=y;++v)for(_=1;_<n;++_)if(k=v<0?_/s(-v):_*s(v),!(k<f)){if(k>m)break;j.push(k)}}else for(;v<=y;++v)for(_=n-1;_>=1;--_)if(k=v>0?_/s(-v):_*s(v),!(k<f)){if(k>m)break;j.push(k)}j.length*2<S&&(j=Tb(f,m,S))}else j=Tb(v,y,Math.min(y-v,S)).map(s);return g?j.reverse():j},t.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=pu(d)).precision==null&&(d.trim=!0),d=aw(d)),u===1/0)return d;const f=Math.max(1,n*u/t.ticks().length);return m=>{let g=m/s(Math.round(a(m)));return g*n<n-.5&&(g*=n),g<=f?d(m):""}},t.nice=()=>r(CD(r(),{floor:u=>s(Math.floor(a(u))),ceil:u=>s(Math.ceil(a(u)))})),t}function PD(){const e=iw(W0()).domain([1,10]);return e.copy=()=>Ru(e,PD()).base(e.base()),$n.apply(e,arguments),e}function QO(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function eN(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function sw(e){var t=1,r=e(QO(t),eN(t));return r.constant=function(n){return arguments.length?e(QO(t=+n),eN(t)):t},Wi(r)}function DD(){var e=sw(W0());return e.copy=function(){return Ru(e,DD()).constant(e.constant())},$n.apply(e,arguments)}function tN(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function DX(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function MX(e){return e<0?-e*e:e*e}function ow(e){var t=e(Er,Er),r=1;function n(){return r===1?e(Er,Er):r===.5?e(DX,MX):e(tN(r),tN(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Wi(t)}function lw(){var e=ow(W0());return e.copy=function(){return Ru(e,lw()).exponent(e.exponent())},$n.apply(e,arguments),e}function RX(){return lw.apply(null,arguments).exponent(.5)}function rN(e){return Math.sign(e)*e*e}function $X(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function MD(){var e=rw(),t=[0,1],r=!1,n;function a(s){var l=$X(e(s));return isNaN(l)?n:r?Math.round(l):l}return a.invert=function(s){return e.invert(rN(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,Fh)).map(rN)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return MD(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},$n.apply(a,arguments),Wi(a)}function RD(){var e=[],t=[],r=[],n;function a(){var l=0,u=Math.max(1,t.length);for(r=new Array(u-1);++l<u;)r[l-1]=UW(e,l/u);return s}function s(l){return l==null||isNaN(l=+l)?n:t[Du(r,l)]}return s.invertExtent=function(l){var u=t.indexOf(l);return u<0?[NaN,NaN]:[u>0?r[u-1]:e[0],u<r.length?r[u]:e[e.length-1]]},s.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let u of l)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Fi),a()},s.range=function(l){return arguments.length?(t=Array.from(l),a()):t.slice()},s.unknown=function(l){return arguments.length?(n=l,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return RD().domain(e).range(t).unknown(n)},$n.apply(s,arguments)}function $D(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function l(d){return d!=null&&d<=d?a[Du(n,d,0,r)]:s}function u(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*t-(d-r)*e)/(r+1);return l}return l.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,u()):[e,t]},l.range=function(d){return arguments.length?(r=(a=Array.from(d)).length-1,u()):a.slice()},l.invertExtent=function(d){var f=a.indexOf(d);return f<0?[NaN,NaN]:f<1?[e,n[0]]:f>=r?[n[r-1],t]:[n[f-1],n[f]]},l.unknown=function(d){return arguments.length&&(s=d),l},l.thresholds=function(){return n.slice()},l.copy=function(){return $D().domain([e,t]).range(a).unknown(s)},$n.apply(Wi(l),arguments)}function LD(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[Du(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var l=t.indexOf(s);return[e[l-1],e[l]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return LD().domain(e).range(t).unknown(r)},$n.apply(a,arguments)}const sy=new Date,oy=new Date;function qt(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const l=a(s),u=a.ceil(s);return s-l<u-s?l:u},a.offset=(s,l)=>(t(s=new Date(+s),l==null?1:Math.floor(l)),s),a.range=(s,l,u)=>{const d=[];if(s=a.ceil(s),u=u==null?1:Math.floor(u),!(s<l)||!(u>0))return d;let f;do d.push(f=new Date(+s)),t(s,u),e(s);while(f<s&&s<l);return d},a.filter=s=>qt(l=>{if(l>=l)for(;e(l),!s(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!s(l););else for(;--u>=0;)for(;t(l,1),!s(l););}),r&&(a.count=(s,l)=>(sy.setTime(+s),oy.setTime(+l),e(sy),e(oy),Math.floor(r(sy,oy))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?l=>n(l)%s===0:l=>a.count(0,l)%s===0):a)),a}const Kh=qt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Kh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?qt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Kh);Kh.range;const Ha=1e3,Tn=Ha*60,Fa=Tn*60,Ja=Fa*24,cw=Ja*7,nN=Ja*30,ly=Ja*365,Ds=qt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ha)},(e,t)=>(t-e)/Ha,e=>e.getUTCSeconds());Ds.range;const uw=qt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ha)},(e,t)=>{e.setTime(+e+t*Tn)},(e,t)=>(t-e)/Tn,e=>e.getMinutes());uw.range;const dw=qt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Tn)},(e,t)=>(t-e)/Tn,e=>e.getUTCMinutes());dw.range;const fw=qt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ha-e.getMinutes()*Tn)},(e,t)=>{e.setTime(+e+t*Fa)},(e,t)=>(t-e)/Fa,e=>e.getHours());fw.range;const hw=qt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Fa)},(e,t)=>(t-e)/Fa,e=>e.getUTCHours());hw.range;const $u=qt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Tn)/Ja,e=>e.getDate()-1);$u.range;const X0=qt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ja,e=>e.getUTCDate()-1);X0.range;const ID=qt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ja,e=>Math.floor(e/Ja));ID.range;function eo(e){return qt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Tn)/cw)}const J0=eo(0),Zh=eo(1),LX=eo(2),IX=eo(3),gl=eo(4),zX=eo(5),UX=eo(6);J0.range;Zh.range;LX.range;IX.range;gl.range;zX.range;UX.range;function to(e){return qt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/cw)}const Q0=to(0),Gh=to(1),BX=to(2),qX=to(3),vl=to(4),HX=to(5),FX=to(6);Q0.range;Gh.range;BX.range;qX.range;vl.range;HX.range;FX.range;const mw=qt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());mw.range;const pw=qt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());pw.range;const Qa=qt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Qa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:qt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Qa.range;const ei=qt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ei.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:qt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ei.range;function zD(e,t,r,n,a,s){const l=[[Ds,1,Ha],[Ds,5,5*Ha],[Ds,15,15*Ha],[Ds,30,30*Ha],[s,1,Tn],[s,5,5*Tn],[s,15,15*Tn],[s,30,30*Tn],[a,1,Fa],[a,3,3*Fa],[a,6,6*Fa],[a,12,12*Fa],[n,1,Ja],[n,2,2*Ja],[r,1,cw],[t,1,nN],[t,3,3*nN],[e,1,ly]];function u(f,m,g){const v=m<f;v&&([f,m]=[m,f]);const y=g&&typeof g.range=="function"?g:d(f,m,g),_=y?y.range(f,+m+1):[];return v?_.reverse():_}function d(f,m,g){const v=Math.abs(m-f)/g,y=Wx(([,,S])=>S).right(l,v);if(y===l.length)return e.every(Pb(f/ly,m/ly,g));if(y===0)return Kh.every(Math.max(Pb(f,m,g),1));const[_,k]=l[v/l[y-1][2]<l[y][2]/v?y-1:y];return _.every(k)}return[u,d]}const[VX,KX]=zD(ei,pw,Q0,ID,hw,dw),[ZX,GX]=zD(Qa,mw,J0,$u,fw,uw);function cy(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function uy(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Dc(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function YX(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,l=e.shortDays,u=e.months,d=e.shortMonths,f=Mc(a),m=Rc(a),g=Mc(s),v=Rc(s),y=Mc(l),_=Rc(l),k=Mc(u),S=Rc(u),j=Mc(d),N=Rc(d),E={a:Y,A:ee,b:le,B:ve,c:null,d:cN,e:cN,f:yJ,g:NJ,G:TJ,H:pJ,I:gJ,j:vJ,L:UD,m:bJ,M:xJ,p:I,q:K,Q:fN,s:hN,S:wJ,u:_J,U:SJ,V:kJ,w:jJ,W:EJ,x:null,X:null,y:OJ,Y:AJ,Z:CJ,"%":dN},C={a:W,A:H,b:se,B:ce,c:null,d:uN,e:uN,f:RJ,g:VJ,G:ZJ,H:PJ,I:DJ,j:MJ,L:qD,m:$J,M:LJ,p:re,q:Se,Q:fN,s:hN,S:IJ,u:zJ,U:UJ,V:BJ,w:qJ,W:HJ,x:null,X:null,y:FJ,Y:KJ,Z:GJ,"%":dN},A={a:L,A:$,b:q,B:V,c:Q,d:oN,e:oN,f:dJ,g:sN,G:iN,H:lN,I:lN,j:oJ,L:uJ,m:sJ,M:lJ,p:R,q:iJ,Q:hJ,s:mJ,S:cJ,u:eJ,U:tJ,V:rJ,w:QX,W:nJ,x:ae,X:U,y:sN,Y:iN,Z:aJ,"%":fJ};E.x=T(r,E),E.X=T(n,E),E.c=T(t,E),C.x=T(r,C),C.X=T(n,C),C.c=T(t,C);function T(X,me){return function(je){var fe=[],he=-1,pe=0,ge=X.length,Pe,dt,Sr;for(je instanceof Date||(je=new Date(+je));++he<ge;)X.charCodeAt(he)===37&&(fe.push(X.slice(pe,he)),(dt=aN[Pe=X.charAt(++he)])!=null?Pe=X.charAt(++he):dt=Pe==="e"?" ":"0",(Sr=me[Pe])&&(Pe=Sr(je,dt)),fe.push(Pe),pe=he+1);return fe.push(X.slice(pe,he)),fe.join("")}}function P(X,me){return function(je){var fe=Dc(1900,void 0,1),he=M(fe,X,je+="",0),pe,ge;if(he!=je.length)return null;if("Q"in fe)return new Date(fe.Q);if("s"in fe)return new Date(fe.s*1e3+("L"in fe?fe.L:0));if(me&&!("Z"in fe)&&(fe.Z=0),"p"in fe&&(fe.H=fe.H%12+fe.p*12),fe.m===void 0&&(fe.m="q"in fe?fe.q:0),"V"in fe){if(fe.V<1||fe.V>53)return null;"w"in fe||(fe.w=1),"Z"in fe?(pe=uy(Dc(fe.y,0,1)),ge=pe.getUTCDay(),pe=ge>4||ge===0?Gh.ceil(pe):Gh(pe),pe=X0.offset(pe,(fe.V-1)*7),fe.y=pe.getUTCFullYear(),fe.m=pe.getUTCMonth(),fe.d=pe.getUTCDate()+(fe.w+6)%7):(pe=cy(Dc(fe.y,0,1)),ge=pe.getDay(),pe=ge>4||ge===0?Zh.ceil(pe):Zh(pe),pe=$u.offset(pe,(fe.V-1)*7),fe.y=pe.getFullYear(),fe.m=pe.getMonth(),fe.d=pe.getDate()+(fe.w+6)%7)}else("W"in fe||"U"in fe)&&("w"in fe||(fe.w="u"in fe?fe.u%7:"W"in fe?1:0),ge="Z"in fe?uy(Dc(fe.y,0,1)).getUTCDay():cy(Dc(fe.y,0,1)).getDay(),fe.m=0,fe.d="W"in fe?(fe.w+6)%7+fe.W*7-(ge+5)%7:fe.w+fe.U*7-(ge+6)%7);return"Z"in fe?(fe.H+=fe.Z/100|0,fe.M+=fe.Z%100,uy(fe)):cy(fe)}}function M(X,me,je,fe){for(var he=0,pe=me.length,ge=je.length,Pe,dt;he<pe;){if(fe>=ge)return-1;if(Pe=me.charCodeAt(he++),Pe===37){if(Pe=me.charAt(he++),dt=A[Pe in aN?me.charAt(he++):Pe],!dt||(fe=dt(X,je,fe))<0)return-1}else if(Pe!=je.charCodeAt(fe++))return-1}return fe}function R(X,me,je){var fe=f.exec(me.slice(je));return fe?(X.p=m.get(fe[0].toLowerCase()),je+fe[0].length):-1}function L(X,me,je){var fe=y.exec(me.slice(je));return fe?(X.w=_.get(fe[0].toLowerCase()),je+fe[0].length):-1}function $(X,me,je){var fe=g.exec(me.slice(je));return fe?(X.w=v.get(fe[0].toLowerCase()),je+fe[0].length):-1}function q(X,me,je){var fe=j.exec(me.slice(je));return fe?(X.m=N.get(fe[0].toLowerCase()),je+fe[0].length):-1}function V(X,me,je){var fe=k.exec(me.slice(je));return fe?(X.m=S.get(fe[0].toLowerCase()),je+fe[0].length):-1}function Q(X,me,je){return M(X,t,me,je)}function ae(X,me,je){return M(X,r,me,je)}function U(X,me,je){return M(X,n,me,je)}function Y(X){return l[X.getDay()]}function ee(X){return s[X.getDay()]}function le(X){return d[X.getMonth()]}function ve(X){return u[X.getMonth()]}function I(X){return a[+(X.getHours()>=12)]}function K(X){return 1+~~(X.getMonth()/3)}function W(X){return l[X.getUTCDay()]}function H(X){return s[X.getUTCDay()]}function se(X){return d[X.getUTCMonth()]}function ce(X){return u[X.getUTCMonth()]}function re(X){return a[+(X.getUTCHours()>=12)]}function Se(X){return 1+~~(X.getUTCMonth()/3)}return{format:function(X){var me=T(X+="",E);return me.toString=function(){return X},me},parse:function(X){var me=P(X+="",!1);return me.toString=function(){return X},me},utcFormat:function(X){var me=T(X+="",C);return me.toString=function(){return X},me},utcParse:function(X){var me=P(X+="",!0);return me.toString=function(){return X},me}}}var aN={"-":"",_:" ",0:"0"},Xt=/^\s*\d+/,WX=/^%/,XX=/[\\^$*+?|[\]().{}]/g;function Ve(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function JX(e){return e.replace(XX,"\\$&")}function Mc(e){return new RegExp("^(?:"+e.map(JX).join("|")+")","i")}function Rc(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function QX(e,t,r){var n=Xt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function eJ(e,t,r){var n=Xt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function tJ(e,t,r){var n=Xt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function rJ(e,t,r){var n=Xt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function nJ(e,t,r){var n=Xt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function iN(e,t,r){var n=Xt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function sN(e,t,r){var n=Xt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function aJ(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function iJ(e,t,r){var n=Xt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function sJ(e,t,r){var n=Xt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function oN(e,t,r){var n=Xt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function oJ(e,t,r){var n=Xt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function lN(e,t,r){var n=Xt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function lJ(e,t,r){var n=Xt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function cJ(e,t,r){var n=Xt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function uJ(e,t,r){var n=Xt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function dJ(e,t,r){var n=Xt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function fJ(e,t,r){var n=WX.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function hJ(e,t,r){var n=Xt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function mJ(e,t,r){var n=Xt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function cN(e,t){return Ve(e.getDate(),t,2)}function pJ(e,t){return Ve(e.getHours(),t,2)}function gJ(e,t){return Ve(e.getHours()%12||12,t,2)}function vJ(e,t){return Ve(1+$u.count(Qa(e),e),t,3)}function UD(e,t){return Ve(e.getMilliseconds(),t,3)}function yJ(e,t){return UD(e,t)+"000"}function bJ(e,t){return Ve(e.getMonth()+1,t,2)}function xJ(e,t){return Ve(e.getMinutes(),t,2)}function wJ(e,t){return Ve(e.getSeconds(),t,2)}function _J(e){var t=e.getDay();return t===0?7:t}function SJ(e,t){return Ve(J0.count(Qa(e)-1,e),t,2)}function BD(e){var t=e.getDay();return t>=4||t===0?gl(e):gl.ceil(e)}function kJ(e,t){return e=BD(e),Ve(gl.count(Qa(e),e)+(Qa(e).getDay()===4),t,2)}function jJ(e){return e.getDay()}function EJ(e,t){return Ve(Zh.count(Qa(e)-1,e),t,2)}function OJ(e,t){return Ve(e.getFullYear()%100,t,2)}function NJ(e,t){return e=BD(e),Ve(e.getFullYear()%100,t,2)}function AJ(e,t){return Ve(e.getFullYear()%1e4,t,4)}function TJ(e,t){var r=e.getDay();return e=r>=4||r===0?gl(e):gl.ceil(e),Ve(e.getFullYear()%1e4,t,4)}function CJ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ve(t/60|0,"0",2)+Ve(t%60,"0",2)}function uN(e,t){return Ve(e.getUTCDate(),t,2)}function PJ(e,t){return Ve(e.getUTCHours(),t,2)}function DJ(e,t){return Ve(e.getUTCHours()%12||12,t,2)}function MJ(e,t){return Ve(1+X0.count(ei(e),e),t,3)}function qD(e,t){return Ve(e.getUTCMilliseconds(),t,3)}function RJ(e,t){return qD(e,t)+"000"}function $J(e,t){return Ve(e.getUTCMonth()+1,t,2)}function LJ(e,t){return Ve(e.getUTCMinutes(),t,2)}function IJ(e,t){return Ve(e.getUTCSeconds(),t,2)}function zJ(e){var t=e.getUTCDay();return t===0?7:t}function UJ(e,t){return Ve(Q0.count(ei(e)-1,e),t,2)}function HD(e){var t=e.getUTCDay();return t>=4||t===0?vl(e):vl.ceil(e)}function BJ(e,t){return e=HD(e),Ve(vl.count(ei(e),e)+(ei(e).getUTCDay()===4),t,2)}function qJ(e){return e.getUTCDay()}function HJ(e,t){return Ve(Gh.count(ei(e)-1,e),t,2)}function FJ(e,t){return Ve(e.getUTCFullYear()%100,t,2)}function VJ(e,t){return e=HD(e),Ve(e.getUTCFullYear()%100,t,2)}function KJ(e,t){return Ve(e.getUTCFullYear()%1e4,t,4)}function ZJ(e,t){var r=e.getUTCDay();return e=r>=4||r===0?vl(e):vl.ceil(e),Ve(e.getUTCFullYear()%1e4,t,4)}function GJ(){return"+0000"}function dN(){return"%"}function fN(e){return+e}function hN(e){return Math.floor(+e/1e3)}var Ko,FD,VD;YJ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function YJ(e){return Ko=YX(e),FD=Ko.format,Ko.parse,VD=Ko.utcFormat,Ko.utcParse,Ko}function WJ(e){return new Date(e)}function XJ(e){return e instanceof Date?+e:+new Date(+e)}function gw(e,t,r,n,a,s,l,u,d,f){var m=rw(),g=m.invert,v=m.domain,y=f(".%L"),_=f(":%S"),k=f("%I:%M"),S=f("%I %p"),j=f("%a %d"),N=f("%b %d"),E=f("%B"),C=f("%Y");function A(T){return(d(T)<T?y:u(T)<T?_:l(T)<T?k:s(T)<T?S:n(T)<T?a(T)<T?j:N:r(T)<T?E:C)(T)}return m.invert=function(T){return new Date(g(T))},m.domain=function(T){return arguments.length?v(Array.from(T,XJ)):v().map(WJ)},m.ticks=function(T){var P=v();return e(P[0],P[P.length-1],T??10)},m.tickFormat=function(T,P){return P==null?A:f(P)},m.nice=function(T){var P=v();return(!T||typeof T.range!="function")&&(T=t(P[0],P[P.length-1],T??10)),T?v(CD(P,T)):m},m.copy=function(){return Ru(m,gw(e,t,r,n,a,s,l,u,d,f))},m}function JJ(){return $n.apply(gw(ZX,GX,Qa,mw,J0,$u,fw,uw,Ds,FD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function QJ(){return $n.apply(gw(VX,KX,ei,pw,Q0,X0,hw,dw,Ds,VD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function em(){var e=0,t=1,r,n,a,s,l=Er,u=!1,d;function f(g){return g==null||isNaN(g=+g)?d:l(a===0?.5:(g=(s(g)-r)*a,u?Math.max(0,Math.min(1,g)):g))}f.domain=function(g){return arguments.length?([e,t]=g,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),f):[e,t]},f.clamp=function(g){return arguments.length?(u=!!g,f):u},f.interpolator=function(g){return arguments.length?(l=g,f):l};function m(g){return function(v){var y,_;return arguments.length?([y,_]=v,l=g(y,_),f):[l(0),l(1)]}}return f.range=m(jl),f.rangeRound=m(tw),f.unknown=function(g){return arguments.length?(d=g,f):d},function(g){return s=g,r=g(e),n=g(t),a=r===n?0:1/(n-r),f}}function Xi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function KD(){var e=Wi(em()(Er));return e.copy=function(){return Xi(e,KD())},li.apply(e,arguments)}function ZD(){var e=iw(em()).domain([1,10]);return e.copy=function(){return Xi(e,ZD()).base(e.base())},li.apply(e,arguments)}function GD(){var e=sw(em());return e.copy=function(){return Xi(e,GD()).constant(e.constant())},li.apply(e,arguments)}function vw(){var e=ow(em());return e.copy=function(){return Xi(e,vw()).exponent(e.exponent())},li.apply(e,arguments)}function eQ(){return vw.apply(null,arguments).exponent(.5)}function YD(){var e=[],t=Er;function r(n){if(n!=null&&!isNaN(n=+n))return t((Du(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Fi),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>zW(e,s/n))},r.copy=function(){return YD(t).domain(e)},li.apply(r,arguments)}function tm(){var e=0,t=.5,r=1,n=1,a,s,l,u,d,f=Er,m,g=!1,v;function y(k){return isNaN(k=+k)?v:(k=.5+((k=+m(k))-s)*(n*k<n*s?u:d),f(g?Math.max(0,Math.min(1,k)):k))}y.domain=function(k){return arguments.length?([e,t,r]=k,a=m(e=+e),s=m(t=+t),l=m(r=+r),u=a===s?0:.5/(s-a),d=s===l?0:.5/(l-s),n=s<a?-1:1,y):[e,t,r]},y.clamp=function(k){return arguments.length?(g=!!k,y):g},y.interpolator=function(k){return arguments.length?(f=k,y):f};function _(k){return function(S){var j,N,E;return arguments.length?([j,N,E]=S,f=fX(k,[j,N,E]),y):[f(0),f(.5),f(1)]}}return y.range=_(jl),y.rangeRound=_(tw),y.unknown=function(k){return arguments.length?(v=k,y):v},function(k){return m=k,a=k(e),s=k(t),l=k(r),u=a===s?0:.5/(s-a),d=s===l?0:.5/(l-s),n=s<a?-1:1,y}}function WD(){var e=Wi(tm()(Er));return e.copy=function(){return Xi(e,WD())},li.apply(e,arguments)}function XD(){var e=iw(tm()).domain([.1,1,10]);return e.copy=function(){return Xi(e,XD()).base(e.base())},li.apply(e,arguments)}function JD(){var e=sw(tm());return e.copy=function(){return Xi(e,JD()).constant(e.constant())},li.apply(e,arguments)}function yw(){var e=ow(tm());return e.copy=function(){return Xi(e,yw()).exponent(e.exponent())},li.apply(e,arguments)}function tQ(){return yw.apply(null,arguments).exponent(.5)}const Fc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Jx,scaleDiverging:WD,scaleDivergingLog:XD,scaleDivergingPow:yw,scaleDivergingSqrt:tQ,scaleDivergingSymlog:JD,scaleIdentity:TD,scaleImplicit:Db,scaleLinear:AD,scaleLog:PD,scaleOrdinal:Xx,scalePoint:qW,scalePow:lw,scaleQuantile:RD,scaleQuantize:$D,scaleRadial:MD,scaleSequential:KD,scaleSequentialLog:ZD,scaleSequentialPow:vw,scaleSequentialQuantile:YD,scaleSequentialSqrt:eQ,scaleSequentialSymlog:GD,scaleSqrt:RX,scaleSymlog:DD,scaleThreshold:LD,scaleTime:JJ,scaleUtc:QJ,tickFormat:ND},Symbol.toStringTag,{value:"Module"}));var Ji=e=>e.chartData,rQ=ne([Ji],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),bw=(e,t,r,n)=>n?rQ(e):Ji(e);function Ki(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(at(t)&&at(r))return!0}return!1}function mN(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function QD(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,s;if(at(r))a=r;else if(typeof r=="function")return;if(at(n))s=n;else if(typeof n=="function")return;var l=[a,s];if(Ki(l))return l}}function nQ(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Ki(n))return mN(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,s]=e,l,u;if(a==="auto")t!=null&&(l=Math.min(...t));else if(Oe(a))l=a;else if(typeof a=="function")try{t!=null&&(l=a(t?.[0]))}catch{}else if(typeof a=="string"&&FE.test(a)){var d=FE.exec(a);if(d==null||t==null)l=void 0;else{var f=+d[1];l=t[0]-f}}else l=t?.[0];if(s==="auto")t!=null&&(u=Math.max(...t));else if(Oe(s))u=s;else if(typeof s=="function")try{t!=null&&(u=s(t?.[1]))}catch{}else if(typeof s=="string"&&VE.test(s)){var m=VE.exec(s);if(m==null||t==null)u=void 0;else{var g=+m[1];u=t[1]+g}}else u=t?.[1];var v=[l,u];if(Ki(v))return t==null?v:mN(v,t,r)}}}var El=1e9,aQ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ww,pt=!0,Dn="[DecimalError] ",Ls=Dn+"Invalid argument: ",xw=Dn+"Exponent out of range: ",Ol=Math.floor,js=Math.pow,iQ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,on,Wt=1e7,ut=7,e4=9007199254740991,Yh=Ol(e4/ut),xe={};xe.absoluteValue=xe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};xe.comparedTo=xe.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};xe.decimalPlaces=xe.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*ut;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};xe.dividedBy=xe.div=function(e){return Za(this,new this.constructor(e))};xe.dividedToIntegerBy=xe.idiv=function(e){var t=this,r=t.constructor;return tt(Za(t,new r(e),0,1),r.precision)};xe.equals=xe.eq=function(e){return!this.cmp(e)};xe.exponent=function(){return Lt(this)};xe.greaterThan=xe.gt=function(e){return this.cmp(e)>0};xe.greaterThanOrEqualTo=xe.gte=function(e){return this.cmp(e)>=0};xe.isInteger=xe.isint=function(){return this.e>this.d.length-2};xe.isNegative=xe.isneg=function(){return this.s<0};xe.isPositive=xe.ispos=function(){return this.s>0};xe.isZero=function(){return this.s===0};xe.lessThan=xe.lt=function(e){return this.cmp(e)<0};xe.lessThanOrEqualTo=xe.lte=function(e){return this.cmp(e)<1};xe.logarithm=xe.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(on))throw Error(Dn+"NaN");if(r.s<1)throw Error(Dn+(r.s?"NaN":"-Infinity"));return r.eq(on)?new n(0):(pt=!1,t=Za(gu(r,s),gu(e,s),s),pt=!0,tt(t,a))};xe.minus=xe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?n4(t,e):t4(t,(e.s=-e.s,e))};xe.modulo=xe.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Dn+"NaN");return r.s?(pt=!1,t=Za(r,e,0,1).times(e),pt=!0,r.minus(t)):tt(new n(r),a)};xe.naturalExponential=xe.exp=function(){return r4(this)};xe.naturalLogarithm=xe.ln=function(){return gu(this)};xe.negated=xe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};xe.plus=xe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?t4(t,e):n4(t,(e.s=-e.s,e))};xe.precision=xe.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ls+e);if(t=Lt(a)+1,n=a.d.length-1,r=n*ut+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};xe.squareRoot=xe.sqrt=function(){var e,t,r,n,a,s,l,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(Dn+"NaN")}for(e=Lt(u),pt=!1,a=Math.sqrt(+u),a==0||a==1/0?(t=la(u.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Ol((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new d(t)):n=new d(a.toString()),r=d.precision,a=l=r+3;;)if(s=n,n=s.plus(Za(u,s,l+2)).times(.5),la(s.d).slice(0,l)===(t=la(n.d)).slice(0,l)){if(t=t.slice(l-3,l+1),a==l&&t=="4999"){if(tt(s,r+1,0),s.times(s).eq(u)){n=s;break}}else if(t!="9999")break;l+=4}return pt=!0,tt(n,r)};xe.times=xe.mul=function(e){var t,r,n,a,s,l,u,d,f,m=this,g=m.constructor,v=m.d,y=(e=new g(e)).d;if(!m.s||!e.s)return new g(0);for(e.s*=m.s,r=m.e+e.e,d=v.length,f=y.length,d<f&&(s=v,v=y,y=s,l=d,d=f,f=l),s=[],l=d+f,n=l;n--;)s.push(0);for(n=f;--n>=0;){for(t=0,a=d+n;a>n;)u=s[a]+y[n]*v[a-n-1]+t,s[a--]=u%Wt|0,t=u/Wt|0;s[a]=(s[a]+t)%Wt|0}for(;!s[--l];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,pt?tt(e,g.precision):e};xe.toDecimalPlaces=xe.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ma(e,0,El),t===void 0?t=n.rounding:ma(t,0,8),tt(r,e+Lt(r)+1,t))};xe.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Fs(n,!0):(ma(e,0,El),t===void 0?t=a.rounding:ma(t,0,8),n=tt(new a(n),e+1,t),r=Fs(n,!0,e+1)),r};xe.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?Fs(a):(ma(e,0,El),t===void 0?t=s.rounding:ma(t,0,8),n=tt(new s(a),e+Lt(a)+1,t),r=Fs(n.abs(),!1,e+Lt(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};xe.toInteger=xe.toint=function(){var e=this,t=e.constructor;return tt(new t(e),Lt(e)+1,t.rounding)};xe.toNumber=function(){return+this};xe.toPower=xe.pow=function(e){var t,r,n,a,s,l,u=this,d=u.constructor,f=12,m=+(e=new d(e));if(!e.s)return new d(on);if(u=new d(u),!u.s){if(e.s<1)throw Error(Dn+"Infinity");return u}if(u.eq(on))return u;if(n=d.precision,e.eq(on))return tt(u,n);if(t=e.e,r=e.d.length-1,l=t>=r,s=u.s,l){if((r=m<0?-m:m)<=e4){for(a=new d(on),t=Math.ceil(n/ut+4),pt=!1;r%2&&(a=a.times(u),gN(a.d,t)),r=Ol(r/2),r!==0;)u=u.times(u),gN(u.d,t);return pt=!0,e.s<0?new d(on).div(a):tt(a,n)}}else if(s<0)throw Error(Dn+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,u.s=1,pt=!1,a=e.times(gu(u,n+f)),pt=!0,a=r4(a),a.s=s,a};xe.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=Lt(a),n=Fs(a,r<=s.toExpNeg||r>=s.toExpPos)):(ma(e,1,El),t===void 0?t=s.rounding:ma(t,0,8),a=tt(new s(a),e,t),r=Lt(a),n=Fs(a,e<=r||r<=s.toExpNeg,e)),n};xe.toSignificantDigits=xe.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ma(e,1,El),t===void 0?t=n.rounding:ma(t,0,8)),tt(new n(r),e,t)};xe.toString=xe.valueOf=xe.val=xe.toJSON=xe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Lt(e),r=e.constructor;return Fs(e,t<=r.toExpNeg||t>=r.toExpPos)};function t4(e,t){var r,n,a,s,l,u,d,f,m=e.constructor,g=m.precision;if(!e.s||!t.s)return t.s||(t=new m(e)),pt?tt(t,g):t;if(d=e.d,f=t.d,l=e.e,a=t.e,d=d.slice(),s=l-a,s){for(s<0?(n=d,s=-s,u=f.length):(n=f,a=l,u=d.length),l=Math.ceil(g/ut),u=l>u?l+1:u+1,s>u&&(s=u,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(u=d.length,s=f.length,u-s<0&&(s=u,n=f,f=d,d=n),r=0;s;)r=(d[--s]=d[s]+f[s]+r)/Wt|0,d[s]%=Wt;for(r&&(d.unshift(r),++a),u=d.length;d[--u]==0;)d.pop();return t.d=d,t.e=a,pt?tt(t,g):t}function ma(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ls+e)}function la(e){var t,r,n,a=e.length-1,s="",l=e[0];if(a>0){for(s+=l,t=1;t<a;t++)n=e[t]+"",r=ut-n.length,r&&(s+=Ri(r)),s+=n;l=e[t],n=l+"",r=ut-n.length,r&&(s+=Ri(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var Za=(function(){function e(n,a){var s,l=0,u=n.length;for(n=n.slice();u--;)s=n[u]*a+l,n[u]=s%Wt|0,l=s/Wt|0;return l&&n.unshift(l),n}function t(n,a,s,l){var u,d;if(s!=l)d=s>l?1:-1;else for(u=d=0;u<s;u++)if(n[u]!=a[u]){d=n[u]>a[u]?1:-1;break}return d}function r(n,a,s){for(var l=0;s--;)n[s]-=l,l=n[s]<a[s]?1:0,n[s]=l*Wt+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,l){var u,d,f,m,g,v,y,_,k,S,j,N,E,C,A,T,P,M,R=n.constructor,L=n.s==a.s?1:-1,$=n.d,q=a.d;if(!n.s)return new R(n);if(!a.s)throw Error(Dn+"Division by zero");for(d=n.e-a.e,P=q.length,A=$.length,y=new R(L),_=y.d=[],f=0;q[f]==($[f]||0);)++f;if(q[f]>($[f]||0)&&--d,s==null?N=s=R.precision:l?N=s+(Lt(n)-Lt(a))+1:N=s,N<0)return new R(0);if(N=N/ut+2|0,f=0,P==1)for(m=0,q=q[0],N++;(f<A||m)&&N--;f++)E=m*Wt+($[f]||0),_[f]=E/q|0,m=E%q|0;else{for(m=Wt/(q[0]+1)|0,m>1&&(q=e(q,m),$=e($,m),P=q.length,A=$.length),C=P,k=$.slice(0,P),S=k.length;S<P;)k[S++]=0;M=q.slice(),M.unshift(0),T=q[0],q[1]>=Wt/2&&++T;do m=0,u=t(q,k,P,S),u<0?(j=k[0],P!=S&&(j=j*Wt+(k[1]||0)),m=j/T|0,m>1?(m>=Wt&&(m=Wt-1),g=e(q,m),v=g.length,S=k.length,u=t(g,k,v,S),u==1&&(m--,r(g,P<v?M:q,v))):(m==0&&(u=m=1),g=q.slice()),v=g.length,v<S&&g.unshift(0),r(k,g,S),u==-1&&(S=k.length,u=t(q,k,P,S),u<1&&(m++,r(k,P<S?M:q,S))),S=k.length):u===0&&(m++,k=[0]),_[f++]=m,u&&k[0]?k[S++]=$[C]||0:(k=[$[C]],S=1);while((C++<A||k[0]!==void 0)&&N--)}return _[0]||_.shift(),y.e=d,tt(y,l?s+Lt(y)+1:s)}})();function r4(e,t){var r,n,a,s,l,u,d=0,f=0,m=e.constructor,g=m.precision;if(Lt(e)>16)throw Error(xw+Lt(e));if(!e.s)return new m(on);for(pt=!1,u=g,l=new m(.03125);e.abs().gte(.1);)e=e.times(l),f+=5;for(n=Math.log(js(2,f))/Math.LN10*2+5|0,u+=n,r=a=s=new m(on),m.precision=u;;){if(a=tt(a.times(e),u),r=r.times(++d),l=s.plus(Za(a,r,u)),la(l.d).slice(0,u)===la(s.d).slice(0,u)){for(;f--;)s=tt(s.times(s),u);return m.precision=g,t==null?(pt=!0,tt(s,g)):s}s=l}}function Lt(e){for(var t=e.e*ut,r=e.d[0];r>=10;r/=10)t++;return t}function dy(e,t,r){if(t>e.LN10.sd())throw pt=!0,r&&(e.precision=r),Error(Dn+"LN10 precision limit exceeded");return tt(new e(e.LN10),t)}function Ri(e){for(var t="";e--;)t+="0";return t}function gu(e,t){var r,n,a,s,l,u,d,f,m,g=1,v=10,y=e,_=y.d,k=y.constructor,S=k.precision;if(y.s<1)throw Error(Dn+(y.s?"NaN":"-Infinity"));if(y.eq(on))return new k(0);if(t==null?(pt=!1,f=S):f=t,y.eq(10))return t==null&&(pt=!0),dy(k,f);if(f+=v,k.precision=f,r=la(_),n=r.charAt(0),s=Lt(y),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)y=y.times(e),r=la(y.d),n=r.charAt(0),g++;s=Lt(y),n>1?(y=new k("0."+r),s++):y=new k(n+"."+r.slice(1))}else return d=dy(k,f+2,S).times(s+""),y=gu(new k(n+"."+r.slice(1)),f-v).plus(d),k.precision=S,t==null?(pt=!0,tt(y,S)):y;for(u=l=y=Za(y.minus(on),y.plus(on),f),m=tt(y.times(y),f),a=3;;){if(l=tt(l.times(m),f),d=u.plus(Za(l,new k(a),f)),la(d.d).slice(0,f)===la(u.d).slice(0,f))return u=u.times(2),s!==0&&(u=u.plus(dy(k,f+2,S).times(s+""))),u=Za(u,new k(g),f),k.precision=S,t==null?(pt=!0,tt(u,S)):u;u=d,a+=2}}function pN(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Ol(r/ut),e.d=[],n=(r+1)%ut,r<0&&(n+=ut),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=ut;n<a;)e.d.push(+t.slice(n,n+=ut));t=t.slice(n),n=ut-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),pt&&(e.e>Yh||e.e<-Yh))throw Error(xw+r)}else e.s=0,e.e=0,e.d=[0];return e}function tt(e,t,r){var n,a,s,l,u,d,f,m,g=e.d;for(l=1,s=g[0];s>=10;s/=10)l++;if(n=t-l,n<0)n+=ut,a=t,f=g[m=0];else{if(m=Math.ceil((n+1)/ut),s=g.length,m>=s)return e;for(f=s=g[m],l=1;s>=10;s/=10)l++;n%=ut,a=n-ut+l}if(r!==void 0&&(s=js(10,l-a-1),u=f/s%10|0,d=t<0||g[m+1]!==void 0||f%s,d=r<4?(u||d)&&(r==0||r==(e.s<0?3:2)):u>5||u==5&&(r==4||d||r==6&&(n>0?a>0?f/js(10,l-a):0:g[m-1])%10&1||r==(e.s<0?8:7))),t<1||!g[0])return d?(s=Lt(e),g.length=1,t=t-s-1,g[0]=js(10,(ut-t%ut)%ut),e.e=Ol(-t/ut)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(n==0?(g.length=m,s=1,m--):(g.length=m+1,s=js(10,ut-n),g[m]=a>0?(f/js(10,l-a)%js(10,a)|0)*s:0),d)for(;;)if(m==0){(g[0]+=s)==Wt&&(g[0]=1,++e.e);break}else{if(g[m]+=s,g[m]!=Wt)break;g[m--]=0,s=1}for(n=g.length;g[--n]===0;)g.pop();if(pt&&(e.e>Yh||e.e<-Yh))throw Error(xw+Lt(e));return e}function n4(e,t){var r,n,a,s,l,u,d,f,m,g,v=e.constructor,y=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),pt?tt(t,y):t;if(d=e.d,g=t.d,n=t.e,f=e.e,d=d.slice(),l=f-n,l){for(m=l<0,m?(r=d,l=-l,u=g.length):(r=g,n=f,u=d.length),a=Math.max(Math.ceil(y/ut),u)+2,l>a&&(l=a,r.length=1),r.reverse(),a=l;a--;)r.push(0);r.reverse()}else{for(a=d.length,u=g.length,m=a<u,m&&(u=a),a=0;a<u;a++)if(d[a]!=g[a]){m=d[a]<g[a];break}l=0}for(m&&(r=d,d=g,g=r,t.s=-t.s),u=d.length,a=g.length-u;a>0;--a)d[u++]=0;for(a=g.length;a>l;){if(d[--a]<g[a]){for(s=a;s&&d[--s]===0;)d[s]=Wt-1;--d[s],d[a]+=Wt}d[a]-=g[a]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(t.d=d,t.e=n,pt?tt(t,y):t):new v(0)}function Fs(e,t,r){var n,a=Lt(e),s=la(e.d),l=s.length;return t?(r&&(n=r-l)>0?s=s.charAt(0)+"."+s.slice(1)+Ri(n):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Ri(-a-1)+s,r&&(n=r-l)>0&&(s+=Ri(n))):a>=l?(s+=Ri(a+1-l),r&&(n=r-a-1)>0&&(s=s+"."+Ri(n))):((n=a+1)<l&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-l)>0&&(a+1===l&&(s+="."),s+=Ri(n))),e.s<0?"-"+s:s}function gN(e,t){if(e.length>t)return e.length=t,!0}function a4(e){var t,r,n;function a(s){var l=this;if(!(l instanceof a))return new a(s);if(l.constructor=a,s instanceof a){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Ls+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return pN(l,s.toString())}else if(typeof s!="string")throw Error(Ls+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,iQ.test(s))pN(l,s);else throw Error(Ls+s)}if(a.prototype=xe,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=a4,a.config=a.set=sQ,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function sQ(e){if(!e||typeof e!="object")throw Error(Dn+"Object expected");var t,r,n,a=["precision",1,El,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Ol(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Ls+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ls+r+": "+n);return this}var ww=a4(aQ);on=new ww(1);const We=ww;var oQ=e=>e,i4={},s4=e=>e===i4,vN=e=>function t(){return arguments.length===0||arguments.length===1&&s4(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},o4=(e,t)=>e===1?t:vN(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var s=n.filter(l=>l!==i4).length;return s>=e?t(...n):o4(e-s,vN(function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];var f=n.map(m=>s4(m)?u.shift():m);return t(...f,...u)}))}),lQ=e=>o4(e.length,e),Lb=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},cQ=lQ((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),uQ=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return oQ;var a=r.reverse(),s=a[0],l=a.slice(1);return function(){return l.reduce((u,d)=>d(u),s(...arguments))}},Ib=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function l4(e){var t;return e===0?t=1:t=Math.floor(new We(e).abs().log(10).toNumber())+1,t}function c4(e,t,r){for(var n=new We(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var u4=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},d4=(e,t,r)=>{if(e.lte(0))return new We(0);var n=l4(e.toNumber()),a=new We(10).pow(n),s=e.div(a),l=n!==1?.05:.1,u=new We(Math.ceil(s.div(l).toNumber())).add(r).mul(l),d=u.mul(a);return t?new We(d.toNumber()):new We(Math.ceil(d.toNumber()))},dQ=(e,t,r)=>{var n=new We(1),a=new We(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new We(10).pow(l4(e)-1),a=new We(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new We(Math.floor(e)))}else e===0?a=new We(Math.floor((t-1)/2)):r||(a=new We(Math.floor(e)));var l=Math.floor((t-1)/2),u=uQ(cQ(d=>a.add(new We(d-l).mul(n)).toNumber()),Lb);return u(0,t)},f4=function(t,r,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new We(0),tickMin:new We(0),tickMax:new We(0)};var l=d4(new We(r).sub(t).div(n-1),a,s),u;t<=0&&r>=0?u=new We(0):(u=new We(t).add(r).div(2),u=u.sub(new We(u).mod(l)));var d=Math.ceil(u.sub(t).div(l).toNumber()),f=Math.ceil(new We(r).sub(u).div(l).toNumber()),m=d+f+1;return m>n?f4(t,r,n,a,s+1):(m<n&&(f=r>0?f+(n-m):f,d=r>0?d:d+(n-m)),{step:l,tickMin:u.sub(new We(d).mul(l)),tickMax:u.add(new We(f).mul(l))})},fQ=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(a,2),[u,d]=u4([r,n]);if(u===-1/0||d===1/0){var f=d===1/0?[u,...Lb(0,a-1).map(()=>1/0)]:[...Lb(0,a-1).map(()=>-1/0),d];return r>n?Ib(f):f}if(u===d)return dQ(u,a,s);var{step:m,tickMin:g,tickMax:v}=f4(u,d,l,s,0),y=c4(g,v.add(new We(.1).mul(m)),m);return r>n?Ib(y):y},hQ=function(t,r){var[n,a]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,u]=u4([n,a]);if(l===-1/0||u===1/0)return[n,a];if(l===u)return[l];var d=Math.max(r,2),f=d4(new We(u).sub(l).div(d-1),s,0),m=[...c4(new We(l),new We(u),f),u];return s===!1&&(m=m.map(g=>Math.round(g))),n>a?Ib(m):m},mQ=e=>e.rootProps.barCategoryGap,rm=e=>e.rootProps.stackOffset,h4=e=>e.rootProps.reverseStackOrder,_w=e=>e.options.chartName,Sw=e=>e.rootProps.syncId,m4=e=>e.rootProps.syncMethod,kw=e=>e.options.eventEmitter,pQ=e=>e.rootProps.baseValue,br={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Ba={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},an={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},nm=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},gQ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ba.angleAxisId,includeHidden:!1,name:void 0,reversed:Ba.reversed,scale:Ba.scale,tick:Ba.tick,tickCount:void 0,ticks:void 0,type:Ba.type,unit:void 0},vQ={allowDataOverflow:an.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:an.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:an.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:an.scale,tick:an.tick,tickCount:an.tickCount,ticks:void 0,type:an.type,unit:void 0},yQ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ba.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ba.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ba.scale,tick:Ba.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},bQ={allowDataOverflow:an.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:an.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:an.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:an.scale,tick:an.tick,tickCount:an.tickCount,ticks:void 0,type:"category",unit:void 0},jw=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?yQ:gQ,Ew=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?bQ:vQ,am=e=>e.polarOptions,Ow=ne([si,oi,dr],fW),p4=ne([am,Ow],(e,t)=>{if(e!=null)return Vi(e.innerRadius,t,0)}),g4=ne([am,Ow],(e,t)=>{if(e!=null)return Vi(e.outerRadius,t,t*.8)}),xQ=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},v4=ne([am],xQ);ne([jw,v4],nm);var y4=ne([Ow,p4,g4],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});ne([Ew,y4],nm);var b4=ne([st,am,p4,g4,si,oi],(e,t,r,n,a,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:l,cy:u,startAngle:d,endAngle:f}=t;return{cx:Vi(l,a,a/2),cy:Vi(u,s,s/2),innerRadius:r,outerRadius:n,startAngle:d,endAngle:f,clockWise:!1}}}),Ht=(e,t)=>t,im=(e,t,r)=>r;function Nw(e){return e?.id}function x4(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:s}=r,l=new Map;return e.forEach(u=>{var d,f=(d=u.data)!==null&&d!==void 0?d:n;if(!(f==null||f.length===0)){var m=Nw(u);f.forEach((g,v)=>{var y=s==null||a?v:String(xr(g,s,null)),_=xr(g,u.dataKey,0),k;l.has(y)?k=l.get(y):k={},Object.assign(k,{[m]:_}),l.set(y,k)})}}),Array.from(l.values())}function Aw(e){return e.stackId!=null&&e.dataKey!=null}var sm=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function om(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function wQ(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var Ft=e=>{var t=st(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Nl=e=>e.tooltip.settings.axisId;function yN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yN(Object(r),!0).forEach(function(n){_Q(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Q(e,t,r){return(t=SQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SQ(e){var t=kQ(e,"string");return typeof t=="symbol"?t:t+""}function kQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zb=[0,"auto"],Gt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},w4=(e,t)=>e.cartesianAxis.xAxis[t],pa=(e,t)=>{var r=w4(e,t);return r??Gt},Yt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:zb,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Au},_4=(e,t)=>e.cartesianAxis.yAxis[t],ga=(e,t)=>{var r=_4(e,t);return r??Yt},jQ={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Tw=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??jQ},Cr=(e,t,r)=>{switch(t){case"xAxis":return pa(e,r);case"yAxis":return ga(e,r);case"zAxis":return Tw(e,r);case"angleAxis":return jw(e,r);case"radiusAxis":return Ew(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},EQ=(e,t,r)=>{switch(t){case"xAxis":return pa(e,r);case"yAxis":return ga(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Lu=(e,t,r)=>{switch(t){case"xAxis":return pa(e,r);case"yAxis":return ga(e,r);case"angleAxis":return jw(e,r);case"radiusAxis":return Ew(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},S4=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function k4(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var j4=e=>e.graphicalItems.cartesianItems,OQ=ne([Ht,im],k4),E4=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),Iu=ne([j4,Cr,OQ],E4,{memoizeOptions:{resultEqualityCheck:om}}),O4=ne([Iu],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Aw)),N4=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),NQ=ne([Iu],N4),A4=e=>e.map(t=>t.data).filter(Boolean).flat(1),AQ=ne([Iu],A4,{memoizeOptions:{resultEqualityCheck:om}}),T4=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},Cw=ne([AQ,bw],T4),C4=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:xr(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:xr(a,n)}))):e.map(n=>({value:n})),lm=ne([Cw,Cr,Iu],C4);function P4(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Qf(e){if(Cn(e)||e instanceof Date){var t=Number(e);if(at(t))return t}}function bN(e){if(Array.isArray(e)){var t=[Qf(e[0]),Qf(e[1])];return Ki(t)?t:void 0}var r=Qf(e);if(r!=null)return[r,r]}function ti(e){return e.map(Qf).filter(KV)}function TQ(e,t,r){return!r||typeof t!="number"||fn(t)?[]:r.length?ti(r.flatMap(n=>{var a=xr(e,n.dataKey),s,l;if(Array.isArray(a)?[s,l]=a:s=l=a,!(!at(s)||!at(l)))return[t-s,t+l]})):[]}var Vt=e=>{var t=Ft(e),r=Nl(e);return Lu(e,t,r)},zu=ne([Vt],e=>e?.dataKey),CQ=ne([O4,bw,Vt],x4),D4=(e,t,r,n)=>{var a={},s=t.reduce((l,u)=>(u.stackId==null||(l[u.stackId]==null&&(l[u.stackId]=[]),l[u.stackId].push(u)),l),a);return Object.fromEntries(Object.entries(s).map(l=>{var[u,d]=l,f=n?[...d].reverse():d,m=f.map(Nw);return[u,{stackedData:tG(e,m,r),graphicalItems:f}]}))},Ub=ne([CQ,O4,rm,h4],D4),M4=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:s}=t;if(n==null&&r!=="zAxis"){var l=iG(e,a,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},PQ=ne([Cr],e=>e.allowDataOverflow),Pw=e=>{var t;if(e==null||!("domain"in e))return zb;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=ti(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:zb},R4=ne([Cr],Pw),$4=ne([R4,PQ],QD),DQ=ne([Ub,Ji,Ht,$4],M4,{memoizeOptions:{resultEqualityCheck:sm}}),Dw=e=>e.errorBars,MQ=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>P4(r,n)),Xh=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var s=a.flat(),l=Math.min(...s),u=Math.max(...s);return[l,u]}},L4=(e,t,r,n,a)=>{var s,l;if(r.length>0&&e.forEach(u=>{r.forEach(d=>{var f,m,g=(f=n[d.id])===null||f===void 0?void 0:f.filter(j=>P4(a,j)),v=xr(u,(m=t.dataKey)!==null&&m!==void 0?m:d.dataKey),y=TQ(u,v,g);if(y.length>=2){var _=Math.min(...y),k=Math.max(...y);(s==null||_<s)&&(s=_),(l==null||k>l)&&(l=k)}var S=bN(v);S!=null&&(s=s==null?S[0]:Math.min(s,S[0]),l=l==null?S[1]:Math.max(l,S[1]))})}),t?.dataKey!=null&&e.forEach(u=>{var d=bN(xr(u,t.dataKey));d!=null&&(s=s==null?d[0]:Math.min(s,d[0]),l=l==null?d[1]:Math.max(l,d[1]))}),at(s)&&at(l))return[s,l]},RQ=ne([Cw,Cr,NQ,Dw,Ht],L4,{memoizeOptions:{resultEqualityCheck:sm}});function $Q(e){var{value:t}=e;if(Cn(t)||t instanceof Date)return t}var LQ=(e,t,r)=>{var n=e.map($Q).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&QC(n))?yD(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},I4=e=>e.referenceElements.dots,Al=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),IQ=ne([I4,Ht,im],Al),z4=e=>e.referenceElements.areas,zQ=ne([z4,Ht,im],Al),U4=e=>e.referenceElements.lines,UQ=ne([U4,Ht,im],Al),B4=(e,t)=>{var r=ti(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},BQ=ne(IQ,Ht,B4),q4=(e,t)=>{var r=ti(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},qQ=ne([zQ,Ht],q4);function HQ(e){var t;if(e.x!=null)return ti([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:ti(r)}function FQ(e){var t;if(e.y!=null)return ti([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:ti(r)}var H4=(e,t)=>{var r=e.flatMap(n=>t==="xAxis"?HQ(n):FQ(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},VQ=ne([UQ,Ht],H4),KQ=ne(BQ,VQ,qQ,(e,t,r)=>Xh(e,r,t)),F4=(e,t,r,n,a,s,l,u)=>{if(r!=null)return r;var d=l==="vertical"&&u==="xAxis"||l==="horizontal"&&u==="yAxis",f=d?Xh(n,s,a):Xh(s,a);return nQ(t,f,e.allowDataOverflow)},ZQ=ne([Cr,R4,$4,DQ,RQ,KQ,st,Ht],F4,{memoizeOptions:{resultEqualityCheck:sm}}),GQ=[0,1],V4=(e,t,r,n,a,s,l)=>{if(!((e==null||r==null||r.length===0)&&l===void 0)){var{dataKey:u,type:d}=e,f=ii(t,s);if(f&&u==null){var m;return yD(0,(m=r?.length)!==null&&m!==void 0?m:0)}return d==="category"?LQ(n,e,f):a==="expand"?GQ:l}},Mw=ne([Cr,st,Cw,lm,rm,Ht,ZQ],V4),K4=(e,t,r,n,a)=>{if(e!=null){var{scale:s,type:l}=e;if(s==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":l==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":l==="category"?"band":"linear";if(typeof s=="string"){var u="scale".concat(Rx(s));return u in Fc?u:"point"}}},Uu=ne([Cr,st,S4,_w,Ht],K4);function YQ(e){if(e!=null){if(e in Fc)return Fc[e]();var t="scale".concat(Rx(e));if(t in Fc)return Fc[t]()}}function Rw(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=YQ(t);if(a!=null){var s=a.domain(r).range(n);return XZ(s),s}}}var Z4=(e,t,r)=>{var n=Pw(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Ki(e))return fQ(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Ki(e))return hQ(e,t.tickCount,t.allowDecimals)}},$w=ne([Mw,Lu,Uu],Z4),G4=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&Ki(t)&&Array.isArray(r)&&r.length>0){var a=t[0],s=r[0],l=t[1],u=r[r.length-1];return[Math.min(a,s),Math.max(l,u)]}return t},WQ=ne([Cr,Mw,$w,Ht],G4),XQ=ne(lm,Cr,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(ti(e.map(u=>u.value))).sort((u,d)=>u-d);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var s=0;s<n.length-1;s++){var l=n[s+1]-n[s];r=Math.min(r,l)}return r/a}}),Y4=ne(XQ,st,mQ,dr,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!at(e))return 0;var s=t==="vertical"?n.height:n.width;if(a==="gap")return e*s/2;if(a==="no-gap"){var l=Vi(r,e*s),u=e*s/2;return u-l-(u-l)/s*l}return 0}),JQ=(e,t)=>{var r=pa(e,t);return r==null||typeof r.padding!="string"?0:Y4(e,"xAxis",t,r.padding)},QQ=(e,t)=>{var r=ga(e,t);return r==null||typeof r.padding!="string"?0:Y4(e,"yAxis",t,r.padding)},eee=ne(pa,JQ,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),tee=ne(ga,QQ,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),ree=ne([dr,eee,V0,F0,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:s}=n;return a?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),nee=ne([dr,st,tee,V0,F0,(e,t,r)=>r],(e,t,r,n,a,s)=>{var{padding:l}=a;return s?[n.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Bu=(e,t,r,n)=>{var a;switch(t){case"xAxis":return ree(e,r,n);case"yAxis":return nee(e,r,n);case"zAxis":return(a=Tw(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return v4(e);case"radiusAxis":return y4(e,r);default:return}},W4=ne([Cr,Bu],nm),Zi=ne([Cr,Uu,WQ,W4],Rw);ne([Iu,Dw,Ht],MQ);function X4(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var cm=(e,t)=>t,um=(e,t,r)=>r,aee=ne(q0,cm,um,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(X4)),iee=ne(H0,cm,um,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(X4)),J4=(e,t)=>({width:e.width,height:t.height}),see=(e,t)=>{var r=typeof t.width=="number"?t.width:Au;return{width:r,height:e.height}},oee=ne(dr,pa,J4),lee=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},cee=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},uee=ne(oi,dr,aee,cm,um,(e,t,r,n,a)=>{var s={},l;return r.forEach(u=>{var d=J4(t,u);l==null&&(l=lee(t,n,e));var f=n==="top"&&!a||n==="bottom"&&a;s[u.id]=l-Number(f)*d.height,l+=(f?-1:1)*d.height}),s}),dee=ne(si,dr,iee,cm,um,(e,t,r,n,a)=>{var s={},l;return r.forEach(u=>{var d=see(t,u);l==null&&(l=cee(t,n,e));var f=n==="left"&&!a||n==="right"&&a;s[u.id]=l-Number(f)*d.width,l+=(f?-1:1)*d.width}),s}),fee=(e,t)=>{var r=pa(e,t);if(r!=null)return uee(e,r.orientation,r.mirror)},hee=ne([dr,pa,fee,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),mee=(e,t)=>{var r=ga(e,t);if(r!=null)return dee(e,r.orientation,r.mirror)},pee=ne([dr,ga,mee,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),gee=ne(dr,ga,(e,t)=>{var r=typeof t.width=="number"?t.width:Au;return{width:r,height:e.height}}),Q4=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:s,dataKey:l}=r,u=ii(e,n),d=t.map(f=>f.value);if(l&&u&&s==="category"&&a&&QC(d))return d}},Lw=ne([st,lm,Cr,Ht],Q4),e3=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:s}=r,l=ii(e,n);if(l&&(a==="number"||s!=="auto"))return t.map(u=>u.value)}},Iw=ne([st,lm,Lu,Ht],e3),xN=ne([st,EQ,Uu,Zi,Lw,Iw,Bu,$w,Ht],(e,t,r,n,a,s,l,u,d)=>{if(t!=null){var f=ii(e,d);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:d,categoricalDomain:s,duplicateDomain:a,isCategorical:f,niceTicks:u,range:l,realScaleType:r,scale:n}}}),vee=(e,t,r,n,a,s,l,u,d)=>{if(!(t==null||n==null)){var f=ii(e,d),{type:m,ticks:g,tickCount:v}=t,y=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,_=m==="category"&&n.bandwidth?n.bandwidth()/y:0;_=d==="angleAxis"&&s!=null&&s.length>=2?An(s[0]-s[1])*2*_:_;var k=g||a;if(k){var S=k.map((j,N)=>{var E=l?l.indexOf(j):j;return{index:N,coordinate:n(E)+_,value:j,offset:_}});return S.filter(j=>at(j.coordinate))}return f&&u?u.map((j,N)=>({coordinate:n(j)+_,value:j,index:N,offset:_})).filter(j=>at(j.coordinate)):n.ticks?n.ticks(v).map(j=>({coordinate:n(j)+_,value:j,offset:_})):n.domain().map((j,N)=>({coordinate:n(j)+_,value:l?l[j]:j,index:N,offset:_}))}},t3=ne([st,Lu,Uu,Zi,$w,Bu,Lw,Iw,Ht],vee),yee=(e,t,r,n,a,s,l)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var u=ii(e,l),{tickCount:d}=t,f=0;return f=l==="angleAxis"&&n?.length>=2?An(n[0]-n[1])*2*f:f,u&&s?s.map((m,g)=>({coordinate:r(m)+f,value:m,index:g,offset:f})):r.ticks?r.ticks(d).map(m=>({coordinate:r(m)+f,value:m,offset:f})):r.domain().map((m,g)=>({coordinate:r(m)+f,value:a?a[m]:m,index:g,offset:f}))}},r3=ne([st,Lu,Zi,Bu,Lw,Iw,Ht],yee),n3=ne(Cr,Zi,(e,t)=>{if(!(e==null||t==null))return Wh(Wh({},e),{},{scale:t})}),bee=ne([Cr,Uu,Mw,W4],Rw);ne((e,t,r)=>Tw(e,r),bee,(e,t)=>{if(!(e==null||t==null))return Wh(Wh({},e),{},{scale:t})});var xee=ne([st,q0,H0],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),a3=e=>e.options.defaultTooltipEventType,i3=e=>e.options.validateTooltipEventTypes;function s3(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function zw(e,t){var r=a3(e),n=i3(e);return s3(t,r,n)}function wee(e){return Ee(t=>zw(t,e))}var o3=(e,t)=>{var r,n=Number(t);if(!(fn(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},_ee=e=>e.tooltip.settings,Ui={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},See={itemInteraction:{click:Ui,hover:Ui},axisInteraction:{click:Ui,hover:Ui},keyboardInteraction:Ui,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},l3=Zr({name:"tooltip",initialState:See,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:mt()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Zn(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:mt()},removeTooltipEntrySettings:{reducer(e,t){var r=Zn(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:mt()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:kee,replaceTooltipEntrySettings:jee,removeTooltipEntrySettings:Eee,setTooltipSettingsState:Oee,setActiveMouseOverItemIndex:Nee,mouseLeaveItem:xce,mouseLeaveChart:c3,setActiveClickItemIndex:wce,setMouseOverAxisIndex:u3,setMouseClickAxisIndex:Aee,setSyncInteraction:Bb,setKeyboardInteraction:qb}=l3.actions,Tee=l3.reducer;function wN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Uf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wN(Object(r),!0).forEach(function(n){Cee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cee(e,t,r){return(t=Pee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pee(e){var t=Dee(e,"string");return typeof t=="symbol"?t:t+""}function Dee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mee(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Ree(e){return e.index!=null}var d3=(e,t,r,n)=>{if(t==null)return Ui;var a=Mee(e,t,r);if(a==null)return Ui;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(Ree(a)){if(s)return Uf(Uf({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return Uf(Uf({},Ui),{},{coordinate:a.coordinate})};function $ee(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function Lee(e,t){var r=$ee(e),n=t[0],a=t[1];if(r===void 0)return!1;var s=Math.min(n,a),l=Math.max(n,a);return r>=s&&r<=l}function Iee(e,t,r){if(r==null||t==null)return!0;var n=xr(e,t);return n==null||!Ki(r)?!0:Lee(n,r)}var Uw=(e,t,r,n)=>{var a=e?.index;if(a==null)return null;var s=Number(a);if(!at(s))return a;var l=0,u=1/0;t.length>0&&(u=t.length-1);var d=Math.max(l,Math.min(s,u)),f=t[d];return f==null||Iee(f,r,n)?String(d):null},f3=(e,t,r,n,a,s,l,u)=>{if(!(s==null||u==null)){var d=l[0],f=d==null?void 0:u(d.positions,s);if(f!=null)return f;var m=a?.[Number(s)];if(m)switch(r){case"horizontal":return{x:m.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:m.coordinate}}}},h3=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(s=>{var l;return((l=s.settings)===null||l===void 0?void 0:l.dataKey)===a})},qu=e=>e.options.tooltipPayloadSearcher,Tl=e=>e.tooltip;function _N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function SN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_N(Object(r),!0).forEach(function(n){zee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_N(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zee(e,t,r){return(t=Uee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uee(e){var t=Bee(e,"string");return typeof t=="symbol"?t:t+""}function Bee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qee(e,t){return e??t}var m3=(e,t,r,n,a,s,l)=>{if(!(t==null||s==null)){var{chartData:u,computedData:d,dataStartIndex:f,dataEndIndex:m}=r,g=[];return e.reduce((v,y)=>{var _,{dataDefinedOnItem:k,settings:S}=y,j=qee(k,u),N=Array.isArray(j)?FP(j,f,m):j,E=(_=S?.dataKey)!==null&&_!==void 0?_:n,C=S?.nameKey,A;if(n&&Array.isArray(N)&&!Array.isArray(N[0])&&l==="axis"?A=eP(N,n,a):A=s(N,t,d,C),Array.isArray(A))A.forEach(P=>{var M=SN(SN({},S),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});v.push(KE({tooltipEntrySettings:M,dataKey:P.dataKey,payload:P.payload,value:xr(P.payload,P.dataKey),name:P.name}))});else{var T;v.push(KE({tooltipEntrySettings:S,dataKey:E,payload:A,value:xr(A,E),name:(T=xr(A,C))!==null&&T!==void 0?T:S?.name}))}return v},g)}},Bw=ne([Vt,st,S4,_w,Ft],K4),Hee=ne([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Fee=ne([Ft,Nl],k4),Hu=ne([Hee,Vt,Fee],E4,{memoizeOptions:{resultEqualityCheck:om}}),Vee=ne([Hu],e=>e.filter(Aw)),Kee=ne([Hu],A4,{memoizeOptions:{resultEqualityCheck:om}}),Cl=ne([Kee,Ji],T4),Zee=ne([Vee,Ji,Vt],x4),qw=ne([Cl,Vt,Hu],C4),p3=ne([Vt],Pw),Gee=ne([Vt],e=>e.allowDataOverflow),g3=ne([p3,Gee],QD),Yee=ne([Hu],e=>e.filter(Aw)),Wee=ne([Zee,Yee,rm,h4],D4),Xee=ne([Wee,Ji,Ft,g3],M4),Jee=ne([Hu],N4),Qee=ne([Cl,Vt,Jee,Dw,Ft],L4,{memoizeOptions:{resultEqualityCheck:sm}}),ete=ne([I4,Ft,Nl],Al),tte=ne([ete,Ft],B4),rte=ne([z4,Ft,Nl],Al),nte=ne([rte,Ft],q4),ate=ne([U4,Ft,Nl],Al),ite=ne([ate,Ft],H4),ste=ne([tte,ite,nte],Xh),ote=ne([Vt,p3,g3,Xee,Qee,ste,st,Ft],F4),Fu=ne([Vt,st,Cl,qw,rm,Ft,ote],V4),lte=ne([Fu,Vt,Bw],Z4),cte=ne([Vt,Fu,lte,Ft],G4),v3=e=>{var t=Ft(e),r=Nl(e),n=!1;return Bu(e,t,r,n)},y3=ne([Vt,v3],nm),b3=ne([Vt,Bw,cte,y3],Rw),ute=ne([st,qw,Vt,Ft],Q4),dte=ne([st,qw,Vt,Ft],e3),fte=(e,t,r,n,a,s,l,u)=>{if(t){var{type:d}=t,f=ii(e,u);if(n){var m=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,g=d==="category"&&n.bandwidth?n.bandwidth()/m:0;return g=u==="angleAxis"&&a!=null&&a?.length>=2?An(a[0]-a[1])*2*g:g,f&&l?l.map((v,y)=>({coordinate:n(v)+g,value:v,index:y,offset:g})):n.domain().map((v,y)=>({coordinate:n(v)+g,value:s?s[v]:v,index:y,offset:g}))}}},ci=ne([st,Vt,Bw,b3,v3,ute,dte,Ft],fte),Hw=ne([a3,i3,_ee],(e,t,r)=>s3(r.shared,e,t)),x3=e=>e.tooltip.settings.trigger,Fw=e=>e.tooltip.settings.defaultIndex,Vu=ne([Tl,Hw,x3,Fw],d3),vu=ne([Vu,Cl,zu,Fu],Uw),w3=ne([ci,vu],o3),hte=ne([Vu],e=>{if(e)return e.dataKey});ne([Vu],e=>{if(e)return e.graphicalItemId});var _3=ne([Tl,Hw,x3,Fw],h3),mte=ne([si,oi,st,dr,ci,Fw,_3,qu],f3),pte=ne([Vu,mte],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),gte=ne([Vu],e=>e.active),vte=ne([_3,vu,Ji,zu,w3,qu,Hw],m3),yte=ne([vte],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function kN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kN(Object(r),!0).forEach(function(n){bte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bte(e,t,r){return(t=xte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xte(e){var t=wte(e,"string");return typeof t=="symbol"?t:t+""}function wte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _te=()=>Ee(Vt),Ste=()=>{var e=_te(),t=Ee(ci),r=Ee(b3);return Th(!e||!r?void 0:jN(jN({},e),{},{scale:r}),t)};function EN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EN(Object(r),!0).forEach(function(n){kte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kte(e,t,r){return(t=jte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jte(e){var t=Ete(e,"string");return typeof t=="symbol"?t:t+""}function Ete(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ote=(e,t,r,n)=>{var a=t.find(s=>s&&s.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},Nte=(e,t,r,n)=>{var a=t.find(f=>f&&f.index===r);if(a){if(e==="centric"){var s=a.coordinate,{radius:l}=n;return Zo(Zo(Zo({},n),or(n.cx,n.cy,l,s)),{},{angle:s,radius:l})}var u=a.coordinate,{angle:d}=n;return Zo(Zo(Zo({},n),or(n.cx,n.cy,u,d)),{},{angle:d,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Ate(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var S3=(e,t,r,n,a)=>{var s,l=-1,u=(s=t?.length)!==null&&s!==void 0?s:0;if(u<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var d=0;d<u;d++){var f=d>0?r[d-1].coordinate:r[u-1].coordinate,m=r[d].coordinate,g=d>=u-1?r[0].coordinate:r[d+1].coordinate,v=void 0;if(An(m-f)!==An(g-m)){var y=[];if(An(g-m)===An(a[1]-a[0])){v=g;var _=m+a[1]-a[0];y[0]=Math.min(_,(_+f)/2),y[1]=Math.max(_,(_+f)/2)}else{v=f;var k=g+a[1]-a[0];y[0]=Math.min(m,(k+m)/2),y[1]=Math.max(m,(k+m)/2)}var S=[Math.min(m,(v+m)/2),Math.max(m,(v+m)/2)];if(e>S[0]&&e<=S[1]||e>=y[0]&&e<=y[1]){({index:l}=r[d]);break}}else{var j=Math.min(f,g),N=Math.max(f,g);if(e>(j+m)/2&&e<=(N+m)/2){({index:l}=r[d]);break}}}else if(t){for(var E=0;E<u;E++)if(E===0&&e<=(t[E].coordinate+t[E+1].coordinate)/2||E>0&&E<u-1&&e>(t[E].coordinate+t[E-1].coordinate)/2&&e<=(t[E].coordinate+t[E+1].coordinate)/2||E===u-1&&e>(t[E].coordinate+t[E-1].coordinate)/2){({index:l}=t[E]);break}}return l},k3=()=>Ee(_w),Vw=(e,t)=>t,j3=(e,t,r)=>r,Kw=(e,t,r,n)=>n,Tte=ne(ci,e=>D0(e,t=>t.coordinate)),Zw=ne([Tl,Vw,j3,Kw],d3),Gw=ne([Zw,Cl,zu,Fu],Uw),Cte=(e,t,r)=>{if(t!=null){var n=Tl(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},E3=ne([Tl,Vw,j3,Kw],h3),Jh=ne([si,oi,st,dr,ci,Kw,E3,qu],f3),Pte=ne([Zw,Jh],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),O3=ne([ci,Gw],o3),Dte=ne([E3,Gw,Ji,zu,O3,qu,Vw],m3),Mte=ne([Zw,Gw],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),Rte=(e,t,r,n,a,s,l)=>{if(!(!e||!r||!n||!a)&&Ate(e,l)){var u=sG(e,t),d=S3(u,s,a,r,n),f=Ote(t,a,d,e);return{activeIndex:String(d),activeCoordinate:f}}},$te=(e,t,r,n,a,s,l)=>{if(!(!e||!n||!a||!s||!r)){var u=vW(e,r);if(u){var d=oG(u,t),f=S3(d,l,s,n,a),m=Nte(t,s,f,u);return{activeIndex:String(f),activeCoordinate:m}}}},Lte=(e,t,r,n,a,s,l,u)=>{if(!(!e||!t||!n||!a||!s))return t==="horizontal"||t==="vertical"?Rte(e,t,n,a,s,l,u):$te(e,t,r,n,a,s,l)},Ite=ne(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElementId:n.elementId}}),zte=ne(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(br)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:wQ}});function ON(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function NN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ON(Object(r),!0).forEach(function(n){Ute(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ON(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ute(e,t,r){return(t=Bte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bte(e){var t=qte(e,"string");return typeof t=="symbol"?t:t+""}function qte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hte={},Fte={zIndexMap:Object.values(br).reduce((e,t)=>NN(NN({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),Hte)},Vte=new Set(Object.values(br));function Kte(e){return Vte.has(e)}var N3=Zr({name:"zIndex",initialState:Fte,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:mt()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!Kte(r)&&delete e.zIndexMap[r])},prepare:mt()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElementId=n:e.zIndexMap[r].elementId=n:e.zIndexMap[r]={consumers:0,elementId:a?void 0:n,panoramaElementId:a?n:void 0}},prepare:mt()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:mt()}}}),{registerZIndexPortal:Zte,unregisterZIndexPortal:Gte,registerZIndexPortalId:Yte,unregisterZIndexPortalId:Wte}=N3.actions,Xte=N3.reducer;function va(e){var{zIndex:t,children:r}=e,n=BG(),a=n&&t!==void 0&&t!==0,s=Tr(),l=Bt();x.useLayoutEffect(()=>a?(l(Zte({zIndex:t})),()=>{l(Gte({zIndex:t}))}):ju,[l,t,a]);var u=Ee(f=>Ite(f,t,s));if(!a)return r;if(!u)return null;var d=document.getElementById(u);return d?Ws.createPortal(r,d):null}function Hb(){return Hb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hb.apply(null,arguments)}function AN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AN(Object(r),!0).forEach(function(n){Jte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jte(e,t,r){return(t=Qte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qte(e){var t=ere(e,"string");return typeof t=="symbol"?t:t+""}function ere(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tre(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return x.isValidElement(t)?x.cloneElement(t,n):x.createElement(r,n)}function rre(e){var t,{coordinate:r,payload:n,index:a,offset:s,tooltipAxisBandSize:l,layout:u,cursor:d,tooltipEventType:f,chartName:m}=e,g=r,v=n,y=a;if(!d||!g||m!=="ScatterChart"&&f!=="axis")return null;var _,k,S;if(m==="ScatterChart")_=g,k=AY,S=br.cursorLine;else if(m==="BarChart")_=TY(u,g,s,l),k=oW,S=br.cursorRectangle;else if(u==="radial"&&tP(g)){var{cx:j,cy:N,radius:E,startAngle:C,endAngle:A}=gD(g);_={cx:j,cy:N,startAngle:C,endAngle:A,innerRadius:E,outerRadius:E},k=wW,S=br.cursorLine}else _={points:_W(u,g,s)},k=Jf,S=br.cursorLine;var T=typeof d=="object"&&"className"in d?d.className:void 0,P=Bf(Bf(Bf(Bf({stroke:"#ccc",pointerEvents:"none"},s),_),A0(d)),{},{payload:v,payloadIndex:y,className:it("recharts-tooltip-cursor",T)});return x.createElement(va,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:S},x.createElement(tre,{cursor:d,cursorComp:k,cursorProps:P}))}function nre(e){var t=Ste(),r=eD(),n=Cu(),a=k3();return t==null||r==null||n==null||a==null?null:x.createElement(rre,Hb({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var A3=x.createContext(null),are=()=>x.useContext(A3),fy={exports:{}},TN;function ire(){return TN||(TN=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(d,f,m){this.fn=d,this.context=f,this.once=m||!1}function s(d,f,m,g,v){if(typeof m!="function")throw new TypeError("The listener must be a function");var y=new a(m,g||d,v),_=r?r+f:f;return d._events[_]?d._events[_].fn?d._events[_]=[d._events[_],y]:d._events[_].push(y):(d._events[_]=y,d._eventsCount++),d}function l(d,f){--d._eventsCount===0?d._events=new n:delete d._events[f]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],m,g;if(this._eventsCount===0)return f;for(g in m=this._events)t.call(m,g)&&f.push(r?g.slice(1):g);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(m)):f},u.prototype.listeners=function(f){var m=r?r+f:f,g=this._events[m];if(!g)return[];if(g.fn)return[g.fn];for(var v=0,y=g.length,_=new Array(y);v<y;v++)_[v]=g[v].fn;return _},u.prototype.listenerCount=function(f){var m=r?r+f:f,g=this._events[m];return g?g.fn?1:g.length:0},u.prototype.emit=function(f,m,g,v,y,_){var k=r?r+f:f;if(!this._events[k])return!1;var S=this._events[k],j=arguments.length,N,E;if(S.fn){switch(S.once&&this.removeListener(f,S.fn,void 0,!0),j){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,m),!0;case 3:return S.fn.call(S.context,m,g),!0;case 4:return S.fn.call(S.context,m,g,v),!0;case 5:return S.fn.call(S.context,m,g,v,y),!0;case 6:return S.fn.call(S.context,m,g,v,y,_),!0}for(E=1,N=new Array(j-1);E<j;E++)N[E-1]=arguments[E];S.fn.apply(S.context,N)}else{var C=S.length,A;for(E=0;E<C;E++)switch(S[E].once&&this.removeListener(f,S[E].fn,void 0,!0),j){case 1:S[E].fn.call(S[E].context);break;case 2:S[E].fn.call(S[E].context,m);break;case 3:S[E].fn.call(S[E].context,m,g);break;case 4:S[E].fn.call(S[E].context,m,g,v);break;default:if(!N)for(A=1,N=new Array(j-1);A<j;A++)N[A-1]=arguments[A];S[E].fn.apply(S[E].context,N)}}return!0},u.prototype.on=function(f,m,g){return s(this,f,m,g,!1)},u.prototype.once=function(f,m,g){return s(this,f,m,g,!0)},u.prototype.removeListener=function(f,m,g,v){var y=r?r+f:f;if(!this._events[y])return this;if(!m)return l(this,y),this;var _=this._events[y];if(_.fn)_.fn===m&&(!v||_.once)&&(!g||_.context===g)&&l(this,y);else{for(var k=0,S=[],j=_.length;k<j;k++)(_[k].fn!==m||v&&!_[k].once||g&&_[k].context!==g)&&S.push(_[k]);S.length?this._events[y]=S.length===1?S[0]:S:l(this,y)}return this},u.prototype.removeAllListeners=function(f){var m;return f?(m=r?r+f:f,this._events[m]&&l(this,m)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u})(fy)),fy.exports}var sre=ire();const ore=ri(sre);var yu=new ore,Fb="recharts.syncEvent.tooltip",CN="recharts.syncEvent.brush";function lre(e,t){if(t){var r=Number.parseInt(t,10);if(!fn(r))return e?.[r]}}var cre={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},T3=Zr({name:"options",initialState:cre,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),ure=T3.reducer,{createEventEmitter:dre}=T3.actions;function fre(e){return e.tooltip.syncInteraction}var hre={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},C3=Zr({name:"chartData",initialState:hre,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:PN,setDataStartEndIndexes:mre,setComputedData:_ce}=C3.actions,pre=C3.reducer,gre=["x","y"];function DN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Go(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DN(Object(r),!0).forEach(function(n){vre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vre(e,t,r){return(t=yre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yre(e){var t=bre(e,"string");return typeof t=="symbol"?t:t+""}function bre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xre(e,t){if(e==null)return{};var r,n,a=wre(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function wre(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function _re(){var e=Ee(Sw),t=Ee(kw),r=Bt(),n=Ee(m4),a=Ee(ci),s=Cu(),l=Tu(),u=Ee(d=>d.rootProps.className);x.useEffect(()=>{if(e==null)return ju;var d=(f,m,g)=>{if(t!==g&&e===f){if(n==="index"){var v;if(l&&m!==null&&m!==void 0&&(v=m.payload)!==null&&v!==void 0&&v.coordinate&&m.payload.sourceViewBox){var y=m.payload.coordinate,{x:_,y:k}=y,S=xre(y,gre),{x:j,y:N,width:E,height:C}=m.payload.sourceViewBox,A=Go(Go({},S),{},{x:l.x+(E?(_-j)/E:0)*l.width,y:l.y+(C?(k-N)/C:0)*l.height});r(Go(Go({},m),{},{payload:Go(Go({},m.payload),{},{coordinate:A})}))}else r(m);return}if(a!=null){var T;if(typeof n=="function"){var P={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},M=n(a,P);T=a[M]}else n==="value"&&(T=a.find(U=>String(U.value)===m.payload.label));var{coordinate:R}=m.payload;if(T==null||m.payload.active===!1||R==null||l==null){r(Bb({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:L,y:$}=R,q=Math.min(L,l.x+l.width),V=Math.min($,l.y+l.height),Q={x:s==="horizontal"?T.coordinate:q,y:s==="horizontal"?V:T.coordinate},ae=Bb({active:m.payload.active,coordinate:Q,dataKey:m.payload.dataKey,index:String(T.index),label:m.payload.label,sourceViewBox:m.payload.sourceViewBox,graphicalItemId:m.payload.graphicalItemId});r(ae)}}};return yu.on(Fb,d),()=>{yu.off(Fb,d)}},[u,r,t,e,n,a,s,l])}function Sre(){var e=Ee(Sw),t=Ee(kw),r=Bt();x.useEffect(()=>{if(e==null)return ju;var n=(a,s,l)=>{t!==l&&e===a&&r(mre(s))};return yu.on(CN,n),()=>{yu.off(CN,n)}},[r,t,e])}function kre(){var e=Bt();x.useEffect(()=>{e(dre())},[e]),_re(),Sre()}function jre(e,t,r,n,a,s){var l=Ee(y=>Cte(y,e,t)),u=Ee(kw),d=Ee(Sw),f=Ee(m4),m=Ee(fre),g=m?.active,v=Tu();x.useEffect(()=>{if(!g&&d!=null&&u!=null){var y=Bb({active:s,coordinate:r,dataKey:l,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:v,graphicalItemId:void 0});yu.emit(Fb,d,y,u)}},[g,r,l,a,n,u,d,f,s,v])}function MN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function RN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MN(Object(r),!0).forEach(function(n){Ere(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ere(e,t,r){return(t=Ore(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ore(e){var t=Nre(e,"string");return typeof t=="symbol"?t:t+""}function Nre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Are(e){return e.dataKey}function Tre(e,t){return x.isValidElement(e)?x.cloneElement(e,t):typeof e=="function"?x.createElement(e,t):x.createElement(lY,t)}var $N=[],Cre={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Pre(e){var t,r,n=Kr(e,Cre),{active:a,allowEscapeViewBox:s,animationDuration:l,animationEasing:u,content:d,filterNull:f,isAnimationActive:m,offset:g,payloadUniqBy:v,position:y,reverseDirection:_,useTranslate3d:k,wrapperStyle:S,cursor:j,shared:N,trigger:E,defaultIndex:C,portal:A,axisId:T}=n,P=Bt(),M=typeof C=="number"?String(C):C;x.useEffect(()=>{P(Oee({shared:N,trigger:E,axisId:T,active:a,defaultIndex:M}))},[P,N,E,T,a,M]);var R=Tu(),L=uD(),$=wee(N),{activeIndex:q,isActive:V}=(t=Ee(re=>Mte(re,$,E,M)))!==null&&t!==void 0?t:{},Q=Ee(re=>Dte(re,$,E,M)),ae=Ee(re=>O3(re,$,E,M)),U=Ee(re=>Pte(re,$,E,M)),Y=Q,ee=are(),le=(r=a??V)!==null&&r!==void 0?r:!1,[ve,I]=KK([Y,le]),K=$==="axis"?ae:void 0;jre($,E,U,K,q,le);var W=A??ee;if(W==null||R==null||$==null)return null;var H=Y??$N;le||(H=$N),f&&H.length&&(H=yK(H.filter(re=>re.value!=null&&(re.hide!==!0||n.includeHidden)),v,Are));var se=H.length>0,ce=x.createElement(pY,{allowEscapeViewBox:s,animationDuration:l,animationEasing:u,isAnimationActive:m,active:le,coordinate:U,hasPayload:se,offset:g,position:y,reverseDirection:_,useTranslate3d:k,viewBox:R,wrapperStyle:S,lastBoundingBox:ve,innerRef:I,hasPortalFromProps:!!A},Tre(d,RN(RN({},n),{},{payload:H,label:K,active:le,activeIndex:q,coordinate:U,accessibilityLayer:L})));return x.createElement(x.Fragment,null,Ws.createPortal(ce,W),le&&x.createElement(nre,{cursor:j,tooltipEventType:$,coordinate:U,payload:H,index:q}))}function Dre(e,t,r){return(t=Mre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mre(e){var t=Rre(e,"string");return typeof t=="symbol"?t:t+""}function Rre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class $re{constructor(t){Dre(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function LN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lre(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LN(Object(r),!0).forEach(function(n){Ire(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ire(e,t,r){return(t=zre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zre(e){var t=Ure(e,"string");return typeof t=="symbol"?t:t+""}function Ure(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bre={cacheSize:2e3,enableCache:!0},P3=Lre({},Bre),IN=new $re(P3.cacheSize),qre={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},zN="recharts_measurement_span";function Hre(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",s=t.fontStyle||"",l=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(s,"|").concat(l,"|").concat(u)}var UN=(e,t)=>{try{var r=document.getElementById(zN);r||(r=document.createElement("span"),r.setAttribute("id",zN),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,qre,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Yc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||kl.isSsr)return{width:0,height:0};if(!P3.enableCache)return UN(t,r);var n=Hre(t,r),a=IN.get(n);if(a)return a;var s=UN(t,r);return IN.set(n,s),s},BN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,qN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Fre=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Vre=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,D3={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Kre=Object.keys(D3),el="NaN";function Zre(e,t){return e*D3[t]}class Br{static parse(t){var r,[,n,a]=(r=Vre.exec(t))!==null&&r!==void 0?r:[];return new Br(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,fn(t)&&(this.unit=""),r!==""&&!Fre.test(r)&&(this.num=NaN,this.unit=""),Kre.includes(r)&&(this.num=Zre(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Br(NaN,""):new Br(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Br(NaN,""):new Br(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Br(NaN,""):new Br(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Br(NaN,""):new Br(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return fn(this.num)}}function M3(e){if(e.includes(el))return el;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,s]=(r=BN.exec(t))!==null&&r!==void 0?r:[],l=Br.parse(n??""),u=Br.parse(s??""),d=a==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return el;t=t.replace(BN,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,m,g,v]=(f=qN.exec(t))!==null&&f!==void 0?f:[],y=Br.parse(m??""),_=Br.parse(v??""),k=g==="+"?y.add(_):y.subtract(_);if(k.isNaN())return el;t=t.replace(qN,k.toString())}return t}var HN=/\(([^()]*)\)/;function Gre(e){for(var t=e,r;(r=HN.exec(t))!=null;){var[,n]=r;t=t.replace(HN,M3(n))}return t}function Yre(e){var t=e.replace(/\s+/g,"");return t=Gre(t),t=M3(t),t}function Wre(e){try{return Yre(e)}catch{return el}}function hy(e){var t=Wre(e.slice(5,-1));return t===el?"":t}var Xre=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Jre=["dx","dy","angle","className","breakAll"];function Vb(){return Vb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vb.apply(null,arguments)}function FN(e,t){if(e==null)return{};var r,n,a=Qre(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Qre(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var R3=/[ \f\n\r\t\v\u2028\u2029]+/,$3=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];lr(t)||(r?a=t.toString().split(""):a=t.toString().split(R3));var s=a.map(u=>({word:u,width:Yc(u,n).width})),l=r?0:Yc("",n).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}};function ene(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var L3=(e,t,r,n)=>e.reduce((a,s)=>{var{word:l,width:u}=s,d=a[a.length-1];if(d&&u!=null&&(t==null||n||d.width+u+r<Number(t)))d.words.push(l),d.width+=u+r;else{var f={words:[l],width:u};a.push(f)}return a},[]),I3=e=>e.reduce((t,r)=>t.width>r.width?t:r),tne="",VN=(e,t,r,n,a,s,l,u)=>{var d=e.slice(0,t),f=$3({breakAll:r,style:n,children:d+tne});if(!f)return[!1,[]];var m=L3(f.wordsWithComputedWidth,s,l,u),g=m.length>a||I3(m).width>Number(s);return[g,m]},rne=(e,t,r,n,a)=>{var{maxLines:s,children:l,style:u,breakAll:d}=e,f=Oe(s),m=String(l),g=L3(t,n,r,a);if(!f||a)return g;var v=g.length>s||I3(g).width>Number(n);if(!v)return g;for(var y=0,_=m.length-1,k=0,S;y<=_&&k<=m.length-1;){var j=Math.floor((y+_)/2),N=j-1,[E,C]=VN(m,N,d,u,s,n,r,a),[A]=VN(m,j,d,u,s,n,r,a);if(!E&&!A&&(y=j+1),E&&A&&(_=j-1),!E&&A){S=C;break}k++}return S||g},KN=e=>{var t=lr(e)?[]:e.toString().split(R3);return[{words:t,width:void 0}]},nne=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:s,maxLines:l}=e;if((t||r)&&!kl.isSsr){var u,d,f=$3({breakAll:s,children:n,style:a});if(f){var{wordsWithComputedWidth:m,spaceWidth:g}=f;u=m,d=g}else return KN(n);return rne({breakAll:s,children:n,maxLines:l,style:a},u,d,t,!!r)}return KN(n)},z3="#808080",ane={angle:0,breakAll:!1,capHeight:"0.71em",fill:z3,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Yw=x.forwardRef((e,t)=>{var r=Kr(e,ane),{x:n,y:a,lineHeight:s,capHeight:l,fill:u,scaleToFit:d,textAnchor:f,verticalAnchor:m}=r,g=FN(r,Xre),v=x.useMemo(()=>nne({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:d,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,d,g.style,g.width]),{dx:y,dy:_,angle:k,className:S,breakAll:j}=g,N=FN(g,Jre);if(!Cn(n)||!Cn(a)||v.length===0)return null;var E=Number(n)+(Oe(y)?y:0),C=Number(a)+(Oe(_)?_:0);if(!at(E)||!at(C))return null;var A;switch(m){case"start":A=hy("calc(".concat(l,")"));break;case"middle":A=hy("calc(".concat((v.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:A=hy("calc(".concat(v.length-1," * -").concat(s,")"));break}var T=[];if(d){var P=v[0].width,{width:M}=g;T.push("scale(".concat(Oe(M)&&Oe(P)?M/P:1,")"))}return k&&T.push("rotate(".concat(k,", ").concat(E,", ").concat(C,")")),T.length&&(N.transform=T.join(" ")),x.createElement("text",Vb({},dn(N),{ref:t,x:E,y:C,className:it("recharts-text",S),textAnchor:f,fill:u.includes("url")?z3:u}),v.map((R,L)=>{var $=R.words.join(j?"":" ");return x.createElement("tspan",{x:E,dy:L===0?A:s,key:"".concat($,"-").concat(L)},$)}))});Yw.displayName="Text";var ine=["labelRef"];function sne(e,t){if(e==null)return{};var r,n,a=one(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function one(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ZN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Et(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZN(Object(r),!0).forEach(function(n){lne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lne(e,t,r){return(t=cne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cne(e){var t=une(e,"string");return typeof t=="symbol"?t:t+""}function une(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qa(){return qa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qa.apply(null,arguments)}var U3=x.createContext(null),B3=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:l,children:u}=e,d=x.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:l}),[t,r,n,a,s,l]);return x.createElement(U3.Provider,{value:d},u)},q3=()=>{var e=x.useContext(U3),t=Tu();return e||QP(t)},dne=x.createContext(null),fne=()=>{var e=x.useContext(dne),t=Ee(b4);return e||t},hne=e=>{var{value:t,formatter:r}=e,n=lr(e.children)?t:e.children;return typeof r=="function"?r(n):n},Ww=e=>e!=null&&typeof e=="function",mne=(e,t)=>{var r=An(t-e),n=Math.min(Math.abs(t-e),360);return r*n},pne=(e,t,r,n,a)=>{var{offset:s,className:l}=e,{cx:u,cy:d,innerRadius:f,outerRadius:m,startAngle:g,endAngle:v,clockWise:y}=a,_=(f+m)/2,k=mne(g,v),S=k>=0?1:-1,j,N;switch(t){case"insideStart":j=g+S*s,N=y;break;case"insideEnd":j=v-S*s,N=!y;break;case"end":j=v+S*s,N=y;break;default:throw new Error("Unsupported position ".concat(t))}N=k<=0?N:!N;var E=or(u,d,_,j),C=or(u,d,_,j+(N?1:-1)*359),A="M".concat(E.x,",").concat(E.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(N?0:1,`,
    `).concat(C.x,",").concat(C.y),T=lr(e.id)?au("recharts-radial-line-"):e.id;return x.createElement("text",qa({},n,{dominantBaseline:"central",className:it("recharts-radial-bar-label",l)}),x.createElement("defs",null,x.createElement("path",{id:T,d:A})),x.createElement("textPath",{xlinkHref:"#".concat(T)},r))},gne=(e,t,r)=>{var{cx:n,cy:a,innerRadius:s,outerRadius:l,startAngle:u,endAngle:d}=e,f=(u+d)/2;if(r==="outside"){var{x:m,y:g}=or(n,a,l+t,f);return{x:m,y:g,textAnchor:m>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var v=(s+l)/2,{x:y,y:_}=or(n,a,v,f);return{x:y,y:_,textAnchor:"middle",verticalAnchor:"middle"}},Kb=e=>"cx"in e&&Oe(e.cx),vne=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,s;r!=null&&!Kb(r)&&(s=r);var{x:l,y:u,upperWidth:d,lowerWidth:f,height:m}=t,g=l,v=l+(d-f)/2,y=(g+v)/2,_=(d+f)/2,k=g+d/2,S=m>=0?1:-1,j=S*n,N=S>0?"end":"start",E=S>0?"start":"end",C=d>=0?1:-1,A=C*n,T=C>0?"end":"start",P=C>0?"start":"end";if(a==="top"){var M={x:g+d/2,y:u-j,textAnchor:"middle",verticalAnchor:N};return Et(Et({},M),s?{height:Math.max(u-s.y,0),width:d}:{})}if(a==="bottom"){var R={x:v+f/2,y:u+m+j,textAnchor:"middle",verticalAnchor:E};return Et(Et({},R),s?{height:Math.max(s.y+s.height-(u+m),0),width:f}:{})}if(a==="left"){var L={x:y-A,y:u+m/2,textAnchor:T,verticalAnchor:"middle"};return Et(Et({},L),s?{width:Math.max(L.x-s.x,0),height:m}:{})}if(a==="right"){var $={x:y+_+A,y:u+m/2,textAnchor:P,verticalAnchor:"middle"};return Et(Et({},$),s?{width:Math.max(s.x+s.width-$.x,0),height:m}:{})}var q=s?{width:_,height:m}:{};return a==="insideLeft"?Et({x:y+A,y:u+m/2,textAnchor:P,verticalAnchor:"middle"},q):a==="insideRight"?Et({x:y+_-A,y:u+m/2,textAnchor:T,verticalAnchor:"middle"},q):a==="insideTop"?Et({x:g+d/2,y:u+j,textAnchor:"middle",verticalAnchor:E},q):a==="insideBottom"?Et({x:v+f/2,y:u+m-j,textAnchor:"middle",verticalAnchor:N},q):a==="insideTopLeft"?Et({x:g+A,y:u+j,textAnchor:P,verticalAnchor:E},q):a==="insideTopRight"?Et({x:g+d-A,y:u+j,textAnchor:T,verticalAnchor:E},q):a==="insideBottomLeft"?Et({x:v+A,y:u+m-j,textAnchor:P,verticalAnchor:N},q):a==="insideBottomRight"?Et({x:v+f-A,y:u+m-j,textAnchor:T,verticalAnchor:N},q):a&&typeof a=="object"&&(Oe(a.x)||Wa(a.x))&&(Oe(a.y)||Wa(a.y))?Et({x:l+Vi(a.x,_),y:u+Vi(a.y,m),textAnchor:"end",verticalAnchor:"end"},q):Et({x:k,y:u+m/2,textAnchor:"middle",verticalAnchor:"middle"},q)},yne={angle:0,offset:5,zIndex:br.label,position:"middle",textBreakAll:!1};function $i(e){var t=Kr(e,yne),{viewBox:r,position:n,value:a,children:s,content:l,className:u="",textBreakAll:d,labelRef:f}=t,m=fne(),g=q3(),v=n==="center"?g:m??g,y,_,k;if(r==null?y=v:Kb(r)?y=r:y=QP(r),!y||lr(a)&&lr(s)&&!x.isValidElement(l)&&typeof l!="function")return null;var S=Et(Et({},t),{},{viewBox:y});if(x.isValidElement(l)){var{labelRef:j}=S,N=sne(S,ine);return x.cloneElement(l,N)}if(typeof l=="function"){if(_=x.createElement(l,S),x.isValidElement(_))return _}else _=hne(t);var E=dn(t);if(Kb(y)){if(n==="insideStart"||n==="insideEnd"||n==="end")return pne(t,n,_,E,y);k=gne(y,t.offset,t.position)}else k=vne(t,y);return x.createElement(va,{zIndex:t.zIndex},x.createElement(Yw,qa({ref:f,className:it("recharts-label",u)},E,k,{textAnchor:ene(E.textAnchor)?E.textAnchor:k.textAnchor,breakAll:d}),_))}$i.displayName="Label";var bne=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?x.createElement($i,qa({key:"label-implicit"},n)):Cn(e)?x.createElement($i,qa({key:"label-implicit",value:e},n)):x.isValidElement(e)?e.type===$i?x.cloneElement(e,Et({key:"label-implicit"},n)):x.createElement($i,qa({key:"label-implicit",content:e},n)):Ww(e)?x.createElement($i,qa({key:"label-implicit",content:e},n)):e&&typeof e=="object"?x.createElement($i,qa({},e,{key:"label-implicit"},n)):null};function H3(e){var{label:t,labelRef:r}=e,n=q3();return bne(t,n,r)||null}var my={},py={},GN;function xne(){return GN||(GN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(py)),py}var gy={},YN;function wne(){return YN||(YN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(gy)),gy}var WN;function _ne(){return WN||(WN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xne(),r=wne(),n=Lx();function a(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=a})(my)),my}var vy,XN;function Sne(){return XN||(XN=1,vy=_ne().last),vy}var kne=Sne();const jne=ri(kne);var Ene=["valueAccessor"],One=["dataKey","clockWise","id","textBreakAll","zIndex"];function Qh(){return Qh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qh.apply(null,arguments)}function JN(e,t){if(e==null)return{};var r,n,a=Nne(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Nne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ane=e=>Array.isArray(e.value)?jne(e.value):e.value,F3=x.createContext(void 0),Tne=F3.Provider,V3=x.createContext(void 0);V3.Provider;function Cne(){return x.useContext(F3)}function Pne(){return x.useContext(V3)}function eh(e){var{valueAccessor:t=Ane}=e,r=JN(e,Ene),{dataKey:n,clockWise:a,id:s,textBreakAll:l,zIndex:u}=r,d=JN(r,One),f=Cne(),m=Pne(),g=f||m;return!g||!g.length?null:x.createElement(va,{zIndex:u??br.label},x.createElement(Yn,{className:"recharts-label-list"},g.map((v,y)=>{var _,k=lr(n)?t(v,y):xr(v&&v.payload,n),S=lr(s)?{}:{id:"".concat(s,"-").concat(y)};return x.createElement($i,Qh({key:"label-".concat(y)},dn(v),d,S,{fill:(_=r.fill)!==null&&_!==void 0?_:v.fill,parentViewBox:v.parentViewBox,value:k,textBreakAll:l,viewBox:v.viewBox,index:y,zIndex:0}))})))}eh.displayName="LabelList";function Dne(e){var{label:t}=e;return t?t===!0?x.createElement(eh,{key:"labelList-implicit"}):x.isValidElement(t)||Ww(t)?x.createElement(eh,{key:"labelList-implicit",content:t}):typeof t=="object"?x.createElement(eh,Qh({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Zb(){return Zb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zb.apply(null,arguments)}var K3=e=>{var{cx:t,cy:r,r:n,className:a}=e,s=it("recharts-dot",a);return Oe(t)&&Oe(r)&&Oe(n)?x.createElement("circle",Zb({},Gn(e),$x(e),{className:s,cx:t,cy:r,r:n})):null},Mne={radiusAxis:{},angleAxis:{}},Z3=Zr({name:"polarAxis",initialState:Mne,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Sce,removeRadiusAxis:kce,addAngleAxis:jce,removeAngleAxis:Ece}=Z3.actions,Rne=Z3.reducer,G3=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0;function $ne(e){var{tooltipEntrySettings:t}=e,r=Bt(),n=Tr(),a=x.useRef(null);return x.useLayoutEffect(()=>{n||(a.current===null?r(kee(t)):a.current!==t&&r(jee({prev:a.current,next:t})),a.current=t)},[t,r,n]),x.useLayoutEffect(()=>()=>{a.current&&(r(Eee(a.current)),a.current=null)},[r]),null}function Lne(e){var{legendPayload:t}=e,r=Bt(),n=Tr(),a=x.useRef(null);return x.useLayoutEffect(()=>{n||(a.current===null?r(eY(t)):a.current!==t&&r(tY({prev:a.current,next:t})),a.current=t)},[r,n,t]),x.useLayoutEffect(()=>()=>{a.current&&(r(rY(a.current)),a.current=null)},[r]),null}var yy,Ine=()=>{var[e]=x.useState(()=>au("uid-"));return e},zne=(yy=_y.useId)!==null&&yy!==void 0?yy:Ine;function Y3(e,t){var r=zne();return t||(e?"".concat(e,"-").concat(r):r)}var Une=x.createContext(void 0),Bne=e=>{var{id:t,type:r,children:n}=e,a=Y3("recharts-".concat(r),t);return x.createElement(Une.Provider,{value:a},n(a))},qne={cartesianItems:[],polarItems:[]},W3=Zr({name:"graphicalItems",initialState:qne,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:mt()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Zn(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:mt()},removeCartesianGraphicalItem:{reducer(e,t){var r=Zn(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:mt()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:mt()},removePolarGraphicalItem:{reducer(e,t){var r=Zn(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:mt()}}}),{addCartesianGraphicalItem:Hne,replaceCartesianGraphicalItem:Fne,removeCartesianGraphicalItem:Vne,addPolarGraphicalItem:Oce,removePolarGraphicalItem:Nce}=W3.actions,Kne=W3.reducer,Zne=e=>{var t=Bt(),r=x.useRef(null);return x.useLayoutEffect(()=>{r.current===null?t(Hne(e)):r.current!==e&&t(Fne({prev:r.current,next:e})),r.current=e},[t,e]),x.useLayoutEffect(()=>()=>{r.current&&(t(Vne(r.current)),r.current=null)},[t]),null},Gne=x.memo(Zne),Yne=["points"];function QN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function by(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QN(Object(r),!0).forEach(function(n){Wne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wne(e,t,r){return(t=Xne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xne(e){var t=Jne(e,"string");return typeof t=="symbol"?t:t+""}function Jne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function e0(){return e0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e0.apply(null,arguments)}function Qne(e,t){if(e==null)return{};var r,n,a=eae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function eae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function tae(e){var{option:t,dotProps:r,className:n}=e;if(x.isValidElement(t))return x.cloneElement(t,r);if(typeof t=="function")return t(r);var a=it(n,typeof t!="boolean"?t.className:""),s=r??{},{points:l}=s,u=Qne(s,Yne);return x.createElement(K3,e0({},u,{className:a}))}function rae(e,t){return e==null?!1:t?!0:e.length===1}function nae(e){var{points:t,dot:r,className:n,dotClassName:a,dataKey:s,baseProps:l,needClip:u,clipPathId:d,zIndex:f=br.scatter}=e;if(!rae(t,r))return null;var m=G3(r),g=fV(r),v=t.map((_,k)=>{var S,j,N=by(by(by({r:3},l),g),{},{index:k,cx:(S=_.x)!==null&&S!==void 0?S:void 0,cy:(j=_.y)!==null&&j!==void 0?j:void 0,dataKey:s,value:_.value,payload:_.payload,points:t});return x.createElement(tae,{key:"dot-".concat(k),option:r,dotProps:N,className:a})}),y={};return u&&d!=null&&(y.clipPath="url(#clipPath-".concat(m?"":"dots-").concat(d,")")),x.createElement(va,{zIndex:f},x.createElement(Yn,e0({className:n},y),v))}function e5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function t5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e5(Object(r),!0).forEach(function(n){aae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aae(e,t,r){return(t=iae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iae(e){var t=sae(e,"string");return typeof t=="symbol"?t:t+""}function sae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oae={xAxis:{},yAxis:{},zAxis:{}},X3=Zr({name:"cartesianAxis",initialState:oae,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:mt()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:mt()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:mt()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:mt()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:mt()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:mt()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:mt()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:mt()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:mt()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var s=a.widthHistory||[];if(s.length===3&&s[0]===s[2]&&n===s[1]&&n!==a.width&&Math.abs(n-s[0])<=1)return;var l=[...s,n].slice(-3);e.yAxis[r]=t5(t5({},e.yAxis[r]),{},{width:n,widthHistory:l})}}}}),{addXAxis:lae,replaceXAxis:cae,removeXAxis:uae,addYAxis:dae,replaceYAxis:fae,removeYAxis:hae,addZAxis:Ace,replaceZAxis:Tce,removeZAxis:Cce,updateYAxisWidth:mae}=X3.actions,pae=X3.reducer,gae=ne([dr],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),vae=ne([gae,si,oi],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),Xw=()=>Ee(vae),yae=()=>Ee(yte);function r5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r5(Object(r),!0).forEach(function(n){bae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bae(e,t,r){return(t=xae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xae(e){var t=wae(e,"string");return typeof t=="symbol"?t:t+""}function wae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _ae=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:s,clipPath:l}=e;if(a===!1||t.x==null||t.y==null)return null;var u={index:r,dataKey:s,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},d=xy(xy(xy({},u),A0(a)),$x(a)),f;return x.isValidElement(a)?f=x.cloneElement(a,d):typeof a=="function"?f=a(d):f=x.createElement(K3,d),x.createElement(Yn,{className:"recharts-active-dot",clipPath:l},f)};function n5(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a,clipPath:s,zIndex:l=br.activeDot}=e,u=Ee(vu),d=yae();if(t==null||d==null)return null;var f=t.find(m=>d.includes(m.payload));return lr(f)?null:x.createElement(va,{zIndex:l},x.createElement(_ae,{point:f,childIndex:Number(u),mainColor:r,dataKey:a,activeDot:n,clipPath:s}))}var Sae={},J3=Zr({name:"errorBars",initialState:Sae,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?a:s))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:Pce,replaceErrorBar:Dce,removeErrorBar:Mce}=J3.actions,kae=J3.reducer;function Q3(e,t){var r,n,a=Ee(f=>pa(f,e)),s=Ee(f=>ga(f,t)),l=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:Gt.allowDataOverflow,u=(n=s?.allowDataOverflow)!==null&&n!==void 0?n:Yt.allowDataOverflow,d=l||u;return{needClip:d,needClipX:l,needClipY:u}}function jae(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=Xw(),{needClipX:s,needClipY:l,needClip:u}=Q3(t,r);if(!u||!a)return null;var{x:d,y:f,width:m,height:g}=a;return x.createElement("clipPath",{id:"clipPath-".concat(n)},x.createElement("rect",{x:s?d:d-m/2,y:l?f:f-g/2,width:s?m:m*2,height:l?g:g*2}))}function Eae(e){e()}function Oae(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Eae(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var a5={notify(){},get:()=>[]};function Nae(e,t){let r,n=a5,a=0,s=!1;function l(k){m();const S=n.subscribe(k);let j=!1;return()=>{j||(j=!0,S(),g())}}function u(){n.notify()}function d(){_.onStateChange&&_.onStateChange()}function f(){return s}function m(){a++,r||(r=e.subscribe(d),n=Oae())}function g(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=a5)}function v(){s||(s=!0,m())}function y(){s&&(s=!1,g())}const _={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:d,isSubscribed:f,trySubscribe:v,tryUnsubscribe:y,getListeners:()=>n};return _}var Aae=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Tae=Aae(),Cae=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Pae=Cae(),Dae=()=>Tae||Pae?x.useLayoutEffect:x.useEffect,Mae=Dae();function i5(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Rae(e,t){if(i5(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!i5(e[r[a]],t[r[a]]))return!1;return!0}var $ae=Symbol.for("react-redux-context"),Lae=typeof globalThis<"u"?globalThis:{};function Iae(){if(!x.createContext)return{};const e=Lae[$ae]??=new Map;let t=e.get(x.createContext);return t||(t=x.createContext(null),e.set(x.createContext,t)),t}var zae=Iae();function Uae(e){const{children:t,context:r,serverState:n,store:a}=e,s=x.useMemo(()=>{const d=Nae(a);return{store:a,subscription:d,getServerState:n?()=>n:void 0}},[a,n]),l=x.useMemo(()=>a.getState(),[a]);Mae(()=>{const{subscription:d}=s;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==a.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[s,l]);const u=r||zae;return x.createElement(u.Provider,{value:s},t)}var Bae=Uae,qae=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function Hae(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Jw(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(qae.has(n)){if(e[n]==null&&t[n]==null)continue;if(!Rae(e[n],t[n]))return!1}else if(!Hae(e[n],t[n]))return!1;return!0}var Fae=e=>{var{chartData:t}=e,r=Bt(),n=Tr();return x.useEffect(()=>n?()=>{}:(r(PN(t)),()=>{r(PN(void 0))}),[t,r,n]),null},s5={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},eM=Zr({name:"brush",initialState:s5,reducers:{setBrushSettings(e,t){return t.payload==null?s5:t.payload}}}),{setBrushSettings:Rce}=eM.actions,Vae=eM.reducer;function o5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o5(Object(r),!0).forEach(function(n){tM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tM(e,t,r){return(t=Kae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kae(e){var t=Zae(e,"string");return typeof t=="symbol"?t:t+""}function Zae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gae=(e,t)=>{var{x:r,y:n}=e,{x:a,y:s}=t;return{x:Math.min(r,a),y:Math.min(n,s),width:Math.abs(a-r),height:Math.abs(s-n)}},Yae=e=>{var{x1:t,y1:r,x2:n,y2:a}=e;return Gae({x:t,y:r},{x:n,y:a})};class dm{static create(t){return new dm(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(r){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}tM(dm,"EPS",1e-4);var Wae=e=>{var t=Object.keys(e).reduce((r,n)=>qf(qf({},r),{},{[n]:dm.create(e[n])}),{});return qf(qf({},t),{},{apply(r){var{bandAware:n,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(r).map(s=>{var[l,u]=s;return[l,t[l].apply(u,{bandAware:n,position:a})]}))},isInRange(r){return Object.keys(r).every(n=>t[n].isInRange(r[n]))}})};function Xae(e){return(e%180+180)%180}var Jae=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Xae(a),l=s*Math.PI/180,u=Math.atan(n/r),d=l>u&&l<Math.PI-u?n/Math.sin(l):r/Math.cos(l);return Math.abs(d)},Qae={dots:[],areas:[],lines:[]},rM=Zr({name:"referenceElements",initialState:Qae,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Zn(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Zn(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Zn(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:$ce,removeDot:Lce,addArea:Ice,removeArea:zce,addLine:eie,removeLine:tie}=rM.actions,rie=rM.reducer,nM=x.createContext(void 0),nie=e=>{var{children:t}=e,[r]=x.useState("".concat(au("recharts"),"-clip")),n=Xw();if(n==null)return null;var{x:a,y:s,width:l,height:u}=n;return x.createElement(nM.Provider,{value:r},x.createElement("defs",null,x.createElement("clipPath",{id:r},x.createElement("rect",{x:a,y:s,height:u,width:l}))),t)},aie=()=>x.useContext(nM);function l5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function c5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l5(Object(r),!0).forEach(function(n){iie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iie(e,t,r){return(t=sie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sie(e){var t=oie(e,"string");return typeof t=="symbol"?t:t+""}function oie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function t0(){return t0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t0.apply(null,arguments)}var lie=(e,t)=>{var r;if(x.isValidElement(e))r=x.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{if(!at(t.x1)||!at(t.y1)||!at(t.x2)||!at(t.y2))return null;r=x.createElement("line",t0({},t,{className:"recharts-reference-line-line"}))}return r},cie=(e,t,r,n,a,s)=>{var{x:l,width:u}=s,d=a.y.apply(e,{position:r});if(fn(d)||t==="discard"&&!a.y.isInRange(d))return null;var f=[{x:l+u,y:d},{x:l,y:d}];return n==="left"?f.reverse():f},uie=(e,t,r,n,a,s)=>{var{y:l,height:u}=s,d=a.x.apply(e,{position:r});if(fn(d)||t==="discard"&&!a.x.isInRange(d))return null;var f=[{x:d,y:l+u},{x:d,y:l}];return n==="top"?f.reverse():f},die=(e,t,r,n)=>{var a=e.map(s=>n.apply(s,{position:r}));return t==="discard"&&a.some(s=>!n.isInRange(s))?null:a},fie=(e,t,r,n,a,s)=>{var{x:l,y:u,segment:d,ifOverflow:f}=s,m=Cn(l),g=Cn(u);return g?cie(u,f,r,a,e,t):m?uie(l,f,r,n,e,t):d!=null&&d.length===2?die(d,f,r,e):null};function hie(e){var t=Bt();return x.useEffect(()=>(t(eie(e)),()=>{t(tie(e))})),null}function mie(e){var{xAxisId:t,yAxisId:r,shape:n,className:a,ifOverflow:s}=e,l=Tr(),u=aie(),d=Ee(T=>pa(T,t)),f=Ee(T=>ga(T,r)),m=Ee(T=>Zi(T,"xAxis",t,l)),g=Ee(T=>Zi(T,"yAxis",r,l)),v=Tu();if(!u||!v||d==null||f==null||m==null||g==null)return null;var y=Wae({x:m,y:g}),_=fie(y,v,e.position,d.orientation,f.orientation,e);if(!_)return null;var[{x:k,y:S},{x:j,y:N}]=_,E=s==="hidden"?"url(#".concat(u,")"):void 0,C=c5(c5({clipPath:E},dn(e)),{},{x1:k,y1:S,x2:j,y2:N}),A=Yae({x1:k,y1:S,x2:j,y2:N});return x.createElement(va,{zIndex:e.zIndex},x.createElement(Yn,{className:it("recharts-reference-line",a)},lie(n,C),x.createElement(B3,t0({},A,{lowerWidth:A.width,upperWidth:A.width}),x.createElement(H3,{label:e.label}),e.children)))}var pie={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:br.line};function aM(e){var t=Kr(e,pie);return x.createElement(x.Fragment,null,x.createElement(hie,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y,segment:t.segment}),x.createElement(mie,t))}aM.displayName="ReferenceLine";function iM(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r}function gie(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Jae(n,r)}function vie(e,t,r){var n=r==="width",{x:a,y:s,width:l,height:u}=e;return t===1?{start:n?a:s,end:n?a+l:s+u}:{start:n?a+l:s+u,end:n?a:s}}function r0(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function yie(e,t){return iM(e,t+1)}function bie(e,t,r,n,a){for(var s=(n||[]).slice(),{start:l,end:u}=t,d=0,f=1,m=l,g=function(){var _=n?.[d];if(_===void 0)return{v:iM(n,f)};var k=d,S,j=()=>(S===void 0&&(S=r(_,k)),S),N=_.coordinate,E=d===0||r0(e,N,j,m,u);E||(d=0,m=l,f+=1),E&&(m=N+e*(j()/2+a),d+=f)},v;f<=s.length;)if(v=g(),v)return v.v;return[]}function u5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u5(Object(r),!0).forEach(function(n){xie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xie(e,t,r){return(t=wie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wie(e){var t=_ie(e,"string");return typeof t=="symbol"?t:t+""}function _ie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sie(e,t,r,n,a){for(var s=(n||[]).slice(),l=s.length,{start:u}=t,{end:d}=t,f=function(v){var y=s[v],_,k=()=>(_===void 0&&(_=r(y,v)),_);if(v===l-1){var S=e*(y.coordinate+e*k()/2-d);s[v]=y=vr(vr({},y),{},{tickCoord:S>0?y.coordinate-S*e:y.coordinate})}else s[v]=y=vr(vr({},y),{},{tickCoord:y.coordinate});if(y.tickCoord!=null){var j=r0(e,y.tickCoord,k,u,d);j&&(d=y.tickCoord-e*(k()/2+a),s[v]=vr(vr({},y),{},{isShow:!0}))}},m=l-1;m>=0;m--)f(m);return s}function kie(e,t,r,n,a,s){var l=(n||[]).slice(),u=l.length,{start:d,end:f}=t;if(s){var m=n[u-1],g=r(m,u-1),v=e*(m.coordinate+e*g/2-f);if(l[u-1]=m=vr(vr({},m),{},{tickCoord:v>0?m.coordinate-v*e:m.coordinate}),m.tickCoord!=null){var y=r0(e,m.tickCoord,()=>g,d,f);y&&(f=m.tickCoord-e*(g/2+a),l[u-1]=vr(vr({},m),{},{isShow:!0}))}}for(var _=s?u-1:u,k=function(N){var E=l[N],C,A=()=>(C===void 0&&(C=r(E,N)),C);if(N===0){var T=e*(E.coordinate-e*A()/2-d);l[N]=E=vr(vr({},E),{},{tickCoord:T<0?E.coordinate-T*e:E.coordinate})}else l[N]=E=vr(vr({},E),{},{tickCoord:E.coordinate});if(E.tickCoord!=null){var P=r0(e,E.tickCoord,A,d,f);P&&(d=E.tickCoord+e*(A()/2+a),l[N]=vr(vr({},E),{},{isShow:!0}))}},S=0;S<_;S++)k(S);return l}function Qw(e,t,r){var{tick:n,ticks:a,viewBox:s,minTickGap:l,orientation:u,interval:d,tickFormatter:f,unit:m,angle:g}=e;if(!a||!a.length||!n)return[];if(Oe(d)||kl.isSsr){var v;return(v=yie(a,Oe(d)?d:0))!==null&&v!==void 0?v:[]}var y=[],_=u==="top"||u==="bottom"?"width":"height",k=m&&_==="width"?Yc(m,{fontSize:t,letterSpacing:r}):{width:0,height:0},S=(E,C)=>{var A=typeof f=="function"?f(E.value,C):E.value;return _==="width"?gie(Yc(A,{fontSize:t,letterSpacing:r}),k,g):Yc(A,{fontSize:t,letterSpacing:r})[_]},j=a.length>=2?An(a[1].coordinate-a[0].coordinate):1,N=vie(s,j,_);return d==="equidistantPreserveStart"?bie(j,N,S,a,l):(d==="preserveStart"||d==="preserveStartEnd"?y=kie(j,N,S,a,l,d==="preserveStartEnd"):y=Sie(j,N,S,a,l),y.filter(E=>E.isShow))}var jie=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:s=0}=e,l=0;if(t){Array.from(t).forEach(m=>{if(m){var g=m.getBoundingClientRect();g.width>l&&(l=g.width)}});var u=r?r.getBoundingClientRect().width:0,d=a+s,f=l+d+u+(r?n:0);return Math.round(f)}return 0},Eie=["axisLine","width","height","className","hide","ticks","axisType"];function Oie(e,t){if(e==null)return{};var r,n,a=Nie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Nie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Vs(){return Vs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vs.apply(null,arguments)}function d5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $t(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d5(Object(r),!0).forEach(function(n){Aie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Aie(e,t,r){return(t=Tie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tie(e){var t=Cie(e,"string");return typeof t=="symbol"?t:t+""}function Cie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ga={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:br.axis};function Pie(e){var{x:t,y:r,width:n,height:a,orientation:s,mirror:l,axisLine:u,otherSvgProps:d}=e;if(!u)return null;var f=$t($t($t({},d),Gn(u)),{},{fill:"none"});if(s==="top"||s==="bottom"){var m=+(s==="top"&&!l||s==="bottom"&&l);f=$t($t({},f),{},{x1:t,y1:r+m*a,x2:t+n,y2:r+m*a})}else{var g=+(s==="left"&&!l||s==="right"&&l);f=$t($t({},f),{},{x1:t+g*n,y1:r,x2:t+g*n,y2:r+a})}return x.createElement("line",Vs({},f,{className:it("recharts-cartesian-axis-line",P0(u,"className"))}))}function Die(e,t,r,n,a,s,l,u,d){var f,m,g,v,y,_,k=u?-1:1,S=e.tickSize||l,j=Oe(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":f=m=e.coordinate,v=r+ +!u*a,g=v-k*S,_=g-k*d,y=j;break;case"left":g=v=e.coordinate,m=t+ +!u*n,f=m-k*S,y=f-k*d,_=j;break;case"right":g=v=e.coordinate,m=t+ +u*n,f=m+k*S,y=f+k*d,_=j;break;default:f=m=e.coordinate,v=r+ +u*a,g=v+k*S,_=g+k*d,y=j;break}return{line:{x1:f,y1:g,x2:m,y2:v},tick:{x:y,y:_}}}function Mie(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Rie(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function $ie(e){var{option:t,tickProps:r,value:n}=e,a,s=it(r.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(t))a=x.cloneElement(t,$t($t({},r),{},{className:s}));else if(typeof t=="function")a=t($t($t({},r),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=it(l,t?.className)),a=x.createElement(Yw,Vs({},r,{className:l}),n)}return a}var Lie=x.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:s,tickFormatter:l,unit:u,padding:d,tickTextProps:f,orientation:m,mirror:g,x:v,y,width:_,height:k,tickSize:S,tickMargin:j,fontSize:N,letterSpacing:E,getTicksConfig:C,events:A,axisType:T}=e,P=Qw($t($t({},C),{},{ticks:r}),N,E),M=Mie(m,g),R=Rie(m,g),L=Gn(C),$=A0(n),q={};typeof a=="object"&&(q=a);var V=$t($t({},L),{},{fill:"none"},q),Q=P.map(Y=>$t({entry:Y},Die(Y,v,y,_,k,m,S,g,j))),ae=Q.map(Y=>{var{entry:ee,line:le}=Y;return x.createElement(Yn,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ee.value,"-").concat(ee.coordinate,"-").concat(ee.tickCoord)},a&&x.createElement("line",Vs({},V,le,{className:it("recharts-cartesian-axis-tick-line",P0(a,"className"))})))}),U=Q.map((Y,ee)=>{var{entry:le,tick:ve}=Y,I=$t($t($t($t({textAnchor:M,verticalAnchor:R},L),{},{stroke:"none",fill:s},$),ve),{},{index:ee,payload:le,visibleTicksCount:P.length,tickFormatter:l,padding:d},f);return x.createElement(Yn,Vs({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(le.value,"-").concat(le.coordinate,"-").concat(le.tickCoord)},GV(A,le,ee)),n&&x.createElement($ie,{option:n,tickProps:I,value:"".concat(typeof l=="function"?l(le.value,ee):le.value).concat(u||"")}))});return x.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(T,"-ticks")},U.length>0&&x.createElement(va,{zIndex:br.label},x.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(T,"-tick-labels"),ref:t},U)),ae.length>0&&x.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(T,"-tick-lines")},ae))}),Iie=x.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:s,hide:l,ticks:u,axisType:d}=e,f=Oie(e,Eie),[m,g]=x.useState(""),[v,y]=x.useState(""),_=x.useRef(null);x.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var S;return jie({ticks:_.current,label:(S=e.labelRef)===null||S===void 0?void 0:S.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var k=x.useCallback(S=>{if(S){var j=S.getElementsByClassName("recharts-cartesian-axis-tick-value");_.current=j;var N=j[0];if(N){var E=window.getComputedStyle(N),C=E.fontSize,A=E.letterSpacing;(C!==m||A!==v)&&(g(C),y(A))}}},[m,v]);return l||n!=null&&n<=0||a!=null&&a<=0?null:x.createElement(va,{zIndex:e.zIndex},x.createElement(Yn,{className:it("recharts-cartesian-axis",s)},x.createElement(Pie,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Gn(e)}),x.createElement(Lie,{ref:k,axisType:d,events:f,fontSize:m,getTicksConfig:e,height:e.height,letterSpacing:v,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:u,unit:e.unit,width:e.width,x:e.x,y:e.y}),x.createElement(B3,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},x.createElement(H3,{label:e.label,labelRef:e.labelRef}),e.children)))}),e1=x.forwardRef((e,t)=>{var r=Kr(e,Ga);return x.createElement(Iie,Vs({},r,{ref:t}))});e1.displayName="CartesianAxis";var zie=["x1","y1","x2","y2","key"],Uie=["offset"],Bie=["xAxisId","yAxisId"],qie=["xAxisId","yAxisId"];function f5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f5(Object(r),!0).forEach(function(n){Hie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hie(e,t,r){return(t=Fie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fie(e){var t=Vie(e,"string");return typeof t=="symbol"?t:t+""}function Vie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ms(){return Ms=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ms.apply(null,arguments)}function n0(e,t){if(e==null)return{};var r,n,a=Kie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Kie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Zie=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:s,height:l,ry:u}=e;return x.createElement("rect",{x:n,y:a,ry:u,width:s,height:l,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function sM(e){var{option:t,lineItemProps:r}=e,n;if(x.isValidElement(t))n=x.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:s,y1:l,x2:u,y2:d,key:f}=r,m=n0(r,zie),g=(a=Gn(m))!==null&&a!==void 0?a:{},{offset:v}=g,y=n0(g,Uie);n=x.createElement("line",Ms({},y,{x1:s,y1:l,x2:u,y2:d,fill:"none",key:f}))}return n}function Gie(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:l}=e,u=n0(e,Bie),d=a.map((f,m)=>{var g=yr(yr({},u),{},{x1:t,y1:f,x2:t+r,y2:f,key:"line-".concat(m),index:m});return x.createElement(sM,{key:"line-".concat(m),option:n,lineItemProps:g})});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function Yie(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:l}=e,u=n0(e,qie),d=a.map((f,m)=>{var g=yr(yr({},u),{},{x1:f,y1:t,x2:f,y2:t+r,key:"line-".concat(m),index:m});return x.createElement(sM,{option:n,lineItemProps:g,key:"line-".concat(m)})});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function Wie(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:s,height:l,horizontalPoints:u,horizontal:d=!0}=e;if(!d||!t||!t.length||u==null)return null;var f=u.map(g=>Math.round(g+a-a)).sort((g,v)=>g-v);a!==f[0]&&f.unshift(0);var m=f.map((g,v)=>{var y=!f[v+1],_=y?a+l-g:f[v+1]-g;if(_<=0)return null;var k=v%t.length;return x.createElement("rect",{key:"react-".concat(v),y:g,x:n,height:_,width:s,stroke:"none",fill:t[k],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function Xie(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:s,width:l,height:u,verticalPoints:d}=e;if(!t||!r||!r.length)return null;var f=d.map(g=>Math.round(g+a-a)).sort((g,v)=>g-v);a!==f[0]&&f.unshift(0);var m=f.map((g,v)=>{var y=!f[v+1],_=y?a+l-g:f[v+1]-g;if(_<=0)return null;var k=v%r.length;return x.createElement("rect",{key:"react-".concat(v),x:g,y:s,width:_,height:u,stroke:"none",fill:r[k],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var Jie=(e,t)=>{var{xAxis:r,width:n,height:a,offset:s}=e;return VP(Qw(yr(yr(yr({},Ga),r),{},{ticks:KP(r),viewBox:{x:0,y:0,width:n,height:a}})),s.left,s.left+s.width,t)},Qie=(e,t)=>{var{yAxis:r,width:n,height:a,offset:s}=e;return VP(Qw(yr(yr(yr({},Ga),r),{},{ticks:KP(r),viewBox:{x:0,y:0,width:n,height:a}})),s.top,s.top+s.height,t)},ese={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:br.grid};function oM(e){var t=tD(),r=rD(),n=eD(),a=yr(yr({},Kr(e,ese)),{},{x:Oe(e.x)?e.x:n.left,y:Oe(e.y)?e.y:n.top,width:Oe(e.width)?e.width:n.width,height:Oe(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:l,x:u,y:d,width:f,height:m,syncWithTicks:g,horizontalValues:v,verticalValues:y}=a,_=Tr(),k=Ee(R=>xN(R,"xAxis",s,_)),S=Ee(R=>xN(R,"yAxis",l,_));if(!ha(f)||!ha(m)||!Oe(u)||!Oe(d))return null;var j=a.verticalCoordinatesGenerator||Jie,N=a.horizontalCoordinatesGenerator||Qie,{horizontalPoints:E,verticalPoints:C}=a;if((!E||!E.length)&&typeof N=="function"){var A=v&&v.length,T=N({yAxis:S?yr(yr({},S),{},{ticks:A?v:S.ticks}):void 0,width:t??f,height:r??m,offset:n},A?!0:g);Ch(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof T,"]")),Array.isArray(T)&&(E=T)}if((!C||!C.length)&&typeof j=="function"){var P=y&&y.length,M=j({xAxis:k?yr(yr({},k),{},{ticks:P?y:k.ticks}):void 0,width:t??f,height:r??m,offset:n},P?!0:g);Ch(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(C=M)}return x.createElement(va,{zIndex:a.zIndex},x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(Zie,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),x.createElement(Wie,Ms({},a,{horizontalPoints:E})),x.createElement(Xie,Ms({},a,{verticalPoints:C})),x.createElement(Gie,Ms({},a,{offset:n,horizontalPoints:E,xAxis:k,yAxis:S})),x.createElement(Yie,Ms({},a,{offset:n,verticalPoints:C,xAxis:k,yAxis:S}))))}oM.displayName="CartesianGrid";function tse(e){var t=A0(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:s}=t,l=Number(a),u=Number(s);return(Number.isNaN(l)||l<0)&&(l=r),(Number.isNaN(u)||u<0)&&(u=n),{r:l,strokeWidth:u}}return{r,strokeWidth:n}}var lM=(e,t,r,n)=>n3(e,"xAxis",t,n),cM=(e,t,r,n)=>r3(e,"xAxis",t,n),uM=(e,t,r,n)=>n3(e,"yAxis",r,n),dM=(e,t,r,n)=>r3(e,"yAxis",r,n),rse=ne([st,lM,uM,cM,dM],(e,t,r,n,a)=>ii(e,"xAxis")?Th(t,n,!1):Th(r,a,!1)),nse=(e,t,r,n,a)=>a,fM=ne([j4,nse],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),ase=(e,t,r,n,a)=>{var s,l=fM(e,t,r,n,a);if(l!=null){var u=st(e),d=ii(u,"xAxis"),f;if(d?f=Ub(e,"yAxis",r,n):f=Ub(e,"xAxis",t,n),f!=null){var{stackId:m}=l,g=Nw(l);if(!(m==null||g==null)){var v=(s=f[m])===null||s===void 0?void 0:s.stackedData;return v?.find(y=>y.key===g)}}}},ise=ne([st,lM,uM,cM,dM,ase,bw,rse,fM,pQ],(e,t,r,n,a,s,l,u,d,f)=>{var{chartData:m,dataStartIndex:g,dataEndIndex:v}=l;if(!(d==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||a==null||n.length===0||a.length===0||u==null)){var{data:y}=d,_;if(y&&y.length>0?_=y:_=m?.slice(g,v+1),_!=null)return kse({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataStartIndex:g,areaSettings:d,stackedData:s,displayedData:_,chartBaseValue:f,bandSize:u})}}),sse=["id"],ose=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Is(){return Is=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Is.apply(null,arguments)}function hM(e,t){if(e==null)return{};var r,n,a=lse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function lse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function h5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h5(Object(r),!0).forEach(function(n){cse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cse(e,t,r){return(t=use(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function use(e){var t=dse(e,"string");return typeof t=="symbol"?t:t+""}function dse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function a0(e,t){return e&&e!=="none"?e:t}var fse=e=>{var{dataKey:t,name:r,stroke:n,fill:a,legendType:s,hide:l}=e;return[{inactive:l,dataKey:t,type:s,color:a0(n,a),value:ZP(r,t),payload:e}]},hse=x.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:s,name:l,hide:u,unit:d,tooltipType:f}=e,m={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:s,dataKey:t,nameKey:void 0,name:ZP(l,t),hide:u,type:f,color:a0(n,s),unit:d}};return x.createElement($ne,{tooltipEntrySettings:m})});function mse(e){var{clipPathId:t,points:r,props:n}=e,{needClip:a,dot:s,dataKey:l}=n,u=Gn(n);return x.createElement(nae,{points:r,dot:s,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:l,baseProps:u,needClip:a,clipPathId:t})}function pse(e){var{showLabels:t,children:r,points:n}=e,a=n.map(s=>{var l,u,d={x:(l=s.x)!==null&&l!==void 0?l:0,y:(u=s.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return tl(tl({},d),{},{value:s.value,payload:s.payload,parentViewBox:void 0,viewBox:d,fill:void 0})});return x.createElement(Tne,{value:t?a:void 0},r)}function m5(e){var{points:t,baseLine:r,needClip:n,clipPathId:a,props:s}=e,{layout:l,type:u,stroke:d,connectNulls:f,isRange:m}=s,{id:g}=s,v=hM(s,sse),y=Gn(v),_=dn(v);return x.createElement(x.Fragment,null,t?.length>1&&x.createElement(Yn,{clipPath:n?"url(#clipPath-".concat(a,")"):void 0},x.createElement(Jf,Is({},_,{id:g,points:t,connectNulls:f,type:u,baseLine:r,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&x.createElement(Jf,Is({},y,{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:t})),d!=="none"&&m&&x.createElement(Jf,Is({},y,{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:r}))),x.createElement(mse,{points:t,props:v,clipPathId:a}))}function gse(e){var{alpha:t,baseLine:r,points:n,strokeWidth:a}=e,s=n[0].y,l=n[n.length-1].y;if(!at(s)||!at(l))return null;var u=t*Math.abs(s-l),d=Math.max(...n.map(f=>f.x||0));return Oe(r)?d=Math.max(r,d):r&&Array.isArray(r)&&r.length&&(d=Math.max(...r.map(f=>f.x||0),d)),Oe(d)?x.createElement("rect",{x:0,y:s<l?s:s-u,width:d+(a?parseInt("".concat(a),10):1),height:Math.floor(u)}):null}function vse(e){var{alpha:t,baseLine:r,points:n,strokeWidth:a}=e,s=n[0].x,l=n[n.length-1].x;if(!at(s)||!at(l))return null;var u=t*Math.abs(s-l),d=Math.max(...n.map(f=>f.y||0));return Oe(r)?d=Math.max(r,d):r&&Array.isArray(r)&&r.length&&(d=Math.max(...r.map(f=>f.y||0),d)),Oe(d)?x.createElement("rect",{x:s<l?s:s-u,y:0,width:u,height:Math.floor(d+(a?parseInt("".concat(a),10):1))}):null}function yse(e){var{alpha:t,layout:r,points:n,baseLine:a,strokeWidth:s}=e;return r==="vertical"?x.createElement(gse,{alpha:t,points:n,baseLine:a,strokeWidth:s}):x.createElement(vse,{alpha:t,points:n,baseLine:a,strokeWidth:s})}function bse(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:s}=e,{points:l,baseLine:u,isAnimationActive:d,animationBegin:f,animationDuration:m,animationEasing:g,onAnimationStart:v,onAnimationEnd:y}=n,_=x.useMemo(()=>({points:l,baseLine:u}),[l,u]),k=pD(_,"recharts-area-"),S=UG(),[j,N]=x.useState(!1),E=!j,C=x.useCallback(()=>{typeof y=="function"&&y(),N(!1)},[y]),A=x.useCallback(()=>{typeof v=="function"&&v(),N(!0)},[v]);if(S==null)return null;var T=a.current,P=s.current;return x.createElement(pse,{showLabels:E,points:l},n.children,x.createElement(mD,{animationId:k,begin:f,duration:m,isActive:d,easing:g,onAnimationEnd:C,onAnimationStart:A,key:k},M=>{if(T){var R=T.length/l.length,L=M===1?l:l.map((q,V)=>{var Q=Math.floor(V*R);if(T[Q]){var ae=T[Q];return tl(tl({},q),{},{x:sa(ae.x,q.x,M),y:sa(ae.y,q.y,M)})}return q}),$;return Oe(u)?$=sa(P,u,M):lr(u)||fn(u)?$=sa(P,0,M):$=u.map((q,V)=>{var Q=Math.floor(V*R);if(Array.isArray(P)&&P[Q]){var ae=P[Q];return tl(tl({},q),{},{x:sa(ae.x,q.x,M),y:sa(ae.y,q.y,M)})}return q}),M>0&&(a.current=L,s.current=$),x.createElement(m5,{points:L,baseLine:$,needClip:t,clipPathId:r,props:n})}return M>0&&(a.current=l,s.current=u),x.createElement(Yn,null,d&&x.createElement("defs",null,x.createElement("clipPath",{id:"animationClipPath-".concat(r)},x.createElement(yse,{alpha:M,points:l,baseLine:u,layout:S,strokeWidth:n.strokeWidth}))),x.createElement(Yn,{clipPath:"url(#animationClipPath-".concat(r,")")},x.createElement(m5,{points:l,baseLine:u,needClip:t,clipPathId:r,props:n})))}),x.createElement(Dne,{label:n.label}))}function xse(e){var{needClip:t,clipPathId:r,props:n}=e,a=x.useRef(null),s=x.useRef();return x.createElement(bse,{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:s})}class wse extends x.PureComponent{render(){var{hide:t,dot:r,points:n,className:a,top:s,left:l,needClip:u,xAxisId:d,yAxisId:f,width:m,height:g,id:v,baseLine:y,zIndex:_}=this.props;if(t)return null;var k=it("recharts-area",a),S=v,{r:j,strokeWidth:N}=tse(r),E=G3(r),C=j*2+N,A=u?"url(#clipPath-".concat(E?"":"dots-").concat(S,")"):void 0;return x.createElement(va,{zIndex:_},x.createElement(Yn,{className:k},u&&x.createElement("defs",null,x.createElement(jae,{clipPathId:S,xAxisId:d,yAxisId:f}),!E&&x.createElement("clipPath",{id:"clipPath-dots-".concat(S)},x.createElement("rect",{x:l-C/2,y:s-C/2,width:m+C,height:g+C}))),x.createElement(xse,{needClip:u,clipPathId:S,props:this.props})),x.createElement(n5,{points:n,mainColor:a0(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:A}),this.props.isRange&&Array.isArray(y)&&x.createElement(n5,{points:y,mainColor:a0(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:A}))}}var mM={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:br.area};function _se(e){var t,r=Kr(e,mM),{activeDot:n,animationBegin:a,animationDuration:s,animationEasing:l,connectNulls:u,dot:d,fill:f,fillOpacity:m,hide:g,isAnimationActive:v,legendType:y,stroke:_,xAxisId:k,yAxisId:S}=r,j=hM(r,ose),N=Cu(),E=k3(),{needClip:C}=Q3(k,S),A=Tr(),{points:T,isRange:P,baseLine:M}=(t=Ee(Q=>ise(Q,k,S,A,e.id)))!==null&&t!==void 0?t:{},R=Xw();if(N!=="horizontal"&&N!=="vertical"||R==null||E!=="AreaChart"&&E!=="ComposedChart")return null;var{height:L,width:$,x:q,y:V}=R;return!T||!T.length?null:x.createElement(wse,Is({},j,{activeDot:n,animationBegin:a,animationDuration:s,animationEasing:l,baseLine:M,connectNulls:u,dot:d,fill:f,fillOpacity:m,height:L,hide:g,layout:N,isAnimationActive:v==="auto"?!kl.isSsr:v,isRange:P,legendType:y,needClip:C,points:T,stroke:_,width:$,left:q,top:V,xAxisId:k,yAxisId:S}))}var Sse=(e,t,r,n,a)=>{var s=r??t;if(Oe(s))return s;var l=e==="horizontal"?a:n,u=l.scale.domain();if(l.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return s==="dataMin"?f:s==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return s==="dataMin"?u[0]:s==="dataMax"?u[1]:u[0]};function kse(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:a,layout:s,chartBaseValue:l,xAxis:u,yAxis:d,displayedData:f,dataStartIndex:m,xAxisTicks:g,yAxisTicks:v,bandSize:y}=e,_=a&&a.length,k=Sse(s,l,r,u,d),S=s==="horizontal",j=!1,N=f.map((C,A)=>{var T;_?T=a[m+A]:(T=xr(C,n),Array.isArray(T)?j=!0:T=[k,T]);var P=T[1]==null||_&&!t&&xr(C,n)==null;return S?{x:HE({axis:u,ticks:g,bandSize:y,entry:C,index:A}),y:P?null:d.scale(T[1]),value:T,payload:C}:{x:P?null:u.scale(T[1]),y:HE({axis:d,ticks:v,bandSize:y,entry:C,index:A}),value:T,payload:C}}),E;return _||j?E=N.map(C=>{var A=Array.isArray(C.value)?C.value[0]:null;return S?{x:C.x,y:A!=null&&C.y!=null?d.scale(A):null,payload:C.payload}:{x:A!=null?u.scale(A):null,y:C.y,payload:C.payload}}):E=S?d.scale(k):u.scale(k),{points:N,baseLine:E,isRange:j}}function jse(e){var t=Kr(e,mM),r=Tr();return x.createElement(Bne,{id:t.id,type:"area"},n=>x.createElement(x.Fragment,null,x.createElement(Lne,{legendPayload:fse(t)}),x.createElement(hse,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),x.createElement(Gne,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:rG(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),x.createElement(_se,Is({},t,{id:n}))))}var pM=x.memo(jse,Jw);pM.displayName="Area";var Ese=["domain","range"],Ose=["domain","range"];function p5(e,t){if(e==null)return{};var r,n,a=Nse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Nse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function g5(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function gM(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=p5(e,Ese),{domain:s,range:l}=t,u=p5(t,Ose);return!g5(r,s)||!g5(n,l)?!1:Jw(a,u)}var Ase=["dangerouslySetInnerHTML","ticks"],Tse=["id"];function Gb(){return Gb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gb.apply(null,arguments)}function v5(e,t){if(e==null)return{};var r,n,a=Cse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Cse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Pse(e){var t=Bt(),r=x.useRef(null);return x.useLayoutEffect(()=>{r.current===null?t(lae(e)):r.current!==e&&t(cae({prev:r.current,next:e})),r.current=e},[e,t]),x.useLayoutEffect(()=>()=>{r.current&&(t(uae(r.current)),r.current=null)},[t]),null}var Dse=e=>{var{xAxisId:t,className:r}=e,n=Ee(YP),a=Tr(),s="xAxis",l=Ee(S=>Zi(S,s,t,a)),u=Ee(S=>t3(S,s,t,a)),d=Ee(S=>oee(S,t)),f=Ee(S=>hee(S,t)),m=Ee(S=>w4(S,t));if(d==null||f==null||m==null)return null;var{dangerouslySetInnerHTML:g,ticks:v}=e,y=v5(e,Ase),{id:_}=m,k=v5(m,Tse);return x.createElement(e1,Gb({},y,k,{scale:l,x:f.x,y:f.y,width:d.width,height:d.height,className:it("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:u,axisType:s}))},Mse={allowDataOverflow:Gt.allowDataOverflow,allowDecimals:Gt.allowDecimals,allowDuplicatedCategory:Gt.allowDuplicatedCategory,angle:Gt.angle,axisLine:Ga.axisLine,height:Gt.height,hide:!1,includeHidden:Gt.includeHidden,interval:Gt.interval,minTickGap:Gt.minTickGap,mirror:Gt.mirror,orientation:Gt.orientation,padding:Gt.padding,reversed:Gt.reversed,scale:Gt.scale,tick:Gt.tick,tickCount:Gt.tickCount,tickLine:Ga.tickLine,tickSize:Ga.tickSize,type:Gt.type,xAxisId:0},Rse=e=>{var t=Kr(e,Mse);return x.createElement(x.Fragment,null,x.createElement(Pse,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),x.createElement(Dse,t))},vM=x.memo(Rse,gM);vM.displayName="XAxis";var $se=["dangerouslySetInnerHTML","ticks"],Lse=["id"];function Yb(){return Yb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yb.apply(null,arguments)}function y5(e,t){if(e==null)return{};var r,n,a=Ise(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ise(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function zse(e){var t=Bt(),r=x.useRef(null);return x.useLayoutEffect(()=>{r.current===null?t(dae(e)):r.current!==e&&t(fae({prev:r.current,next:e})),r.current=e},[e,t]),x.useLayoutEffect(()=>()=>{r.current&&(t(hae(r.current)),r.current=null)},[t]),null}var Use=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,s=x.useRef(null),l=x.useRef(null),u=Ee(YP),d=Tr(),f=Bt(),m="yAxis",g=Ee(A=>Zi(A,m,t,d)),v=Ee(A=>gee(A,t)),y=Ee(A=>pee(A,t)),_=Ee(A=>t3(A,m,t,d)),k=Ee(A=>_4(A,t));if(x.useLayoutEffect(()=>{if(!(n!=="auto"||!v||Ww(a)||x.isValidElement(a)||k==null)){var A=s.current;if(A){var T=A.getCalculatedWidth();Math.round(v.width)!==Math.round(T)&&f(mae({id:t,width:T}))}}},[_,v,f,a,t,n,k]),v==null||y==null||k==null)return null;var{dangerouslySetInnerHTML:S,ticks:j}=e,N=y5(e,$se),{id:E}=k,C=y5(k,Lse);return x.createElement(e1,Yb({},N,C,{ref:s,labelRef:l,scale:g,x:y.x,y:y.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:v.width,height:v.height,className:it("recharts-".concat(m," ").concat(m),r),viewBox:u,ticks:_,axisType:m}))},Bse={allowDataOverflow:Yt.allowDataOverflow,allowDecimals:Yt.allowDecimals,allowDuplicatedCategory:Yt.allowDuplicatedCategory,angle:Yt.angle,axisLine:Ga.axisLine,hide:!1,includeHidden:Yt.includeHidden,interval:Yt.interval,minTickGap:Yt.minTickGap,mirror:Yt.mirror,orientation:Yt.orientation,padding:Yt.padding,reversed:Yt.reversed,scale:Yt.scale,tick:Yt.tick,tickCount:Yt.tickCount,tickLine:Ga.tickLine,tickSize:Ga.tickSize,type:Yt.type,width:Yt.width,yAxisId:0},qse=e=>{var t=Kr(e,Bse);return x.createElement(x.Fragment,null,x.createElement(zse,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),x.createElement(Use,t))},yM=x.memo(qse,gM);yM.displayName="YAxis";var Hse=(e,t)=>t,t1=ne([Hse,st,b4,Ft,y3,ci,Tte,dr],Lte),r1=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},bM=Pn("mouseClick"),xM=Nu();xM.startListening({actionCreator:bM,effect:(e,t)=>{var r=e.payload,n=t1(t.getState(),r1(r));n?.activeIndex!=null&&t.dispatch(Aee({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Wb=Pn("mouseMove"),wM=Nu(),Hf=null;wM.startListening({actionCreator:Wb,effect:(e,t)=>{var r=e.payload;Hf!==null&&cancelAnimationFrame(Hf);var n=r1(r);Hf=requestAnimationFrame(()=>{var a=t.getState(),s=zw(a,a.tooltip.settings.shared);if(s==="axis"){var l=t1(a,n);l?.activeIndex!=null?t.dispatch(u3({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):t.dispatch(c3())}Hf=null})}});var b5={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},_M=Zr({name:"rootProps",initialState:b5,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:b5.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Fse=_M.reducer,{updateOptions:Vse}=_M.actions,SM=Zr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Uce}=SM.actions,Kse=SM.reducer,kM=Pn("keyDown"),jM=Pn("focus"),n1=Nu();n1.startListening({actionCreator:kM,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=Uw(a,Cl(r),zu(r),Fu(r)),u=l==null?-1:Number(l);if(!(!Number.isFinite(u)||u<0)){var d=ci(r);if(s==="Enter"){var f=Jh(r,"axis","hover",String(a.index));t.dispatch(qb({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:f}));return}var m=xee(r),g=m==="left-to-right"?1:-1,v=s==="ArrowRight"?1:-1,y=u+v*g;if(!(d==null||y>=d.length||y<0)){var _=Jh(r,"axis","hover",String(y));t.dispatch(qb({active:!0,activeIndex:y.toString(),activeDataKey:void 0,activeCoordinate:_}))}}}}}});n1.startListening({actionCreator:jM,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var s="0",l=Jh(r,"axis","hover",String(s));t.dispatch(qb({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:l}))}}}});var Nn=Pn("externalEvent"),EM=Nu(),wy=new Map;EM.startListening({actionCreator:Nn,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,s=wy.get(a);s!==void 0&&cancelAnimationFrame(s);var l=requestAnimationFrame(()=>{try{var u=t.getState(),d={activeCoordinate:pte(u),activeDataKey:hte(u),activeIndex:vu(u),activeLabel:w3(u),activeTooltipIndex:vu(u),isTooltipActive:gte(u)};r(d,n)}finally{wy.delete(a)}});wy.set(a,l)}}});var Zse=ne([Tl],e=>e.tooltipItemPayloads),Gse=ne([Zse,qu,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(u=>u.settings.dataKey===n);if(a!=null){var{positions:s}=a;if(s!=null){var l=t(s,r);return l}}}),OM=Pn("touchMove"),NM=Nu();NM.startListening({actionCreator:OM,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=zw(n,n.tooltip.settings.shared);if(a==="axis"){var s=t1(n,r1({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));s?.activeIndex!=null&&t.dispatch(u3({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(a==="item"){var l,u=r.touches[0];if(document.elementFromPoint==null)return;var d=document.elementFromPoint(u.clientX,u.clientY);if(!d||!d.getAttribute)return;var f=d.getAttribute(cG),m=(l=d.getAttribute(uG))!==null&&l!==void 0?l:void 0,g=Gse(t.getState(),f,m);t.dispatch(Nee({activeDataKey:m,activeIndex:f,activeCoordinate:g}))}}}});var Yse=gP({brush:Vae,cartesianAxis:pae,chartData:pre,errorBars:kae,graphicalItems:Kne,layout:KZ,legend:nY,options:ure,polarAxis:Rne,polarOptions:Kse,referenceElements:rie,rootProps:Fse,tooltip:Tee,zIndex:Xte}),Wse=function(t){return vZ({reducer:Yse,preloadedState:t,middleware:r=>{var n;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((n="es6")!==null&&n!==void 0?n:"")}).concat([xM.middleware,wM.middleware,n1.middleware,EM.middleware,NM.middleware])},enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(CP({type:"raf"}))},devTools:kl.devToolsEnabled})};function Xse(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=Tr(),s=x.useRef(null);if(a)return r;s.current==null&&(s.current=Wse(t));var l=Ix;return x.createElement(Bae,{context:l,store:s.current},r)}function Jse(e){var{layout:t,margin:r}=e,n=Bt(),a=Tr();return x.useEffect(()=>{a||(n(HZ(t)),n(qZ(r)))},[n,a,t,r]),null}var Qse=x.memo(Jse,Jw);function eoe(e){var t=Bt();return x.useEffect(()=>{t(Vse(e))},[t,e]),null}function x5(e){var{zIndex:t,isPanorama:r}=e,n=r?"recharts-zindex-panorama-":"recharts-zindex-",a=Y3("".concat(n).concat(t)),s=Bt();return x.useLayoutEffect(()=>(s(Yte({zIndex:t,elementId:a,isPanorama:r})),()=>{s(Wte({zIndex:t,isPanorama:r}))}),[s,t,a,r]),x.createElement("g",{tabIndex:-1,id:a})}function w5(e){var{children:t,isPanorama:r}=e,n=Ee(zte);if(!n||n.length===0)return t;var a=n.filter(l=>l<0),s=n.filter(l=>l>0);return x.createElement(x.Fragment,null,a.map(l=>x.createElement(x5,{key:l,zIndex:l,isPanorama:r})),t,s.map(l=>x.createElement(x5,{key:l,zIndex:l,isPanorama:r})))}var toe=["children"];function roe(e,t){if(e==null)return{};var r,n,a=noe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function noe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function i0(){return i0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i0.apply(null,arguments)}var aoe={width:"100%",height:"100%",display:"block"},ioe=x.forwardRef((e,t)=>{var r=tD(),n=rD(),a=uD();if(!ha(r)||!ha(n))return null;var{children:s,otherAttributes:l,title:u,desc:d}=e,f,m;return l!=null&&(typeof l.tabIndex=="number"?f=l.tabIndex:f=a?0:void 0,typeof l.role=="string"?m=l.role:m=a?"application":void 0),x.createElement(LC,i0({},l,{title:u,desc:d,role:m,tabIndex:f,width:r,height:n,style:aoe,ref:t}),s)}),soe=e=>{var{children:t}=e,r=Ee(V0);if(!r)return null;var{width:n,height:a,y:s,x:l}=r;return x.createElement(LC,{width:n,height:a,x:l,y:s},t)},_5=x.forwardRef((e,t)=>{var{children:r}=e,n=roe(e,toe),a=Tr();return a?x.createElement(soe,null,x.createElement(w5,{isPanorama:!0},r)):x.createElement(ioe,i0({ref:t},n),x.createElement(w5,{isPanorama:!1},r))});function ooe(){var e=Bt(),[t,r]=x.useState(null),n=Ee(lG);return x.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),s=a.width/t.offsetWidth;at(s)&&s!==n&&e(VZ(s))}},[t,e,n]),r}function S5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function loe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S5(Object(r),!0).forEach(function(n){coe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function coe(e,t,r){return(t=uoe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uoe(e){var t=doe(e,"string");return typeof t=="symbol"?t:t+""}function doe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ks(){return Ks=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ks.apply(null,arguments)}var foe=()=>(kre(),null);function s0(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var hoe=x.forwardRef((e,t)=>{var r,n,a=x.useRef(null),[s,l]=x.useState({containerWidth:s0((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:s0((n=e.style)===null||n===void 0?void 0:n.height)}),u=x.useCallback((f,m)=>{l(g=>{var v=Math.round(f),y=Math.round(m);return g.containerWidth===v&&g.containerHeight===y?g:{containerWidth:v,containerHeight:y}})},[]),d=x.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null&&typeof ResizeObserver<"u"){var{width:m,height:g}=f.getBoundingClientRect();u(m,g);var v=_=>{var{width:k,height:S}=_[0].contentRect;u(k,S)},y=new ResizeObserver(v);y.observe(f),a.current=y}},[t,u]);return x.useEffect(()=>()=>{var f=a.current;f?.disconnect()},[u]),x.createElement(x.Fragment,null,x.createElement(K0,{width:s.containerWidth,height:s.containerHeight}),x.createElement("div",Ks({ref:d},e)))}),moe=x.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,s]=x.useState({containerWidth:s0(r),containerHeight:s0(n)}),l=x.useCallback((d,f)=>{s(m=>{var g=Math.round(d),v=Math.round(f);return m.containerWidth===g&&m.containerHeight===v?m:{containerWidth:g,containerHeight:v}})},[]),u=x.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null){var{width:f,height:m}=d.getBoundingClientRect();l(f,m)}},[t,l]);return x.createElement(x.Fragment,null,x.createElement(K0,{width:a.containerWidth,height:a.containerHeight}),x.createElement("div",Ks({ref:u},e)))}),poe=x.forwardRef((e,t)=>{var{width:r,height:n}=e;return x.createElement(x.Fragment,null,x.createElement(K0,{width:r,height:n}),x.createElement("div",Ks({ref:t},e)))}),goe=x.forwardRef((e,t)=>{var{width:r,height:n}=e;return Wa(r)||Wa(n)?x.createElement(moe,Ks({},e,{ref:t})):x.createElement(poe,Ks({},e,{ref:t}))});function voe(e){return e===!0?hoe:goe}var yoe=x.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:s,onContextMenu:l,onDoubleClick:u,onMouseDown:d,onMouseEnter:f,onMouseLeave:m,onMouseMove:g,onMouseUp:v,onTouchEnd:y,onTouchMove:_,onTouchStart:k,style:S,width:j,responsive:N,dispatchTouchEvents:E=!0}=e,C=x.useRef(null),A=Bt(),[T,P]=x.useState(null),[M,R]=x.useState(null),L=ooe(),$=Zx(),q=$?.width>0?$.width:j,V=$?.height>0?$.height:a,Q=x.useCallback(X=>{L(X),typeof t=="function"&&t(X),P(X),R(X),X!=null&&(C.current=X)},[L,t,P,R]),ae=x.useCallback(X=>{A(bM(X)),A(Nn({handler:s,reactEvent:X}))},[A,s]),U=x.useCallback(X=>{A(Wb(X)),A(Nn({handler:f,reactEvent:X}))},[A,f]),Y=x.useCallback(X=>{A(c3()),A(Nn({handler:m,reactEvent:X}))},[A,m]),ee=x.useCallback(X=>{A(Wb(X)),A(Nn({handler:g,reactEvent:X}))},[A,g]),le=x.useCallback(()=>{A(jM())},[A]),ve=x.useCallback(X=>{A(kM(X.key))},[A]),I=x.useCallback(X=>{A(Nn({handler:l,reactEvent:X}))},[A,l]),K=x.useCallback(X=>{A(Nn({handler:u,reactEvent:X}))},[A,u]),W=x.useCallback(X=>{A(Nn({handler:d,reactEvent:X}))},[A,d]),H=x.useCallback(X=>{A(Nn({handler:v,reactEvent:X}))},[A,v]),se=x.useCallback(X=>{A(Nn({handler:k,reactEvent:X}))},[A,k]),ce=x.useCallback(X=>{E&&A(OM(X)),A(Nn({handler:_,reactEvent:X}))},[A,E,_]),re=x.useCallback(X=>{A(Nn({handler:y,reactEvent:X}))},[A,y]),Se=voe(N);return x.createElement(A3.Provider,{value:T},x.createElement(bV.Provider,{value:M},x.createElement(Se,{width:q??S?.width,height:V??S?.height,className:it("recharts-wrapper",n),style:loe({position:"relative",cursor:"default",width:q,height:V},S),onClick:ae,onContextMenu:I,onDoubleClick:K,onFocus:le,onKeyDown:ve,onMouseDown:W,onMouseEnter:U,onMouseLeave:Y,onMouseMove:ee,onMouseUp:H,onTouchEnd:re,onTouchMove:ce,onTouchStart:se,ref:Q},x.createElement(foe,null),r)))}),boe=["width","height","responsive","children","className","style","compact","title","desc"];function xoe(e,t){if(e==null)return{};var r,n,a=woe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function woe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var _oe=x.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:s,className:l,style:u,compact:d,title:f,desc:m}=e,g=xoe(e,boe),v=Gn(g);return d?x.createElement(x.Fragment,null,x.createElement(K0,{width:r,height:n}),x.createElement(_5,{otherAttributes:v,title:f,desc:m},s)):x.createElement(yoe,{className:l,style:u,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},x.createElement(_5,{otherAttributes:v,title:f,desc:m,ref:t},x.createElement(nie,null,s)))});function Xb(){return Xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xb.apply(null,arguments)}var Soe={top:5,right:5,bottom:5,left:5},koe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Soe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},joe=x.forwardRef(function(t,r){var n,a=Kr(t.categoricalChartProps,koe),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,categoricalChartProps:f}=t,m={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return x.createElement(Xse,{preloadedState:{options:m},reduxStoreName:(n=f.id)!==null&&n!==void 0?n:s},x.createElement(Fae,{chartData:f.data}),x.createElement(Qse,{layout:a.layout,margin:a.margin}),x.createElement(eoe,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),x.createElement(_oe,Xb({},a,{ref:r})))}),Eoe=["axis"],Ooe=x.forwardRef((e,t)=>x.createElement(joe,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Eoe,tooltipPayloadSearcher:lre,categoricalChartProps:e,ref:t}));function Noe({dailyLedger:e=[],safetyTargetBottles:t=0,specs:r={}}){const{theme:n}=Xn(),a=n==="dark",s=x.useMemo(()=>{if(!e.length||!r.bottlesPerCase)return[];const g=r.bottlesPerCase*(r.casesPerPallet||1),v=Math.round(t/g);return e.map(y=>{const _=y.balance/g,[k,S,j]=y.dateStr.split("-").map(Number),N=new Date(k,S-1,j);return{date:y.dateStr,displayDate:N.toLocaleDateString("en-US",{month:"numeric",day:"numeric"}),pallets:Math.round(_),safety:v}})},[e,t,r]);if(!s.length)return p.jsx("div",{className:"w-full h-80 flex items-center justify-center bg-gray-50 dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700",children:p.jsx("span",{className:"text-gray-400 font-medium",children:"No projection data available"})});const l=s[0]?.safety||0;Math.max(...s.map(g=>g.pallets),l*1.5);const u=a?"#9CA3AF":"#6B7280",d=a?"#374151":"#E5E7EB",f=a?"#1F2937":"#FFFFFF",m=a?"#F3F4F6":"#111827";return p.jsxs("div",{className:"w-full h-80 bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 flex flex-col transition-all",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4 px-2",children:[p.jsx("h3",{className:"text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"30-Day Inventory Projection"}),p.jsxs("div",{className:"flex items-center space-x-4 text-xs font-medium",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500 mr-1.5"}),p.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Projected Balance"})]}),p.jsxs("div",{className:"flex items-center",children:[p.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500 mr-1.5 opacity-50"}),p.jsxs("span",{className:"text-gray-600 dark:text-gray-300",children:["Safety Target (",l," plts)"]})]})]})]}),p.jsx("div",{className:"flex-1 w-full min-h-[200px]",children:p.jsx(IG,{width:"100%",height:"100%",children:p.jsxs(Ooe,{data:s,margin:{top:10,right:10,left:0,bottom:0},children:[p.jsxs("defs",{children:[p.jsxs("linearGradient",{id:"colorPv",x1:"0",y1:"0",x2:"0",y2:"1",children:[p.jsx("stop",{offset:"5%",stopColor:"#3B82F6",stopOpacity:.3}),p.jsx("stop",{offset:"95%",stopColor:"#3B82F6",stopOpacity:.05})]}),p.jsxs("linearGradient",{id:"colorSafety",x1:"0",y1:"0",x2:"0",y2:"1",children:[p.jsx("stop",{offset:"5%",stopColor:"#EF4444",stopOpacity:.1}),p.jsx("stop",{offset:"95%",stopColor:"#EF4444",stopOpacity:0})]})]}),p.jsx(oM,{strokeDasharray:"3 3",vertical:!1,stroke:d}),p.jsx(vM,{dataKey:"displayDate",tick:{fontSize:11,fill:u},axisLine:!1,tickLine:!1,interval:6}),p.jsx(yM,{tick:{fontSize:11,fill:u},axisLine:!1,tickLine:!1,domain:[0,"auto"]}),p.jsx(Pre,{contentStyle:{backgroundColor:f,borderRadius:"8px",border:a?"1px solid #374151":"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",color:m,padding:"8px 12px"},itemStyle:{fontSize:"12px",fontWeight:600},labelStyle:{color:u,fontSize:"11px",marginBottom:"4px"},formatter:(g,v)=>[`${g} Pallets`,v==="pallets"?"Balance":"Safety"]}),p.jsx(aM,{y:l,stroke:"#EF4444",strokeDasharray:"3 3",strokeOpacity:.6}),p.jsx(pM,{type:"monotone",dataKey:"pallets",stroke:"#3B82F6",strokeWidth:2,fillOpacity:1,fill:"url(#colorPv)",animationDuration:1e3})]})})})]})}const Aoe=ye.memo(Noe);function Toe(){return{solve:(t,r,n,a,s,l,u)=>{if(!t||!t.dailyResults||!a||!n[a])return console.warn("Solver: Missing Data",{currentResults:t,selectedSize:a}),null;const d=n[a],f={...l.monthlyInbound||{}},m=t.dailyResults,g=Hr(),v=u!==void 0?u:s?.leadTimeDays||2,y=sr(g,Math.max(0,v-1));let _=0,k=0;return m.forEach((S,j)=>{const N=S.dateStr,C=S.projectedEndInventory+_;if(N<=y||l.monthlyProductionActuals&&l.monthlyProductionActuals[N])return;const A=S.safetyStockTarget||(r||0)*d.bottlesPerTruck;if(C<A){const T=A-C,P=Math.ceil(T/d.bottlesPerTruck);if(P>0){const M=f[N]||0,R=Number(M)+P;f[N]=R,_+=P*d.bottlesPerTruck,k++}}else if(C>A+d.bottlesPerTruck){let T=Number(f[N]||0);if(T>0){const P=C-A,M=Math.floor(P/d.bottlesPerTruck),R=Math.min(M,T);if(R>0){const L=T-R;f[N]=L,_-=R*d.bottlesPerTruck,k++}}}}),{newInbound:f,updatesCount:k}}}}function Coe({monthlyDemand:e,monthlyProductionActuals:t,monthlyInbound:r,updateDateDemand:n,updateDateActual:a,poManifest:s={},dailyLedger:l=[],specs:u,userProfile:d}){const{saveProcurementEntry:f,deleteProcurementEntry:m}=Jn(),[g,v]=x.useState(()=>{const P=new Date;return P.setDate(P.getDate()-3),P}),[y,_]=x.useState(null),[k,S]=x.useState([]);x.useEffect(()=>{const P=[];for(let M=0;M<30;M++){const R=new Date(g);R.setDate(g.getDate()+M),P.push(R)}S(P)},[g]);const j=P=>{const M=new Date(g);M.setDate(M.getDate()+P),v(M)},N=P=>l.find(M=>M.dateStr===P)||{},E=(P,M,R,L)=>{if(!P&&P!==0)return;let $=Number(P);$>0&&$<1e3&&($*=1e3),Number(M)!==$&&R(L,$)},C=P=>{const M=s[P],R=M?.items?.length>0,L=R?M.items.length:r[P]||0,$=M?.items?.map(q=>q.time).filter(Boolean).sort()||[];return p.jsx("div",{className:`relative h-full w-full flex flex-col justify-center px-1 cursor-pointer transition-colors ${L>0?"bg-blue-50 text-blue-900 dark:bg-blue-900/40 dark:text-blue-200 hover:bg-blue-100 dark:hover:bg-blue-800":"hover:bg-gray-50 dark:hover:bg-gray-800"}`,onClick:()=>_(P),children:L>0?p.jsxs("div",{className:"flex flex-wrap gap-0.5",children:[p.jsxs("span",{className:`flex items-center gap-1 text-[10px] font-bold px-1 rounded-sm shadow-sm ${R?"bg-blue-600 text-white":"bg-blue-100 text-blue-800 border border-blue-200"}`,children:[p.jsx(un,{className:"w-3 h-3"}),L," ",R?"":""]}),R&&$.slice(0,2).map((q,V)=>p.jsx("span",{className:"text-[9px] bg-blue-100 text-blue-800 px-0.5 border border-blue-200 rounded-sm dark:bg-blue-950 dark:text-blue-300 dark:border-blue-800",children:q},V)),$.length>2&&p.jsx("span",{className:"text-[8px] text-blue-400",children:"..."})]}):p.jsx("span",{className:"text-gray-200 text-xs text-center",children:"-"})})},A=P=>{const M=Math.round(P.projectedPallets||0),R=P.daysOfSupply||0;P.safetyStockTarget;let L="bg-emerald-50 text-emerald-900 dark:bg-emerald-900/40 dark:text-emerald-300";return R<2?L="bg-red-50 text-red-900 font-bold dark:bg-red-900/40 dark:text-red-300":R<4&&(L="bg-amber-50 text-amber-900 dark:bg-amber-900/40 dark:text-amber-300"),p.jsxs("div",{className:`h-full w-full flex flex-col justify-center px-1 text-right text-xs ${L}`,children:[p.jsxs("div",{children:[M," ",p.jsx("span",{className:"text-[9px] opacity-60",children:"plts"})]}),p.jsxs("div",{className:"text-[9px] opacity-75",children:[R.toFixed(1)," Days"]})]})},T=ye.useMemo(()=>{if(!u||!u.bottlesPerTruck||!u.bottlesPerCase)return null;let P=0,M=0;const R=u.bottlesPerTruck/u.bottlesPerCase;k.forEach(q=>{const V=vt(q),Q=e[V];Q&&(P+=Number(Q));const ae=s[V],U=ae?.items?.length>0?ae.items.length:r[V]||0;M+=Number(U)});const L=Math.ceil(P/R),$=M-L;return{totalCases:P,trucksRequired:L,totalScheduled:M,gap:$}},[k,e,r,s,u]);return p.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-gray-800 shadow-sm border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden font-sans",children:[T&&p.jsxs("div",{className:"hidden md:flex flex-shrink-0 p-1.5 bg-slate-900 text-white items-center justify-between z-10 font-mono text-xs uppercase tracking-wider border-b border-slate-700",children:[p.jsxs("div",{className:"flex gap-4",children:[p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"text-slate-400 text-[8px]",children:"Total Plan"}),p.jsxs("span",{className:"font-bold text-xs text-blue-200",children:[T.totalCases.toLocaleString()," ",p.jsx("span",{className:"text-[8px] text-slate-500",children:"cs"})]})]}),p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"text-slate-400 text-[8px]",children:"Est. Trucks"}),p.jsxs("span",{className:"font-bold text-xs",children:[T.trucksRequired," ",p.jsx("span",{className:"text-[8px] text-slate-500",children:"trks"})]})]})]}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsxs("div",{className:"flex flex-col text-right",children:[p.jsx("span",{className:"text-slate-400 text-[8px]",children:"Scheduled"}),p.jsx("span",{className:"font-bold text-xs text-emerald-400",children:T.totalScheduled})]}),p.jsxs("div",{className:`flex flex-col items-center justify-center px-2 py-0.5 rounded border ${T.gap<0?"bg-red-500/20 border-red-500 text-red-200":"bg-emerald-500/20 border-emerald-500 text-emerald-200"}`,children:[p.jsx("span",{className:"text-[8px] opacity-75",children:"Gap"}),p.jsxs("span",{className:"font-black text-lg leading-none",children:[T.gap>0?"+":"",T.gap]})]})]})]}),p.jsxs("div",{className:"flex justify-between items-center p-2 border-b bg-gray-50 dark:bg-gray-900",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx($5,{className:"w-4 h-4 text-gray-500"}),p.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-gray-600",children:"Workbench View"})]}),p.jsxs("div",{className:"flex gap-1",children:[p.jsx("button",{onClick:()=>j(-7),className:"p-1 hover:bg-gray-200 rounded",children:p.jsx(Qb,{className:"w-4 h-4"})}),p.jsx("button",{onClick:()=>v(new Date),className:"px-2 text-xs font-medium hover:bg-gray-200 rounded",children:"Today"}),p.jsx("button",{onClick:()=>j(7),className:"p-1 hover:bg-gray-200 rounded",children:p.jsx(ex,{className:"w-4 h-4"})})]})]}),p.jsx("div",{className:"flex-1 overflow-auto relative custom-scrollbar",children:p.jsxs("table",{className:"w-full border-collapse text-xs",children:[p.jsx("thead",{className:"sticky top-0 z-20 shadow-sm",children:p.jsxs("tr",{children:[p.jsx("th",{className:"sticky left-0 z-30 bg-slate-50 dark:bg-gray-800 w-32 border-b border-r border-slate-300 dark:border-gray-700 p-2 text-left font-bold text-slate-700 dark:text-gray-400 shadow-[4px_0_10px_-4px_rgba(0,0,0,0.1)]",children:"Metric"}),k.map(P=>{const M=vt(P),R=vt(new Date),L=M===R,$=P<new Date(new Date().setHours(0,0,0,0)),q=P.getDay()===0||P.getDay()===6;let V="min-w-[80px] p-1 border-b border-r border-slate-200 dark:border-gray-700 text-center font-medium transition-colors ";return L?V+="bg-blue-600 text-white border-blue-600 ring-2 ring-blue-600 ring-inset ring-offset-0 z-20 shadow-md":$?V+="bg-slate-100 dark:bg-gray-900/50 text-slate-400 dark:text-gray-500":q?V+="bg-slate-50 dark:bg-gray-800/50 text-slate-500 dark:text-gray-500":V+="bg-white dark:bg-gray-800 text-slate-800 dark:text-gray-200",p.jsxs("th",{className:V,children:[p.jsx("div",{className:`text-[10px] uppercase ${L?"text-blue-100":"opacity-60"}`,children:L?"TODAY":P.toLocaleDateString("en-US",{weekday:"short"})}),p.jsx("div",{className:L?"font-bold":"",children:P.toLocaleDateString("en-US",{day:"numeric",month:"numeric"})})]},M)})]})}),p.jsxs("tbody",{children:[p.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-gray-800 group",children:[p.jsxs("td",{className:"sticky left-0 z-10 bg-slate-50 dark:bg-gray-800 border-r border-b border-slate-300 dark:border-gray-700 p-2 font-bold text-slate-700 dark:text-gray-300 group-hover:bg-slate-100 dark:group-hover:bg-gray-800 shadow-[4px_0_10px_-4px_rgba(0,0,0,0.1)]",children:["Production Plan",p.jsx("span",{className:"block text-[9px] font-normal text-slate-400 dark:text-gray-500",children:"Cases"})]}),k.map(P=>{const M=vt(P),R=vt(new Date),L=M===R,$=P<new Date(new Date().setHours(0,0,0,0)),q=e[M]||"",V=t[M],Q=V!=null;let ae="border-r border-b border-slate-200 dark:border-gray-700 p-0 h-10 relative ";return L?ae+="bg-blue-50/80 dark:bg-blue-900/20 ring-2 ring-inset ring-blue-500 z-10 ":$?ae+="bg-slate-100 dark:bg-gray-900/40 ":ae+="bg-white dark:bg-gray-800 ",p.jsxs("td",{className:ae,children:[p.jsx("input",{type:"text",className:`w-full h-full text-center border-none focus:ring-0 bg-transparent p-0 text-gray-900 dark:text-gray-100 ${V?"font-bold":""} ${L?"font-bold":""}`,value:q?Number(q).toLocaleString():"",onChange:U=>n(M,U.target.value.replace(/,/g,"")),onBlur:U=>E(U.target.value.replace(/,/g,""),q,n,M),placeholder:"-"}),Q&&p.jsxs("div",{className:"absolute bottom-0 right-0 text-[8px] bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400 px-1 pointer-events-none",title:`Actual: ${V}`,children:["Act: ",V]})]},M)})]}),p.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-gray-800 group",children:[p.jsxs("td",{className:"sticky left-0 z-10 bg-slate-50 dark:bg-gray-800 border-r border-b border-slate-300 dark:border-gray-700 p-2 font-bold text-blue-700 dark:text-blue-400 group-hover:bg-slate-100 dark:group-hover:bg-gray-800 shadow-[4px_0_10px_-4px_rgba(0,0,0,0.1)]",children:["Actual Reconciliation",p.jsx("span",{className:"block text-[9px] font-normal text-slate-400 dark:text-gray-500",children:"Past Dates Only"})]}),k.map(P=>{const M=vt(P),R=vt(new Date),L=M===R,$=P<new Date(new Date().setHours(0,0,0,0)),q=t[M]||"";let V="border-r border-b border-slate-200 dark:border-gray-700 p-0 h-10 relative ";L?V+="bg-blue-50/80 dark:bg-blue-900/20 ring-2 ring-inset ring-blue-500 z-10 ":$?V+="bg-white dark:bg-gray-800 ":V+="bg-slate-50/50 dark:bg-gray-800/50 ";const Q=!$;return p.jsx("td",{className:V,children:Q?p.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-300 dark:text-gray-600 text-[10px] select-none cursor-not-allowed italic",children:"Locked"}):p.jsx("input",{type:"text",className:"w-full h-full text-center border-none focus:ring-0 bg-transparent p-0 font-bold text-blue-700 dark:text-blue-300",value:q?Number(q).toLocaleString():"",onChange:ae=>a(M,ae.target.value.replace(/,/g,"")),onBlur:ae=>E(ae.target.value.replace(/,/g,""),q,a,M),placeholder:"-"})},M)})]}),p.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-gray-800 group",children:[p.jsxs("td",{className:"sticky left-0 z-10 bg-slate-50 dark:bg-gray-800 border-r border-b border-slate-300 dark:border-gray-700 p-2 font-bold text-slate-600 dark:text-gray-400 group-hover:bg-slate-100 dark:group-hover:bg-gray-800 shadow-[4px_0_10px_-4px_rgba(0,0,0,0.1)]",children:["Inbound Trucks",p.jsx("span",{className:"block text-[9px] font-normal text-slate-400 dark:text-gray-500",children:"Click to Manage"})]}),k.map(P=>{const M=vt(P),R=vt(new Date),L=M===R,$=P<new Date(new Date().setHours(0,0,0,0));let q="border-r border-b border-slate-200 dark:border-gray-700 p-0 h-12 align-middle ";return L?q+="bg-blue-50/80 dark:bg-blue-900/20 ring-2 ring-inset ring-blue-500 z-10 ":$?q+="bg-slate-100 dark:bg-gray-900/40 ":q+="bg-white dark:bg-gray-800 ",p.jsx("td",{className:q,children:C(M)},M)})]}),p.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-gray-800 group",children:[p.jsxs("td",{className:"sticky left-0 z-10 bg-slate-50 dark:bg-gray-800 border-r border-b border-slate-300 dark:border-gray-700 p-2 font-bold text-slate-600 dark:text-gray-400 group-hover:bg-slate-100 dark:group-hover:bg-gray-800 shadow-[4px_0_10px_-4px_rgba(0,0,0,0.1)]",children:["Projected End",p.jsx("span",{className:"block text-[9px] font-normal text-slate-400 dark:text-gray-500",children:"Pallets & DOS"})]}),k.map(P=>{const M=vt(P),R=vt(new Date),L=M===R,$=P<new Date(new Date().setHours(0,0,0,0)),q=N(M);let V="border-r border-b border-slate-200 dark:border-gray-700 p-0 h-12 align-middle ";return L?V+="bg-blue-50/80 dark:bg-blue-900/20 ring-2 ring-inset ring-blue-500 z-10 ":$?V+="bg-slate-100 dark:bg-gray-900/40 ":V+="bg-white dark:bg-gray-800 ",p.jsx("td",{className:V,children:A(q)},M)})]})]})]})}),y&&p.jsx(DC,{isOpen:!!y,onClose:()=>_(null),date:y,monthlyInbound:r,specs:u,orders:s[y]?.items||[],onSave:f,onDelete:m})]})}function Poe({state:e,setters:t,results:r,readOnly:n=!1}){const{leadTimeDays:a,safetyStockLoads:s,schedulerSettings:l}=Xn(),{productMap:u}=ur(),{user:d}=wr(),{solve:f}=Toe(),m=r?.poManifest||{},[g,v]=x.useState(()=>{const me=new Date;return me.setDate(me.getDate()-3),me}),y=me=>{v(je=>{const fe=new Date(je);return fe.setDate(fe.getDate()+me),fe})},_=()=>{const me=new Date;me.setDate(me.getDate()-3),v(me)},[k,S]=x.useState(!1),j=()=>{const me=vt(new Date);let je=`Monthly Replenishment Plan - Generated ${new Date().toLocaleDateString()}
`;je+=`--------------------------------------------------

`;const fe=r.specs?.productionRate||0,he=r.specs?.casesPerTruck||(r.specs?.bottlesPerTruck||2e4)/(r.specs?.bottlesPerCase||1),[pe,ge]=(l?.shiftStartTime||"00:00").split(":").map(Number),Pe=pe+ge/60;for(let dt=0;dt<30;dt++){const Sr=sr(me,dt),fr=Math.round(Number(e.monthlyInbound[Sr]||0));if(fr>0){const[Gr,mn,Qn]=Sr.split("-").map(Number),Pr=new Date(Gr,mn-1,Qn);if(je+=`DATE: ${Pr.toLocaleDateString(void 0,{weekday:"short",month:"numeric",day:"numeric",year:"numeric"})}
`,je+=`TRUCKS: ${fr}
`,fe>0){const Ke=he/fe;for(let pn=0;pn<fr;pn++){const ot=Pe+pn*Ke,bt=Math.round(ot%24)%24,At=Math.round(ot%1*60),Qi=`${bt}:${At.toString().padStart(2,"0")}`;je+=`  - Truck ${pn+1}: Arrive approx ${Qi}
`}}je+=`
`}}navigator.clipboard.writeText(je).then(()=>{S(!0),setTimeout(()=>S(!1),2e3),alert("Copied 30-Day Plan to Clipboard!")})},N=e.selectedSize?u[e.selectedSize]:null,E=N?.leadTimeDays!==void 0&&N?.leadTimeDays!==null?N.leadTimeDays:a||2,C=N?.safetyStockLoads!==void 0&&N?.safetyStockLoads!==null?Number(N.safetyStockLoads):s||6,A=()=>{if(!confirm(`Auto-Balance will populate Planned Loads to ensure safety stock is met.

Settings:
 - Lead Time: ${E} days
 - Safety Stock: ${C} loads

Proceed?`))return;const{newInbound:me,updatesCount:je}=f(r,C,u,e.selectedSize,l,e,E)||{};je>0?t.setMonthlyInbound(me):alert("Schedule is already balanced! No changes needed.")},[T,P]=x.useState(!1),[M,R]=x.useState(!1),[L,$]=x.useState(!1),[q,V]=x.useState(!1),[Q,ae]=x.useState(!1),[U,Y]=x.useState(!1),[ee,le]=x.useState("grid"),[ve,I]=x.useState(!1);if(!r)return p.jsx("div",{children:"Loading..."});const{netInventory:K,safetyTarget:W,trucksToOrder:H,trucksToCancel:se,specs:ce,yardInventory:re}=r;e.totalScheduledCases*ce.bottlesPerCase;const Se=me=>me?me.toLocaleString():"0",X=()=>{const me=ce.bottlesPerTruck/ce.bottlesPerCase/(ce.casesPerPallet||1),je=Math.round(r.calculatedPallets+r.yardInventory.effectiveCount*me),fe=r.daysOfSupply!==void 0?r.daysOfSupply:0,he=E!==void 0?Number(E):a||2,pe=he+2;let ge="Healthy",Pe="bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 shadow-sm border-l-4 border-l-emerald-500",dt="text-emerald-600 dark:text-emerald-400";fe<=he?(ge="CRITICAL",Pe="bg-red-50 border-red-200 border-l-4 border-l-red-500 animate-pulse",dt="text-red-700"):fe<=pe&&(ge="Warning",Pe="bg-amber-50 border-amber-200 border-l-4 border-l-amber-500",dt="text-amber-700");const Sr=Ke=>{const[pn,ot,bt]=Ke.split("-").map(Number);return new Date(pn,ot-1,bt)},fr=r.firstStockoutDate?Sr(r.firstStockoutDate):null;let Gr="Stable";if(fr){const Ke=new Date;Ke.setHours(0,0,0,0),fr<=Ke?Gr="NOW":Gr=fr.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}const mn=new Date().setHours(0,0,0,0),Qn=Object.entries(r.plannedOrders||{}).filter(([Ke])=>new Date(Ke).setHours(0,0,0,0)<=mn).reduce((Ke,[pn,ot])=>Ke+ot.count,0),Pr=e.isAutoReplenish?Qn:r.trucksToOrder;return p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-2",children:[p.jsxs("div",{className:`p-3 rounded-lg border ${Pe} flex flex-col justify-between shadow-sm`,children:[p.jsxs("div",{className:"flex justify-between items-center mb-1",children:[p.jsxs("div",{className:"flex items-center gap-1.5",children:[p.jsx("h3",{className:"text-[10px] font-bold uppercase tracking-wider opacity-70 text-gray-500 dark:text-gray-400",children:"Coverage Health"}),p.jsx(Cg,{className:"w-3.5 h-3.5 text-gray-400 cursor-help",title:"Status of inventory relative to Lead Time. if (Days < Lead Time) => Critical."})]}),ge==="CRITICAL"&&p.jsx("span",{className:"text-lg",children:""}),ge==="Healthy"&&p.jsx(oa,{className:"w-5 h-5 text-emerald-500"})]}),p.jsxs("div",{children:[p.jsx("div",{className:`text-2xl font-black tracking-tight ${dt} leading-none`,children:ge}),p.jsx("div",{className:"text-xs font-medium opacity-80 mt-1 dark:text-gray-300",children:ge==="CRITICAL"?Gr==="NOW"?"Stockout Computed":`Empty by ${Gr}`:ge==="Warning"?"Approaching Safety Stock Limit":"Inventory Levels Optimal"})]})]}),p.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm flex flex-col justify-between",children:[p.jsxs("div",{className:"flex justify-between items-center mb-1",children:[p.jsxs("div",{className:"flex items-center gap-1.5",children:[p.jsx("h3",{className:"text-[10px] font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Days of Supply"}),p.jsx(Cg,{className:"w-3.5 h-3.5 text-gray-400 cursor-help",title:"Total Inventory (Floor + Yard) divided by Daily Production Rate."})]}),p.jsxs("div",{className:"text-[10px] font-bold text-gray-500 bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded",title:"Target Pallets = Safety Stock Loads * Pallets/Truck",children:["Target: ",W?Math.round(W/(ce.bottlesPerCase*(ce.casesPerPallet||1))):"-"," plts"]})]}),p.jsxs("div",{className:"flex items-end space-x-2",children:[p.jsx("div",{className:"text-3xl font-mono font-bold text-gray-800 dark:text-white leading-none",children:fe>=30?"30+":fe.toFixed(1)}),p.jsx("div",{className:"text-xs font-medium text-gray-400 mb-0.5",children:"Days"})]}),p.jsxs("div",{className:"mt-2 text-[10px] font-medium text-gray-500 flex justify-between items-center border-t pt-1 dark:border-gray-700",children:[p.jsx("span",{title:"Physically present inventory",children:"Current On-Hand"}),p.jsxs("span",{className:"font-bold text-gray-700 dark:text-gray-300",children:[Se(je)," Pallets"]})]})]}),p.jsxs("div",{className:`p-3 rounded-lg border flex flex-col justify-between shadow-sm transition-all ${Pr>0?"bg-blue-600 border-blue-700 text-white":r.trucksToCancel>0?"bg-orange-100 border-orange-200 text-orange-900 dark:bg-orange-900/40 dark:border-orange-800 dark:text-orange-200":ge==="CRITICAL"?"bg-red-50 border-red-200":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700"}`,children:[p.jsxs("div",{className:"flex justify-between items-center mb-1",children:[p.jsxs("div",{className:"flex items-center gap-1.5",children:[p.jsx("h3",{className:`text-[10px] font-bold uppercase tracking-wider ${Pr>0?"text-blue-100":"text-gray-500 dark:text-gray-400"}`,children:"Replenishment"}),p.jsx(Cg,{className:`w-3.5 h-3.5 cursor-help ${Pr>0?"text-blue-200":"text-gray-400"}`,title:"Orders required TODAY to restore Safety Stock."})]}),Pr>0&&p.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full animate-ping"}),r.trucksToCancel>0&&!Pr&&p.jsx("span",{className:"text-lg",children:""})]}),Pr>0?p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-baseline space-x-2",children:[p.jsx("span",{className:"text-3xl font-black leading-none",children:Pr}),p.jsx("span",{className:"text-xs font-bold opacity-90",children:"Trucks Needed"})]}),p.jsx("p",{className:"text-[10px] opacity-80 mt-1 font-medium leading-tight",children:e.isAutoReplenish?"Planned orders due today.":"Deficit based on target."})]}):r.trucksToCancel>0?p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-baseline space-x-2",children:[p.jsx("span",{className:"text-3xl font-black leading-none",children:r.trucksToCancel}),p.jsx("span",{className:"text-xs font-bold opacity-90",children:"Cancel Trucks"})]}),p.jsx("p",{className:"text-[10px] opacity-80 mt-1 font-medium leading-tight",children:"Excess inventory confirmed."})]}):p.jsxs("div",{children:[p.jsx("div",{className:"flex items-baseline space-x-2",children:ge==="CRITICAL"?p.jsx("span",{className:"text-2xl font-bold leading-none text-red-600",children:"Expedite!"}):p.jsx("span",{className:"text-2xl font-bold leading-none text-gray-800 dark:text-white",children:"Standby"})}),p.jsx("p",{className:"text-[10px] text-gray-500 mt-1 leading-tight",children:ge==="CRITICAL"?"Stockout imminent. Review.":"No immediate orders due."})]})]})]})};return p.jsxs("div",{className:"max-w-full mx-auto pb-12",children:[X(),p.jsxs("div",{className:"flex flex-col space-y-6",children:[p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 flex flex-col overflow-hidden",children:[p.jsxs("div",{className:"px-5 py-3 border-b border-gray-200 dark:border-gray-700 flex flex-col lg:flex-row justify-between items-center bg-gray-50 dark:bg-gray-900/50 gap-4",children:[p.jsxs("div",{className:"flex items-center gap-4 w-full lg:w-auto",children:[p.jsxs("div",{className:"flex bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-0.5",children:[p.jsx("button",{onClick:()=>y(-7),className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md text-gray-500 transition-colors",title:"Previous Week",children:p.jsx(Qb,{className:"w-4 h-4"})}),p.jsx("button",{onClick:_,className:"px-3 py-1 text-xs font-bold text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 border-x border-gray-100 dark:border-gray-700 mx-0.5 transition-colors",children:"Today"}),p.jsx("button",{onClick:()=>y(7),className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md text-gray-500 transition-colors",title:"Next Week",children:p.jsx(ex,{className:"w-4 h-4"})})]}),p.jsxs("span",{className:"text-xs font-medium text-gray-400 hidden sm:block",children:[g.toLocaleDateString("en-US",{month:"short",day:"numeric"})," - ",sr(vt(g),6).split("-").slice(1).join("/")]})]}),p.jsxs("div",{className:"flex flex-wrap items-center gap-3 w-full lg:w-auto justify-end",children:[p.jsxs("div",{className:"flex items-center gap-1 bg-white dark:bg-gray-700 p-1 rounded-lg border border-gray-200 dark:border-gray-600 shadow-sm",children:[!n&&p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:()=>{confirm(`Force Cloud Sync?

This will clear your local cache and reload the latest data from the server.
Any unsaved local drafts might be lost.`)&&(Object.keys(localStorage).forEach(me=>{me.startsWith("mrp_")&&localStorage.removeItem(me)}),window.location.reload())},className:"p-1.5 text-gray-500 hover:text-sky-500 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-md transition-colors",title:"Force Cloud Sync (Clear Cache)",children:p.jsx(_6,{className:"w-5 h-5"})}),p.jsx("div",{className:"w-px h-4 bg-gray-300 dark:bg-gray-600 mx-1"}),p.jsx("button",{onClick:()=>I(!0),className:"p-1.5 text-gray-500 hover:text-orange-500 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-md transition-colors",title:"Morning True-Up",children:p.jsx(R5,{className:"w-5 h-5"})}),p.jsx("button",{onClick:()=>$(!0),className:"p-1.5 text-gray-500 hover:text-emerald-500 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-md transition-colors",title:"Import Inbound",children:p.jsx(Jb,{className:"w-5 h-5"})}),p.jsx("button",{onClick:()=>Y(!0),className:"p-1.5 text-gray-500 hover:text-purple-500 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-md transition-colors",title:"Manage POs",children:p.jsx(u2,{className:"w-5 h-5"})})]}),p.jsx("button",{onClick:()=>V(!0),className:"p-1.5 text-gray-500 hover:text-blue-500 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-md transition-colors",title:"Email Suppliers",children:p.jsx(P5,{className:"w-5 h-5"})})]}),!n&&!e.isAutoReplenish&&p.jsxs("button",{onClick:A,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-bold text-white bg-indigo-600 hover:bg-indigo-700 rounded-lg shadow-sm transition-all",title:"Manually calculate replenishment (Not needed in Auto-Pilot)",children:[p.jsx(T5,{className:"w-3.5 h-3.5"}),p.jsx("span",{className:"hidden sm:inline",children:"Auto-Balance"})]}),p.jsx("div",{className:"h-6 w-px bg-gray-300 dark:bg-gray-600 hidden md:block mx-1"}),p.jsxs("div",{className:"flex bg-white dark:bg-gray-700 p-1 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600",children:[p.jsx("button",{onClick:()=>le("grid"),className:`px-2.5 py-1.5 rounded-md text-xs font-bold transition-all ${ee==="grid"?"bg-blue-50 text-blue-700 dark:bg-slate-600 dark:text-blue-300 shadow-sm":"text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"Grid"}),p.jsx("button",{onClick:()=>le("workbench"),className:`px-2.5 py-1.5 rounded-md text-xs font-bold transition-all ${ee==="workbench"?"bg-blue-50 text-blue-700 dark:bg-slate-600 dark:text-blue-300 shadow-sm":"text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"Work"}),p.jsx("button",{onClick:()=>le("calendar"),className:`px-2.5 py-1.5 rounded-md text-xs font-bold transition-all ${ee==="calendar"?"bg-blue-50 text-blue-700 dark:bg-slate-600 dark:text-blue-300 shadow-sm":"text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"Cal"})]}),!n&&p.jsx("label",{className:"flex items-center cursor-pointer group",title:"Auto-Pilot Mode",children:p.jsxs("div",{className:"relative",children:[p.jsx("input",{type:"checkbox",className:"sr-only",checked:e.isAutoReplenish||!1,onChange:me=>t.setIsAutoReplenish(me.target.checked)}),p.jsx("div",{className:`block w-7 h-4 rounded-full transition-colors ${e.isAutoReplenish?"bg-purple-600":"bg-gray-300 dark:bg-gray-600"}`}),p.jsx("div",{className:`dot absolute left-1 top-1 bg-white w-2 h-2 rounded-full transition-transform ${e.isAutoReplenish?"transform translate-x-3":""}`})]})}),p.jsx("button",{onClick:j,className:`p-1.5 rounded-lg border transition-all ${k?"bg-green-50 border-green-200 text-green-600":"bg-white dark:bg-gray-700 border-gray-200 dark:border-gray-600 text-gray-500 hover:text-gray-700"}`,title:"Export 30-Day Plan",children:k?p.jsx(oa,{className:"w-5 h-5"}):p.jsx(u2,{className:"w-5 h-5"})})]})]}),p.jsx("div",{className:"flex-1 overflow-hidden relative bg-slate-200 dark:bg-slate-900 rounded-xl shadow-lg border border-slate-300 dark:border-slate-800",children:ee==="calendar"?p.jsx("div",{className:"h-full p-4 overflow-auto",children:p.jsx(IB,{monthlyDemand:e.monthlyDemand||{},updateDateDemand:t.updateDateDemand,updateDateDemandBulk:t.updateDateDemandBulk,monthlyInbound:e.monthlyInbound||{},updateDateInbound:t.updateDateInbound,monthlyProductionActuals:e.monthlyProductionActuals||{},updateDateActual:t.updateDateActual,specs:r?.specs,trucksToCancel:r?.trucksToCancel,dailyLedger:r?.dailyLedger,safetyTarget:r?.safetyTarget,poManifest:m,readOnly:n})}):ee==="workbench"?p.jsx(Coe,{monthlyDemand:e.monthlyDemand||{},updateDateDemand:t.updateDateDemand,monthlyInbound:e.monthlyInbound||{},monthlyProductionActuals:e.monthlyProductionActuals||{},updateDateActual:t.updateDateActual,specs:r?.specs,dailyLedger:r?.dailyLedger,userProfile:d,startDate:g,readOnly:n}):p.jsx(tV,{monthlyDemand:e.monthlyDemand||{},updateDateDemand:t.updateDateDemand,updateDateDemandBulk:t.updateDateDemandBulk,monthlyInbound:e.monthlyInbound||{},updateDateInbound:t.updateDateInbound,monthlyProductionActuals:e.monthlyProductionActuals||{},updateDateActual:t.updateDateActual,specs:r?.specs,safetyTarget:r?.safetyTarget,dailyLedger:r?.dailyLedger,userProfile:d,startDate:g,readOnly:n})})]}),p.jsx("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:p.jsx(Aoe,{dailyLedger:r.dailyLedger,safetyTargetBottles:r.safetyTarget,specs:r.specs})})]}),p.jsx(MC,{isOpen:ve,onClose:()=>I(!1),state:e,setters:t}),p.jsx(nV,{isOpen:L,onClose:()=>$(!1)}),p.jsx(aV,{isOpen:q,onClose:()=>V(!1),mrpResults:r}),p.jsx(iV,{isOpen:Q,onClose:()=>ae(!1)}),p.jsx(oV,{isOpen:U,onClose:()=>Y(!1)})]})}var th={exports:{}},Doe=th.exports,k5;function Moe(){return k5||(k5=1,(function(e,t){(function(r,n){n()})(Doe,function(){function r(f,m){return typeof m>"u"?m={autoBom:!1}:typeof m!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),m={autoBom:!m}),m.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(f.type)?new Blob(["\uFEFF",f],{type:f.type}):f}function n(f,m,g){var v=new XMLHttpRequest;v.open("GET",f),v.responseType="blob",v.onload=function(){d(v.response,m,g)},v.onerror=function(){console.error("could not download file")},v.send()}function a(f){var m=new XMLHttpRequest;m.open("HEAD",f,!1);try{m.send()}catch{}return 200<=m.status&&299>=m.status}function s(f){try{f.dispatchEvent(new MouseEvent("click"))}catch{var m=document.createEvent("MouseEvents");m.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),f.dispatchEvent(m)}}var l=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof cf=="object"&&cf.global===cf?cf:void 0,u=l.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),d=l.saveAs||(typeof window!="object"||window!==l?function(){}:"download"in HTMLAnchorElement.prototype&&!u?function(f,m,g){var v=l.URL||l.webkitURL,y=document.createElement("a");m=m||f.name||"download",y.download=m,y.rel="noopener",typeof f=="string"?(y.href=f,y.origin===location.origin?s(y):a(y.href)?n(f,m,g):s(y,y.target="_blank")):(y.href=v.createObjectURL(f),setTimeout(function(){v.revokeObjectURL(y.href)},4e4),setTimeout(function(){s(y)},0))}:"msSaveOrOpenBlob"in navigator?function(f,m,g){if(m=m||f.name||"download",typeof f!="string")navigator.msSaveOrOpenBlob(r(f,g),m);else if(a(f))n(f,m,g);else{var v=document.createElement("a");v.href=f,v.target="_blank",setTimeout(function(){s(v)})}}:function(f,m,g,v){if(v=v||open("","_blank"),v&&(v.document.title=v.document.body.innerText="downloading..."),typeof f=="string")return n(f,m,g);var y=f.type==="application/octet-stream",_=/constructor/i.test(l.HTMLElement)||l.safari,k=/CriOS\/[\d]+/.test(navigator.userAgent);if((k||y&&_||u)&&typeof FileReader<"u"){var S=new FileReader;S.onloadend=function(){var E=S.result;E=k?E:E.replace(/^data:[^;]*;/,"data:attachment/file;"),v?v.location.href=E:location=E,v=null},S.readAsDataURL(f)}else{var j=l.URL||l.webkitURL,N=j.createObjectURL(f);v?v.location=N:location.href=N,v=null,setTimeout(function(){j.revokeObjectURL(N)},4e4)}});l.saveAs=d.saveAs=d,e.exports=d})})(th)),th.exports}var Roe=Moe();function $oe({schedule:e,truckSchedule:t,onUpdatePO:r,onDelete:n,specs:a,readOnly:s=!1}){const l=(f,m)=>{if(!m||m===0)return[];let g=0;f.includes("08:00-16:00")?g=8:f.includes("16:00-00:00")?g=16:g=0;const y=8/m,_=[];for(let k=0;k<m;k++){const j=(g+y*k)%24,N=Math.round(j),C=(N===24?0:N).toString().padStart(2,"0");_.push(`${C}:00`)}return _},u=()=>!t||t.length===0?[]:t.map(f=>{const m=a?a.name:"Unknown",g=a?a.palletsPerTruck:0,[v]=f.time.split(":").map(Number);let y="Unknown";return v>=0&&v<8?y="Shift 1":v>=8&&v<16?y="Shift 2":y="Shift 3",{LoadID:f.id,Time:f.time,Shift:y,PO:f.po||"",BottleSize:m,Pallets:g}}),d=()=>{try{const f=u();if(!f||f.length===0){alert("No schedule to export.");return}let g="\uFEFF"+["Load ID","Delivery Time","Shift","PO Number","Bottle Size","Pallets"].join(",")+`
`;f.forEach(k=>{const S=String(k.PO||"").replace(/"/g,'""');g+=[k.LoadID,k.Time,k.Shift,`"${S}"`,k.BottleSize,k.Pallets].join(",")+`
`});const y=new Date().toISOString().slice(0,10),_=new Blob([g],{type:"text/csv;charset=utf-8"});Roe.saveAs(_,`Schedule_${y}.csv`)}catch(f){console.error(f),alert("Export failed")}};return p.jsxs("div",{className:"space-y-8",children:[p.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[p.jsxs("div",{children:[p.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[p.jsx(un,{className:"w-6 h-6 text-indigo-500"}),"Live Dock Schedule"]}),p.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[t.length," Loads Scheduled  Auto-optimized intervals"]})]}),p.jsxs("button",{onClick:d,className:"flex items-center space-x-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 px-4 py-2 rounded-lg font-bold hover:bg-indigo-100 transition-colors",children:[p.jsx(Jb,{className:"w-5 h-5"}),p.jsx("span",{children:"Export CSV"})]})]}),t&&t.length>0?p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map((f,m)=>{const g=f.po&&f.po.length>0;return p.jsxs("div",{className:`
                                    relative flex flex-col justify-between
                                    bg-white dark:bg-slate-800 
                                    rounded-2xl shadow-sm hover:shadow-md transition-shadow 
                                    border border-slate-200 dark:border-slate-700
                                    overflow-hidden group
                                `,children:[p.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1.5 ${g?"bg-emerald-500":"bg-amber-400"}`}),p.jsxs("div",{className:"p-5 pl-7",children:[" ",p.jsxs("div",{className:"flex justify-between items-start mb-4",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:`p-2 rounded-lg ${g?"bg-emerald-50 text-emerald-600 dark:bg-emerald-900/20":"bg-slate-100 text-slate-500 dark:bg-slate-700"}`,children:p.jsx(o0,{className:"w-6 h-6"})}),p.jsxs("div",{children:[p.jsx("div",{className:"text-xs font-bold uppercase text-slate-400",children:"Arrival"}),p.jsx("div",{className:"text-2xl font-black text-slate-800 dark:text-white leading-none",children:f.time})]})]}),p.jsxs("span",{className:"text-xs font-bold text-slate-300",children:["#",m+1]})]}),p.jsxs("div",{className:"mt-2",children:[p.jsxs("label",{className:"flex items-center gap-1 text-[10px] font-bold uppercase text-slate-500 mb-1",children:[p.jsx(A6,{className:"w-3 h-3"}),"Purchase Order"]}),p.jsx("input",{type:"text",placeholder:s?"Registered Only":"Enter PO...",value:f.po||"",disabled:s,onChange:v=>r(f.id,v.target.value),className:`
                                                w-full p-2 rounded-lg text-sm font-bold border transition-colors
                                                focus:ring-2 focus:ring-offset-0 outline-none
                                                ${s?"opacity-60 cursor-not-allowed bg-gray-100":""}
                                                ${g?"bg-emerald-50 border-emerald-200 text-emerald-700 focus:ring-emerald-500 dark:bg-emerald-900/10 dark:border-emerald-800 dark:text-emerald-400":"bg-slate-50 border-slate-200 text-slate-800 focus:ring-indigo-500 dark:bg-slate-900/50 dark:border-slate-600 dark:text-white"}
                                            `})]})]}),p.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 p-3 pl-7 border-t border-slate-100 dark:border-slate-700 flex justify-between items-center",children:[p.jsx("div",{className:"text-xs font-medium text-slate-400",children:g?"Confirmed":"Awaiting PO"}),!s&&p.jsx("button",{onClick:()=>n(f.id),className:"text-slate-400 hover:text-rose-500 transition-colors p-1",title:"Delete Load",children:p.jsx(da,{className:"w-5 h-5"})})]})]},f.id)})}):p.jsxs("div",{className:"text-center py-20 bg-slate-50 dark:bg-slate-800/50 rounded-xl border-2 border-dashed border-slate-200 dark:border-slate-700",children:[p.jsx(un,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),p.jsx("h3",{className:"text-lg font-bold text-slate-500",children:"No Loads Scheduled"}),p.jsx("p",{className:"text-slate-400 text-sm",children:"Use the settings above to generate a schedule."})]}),p.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:[p.jsx("div",{className:"px-6 py-4 border-b border-slate-100 dark:border-slate-700 bg-slate-50 dark:bg-slate-800/80",children:p.jsx("h3",{className:"font-bold text-slate-700 dark:text-slate-200 text-sm uppercase tracking-wide",children:"Shift Distribution Check"})}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"min-w-full divide-y divide-slate-100 dark:divide-slate-700",children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-slate-400 uppercase",children:"Shift"}),p.jsx("th",{className:"px-6 py-3 text-center text-xs font-bold text-slate-400 uppercase",children:"Loads"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-slate-400 uppercase",children:"Timeline"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:e.map((f,m)=>p.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-slate-700 dark:text-slate-200",children:f.name}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:p.jsx("span",{className:"inline-flex items-center justify-center px-2.5 py-0.5 rounded-full text-xs font-bold bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-300",children:f.loads})}),p.jsx("td",{className:"px-6 py-4",children:p.jsxs("div",{className:"flex flex-wrap gap-2",children:[l(f.name,f.loads).map((g,v)=>p.jsx("span",{className:"bg-white border border-slate-200 dark:bg-slate-900 dark:border-slate-600 text-slate-600 dark:text-slate-400 px-2 py-1 rounded text-xs font-mono",children:g},v)),f.loads===0&&p.jsx("span",{className:"text-slate-300 text-xs italic",children:"Empty"})]})})]},m))})]})})]})]})}function Loe({state:e,setters:t,results:r,readOnly:n=!1}){const{productMap:a}=ur(),s=Object.keys(a);if(!r)return p.jsx("div",{children:"Loading..."});const{requiredDailyLoads:l,weeklyLoads:u,schedule:d}=r;return p.jsxs("div",{className:"space-y-8",children:[p.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md transition-colors",children:[p.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white mb-6 border-b dark:border-gray-700 pb-2",children:" Logistics Settings"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 items-end",children:[p.jsxs("div",{className:"col-span-1",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Bottle Size Reference"}),p.jsx("select",{value:e.selectedSize,disabled:n,onChange:f=>t.setSelectedSize(f.target.value),className:"block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-900 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500 py-2 disabled:opacity-50 disabled:cursor-not-allowed",children:s.map(f=>p.jsx("option",{value:f,children:f},f))})]}),p.jsxs("div",{className:"col-span-2",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Target Daily Production (Cases)"}),p.jsxs("div",{className:"relative rounded-md shadow-sm",children:[p.jsx("input",{type:"number",inputMode:"numeric",pattern:"[0-9]*",min:"0",disabled:n,value:e.targetDailyProduction||"",onChange:f=>t.setTargetDailyProduction(f.target.value),className:"block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-900 dark:text-white focus:border-blue-500 focus:ring-blue-500 text-2xl p-2 pl-4 disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"60000"}),p.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:p.jsx("span",{className:"text-gray-500 sm:text-sm",children:"cases/day"})})]})]})]}),p.jsxs("div",{className:"col-span-1 mt-6",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Production Start Time"}),p.jsx("input",{type:"time",value:e.shiftStartTime,disabled:n,onChange:f=>t.setShiftStartTime(f.target.value),className:"block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-900 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500 py-2 px-3 disabled:opacity-50 disabled:cursor-not-allowed"})]})]}),p.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4 border-t dark:border-gray-700 pt-6",children:[p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-3 rounded border border-gray-200 dark:border-gray-700",children:[p.jsx("span",{className:"block text-xs text-gray-500 dark:text-gray-400 uppercase font-bold",children:"Production Burn Rate"}),p.jsxs("span",{className:"block text-xl font-bold text-gray-800 dark:text-white",children:[Math.round(r.burnRate).toLocaleString()," cases/hr"]})]}),p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-3 rounded border border-gray-200 dark:border-gray-700",children:[p.jsx("span",{className:"block text-xs text-gray-500 dark:text-gray-400 uppercase font-bold",children:"Truck Interval"}),p.jsxs("span",{className:"block text-xl font-bold text-indigo-600 dark:text-indigo-400",children:["Every ",Math.floor(r.hoursPerTruck),"h ",Math.round(r.hoursPerTruck%1*60),"m"]})]}),p.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/30 p-3 rounded border border-blue-100 dark:border-blue-800 flex flex-col justify-center",children:[p.jsx("span",{className:"text-sm font-medium text-blue-800 dark:text-blue-200 uppercase",children:"Daily Truck Requirement"}),p.jsx("span",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:r.requiredDailyLoads})]})]}),p.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-4 rounded-md flex justify-between items-center text-sm text-gray-600 dark:text-gray-400 border border-gray-100 dark:border-gray-700",children:[p.jsxs("span",{children:["Total Weekly Volume: ",p.jsxs("strong",{className:"text-gray-900 dark:text-white",children:[u.toLocaleString()," Loads"]})]}),p.jsx("span",{children:"Based on 24/7 Production schedule"})]}),p.jsx($oe,{schedule:r.schedule,truckSchedule:r.truckSchedule,onUpdatePO:t.updatePO,onDelete:t.toggleCancelled,specs:r.specs,readOnly:n})]})]})}const AM=(e,t)=>`mrp_${t}_${e}`,gr=(e,t,r,n=!1)=>{const a=AM(e,r),s=`mrp_${e}`;let l=localStorage.getItem(a);if(l===null&&r==="20oz"&&(l=localStorage.getItem(s)),l===null)return t;if(n)try{return JSON.parse(l)||t}catch{return t}return l},On=(e,t,r,n=!1)=>{const a=AM(e,r),s=n?JSON.stringify(t):t;localStorage.setItem(a,s)};function Ioe(){const{productMap:e}=ur(),t=Object.keys(e),{user:r}=wr(),{fetchMRPState:n,migrateLocalStorage:a}=_l(),[s,l]=x.useState(()=>localStorage.getItem("mrp_selectedSize")||"20oz"),[u,d]=x.useState(()=>gr("monthlyDemand",{},s,!0)),[f,m]=x.useState(()=>gr("monthlyProductionActuals",{},s,!0)),[g,v]=x.useState(()=>gr("monthlyInbound",{},s,!0)),[y,_]=x.useState(()=>gr("truckManifest",{},s,!0)),[k,S]=x.useState(()=>Number(gr("downtimeHours",0,s))),[j,N]=x.useState(()=>Number(gr("currentInventoryPallets",0,s))),[E,C]=x.useState(()=>gr("inventoryAnchor",{date:Hr(),count:0},s,!0)),[A,T]=x.useState(()=>gr("yardInventory",{count:0,date:null,fileName:null},s,!0)),[P,M]=x.useState(()=>r?!0:gr("isAutoReplenish",!0,s,!0)),[R,L]=x.useState(null),[$,q]=x.useState(0);return x.useEffect(()=>()=>{},[r]),x.useEffect(()=>{console.log("Flux: SKU Changed to:",s),localStorage.setItem("mrp_selectedSize",s),r?(async()=>{console.log("Flux: Fetching Cloud Data for",s);try{const Q=await n(r.id,s);if(console.log("Flux: Cloud Data Result:",Q?"Found":"Null",Q),Q)L(Q.product),d(Q.monthlyDemand||{}),m(Q.monthlyProductionActuals||{}),v(Q.monthlyInbound||{}),_(Q.truckManifest||{}),S(Q.downtimeHours||0),M(Q.isAutoReplenish),Q.inventoryAnchor?C(ae=>ae?.date&&Q.inventoryAnchor?.date&&new Date(ae.date)>=new Date(Q.inventoryAnchor.date)?ae:Q.inventoryAnchor||ae):C({date:Hr(),count:0}),Q.yardInventory?T(ae=>ae?.date&&Q.yardInventory.date&&new Date(ae.date)>=new Date(Q.yardInventory.date)?ae:Q.yardInventory):T({count:0,date:null});else{if((await a(r,t)).success){const U=await n(r.id,s);if(U){d(U.monthlyDemand||{}),m(U.monthlyProductionActuals||{}),v(U.monthlyInbound||{}),_(U.truckManifest||{}),S(U.downtimeHours),M(U.isAutoReplenish),U.inventoryAnchor&&C(U.inventoryAnchor),U.yardInventory&&T(U.yardInventory);return}}d({}),m({}),v({}),_({}),S(0),C({date:Hr(),count:0}),T({count:0,date:null})}}catch(Q){console.error("Failed to load cloud state",Q)}})():(console.log("Flux: Local Mode Init"),d(gr("monthlyDemand",{},s,!0)),m(gr("monthlyProductionActuals",{},s,!0)),v(gr("monthlyInbound",{},s,!0)),_(gr("truckManifest",{},s,!0)),S(Number(gr("downtimeHours",0,s))),C(gr("inventoryAnchor",{date:Hr(),count:0},s,!0)),M(gr("isAutoReplenish",!0,s,!0)))},[s,r?.id]),tu({table:"planning_entries",filter:R?`product_id=eq.${R.id}`:void 0,enabled:!!R?.id,onDataChange:V=>{const{eventType:Q,new:ae,old:U}=V;if(Q==="DELETE"){console.log("Supabase DELETE detected. Triggering state refresh."),r&&R&&n(r.id,s).then(le=>{le&&(le.monthlyDemand&&d(le.monthlyDemand),le.monthlyProductionActuals&&m(le.monthlyProductionActuals),le.monthlyInbound&&v(le.monthlyInbound),le.truckManifest&&_(le.truckManifest))});return}const Y=ae.date,ee=Number(ae.value);ae.entry_type==="demand_plan"?d(le=>({...le,[Y]:ee})):ae.entry_type==="production_actual"?m(le=>({...le,[Y]:ee})):ae.entry_type==="inbound_trucks"&&v(le=>({...le,[Y]:ee}))}}),tu({table:"inventory_snapshots",filter:R?`product_id=eq.${R.id}`:void 0,enabled:!!R?.id,onDataChange:V=>{console.log("[InventorySync] Event Received:",V);const{eventType:Q,new:ae}=V;if(Q==="DELETE")return;const U=Number(ae.quantity_pallets),Y=ae.date;ae.location==="yard"?T(ee=>({...ee,count:U,date:Y||ee.date})):ae.location==="floor"&&(N(U),C(ee=>({...ee,count:U,date:Y||ee.date})))}}),{selectedSize:s,setSelectedSize:l,monthlyDemand:u,setMonthlyDemand:d,monthlyProductionActuals:f,setMonthlyProductionActuals:m,monthlyInbound:g,setMonthlyInbound:v,truckManifest:y,setTruckManifest:_,downtimeHours:k,setDowntimeHours:S,currentInventoryPallets:j,setCurrentInventoryPallets:N,inventoryAnchor:E,setInventoryAnchor:C,yardInventory:A,setYardInventory:T,isAutoReplenish:P,setIsAutoReplenish:M,refreshTrigger:$}}const zoe=({todayStr:e,productionRate:t,downtimeHours:r,bottleSpecs:n,inventoryAnchor:a,yardInventory:s,monthlyDemand:l,monthlyProductionActuals:u,monthlyInbound:d,poManifest:f,safetyStockLoads:m})=>{if(!n)return null;const g=n,v=1+(g.scrapPercentage||0)/100,y=g.bottlesPerCase||12,_=g.bottlesPerTruck||1,k=g.casesPerPallet||1,S=new Set([...Object.keys(l||{}),...Object.keys(u||{})]),j=Array.from(S).reduce((H,se)=>{if(se>=e){const ce=u[se],re=l[se],Se=se>e,X=ce!=null&&(!Se||Number(ce)!==0),me=Number(X?ce:re);return H+(me||0)}return H},0),N=r*t,E=Math.max(0,j-N),C=H=>f&&f[H]?.items?.length>0?f[H].items.length:Number(d[H])||0,A=new Set([...Object.keys(d),...Object.keys(f||{})]),P=Array.from(A).reduce((H,se)=>se>=e?H+C(se):H,0),M=P*_,R=s?.count||0,L=R*_;let $=a.count;if(a.date){const H=new Date(a.date),ce=new Date(e)-H,re=Math.ceil(ce/(1e3*60*60*24));if(re>0&&re<365)for(let Se=0;Se<re;Se++){const X=sr(a.date,Se),me=u[X],je=l[X],fe=X>e,he=me!=null&&(!fe||Number(me)!==0),pe=Number(he?me:je||0),ge=C(X),Pe=_/y/k,dt=ge*Pe,Sr=pe/k;$=$+dt-Sr}}const q=$*k*y,V=E*y*v,Q=q+M+L-V,ae=m*_,U=[];let Y=q+L,ee=null,le=null;for(let H=0;H<30;H++){const se=sr(e,H),ce=u[se],re=l[se],Se=se>e,X=ce!=null&&(!Se||Number(ce)!==0),je=Number(X?ce:re||0)*y*v,he=C(se)*_;Y=Y+he-je,U.push({date:se,dateStr:se,balance:Y,demand:je,supply:he,projectedEndInventory:Y,projectedPallets:Y/(y*k||1),daysOfSupply:0}),Y<ae&&!ee&&(ee=se),Y>ae+_*2&&!le&&(le=se)}let ve=0,I=0;if(Q<ae)ve=Math.ceil((ae-Q)/_);else if(Q>ae+_){const H=Q-ae;if(H>_){const se=Math.floor(H/_);I=Math.min(se,P)}}let K=30;if(U.length>0){const H=U.findIndex(se=>se.balance<0);if(H!==-1){const se=U[H],ce=H>0?U[H-1].balance:q+L;let re=0;se.demand>0&&ce>0&&(re=ce/se.demand),K=H+re}}const W={};return Object.entries(d).forEach(([H,se])=>{Number(se)<=0||f&&f[H]?.items?.length>0||(W[H]||(W[H]={count:0,items:[]}),W[H].count+=Number(se),W[H].items.push({needDate:H,trucks:Number(se)}))}),{netInventory:Q,safetyTarget:ae,trucksToOrder:ve,trucksToCancel:I,lostProductionCases:N,effectiveScheduledCases:E,specs:g,yardInventory:{...s,effectiveCount:R,isOverridden:!1},dailyLedger:U,firstStockoutDate:ee,firstOverflowDate:le,totalIncomingTrucks:P,initialInventory:q+L,calculatedPallets:$,daysOfSupply:K,inventoryAnchor:a,plannedOrders:W}};function Uoe(e,t={}){const{safetyStockLoads:r}=Xn(),{productMap:n}=ur(),{selectedSize:a,monthlyDemand:s,monthlyProductionActuals:l,monthlyInbound:u,downtimeHours:d,yardInventory:f,inventoryAnchor:m}=e,g=n[a],v=g?.productionRate||0,y=x.useMemo(()=>{if(!g)return null;const _={todayStr:Hr(),productionRate:v,downtimeHours:d,bottleSpecs:g,inventoryAnchor:m,yardInventory:f,monthlyDemand:s,monthlyProductionActuals:l,monthlyInbound:u,poManifest:t,safetyStockLoads:r};return zoe(_)},[a,v,d,n,r,f,s,u,m,t,l,g]);return x.useMemo(()=>({totalScheduledCases:y?.effectiveScheduledCases||0,productionRate:v,calculations:y}),[y,v])}function Boe(e,t){const{safetyStockLoads:r,leadTimeDays:n}=Xn(),{productMap:a,refreshProducts:s}=ur(),{user:l,userRole:u}=wr(),{savePlanningEntry:d,saveProductionSetting:f,saveInventorySnapshot:m}=_l(),{selectedSize:g,setSelectedSize:v,monthlyDemand:y,setMonthlyDemand:_,monthlyProductionActuals:k,setMonthlyProductionActuals:S,monthlyInbound:j,setMonthlyInbound:N,truckManifest:E,setTruckManifest:C,setDowntimeHours:A,setCurrentInventoryPallets:T,setYardInventory:P,isAutoReplenish:M,setIsAutoReplenish:R,setInventoryAnchor:L,inventoryAnchor:$}=e,{calculations:q}=t,V=x.useRef(0),Q=x.useRef(y),ae=x.useRef(k),U=x.useRef(j);x.useLayoutEffect(()=>{Q.current=y},[y]),x.useLayoutEffect(()=>{ae.current=k},[k]),x.useLayoutEffect(()=>{U.current=j},[j]);const[Y]=x.useState(!1),[ee,le]=x.useState(null),ve=x.useRef({}),I=x.useRef({}),K=x.useCallback(async he=>{if(["admin","planner"].includes(u||"")){le(null);try{await he()}catch(ge){console.error("Save Error",ge),le(ge.message||"Save Failed")}}},[u]),W=x.useCallback((he,pe,ge=1e3)=>{ve.current[he]&&clearTimeout(ve.current[he]),ve.current[he]=setTimeout(()=>{K(pe),delete ve.current[he]},ge)},[K]),H=x.useCallback((he,pe,ge=300)=>{I.current[he]&&clearTimeout(I.current[he]),I.current[he]=setTimeout(()=>{pe(),delete I.current[he]},ge)},[]);x.useEffect(()=>()=>{Object.values(ve.current).forEach(clearTimeout),Object.values(I.current).forEach(clearTimeout)},[]);const se=x.useCallback(()=>{if(!q||!M)return;const he=Q.current,pe=ae.current,ge=U.current,Pe=a[g];if(!Pe)return;const dt=1+(Pe.scrapPercentage||0)/100,Sr=(r||0)*Pe.bottlesPerTruck;let fr=q.initialInventory||0;const Gr=n||2,mn={},Qn=Hr();for(let ot=0;ot<Gr;ot++){const bt=sr(Qn,ot),At=pe[bt],Qi=he[bt],ro=bt>Qn,Pl=At!=null&&(!ro||Number(At)!==0),ya=Number(Pl?At:Qi||0)*(Pe.bottlesPerCase||1)*dt,It=ge[bt]||0;fr=fr+It*Pe.bottlesPerTruck-ya}for(let ot=Gr;ot<60;ot++){const bt=sr(Qn,ot),At=pe[bt],Qi=he[bt],ro=bt>Qn,Pl=At!=null&&(!ro||Number(At)!==0),ya=Number(Pl?At:Qi||0)*(Pe.bottlesPerCase||1)*dt;let It=0,Yr=fr-ya;if(Yr<Sr){const hr=Math.ceil((Sr-Yr)/Pe.bottlesPerTruck);It=hr,Yr+=hr*Pe.bottlesPerTruck}It>0?mn[bt]=It:ge[bt]&&(mn[bt]=0),fr=Yr}let Pr=!1;if(Object.entries(mn).forEach(([ot,bt])=>{(ge[ot]||0)!==bt&&(Pr=!0)}),!Pr)return;const Ke={...ge,...mn};Object.keys(Ke).forEach(ot=>{Ke[ot]===0&&delete Ke[ot]});const pn=ot=>Object.keys(ot).sort().reduce((bt,At)=>({...bt,[At]:ot[At]}),{});JSON.stringify(pn(Ke))!==JSON.stringify(pn(ge))&&(N(Ke),On("monthlyInbound",Ke,g,!0))},[q,M,a,g,r,n,l,u,d,N,K]),ce=x.useCallback((he,pe)=>{const ge=pe,Pe={...Q.current,[he]:ge};_(Pe),H("monthlyDemand",()=>{On("monthlyDemand",Pe,g,!0)},500),l&&W(`demand-${he}`,async()=>d(l.id,g,he,"demand_plan",Number(ge)),1e3)},[g,l,W,H,_,d]),re=x.useCallback((he,pe)=>{const ge=pe===""||pe===null?void 0:pe,Pe={...ae.current};ge===void 0?delete Pe[he]:Pe[he]=ge,S(Pe),H("monthlyProductionActuals",()=>{On("monthlyProductionActuals",Pe,g,!0)},500),l&&W(`actual-${he}`,async()=>d(l.id,g,he,"production_actual",ge===void 0?null:Number(ge)),1e3)},[g,l,W,H,S,d]),Se=x.useCallback((he,pe)=>{const ge=pe,Pe={...U.current};ge===""||ge==="0"||Number(ge)===0?delete Pe[he]:Pe[he]=ge,N(Pe),H("monthlyInbound",()=>{On("monthlyInbound",Pe,g,!0)},500),l&&W(`inbound-${he}`,async()=>d(l.id,g,he,"inbound_trucks",ge===""||ge==="0"||Number(ge)===0?null:Number(ge)),1e3)},[g,l,W,H,N,d]);x.useEffect(()=>{if(!M||!q||Date.now()-V.current<250)return;const he=setTimeout(()=>{se()},50);return()=>clearTimeout(he)},[$,r,n,M,y,k,q,se]);const X=x.useCallback(he=>{const pe={...Q.current,...he};_(pe),H("monthlyDemand",()=>{On("monthlyDemand",pe,g,!0)},500),l&&W(`demand-bulk-${Object.keys(he)[0]}`,async()=>{const ge=Object.entries(he).map(([Pe,dt])=>d(l.id,g,Pe,"demand_plan",Number(dt)));await Promise.all(ge)},1e3)},[g,l,W,H,_,d]),[me,je]=x.useState(a[g]?.productionRate||0);return x.useEffect(()=>{je(a[g]?.productionRate||0)},[g,a]),{setters:x.useMemo(()=>({setSelectedSize:v,updateDateDemand:ce,updateDateDemandBulk:X,updateDateActual:re,updateDateInbound:Se,updateTruckManifest:(he,pe)=>{const ge={...E,[he]:pe};(!pe||pe.length===0)&&delete ge[he],C(ge),On("truckManifest",ge,g,!0),l&&K(async()=>d(l.id,g,he,"truck_manifest_json",JSON.stringify(pe)))},setProductionRate:async he=>{const pe=Number(he);je(pe),l&&(await K(async()=>f(l.id,g,"production_rate",pe)),s())},setDowntimeHours:he=>{const pe=Number(he);A(pe),On("downtimeHours",pe,g),l&&K(async()=>f(l.id,g,"downtime_hours",pe))},setCurrentInventoryPallets:he=>{const pe=Number(he);T(pe),On("currentInventoryPallets",pe,g)},setYardInventory:he=>{P(he),On("yardInventory",he,g,!0)},updateYardInventory:he=>{const pe=Number(he),ge=Hr();P({date:ge,count:pe}),On("yardInventory",{date:ge,count:pe},g,!0),l&&K(async()=>m(l.id,g,ge,pe,"yard"))},setIsAutoReplenish:he=>{R(he),On("isAutoReplenish",he,g,!0),l&&K(async()=>f(l.id,g,"is_auto_replenish",he))},setInventoryAnchor:he=>{L(he),On("inventoryAnchor",he,g,!0),l&&K(()=>m(l.id,g,he.date,he.count,"floor"))}}),[v,ce,X,re,Se,E,C,g,l,K,d,je,f,s,A,T,P,R,L,m]),formState:{isSaving:Y,saveError:ee,selectedSize:g,productionRate:me}}}function qoe(e={}){const t=Ioe(),r=x.useMemo(()=>{if(!t.selectedSize||!e)return{};const f={};return Object.entries(e).forEach(([m,g])=>{const v=g.items?.filter(y=>y.sku===t.selectedSize)||[];v.length>0&&(f[m]={items:v})}),f},[e,t.selectedSize]),{calculations:n,totalScheduledCases:a,productionRate:s}=Uoe(t,r),l=x.useMemo(()=>({calculations:n}),[n]),{setters:u,formState:d}=Boe(t,l);return{formState:{selectedSize:t.selectedSize,monthlyDemand:t.monthlyDemand,monthlyProductionActuals:t.monthlyProductionActuals,monthlyInbound:t.monthlyInbound,truckManifest:t.truckManifest,downtimeHours:t.downtimeHours,currentInventoryPallets:t.currentInventoryPallets,yardInventory:t.yardInventory,isAutoReplenish:t.isAutoReplenish,inventoryAnchor:t.inventoryAnchor,productionRate:d.productionRate??s,totalScheduledCases:a,isSaving:d.isSaving,saveError:d.saveError},setters:u,results:n?{...n,poManifest:r}:null}}function Hoe(){const{safetyStockLoads:e,schedulerSettings:t,updateSchedulerSetting:r}=Xn(),{productMap:n,updateProductSettings:a}=ur(),[s,l]=x.useState(()=>localStorage.getItem("sched_selectedSize")||"20oz");x.useEffect(()=>localStorage.setItem("sched_selectedSize",s),[s]);const{shiftStartTime:u="00:00",poAssignments:d={},cancelledLoads:f=[]}=t,m=x.useMemo(()=>{const y=n[s];if(!y)return null;const _=y.casesPerTruck?Math.ceil(y.casesPerTruck/(y.casesPerPallet||1)):0,k={...y,name:s,palletsPerTruck:y.palletsPerTruck||_},S=k.productionRate||0,j=S*24,N=isNaN(j)?0:j,E=k.casesPerTruck&&k.casesPerTruck>0?Math.ceil(N/k.casesPerTruck):0,C=E*7,A=[{name:"Shift 1 (00:00-08:00)",loads:0},{name:"Shift 2 (08:00-16:00)",loads:0},{name:"Shift 3 (16:00-00:00)",loads:0}],T=S,P=T,M=k.casesPerTruck||0,R=T>0&&M>0?M/T:0;let L=[];if(R>0&&E>0){const[V,Q]=u.split(":").map(Number);let ae=V+Q/60;for(let U=0;U<E;U++){const ee=(ae+R*U)%24,le=Math.round(ee),K=`${(le===24?0:le).toString().padStart(2,"0")}:${0 .toString().padStart(2,"0")}`;L.push({id:U+1,time:K,rawDecimal:ee,po:d[String(U+1)]||""})}}const $=L.filter(V=>!f.includes(String(V.id)));$.forEach(V=>{const Q=V.rawDecimal;Q>=0&&Q<8?A[0].loads++:Q>=8&&Q<16?A[1].loads++:A[2].loads++}),L=$;const q=e<E;return{requiredDailyLoads:E,weeklyLoads:C,schedule:A,truckSchedule:L,burnRate:P,hoursPerTruck:R,isHighRisk:q,safetyStockLoads:e,specs:k}},[s,u,n,e,d,f]),g=(y,_)=>{const k={...d,[String(y)]:_};r("poAssignments",k)},v=y=>{const _=String(y),S=f.includes(_)?f.filter(j=>j!==_):[...f,_];r("cancelledLoads",S)};return{formState:{selectedSize:s,targetDailyProduction:(m?.burnRate||0)*24,shiftStartTime:u,poAssignments:d},setters:{setSelectedSize:l,setTargetDailyProduction:y=>{const _=Number(y),k=!isNaN(_)&&_>=0?_:0;a(s,{production_rate:k/24})},setShiftStartTime:y=>r("shiftStartTime",y),updatePO:g,toggleCancelled:v},results:m}}function Foe(e,t=!0){const{user:r}=wr(),{fetchMRPState:n}=_l(),[a,s]=x.useState({}),[l,u]=x.useState(!1),[d,f]=x.useState(0),m=x.useRef(null);return x.useEffect(()=>{if(!t)return;const v=async()=>{if(!t)return;u(!0);const y={},_=(j,N)=>{const E=`mrp_${j}`,C=`mrp_${N}_${j}`;let A=localStorage.getItem(C);A===null&&N==="20oz"&&(A=localStorage.getItem(E));try{return JSON.parse(A||"{}")}catch{return{}}},k=e.map(async j=>{if(r)try{const N=await n(r.id,j);return{sku:j,data:N?{demand:N.monthlyDemand||{},actuals:N.monthlyProductionActuals||{},inbound:N.monthlyInbound||{}}:{demand:{},actuals:{},inbound:{}}}}catch(N){return console.error(`Failed to load master state for ${j}`,N),{sku:j,data:{demand:{},actuals:{},inbound:{}}}}else return{sku:j,data:{demand:_("monthlyDemand",j),actuals:_("monthlyProductionActuals",j),inbound:_("monthlyInbound",j)}}});(await Promise.all(k)).forEach(({sku:j,data:N})=>{y[j]=N}),s(y),u(!1)};e.length>0&&v()},[e.join(","),r?.id,t,d]),tu({table:"planning_entries",enabled:t&&!!r,onDataChange:()=>{m.current&&clearTimeout(m.current),m.current=setTimeout(()=>{f(v=>v+1)},1e3)}}),{masterLedger:x.useMemo(()=>{const v={},y=new Set;return Object.values(a).forEach(k=>{Object.keys(k.demand).forEach(S=>y.add(S)),Object.keys(k.actuals).forEach(S=>y.add(S)),Object.keys(k.inbound).forEach(S=>y.add(S))}),Array.from(y).sort().forEach(k=>{const S=[];e.forEach(j=>{const N=a[j];if(!N)return;const E=Number(N.demand[k])||0,C=N.actuals[k]!==void 0?Number(N.actuals[k]):null,A=Number(N.inbound[k])||0;(E>0||C!==null&&C>0||A>0)&&S.push({sku:j,demand:E,actual:C,trucks:A})}),S.length>0&&(v[k]=S)}),v},[a,e]),loading:l,skuStates:a}}function Voe({masterLedger:e,loading:t}){const r=x.useMemo(()=>e?Object.keys(e).sort():[],[e]),n=a=>({"20oz":"bg-blue-100 dark:bg-blue-900/40 text-blue-800 dark:text-blue-200 border-blue-200 dark:border-blue-700","12oz":"bg-purple-100 dark:bg-purple-900/40 text-purple-800 dark:text-purple-200 border-purple-200 dark:border-purple-700","2L":"bg-green-100 dark:bg-green-900/40 text-green-800 dark:text-green-200 border-green-200 dark:border-green-700","1L":"bg-orange-100 dark:bg-orange-900/40 text-orange-800 dark:text-orange-200 border-orange-200 dark:border-orange-700"})[a]||"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200 border-gray-200 dark:border-gray-700";return t?p.jsxs("div",{className:"flex h-full items-center justify-center p-10",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),p.jsx("span",{className:"ml-3 text-gray-500",children:"Aggregating Master Plan..."})]}):r.length===0?p.jsxs("div",{className:"text-center p-10 bg-gray-50 dark:bg-gray-800 rounded-lg border-2 border-dashed border-gray-200 dark:border-gray-700",children:[p.jsx("h3",{className:"text-gray-400 dark:text-gray-500 font-bold mb-2",children:"No Active Production"}),p.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-sm",children:"Add demand or trucks to individual SKU plans to see them here."})]}):p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 mb-6",children:[p.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Master Schedule"}),p.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Global view of all production lines and logistics."})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("div",{className:"md:hidden space-y-4",children:r.map(a=>{const s=e[a]||[],l=new Date(a),u=new Date().toISOString().split("T")[0]===a;return s.length===0?null:p.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-lg shadow-sm border p-4 ${u?"border-blue-300 ring-1 ring-blue-100 dark:ring-blue-900":"border-gray-200 dark:border-gray-700"}`,children:[p.jsxs("div",{className:"flex justify-between items-center mb-3 pb-2 border-b border-gray-100 dark:border-gray-700",children:[p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:`text-lg font-bold ${u?"text-blue-600 dark:text-blue-400":"text-gray-900 dark:text-white"}`,children:l.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}),p.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500 font-mono",children:a})]}),u&&p.jsx("span",{className:"text-xs font-bold bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 px-2 py-1 rounded",children:"TODAY"})]}),p.jsx("div",{className:"space-y-2",children:s.map(d=>p.jsxs("div",{className:`flex items-center justify-between p-2 rounded border ${n(d.sku)}`,children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("span",{className:"font-bold text-sm mr-3 w-12",children:d.sku}),(d.demand>0||d.actual!==null&&d.actual>0)&&p.jsxs("span",{className:"font-mono font-bold text-sm",children:[d.actual!==null?d.actual.toLocaleString():d.demand.toLocaleString()," cases"]})]}),d.trucks>0&&p.jsxs("div",{className:"flex items-center space-x-1 bg-white dark:bg-gray-800 bg-opacity-60 px-2 py-1 rounded border border-black/5 dark:border-white/10",children:[p.jsx("span",{className:"text-base",children:""}),p.jsx("span",{className:"font-bold text-sm",children:d.trucks})]})]},`${a}-${d.sku}-mobile`))})]},a)})}),p.jsxs("div",{className:"hidden md:block bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:[p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 px-6 py-3 border-b border-gray-200 dark:border-gray-700 grid grid-cols-12 gap-4 text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[p.jsx("div",{className:"col-span-3 md:col-span-2",children:"Date"}),p.jsx("div",{className:"col-span-9 md:col-span-10",children:"Production & Logistics"})]}),p.jsx("div",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:r.map(a=>{const s=e[a]||[],l=new Date(a),u=new Date().toISOString().split("T")[0]===a;return p.jsxs("div",{className:`group grid grid-cols-12 gap-4 px-6 py-4 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors ${u?"bg-blue-50/30 dark:bg-blue-900/10":""}`,children:[p.jsxs("div",{className:"col-span-3 md:col-span-2 flex flex-col justify-center",children:[p.jsx("span",{className:`text-sm font-bold ${u?"text-blue-600 dark:text-blue-400":"text-gray-900 dark:text-white"}`,children:l.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}),p.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500 font-mono mt-1",children:a})]}),p.jsx("div",{className:"col-span-9 md:col-span-10 flex flex-col space-y-2 justify-center",children:s.map((d,f)=>p.jsxs("div",{className:`flex items-center p-2 rounded border ${n(d.sku)}`,children:[p.jsx("span",{className:"font-bold text-xs uppercase w-16 tracking-wide",children:d.sku}),p.jsxs("div",{className:"flex-1 flex items-center space-x-4",children:[(d.demand>0||d.actual!==null&&d.actual>0)&&p.jsxs("div",{className:"flex items-baseline space-x-1",children:[p.jsx("span",{className:"text-xs opacity-70",children:"Run:"}),p.jsx("span",{className:"font-mono font-bold text-sm",children:d.actual!==null?d.actual.toLocaleString():d.demand.toLocaleString()}),d.actual!==null&&p.jsx("span",{className:"text-[10px] bg-white bg-opacity-50 px-1 rounded ml-1",children:"ACT"})]}),(d.demand>0||d.actual>0)&&d.trucks>0&&p.jsx("span",{className:"text-gray-300 dark:text-gray-600",children:"|"}),d.trucks>0&&p.jsxs("div",{className:"flex items-center space-x-1",children:[p.jsx("span",{className:"text-lg",children:""}),p.jsx("span",{className:"font-bold text-sm",children:d.trucks}),p.jsx("span",{className:"text-xs opacity-70",children:"Trucks"})]})]})]},`${a}-${d.sku}`))})]},a)})})]})]})]})}function Koe(){const{signIn:e,resendVerificationEmail:t}=wr(),[r,n]=x.useState(""),[a,s]=x.useState(""),[l,u]=x.useState(null),[d,f]=x.useState(!1),[m,g]=x.useState(!1),v=async _=>{_.preventDefault(),u(null),f(!0);try{await e(r,a)}catch(k){u(k.message)}finally{f(!1)}},y=async()=>{try{f(!0),await t(r),g(!0),u("Confirmation email resent! Check your spam folder.")}catch(_){u(_.message)}finally{f(!1)}};return p.jsxs("div",{className:"min-h-screen bg-slate-950 flex flex-col items-center justify-center relative overflow-hidden font-sans selection:bg-blue-500 selection:text-white",children:[p.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-blue-950/20 via-slate-950 to-black z-0 pointer-events-none"}),p.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-5 z-0 pointer-events-none"}),p.jsx("main",{className:"relative z-10 w-full max-w-sm px-4",children:p.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-md border border-slate-800 rounded-3xl p-8 shadow-2xl",children:[p.jsxs("div",{className:"flex flex-col items-center mb-8",children:[p.jsx("div",{className:"h-20 w-20 bg-white rounded-full p-0.5 shadow-xl shadow-blue-900/20 mb-4 overflow-hidden ring-2 ring-slate-800",children:p.jsx("img",{src:h0,alt:"UBP",className:"h-full w-full object-contain"})}),p.jsx("h1",{className:"text-xl font-bold text-white tracking-tight",children:"MRP Portal"}),p.jsxs("div",{className:"flex items-center gap-1.5 text-slate-500 text-[10px] font-bold uppercase tracking-widest mt-1",children:[p.jsx(M5,{className:"w-3.5 h-3.5 text-emerald-500"}),p.jsx("span",{children:"Authorized Access Only"})]})]}),l&&p.jsxs("div",{className:`p-3 rounded-lg mb-6 text-xs font-medium border flex gap-2 items-start ${l.includes("resent")?"bg-emerald-900/20 text-emerald-400 border-emerald-900/50":"bg-rose-900/20 text-rose-400 border-rose-900/50"}`,children:[l.includes("resent")?p.jsx(oa,{className:"w-4 h-4 shrink-0"}):p.jsx(P6,{className:"w-4 h-4 shrink-0"}),p.jsxs("div",{children:[l,l.includes("Email not confirmed")&&!m&&p.jsx("button",{onClick:y,className:"block mt-1 underline hover:text-white transition-colors",children:"Resend Verification Email"})]})]}),p.jsxs("form",{onSubmit:v,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-semibold text-slate-400 mb-1.5 ml-1",children:"Email Address"}),p.jsx("input",{type:"email",required:!0,value:r,onChange:_=>n(_.target.value),className:"block w-full rounded-xl bg-slate-950 border border-slate-800 text-white placeholder-slate-600 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 py-2.5 px-4 text-sm transition-all",placeholder:"name@unionbevnj.com"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-semibold text-slate-400 mb-1.5 ml-1",children:"Password"}),p.jsx("input",{type:"password",required:!0,value:a,onChange:_=>s(_.target.value),className:"block w-full rounded-xl bg-slate-950 border border-slate-800 text-white placeholder-slate-600 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 py-2.5 px-4 text-sm transition-all",placeholder:""})]}),p.jsx("div",{className:"pt-2",children:p.jsx("button",{type:"submit",disabled:d,className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 rounded-xl shadow-lg shadow-blue-900/20 transition-all active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed flex justify-center",children:d?p.jsxs("span",{className:"flex items-center gap-2",children:[p.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing In..."]}):"Sign In to Dashboard"})})]}),p.jsx("div",{className:"mt-8 text-center border-t border-slate-800/50 pt-4",children:p.jsx("p",{className:"text-slate-500 text-xs",children:"Sign In to access planning tool."})})]})}),p.jsx("footer",{className:"absolute bottom-6 w-full text-center",children:p.jsxs("p",{className:"text-slate-800 text-[10px] font-medium uppercase tracking-wider",children:[" ",new Date().getFullYear()," Union Beverage Packers"]})})]})}function j5({date:e,totalRequired:t,manifest:r,onUpdate:n,readOnly:a=!1}){const[s,l]=x.useState(!1),u=r||[],d=Math.max(u.length,t),f=Math.max(0,d-u.length),[m,g]=x.useState(u),v=S=>{S&&(S.preventDefault(),S.stopPropagation()),n(e,m),l(!1)},y=()=>{g([...m,{id:crypto.randomUUID(),po:"",carrier:"",time:"",status:"scheduled"}])},_=S=>{const j=[...m];j.splice(S,1),g(j)},k=(S,j,N)=>{const E=[...m];E[S]={...E[S],[j]:N},g(E)};return s?p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-blue-200 dark:border-blue-900 shadow-lg",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white flex items-center",children:[p.jsx(Wc,{className:"w-5 h-5 mr-2 text-blue-500"}),"Edit Manifest: ",e]}),p.jsxs("div",{className:"space-x-2",children:[p.jsx("button",{type:"button",onClick:()=>l(!1),className:"text-xs text-gray-500 hover:text-gray-700",children:"Cancel"}),p.jsx("button",{type:"button",onClick:v,className:"px-3 py-1 bg-blue-600 text-white text-xs font-bold rounded shadow hover:bg-blue-500",children:"Save Changes"})]})]}),p.jsxs("div",{className:"space-y-2",children:[m.map((S,j)=>p.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 bg-gray-50 dark:bg-gray-700/50 p-3 rounded border border-gray-100 dark:border-gray-600",children:[p.jsxs("div",{className:"flex-1 w-full",children:[p.jsx("label",{className:"text-[10px] uppercase text-gray-400 font-bold block mb-1 sm:hidden",children:"Carrier"}),p.jsx("input",{className:"w-full text-sm font-bold bg-transparent border-b border-gray-300 focus:border-blue-500 outline-none dark:text-white pb-1",placeholder:"Carrier Name",value:S.carrier,onChange:N=>k(j,"carrier",N.target.value)})]}),p.jsxs("div",{className:"w-full sm:w-24",children:[p.jsx("label",{className:"text-[10px] uppercase text-gray-400 font-bold block mb-1 sm:hidden",children:"PO #"}),p.jsx("input",{className:"w-full text-sm font-mono bg-transparent border-b border-gray-300 focus:border-blue-500 outline-none dark:text-white pb-1",placeholder:"PO-123",value:S.po,onChange:N=>k(j,"po",N.target.value)})]}),p.jsxs("div",{className:"w-full sm:w-28",children:[p.jsx("label",{className:"text-[10px] uppercase text-gray-400 font-bold block mb-1 sm:hidden",children:"Time"}),p.jsxs("select",{className:"w-full text-sm bg-transparent border-b border-gray-300 focus:border-blue-500 outline-none dark:text-gray-200 dark:bg-gray-800 rounded px-1 pb-1",value:S.time,onChange:N=>k(j,"time",N.target.value),children:[p.jsx("option",{value:"",className:"text-gray-500",children:"TBD"}),Array.from({length:24}).map((N,E)=>{const C=E,T=`${String(C).padStart(2,"0")}:${String(0).padStart(2,"0")}`,P=C>=12?"PM":"AM",R=`${C%12||12}:00 ${P}`;return p.jsx("option",{value:T,className:"dark:bg-gray-800",children:R},T)})]})]}),p.jsx("div",{className:"w-full sm:w-auto flex justify-end",children:p.jsxs("button",{type:"button",onClick:()=>_(j),className:"text-red-400 hover:text-red-600 p-2 sm:p-1 bg-red-50 dark:bg-red-900/10 sm:bg-transparent rounded",children:[p.jsxs("div",{className:"flex items-center sm:hidden",children:[p.jsx(da,{className:"w-4 h-4 mr-1"}),p.jsx("span",{className:"text-xs font-bold",children:"Remove"})]}),p.jsx(da,{className:"w-4 h-4 hidden sm:block"})]})})]},S.id||j)),p.jsxs("button",{onClick:y,className:"w-full py-2 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded text-gray-400 dark:text-gray-500 hover:border-blue-400 hover:text-blue-500 flex items-center justify-center text-sm font-bold",children:[p.jsx(B6,{className:"w-4 h-4 mr-1"})," Add Truck"]})]})]}):p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("div",{}),!a&&(t>0||u.length>0)&&p.jsxs("button",{onClick:()=>{g(u.length?u:Array(t).fill().map(()=>({id:crypto.randomUUID(),po:"",carrier:"",time:""}))),l(!0)},className:"text-xs font-bold text-blue-600 hover:text-blue-500 flex items-center bg-blue-50 dark:bg-blue-900/20 px-2 py-1 rounded",children:[p.jsx(Wc,{className:"w-3 h-3 mr-1"}),"Edit Manifest"]})]}),u.map((S,j)=>p.jsx("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-gray-800 border-l-4 border-green-500 shadow-sm rounded-r-md",children:p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("span",{className:"font-bold text-gray-900 dark:text-white text-lg",children:S.carrier||S.supplier||"Pending Assignment"}),S.time&&p.jsxs("span",{className:"ml-2 text-sm font-bold bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 px-2 py-1 rounded flex items-center shadow-sm",children:[p.jsx(o0,{className:"w-4 h-4 mr-1"}),ru(S.time)]})]}),p.jsx("div",{className:"flex flex-col text-xs text-gray-500 mt-1",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx(K6,{className:"w-3 h-3 mr-1"}),p.jsxs("span",{className:"font-mono text-gray-700 dark:text-gray-300 font-bold mr-2",children:["PO: ",S.po||"N/A"]}),S.supplier&&S.carrier&&p.jsxs("span",{className:"text-gray-400",children:["(",S.supplier,")"]})]})})]})},j)),Array.from({length:f}).map((S,j)=>p.jsx("div",{className:"flex items-center justify-between p-3 bg-gray-50 border-l-4 border-gray-300 dark:border-gray-600 dark:bg-gray-800/50 rounded-r-md opacity-70 dashed-border",children:p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("div",{className:"p-1.5 bg-gray-200 dark:bg-gray-700 rounded-full",children:p.jsx(un,{className:"w-5 h-5 text-gray-400"})}),p.jsxs("div",{children:[p.jsxs("p",{className:"text-sm font-bold text-gray-500 italic",children:["Planned Delivery Slot #",u.length+j+1]}),p.jsx("div",{className:"flex items-center text-xs text-gray-400 mt-0.5",children:p.jsx("span",{children:"Awaiting Carrier Assignment"})})]})]})},`p-${j}`)),d===0&&p.jsx("div",{className:"p-4 text-center text-gray-400 text-sm italic bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:"No Deliveries Needed"})]})}function Zoe({state:e,setters:t,results:r,readOnly:n=!1}){const[a,s]=x.useState(!1),{productMap:l}=ur(),u=x.useMemo(()=>Object.keys(l||{}),[l]),[d,f]=x.useState({today:[],tomorrow:[]}),[m,g]=x.useState("ALL"),{poManifest:v,updateDailyManifest:y,bulkUpdateOrders:_}=Jn(),k=Hr(),S=sr(k,1),j=new Date(S+"T00:00:00");x.useEffect(()=>{try{const M={today:[],tomorrow:[]};u.forEach(R=>{const L=`mrp_${R}_monthlyInbound`;let $={};try{const re=localStorage.getItem(L);re&&($=JSON.parse(re))}catch{}const q=`mrp_${R}_truckManifest`;let V={};try{const re=localStorage.getItem(q);re&&(V=JSON.parse(re))}catch{}const Q=re=>{try{const Se=v[re];return!Se||!Se.items?[]:Se.items.filter(X=>X.sku===R)}catch(Se){return console.warn("Error reading global POs for date:",re,Se),[]}},ae=Q(k),U=Q(S),Y=Number($[k])||0,ee=V[k]||[],le=ae.map(re=>({id:re.id,time:re.time,carrier:re.carrier||re.supplier,type:"PO",po:re.po,details:`PO#${re.po} (${re.qty})`,isGlobal:!0})),ve=[...ee,...le],I=Math.max(Y,ve.length);(I>0||ve.length>0)&&M.today.push({sku:R,count:I,manifest:ve});const K=Number($[S])||0,W=V[S]||[],H=U.map(re=>({id:re.id,time:re.time,carrier:re.carrier||re.supplier,type:"PO",po:re.po,details:`PO#${re.po} (${re.qty})`,isGlobal:!0})),se=[...W,...H],ce=Math.max(K,se.length);(ce>0||se.length>0)&&M.tomorrow.push({sku:R,count:ce,manifest:se})}),f(M)}catch(M){console.error("Critical Error in LogisticsView Aggregation:",M),f({today:[],tomorrow:[]})}},[u,e.monthlyInbound,e.stateVersion,v,k,S]);const N=m==="ALL"?d.today:d.today.filter(M=>M.sku===m),E=m==="ALL"?d.tomorrow:d.tomorrow.filter(M=>M.sku===m),C=N.reduce((M,R)=>M+R.count,0),A=E.reduce((M,R)=>M+R.count,0),T=M=>M?M.toLocaleString():"0";if(!r)return p.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading Logistics Data..."});const{yardInventory:P}=r;return p.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[p.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center bg-slate-900 text-white p-6 rounded-2xl shadow-lg",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-black tracking-tight uppercase",children:"Floor Operations"}),p.jsxs("div",{className:"flex items-center space-x-2 mt-2 opacity-80",children:[p.jsxs("span",{className:"bg-slate-700 px-3 py-1 rounded text-sm font-mono",children:["ACTIVE: ",e.selectedSize]}),p.jsx("span",{className:"text-sm",children:new Date().toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})})]})]}),p.jsx("div",{className:"flex flex-col sm:flex-row gap-3 mt-4 md:mt-0 w-full md:w-auto",children:!n&&p.jsxs("button",{onClick:()=>s(!0),className:"flex items-center justify-center bg-emerald-500 hover:bg-emerald-400 text-slate-900 px-6 py-3 rounded-xl font-bold text-base md:text-lg transition-transform hover:scale-105 shadow-xl w-full sm:w-auto",children:[p.jsx(tx,{className:"w-6 h-6 md:w-8 md:h-8 mr-2"}),"START DAY"]})})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-2xl border-2 border-gray-100 dark:border-gray-700 shadow-sm flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-bold uppercase tracking-wider text-sm",children:"Floor Inventory"}),p.jsxs("div",{className:"flex items-baseline mt-2",children:[p.jsx("span",{className:"text-6xl font-black text-slate-800 dark:text-white",children:T(Math.round(r.calculatedPallets))}),p.jsx("span",{className:"ml-2 text-xl font-medium text-gray-400",children:"Pallets"})]})]}),p.jsx("div",{className:"h-16 w-16 bg-blue-50 rounded-full flex items-center justify-center",children:p.jsx(rx,{className:"w-8 h-8 text-blue-600"})})]}),p.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-2xl border-2 border-gray-100 dark:border-gray-700 shadow-sm flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-bold uppercase tracking-wider text-sm",children:"Yard Inventory"}),p.jsxs("div",{className:"flex items-baseline mt-2",children:[p.jsx("span",{className:"text-6xl font-black text-slate-800 dark:text-white",children:P.effectiveCount}),p.jsx("span",{className:"ml-2 text-xl font-medium text-gray-400",children:"Loads"})]}),P.isOverridden&&p.jsx("span",{className:"inline-block mt-2 px-2 py-1 bg-yellow-100 text-yellow-800 text-xs font-bold rounded",children:"MANUAL OVERRIDE"})]}),p.jsx("div",{className:"h-16 w-16 bg-orange-50 rounded-full flex items-center justify-center",children:p.jsx(un,{className:"w-8 h-8 text-orange-600"})})]})]}),p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden",children:[p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[p.jsxs("h2",{className:"text-lg font-bold text-gray-800 dark:text-white flex items-center",children:[p.jsx(C5,{className:"w-5 h-5 mr-2 text-gray-500"}),"Master Dock Schedule"]}),p.jsxs("div",{className:"flex space-x-1 bg-white dark:bg-gray-800 rounded-lg p-1 border dark:border-gray-600",children:[p.jsx("button",{onClick:()=>g("ALL"),className:`px-3 py-1 text-[10px] uppercase font-bold rounded ${m==="ALL"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":"text-gray-400 hover:text-gray-600"}`,children:"All"}),u.map(M=>p.jsx("button",{onClick:()=>g(M),className:`px-3 py-1 text-[10px] uppercase font-bold rounded ${m===M?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":"text-gray-400 hover:text-gray-600"}`,children:M},M))]})]}),p.jsxs("div",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:[p.jsxs("div",{className:"p-6 transition-colors",children:[p.jsxs("div",{className:"flex items-center mb-4",children:[p.jsx("div",{className:`w-3 h-12 rounded-full mr-4 ${C>0?"bg-green-500":"bg-gray-300"}`}),p.jsxs("div",{children:[p.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"TODAY"}),p.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date().toLocaleDateString()})]}),p.jsx("div",{className:"ml-auto text-right",children:C>0?p.jsxs("span",{className:"text-sm font-bold text-green-600 bg-green-50 dark:bg-green-900/20 px-3 py-1 rounded-full uppercase",children:[C," Total Trucks"]}):null})]}),p.jsxs("div",{className:"pl-7 space-y-6",children:[N.length===0&&p.jsx("p",{className:"text-sm text-gray-400 italic",children:"No scheduled deliveries."}),N.map(M=>p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[p.jsxs("h4",{className:"flex items-center text-xs font-bold text-gray-500 uppercase mb-3",children:[p.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500 mr-2"}),M.sku," Production Supply (",M.count," Trucks)"]}),p.jsx(j5,{date:k,totalRequired:M.count,manifest:M.manifest,readOnly:n,onUpdate:(R,L)=>{try{const q=r.specs?.bottlesPerTruck||2e4,V=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`uuid-${Date.now()}-${Math.random()}`,Q=L.map(ee=>({id:ee.id||V(),date:R,po:ee.po||`TEMP-${Date.now()}`,sku:M.sku,qty:q,supplier:ee.carrier||"Unknown",carrier:ee.carrier,time:ee.time,status:"scheduled",isGlobal:!0})),ae=v[R]?.items||[],Y=[...Array.isArray(ae)?ae.filter(ee=>ee.sku!==M.sku):[],...Q];y(R,Y)}catch($){console.error("Failed to update manifest (Today) in LogicsticsView:",$),alert("Error saving manifest. See console.")}try{const $=`mrp_${M.sku}_truckManifest`,q=localStorage.getItem($);if(q){const V=JSON.parse(q);V[R]&&(delete V[R],localStorage.setItem($,JSON.stringify(V)))}}catch($){console.warn("Legacy cleanup failed (Today)",$)}}})]},M.sku))]})]}),p.jsxs("div",{className:"p-6 transition-colors opacity-95",children:[p.jsxs("div",{className:"flex items-center mb-4",children:[p.jsx("div",{className:`w-3 h-12 rounded-full mr-4 ${A>0?"bg-blue-500":"bg-gray-300"}`}),p.jsxs("div",{children:[p.jsx("p",{className:"text-xl font-bold text-gray-700 dark:text-gray-300",children:"TOMORROW"}),p.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:j.toLocaleDateString()})]})]}),p.jsxs("div",{className:"pl-7 space-y-6",children:[E.length===0&&p.jsx("p",{className:"text-sm text-gray-400 italic",children:"No scheduled deliveries."}),E.map(M=>p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[p.jsxs("h4",{className:"flex items-center text-xs font-bold text-gray-500 uppercase mb-3",children:[p.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500 mr-2"}),M.sku," Production Supply (",M.count," Trucks)"]}),p.jsx(j5,{date:S,totalRequired:M.count,manifest:M.manifest,readOnly:n,onUpdate:(R,L)=>{try{const q=r.specs?.bottlesPerTruck||2e4,V=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`uuid-${Date.now()}-${Math.random()}`,Q=L.map(ee=>({id:ee.id||V(),date:R,po:ee.po||"TBD",sku:M.sku,qty:q,supplier:ee.carrier||"Unknown",carrier:ee.carrier,time:ee.time,status:"scheduled",isGlobal:!0})),ae=v[R]?.items||[],Y=[...Array.isArray(ae)?ae.filter(ee=>ee.sku!==M.sku):[],...Q];y(R,Y)}catch($){console.error("Failed to update manifest in LogicsticsView:",$),alert("Error saving manifest. See console.")}try{const $=`mrp_${M.sku}_truckManifest`,q=localStorage.getItem($);if(q){const V=JSON.parse(q);V[R]&&(delete V[R],localStorage.setItem($,JSON.stringify(V)))}}catch($){console.warn("Legacy cleanup failed (tomorrow)",$)}}})]},M.sku))]})]})]}),p.jsx("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-4 text-center",children:p.jsx("p",{className:"text-xs text-gray-500",children:"For the full 30-day schedule, ask a Planner or switch to the Planning View."})})]}),p.jsx(MC,{isOpen:a,onClose:()=>s(!1),state:e,setters:t})]})}function Goe({isOpen:e,onClose:t,product:r,onSave:n,readOnly:a=!1}){const{user:s}=wr(),[l,u]=x.useState({name:"",description:"",bottles_per_case:12,bottles_per_truck:2e4,cases_per_pallet:100,lead_time_days:2,safety_stock_loads:6,lines:[]}),[d,f]=x.useState(!1),[m,g]=x.useState(null);x.useEffect(()=>{e&&(u(r?{name:r.name,description:r.description||"",color_tag:r.color_tag||"#3B82F6",bottles_per_case:r.bottles_per_case||24,cases_per_pallet:r.cases_per_pallet||100,bottles_per_truck:r.bottles_per_truck||1e5,lead_time_days:r.lead_time_days!==null&&r.lead_time_days!==void 0?r.lead_time_days:2,safety_stock_loads:r.safety_stock_loads!==null&&r.safety_stock_loads!==void 0?r.safety_stock_loads:6,lines:r.production_settings?.length>0?r.production_settings.map(S=>({line_name:S.line_name,production_rate:S.production_rate})):[{line_name:"Line 1",production_rate:2500}]}:{name:"",description:"",color_tag:"#3B82F6",bottles_per_case:24,cases_per_pallet:100,bottles_per_truck:1e5,lead_time_days:2,safety_stock_loads:6,lines:[{line_name:"Line 1",production_rate:2500}]}),g(null))},[e,r]);const v=()=>{u(S=>({...S,lines:[...S.lines,{line_name:`Line ${S.lines.length+1}`,production_rate:2500}]}))},y=S=>{u(j=>({...j,lines:j.lines.filter((N,E)=>E!==S)}))},_=(S,j,N)=>{const E=[...l.lines];E[S][j]=N,u({...l,lines:E})},k=async S=>{if(S.preventDefault(),!(!s||a)){f(!0),g(null);try{const j={name:l.name,description:l.description,color_tag:l.color_tag,bottles_per_case:Number(l.bottles_per_case),bottles_per_truck:Number(l.bottles_per_truck),cases_per_pallet:Number(l.cases_per_pallet),lead_time_days:Number(l.lead_time_days),safety_stock_loads:Number(l.safety_stock_loads),user_id:s.id};r?.id&&(j.id=r.id);const{data:N,error:E}=await Me.from("products").upsert(j,{onConflict:"name"}).select().single();if(E)throw E;const C=l.lines.map(T=>({product_id:N.id,user_id:s.id,line_name:T.line_name||"Line 1",production_rate:Number(T.production_rate)})),{error:A}=await Me.from("production_settings").upsert(C,{onConflict:"product_id, line_name"});if(A)throw A;n(),t()}catch(j){console.error("Save Error:",j),g(j.message||"Failed to save product")}finally{f(!1)}}};return p.jsxs(Ot,{open:e,onClose:t,className:"relative z-50",children:[p.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm","aria-hidden":"true"}),p.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:p.jsxs(Ot.Panel,{className:"w-full max-w-lg rounded-2xl bg-white dark:bg-gray-800 p-6 shadow-xl border border-gray-200 dark:border-gray-700 max-h-[90vh] overflow-y-auto",children:[p.jsx(Ot.Title,{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:a?"View Product Configuration":r?"Edit Product Configuration":"Add New Product"}),m&&p.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg text-sm",children:m}),p.jsxs("form",{onSubmit:k,className:"space-y-5",children:[p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-xl space-y-4",children:[p.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Identification"}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] font-medium text-gray-500 uppercase mb-1",children:"SKU Name"}),p.jsx("input",{type:"text",required:!0,value:l.name,onChange:S=>u({...l,name:S.target.value}),disabled:!!r||a,className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white font-bold focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"e.g. 20oz Cola"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] font-medium text-gray-500 uppercase mb-1",children:"Display Color"}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("input",{type:"color",value:l.color_tag,onChange:S=>u({...l,color_tag:S.target.value}),disabled:a,className:"h-9 w-12 rounded cursor-pointer border-0 p-0 disabled:opacity-50"}),p.jsx("span",{className:"text-xs text-gray-400",children:"Calendar Tag"})]})]}),p.jsxs("div",{className:"col-span-2",children:[p.jsx("label",{className:"block text-[10px] font-medium text-gray-500 uppercase mb-1",children:"Description (Optional)"}),p.jsx("input",{type:"text",value:l.description,onChange:S=>u({...l,description:S.target.value}),disabled:a,className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm disabled:opacity-50",placeholder:"e.g. Standard 24pk Tray"})]})]})]}),p.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/10 p-4 rounded-xl space-y-4",children:[p.jsx("h3",{className:"text-xs font-bold text-emerald-600 uppercase tracking-wider",children:" Finished Product Spec"}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Pack Size"}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("input",{type:"number",required:!0,min:"1",value:l.bottles_per_case,onChange:S=>u({...l,bottles_per_case:S.target.value}),disabled:a,className:"w-full px-3 py-2 rounded-lg border border-emerald-200 dark:border-emerald-800 bg-emerald-50/50 dark:bg-emerald-900/20 text-emerald-900 dark:text-emerald-100 text-sm font-bold disabled:opacity-50"}),p.jsx("span",{className:"text-xs text-emerald-600 dark:text-emerald-400",children:"units/case"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Pallet Count"}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("input",{type:"number",required:!0,min:"1",value:l.cases_per_pallet,onChange:S=>u({...l,cases_per_pallet:S.target.value}),disabled:a,className:"w-full px-3 py-2 rounded-lg border border-emerald-200 dark:border-emerald-800 bg-emerald-50/50 dark:bg-emerald-900/20 text-emerald-900 dark:text-emerald-100 text-sm font-bold disabled:opacity-50"}),p.jsx("span",{className:"text-xs text-emerald-600 dark:text-emerald-400",children:"cases/plt"})]})]})]})]}),p.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/10 p-4 rounded-xl space-y-4",children:[p.jsx("h3",{className:"text-xs font-bold text-indigo-600 uppercase tracking-wider",children:" Planning Settings"}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Lead Time"}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("input",{type:"number",required:!0,min:"0",value:l.lead_time_days,onChange:S=>u({...l,lead_time_days:S.target.value}),disabled:a,className:"w-full px-3 py-2 rounded-lg border border-indigo-200 dark:border-indigo-800 bg-indigo-50/50 dark:bg-indigo-900/20 text-indigo-900 dark:text-indigo-100 text-sm font-bold disabled:opacity-50"}),p.jsx("span",{className:"text-xs text-indigo-600 dark:text-indigo-400",children:"days"})]}),p.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Frozen zone for auto-balance logic."})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Safety Stock"}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("input",{type:"number",required:!0,min:"0",value:l.safety_stock_loads,onChange:S=>u({...l,safety_stock_loads:S.target.value}),disabled:a,className:"w-full px-3 py-2 rounded-lg border border-indigo-200 dark:border-indigo-800 bg-indigo-50/50 dark:bg-indigo-900/20 text-indigo-900 dark:text-indigo-100 text-sm font-bold disabled:opacity-50"}),p.jsx("span",{className:"text-xs text-indigo-600 dark:text-indigo-400",children:"loads"})]}),p.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Target floor inventory (multiplier)."})]})]})]}),p.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-4 rounded-xl space-y-4",children:[p.jsx("h3",{className:"text-xs font-bold text-blue-600 uppercase tracking-wider",children:" Raw Material Truck Spec"}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Inbound Truck Quantity"}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("input",{type:"number",required:!0,min:"1",step:"100",value:l.bottles_per_truck,onChange:S=>u({...l,bottles_per_truck:S.target.value}),disabled:a,className:"w-full px-3 py-2 rounded-lg border border-blue-200 dark:border-blue-800 bg-blue-50/50 dark:bg-blue-900/20 text-blue-900 dark:text-blue-100 text-lg font-black tracking-tight disabled:opacity-50"}),p.jsx("span",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium",children:"units / truck"})]}),p.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Total quantity of empty bottles/cans on a single full truckload."})]})]}),p.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-4 rounded-xl space-y-3",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h3",{className:"text-xs font-bold text-blue-500 uppercase tracking-wider",children:"Production Lines"}),!a&&p.jsxs("button",{type:"button",onClick:v,className:"text-xs text-blue-600 hover:text-blue-800 font-medium flex items-center gap-1",children:[p.jsx(l0,{className:"w-3 h-3"})," Add Line"]})]}),p.jsxs("div",{className:"space-y-2",children:[l.lines.map((S,j)=>p.jsxs("div",{className:"flex gap-2 items-center",children:[p.jsx("input",{type:"text",value:S.line_name,onChange:N=>_(j,"line_name",N.target.value),placeholder:"Line Name",disabled:a,className:"flex-1 px-3 py-1.5 rounded-lg border border-gray-200 dark:border-gray-600 text-sm disabled:opacity-50"}),p.jsx("input",{type:"number",value:S.production_rate,onChange:N=>_(j,"production_rate",N.target.value),placeholder:"CPH",disabled:a,className:"w-24 px-3 py-1.5 rounded-lg border border-gray-200 dark:border-gray-600 text-sm text-right disabled:opacity-50"}),!a&&p.jsx("button",{type:"button",onClick:()=>y(j),className:"p-1.5 text-red-500 hover:bg-red-100 rounded-lg transition-colors",title:"Remove Line",children:p.jsx(da,{className:"w-4 h-4"})})]},j)),l.lines.length===0&&p.jsx("p",{className:"text-xs text-center text-gray-400 py-2",children:"No active production lines."})]})]}),p.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t dark:border-gray-700 mt-6",children:[p.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded-lg text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:a?"Close":"Cancel"}),!a&&p.jsx("button",{type:"submit",disabled:d,className:"px-4 py-2 rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50 shadow-sm",children:d?"Saving...":"Save Configuration"})]})]})]})})]})}function Yoe({readOnly:e=!1}){const{user:t}=wr(),{products:r,loading:n,refreshProducts:a}=ur(),[s,l]=x.useState(!1),[u,d]=x.useState(null),f=v=>{d(v),l(!0)},m=()=>{d(null),l(!0)},g=()=>{a()};return p.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[p.jsxs("div",{className:"flex justify-between items-center bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[p.jsxs("div",{children:[p.jsxs("h1",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[p.jsx(Ff,{className:"w-6 h-6 text-blue-600"}),"Product Master Data"]}),p.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage SKUs, dimensions, and run rates."})]}),p.jsx("div",{className:"flex gap-2",children:!e&&p.jsxs("button",{onClick:m,className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium shadow-sm transition-all",children:[p.jsx(l0,{className:"w-5 h-5"}),"Add Product"]})})]}),n?p.jsx("div",{className:"flex justify-center p-12",children:p.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.map(v=>p.jsxs("div",{onClick:()=>f(v),className:"group bg-white dark:bg-gray-800 rounded-xl p-5 border border-gray-200 dark:border-gray-700 shadow-sm hover:shadow-md hover:border-blue-300 dark:hover:border-blue-700 cursor-pointer transition-all",children:[p.jsxs("div",{className:"flex justify-between items-start mb-4",children:[p.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:p.jsx(Ff,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),p.jsxs("span",{className:"text-xs font-mono text-gray-400",children:["ID: ",v.id.slice(0,4),"..."]})]}),p.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1",children:v.name}),v.description&&p.jsx("p",{className:"text-xs text-gray-500 mb-4 line-clamp-2",children:v.description}),p.jsxs("div",{className:"space-y-3 text-sm mt-4",children:[p.jsxs("div",{className:"flex justify-between py-1 border-b border-gray-100 dark:border-gray-700/50",children:[p.jsxs("span",{className:"text-gray-500 flex items-center gap-2",children:[p.jsx(un,{className:"w-4 h-4"}),"Bottles/Truck"]}),p.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-200",children:v.bottles_per_truck?.toLocaleString()})]}),p.jsxs("div",{className:"flex justify-between py-1 border-b border-gray-100 dark:border-gray-700/50",children:[p.jsx("span",{className:"text-gray-500",children:"Bottles/Case"}),p.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-200",children:v.bottles_per_case})]}),p.jsxs("div",{className:"flex justify-between py-1 border-b border-gray-100 dark:border-gray-700/50",children:[p.jsx("span",{className:"text-gray-500",children:"Cases/Pallet"}),p.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-200",children:v.cases_per_pallet})]}),p.jsxs("div",{className:"flex justify-between py-1 border-b border-gray-100 dark:border-gray-700/50",children:[p.jsx("span",{className:"text-gray-500",children:"Lead Time"}),p.jsxs("span",{className:"font-medium text-indigo-700 dark:text-indigo-300",children:[v.lead_time_days||2," Days"]})]}),p.jsxs("div",{className:"flex justify-between py-1 border-b border-gray-100 dark:border-gray-700/50",children:[p.jsx("span",{className:"text-gray-500",children:"Safety Stock"}),p.jsxs("span",{className:"font-medium text-indigo-700 dark:text-indigo-300",children:[v.safety_stock_loads||6," Loads"]})]}),p.jsxs("div",{className:"pt-2",children:[p.jsxs("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-2 block flex items-center gap-1",children:[p.jsx(u6,{className:"w-3 h-3 text-amber-500"}),"Run Rates (CPH)"]}),p.jsx("div",{className:"space-y-1",children:v.production_settings?.length>0?v.production_settings.map(y=>p.jsxs("div",{className:"flex justify-between text-xs bg-gray-50 dark:bg-gray-700/50 px-2 py-1 rounded",children:[p.jsx("span",{className:"text-gray-600 dark:text-gray-300 font-medium",children:y.line_name}),p.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:y.production_rate?.toLocaleString()})]},y.id||y.line_name)):p.jsx("div",{className:"text-xs text-gray-400 italic",children:"No rates configured"})})]})]})]},v.id)),r.length===0&&p.jsxs("div",{className:"col-span-full py-12 text-center text-gray-400 border-2 border-dashed border-gray-200 rounded-xl",children:[p.jsx(Ff,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),p.jsx("p",{children:"No products found. Add your first SKU!"})]})]}),p.jsx(Goe,{isOpen:s,onClose:()=>l(!1),product:u,onSave:g,readOnly:e})]})}function Woe({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{fillRule:"evenodd",d:"M12.53 16.28a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 0 1 1.06-1.06L12 14.69l6.97-6.97a.75.75 0 1 1 1.06 1.06l-7.5 7.5Z",clipRule:"evenodd"}))}const Xoe=x.forwardRef(Woe);function Joe({mrp:e,scheduler:t,activeSku:r}){const{formState:n,setters:a,results:s}=e,{productMap:l}=ur(),u=Object.keys(l);if(!s)return null;const d=vt(new Date),f=s?.dailyLedger||[];f.find(M=>M.date===d);const m=s.calculatedPallets||0,g=n.yardInventory?.count||0,v=s.specs||{},y=v.bottlesPerCase||1,_=v.casesPerPallet||1,S=(s.safetyTarget||0)/(y*_),j=(v.bottlesPerTruck||2e4)/(y*_),N=m+g*j;let E=0,C=!1;for(const M of f){if(M.balance<0){C=!0;break}M.date>=d&&E++}const A=C?E:"14+",T=C?E<=2?"text-rose-600 dark:text-rose-400":"text-amber-600 dark:text-amber-400":"text-emerald-600 dark:text-emerald-400",P=C?E<=2?"border-rose-200 dark:border-rose-900 bg-rose-50 dark:bg-rose-900/10":"border-amber-200 dark:border-amber-900 bg-amber-50 dark:bg-amber-900/10":"border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900";return p.jsx("div",{className:`w-full mb-6 rounded-xl border p-4 shadow-lg bg-slate-200 dark:bg-slate-800/50 transition-all ${P}`,children:p.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between gap-6",children:[p.jsxs("div",{className:"flex items-center gap-6 w-full lg:w-auto",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"h-12 w-12 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center flex-shrink-0 shadow-inner",children:p.jsx(rx,{className:"w-6 h-6 text-slate-500"})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-xs font-bold uppercase tracking-wider text-slate-500 dark:text-slate-400",children:"Production Plan"}),p.jsxs("div",{className:"relative group flex items-center",children:[p.jsx("select",{className:"appearance-none bg-transparent hover:bg-slate-50 dark:hover:bg-slate-800 text-xl font-extrabold text-slate-800 dark:text-white pr-6 py-0.5 rounded cursor-pointer outline-none focus:ring-2 focus:ring-blue-500 transition-colors",value:n.selectedSize,onChange:M=>a.setSelectedSize(M.target.value),children:u.map(M=>p.jsx("option",{value:M,children:M},M))}),p.jsx(Xoe,{className:"w-4 h-4 text-slate-400 -ml-4 pointer-events-none group-hover:text-blue-500"})]})]})]}),p.jsxs("div",{className:"hidden md:flex items-center gap-4 border-l border-slate-200 dark:border-slate-700 pl-6",children:[p.jsx(O5,{label:"Rate (cph)",value:n.productionRate,onChange:M=>a.setProductionRate(M),width:"w-20"}),p.jsx(O5,{label:"Downtime (hr)",value:n.downtimeHours,onChange:M=>a.setDowntimeHours(M),width:"w-16"})]})]}),p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 w-full lg:w-auto flex-grow justify-end",children:[p.jsx("div",{className:"text-center md:text-right",children:p.jsx(E5,{label:"Floor Stock",value:Math.round(m),unit:"plts",onSave:M=>a.setInventoryAnchor({date:Hr(),count:Number(M)})})}),p.jsx("div",{className:"text-center md:text-right border-l dark:border-slate-700 pl-6",children:p.jsx(E5,{label:"Yard Stock",value:Number(g),unit:"loads",onSave:M=>a.updateYardInventory(M),colorClass:"text-blue-600 dark:text-blue-400"})}),p.jsxs("div",{className:"text-center md:text-right border-l dark:border-slate-700 pl-6",children:[p.jsx("div",{className:"text-xs font-bold uppercase tracking-wider text-slate-400",children:"Runway"}),p.jsxs("div",{className:`text-2xl font-black flex items-center justify-center md:justify-end gap-2 ${T}`,children:[C?p.jsx(D5,{className:"w-5 h-5"}):p.jsx(o0,{className:"w-5 h-5"}),A," ",p.jsx("span",{className:"text-sm text-slate-400 font-medium",children:"Days"})]})]}),p.jsx("div",{className:"hidden md:flex flex-col items-end justify-center border-l dark:border-slate-700 pl-6",children:p.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide border ${N>=S?"bg-emerald-50 text-emerald-700 border-emerald-200 dark:bg-emerald-900/20 dark:text-emerald-400":"bg-amber-50 text-amber-700 border-amber-200 dark:bg-amber-900/20 dark:text-amber-400"}`,children:N>=S?"Secure":"Below Safety"})})]})]})})}function E5({label:e,value:t,unit:r,onSave:n,colorClass:a="text-slate-700 dark:text-slate-200"}){const[s,l]=x.useState(!1),[u,d]=x.useState(t===0?"":t);x.useEffect(()=>d(t===0?"":t),[t]);const f=m=>{m.key==="Enter"&&(n(u),l(!1))};return s?p.jsxs("div",{className:"flex flex-col items-end",children:[p.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-slate-400 mb-1",children:e}),p.jsx("input",{autoFocus:!0,type:"number",className:"w-24 text-right text-xl font-bold p-1 bg-white dark:bg-slate-800 border-2 border-blue-400 rounded shadow-md outline-none",value:u,onChange:m=>d(m.target.value),onBlur:()=>{n(u),l(!1)},onKeyDown:f})]}):p.jsxs("div",{className:"group cursor-pointer relative",onClick:()=>l(!0),children:[p.jsxs("div",{className:"flex items-center justify-end gap-1 mb-0.5",children:[p.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-slate-400 group-hover:text-blue-500 transition-colors",children:e}),p.jsx(Wc,{className:"w-3 h-3 text-slate-300 opacity-0 group-hover:opacity-100 transition-opacity"})]}),p.jsxs("div",{className:`text-2xl font-black ${a} group-hover:bg-slate-50 dark:group-hover:bg-slate-800 rounded px-1 -mr-1 transition-colors`,children:[Number(t).toLocaleString()," ",p.jsx("span",{className:"text-xs font-medium text-slate-400",children:r})]})]})}function O5({label:e,value:t,onChange:r,width:n}){return p.jsxs("div",{className:"flex flex-col",children:[p.jsx("label",{className:"text-[10px] uppercase font-bold text-slate-400 mb-0.5 ml-1",children:e}),p.jsx("input",{type:"number",className:`${n} bg-transparent hover:bg-slate-50 dark:hover:bg-slate-800 border-b-2 border-transparent hover:border-slate-300 dark:hover:border-slate-600 rounded-t p-1 text-lg font-extrabold text-slate-800 dark:text-white focus:bg-white dark:focus:bg-slate-800 focus:border-blue-500 focus:ring-0 outline-none transition-all`,value:t===0?"":t,onChange:a=>r(a.target.value),onFocus:a=>a.target.select()})]})}function Qoe(){const{user:e,loading:t,userRole:r}=wr(),{uploadLocalData:n}=_l(),{productMap:a}=ur(),s=Object.keys(a);return x.useEffect(()=>{e&&n(e,s,r)},[e,s,n,r]),x.useEffect(()=>{document.title="UBP Planner v2.25.42"},[]),t?p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-slate-900 transition-colors",children:p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx("div",{className:"h-24 w-24 bg-white rounded-full shadow-2xl shadow-blue-500/20 flex items-center justify-center overflow-hidden animate-pulse",children:p.jsx("img",{src:h0,className:"h-[95%] w-[95%] object-contain",alt:"Loading..."})}),p.jsx("div",{className:"mt-6 text-slate-400 font-extrabold tracking-[0.2em] uppercase text-xs animate-pulse",children:"Loading Planner..."})]})}):e?p.jsx(OB,{children:p.jsx(ele,{user:e})}):p.jsx(Koe,{})}function ele({user:e}){const{userRole:t}=wr(),r=t||"admin",n=["admin","planner"].includes(r),a=["admin","planner","logistics"].includes(r),[s,l]=x.useState(()=>localStorage.getItem("activeTab")||"logistics"),[u,d]=x.useState(!1);x.useEffect(()=>{(s==="mrp"||s==="master")&&!n&&l("logistics"),localStorage.setItem("activeTab",s)},[s,n]);const{poManifest:f}=Jn(),m=qoe(f),g=Hoe(),{activeSku:v}=Xn(),{productMap:y}=ur(),_=Object.keys(y),k=Foe(_,s==="master");return p.jsxs("div",{id:"main-app-wrapper",className:"min-h-screen flex flex-col transition-colors duration-200 bg-slate-300 dark:bg-slate-900",children:[p.jsx(NI,{onOpenSettings:()=>d(!0),isSaving:m.formState.isSaving,saveError:m.formState.saveError,activeTab:s,setActiveTab:l}),p.jsxs("main",{className:"flex-grow p-2 md:p-6 w-full pt-4",children:[p.jsx(Joe,{mrp:m,scheduler:g,activeSku:v}),p.jsx("div",{className:s==="logistics"?"block":"hidden",children:p.jsx(Zoe,{state:m.formState,setters:m.setters,results:m.results,readOnly:!a})}),p.jsx("div",{className:s==="mrp"?"block":"hidden",children:p.jsx(Poe,{state:m.formState,setters:m.setters,results:m.results,readOnly:!n})}),p.jsx("div",{className:s==="scheduler"?"block":"hidden",children:p.jsx(Loe,{state:g.formState,setters:g.setters,results:g.results,readOnly:!a})}),p.jsx("div",{className:s==="master"?"block":"hidden",children:p.jsx(Voe,{masterLedger:k.masterLedger,loading:k.loading})}),p.jsx("div",{className:s==="products"?"block":"hidden",children:p.jsx(Yoe,{readOnly:!a})})]}),u&&p.jsx(RB,{onClose:()=>d(!1)})]})}class tle extends ye.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,r){this.setState({error:t,errorInfo:r}),console.error("Uncaught error:",t,r)}render(){return this.state.hasError?p.jsxs("div",{style:{padding:"20px",backgroundColor:"#fee2e2",border:"1px solid #ef4444",margin:"20px",borderRadius:"8px",color:"#7f1d1d"},children:[p.jsx("h1",{style:{fontSize:"1.5rem",fontWeight:"bold",marginBottom:"10px"},children:"Something went wrong."}),p.jsx("p",{style:{fontWeight:"bold"},children:this.state.error&&this.state.error.toString()}),p.jsx("details",{style:{marginTop:"10px",whiteSpace:"pre-wrap"},children:this.state.errorInfo&&this.state.errorInfo.componentStack})]}):this.props.children}}e6.createRoot(document.getElementById("root")).render(p.jsx(tle,{children:p.jsx(EI,{children:p.jsx(jB,{children:p.jsx(EB,{children:p.jsx(Qoe,{})})})})}));
