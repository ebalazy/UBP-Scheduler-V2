function C5(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var hf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ni(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function _u(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){var a=!1;try{a=this instanceof n}catch{}return a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var Og={exports:{}},Nc={};var n2;function Z6(){if(n2)return Nc;n2=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,a,s){var l=null;if(s!==void 0&&(l=""+s),a.key!==void 0&&(l=""+a.key),"key"in a){s={};for(var u in a)u!=="key"&&(s[u]=a[u])}else s=a;return a=s.ref,{$$typeof:e,type:n,key:l,ref:a!==void 0?a:null,props:s}}return Nc.Fragment=t,Nc.jsx=r,Nc.jsxs=r,Nc}var a2;function G6(){return a2||(a2=1,Og.exports=Z6()),Og.exports}var m=G6(),Ag={exports:{}},De={};var i2;function Y6(){if(i2)return De;i2=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),v=Symbol.iterator;function y(I){return I===null||typeof I!="object"?null:(I=v&&I[v]||I["@@iterator"],typeof I=="function"?I:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,S={};function j(I,W,Q){this.props=I,this.context=W,this.refs=S,this.updater=Q||_}j.prototype.isReactComponent={},j.prototype.setState=function(I,W){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,W,"setState")},j.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function A(){}A.prototype=j.prototype;function E(I,W,Q){this.props=I,this.context=W,this.refs=S,this.updater=Q||_}var P=E.prototype=new A;P.constructor=E,k(P,j.prototype),P.isPureReactComponent=!0;var O=Array.isArray;function T(){}var C={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function R(I,W,Q){var K=Q.ref;return{$$typeof:e,type:I,key:W,ref:K!==void 0?K:null,props:Q}}function L(I,W){return R(I.type,W,I.props)}function $(I){return typeof I=="object"&&I!==null&&I.$$typeof===e}function q(I){var W={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(Q){return W[Q]})}var V=/\/+/g;function se(I,W){return typeof I=="object"&&I!==null&&I.key!=null?q(""+I.key):W.toString(36)}function de(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(T,T):(I.status="pending",I.then(function(W){I.status==="pending"&&(I.status="fulfilled",I.value=W)},function(W){I.status==="pending"&&(I.status="rejected",I.reason=W)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function U(I,W,Q,K,ae){var re=typeof I;(re==="undefined"||re==="boolean")&&(I=null);var ee=!1;if(I===null)ee=!0;else switch(re){case"bigint":case"string":case"number":ee=!0;break;case"object":switch(I.$$typeof){case e:case t:ee=!0;break;case p:return ee=I._init,U(ee(I._payload),W,Q,K,ae)}}if(ee)return ae=ae(I),ee=K===""?"."+se(I,0):K,O(ae)?(Q="",ee!=null&&(Q=ee.replace(V,"$&/")+"/"),U(ae,W,Q,"",function(me){return me})):ae!=null&&($(ae)&&(ae=L(ae,Q+(ae.key==null||I&&I.key===ae.key?"":(""+ae.key).replace(V,"$&/")+"/")+ee)),W.push(ae)),1;ee=0;var we=K===""?".":K+":";if(O(I))for(var X=0;X<I.length;X++)K=I[X],re=we+se(K,X),ee+=U(K,W,Q,re,ae);else if(X=y(I),typeof X=="function")for(I=X.call(I),X=0;!(K=I.next()).done;)K=K.value,re=we+se(K,X++),ee+=U(K,W,Q,re,ae);else if(re==="object"){if(typeof I.then=="function")return U(de(I),W,Q,K,ae);throw W=String(I),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return ee}function H(I,W,Q){if(I==null)return I;var K=[],ae=0;return U(I,K,"","",function(re){return W.call(Q,re,ae++)}),K}function Y(I){if(I._status===-1){var W=I._result;W=W(),W.then(function(Q){(I._status===0||I._status===-1)&&(I._status=1,I._result=Q)},function(Q){(I._status===0||I._status===-1)&&(I._status=2,I._result=Q)}),I._status===-1&&(I._status=0,I._result=W)}if(I._status===1)return I._result.default;throw I._result}var fe=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},pe={map:H,forEach:function(I,W,Q){H(I,function(){W.apply(this,arguments)},Q)},count:function(I){var W=0;return H(I,function(){W++}),W},toArray:function(I){return H(I,function(W){return W})||[]},only:function(I){if(!$(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return De.Activity=g,De.Children=pe,De.Component=j,De.Fragment=r,De.Profiler=a,De.PureComponent=E,De.StrictMode=n,De.Suspense=d,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,De.__COMPILER_RUNTIME={__proto__:null,c:function(I){return C.H.useMemoCache(I)}},De.cache=function(I){return function(){return I.apply(null,arguments)}},De.cacheSignal=function(){return null},De.cloneElement=function(I,W,Q){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var K=k({},I.props),ae=I.key;if(W!=null)for(re in W.key!==void 0&&(ae=""+W.key),W)!D.call(W,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&W.ref===void 0||(K[re]=W[re]);var re=arguments.length-2;if(re===1)K.children=Q;else if(1<re){for(var ee=Array(re),we=0;we<re;we++)ee[we]=arguments[we+2];K.children=ee}return R(I.type,ae,K)},De.createContext=function(I){return I={$$typeof:l,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:s,_context:I},I},De.createElement=function(I,W,Q){var K,ae={},re=null;if(W!=null)for(K in W.key!==void 0&&(re=""+W.key),W)D.call(W,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(ae[K]=W[K]);var ee=arguments.length-2;if(ee===1)ae.children=Q;else if(1<ee){for(var we=Array(ee),X=0;X<ee;X++)we[X]=arguments[X+2];ae.children=we}if(I&&I.defaultProps)for(K in ee=I.defaultProps,ee)ae[K]===void 0&&(ae[K]=ee[K]);return R(I,re,ae)},De.createRef=function(){return{current:null}},De.forwardRef=function(I){return{$$typeof:u,render:I}},De.isValidElement=$,De.lazy=function(I){return{$$typeof:p,_payload:{_status:-1,_result:I},_init:Y}},De.memo=function(I,W){return{$$typeof:f,type:I,compare:W===void 0?null:W}},De.startTransition=function(I){var W=C.T,Q={};C.T=Q;try{var K=I(),ae=C.S;ae!==null&&ae(Q,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(T,fe)}catch(re){fe(re)}finally{W!==null&&Q.types!==null&&(W.types=Q.types),C.T=W}},De.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},De.use=function(I){return C.H.use(I)},De.useActionState=function(I,W,Q){return C.H.useActionState(I,W,Q)},De.useCallback=function(I,W){return C.H.useCallback(I,W)},De.useContext=function(I){return C.H.useContext(I)},De.useDebugValue=function(){},De.useDeferredValue=function(I,W){return C.H.useDeferredValue(I,W)},De.useEffect=function(I,W){return C.H.useEffect(I,W)},De.useEffectEvent=function(I){return C.H.useEffectEvent(I)},De.useId=function(){return C.H.useId()},De.useImperativeHandle=function(I,W,Q){return C.H.useImperativeHandle(I,W,Q)},De.useInsertionEffect=function(I,W){return C.H.useInsertionEffect(I,W)},De.useLayoutEffect=function(I,W){return C.H.useLayoutEffect(I,W)},De.useMemo=function(I,W){return C.H.useMemo(I,W)},De.useOptimistic=function(I,W){return C.H.useOptimistic(I,W)},De.useReducer=function(I,W,Q){return C.H.useReducer(I,W,Q)},De.useRef=function(I){return C.H.useRef(I)},De.useState=function(I){return C.H.useState(I)},De.useSyncExternalStore=function(I,W,Q){return C.H.useSyncExternalStore(I,W,Q)},De.useTransition=function(){return C.H.useTransition()},De.version="19.2.1",De}var s2;function bl(){return s2||(s2=1,Ag.exports=Y6()),Ag.exports}var x=bl();const ge=ni(x),Ey=C5({__proto__:null,default:ge},[x]);var Tg={exports:{}},Oc={},Cg={exports:{}},Pg={};var o2;function W6(){return o2||(o2=1,(function(e){function t(U,H){var Y=U.length;U.push(H);e:for(;0<Y;){var fe=Y-1>>>1,pe=U[fe];if(0<a(pe,H))U[fe]=H,U[Y]=pe,Y=fe;else break e}}function r(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var H=U[0],Y=U.pop();if(Y!==H){U[0]=Y;e:for(var fe=0,pe=U.length,I=pe>>>1;fe<I;){var W=2*(fe+1)-1,Q=U[W],K=W+1,ae=U[K];if(0>a(Q,Y))K<pe&&0>a(ae,Q)?(U[fe]=ae,U[K]=Y,fe=K):(U[fe]=Q,U[W]=Y,fe=W);else if(K<pe&&0>a(ae,Y))U[fe]=ae,U[K]=Y,fe=K;else break e}}return H}function a(U,H){var Y=U.sortIndex-H.sortIndex;return Y!==0?Y:U.id-H.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],f=[],p=1,g=null,v=3,y=!1,_=!1,k=!1,S=!1,j=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function P(U){for(var H=r(f);H!==null;){if(H.callback===null)n(f);else if(H.startTime<=U)n(f),H.sortIndex=H.expirationTime,t(d,H);else break;H=r(f)}}function O(U){if(k=!1,P(U),!_)if(r(d)!==null)_=!0,T||(T=!0,q());else{var H=r(f);H!==null&&de(O,H.startTime-U)}}var T=!1,C=-1,D=5,R=-1;function L(){return S?!0:!(e.unstable_now()-R<D)}function $(){if(S=!1,T){var U=e.unstable_now();R=U;var H=!0;try{e:{_=!1,k&&(k=!1,A(C),C=-1),y=!0;var Y=v;try{t:{for(P(U),g=r(d);g!==null&&!(g.expirationTime>U&&L());){var fe=g.callback;if(typeof fe=="function"){g.callback=null,v=g.priorityLevel;var pe=fe(g.expirationTime<=U);if(U=e.unstable_now(),typeof pe=="function"){g.callback=pe,P(U),H=!0;break t}g===r(d)&&n(d),P(U)}else n(d);g=r(d)}if(g!==null)H=!0;else{var I=r(f);I!==null&&de(O,I.startTime-U),H=!1}}break e}finally{g=null,v=Y,y=!1}H=void 0}}finally{H?q():T=!1}}}var q;if(typeof E=="function")q=function(){E($)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,se=V.port2;V.port1.onmessage=$,q=function(){se.postMessage(null)}}else q=function(){j($,0)};function de(U,H){C=j(function(){U(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(U){switch(v){case 1:case 2:case 3:var H=3;break;default:H=v}var Y=v;v=H;try{return U()}finally{v=Y}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(U,H){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var Y=v;v=U;try{return H()}finally{v=Y}},e.unstable_scheduleCallback=function(U,H,Y){var fe=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?fe+Y:fe):Y=fe,U){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=Y+pe,U={id:p++,callback:H,priorityLevel:U,startTime:Y,expirationTime:pe,sortIndex:-1},Y>fe?(U.sortIndex=Y,t(f,U),r(d)===null&&U===r(f)&&(k?(A(C),C=-1):k=!0,de(O,Y-fe))):(U.sortIndex=pe,t(d,U),_||y||(_=!0,T||(T=!0,q()))),U},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(U){var H=v;return function(){var Y=v;v=H;try{return U.apply(this,arguments)}finally{v=Y}}}})(Pg)),Pg}var l2;function X6(){return l2||(l2=1,Cg.exports=W6()),Cg.exports}var Dg={exports:{}},vr={};var c2;function J6(){if(c2)return vr;c2=1;var e=bl();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(d,f,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:d,containerInfo:f,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return vr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,vr.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return s(d,f,null,p)},vr.flushSync=function(d){var f=l.T,p=n.p;try{if(l.T=null,n.p=2,d)return d()}finally{l.T=f,n.p=p,n.d.f()}},vr.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(d,f))},vr.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},vr.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,g=u(p,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,y=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?n.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:y}):p==="script"&&n.d.X(d,{crossOrigin:g,integrity:v,fetchPriority:y,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},vr.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=u(f.as,f.crossOrigin);n.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(d)},vr.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,g=u(p,f.crossOrigin);n.d.L(d,p,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},vr.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=u(f.as,f.crossOrigin);n.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(d)},vr.requestFormReset=function(d){n.d.r(d)},vr.unstable_batchedUpdates=function(d,f){return d(f)},vr.useFormState=function(d,f,p){return l.H.useFormState(d,f,p)},vr.useFormStatus=function(){return l.H.useHostTransitionStatus()},vr.version="19.2.1",vr}var u2;function P5(){if(u2)return Dg.exports;u2=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Dg.exports=J6(),Dg.exports}var d2;function Q6(){if(d2)return Oc;d2=1;var e=X6(),t=bl(),r=P5();function n(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function s(i){var o=i,c=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(c=o.return),i=o.return;while(i)}return o.tag===3?c:null}function l(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function u(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function d(i){if(s(i)!==i)throw Error(n(188))}function f(i){var o=i.alternate;if(!o){if(o=s(i),o===null)throw Error(n(188));return o!==i?null:i}for(var c=i,h=o;;){var b=c.return;if(b===null)break;var w=b.alternate;if(w===null){if(h=b.return,h!==null){c=h;continue}break}if(b.child===w.child){for(w=b.child;w;){if(w===c)return d(b),i;if(w===h)return d(b),o;w=w.sibling}throw Error(n(188))}if(c.return!==h.return)c=b,h=w;else{for(var N=!1,M=b.child;M;){if(M===c){N=!0,c=b,h=w;break}if(M===h){N=!0,h=b,c=w;break}M=M.sibling}if(!N){for(M=w.child;M;){if(M===c){N=!0,c=w,h=b;break}if(M===h){N=!0,h=w,c=b;break}M=M.sibling}if(!N)throw Error(n(189))}}if(c.alternate!==h)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?i:o}function p(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=p(i),o!==null)return o;i=i.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),E=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function q(i){return i===null||typeof i!="object"?null:(i=$&&i[$]||i["@@iterator"],typeof i=="function"?i:null)}var V=Symbol.for("react.client.reference");function se(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===V?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case k:return"Fragment";case j:return"Profiler";case S:return"StrictMode";case O:return"Suspense";case T:return"SuspenseList";case R:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case _:return"Portal";case E:return i.displayName||"Context";case A:return(i._context.displayName||"Context")+".Consumer";case P:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case C:return o=i.displayName||null,o!==null?o:se(i.type)||"Memo";case D:o=i._payload,i=i._init;try{return se(i(o))}catch{}}return null}var de=Array.isArray,U=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y={pending:!1,data:null,method:null,action:null},fe=[],pe=-1;function I(i){return{current:i}}function W(i){0>pe||(i.current=fe[pe],fe[pe]=null,pe--)}function Q(i,o){pe++,fe[pe]=i.current,i.current=o}var K=I(null),ae=I(null),re=I(null),ee=I(null);function we(i,o){switch(Q(re,o),Q(ae,i),Q(K,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?Ek(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=Ek(o),i=Nk(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}W(K),Q(K,i)}function X(){W(K),W(ae),W(re)}function me(i){i.memoizedState!==null&&Q(ee,i);var o=K.current,c=Nk(o,i.type);o!==c&&(Q(ae,i),Q(K,c))}function _e(i){ae.current===i&&(W(K),W(ae)),ee.current===i&&(W(ee),Sc._currentValue=Y)}var ue,Ge;function Pe(i){if(ue===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);ue=o&&o[1]||"",Ge=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ue+i+Ge}var he=!1;function ve(i,o){if(!i||he)return"";he=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(o){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(te){var J=te}Reflect.construct(i,[],le)}else{try{le.call()}catch(te){J=te}i.call(le.prototype)}}else{try{throw Error()}catch(te){J=te}(le=i())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(te){if(te&&J&&typeof te.stack=="string")return[te.stack,J.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=h.DetermineComponentFrameRoot(),N=w[0],M=w[1];if(N&&M){var z=N.split(`
`),G=M.split(`
`);for(b=h=0;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;for(;b<G.length&&!G[b].includes("DetermineComponentFrameRoot");)b++;if(h===z.length||b===G.length)for(h=z.length-1,b=G.length-1;1<=h&&0<=b&&z[h]!==G[b];)b--;for(;1<=h&&0<=b;h--,b--)if(z[h]!==G[b]){if(h!==1||b!==1)do if(h--,b--,0>b||z[h]!==G[b]){var ie=`
`+z[h].replace(" at new "," at ");return i.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",i.displayName)),ie}while(1<=h&&0<=b);break}}}finally{he=!1,Error.prepareStackTrace=c}return(c=i?i.displayName||i.name:"")?Pe(c):""}function je(i,o){switch(i.tag){case 26:case 27:case 5:return Pe(i.type);case 16:return Pe("Lazy");case 13:return i.child!==o&&o!==null?Pe("Suspense Fallback"):Pe("Suspense");case 19:return Pe("SuspenseList");case 0:case 15:return ve(i.type,!1);case 11:return ve(i.type.render,!1);case 1:return ve(i.type,!0);case 31:return Pe("Activity");default:return""}}function ze(i){try{var o="",c=null;do o+=je(i,c),c=i,i=i.return;while(i);return o}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var Kt=Object.prototype.hasOwnProperty,Yr=e.unstable_scheduleCallback,mn=e.unstable_cancelCallback,di=e.unstable_shouldYield,mr=e.unstable_requestPaint,Ye=e.unstable_now,pn=e.unstable_getCurrentPriorityLevel,pr=e.unstable_ImmediatePriority,ga=e.unstable_UserBlockingPriority,bt=e.unstable_NormalPriority,Lt=e.unstable_LowPriority,gr=e.unstable_IdlePriority,Ml=e.log,Rl=e.unstable_setDisableYieldValue,va=null,kr=null;function gn(i){if(typeof Ml=="function"&&Rl(i),kr&&typeof kr.setStrictMode=="function")try{kr.setStrictMode(va,i)}catch{}}var It=Math.clz32?Math.clz32:DM,no=Math.log,Yu=Math.LN2;function DM(i){return i>>>=0,i===0?32:31-(no(i)/Yu|0)|0}var Wu=256,Xu=262144,Ju=4194304;function ts(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Qu(i,o,c){var h=i.pendingLanes;if(h===0)return 0;var b=0,w=i.suspendedLanes,N=i.pingedLanes;i=i.warmLanes;var M=h&134217727;return M!==0?(h=M&~w,h!==0?b=ts(h):(N&=M,N!==0?b=ts(N):c||(c=M&~i,c!==0&&(b=ts(c))))):(M=h&~w,M!==0?b=ts(M):N!==0?b=ts(N):c||(c=h&~i,c!==0&&(b=ts(c)))),b===0?0:o!==0&&o!==b&&(o&w)===0&&(w=b&-b,c=o&-o,w>=c||w===32&&(c&4194048)!==0)?o:b}function $l(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function MM(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function o1(){var i=Ju;return Ju<<=1,(Ju&62914560)===0&&(Ju=4194304),i}function gm(i){for(var o=[],c=0;31>c;c++)o.push(i);return o}function Ll(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function RM(i,o,c,h,b,w){var N=i.pendingLanes;i.pendingLanes=c,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=c,i.entangledLanes&=c,i.errorRecoveryDisabledLanes&=c,i.shellSuspendCounter=0;var M=i.entanglements,z=i.expirationTimes,G=i.hiddenUpdates;for(c=N&~c;0<c;){var ie=31-It(c),le=1<<ie;M[ie]=0,z[ie]=-1;var J=G[ie];if(J!==null)for(G[ie]=null,ie=0;ie<J.length;ie++){var te=J[ie];te!==null&&(te.lane&=-536870913)}c&=~le}h!==0&&l1(i,h,0),w!==0&&b===0&&i.tag!==0&&(i.suspendedLanes|=w&~(N&~o))}function l1(i,o,c){i.pendingLanes|=o,i.suspendedLanes&=~o;var h=31-It(o);i.entangledLanes|=o,i.entanglements[h]=i.entanglements[h]|1073741824|c&261930}function c1(i,o){var c=i.entangledLanes|=o;for(i=i.entanglements;c;){var h=31-It(c),b=1<<h;b&o|i[h]&o&&(i[h]|=o),c&=~b}}function u1(i,o){var c=o&-o;return c=(c&42)!==0?1:vm(c),(c&(i.suspendedLanes|o))!==0?0:c}function vm(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ym(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function d1(){var i=H.p;return i!==0?i:(i=window.event,i===void 0?32:Wk(i.type))}function f1(i,o){var c=H.p;try{return H.p=i,o()}finally{H.p=c}}var fi=Math.random().toString(36).slice(2),Qt="__reactFiber$"+fi,Mr="__reactProps$"+fi,ao="__reactContainer$"+fi,bm="__reactEvents$"+fi,$M="__reactListeners$"+fi,LM="__reactHandles$"+fi,h1="__reactResources$"+fi,Il="__reactMarker$"+fi;function xm(i){delete i[Qt],delete i[Mr],delete i[bm],delete i[$M],delete i[LM]}function io(i){var o=i[Qt];if(o)return o;for(var c=i.parentNode;c;){if(o=c[ao]||c[Qt]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(i=Mk(i);i!==null;){if(c=i[Qt])return c;i=Mk(i)}return o}i=c,c=i.parentNode}return null}function so(i){if(i=i[Qt]||i[ao]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function zl(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(n(33))}function oo(i){var o=i[h1];return o||(o=i[h1]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Zt(i){i[Il]=!0}var m1=new Set,p1={};function rs(i,o){lo(i,o),lo(i+"Capture",o)}function lo(i,o){for(p1[i]=o,i=0;i<o.length;i++)m1.add(o[i])}var IM=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),g1={},v1={};function zM(i){return Kt.call(v1,i)?!0:Kt.call(g1,i)?!1:IM.test(i)?v1[i]=!0:(g1[i]=!0,!1)}function ed(i,o,c){if(zM(o))if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var h=o.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+c)}}function td(i,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+c)}}function ya(i,o,c,h){if(h===null)i.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(c);return}i.setAttributeNS(o,c,""+h)}}function vn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function y1(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function UM(i,o,c){var h=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var b=h.get,w=h.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return b.call(this)},set:function(N){c=""+N,w.call(this,N)}}),Object.defineProperty(i,o,{enumerable:h.enumerable}),{getValue:function(){return c},setValue:function(N){c=""+N},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function wm(i){if(!i._valueTracker){var o=y1(i)?"checked":"value";i._valueTracker=UM(i,o,""+i[o])}}function b1(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var c=o.getValue(),h="";return i&&(h=y1(i)?i.checked?"true":"false":i.value),i=h,i!==c?(o.setValue(i),!0):!1}function rd(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var BM=/[\n"\\]/g;function yn(i){return i.replace(BM,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function _m(i,o,c,h,b,w,N,M){i.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?i.type=N:i.removeAttribute("type"),o!=null?N==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+vn(o)):i.value!==""+vn(o)&&(i.value=""+vn(o)):N!=="submit"&&N!=="reset"||i.removeAttribute("value"),o!=null?Sm(i,N,vn(o)):c!=null?Sm(i,N,vn(c)):h!=null&&i.removeAttribute("value"),b==null&&w!=null&&(i.defaultChecked=!!w),b!=null&&(i.checked=b&&typeof b!="function"&&typeof b!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?i.name=""+vn(M):i.removeAttribute("name")}function x1(i,o,c,h,b,w,N,M){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.type=w),o!=null||c!=null){if(!(w!=="submit"&&w!=="reset"||o!=null)){wm(i);return}c=c!=null?""+vn(c):"",o=o!=null?""+vn(o):c,M||o===i.value||(i.value=o),i.defaultValue=o}h=h??b,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=M?i.checked:!!h,i.defaultChecked=!!h,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(i.name=N),wm(i)}function Sm(i,o,c){o==="number"&&rd(i.ownerDocument)===i||i.defaultValue===""+c||(i.defaultValue=""+c)}function co(i,o,c,h){if(i=i.options,o){o={};for(var b=0;b<c.length;b++)o["$"+c[b]]=!0;for(c=0;c<i.length;c++)b=o.hasOwnProperty("$"+i[c].value),i[c].selected!==b&&(i[c].selected=b),b&&h&&(i[c].defaultSelected=!0)}else{for(c=""+vn(c),o=null,b=0;b<i.length;b++){if(i[b].value===c){i[b].selected=!0,h&&(i[b].defaultSelected=!0);return}o!==null||i[b].disabled||(o=i[b])}o!==null&&(o.selected=!0)}}function w1(i,o,c){if(o!=null&&(o=""+vn(o),o!==i.value&&(i.value=o),c==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=c!=null?""+vn(c):""}function _1(i,o,c,h){if(o==null){if(h!=null){if(c!=null)throw Error(n(92));if(de(h)){if(1<h.length)throw Error(n(93));h=h[0]}c=h}c==null&&(c=""),o=c}c=vn(o),i.defaultValue=c,h=i.textContent,h===c&&h!==""&&h!==null&&(i.value=h),wm(i)}function uo(i,o){if(o){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=o;return}}i.textContent=o}var qM=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function S1(i,o,c){var h=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":h?i.setProperty(o,c):typeof c!="number"||c===0||qM.has(o)?o==="float"?i.cssFloat=c:i[o]=(""+c).trim():i[o]=c+"px"}function k1(i,o,c){if(o!=null&&typeof o!="object")throw Error(n(62));if(i=i.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||o!=null&&o.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var b in o)h=o[b],o.hasOwnProperty(b)&&c[b]!==h&&S1(i,b,h)}else for(var w in o)o.hasOwnProperty(w)&&S1(i,w,o[w])}function km(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var HM=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),FM=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function nd(i){return FM.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ba(){}var jm=null;function Em(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var fo=null,ho=null;function j1(i){var o=so(i);if(o&&(i=o.stateNode)){var c=i[Mr]||null;e:switch(i=o.stateNode,o.type){case"input":if(_m(i,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+yn(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var h=c[o];if(h!==i&&h.form===i.form){var b=h[Mr]||null;if(!b)throw Error(n(90));_m(h,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(o=0;o<c.length;o++)h=c[o],h.form===i.form&&b1(h)}break e;case"textarea":w1(i,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&co(i,!!c.multiple,o,!1)}}}var Nm=!1;function E1(i,o,c){if(Nm)return i(o,c);Nm=!0;try{var h=i(o);return h}finally{if(Nm=!1,(fo!==null||ho!==null)&&(Fd(),fo&&(o=fo,i=ho,ho=fo=null,j1(o),i)))for(o=0;o<i.length;o++)j1(i[o])}}function Ul(i,o){var c=i.stateNode;if(c===null)return null;var h=c[Mr]||null;if(h===null)return null;c=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(n(231,o,typeof c));return c}var xa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Om=!1;if(xa)try{var Bl={};Object.defineProperty(Bl,"passive",{get:function(){Om=!0}}),window.addEventListener("test",Bl,Bl),window.removeEventListener("test",Bl,Bl)}catch{Om=!1}var hi=null,Am=null,ad=null;function N1(){if(ad)return ad;var i,o=Am,c=o.length,h,b="value"in hi?hi.value:hi.textContent,w=b.length;for(i=0;i<c&&o[i]===b[i];i++);var N=c-i;for(h=1;h<=N&&o[c-h]===b[w-h];h++);return ad=b.slice(i,1<h?1-h:void 0)}function id(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function sd(){return!0}function O1(){return!1}function Rr(i){function o(c,h,b,w,N){this._reactName=c,this._targetInst=b,this.type=h,this.nativeEvent=w,this.target=N,this.currentTarget=null;for(var M in i)i.hasOwnProperty(M)&&(c=i[M],this[M]=c?c(w):w[M]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?sd:O1,this.isPropagationStopped=O1,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=sd)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=sd)},persist:function(){},isPersistent:sd}),o}var ns={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},od=Rr(ns),ql=g({},ns,{view:0,detail:0}),VM=Rr(ql),Tm,Cm,Hl,ld=g({},ql,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dm,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Hl&&(Hl&&i.type==="mousemove"?(Tm=i.screenX-Hl.screenX,Cm=i.screenY-Hl.screenY):Cm=Tm=0,Hl=i),Tm)},movementY:function(i){return"movementY"in i?i.movementY:Cm}}),A1=Rr(ld),KM=g({},ld,{dataTransfer:0}),ZM=Rr(KM),GM=g({},ql,{relatedTarget:0}),Pm=Rr(GM),YM=g({},ns,{animationName:0,elapsedTime:0,pseudoElement:0}),WM=Rr(YM),XM=g({},ns,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),JM=Rr(XM),QM=g({},ns,{data:0}),T1=Rr(QM),eR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nR(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=rR[i])?!!o[i]:!1}function Dm(){return nR}var aR=g({},ql,{key:function(i){if(i.key){var o=eR[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=id(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?tR[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dm,charCode:function(i){return i.type==="keypress"?id(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?id(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),iR=Rr(aR),sR=g({},ld,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),C1=Rr(sR),oR=g({},ql,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dm}),lR=Rr(oR),cR=g({},ns,{propertyName:0,elapsedTime:0,pseudoElement:0}),uR=Rr(cR),dR=g({},ld,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),fR=Rr(dR),hR=g({},ns,{newState:0,oldState:0}),mR=Rr(hR),pR=[9,13,27,32],Mm=xa&&"CompositionEvent"in window,Fl=null;xa&&"documentMode"in document&&(Fl=document.documentMode);var gR=xa&&"TextEvent"in window&&!Fl,P1=xa&&(!Mm||Fl&&8<Fl&&11>=Fl),D1=" ",M1=!1;function R1(i,o){switch(i){case"keyup":return pR.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $1(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var mo=!1;function vR(i,o){switch(i){case"compositionend":return $1(o);case"keypress":return o.which!==32?null:(M1=!0,D1);case"textInput":return i=o.data,i===D1&&M1?null:i;default:return null}}function yR(i,o){if(mo)return i==="compositionend"||!Mm&&R1(i,o)?(i=N1(),ad=Am=hi=null,mo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return P1&&o.locale!=="ko"?null:o.data;default:return null}}var bR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function L1(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!bR[i.type]:o==="textarea"}function I1(i,o,c,h){fo?ho?ho.push(h):ho=[h]:fo=h,o=Xd(o,"onChange"),0<o.length&&(c=new od("onChange","change",null,c,h),i.push({event:c,listeners:o}))}var Vl=null,Kl=null;function xR(i){xk(i,0)}function cd(i){var o=zl(i);if(b1(o))return i}function z1(i,o){if(i==="change")return o}var U1=!1;if(xa){var Rm;if(xa){var $m="oninput"in document;if(!$m){var B1=document.createElement("div");B1.setAttribute("oninput","return;"),$m=typeof B1.oninput=="function"}Rm=$m}else Rm=!1;U1=Rm&&(!document.documentMode||9<document.documentMode)}function q1(){Vl&&(Vl.detachEvent("onpropertychange",H1),Kl=Vl=null)}function H1(i){if(i.propertyName==="value"&&cd(Kl)){var o=[];I1(o,Kl,i,Em(i)),E1(xR,o)}}function wR(i,o,c){i==="focusin"?(q1(),Vl=o,Kl=c,Vl.attachEvent("onpropertychange",H1)):i==="focusout"&&q1()}function _R(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return cd(Kl)}function SR(i,o){if(i==="click")return cd(o)}function kR(i,o){if(i==="input"||i==="change")return cd(o)}function jR(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Wr=typeof Object.is=="function"?Object.is:jR;function Zl(i,o){if(Wr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var c=Object.keys(i),h=Object.keys(o);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var b=c[h];if(!Kt.call(o,b)||!Wr(i[b],o[b]))return!1}return!0}function F1(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function V1(i,o){var c=F1(i);i=0;for(var h;c;){if(c.nodeType===3){if(h=i+c.textContent.length,i<=o&&h>=o)return{node:c,offset:o-i};i=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=F1(c)}}function K1(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?K1(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Z1(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=rd(i.document);o instanceof i.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)i=o.contentWindow;else break;o=rd(i.document)}return o}function Lm(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var ER=xa&&"documentMode"in document&&11>=document.documentMode,po=null,Im=null,Gl=null,zm=!1;function G1(i,o,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;zm||po==null||po!==rd(h)||(h=po,"selectionStart"in h&&Lm(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Gl&&Zl(Gl,h)||(Gl=h,h=Xd(Im,"onSelect"),0<h.length&&(o=new od("onSelect","select",null,o,c),i.push({event:o,listeners:h}),o.target=po)))}function as(i,o){var c={};return c[i.toLowerCase()]=o.toLowerCase(),c["Webkit"+i]="webkit"+o,c["Moz"+i]="moz"+o,c}var go={animationend:as("Animation","AnimationEnd"),animationiteration:as("Animation","AnimationIteration"),animationstart:as("Animation","AnimationStart"),transitionrun:as("Transition","TransitionRun"),transitionstart:as("Transition","TransitionStart"),transitioncancel:as("Transition","TransitionCancel"),transitionend:as("Transition","TransitionEnd")},Um={},Y1={};xa&&(Y1=document.createElement("div").style,"AnimationEvent"in window||(delete go.animationend.animation,delete go.animationiteration.animation,delete go.animationstart.animation),"TransitionEvent"in window||delete go.transitionend.transition);function is(i){if(Um[i])return Um[i];if(!go[i])return i;var o=go[i],c;for(c in o)if(o.hasOwnProperty(c)&&c in Y1)return Um[i]=o[c];return i}var W1=is("animationend"),X1=is("animationiteration"),J1=is("animationstart"),NR=is("transitionrun"),OR=is("transitionstart"),AR=is("transitioncancel"),Q1=is("transitionend"),e_=new Map,Bm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bm.push("scrollEnd");function zn(i,o){e_.set(i,o),rs(o,[i])}var ud=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},bn=[],vo=0,qm=0;function dd(){for(var i=vo,o=qm=vo=0;o<i;){var c=bn[o];bn[o++]=null;var h=bn[o];bn[o++]=null;var b=bn[o];bn[o++]=null;var w=bn[o];if(bn[o++]=null,h!==null&&b!==null){var N=h.pending;N===null?b.next=b:(b.next=N.next,N.next=b),h.pending=b}w!==0&&t_(c,b,w)}}function fd(i,o,c,h){bn[vo++]=i,bn[vo++]=o,bn[vo++]=c,bn[vo++]=h,qm|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function Hm(i,o,c,h){return fd(i,o,c,h),hd(i)}function ss(i,o){return fd(i,null,null,o),hd(i)}function t_(i,o,c){i.lanes|=c;var h=i.alternate;h!==null&&(h.lanes|=c);for(var b=!1,w=i.return;w!==null;)w.childLanes|=c,h=w.alternate,h!==null&&(h.childLanes|=c),w.tag===22&&(i=w.stateNode,i===null||i._visibility&1||(b=!0)),i=w,w=w.return;return i.tag===3?(w=i.stateNode,b&&o!==null&&(b=31-It(c),i=w.hiddenUpdates,h=i[b],h===null?i[b]=[o]:h.push(o),o.lane=c|536870912),w):null}function hd(i){if(50<gc)throw gc=0,Jp=null,Error(n(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var yo={};function TR(i,o,c,h){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xr(i,o,c,h){return new TR(i,o,c,h)}function Fm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function wa(i,o){var c=i.alternate;return c===null?(c=Xr(i.tag,o,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=o,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&65011712,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,o=i.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c.refCleanup=i.refCleanup,c}function r_(i,o){i.flags&=65011714;var c=i.alternate;return c===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=c.childLanes,i.lanes=c.lanes,i.child=c.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=c.memoizedProps,i.memoizedState=c.memoizedState,i.updateQueue=c.updateQueue,i.type=c.type,o=c.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function md(i,o,c,h,b,w){var N=0;if(h=i,typeof i=="function")Fm(i)&&(N=1);else if(typeof i=="string")N=R6(i,c,K.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case R:return i=Xr(31,c,o,b),i.elementType=R,i.lanes=w,i;case k:return os(c.children,b,w,o);case S:N=8,b|=24;break;case j:return i=Xr(12,c,o,b|2),i.elementType=j,i.lanes=w,i;case O:return i=Xr(13,c,o,b),i.elementType=O,i.lanes=w,i;case T:return i=Xr(19,c,o,b),i.elementType=T,i.lanes=w,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case E:N=10;break e;case A:N=9;break e;case P:N=11;break e;case C:N=14;break e;case D:N=16,h=null;break e}N=29,c=Error(n(130,i===null?"null":typeof i,"")),h=null}return o=Xr(N,c,o,b),o.elementType=i,o.type=h,o.lanes=w,o}function os(i,o,c,h){return i=Xr(7,i,h,o),i.lanes=c,i}function Vm(i,o,c){return i=Xr(6,i,null,o),i.lanes=c,i}function n_(i){var o=Xr(18,null,null,0);return o.stateNode=i,o}function Km(i,o,c){return o=Xr(4,i.children!==null?i.children:[],i.key,o),o.lanes=c,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var a_=new WeakMap;function xn(i,o){if(typeof i=="object"&&i!==null){var c=a_.get(i);return c!==void 0?c:(o={value:i,source:o,stack:ze(o)},a_.set(i,o),o)}return{value:i,source:o,stack:ze(o)}}var bo=[],xo=0,pd=null,Yl=0,wn=[],_n=0,mi=null,ea=1,ta="";function _a(i,o){bo[xo++]=Yl,bo[xo++]=pd,pd=i,Yl=o}function i_(i,o,c){wn[_n++]=ea,wn[_n++]=ta,wn[_n++]=mi,mi=i;var h=ea;i=ta;var b=32-It(h)-1;h&=~(1<<b),c+=1;var w=32-It(o)+b;if(30<w){var N=b-b%5;w=(h&(1<<N)-1).toString(32),h>>=N,b-=N,ea=1<<32-It(o)+b|c<<b|h,ta=w+i}else ea=1<<w|c<<b|h,ta=i}function Zm(i){i.return!==null&&(_a(i,1),i_(i,1,0))}function Gm(i){for(;i===pd;)pd=bo[--xo],bo[xo]=null,Yl=bo[--xo],bo[xo]=null;for(;i===mi;)mi=wn[--_n],wn[_n]=null,ta=wn[--_n],wn[_n]=null,ea=wn[--_n],wn[_n]=null}function s_(i,o){wn[_n++]=ea,wn[_n++]=ta,wn[_n++]=mi,ea=o.id,ta=o.overflow,mi=i}var er=null,ct=null,He=!1,pi=null,Sn=!1,Ym=Error(n(519));function gi(i){var o=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wl(xn(o,i)),Ym}function o_(i){var o=i.stateNode,c=i.type,h=i.memoizedProps;switch(o[Qt]=i,o[Mr]=h,c){case"dialog":Ie("cancel",o),Ie("close",o);break;case"iframe":case"object":case"embed":Ie("load",o);break;case"video":case"audio":for(c=0;c<yc.length;c++)Ie(yc[c],o);break;case"source":Ie("error",o);break;case"img":case"image":case"link":Ie("error",o),Ie("load",o);break;case"details":Ie("toggle",o);break;case"input":Ie("invalid",o),x1(o,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":Ie("invalid",o);break;case"textarea":Ie("invalid",o),_1(o,h.value,h.defaultValue,h.children)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||h.suppressHydrationWarning===!0||kk(o.textContent,c)?(h.popover!=null&&(Ie("beforetoggle",o),Ie("toggle",o)),h.onScroll!=null&&Ie("scroll",o),h.onScrollEnd!=null&&Ie("scrollend",o),h.onClick!=null&&(o.onclick=ba),o=!0):o=!1,o||gi(i,!0)}function l_(i){for(er=i.return;er;)switch(er.tag){case 5:case 31:case 13:Sn=!1;return;case 27:case 3:Sn=!0;return;default:er=er.return}}function wo(i){if(i!==er)return!1;if(!He)return l_(i),He=!0,!1;var o=i.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=i.type,c=!(c!=="form"&&c!=="button")||hg(i.type,i.memoizedProps)),c=!c),c&&ct&&gi(i),l_(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));ct=Dk(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));ct=Dk(i)}else o===27?(o=ct,Ti(i.type)?(i=yg,yg=null,ct=i):ct=o):ct=er?jn(i.stateNode.nextSibling):null;return!0}function ls(){ct=er=null,He=!1}function Wm(){var i=pi;return i!==null&&(zr===null?zr=i:zr.push.apply(zr,i),pi=null),i}function Wl(i){pi===null?pi=[i]:pi.push(i)}var Xm=I(null),cs=null,Sa=null;function vi(i,o,c){Q(Xm,o._currentValue),o._currentValue=c}function ka(i){i._currentValue=Xm.current,W(Xm)}function Jm(i,o,c){for(;i!==null;){var h=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),i===c)break;i=i.return}}function Qm(i,o,c,h){var b=i.child;for(b!==null&&(b.return=i);b!==null;){var w=b.dependencies;if(w!==null){var N=b.child;w=w.firstContext;e:for(;w!==null;){var M=w;w=b;for(var z=0;z<o.length;z++)if(M.context===o[z]){w.lanes|=c,M=w.alternate,M!==null&&(M.lanes|=c),Jm(w.return,c,i),h||(N=null);break e}w=M.next}}else if(b.tag===18){if(N=b.return,N===null)throw Error(n(341));N.lanes|=c,w=N.alternate,w!==null&&(w.lanes|=c),Jm(N,c,i),N=null}else N=b.child;if(N!==null)N.return=b;else for(N=b;N!==null;){if(N===i){N=null;break}if(b=N.sibling,b!==null){b.return=N.return,N=b;break}N=N.return}b=N}}function _o(i,o,c,h){i=null;for(var b=o,w=!1;b!==null;){if(!w){if((b.flags&524288)!==0)w=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var N=b.alternate;if(N===null)throw Error(n(387));if(N=N.memoizedProps,N!==null){var M=b.type;Wr(b.pendingProps.value,N.value)||(i!==null?i.push(M):i=[M])}}else if(b===ee.current){if(N=b.alternate,N===null)throw Error(n(387));N.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(i!==null?i.push(Sc):i=[Sc])}b=b.return}i!==null&&Qm(o,i,c,h),o.flags|=262144}function gd(i){for(i=i.firstContext;i!==null;){if(!Wr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function us(i){cs=i,Sa=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function tr(i){return c_(cs,i)}function vd(i,o){return cs===null&&us(i),c_(i,o)}function c_(i,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},Sa===null){if(i===null)throw Error(n(308));Sa=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else Sa=Sa.next=o;return c}var CR=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(c,h){i.push(h)}};this.abort=function(){o.aborted=!0,i.forEach(function(c){return c()})}},PR=e.unstable_scheduleCallback,DR=e.unstable_NormalPriority,At={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ep(){return{controller:new CR,data:new Map,refCount:0}}function Xl(i){i.refCount--,i.refCount===0&&PR(DR,function(){i.controller.abort()})}var Jl=null,tp=0,So=0,ko=null;function MR(i,o){if(Jl===null){var c=Jl=[];tp=0,So=ag(),ko={status:"pending",value:void 0,then:function(h){c.push(h)}}}return tp++,o.then(u_,u_),o}function u_(){if(--tp===0&&Jl!==null){ko!==null&&(ko.status="fulfilled");var i=Jl;Jl=null,So=0,ko=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function RR(i,o){var c=[],h={status:"pending",value:null,reason:null,then:function(b){c.push(b)}};return i.then(function(){h.status="fulfilled",h.value=o;for(var b=0;b<c.length;b++)(0,c[b])(o)},function(b){for(h.status="rejected",h.reason=b,b=0;b<c.length;b++)(0,c[b])(void 0)}),h}var d_=U.S;U.S=function(i,o){GS=Ye(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&MR(i,o),d_!==null&&d_(i,o)};var ds=I(null);function rp(){var i=ds.current;return i!==null?i:rt.pooledCache}function yd(i,o){o===null?Q(ds,ds.current):Q(ds,o.pool)}function f_(){var i=rp();return i===null?null:{parent:At._currentValue,pool:i}}var jo=Error(n(460)),np=Error(n(474)),bd=Error(n(542)),xd={then:function(){}};function h_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function m_(i,o,c){switch(c=i[c],c===void 0?i.push(o):c!==o&&(o.then(ba,ba),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,g_(i),i;default:if(typeof o.status=="string")o.then(ba,ba);else{if(i=rt,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=o,i.status="pending",i.then(function(h){if(o.status==="pending"){var b=o;b.status="fulfilled",b.value=h}},function(h){if(o.status==="pending"){var b=o;b.status="rejected",b.reason=h}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,g_(i),i}throw hs=o,jo}}function fs(i){try{var o=i._init;return o(i._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(hs=c,jo):c}}var hs=null;function p_(){if(hs===null)throw Error(n(459));var i=hs;return hs=null,i}function g_(i){if(i===jo||i===bd)throw Error(n(483))}var Eo=null,Ql=0;function wd(i){var o=Ql;return Ql+=1,Eo===null&&(Eo=[]),m_(Eo,i,o)}function ec(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function _d(i,o){throw o.$$typeof===v?Error(n(525)):(i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function v_(i){function o(F,B){if(i){var Z=F.deletions;Z===null?(F.deletions=[B],F.flags|=16):Z.push(B)}}function c(F,B){if(!i)return null;for(;B!==null;)o(F,B),B=B.sibling;return null}function h(F){for(var B=new Map;F!==null;)F.key!==null?B.set(F.key,F):B.set(F.index,F),F=F.sibling;return B}function b(F,B){return F=wa(F,B),F.index=0,F.sibling=null,F}function w(F,B,Z){return F.index=Z,i?(Z=F.alternate,Z!==null?(Z=Z.index,Z<B?(F.flags|=67108866,B):Z):(F.flags|=67108866,B)):(F.flags|=1048576,B)}function N(F){return i&&F.alternate===null&&(F.flags|=67108866),F}function M(F,B,Z,oe){return B===null||B.tag!==6?(B=Vm(Z,F.mode,oe),B.return=F,B):(B=b(B,Z),B.return=F,B)}function z(F,B,Z,oe){var Oe=Z.type;return Oe===k?ie(F,B,Z.props.children,oe,Z.key):B!==null&&(B.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===D&&fs(Oe)===B.type)?(B=b(B,Z.props),ec(B,Z),B.return=F,B):(B=md(Z.type,Z.key,Z.props,null,F.mode,oe),ec(B,Z),B.return=F,B)}function G(F,B,Z,oe){return B===null||B.tag!==4||B.stateNode.containerInfo!==Z.containerInfo||B.stateNode.implementation!==Z.implementation?(B=Km(Z,F.mode,oe),B.return=F,B):(B=b(B,Z.children||[]),B.return=F,B)}function ie(F,B,Z,oe,Oe){return B===null||B.tag!==7?(B=os(Z,F.mode,oe,Oe),B.return=F,B):(B=b(B,Z),B.return=F,B)}function le(F,B,Z){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Vm(""+B,F.mode,Z),B.return=F,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case y:return Z=md(B.type,B.key,B.props,null,F.mode,Z),ec(Z,B),Z.return=F,Z;case _:return B=Km(B,F.mode,Z),B.return=F,B;case D:return B=fs(B),le(F,B,Z)}if(de(B)||q(B))return B=os(B,F.mode,Z,null),B.return=F,B;if(typeof B.then=="function")return le(F,wd(B),Z);if(B.$$typeof===E)return le(F,vd(F,B),Z);_d(F,B)}return null}function J(F,B,Z,oe){var Oe=B!==null?B.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Oe!==null?null:M(F,B,""+Z,oe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case y:return Z.key===Oe?z(F,B,Z,oe):null;case _:return Z.key===Oe?G(F,B,Z,oe):null;case D:return Z=fs(Z),J(F,B,Z,oe)}if(de(Z)||q(Z))return Oe!==null?null:ie(F,B,Z,oe,null);if(typeof Z.then=="function")return J(F,B,wd(Z),oe);if(Z.$$typeof===E)return J(F,B,vd(F,Z),oe);_d(F,Z)}return null}function te(F,B,Z,oe,Oe){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return F=F.get(Z)||null,M(B,F,""+oe,Oe);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case y:return F=F.get(oe.key===null?Z:oe.key)||null,z(B,F,oe,Oe);case _:return F=F.get(oe.key===null?Z:oe.key)||null,G(B,F,oe,Oe);case D:return oe=fs(oe),te(F,B,Z,oe,Oe)}if(de(oe)||q(oe))return F=F.get(Z)||null,ie(B,F,oe,Oe,null);if(typeof oe.then=="function")return te(F,B,Z,wd(oe),Oe);if(oe.$$typeof===E)return te(F,B,Z,vd(B,oe),Oe);_d(B,oe)}return null}function xe(F,B,Z,oe){for(var Oe=null,Fe=null,Se=B,$e=B=0,Be=null;Se!==null&&$e<Z.length;$e++){Se.index>$e?(Be=Se,Se=null):Be=Se.sibling;var Ve=J(F,Se,Z[$e],oe);if(Ve===null){Se===null&&(Se=Be);break}i&&Se&&Ve.alternate===null&&o(F,Se),B=w(Ve,B,$e),Fe===null?Oe=Ve:Fe.sibling=Ve,Fe=Ve,Se=Be}if($e===Z.length)return c(F,Se),He&&_a(F,$e),Oe;if(Se===null){for(;$e<Z.length;$e++)Se=le(F,Z[$e],oe),Se!==null&&(B=w(Se,B,$e),Fe===null?Oe=Se:Fe.sibling=Se,Fe=Se);return He&&_a(F,$e),Oe}for(Se=h(Se);$e<Z.length;$e++)Be=te(Se,F,$e,Z[$e],oe),Be!==null&&(i&&Be.alternate!==null&&Se.delete(Be.key===null?$e:Be.key),B=w(Be,B,$e),Fe===null?Oe=Be:Fe.sibling=Be,Fe=Be);return i&&Se.forEach(function(Ri){return o(F,Ri)}),He&&_a(F,$e),Oe}function Te(F,B,Z,oe){if(Z==null)throw Error(n(151));for(var Oe=null,Fe=null,Se=B,$e=B=0,Be=null,Ve=Z.next();Se!==null&&!Ve.done;$e++,Ve=Z.next()){Se.index>$e?(Be=Se,Se=null):Be=Se.sibling;var Ri=J(F,Se,Ve.value,oe);if(Ri===null){Se===null&&(Se=Be);break}i&&Se&&Ri.alternate===null&&o(F,Se),B=w(Ri,B,$e),Fe===null?Oe=Ri:Fe.sibling=Ri,Fe=Ri,Se=Be}if(Ve.done)return c(F,Se),He&&_a(F,$e),Oe;if(Se===null){for(;!Ve.done;$e++,Ve=Z.next())Ve=le(F,Ve.value,oe),Ve!==null&&(B=w(Ve,B,$e),Fe===null?Oe=Ve:Fe.sibling=Ve,Fe=Ve);return He&&_a(F,$e),Oe}for(Se=h(Se);!Ve.done;$e++,Ve=Z.next())Ve=te(Se,F,$e,Ve.value,oe),Ve!==null&&(i&&Ve.alternate!==null&&Se.delete(Ve.key===null?$e:Ve.key),B=w(Ve,B,$e),Fe===null?Oe=Ve:Fe.sibling=Ve,Fe=Ve);return i&&Se.forEach(function(K6){return o(F,K6)}),He&&_a(F,$e),Oe}function tt(F,B,Z,oe){if(typeof Z=="object"&&Z!==null&&Z.type===k&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case y:e:{for(var Oe=Z.key;B!==null;){if(B.key===Oe){if(Oe=Z.type,Oe===k){if(B.tag===7){c(F,B.sibling),oe=b(B,Z.props.children),oe.return=F,F=oe;break e}}else if(B.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===D&&fs(Oe)===B.type){c(F,B.sibling),oe=b(B,Z.props),ec(oe,Z),oe.return=F,F=oe;break e}c(F,B);break}else o(F,B);B=B.sibling}Z.type===k?(oe=os(Z.props.children,F.mode,oe,Z.key),oe.return=F,F=oe):(oe=md(Z.type,Z.key,Z.props,null,F.mode,oe),ec(oe,Z),oe.return=F,F=oe)}return N(F);case _:e:{for(Oe=Z.key;B!==null;){if(B.key===Oe)if(B.tag===4&&B.stateNode.containerInfo===Z.containerInfo&&B.stateNode.implementation===Z.implementation){c(F,B.sibling),oe=b(B,Z.children||[]),oe.return=F,F=oe;break e}else{c(F,B);break}else o(F,B);B=B.sibling}oe=Km(Z,F.mode,oe),oe.return=F,F=oe}return N(F);case D:return Z=fs(Z),tt(F,B,Z,oe)}if(de(Z))return xe(F,B,Z,oe);if(q(Z)){if(Oe=q(Z),typeof Oe!="function")throw Error(n(150));return Z=Oe.call(Z),Te(F,B,Z,oe)}if(typeof Z.then=="function")return tt(F,B,wd(Z),oe);if(Z.$$typeof===E)return tt(F,B,vd(F,Z),oe);_d(F,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,B!==null&&B.tag===6?(c(F,B.sibling),oe=b(B,Z),oe.return=F,F=oe):(c(F,B),oe=Vm(Z,F.mode,oe),oe.return=F,F=oe),N(F)):c(F,B)}return function(F,B,Z,oe){try{Ql=0;var Oe=tt(F,B,Z,oe);return Eo=null,Oe}catch(Se){if(Se===jo||Se===bd)throw Se;var Fe=Xr(29,Se,null,F.mode);return Fe.lanes=oe,Fe.return=F,Fe}finally{}}}var ms=v_(!0),y_=v_(!1),yi=!1;function ap(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ip(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function bi(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function xi(i,o,c){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Ze&2)!==0){var b=h.pending;return b===null?o.next=o:(o.next=b.next,b.next=o),h.pending=o,o=hd(i),t_(i,null,c),o}return fd(i,h,o,c),hd(i)}function tc(i,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var h=o.lanes;h&=i.pendingLanes,c|=h,o.lanes=c,c1(i,c)}}function sp(i,o){var c=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var b=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var N={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};w===null?b=w=N:w=w.next=N,c=c.next}while(c!==null);w===null?b=w=o:w=w.next=o}else b=w=o;c={baseState:h.baseState,firstBaseUpdate:b,lastBaseUpdate:w,shared:h.shared,callbacks:h.callbacks},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=o:i.next=o,c.lastBaseUpdate=o}var op=!1;function rc(){if(op){var i=ko;if(i!==null)throw i}}function nc(i,o,c,h){op=!1;var b=i.updateQueue;yi=!1;var w=b.firstBaseUpdate,N=b.lastBaseUpdate,M=b.shared.pending;if(M!==null){b.shared.pending=null;var z=M,G=z.next;z.next=null,N===null?w=G:N.next=G,N=z;var ie=i.alternate;ie!==null&&(ie=ie.updateQueue,M=ie.lastBaseUpdate,M!==N&&(M===null?ie.firstBaseUpdate=G:M.next=G,ie.lastBaseUpdate=z))}if(w!==null){var le=b.baseState;N=0,ie=G=z=null,M=w;do{var J=M.lane&-536870913,te=J!==M.lane;if(te?(Ue&J)===J:(h&J)===J){J!==0&&J===So&&(op=!0),ie!==null&&(ie=ie.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var xe=i,Te=M;J=o;var tt=c;switch(Te.tag){case 1:if(xe=Te.payload,typeof xe=="function"){le=xe.call(tt,le,J);break e}le=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=Te.payload,J=typeof xe=="function"?xe.call(tt,le,J):xe,J==null)break e;le=g({},le,J);break e;case 2:yi=!0}}J=M.callback,J!==null&&(i.flags|=64,te&&(i.flags|=8192),te=b.callbacks,te===null?b.callbacks=[J]:te.push(J))}else te={lane:J,tag:M.tag,payload:M.payload,callback:M.callback,next:null},ie===null?(G=ie=te,z=le):ie=ie.next=te,N|=J;if(M=M.next,M===null){if(M=b.shared.pending,M===null)break;te=M,M=te.next,te.next=null,b.lastBaseUpdate=te,b.shared.pending=null}}while(!0);ie===null&&(z=le),b.baseState=z,b.firstBaseUpdate=G,b.lastBaseUpdate=ie,w===null&&(b.shared.lanes=0),ji|=N,i.lanes=N,i.memoizedState=le}}function b_(i,o){if(typeof i!="function")throw Error(n(191,i));i.call(o)}function x_(i,o){var c=i.callbacks;if(c!==null)for(i.callbacks=null,i=0;i<c.length;i++)b_(c[i],o)}var No=I(null),Sd=I(0);function w_(i,o){i=Da,Q(Sd,i),Q(No,o),Da=i|o.baseLanes}function lp(){Q(Sd,Da),Q(No,No.current)}function cp(){Da=Sd.current,W(No),W(Sd)}var Jr=I(null),kn=null;function wi(i){var o=i.alternate;Q(kt,kt.current&1),Q(Jr,i),kn===null&&(o===null||No.current!==null||o.memoizedState!==null)&&(kn=i)}function up(i){Q(kt,kt.current),Q(Jr,i),kn===null&&(kn=i)}function __(i){i.tag===22?(Q(kt,kt.current),Q(Jr,i),kn===null&&(kn=i)):_i()}function _i(){Q(kt,kt.current),Q(Jr,Jr.current)}function Qr(i){W(Jr),kn===i&&(kn=null),W(kt)}var kt=I(0);function kd(i){for(var o=i;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||gg(c)||vg(c)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var ja=0,Me=null,Qe=null,Tt=null,jd=!1,Oo=!1,ps=!1,Ed=0,ac=0,Ao=null,$R=0;function xt(){throw Error(n(321))}function dp(i,o){if(o===null)return!1;for(var c=0;c<o.length&&c<i.length;c++)if(!Wr(i[c],o[c]))return!1;return!0}function fp(i,o,c,h,b,w){return ja=w,Me=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,U.H=i===null||i.memoizedState===null?iS:Np,ps=!1,w=c(h,b),ps=!1,Oo&&(w=k_(o,c,h,b)),S_(i),w}function S_(i){U.H=oc;var o=Qe!==null&&Qe.next!==null;if(ja=0,Tt=Qe=Me=null,jd=!1,ac=0,Ao=null,o)throw Error(n(300));i===null||Ct||(i=i.dependencies,i!==null&&gd(i)&&(Ct=!0))}function k_(i,o,c,h){Me=i;var b=0;do{if(Oo&&(Ao=null),ac=0,Oo=!1,25<=b)throw Error(n(301));if(b+=1,Tt=Qe=null,i.updateQueue!=null){var w=i.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}U.H=sS,w=o(c,h)}while(Oo);return w}function LR(){var i=U.H,o=i.useState()[0];return o=typeof o.then=="function"?ic(o):o,i=i.useState()[0],(Qe!==null?Qe.memoizedState:null)!==i&&(Me.flags|=1024),o}function hp(){var i=Ed!==0;return Ed=0,i}function mp(i,o,c){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~c}function pp(i){if(jd){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}jd=!1}ja=0,Tt=Qe=Me=null,Oo=!1,ac=Ed=0,Ao=null}function jr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?Me.memoizedState=Tt=i:Tt=Tt.next=i,Tt}function jt(){if(Qe===null){var i=Me.alternate;i=i!==null?i.memoizedState:null}else i=Qe.next;var o=Tt===null?Me.memoizedState:Tt.next;if(o!==null)Tt=o,Qe=i;else{if(i===null)throw Me.alternate===null?Error(n(467)):Error(n(310));Qe=i,i={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},Tt===null?Me.memoizedState=Tt=i:Tt=Tt.next=i}return Tt}function Nd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ic(i){var o=ac;return ac+=1,Ao===null&&(Ao=[]),i=m_(Ao,i,o),o=Me,(Tt===null?o.memoizedState:Tt.next)===null&&(o=o.alternate,U.H=o===null||o.memoizedState===null?iS:Np),i}function Od(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ic(i);if(i.$$typeof===E)return tr(i)}throw Error(n(438,String(i)))}function gp(i){var o=null,c=Me.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var h=Me.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(o={data:h.data.map(function(b){return b.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=Nd(),Me.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(i),h=0;h<i;h++)c[h]=L;return o.index++,c}function Ea(i,o){return typeof o=="function"?o(i):o}function Ad(i){var o=jt();return vp(o,Qe,i)}function vp(i,o,c){var h=i.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=c;var b=i.baseQueue,w=h.pending;if(w!==null){if(b!==null){var N=b.next;b.next=w.next,w.next=N}o.baseQueue=b=w,h.pending=null}if(w=i.baseState,b===null)i.memoizedState=w;else{o=b.next;var M=N=null,z=null,G=o,ie=!1;do{var le=G.lane&-536870913;if(le!==G.lane?(Ue&le)===le:(ja&le)===le){var J=G.revertLane;if(J===0)z!==null&&(z=z.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),le===So&&(ie=!0);else if((ja&J)===J){G=G.next,J===So&&(ie=!0);continue}else le={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},z===null?(M=z=le,N=w):z=z.next=le,Me.lanes|=J,ji|=J;le=G.action,ps&&c(w,le),w=G.hasEagerState?G.eagerState:c(w,le)}else J={lane:le,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},z===null?(M=z=J,N=w):z=z.next=J,Me.lanes|=le,ji|=le;G=G.next}while(G!==null&&G!==o);if(z===null?N=w:z.next=M,!Wr(w,i.memoizedState)&&(Ct=!0,ie&&(c=ko,c!==null)))throw c;i.memoizedState=w,i.baseState=N,i.baseQueue=z,h.lastRenderedState=w}return b===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function yp(i){var o=jt(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=i;var h=c.dispatch,b=c.pending,w=o.memoizedState;if(b!==null){c.pending=null;var N=b=b.next;do w=i(w,N.action),N=N.next;while(N!==b);Wr(w,o.memoizedState)||(Ct=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),c.lastRenderedState=w}return[w,h]}function j_(i,o,c){var h=Me,b=jt(),w=He;if(w){if(c===void 0)throw Error(n(407));c=c()}else c=o();var N=!Wr((Qe||b).memoizedState,c);if(N&&(b.memoizedState=c,Ct=!0),b=b.queue,wp(O_.bind(null,h,b,i),[i]),b.getSnapshot!==o||N||Tt!==null&&Tt.memoizedState.tag&1){if(h.flags|=2048,To(9,{destroy:void 0},N_.bind(null,h,b,c,o),null),rt===null)throw Error(n(349));w||(ja&127)!==0||E_(h,o,c)}return c}function E_(i,o,c){i.flags|=16384,i={getSnapshot:o,value:c},o=Me.updateQueue,o===null?(o=Nd(),Me.updateQueue=o,o.stores=[i]):(c=o.stores,c===null?o.stores=[i]:c.push(i))}function N_(i,o,c,h){o.value=c,o.getSnapshot=h,A_(o)&&T_(i)}function O_(i,o,c){return c(function(){A_(o)&&T_(i)})}function A_(i){var o=i.getSnapshot;i=i.value;try{var c=o();return!Wr(i,c)}catch{return!0}}function T_(i){var o=ss(i,2);o!==null&&Ur(o,i,2)}function bp(i){var o=jr();if(typeof i=="function"){var c=i;if(i=c(),ps){gn(!0);try{c()}finally{gn(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:i},o}function C_(i,o,c,h){return i.baseState=c,vp(i,Qe,typeof h=="function"?h:Ea)}function IR(i,o,c,h,b){if(Pd(i))throw Error(n(485));if(i=o.action,i!==null){var w={payload:b,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){w.listeners.push(N)}};U.T!==null?c(!0):w.isTransition=!1,h(w),c=o.pending,c===null?(w.next=o.pending=w,P_(o,w)):(w.next=c.next,o.pending=c.next=w)}}function P_(i,o){var c=o.action,h=o.payload,b=i.state;if(o.isTransition){var w=U.T,N={};U.T=N;try{var M=c(b,h),z=U.S;z!==null&&z(N,M),D_(i,o,M)}catch(G){xp(i,o,G)}finally{w!==null&&N.types!==null&&(w.types=N.types),U.T=w}}else try{w=c(b,h),D_(i,o,w)}catch(G){xp(i,o,G)}}function D_(i,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){M_(i,o,h)},function(h){return xp(i,o,h)}):M_(i,o,c)}function M_(i,o,c){o.status="fulfilled",o.value=c,R_(o),i.state=c,o=i.pending,o!==null&&(c=o.next,c===o?i.pending=null:(c=c.next,o.next=c,P_(i,c)))}function xp(i,o,c){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do o.status="rejected",o.reason=c,R_(o),o=o.next;while(o!==h)}i.action=null}function R_(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function $_(i,o){return o}function L_(i,o){if(He){var c=rt.formState;if(c!==null){e:{var h=Me;if(He){if(ct){t:{for(var b=ct,w=Sn;b.nodeType!==8;){if(!w){b=null;break t}if(b=jn(b.nextSibling),b===null){b=null;break t}}w=b.data,b=w==="F!"||w==="F"?b:null}if(b){ct=jn(b.nextSibling),h=b.data==="F!";break e}}gi(h)}h=!1}h&&(o=c[0])}}return c=jr(),c.memoizedState=c.baseState=o,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$_,lastRenderedState:o},c.queue=h,c=rS.bind(null,Me,h),h.dispatch=c,h=bp(!1),w=Ep.bind(null,Me,!1,h.queue),h=jr(),b={state:o,dispatch:null,action:i,pending:null},h.queue=b,c=IR.bind(null,Me,b,w,c),b.dispatch=c,h.memoizedState=i,[o,c,!1]}function I_(i){var o=jt();return z_(o,Qe,i)}function z_(i,o,c){if(o=vp(i,o,$_)[0],i=Ad(Ea)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var h=ic(o)}catch(N){throw N===jo?bd:N}else h=o;o=jt();var b=o.queue,w=b.dispatch;return c!==o.memoizedState&&(Me.flags|=2048,To(9,{destroy:void 0},zR.bind(null,b,c),null)),[h,w,i]}function zR(i,o){i.action=o}function U_(i){var o=jt(),c=Qe;if(c!==null)return z_(o,c,i);jt(),o=o.memoizedState,c=jt();var h=c.queue.dispatch;return c.memoizedState=i,[o,h,!1]}function To(i,o,c,h){return i={tag:i,create:c,deps:h,inst:o,next:null},o=Me.updateQueue,o===null&&(o=Nd(),Me.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=i.next=i:(h=c.next,c.next=i,i.next=h,o.lastEffect=i),i}function B_(){return jt().memoizedState}function Td(i,o,c,h){var b=jr();Me.flags|=i,b.memoizedState=To(1|o,{destroy:void 0},c,h===void 0?null:h)}function Cd(i,o,c,h){var b=jt();h=h===void 0?null:h;var w=b.memoizedState.inst;Qe!==null&&h!==null&&dp(h,Qe.memoizedState.deps)?b.memoizedState=To(o,w,c,h):(Me.flags|=i,b.memoizedState=To(1|o,w,c,h))}function q_(i,o){Td(8390656,8,i,o)}function wp(i,o){Cd(2048,8,i,o)}function UR(i){Me.flags|=4;var o=Me.updateQueue;if(o===null)o=Nd(),Me.updateQueue=o,o.events=[i];else{var c=o.events;c===null?o.events=[i]:c.push(i)}}function H_(i){var o=jt().memoizedState;return UR({ref:o,nextImpl:i}),function(){if((Ze&2)!==0)throw Error(n(440));return o.impl.apply(void 0,arguments)}}function F_(i,o){return Cd(4,2,i,o)}function V_(i,o){return Cd(4,4,i,o)}function K_(i,o){if(typeof o=="function"){i=i();var c=o(i);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function Z_(i,o,c){c=c!=null?c.concat([i]):null,Cd(4,4,K_.bind(null,o,i),c)}function _p(){}function G_(i,o){var c=jt();o=o===void 0?null:o;var h=c.memoizedState;return o!==null&&dp(o,h[1])?h[0]:(c.memoizedState=[i,o],i)}function Y_(i,o){var c=jt();o=o===void 0?null:o;var h=c.memoizedState;if(o!==null&&dp(o,h[1]))return h[0];if(h=i(),ps){gn(!0);try{i()}finally{gn(!1)}}return c.memoizedState=[h,o],h}function Sp(i,o,c){return c===void 0||(ja&1073741824)!==0&&(Ue&261930)===0?i.memoizedState=o:(i.memoizedState=c,i=WS(),Me.lanes|=i,ji|=i,c)}function W_(i,o,c,h){return Wr(c,o)?c:No.current!==null?(i=Sp(i,c,h),Wr(i,o)||(Ct=!0),i):(ja&42)===0||(ja&1073741824)!==0&&(Ue&261930)===0?(Ct=!0,i.memoizedState=c):(i=WS(),Me.lanes|=i,ji|=i,o)}function X_(i,o,c,h,b){var w=H.p;H.p=w!==0&&8>w?w:8;var N=U.T,M={};U.T=M,Ep(i,!1,o,c);try{var z=b(),G=U.S;if(G!==null&&G(M,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var ie=RR(z,h);sc(i,o,ie,rn(i))}else sc(i,o,h,rn(i))}catch(le){sc(i,o,{then:function(){},status:"rejected",reason:le},rn())}finally{H.p=w,N!==null&&M.types!==null&&(N.types=M.types),U.T=N}}function BR(){}function kp(i,o,c,h){if(i.tag!==5)throw Error(n(476));var b=J_(i).queue;X_(i,b,o,Y,c===null?BR:function(){return Q_(i),c(h)})}function J_(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:Y,baseState:Y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:Y},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:c},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function Q_(i){var o=J_(i);o.next===null&&(o=i.alternate.memoizedState),sc(i,o.next.queue,{},rn())}function jp(){return tr(Sc)}function eS(){return jt().memoizedState}function tS(){return jt().memoizedState}function qR(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var c=rn();i=bi(c);var h=xi(o,i,c);h!==null&&(Ur(h,o,c),tc(h,o,c)),o={cache:ep()},i.payload=o;return}o=o.return}}function HR(i,o,c){var h=rn();c={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Pd(i)?nS(o,c):(c=Hm(i,o,c,h),c!==null&&(Ur(c,i,h),aS(c,o,h)))}function rS(i,o,c){var h=rn();sc(i,o,c,h)}function sc(i,o,c,h){var b={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Pd(i))nS(o,b);else{var w=i.alternate;if(i.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var N=o.lastRenderedState,M=w(N,c);if(b.hasEagerState=!0,b.eagerState=M,Wr(M,N))return fd(i,o,b,0),rt===null&&dd(),!1}catch{}finally{}if(c=Hm(i,o,b,h),c!==null)return Ur(c,i,h),aS(c,o,h),!0}return!1}function Ep(i,o,c,h){if(h={lane:2,revertLane:ag(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Pd(i)){if(o)throw Error(n(479))}else o=Hm(i,c,h,2),o!==null&&Ur(o,i,2)}function Pd(i){var o=i.alternate;return i===Me||o!==null&&o===Me}function nS(i,o){Oo=jd=!0;var c=i.pending;c===null?o.next=o:(o.next=c.next,c.next=o),i.pending=o}function aS(i,o,c){if((c&4194048)!==0){var h=o.lanes;h&=i.pendingLanes,c|=h,o.lanes=c,c1(i,c)}}var oc={readContext:tr,use:Od,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt};oc.useEffectEvent=xt;var iS={readContext:tr,use:Od,useCallback:function(i,o){return jr().memoizedState=[i,o===void 0?null:o],i},useContext:tr,useEffect:q_,useImperativeHandle:function(i,o,c){c=c!=null?c.concat([i]):null,Td(4194308,4,K_.bind(null,o,i),c)},useLayoutEffect:function(i,o){return Td(4194308,4,i,o)},useInsertionEffect:function(i,o){Td(4,2,i,o)},useMemo:function(i,o){var c=jr();o=o===void 0?null:o;var h=i();if(ps){gn(!0);try{i()}finally{gn(!1)}}return c.memoizedState=[h,o],h},useReducer:function(i,o,c){var h=jr();if(c!==void 0){var b=c(o);if(ps){gn(!0);try{c(o)}finally{gn(!1)}}}else b=o;return h.memoizedState=h.baseState=b,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:b},h.queue=i,i=i.dispatch=HR.bind(null,Me,i),[h.memoizedState,i]},useRef:function(i){var o=jr();return i={current:i},o.memoizedState=i},useState:function(i){i=bp(i);var o=i.queue,c=rS.bind(null,Me,o);return o.dispatch=c,[i.memoizedState,c]},useDebugValue:_p,useDeferredValue:function(i,o){var c=jr();return Sp(c,i,o)},useTransition:function(){var i=bp(!1);return i=X_.bind(null,Me,i.queue,!0,!1),jr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,c){var h=Me,b=jr();if(He){if(c===void 0)throw Error(n(407));c=c()}else{if(c=o(),rt===null)throw Error(n(349));(Ue&127)!==0||E_(h,o,c)}b.memoizedState=c;var w={value:c,getSnapshot:o};return b.queue=w,q_(O_.bind(null,h,w,i),[i]),h.flags|=2048,To(9,{destroy:void 0},N_.bind(null,h,w,c,o),null),c},useId:function(){var i=jr(),o=rt.identifierPrefix;if(He){var c=ta,h=ea;c=(h&~(1<<32-It(h)-1)).toString(32)+c,o="_"+o+"R_"+c,c=Ed++,0<c&&(o+="H"+c.toString(32)),o+="_"}else c=$R++,o="_"+o+"r_"+c.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:jp,useFormState:L_,useActionState:L_,useOptimistic:function(i){var o=jr();o.memoizedState=o.baseState=i;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=Ep.bind(null,Me,!0,c),c.dispatch=o,[i,o]},useMemoCache:gp,useCacheRefresh:function(){return jr().memoizedState=qR.bind(null,Me)},useEffectEvent:function(i){var o=jr(),c={impl:i};return o.memoizedState=c,function(){if((Ze&2)!==0)throw Error(n(440));return c.impl.apply(void 0,arguments)}}},Np={readContext:tr,use:Od,useCallback:G_,useContext:tr,useEffect:wp,useImperativeHandle:Z_,useInsertionEffect:F_,useLayoutEffect:V_,useMemo:Y_,useReducer:Ad,useRef:B_,useState:function(){return Ad(Ea)},useDebugValue:_p,useDeferredValue:function(i,o){var c=jt();return W_(c,Qe.memoizedState,i,o)},useTransition:function(){var i=Ad(Ea)[0],o=jt().memoizedState;return[typeof i=="boolean"?i:ic(i),o]},useSyncExternalStore:j_,useId:eS,useHostTransitionStatus:jp,useFormState:I_,useActionState:I_,useOptimistic:function(i,o){var c=jt();return C_(c,Qe,i,o)},useMemoCache:gp,useCacheRefresh:tS};Np.useEffectEvent=H_;var sS={readContext:tr,use:Od,useCallback:G_,useContext:tr,useEffect:wp,useImperativeHandle:Z_,useInsertionEffect:F_,useLayoutEffect:V_,useMemo:Y_,useReducer:yp,useRef:B_,useState:function(){return yp(Ea)},useDebugValue:_p,useDeferredValue:function(i,o){var c=jt();return Qe===null?Sp(c,i,o):W_(c,Qe.memoizedState,i,o)},useTransition:function(){var i=yp(Ea)[0],o=jt().memoizedState;return[typeof i=="boolean"?i:ic(i),o]},useSyncExternalStore:j_,useId:eS,useHostTransitionStatus:jp,useFormState:U_,useActionState:U_,useOptimistic:function(i,o){var c=jt();return Qe!==null?C_(c,Qe,i,o):(c.baseState=i,[i,c.queue.dispatch])},useMemoCache:gp,useCacheRefresh:tS};sS.useEffectEvent=H_;function Op(i,o,c,h){o=i.memoizedState,c=c(h,o),c=c==null?o:g({},o,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var Ap={enqueueSetState:function(i,o,c){i=i._reactInternals;var h=rn(),b=bi(h);b.payload=o,c!=null&&(b.callback=c),o=xi(i,b,h),o!==null&&(Ur(o,i,h),tc(o,i,h))},enqueueReplaceState:function(i,o,c){i=i._reactInternals;var h=rn(),b=bi(h);b.tag=1,b.payload=o,c!=null&&(b.callback=c),o=xi(i,b,h),o!==null&&(Ur(o,i,h),tc(o,i,h))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var c=rn(),h=bi(c);h.tag=2,o!=null&&(h.callback=o),o=xi(i,h,c),o!==null&&(Ur(o,i,c),tc(o,i,c))}};function oS(i,o,c,h,b,w,N){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,w,N):o.prototype&&o.prototype.isPureReactComponent?!Zl(c,h)||!Zl(b,w):!0}function lS(i,o,c,h){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,h),o.state!==i&&Ap.enqueueReplaceState(o,o.state,null)}function gs(i,o){var c=o;if("ref"in o){c={};for(var h in o)h!=="ref"&&(c[h]=o[h])}if(i=i.defaultProps){c===o&&(c=g({},c));for(var b in i)c[b]===void 0&&(c[b]=i[b])}return c}function cS(i){ud(i)}function uS(i){console.error(i)}function dS(i){ud(i)}function Dd(i,o){try{var c=i.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(h){setTimeout(function(){throw h})}}function fS(i,o,c){try{var h=i.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function Tp(i,o,c){return c=bi(c),c.tag=3,c.payload={element:null},c.callback=function(){Dd(i,o)},c}function hS(i){return i=bi(i),i.tag=3,i}function mS(i,o,c,h){var b=c.type.getDerivedStateFromError;if(typeof b=="function"){var w=h.value;i.payload=function(){return b(w)},i.callback=function(){fS(o,c,h)}}var N=c.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(i.callback=function(){fS(o,c,h),typeof b!="function"&&(Ei===null?Ei=new Set([this]):Ei.add(this));var M=h.stack;this.componentDidCatch(h.value,{componentStack:M!==null?M:""})})}function FR(i,o,c,h,b){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(o=c.alternate,o!==null&&_o(o,c,b,!0),c=Jr.current,c!==null){switch(c.tag){case 31:case 13:return kn===null?Vd():c.alternate===null&&wt===0&&(wt=3),c.flags&=-257,c.flags|=65536,c.lanes=b,h===xd?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([h]):o.add(h),tg(i,h,b)),!1;case 22:return c.flags|=65536,h===xd?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([h]):c.add(h)),tg(i,h,b)),!1}throw Error(n(435,c.tag))}return tg(i,h,b),Vd(),!1}if(He)return o=Jr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=b,h!==Ym&&(i=Error(n(422),{cause:h}),Wl(xn(i,c)))):(h!==Ym&&(o=Error(n(423),{cause:h}),Wl(xn(o,c))),i=i.current.alternate,i.flags|=65536,b&=-b,i.lanes|=b,h=xn(h,c),b=Tp(i.stateNode,h,b),sp(i,b),wt!==4&&(wt=2)),!1;var w=Error(n(520),{cause:h});if(w=xn(w,c),pc===null?pc=[w]:pc.push(w),wt!==4&&(wt=2),o===null)return!0;h=xn(h,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,i=b&-b,c.lanes|=i,i=Tp(c.stateNode,h,i),sp(c,i),!1;case 1:if(o=c.type,w=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ei===null||!Ei.has(w))))return c.flags|=65536,b&=-b,c.lanes|=b,b=hS(b),mS(b,i,c,h),sp(c,b),!1}c=c.return}while(c!==null);return!1}var Cp=Error(n(461)),Ct=!1;function rr(i,o,c,h){o.child=i===null?y_(o,null,c,h):ms(o,i.child,c,h)}function pS(i,o,c,h,b){c=c.render;var w=o.ref;if("ref"in h){var N={};for(var M in h)M!=="ref"&&(N[M]=h[M])}else N=h;return us(o),h=fp(i,o,c,N,w,b),M=hp(),i!==null&&!Ct?(mp(i,o,b),Na(i,o,b)):(He&&M&&Zm(o),o.flags|=1,rr(i,o,h,b),o.child)}function gS(i,o,c,h,b){if(i===null){var w=c.type;return typeof w=="function"&&!Fm(w)&&w.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=w,vS(i,o,w,h,b)):(i=md(c.type,null,h,o,o.mode,b),i.ref=o.ref,i.return=o,o.child=i)}if(w=i.child,!zp(i,b)){var N=w.memoizedProps;if(c=c.compare,c=c!==null?c:Zl,c(N,h)&&i.ref===o.ref)return Na(i,o,b)}return o.flags|=1,i=wa(w,h),i.ref=o.ref,i.return=o,o.child=i}function vS(i,o,c,h,b){if(i!==null){var w=i.memoizedProps;if(Zl(w,h)&&i.ref===o.ref)if(Ct=!1,o.pendingProps=h=w,zp(i,b))(i.flags&131072)!==0&&(Ct=!0);else return o.lanes=i.lanes,Na(i,o,b)}return Pp(i,o,c,h,b)}function yS(i,o,c,h){var b=h.children,w=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((o.flags&128)!==0){if(w=w!==null?w.baseLanes|c:c,i!==null){for(h=o.child=i.child,b=0;h!==null;)b=b|h.lanes|h.childLanes,h=h.sibling;h=b&~w}else h=0,o.child=null;return bS(i,o,w,c,h)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&yd(o,w!==null?w.cachePool:null),w!==null?w_(o,w):lp(),__(o);else return h=o.lanes=536870912,bS(i,o,w!==null?w.baseLanes|c:c,c,h)}else w!==null?(yd(o,w.cachePool),w_(o,w),_i(),o.memoizedState=null):(i!==null&&yd(o,null),lp(),_i());return rr(i,o,b,c),o.child}function lc(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function bS(i,o,c,h,b){var w=rp();return w=w===null?null:{parent:At._currentValue,pool:w},o.memoizedState={baseLanes:c,cachePool:w},i!==null&&yd(o,null),lp(),__(o),i!==null&&_o(i,o,h,!0),o.childLanes=b,null}function Md(i,o){return o=$d({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function xS(i,o,c){return ms(o,i.child,null,c),i=Md(o,o.pendingProps),i.flags|=2,Qr(o),o.memoizedState=null,i}function VR(i,o,c){var h=o.pendingProps,b=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(He){if(h.mode==="hidden")return i=Md(o,h),o.lanes=536870912,lc(null,i);if(up(o),(i=ct)?(i=Pk(i,Sn),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:mi!==null?{id:ea,overflow:ta}:null,retryLane:536870912,hydrationErrors:null},c=n_(i),c.return=o,o.child=c,er=o,ct=null)):i=null,i===null)throw gi(o);return o.lanes=536870912,null}return Md(o,h)}var w=i.memoizedState;if(w!==null){var N=w.dehydrated;if(up(o),b)if(o.flags&256)o.flags&=-257,o=xS(i,o,c);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(n(558));else if(Ct||_o(i,o,c,!1),b=(c&i.childLanes)!==0,Ct||b){if(h=rt,h!==null&&(N=u1(h,c),N!==0&&N!==w.retryLane))throw w.retryLane=N,ss(i,N),Ur(h,i,N),Cp;Vd(),o=xS(i,o,c)}else i=w.treeContext,ct=jn(N.nextSibling),er=o,He=!0,pi=null,Sn=!1,i!==null&&s_(o,i),o=Md(o,h),o.flags|=4096;return o}return i=wa(i.child,{mode:h.mode,children:h.children}),i.ref=o.ref,o.child=i,i.return=o,i}function Rd(i,o){var c=o.ref;if(c===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(n(284));(i===null||i.ref!==c)&&(o.flags|=4194816)}}function Pp(i,o,c,h,b){return us(o),c=fp(i,o,c,h,void 0,b),h=hp(),i!==null&&!Ct?(mp(i,o,b),Na(i,o,b)):(He&&h&&Zm(o),o.flags|=1,rr(i,o,c,b),o.child)}function wS(i,o,c,h,b,w){return us(o),o.updateQueue=null,c=k_(o,h,c,b),S_(i),h=hp(),i!==null&&!Ct?(mp(i,o,w),Na(i,o,w)):(He&&h&&Zm(o),o.flags|=1,rr(i,o,c,w),o.child)}function _S(i,o,c,h,b){if(us(o),o.stateNode===null){var w=yo,N=c.contextType;typeof N=="object"&&N!==null&&(w=tr(N)),w=new c(h,w),o.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Ap,o.stateNode=w,w._reactInternals=o,w=o.stateNode,w.props=h,w.state=o.memoizedState,w.refs={},ap(o),N=c.contextType,w.context=typeof N=="object"&&N!==null?tr(N):yo,w.state=o.memoizedState,N=c.getDerivedStateFromProps,typeof N=="function"&&(Op(o,c,N,h),w.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(N=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),N!==w.state&&Ap.enqueueReplaceState(w,w.state,null),nc(o,h,w,b),rc(),w.state=o.memoizedState),typeof w.componentDidMount=="function"&&(o.flags|=4194308),h=!0}else if(i===null){w=o.stateNode;var M=o.memoizedProps,z=gs(c,M);w.props=z;var G=w.context,ie=c.contextType;N=yo,typeof ie=="object"&&ie!==null&&(N=tr(ie));var le=c.getDerivedStateFromProps;ie=typeof le=="function"||typeof w.getSnapshotBeforeUpdate=="function",M=o.pendingProps!==M,ie||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(M||G!==N)&&lS(o,w,h,N),yi=!1;var J=o.memoizedState;w.state=J,nc(o,h,w,b),rc(),G=o.memoizedState,M||J!==G||yi?(typeof le=="function"&&(Op(o,c,le,h),G=o.memoizedState),(z=yi||oS(o,c,z,h,J,G,N))?(ie||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(o.flags|=4194308)):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=G),w.props=h,w.state=G,w.context=N,h=z):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{w=o.stateNode,ip(i,o),N=o.memoizedProps,ie=gs(c,N),w.props=ie,le=o.pendingProps,J=w.context,G=c.contextType,z=yo,typeof G=="object"&&G!==null&&(z=tr(G)),M=c.getDerivedStateFromProps,(G=typeof M=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(N!==le||J!==z)&&lS(o,w,h,z),yi=!1,J=o.memoizedState,w.state=J,nc(o,h,w,b),rc();var te=o.memoizedState;N!==le||J!==te||yi||i!==null&&i.dependencies!==null&&gd(i.dependencies)?(typeof M=="function"&&(Op(o,c,M,h),te=o.memoizedState),(ie=yi||oS(o,c,ie,h,J,te,z)||i!==null&&i.dependencies!==null&&gd(i.dependencies))?(G||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,te,z),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,te,z)),typeof w.componentDidUpdate=="function"&&(o.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof w.componentDidUpdate!="function"||N===i.memoizedProps&&J===i.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||N===i.memoizedProps&&J===i.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=te),w.props=h,w.state=te,w.context=z,h=ie):(typeof w.componentDidUpdate!="function"||N===i.memoizedProps&&J===i.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||N===i.memoizedProps&&J===i.memoizedState||(o.flags|=1024),h=!1)}return w=h,Rd(i,o),h=(o.flags&128)!==0,w||h?(w=o.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:w.render(),o.flags|=1,i!==null&&h?(o.child=ms(o,i.child,null,b),o.child=ms(o,null,c,b)):rr(i,o,c,b),o.memoizedState=w.state,i=o.child):i=Na(i,o,b),i}function SS(i,o,c,h){return ls(),o.flags|=256,rr(i,o,c,h),o.child}var Dp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mp(i){return{baseLanes:i,cachePool:f_()}}function Rp(i,o,c){return i=i!==null?i.childLanes&~c:0,o&&(i|=tn),i}function kS(i,o,c){var h=o.pendingProps,b=!1,w=(o.flags&128)!==0,N;if((N=w)||(N=i!==null&&i.memoizedState===null?!1:(kt.current&2)!==0),N&&(b=!0,o.flags&=-129),N=(o.flags&32)!==0,o.flags&=-33,i===null){if(He){if(b?wi(o):_i(),(i=ct)?(i=Pk(i,Sn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:mi!==null?{id:ea,overflow:ta}:null,retryLane:536870912,hydrationErrors:null},c=n_(i),c.return=o,o.child=c,er=o,ct=null)):i=null,i===null)throw gi(o);return vg(i)?o.lanes=32:o.lanes=536870912,null}var M=h.children;return h=h.fallback,b?(_i(),b=o.mode,M=$d({mode:"hidden",children:M},b),h=os(h,b,c,null),M.return=o,h.return=o,M.sibling=h,o.child=M,h=o.child,h.memoizedState=Mp(c),h.childLanes=Rp(i,N,c),o.memoizedState=Dp,lc(null,h)):(wi(o),$p(o,M))}var z=i.memoizedState;if(z!==null&&(M=z.dehydrated,M!==null)){if(w)o.flags&256?(wi(o),o.flags&=-257,o=Lp(i,o,c)):o.memoizedState!==null?(_i(),o.child=i.child,o.flags|=128,o=null):(_i(),M=h.fallback,b=o.mode,h=$d({mode:"visible",children:h.children},b),M=os(M,b,c,null),M.flags|=2,h.return=o,M.return=o,h.sibling=M,o.child=h,ms(o,i.child,null,c),h=o.child,h.memoizedState=Mp(c),h.childLanes=Rp(i,N,c),o.memoizedState=Dp,o=lc(null,h));else if(wi(o),vg(M)){if(N=M.nextSibling&&M.nextSibling.dataset,N)var G=N.dgst;N=G,h=Error(n(419)),h.stack="",h.digest=N,Wl({value:h,source:null,stack:null}),o=Lp(i,o,c)}else if(Ct||_o(i,o,c,!1),N=(c&i.childLanes)!==0,Ct||N){if(N=rt,N!==null&&(h=u1(N,c),h!==0&&h!==z.retryLane))throw z.retryLane=h,ss(i,h),Ur(N,i,h),Cp;gg(M)||Vd(),o=Lp(i,o,c)}else gg(M)?(o.flags|=192,o.child=i.child,o=null):(i=z.treeContext,ct=jn(M.nextSibling),er=o,He=!0,pi=null,Sn=!1,i!==null&&s_(o,i),o=$p(o,h.children),o.flags|=4096);return o}return b?(_i(),M=h.fallback,b=o.mode,z=i.child,G=z.sibling,h=wa(z,{mode:"hidden",children:h.children}),h.subtreeFlags=z.subtreeFlags&65011712,G!==null?M=wa(G,M):(M=os(M,b,c,null),M.flags|=2),M.return=o,h.return=o,h.sibling=M,o.child=h,lc(null,h),h=o.child,M=i.child.memoizedState,M===null?M=Mp(c):(b=M.cachePool,b!==null?(z=At._currentValue,b=b.parent!==z?{parent:z,pool:z}:b):b=f_(),M={baseLanes:M.baseLanes|c,cachePool:b}),h.memoizedState=M,h.childLanes=Rp(i,N,c),o.memoizedState=Dp,lc(i.child,h)):(wi(o),c=i.child,i=c.sibling,c=wa(c,{mode:"visible",children:h.children}),c.return=o,c.sibling=null,i!==null&&(N=o.deletions,N===null?(o.deletions=[i],o.flags|=16):N.push(i)),o.child=c,o.memoizedState=null,c)}function $p(i,o){return o=$d({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function $d(i,o){return i=Xr(22,i,null,o),i.lanes=0,i}function Lp(i,o,c){return ms(o,i.child,null,c),i=$p(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function jS(i,o,c){i.lanes|=o;var h=i.alternate;h!==null&&(h.lanes|=o),Jm(i.return,o,c)}function Ip(i,o,c,h,b,w){var N=i.memoizedState;N===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:b,treeForkCount:w}:(N.isBackwards=o,N.rendering=null,N.renderingStartTime=0,N.last=h,N.tail=c,N.tailMode=b,N.treeForkCount=w)}function ES(i,o,c){var h=o.pendingProps,b=h.revealOrder,w=h.tail;h=h.children;var N=kt.current,M=(N&2)!==0;if(M?(N=N&1|2,o.flags|=128):N&=1,Q(kt,N),rr(i,o,h,c),h=He?Yl:0,!M&&i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&jS(i,c,o);else if(i.tag===19)jS(i,c,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(b){case"forwards":for(c=o.child,b=null;c!==null;)i=c.alternate,i!==null&&kd(i)===null&&(b=c),c=c.sibling;c=b,c===null?(b=o.child,o.child=null):(b=c.sibling,c.sibling=null),Ip(o,!1,b,c,w,h);break;case"backwards":case"unstable_legacy-backwards":for(c=null,b=o.child,o.child=null;b!==null;){if(i=b.alternate,i!==null&&kd(i)===null){o.child=b;break}i=b.sibling,b.sibling=c,c=b,b=i}Ip(o,!0,c,null,w,h);break;case"together":Ip(o,!1,null,null,void 0,h);break;default:o.memoizedState=null}return o.child}function Na(i,o,c){if(i!==null&&(o.dependencies=i.dependencies),ji|=o.lanes,(c&o.childLanes)===0)if(i!==null){if(_o(i,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,c=wa(i,i.pendingProps),o.child=c,c.return=o;i.sibling!==null;)i=i.sibling,c=c.sibling=wa(i,i.pendingProps),c.return=o;c.sibling=null}return o.child}function zp(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&gd(i)))}function KR(i,o,c){switch(o.tag){case 3:we(o,o.stateNode.containerInfo),vi(o,At,i.memoizedState.cache),ls();break;case 27:case 5:me(o);break;case 4:we(o,o.stateNode.containerInfo);break;case 10:vi(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,up(o),null;break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(wi(o),o.flags|=128,null):(c&o.child.childLanes)!==0?kS(i,o,c):(wi(o),i=Na(i,o,c),i!==null?i.sibling:null);wi(o);break;case 19:var b=(i.flags&128)!==0;if(h=(c&o.childLanes)!==0,h||(_o(i,o,c,!1),h=(c&o.childLanes)!==0),b){if(h)return ES(i,o,c);o.flags|=128}if(b=o.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),Q(kt,kt.current),h)break;return null;case 22:return o.lanes=0,yS(i,o,c,o.pendingProps);case 24:vi(o,At,i.memoizedState.cache)}return Na(i,o,c)}function NS(i,o,c){if(i!==null)if(i.memoizedProps!==o.pendingProps)Ct=!0;else{if(!zp(i,c)&&(o.flags&128)===0)return Ct=!1,KR(i,o,c);Ct=(i.flags&131072)!==0}else Ct=!1,He&&(o.flags&1048576)!==0&&i_(o,Yl,o.index);switch(o.lanes=0,o.tag){case 16:e:{var h=o.pendingProps;if(i=fs(o.elementType),o.type=i,typeof i=="function")Fm(i)?(h=gs(i,h),o.tag=1,o=_S(null,o,i,h,c)):(o.tag=0,o=Pp(null,o,i,h,c));else{if(i!=null){var b=i.$$typeof;if(b===P){o.tag=11,o=pS(null,o,i,h,c);break e}else if(b===C){o.tag=14,o=gS(null,o,i,h,c);break e}}throw o=se(i)||i,Error(n(306,o,""))}}return o;case 0:return Pp(i,o,o.type,o.pendingProps,c);case 1:return h=o.type,b=gs(h,o.pendingProps),_S(i,o,h,b,c);case 3:e:{if(we(o,o.stateNode.containerInfo),i===null)throw Error(n(387));h=o.pendingProps;var w=o.memoizedState;b=w.element,ip(i,o),nc(o,h,null,c);var N=o.memoizedState;if(h=N.cache,vi(o,At,h),h!==w.cache&&Qm(o,[At],c,!0),rc(),h=N.element,w.isDehydrated)if(w={element:h,isDehydrated:!1,cache:N.cache},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){o=SS(i,o,h,c);break e}else if(h!==b){b=xn(Error(n(424)),o),Wl(b),o=SS(i,o,h,c);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ct=jn(i.firstChild),er=o,He=!0,pi=null,Sn=!0,c=y_(o,null,h,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(ls(),h===b){o=Na(i,o,c);break e}rr(i,o,h,c)}o=o.child}return o;case 26:return Rd(i,o),i===null?(c=Ik(o.type,null,o.pendingProps,null))?o.memoizedState=c:He||(c=o.type,i=o.pendingProps,h=Jd(re.current).createElement(c),h[Qt]=o,h[Mr]=i,nr(h,c,i),Zt(h),o.stateNode=h):o.memoizedState=Ik(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return me(o),i===null&&He&&(h=o.stateNode=Rk(o.type,o.pendingProps,re.current),er=o,Sn=!0,b=ct,Ti(o.type)?(yg=b,ct=jn(h.firstChild)):ct=b),rr(i,o,o.pendingProps.children,c),Rd(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&He&&((b=h=ct)&&(h=_6(h,o.type,o.pendingProps,Sn),h!==null?(o.stateNode=h,er=o,ct=jn(h.firstChild),Sn=!1,b=!0):b=!1),b||gi(o)),me(o),b=o.type,w=o.pendingProps,N=i!==null?i.memoizedProps:null,h=w.children,hg(b,w)?h=null:N!==null&&hg(b,N)&&(o.flags|=32),o.memoizedState!==null&&(b=fp(i,o,LR,null,null,c),Sc._currentValue=b),Rd(i,o),rr(i,o,h,c),o.child;case 6:return i===null&&He&&((i=c=ct)&&(c=S6(c,o.pendingProps,Sn),c!==null?(o.stateNode=c,er=o,ct=null,i=!0):i=!1),i||gi(o)),null;case 13:return kS(i,o,c);case 4:return we(o,o.stateNode.containerInfo),h=o.pendingProps,i===null?o.child=ms(o,null,h,c):rr(i,o,h,c),o.child;case 11:return pS(i,o,o.type,o.pendingProps,c);case 7:return rr(i,o,o.pendingProps,c),o.child;case 8:return rr(i,o,o.pendingProps.children,c),o.child;case 12:return rr(i,o,o.pendingProps.children,c),o.child;case 10:return h=o.pendingProps,vi(o,o.type,h.value),rr(i,o,h.children,c),o.child;case 9:return b=o.type._context,h=o.pendingProps.children,us(o),b=tr(b),h=h(b),o.flags|=1,rr(i,o,h,c),o.child;case 14:return gS(i,o,o.type,o.pendingProps,c);case 15:return vS(i,o,o.type,o.pendingProps,c);case 19:return ES(i,o,c);case 31:return VR(i,o,c);case 22:return yS(i,o,c,o.pendingProps);case 24:return us(o),h=tr(At),i===null?(b=rp(),b===null&&(b=rt,w=ep(),b.pooledCache=w,w.refCount++,w!==null&&(b.pooledCacheLanes|=c),b=w),o.memoizedState={parent:h,cache:b},ap(o),vi(o,At,b)):((i.lanes&c)!==0&&(ip(i,o),nc(o,null,null,c),rc()),b=i.memoizedState,w=o.memoizedState,b.parent!==h?(b={parent:h,cache:h},o.memoizedState=b,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=b),vi(o,At,h)):(h=w.cache,vi(o,At,h),h!==b.cache&&Qm(o,[At],c,!0))),rr(i,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function Oa(i){i.flags|=4}function Up(i,o,c,h,b){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(b&335544128)===b)if(i.stateNode.complete)i.flags|=8192;else if(ek())i.flags|=8192;else throw hs=xd,np}else i.flags&=-16777217}function OS(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Hk(o))if(ek())i.flags|=8192;else throw hs=xd,np}function Ld(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?o1():536870912,i.lanes|=o,Mo|=o)}function cc(i,o){if(!He)switch(i.tailMode){case"hidden":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function ut(i){var o=i.alternate!==null&&i.alternate.child===i.child,c=0,h=0;if(o)for(var b=i.child;b!==null;)c|=b.lanes|b.childLanes,h|=b.subtreeFlags&65011712,h|=b.flags&65011712,b.return=i,b=b.sibling;else for(b=i.child;b!==null;)c|=b.lanes|b.childLanes,h|=b.subtreeFlags,h|=b.flags,b.return=i,b=b.sibling;return i.subtreeFlags|=h,i.childLanes=c,o}function ZR(i,o,c){var h=o.pendingProps;switch(Gm(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(o),null;case 1:return ut(o),null;case 3:return c=o.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),ka(At),X(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(i===null||i.child===null)&&(wo(o)?Oa(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Wm())),ut(o),null;case 26:var b=o.type,w=o.memoizedState;return i===null?(Oa(o),w!==null?(ut(o),OS(o,w)):(ut(o),Up(o,b,null,h,c))):w?w!==i.memoizedState?(Oa(o),ut(o),OS(o,w)):(ut(o),o.flags&=-16777217):(i=i.memoizedProps,i!==h&&Oa(o),ut(o),Up(o,b,i,h,c)),null;case 27:if(_e(o),c=re.current,b=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==h&&Oa(o);else{if(!h){if(o.stateNode===null)throw Error(n(166));return ut(o),null}i=K.current,wo(o)?o_(o):(i=Rk(b,h,c),o.stateNode=i,Oa(o))}return ut(o),null;case 5:if(_e(o),b=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==h&&Oa(o);else{if(!h){if(o.stateNode===null)throw Error(n(166));return ut(o),null}if(w=K.current,wo(o))o_(o);else{var N=Jd(re.current);switch(w){case 1:w=N.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:w=N.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":w=N.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":w=N.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":w=N.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof h.is=="string"?N.createElement("select",{is:h.is}):N.createElement("select"),h.multiple?w.multiple=!0:h.size&&(w.size=h.size);break;default:w=typeof h.is=="string"?N.createElement(b,{is:h.is}):N.createElement(b)}}w[Qt]=o,w[Mr]=h;e:for(N=o.child;N!==null;){if(N.tag===5||N.tag===6)w.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===o)break e;for(;N.sibling===null;){if(N.return===null||N.return===o)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}o.stateNode=w;e:switch(nr(w,b,h),b){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&Oa(o)}}return ut(o),Up(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,c),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==h&&Oa(o);else{if(typeof h!="string"&&o.stateNode===null)throw Error(n(166));if(i=re.current,wo(o)){if(i=o.stateNode,c=o.memoizedProps,h=null,b=er,b!==null)switch(b.tag){case 27:case 5:h=b.memoizedProps}i[Qt]=o,i=!!(i.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||kk(i.nodeValue,c)),i||gi(o,!0)}else i=Jd(i).createTextNode(h),i[Qt]=o,o.stateNode=i}return ut(o),null;case 31:if(c=o.memoizedState,i===null||i.memoizedState!==null){if(h=wo(o),c!==null){if(i===null){if(!h)throw Error(n(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(557));i[Qt]=o}else ls(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;ut(o),i=!1}else c=Wm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=c),i=!0;if(!i)return o.flags&256?(Qr(o),o):(Qr(o),null);if((o.flags&128)!==0)throw Error(n(558))}return ut(o),null;case 13:if(h=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(b=wo(o),h!==null&&h.dehydrated!==null){if(i===null){if(!b)throw Error(n(318));if(b=o.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));b[Qt]=o}else ls(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;ut(o),b=!1}else b=Wm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=b),b=!0;if(!b)return o.flags&256?(Qr(o),o):(Qr(o),null)}return Qr(o),(o.flags&128)!==0?(o.lanes=c,o):(c=h!==null,i=i!==null&&i.memoizedState!==null,c&&(h=o.child,b=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(b=h.alternate.memoizedState.cachePool.pool),w=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(w=h.memoizedState.cachePool.pool),w!==b&&(h.flags|=2048)),c!==i&&c&&(o.child.flags|=8192),Ld(o,o.updateQueue),ut(o),null);case 4:return X(),i===null&&lg(o.stateNode.containerInfo),ut(o),null;case 10:return ka(o.type),ut(o),null;case 19:if(W(kt),h=o.memoizedState,h===null)return ut(o),null;if(b=(o.flags&128)!==0,w=h.rendering,w===null)if(b)cc(h,!1);else{if(wt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(w=kd(i),w!==null){for(o.flags|=128,cc(h,!1),i=w.updateQueue,o.updateQueue=i,Ld(o,i),o.subtreeFlags=0,i=c,c=o.child;c!==null;)r_(c,i),c=c.sibling;return Q(kt,kt.current&1|2),He&&_a(o,h.treeForkCount),o.child}i=i.sibling}h.tail!==null&&Ye()>qd&&(o.flags|=128,b=!0,cc(h,!1),o.lanes=4194304)}else{if(!b)if(i=kd(w),i!==null){if(o.flags|=128,b=!0,i=i.updateQueue,o.updateQueue=i,Ld(o,i),cc(h,!0),h.tail===null&&h.tailMode==="hidden"&&!w.alternate&&!He)return ut(o),null}else 2*Ye()-h.renderingStartTime>qd&&c!==536870912&&(o.flags|=128,b=!0,cc(h,!1),o.lanes=4194304);h.isBackwards?(w.sibling=o.child,o.child=w):(i=h.last,i!==null?i.sibling=w:o.child=w,h.last=w)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Ye(),i.sibling=null,c=kt.current,Q(kt,b?c&1|2:c&1),He&&_a(o,h.treeForkCount),i):(ut(o),null);case 22:case 23:return Qr(o),cp(),h=o.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(o.flags|=8192):h&&(o.flags|=8192),h?(c&536870912)!==0&&(o.flags&128)===0&&(ut(o),o.subtreeFlags&6&&(o.flags|=8192)):ut(o),c=o.updateQueue,c!==null&&Ld(o,c.retryQueue),c=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==c&&(o.flags|=2048),i!==null&&W(ds),null;case 24:return c=null,i!==null&&(c=i.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),ka(At),ut(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function GR(i,o){switch(Gm(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return ka(At),X(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return _e(o),null;case 31:if(o.memoizedState!==null){if(Qr(o),o.alternate===null)throw Error(n(340));ls()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if(Qr(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));ls()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return W(kt),null;case 4:return X(),null;case 10:return ka(o.type),null;case 22:case 23:return Qr(o),cp(),i!==null&&W(ds),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return ka(At),null;case 25:return null;default:return null}}function AS(i,o){switch(Gm(o),o.tag){case 3:ka(At),X();break;case 26:case 27:case 5:_e(o);break;case 4:X();break;case 31:o.memoizedState!==null&&Qr(o);break;case 13:Qr(o);break;case 19:W(kt);break;case 10:ka(o.type);break;case 22:case 23:Qr(o),cp(),i!==null&&W(ds);break;case 24:ka(At)}}function uc(i,o){try{var c=o.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var b=h.next;c=b;do{if((c.tag&i)===i){h=void 0;var w=c.create,N=c.inst;h=w(),N.destroy=h}c=c.next}while(c!==b)}}catch(M){Xe(o,o.return,M)}}function Si(i,o,c){try{var h=o.updateQueue,b=h!==null?h.lastEffect:null;if(b!==null){var w=b.next;h=w;do{if((h.tag&i)===i){var N=h.inst,M=N.destroy;if(M!==void 0){N.destroy=void 0,b=o;var z=c,G=M;try{G()}catch(ie){Xe(b,z,ie)}}}h=h.next}while(h!==w)}}catch(ie){Xe(o,o.return,ie)}}function TS(i){var o=i.updateQueue;if(o!==null){var c=i.stateNode;try{x_(o,c)}catch(h){Xe(i,i.return,h)}}}function CS(i,o,c){c.props=gs(i.type,i.memoizedProps),c.state=i.memoizedState;try{c.componentWillUnmount()}catch(h){Xe(i,o,h)}}function dc(i,o){try{var c=i.ref;if(c!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof c=="function"?i.refCleanup=c(h):c.current=h}}catch(b){Xe(i,o,b)}}function ra(i,o){var c=i.ref,h=i.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(b){Xe(i,o,b)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(b){Xe(i,o,b)}else c.current=null}function PS(i){var o=i.type,c=i.memoizedProps,h=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break e;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(b){Xe(i,i.return,b)}}function Bp(i,o,c){try{var h=i.stateNode;g6(h,i.type,c,o),h[Mr]=o}catch(b){Xe(i,i.return,b)}}function DS(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ti(i.type)||i.tag===4}function qp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||DS(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ti(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Hp(i,o,c){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(i,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(i),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=ba));else if(h!==4&&(h===27&&Ti(i.type)&&(c=i.stateNode,o=null),i=i.child,i!==null))for(Hp(i,o,c),i=i.sibling;i!==null;)Hp(i,o,c),i=i.sibling}function Id(i,o,c){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?c.insertBefore(i,o):c.appendChild(i);else if(h!==4&&(h===27&&Ti(i.type)&&(c=i.stateNode),i=i.child,i!==null))for(Id(i,o,c),i=i.sibling;i!==null;)Id(i,o,c),i=i.sibling}function MS(i){var o=i.stateNode,c=i.memoizedProps;try{for(var h=i.type,b=o.attributes;b.length;)o.removeAttributeNode(b[0]);nr(o,h,c),o[Qt]=i,o[Mr]=c}catch(w){Xe(i,i.return,w)}}var Aa=!1,Pt=!1,Fp=!1,RS=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function YR(i,o){if(i=i.containerInfo,dg=sf,i=Z1(i),Lm(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var b=h.anchorOffset,w=h.focusNode;h=h.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var N=0,M=-1,z=-1,G=0,ie=0,le=i,J=null;t:for(;;){for(var te;le!==c||b!==0&&le.nodeType!==3||(M=N+b),le!==w||h!==0&&le.nodeType!==3||(z=N+h),le.nodeType===3&&(N+=le.nodeValue.length),(te=le.firstChild)!==null;)J=le,le=te;for(;;){if(le===i)break t;if(J===c&&++G===b&&(M=N),J===w&&++ie===h&&(z=N),(te=le.nextSibling)!==null)break;le=J,J=le.parentNode}le=te}c=M===-1||z===-1?null:{start:M,end:z}}else c=null}c=c||{start:0,end:0}}else c=null;for(fg={focusedElem:i,selectionRange:c},sf=!1,Gt=o;Gt!==null;)if(o=Gt,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Gt=i;else for(;Gt!==null;){switch(o=Gt,w=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(c=0;c<i.length;c++)b=i[c],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&w!==null){i=void 0,c=o,b=w.memoizedProps,w=w.memoizedState,h=c.stateNode;try{var xe=gs(c.type,b);i=h.getSnapshotBeforeUpdate(xe,w),h.__reactInternalSnapshotBeforeUpdate=i}catch(Te){Xe(c,c.return,Te)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,c=i.nodeType,c===9)pg(i);else if(c===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":pg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=o.sibling,i!==null){i.return=o.return,Gt=i;break}Gt=o.return}}function $S(i,o,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:Ca(i,c),h&4&&uc(5,c);break;case 1:if(Ca(i,c),h&4)if(i=c.stateNode,o===null)try{i.componentDidMount()}catch(N){Xe(c,c.return,N)}else{var b=gs(c.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(b,o,i.__reactInternalSnapshotBeforeUpdate)}catch(N){Xe(c,c.return,N)}}h&64&&TS(c),h&512&&dc(c,c.return);break;case 3:if(Ca(i,c),h&64&&(i=c.updateQueue,i!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{x_(i,o)}catch(N){Xe(c,c.return,N)}}break;case 27:o===null&&h&4&&MS(c);case 26:case 5:Ca(i,c),o===null&&h&4&&PS(c),h&512&&dc(c,c.return);break;case 12:Ca(i,c);break;case 31:Ca(i,c),h&4&&zS(i,c);break;case 13:Ca(i,c),h&4&&US(i,c),h&64&&(i=c.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(c=a6.bind(null,c),k6(i,c))));break;case 22:if(h=c.memoizedState!==null||Aa,!h){o=o!==null&&o.memoizedState!==null||Pt,b=Aa;var w=Pt;Aa=h,(Pt=o)&&!w?Pa(i,c,(c.subtreeFlags&8772)!==0):Ca(i,c),Aa=b,Pt=w}break;case 30:break;default:Ca(i,c)}}function LS(i){var o=i.alternate;o!==null&&(i.alternate=null,LS(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&xm(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ft=null,$r=!1;function Ta(i,o,c){for(c=c.child;c!==null;)IS(i,o,c),c=c.sibling}function IS(i,o,c){if(kr&&typeof kr.onCommitFiberUnmount=="function")try{kr.onCommitFiberUnmount(va,c)}catch{}switch(c.tag){case 26:Pt||ra(c,o),Ta(i,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Pt||ra(c,o);var h=ft,b=$r;Ti(c.type)&&(ft=c.stateNode,$r=!1),Ta(i,o,c),xc(c.stateNode),ft=h,$r=b;break;case 5:Pt||ra(c,o);case 6:if(h=ft,b=$r,ft=null,Ta(i,o,c),ft=h,$r=b,ft!==null)if($r)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(c.stateNode)}catch(w){Xe(c,o,w)}else try{ft.removeChild(c.stateNode)}catch(w){Xe(c,o,w)}break;case 18:ft!==null&&($r?(i=ft,Tk(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,c.stateNode),qo(i)):Tk(ft,c.stateNode));break;case 4:h=ft,b=$r,ft=c.stateNode.containerInfo,$r=!0,Ta(i,o,c),ft=h,$r=b;break;case 0:case 11:case 14:case 15:Si(2,c,o),Pt||Si(4,c,o),Ta(i,o,c);break;case 1:Pt||(ra(c,o),h=c.stateNode,typeof h.componentWillUnmount=="function"&&CS(c,o,h)),Ta(i,o,c);break;case 21:Ta(i,o,c);break;case 22:Pt=(h=Pt)||c.memoizedState!==null,Ta(i,o,c),Pt=h;break;default:Ta(i,o,c)}}function zS(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{qo(i)}catch(c){Xe(o,o.return,c)}}}function US(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{qo(i)}catch(c){Xe(o,o.return,c)}}function WR(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new RS),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new RS),o;default:throw Error(n(435,i.tag))}}function zd(i,o){var c=WR(i);o.forEach(function(h){if(!c.has(h)){c.add(h);var b=i6.bind(null,i,h);h.then(b,b)}})}function Lr(i,o){var c=o.deletions;if(c!==null)for(var h=0;h<c.length;h++){var b=c[h],w=i,N=o,M=N;e:for(;M!==null;){switch(M.tag){case 27:if(Ti(M.type)){ft=M.stateNode,$r=!1;break e}break;case 5:ft=M.stateNode,$r=!1;break e;case 3:case 4:ft=M.stateNode.containerInfo,$r=!0;break e}M=M.return}if(ft===null)throw Error(n(160));IS(w,N,b),ft=null,$r=!1,w=b.alternate,w!==null&&(w.return=null),b.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)BS(o,i),o=o.sibling}var Un=null;function BS(i,o){var c=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Lr(o,i),Ir(i),h&4&&(Si(3,i,i.return),uc(3,i),Si(5,i,i.return));break;case 1:Lr(o,i),Ir(i),h&512&&(Pt||c===null||ra(c,c.return)),h&64&&Aa&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(c=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var b=Un;if(Lr(o,i),Ir(i),h&512&&(Pt||c===null||ra(c,c.return)),h&4){var w=c!==null?c.memoizedState:null;if(h=i.memoizedState,c===null)if(h===null)if(i.stateNode===null){e:{h=i.type,c=i.memoizedProps,b=b.ownerDocument||b;t:switch(h){case"title":w=b.getElementsByTagName("title")[0],(!w||w[Il]||w[Qt]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=b.createElement(h),b.head.insertBefore(w,b.querySelector("head > title"))),nr(w,h,c),w[Qt]=i,Zt(w),h=w;break e;case"link":var N=Bk("link","href",b).get(h+(c.href||""));if(N){for(var M=0;M<N.length;M++)if(w=N[M],w.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&w.getAttribute("rel")===(c.rel==null?null:c.rel)&&w.getAttribute("title")===(c.title==null?null:c.title)&&w.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){N.splice(M,1);break t}}w=b.createElement(h),nr(w,h,c),b.head.appendChild(w);break;case"meta":if(N=Bk("meta","content",b).get(h+(c.content||""))){for(M=0;M<N.length;M++)if(w=N[M],w.getAttribute("content")===(c.content==null?null:""+c.content)&&w.getAttribute("name")===(c.name==null?null:c.name)&&w.getAttribute("property")===(c.property==null?null:c.property)&&w.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&w.getAttribute("charset")===(c.charSet==null?null:c.charSet)){N.splice(M,1);break t}}w=b.createElement(h),nr(w,h,c),b.head.appendChild(w);break;default:throw Error(n(468,h))}w[Qt]=i,Zt(w),h=w}i.stateNode=h}else qk(b,i.type,i.stateNode);else i.stateNode=Uk(b,h,i.memoizedProps);else w!==h?(w===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):w.count--,h===null?qk(b,i.type,i.stateNode):Uk(b,h,i.memoizedProps)):h===null&&i.stateNode!==null&&Bp(i,i.memoizedProps,c.memoizedProps)}break;case 27:Lr(o,i),Ir(i),h&512&&(Pt||c===null||ra(c,c.return)),c!==null&&h&4&&Bp(i,i.memoizedProps,c.memoizedProps);break;case 5:if(Lr(o,i),Ir(i),h&512&&(Pt||c===null||ra(c,c.return)),i.flags&32){b=i.stateNode;try{uo(b,"")}catch(xe){Xe(i,i.return,xe)}}h&4&&i.stateNode!=null&&(b=i.memoizedProps,Bp(i,b,c!==null?c.memoizedProps:b)),h&1024&&(Fp=!0);break;case 6:if(Lr(o,i),Ir(i),h&4){if(i.stateNode===null)throw Error(n(162));h=i.memoizedProps,c=i.stateNode;try{c.nodeValue=h}catch(xe){Xe(i,i.return,xe)}}break;case 3:if(tf=null,b=Un,Un=Qd(o.containerInfo),Lr(o,i),Un=b,Ir(i),h&4&&c!==null&&c.memoizedState.isDehydrated)try{qo(o.containerInfo)}catch(xe){Xe(i,i.return,xe)}Fp&&(Fp=!1,qS(i));break;case 4:h=Un,Un=Qd(i.stateNode.containerInfo),Lr(o,i),Ir(i),Un=h;break;case 12:Lr(o,i),Ir(i);break;case 31:Lr(o,i),Ir(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,zd(i,h)));break;case 13:Lr(o,i),Ir(i),i.child.flags&8192&&i.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Bd=Ye()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,zd(i,h)));break;case 22:b=i.memoizedState!==null;var z=c!==null&&c.memoizedState!==null,G=Aa,ie=Pt;if(Aa=G||b,Pt=ie||z,Lr(o,i),Pt=ie,Aa=G,Ir(i),h&8192)e:for(o=i.stateNode,o._visibility=b?o._visibility&-2:o._visibility|1,b&&(c===null||z||Aa||Pt||vs(i)),c=null,o=i;;){if(o.tag===5||o.tag===26){if(c===null){z=c=o;try{if(w=z.stateNode,b)N=w.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{M=z.stateNode;var le=z.memoizedProps.style,J=le!=null&&le.hasOwnProperty("display")?le.display:null;M.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(xe){Xe(z,z.return,xe)}}}else if(o.tag===6){if(c===null){z=o;try{z.stateNode.nodeValue=b?"":z.memoizedProps}catch(xe){Xe(z,z.return,xe)}}}else if(o.tag===18){if(c===null){z=o;try{var te=z.stateNode;b?Ck(te,!0):Ck(z.stateNode,!1)}catch(xe){Xe(z,z.return,xe)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}h&4&&(h=i.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,zd(i,c))));break;case 19:Lr(o,i),Ir(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,zd(i,h)));break;case 30:break;case 21:break;default:Lr(o,i),Ir(i)}}function Ir(i){var o=i.flags;if(o&2){try{for(var c,h=i.return;h!==null;){if(DS(h)){c=h;break}h=h.return}if(c==null)throw Error(n(160));switch(c.tag){case 27:var b=c.stateNode,w=qp(i);Id(i,w,b);break;case 5:var N=c.stateNode;c.flags&32&&(uo(N,""),c.flags&=-33);var M=qp(i);Id(i,M,N);break;case 3:case 4:var z=c.stateNode.containerInfo,G=qp(i);Hp(i,G,z);break;default:throw Error(n(161))}}catch(ie){Xe(i,i.return,ie)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function qS(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;qS(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function Ca(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)$S(i,o.alternate,o),o=o.sibling}function vs(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:Si(4,o,o.return),vs(o);break;case 1:ra(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&CS(o,o.return,c),vs(o);break;case 27:xc(o.stateNode);case 26:case 5:ra(o,o.return),vs(o);break;case 22:o.memoizedState===null&&vs(o);break;case 30:vs(o);break;default:vs(o)}i=i.sibling}}function Pa(i,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var h=o.alternate,b=i,w=o,N=w.flags;switch(w.tag){case 0:case 11:case 15:Pa(b,w,c),uc(4,w);break;case 1:if(Pa(b,w,c),h=w,b=h.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(G){Xe(h,h.return,G)}if(h=w,b=h.updateQueue,b!==null){var M=h.stateNode;try{var z=b.shared.hiddenCallbacks;if(z!==null)for(b.shared.hiddenCallbacks=null,b=0;b<z.length;b++)b_(z[b],M)}catch(G){Xe(h,h.return,G)}}c&&N&64&&TS(w),dc(w,w.return);break;case 27:MS(w);case 26:case 5:Pa(b,w,c),c&&h===null&&N&4&&PS(w),dc(w,w.return);break;case 12:Pa(b,w,c);break;case 31:Pa(b,w,c),c&&N&4&&zS(b,w);break;case 13:Pa(b,w,c),c&&N&4&&US(b,w);break;case 22:w.memoizedState===null&&Pa(b,w,c),dc(w,w.return);break;case 30:break;default:Pa(b,w,c)}o=o.sibling}}function Vp(i,o){var c=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==c&&(i!=null&&i.refCount++,c!=null&&Xl(c))}function Kp(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Xl(i))}function Bn(i,o,c,h){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)HS(i,o,c,h),o=o.sibling}function HS(i,o,c,h){var b=o.flags;switch(o.tag){case 0:case 11:case 15:Bn(i,o,c,h),b&2048&&uc(9,o);break;case 1:Bn(i,o,c,h);break;case 3:Bn(i,o,c,h),b&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Xl(i)));break;case 12:if(b&2048){Bn(i,o,c,h),i=o.stateNode;try{var w=o.memoizedProps,N=w.id,M=w.onPostCommit;typeof M=="function"&&M(N,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(z){Xe(o,o.return,z)}}else Bn(i,o,c,h);break;case 31:Bn(i,o,c,h);break;case 13:Bn(i,o,c,h);break;case 23:break;case 22:w=o.stateNode,N=o.alternate,o.memoizedState!==null?w._visibility&2?Bn(i,o,c,h):fc(i,o):w._visibility&2?Bn(i,o,c,h):(w._visibility|=2,Co(i,o,c,h,(o.subtreeFlags&10256)!==0||!1)),b&2048&&Vp(N,o);break;case 24:Bn(i,o,c,h),b&2048&&Kp(o.alternate,o);break;default:Bn(i,o,c,h)}}function Co(i,o,c,h,b){for(b=b&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var w=i,N=o,M=c,z=h,G=N.flags;switch(N.tag){case 0:case 11:case 15:Co(w,N,M,z,b),uc(8,N);break;case 23:break;case 22:var ie=N.stateNode;N.memoizedState!==null?ie._visibility&2?Co(w,N,M,z,b):fc(w,N):(ie._visibility|=2,Co(w,N,M,z,b)),b&&G&2048&&Vp(N.alternate,N);break;case 24:Co(w,N,M,z,b),b&&G&2048&&Kp(N.alternate,N);break;default:Co(w,N,M,z,b)}o=o.sibling}}function fc(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=i,h=o,b=h.flags;switch(h.tag){case 22:fc(c,h),b&2048&&Vp(h.alternate,h);break;case 24:fc(c,h),b&2048&&Kp(h.alternate,h);break;default:fc(c,h)}o=o.sibling}}var hc=8192;function Po(i,o,c){if(i.subtreeFlags&hc)for(i=i.child;i!==null;)FS(i,o,c),i=i.sibling}function FS(i,o,c){switch(i.tag){case 26:Po(i,o,c),i.flags&hc&&i.memoizedState!==null&&$6(c,Un,i.memoizedState,i.memoizedProps);break;case 5:Po(i,o,c);break;case 3:case 4:var h=Un;Un=Qd(i.stateNode.containerInfo),Po(i,o,c),Un=h;break;case 22:i.memoizedState===null&&(h=i.alternate,h!==null&&h.memoizedState!==null?(h=hc,hc=16777216,Po(i,o,c),hc=h):Po(i,o,c));break;default:Po(i,o,c)}}function VS(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function mc(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var h=o[c];Gt=h,ZS(h,i)}VS(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)KS(i),i=i.sibling}function KS(i){switch(i.tag){case 0:case 11:case 15:mc(i),i.flags&2048&&Si(9,i,i.return);break;case 3:mc(i);break;case 12:mc(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,Ud(i)):mc(i);break;default:mc(i)}}function Ud(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var h=o[c];Gt=h,ZS(h,i)}VS(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:Si(8,o,o.return),Ud(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,Ud(o));break;default:Ud(o)}i=i.sibling}}function ZS(i,o){for(;Gt!==null;){var c=Gt;switch(c.tag){case 0:case 11:case 15:Si(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Xl(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,Gt=h;else e:for(c=i;Gt!==null;){h=Gt;var b=h.sibling,w=h.return;if(LS(h),h===c){Gt=null;break e}if(b!==null){b.return=w,Gt=b;break e}Gt=w}}}var XR={getCacheForType:function(i){var o=tr(At),c=o.data.get(i);return c===void 0&&(c=i(),o.data.set(i,c)),c},cacheSignal:function(){return tr(At).controller.signal}},JR=typeof WeakMap=="function"?WeakMap:Map,Ze=0,rt=null,Le=null,Ue=0,We=0,en=null,ki=!1,Do=!1,Zp=!1,Da=0,wt=0,ji=0,ys=0,Gp=0,tn=0,Mo=0,pc=null,zr=null,Yp=!1,Bd=0,GS=0,qd=1/0,Hd=null,Ei=null,zt=0,Ni=null,Ro=null,Ma=0,Wp=0,Xp=null,YS=null,gc=0,Jp=null;function rn(){return(Ze&2)!==0&&Ue!==0?Ue&-Ue:U.T!==null?ag():d1()}function WS(){if(tn===0)if((Ue&536870912)===0||He){var i=Xu;Xu<<=1,(Xu&3932160)===0&&(Xu=262144),tn=i}else tn=536870912;return i=Jr.current,i!==null&&(i.flags|=32),tn}function Ur(i,o,c){(i===rt&&(We===2||We===9)||i.cancelPendingCommit!==null)&&($o(i,0),Oi(i,Ue,tn,!1)),Ll(i,c),((Ze&2)===0||i!==rt)&&(i===rt&&((Ze&2)===0&&(ys|=c),wt===4&&Oi(i,Ue,tn,!1)),na(i))}function XS(i,o,c){if((Ze&6)!==0)throw Error(n(327));var h=!c&&(o&127)===0&&(o&i.expiredLanes)===0||$l(i,o),b=h?t6(i,o):eg(i,o,!0),w=h;do{if(b===0){Do&&!h&&Oi(i,o,0,!1);break}else{if(c=i.current.alternate,w&&!QR(c)){b=eg(i,o,!1),w=!1;continue}if(b===2){if(w=o,i.errorRecoveryDisabledLanes&w)var N=0;else N=i.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){o=N;e:{var M=i;b=pc;var z=M.current.memoizedState.isDehydrated;if(z&&($o(M,N).flags|=256),N=eg(M,N,!1),N!==2){if(Zp&&!z){M.errorRecoveryDisabledLanes|=w,ys|=w,b=4;break e}w=zr,zr=b,w!==null&&(zr===null?zr=w:zr.push.apply(zr,w))}b=N}if(w=!1,b!==2)continue}}if(b===1){$o(i,0),Oi(i,o,0,!0);break}e:{switch(h=i,w=b,w){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:Oi(h,o,tn,!ki);break e;case 2:zr=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(b=Bd+300-Ye(),10<b)){if(Oi(h,o,tn,!ki),Qu(h,0,!0)!==0)break e;Ma=o,h.timeoutHandle=Ok(JS.bind(null,h,c,zr,Hd,Yp,o,tn,ys,Mo,ki,w,"Throttled",-0,0),b);break e}JS(h,c,zr,Hd,Yp,o,tn,ys,Mo,ki,w,null,-0,0)}}break}while(!0);na(i)}function JS(i,o,c,h,b,w,N,M,z,G,ie,le,J,te){if(i.timeoutHandle=-1,le=o.subtreeFlags,le&8192||(le&16785408)===16785408){le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ba},FS(o,w,le);var xe=(w&62914560)===w?Bd-Ye():(w&4194048)===w?GS-Ye():0;if(xe=L6(le,xe),xe!==null){Ma=w,i.cancelPendingCommit=xe(sk.bind(null,i,o,w,c,h,b,N,M,z,ie,le,null,J,te)),Oi(i,w,N,!G);return}}sk(i,o,w,c,h,b,N,M,z)}function QR(i){for(var o=i;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var b=c[h],w=b.getSnapshot;b=b.value;try{if(!Wr(w(),b))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Oi(i,o,c,h){o&=~Gp,o&=~ys,i.suspendedLanes|=o,i.pingedLanes&=~o,h&&(i.warmLanes|=o),h=i.expirationTimes;for(var b=o;0<b;){var w=31-It(b),N=1<<w;h[w]=-1,b&=~N}c!==0&&l1(i,c,o)}function Fd(){return(Ze&6)===0?(vc(0),!1):!0}function Qp(){if(Le!==null){if(We===0)var i=Le.return;else i=Le,Sa=cs=null,pp(i),Eo=null,Ql=0,i=Le;for(;i!==null;)AS(i.alternate,i),i=i.return;Le=null}}function $o(i,o){var c=i.timeoutHandle;c!==-1&&(i.timeoutHandle=-1,b6(c)),c=i.cancelPendingCommit,c!==null&&(i.cancelPendingCommit=null,c()),Ma=0,Qp(),rt=i,Le=c=wa(i.current,null),Ue=o,We=0,en=null,ki=!1,Do=$l(i,o),Zp=!1,Mo=tn=Gp=ys=ji=wt=0,zr=pc=null,Yp=!1,(o&8)!==0&&(o|=o&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=o;0<h;){var b=31-It(h),w=1<<b;o|=i[b],h&=~w}return Da=o,dd(),c}function QS(i,o){Me=null,U.H=oc,o===jo||o===bd?(o=p_(),We=3):o===np?(o=p_(),We=4):We=o===Cp?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,en=o,Le===null&&(wt=1,Dd(i,xn(o,i.current)))}function ek(){var i=Jr.current;return i===null?!0:(Ue&4194048)===Ue?kn===null:(Ue&62914560)===Ue||(Ue&536870912)!==0?i===kn:!1}function tk(){var i=U.H;return U.H=oc,i===null?oc:i}function rk(){var i=U.A;return U.A=XR,i}function Vd(){wt=4,ki||(Ue&4194048)!==Ue&&Jr.current!==null||(Do=!0),(ji&134217727)===0&&(ys&134217727)===0||rt===null||Oi(rt,Ue,tn,!1)}function eg(i,o,c){var h=Ze;Ze|=2;var b=tk(),w=rk();(rt!==i||Ue!==o)&&(Hd=null,$o(i,o)),o=!1;var N=wt;e:do try{if(We!==0&&Le!==null){var M=Le,z=en;switch(We){case 8:Qp(),N=6;break e;case 3:case 2:case 9:case 6:Jr.current===null&&(o=!0);var G=We;if(We=0,en=null,Lo(i,M,z,G),c&&Do){N=0;break e}break;default:G=We,We=0,en=null,Lo(i,M,z,G)}}e6(),N=wt;break}catch(ie){QS(i,ie)}while(!0);return o&&i.shellSuspendCounter++,Sa=cs=null,Ze=h,U.H=b,U.A=w,Le===null&&(rt=null,Ue=0,dd()),N}function e6(){for(;Le!==null;)nk(Le)}function t6(i,o){var c=Ze;Ze|=2;var h=tk(),b=rk();rt!==i||Ue!==o?(Hd=null,qd=Ye()+500,$o(i,o)):Do=$l(i,o);e:do try{if(We!==0&&Le!==null){o=Le;var w=en;t:switch(We){case 1:We=0,en=null,Lo(i,o,w,1);break;case 2:case 9:if(h_(w)){We=0,en=null,ak(o);break}o=function(){We!==2&&We!==9||rt!==i||(We=7),na(i)},w.then(o,o);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:h_(w)?(We=0,en=null,ak(o)):(We=0,en=null,Lo(i,o,w,7));break;case 5:var N=null;switch(Le.tag){case 26:N=Le.memoizedState;case 5:case 27:var M=Le;if(N?Hk(N):M.stateNode.complete){We=0,en=null;var z=M.sibling;if(z!==null)Le=z;else{var G=M.return;G!==null?(Le=G,Kd(G)):Le=null}break t}}We=0,en=null,Lo(i,o,w,5);break;case 6:We=0,en=null,Lo(i,o,w,6);break;case 8:Qp(),wt=6;break e;default:throw Error(n(462))}}r6();break}catch(ie){QS(i,ie)}while(!0);return Sa=cs=null,U.H=h,U.A=b,Ze=c,Le!==null?0:(rt=null,Ue=0,dd(),wt)}function r6(){for(;Le!==null&&!di();)nk(Le)}function nk(i){var o=NS(i.alternate,i,Da);i.memoizedProps=i.pendingProps,o===null?Kd(i):Le=o}function ak(i){var o=i,c=o.alternate;switch(o.tag){case 15:case 0:o=wS(c,o,o.pendingProps,o.type,void 0,Ue);break;case 11:o=wS(c,o,o.pendingProps,o.type.render,o.ref,Ue);break;case 5:pp(o);default:AS(c,o),o=Le=r_(o,Da),o=NS(c,o,Da)}i.memoizedProps=i.pendingProps,o===null?Kd(i):Le=o}function Lo(i,o,c,h){Sa=cs=null,pp(o),Eo=null,Ql=0;var b=o.return;try{if(FR(i,b,o,c,Ue)){wt=1,Dd(i,xn(c,i.current)),Le=null;return}}catch(w){if(b!==null)throw Le=b,w;wt=1,Dd(i,xn(c,i.current)),Le=null;return}o.flags&32768?(He||h===1?i=!0:Do||(Ue&536870912)!==0?i=!1:(ki=i=!0,(h===2||h===9||h===3||h===6)&&(h=Jr.current,h!==null&&h.tag===13&&(h.flags|=16384))),ik(o,i)):Kd(o)}function Kd(i){var o=i;do{if((o.flags&32768)!==0){ik(o,ki);return}i=o.return;var c=ZR(o.alternate,o,Da);if(c!==null){Le=c;return}if(o=o.sibling,o!==null){Le=o;return}Le=o=i}while(o!==null);wt===0&&(wt=5)}function ik(i,o){do{var c=GR(i.alternate,i);if(c!==null){c.flags&=32767,Le=c;return}if(c=i.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(i=i.sibling,i!==null)){Le=i;return}Le=i=c}while(i!==null);wt=6,Le=null}function sk(i,o,c,h,b,w,N,M,z){i.cancelPendingCommit=null;do Zd();while(zt!==0);if((Ze&6)!==0)throw Error(n(327));if(o!==null){if(o===i.current)throw Error(n(177));if(w=o.lanes|o.childLanes,w|=qm,RM(i,c,w,N,M,z),i===rt&&(Le=rt=null,Ue=0),Ro=o,Ni=i,Ma=c,Wp=w,Xp=b,YS=h,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,s6(bt,function(){return dk(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||h){h=U.T,U.T=null,b=H.p,H.p=2,N=Ze,Ze|=4;try{YR(i,o,c)}finally{Ze=N,H.p=b,U.T=h}}zt=1,ok(),lk(),ck()}}function ok(){if(zt===1){zt=0;var i=Ni,o=Ro,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=U.T,U.T=null;var h=H.p;H.p=2;var b=Ze;Ze|=4;try{BS(o,i);var w=fg,N=Z1(i.containerInfo),M=w.focusedElem,z=w.selectionRange;if(N!==M&&M&&M.ownerDocument&&K1(M.ownerDocument.documentElement,M)){if(z!==null&&Lm(M)){var G=z.start,ie=z.end;if(ie===void 0&&(ie=G),"selectionStart"in M)M.selectionStart=G,M.selectionEnd=Math.min(ie,M.value.length);else{var le=M.ownerDocument||document,J=le&&le.defaultView||window;if(J.getSelection){var te=J.getSelection(),xe=M.textContent.length,Te=Math.min(z.start,xe),tt=z.end===void 0?Te:Math.min(z.end,xe);!te.extend&&Te>tt&&(N=tt,tt=Te,Te=N);var F=V1(M,Te),B=V1(M,tt);if(F&&B&&(te.rangeCount!==1||te.anchorNode!==F.node||te.anchorOffset!==F.offset||te.focusNode!==B.node||te.focusOffset!==B.offset)){var Z=le.createRange();Z.setStart(F.node,F.offset),te.removeAllRanges(),Te>tt?(te.addRange(Z),te.extend(B.node,B.offset)):(Z.setEnd(B.node,B.offset),te.addRange(Z))}}}}for(le=[],te=M;te=te.parentNode;)te.nodeType===1&&le.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<le.length;M++){var oe=le[M];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}sf=!!dg,fg=dg=null}finally{Ze=b,H.p=h,U.T=c}}i.current=o,zt=2}}function lk(){if(zt===2){zt=0;var i=Ni,o=Ro,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=U.T,U.T=null;var h=H.p;H.p=2;var b=Ze;Ze|=4;try{$S(i,o.alternate,o)}finally{Ze=b,H.p=h,U.T=c}}zt=3}}function ck(){if(zt===4||zt===3){zt=0,mr();var i=Ni,o=Ro,c=Ma,h=YS;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?zt=5:(zt=0,Ro=Ni=null,uk(i,i.pendingLanes));var b=i.pendingLanes;if(b===0&&(Ei=null),ym(c),o=o.stateNode,kr&&typeof kr.onCommitFiberRoot=="function")try{kr.onCommitFiberRoot(va,o,void 0,(o.current.flags&128)===128)}catch{}if(h!==null){o=U.T,b=H.p,H.p=2,U.T=null;try{for(var w=i.onRecoverableError,N=0;N<h.length;N++){var M=h[N];w(M.value,{componentStack:M.stack})}}finally{U.T=o,H.p=b}}(Ma&3)!==0&&Zd(),na(i),b=i.pendingLanes,(c&261930)!==0&&(b&42)!==0?i===Jp?gc++:(gc=0,Jp=i):gc=0,vc(0)}}function uk(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,Xl(o)))}function Zd(){return ok(),lk(),ck(),dk()}function dk(){if(zt!==5)return!1;var i=Ni,o=Wp;Wp=0;var c=ym(Ma),h=U.T,b=H.p;try{H.p=32>c?32:c,U.T=null,c=Xp,Xp=null;var w=Ni,N=Ma;if(zt=0,Ro=Ni=null,Ma=0,(Ze&6)!==0)throw Error(n(331));var M=Ze;if(Ze|=4,KS(w.current),HS(w,w.current,N,c),Ze=M,vc(0,!1),kr&&typeof kr.onPostCommitFiberRoot=="function")try{kr.onPostCommitFiberRoot(va,w)}catch{}return!0}finally{H.p=b,U.T=h,uk(i,o)}}function fk(i,o,c){o=xn(c,o),o=Tp(i.stateNode,o,2),i=xi(i,o,2),i!==null&&(Ll(i,2),na(i))}function Xe(i,o,c){if(i.tag===3)fk(i,i,c);else for(;o!==null;){if(o.tag===3){fk(o,i,c);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ei===null||!Ei.has(h))){i=xn(c,i),c=hS(2),h=xi(o,c,2),h!==null&&(mS(c,h,o,i),Ll(h,2),na(h));break}}o=o.return}}function tg(i,o,c){var h=i.pingCache;if(h===null){h=i.pingCache=new JR;var b=new Set;h.set(o,b)}else b=h.get(o),b===void 0&&(b=new Set,h.set(o,b));b.has(c)||(Zp=!0,b.add(c),i=n6.bind(null,i,o,c),o.then(i,i))}function n6(i,o,c){var h=i.pingCache;h!==null&&h.delete(o),i.pingedLanes|=i.suspendedLanes&c,i.warmLanes&=~c,rt===i&&(Ue&c)===c&&(wt===4||wt===3&&(Ue&62914560)===Ue&&300>Ye()-Bd?(Ze&2)===0&&$o(i,0):Gp|=c,Mo===Ue&&(Mo=0)),na(i)}function hk(i,o){o===0&&(o=o1()),i=ss(i,o),i!==null&&(Ll(i,o),na(i))}function a6(i){var o=i.memoizedState,c=0;o!==null&&(c=o.retryLane),hk(i,c)}function i6(i,o){var c=0;switch(i.tag){case 31:case 13:var h=i.stateNode,b=i.memoizedState;b!==null&&(c=b.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(n(314))}h!==null&&h.delete(o),hk(i,c)}function s6(i,o){return Yr(i,o)}var Gd=null,Io=null,rg=!1,Yd=!1,ng=!1,Ai=0;function na(i){i!==Io&&i.next===null&&(Io===null?Gd=Io=i:Io=Io.next=i),Yd=!0,rg||(rg=!0,l6())}function vc(i,o){if(!ng&&Yd){ng=!0;do for(var c=!1,h=Gd;h!==null;){if(i!==0){var b=h.pendingLanes;if(b===0)var w=0;else{var N=h.suspendedLanes,M=h.pingedLanes;w=(1<<31-It(42|i)+1)-1,w&=b&~(N&~M),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(c=!0,vk(h,w))}else w=Ue,w=Qu(h,h===rt?w:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(w&3)===0||$l(h,w)||(c=!0,vk(h,w));h=h.next}while(c);ng=!1}}function o6(){mk()}function mk(){Yd=rg=!1;var i=0;Ai!==0&&y6()&&(i=Ai);for(var o=Ye(),c=null,h=Gd;h!==null;){var b=h.next,w=pk(h,o);w===0?(h.next=null,c===null?Gd=b:c.next=b,b===null&&(Io=c)):(c=h,(i!==0||(w&3)!==0)&&(Yd=!0)),h=b}zt!==0&&zt!==5||vc(i),Ai!==0&&(Ai=0)}function pk(i,o){for(var c=i.suspendedLanes,h=i.pingedLanes,b=i.expirationTimes,w=i.pendingLanes&-62914561;0<w;){var N=31-It(w),M=1<<N,z=b[N];z===-1?((M&c)===0||(M&h)!==0)&&(b[N]=MM(M,o)):z<=o&&(i.expiredLanes|=M),w&=~M}if(o=rt,c=Ue,c=Qu(i,i===o?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,c===0||i===o&&(We===2||We===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&mn(h),i.callbackNode=null,i.callbackPriority=0;if((c&3)===0||$l(i,c)){if(o=c&-c,o===i.callbackPriority)return o;switch(h!==null&&mn(h),ym(c)){case 2:case 8:c=ga;break;case 32:c=bt;break;case 268435456:c=gr;break;default:c=bt}return h=gk.bind(null,i),c=Yr(c,h),i.callbackPriority=o,i.callbackNode=c,o}return h!==null&&h!==null&&mn(h),i.callbackPriority=2,i.callbackNode=null,2}function gk(i,o){if(zt!==0&&zt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var c=i.callbackNode;if(Zd()&&i.callbackNode!==c)return null;var h=Ue;return h=Qu(i,i===rt?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(XS(i,h,o),pk(i,Ye()),i.callbackNode!=null&&i.callbackNode===c?gk.bind(null,i):null)}function vk(i,o){if(Zd())return null;XS(i,o,!0)}function l6(){x6(function(){(Ze&6)!==0?Yr(pr,o6):mk()})}function ag(){if(Ai===0){var i=So;i===0&&(i=Wu,Wu<<=1,(Wu&261888)===0&&(Wu=256)),Ai=i}return Ai}function yk(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:nd(""+i)}function bk(i,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,i.id&&c.setAttribute("form",i.id),o.parentNode.insertBefore(c,o),i=new FormData(i),c.parentNode.removeChild(c),i}function c6(i,o,c,h,b){if(o==="submit"&&c&&c.stateNode===b){var w=yk((b[Mr]||null).action),N=h.submitter;N&&(o=(o=N[Mr]||null)?yk(o.formAction):N.getAttribute("formAction"),o!==null&&(w=o,N=null));var M=new od("action","action",null,h,b);i.push({event:M,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Ai!==0){var z=N?bk(b,N):new FormData(b);kp(c,{pending:!0,data:z,method:b.method,action:w},null,z)}}else typeof w=="function"&&(M.preventDefault(),z=N?bk(b,N):new FormData(b),kp(c,{pending:!0,data:z,method:b.method,action:w},w,z))},currentTarget:b}]})}}for(var ig=0;ig<Bm.length;ig++){var sg=Bm[ig],u6=sg.toLowerCase(),d6=sg[0].toUpperCase()+sg.slice(1);zn(u6,"on"+d6)}zn(W1,"onAnimationEnd"),zn(X1,"onAnimationIteration"),zn(J1,"onAnimationStart"),zn("dblclick","onDoubleClick"),zn("focusin","onFocus"),zn("focusout","onBlur"),zn(NR,"onTransitionRun"),zn(OR,"onTransitionStart"),zn(AR,"onTransitionCancel"),zn(Q1,"onTransitionEnd"),lo("onMouseEnter",["mouseout","mouseover"]),lo("onMouseLeave",["mouseout","mouseover"]),lo("onPointerEnter",["pointerout","pointerover"]),lo("onPointerLeave",["pointerout","pointerover"]),rs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rs("onBeforeInput",["compositionend","keypress","textInput","paste"]),rs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),f6=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yc));function xk(i,o){o=(o&4)!==0;for(var c=0;c<i.length;c++){var h=i[c],b=h.event;h=h.listeners;e:{var w=void 0;if(o)for(var N=h.length-1;0<=N;N--){var M=h[N],z=M.instance,G=M.currentTarget;if(M=M.listener,z!==w&&b.isPropagationStopped())break e;w=M,b.currentTarget=G;try{w(b)}catch(ie){ud(ie)}b.currentTarget=null,w=z}else for(N=0;N<h.length;N++){if(M=h[N],z=M.instance,G=M.currentTarget,M=M.listener,z!==w&&b.isPropagationStopped())break e;w=M,b.currentTarget=G;try{w(b)}catch(ie){ud(ie)}b.currentTarget=null,w=z}}}}function Ie(i,o){var c=o[bm];c===void 0&&(c=o[bm]=new Set);var h=i+"__bubble";c.has(h)||(wk(o,i,2,!1),c.add(h))}function og(i,o,c){var h=0;o&&(h|=4),wk(c,i,h,o)}var Wd="_reactListening"+Math.random().toString(36).slice(2);function lg(i){if(!i[Wd]){i[Wd]=!0,m1.forEach(function(c){c!=="selectionchange"&&(f6.has(c)||og(c,!1,i),og(c,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Wd]||(o[Wd]=!0,og("selectionchange",!1,o))}}function wk(i,o,c,h){switch(Wk(o)){case 2:var b=U6;break;case 8:b=B6;break;default:b=Sg}c=b.bind(null,o,c,i),b=void 0,!Om||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(b=!0),h?b!==void 0?i.addEventListener(o,c,{capture:!0,passive:b}):i.addEventListener(o,c,!0):b!==void 0?i.addEventListener(o,c,{passive:b}):i.addEventListener(o,c,!1)}function cg(i,o,c,h,b){var w=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var N=h.tag;if(N===3||N===4){var M=h.stateNode.containerInfo;if(M===b)break;if(N===4)for(N=h.return;N!==null;){var z=N.tag;if((z===3||z===4)&&N.stateNode.containerInfo===b)return;N=N.return}for(;M!==null;){if(N=io(M),N===null)return;if(z=N.tag,z===5||z===6||z===26||z===27){h=w=N;continue e}M=M.parentNode}}h=h.return}E1(function(){var G=w,ie=Em(c),le=[];e:{var J=e_.get(i);if(J!==void 0){var te=od,xe=i;switch(i){case"keypress":if(id(c)===0)break e;case"keydown":case"keyup":te=iR;break;case"focusin":xe="focus",te=Pm;break;case"focusout":xe="blur",te=Pm;break;case"beforeblur":case"afterblur":te=Pm;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=A1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=ZM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=lR;break;case W1:case X1:case J1:te=WM;break;case Q1:te=uR;break;case"scroll":case"scrollend":te=VM;break;case"wheel":te=fR;break;case"copy":case"cut":case"paste":te=JM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=C1;break;case"toggle":case"beforetoggle":te=mR}var Te=(o&4)!==0,tt=!Te&&(i==="scroll"||i==="scrollend"),F=Te?J!==null?J+"Capture":null:J;Te=[];for(var B=G,Z;B!==null;){var oe=B;if(Z=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||Z===null||F===null||(oe=Ul(B,F),oe!=null&&Te.push(bc(B,oe,Z))),tt)break;B=B.return}0<Te.length&&(J=new te(J,xe,null,c,ie),le.push({event:J,listeners:Te}))}}if((o&7)===0){e:{if(J=i==="mouseover"||i==="pointerover",te=i==="mouseout"||i==="pointerout",J&&c!==jm&&(xe=c.relatedTarget||c.fromElement)&&(io(xe)||xe[ao]))break e;if((te||J)&&(J=ie.window===ie?ie:(J=ie.ownerDocument)?J.defaultView||J.parentWindow:window,te?(xe=c.relatedTarget||c.toElement,te=G,xe=xe?io(xe):null,xe!==null&&(tt=s(xe),Te=xe.tag,xe!==tt||Te!==5&&Te!==27&&Te!==6)&&(xe=null)):(te=null,xe=G),te!==xe)){if(Te=A1,oe="onMouseLeave",F="onMouseEnter",B="mouse",(i==="pointerout"||i==="pointerover")&&(Te=C1,oe="onPointerLeave",F="onPointerEnter",B="pointer"),tt=te==null?J:zl(te),Z=xe==null?J:zl(xe),J=new Te(oe,B+"leave",te,c,ie),J.target=tt,J.relatedTarget=Z,oe=null,io(ie)===G&&(Te=new Te(F,B+"enter",xe,c,ie),Te.target=Z,Te.relatedTarget=tt,oe=Te),tt=oe,te&&xe)t:{for(Te=h6,F=te,B=xe,Z=0,oe=F;oe;oe=Te(oe))Z++;oe=0;for(var Oe=B;Oe;Oe=Te(Oe))oe++;for(;0<Z-oe;)F=Te(F),Z--;for(;0<oe-Z;)B=Te(B),oe--;for(;Z--;){if(F===B||B!==null&&F===B.alternate){Te=F;break t}F=Te(F),B=Te(B)}Te=null}else Te=null;te!==null&&_k(le,J,te,Te,!1),xe!==null&&tt!==null&&_k(le,tt,xe,Te,!0)}}e:{if(J=G?zl(G):window,te=J.nodeName&&J.nodeName.toLowerCase(),te==="select"||te==="input"&&J.type==="file")var Fe=z1;else if(L1(J))if(U1)Fe=kR;else{Fe=_R;var Se=wR}else te=J.nodeName,!te||te.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?G&&km(G.elementType)&&(Fe=z1):Fe=SR;if(Fe&&(Fe=Fe(i,G))){I1(le,Fe,c,ie);break e}Se&&Se(i,J,G),i==="focusout"&&G&&J.type==="number"&&G.memoizedProps.value!=null&&Sm(J,"number",J.value)}switch(Se=G?zl(G):window,i){case"focusin":(L1(Se)||Se.contentEditable==="true")&&(po=Se,Im=G,Gl=null);break;case"focusout":Gl=Im=po=null;break;case"mousedown":zm=!0;break;case"contextmenu":case"mouseup":case"dragend":zm=!1,G1(le,c,ie);break;case"selectionchange":if(ER)break;case"keydown":case"keyup":G1(le,c,ie)}var $e;if(Mm)e:{switch(i){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else mo?R1(i,c)&&(Be="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(Be="onCompositionStart");Be&&(P1&&c.locale!=="ko"&&(mo||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&mo&&($e=N1()):(hi=ie,Am="value"in hi?hi.value:hi.textContent,mo=!0)),Se=Xd(G,Be),0<Se.length&&(Be=new T1(Be,i,null,c,ie),le.push({event:Be,listeners:Se}),$e?Be.data=$e:($e=$1(c),$e!==null&&(Be.data=$e)))),($e=gR?vR(i,c):yR(i,c))&&(Be=Xd(G,"onBeforeInput"),0<Be.length&&(Se=new T1("onBeforeInput","beforeinput",null,c,ie),le.push({event:Se,listeners:Be}),Se.data=$e)),c6(le,i,G,c,ie)}xk(le,o)})}function bc(i,o,c){return{instance:i,listener:o,currentTarget:c}}function Xd(i,o){for(var c=o+"Capture",h=[];i!==null;){var b=i,w=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||w===null||(b=Ul(i,c),b!=null&&h.unshift(bc(i,b,w)),b=Ul(i,o),b!=null&&h.push(bc(i,b,w))),i.tag===3)return h;i=i.return}return[]}function h6(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function _k(i,o,c,h,b){for(var w=o._reactName,N=[];c!==null&&c!==h;){var M=c,z=M.alternate,G=M.stateNode;if(M=M.tag,z!==null&&z===h)break;M!==5&&M!==26&&M!==27||G===null||(z=G,b?(G=Ul(c,w),G!=null&&N.unshift(bc(c,G,z))):b||(G=Ul(c,w),G!=null&&N.push(bc(c,G,z)))),c=c.return}N.length!==0&&i.push({event:o,listeners:N})}var m6=/\r\n?/g,p6=/\u0000|\uFFFD/g;function Sk(i){return(typeof i=="string"?i:""+i).replace(m6,`
`).replace(p6,"")}function kk(i,o){return o=Sk(o),Sk(i)===o}function et(i,o,c,h,b,w){switch(c){case"children":typeof h=="string"?o==="body"||o==="textarea"&&h===""||uo(i,h):(typeof h=="number"||typeof h=="bigint")&&o!=="body"&&uo(i,""+h);break;case"className":td(i,"class",h);break;case"tabIndex":td(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":td(i,c,h);break;case"style":k1(i,h,w);break;case"data":if(o!=="object"){td(i,"data",h);break}case"src":case"href":if(h===""&&(o!=="a"||c!=="href")){i.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(c);break}h=nd(""+h),i.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(c==="formAction"?(o!=="input"&&et(i,o,"name",b.name,b,null),et(i,o,"formEncType",b.formEncType,b,null),et(i,o,"formMethod",b.formMethod,b,null),et(i,o,"formTarget",b.formTarget,b,null)):(et(i,o,"encType",b.encType,b,null),et(i,o,"method",b.method,b,null),et(i,o,"target",b.target,b,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(c);break}h=nd(""+h),i.setAttribute(c,h);break;case"onClick":h!=null&&(i.onclick=ba);break;case"onScroll":h!=null&&Ie("scroll",i);break;case"onScrollEnd":h!=null&&Ie("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(c=h.__html,c!=null){if(b.children!=null)throw Error(n(60));i.innerHTML=c}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}c=nd(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(c,""+h):i.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(c,""):i.removeAttribute(c);break;case"capture":case"download":h===!0?i.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(c,h):i.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(c,h):i.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(c):i.setAttribute(c,h);break;case"popover":Ie("beforetoggle",i),Ie("toggle",i),ed(i,"popover",h);break;case"xlinkActuate":ya(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":ya(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":ya(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":ya(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":ya(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":ya(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":ya(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":ya(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":ya(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":ed(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=HM.get(c)||c,ed(i,c,h))}}function ug(i,o,c,h,b,w){switch(c){case"style":k1(i,h,w);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(c=h.__html,c!=null){if(b.children!=null)throw Error(n(60));i.innerHTML=c}}break;case"children":typeof h=="string"?uo(i,h):(typeof h=="number"||typeof h=="bigint")&&uo(i,""+h);break;case"onScroll":h!=null&&Ie("scroll",i);break;case"onScrollEnd":h!=null&&Ie("scrollend",i);break;case"onClick":h!=null&&(i.onclick=ba);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!p1.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(b=c.endsWith("Capture"),o=c.slice(2,b?c.length-7:void 0),w=i[Mr]||null,w=w!=null?w[c]:null,typeof w=="function"&&i.removeEventListener(o,w,b),typeof h=="function")){typeof w!="function"&&w!==null&&(c in i?i[c]=null:i.hasAttribute(c)&&i.removeAttribute(c)),i.addEventListener(o,h,b);break e}c in i?i[c]=h:h===!0?i.setAttribute(c,""):ed(i,c,h)}}}function nr(i,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ie("error",i),Ie("load",i);var h=!1,b=!1,w;for(w in c)if(c.hasOwnProperty(w)){var N=c[w];if(N!=null)switch(w){case"src":h=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:et(i,o,w,N,c,null)}}b&&et(i,o,"srcSet",c.srcSet,c,null),h&&et(i,o,"src",c.src,c,null);return;case"input":Ie("invalid",i);var M=w=N=b=null,z=null,G=null;for(h in c)if(c.hasOwnProperty(h)){var ie=c[h];if(ie!=null)switch(h){case"name":b=ie;break;case"type":N=ie;break;case"checked":z=ie;break;case"defaultChecked":G=ie;break;case"value":w=ie;break;case"defaultValue":M=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(n(137,o));break;default:et(i,o,h,ie,c,null)}}x1(i,w,M,z,G,N,b,!1);return;case"select":Ie("invalid",i),h=N=w=null;for(b in c)if(c.hasOwnProperty(b)&&(M=c[b],M!=null))switch(b){case"value":w=M;break;case"defaultValue":N=M;break;case"multiple":h=M;default:et(i,o,b,M,c,null)}o=w,c=N,i.multiple=!!h,o!=null?co(i,!!h,o,!1):c!=null&&co(i,!!h,c,!0);return;case"textarea":Ie("invalid",i),w=b=h=null;for(N in c)if(c.hasOwnProperty(N)&&(M=c[N],M!=null))switch(N){case"value":h=M;break;case"defaultValue":b=M;break;case"children":w=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(n(91));break;default:et(i,o,N,M,c,null)}_1(i,h,b,w);return;case"option":for(z in c)if(c.hasOwnProperty(z)&&(h=c[z],h!=null))switch(z){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:et(i,o,z,h,c,null)}return;case"dialog":Ie("beforetoggle",i),Ie("toggle",i),Ie("cancel",i),Ie("close",i);break;case"iframe":case"object":Ie("load",i);break;case"video":case"audio":for(h=0;h<yc.length;h++)Ie(yc[h],i);break;case"image":Ie("error",i),Ie("load",i);break;case"details":Ie("toggle",i);break;case"embed":case"source":case"link":Ie("error",i),Ie("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in c)if(c.hasOwnProperty(G)&&(h=c[G],h!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:et(i,o,G,h,c,null)}return;default:if(km(o)){for(ie in c)c.hasOwnProperty(ie)&&(h=c[ie],h!==void 0&&ug(i,o,ie,h,c,void 0));return}}for(M in c)c.hasOwnProperty(M)&&(h=c[M],h!=null&&et(i,o,M,h,c,null))}function g6(i,o,c,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,w=null,N=null,M=null,z=null,G=null,ie=null;for(te in c){var le=c[te];if(c.hasOwnProperty(te)&&le!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":z=le;default:h.hasOwnProperty(te)||et(i,o,te,null,h,le)}}for(var J in h){var te=h[J];if(le=c[J],h.hasOwnProperty(J)&&(te!=null||le!=null))switch(J){case"type":w=te;break;case"name":b=te;break;case"checked":G=te;break;case"defaultChecked":ie=te;break;case"value":N=te;break;case"defaultValue":M=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(n(137,o));break;default:te!==le&&et(i,o,J,te,h,le)}}_m(i,N,M,z,G,ie,w,b);return;case"select":te=N=M=J=null;for(w in c)if(z=c[w],c.hasOwnProperty(w)&&z!=null)switch(w){case"value":break;case"multiple":te=z;default:h.hasOwnProperty(w)||et(i,o,w,null,h,z)}for(b in h)if(w=h[b],z=c[b],h.hasOwnProperty(b)&&(w!=null||z!=null))switch(b){case"value":J=w;break;case"defaultValue":M=w;break;case"multiple":N=w;default:w!==z&&et(i,o,b,w,h,z)}o=M,c=N,h=te,J!=null?co(i,!!c,J,!1):!!h!=!!c&&(o!=null?co(i,!!c,o,!0):co(i,!!c,c?[]:"",!1));return;case"textarea":te=J=null;for(M in c)if(b=c[M],c.hasOwnProperty(M)&&b!=null&&!h.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:et(i,o,M,null,h,b)}for(N in h)if(b=h[N],w=c[N],h.hasOwnProperty(N)&&(b!=null||w!=null))switch(N){case"value":J=b;break;case"defaultValue":te=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(n(91));break;default:b!==w&&et(i,o,N,b,h,w)}w1(i,J,te);return;case"option":for(var xe in c)if(J=c[xe],c.hasOwnProperty(xe)&&J!=null&&!h.hasOwnProperty(xe))switch(xe){case"selected":i.selected=!1;break;default:et(i,o,xe,null,h,J)}for(z in h)if(J=h[z],te=c[z],h.hasOwnProperty(z)&&J!==te&&(J!=null||te!=null))switch(z){case"selected":i.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:et(i,o,z,J,h,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in c)J=c[Te],c.hasOwnProperty(Te)&&J!=null&&!h.hasOwnProperty(Te)&&et(i,o,Te,null,h,J);for(G in h)if(J=h[G],te=c[G],h.hasOwnProperty(G)&&J!==te&&(J!=null||te!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(n(137,o));break;default:et(i,o,G,J,h,te)}return;default:if(km(o)){for(var tt in c)J=c[tt],c.hasOwnProperty(tt)&&J!==void 0&&!h.hasOwnProperty(tt)&&ug(i,o,tt,void 0,h,J);for(ie in h)J=h[ie],te=c[ie],!h.hasOwnProperty(ie)||J===te||J===void 0&&te===void 0||ug(i,o,ie,J,h,te);return}}for(var F in c)J=c[F],c.hasOwnProperty(F)&&J!=null&&!h.hasOwnProperty(F)&&et(i,o,F,null,h,J);for(le in h)J=h[le],te=c[le],!h.hasOwnProperty(le)||J===te||J==null&&te==null||et(i,o,le,J,h,te)}function jk(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function v6(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,c=performance.getEntriesByType("resource"),h=0;h<c.length;h++){var b=c[h],w=b.transferSize,N=b.initiatorType,M=b.duration;if(w&&M&&jk(N)){for(N=0,M=b.responseEnd,h+=1;h<c.length;h++){var z=c[h],G=z.startTime;if(G>M)break;var ie=z.transferSize,le=z.initiatorType;ie&&jk(le)&&(z=z.responseEnd,N+=ie*(z<M?1:(M-G)/(z-G)))}if(--h,o+=8*(w+N)/(b.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var dg=null,fg=null;function Jd(i){return i.nodeType===9?i:i.ownerDocument}function Ek(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Nk(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function hg(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var mg=null;function y6(){var i=window.event;return i&&i.type==="popstate"?i===mg?!1:(mg=i,!0):(mg=null,!1)}var Ok=typeof setTimeout=="function"?setTimeout:void 0,b6=typeof clearTimeout=="function"?clearTimeout:void 0,Ak=typeof Promise=="function"?Promise:void 0,x6=typeof queueMicrotask=="function"?queueMicrotask:typeof Ak<"u"?function(i){return Ak.resolve(null).then(i).catch(w6)}:Ok;function w6(i){setTimeout(function(){throw i})}function Ti(i){return i==="head"}function Tk(i,o){var c=o,h=0;do{var b=c.nextSibling;if(i.removeChild(c),b&&b.nodeType===8)if(c=b.data,c==="/$"||c==="/&"){if(h===0){i.removeChild(b),qo(o);return}h--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")h++;else if(c==="html")xc(i.ownerDocument.documentElement);else if(c==="head"){c=i.ownerDocument.head,xc(c);for(var w=c.firstChild;w;){var N=w.nextSibling,M=w.nodeName;w[Il]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&w.rel.toLowerCase()==="stylesheet"||c.removeChild(w),w=N}}else c==="body"&&xc(i.ownerDocument.body);c=b}while(c);qo(o)}function Ck(i,o){var c=i;i=0;do{var h=c.nextSibling;if(c.nodeType===1?o?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(o?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),h&&h.nodeType===8)if(c=h.data,c==="/$"){if(i===0)break;i--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||i++;c=h}while(c)}function pg(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":pg(c),xm(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}i.removeChild(c)}}function _6(i,o,c,h){for(;i.nodeType===1;){var b=c;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[Il])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(w=i.getAttribute("rel"),w==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(w!==b.rel||i.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||i.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||i.getAttribute("title")!==(b.title==null?null:b.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(w=i.getAttribute("src"),(w!==(b.src==null?null:b.src)||i.getAttribute("type")!==(b.type==null?null:b.type)||i.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&w&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var w=b.name==null?null:""+b.name;if(b.type==="hidden"&&i.getAttribute("name")===w)return i}else return i;if(i=jn(i.nextSibling),i===null)break}return null}function S6(i,o,c){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!c||(i=jn(i.nextSibling),i===null))return null;return i}function Pk(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=jn(i.nextSibling),i===null))return null;return i}function gg(i){return i.data==="$?"||i.data==="$~"}function vg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function k6(i,o){var c=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||c.readyState!=="loading")o();else{var h=function(){o(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function jn(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var yg=null;function Dk(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"||c==="/&"){if(o===0)return jn(i.nextSibling);o--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||o++}i=i.nextSibling}return null}function Mk(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(o===0)return i;o--}else c!=="/$"&&c!=="/&"||o++}i=i.previousSibling}return null}function Rk(i,o,c){switch(o=Jd(c),i){case"html":if(i=o.documentElement,!i)throw Error(n(452));return i;case"head":if(i=o.head,!i)throw Error(n(453));return i;case"body":if(i=o.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function xc(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);xm(i)}var En=new Map,$k=new Set;function Qd(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ra=H.d;H.d={f:j6,r:E6,D:N6,C:O6,L:A6,m:T6,X:P6,S:C6,M:D6};function j6(){var i=Ra.f(),o=Fd();return i||o}function E6(i){var o=so(i);o!==null&&o.tag===5&&o.type==="form"?Q_(o):Ra.r(i)}var zo=typeof document>"u"?null:document;function Lk(i,o,c){var h=zo;if(h&&typeof o=="string"&&o){var b=yn(o);b='link[rel="'+i+'"][href="'+b+'"]',typeof c=="string"&&(b+='[crossorigin="'+c+'"]'),$k.has(b)||($k.add(b),i={rel:i,crossOrigin:c,href:o},h.querySelector(b)===null&&(o=h.createElement("link"),nr(o,"link",i),Zt(o),h.head.appendChild(o)))}}function N6(i){Ra.D(i),Lk("dns-prefetch",i,null)}function O6(i,o){Ra.C(i,o),Lk("preconnect",i,o)}function A6(i,o,c){Ra.L(i,o,c);var h=zo;if(h&&i&&o){var b='link[rel="preload"][as="'+yn(o)+'"]';o==="image"&&c&&c.imageSrcSet?(b+='[imagesrcset="'+yn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(b+='[imagesizes="'+yn(c.imageSizes)+'"]')):b+='[href="'+yn(i)+'"]';var w=b;switch(o){case"style":w=Uo(i);break;case"script":w=Bo(i)}En.has(w)||(i=g({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:i,as:o},c),En.set(w,i),h.querySelector(b)!==null||o==="style"&&h.querySelector(wc(w))||o==="script"&&h.querySelector(_c(w))||(o=h.createElement("link"),nr(o,"link",i),Zt(o),h.head.appendChild(o)))}}function T6(i,o){Ra.m(i,o);var c=zo;if(c&&i){var h=o&&typeof o.as=="string"?o.as:"script",b='link[rel="modulepreload"][as="'+yn(h)+'"][href="'+yn(i)+'"]',w=b;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Bo(i)}if(!En.has(w)&&(i=g({rel:"modulepreload",href:i},o),En.set(w,i),c.querySelector(b)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(_c(w)))return}h=c.createElement("link"),nr(h,"link",i),Zt(h),c.head.appendChild(h)}}}function C6(i,o,c){Ra.S(i,o,c);var h=zo;if(h&&i){var b=oo(h).hoistableStyles,w=Uo(i);o=o||"default";var N=b.get(w);if(!N){var M={loading:0,preload:null};if(N=h.querySelector(wc(w)))M.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":o},c),(c=En.get(w))&&bg(i,c);var z=N=h.createElement("link");Zt(z),nr(z,"link",i),z._p=new Promise(function(G,ie){z.onload=G,z.onerror=ie}),z.addEventListener("load",function(){M.loading|=1}),z.addEventListener("error",function(){M.loading|=2}),M.loading|=4,ef(N,o,h)}N={type:"stylesheet",instance:N,count:1,state:M},b.set(w,N)}}}function P6(i,o){Ra.X(i,o);var c=zo;if(c&&i){var h=oo(c).hoistableScripts,b=Bo(i),w=h.get(b);w||(w=c.querySelector(_c(b)),w||(i=g({src:i,async:!0},o),(o=En.get(b))&&xg(i,o),w=c.createElement("script"),Zt(w),nr(w,"link",i),c.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(b,w))}}function D6(i,o){Ra.M(i,o);var c=zo;if(c&&i){var h=oo(c).hoistableScripts,b=Bo(i),w=h.get(b);w||(w=c.querySelector(_c(b)),w||(i=g({src:i,async:!0,type:"module"},o),(o=En.get(b))&&xg(i,o),w=c.createElement("script"),Zt(w),nr(w,"link",i),c.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(b,w))}}function Ik(i,o,c,h){var b=(b=re.current)?Qd(b):null;if(!b)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=Uo(c.href),c=oo(b).hoistableStyles,h=c.get(o),h||(h={type:"style",instance:null,count:0,state:null},c.set(o,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){i=Uo(c.href);var w=oo(b).hoistableStyles,N=w.get(i);if(N||(b=b.ownerDocument||b,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(i,N),(w=b.querySelector(wc(i)))&&!w._p&&(N.instance=w,N.state.loading=5),En.has(i)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},En.set(i,c),w||M6(b,i,c,N.state))),o&&h===null)throw Error(n(528,""));return N}if(o&&h!==null)throw Error(n(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Bo(c),c=oo(b).hoistableScripts,h=c.get(o),h||(h={type:"script",instance:null,count:0,state:null},c.set(o,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function Uo(i){return'href="'+yn(i)+'"'}function wc(i){return'link[rel="stylesheet"]['+i+"]"}function zk(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function M6(i,o,c,h){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(o=i.createElement("link"),h.preload=o,o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),nr(o,"link",c),Zt(o),i.head.appendChild(o))}function Bo(i){return'[src="'+yn(i)+'"]'}function _c(i){return"script[async]"+i}function Uk(i,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var h=i.querySelector('style[data-href~="'+yn(c.href)+'"]');if(h)return o.instance=h,Zt(h),h;var b=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),Zt(h),nr(h,"style",b),ef(h,c.precedence,i),o.instance=h;case"stylesheet":b=Uo(c.href);var w=i.querySelector(wc(b));if(w)return o.state.loading|=4,o.instance=w,Zt(w),w;h=zk(c),(b=En.get(b))&&bg(h,b),w=(i.ownerDocument||i).createElement("link"),Zt(w);var N=w;return N._p=new Promise(function(M,z){N.onload=M,N.onerror=z}),nr(w,"link",h),o.state.loading|=4,ef(w,c.precedence,i),o.instance=w;case"script":return w=Bo(c.src),(b=i.querySelector(_c(w)))?(o.instance=b,Zt(b),b):(h=c,(b=En.get(w))&&(h=g({},c),xg(h,b)),i=i.ownerDocument||i,b=i.createElement("script"),Zt(b),nr(b,"link",h),i.head.appendChild(b),o.instance=b);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(h=o.instance,o.state.loading|=4,ef(h,c.precedence,i));return o.instance}function ef(i,o,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=h.length?h[h.length-1]:null,w=b,N=0;N<h.length;N++){var M=h[N];if(M.dataset.precedence===o)w=M;else if(w!==b)break}w?w.parentNode.insertBefore(i,w.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(i,o.firstChild))}function bg(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function xg(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var tf=null;function Bk(i,o,c){if(tf===null){var h=new Map,b=tf=new Map;b.set(c,h)}else b=tf,h=b.get(c),h||(h=new Map,b.set(c,h));if(h.has(i))return h;for(h.set(i,null),c=c.getElementsByTagName(i),b=0;b<c.length;b++){var w=c[b];if(!(w[Il]||w[Qt]||i==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var N=w.getAttribute(o)||"";N=i+N;var M=h.get(N);M?M.push(w):h.set(N,[w])}}return h}function qk(i,o,c){i=i.ownerDocument||i,i.head.insertBefore(c,o==="title"?i.querySelector("head > title"):null)}function R6(i,o,c){if(c===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function Hk(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function $6(i,o,c,h){if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var b=Uo(h.href),w=o.querySelector(wc(b));if(w){o=w._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=rf.bind(i),o.then(i,i)),c.state.loading|=4,c.instance=w,Zt(w);return}w=o.ownerDocument||o,h=zk(h),(b=En.get(b))&&bg(h,b),w=w.createElement("link"),Zt(w);var N=w;N._p=new Promise(function(M,z){N.onload=M,N.onerror=z}),nr(w,"link",h),c.instance=w}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(i.count++,c=rf.bind(i),o.addEventListener("load",c),o.addEventListener("error",c))}}var wg=0;function L6(i,o){return i.stylesheets&&i.count===0&&af(i,i.stylesheets),0<i.count||0<i.imgCount?function(c){var h=setTimeout(function(){if(i.stylesheets&&af(i,i.stylesheets),i.unsuspend){var w=i.unsuspend;i.unsuspend=null,w()}},6e4+o);0<i.imgBytes&&wg===0&&(wg=62500*v6());var b=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&af(i,i.stylesheets),i.unsuspend)){var w=i.unsuspend;i.unsuspend=null,w()}},(i.imgBytes>wg?50:800)+o);return i.unsuspend=c,function(){i.unsuspend=null,clearTimeout(h),clearTimeout(b)}}:null}function rf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)af(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var nf=null;function af(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,nf=new Map,o.forEach(I6,i),nf=null,rf.call(i))}function I6(i,o){if(!(o.state.loading&4)){var c=nf.get(i);if(c)var h=c.get(null);else{c=new Map,nf.set(i,c);for(var b=i.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<b.length;w++){var N=b[w];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(c.set(N.dataset.precedence,N),h=N)}h&&c.set(null,h)}b=o.instance,N=b.getAttribute("data-precedence"),w=c.get(N)||h,w===h&&c.set(null,b),c.set(N,b),this.count++,h=rf.bind(this),b.addEventListener("load",h),b.addEventListener("error",h),w?w.parentNode.insertBefore(b,w.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(b,i.firstChild)),o.state.loading|=4}}var Sc={$$typeof:E,Provider:null,Consumer:null,_currentValue:Y,_currentValue2:Y,_threadCount:0};function z6(i,o,c,h,b,w,N,M,z){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gm(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gm(0),this.hiddenUpdates=gm(null),this.identifierPrefix=h,this.onUncaughtError=b,this.onCaughtError=w,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function Fk(i,o,c,h,b,w,N,M,z,G,ie,le){return i=new z6(i,o,c,N,z,G,ie,le,M),o=1,w===!0&&(o|=24),w=Xr(3,null,null,o),i.current=w,w.stateNode=i,o=ep(),o.refCount++,i.pooledCache=o,o.refCount++,w.memoizedState={element:h,isDehydrated:c,cache:o},ap(w),i}function Vk(i){return i?(i=yo,i):yo}function Kk(i,o,c,h,b,w){b=Vk(b),h.context===null?h.context=b:h.pendingContext=b,h=bi(o),h.payload={element:c},w=w===void 0?null:w,w!==null&&(h.callback=w),c=xi(i,h,o),c!==null&&(Ur(c,i,o),tc(c,i,o))}function Zk(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<o?c:o}}function _g(i,o){Zk(i,o),(i=i.alternate)&&Zk(i,o)}function Gk(i){if(i.tag===13||i.tag===31){var o=ss(i,67108864);o!==null&&Ur(o,i,67108864),_g(i,67108864)}}function Yk(i){if(i.tag===13||i.tag===31){var o=rn();o=vm(o);var c=ss(i,o);c!==null&&Ur(c,i,o),_g(i,o)}}var sf=!0;function U6(i,o,c,h){var b=U.T;U.T=null;var w=H.p;try{H.p=2,Sg(i,o,c,h)}finally{H.p=w,U.T=b}}function B6(i,o,c,h){var b=U.T;U.T=null;var w=H.p;try{H.p=8,Sg(i,o,c,h)}finally{H.p=w,U.T=b}}function Sg(i,o,c,h){if(sf){var b=kg(h);if(b===null)cg(i,o,h,of,c),Xk(i,h);else if(H6(b,i,o,c,h))h.stopPropagation();else if(Xk(i,h),o&4&&-1<q6.indexOf(i)){for(;b!==null;){var w=so(b);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var N=ts(w.pendingLanes);if(N!==0){var M=w;for(M.pendingLanes|=2,M.entangledLanes|=2;N;){var z=1<<31-It(N);M.entanglements[1]|=z,N&=~z}na(w),(Ze&6)===0&&(qd=Ye()+500,vc(0))}}break;case 31:case 13:M=ss(w,2),M!==null&&Ur(M,w,2),Fd(),_g(w,2)}if(w=kg(h),w===null&&cg(i,o,h,of,c),w===b)break;b=w}b!==null&&h.stopPropagation()}else cg(i,o,h,null,c)}}function kg(i){return i=Em(i),jg(i)}var of=null;function jg(i){if(of=null,i=io(i),i!==null){var o=s(i);if(o===null)i=null;else{var c=o.tag;if(c===13){if(i=l(o),i!==null)return i;i=null}else if(c===31){if(i=u(o),i!==null)return i;i=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return of=i,null}function Wk(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pn()){case pr:return 2;case ga:return 8;case bt:case Lt:return 32;case gr:return 268435456;default:return 32}default:return 32}}var Eg=!1,Ci=null,Pi=null,Di=null,kc=new Map,jc=new Map,Mi=[],q6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Xk(i,o){switch(i){case"focusin":case"focusout":Ci=null;break;case"dragenter":case"dragleave":Pi=null;break;case"mouseover":case"mouseout":Di=null;break;case"pointerover":case"pointerout":kc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":jc.delete(o.pointerId)}}function Ec(i,o,c,h,b,w){return i===null||i.nativeEvent!==w?(i={blockedOn:o,domEventName:c,eventSystemFlags:h,nativeEvent:w,targetContainers:[b]},o!==null&&(o=so(o),o!==null&&Gk(o)),i):(i.eventSystemFlags|=h,o=i.targetContainers,b!==null&&o.indexOf(b)===-1&&o.push(b),i)}function H6(i,o,c,h,b){switch(o){case"focusin":return Ci=Ec(Ci,i,o,c,h,b),!0;case"dragenter":return Pi=Ec(Pi,i,o,c,h,b),!0;case"mouseover":return Di=Ec(Di,i,o,c,h,b),!0;case"pointerover":var w=b.pointerId;return kc.set(w,Ec(kc.get(w)||null,i,o,c,h,b)),!0;case"gotpointercapture":return w=b.pointerId,jc.set(w,Ec(jc.get(w)||null,i,o,c,h,b)),!0}return!1}function Jk(i){var o=io(i.target);if(o!==null){var c=s(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){i.blockedOn=o,f1(i.priority,function(){Yk(c)});return}}else if(o===31){if(o=u(c),o!==null){i.blockedOn=o,f1(i.priority,function(){Yk(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function lf(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var c=kg(i.nativeEvent);if(c===null){c=i.nativeEvent;var h=new c.constructor(c.type,c);jm=h,c.target.dispatchEvent(h),jm=null}else return o=so(c),o!==null&&Gk(o),i.blockedOn=c,!1;o.shift()}return!0}function Qk(i,o,c){lf(i)&&c.delete(o)}function F6(){Eg=!1,Ci!==null&&lf(Ci)&&(Ci=null),Pi!==null&&lf(Pi)&&(Pi=null),Di!==null&&lf(Di)&&(Di=null),kc.forEach(Qk),jc.forEach(Qk)}function cf(i,o){i.blockedOn===o&&(i.blockedOn=null,Eg||(Eg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,F6)))}var uf=null;function e2(i){uf!==i&&(uf=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){uf===i&&(uf=null);for(var o=0;o<i.length;o+=3){var c=i[o],h=i[o+1],b=i[o+2];if(typeof h!="function"){if(jg(h||c)===null)continue;break}var w=so(c);w!==null&&(i.splice(o,3),o-=3,kp(w,{pending:!0,data:b,method:c.method,action:h},h,b))}}))}function qo(i){function o(z){return cf(z,i)}Ci!==null&&cf(Ci,i),Pi!==null&&cf(Pi,i),Di!==null&&cf(Di,i),kc.forEach(o),jc.forEach(o);for(var c=0;c<Mi.length;c++){var h=Mi[c];h.blockedOn===i&&(h.blockedOn=null)}for(;0<Mi.length&&(c=Mi[0],c.blockedOn===null);)Jk(c),c.blockedOn===null&&Mi.shift();if(c=(i.ownerDocument||i).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var b=c[h],w=c[h+1],N=b[Mr]||null;if(typeof w=="function")N||e2(c);else if(N){var M=null;if(w&&w.hasAttribute("formAction")){if(b=w,N=w[Mr]||null)M=N.formAction;else if(jg(b)!==null)continue}else M=N.action;typeof M=="function"?c[h+1]=M:(c.splice(h,3),h-=3),e2(c)}}}function t2(){function i(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(N){return b=N})},focusReset:"manual",scroll:"manual"})}function o(){b!==null&&(b(),b=null),h||setTimeout(c,20)}function c(){if(!h&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,b=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(c,100),function(){h=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),b!==null&&(b(),b=null)}}}function Ng(i){this._internalRoot=i}df.prototype.render=Ng.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));var c=o.current,h=rn();Kk(c,h,i,o,null,null)},df.prototype.unmount=Ng.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Kk(i.current,2,null,i,null,null),Fd(),o[ao]=null}};function df(i){this._internalRoot=i}df.prototype.unstable_scheduleHydration=function(i){if(i){var o=d1();i={blockedOn:null,target:i,priority:o};for(var c=0;c<Mi.length&&o!==0&&o<Mi[c].priority;c++);Mi.splice(c,0,i),c===0&&Jk(i)}};var r2=t.version;if(r2!=="19.2.1")throw Error(n(527,r2,"19.2.1"));H.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=f(o),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var V6={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ff=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ff.isDisabled&&ff.supportsFiber)try{va=ff.inject(V6),kr=ff}catch{}}return Oc.createRoot=function(i,o){if(!a(i))throw Error(n(299));var c=!1,h="",b=cS,w=uS,N=dS;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(b=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(N=o.onRecoverableError)),o=Fk(i,1,!1,null,null,c,h,null,b,w,N,t2),i[ao]=o.current,lg(i),new Ng(o)},Oc.hydrateRoot=function(i,o,c){if(!a(i))throw Error(n(299));var h=!1,b="",w=cS,N=uS,M=dS,z=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(b=c.identifierPrefix),c.onUncaughtError!==void 0&&(w=c.onUncaughtError),c.onCaughtError!==void 0&&(N=c.onCaughtError),c.onRecoverableError!==void 0&&(M=c.onRecoverableError),c.formState!==void 0&&(z=c.formState)),o=Fk(i,1,!0,o,c??null,h,b,z,w,N,M,t2),o.context=Vk(null),c=o.current,h=rn(),h=vm(h),b=bi(h),b.callback=null,xi(c,b,h),c=h,o.current.lanes=c,Ll(o,c),na(o),i[ao]=o.current,lg(i),new df(o)},Oc.version="19.2.1",Oc}var f2;function e$(){if(f2)return Tg.exports;f2=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Tg.exports=Q6(),Tg.exports}var t$=e$();function r$({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const rx=x.forwardRef(r$);function n$({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const D5=x.forwardRef(n$);function a$({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m12.75 15 3-3m0 0-3-3m3 3h-7.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const i$=x.forwardRef(a$);function s$({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const o$=x.forwardRef(s$);function l$({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))}const c$=x.forwardRef(l$);function u$({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"}))}const d$=x.forwardRef(u$);function f$({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"}))}const M5=x.forwardRef(f$);function h$({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const m$=x.forwardRef(h$);function p$({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const qa=x.forwardRef(p$);function g$({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const nx=x.forwardRef(g$);function v$({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const ax=x.forwardRef(v$);function y$({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"}))}const Qc=x.forwardRef(y$);function b$({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"}))}const h2=x.forwardRef(b$);function x$({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"}))}const Ny=x.forwardRef(x$);function w$({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Su=x.forwardRef(w$);function _$({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9.75v6.75m0 0-3-3m3 3 3-3m-8.25 6a4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H6.75Z"}))}const S$=x.forwardRef(_$);function k$({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15a4.5 4.5 0 0 0 4.5 4.5H18a3.75 3.75 0 0 0 1.332-7.257 3 3 0 0 0-3.758-3.848 5.25 5.25 0 0 0-10.233 2.33A4.502 4.502 0 0 0 2.25 15Z"}))}const j$=x.forwardRef(k$);function E$({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const N$=x.forwardRef(E$);function O$({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 7.5-9-5.25L3 7.5m18 0-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9"}))}const ix=x.forwardRef(O$);function A$({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const T$=x.forwardRef(A$);function C$({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const R5=x.forwardRef(C$);function P$({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const D$=x.forwardRef(P$);function M$({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const $5=x.forwardRef(M$);function R$({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const Mg=x.forwardRef(R$);function $$({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const L$=x.forwardRef($$);function I$({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"}))}const z$=x.forwardRef(I$);function U$({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const eu=x.forwardRef(U$);function B$({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const q$=x.forwardRef(B$);function H$({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const f0=x.forwardRef(H$);function F$({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0 1 10.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0 .229 2.523a1.125 1.125 0 0 1-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0 0 21 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 0 0-1.913-.247M6.34 18H5.25A2.25 2.25 0 0 1 3 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 0 1 1.913-.247m10.5 0a48.536 48.536 0 0 0-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5Zm-3 0h.008v.008H15V10.5Z"}))}const V$=x.forwardRef(F$);function K$({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 3.75 9.375v-4.5ZM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 0 1-1.125-1.125v-4.5ZM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 13.5 9.375v-4.5Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 6.75h.75v.75h-.75v-.75ZM6.75 16.5h.75v.75h-.75v-.75ZM16.5 6.75h.75v.75h-.75v-.75ZM13.5 13.5h.75v.75h-.75v-.75ZM13.5 19.5h.75v.75h-.75v-.75ZM19.5 13.5h.75v.75h-.75v-.75ZM19.5 19.5h.75v.75h-.75v-.75ZM16.5 16.5h.75v.75h-.75v-.75Z"}))}const Z$=x.forwardRef(K$);function G$({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const L5=x.forwardRef(G$);function Y$({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"}))}const I5=x.forwardRef(Y$);function W$({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 0 1-1.125-1.125M3.375 19.5h7.5c.621 0 1.125-.504 1.125-1.125m-9.75 0V5.625m0 12.75v-1.5c0-.621.504-1.125 1.125-1.125m18.375 2.625V5.625m0 12.75c0 .621-.504 1.125-1.125 1.125m1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125m0 3.75h-7.5A1.125 1.125 0 0 1 12 18.375m9.75-12.75c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125m19.5 0v1.5c0 .621-.504 1.125-1.125 1.125M2.25 5.625v1.5c0 .621.504 1.125 1.125 1.125m0 0h17.25m-17.25 0h7.5c.621 0 1.125.504 1.125 1.125M3.375 8.25c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125m17.25-3.75h-7.5c-.621 0-1.125.504-1.125 1.125m8.625-1.125c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125M12 10.875v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 10.875c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125M13.125 12h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125M20.625 12c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5M12 14.625v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 14.625c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125m0 1.5v-1.5m0 0c0-.621.504-1.125 1.125-1.125m0 0h7.5"}))}const z5=x.forwardRef(W$);function X$({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Ya=x.forwardRef(X$);function J$({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 0 1-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 0 0-3.213-9.193 2.056 2.056 0 0 0-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 0 0-10.026 0 1.106 1.106 0 0 0-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"}))}const Vr=x.forwardRef(J$);function Q$({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const eL=x.forwardRef(Q$);function tL({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Gs=x.forwardRef(tL);const rL=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nL=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),m2=e=>{const t=nL(e);return t.charAt(0).toUpperCase()+t.slice(1)},U5=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),aL=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var iL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const sL=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:l,...u},d)=>x.createElement("svg",{ref:d,...iL,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:U5("lucide",a),...!s&&!aL(u)&&{"aria-hidden":"true"},...u},[...l.map(([f,p])=>x.createElement(f,p)),...Array.isArray(s)?s:[s]]));const xl=(e,t)=>{const r=x.forwardRef(({className:n,...a},s)=>x.createElement(sL,{ref:s,iconNode:t,className:U5(`lucide-${rL(m2(e))}`,`lucide-${e}`,n),...a}));return r.displayName=m2(e),r};const oL=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],lL=xl("boxes",oL);const cL=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],uL=xl("calendar-clock",cL);const dL=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],fL=xl("crown",dL);const hL=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],mL=xl("gauge",hL);const pL=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Gf=xl("package",pL);const gL=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],vL=xl("truck",gL);var $a={},mf={},Oy=function(e,t){return Oy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},Oy(e,t)};function B5(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Oy(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var sh=function(){return sh=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},sh.apply(this,arguments)};function wl(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function q5(e,t,r,n){var a=arguments.length,s=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var u=e.length-1;u>=0;u--)(l=e[u])&&(s=(a<3?l(s):a>3?l(t,r,s):l(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s}function H5(e,t){return function(r,n){t(r,n,e)}}function F5(e,t,r,n,a,s){function l(j){if(j!==void 0&&typeof j!="function")throw new TypeError("Function expected");return j}for(var u=n.kind,d=u==="getter"?"get":u==="setter"?"set":"value",f=!t&&e?n.static?e:e.prototype:null,p=t||(f?Object.getOwnPropertyDescriptor(f,n.name):{}),g,v=!1,y=r.length-1;y>=0;y--){var _={};for(var k in n)_[k]=k==="access"?{}:n[k];for(var k in n.access)_.access[k]=n.access[k];_.addInitializer=function(j){if(v)throw new TypeError("Cannot add initializers after decoration has completed");s.push(l(j||null))};var S=(0,r[y])(u==="accessor"?{get:p.get,set:p.set}:p[d],_);if(u==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(g=l(S.get))&&(p.get=g),(g=l(S.set))&&(p.set=g),(g=l(S.init))&&a.unshift(g)}else(g=l(S))&&(u==="field"?a.unshift(g):p[d]=g)}f&&Object.defineProperty(f,n.name,p),v=!0}function V5(e,t,r){for(var n=arguments.length>2,a=0;a<t.length;a++)r=n?t[a].call(e,r):t[a].call(e);return n?r:void 0}function K5(e){return typeof e=="symbol"?e:"".concat(e)}function Z5(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function G5(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function ye(e,t,r,n){function a(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function u(p){try{f(n.next(p))}catch(g){l(g)}}function d(p){try{f(n.throw(p))}catch(g){l(g)}}function f(p){p.done?s(p.value):a(p.value).then(u,d)}f((n=n.apply(e,t||[])).next())})}function Y5(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,a,s,l=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return l.next=u(0),l.throw=u(1),l.return=u(2),typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(f){return function(p){return d([f,p])}}function d(f){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,f[0]&&(r=0)),r;)try{if(n=1,a&&(s=f[0]&2?a.return:f[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,f[1])).done)return s;switch(a=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,a=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){r.label=f[1];break}if(f[0]===6&&r.label<s[1]){r.label=s[1],s=f;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(f);break}s[2]&&r.ops.pop(),r.trys.pop();continue}f=t.call(e,r)}catch(p){f=[6,p],a=0}finally{n=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var h0=Object.create?(function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]});function W5(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&h0(t,e,r)}function oh(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function sx(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,s=[],l;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(u){l={error:u}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(l)throw l.error}}return s}function X5(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(sx(arguments[t]));return e}function J5(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var s=arguments[t],l=0,u=s.length;l<u;l++,a++)n[a]=s[l];return n}function Q5(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function cl(e){return this instanceof cl?(this.v=e,this):new cl(e)}function eA(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,s=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),a[Symbol.asyncIterator]=function(){return this},a;function l(y){return function(_){return Promise.resolve(_).then(y,g)}}function u(y,_){n[y]&&(a[y]=function(k){return new Promise(function(S,j){s.push([y,k,S,j])>1||d(y,k)})},_&&(a[y]=_(a[y])))}function d(y,_){try{f(n[y](_))}catch(k){v(s[0][3],k)}}function f(y){y.value instanceof cl?Promise.resolve(y.value.v).then(p,g):v(s[0][2],y)}function p(y){d("next",y)}function g(y){d("throw",y)}function v(y,_){y(_),s.shift(),s.length&&d(s[0][0],s[0][1])}}function tA(e){var t,r;return t={},n("next"),n("throw",function(a){throw a}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(a,s){t[a]=e[a]?function(l){return(r=!r)?{value:cl(e[a](l)),done:!1}:s?s(l):l}:s}}function rA(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof oh=="function"?oh(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(l){return new Promise(function(u,d){l=e[s](l),a(u,d,l.done,l.value)})}}function a(s,l,u,d){Promise.resolve(d).then(function(f){s({value:f,done:u})},l)}}function nA(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var yL=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},Ay=function(e){return Ay=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Ay(e)};function aA(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Ay(e),n=0;n<r.length;n++)r[n]!=="default"&&h0(t,e,r[n]);return yL(t,e),t}function iA(e){return e&&e.__esModule?e:{default:e}}function sA(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function oA(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r}function lA(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function cA(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(a=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var bL=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function uA(e){function t(s){e.error=e.hasError?new bL(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var r,n=0;function a(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(a);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(a,function(l){return t(l),a()})}else n|=1}catch(l){t(l)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return a()}function dA(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,a,s,l){return n?t?".jsx":".js":a&&(!s||!l)?r:a+s+"."+l.toLowerCase()+"js"}):e}const xL={__extends:B5,__assign:sh,__rest:wl,__decorate:q5,__param:H5,__esDecorate:F5,__runInitializers:V5,__propKey:K5,__setFunctionName:Z5,__metadata:G5,__awaiter:ye,__generator:Y5,__createBinding:h0,__exportStar:W5,__values:oh,__read:sx,__spread:X5,__spreadArrays:J5,__spreadArray:Q5,__await:cl,__asyncGenerator:eA,__asyncDelegator:tA,__asyncValues:rA,__makeTemplateObject:nA,__importStar:aA,__importDefault:iA,__classPrivateFieldGet:sA,__classPrivateFieldSet:oA,__classPrivateFieldIn:lA,__addDisposableResource:cA,__disposeResources:uA,__rewriteRelativeImportExtension:dA},wL=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:cA,get __assign(){return sh},__asyncDelegator:tA,__asyncGenerator:eA,__asyncValues:rA,__await:cl,__awaiter:ye,__classPrivateFieldGet:sA,__classPrivateFieldIn:lA,__classPrivateFieldSet:oA,__createBinding:h0,__decorate:q5,__disposeResources:uA,__esDecorate:F5,__exportStar:W5,__extends:B5,__generator:Y5,__importDefault:iA,__importStar:aA,__makeTemplateObject:nA,__metadata:G5,__param:H5,__propKey:K5,__read:sx,__rest:wl,__rewriteRelativeImportExtension:dA,__runInitializers:V5,__setFunctionName:Z5,__spread:X5,__spreadArray:Q5,__spreadArrays:J5,__values:oh,default:xL},Symbol.toStringTag,{value:"Module"})),_L=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);let m0=class extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}},fA=class extends m0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},Ty=class extends m0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},Cy=class extends m0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var lh;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(lh||(lh={}));class SL{constructor(t,{headers:r={},customFetch:n,region:a=lh.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=_L(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return ye(this,arguments,void 0,function*(r,n={}){var a;let s,l;try{const{headers:u,method:d,body:f,signal:p,timeout:g}=n;let v={},{region:y}=n;y||(y=this.region);const _=new URL(`${this.url}/${r}`);y&&y!=="any"&&(v["x-region"]=y,_.searchParams.set("forceFunctionRegion",y));let k;f&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",k=f):typeof f=="string"?(v["Content-Type"]="text/plain",k=f):typeof FormData<"u"&&f instanceof FormData?k=f:(v["Content-Type"]="application/json",k=JSON.stringify(f)):k=f;let S=p;g&&(l=new AbortController,s=setTimeout(()=>l.abort(),g),p?(S=l.signal,p.addEventListener("abort",()=>l.abort())):S=l.signal);const j=yield this.fetch(_.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),u),body:k,signal:S}).catch(O=>{throw new fA(O)}),A=j.headers.get("x-relay-error");if(A&&A==="true")throw new Ty(j);if(!j.ok)throw new Cy(j);let E=((a=j.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),P;return E==="application/json"?P=yield j.json():E==="application/octet-stream"||E==="application/pdf"?P=yield j.blob():E==="text/event-stream"?P=j:E==="multipart/form-data"?P=yield j.formData():P=yield j.text(),{data:P,error:null,response:j}}catch(u){return{data:null,error:u,response:u instanceof Cy||u instanceof Ty?u.context:void 0}}finally{s&&clearTimeout(s)}})}}const kL=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return lh},FunctionsClient:SL,FunctionsError:m0,FunctionsFetchError:fA,FunctionsHttpError:Cy,FunctionsRelayError:Ty},Symbol.toStringTag,{value:"Module"})),hA=_u(kL);var yr={};const _l=_u(wL);var pf={},gf={},vf={},yf={},bf={},xf={},p2;function mA(){if(p2)return xf;p2=1,Object.defineProperty(xf,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return xf.default=e,xf}var g2;function pA(){if(g2)return bf;g2=1,Object.defineProperty(bf,"__esModule",{value:!0});const t=_l.__importDefault(mA());let r=class{constructor(a){var s,l;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(s=a.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=a.signal,this.isMaybeSingle=(l=a.isMaybeSingle)!==null&&l!==void 0?l:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,s){return this.headers=new Headers(this.headers),this.headers.set(a,s),this}then(a,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let u=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var f,p,g,v;let y=null,_=null,k=null,S=d.status,j=d.statusText;if(d.ok){if(this.method!=="HEAD"){const O=await d.text();O===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?_=O:_=JSON.parse(O))}const E=(p=this.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),P=(g=d.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");E&&P&&P.length>1&&(k=parseInt(P[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(y={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,k=null,S=406,j="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const E=await d.text();try{y=JSON.parse(E),Array.isArray(y)&&d.status===404&&(_=[],y=null,S=200,j="OK")}catch{d.status===404&&E===""?(S=204,j="No Content"):y={message:E}}if(y&&this.isMaybeSingle&&(!((v=y?.details)===null||v===void 0)&&v.includes("0 rows"))&&(y=null,S=200,j="OK"),y&&this.shouldThrowOnError)throw new t.default(y)}return{error:y,data:_,count:k,status:S,statusText:j}});return this.shouldThrowOnError||(u=u.catch(d=>{var f,p,g,v,y,_;let k="";const S=d?.cause;if(S){const j=(f=S?.message)!==null&&f!==void 0?f:"",A=(p=S?.code)!==null&&p!==void 0?p:"";k=`${(g=d?.name)!==null&&g!==void 0?g:"FetchError"}: ${d?.message}`,k+=`

Caused by: ${(v=S?.name)!==null&&v!==void 0?v:"Error"}: ${j}`,A&&(k+=` (${A})`),S?.stack&&(k+=`
${S.stack}`)}else k=(y=d?.stack)!==null&&y!==void 0?y:"";return{error:{message:`${(_=d?.name)!==null&&_!==void 0?_:"FetchError"}: ${d?.message}`,details:k,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),u.then(a,s)}returns(){return this}overrideTypes(){return this}};return bf.default=r,bf}var v2;function gA(){if(v2)return yf;v2=1,Object.defineProperty(yf,"__esModule",{value:!0});const t=_l.__importDefault(pA());let r=class extends t.default{select(a){let s=!1;const l=(a??"*").split("").map(u=>/\s/.test(u)&&!s?"":(u==='"'&&(s=!s),u)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:s=!0,nullsFirst:l,foreignTable:u,referencedTable:d=u}={}){const f=d?`${d}.order`:"order",p=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${p?`${p},`:""}${a}.${s?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:s,referencedTable:l=s}={}){const u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${a}`),this}range(a,s,{foreignTable:l,referencedTable:u=l}={}){const d=typeof u>"u"?"offset":`${u}.offset`,f=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${a}`),this.url.searchParams.set(f,`${s-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:s=!1,settings:l=!1,buffers:u=!1,wal:d=!1,format:f="text"}={}){var p;const g=[a?"analyze":null,s?"verbose":null,l?"settings":null,u?"buffers":null,d?"wal":null].filter(Boolean).join("|"),v=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${v}"; options=${g};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}};return yf.default=r,yf}var y2;function ox(){if(y2)return vf;y2=1,Object.defineProperty(vf,"__esModule",{value:!0});const t=_l.__importDefault(gA()),r=new RegExp("[,()]");let n=class extends t.default{eq(s,l){return this.url.searchParams.append(s,`eq.${l}`),this}neq(s,l){return this.url.searchParams.append(s,`neq.${l}`),this}gt(s,l){return this.url.searchParams.append(s,`gt.${l}`),this}gte(s,l){return this.url.searchParams.append(s,`gte.${l}`),this}lt(s,l){return this.url.searchParams.append(s,`lt.${l}`),this}lte(s,l){return this.url.searchParams.append(s,`lte.${l}`),this}like(s,l){return this.url.searchParams.append(s,`like.${l}`),this}likeAllOf(s,l){return this.url.searchParams.append(s,`like(all).{${l.join(",")}}`),this}likeAnyOf(s,l){return this.url.searchParams.append(s,`like(any).{${l.join(",")}}`),this}ilike(s,l){return this.url.searchParams.append(s,`ilike.${l}`),this}ilikeAllOf(s,l){return this.url.searchParams.append(s,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(s,l){return this.url.searchParams.append(s,`ilike(any).{${l.join(",")}}`),this}regexMatch(s,l){return this.url.searchParams.append(s,`match.${l}`),this}regexIMatch(s,l){return this.url.searchParams.append(s,`imatch.${l}`),this}is(s,l){return this.url.searchParams.append(s,`is.${l}`),this}isDistinct(s,l){return this.url.searchParams.append(s,`isdistinct.${l}`),this}in(s,l){const u=Array.from(new Set(l)).map(d=>typeof d=="string"&&r.test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(s,`in.(${u})`),this}contains(s,l){return typeof l=="string"?this.url.searchParams.append(s,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(s,`cs.{${l.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(l)}`),this}containedBy(s,l){return typeof l=="string"?this.url.searchParams.append(s,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(s,`cd.{${l.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(l)}`),this}rangeGt(s,l){return this.url.searchParams.append(s,`sr.${l}`),this}rangeGte(s,l){return this.url.searchParams.append(s,`nxl.${l}`),this}rangeLt(s,l){return this.url.searchParams.append(s,`sl.${l}`),this}rangeLte(s,l){return this.url.searchParams.append(s,`nxr.${l}`),this}rangeAdjacent(s,l){return this.url.searchParams.append(s,`adj.${l}`),this}overlaps(s,l){return typeof l=="string"?this.url.searchParams.append(s,`ov.${l}`):this.url.searchParams.append(s,`ov.{${l.join(",")}}`),this}textSearch(s,l,{config:u,type:d}={}){let f="";d==="plain"?f="pl":d==="phrase"?f="ph":d==="websearch"&&(f="w");const p=u===void 0?"":`(${u})`;return this.url.searchParams.append(s,`${f}fts${p}.${l}`),this}match(s){return Object.entries(s).forEach(([l,u])=>{this.url.searchParams.append(l,`eq.${u}`)}),this}not(s,l,u){return this.url.searchParams.append(s,`not.${l}.${u}`),this}or(s,{foreignTable:l,referencedTable:u=l}={}){const d=u?`${u}.or`:"or";return this.url.searchParams.append(d,`(${s})`),this}filter(s,l,u){return this.url.searchParams.append(s,`${l}.${u}`),this}};return vf.default=n,vf}var b2;function vA(){if(b2)return gf;b2=1,Object.defineProperty(gf,"__esModule",{value:!0});const t=_l.__importDefault(ox());let r=class{constructor(a,{headers:s={},schema:l,fetch:u}){this.url=a,this.headers=new Headers(s),this.schema=l,this.fetch=u}select(a,s){const{head:l=!1,count:u}=s??{},d=l?"HEAD":"GET";let f=!1;const p=(a??"*").split("").map(g=>/\s/.test(g)&&!f?"":(g==='"'&&(f=!f),g)).join("");return this.url.searchParams.set("select",p),u&&this.headers.append("Prefer",`count=${u}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:s,defaultToNull:l=!0}={}){var u;const d="POST";if(s&&this.headers.append("Prefer",`count=${s}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const f=a.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(f.length>0){const p=[...new Set(f)].map(g=>`"${g}"`);this.url.searchParams.set("columns",p.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(a,{onConflict:s,ignoreDuplicates:l=!1,count:u,defaultToNull:d=!0}={}){var f;const p="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),u&&this.headers.append("Prefer",`count=${u}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const g=a.reduce((v,y)=>v.concat(Object.keys(y)),[]);if(g.length>0){const v=[...new Set(g)].map(y=>`"${y}"`);this.url.searchParams.set("columns",v.join(","))}}return new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(a,{count:s}={}){var l;const u="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:a}={}){var s;const l="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};return gf.default=r,gf}var x2;function jL(){if(x2)return pf;x2=1,Object.defineProperty(pf,"__esModule",{value:!0});const e=_l,t=e.__importDefault(vA()),r=e.__importDefault(ox());let n=class yA{constructor(s,{headers:l={},schema:u,fetch:d}={}){this.url=s,this.headers=new Headers(l),this.schemaName=u,this.fetch=d}from(s){if(!s||typeof s!="string"||s.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const l=new URL(`${this.url}/${s}`);return new t.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new yA(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,l={},{head:u=!1,get:d=!1,count:f}={}){var p;let g;const v=new URL(`${this.url}/rpc/${s}`);let y;u||d?(g=u?"HEAD":"GET",Object.entries(l).filter(([k,S])=>S!==void 0).map(([k,S])=>[k,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([k,S])=>{v.searchParams.append(k,S)})):(g="POST",y=l);const _=new Headers(this.headers);return f&&_.set("Prefer",`count=${f}`),new r.default({method:g,url:v,headers:_,schema:this.schemaName,body:y,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}};return pf.default=n,pf}var w2;function bA(){if(w2)return yr;w2=1,Object.defineProperty(yr,"__esModule",{value:!0}),yr.PostgrestError=yr.PostgrestBuilder=yr.PostgrestTransformBuilder=yr.PostgrestFilterBuilder=yr.PostgrestQueryBuilder=yr.PostgrestClient=void 0;const e=_l,t=e.__importDefault(jL());yr.PostgrestClient=t.default;const r=e.__importDefault(vA());yr.PostgrestQueryBuilder=r.default;const n=e.__importDefault(ox());yr.PostgrestFilterBuilder=n.default;const a=e.__importDefault(gA());yr.PostgrestTransformBuilder=a.default;const s=e.__importDefault(pA());yr.PostgrestBuilder=s.default;const l=e.__importDefault(mA());return yr.PostgrestError=l.default,yr.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:s.default,PostgrestError:l.default},yr}class xA{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const EL="2.87.1",NL=`realtime-js/${EL}`,wA="1.0.0",OL="2.0.0",_2=wA,Py=1e4,AL=1e3,TL=100;var Ns;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ns||(Ns={}));var Dt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Dt||(Dt={}));var Fn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Fn||(Fn={}));var Dy;(function(e){e.websocket="websocket"})(Dy||(Dy={}));var Os;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Os||(Os={}));class CL{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},l=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(t,r,n){var a,s;const l=t.topic,u=(a=t.ref)!==null&&a!==void 0?a:"",d=(s=t.join_ref)!==null&&s!==void 0?s:"",f=t.payload.event,p=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},g=Object.keys(p).length===0?"":JSON.stringify(p);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`metadata length ${g.length} exceeds maximum of 255`);const v=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+u.length+l.length+f.length+g.length,y=new ArrayBuffer(this.HEADER_LENGTH+v);let _=new DataView(y),k=0;_.setUint8(k++,this.KINDS.userBroadcastPush),_.setUint8(k++,d.length),_.setUint8(k++,u.length),_.setUint8(k++,l.length),_.setUint8(k++,f.length),_.setUint8(k++,g.length),_.setUint8(k++,r),Array.from(d,j=>_.setUint8(k++,j.charCodeAt(0))),Array.from(u,j=>_.setUint8(k++,j.charCodeAt(0))),Array.from(l,j=>_.setUint8(k++,j.charCodeAt(0))),Array.from(f,j=>_.setUint8(k++,j.charCodeAt(0))),Array.from(g,j=>_.setUint8(k++,j.charCodeAt(0)));var S=new Uint8Array(y.byteLength+n.byteLength);return S.set(new Uint8Array(y),0),S.set(new Uint8Array(n),y.byteLength),S.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,s,l,u,d]=n;return r({join_ref:a,ref:s,topic:l,event:u,payload:d})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),s=r.getUint8(2),l=r.getUint8(3),u=r.getUint8(4);let d=this.HEADER_LENGTH+4;const f=n.decode(t.slice(d,d+a));d=d+a;const p=n.decode(t.slice(d,d+s));d=d+s;const g=n.decode(t.slice(d,d+l));d=d+l;const v=t.slice(d,t.byteLength),y=u===this.JSON_ENCODING?JSON.parse(n.decode(v)):v,_={type:this.BROADCAST_EVENT,event:p,payload:y};return l>0&&(_.meta=JSON.parse(g)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:_}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class _A{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var at;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(at||(at={}));const S2=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((s,l)=>(s[l]=PL(l,e,t,a),s),{}):{}},PL=(e,t,r,n)=>{const a=t.find(u=>u.name===e),s=a?.type,l=r[e];return s&&!n.includes(s)?SA(s,l):My(l)},SA=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return $L(t,r)}switch(e){case at.bool:return DL(t);case at.float4:case at.float8:case at.int2:case at.int4:case at.int8:case at.numeric:case at.oid:return ML(t);case at.json:case at.jsonb:return RL(t);case at.timestamp:return LL(t);case at.abstime:case at.date:case at.daterange:case at.int4range:case at.int8range:case at.money:case at.reltime:case at.text:case at.time:case at.timestamptz:case at.timetz:case at.tsrange:case at.tstzrange:return My(t);default:return My(t)}},My=e=>e,DL=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},ML=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},RL=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},$L=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const l=e.slice(1,r);try{s=JSON.parse("["+l+"]")}catch{s=l?l.split(","):[]}return s.map(u=>SA(t,u))}return e},LL=e=>typeof e=="string"?e.replace(" ","T"):e,kA=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Rg{constructor(t,r,n={},a=Py){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ry;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Ry||(Ry={}));let jA=class Yf{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:s,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Yf.syncState(this.state,a,s,l),this.pendingDiffs.forEach(d=>{this.state=Yf.syncDiff(this.state,d,s,l)}),this.pendingDiffs=[],u()}),this.channel._on(n.diff,{},a=>{const{onJoin:s,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Yf.syncDiff(this.state,a,s,l),u())}),this.onJoin((a,s,l)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:s,newPresences:l})}),this.onLeave((a,s,l)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:s,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const s=this.cloneDeep(t),l=this.transformState(r),u={},d={};return this.map(s,(f,p)=>{l[f]||(d[f]=p)}),this.map(l,(f,p)=>{const g=s[f];if(g){const v=p.map(S=>S.presence_ref),y=g.map(S=>S.presence_ref),_=p.filter(S=>y.indexOf(S.presence_ref)<0),k=g.filter(S=>v.indexOf(S.presence_ref)<0);_.length>0&&(u[f]=_),k.length>0&&(d[f]=k)}else u[f]=p}),this.syncDiff(s,{joins:u,leaves:d},n,a)}static syncDiff(t,r,n,a){const{joins:s,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(s,(u,d)=>{var f;const p=(f=t[u])!==null&&f!==void 0?f:[];if(t[u]=this.cloneDeep(d),p.length>0){const g=t[u].map(y=>y.presence_ref),v=p.filter(y=>g.indexOf(y.presence_ref)<0);t[u].unshift(...v)}n(u,p,d)}),this.map(l,(u,d)=>{let f=t[u];if(!f)return;const p=d.map(g=>g.presence_ref);f=f.filter(g=>p.indexOf(g.presence_ref)<0),t[u]=f,a(u,f,d),f.length===0&&delete t[u]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var $y;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})($y||($y={}));var nl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(nl||(nl={}));var ia;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ia||(ia={}));const IL=Dt;let EA=class zc{constructor(t,r={config:{}},n){var a,s;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Dt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Rg(this,Fn.join,this.params,this.timeout),this.rejoinTimer=new _A(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Dt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Dt.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Dt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Dt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Dt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Fn.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new jA(this),this.broadcastEndpointURL=kA(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Dt.closed){const{config:{broadcast:l,presence:u,private:d}}=this.params,f=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(y=>y.filter))!==null&&a!==void 0?a:[],p=!!this.bindings[nl.PRESENCE]&&this.bindings[nl.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,g={},v={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:p}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(y=>t?.(ia.CHANNEL_ERROR,y)),this._onClose(()=>t?.(ia.CLOSED)),this.updateJoinPayload(Object.assign({config:v},g)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:y})=>{var _;if(this.socket._isManualToken()||this.socket.setAuth(),y===void 0){t?.(ia.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,S=(_=k?.length)!==null&&_!==void 0?_:0,j=[];for(let A=0;A<S;A++){const E=k[A],{filter:{event:P,schema:O,table:T,filter:C}}=E,D=y&&y[A];if(D&&D.event===P&&zc.isFilterValueEqual(D.schema,O)&&zc.isFilterValueEqual(D.table,T)&&zc.isFilterValueEqual(D.filter,C))j.push(Object.assign(Object.assign({},E),{id:D.id}));else{this.unsubscribe(),this.state=Dt.errored,t?.(ia.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,t&&t(ia.SUBSCRIBED);return}}).receive("error",y=>{this.state=Dt.errored,t?.(ia.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{t?.(ia.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Dt.joined&&t===nl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const l={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(u.status===202)return{success:!0};let d=u.statusText;try{const f=await u.json();d=f.error||f.message||d}catch{}return Promise.reject(new Error(d))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:l}=t,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:l,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=f.body)===null||a===void 0?void 0:a.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var l,u,d;const f=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&s("ok"),f.receive("ok",()=>s("ok")),f.receive("error",()=>s("error")),f.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Dt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Fn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Rg(this,Fn.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Dt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,s=setTimeout(()=>a.abort(),n),l=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(s),l}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Rg(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>TL){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,s;const l=t.toLocaleLowerCase(),{close:u,error:d,leave:f,join:p}=Fn;if(n&&[u,d,f,p].indexOf(l)>=0&&n!==this._joinRef())return;let v=this._onMessage(l,r,n);if(r&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(y=>{var _,k,S;return((_=y.filter)===null||_===void 0?void 0:_.event)==="*"||((S=(k=y.filter)===null||k===void 0?void 0:k.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===l}).map(y=>y.callback(v,n)):(s=this.bindings[l])===null||s===void 0||s.filter(y=>{var _,k,S,j,A,E;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in y){const P=y.id,O=(_=y.filter)===null||_===void 0?void 0:_.event;return P&&((k=r.ids)===null||k===void 0?void 0:k.includes(P))&&(O==="*"||O?.toLocaleLowerCase()===((S=r.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const P=(A=(j=y?.filter)===null||j===void 0?void 0:j.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return P==="*"||P===((E=r?.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===l}).map(y=>{if(typeof v=="object"&&"ids"in v){const _=v.data,{schema:k,table:S,commit_timestamp:j,type:A,errors:E}=_;v=Object.assign(Object.assign({},{schema:k,table:S,commit_timestamp:j,eventType:A,new:{},old:{},errors:E}),this._getPayloadRecords(_))}y.callback(v,n)})}_isClosed(){return this.state===Dt.closed}_isJoined(){return this.state===Dt.joined}_isJoining(){return this.state===Dt.joining}_isLeaving(){return this.state===Dt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),s={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(s):this.bindings[a]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var s;return!(((s=a.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&zc.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Fn.close,{},t)}_onError(t){this._on(Fn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Dt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=S2(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=S2(t.columns,t.old_record)),r}};const $g=()=>{},wf={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},zL=[1e3,2e3,5e3,1e4],UL=1e4,BL=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let qL=class{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Py,this.transport=null,this.heartbeatIntervalMs=wf.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=$g,this.ref=0,this.reconnectTimer=null,this.vsn=_2,this.logger=$g,this.conn=null,this.sendBuffer=[],this.serializer=new CL,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...s)=>a(...s):(...s)=>fetch(...s),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Dy.websocket}`,this.httpEndpoint=kA(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=xA.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ns.connecting:return Os.Connecting;case Ns.open:return Os.Open;case Ns.closing:return Os.Closing;default:return Os.Closed}}isConnected(){return this.connectionState()===Os.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(s=>s.topic===n);if(a)return a;{const s=new EA(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:a,ref:s}=t,l=()=>{this.encode(t,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${r} ${n} (${s})`,a),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(AL,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},wf.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:s,ref:l}=r,u=l?`(${l})`:"",d=s.status||"";this.log("receive",`${d} ${n} ${a} ${u}`.trim(),s),this.channels.filter(f=>f._isMember(n)).forEach(f=>f._trigger(a,s,l)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ns.open||this.conn.readyState===Ns.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Fn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([BL],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const s={access_token:r,version:NL};r&&a.updateJoinPayload(s),a.joinedOnce&&a._isJoined()&&a._push(Fn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new _A(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},wf.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,s,l,u,d,f,p,g,v,y;switch(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t?.timeout)!==null&&n!==void 0?n:Py,this.heartbeatIntervalMs=(a=t?.heartbeatIntervalMs)!==null&&a!==void 0?a:wf.HEARTBEAT_INTERVAL,this.worker=(s=t?.worker)!==null&&s!==void 0?s:!1,this.accessToken=(l=t?.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=t?.heartbeatCallback)!==null&&u!==void 0?u:$g,this.vsn=(d=t?.vsn)!==null&&d!==void 0?d:_2,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=t?.reconnectAfterMs)!==null&&f!==void 0?f:(_=>zL[_-1]||UL),this.vsn){case wA:this.encode=(p=t?.encode)!==null&&p!==void 0?p:((_,k)=>k(JSON.stringify(_))),this.decode=(g=t?.decode)!==null&&g!==void 0?g:((_,k)=>k(JSON.parse(_)));break;case OL:this.encode=(v=t?.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(y=t?.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};const HL=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:IL,get REALTIME_LISTEN_TYPES(){return nl},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return $y},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Ry},get REALTIME_SUBSCRIBE_STATES(){return ia},RealtimeChannel:EA,RealtimeClient:qL,RealtimePresence:jA,WebSocketFactory:xA},Symbol.toStringTag,{value:"Module"})),NA=_u(HL);class ku extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ht(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class OA extends ku{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ch extends ku{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const lx=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),FL=()=>Response,Ly=e=>{if(Array.isArray(e))return e.map(r=>Ly(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[a]=Ly(n)}),t},VL=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},KL=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),Lg=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},ZL=(e,t,r)=>ye(void 0,void 0,void 0,function*(){const n=yield FL();e instanceof n&&!r?.noResolveJson?e.json().then(a=>{const s=e.status||500,l=a?.statusCode||s+"";t(new OA(Lg(a),s,l))}).catch(a=>{t(new ch(Lg(a),a))}):t(new ch(Lg(e),e))}),GL=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"||!n?a:(VL(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(n)):a.body=n,t?.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function ju(e,t,r,n,a,s){return ye(this,void 0,void 0,function*(){return new Promise((l,u)=>{e(r,GL(t,n,a,s)).then(d=>{if(!d.ok)throw d;return n?.noResolveJson?d:d.json()}).then(d=>l(d)).catch(d=>ZL(d,u,n))})})}function tu(e,t,r,n){return ye(this,void 0,void 0,function*(){return ju(e,"GET",t,r,n)})}function Hn(e,t,r,n,a){return ye(this,void 0,void 0,function*(){return ju(e,"POST",t,n,a,r)})}function Iy(e,t,r,n,a){return ye(this,void 0,void 0,function*(){return ju(e,"PUT",t,n,a,r)})}function YL(e,t,r,n){return ye(this,void 0,void 0,function*(){return ju(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function cx(e,t,r,n,a){return ye(this,void 0,void 0,function*(){return ju(e,"DELETE",t,n,a,r)})}class WL{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return ye(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ht(t))return{data:null,error:t};throw t}})}}var AA;class XL{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[AA]="BlobDownloadBuilder",this.promise=null}asStream(){return new WL(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ye(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ht(t))return{data:null,error:t};throw t}})}}AA=Symbol.toStringTag;const JL={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},k2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class QL{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=lx(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return ye(this,void 0,void 0,function*(){try{let s;const l=Object.assign(Object.assign({},k2),a);let u=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",l.cacheControl),d&&s.append("metadata",this.encodeMetadata(d)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.has("cacheControl")||s.append("cacheControl",l.cacheControl),d&&!s.has("metadata")&&s.append("metadata",this.encodeMetadata(d))):(s=n,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,d&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(d))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!l.duplex&&(l.duplex="half")),a?.headers&&(u=Object.assign(Object.assign({},u),a.headers));const f=this._removeEmptyFolders(r),p=this._getFinalPath(f),g=yield(t=="PUT"?Iy:Hn)(this.fetch,`${this.url}/object/${p}`,s,Object.assign({headers:u},l?.duplex?{duplex:l.duplex}:{}));return{data:{path:f,id:g.Id,fullPath:g.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ht(s))return{data:null,error:s};throw s}})}upload(t,r,n){return ye(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return ye(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),l=this._getFinalPath(s),u=new URL(this.url+`/object/upload/sign/${l}`);u.searchParams.set("token",r);try{let d;const f=Object.assign({upsert:k2.upsert},a),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.append("cacheControl",f.cacheControl)):(d=n,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType);const g=yield Iy(this.fetch,u.toString(),d,{headers:p});return{data:{path:s,fullPath:g.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(ht(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(t,r){return ye(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r?.upsert&&(a["x-upsert"]="true");const s=yield Hn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),l=new URL(this.url+s.url),u=l.searchParams.get("token");if(!u)throw new ku("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:u},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}})}update(t,r,n){return ye(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return ye(this,void 0,void 0,function*(){try{return{data:yield Hn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ht(a))return{data:null,error:a};throw a}})}copy(t,r,n){return ye(this,void 0,void 0,function*(){try{return{data:{path:(yield Hn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ht(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return ye(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),s=yield Hn(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const l=n?.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${l}`)},{data:s,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ht(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return ye(this,void 0,void 0,function*(){try{const a=yield Hn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${s}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ht(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof r?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(r?.transform||{}),l=s?`?${s}`:"",u=this._getFinalPath(t),d=()=>tu(this.fetch,`${this.url}/${a}/${u}${l}`,{headers:this.headers,noResolveJson:!0});return new XL(d,this.shouldThrowOnError)}info(t){return ye(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield tu(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Ly(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}})}exists(t){return ye(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield YL(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n)&&n instanceof ch){const a=n.originalError;if([400,404].includes(a?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],s=r?.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&a.push(s);const u=typeof r?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(r?.transform||{});d!==""&&a.push(d);let f=a.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${n}${f}`)}}}remove(t){return ye(this,void 0,void 0,function*(){try{return{data:yield cx(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}})}list(t,r,n){return ye(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},JL),r),{prefix:t||""});return{data:yield Hn(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ht(a))return{data:null,error:a};throw a}})}listV2(t,r){return ye(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Hn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const TA="2.87.1",CA={"X-Client-Info":`storage-js/${TA}`};class eI{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const s=new URL(t);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},CA),r),this.fetch=lx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return ye(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield tu(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}})}getBucket(t){return ye(this,void 0,void 0,function*(){try{return{data:yield tu(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}})}createBucket(t){return ye(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Hn(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ht(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return ye(this,void 0,void 0,function*(){try{return{data:yield Iy(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}})}emptyBucket(t){return ye(this,void 0,void 0,function*(){try{return{data:yield Hn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ye(this,void 0,void 0,function*(){try{return{data:yield cx(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var ru=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function tI(e,t,r){const n=new URL(t,e);if(r)for(const[a,s]of Object.entries(r))s!==void 0&&n.searchParams.set(a,s);return n.toString()}async function rI(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function nI(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:s,headers:l}){const u=tI(e.baseUrl,n,a),d=await rI(e.auth),f=await t(u,{method:r,headers:{...s?{"Content-Type":"application/json"}:{},...d,...l},body:s?JSON.stringify(s):void 0}),p=await f.text(),g=(f.headers.get("content-type")||"").includes("application/json"),v=g&&p?JSON.parse(p):p;if(!f.ok){const y=g?v:void 0,_=y?.error;throw new ru(_?.message??`Request failed with status ${f.status}`,{status:f.status,icebergType:_?.type,icebergCode:_?.code,details:y})}return{status:f.status,headers:f.headers,data:v}}}}function _f(e){return e.join("")}var aI=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:_f(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${_f(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${_f(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${_f(e.namespace)}`}),!0}catch(t){if(t instanceof ru&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof ru&&r.status===409)return;throw r}}};function Ho(e){return e.join("")}var iI=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ho(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ho(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ho(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ho(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ho(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ho(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof ru&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof ru&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},sI=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=nI({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new aI(this.client,t),this.tableOps=new iI(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class PA{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},CA),r),this.fetch=lx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ye(this,void 0,void 0,function*(){try{return{data:yield Hn(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}})}listBuckets(t){return ye(this,void 0,void 0,function*(){try{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const n=r.toString(),a=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield tu(this.fetch,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ye(this,void 0,void 0,function*(){try{return{data:yield cx(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}})}from(t){if(!KL(t))throw new ku("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new sI({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>ye(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,l){const u=s[l];return typeof u!="function"?u:(...d)=>ye(this,void 0,void 0,function*(){try{return{data:yield u.apply(s,d),error:null}}catch(f){if(n)throw f;return{data:null,error:f}}})}})}}const ux={"X-Client-Info":`storage-js/${TA}`,"Content-Type":"application/json"};class dx extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Hr(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Wf extends dx{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class DA extends dx{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var zy;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(zy||(zy={}));const p0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),oI=()=>Response,MA=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},lI=e=>Array.from(new Float32Array(e)),cI=(e,t)=>{if(t!==void 0&&e.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`)},j2=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),uI=(e,t,r)=>ye(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!r?.noResolveJson){const a=e.status||500,s=e;if(typeof s.json=="function")s.json().then(l=>{const u=l?.statusCode||l?.code||a+"";t(new Wf(j2(l),a,u))}).catch(()=>{const l=a+"",u=s.statusText||`HTTP ${a} error`;t(new Wf(u,a,l))});else{const l=a+"",u=s.statusText||`HTTP ${a} error`;t(new Wf(u,a,l))}}else t(new DA(j2(e),e))}),dI=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return n?(MA(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r)):a};function fI(e,t,r,n,a,s){return ye(this,void 0,void 0,function*(){return new Promise((l,u)=>{e(r,dI(t,n,a,s)).then(d=>{if(!d.ok)throw d;if(n?.noResolveJson)return d;const f=d.headers.get("content-type");return!f||!f.includes("application/json")?{}:d.json()}).then(d=>l(d)).catch(d=>uI(d,u,n))})})}function on(e,t,r,n,a){return ye(this,void 0,void 0,function*(){return fI(e,"POST",t,n,a,r)})}class RA{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ux),r),this.fetch=p0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return ye(this,void 0,void 0,function*(){try{return{data:(yield on(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}getIndex(t,r){return ye(this,void 0,void 0,function*(){try{return{data:yield on(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hr(n))return{data:null,error:n};throw n}})}listIndexes(t){return ye(this,void 0,void 0,function*(){try{return{data:yield on(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return ye(this,void 0,void 0,function*(){try{return{data:(yield on(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hr(n))return{data:null,error:n};throw n}})}}class $A{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ux),r),this.fetch=p0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return ye(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield on(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}getVectors(t){return ye(this,void 0,void 0,function*(){try{return{data:yield on(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}listVectors(t){return ye(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield on(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}queryVectors(t){return ye(this,void 0,void 0,function*(){try{return{data:yield on(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}deleteVectors(t){return ye(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield on(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}}class LA{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ux),r),this.fetch=p0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ye(this,void 0,void 0,function*(){try{return{data:(yield on(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}getBucket(t){return ye(this,void 0,void 0,function*(){try{return{data:yield on(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}listBuckets(){return ye(this,arguments,void 0,function*(t={}){try{return{data:yield on(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ye(this,void 0,void 0,function*(){try{return{data:(yield on(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hr(r))return{data:null,error:r};throw r}})}}class IA extends LA{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new zA(this.url,this.headers,t,this.fetch)}createBucket(t){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return ye(this,void 0,void 0,function*(){return r.createBucket.call(this,t)})}getBucket(t){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return ye(this,void 0,void 0,function*(){return r.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return ye(this,arguments,void 0,function*(r={}){return t.listBuckets.call(this,r)})}deleteBucket(t){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return ye(this,void 0,void 0,function*(){return r.deleteBucket.call(this,t)})}}class zA extends RA{constructor(t,r,n,a){super(t,r,a),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ye(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ye(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ye(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ye(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new UA(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class UA extends $A{constructor(t,r,n,a,s){super(t,r,s),this.vectorBucketName=n,this.indexName=a}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ye(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ye(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ye(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ye(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ye(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class hI extends eI{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new QL(this.url,this.headers,t,this.fetch)}get vectors(){return new IA(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new PA(this.url+"/iceberg",this.headers,this.fetch)}}const mI=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:PA,StorageApiError:OA,StorageClient:hI,StorageError:ku,StorageUnknownError:ch,StorageVectorsApiError:Wf,StorageVectorsClient:IA,StorageVectorsError:dx,get StorageVectorsErrorCode(){return zy},StorageVectorsUnknownError:DA,VectorBucketApi:LA,VectorBucketScope:zA,VectorDataApi:$A,VectorIndexApi:RA,VectorIndexScope:UA,isPlainObject:MA,isStorageError:ht,isStorageVectorsError:Hr,normalizeToFloat32:lI,resolveFetch:p0,resolveResponse:oI,validateVectorDimension:cI},Symbol.toStringTag,{value:"Module"})),pI=_u(mI);var Ig={},Ac={},E2;function gI(){return E2||(E2=1,Object.defineProperty(Ac,"__esModule",{value:!0}),Ac.version=void 0,Ac.version="2.87.1"),Ac}var N2;function vI(){return N2||(N2=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_REALTIME_OPTIONS=e.DEFAULT_AUTH_OPTIONS=e.DEFAULT_DB_OPTIONS=e.DEFAULT_GLOBAL_OPTIONS=e.DEFAULT_HEADERS=void 0;const t=gI();let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",e.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${t.version}`},e.DEFAULT_GLOBAL_OPTIONS={headers:e.DEFAULT_HEADERS},e.DEFAULT_DB_OPTIONS={schema:"public"},e.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e.DEFAULT_REALTIME_OPTIONS={}})(Ig)),Ig}var zg={},O2;function yI(){return O2||(O2=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWithAuth=e.resolveHeadersConstructor=e.resolveFetch=void 0;const t=a=>a?(...s)=>a(...s):(...s)=>fetch(...s);e.resolveFetch=t;const r=()=>Headers;e.resolveHeadersConstructor=r;const n=(a,s,l)=>{const u=(0,e.resolveFetch)(l),d=(0,e.resolveHeadersConstructor)();return async(f,p)=>{var g;const v=(g=await s())!==null&&g!==void 0?g:a;let y=new d(p?.headers);return y.has("apikey")||y.set("apikey",a),y.has("Authorization")||y.set("Authorization",`Bearer ${v}`),u(f,Object.assign(Object.assign({},p),{headers:y}))}};e.fetchWithAuth=n})(zg)),zg}var La={},A2;function bI(){if(A2)return La;A2=1,Object.defineProperty(La,"__esModule",{value:!0}),La.isBrowser=void 0,La.uuid=e,La.ensureTrailingSlash=t,La.applySettingDefaults=n,La.validateSupabaseUrl=a;function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){var l=Math.random()*16|0,u=s=="x"?l:l&3|8;return u.toString(16)})}function t(s){return s.endsWith("/")?s:s+"/"}const r=()=>typeof window<"u";La.isBrowser=r;function n(s,l){var u,d;const{db:f,auth:p,realtime:g,global:v}=s,{db:y,auth:_,realtime:k,global:S}=l,j={db:Object.assign(Object.assign({},y),f),auth:Object.assign(Object.assign({},_),p),realtime:Object.assign(Object.assign({},k),g),storage:{},global:Object.assign(Object.assign(Object.assign({},S),v),{headers:Object.assign(Object.assign({},(u=S?.headers)!==null&&u!==void 0?u:{}),(d=v?.headers)!==null&&d!==void 0?d:{})}),accessToken:async()=>""};return s.accessToken?j.accessToken=s.accessToken:delete j.accessToken,j}function a(s){const l=s?.trim();if(!l)throw new Error("supabaseUrl is required.");if(!l.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t(l))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return La}var Tc={};const BA="2.87.1",Wo=30*1e3,Uy=3,Ug=Uy*Wo,xI="http://localhost:9999",wI="supabase.auth.token",_I={"X-Client-Info":`gotrue-js/${BA}`},By="X-Supabase-Api-Version",qA={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},SI=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,kI=600*1e3;let ul=class extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}};function ke(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}let HA=class extends ul{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}};function FA(e){return ke(e)&&e.name==="AuthApiError"}let zi=class extends ul{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}},ai=class extends ul{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}},Br=class extends ai{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function VA(e){return ke(e)&&e.name==="AuthSessionMissingError"}let ws=class extends ai{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Uc=class extends ai{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},Bc=class extends ai{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function KA(e){return ke(e)&&e.name==="AuthImplicitGrantRedirectError"}let qy=class extends ai{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},uh=class extends ai{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}};function Xf(e){return ke(e)&&e.name==="AuthRetryableFetchError"}let Hy=class extends ai{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}};function jI(e){return ke(e)&&e.name==="AuthWeakPasswordError"}let dh=class extends ai{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const fh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),T2=` 	
\r=`.split(""),EI=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<T2.length;t+=1)e[T2[t].charCodeAt(0)]=-2;for(let t=0;t<fh.length;t+=1)e[fh[t].charCodeAt(0)]=t;return e})();function C2(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(fh[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(fh[n]),t.queuedBits-=6}}function ZA(e,t,r){const n=EI[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function P2(e){const t=[],r=l=>{t.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=l=>{AI(l,n,r)};for(let l=0;l<e.length;l+=1)ZA(e.charCodeAt(l),a,s);return t.join("")}function NI(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function OI(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}NI(n,t)}}function AI(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function al(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)ZA(e.charCodeAt(a),r,n);return new Uint8Array(t)}function TI(e){const t=[];return OI(e,r=>t.push(r)),new Uint8Array(t)}function Ts(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>C2(a,r,n)),C2(null,r,n),t.join("")}function CI(e){return Math.round(Date.now()/1e3)+e}function PI(){return Symbol("auth-callback")}const sr=()=>typeof window<"u"&&typeof document<"u",bs={tested:!1,writable:!1},GA=()=>{if(!sr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(bs.tested)return bs.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),bs.tested=!0,bs.writable=!0}catch{bs.tested=!0,bs.writable=!1}return bs.writable};function DI(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,s)=>{t[s]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const YA=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),MI=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Xo=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},xs=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ar=async(e,t)=>{await e.removeItem(t)};class g0{constructor(){this.promise=new g0.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}g0.promiseConstructor=Promise;function Bg(e){const t=e.split(".");if(t.length!==3)throw new dh("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!SI.test(t[n]))throw new dh("JWT not in base64url format");return{header:JSON.parse(P2(t[0])),payload:JSON.parse(P2(t[1])),signature:al(t[2]),raw:{header:t[0],payload:t[1]}}}async function RI(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function $I(e,t){return new Promise((n,a)=>{(async()=>{for(let s=0;s<1/0;s++)try{const l=await e(s);if(!t(s,null,l)){n(l);return}}catch(l){if(!t(s,l)){a(l);return}}})()})}function LI(e){return("0"+e.toString(16)).substr(-2)}function II(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let s=0;s<56;s++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,LI).join("")}async function zI(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(s=>String.fromCharCode(s)).join("")}async function UI(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await zI(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Fo(e,t,r=!1){const n=II();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Xo(e,`${t}-code-verifier`,a);const s=await UI(n);return[s,n===s?"plain":"s256"]}const BI=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function qI(e){const t=e.headers.get(By);if(!t||!t.match(BI))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function HI(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function FI(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const VI=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Vo(e){if(!VI.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function qg(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function KI(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function D2(e){return JSON.parse(JSON.stringify(e))}const _s=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ZI=[502,503,504];async function M2(e){var t;if(!MI(e))throw new uh(_s(e),0);if(ZI.includes(e.status))throw new uh(_s(e),e.status);let r;try{r=await e.json()}catch(s){throw new zi(_s(s),s)}let n;const a=qI(e);if(a&&a.getTime()>=qA["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Hy(_s(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Br}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,l)=>s&&typeof l=="string",!0))throw new Hy(_s(r),e.status,r.weak_password.reasons);throw new HA(_s(r),e.status||500,n)}const GI=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Ce(e,t,r,n){var a;const s=Object.assign({},n?.headers);s[By]||(s[By]=qA["2024-01-01"].name),n?.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const l=(a=n?.query)!==null&&a!==void 0?a:{};n?.redirectTo&&(l.redirect_to=n.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await YI(e,t,r+u,{headers:s,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(d):{data:Object.assign({},d),error:null}}async function YI(e,t,r,n,a,s){const l=GI(t,n,a,s);let u;try{u=await e(r,Object.assign({},l))}catch(d){throw console.error(d),new uh(_s(d),0)}if(u.ok||await M2(u),n?.noResolveJson)return u;try{return await u.json()}catch(d){await M2(d)}}function qn(e){var t;let r=null;JI(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=CI(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function R2(e){const t=qn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ui(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function WI(e){return{data:e,error:null}}function XI(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s}=e,l=wl(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s},d=Object.assign({},l);return{data:{properties:u,user:d},error:null}}function $2(e){return e}function JI(e){return e.access_token&&e.refresh_token&&e.expires_in}const Jf=["global","local","others"];let fx=class{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=YA(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Jf[0]){if(Jf.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Jf.join(", ")}`);try{return await Ce(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ce(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ui})}catch(n){if(ke(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=wl(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n?.newEmail,delete a.newEmail),await Ce(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:XI,redirectTo:r?.redirectTo})}catch(r){if(ke(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ce(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ui})}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,s,l,u,d;try{const f={nextPage:null,lastPage:0,total:0},p=await Ce(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:$2});if(p.error)throw p.error;const g=await p.json(),v=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,y=(d=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return y.length>0&&(y.forEach(_=>{const k=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(_.split(";")[1].split("=")[1]);f[`${S}Page`]=k}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},g),f),error:null}}catch(f){if(ke(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){Vo(t);try{return await Ce(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ui})}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Vo(t);try{return await Ce(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Ui})}catch(n){if(ke(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Vo(t);try{return await Ce(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ui})}catch(n){if(ke(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Vo(t.userId);try{const{data:r,error:n}=await Ce(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Vo(t.userId),Vo(t.id);try{return{data:await Ce(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,s,l,u,d;try{const f={nextPage:null,lastPage:0,total:0},p=await Ce(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:$2});if(p.error)throw p.error;const g=await p.json(),v=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,y=(d=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return y.length>0&&(y.forEach(_=>{const k=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(_.split(";")[1].split("=")[1]);f[`${S}Page`]=k}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},g),f),error:null}}catch(f){if(ke(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(t){try{return await Ce(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Ce(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Ce(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ke(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Ce(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Ce(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ke(r))return{data:null,error:r};throw r}}};function L2(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Ss={debug:!!(globalThis&&GA()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class hx extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let WA=class extends hx{};class QI extends hx{}async function XA(e,t,r){Ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Ss.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new WA(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ss.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const I2={};async function e8(e,t,r){var n;const a=(n=I2[e])!==null&&n!==void 0?n:Promise.resolve(),s=Promise.race([a.catch(()=>null),t>=0?new Promise((l,u)=>{setTimeout(()=>{u(new QI(`Acquring process lock with name "${e}" timed out`))},t)}):null].filter(l=>l)).catch(l=>{if(l&&l.isAcquireTimeout)throw l;return null}).then(async()=>await r());return I2[e]=s.catch(async l=>{if(l&&l.isAcquireTimeout)return await a,null;throw l}),await s}function t8(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function JA(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function r8(e){return parseInt(e,16)}function n8(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function a8(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:s=new Date,nonce:l,notBefore:u,requestId:d,resources:f,scheme:p,uri:g,version:v}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const y=JA(e.address),_=p?`${p}://${n}`:n,k=e.statement?`${e.statement}
`:"",S=`${_} wants you to sign in with your Ethereum account:
${y}

${k}`;let j=`URI: ${g}
Version: ${v}
Chain ID: ${r}${l?`
Nonce: ${l}`:""}
Issued At: ${s.toISOString()}`;if(a&&(j+=`
Expiration Time: ${a.toISOString()}`),u&&(j+=`
Not Before: ${u.toISOString()}`),d&&(j+=`
Request ID: ${d}`),f){let A=`
Resources:`;for(const E of f){if(!E||typeof E!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${E}`);A+=`
- ${E}`}j+=A}return`${S}
${j}`}class Mt extends Error{constructor({message:t,code:r,cause:n,name:a}){var s;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=a??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class hh extends Mt{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function i8({error:e,options:t}){var r,n,a;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Mt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Mt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Mt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=s.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Mt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Mt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Mt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new Mt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Mt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(QA(l)){if(s.rp.id!==l)return new Mt({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Mt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Mt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function s8({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Mt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Mt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(QA(n)){if(r.rpId!==n)return new Mt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Mt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class o8{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const l8=new o8;function c8(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=wl(e,["challenge","user","excludeCredentials"]),s=al(t).buffer,l=Object.assign(Object.assign({},r),{id:al(r.id).buffer}),u=Object.assign(Object.assign({},a),{challenge:s,user:l});if(n&&n.length>0){u.excludeCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const f=n[d];u.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:al(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function u8(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=wl(e,["challenge","allowCredentials"]),a=al(t).buffer,s=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];s.allowCredentials[l]=Object.assign(Object.assign({},u),{id:al(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function d8(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ts(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ts(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function f8(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ts(new Uint8Array(a.authenticatorData)),clientDataJSON:Ts(new Uint8Array(a.clientDataJSON)),signature:Ts(new Uint8Array(a.signature)),userHandle:a.userHandle?Ts(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function QA(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function z2(){var e,t;return!!(sr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function h8(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new hh("Browser returned unexpected credential type",t)}:{data:null,error:new hh("Empty credential response",t)}}catch(t){return{data:null,error:i8({error:t,options:e})}}}async function m8(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new hh("Browser returned unexpected credential type",t)}:{data:null,error:new hh("Empty credential response",t)}}catch(t){return{data:null,error:s8({error:t,options:e})}}}const p8={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},g8={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function mh(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const s in a){const l=a[s];if(l!==void 0)if(Array.isArray(l))n[s]=l;else if(r(l))n[s]=l;else if(t(l)){const u=n[s];t(u)?n[s]=mh(u,l):n[s]=mh(l)}else n[s]=l}return n}function v8(e,t){return mh(p8,e,t||{})}function y8(e,t){return mh(g8,e,t||{})}class b8{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},s){try{const{data:l,error:u}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!l)return{data:null,error:u};const d=a??l8.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:f}=l.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${n}`),f.displayName||(f.displayName=f.name)}switch(l.webauthn.type){case"create":{const f=v8(l.webauthn.credential_options.publicKey,s?.create),{data:p,error:g}=await h8({publicKey:f,signal:d});return p?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:g}}case"request":{const f=y8(l.webauthn.credential_options.publicKey,s?.request),{data:p,error:g}=await m8(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:f,signal:d}));return p?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:g}}}}catch(l){return ke(l)?{data:null,error:l}:{data:null,error:new zi("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},s){if(!r)return{data:null,error:new ul("rpId is required for WebAuthn authentication")};try{if(!z2())return{data:null,error:new zi("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:s});if(!l)return{data:null,error:u};const{webauthn:d}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:d.type,rpId:r,rpOrigins:n,credential_response:d.credential_response}})}catch(l){return ke(l)?{data:null,error:l}:{data:null,error:new zi("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},s){if(!r)return{data:null,error:new ul("rpId is required for WebAuthn registration")};try{if(!z2())return{data:null,error:new zi("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(p=>{var g;return(g=p.data)===null||g===void 0?void 0:g.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===t&&v.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:u};const{data:d,error:f}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:s});return d?this._verify({factorId:l.id,challengeId:d.challengeId,webauthn:{rpId:r,rpOrigins:n,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(l){return ke(l)?{data:null,error:l}:{data:null,error:new zi("Unexpected error in register",l)}}}}t8();const x8={url:xI,storageKey:wI,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:_I,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function U2(e,t,r){return await r()}const Ko={};let mx=class Fy{get jwks(){var t,r;return(r=(t=Ko[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Ko[this.storageKey]=Object.assign(Object.assign({},Ko[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Ko[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ko[this.storageKey]=Object.assign(Object.assign({},Ko[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},x8),t);if(this.storageKey=s.storageKey,this.instanceID=(r=Fy.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Fy.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&sr()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new fx({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=YA(s.fetch),this.lock=s.lock||U2,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:this.persistSession&&sr()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=XA:this.lock=U2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new b8(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:GA()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=L2(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=L2(this.memoryStorage)),sr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${BA}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(sr()&&(r=DI(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),sr()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),KA(s)){const d=(t=s.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:l,redirectType:u}=a;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ke(r)?this._returnResult({error:r}):this._returnResult({error:new zi("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const s=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t?.options)===null||a===void 0?void 0:a.captchaToken}},xform:qn}),{data:l,error:u}=s;if(u||!l)return this._returnResult({data:{user:null,session:null},error:u});const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(s){if(ke(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(t){var r,n,a;try{let s;if("email"in t){const{email:p,password:g,options:v}=t;let y=null,_=null;this.flowType==="pkce"&&([y,_]=await Fo(this.storage,this.storageKey)),s=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:p,password:g,data:(r=v?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:y,code_challenge_method:_},xform:qn})}else if("phone"in t){const{phone:p,password:g,options:v}=t;s=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:g,data:(n=v?.data)!==null&&n!==void 0?n:{},channel:(a=v?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:qn})}else throw new Uc("You must provide either an email or phone number and a password");const{data:l,error:u}=s;if(u||!l)return await ar(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(s){if(await ar(this.storage,`${this.storageKey}-code-verifier`),ke(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:l,options:u}=t;r=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:R2})}else if("phone"in t){const{phone:s,password:l,options:u}=t;r=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:R2})}else throw new Uc("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const s=new ws;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(ke(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,s,l,u,d,f,p,g,v;let y,_;if("message"in t)y=t.message,_=t.signature;else{const{chain:k,wallet:S,statement:j,options:A}=t;let E;if(sr())if(typeof S=="object")E=S;else{const R=window;if("ethereum"in R&&typeof R.ethereum=="object"&&"request"in R.ethereum&&typeof R.ethereum.request=="function")E=R.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=S}const P=new URL((r=A?.url)!==null&&r!==void 0?r:window.location.href),O=await E.request({method:"eth_requestAccounts"}).then(R=>R).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!O||O.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const T=JA(O[0]);let C=(n=A?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!C){const R=await E.request({method:"eth_chainId"});C=r8(R)}const D={domain:P.host,address:T,statement:j,uri:P.href,version:"1",chainId:C,nonce:(a=A?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(l=(s=A?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(u=A?.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(d=A?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=A?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(p=A?.signInWithEthereum)===null||p===void 0?void 0:p.resources};y=a8(D),_=await E.request({method:"personal_sign",params:[n8(y),T]})}try{const{data:k,error:S}=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:_},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:qn});if(S)throw S;if(!k||!k.session||!k.user){const j=new ws;return this._returnResult({data:{user:null,session:null},error:j})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:S})}catch(k){if(ke(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async signInWithSolana(t){var r,n,a,s,l,u,d,f,p,g,v,y;let _,k;if("message"in t)_=t.message,k=t.signature;else{const{chain:S,wallet:j,statement:A,options:E}=t;let P;if(sr())if(typeof j=="object")P=j;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))P=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=j}const O=new URL((r=E?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in P&&P.signIn){const T=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E?.signInWithSolana),{version:"1",domain:O.host,uri:O.href}),A?{statement:A}:null));let C;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")C=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)C=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)_=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),k=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${O.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...A?["",A,""]:[""],"Version: 1",`URI: ${O.href}`,`Issued At: ${(a=(n=E?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((s=E?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((l=E?.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((u=E?.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((d=E?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((f=E?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((g=(p=E?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||g===void 0)&&g.length?["Resources",...E.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const T=await P.signMessage(new TextEncoder().encode(_),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=T}}try{const{data:S,error:j}=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:Ts(k)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:qn});if(j)throw j;if(!S||!S.session||!S.user){const A=new ws;return this._returnResult({data:{user:null,session:null},error:A})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:j})}catch(S){if(ke(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(t){const r=await xs(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:s,error:l}=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:qn});if(await ar(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!s||!s.session||!s.user){const u=new ws;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:a??null}),error:l})}catch(s){if(await ar(this.storage,`${this.storageKey}-code-verifier`),ke(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:s,nonce:l}=t,u=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:s,nonce:l,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:qn}),{data:d,error:f}=u;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d||!d.session||!d.user){const p=new ws;return this._returnResult({data:{user:null,session:null},error:p})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:f})}catch(r){if(ke(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,s,l;try{if("email"in t){const{email:u,options:d}=t;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await Fo(this.storage,this.storageKey));const{error:g}=await Ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=d?.data)!==null&&r!==void 0?r:{},create_user:(n=d?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:f,code_challenge_method:p},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in t){const{phone:u,options:d}=t,{data:f,error:p}=await Ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(a=d?.data)!==null&&a!==void 0?a:{},create_user:(s=d?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(l=d?.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:p})}throw new Uc("You must provide either an email or phone number.")}catch(u){if(await ar(this.storage,`${this.storageKey}-code-verifier`),ke(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(t){var r,n;try{let a,s;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:u}=await Ce(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:a,xform:qn});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,f=l.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(a){if(ke(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,s,l;try{let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Fo(this.storage,this.storageKey));const f=await Ce(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:d}),headers:this.headers,xform:WI});return!((s=f.data)===null||s===void 0)&&s.url&&sr()&&!(!((l=t.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(u){if(await ar(this.storage,`${this.storageKey}-code-verifier`),ke(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Br;const{error:a}=await Ce(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(ke(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:s}=t,{error:l}=await Ce(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in t){const{phone:n,type:a,options:s}=t,{data:l,error:u}=await Ce(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l?.message_id},error:u})}throw new Uc("You must provide either an email or phone number and a type")}catch(r){if(ke(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await xs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Ug:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const l=await xs(this.userStorage,this.storageKey+"-user");l?.user?t.user=l.user:t.user=qg()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};t.user=KI(t.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ui}):await this._useSession(async r=>{var n,a,s;const{data:l,error:u}=r;if(u)throw u;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Br}:await Ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0,xform:Ui})})}catch(r){if(ke(r))return VA(r)&&(await this._removeSession(),await ar(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:s}=n;if(s)throw s;if(!a.session)throw new Br;const l=a.session;let u=null,d=null;this.flowType==="pkce"&&t.email!=null&&([u,d]=await Fo(this.storage,this.storageKey));const{data:f,error:p}=await Ce(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:d}),jwt:l.access_token,xform:Ui});if(p)throw p;return l.user=f.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(n){if(await ar(this.storage,`${this.storageKey}-code-verifier`),ke(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Br;const r=Date.now()/1e3;let n=r,a=!0,s=null;const{payload:l}=Bg(t.access_token);if(l.exp&&(n=l.exp,a=n<=r),a){const{data:u,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u)return{data:{user:null,session:null},error:null};s=u}else{const{data:u,error:d}=await this._getUser(t.access_token);if(d)throw d;s={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(ke(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:l,error:u}=r;if(u)throw u;t=(n=l.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new Br;const{data:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ke(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!sr())throw new Bc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Bc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new qy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Bc("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new qy("No code detected.");const{data:A,error:E}=await this._exchangeCodeForSession(t.code);if(E)throw E;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:s,refresh_token:l,expires_in:u,expires_at:d,token_type:f}=t;if(!s||!u||!l||!f)throw new Bc("No session defined in URL");const p=Math.round(Date.now()/1e3),g=parseInt(u);let v=p+g;d&&(v=parseInt(d));const y=v-p;y*1e3<=Wo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${g}s`);const _=v-g;p-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,v,p):p-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,v,p);const{data:k,error:S}=await this._getUser(s);if(S)throw S;const j={provider_token:n,provider_refresh_token:a,access_token:s,expires_in:g,expires_at:v,refresh_token:l,token_type:f,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:j,redirectType:t.type},error:null})}catch(n){if(ke(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await xs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({error:s});const l=(n=a.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:u}=await this.admin.signOut(l,t);if(u&&!(FA(u)&&(u.status===404||u.status===401||u.status===403)))return this._returnResult({error:u})}return t!=="others"&&(await this._removeSession(),await ar(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=PI(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:s},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Fo(this.storage,this.storageKey,!0));try{return await Ce(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(await ar(this.storage,`${this.storageKey}-code-verifier`),ke(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async s=>{var l,u,d,f,p;const{data:g,error:v}=s;if(v)throw v;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Ce(this.fetch,"GET",y,{headers:this.headers,jwt:(p=(f=g.session)===null||f===void 0?void 0:f.access_token)!==null&&p!==void 0?p:void 0})});if(a)throw a;return sr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:t.provider,url:n?.url},error:null})}catch(n){if(ke(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:s}}=r;if(a)throw a;const{options:l,provider:u,token:d,access_token:f,nonce:p}=t,g=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:u,id_token:d,access_token:f,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:qn}),{data:v,error:y}=g;return y?this._returnResult({data:{user:null,session:null},error:y}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new ws}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:y}))}catch(a){if(await ar(this.storage,`${this.storageKey}-code-verifier`),ke(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:l}=r;if(l)throw l;return await Ce(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await $I(async a=>(a>0&&await RI(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Ce(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:qn})),(a,s)=>{const l=200*Math.pow(2,a);return s&&Xf(s)&&Date.now()+l-n<Wo})}catch(n){if(this._debug(r,"error",n),ke(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),sr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await xs(this.storage,this.storageKey);if(a&&this.userStorage){let l=await xs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:a.user},await Xo(this.userStorage,this.storageKey+"-user",l)),a.user=(t=l?.user)!==null&&t!==void 0?t:qg()}else if(a&&!a.user&&!a.user){const l=await xs(this.storage,this.storageKey+"-user");l&&l?.user?(a.user=l.user,await ar(this.storage,this.storageKey+"-user"),await Xo(this.storage,this.storageKey,a)):a.user=qg()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const s=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ug;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Ug}s`),s){if(this.autoRefreshToken&&a.refresh_token){const{error:l}=await this._callRefreshToken(a.refresh_token);l&&(console.error(l),Xf(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(a.access_token);!u&&l?.user?(a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(n,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Br;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new g0;const{data:s,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!s.session)throw new Br;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const u={data:s.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(s){if(this._debug(a,"error",s),ke(s)){const l={data:null,error:s};return Xf(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,r)}catch(d){s.push(d)}});if(await Promise.all(l),s.length>0){for(let u=0;u<s.length;u+=1)console.error(s[u]);throw s[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await ar(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Xo(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const s=D2(a);await Xo(this.storage,this.storageKey,s)}else{const a=D2(r);await Xo(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ar(this.storage,this.storageKey),await ar(this.storage,this.storageKey+"-code-verifier"),await ar(this.storage,this.storageKey+"-user"),this.userStorage&&await ar(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&sr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Wo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Wo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Wo}ms, refresh threshold is ${Uy} ticks`),a<=Uy&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof hx)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!sr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,l]=await Fo(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(l)}`});a.push(u.toString())}if(n?.queryParams){const s=new URLSearchParams(n.queryParams);a.push(s.toString())}return n?.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;return s?this._returnResult({data:null,error:s}):await Ce(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:l}=r;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:d,error:f}=await Ce(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token});return f?this._returnResult({data:null,error:f}):(t.factorType==="totp"&&d.type==="totp"&&(!((a=d?.totp)===null||a===void 0)&&a.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?d8(t.webauthn.credential_response):f8(t.webauthn.credential_response)})}:{code:t.code}),{data:u,error:d}=await Ce(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:d}))})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const l=await Ce(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});if(l.error)return l;const{data:u}=l;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:c8(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:u8(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=r?.factors)!==null&&t!==void 0?t:[])a.all.push(s),s.status==="verified"&&a[s.factor_type].push(s);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Bg(n.access_token);let l=null;s.aal&&(l=s.aal);let u=l;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const f=s.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await Ce(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Br})})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!a)return this._returnResult({data:null,error:new Br});const l=await Ce(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&sr()&&!r?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(n){if(ke(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!a)return this._returnResult({data:null,error:new Br});const l=await Ce(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&sr()&&!r?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(n){if(ke(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await Ce(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Br})})}catch(t){if(ke(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await Ce(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Br})})}catch(r){if(ke(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(u=>u.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(u=>u.kid===t),n&&this.jwks_cached_at+kI>a)return n;const{data:s,error:l}=await Ce(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=a,n=s.keys.find(u=>u.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:y,error:_}=await this.getSession();if(_||!y.session)return this._returnResult({data:null,error:_});n=y.session.access_token}const{header:a,payload:s,signature:l,raw:{header:u,payload:d}}=Bg(n);r?.allowExpired||HI(s.exp);const f=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!f){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:s,header:a,signature:l},error:null}}const p=FI(a.alg),g=await crypto.subtle.importKey("jwk",f,p,!0,["verify"]);if(!await crypto.subtle.verify(p,g,l,TI(`${u}.${d}`)))throw new dh("Invalid JWT signature");return{data:{claims:s,header:a,signature:l},error:null}}catch(n){if(ke(n))return this._returnResult({data:null,error:n});throw n}}};mx.nextInstanceID={};const w8=fx,_8=mx,S8=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:w8,AuthApiError:HA,AuthClient:_8,AuthError:ul,AuthImplicitGrantRedirectError:Bc,AuthInvalidCredentialsError:Uc,AuthInvalidJwtError:dh,AuthInvalidTokenResponseError:ws,AuthPKCEGrantCodeExchangeError:qy,AuthRetryableFetchError:uh,AuthSessionMissingError:Br,AuthUnknownError:zi,AuthWeakPasswordError:Hy,CustomAuthError:ai,GoTrueAdminApi:fx,GoTrueClient:mx,NavigatorLockAcquireTimeoutError:WA,SIGN_OUT_SCOPES:Jf,isAuthApiError:FA,isAuthError:ke,isAuthImplicitGrantRedirectError:KA,isAuthRetryableFetchError:Xf,isAuthSessionMissingError:VA,isAuthWeakPasswordError:jI,lockInternals:Ss,navigatorLock:XA,processLock:e8},Symbol.toStringTag,{value:"Module"})),eT=_u(S8);var B2;function k8(){if(B2)return Tc;B2=1,Object.defineProperty(Tc,"__esModule",{value:!0}),Tc.SupabaseAuthClient=void 0;const e=eT;let t=class extends e.AuthClient{constructor(n){super(n)}};return Tc.SupabaseAuthClient=t,Tc}var q2;function H2(){if(q2)return mf;q2=1,Object.defineProperty(mf,"__esModule",{value:!0});const e=hA,t=bA(),r=NA,n=pI,a=vI(),s=yI(),l=bI(),u=k8();class d{constructor(p,g,v){var y,_,k;this.supabaseUrl=p,this.supabaseKey=g;const S=(0,l.validateSupabaseUrl)(p);if(!g)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",S),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",S),this.storageUrl=new URL("storage/v1",S),this.functionsUrl=new URL("functions/v1",S);const j=`sb-${S.hostname.split(".")[0]}-auth-token`,A={db:a.DEFAULT_DB_OPTIONS,realtime:a.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},a.DEFAULT_AUTH_OPTIONS),{storageKey:j}),global:a.DEFAULT_GLOBAL_OPTIONS},E=(0,l.applySettingDefaults)(v??{},A);this.storageKey=(y=E.auth.storageKey)!==null&&y!==void 0?y:"",this.headers=(_=E.global.headers)!==null&&_!==void 0?_:{},E.accessToken?(this.accessToken=E.accessToken,this.auth=new Proxy({},{get:(P,O)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(O)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((k=E.auth)!==null&&k!==void 0?k:{},this.headers,E.global.fetch),this.fetch=(0,s.fetchWithAuth)(g,this._getAccessToken.bind(this),E.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},E.realtime)),this.accessToken&&this.accessToken().then(P=>this.realtime.setAuth(P)).catch(P=>console.warn("Failed to set initial Realtime auth token:",P)),this.rest=new t.PostgrestClient(new URL("rest/v1",S).href,{headers:this.headers,schema:E.db.schema,fetch:this.fetch}),this.storage=new n.StorageClient(this.storageUrl.href,this.headers,this.fetch,v?.storage),E.accessToken||this._listenForAuthEvents()}get functions(){return new e.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(p){return this.rest.from(p)}schema(p){return this.rest.schema(p)}rpc(p,g={},v={head:!1,get:!1,count:void 0}){return this.rest.rpc(p,g,v)}channel(p,g={config:{}}){return this.realtime.channel(p,g)}getChannels(){return this.realtime.getChannels()}removeChannel(p){return this.realtime.removeChannel(p)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var p,g;if(this.accessToken)return await this.accessToken();const{data:v}=await this.auth.getSession();return(g=(p=v.session)===null||p===void 0?void 0:p.access_token)!==null&&g!==void 0?g:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:p,persistSession:g,detectSessionInUrl:v,storage:y,userStorage:_,storageKey:k,flowType:S,lock:j,debug:A,throwOnError:E},P,O){const T={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new u.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},T),P),storageKey:k,autoRefreshToken:p,persistSession:g,detectSessionInUrl:v,storage:y,userStorage:_,flowType:S,lock:j,debug:A,throwOnError:E,fetch:O,hasCustomAuthorizationHeader:Object.keys(this.headers).some(C=>C.toLowerCase()==="authorization")})}_initRealtimeClient(p){return new r.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},p),{params:Object.assign({apikey:this.supabaseKey},p?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((g,v)=>{this._handleTokenChanged(g,"CLIENT",v?.access_token)})}_handleTokenChanged(p,g,v){(p==="TOKEN_REFRESHED"||p==="SIGNED_IN")&&this.changedAccessToken!==v?(this.changedAccessToken=v,this.realtime.setAuth(v)):p==="SIGNED_OUT"&&(this.realtime.setAuth(),g=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return mf.default=d,mf}var F2;function j8(){return F2||(F2=1,(function(e){var t=$a&&$a.__createBinding||(Object.create?(function(p,g,v,y){y===void 0&&(y=v);var _=Object.getOwnPropertyDescriptor(g,v);(!_||("get"in _?!g.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return g[v]}}),Object.defineProperty(p,y,_)}):(function(p,g,v,y){y===void 0&&(y=v),p[y]=g[v]})),r=$a&&$a.__exportStar||function(p,g){for(var v in p)v!=="default"&&!Object.prototype.hasOwnProperty.call(g,v)&&t(g,p,v)},n=$a&&$a.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(e,"__esModule",{value:!0}),e.createClient=e.SupabaseClient=e.FunctionRegion=e.FunctionsError=e.FunctionsRelayError=e.FunctionsFetchError=e.FunctionsHttpError=e.PostgrestError=void 0;const a=n(H2());r(eT,e);var s=bA();Object.defineProperty(e,"PostgrestError",{enumerable:!0,get:function(){return s.PostgrestError}});var l=hA;Object.defineProperty(e,"FunctionsHttpError",{enumerable:!0,get:function(){return l.FunctionsHttpError}}),Object.defineProperty(e,"FunctionsFetchError",{enumerable:!0,get:function(){return l.FunctionsFetchError}}),Object.defineProperty(e,"FunctionsRelayError",{enumerable:!0,get:function(){return l.FunctionsRelayError}}),Object.defineProperty(e,"FunctionsError",{enumerable:!0,get:function(){return l.FunctionsError}}),Object.defineProperty(e,"FunctionRegion",{enumerable:!0,get:function(){return l.FunctionRegion}}),r(NA,e);var u=H2();Object.defineProperty(e,"SupabaseClient",{enumerable:!0,get:function(){return n(u).default}});const d=(p,g,v)=>new a.default(p,g,v);e.createClient=d;function f(){if(typeof window<"u"||typeof process>"u")return!1;const p=process.version;if(p==null)return!1;const g=p.match(/^v(\d+)\./);return g?parseInt(g[1],10)<=18:!1}f()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})($a)),$a}var tT=j8();const rT=ni(tT),E8=C5({__proto__:null,default:rT},[tT]),{PostgrestError:Nle,FunctionsHttpError:Ole,FunctionsFetchError:Ale,FunctionsRelayError:Tle,FunctionsError:Cle,FunctionRegion:Ple,SupabaseClient:Dle,createClient:nT,GoTrueAdminApi:Mle,GoTrueClient:Rle,AuthAdminApi:$le,AuthClient:Lle,navigatorLock:Ile,NavigatorLockAcquireTimeoutError:zle,lockInternals:Ule,processLock:Ble,SIGN_OUT_SCOPES:qle,AuthError:Hle,AuthApiError:Fle,AuthUnknownError:Vle,CustomAuthError:Kle,AuthSessionMissingError:Zle,AuthInvalidTokenResponseError:Gle,AuthInvalidCredentialsError:Yle,AuthImplicitGrantRedirectError:Wle,AuthPKCEGrantCodeExchangeError:Xle,AuthRetryableFetchError:Jle,AuthWeakPasswordError:Qle,AuthInvalidJwtError:ece,isAuthError:tce,isAuthApiError:rce,isAuthSessionMissingError:nce,isAuthImplicitGrantRedirectError:ace,isAuthRetryableFetchError:ice,isAuthWeakPasswordError:sce,RealtimePresence:oce,RealtimeChannel:lce,RealtimeClient:cce,REALTIME_LISTEN_TYPES:uce,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:dce,REALTIME_PRESENCE_LISTEN_EVENTS:fce,REALTIME_SUBSCRIBE_STATES:hce,REALTIME_CHANNEL_STATES:mce}=rT||E8,N8="https://jbedxxdpqtmprixfxgos.supabase.co",O8="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpiZWR4eGRwcXRtcHJpeGZ4Z29zIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU0NjQxODcsImV4cCI6MjA4MTA0MDE4N30.U-3j_SAvrno9vMAVCsa2RHrmYFs0wLfyYka-Ax0TUQ4",aT=N8,iT=O8;console.warn("Using Fallback Supabase Keys. Please set VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY in your .env file.");const Re=nT(aT,iT),sT=x.createContext();function A8({children:e}){const[t,r]=x.useState(()=>{try{const y=localStorage.getItem("ubp_session_user");return y?JSON.parse(y):null}catch{return null}}),[n,a]=x.useState(()=>localStorage.getItem("ubp_user_role")||null),[s,l]=x.useState(()=>!localStorage.getItem("ubp_session_user")),u=async y=>{if(!y){a(null),localStorage.removeItem("ubp_user_role");return}try{const{data:_,error:k}=await Re.from("user_roles").select("role").eq("email",y).maybeSingle();if(k){k.code!=="42P01"&&console.error("Error fetching role:",k),a("viewer");return}const S=_?.role||"viewer";a(S),localStorage.setItem("ubp_user_role",S)}catch(_){console.error("Unexpected error fetching role:",_),a("viewer")}};x.useEffect(()=>{let y=!0;Re.auth.getSession().then(({data:{session:k}})=>{if(!y)return;const S=k?.user??null;r(S),S?(localStorage.setItem("ubp_session_user",JSON.stringify(S)),u(S.email)):(localStorage.removeItem("ubp_session_user"),localStorage.removeItem("ubp_user_role"),l(!1))});const{data:{subscription:_}}=Re.auth.onAuthStateChange((k,S)=>{if(!y)return;const j=S?.user??null;r(j),j?(localStorage.setItem("ubp_session_user",JSON.stringify(j)),u(j.email)):(a(null),localStorage.removeItem("ubp_user_role"),localStorage.removeItem("ubp_session_user"),l(!1))});return()=>{y=!1,_.unsubscribe()}},[]);const v={user:t,userRole:n,signIn:async(y,_)=>{const{error:k}=await Re.auth.signInWithPassword({email:y,password:_});if(k)throw k},signUp:async(y,_)=>{const{data:k,error:S}=await Re.auth.signUp({email:y,password:_,options:{emailRedirectTo:window.location.origin}});if(S)throw S;return k},signOut:async()=>{const{error:y}=await Re.auth.signOut();if(y)throw y},resendVerificationEmail:async y=>{const{error:_}=await Re.auth.resend({type:"signup",email:y,options:{emailRedirectTo:window.location.origin}});if(_)throw _},loading:s};return m.jsx(sT.Provider,{value:v,children:!s&&e})}function Tr(){return x.useContext(sT)}const v0="/UBP-Scheduler-V2/assets/ubp_logo_v4-BJtcTMQd.png";function T8({isOpen:e,onClose:t}){const{signIn:r}=Tr(),[n,a]=x.useState(""),[s,l]=x.useState(""),[u,d]=x.useState(null),[f,p]=x.useState(!1);if(!e)return null;const g=async v=>{v.preventDefault(),d(null),p(!0);try{await r(n,s),t()}catch(y){d(y.message)}finally{p(!1)}};return m.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4 transition-all",children:m.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden relative",children:[m.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-500 hover:text-white transition-colors",children:m.jsx(Gs,{className:"h-6 w-6"})}),m.jsxs("div",{className:"p-8",children:[m.jsx("div",{className:"flex justify-center mb-6",children:m.jsx("div",{className:"h-20 w-20 bg-white rounded-full shadow-2xl shadow-blue-500/20 flex items-center justify-center overflow-hidden",children:m.jsx("img",{src:v0,alt:"UBP",className:"h-full w-full object-cover transform scale-105"})})}),m.jsx("h2",{className:"text-2xl font-bold text-white mb-2 text-center",children:"Welcome Back"}),m.jsx("p",{className:"text-gray-400 text-sm mb-6 text-center",children:"Sign in to access your production schedule."}),u&&m.jsx("div",{className:"p-3 rounded-lg mb-4 text-sm font-medium border bg-red-900/30 text-red-300 border-red-800",children:u}),m.jsxs("form",{onSubmit:g,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Email"}),m.jsx("input",{type:"email",required:!0,value:n,onChange:v=>a(v.target.value),className:"mt-1 block w-full rounded-lg bg-gray-800 border-gray-700 text-white placeholder-gray-500 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2.5 border transition-colors",placeholder:"name@company.com"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Password"}),m.jsx("input",{type:"password",required:!0,value:s,onChange:v=>l(v.target.value),className:"mt-1 block w-full rounded-lg bg-gray-800 border-gray-700 text-white placeholder-gray-500 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2.5 border transition-colors",placeholder:""})]}),m.jsx("button",{type:"submit",disabled:f,className:"w-full bg-blue-600 text-white rounded-lg py-2.5 font-bold hover:bg-blue-500 transition-all disabled:opacity-50 shadow-lg shadow-blue-900/20",children:f?"Processing...":"Sign In"})]}),m.jsx("div",{className:"mt-6 text-center text-sm text-gray-500",children:m.jsx("span",{className:"italic",children:"Authorized personnel only."})})]})]})})}function C8({onOpenSettings:e,isSaving:t,saveError:r,activeTab:n,setActiveTab:a}){const{user:s,userRole:l,signOut:u}=Tr(),[d,f]=x.useState(!1),[p,g]=x.useState(navigator.onLine),v=["admin","planner"].includes(l||"admin");x.useEffect(()=>{const _=()=>g(!0),k=()=>g(!1);return window.addEventListener("online",_),window.addEventListener("offline",k),()=>{window.removeEventListener("online",_),window.removeEventListener("offline",k)}},[]);const y=({id:_,label:k,icon:S,colorClass:j,activeClass:A})=>m.jsxs("button",{onClick:()=>a(_),className:`relative flex-1 flex justify-center items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-bold transition-all duration-200 group ${n===_?`bg-slate-100 dark:bg-slate-800 ${A} shadow-sm ring-1 ring-black/5 dark:ring-white/10`:"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-800/50"}`,children:[m.jsx(S,{className:`w-3.5 h-3.5 transition-transform ${n===_?"scale-110":"group-hover:scale-110"}`}),m.jsx("span",{children:k}),n===_&&m.jsx("div",{className:`absolute inset-0 rounded-lg ring-1 ring-inset ${j} opacity-20`})]});return m.jsxs("header",{className:"bg-white/90 dark:bg-slate-900/90 backdrop-blur-md border-b border-slate-200 dark:border-slate-800 shadow-sm relative z-30 transition-colors duration-200 sticky top-0",children:[m.jsx(T8,{isOpen:d,onClose:()=>f(!1)}),m.jsxs("div",{className:"max-w-[1920px] mx-auto px-4 lg:px-6 h-16 flex justify-between items-center gap-4",children:[m.jsxs("div",{className:"flex items-center gap-3 w-[240px] flex-shrink-0",children:[m.jsx("div",{className:"h-9 w-9 bg-white rounded-full shadow-md shadow-blue-500/10 ring-1 ring-slate-100 dark:ring-0 flex items-center justify-center overflow-hidden hover:scale-105 transition-transform",children:m.jsx("img",{src:v0,alt:"UBP",className:"h-[90%] w-[90%] object-contain"})}),m.jsxs("div",{children:[m.jsxs("h1",{className:"text-sm font-bold text-slate-900 dark:text-white leading-none",children:["Beverage ",m.jsx("span",{className:"opacity-90 font-light text-slate-600 dark:text-slate-300",children:"Scheduler"})]}),m.jsx("p",{className:"text-[9px] text-slate-500 dark:text-slate-400 font-bold uppercase tracking-widest opacity-80 scale-90 origin-left",children:"Co-Packer Edition"})]})]}),s&&m.jsx("div",{className:"hidden md:flex flex-1 mx-4",children:m.jsxs("nav",{className:"flex w-full items-center p-1 bg-slate-50/50 dark:bg-slate-800/50 border border-slate-200/50 dark:border-slate-700/50 rounded-xl gap-1 shadow-inner",children:[m.jsx(y,{id:"logistics",label:"Floor Ops",icon:vL,activeClass:"text-emerald-600 dark:text-emerald-400",colorClass:"ring-emerald-500"}),v&&m.jsxs(m.Fragment,{children:[m.jsx(y,{id:"mrp",label:"Materials",icon:lL,activeClass:"text-blue-600 dark:text-blue-400",colorClass:"ring-blue-500"}),m.jsx(y,{id:"scheduler",label:"Scheduler",icon:uL,activeClass:"text-purple-600 dark:text-purple-400",colorClass:"ring-purple-500"}),m.jsx(y,{id:"master",label:"Master Plan",icon:fL,activeClass:"text-amber-600 dark:text-amber-400",colorClass:"ring-amber-500"})]}),m.jsx(y,{id:"products",label:"Products",icon:Gf,activeClass:"text-emerald-600 dark:text-emerald-400",colorClass:"ring-emerald-500"}),m.jsx("div",{className:"w-px h-4 bg-slate-200 dark:bg-slate-700 mx-1"}),m.jsxs("button",{onClick:()=>a("cockpit"),className:`relative flex-1 flex justify-center items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-bold transition-all duration-200 group ${n==="cockpit"?"bg-slate-800 text-white shadow-md ring-1 ring-black/10":"text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-800/50"}`,children:[m.jsx(mL,{className:`w-3.5 h-3.5 transition-transform ${n==="cockpit"?"scale-110":"group-hover:scale-110"}`}),m.jsx("span",{children:"Cockpit"}),n!=="cockpit"&&m.jsx("span",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full animate-pulse ml-0.5"})]})]})}),m.jsxs("div",{className:"flex items-center justify-end gap-3 w-[240px] flex-shrink-0",children:[s&&m.jsx("div",{className:"flex items-center",title:r||"Cloud Synced",children:m.jsx(j$,{className:`h-4 w-4 ${t?"text-blue-500 animate-pulse":r?"text-rose-500":p?"text-emerald-500":"text-slate-400"}`})}),m.jsx("div",{className:"w-px h-5 bg-slate-200 dark:bg-slate-700 hidden md:block"}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("button",{onClick:()=>window.print(),className:"p-1.5 text-slate-400 hover:text-slate-700 dark:hover:text-white transition-colors",title:"Print View",children:m.jsx(V$,{className:"h-4 w-4"})}),m.jsx("button",{onClick:e,className:"p-1.5 text-slate-400 hover:text-slate-700 dark:hover:text-white transition-colors group",title:"Settings",children:m.jsx(N$,{className:"h-4 w-4 group-hover:rotate-90 transition-transform"})})]}),s?m.jsxs("div",{className:"flex items-center gap-2 pl-2 border-l border-slate-200 dark:border-slate-700",children:[m.jsx("div",{className:"h-7 w-7 rounded-full bg-indigo-100 dark:bg-indigo-900/50 border border-indigo-200 dark:border-indigo-700 flex items-center justify-center text-xs font-bold text-indigo-700 dark:text-indigo-300",children:s.email?.[0].toUpperCase()}),m.jsx("button",{onClick:u,className:"text-slate-400 hover:text-rose-500 transition-colors",title:"Sign Out",children:m.jsx(o$,{className:"h-4 w-4"})})]}):m.jsx("button",{onClick:()=>f(!0),className:"text-sm font-bold text-blue-600 hover:text-blue-700",children:"Sign In"})]})]})]})}const Sf=async(e,t,r={})=>{const{data:n,error:a}=await Re.from("products").select("id").eq("user_id",e).eq("name",t).limit(1).maybeSingle();if(a)throw a;if(n)return n.id;const{data:s,error:l}=await Re.from("products").insert({user_id:e,name:t,bottles_per_case:r.bottles_per_case||12,bottles_per_truck:r.bottles_per_truck||2e4,cases_per_pallet:r.cases_per_pallet||100}).select("id").single();if(l)throw console.error("Error creating product:",l),l;return s.id},P8=async(e,t)=>{const{data:r,error:n}=await Re.from("products").select("*").eq("user_id",e).eq("name",t).limit(1).maybeSingle();if(n)throw n;return r};function ce(e,t,r){function n(u,d){if(u._zod||Object.defineProperty(u,"_zod",{value:{def:d,constr:l,traits:new Set},enumerable:!1}),u._zod.traits.has(e))return;u._zod.traits.add(e),t(u,d);const f=l.prototype,p=Object.keys(f);for(let g=0;g<p.length;g++){const v=p[g];v in u||(u[v]=f[v].bind(u))}}const a=r?.Parent??Object;class s extends a{}Object.defineProperty(s,"name",{value:e});function l(u){var d;const f=r?.Parent?new s:this;n(f,u),(d=f._zod).deferred??(d.deferred=[]);for(const p of f._zod.deferred)p();return f}return Object.defineProperty(l,"init",{value:n}),Object.defineProperty(l,Symbol.hasInstance,{value:u=>r?.Parent&&u instanceof r.Parent?!0:u?._zod?.traits?.has(e)}),Object.defineProperty(l,"name",{value:e}),l}class il extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class oT extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const lT={};function Us(e){return lT}function cT(e){const t=Object.values(e).filter(n=>typeof n=="number");return Object.entries(e).filter(([n,a])=>t.indexOf(+n)===-1).map(([n,a])=>a)}function Vy(e,t){return typeof t=="bigint"?t.toString():t}function px(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function gx(e){return e==null}function vx(e){const t=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}function D8(e,t){const r=(e.toString().split(".")[1]||"").length,n=t.toString();let a=(n.split(".")[1]||"").length;if(a===0&&/\d?e-\d?/.test(n)){const d=n.match(/\d?e-(\d?)/);d?.[1]&&(a=Number.parseInt(d[1]))}const s=r>a?r:a,l=Number.parseInt(e.toFixed(s).replace(".","")),u=Number.parseInt(t.toFixed(s).replace(".",""));return l%u/10**s}const V2=Symbol("evaluating");function it(e,t,r){let n;Object.defineProperty(e,t,{get(){if(n!==V2)return n===void 0&&(n=V2,n=r()),n},set(a){Object.defineProperty(e,t,{value:a})},configurable:!0})}function Ys(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function Ws(...e){const t={};for(const r of e){const n=Object.getOwnPropertyDescriptors(r);Object.assign(t,n)}return Object.defineProperties({},t)}function K2(e){return JSON.stringify(e)}function M8(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const uT="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function ph(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const R8=px(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function nu(e){if(ph(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const r=t.prototype;return!(ph(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function dT(e){return nu(e)?{...e}:Array.isArray(e)?[...e]:e}const $8=new Set(["string","number","symbol"]);function y0(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Wi(e,t,r){const n=new e._zod.constr(t??e._zod.def);return(!t||r?.parent)&&(n._zod.parent=e),n}function Ae(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function L8(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const I8={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function z8(e,t){const r=e._zod.def,n=Ws(e._zod.def,{get shape(){const a={};for(const s in t){if(!(s in r.shape))throw new Error(`Unrecognized key: "${s}"`);t[s]&&(a[s]=r.shape[s])}return Ys(this,"shape",a),a},checks:[]});return Wi(e,n)}function U8(e,t){const r=e._zod.def,n=Ws(e._zod.def,{get shape(){const a={...e._zod.def.shape};for(const s in t){if(!(s in r.shape))throw new Error(`Unrecognized key: "${s}"`);t[s]&&delete a[s]}return Ys(this,"shape",a),a},checks:[]});return Wi(e,n)}function B8(e,t){if(!nu(t))throw new Error("Invalid input to extend: expected a plain object");const r=e._zod.def.checks;if(r&&r.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const a=Ws(e._zod.def,{get shape(){const s={...e._zod.def.shape,...t};return Ys(this,"shape",s),s},checks:[]});return Wi(e,a)}function q8(e,t){if(!nu(t))throw new Error("Invalid input to safeExtend: expected a plain object");const r={...e._zod.def,get shape(){const n={...e._zod.def.shape,...t};return Ys(this,"shape",n),n},checks:e._zod.def.checks};return Wi(e,r)}function H8(e,t){const r=Ws(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return Ys(this,"shape",n),n},get catchall(){return t._zod.def.catchall},checks:[]});return Wi(e,r)}function F8(e,t,r){const n=Ws(t._zod.def,{get shape(){const a=t._zod.def.shape,s={...a};if(r)for(const l in r){if(!(l in a))throw new Error(`Unrecognized key: "${l}"`);r[l]&&(s[l]=e?new e({type:"optional",innerType:a[l]}):a[l])}else for(const l in a)s[l]=e?new e({type:"optional",innerType:a[l]}):a[l];return Ys(this,"shape",s),s},checks:[]});return Wi(t,n)}function V8(e,t,r){const n=Ws(t._zod.def,{get shape(){const a=t._zod.def.shape,s={...a};if(r)for(const l in r){if(!(l in s))throw new Error(`Unrecognized key: "${l}"`);r[l]&&(s[l]=new e({type:"nonoptional",innerType:a[l]}))}else for(const l in a)s[l]=new e({type:"nonoptional",innerType:a[l]});return Ys(this,"shape",s),s},checks:[]});return Wi(t,n)}function Qo(e,t=0){if(e.aborted===!0)return!0;for(let r=t;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}function fT(e,t){return t.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(e),r})}function kf(e){return typeof e=="string"?e:e?.message}function Bs(e,t,r){const n={...e,path:e.path??[]};if(!e.message){const a=kf(e.inst?._zod.def?.error?.(e))??kf(t?.error?.(e))??kf(r.customError?.(e))??kf(r.localeError?.(e))??"Invalid input";n.message=a}return delete n.inst,delete n.continue,t?.reportInput||delete n.input,n}function yx(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function au(...e){const[t,r,n]=e;return typeof t=="string"?{message:t,code:"custom",input:r,inst:n}:{...t}}const hT=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,Vy,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},mT=ce("$ZodError",hT),pT=ce("$ZodError",hT,{Parent:Error});function K8(e,t=r=>r.message){const r={},n=[];for(const a of e.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(t(a))):n.push(t(a));return{formErrors:n,fieldErrors:r}}function Z8(e,t=r=>r.message){const r={_errors:[]},n=a=>{for(const s of a.issues)if(s.code==="invalid_union"&&s.errors.length)s.errors.map(l=>n({issues:l}));else if(s.code==="invalid_key")n({issues:s.issues});else if(s.code==="invalid_element")n({issues:s.issues});else if(s.path.length===0)r._errors.push(t(s));else{let l=r,u=0;for(;u<s.path.length;){const d=s.path[u];u===s.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(t(s))):l[d]=l[d]||{_errors:[]},l=l[d],u++}}};return n(e),r}const bx=e=>(t,r,n,a)=>{const s=n?Object.assign(n,{async:!1}):{async:!1},l=t._zod.run({value:r,issues:[]},s);if(l instanceof Promise)throw new il;if(l.issues.length){const u=new(a?.Err??e)(l.issues.map(d=>Bs(d,s,Us())));throw uT(u,a?.callee),u}return l.value},xx=e=>async(t,r,n,a)=>{const s=n?Object.assign(n,{async:!0}):{async:!0};let l=t._zod.run({value:r,issues:[]},s);if(l instanceof Promise&&(l=await l),l.issues.length){const u=new(a?.Err??e)(l.issues.map(d=>Bs(d,s,Us())));throw uT(u,a?.callee),u}return l.value},b0=e=>(t,r,n)=>{const a=n?{...n,async:!1}:{async:!1},s=t._zod.run({value:r,issues:[]},a);if(s instanceof Promise)throw new il;return s.issues.length?{success:!1,error:new(e??mT)(s.issues.map(l=>Bs(l,a,Us())))}:{success:!0,data:s.value}},G8=b0(pT),x0=e=>async(t,r,n)=>{const a=n?Object.assign(n,{async:!0}):{async:!0};let s=t._zod.run({value:r,issues:[]},a);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new e(s.issues.map(l=>Bs(l,a,Us())))}:{success:!0,data:s.value}},Y8=x0(pT),W8=e=>(t,r,n)=>{const a=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return bx(e)(t,r,a)},X8=e=>(t,r,n)=>bx(e)(t,r,n),J8=e=>async(t,r,n)=>{const a=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return xx(e)(t,r,a)},Q8=e=>async(t,r,n)=>xx(e)(t,r,n),e7=e=>(t,r,n)=>{const a=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return b0(e)(t,r,a)},t7=e=>(t,r,n)=>b0(e)(t,r,n),r7=e=>async(t,r,n)=>{const a=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return x0(e)(t,r,a)},n7=e=>async(t,r,n)=>x0(e)(t,r,n),a7=/^[cC][^\s-]{8,}$/,i7=/^[0-9a-z]+$/,s7=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,o7=/^[0-9a-vA-V]{20}$/,l7=/^[A-Za-z0-9]{27}$/,c7=/^[a-zA-Z0-9_-]{21}$/,u7=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,d7=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Z2=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,f7=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,h7="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function m7(){return new RegExp(h7,"u")}const p7=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,g7=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,v7=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,y7=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,b7=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,gT=/^[A-Za-z0-9_-]*$/,x7=/^\+(?:[0-9]){6,14}[0-9]$/,vT="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",w7=new RegExp(`^${vT}$`);function yT(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function _7(e){return new RegExp(`^${yT(e)}$`)}function S7(e){const t=yT({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const n=`${t}(?:${r.join("|")})`;return new RegExp(`^${vT}T(?:${n})$`)}const k7=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},j7=/^-?\d+$/,E7=/^-?\d+(?:\.\d+)?/,N7=/^(?:true|false)$/i,O7=/^[^A-Z]*$/,A7=/^[^a-z]*$/,Kr=ce("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),bT={number:"number",bigint:"bigint",object:"date"},xT=ce("$ZodCheckLessThan",(e,t)=>{Kr.init(e,t);const r=bT[typeof t.value];e._zod.onattach.push(n=>{const a=n._zod.bag,s=(t.inclusive?a.maximum:a.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<s&&(t.inclusive?a.maximum=t.value:a.exclusiveMaximum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value<=t.value:n.value<t.value)||n.issues.push({origin:r,code:"too_big",maximum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),wT=ce("$ZodCheckGreaterThan",(e,t)=>{Kr.init(e,t);const r=bT[typeof t.value];e._zod.onattach.push(n=>{const a=n._zod.bag,s=(t.inclusive?a.minimum:a.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>s&&(t.inclusive?a.minimum=t.value:a.exclusiveMinimum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value>=t.value:n.value>t.value)||n.issues.push({origin:r,code:"too_small",minimum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),T7=ce("$ZodCheckMultipleOf",(e,t)=>{Kr.init(e,t),e._zod.onattach.push(r=>{var n;(n=r._zod.bag).multipleOf??(n.multipleOf=t.value)}),e._zod.check=r=>{if(typeof r.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%t.value===BigInt(0):D8(r.value,t.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:e,continue:!t.abort})}}),C7=ce("$ZodCheckNumberFormat",(e,t)=>{Kr.init(e,t),t.format=t.format||"float64";const r=t.format?.includes("int"),n=r?"int":"number",[a,s]=I8[t.format];e._zod.onattach.push(l=>{const u=l._zod.bag;u.format=t.format,u.minimum=a,u.maximum=s,r&&(u.pattern=j7)}),e._zod.check=l=>{const u=l.value;if(r){if(!Number.isInteger(u)){l.issues.push({expected:n,format:t.format,code:"invalid_type",continue:!1,input:u,inst:e});return}if(!Number.isSafeInteger(u)){u>0?l.issues.push({input:u,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort}):l.issues.push({input:u,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort});return}}u<a&&l.issues.push({origin:"number",input:u,code:"too_small",minimum:a,inclusive:!0,inst:e,continue:!t.abort}),u>s&&l.issues.push({origin:"number",input:u,code:"too_big",maximum:s,inst:e})}}),P7=ce("$ZodCheckMaxLength",(e,t)=>{var r;Kr.init(e,t),(r=e._zod.def).when??(r.when=n=>{const a=n.value;return!gx(a)&&a.length!==void 0}),e._zod.onattach.push(n=>{const a=n._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<a&&(n._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{const a=n.value;if(a.length<=t.maximum)return;const l=yx(a);n.issues.push({origin:l,code:"too_big",maximum:t.maximum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),D7=ce("$ZodCheckMinLength",(e,t)=>{var r;Kr.init(e,t),(r=e._zod.def).when??(r.when=n=>{const a=n.value;return!gx(a)&&a.length!==void 0}),e._zod.onattach.push(n=>{const a=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>a&&(n._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{const a=n.value;if(a.length>=t.minimum)return;const l=yx(a);n.issues.push({origin:l,code:"too_small",minimum:t.minimum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),M7=ce("$ZodCheckLengthEquals",(e,t)=>{var r;Kr.init(e,t),(r=e._zod.def).when??(r.when=n=>{const a=n.value;return!gx(a)&&a.length!==void 0}),e._zod.onattach.push(n=>{const a=n._zod.bag;a.minimum=t.length,a.maximum=t.length,a.length=t.length}),e._zod.check=n=>{const a=n.value,s=a.length;if(s===t.length)return;const l=yx(a),u=s>t.length;n.issues.push({origin:l,...u?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),w0=ce("$ZodCheckStringFormat",(e,t)=>{var r,n;Kr.init(e,t),e._zod.onattach.push(a=>{const s=a._zod.bag;s.format=t.format,t.pattern&&(s.patterns??(s.patterns=new Set),s.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=a=>{t.pattern.lastIndex=0,!t.pattern.test(a.value)&&a.issues.push({origin:"string",code:"invalid_format",format:t.format,input:a.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(n=e._zod).check??(n.check=()=>{})}),R7=ce("$ZodCheckRegex",(e,t)=>{w0.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),$7=ce("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=O7),w0.init(e,t)}),L7=ce("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=A7),w0.init(e,t)}),I7=ce("$ZodCheckIncludes",(e,t)=>{Kr.init(e,t);const r=y0(t.includes),n=new RegExp(typeof t.position=="number"?`^.{${t.position}}${r}`:r);t.pattern=n,e._zod.onattach.push(a=>{const s=a._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),e._zod.check=a=>{a.value.includes(t.includes,t.position)||a.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:a.value,inst:e,continue:!t.abort})}}),z7=ce("$ZodCheckStartsWith",(e,t)=>{Kr.init(e,t);const r=new RegExp(`^${y0(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const a=n._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(r)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),U7=ce("$ZodCheckEndsWith",(e,t)=>{Kr.init(e,t);const r=new RegExp(`.*${y0(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const a=n._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(r)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}}),B7=ce("$ZodCheckOverwrite",(e,t)=>{Kr.init(e,t),e._zod.check=r=>{r.value=t.tx(r.value)}});class q7{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const n=t.split(`
`).filter(l=>l),a=Math.min(...n.map(l=>l.length-l.trimStart().length)),s=n.map(l=>l.slice(a)).map(l=>" ".repeat(this.indent*2)+l);for(const l of s)this.content.push(l)}compile(){const t=Function,r=this?.args,a=[...(this?.content??[""]).map(s=>`  ${s}`)];return new t(...r,a.join(`
`))}}const H7={major:4,minor:2,patch:1},St=ce("$ZodType",(e,t)=>{var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=H7;const n=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&n.unshift(e);for(const a of n)for(const s of a._zod.onattach)s(e);if(n.length===0)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const a=(l,u,d)=>{let f=Qo(l),p;for(const g of u){if(g._zod.def.when){if(!g._zod.def.when(l))continue}else if(f)continue;const v=l.issues.length,y=g._zod.check(l);if(y instanceof Promise&&d?.async===!1)throw new il;if(p||y instanceof Promise)p=(p??Promise.resolve()).then(async()=>{await y,l.issues.length!==v&&(f||(f=Qo(l,v)))});else{if(l.issues.length===v)continue;f||(f=Qo(l,v))}}return p?p.then(()=>l):l},s=(l,u,d)=>{if(Qo(l))return l.aborted=!0,l;const f=a(u,n,d);if(f instanceof Promise){if(d.async===!1)throw new il;return f.then(p=>e._zod.parse(p,d))}return e._zod.parse(f,d)};e._zod.run=(l,u)=>{if(u.skipChecks)return e._zod.parse(l,u);if(u.direction==="backward"){const f=e._zod.parse({value:l.value,issues:[]},{...u,skipChecks:!0});return f instanceof Promise?f.then(p=>s(p,l,u)):s(f,l,u)}const d=e._zod.parse(l,u);if(d instanceof Promise){if(u.async===!1)throw new il;return d.then(f=>a(f,n,u))}return a(d,n,u)}}e["~standard"]={validate:a=>{try{const s=G8(e,a);return s.success?{value:s.data}:{issues:s.error?.issues}}catch{return Y8(e,a).then(l=>l.success?{value:l.data}:{issues:l.error?.issues})}},vendor:"zod",version:1}}),wx=ce("$ZodString",(e,t)=>{St.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??k7(e._zod.bag),e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),gt=ce("$ZodStringFormat",(e,t)=>{w0.init(e,t),wx.init(e,t)}),F7=ce("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=d7),gt.init(e,t)}),V7=ce("$ZodUUID",(e,t)=>{if(t.version){const n={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(n===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=Z2(n))}else t.pattern??(t.pattern=Z2());gt.init(e,t)}),K7=ce("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=f7),gt.init(e,t)}),Z7=ce("$ZodURL",(e,t)=>{gt.init(e,t),e._zod.check=r=>{try{const n=r.value.trim(),a=new URL(n);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(a.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(a.protocol.endsWith(":")?a.protocol.slice(0,-1):a.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),t.normalize?r.value=a.href:r.value=n;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),G7=ce("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=m7()),gt.init(e,t)}),Y7=ce("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=c7),gt.init(e,t)}),W7=ce("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=a7),gt.init(e,t)}),X7=ce("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=i7),gt.init(e,t)}),J7=ce("$ZodULID",(e,t)=>{t.pattern??(t.pattern=s7),gt.init(e,t)}),Q7=ce("$ZodXID",(e,t)=>{t.pattern??(t.pattern=o7),gt.init(e,t)}),ez=ce("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=l7),gt.init(e,t)}),tz=ce("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=S7(t)),gt.init(e,t)}),rz=ce("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=w7),gt.init(e,t)}),nz=ce("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=_7(t)),gt.init(e,t)}),az=ce("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=u7),gt.init(e,t)}),iz=ce("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=p7),gt.init(e,t),e._zod.bag.format="ipv4"}),sz=ce("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=g7),gt.init(e,t),e._zod.bag.format="ipv6",e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),oz=ce("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=v7),gt.init(e,t)}),lz=ce("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=y7),gt.init(e,t),e._zod.check=r=>{const n=r.value.split("/");try{if(n.length!==2)throw new Error;const[a,s]=n;if(!s)throw new Error;const l=Number(s);if(`${l}`!==s)throw new Error;if(l<0||l>128)throw new Error;new URL(`http://[${a}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function _T(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const cz=ce("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=b7),gt.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=r=>{_T(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function uz(e){if(!gT.test(e))return!1;const t=e.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=t.padEnd(Math.ceil(t.length/4)*4,"=");return _T(r)}const dz=ce("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=gT),gt.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=r=>{uz(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),fz=ce("$ZodE164",(e,t)=>{t.pattern??(t.pattern=x7),gt.init(e,t)});function hz(e,t=null){try{const r=e.split(".");if(r.length!==3)return!1;const[n]=r;if(!n)return!1;const a=JSON.parse(atob(n));return!("typ"in a&&a?.typ!=="JWT"||!a.alg||t&&(!("alg"in a)||a.alg!==t))}catch{return!1}}const mz=ce("$ZodJWT",(e,t)=>{gt.init(e,t),e._zod.check=r=>{hz(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),ST=ce("$ZodNumber",(e,t)=>{St.init(e,t),e._zod.pattern=e._zod.bag.pattern??E7,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=Number(r.value)}catch{}const a=r.value;if(typeof a=="number"&&!Number.isNaN(a)&&Number.isFinite(a))return r;const s=typeof a=="number"?Number.isNaN(a)?"NaN":Number.isFinite(a)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:a,inst:e,...s?{received:s}:{}}),r}}),pz=ce("$ZodNumberFormat",(e,t)=>{C7.init(e,t),ST.init(e,t)}),gz=ce("$ZodBoolean",(e,t)=>{St.init(e,t),e._zod.pattern=N7,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=!!r.value}catch{}const a=r.value;return typeof a=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:a,inst:e}),r}}),vz=ce("$ZodAny",(e,t)=>{St.init(e,t),e._zod.parse=r=>r}),yz=ce("$ZodUnknown",(e,t)=>{St.init(e,t),e._zod.parse=r=>r}),bz=ce("$ZodNever",(e,t)=>{St.init(e,t),e._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)});function G2(e,t,r){e.issues.length&&t.issues.push(...fT(r,e.issues)),t.value[r]=e.value}const xz=ce("$ZodArray",(e,t)=>{St.init(e,t),e._zod.parse=(r,n)=>{const a=r.value;if(!Array.isArray(a))return r.issues.push({expected:"array",code:"invalid_type",input:a,inst:e}),r;r.value=Array(a.length);const s=[];for(let l=0;l<a.length;l++){const u=a[l],d=t.element._zod.run({value:u,issues:[]},n);d instanceof Promise?s.push(d.then(f=>G2(f,r,l))):G2(d,r,l)}return s.length?Promise.all(s).then(()=>r):r}});function gh(e,t,r,n){e.issues.length&&t.issues.push(...fT(r,e.issues)),e.value===void 0?r in n&&(t.value[r]=void 0):t.value[r]=e.value}function kT(e){const t=Object.keys(e.shape);for(const n of t)if(!e.shape?.[n]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${n}": expected a Zod schema`);const r=L8(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(r)}}function jT(e,t,r,n,a,s){const l=[],u=a.keySet,d=a.catchall._zod,f=d.def.type;for(const p in t){if(u.has(p))continue;if(f==="never"){l.push(p);continue}const g=d.run({value:t[p],issues:[]},n);g instanceof Promise?e.push(g.then(v=>gh(v,r,p,t))):gh(g,r,p,t)}return l.length&&r.issues.push({code:"unrecognized_keys",keys:l,input:t,inst:s}),e.length?Promise.all(e).then(()=>r):r}const wz=ce("$ZodObject",(e,t)=>{if(St.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){const u=t.shape;Object.defineProperty(t,"shape",{get:()=>{const d={...u};return Object.defineProperty(t,"shape",{value:d}),d}})}const n=px(()=>kT(t));it(e._zod,"propValues",()=>{const u=t.shape,d={};for(const f in u){const p=u[f]._zod;if(p.values){d[f]??(d[f]=new Set);for(const g of p.values)d[f].add(g)}}return d});const a=ph,s=t.catchall;let l;e._zod.parse=(u,d)=>{l??(l=n.value);const f=u.value;if(!a(f))return u.issues.push({expected:"object",code:"invalid_type",input:f,inst:e}),u;u.value={};const p=[],g=l.shape;for(const v of l.keys){const _=g[v]._zod.run({value:f[v],issues:[]},d);_ instanceof Promise?p.push(_.then(k=>gh(k,u,v,f))):gh(_,u,v,f)}return s?jT(p,f,u,d,n.value,e):p.length?Promise.all(p).then(()=>u):u}}),_z=ce("$ZodObjectJIT",(e,t)=>{wz.init(e,t);const r=e._zod.parse,n=px(()=>kT(t)),a=v=>{const y=new q7(["shape","payload","ctx"]),_=n.value,k=E=>{const P=K2(E);return`shape[${P}]._zod.run({ value: input[${P}], issues: [] }, ctx)`};y.write("const input = payload.value;");const S=Object.create(null);let j=0;for(const E of _.keys)S[E]=`key_${j++}`;y.write("const newResult = {};");for(const E of _.keys){const P=S[E],O=K2(E);y.write(`const ${P} = ${k(E)};`),y.write(`
        if (${P}.issues.length) {
          payload.issues = payload.issues.concat(${P}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${O}, ...iss.path] : [${O}]
          })));
        }
        
        
        if (${P}.value === undefined) {
          if (${O} in input) {
            newResult[${O}] = undefined;
          }
        } else {
          newResult[${O}] = ${P}.value;
        }
        
      `)}y.write("payload.value = newResult;"),y.write("return payload;");const A=y.compile();return(E,P)=>A(v,E,P)};let s;const l=ph,u=!lT.jitless,f=u&&R8.value,p=t.catchall;let g;e._zod.parse=(v,y)=>{g??(g=n.value);const _=v.value;return l(_)?u&&f&&y?.async===!1&&y.jitless!==!0?(s||(s=a(t.shape)),v=s(v,y),p?jT([],_,v,y,g,e):v):r(v,y):(v.issues.push({expected:"object",code:"invalid_type",input:_,inst:e}),v)}});function Y2(e,t,r,n){for(const s of e)if(s.issues.length===0)return t.value=s.value,t;const a=e.filter(s=>!Qo(s));return a.length===1?(t.value=a[0].value,a[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(s=>s.issues.map(l=>Bs(l,n,Us())))}),t)}const Sz=ce("$ZodUnion",(e,t)=>{St.init(e,t),it(e._zod,"optin",()=>t.options.some(a=>a._zod.optin==="optional")?"optional":void 0),it(e._zod,"optout",()=>t.options.some(a=>a._zod.optout==="optional")?"optional":void 0),it(e._zod,"values",()=>{if(t.options.every(a=>a._zod.values))return new Set(t.options.flatMap(a=>Array.from(a._zod.values)))}),it(e._zod,"pattern",()=>{if(t.options.every(a=>a._zod.pattern)){const a=t.options.map(s=>s._zod.pattern);return new RegExp(`^(${a.map(s=>vx(s.source)).join("|")})$`)}});const r=t.options.length===1,n=t.options[0]._zod.run;e._zod.parse=(a,s)=>{if(r)return n(a,s);let l=!1;const u=[];for(const d of t.options){const f=d._zod.run({value:a.value,issues:[]},s);if(f instanceof Promise)u.push(f),l=!0;else{if(f.issues.length===0)return f;u.push(f)}}return l?Promise.all(u).then(d=>Y2(d,a,e,s)):Y2(u,a,e,s)}}),kz=ce("$ZodIntersection",(e,t)=>{St.init(e,t),e._zod.parse=(r,n)=>{const a=r.value,s=t.left._zod.run({value:a,issues:[]},n),l=t.right._zod.run({value:a,issues:[]},n);return s instanceof Promise||l instanceof Promise?Promise.all([s,l]).then(([d,f])=>W2(r,d,f)):W2(r,s,l)}});function Ky(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(nu(e)&&nu(t)){const r=Object.keys(t),n=Object.keys(e).filter(s=>r.indexOf(s)!==-1),a={...e,...t};for(const s of n){const l=Ky(e[s],t[s]);if(!l.valid)return{valid:!1,mergeErrorPath:[s,...l.mergeErrorPath]};a[s]=l.data}return{valid:!0,data:a}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let n=0;n<e.length;n++){const a=e[n],s=t[n],l=Ky(a,s);if(!l.valid)return{valid:!1,mergeErrorPath:[n,...l.mergeErrorPath]};r.push(l.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function W2(e,t,r){if(t.issues.length&&e.issues.push(...t.issues),r.issues.length&&e.issues.push(...r.issues),Qo(e))return e;const n=Ky(t.value,r.value);if(!n.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(n.mergeErrorPath)}`);return e.value=n.data,e}const jz=ce("$ZodEnum",(e,t)=>{St.init(e,t);const r=cT(t.entries),n=new Set(r);e._zod.values=n,e._zod.pattern=new RegExp(`^(${r.filter(a=>$8.has(typeof a)).map(a=>typeof a=="string"?y0(a):a.toString()).join("|")})$`),e._zod.parse=(a,s)=>{const l=a.value;return n.has(l)||a.issues.push({code:"invalid_value",values:r,input:l,inst:e}),a}}),Ez=ce("$ZodTransform",(e,t)=>{St.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new oT(e.constructor.name);const a=t.transform(r.value,r);if(n.async)return(a instanceof Promise?a:Promise.resolve(a)).then(l=>(r.value=l,r));if(a instanceof Promise)throw new il;return r.value=a,r}});function X2(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const Nz=ce("$ZodOptional",(e,t)=>{St.init(e,t),e._zod.optin="optional",e._zod.optout="optional",it(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),it(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${vx(r.source)})?$`):void 0}),e._zod.parse=(r,n)=>{if(t.innerType._zod.optin==="optional"){const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(s=>X2(s,r.value)):X2(a,r.value)}return r.value===void 0?r:t.innerType._zod.run(r,n)}}),Oz=ce("$ZodNullable",(e,t)=>{St.init(e,t),it(e._zod,"optin",()=>t.innerType._zod.optin),it(e._zod,"optout",()=>t.innerType._zod.optout),it(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${vx(r.source)}|null)$`):void 0}),it(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(r,n)=>r.value===null?r:t.innerType._zod.run(r,n)}),Az=ce("$ZodDefault",(e,t)=>{St.init(e,t),e._zod.optin="optional",it(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);if(r.value===void 0)return r.value=t.defaultValue,r;const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(s=>J2(s,t)):J2(a,t)}});function J2(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const Tz=ce("$ZodPrefault",(e,t)=>{St.init(e,t),e._zod.optin="optional",it(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>(n.direction==="backward"||r.value===void 0&&(r.value=t.defaultValue),t.innerType._zod.run(r,n))}),Cz=ce("$ZodNonOptional",(e,t)=>{St.init(e,t),it(e._zod,"values",()=>{const r=t.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),e._zod.parse=(r,n)=>{const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(s=>Q2(s,e)):Q2(a,e)}});function Q2(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const Pz=ce("$ZodCatch",(e,t)=>{St.init(e,t),it(e._zod,"optin",()=>t.innerType._zod.optin),it(e._zod,"optout",()=>t.innerType._zod.optout),it(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(s=>(r.value=s.value,s.issues.length&&(r.value=t.catchValue({...r,error:{issues:s.issues.map(l=>Bs(l,n,Us()))},input:r.value}),r.issues=[]),r)):(r.value=a.value,a.issues.length&&(r.value=t.catchValue({...r,error:{issues:a.issues.map(s=>Bs(s,n,Us()))},input:r.value}),r.issues=[]),r)}}),Dz=ce("$ZodPipe",(e,t)=>{St.init(e,t),it(e._zod,"values",()=>t.in._zod.values),it(e._zod,"optin",()=>t.in._zod.optin),it(e._zod,"optout",()=>t.out._zod.optout),it(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(r,n)=>{if(n.direction==="backward"){const s=t.out._zod.run(r,n);return s instanceof Promise?s.then(l=>jf(l,t.in,n)):jf(s,t.in,n)}const a=t.in._zod.run(r,n);return a instanceof Promise?a.then(s=>jf(s,t.out,n)):jf(a,t.out,n)}});function jf(e,t,r){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},r)}const Mz=ce("$ZodReadonly",(e,t)=>{St.init(e,t),it(e._zod,"propValues",()=>t.innerType._zod.propValues),it(e._zod,"values",()=>t.innerType._zod.values),it(e._zod,"optin",()=>t.innerType?._zod?.optin),it(e._zod,"optout",()=>t.innerType?._zod?.optout),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(ej):ej(a)}});function ej(e){return e.value=Object.freeze(e.value),e}const Rz=ce("$ZodCustom",(e,t)=>{Kr.init(e,t),St.init(e,t),e._zod.parse=(r,n)=>r,e._zod.check=r=>{const n=r.value,a=t.fn(n);if(a instanceof Promise)return a.then(s=>tj(s,r,n,e));tj(a,r,n,e)}});function tj(e,t,r,n){if(!e){const a={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(a.params=n._zod.def.params),t.issues.push(au(a))}}var rj;class $z{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...r){const n=r[0];if(this._map.set(t,n),n&&typeof n=="object"&&"id"in n){if(this._idmap.has(n.id))throw new Error(`ID ${n.id} already exists in the registry`);this._idmap.set(n.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const r=this._map.get(t);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(t),this}get(t){const r=t._zod.parent;if(r){const n={...this.get(r)??{}};delete n.id;const a={...n,...this._map.get(t)};return Object.keys(a).length?a:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function Lz(){return new $z}(rj=globalThis).__zod_globalRegistry??(rj.__zod_globalRegistry=Lz());const qc=globalThis.__zod_globalRegistry;function Iz(e,t){return new e({type:"string",...Ae(t)})}function zz(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...Ae(t)})}function nj(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...Ae(t)})}function Uz(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...Ae(t)})}function Bz(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Ae(t)})}function qz(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Ae(t)})}function Hz(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Ae(t)})}function Fz(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...Ae(t)})}function Vz(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...Ae(t)})}function Kz(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...Ae(t)})}function Zz(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...Ae(t)})}function Gz(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...Ae(t)})}function Yz(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...Ae(t)})}function Wz(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...Ae(t)})}function Xz(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...Ae(t)})}function Jz(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...Ae(t)})}function Qz(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...Ae(t)})}function e9(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Ae(t)})}function t9(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Ae(t)})}function r9(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...Ae(t)})}function n9(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...Ae(t)})}function a9(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...Ae(t)})}function i9(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...Ae(t)})}function s9(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Ae(t)})}function o9(e,t){return new e({type:"string",format:"date",check:"string_format",...Ae(t)})}function l9(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...Ae(t)})}function c9(e,t){return new e({type:"string",format:"duration",check:"string_format",...Ae(t)})}function u9(e,t){return new e({type:"number",checks:[],...Ae(t)})}function d9(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...Ae(t)})}function f9(e,t){return new e({type:"boolean",...Ae(t)})}function h9(e){return new e({type:"any"})}function m9(e){return new e({type:"unknown"})}function p9(e,t){return new e({type:"never",...Ae(t)})}function aj(e,t){return new xT({check:"less_than",...Ae(t),value:e,inclusive:!1})}function Hg(e,t){return new xT({check:"less_than",...Ae(t),value:e,inclusive:!0})}function ij(e,t){return new wT({check:"greater_than",...Ae(t),value:e,inclusive:!1})}function Fg(e,t){return new wT({check:"greater_than",...Ae(t),value:e,inclusive:!0})}function sj(e,t){return new T7({check:"multiple_of",...Ae(t),value:e})}function ET(e,t){return new P7({check:"max_length",...Ae(t),maximum:e})}function vh(e,t){return new D7({check:"min_length",...Ae(t),minimum:e})}function NT(e,t){return new M7({check:"length_equals",...Ae(t),length:e})}function g9(e,t){return new R7({check:"string_format",format:"regex",...Ae(t),pattern:e})}function v9(e){return new $7({check:"string_format",format:"lowercase",...Ae(e)})}function y9(e){return new L7({check:"string_format",format:"uppercase",...Ae(e)})}function b9(e,t){return new I7({check:"string_format",format:"includes",...Ae(t),includes:e})}function x9(e,t){return new z7({check:"string_format",format:"starts_with",...Ae(t),prefix:e})}function w9(e,t){return new U7({check:"string_format",format:"ends_with",...Ae(t),suffix:e})}function Sl(e){return new B7({check:"overwrite",tx:e})}function _9(e){return Sl(t=>t.normalize(e))}function S9(){return Sl(e=>e.trim())}function k9(){return Sl(e=>e.toLowerCase())}function j9(){return Sl(e=>e.toUpperCase())}function E9(){return Sl(e=>M8(e))}function N9(e,t,r){return new e({type:"array",element:t,...Ae(r)})}function O9(e,t,r){return new e({type:"custom",check:"custom",fn:t,...Ae(r)})}function A9(e){const t=T9(r=>(r.addIssue=n=>{if(typeof n=="string")r.issues.push(au(n,r.value,t._zod.def));else{const a=n;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=r.value),a.inst??(a.inst=t),a.continue??(a.continue=!t._zod.def.abort),r.issues.push(au(a))}},e(r.value,r)));return t}function T9(e,t){const r=new Kr({check:"custom",...Ae(t)});return r._zod.check=e,r}function OT(e){let t=e?.target??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:e?.metadata??qc,target:t,unrepresentable:e?.unrepresentable??"throw",override:e?.override??(()=>{}),io:e?.io??"output",counter:0,seen:new Map,cycles:e?.cycles??"ref",reused:e?.reused??"inline",external:e?.external??void 0}}function dr(e,t,r={path:[],schemaPath:[]}){var n;const a=e._zod.def,s=t.seen.get(e);if(s)return s.count++,r.schemaPath.includes(e)&&(s.cycle=r.path),s.schema;const l={schema:{},count:1,cycle:void 0,path:r.path};t.seen.set(e,l);const u=e._zod.toJSONSchema?.();if(u)l.schema=u;else{const p={...r,schemaPath:[...r.schemaPath,e],path:r.path},g=e._zod.parent;if(g)l.ref=g,dr(g,t,p),t.seen.get(g).isParent=!0;else if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,l.schema,p);else{const v=l.schema,y=t.processors[a.type];if(!y)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${a.type}`);y(e,t,v,p)}}const d=t.metadataRegistry.get(e);return d&&Object.assign(l.schema,d),t.io==="input"&&Er(e)&&(delete l.schema.examples,delete l.schema.default),t.io==="input"&&l.schema._prefault&&((n=l.schema).default??(n.default=l.schema._prefault)),delete l.schema._prefault,t.seen.get(e).schema}function AT(e,t){const r=e.seen.get(t);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");const n=s=>{const l=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const p=e.external.registry.get(s[0])?.id,g=e.external.uri??(y=>y);if(p)return{ref:g(p)};const v=s[1].defId??s[1].schema.id??`schema${e.counter++}`;return s[1].defId=v,{defId:v,ref:`${g("__shared")}#/${l}/${v}`}}if(s[1]===r)return{ref:"#"};const d=`#/${l}/`,f=s[1].schema.id??`__schema${e.counter++}`;return{defId:f,ref:d+f}},a=s=>{if(s[1].schema.$ref)return;const l=s[1],{ref:u,defId:d}=n(s);l.def={...l.schema},d&&(l.defId=d);const f=l.schema;for(const p in f)delete f[p];f.$ref=u};if(e.cycles==="throw")for(const s of e.seen.entries()){const l=s[1];if(l.cycle)throw new Error(`Cycle detected: #/${l.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const s of e.seen.entries()){const l=s[1];if(t===s[0]){a(s);continue}if(e.external){const d=e.external.registry.get(s[0])?.id;if(t!==s[0]&&d){a(s);continue}}if(e.metadataRegistry.get(s[0])?.id){a(s);continue}if(l.cycle){a(s);continue}if(l.count>1&&e.reused==="ref"){a(s);continue}}}function TT(e,t){const r=e.seen.get(t);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");const n=l=>{const u=e.seen.get(l),d=u.def??u.schema,f={...d};if(u.ref===null)return;const p=u.ref;if(u.ref=null,p){n(p);const g=e.seen.get(p).schema;g.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(d.allOf=d.allOf??[],d.allOf.push(g)):(Object.assign(d,g),Object.assign(d,f))}u.isParent||e.override({zodSchema:l,jsonSchema:d,path:u.path??[]})};for(const l of[...e.seen.entries()].reverse())n(l[0]);const a={};if(e.target==="draft-2020-12"?a.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?a.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?a.$schema="http://json-schema.org/draft-04/schema#":e.target,e.external?.uri){const l=e.external.registry.get(t)?.id;if(!l)throw new Error("Schema is missing an `id` property");a.$id=e.external.uri(l)}Object.assign(a,r.def??r.schema);const s=e.external?.defs??{};for(const l of e.seen.entries()){const u=l[1];u.def&&u.defId&&(s[u.defId]=u.def)}e.external||Object.keys(s).length>0&&(e.target==="draft-2020-12"?a.$defs=s:a.definitions=s);try{const l=JSON.parse(JSON.stringify(a));return Object.defineProperty(l,"~standard",{value:{...t["~standard"],jsonSchema:{input:yh(t,"input"),output:yh(t,"output")}},enumerable:!1,writable:!1}),l}catch{throw new Error("Error converting schema to JSON.")}}function Er(e,t){const r=t??{seen:new Set};if(r.seen.has(e))return!1;r.seen.add(e);const n=e._zod.def;if(n.type==="transform")return!0;if(n.type==="array")return Er(n.element,r);if(n.type==="set")return Er(n.valueType,r);if(n.type==="lazy")return Er(n.getter(),r);if(n.type==="promise"||n.type==="optional"||n.type==="nonoptional"||n.type==="nullable"||n.type==="readonly"||n.type==="default"||n.type==="prefault")return Er(n.innerType,r);if(n.type==="intersection")return Er(n.left,r)||Er(n.right,r);if(n.type==="record"||n.type==="map")return Er(n.keyType,r)||Er(n.valueType,r);if(n.type==="pipe")return Er(n.in,r)||Er(n.out,r);if(n.type==="object"){for(const a in n.shape)if(Er(n.shape[a],r))return!0;return!1}if(n.type==="union"){for(const a of n.options)if(Er(a,r))return!0;return!1}if(n.type==="tuple"){for(const a of n.items)if(Er(a,r))return!0;return!!(n.rest&&Er(n.rest,r))}return!1}const C9=(e,t={})=>r=>{const n=OT({...r,processors:t});return dr(e,n),AT(n,e),TT(n,e)},yh=(e,t)=>r=>{const{libraryOptions:n,target:a}=r??{},s=OT({...n??{},target:a,io:t,processors:{}});return dr(e,s),AT(s,e),TT(s,e)},P9={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},D9=(e,t,r,n)=>{const a=r;a.type="string";const{minimum:s,maximum:l,format:u,patterns:d,contentEncoding:f}=e._zod.bag;if(typeof s=="number"&&(a.minLength=s),typeof l=="number"&&(a.maxLength=l),u&&(a.format=P9[u]??u,a.format===""&&delete a.format),f&&(a.contentEncoding=f),d&&d.size>0){const p=[...d];p.length===1?a.pattern=p[0].source:p.length>1&&(a.allOf=[...p.map(g=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:g.source}))])}},M9=(e,t,r,n)=>{const a=r,{minimum:s,maximum:l,format:u,multipleOf:d,exclusiveMaximum:f,exclusiveMinimum:p}=e._zod.bag;typeof u=="string"&&u.includes("int")?a.type="integer":a.type="number",typeof p=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(a.minimum=p,a.exclusiveMinimum=!0):a.exclusiveMinimum=p),typeof s=="number"&&(a.minimum=s,typeof p=="number"&&t.target!=="draft-04"&&(p>=s?delete a.minimum:delete a.exclusiveMinimum)),typeof f=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(a.maximum=f,a.exclusiveMaximum=!0):a.exclusiveMaximum=f),typeof l=="number"&&(a.maximum=l,typeof f=="number"&&t.target!=="draft-04"&&(f<=l?delete a.maximum:delete a.exclusiveMaximum)),typeof d=="number"&&(a.multipleOf=d)},R9=(e,t,r,n)=>{r.type="boolean"},$9=(e,t,r,n)=>{r.not={}},L9=(e,t,r,n)=>{},I9=(e,t,r,n)=>{},z9=(e,t,r,n)=>{const a=e._zod.def,s=cT(a.entries);s.every(l=>typeof l=="number")&&(r.type="number"),s.every(l=>typeof l=="string")&&(r.type="string"),r.enum=s},U9=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},B9=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},q9=(e,t,r,n)=>{const a=r,s=e._zod.def,{minimum:l,maximum:u}=e._zod.bag;typeof l=="number"&&(a.minItems=l),typeof u=="number"&&(a.maxItems=u),a.type="array",a.items=dr(s.element,t,{...n,path:[...n.path,"items"]})},H9=(e,t,r,n)=>{const a=r,s=e._zod.def;a.type="object",a.properties={};const l=s.shape;for(const f in l)a.properties[f]=dr(l[f],t,{...n,path:[...n.path,"properties",f]});const u=new Set(Object.keys(l)),d=new Set([...u].filter(f=>{const p=s.shape[f]._zod;return t.io==="input"?p.optin===void 0:p.optout===void 0}));d.size>0&&(a.required=Array.from(d)),s.catchall?._zod.def.type==="never"?a.additionalProperties=!1:s.catchall?s.catchall&&(a.additionalProperties=dr(s.catchall,t,{...n,path:[...n.path,"additionalProperties"]})):t.io==="output"&&(a.additionalProperties=!1)},F9=(e,t,r,n)=>{const a=e._zod.def,s=a.inclusive===!1,l=a.options.map((u,d)=>dr(u,t,{...n,path:[...n.path,s?"oneOf":"anyOf",d]}));s?r.oneOf=l:r.anyOf=l},V9=(e,t,r,n)=>{const a=e._zod.def,s=dr(a.left,t,{...n,path:[...n.path,"allOf",0]}),l=dr(a.right,t,{...n,path:[...n.path,"allOf",1]}),u=f=>"allOf"in f&&Object.keys(f).length===1,d=[...u(s)?s.allOf:[s],...u(l)?l.allOf:[l]];r.allOf=d},K9=(e,t,r,n)=>{const a=e._zod.def,s=dr(a.innerType,t,n),l=t.seen.get(e);t.target==="openapi-3.0"?(l.ref=a.innerType,r.nullable=!0):r.anyOf=[s,{type:"null"}]},Z9=(e,t,r,n)=>{const a=e._zod.def;dr(a.innerType,t,n);const s=t.seen.get(e);s.ref=a.innerType},G9=(e,t,r,n)=>{const a=e._zod.def;dr(a.innerType,t,n);const s=t.seen.get(e);s.ref=a.innerType,r.default=JSON.parse(JSON.stringify(a.defaultValue))},Y9=(e,t,r,n)=>{const a=e._zod.def;dr(a.innerType,t,n);const s=t.seen.get(e);s.ref=a.innerType,t.io==="input"&&(r._prefault=JSON.parse(JSON.stringify(a.defaultValue)))},W9=(e,t,r,n)=>{const a=e._zod.def;dr(a.innerType,t,n);const s=t.seen.get(e);s.ref=a.innerType;let l;try{l=a.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}r.default=l},X9=(e,t,r,n)=>{const a=e._zod.def,s=t.io==="input"?a.in._zod.def.type==="transform"?a.out:a.in:a.out;dr(s,t,n);const l=t.seen.get(e);l.ref=s},J9=(e,t,r,n)=>{const a=e._zod.def;dr(a.innerType,t,n);const s=t.seen.get(e);s.ref=a.innerType,r.readOnly=!0},Q9=(e,t,r,n)=>{const a=e._zod.def;dr(a.innerType,t,n);const s=t.seen.get(e);s.ref=a.innerType},eU=ce("ZodISODateTime",(e,t)=>{tz.init(e,t),yt.init(e,t)});function tU(e){return s9(eU,e)}const rU=ce("ZodISODate",(e,t)=>{rz.init(e,t),yt.init(e,t)});function nU(e){return o9(rU,e)}const aU=ce("ZodISOTime",(e,t)=>{nz.init(e,t),yt.init(e,t)});function iU(e){return l9(aU,e)}const sU=ce("ZodISODuration",(e,t)=>{az.init(e,t),yt.init(e,t)});function oU(e){return c9(sU,e)}const lU=(e,t)=>{mT.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:r=>Z8(e,r)},flatten:{value:r=>K8(e,r)},addIssue:{value:r=>{e.issues.push(r),e.message=JSON.stringify(e.issues,Vy,2)}},addIssues:{value:r=>{e.issues.push(...r),e.message=JSON.stringify(e.issues,Vy,2)}},isEmpty:{get(){return e.issues.length===0}}})},Rn=ce("ZodError",lU,{Parent:Error}),cU=bx(Rn),uU=xx(Rn),dU=b0(Rn),fU=x0(Rn),hU=W8(Rn),mU=X8(Rn),pU=J8(Rn),gU=Q8(Rn),vU=e7(Rn),yU=t7(Rn),bU=r7(Rn),xU=n7(Rn),Ot=ce("ZodType",(e,t)=>(St.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:yh(e,"input"),output:yh(e,"output")}}),e.toJSONSchema=C9(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone(Ws(t,{checks:[...t.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]})),e.clone=(r,n)=>Wi(e,r,n),e.brand=()=>e,e.register=((r,n)=>(r.add(e,n),e)),e.parse=(r,n)=>cU(e,r,n,{callee:e.parse}),e.safeParse=(r,n)=>dU(e,r,n),e.parseAsync=async(r,n)=>uU(e,r,n,{callee:e.parseAsync}),e.safeParseAsync=async(r,n)=>fU(e,r,n),e.spa=e.safeParseAsync,e.encode=(r,n)=>hU(e,r,n),e.decode=(r,n)=>mU(e,r,n),e.encodeAsync=async(r,n)=>pU(e,r,n),e.decodeAsync=async(r,n)=>gU(e,r,n),e.safeEncode=(r,n)=>vU(e,r,n),e.safeDecode=(r,n)=>yU(e,r,n),e.safeEncodeAsync=async(r,n)=>bU(e,r,n),e.safeDecodeAsync=async(r,n)=>xU(e,r,n),e.refine=(r,n)=>e.check(mB(r,n)),e.superRefine=r=>e.check(pB(r)),e.overwrite=r=>e.check(Sl(r)),e.optional=()=>uj(e),e.nullable=()=>dj(e),e.nullish=()=>uj(dj(e)),e.nonoptional=r=>oB(e,r),e.array=()=>GU(e),e.or=r=>XU([e,r]),e.and=r=>QU(e,r),e.transform=r=>fj(e,tB(r)),e.default=r=>aB(e,r),e.prefault=r=>sB(e,r),e.catch=r=>cB(e,r),e.pipe=r=>fj(e,r),e.readonly=()=>fB(e),e.describe=r=>{const n=e.clone();return qc.add(n,{description:r}),n},Object.defineProperty(e,"description",{get(){return qc.get(e)?.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return qc.get(e);const n=e.clone();return qc.add(n,r[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),CT=ce("_ZodString",(e,t)=>{wx.init(e,t),Ot.init(e,t),e._zod.processJSONSchema=(n,a,s)=>D9(e,n,a);const r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...n)=>e.check(g9(...n)),e.includes=(...n)=>e.check(b9(...n)),e.startsWith=(...n)=>e.check(x9(...n)),e.endsWith=(...n)=>e.check(w9(...n)),e.min=(...n)=>e.check(vh(...n)),e.max=(...n)=>e.check(ET(...n)),e.length=(...n)=>e.check(NT(...n)),e.nonempty=(...n)=>e.check(vh(1,...n)),e.lowercase=n=>e.check(v9(n)),e.uppercase=n=>e.check(y9(n)),e.trim=()=>e.check(S9()),e.normalize=(...n)=>e.check(_9(...n)),e.toLowerCase=()=>e.check(k9()),e.toUpperCase=()=>e.check(j9()),e.slugify=()=>e.check(E9())}),wU=ce("ZodString",(e,t)=>{wx.init(e,t),CT.init(e,t),e.email=r=>e.check(zz(_U,r)),e.url=r=>e.check(Fz(SU,r)),e.jwt=r=>e.check(i9(IU,r)),e.emoji=r=>e.check(Vz(kU,r)),e.guid=r=>e.check(nj(oj,r)),e.uuid=r=>e.check(Uz(Ef,r)),e.uuidv4=r=>e.check(Bz(Ef,r)),e.uuidv6=r=>e.check(qz(Ef,r)),e.uuidv7=r=>e.check(Hz(Ef,r)),e.nanoid=r=>e.check(Kz(jU,r)),e.guid=r=>e.check(nj(oj,r)),e.cuid=r=>e.check(Zz(EU,r)),e.cuid2=r=>e.check(Gz(NU,r)),e.ulid=r=>e.check(Yz(OU,r)),e.base64=r=>e.check(r9(RU,r)),e.base64url=r=>e.check(n9($U,r)),e.xid=r=>e.check(Wz(AU,r)),e.ksuid=r=>e.check(Xz(TU,r)),e.ipv4=r=>e.check(Jz(CU,r)),e.ipv6=r=>e.check(Qz(PU,r)),e.cidrv4=r=>e.check(e9(DU,r)),e.cidrv6=r=>e.check(t9(MU,r)),e.e164=r=>e.check(a9(LU,r)),e.datetime=r=>e.check(tU(r)),e.date=r=>e.check(nU(r)),e.time=r=>e.check(iU(r)),e.duration=r=>e.check(oU(r))});function _x(e){return Iz(wU,e)}const yt=ce("ZodStringFormat",(e,t)=>{gt.init(e,t),CT.init(e,t)}),_U=ce("ZodEmail",(e,t)=>{K7.init(e,t),yt.init(e,t)}),oj=ce("ZodGUID",(e,t)=>{F7.init(e,t),yt.init(e,t)}),Ef=ce("ZodUUID",(e,t)=>{V7.init(e,t),yt.init(e,t)}),SU=ce("ZodURL",(e,t)=>{Z7.init(e,t),yt.init(e,t)}),kU=ce("ZodEmoji",(e,t)=>{G7.init(e,t),yt.init(e,t)}),jU=ce("ZodNanoID",(e,t)=>{Y7.init(e,t),yt.init(e,t)}),EU=ce("ZodCUID",(e,t)=>{W7.init(e,t),yt.init(e,t)}),NU=ce("ZodCUID2",(e,t)=>{X7.init(e,t),yt.init(e,t)}),OU=ce("ZodULID",(e,t)=>{J7.init(e,t),yt.init(e,t)}),AU=ce("ZodXID",(e,t)=>{Q7.init(e,t),yt.init(e,t)}),TU=ce("ZodKSUID",(e,t)=>{ez.init(e,t),yt.init(e,t)}),CU=ce("ZodIPv4",(e,t)=>{iz.init(e,t),yt.init(e,t)}),PU=ce("ZodIPv6",(e,t)=>{sz.init(e,t),yt.init(e,t)}),DU=ce("ZodCIDRv4",(e,t)=>{oz.init(e,t),yt.init(e,t)}),MU=ce("ZodCIDRv6",(e,t)=>{lz.init(e,t),yt.init(e,t)}),RU=ce("ZodBase64",(e,t)=>{cz.init(e,t),yt.init(e,t)}),$U=ce("ZodBase64URL",(e,t)=>{dz.init(e,t),yt.init(e,t)}),LU=ce("ZodE164",(e,t)=>{fz.init(e,t),yt.init(e,t)}),IU=ce("ZodJWT",(e,t)=>{mz.init(e,t),yt.init(e,t)}),PT=ce("ZodNumber",(e,t)=>{ST.init(e,t),Ot.init(e,t),e._zod.processJSONSchema=(n,a,s)=>M9(e,n,a),e.gt=(n,a)=>e.check(ij(n,a)),e.gte=(n,a)=>e.check(Fg(n,a)),e.min=(n,a)=>e.check(Fg(n,a)),e.lt=(n,a)=>e.check(aj(n,a)),e.lte=(n,a)=>e.check(Hg(n,a)),e.max=(n,a)=>e.check(Hg(n,a)),e.int=n=>e.check(lj(n)),e.safe=n=>e.check(lj(n)),e.positive=n=>e.check(ij(0,n)),e.nonnegative=n=>e.check(Fg(0,n)),e.negative=n=>e.check(aj(0,n)),e.nonpositive=n=>e.check(Hg(0,n)),e.multipleOf=(n,a)=>e.check(sj(n,a)),e.step=(n,a)=>e.check(sj(n,a)),e.finite=()=>e;const r=e._zod.bag;e.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function Hi(e){return u9(PT,e)}const zU=ce("ZodNumberFormat",(e,t)=>{pz.init(e,t),PT.init(e,t)});function lj(e){return d9(zU,e)}const UU=ce("ZodBoolean",(e,t)=>{gz.init(e,t),Ot.init(e,t),e._zod.processJSONSchema=(r,n,a)=>R9(e,r,n)});function BU(e){return f9(UU,e)}const qU=ce("ZodAny",(e,t)=>{vz.init(e,t),Ot.init(e,t),e._zod.processJSONSchema=(r,n,a)=>L9()});function HU(){return h9(qU)}const FU=ce("ZodUnknown",(e,t)=>{yz.init(e,t),Ot.init(e,t),e._zod.processJSONSchema=(r,n,a)=>I9()});function cj(){return m9(FU)}const VU=ce("ZodNever",(e,t)=>{bz.init(e,t),Ot.init(e,t),e._zod.processJSONSchema=(r,n,a)=>$9(e,r,n)});function KU(e){return p9(VU,e)}const ZU=ce("ZodArray",(e,t)=>{xz.init(e,t),Ot.init(e,t),e._zod.processJSONSchema=(r,n,a)=>q9(e,r,n,a),e.element=t.element,e.min=(r,n)=>e.check(vh(r,n)),e.nonempty=r=>e.check(vh(1,r)),e.max=(r,n)=>e.check(ET(r,n)),e.length=(r,n)=>e.check(NT(r,n)),e.unwrap=()=>e.element});function GU(e,t){return N9(ZU,e,t)}const YU=ce("ZodObject",(e,t)=>{_z.init(e,t),Ot.init(e,t),e._zod.processJSONSchema=(r,n,a)=>H9(e,r,n,a),it(e,"shape",()=>t.shape),e.keyof=()=>Sx(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:cj()}),e.loose=()=>e.clone({...e._zod.def,catchall:cj()}),e.strict=()=>e.clone({...e._zod.def,catchall:KU()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>B8(e,r),e.safeExtend=r=>q8(e,r),e.merge=r=>H8(e,r),e.pick=r=>z8(e,r),e.omit=r=>U8(e,r),e.partial=(...r)=>F8(DT,e,r[0]),e.required=(...r)=>V8(MT,e,r[0])});function _0(e,t){const r={type:"object",shape:e??{},...Ae(t)};return new YU(r)}const WU=ce("ZodUnion",(e,t)=>{Sz.init(e,t),Ot.init(e,t),e._zod.processJSONSchema=(r,n,a)=>F9(e,r,n,a),e.options=t.options});function XU(e,t){return new WU({type:"union",options:e,...Ae(t)})}const JU=ce("ZodIntersection",(e,t)=>{kz.init(e,t),Ot.init(e,t),e._zod.processJSONSchema=(r,n,a)=>V9(e,r,n,a)});function QU(e,t){return new JU({type:"intersection",left:e,right:t})}const Zy=ce("ZodEnum",(e,t)=>{jz.init(e,t),Ot.init(e,t),e._zod.processJSONSchema=(n,a,s)=>z9(e,n,a),e.enum=t.entries,e.options=Object.values(t.entries);const r=new Set(Object.keys(t.entries));e.extract=(n,a)=>{const s={};for(const l of n)if(r.has(l))s[l]=t.entries[l];else throw new Error(`Key ${l} not found in enum`);return new Zy({...t,checks:[],...Ae(a),entries:s})},e.exclude=(n,a)=>{const s={...t.entries};for(const l of n)if(r.has(l))delete s[l];else throw new Error(`Key ${l} not found in enum`);return new Zy({...t,checks:[],...Ae(a),entries:s})}});function Sx(e,t){const r=Array.isArray(e)?Object.fromEntries(e.map(n=>[n,n])):e;return new Zy({type:"enum",entries:r,...Ae(t)})}const eB=ce("ZodTransform",(e,t)=>{Ez.init(e,t),Ot.init(e,t),e._zod.processJSONSchema=(r,n,a)=>B9(e,r),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new oT(e.constructor.name);r.addIssue=s=>{if(typeof s=="string")r.issues.push(au(s,r.value,t));else{const l=s;l.fatal&&(l.continue=!1),l.code??(l.code="custom"),l.input??(l.input=r.value),l.inst??(l.inst=e),r.issues.push(au(l))}};const a=t.transform(r.value,r);return a instanceof Promise?a.then(s=>(r.value=s,r)):(r.value=a,r)}});function tB(e){return new eB({type:"transform",transform:e})}const DT=ce("ZodOptional",(e,t)=>{Nz.init(e,t),Ot.init(e,t),e._zod.processJSONSchema=(r,n,a)=>Q9(e,r,n,a),e.unwrap=()=>e._zod.def.innerType});function uj(e){return new DT({type:"optional",innerType:e})}const rB=ce("ZodNullable",(e,t)=>{Oz.init(e,t),Ot.init(e,t),e._zod.processJSONSchema=(r,n,a)=>K9(e,r,n,a),e.unwrap=()=>e._zod.def.innerType});function dj(e){return new rB({type:"nullable",innerType:e})}const nB=ce("ZodDefault",(e,t)=>{Az.init(e,t),Ot.init(e,t),e._zod.processJSONSchema=(r,n,a)=>G9(e,r,n,a),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function aB(e,t){return new nB({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():dT(t)}})}const iB=ce("ZodPrefault",(e,t)=>{Tz.init(e,t),Ot.init(e,t),e._zod.processJSONSchema=(r,n,a)=>Y9(e,r,n,a),e.unwrap=()=>e._zod.def.innerType});function sB(e,t){return new iB({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():dT(t)}})}const MT=ce("ZodNonOptional",(e,t)=>{Cz.init(e,t),Ot.init(e,t),e._zod.processJSONSchema=(r,n,a)=>Z9(e,r,n,a),e.unwrap=()=>e._zod.def.innerType});function oB(e,t){return new MT({type:"nonoptional",innerType:e,...Ae(t)})}const lB=ce("ZodCatch",(e,t)=>{Pz.init(e,t),Ot.init(e,t),e._zod.processJSONSchema=(r,n,a)=>W9(e,r,n,a),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function cB(e,t){return new lB({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const uB=ce("ZodPipe",(e,t)=>{Dz.init(e,t),Ot.init(e,t),e._zod.processJSONSchema=(r,n,a)=>X9(e,r,n,a),e.in=t.in,e.out=t.out});function fj(e,t){return new uB({type:"pipe",in:e,out:t})}const dB=ce("ZodReadonly",(e,t)=>{Mz.init(e,t),Ot.init(e,t),e._zod.processJSONSchema=(r,n,a)=>J9(e,r,n,a),e.unwrap=()=>e._zod.def.innerType});function fB(e){return new dB({type:"readonly",innerType:e})}const hB=ce("ZodCustom",(e,t)=>{Rz.init(e,t),Ot.init(e,t),e._zod.processJSONSchema=(r,n,a)=>U9(e,r)});function mB(e,t={}){return O9(hB,e,t)}function pB(e){return A9(e)}_0({name:_x().min(1,"SKU Name is required"),bottlesPerCase:Hi().min(1),bottlesPerTruck:Hi().min(1),casesPerPallet:Hi().min(1),scrapPercentage:Hi().min(0).default(0)});const gB=_0({date:_x().regex(/^\d{4}-\d{2}-\d{2}$/,"Date must be YYYY-MM-DD"),type:Sx(["demand_plan","inbound_trucks","production_actual","truck_manifest_json"]),value:Hi(),metaJson:HU().optional()});_0({productionRate:Hi().min(0),downtimeHours:Hi().min(0),isAutoReplenish:BU().optional()});const vB=_0({date:_x().regex(/^\d{4}-\d{2}-\d{2}$/),count:Hi().min(0),location:Sx(["floor","yard"])}),yB=async e=>{const[t,r,n,a]=await Promise.all([Re.from("planning_entries").select("date, entry_type, value, meta_json").eq("product_id",e),Re.from("production_settings").select("*").eq("product_id",e).maybeSingle(),Re.from("inventory_snapshots").select("*").eq("product_id",e).eq("location","floor").order("date",{ascending:!1}).limit(1).maybeSingle(),Re.from("inventory_snapshots").select("*").eq("product_id",e).eq("location","yard").order("date",{ascending:!1}).limit(1).maybeSingle()]);return{entries:t.data||[],settings:r.data,snapshotFloor:n.data,snapshotYard:a.data}},bB=async(e,t,r,n,a,s=null)=>{if(a==null){const{error:d}=await Re.from("planning_entries").delete().eq("product_id",e).eq("date",r).eq("entry_type",n);if(d)throw d;return}try{gB.parse({date:r,type:n,value:a,metaJson:s})}catch(d){throw console.error("Validation Failed:",d),new Error(`Invalid Planning Entry: ${d.errors[0].message}`)}const{data:l}=await Re.from("planning_entries").select("id").eq("product_id",e).eq("date",r).eq("entry_type",n).maybeSingle(),u={product_id:e,user_id:t,date:r,entry_type:n,value:a,meta_json:s};if(l){const{error:d}=await Re.from("planning_entries").update({value:a,meta_json:s,user_id:t}).eq("id",l.id);if(d)throw d}else{const{error:d}=await Re.from("planning_entries").insert(u);if(d)throw d}},Nf=async(e,t,r)=>{if(t==="production_rate"&&typeof r=="number"&&r<0)throw new Error("Production Rate cannot be negative");if(t==="downtime_hours"&&typeof r=="number"&&r<0)throw new Error("Downtime cannot be negative");const{data:n}=await Re.from("production_settings").select("id").eq("product_id",e).limit(1),a=n&&n.length>0?n[0].id:null,s={product_id:e,[t]:r};a&&(s.id=a);const{error:l}=await Re.from("production_settings").upsert(s);if(l)throw console.error("Error saving production setting:",l),l},xB=async e=>{if(!e.length)return;const{error:t}=await Re.from("planning_entries").upsert(e,{onConflict:"product_id, date, entry_type"});if(t)throw t},hj=async(e,t,r,n,a="floor")=>{try{vB.parse({date:r,count:n,location:a})}catch(l){throw new Error(`Invalid Snapshot: ${l.errors[0].message}`)}const{error:s}=await Re.from("inventory_snapshots").upsert({product_id:e,user_id:t,date:r,location:a,quantity_pallets:n},{onConflict:"product_id, date, location"});if(s)throw s},wB=async()=>{const{data:e,error:t}=await Re.from("procurement_orders").select("*").order("date",{ascending:!0});if(t)throw t;return e||[]},_B=async(e,t)=>{const r={po_number:e.po,quantity:e.qty,sku:e.sku,supplier:e.supplier,carrier:e.carrier,status:e.status||"planned",date:e.date,delivery_time:e.time,user_id:t},{data:n}=await Re.from("procurement_orders").select("id").eq("po_number",e.po).maybeSingle();n?await Re.from("procurement_orders").update(r).eq("id",n.id):await Re.from("procurement_orders").insert(r)},SB=async e=>{const{error:t}=await Re.from("procurement_orders").delete().eq("po_number",e);if(t)throw t},kB=async e=>{const{data:t,error:r}=await Re.from("profiles").select("lead_time_days, safety_stock_loads, dashboard_layout, theme").eq("id",e).maybeSingle();return r?(console.error("Error fetching profile:",r),null):t},jB=async(e,t)=>{const r={id:e,...t,updated_at:new Date().toISOString()},{error:n}=await Re.from("profiles").upsert(r);if(n)throw n},kl=()=>{const e=x.useCallback(async(g,v)=>{if(!g)return{success:!1,error:"No user"};try{for(const y of v){const _=await Sf(g.id,y),k=localStorage.getItem(`mrp_${y}_productionRate`),S=localStorage.getItem(`mrp_${y}_downtimeHours`),j=localStorage.getItem(`mrp_${y}_isAutoReplenish`);(k||S||j)&&(await Nf(_,"production_rate",k?Number(k):null),await Nf(_,"downtime_hours",S?Number(S):null),await Nf(_,"is_auto_replenish",j==="true"));const A=[{key:"monthlyDemand",type:"demand_plan"},{key:"monthlyInbound",type:"inbound_trucks"},{key:"monthlyProductionActuals",type:"production_actual"}],E=[];for(const{key:O,type:T}of A){const C=localStorage.getItem(`mrp_${y}_${O}`);if(C)try{const D=JSON.parse(C);Object.entries(D).forEach(([R,L])=>{E.push({product_id:_,user_id:g.id,date:R,entry_type:T,value:Number(L)})})}catch{}}E.length>0&&await xB(E);const P=localStorage.getItem(`mrp_${y}_inventoryAnchor`);if(P)try{const O=JSON.parse(P);await hj(_,g.id,O.date,Number(O.count),"floor")}catch{}}return{success:!0}}catch(y){return console.error("Migration Failed:",y),{success:!1,error:y}}},[]),t=x.useCallback(async(g,v)=>{const y=await P8(g,v);if(!y)return null;const{entries:_,settings:k,snapshotFloor:S,snapshotYard:j}=await yB(y.id),A={},E={},P={},O={};_?.forEach(D=>{const R=Number(D.value);D.entry_type==="demand_plan"&&(A[D.date]=R),D.entry_type==="inbound_trucks"&&(E[D.date]=R),D.entry_type==="production_actual"&&(P[D.date]=R),D.entry_type==="truck_manifest_json"&&(O[D.date]=D.meta_json||[])});const T=S?{date:S.date,count:Number(S.quantity_pallets)}:null,C=j?{count:Number(j.quantity_pallets),date:j.date}:{count:0,date:null};return{product:y,monthlyDemand:A,monthlyInbound:E,monthlyProductionActuals:P,productionRate:k?.production_rate||5e3,downtimeHours:k?.downtime_hours||0,isAutoReplenish:k?.is_auto_replenish!==!1,inventoryAnchor:T,yardInventory:C,truckManifest:O}},[]),r=x.useCallback(async(g,v,y,_,k)=>{const S=await Sf(g,v);let j=typeof k=="number"?k:null,A=null;_==="truck_manifest_json"&&Array.isArray(k)?(j=k.length,A=k):j=Number(k),await bB(S,g,y,_,j,A)},[]),n=x.useCallback(async(g,v,y,_)=>{const k=await Sf(g,v);await Nf(k,y,_)},[]),a=x.useCallback(async(g,v,y,_,k="floor")=>{const S=await Sf(g,v);await hj(S,g,y,_,k)},[]),s=x.useCallback(async g=>await kB(g),[]),l=x.useCallback(async(g,v)=>{await jB(g,v)},[]),u=x.useCallback(async(g,v,y="viewer")=>{if(!g)return;if(!["admin","planner"].includes(y)){console.warn("Upload skipped: insufficient role (client-side check). RLS would likely reject this.");return}const{count:_,error:k}=await Re.from("products").select("*",{count:"exact",head:!0}).eq("user_id",g.id);if(k){console.error("Migration Check Failed:",k);return}_===0&&await e(g,v)},[e]),d=x.useCallback(async g=>{if(!g.po)return;const v=(await Re.auth.getUser()).data.user;v&&await _B(g,v.id)},[]),f=x.useCallback(async g=>{await SB(g)},[]),p=x.useCallback(async()=>{const g=await wB(),v={};return g.forEach(y=>{v[y.date]||(v[y.date]={items:[]}),v[y.date].items.push({id:y.id,po:y.po_number,qty:Number(y.quantity),sku:y.sku||"",supplier:y.supplier,status:y.status,date:y.date,time:y.delivery_time||"",carrier:y.carrier||"",palletStats:y.meta_data?y.meta_data.palletStats:void 0})}),v},[]);return{supabase:Re,fetchMRPState:t,savePlanningEntry:r,saveProductionSetting:n,saveInventorySnapshot:a,migrateLocalStorage:e,uploadLocalData:u,fetchUserProfile:s,saveUserProfile:l,saveProcurementEntry:d,deleteProcurementEntry:f,fetchProcurementData:p}};function bh({table:e,filter:t,event:r="*",schema:n="public",onDataChange:a,enabled:s=!0}){x.useEffect(()=>{if(!s)return;const l=`public:${e}${t?`:${t}`:""}`,u={event:r,schema:n,table:e,filter:t||void 0},d=Re.channel(l).on("postgres_changes",u,f=>{a(f)}).subscribe(f=>{});return()=>{Re.removeChannel(d)}},[e,t,r,n,a,s])}const nn={safetyStockLoads:6,csvMapping:{statusColumn:"Trailer State",fullValue:"Loaded - Inbound",skuColumn:"Commodity"},dashboardLayout:{top:["kpis"],col1:["demand"],col2:["chart","inventory","production"]},leadTimeDays:2},RT=x.createContext(void 0);function EB({children:e}){const{user:t}=Tr(),{fetchUserProfile:r,saveUserProfile:n}=kl(),[a,s]=x.useState(()=>{try{const T=localStorage.getItem("safetyStockLoads");if(T===null)return nn.safetyStockLoads;const C=Number(T);return!isNaN(C)&&C>=0?C:nn.safetyStockLoads}catch{return nn.safetyStockLoads}}),[l,u]=x.useState(()=>{try{const T=localStorage.getItem("csvMapping");return T?JSON.parse(T):nn.csvMapping}catch{return nn.csvMapping}}),[d,f]=x.useState(()=>{try{const T=localStorage.getItem("dashboardLayout");let C=T?JSON.parse(T):nn.dashboardLayout;return C.top&&C.top.includes("demand")&&(C.top=C.top.filter(D=>D!=="demand"),C.col1.includes("demand")||C.col1.unshift("demand")),{top:C.top||["kpis"],col1:C.col1||["demand"],col2:C.col2||["chart","inventory","production"],...C}}catch{return nn.dashboardLayout}}),[p,g]=x.useState(()=>{try{const T=localStorage.getItem("leadTimeDays"),C=Number(T);return!isNaN(C)&&C>=0?C:nn.leadTimeDays}catch{return nn.leadTimeDays}}),[v,y]=x.useState(()=>localStorage.getItem("activeSku")||"20oz"),[_,k]=x.useState(()=>localStorage.getItem("theme")||"light"),[S,j]=x.useState(()=>{try{const T=localStorage.getItem("sched_targetDailyProduction"),C=localStorage.getItem("sched_shiftStartTime"),D=localStorage.getItem("sched_poAssignments"),R=localStorage.getItem("sched_cancelledLoads");return T!==null||C!==null||D!==null?{targetDailyProduction:T?Number(T):0,shiftStartTime:C||"00:00",poAssignments:D?JSON.parse(D):{},cancelledLoads:R?JSON.parse(R):[]}:{targetDailyProduction:0,shiftStartTime:"00:00",poAssignments:{},cancelledLoads:[]}}catch{return{targetDailyProduction:0,shiftStartTime:"00:00",poAssignments:{},cancelledLoads:[]}}});bh({table:"profiles",filter:t?`id=eq.${t.id}`:void 0,event:"UPDATE",enabled:!!t,onDataChange:T=>{const C=T.new;if(C&&(C.lead_time_days!==void 0&&C.lead_time_days!==null&&g(Number(C.lead_time_days)),C.safety_stock_loads!==void 0&&C.safety_stock_loads!==null&&s(Number(C.safety_stock_loads)),C.theme&&k(C.theme),C.dashboard_layout)){const D=C.dashboard_layout;f(R=>({...R,top:D.top||R.top,col1:D.col1||R.col1,col2:D.col2||R.col2})),D.scheduler&&j(R=>({...R,...D.scheduler}))}}}),x.useEffect(()=>{t&&r(t.id).then(T=>{if(T){if(T.lead_time_days!==null&&g(T.lead_time_days),T.safety_stock_loads!==null&&s(T.safety_stock_loads),T.dashboard_layout){const C=T.dashboard_layout;f(D=>({...D,top:C.top||D.top,col1:C.col1||D.col1,col2:C.col2||D.col2})),C.scheduler&&j(D=>({...D,...C.scheduler}))}T.theme&&k(T.theme)}})},[t,r]),x.useEffect(()=>{localStorage.setItem("safetyStockLoads",JSON.stringify(a)),t&&n(t.id,{safety_stock_loads:a})},[a,t,n]),x.useEffect(()=>{localStorage.setItem("leadTimeDays",JSON.stringify(p)),t&&n(t.id,{lead_time_days:p})},[p,t,n]),x.useEffect(()=>{localStorage.setItem("csvMapping",JSON.stringify(l))},[l]),x.useEffect(()=>{localStorage.setItem("activeSku",v)},[v]),x.useEffect(()=>{const T=window.document.documentElement;_==="dark"?T.classList.add("dark"):T.classList.remove("dark"),localStorage.setItem("theme",_),t&&n(t.id,{theme:_})},[_,t,n]),x.useEffect(()=>{if(localStorage.setItem("dashboardLayout",JSON.stringify(d)),localStorage.setItem("settings_scheduler",JSON.stringify(S)),t){const T={...d,scheduler:S};n(t.id,{dashboard_layout:T})}},[d,S,t,n]);const A=x.useCallback((T,C)=>{u(D=>({...D,[T]:C}))},[]),E=x.useCallback((T,C)=>{j(D=>({...D,[T]:C}))},[]),P=x.useCallback(()=>{s(nn.safetyStockLoads),g(nn.leadTimeDays),u(nn.csvMapping),f(nn.dashboardLayout),j({targetDailyProduction:0,shiftStartTime:"00:00",poAssignments:{},cancelledLoads:[]})},[]),O=x.useMemo(()=>({safetyStockLoads:a,leadTimeDays:p,csvMapping:l,dashboardLayout:d,schedulerSettings:S,theme:_,activeSku:v,setTheme:k,setDashboardLayout:f,setSafetyStockLoads:T=>{const C=Number(T);s(!isNaN(C)&&C>=0?C:0)},setLeadTimeDays:T=>{const C=Number(T);g(!isNaN(C)&&C>=0?C:2)},updateCsvMapping:A,updateSchedulerSetting:E,resetDefaults:P,setActiveSku:y,updateGlobalSetting:(T,C)=>{T==="leadTimeDays"&&g(Number(C)),T==="safetyStockLoads"&&s(Number(C))}}),[a,p,l,d,S,_,v,A,E,P]);return m.jsx(RT.Provider,{value:O,children:e})}function Qn(){const e=x.useContext(RT);if(!e)throw new Error("useSettings must be used within a SettingsProvider");return e}const $T=x.createContext();function fr(){return x.useContext($T)}function NB({children:e}){const{user:t}=Tr(),[r,n]=x.useState(()=>{try{const p=localStorage.getItem("ubp_products_list");return p?JSON.parse(p):[]}catch{return[]}}),[a,s]=x.useState(()=>!localStorage.getItem("ubp_products_list")),l=async()=>{if(t)try{const{data:p,error:g}=await Re.from("products").select(`
                    *,
                    production_settings (
                        line_name,
                        production_rate
                    )
                `);if(g)throw g;const v=p||[];n(v),localStorage.setItem("ubp_products_list",JSON.stringify(v))}catch(p){console.error("Error loading products:",p)}finally{s(!1)}},u=async(p,g)=>{const v=r.find(_=>_.name===p);if(!v)return;const y=r.map(_=>_.name===p?{..._,...g}:_);n(y);try{const{error:_}=await Re.from("products").update(g).eq("id",v.id);if(_)throw _}catch(_){console.error("Failed to update product settings",_),l()}};x.useEffect(()=>{l()},[t]);const d=x.useMemo(()=>{const p={};return r.forEach(g=>{const y=(g.production_settings?.find(_=>_.line_name==="Line 1")||g.production_settings?.[0])?.production_rate||0;p[g.name]={bottlesPerCase:g.bottles_per_case,bottlesPerTruck:g.bottles_per_truck,casesPerTruck:Math.floor((g.bottles_per_truck||0)/(g.bottles_per_case||1)),casesPerPallet:g.cases_per_pallet,palletsPerTruck:22,productionRate:y,scrapPercentage:0,leadTimeDays:g.lead_time_days,safetyStockLoads:g.safety_stock_loads,id:g.id}}),p},[r]),f={products:r,productMap:d,loading:a,refreshProducts:l,updateProductSettings:u,getProductSpecs:p=>d[p]||null};return m.jsx($T.Provider,{value:f,children:e})}const LT=(e,t="00:00",r,n,a=1,s=0)=>{if(!n||n<=0)return"";let l=n,u=r;a>1&&n<1e4&&r>2e4&&(u=r/a);const d=u/l;let f=d;s>0&&s*d>23.5&&(f=23.5/s);const[p,g]=t.split(":").map(Number);let _=((p||0)+(g||0)/60+e*f)%24;_<0&&(_+=24);const k=Math.floor(_),S=Math.round((_-k)*60),j=(k+Math.floor(S/60))%24,A=S%60;return`${String(j).padStart(2,"0")}:${String(A).padStart(2,"0")}`},IT=x.createContext(void 0);function OB({children:e}){const{user:t}=Tr(),{fetchProcurementData:r,saveProcurementEntry:n,deleteProcurementEntry:a}=kl(),{schedulerSettings:s,activeSku:l}=Qn(),{getProductSpecs:u}=fr(),[d,f]=x.useState(()=>{try{const E=localStorage.getItem("poManifest");return E?JSON.parse(E):{}}catch{return{}}});x.useEffect(()=>{localStorage.setItem("poManifest",JSON.stringify(d))},[d]),bh({table:"procurement_orders",event:"*",enabled:!!t,onDataChange:E=>{const{eventType:P,new:O,old:T}=E;if(P==="DELETE"){const R=T.id,L=T.po_number;if(!R&&!L)return;f($=>{const q={...$};let V=null,se=null;for(const[de,U]of Object.entries(q)){const H=U.items.find(Y=>R&&Y.id===R||L&&Y.po===L);if(H){V=de,se=H;break}}return V&&se&&(q[V].items=q[V].items.filter(de=>de!==se),q[V].items.length===0&&delete q[V]),q});return}const C=O.date,D={id:O.id||crypto.randomUUID(),po:O.po_number,date:O.date,qty:Number(O.quantity),status:O.status,supplier:O.supplier,sku:O.sku,time:O.delivery_time,carrier:O.carrier,palletStats:O.meta_data?O.meta_data.palletStats:void 0};f(R=>{const L={...R};for(const[$,q]of Object.entries(L)){const V=q.items.filter(se=>se.po!==D.po);V.length!==q.items.length&&(L[$]={items:V},V.length===0&&delete L[$])}return L[C]||(L[C]={items:[]}),L[C].items.push(D),L})}});const p=(E,P)=>{if(f(O=>({...O,[E]:{items:P}})),t)try{P.forEach(O=>{n(O).catch(T=>console.error("Cloud Save Failed for Item:",O,T))})}catch(O){console.error("Error initiating cloud sync:",O)}},g=E=>{f(P=>{const O={...P},T=E.reduce((C,D)=>(C[D.date]||(C[D.date]=[]),C[D.date].push(D),C),{});return Object.entries(T).forEach(([C,D])=>{let L=(O[C]?.items||[]).length;D.forEach(($,q)=>{if($.id||($.id=crypto.randomUUID()),!$.time){const V=$.sku||l,se=u(V),de=s?.shiftStartTime||"00:00";if(se&&se.productionRate>0){const U=se.bottlesPerTruck||2e4,H=se.productionRate,Y=se.bottlesPerCase||1;$.time=LT(L+q,de,U,H,Y)}}O[C]||(O[C]={items:[]}),O[C].items.push($)})}),t&&E.forEach(C=>{n(C).catch(D=>console.error("Cloud Sync Error",D))}),O})},v=(E,P,O)=>{f(T=>{const C={...T};return C[E]&&(C[E].items=C[E].items.filter(D=>D.id!==P)),C}),t&&O&&a(O)},y=(E,P)=>{f(O=>{const T={...O};return T[E]?.items&&(T[E].items=T[E].items.map(C=>C.id===P.id?P:C)),T}),t&&n(P)},_=E=>{f(P=>{const O={...P};return E.forEach(T=>{O[T.date]?.items&&(O[T.date].items=O[T.date].items.filter(C=>C.id!==T.id))}),O}),t&&E.forEach(P=>{P.po&&a(P.po)})},k=(E,P,O)=>{if(f(T=>{const C={...T};C[E]?.items&&(C[E].items=C[E].items.filter(L=>L.id!==O.id));const D=C[P]?.items||[],R={...O,date:P};return C[P]={items:[...D,R]},C}),t){const T={...O,date:P};n(T)}},S=E=>{f(P=>{const O={...P};return E.forEach(T=>{let C=null;for(const[R,L]of Object.entries(O)){if(L.items.some($=>$.id===T.id)){C=R;break}if(L.items.some($=>$.po===T.po)){C=R;break}}const D=T.date;if(C&&C!==D)O[C]?.items&&(O[C].items=O[C].items.filter(R=>R.id!==T.id),O[C].items.length===0&&delete O[C]),O[D]||(O[D]={items:[]}),O[D].items.push(T);else{const R=C||D;O[R]?O[R].items=O[R].items.map(L=>L.id===T.id?T:L):(O[R]||(O[R]={items:[]}),O[R].items.push(T))}}),O}),t&&E.forEach(P=>n(P))},j=()=>f({});x.useEffect(()=>{t&&r().then(E=>{E&&Object.keys(E).length>0&&f(E)})},[t,r]);const A={poManifest:d,updateDailyManifest:p,addOrdersBulk:g,removeOrder:v,updateOrder:y,deleteOrdersBulk:_,moveOrder:k,bulkUpdateOrders:S,clearManifest:j};return m.jsx(IT.Provider,{value:A,children:e})}function $n(){const e=x.useContext(IT);if(!e)throw new Error("useProcurement must be used within a ProcurementProvider");return e}const AB=async()=>{const{data:e,error:t}=await Re.from("user_roles").select("*").order("created_at",{ascending:!1});if(t)throw t.code==="42P01",t;return e||[]},TB=async(e,t)=>{const{error:r}=await Re.from("user_roles").update({role:t}).match({email:e});if(r)throw r},CB=async e=>{const{error:t}=await Re.from("user_roles").delete().match({email:e});if(t)throw t},PB=async(e,t)=>{const{error:r}=await Re.from("user_roles").upsert({email:e.toLowerCase(),role:t},{onConflict:"email"});if(r)throw r},DB=async(e,t)=>{const r=nT(aT,iT,{auth:{persistSession:!1,autoRefreshToken:!1,detectSessionInUrl:!1}}),{data:n,error:a}=await r.auth.signUp({email:e,password:t});if(a)throw a;return n},Cc=[{id:"admin",label:"Administrator",badge:"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300",desc:"Full system access. Can manage users, settings, and master data."},{id:"planner",label:"Lead Planner",badge:"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300",desc:"Can edit Master Schedule, MRP, and Production Plans."},{id:"logistics",label:"Floor / Logistics",badge:"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300",desc:"Can manage Trucks, Verify Shifts, and view Schedule. No MRP editing."},{id:"viewer",label:"Read-Only Viewer",badge:"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300",desc:"Can view dashboards and schedules but cannot make changes."}];function MB(){const[e,t]=x.useState([]),[r,n]=x.useState(!0),[a,s]=x.useState(""),[l,u]=x.useState("viewer"),[d,f]=x.useState(null),[p,g]=x.useState(null),[v,y]=x.useState(!1);x.useEffect(()=>{_()},[]);const _=async()=>{try{n(!0);const A=await AB();t(A),y(!1)}catch(A){console.error(A),A.code==="42P01"||A.message?.includes("Could not find the table")?(y(!0),t([])):f(A.message)}finally{n(!1)}},k=async A=>{if(A.preventDefault(),!a)return;n(!0),f(null);const E="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",P=new Uint32Array(10);crypto.getRandomValues(P);let O="";for(let T=0;T<10;T++)O+=E[P[T]%E.length];try{try{await DB(a,O)}catch(T){throw T.message?.includes("Signups not allowed")?new Error("Cannot create user: Public Signups are disabled. Enable them or use Enterprise Invite."):T}await PB(a,l),t(T=>[{email:a.toLowerCase(),role:l,created_at:new Date().toISOString()},...T.filter(C=>C.email!==a.toLowerCase())]),g({email:a,password:O}),s("")}catch(T){console.error("Provisioning Error:",T),f(T.message)}finally{n(!1),_()}},S=async A=>{if(confirm(`Revoke access for ${A}?`))try{await CB(A),t(e.filter(E=>E.email!==A))}catch(E){f(E.message)}},j=async(A,E)=>{try{t(e.map(P=>P.email===A?{...P,role:E}:P)),await TB(A,E)}catch(P){f(P.message),_()}};return v?m.jsxs("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 rounded-lg border border-amber-200 dark:border-amber-700/50",children:[m.jsx("h3",{className:"font-bold text-amber-800 dark:text-amber-200 mb-2",children:"Setup Required"}),m.jsxs("p",{className:"text-sm text-amber-700 dark:text-amber-300 mb-4",children:["The ",m.jsx("code",{children:"user_roles"})," table is missing. Run this SQL in your Supabase SQL Editor:"]}),m.jsxs("div",{className:"bg-slate-900 rounded p-4 relative group",children:[m.jsx("code",{className:"text-xs text-green-400 font-mono block whitespace-pre-wrap",children:`create table user_roles (
  id uuid default gen_random_uuid() primary key,
  email text unique not null,
  role text default 'viewer',
  created_at timestamptz default now()
);

alter table user_roles enable row level security;
create policy "Allow read access for all auth users" on user_roles for select to authenticated using (true);
create policy "Allow insert/update/delete for authenticated" on user_roles for all to authenticated using (true); 
-- In production, replace the write policy with: using (auth.email() IN (SELECT email FROM user_roles WHERE role = 'admin'))`}),m.jsxs("button",{onClick:()=>navigator.clipboard.writeText(`create table user_roles ( id uuid default gen_random_uuid() primary key, email text unique not null, role text default 'viewer', created_at timestamptz default now() ); alter table user_roles enable row level security; create policy "Allow read access" on user_roles for select to authenticated using (true); create policy "Allow all write" on user_roles for all to authenticated using (true);`),className:"absolute top-2 right-2 bg-slate-700 hover:bg-slate-600 text-white text-xs px-2 py-1 rounded flex items-center gap-1",children:[m.jsx(Ny,{className:"w-3 h-3"})," Copy"]})]}),m.jsx("div",{className:"mt-4 flex gap-2",children:m.jsx("button",{onClick:_,className:"px-4 py-2 bg-amber-200 hover:bg-amber-300 rounded text-amber-900 font-bold text-sm",children:"I've ran the SQL, Try Again"})})]}):m.jsxs("div",{className:"space-y-8 relative",children:[p&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:m.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-2xl max-w-md w-full border border-slate-200 dark:border-slate-700 overflow-hidden transform scale-100 transition-all",children:[m.jsx("div",{className:"bg-emerald-500 h-2 w-full"}),m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[m.jsx("div",{className:"bg-emerald-100 dark:bg-emerald-900/30 p-2 rounded-full",children:m.jsx(L5,{className:"w-6 h-6 text-emerald-600 dark:text-emerald-400"})}),m.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"User Created!"})]}),m.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-6",children:["The account for ",m.jsx("strong",{className:"text-slate-700 dark:text-slate-200",children:p.email})," is ready. please copy the temporary password below."]}),m.jsxs("div",{className:"bg-slate-100 dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700 mb-6",children:[m.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1 block",children:"Temporary Password"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("code",{className:"text-lg font-mono font-bold text-slate-800 dark:text-emerald-400 break-all",children:p.password}),m.jsx("button",{onClick:()=>{navigator.clipboard.writeText(p.password),alert("Password Copied!")},className:"ml-auto p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-slate-700 rounded-lg transition-colors",title:"Copy Password",children:m.jsx(Ny,{className:"w-5 h-5"})})]})]}),m.jsx("button",{onClick:()=>g(null),className:"w-full bg-slate-900 dark:bg-slate-700 hover:bg-slate-800 text-white font-bold py-3 rounded-xl transition-colors",children:"Done"})]})]})}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:Cc.map(A=>m.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-white dark:bg-slate-800 border border-slate-100 dark:border-slate-700 shadow-sm",children:[m.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wide shrink-0 mt-0.5 ${A.badge}`,children:A.label}),m.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 leading-tight",children:A.desc})]},A.id))}),m.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[m.jsxs("h3",{className:"text-sm font-bold text-slate-700 dark:text-slate-300 mb-2 uppercase tracking-wider flex items-center gap-2",children:[m.jsx(eL,{className:"w-5 h-5 text-blue-500"})," Provision New User"]}),m.jsx("p",{className:"text-xs text-slate-500 mb-4",children:"Instantly create a user account. The system will generate a temporary password for you to give to them."}),m.jsxs("form",{onSubmit:k,className:"flex flex-col sm:flex-row gap-4 items-end",children:[m.jsxs("div",{className:"flex-1 w-full",children:[m.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"User Email"}),m.jsx("input",{type:"email",required:!0,placeholder:"colleague@company.com",value:a,onChange:A=>s(A.target.value),className:"w-full rounded-lg border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white p-2.5 focus:ring-blue-500 focus:border-blue-500 shadow-sm"})]}),m.jsxs("div",{className:"w-full sm:w-48",children:[m.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"Role"}),m.jsx("select",{value:l,onChange:A=>u(A.target.value),className:"w-full rounded-lg border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white p-2.5 focus:ring-blue-500 focus:border-blue-500 shadow-sm",children:Cc.map(A=>m.jsx("option",{value:A.id,children:A.label},A.id))})]}),m.jsx("div",{className:"w-full sm:w-auto",children:m.jsx("button",{type:"submit",disabled:r,className:"w-full sm:w-auto bg-blue-600 hover:bg-blue-500 text-white font-bold py-2.5 px-6 rounded-lg transition-colors shadow-lg shadow-blue-500/30 flex items-center justify-center gap-2 disabled:opacity-50",children:r?"Processing...":m.jsxs(m.Fragment,{children:[m.jsx(f0,{className:"w-5 h-5"}),m.jsx("span",{children:"Create User"})]})})})]})]}),m.jsxs("div",{children:[m.jsx("div",{className:"flex justify-between items-end mb-3",children:m.jsxs("h3",{className:"text-sm font-bold text-slate-700 dark:text-slate-300 uppercase tracking-wider",children:["Authorized Users (",e.length,")"]})}),d&&m.jsx("div",{className:"mb-4 text-rose-500 text-sm bg-rose-50 dark:bg-rose-900/20 p-2 rounded border border-rose-100 dark:border-rose-800",children:d}),m.jsx("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl divide-y divide-slate-100 dark:divide-slate-700 shadow-sm overflow-hidden",children:r?m.jsx("div",{className:"p-8 text-center text-slate-500 animate-pulse text-sm",children:"Loading users..."}):e.length===0?m.jsx("div",{className:"p-8 text-center text-slate-400 text-sm italic",children:"No users found. Create one above."}):e.map(A=>{const E=Cc.find(P=>P.id===A.role)||Cc[3];return m.jsxs("div",{className:"p-4 flex flex-col sm:flex-row sm:items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors gap-3",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 dark:bg-slate-700 ring-2 ring-white dark:ring-slate-800 flex items-center justify-center text-sm font-bold text-slate-600 dark:text-slate-300 uppercase shadow-sm",children:A.email.substring(0,2)}),m.jsxs("div",{children:[m.jsx("div",{className:"text-sm font-bold text-slate-900 dark:text-white",children:A.email}),m.jsxs("div",{className:"text-[10px] text-slate-500 dark:text-slate-400 flex items-center gap-1",children:["Added ",new Date(A.created_at).toLocaleDateString()]})]})]}),m.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3 w-full sm:w-auto pl-14 sm:pl-0",children:[m.jsx("select",{value:A.role,onChange:P=>j(A.email,P.target.value),className:`text-xs font-bold rounded-full py-1.5 px-3 border-0 cursor-pointer focus:ring-2 focus:ring-offset-1 transition-colors outline-none ${E.badge}`,children:Cc.map(P=>m.jsx("option",{value:P.id,children:P.label},P.id))}),m.jsx("button",{title:"Revoke Access",onClick:()=>S(A.email),className:"p-2 text-slate-400 hover:text-rose-600 hover:bg-rose-50 dark:hover:bg-rose-900/30 rounded-lg transition-colors",children:m.jsx(Ya,{className:"w-4 h-4"})})]})]},A.id)})})]})]})}function RB({onClose:e}){const[t,r]=x.useState("general"),{userRole:n}=Tr(),a=n==="admin",{safetyStockLoads:s,setSafetyStockLoads:l,leadTimeDays:u,setLeadTimeDays:d,csvMapping:f,updateCsvMapping:p,resetDefaults:g,theme:v,setTheme:y}=Qn(),{poManifest:_}=$n();return m.jsx("div",{className:"fixed inset-0 z-50 flex justify-center bg-black bg-opacity-50 overflow-y-auto px-4 py-6 backdrop-blur-sm",children:m.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-xl w-full max-w-2xl relative h-fit my-auto p-6 border dark:border-gray-700 transition-colors",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Master Settings"}),m.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 font-bold text-xl",children:""})]}),m.jsxs("div",{className:"flex border-b border-slate-200 dark:border-slate-700 mb-6",children:[m.jsx("button",{className:`pb-2 px-1 text-sm font-bold mr-6 border-b-2 transition-colors ${t==="general"?"border-blue-600 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400"}`,onClick:()=>r("general"),children:"General & Appearance"}),a&&m.jsx("button",{className:`pb-2 px-1 text-sm font-bold border-b-2 transition-colors ${t==="users"?"border-blue-600 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400"}`,onClick:()=>r("users"),children:"User Management"})]}),m.jsx("div",{className:"space-y-6 h-[60vh] overflow-y-auto pr-2 custom-scrollbar",children:t==="general"?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex items-center justify-between bg-gray-50 dark:bg-gray-800 p-4 rounded-md border border-gray-200 dark:border-gray-700",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"font-bold text-gray-800 dark:text-gray-200",children:"Appearance"}),m.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Choose your interface theme."})]}),m.jsxs("div",{className:"flex bg-gray-200 dark:bg-gray-700 p-1 rounded-lg",children:[m.jsxs("button",{onClick:()=>y("light"),className:`flex items-center space-x-2 px-3 py-1.5 rounded-md text-sm font-medium transition-all ${v==="light"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"}`,children:[m.jsx(I5,{className:"w-4 h-4"}),m.jsx("span",{children:"Light"})]}),m.jsxs("button",{onClick:()=>y("dark"),className:`flex items-center space-x-2 px-3 py-1.5 rounded-md text-sm font-medium transition-all ${v==="dark"?"bg-gray-600 text-white shadow-sm":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"}`,children:[m.jsx(z$,{className:"w-4 h-4"}),m.jsx("span",{children:"Dark"})]})]})]}),m.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-md border border-blue-100 dark:border-blue-800 grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-blue-900 dark:text-blue-300 mb-2",children:"Global Safety Stock (Full Loads)"}),m.jsx("input",{type:"number",inputMode:"numeric",pattern:"[0-9]*",value:s,onChange:k=>l(Number(k.target.value)),className:"mt-1 block w-24 rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-800 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500 text-base sm:text-lg"}),m.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-400 mt-1",children:"Minimum inventory target (Trucks)."})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-blue-900 dark:text-blue-300 mb-2",children:"Inbound Lead Time (Days)"}),m.jsx("input",{type:"number",inputMode:"numeric",pattern:"[0-9]*",value:u,onChange:k=>d(Number(k.target.value)),className:"mt-1 block w-24 rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-800 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500 text-base sm:text-lg"}),m.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-400 mt-1",children:"Days from Order to Delivery."})]})]}),m.jsx("hr",{className:"border-gray-200 dark:border-gray-700"}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-200 mb-4",children:"CSV Integration Mappings"}),m.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-md border border-gray-200 dark:border-gray-700 grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Status Column Header"}),m.jsx("input",{type:"text",value:f.statusColumn,onChange:k=>p("statusColumn",k.target.value),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm",placeholder:"e.g. Trailer State"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:'"Full" Keyword'}),m.jsx("input",{type:"text",value:f.fullValue,onChange:k=>p("fullValue",k.target.value),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm",placeholder:"e.g. Loaded"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"SKU/Product Column"}),m.jsx("input",{type:"text",value:f.skuColumn,onChange:k=>p("skuColumn",k.target.value),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm",placeholder:"e.g. Commodity"})]}),m.jsx("div",{className:"col-span-1 md:col-span-3",children:m.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 italic",children:["The importer will look for rows where ",m.jsx("strong",{children:f.statusColumn}),' contains "',m.jsx("strong",{children:f.fullValue}),'"',f.skuColumn?m.jsxs("span",{children:[" and ",m.jsx("strong",{children:f.skuColumn}),' contains the active bottle size (e.g. "20oz").']}):"."]})})]})]})]}):m.jsx(MB,{})}),m.jsxs("div",{className:"mt-8 bg-gray-50 dark:bg-gray-800 -mx-6 -mb-6 p-4 rounded-b-lg border-t dark:border-gray-700",children:[m.jsxs("div",{className:"flex flex-col-reverse md:flex-row justify-between items-center gap-4",children:[m.jsx("button",{onClick:()=>{confirm("Are you sure you want to reset all settings to factory defaults?")&&g()},className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 text-sm font-medium",children:"Reset to Defaults"}),m.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-4 w-full md:w-auto",children:[m.jsxs("button",{onClick:()=>window.location.reload(),className:"w-full md:w-auto px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 text-sm font-bold flex items-center justify-center",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4 mr-2",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 4.992l3.181-3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})}),"Reload & Sync"]}),m.jsx("button",{onClick:e,className:"w-full md:w-auto px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm font-bold shadow-sm",children:"Done"})]})]}),m.jsx("div",{className:"text-center mt-4",children:m.jsxs("p",{className:"text-[10px] text-gray-400 dark:text-gray-600",children:["v","2.25.42"," (Smart Planner)"]})})]})]})})}var Xs=P5();const Cn=e=>{const t=e?new Date(e):new Date,r=t.getTimezoneOffset()*6e4;return new Date(t.getTime()-r).toISOString().split("T")[0]},lr=(e,t)=>{if(!e)return"";try{let r;if(e instanceof Date)r=new Date(e),r.setDate(r.getDate()+t);else{const[l,u,d]=e.split("-").map(Number);r=new Date(l,u-1,d+t)}const n=r.getFullYear(),a=String(r.getMonth()+1).padStart(2,"0"),s=String(r.getDate()).padStart(2,"0");return`${n}-${a}-${s}`}catch(r){return console.error("addDays Error",r),String(e)}},vt=e=>{if(!e)return"";const t=new Date(e);if(isNaN(t.getTime()))return"";if(typeof e=="string"&&e.match(/^\d{4}-\d{2}-\d{2}$/))return e;const r=t.getTimezoneOffset()*6e4;return new Date(t.getTime()-r).toISOString().split("T")[0]},iu=e=>{if(!e)return"";const[t,r]=e.split(":").map(Number);if(isNaN(t))return e;const n=t>=12?"PM":"AM",a=t%12||12,s=r!==void 0?String(r).padStart(2,"0"):"00";return`${a}:${s} ${n}`},$B=e=>e.isSafetyRisk?"bg-red-500":e.isOverflow?"bg-amber-400":"bg-emerald-400",LB=x.memo(({day:e,isToday:t,updateDateDemand:r,updateDateActual:n,updateDateInbound:a,onContextMenu:s,performBulkFill:l,readOnly:u})=>{const[d,f]=x.useState(e?.val?Number(e.val).toLocaleString():0),[p,g]=x.useState(e?.actual?Number(e.actual).toLocaleString():""),[v,y]=x.useState(e?.trucks||0);if(x.useEffect(()=>{f(e?.val?Number(e.val).toLocaleString():0)},[e?.val]),x.useEffect(()=>{g(e?.actual?Number(e.actual).toLocaleString():"")},[e?.actual]),x.useEffect(()=>{y(e?.trucks||0)},[e?.trucks]),!e)return m.jsx("div",{className:"bg-transparent"});const _=Number(v)>0,k=Number(d)>0,S=p!==""&&p!==null&&p!==void 0,j=()=>{let O=String(d).replace(/,/g,"").trim();if(O===""&&(O="0"),!isNaN(O)){let T=Number(O);T>0&&T<1e3&&(T*=1e3),f(T.toLocaleString()),T!==Number(e.val)&&r(e.dateStr,T)}},A=()=>{let O=String(p).replace(/,/g,"").trim();if(O==="")e.actual!==null&&e.actual!==""&&n(e.dateStr,null);else if(!isNaN(O)){let T=Number(O);T>0&&T<1e3&&(T*=1e3),g(T.toLocaleString()),T!==Number(e.actual)&&n(e.dateStr,T)}},E=()=>{const O=String(v).replace(/,/g,"");!isNaN(O)&&Number(O)!==Number(e.trucks)&&a(e.dateStr,O)},P=(O,T)=>{(O.key==="Enter"||O.code==="Enter"||O.code==="NumpadEnter")&&(O.preventDefault(),O.target.blur())};return m.jsxs("div",{onContextMenu:O=>s(O,e.dateStr,d),className:`
                relative group flex flex-col justify-between p-2 rounded-xl transition-all duration-200 border
                ${t?"bg-white dark:bg-slate-800 ring-2 ring-blue-500 border-blue-500 shadow-blue-500/10 z-10 scale-[1.02]":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 hover:border-blue-300 dark:hover:border-blue-700 hover:shadow-md hover:-translate-y-0.5"}
                ${e.isSafetyRisk?"ring-1 ring-red-500/20 bg-red-50/10":""}
            `,children:[m.jsxs("div",{className:"flex justify-between items-center mb-1",children:[m.jsx("span",{className:`
                    text-sm font-bold w-6 h-6 flex items-center justify-center rounded-full
                    ${t?"bg-blue-600 text-white shadow-sm":"text-slate-700 dark:text-slate-300 group-hover:bg-slate-100 dark:group-hover:bg-slate-700"}
                `,children:e.dayNum}),e.isConfirmed&&m.jsx("span",{title:"Confirmed POs",className:"text-[10px] font-bold text-emerald-600 bg-emerald-50 dark:bg-emerald-900/30 px-1.5 py-0.5 rounded border border-emerald-100 dark:border-emerald-800",children:"PO"})]}),m.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-1.5 py-1 min-h-0",children:[m.jsxs("div",{className:"w-full relative group/demand",children:[m.jsx("div",{className:"text-[9px] font-black text-slate-300 dark:text-slate-600 uppercase tracking-widest text-center mb-0.5 group-hover/demand:text-blue-400 transition-colors",children:"Demand"}),m.jsx("input",{className:`
                            w-full text-center outline-none bg-transparent transition-all
                            ${u?"cursor-not-allowed":"cursor-text"}
                            ${k?"text-2xl font-black text-slate-700 dark:text-white":"text-xl font-bold text-slate-300 dark:text-slate-600"}
                            focus:scale-110 focus:text-blue-600 dark:focus:text-blue-400
                        `,value:d||"",placeholder:"-",disabled:u,onChange:O=>f(O.target.value),onBlur:j,onKeyDown:O=>P(O)})]}),m.jsx("div",{className:"flex items-center justify-center w-full",children:m.jsxs("div",{className:`
                        flex items-center gap-1.5 px-2 py-0.5 rounded-md transition-all
                        ${S?"bg-blue-50 dark:bg-blue-900/30 ring-1 ring-blue-100 dark:ring-blue-800":"bg-slate-50 dark:bg-slate-800/50 hover:bg-slate-100 dark:hover:bg-slate-700"}
                     `,children:[m.jsx("span",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-wider select-none",children:"Act"}),m.jsx("input",{className:`
                                w-12 text-center text-xs font-bold bg-transparent outline-none
                                ${S?"text-blue-700 dark:text-blue-300":"text-slate-400"}
                                focus:text-blue-600 dark:focus:text-blue-400
                            `,value:p,placeholder:"-",disabled:u,onChange:O=>g(O.target.value),onBlur:A,onKeyDown:O=>P(O)})]})})]}),m.jsx("div",{className:"mt-2 flex items-center justify-end",children:m.jsxs("div",{className:`
                    flex items-center gap-1 px-1.5 py-0.5 rounded transition-colors
                    ${_?"bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-400 border border-emerald-100 dark:border-emerald-800/50":"text-slate-300"}
                `,children:[m.jsx(Vr,{className:"w-3 h-3"}),m.jsx("input",{className:"w-4 text-center text-[10px] font-bold bg-transparent outline-none",value:v||"",placeholder:"0",disabled:u,onChange:O=>y(O.target.value),onBlur:E,onKeyDown:O=>P(O)})]})}),m.jsx("div",{className:"mt-2 h-1.5 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden flex",children:m.jsx("div",{className:`h-full ${$B(e)}`,style:{width:"100%"},title:`Inventory Health: ${e.isSafetyRisk?"Critical":"Healthy"}`})})]})},(e,t)=>!(e.day?.dateStr!==t.day?.dateStr||e.day?.val!==t.day?.val||e.day?.actual!==t.day?.actual||e.day?.trucks!==t.day?.trucks||e.day?.isSafetyRisk!==t.day?.isSafetyRisk||e.day?.isOverflow!==t.day?.isOverflow||e.day?.isConfirmed!==t.day?.isConfirmed||e.isToday!==t.isToday||e.readOnly!==t.readOnly));function IB({monthlyDemand:e,updateDateDemand:t,updateDateDemandBulk:r,monthlyInbound:n,updateDateInbound:a,monthlyProductionActuals:s,updateDateActual:l,specs:u,trucksToCancel:d,dailyLedger:f,safetyTarget:p,poManifest:g={},readOnly:v=!1}){const[y,_]=x.useState(new Date),{days:k,monthLabel:S,totalMonthlyDemand:j,totalEstTrucks:A}=x.useMemo(()=>{const R=y.getFullYear(),L=y.getMonth(),$=new Date(R,L,1),V=new Date(R,L+1,0).getDate(),se=$.getDay(),de=Array(se).fill(null),U=new Date().toLocaleDateString("en-CA");let H=null;d>0&&(H=Object.keys(n||{}).sort().find(Q=>Q>=U&&n[Q]>0));const Y=(f||[]).reduce((W,Q)=>(W[Q.date]=Q.balance,W),{}),fe=Array.from({length:V},(W,Q)=>{const K=new Date(R,L,Q+1),ae=K.getFullYear(),re=String(K.getMonth()+1).padStart(2,"0"),ee=String(K.getDate()).padStart(2,"0"),we=`${ae}-${re}-${ee}`,X=Y[we];let me=null;return X!==void 0&&u?.bottlesPerCase&&(me=Math.round(X/u.bottlesPerCase)),{date:K,dateStr:we,dayNum:Q+1,val:e[we]||0,trucks:n?.[we]||0,actual:s?.[we],isPushCandidate:H===we,endInvCases:me,isSafetyRisk:X!==void 0&&X<(p||0),isOverflow:X!==void 0&&X>(p||0)+(u?.bottlesPerTruck||0)*2,isConfirmed:g[we]?.items?.length>0}}),pe=fe.reduce((W,Q)=>{const K=Q.actual!==void 0&&Q.actual!==null?Number(Q.actual):Number(Q.val||0);return W+K},0);let I=0;if(u&&u.bottlesPerTruck&&u.bottlesPerCase){const W=u.bottlesPerTruck/u.bottlesPerCase;I=Math.ceil(pe/W)}return{days:[...de,...fe],monthLabel:$.toLocaleString("default",{month:"long",year:"numeric"}),totalMonthlyDemand:pe,totalEstTrucks:I}},[y,e,n,s,u,d,g,f,p]),E=R=>{_(L=>{const $=new Date(L);return $.setMonth($.getMonth()+R),$})},[P,O]=x.useState(null),T=()=>O(null),C=(R,L,$)=>{v||(R.preventDefault(),O({x:R.clientX,y:R.clientY,dateStr:L,currentVal:$}))},D=R=>{if(!P)return;const{dateStr:L,currentVal:$}=P,q=String($||"").replace(/,/g,""),V=parseInt(q,10);if(!V&&V!==0){T();return}const se={};if(se[L]=V.toString(),R==="week")for(let de=1;de<7;de++)se[lr(L,de)]=V.toString();if(R==="month"){const[de,U]=L.split("-").map(Number),H=U-1;let Y=1;for(;;){const fe=lr(L,Y),[pe,I]=fe.split("-").map(Number);if(I-1!==H||(se[fe]=V.toString(),Y++,Y>31))break}}if(R==="restOfWeek"){new Date(L.replace(/-/g,"/"));const[de,U,H]=L.split("-").map(Number);let Y=1;for(;;){const fe=lr(L,Y),[pe,I,W]=fe.split("-").map(Number);if(new Date(pe,I-1,W).getDay()===0||(se[fe]=V.toString(),Y++,Y>7))break}}r&&r(se),T()};return m.jsxs("div",{className:"h-full flex flex-col bg-slate-50 dark:bg-slate-900/50 p-4 rounded-xl",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("button",{onClick:()=>E(-1),className:"p-2 hover:bg-white dark:hover:bg-slate-800 rounded-full shadow-sm transition-all text-slate-500 hover:text-blue-600",children:m.jsx(nx,{className:"w-5 h-5"})}),m.jsxs("h2",{className:"text-2xl font-black text-slate-800 dark:text-white tracking-tight flex items-center gap-2",children:[S,m.jsx("span",{className:"text-sm font-medium text-slate-400 font-mono tracking-normal bg-slate-200 dark:bg-slate-800 px-2 py-0.5 rounded-md",children:y.getFullYear()})]}),m.jsx("button",{onClick:()=>E(1),className:"p-2 hover:bg-white dark:hover:bg-slate-800 rounded-full shadow-sm transition-all text-slate-500 hover:text-blue-600",children:m.jsx(ax,{className:"w-5 h-5"})})]}),m.jsx("div",{className:"flex gap-4 text-xs font-bold text-slate-500",children:m.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[m.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500"}),m.jsxs("span",{children:[A," Trucks Est."]})]})})]}),m.jsx("div",{className:"grid grid-cols-7 gap-4 mb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((R,L)=>m.jsx("div",{className:`text-center text-xs font-bold uppercase tracking-wider py-1
                        ${L===0||L===6?"text-slate-400":"text-slate-600 dark:text-slate-300"}
                    `,children:R},R))}),m.jsx("div",{className:"flex-1 grid grid-cols-7 grid-rows-5 gap-3 min-h-0",children:k.map((R,L)=>{if(!R)return m.jsx("div",{className:"bg-transparent"},`pad-${L}`);const $=R.dateStr===new Date().toLocaleDateString("en-CA");return m.jsx(LB,{day:R,isToday:$,updateDateDemand:t,updateDateActual:l,updateDateInbound:a,onContextMenu:C,performBulkFill:D,readOnly:v},R.dateStr)})}),P&&Xs.createPortal(m.jsxs("div",{className:"fixed z-50 bg-white dark:bg-slate-800 rounded-lg shadow-xl border border-slate-200 dark:border-slate-700 py-1 min-w-[160px] animate-in fade-in zoom-in-95 duration-100",style:{top:P.y,left:P.x},onClick:R=>R.stopPropagation(),children:[m.jsx("div",{className:"px-3 py-2 border-b dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50",children:m.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Quick Fill"})}),m.jsxs("button",{onClick:()=>D("week"),className:"w-full text-left px-4 py-2 text-sm text-slate-700 dark:text-slate-200 hover:bg-blue-50 dark:hover:bg-blue-900/30 hover:text-blue-600 flex items-center gap-2",children:[m.jsx("span",{children:""})," Fill Next 7 Days"]}),m.jsxs("button",{onClick:()=>D("restOfWeek"),className:"w-full text-left px-4 py-2 text-sm text-slate-700 dark:text-slate-200 hover:bg-blue-50 dark:hover:bg-blue-900/30 hover:text-blue-600 flex items-center gap-2",children:[m.jsx("span",{children:""})," Rest of Week"]}),m.jsxs("button",{onClick:()=>D("month"),className:"w-full text-left px-4 py-2 text-sm text-slate-700 dark:text-slate-200 hover:bg-blue-50 dark:hover:bg-blue-900/30 hover:text-blue-600 flex items-center gap-2",children:[m.jsx("span",{children:""})," Fill Rest of Month"]}),m.jsx("div",{className:"border-t dark:border-slate-700 my-1"}),m.jsx("button",{onClick:T,className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:"Cancel"})]}),document.body)]})}const zT=typeof document<"u"?ge.useLayoutEffect:()=>{};var Vg;const zB=(Vg=ge.useInsertionEffect)!==null&&Vg!==void 0?Vg:zT;function UB(e){const t=x.useRef(null);return zB(()=>{t.current=e},[e]),x.useCallback((...r)=>{const n=t.current;return n?.(...r)},[])}const Xi=e=>{var t;return(t=e?.ownerDocument)!==null&&t!==void 0?t:document},Cs=e=>e&&"window"in e&&e.window===e?e:Xi(e).defaultView||window;function BB(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function qB(e){return BB(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}let HB=!1;function kx(){return HB}function UT(e,t){if(!kx())return t&&e?e.contains(t):!1;if(!e||!t)return!1;let r=t;for(;r!==null;){if(r===e)return!0;r.tagName==="SLOT"&&r.assignedSlot?r=r.assignedSlot.parentNode:qB(r)?r=r.host:r=r.parentNode}return!1}const Gy=(e=document)=>{var t;if(!kx())return e.activeElement;let r=e.activeElement;for(;r&&"shadowRoot"in r&&(!((t=r.shadowRoot)===null||t===void 0)&&t.activeElement);)r=r.shadowRoot.activeElement;return r};function BT(e){return kx()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}function qT(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=qT(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ot(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=qT(e))&&(n&&(n+=" "),n+=t);return n}function FB(e){var t;if(typeof window>"u"||window.navigator==null)return!1;let r=(t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands;return Array.isArray(r)&&r.some(n=>e.test(n.brand))||e.test(window.navigator.userAgent)}function VB(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function HT(e){let t=null;return()=>(t==null&&(t=e()),t)}const KB=HT(function(){return VB(/^Mac/i)}),ZB=HT(function(){return FB(/Android/i)});function FT(){let e=x.useRef(new Map),t=x.useCallback((a,s,l,u)=>{let d=u?.once?(...f)=>{e.current.delete(l),l(...f)}:l;e.current.set(l,{type:s,eventTarget:a,fn:d,options:u}),a.addEventListener(s,d,u)},[]),r=x.useCallback((a,s,l,u)=>{var d;let f=((d=e.current.get(l))===null||d===void 0?void 0:d.fn)||l;a.removeEventListener(s,f,u),e.current.delete(l)},[]),n=x.useCallback(()=>{e.current.forEach((a,s)=>{r(a.eventTarget,a.type,s,a.options)})},[r]);return x.useEffect(()=>n,[n]),{addGlobalListener:t,removeGlobalListener:r,removeAllGlobalListeners:n}}function GB(e){return e.pointerType===""&&e.isTrusted?!0:ZB()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function VT(e){let t=e;return t.nativeEvent=e,t.isDefaultPrevented=()=>t.defaultPrevented,t.isPropagationStopped=()=>t.cancelBubble,t.persist=()=>{},t}function YB(e,t){Object.defineProperty(e,"target",{value:t}),Object.defineProperty(e,"currentTarget",{value:t})}function KT(e){let t=x.useRef({isFocused:!1,observer:null});zT(()=>{const n=t.current;return()=>{n.observer&&(n.observer.disconnect(),n.observer=null)}},[]);let r=UB(n=>{e?.(n)});return x.useCallback(n=>{if(n.target instanceof HTMLButtonElement||n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLSelectElement){t.current.isFocused=!0;let a=n.target,s=l=>{if(t.current.isFocused=!1,a.disabled){let u=VT(l);r(u)}t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};a.addEventListener("focusout",s,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&a.disabled){var l;(l=t.current.observer)===null||l===void 0||l.disconnect();let u=a===document.activeElement?null:document.activeElement;a.dispatchEvent(new FocusEvent("blur",{relatedTarget:u})),a.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:u}))}}),t.current.observer.observe(a,{attributes:!0,attributeFilter:["disabled"]})}},[r])}let WB=!1,Eu=null,Yy=new Set,Gc=new Map,qs=!1,Wy=!1;const XB={Tab:!0,Escape:!0};function jx(e,t){for(let r of Yy)r(e,t)}function JB(e){return!(e.metaKey||!KB()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function xh(e){qs=!0,JB(e)&&(Eu="keyboard",jx("keyboard",e))}function sl(e){Eu="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(qs=!0,jx("pointer",e))}function ZT(e){GB(e)&&(qs=!0,Eu="virtual")}function GT(e){e.target===window||e.target===document||WB||!e.isTrusted||(!qs&&!Wy&&(Eu="virtual",jx("virtual",e)),qs=!1,Wy=!1)}function YT(){qs=!1,Wy=!0}function Xy(e){if(typeof window>"u"||typeof document>"u"||Gc.get(Cs(e)))return;const t=Cs(e),r=Xi(e);let n=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){qs=!0,n.apply(this,arguments)},r.addEventListener("keydown",xh,!0),r.addEventListener("keyup",xh,!0),r.addEventListener("click",ZT,!0),t.addEventListener("focus",GT,!0),t.addEventListener("blur",YT,!1),typeof PointerEvent<"u"&&(r.addEventListener("pointerdown",sl,!0),r.addEventListener("pointermove",sl,!0),r.addEventListener("pointerup",sl,!0)),t.addEventListener("beforeunload",()=>{WT(e)},{once:!0}),Gc.set(t,{focus:n})}const WT=(e,t)=>{const r=Cs(e),n=Xi(e);t&&n.removeEventListener("DOMContentLoaded",t),Gc.has(r)&&(r.HTMLElement.prototype.focus=Gc.get(r).focus,n.removeEventListener("keydown",xh,!0),n.removeEventListener("keyup",xh,!0),n.removeEventListener("click",ZT,!0),r.removeEventListener("focus",GT,!0),r.removeEventListener("blur",YT,!1),typeof PointerEvent<"u"&&(n.removeEventListener("pointerdown",sl,!0),n.removeEventListener("pointermove",sl,!0),n.removeEventListener("pointerup",sl,!0)),Gc.delete(r))};function QB(e){const t=Xi(e);let r;return t.readyState!=="loading"?Xy(e):(r=()=>{Xy(e)},t.addEventListener("DOMContentLoaded",r)),()=>WT(e,r)}typeof document<"u"&&QB();function XT(){return Eu!=="pointer"}const eq=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function tq(e,t,r){let n=Xi(r?.target);const a=typeof window<"u"?Cs(r?.target).HTMLInputElement:HTMLInputElement,s=typeof window<"u"?Cs(r?.target).HTMLTextAreaElement:HTMLTextAreaElement,l=typeof window<"u"?Cs(r?.target).HTMLElement:HTMLElement,u=typeof window<"u"?Cs(r?.target).KeyboardEvent:KeyboardEvent;return e=e||n.activeElement instanceof a&&!eq.has(n.activeElement.type)||n.activeElement instanceof s||n.activeElement instanceof l&&n.activeElement.isContentEditable,!(e&&t==="keyboard"&&r instanceof u&&!XB[r.key])}function rq(e,t,r){Xy(),x.useEffect(()=>{let n=(a,s)=>{tq(!!r?.isTextInput,a,s)&&e(XT())};return Yy.add(n),()=>{Yy.delete(n)}},t)}function nq(e){let{isDisabled:t,onFocus:r,onBlur:n,onFocusChange:a}=e;const s=x.useCallback(d=>{if(d.target===d.currentTarget)return n&&n(d),a&&a(!1),!0},[n,a]),l=KT(s),u=x.useCallback(d=>{const f=Xi(d.target),p=f?Gy(f):Gy();d.target===d.currentTarget&&p===BT(d.nativeEvent)&&(r&&r(d),a&&a(!0),l(d))},[a,r,l]);return{focusProps:{onFocus:!t&&(r||a||n)?u:void 0,onBlur:!t&&(n||a)?s:void 0}}}function aq(e){let{isDisabled:t,onBlurWithin:r,onFocusWithin:n,onFocusWithinChange:a}=e,s=x.useRef({isFocusWithin:!1}),{addGlobalListener:l,removeAllGlobalListeners:u}=FT(),d=x.useCallback(g=>{g.currentTarget.contains(g.target)&&s.current.isFocusWithin&&!g.currentTarget.contains(g.relatedTarget)&&(s.current.isFocusWithin=!1,u(),r&&r(g),a&&a(!1))},[r,a,s,u]),f=KT(d),p=x.useCallback(g=>{if(!g.currentTarget.contains(g.target))return;const v=Xi(g.target),y=Gy(v);if(!s.current.isFocusWithin&&y===BT(g.nativeEvent)){n&&n(g),a&&a(!0),s.current.isFocusWithin=!0,f(g);let _=g.currentTarget;l(v,"focus",k=>{if(s.current.isFocusWithin&&!UT(_,k.target)){let S=new v.defaultView.FocusEvent("blur",{relatedTarget:k.target});YB(S,_);let j=VT(S);d(j)}},{capture:!0})}},[n,a,f,l,d]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:p,onBlur:d}}}let Jy=!1,Of=0;function iq(){Jy=!0,setTimeout(()=>{Jy=!1},50)}function mj(e){e.pointerType==="touch"&&iq()}function sq(){if(!(typeof document>"u"))return Of===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",mj),Of++,()=>{Of--,!(Of>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",mj)}}function oq(e){let{onHoverStart:t,onHoverChange:r,onHoverEnd:n,isDisabled:a}=e,[s,l]=x.useState(!1),u=x.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;x.useEffect(sq,[]);let{addGlobalListener:d,removeAllGlobalListeners:f}=FT(),{hoverProps:p,triggerHoverEnd:g}=x.useMemo(()=>{let v=(k,S)=>{if(u.pointerType=S,a||S==="touch"||u.isHovered||!k.currentTarget.contains(k.target))return;u.isHovered=!0;let j=k.currentTarget;u.target=j,d(Xi(k.target),"pointerover",A=>{u.isHovered&&u.target&&!UT(u.target,A.target)&&y(A,A.pointerType)},{capture:!0}),t&&t({type:"hoverstart",target:j,pointerType:S}),r&&r(!0),l(!0)},y=(k,S)=>{let j=u.target;u.pointerType="",u.target=null,!(S==="touch"||!u.isHovered||!j)&&(u.isHovered=!1,f(),n&&n({type:"hoverend",target:j,pointerType:S}),r&&r(!1),l(!1))},_={};return typeof PointerEvent<"u"&&(_.onPointerEnter=k=>{Jy&&k.pointerType==="mouse"||v(k,k.pointerType)},_.onPointerLeave=k=>{!a&&k.currentTarget.contains(k.target)&&y(k,k.pointerType)}),{hoverProps:_,triggerHoverEnd:y}},[t,r,n,a,u,d,f]);return x.useEffect(()=>{a&&g({currentTarget:u.target},u.pointerType)},[a]),{hoverProps:p,isHovered:s}}function lq(e={}){let{autoFocus:t=!1,isTextInput:r,within:n}=e,a=x.useRef({isFocused:!1,isFocusVisible:t||XT()}),[s,l]=x.useState(!1),[u,d]=x.useState(()=>a.current.isFocused&&a.current.isFocusVisible),f=x.useCallback(()=>d(a.current.isFocused&&a.current.isFocusVisible),[]),p=x.useCallback(y=>{a.current.isFocused=y,l(y),f()},[f]);rq(y=>{a.current.isFocusVisible=y,f()},[],{isTextInput:r});let{focusProps:g}=nq({isDisabled:n,onFocusChange:p}),{focusWithinProps:v}=aq({isDisabled:!n,onFocusWithinChange:p});return{isFocused:s,isFocusVisible:u,focusProps:n?v:g}}var cq=Object.defineProperty,uq=(e,t,r)=>t in e?cq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Kg=(e,t,r)=>(uq(e,typeof t!="symbol"?t+"":t,r),r);let dq=class{constructor(){Kg(this,"current",this.detect()),Kg(this,"handoffState","pending"),Kg(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},la=new dq;function jl(e){var t;return la.isServer?null:e==null?document:(t=e?.ownerDocument)!=null?t:document}function Qy(e){var t,r;return la.isServer?null:e==null?document:(r=(t=e?.getRootNode)==null?void 0:t.call(e))!=null?r:document}function JT(e){var t,r;return(r=(t=Qy(e))==null?void 0:t.activeElement)!=null?r:null}function fq(e){return JT(e)===e}function S0(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function ii(){let e=[],t={addEventListener(r,n,a,s){return r.addEventListener(n,a,s),t.add(()=>r.removeEventListener(n,a,s))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return t.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return t.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return S0(()=>{n.current&&r[0]()}),t.add(()=>{n.current=!1})},style(r,n,a){let s=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:a}),this.add(()=>{Object.assign(r.style,{[n]:s})})},group(r){let n=ii();return r(n),this.add(()=>n.dispose())},add(r){return e.includes(r)||e.push(r),()=>{let n=e.indexOf(r);if(n>=0)for(let a of e.splice(n,1))a()}},dispose(){for(let r of e.splice(0))r()}};return t}function Js(){let[e]=x.useState(ii);return x.useEffect(()=>()=>e.dispose(),[e]),e}let Or=(e,t)=>{la.isServer?x.useEffect(e,t):x.useLayoutEffect(e,t)};function Qs(e){let t=x.useRef(e);return Or(()=>{t.current=e},[e]),t}let qe=function(e){let t=Qs(e);return ge.useCallback((...r)=>t.current(...r),[t])};function hq(e){let t=e.width/2,r=e.height/2;return{top:e.clientY-r,right:e.clientX+t,bottom:e.clientY+r,left:e.clientX-t}}function mq(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function pq({disabled:e=!1}={}){let t=x.useRef(null),[r,n]=x.useState(!1),a=Js(),s=qe(()=>{t.current=null,n(!1),a.dispose()}),l=qe(u=>{if(a.dispose(),t.current===null){t.current=u.currentTarget,n(!0);{let d=jl(u.currentTarget);a.addEventListener(d,"pointerup",s,!1),a.addEventListener(d,"pointermove",f=>{if(t.current){let p=hq(f);n(mq(p,t.current.getBoundingClientRect()))}},!1),a.addEventListener(d,"pointercancel",s,!1)}}});return{pressed:r,pressProps:e?{}:{onPointerDown:l,onPointerUp:s,onClick:s}}}function eo(e){return x.useMemo(()=>e,Object.values(e))}let gq=x.createContext(void 0);function Ex(){return x.useContext(gq)}function eb(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function Wa(e,t,...r){if(e in t){let a=t[e];return typeof a=="function"?a(...r):a}let n=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Wa),n}var wh=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(wh||{}),Fi=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Fi||{});function Cr(){let e=yq();return x.useCallback(t=>vq({mergeRefs:e,...t}),[e])}function vq({ourProps:e,theirProps:t,slot:r,defaultTag:n,features:a,visible:s=!0,name:l,mergeRefs:u}){u=u??bq;let d=QT(t,e);if(s)return Af(d,r,n,l,u);let f=a??0;if(f&2){let{static:p=!1,...g}=d;if(p)return Af(g,r,n,l,u)}if(f&1){let{unmount:p=!0,...g}=d;return Wa(p?0:1,{0(){return null},1(){return Af({...g,hidden:!0,style:{display:"none"}},r,n,l,u)}})}return Af(d,r,n,l,u)}function Af(e,t={},r,n,a){let{as:s=r,children:l,refName:u="ref",...d}=Zg(e,["unmount","static"]),f=e.ref!==void 0?{[u]:e.ref}:{},p=typeof l=="function"?l(t):l;"className"in d&&d.className&&typeof d.className=="function"&&(d.className=d.className(t)),d["aria-labelledby"]&&d["aria-labelledby"]===d.id&&(d["aria-labelledby"]=void 0);let g={};if(t){let v=!1,y=[];for(let[_,k]of Object.entries(t))typeof k=="boolean"&&(v=!0),k===!0&&y.push(_.replace(/([A-Z])/g,S=>`-${S.toLowerCase()}`));if(v){g["data-headlessui-state"]=y.join(" ");for(let _ of y)g[`data-${_}`]=""}}if(Yc(s)&&(Object.keys($i(d)).length>0||Object.keys($i(g)).length>0))if(!x.isValidElement(p)||Array.isArray(p)&&p.length>1||_q(p)){if(Object.keys($i(d)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys($i(d)).concat(Object.keys($i(g))).map(v=>`  - ${v}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(v=>`  - ${v}`).join(`
`)].join(`
`))}else{let v=p.props,y=v?.className,_=typeof y=="function"?(...j)=>eb(y(...j),d.className):eb(y,d.className),k=_?{className:_}:{},S=QT(p.props,$i(Zg(d,["ref"])));for(let j in g)j in S&&delete g[j];return x.cloneElement(p,Object.assign({},S,g,f,{ref:a(wq(p),f.ref)},k))}return x.createElement(s,Object.assign({},Zg(d,["ref"]),!Yc(s)&&f,!Yc(s)&&g),p)}function yq(){let e=x.useRef([]),t=x.useCallback(r=>{for(let n of e.current)n!=null&&(typeof n=="function"?n(r):n.current=r)},[]);return(...r)=>{if(!r.every(n=>n==null))return e.current=r,t}}function bq(...e){return e.every(t=>t==null)?void 0:t=>{for(let r of e)r!=null&&(typeof r=="function"?r(t):r.current=t)}}function QT(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},r={};for(let n of e)for(let a in n)a.startsWith("on")&&typeof n[a]=="function"?(r[a]!=null||(r[a]=[]),r[a].push(n[a])):t[a]=n[a];if(t.disabled||t["aria-disabled"])for(let n in r)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(n)&&(r[n]=[a=>{var s;return(s=a?.preventDefault)==null?void 0:s.call(a)}]);for(let n in r)Object.assign(t,{[n](a,...s){let l=r[n];for(let u of l){if((a instanceof Event||a?.nativeEvent instanceof Event)&&a.defaultPrevented)return;u(a,...s)}}});return t}function xq(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},r={};for(let n of e)for(let a in n)a.startsWith("on")&&typeof n[a]=="function"?(r[a]!=null||(r[a]=[]),r[a].push(n[a])):t[a]=n[a];for(let n in r)Object.assign(t,{[n](...a){let s=r[n];for(let l of s)l?.(...a)}});return t}function Sr(e){var t;return Object.assign(x.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function $i(e){let t=Object.assign({},e);for(let r in t)t[r]===void 0&&delete t[r];return t}function Zg(e,t=[]){let r=Object.assign({},e);for(let n of t)n in r&&delete r[n];return r}function wq(e){return ge.version.split(".")[0]>="19"?e.props.ref:e.ref}function Yc(e){return e===x.Fragment||e===Symbol.for("react.fragment")}function _q(e){return Yc(e.type)}function Sq(e,t,r){let[n,a]=x.useState(r),s=e!==void 0,l=x.useRef(s),u=x.useRef(!1),d=x.useRef(!1);return s&&!l.current&&!u.current?(u.current=!0,l.current=s,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!s&&l.current&&!d.current&&(d.current=!0,l.current=s,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[s?e:n,qe(f=>(s||Xs.flushSync(()=>a(f)),t?.(f)))]}function kq(e){let[t]=x.useState(e);return t}function eC(e={},t=null,r=[]){for(let[n,a]of Object.entries(e))rC(r,tC(t,n),a);return r}function tC(e,t){return e?e+"["+t+"]":t}function rC(e,t,r){if(Array.isArray(r))for(let[n,a]of r.entries())rC(e,tC(t,n.toString()),a);else r instanceof Date?e.push([t,r.toISOString()]):typeof r=="boolean"?e.push([t,r?"1":"0"]):typeof r=="string"?e.push([t,r]):typeof r=="number"?e.push([t,`${r}`]):r==null?e.push([t,""]):Eq(r)&&!x.isValidElement(r)&&eC(r,t,e)}function jq(e){var t,r;let n=(t=e?.form)!=null?t:e.closest("form");if(n){for(let a of n.elements)if(a!==e&&(a.tagName==="INPUT"&&a.type==="submit"||a.tagName==="BUTTON"&&a.type==="submit"||a.nodeName==="INPUT"&&a.type==="image")){a.click();return}(r=n.requestSubmit)==null||r.call(n)}}function Eq(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}let Nq="span";var dl=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(dl||{});function Oq(e,t){var r;let{features:n=1,...a}=e,s={ref:t,"aria-hidden":(n&2)===2?!0:(r=a["aria-hidden"])!=null?r:void 0,hidden:(n&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return Cr()({ourProps:s,theirProps:a,slot:{},defaultTag:Nq,name:"Hidden"})}let su=Sr(Oq),Aq=x.createContext(null);function Tq({children:e}){let t=x.useContext(Aq);if(!t)return ge.createElement(ge.Fragment,null,e);let{target:r}=t;return r?Xs.createPortal(ge.createElement(ge.Fragment,null,e),r):null}function Cq({data:e,form:t,disabled:r,onReset:n,overrides:a}){let[s,l]=x.useState(null),u=Js();return x.useEffect(()=>{if(n&&s)return u.addEventListener(s,"reset",n)},[s,t,n]),ge.createElement(Tq,null,ge.createElement(Pq,{setForm:l,formId:t}),eC(e).map(([d,f])=>ge.createElement(su,{features:dl.Hidden,...$i({key:d,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:t,disabled:r,name:d,value:f,...a})})))}function Pq({setForm:e,formId:t}){return x.useEffect(()=>{if(t){let r=document.getElementById(t);r&&e(r)}},[e,t]),t?null:ge.createElement(su,{features:dl.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:r=>{if(!r)return;let n=r.closest("form");n&&e(n)}})}let Dq=x.createContext(void 0);function nC(){return x.useContext(Dq)}function Mq(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function Va(e){return Mq(e)&&"tagName"in e}function ua(e){return Va(e)&&"accessKey"in e}function Vi(e){return Va(e)&&"tabIndex"in e}function Rq(e){return Va(e)&&"style"in e}function $q(e){return ua(e)&&e.nodeName==="IFRAME"}function aC(e){return ua(e)&&e.nodeName==="INPUT"}function tb(e){return ua(e)&&e.nodeName==="LABEL"}function Lq(e){return ua(e)&&e.nodeName==="FIELDSET"}function iC(e){return ua(e)&&e.nodeName==="LEGEND"}function Iq(e){return Va(e)?e.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function zq(e){let t=e.parentElement,r=null;for(;t&&!Lq(t);)iC(t)&&(r=t),t=t.parentElement;let n=t?.getAttribute("disabled")==="";return n&&Uq(r)?!1:n}function Uq(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(iC(t))return!1;t=t.previousElementSibling}return!0}let sC=Symbol();function Bq(e,t=!0){return Object.assign(e,{[sC]:t})}function Ln(...e){let t=x.useRef(e);x.useEffect(()=>{t.current=e},[e]);let r=qe(n=>{for(let a of t.current)a!=null&&(typeof a=="function"?a(n):a.current=n)});return e.every(n=>n==null||n?.[sC])?void 0:r}let k0=x.createContext(null);k0.displayName="DescriptionContext";function oC(){let e=x.useContext(k0);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,oC),t}return e}function qq(){var e,t;return(t=(e=x.useContext(k0))==null?void 0:e.value)!=null?t:void 0}function lC(){let[e,t]=x.useState([]);return[e.length>0?e.join(" "):void 0,x.useMemo(()=>function(r){let n=qe(s=>(t(l=>[...l,s]),()=>t(l=>{let u=l.slice(),d=u.indexOf(s);return d!==-1&&u.splice(d,1),u}))),a=x.useMemo(()=>({register:n,slot:r.slot,name:r.name,props:r.props,value:r.value}),[n,r.slot,r.name,r.props,r.value]);return ge.createElement(k0.Provider,{value:a},r.children)},[t])]}let Hq="p";function Fq(e,t){let r=x.useId(),n=Ex(),{id:a=`headlessui-description-${r}`,...s}=e,l=oC(),u=Ln(t);Or(()=>l.register(a),[a,l.register]);let d=eo({...l.slot,disabled:n||!1}),f={ref:u,...l.props,id:a};return Cr()({ourProps:f,theirProps:s,slot:d,defaultTag:Hq,name:l.name||"Description"})}let Vq=Sr(Fq),cC=Object.assign(Vq,{});var _h=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(_h||{});let j0=x.createContext(null);j0.displayName="LabelContext";function uC(){let e=x.useContext(j0);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,uC),t}return e}function dC(e){var t,r,n;let a=(r=(t=x.useContext(j0))==null?void 0:t.value)!=null?r:void 0;return((n=void 0)!=null?n:0)>0?[a,...e].filter(Boolean).join(" "):a}function Kq({inherit:e=!1}={}){let t=dC(),[r,n]=x.useState([]),a=e?[t,...r].filter(Boolean):r;return[a.length>0?a.join(" "):void 0,x.useMemo(()=>function(s){let l=qe(d=>(n(f=>[...f,d]),()=>n(f=>{let p=f.slice(),g=p.indexOf(d);return g!==-1&&p.splice(g,1),p}))),u=x.useMemo(()=>({register:l,slot:s.slot,name:s.name,props:s.props,value:s.value}),[l,s.slot,s.name,s.props,s.value]);return ge.createElement(j0.Provider,{value:u},s.children)},[n])]}let Zq="label";function Gq(e,t){var r;let n=x.useId(),a=uC(),s=nC(),l=Ex(),{id:u=`headlessui-label-${n}`,htmlFor:d=s??((r=a.props)==null?void 0:r.htmlFor),passive:f=!1,...p}=e,g=Ln(t);Or(()=>a.register(u),[u,a.register]);let v=qe(k=>{let S=k.currentTarget;if(!(k.target!==k.currentTarget&&Iq(k.target))&&(tb(S)&&k.preventDefault(),a.props&&"onClick"in a.props&&typeof a.props.onClick=="function"&&a.props.onClick(k),tb(S))){let j=document.getElementById(S.htmlFor);if(j){let A=j.getAttribute("disabled");if(A==="true"||A==="")return;let E=j.getAttribute("aria-disabled");if(E==="true"||E==="")return;(aC(j)&&(j.type==="file"||j.type==="radio"||j.type==="checkbox")||j.role==="radio"||j.role==="checkbox"||j.role==="switch")&&j.click(),j.focus({preventScroll:!0})}}}),y=eo({...a.slot,disabled:l||!1}),_={ref:g,...a.props,id:u,htmlFor:d,onClick:v};return f&&("onClick"in _&&(delete _.htmlFor,delete _.onClick),"onClick"in p&&delete p.onClick),Cr()({ourProps:_,theirProps:p,slot:y,defaultTag:d?Zq:"div",name:a.name||"Label"})}let Yq=Sr(Gq),Wq=Object.assign(Yq,{}),Xq=x.createContext(()=>{});function Jq({value:e,children:t}){return ge.createElement(Xq.Provider,{value:e},t)}let fC=class extends Map{constructor(t){super(),this.factory=t}get(t){let r=super.get(t);return r===void 0&&(r=this.factory(t),this.set(t,r)),r}};var Qq=Object.defineProperty,eH=(e,t,r)=>t in e?Qq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,tH=(e,t,r)=>(eH(e,t+"",r),r),hC=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},Nn=(e,t,r)=>(hC(e,t,"read from private field"),r?r.call(e):t.get(e)),Gg=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},pj=(e,t,r,n)=>(hC(e,t,"write to private field"),t.set(e,r),r),aa,Hc,Fc;let rH=class{constructor(t){Gg(this,aa,{}),Gg(this,Hc,new fC(()=>new Set)),Gg(this,Fc,new Set),tH(this,"disposables",ii()),pj(this,aa,t),la.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return Nn(this,aa)}subscribe(t,r){if(la.isServer)return()=>{};let n={selector:t,callback:r,current:t(Nn(this,aa))};return Nn(this,Fc).add(n),this.disposables.add(()=>{Nn(this,Fc).delete(n)})}on(t,r){return la.isServer?()=>{}:(Nn(this,Hc).get(t).add(r),this.disposables.add(()=>{Nn(this,Hc).get(t).delete(r)}))}send(t){let r=this.reduce(Nn(this,aa),t);if(r!==Nn(this,aa)){pj(this,aa,r);for(let n of Nn(this,Fc)){let a=n.selector(Nn(this,aa));mC(n.current,a)||(n.current=a,n.callback(a))}for(let n of Nn(this,Hc).get(t.type))n(Nn(this,aa),t)}}};aa=new WeakMap,Hc=new WeakMap,Fc=new WeakMap;function mC(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:Yg(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:Yg(e.entries(),t.entries()):gj(e)&&gj(t)?Yg(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function Yg(e,t){do{let r=e.next(),n=t.next();if(r.done&&n.done)return!0;if(r.done||n.done||!Object.is(r.value,n.value))return!1}while(!0)}function gj(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}var nH=Object.defineProperty,aH=(e,t,r)=>t in e?nH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,vj=(e,t,r)=>(aH(e,typeof t!="symbol"?t+"":t,r),r),iH=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(iH||{});let sH={0(e,t){let r=t.id,n=e.stack,a=e.stack.indexOf(r);if(a!==-1){let s=e.stack.slice();return s.splice(a,1),s.push(r),n=s,{...e,stack:n}}return{...e,stack:[...e.stack,r]}},1(e,t){let r=t.id,n=e.stack.indexOf(r);if(n===-1)return e;let a=e.stack.slice();return a.splice(n,1),{...e,stack:a}}},oH=class pC extends rH{constructor(){super(...arguments),vj(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),vj(this,"selectors",{isTop:(t,r)=>t.stack[t.stack.length-1]===r,inStack:(t,r)=>t.stack.includes(r)})}static new(){return new pC({stack:[]})}reduce(t,r){return Wa(r.type,sH,t,r)}};const gC=new fC(()=>oH.new());var Wg={exports:{}},Xg={};var yj;function lH(){if(yj)return Xg;yj=1;var e=bl();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,a=e.useRef,s=e.useEffect,l=e.useMemo,u=e.useDebugValue;return Xg.useSyncExternalStoreWithSelector=function(d,f,p,g,v){var y=a(null);if(y.current===null){var _={hasValue:!1,value:null};y.current=_}else _=y.current;y=l(function(){function S(O){if(!j){if(j=!0,A=O,O=g(O),v!==void 0&&_.hasValue){var T=_.value;if(v(T,O))return E=T}return E=O}if(T=E,r(A,O))return T;var C=g(O);return v!==void 0&&v(T,C)?(A=O,T):(A=O,E=C)}var j=!1,A,E,P=p===void 0?null:p;return[function(){return S(f())},P===null?void 0:function(){return S(P())}]},[f,p,g,v]);var k=n(d,y[0],y[1]);return s(function(){_.hasValue=!0,_.value=k},[k]),u(k),k},Xg}var bj;function cH(){return bj||(bj=1,Wg.exports=lH()),Wg.exports}var uH=cH();function vC(e,t,r=mC){return uH.useSyncExternalStoreWithSelector(qe(n=>e.subscribe(dH,n)),qe(()=>e.state),qe(()=>e.state),qe(t),r)}function dH(e){return e}function Nu(e,t){let r=x.useId(),n=gC.get(t),[a,s]=vC(n,x.useCallback(l=>[n.selectors.isTop(l,r),n.selectors.inStack(l,r)],[n,r]));return Or(()=>{if(e)return n.actions.push(r),()=>n.actions.pop(r)},[n,e,r]),e?s?a:!0:!1}let rb=new Map,Wc=new Map;function xj(e){var t;let r=(t=Wc.get(e))!=null?t:0;return Wc.set(e,r+1),r!==0?()=>wj(e):(rb.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>wj(e))}function wj(e){var t;let r=(t=Wc.get(e))!=null?t:1;if(r===1?Wc.delete(e):Wc.set(e,r-1),r!==1)return;let n=rb.get(e);n&&(n["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",n["aria-hidden"]),e.inert=n.inert,rb.delete(e))}function fH(e,{allowed:t,disallowed:r}={}){let n=Nu(e,"inert-others");Or(()=>{var a,s;if(!n)return;let l=ii();for(let d of(a=r?.())!=null?a:[])d&&l.add(xj(d));let u=(s=t?.())!=null?s:[];for(let d of u){if(!d)continue;let f=jl(d);if(!f)continue;let p=d.parentElement;for(;p&&p!==f.body;){for(let g of p.children)u.some(v=>g.contains(v))||l.add(xj(g));p=p.parentElement}}return l.dispose},[n,t,r])}function hH(e,t,r){let n=Qs(a=>{let s=a.getBoundingClientRect();s.x===0&&s.y===0&&s.width===0&&s.height===0&&r()});x.useEffect(()=>{if(!e)return;let a=t===null?null:ua(t)?t:t.current;if(!a)return;let s=ii();if(typeof ResizeObserver<"u"){let l=new ResizeObserver(()=>n.current(a));l.observe(a),s.add(()=>l.disconnect())}if(typeof IntersectionObserver<"u"){let l=new IntersectionObserver(()=>n.current(a));l.observe(a),s.add(()=>l.disconnect())}return()=>s.dispose()},[t,n,e])}let Sh=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),mH=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var za=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(za||{}),nb=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(nb||{}),pH=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(pH||{});function gH(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Sh)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}function vH(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(mH)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var yC=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(yC||{});function yH(e,t=0){var r;return e===((r=jl(e))==null?void 0:r.body)?!1:Wa(t,{0(){return e.matches(Sh)},1(){let n=e;for(;n!==null;){if(n.matches(Sh))return!0;n=n.parentElement}return!1}})}var bH=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(bH||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Ka(e){e?.focus({preventScroll:!0})}let xH=["textarea","input"].join(",");function wH(e){var t,r;return(r=(t=e?.matches)==null?void 0:t.call(e,xH))!=null?r:!1}function _H(e,t=r=>r){return e.slice().sort((r,n)=>{let a=t(r),s=t(n);if(a===null||s===null)return 0;let l=a.compareDocumentPosition(s);return l&Node.DOCUMENT_POSITION_FOLLOWING?-1:l&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Xc(e,t,{sorted:r=!0,relativeTo:n=null,skipElements:a=[]}={}){let s=Array.isArray(e)?e.length>0?Qy(e[0]):document:Qy(e),l=Array.isArray(e)?r?_H(e):e:t&64?vH(e):gH(e);a.length>0&&l.length>1&&(l=l.filter(y=>!a.some(_=>_!=null&&"current"in _?_?.current===y:_===y))),n=n??s?.activeElement;let u=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,l.indexOf(n))-1;if(t&4)return Math.max(0,l.indexOf(n))+1;if(t&8)return l.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=t&32?{preventScroll:!0}:{},p=0,g=l.length,v;do{if(p>=g||p+g<=0)return 0;let y=d+p;if(t&16)y=(y+g)%g;else{if(y<0)return 3;if(y>=g)return 1}v=l[y],v?.focus(f),p+=u}while(v!==JT(v));return t&6&&wH(v)&&v.select(),2}function bC(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function SH(){return/Android/gi.test(window.navigator.userAgent)}function _j(){return bC()||SH()}function Tf(e,t,r,n){let a=Qs(r);x.useEffect(()=>{if(!e)return;function s(l){a.current(l)}return document.addEventListener(t,s,n),()=>document.removeEventListener(t,s,n)},[e,t,n])}function xC(e,t,r,n){let a=Qs(r);x.useEffect(()=>{if(!e)return;function s(l){a.current(l)}return window.addEventListener(t,s,n),()=>window.removeEventListener(t,s,n)},[e,t,n])}const Sj=30;function kH(e,t,r){let n=Qs(r),a=x.useCallback(function(u,d){if(u.defaultPrevented)return;let f=d(u);if(f===null||!f.getRootNode().contains(f)||!f.isConnected)return;let p=(function g(v){return typeof v=="function"?g(v()):Array.isArray(v)||v instanceof Set?v:[v]})(t);for(let g of p)if(g!==null&&(g.contains(f)||u.composed&&u.composedPath().includes(g)))return;return!yH(f,yC.Loose)&&f.tabIndex!==-1&&u.preventDefault(),n.current(u,f)},[n,t]),s=x.useRef(null);Tf(e,"pointerdown",u=>{var d,f;_j()||(s.current=((f=(d=u.composedPath)==null?void 0:d.call(u))==null?void 0:f[0])||u.target)},!0),Tf(e,"pointerup",u=>{if(_j()||!s.current)return;let d=s.current;return s.current=null,a(u,()=>d)},!0);let l=x.useRef({x:0,y:0});Tf(e,"touchstart",u=>{l.current.x=u.touches[0].clientX,l.current.y=u.touches[0].clientY},!0),Tf(e,"touchend",u=>{let d={x:u.changedTouches[0].clientX,y:u.changedTouches[0].clientY};if(!(Math.abs(d.x-l.current.x)>=Sj||Math.abs(d.y-l.current.y)>=Sj))return a(u,()=>Vi(u.target)?u.target:null)},!0),xC(e,"blur",u=>a(u,()=>$q(window.document.activeElement)?window.document.activeElement:null),!0)}function Nx(...e){return x.useMemo(()=>jl(...e),[...e])}function wC(e,t,r,n){let a=Qs(r);x.useEffect(()=>{e=e??window;function s(l){a.current(l)}return e.addEventListener(t,s,n),()=>e.removeEventListener(t,s,n)},[e,t,n])}function jH(e,t){return x.useMemo(()=>{var r;if(e.type)return e.type;let n=(r=e.as)!=null?r:"button";if(typeof n=="string"&&n.toLowerCase()==="button"||t?.tagName==="BUTTON"&&!t.hasAttribute("type"))return"button"},[e.type,e.as,t])}function EH(e){return x.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}function NH(e,t){let r=e(),n=new Set;return{getSnapshot(){return r},subscribe(a){return n.add(a),()=>n.delete(a)},dispatch(a,...s){let l=t[a].call(r,...s);l&&(r=l,n.forEach(u=>u()))}}}function OH(){let e;return{before({doc:t}){var r;let n=t.documentElement,a=(r=t.defaultView)!=null?r:window;e=Math.max(0,a.innerWidth-n.clientWidth)},after({doc:t,d:r}){let n=t.documentElement,a=Math.max(0,n.clientWidth-n.offsetWidth),s=Math.max(0,e-a);r.style(n,"paddingRight",`${s}px`)}}}function AH(){return bC()?{before({doc:e,d:t,meta:r}){function n(a){for(let s of r().containers)for(let l of s())if(l.contains(a))return!0;return!1}t.microTask(()=>{var a;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let u=ii();u.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>u.dispose()))}let s=(a=window.scrollY)!=null?a:window.pageYOffset,l=null;t.addEventListener(e,"click",u=>{if(Vi(u.target))try{let d=u.target.closest("a");if(!d)return;let{hash:f}=new URL(d.href),p=e.querySelector(f);Vi(p)&&!n(p)&&(l=p)}catch{}},!0),t.group(u=>{t.addEventListener(e,"touchstart",d=>{if(u.dispose(),Vi(d.target)&&Rq(d.target))if(n(d.target)){let f=d.target;for(;f.parentElement&&n(f.parentElement);)f=f.parentElement;u.style(f,"overscrollBehavior","contain")}else u.style(d.target,"touchAction","none")})}),t.addEventListener(e,"touchmove",u=>{if(Vi(u.target)){if(aC(u.target))return;if(n(u.target)){let d=u.target;for(;d.parentElement&&d.dataset.headlessuiPortal!==""&&!(d.scrollHeight>d.clientHeight||d.scrollWidth>d.clientWidth);)d=d.parentElement;d.dataset.headlessuiPortal===""&&u.preventDefault()}else u.preventDefault()}},{passive:!1}),t.add(()=>{var u;let d=(u=window.scrollY)!=null?u:window.pageYOffset;s!==d&&window.scrollTo(0,s),l&&l.isConnected&&(l.scrollIntoView({block:"nearest"}),l=null)})})}}:{}}function TH(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function kj(e){let t={};for(let r of e)Object.assign(t,r(t));return t}let Ps=NH(()=>new Map,{PUSH(e,t){var r;let n=(r=this.get(e))!=null?r:{doc:e,count:0,d:ii(),meta:new Set,computedMeta:{}};return n.count++,n.meta.add(t),n.computedMeta=kj(n.meta),this.set(e,n),this},POP(e,t){let r=this.get(e);return r&&(r.count--,r.meta.delete(t),r.computedMeta=kj(r.meta)),this},SCROLL_PREVENT(e){let t={doc:e.doc,d:e.d,meta(){return e.computedMeta}},r=[AH(),OH(),TH()];r.forEach(({before:n})=>n?.(t)),r.forEach(({after:n})=>n?.(t))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Ps.subscribe(()=>{let e=Ps.getSnapshot(),t=new Map;for(let[r]of e)t.set(r,r.documentElement.style.overflow);for(let r of e.values()){let n=t.get(r.doc)==="hidden",a=r.count!==0;(a&&!n||!a&&n)&&Ps.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&Ps.dispatch("TEARDOWN",r)}});function CH(e,t,r=()=>({containers:[]})){let n=EH(Ps),a=t?n.get(t):void 0,s=a?a.count>0:!1;return Or(()=>{if(!(!t||!e))return Ps.dispatch("PUSH",t,r),()=>Ps.dispatch("POP",t,r)},[e,t]),s}function PH(e,t,r=()=>[document.body]){let n=Nu(e,"scroll-lock");CH(n,t,a=>{var s;return{containers:[...(s=a.containers)!=null?s:[],r]}})}function DH(e=0){let[t,r]=x.useState(e),n=x.useCallback(d=>r(d),[]),a=x.useCallback(d=>r(f=>f|d),[]),s=x.useCallback(d=>(t&d)===d,[t]),l=x.useCallback(d=>r(f=>f&~d),[]),u=x.useCallback(d=>r(f=>f^d),[]);return{flags:t,setFlag:n,addFlag:a,hasFlag:s,removeFlag:l,toggleFlag:u}}var MH={},jj,Ej;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((jj=process==null?void 0:MH)==null?void 0:jj.NODE_ENV)==="test"&&typeof((Ej=Element?.prototype)==null?void 0:Ej.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var RH=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(RH||{});function $H(e){let t={};for(let r in e)e[r]===!0&&(t[`data-${r}`]="");return t}function LH(e,t,r,n){let[a,s]=x.useState(r),{hasFlag:l,addFlag:u,removeFlag:d}=DH(e&&a?3:0),f=x.useRef(!1),p=x.useRef(!1),g=Js();return Or(()=>{var v;if(e){if(r&&s(!0),!t){r&&u(3);return}return(v=n?.start)==null||v.call(n,r),IH(t,{inFlight:f,prepare(){p.current?p.current=!1:p.current=f.current,f.current=!0,!p.current&&(r?(u(3),d(4)):(u(4),d(2)))},run(){p.current?r?(d(3),u(4)):(d(4),u(3)):r?d(1):u(1)},done(){var y;p.current&&BH(t)||(f.current=!1,d(7),r||s(!1),(y=n?.end)==null||y.call(n,r))}})}},[e,r,t,g]),e?[a,{closed:l(1),enter:l(2),leave:l(4),transition:l(2)||l(4)}]:[r,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function IH(e,{prepare:t,run:r,done:n,inFlight:a}){let s=ii();return UH(e,{prepare:t,inFlight:a}),s.nextFrame(()=>{r(),s.requestAnimationFrame(()=>{s.add(zH(e,n))})}),s.dispose}function zH(e,t){var r,n;let a=ii();if(!e)return a.dispose;let s=!1;a.add(()=>{s=!0});let l=(n=(r=e.getAnimations)==null?void 0:r.call(e).filter(u=>u instanceof CSSTransition))!=null?n:[];return l.length===0?(t(),a.dispose):(Promise.allSettled(l.map(u=>u.finished)).then(()=>{s||t()}),a.dispose)}function UH(e,{inFlight:t,prepare:r}){if(t!=null&&t.current){r();return}let n=e.style.transition;e.style.transition="none",r(),e.offsetHeight,e.style.transition=n}function BH(e){var t,r;return((r=(t=e.getAnimations)==null?void 0:t.call(e))!=null?r:[]).some(n=>n instanceof CSSTransition&&n.playState!=="finished")}function Ox(e,t){let r=x.useRef([]),n=qe(e);x.useEffect(()=>{let a=[...r.current];for(let[s,l]of t.entries())if(r.current[s]!==l){let u=n(t,a);return r.current=t,u}},[n,...t])}let E0=x.createContext(null);E0.displayName="OpenClosedContext";var Gn=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Gn||{});function N0(){return x.useContext(E0)}function qH({value:e,children:t}){return ge.createElement(E0.Provider,{value:e},t)}function HH({children:e}){return ge.createElement(E0.Provider,{value:null},e)}function FH(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let Bi=[];FH(()=>{function e(t){if(!Vi(t.target)||t.target===document.body||Bi[0]===t.target)return;let r=t.target;r=r.closest(Sh),Bi.unshift(r??t.target),Bi=Bi.filter(n=>n!=null&&n.isConnected),Bi.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function _C(e){let t=qe(e),r=x.useRef(!1);x.useEffect(()=>(r.current=!1,()=>{r.current=!0,S0(()=>{r.current&&t()})}),[t])}let SC=x.createContext(!1);function VH(){return x.useContext(SC)}function Nj(e){return ge.createElement(SC.Provider,{value:e.force},e.children)}function KH(e){let t=VH(),r=x.useContext(jC),[n,a]=x.useState(()=>{var s;if(!t&&r!==null)return(s=r.current)!=null?s:null;if(la.isServer)return null;let l=e?.getElementById("headlessui-portal-root");if(l)return l;if(e===null)return null;let u=e.createElement("div");return u.setAttribute("id","headlessui-portal-root"),e.body.appendChild(u)});return x.useEffect(()=>{n!==null&&(e!=null&&e.body.contains(n)||e==null||e.body.appendChild(n))},[n,e]),x.useEffect(()=>{t||r!==null&&a(r.current)},[r,a,t]),n}let kC=x.Fragment,ZH=Sr(function(e,t){let{ownerDocument:r=null,...n}=e,a=x.useRef(null),s=Ln(Bq(v=>{a.current=v}),t),l=Nx(a.current),u=r??l,d=KH(u),f=x.useContext(ab),p=Js(),g=Cr();return _C(()=>{var v;d&&d.childNodes.length<=0&&((v=d.parentElement)==null||v.removeChild(d))}),d?Xs.createPortal(ge.createElement("div",{"data-headlessui-portal":"",ref:v=>{p.dispose(),f&&v&&p.add(f.register(v))}},g({ourProps:{ref:s},theirProps:n,slot:{},defaultTag:kC,name:"Portal"})),d):null});function GH(e,t){let r=Ln(t),{enabled:n=!0,ownerDocument:a,...s}=e,l=Cr();return n?ge.createElement(ZH,{...s,ownerDocument:a,ref:r}):l({ourProps:{ref:r},theirProps:s,slot:{},defaultTag:kC,name:"Portal"})}let YH=x.Fragment,jC=x.createContext(null);function WH(e,t){let{target:r,...n}=e,a={ref:Ln(t)},s=Cr();return ge.createElement(jC.Provider,{value:r},s({ourProps:a,theirProps:n,defaultTag:YH,name:"Popover.Group"}))}let ab=x.createContext(null);function XH(){let e=x.useContext(ab),t=x.useRef([]),r=qe(s=>(t.current.push(s),e&&e.register(s),()=>n(s))),n=qe(s=>{let l=t.current.indexOf(s);l!==-1&&t.current.splice(l,1),e&&e.unregister(s)}),a=x.useMemo(()=>({register:r,unregister:n,portals:t}),[r,n,t]);return[t,x.useMemo(()=>function({children:s}){return ge.createElement(ab.Provider,{value:a},s)},[a])]}let JH=Sr(GH),EC=Sr(WH),QH=Object.assign(JH,{Group:EC});function eF(e,t=typeof document<"u"?document.defaultView:null,r){let n=Nu(e,"escape");wC(t,"keydown",a=>{n&&(a.defaultPrevented||a.key===_h.Escape&&r(a))})}function tF(){var e;let[t]=x.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[r,n]=x.useState((e=t?.matches)!=null?e:!1);return Or(()=>{if(!t)return;function a(s){n(s.matches)}return t.addEventListener("change",a),()=>t.removeEventListener("change",a)},[t]),r}function rF({defaultContainers:e=[],portals:t,mainTreeNode:r}={}){let n=qe(()=>{var a,s;let l=jl(r),u=[];for(let d of e)d!==null&&(Va(d)?u.push(d):"current"in d&&Va(d.current)&&u.push(d.current));if(t!=null&&t.current)for(let d of t.current)u.push(d);for(let d of(a=l?.querySelectorAll("html > *, body > *"))!=null?a:[])d!==document.body&&d!==document.head&&Va(d)&&d.id!=="headlessui-portal-root"&&(r&&(d.contains(r)||d.contains((s=r?.getRootNode())==null?void 0:s.host))||u.some(f=>d.contains(f))||u.push(d));return u});return{resolveContainers:n,contains:qe(a=>n().some(s=>s.contains(a)))}}let NC=x.createContext(null);function Oj({children:e,node:t}){let[r,n]=x.useState(null),a=OC(t??r);return ge.createElement(NC.Provider,{value:a},e,a===null&&ge.createElement(su,{features:dl.Hidden,ref:s=>{var l,u;if(s){for(let d of(u=(l=jl(s))==null?void 0:l.querySelectorAll("html > *, body > *"))!=null?u:[])if(d!==document.body&&d!==document.head&&Va(d)&&d!=null&&d.contains(s)){n(d);break}}}}))}function OC(e=null){var t;return(t=x.useContext(NC))!=null?t:e}function nF(){let e=typeof document>"u";return"useSyncExternalStore"in Ey?(t=>t.useSyncExternalStore)(Ey)(()=>()=>{},()=>!1,()=>!e):!1}function O0(){let e=nF(),[t,r]=x.useState(la.isHandoffComplete);return t&&la.isHandoffComplete===!1&&r(!1),x.useEffect(()=>{t!==!0&&r(!0)},[t]),x.useEffect(()=>la.handoff(),[]),e?!1:t}function Ax(){let e=x.useRef(!1);return Or(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var Vc=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Vc||{});function aF(){let e=x.useRef(0);return xC(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function AC(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let r of e.current)Va(r.current)&&t.add(r.current);return t}let iF="div";var As=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(As||{});function sF(e,t){let r=x.useRef(null),n=Ln(r,t),{initialFocus:a,initialFocusFallback:s,containers:l,features:u=15,...d}=e;O0()||(u=0);let f=Nx(r.current);uF(u,{ownerDocument:f});let p=dF(u,{ownerDocument:f,container:r,initialFocus:a,initialFocusFallback:s});fF(u,{ownerDocument:f,container:r,containers:l,previousActiveElement:p});let g=aF(),v=qe(A=>{if(!ua(r.current))return;let E=r.current;(P=>P())(()=>{Wa(g.current,{[Vc.Forwards]:()=>{Xc(E,za.First,{skipElements:[A.relatedTarget,s]})},[Vc.Backwards]:()=>{Xc(E,za.Last,{skipElements:[A.relatedTarget,s]})}})})}),y=Nu(!!(u&2),"focus-trap#tab-lock"),_=Js(),k=x.useRef(!1),S={ref:n,onKeyDown(A){A.key=="Tab"&&(k.current=!0,_.requestAnimationFrame(()=>{k.current=!1}))},onBlur(A){if(!(u&4))return;let E=AC(l);ua(r.current)&&E.add(r.current);let P=A.relatedTarget;Vi(P)&&P.dataset.headlessuiFocusGuard!=="true"&&(TC(E,P)||(k.current?Xc(r.current,Wa(g.current,{[Vc.Forwards]:()=>za.Next,[Vc.Backwards]:()=>za.Previous})|za.WrapAround,{relativeTo:A.target}):Vi(A.target)&&Ka(A.target)))}},j=Cr();return ge.createElement(ge.Fragment,null,y&&ge.createElement(su,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:v,features:dl.Focusable}),j({ourProps:S,theirProps:d,defaultTag:iF,name:"FocusTrap"}),y&&ge.createElement(su,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:v,features:dl.Focusable}))}let oF=Sr(sF),lF=Object.assign(oF,{features:As});function cF(e=!0){let t=x.useRef(Bi.slice());return Ox(([r],[n])=>{n===!0&&r===!1&&S0(()=>{t.current.splice(0)}),n===!1&&r===!0&&(t.current=Bi.slice())},[e,Bi,t]),qe(()=>{var r;return(r=t.current.find(n=>n!=null&&n.isConnected))!=null?r:null})}function uF(e,{ownerDocument:t}){let r=!!(e&8),n=cF(r);Ox(()=>{r||fq(t?.body)&&Ka(n())},[r]),_C(()=>{r&&Ka(n())})}function dF(e,{ownerDocument:t,container:r,initialFocus:n,initialFocusFallback:a}){let s=x.useRef(null),l=Nu(!!(e&1),"focus-trap#initial-focus"),u=Ax();return Ox(()=>{if(e===0)return;if(!l){a!=null&&a.current&&Ka(a.current);return}let d=r.current;d&&S0(()=>{if(!u.current)return;let f=t?.activeElement;if(n!=null&&n.current){if(n?.current===f){s.current=f;return}}else if(d.contains(f)){s.current=f;return}if(n!=null&&n.current)Ka(n.current);else{if(e&16){if(Xc(d,za.First|za.AutoFocus)!==nb.Error)return}else if(Xc(d,za.First)!==nb.Error)return;if(a!=null&&a.current&&(Ka(a.current),t?.activeElement===a.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}s.current=t?.activeElement})},[a,l,e]),s}function fF(e,{ownerDocument:t,container:r,containers:n,previousActiveElement:a}){let s=Ax(),l=!!(e&4);wC(t?.defaultView,"focus",u=>{if(!l||!s.current)return;let d=AC(n);ua(r.current)&&d.add(r.current);let f=a.current;if(!f)return;let p=u.target;ua(p)?TC(d,p)?(a.current=p,Ka(p)):(u.preventDefault(),u.stopPropagation(),Ka(f)):Ka(a.current)},!0)}function TC(e,t){for(let r of e)if(r.contains(t))return!0;return!1}function CC(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||!Yc((t=e.as)!=null?t:DC)||ge.Children.count(e.children)===1}let A0=x.createContext(null);A0.displayName="TransitionContext";var hF=(e=>(e.Visible="visible",e.Hidden="hidden",e))(hF||{});function mF(){let e=x.useContext(A0);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function pF(){let e=x.useContext(T0);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let T0=x.createContext(null);T0.displayName="NestingContext";function C0(e){return"children"in e?C0(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function PC(e,t){let r=Qs(e),n=x.useRef([]),a=Ax(),s=Js(),l=qe((y,_=Fi.Hidden)=>{let k=n.current.findIndex(({el:S})=>S===y);k!==-1&&(Wa(_,{[Fi.Unmount](){n.current.splice(k,1)},[Fi.Hidden](){n.current[k].state="hidden"}}),s.microTask(()=>{var S;!C0(n)&&a.current&&((S=r.current)==null||S.call(r))}))}),u=qe(y=>{let _=n.current.find(({el:k})=>k===y);return _?_.state!=="visible"&&(_.state="visible"):n.current.push({el:y,state:"visible"}),()=>l(y,Fi.Unmount)}),d=x.useRef([]),f=x.useRef(Promise.resolve()),p=x.useRef({enter:[],leave:[]}),g=qe((y,_,k)=>{d.current.splice(0),t&&(t.chains.current[_]=t.chains.current[_].filter(([S])=>S!==y)),t?.chains.current[_].push([y,new Promise(S=>{d.current.push(S)})]),t?.chains.current[_].push([y,new Promise(S=>{Promise.all(p.current[_].map(([j,A])=>A)).then(()=>S())})]),_==="enter"?f.current=f.current.then(()=>t?.wait.current).then(()=>k(_)):k(_)}),v=qe((y,_,k)=>{Promise.all(p.current[_].splice(0).map(([S,j])=>j)).then(()=>{var S;(S=d.current.shift())==null||S()}).then(()=>k(_))});return x.useMemo(()=>({children:n,register:u,unregister:l,onStart:g,onStop:v,wait:f,chains:p}),[u,l,n,g,v,p,f])}let DC=x.Fragment,MC=wh.RenderStrategy;function gF(e,t){var r,n;let{transition:a=!0,beforeEnter:s,afterEnter:l,beforeLeave:u,afterLeave:d,enter:f,enterFrom:p,enterTo:g,entered:v,leave:y,leaveFrom:_,leaveTo:k,...S}=e,[j,A]=x.useState(null),E=x.useRef(null),P=CC(e),O=Ln(...P?[E,t,A]:t===null?[]:[t]),T=(r=S.unmount)==null||r?Fi.Unmount:Fi.Hidden,{show:C,appear:D,initial:R}=mF(),[L,$]=x.useState(C?"visible":"hidden"),q=pF(),{register:V,unregister:se}=q;Or(()=>V(E),[V,E]),Or(()=>{if(T===Fi.Hidden&&E.current){if(C&&L!=="visible"){$("visible");return}return Wa(L,{hidden:()=>se(E),visible:()=>V(E)})}},[L,E,V,se,C,T]);let de=O0();Or(()=>{if(P&&de&&L==="visible"&&E.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[E,L,de,P]);let U=R&&!D,H=D&&C&&R,Y=x.useRef(!1),fe=PC(()=>{Y.current||($("hidden"),se(E))},q),pe=qe(ee=>{Y.current=!0;let we=ee?"enter":"leave";fe.onStart(E,we,X=>{X==="enter"?s?.():X==="leave"&&u?.()})}),I=qe(ee=>{let we=ee?"enter":"leave";Y.current=!1,fe.onStop(E,we,X=>{X==="enter"?l?.():X==="leave"&&d?.()}),we==="leave"&&!C0(fe)&&($("hidden"),se(E))});x.useEffect(()=>{P&&a||(pe(C),I(C))},[C,P,a]);let W=!(!a||!P||!de||U),[,Q]=LH(W,j,C,{start:pe,end:I}),K=$i({ref:O,className:((n=eb(S.className,H&&f,H&&p,Q.enter&&f,Q.enter&&Q.closed&&p,Q.enter&&!Q.closed&&g,Q.leave&&y,Q.leave&&!Q.closed&&_,Q.leave&&Q.closed&&k,!Q.transition&&C&&v))==null?void 0:n.trim())||void 0,...$H(Q)}),ae=0;L==="visible"&&(ae|=Gn.Open),L==="hidden"&&(ae|=Gn.Closed),C&&L==="hidden"&&(ae|=Gn.Opening),!C&&L==="visible"&&(ae|=Gn.Closing);let re=Cr();return ge.createElement(T0.Provider,{value:fe},ge.createElement(qH,{value:ae},re({ourProps:K,theirProps:S,defaultTag:DC,features:MC,visible:L==="visible",name:"Transition.Child"})))}function vF(e,t){let{show:r,appear:n=!1,unmount:a=!0,...s}=e,l=x.useRef(null),u=CC(e),d=Ln(...u?[l,t]:t===null?[]:[t]);O0();let f=N0();if(r===void 0&&f!==null&&(r=(f&Gn.Open)===Gn.Open),r===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[p,g]=x.useState(r?"visible":"hidden"),v=PC(()=>{r||g("hidden")}),[y,_]=x.useState(!0),k=x.useRef([r]);Or(()=>{y!==!1&&k.current[k.current.length-1]!==r&&(k.current.push(r),_(!1))},[k,r]);let S=x.useMemo(()=>({show:r,appear:n,initial:y}),[r,n,y]);Or(()=>{r?g("visible"):!C0(v)&&l.current!==null&&g("hidden")},[r,v]);let j={unmount:a},A=qe(()=>{var O;y&&_(!1),(O=e.beforeEnter)==null||O.call(e)}),E=qe(()=>{var O;y&&_(!1),(O=e.beforeLeave)==null||O.call(e)}),P=Cr();return ge.createElement(T0.Provider,{value:v},ge.createElement(A0.Provider,{value:S},P({ourProps:{...j,as:x.Fragment,children:ge.createElement(RC,{ref:d,...j,...s,beforeEnter:A,beforeLeave:E})},theirProps:{},defaultTag:x.Fragment,features:MC,visible:p==="visible",name:"Transition"})))}function yF(e,t){let r=x.useContext(A0)!==null,n=N0()!==null;return ge.createElement(ge.Fragment,null,!r&&n?ge.createElement(ib,{ref:t,...e}):ge.createElement(RC,{ref:t,...e}))}let ib=Sr(vF),RC=Sr(gF),Tx=Sr(yF),bF=Object.assign(ib,{Child:Tx,Root:ib});var xF=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(xF||{}),wF=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(wF||{});let _F={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},Cx=x.createContext(null);Cx.displayName="DialogContext";function P0(e){let t=x.useContext(Cx);if(t===null){let r=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,P0),r}return t}function SF(e,t){return Wa(t.type,_F,e,t)}let Aj=Sr(function(e,t){let r=x.useId(),{id:n=`headlessui-dialog-${r}`,open:a,onClose:s,initialFocus:l,role:u="dialog",autoFocus:d=!0,__demoMode:f=!1,unmount:p=!1,...g}=e,v=x.useRef(!1);u=(function(){return u==="dialog"||u==="alertdialog"?u:(v.current||(v.current=!0,console.warn(`Invalid role [${u}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")})();let y=N0();a===void 0&&y!==null&&(a=(y&Gn.Open)===Gn.Open);let _=x.useRef(null),k=Ln(_,t),S=Nx(_.current),j=a?0:1,[A,E]=x.useReducer(SF,{titleId:null,descriptionId:null,panelRef:x.createRef()}),P=qe(()=>s(!1)),O=qe(Q=>E({type:0,id:Q})),T=O0()?j===0:!1,[C,D]=XH(),R={get current(){var Q;return(Q=A.panelRef.current)!=null?Q:_.current}},L=OC(),{resolveContainers:$}=rF({mainTreeNode:L,portals:C,defaultContainers:[R]}),q=y!==null?(y&Gn.Closing)===Gn.Closing:!1;fH(f||q?!1:T,{allowed:qe(()=>{var Q,K;return[(K=(Q=_.current)==null?void 0:Q.closest("[data-headlessui-portal]"))!=null?K:null]}),disallowed:qe(()=>{var Q;return[(Q=L?.closest("body > *:not(#headlessui-portal-root)"))!=null?Q:null]})});let V=gC.get(null);Or(()=>{if(T)return V.actions.push(n),()=>V.actions.pop(n)},[V,n,T]);let se=vC(V,x.useCallback(Q=>V.selectors.isTop(Q,n),[V,n]));kH(se,$,Q=>{Q.preventDefault(),P()}),eF(se,S?.defaultView,Q=>{Q.preventDefault(),Q.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),P()}),PH(f||q?!1:T,S,$),hH(T,_,P);let[de,U]=lC(),H=x.useMemo(()=>[{dialogState:j,close:P,setTitleId:O,unmount:p},A],[j,P,O,p,A]),Y=eo({open:j===0}),fe={ref:k,id:n,role:u,tabIndex:-1,"aria-modal":f?void 0:j===0?!0:void 0,"aria-labelledby":A.titleId,"aria-describedby":de,unmount:p},pe=!tF(),I=As.None;T&&!f&&(I|=As.RestoreFocus,I|=As.TabLock,d&&(I|=As.AutoFocus),pe&&(I|=As.InitialFocus));let W=Cr();return ge.createElement(HH,null,ge.createElement(Nj,{force:!0},ge.createElement(QH,null,ge.createElement(Cx.Provider,{value:H},ge.createElement(EC,{target:_},ge.createElement(Nj,{force:!1},ge.createElement(U,{slot:Y},ge.createElement(D,null,ge.createElement(lF,{initialFocus:l,initialFocusFallback:_,containers:$,features:I},ge.createElement(Jq,{value:P},W({ourProps:fe,theirProps:g,slot:Y,defaultTag:kF,features:jF,visible:j===0,name:"Dialog"})))))))))))}),kF="div",jF=wh.RenderStrategy|wh.Static;function EF(e,t){let{transition:r=!1,open:n,...a}=e,s=N0(),l=e.hasOwnProperty("open")||s!==null,u=e.hasOwnProperty("onClose");if(!l&&!u)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!l)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!u)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!s&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(n!==void 0||r)&&!a.static?ge.createElement(Oj,null,ge.createElement(bF,{show:n,transition:r,unmount:a.unmount},ge.createElement(Aj,{ref:t,...a}))):ge.createElement(Oj,null,ge.createElement(Aj,{ref:t,open:n,...a}))}let NF="div";function OF(e,t){let r=x.useId(),{id:n=`headlessui-dialog-panel-${r}`,transition:a=!1,...s}=e,[{dialogState:l,unmount:u},d]=P0("Dialog.Panel"),f=Ln(t,d.panelRef),p=eo({open:l===0}),g=qe(S=>{S.stopPropagation()}),v={ref:f,id:n,onClick:g},y=a?Tx:x.Fragment,_=a?{unmount:u}:{},k=Cr();return ge.createElement(y,{..._},k({ourProps:v,theirProps:s,slot:p,defaultTag:NF,name:"Dialog.Panel"}))}let AF="div";function TF(e,t){let{transition:r=!1,...n}=e,[{dialogState:a,unmount:s}]=P0("Dialog.Backdrop"),l=eo({open:a===0}),u={ref:t,"aria-hidden":!0},d=r?Tx:x.Fragment,f=r?{unmount:s}:{},p=Cr();return ge.createElement(d,{...f},p({ourProps:u,theirProps:n,slot:l,defaultTag:AF,name:"Dialog.Backdrop"}))}let CF="h2";function PF(e,t){let r=x.useId(),{id:n=`headlessui-dialog-title-${r}`,...a}=e,[{dialogState:s,setTitleId:l}]=P0("Dialog.Title"),u=Ln(t);x.useEffect(()=>(l(n),()=>l(null)),[n,l]);let d=eo({open:s===0}),f={ref:u,id:n};return Cr()({ourProps:f,theirProps:a,slot:d,defaultTag:CF,name:"Dialog.Title"})}let DF=Sr(EF),MF=Sr(OF);Sr(TF);let RF=Sr(PF),Nt=Object.assign(DF,{Panel:MF,Title:RF,Description:cC}),Px=x.createContext(null);Px.displayName="GroupContext";let $F=x.Fragment;function LF(e){var t;let[r,n]=x.useState(null),[a,s]=Kq(),[l,u]=lC(),d=x.useMemo(()=>({switch:r,setSwitch:n}),[r,n]),f={},p=e,g=Cr();return ge.createElement(u,{name:"Switch.Description",value:l},ge.createElement(s,{name:"Switch.Label",value:a,props:{htmlFor:(t=d.switch)==null?void 0:t.id,onClick(v){r&&(tb(v.currentTarget)&&v.preventDefault(),r.click(),r.focus({preventScroll:!0}))}}},ge.createElement(Px.Provider,{value:d},g({ourProps:f,theirProps:p,slot:{},defaultTag:$F,name:"Switch.Group"}))))}let IF="button";function zF(e,t){var r;let n=x.useId(),a=nC(),s=Ex(),{id:l=a||`headlessui-switch-${n}`,disabled:u=s||!1,checked:d,defaultChecked:f,onChange:p,name:g,value:v,form:y,autoFocus:_=!1,...k}=e,S=x.useContext(Px),[j,A]=x.useState(null),E=x.useRef(null),P=Ln(E,t,S===null?null:S.setSwitch,A),O=kq(f),[T,C]=Sq(d,p,O??!1),D=Js(),[R,L]=x.useState(!1),$=qe(()=>{L(!0),C?.(!T),D.nextFrame(()=>{L(!1)})}),q=qe(ee=>{if(zq(ee.currentTarget))return ee.preventDefault();ee.preventDefault(),$()}),V=qe(ee=>{ee.key===_h.Space?(ee.preventDefault(),$()):ee.key===_h.Enter&&jq(ee.currentTarget)}),se=qe(ee=>ee.preventDefault()),de=dC(),U=qq(),{isFocusVisible:H,focusProps:Y}=lq({autoFocus:_}),{isHovered:fe,hoverProps:pe}=oq({isDisabled:u}),{pressed:I,pressProps:W}=pq({disabled:u}),Q=eo({checked:T,disabled:u,hover:fe,focus:H,active:I,autofocus:_,changing:R}),K=xq({id:l,ref:P,role:"switch",type:jH(e,j),tabIndex:e.tabIndex===-1?0:(r=e.tabIndex)!=null?r:0,"aria-checked":T,"aria-labelledby":de,"aria-describedby":U,disabled:u||void 0,autoFocus:_,onClick:q,onKeyUp:V,onKeyPress:se},Y,pe,W),ae=x.useCallback(()=>{if(O!==void 0)return C?.(O)},[C,O]),re=Cr();return ge.createElement(ge.Fragment,null,g!=null&&ge.createElement(Cq,{disabled:u,data:{[g]:v||"on"},overrides:{type:"checkbox",checked:T},form:y,onReset:ae}),re({ourProps:K,theirProps:k,slot:Q,defaultTag:IF,name:"Switch"}))}let UF=Sr(zF),BF=LF,qF=Wq,HF=cC,FF=Object.assign(UF,{Group:BF,Label:qF,Description:HF});function $C({isOpen:e,onClose:t,date:r,orders:n=[],monthlyInbound:a,updateDateInbound:s}){const{updateDailyManifest:l,addOrdersBulk:u,removeOrder:d,updateOrder:f}=$n(),{schedulerSettings:p,activeSku:g}=Qn(),{getProductSpecs:v,productMap:y}=fr(),[_,k]=x.useState(null),[S,j]=x.useState({}),[A,E]=x.useState(""),[P,O]=x.useState(null),T=[...n].sort((K,ae)=>{const re=ee=>{if(!ee||ee==="00:00")return 99999;const[we,X]=ee.split(":").map(Number);return we*60+(X||0)};return re(K.time)-re(ae.time)}),C=K=>"1.0",D=K=>1,R=K=>{if(!p)return"TBD (Settings)";const re=T[K]?.sku||g,ee=v(re)||y?.[re];if(!ee)return"TBD (No SKU)";const we=Number(ee.productionRate),X=Number(ee.bottlesPerTruck);if(!we||we<=0)return"TBD (No Rate)";if(!X)return"TBD (No Cap)";const me=LT(K,p.shiftStartTime||"06:00",X,we,Number(ee.bottlesPerCase)||1,Math.max(T.length,Math.round(Number(a[r]||0))));return me?iu(me):"TBD"},L=(K,ae)=>{if(!s)return;const re=ae.length;s(K,re)},[$,q]=x.useState(null),V=K=>{const ae=n.find(ee=>ee.id===K);d(r,K,ae?.po);const re=n.filter(ee=>ee.id!==K);L(r,re),q(null)},se=K=>{q({title:"Cancel Delivery?",message:"Are you sure you want to remove this delivery? This action cannot be undone if not synced with SAP.",type:"danger",onConfirm:()=>V(K)})},de=K=>{f(r,{...K,status:"received"}),q(null)},U=K=>{de(K)},H=K=>{O(K);const ae=lr(new Date(r+"T00:00:00"),1);E(vt(ae))},Y=()=>{if(!A||!P)return;const K=n.find(ee=>ee.id===P);if(!K)return;const ae=_===P?{...K,...S,date:A}:{...K,date:A};u([ae]),d(r,P,K.po);const re=n.filter(ee=>ee.id!==P);if(L(r,re),s&&a){const ee=Number(a[A]||0),we=D(ae.qty);s(A,ee+we)}O(null),E(""),k(null)},[fe,pe]=x.useState(!1),I=()=>{const K=Math.round(Number(a[r]||0));let ae=`Replenishment Plan - ${new Date(r+"T00:00:00").toLocaleDateString()}
`;ae+=`Total Planned Trucks: ${K}
`,ae+=`--------------------------------
`;for(let re=0;re<K;re++)ae+=`Load #${re+1}: ${R(re)}
`;navigator.clipboard.writeText(ae),pe(!0),setTimeout(()=>pe(!1),2e3)},W=K=>{k(K.id),j({...K})},Q=()=>{if(!_)return;const K={...n.find(re=>re.id===_),...S};f(r,K);const ae=n.map(re=>re.id===_?K:re);L(r,ae),k(null)};return m.jsxs(Nt,{open:e,onClose:t,className:"relative z-50",children:[m.jsx("div",{className:"fixed inset-0 bg-black/30","aria-hidden":"true"}),m.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:m.jsxs(Nt.Panel,{className:"w-full max-w-3xl bg-white dark:bg-gray-900 rounded-2xl shadow-xl overflow-hidden flex flex-col max-h-[90vh]",children:[m.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800/50",children:[m.jsxs("div",{children:[m.jsxs(Nt.Title,{className:"text-lg font-bold flex items-center gap-2 text-gray-900 dark:text-white uppercase tracking-wide",children:[m.jsx(M5,{className:"w-5 h-5 text-blue-500"}),new Date(r+"T00:00:00").toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"})]}),m.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Found ",n.length," Scheduled Deliveries"]})]}),m.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:m.jsx(Gs,{className:"w-6 h-6"})})]}),$&&m.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/20 backdrop-blur-sm p-4 animate-fadeIn",children:m.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700 p-6 w-full max-w-sm flex flex-col items-center text-center transform transition-all scale-100",children:[m.jsx("div",{className:`p-4 rounded-full mb-4 ${$.type==="danger"?"bg-red-100 text-red-600":"bg-blue-100 text-blue-600"}`,children:$.type==="danger"?m.jsx(Ya,{className:"w-8 h-8"}):m.jsx(qa,{className:"w-8 h-8"})}),m.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:$.title}),m.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6 leading-relaxed",children:$.message}),m.jsxs("div",{className:"flex gap-3 w-full",children:[m.jsx("button",{onClick:()=>q(null),className:"flex-1 px-4 py-2 rounded-lg border border-gray-300 text-gray-700 font-bold hover:bg-gray-50 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),m.jsx("button",{onClick:()=>$.onConfirm(),className:`flex-1 px-4 py-2 rounded-lg text-white font-bold shadow-lg transition-transform hover:scale-105 ${$.type==="danger"?"bg-red-600 hover:bg-red-700 shadow-red-500/30":"bg-emerald-600 hover:bg-emerald-700 shadow-emerald-500/30"}`,children:"Confirm"})]})]})}),m.jsxs("div",{className:"p-6 overflow-y-auto space-y-4",children:[n.length===0?m.jsx(m.Fragment,{children:a&&Number(a[r]||0)>0?m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-center justify-between bg-blue-50 dark:bg-blue-900/20 p-3 rounded-md",children:[m.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-200 flex items-center gap-2",children:[m.jsx("span",{className:"text-xl",children:""}),m.jsxs("span",{children:[m.jsxs("strong",{children:[Number(a[r])," Trucks Planned"]})," via Auto-Replenishment.",m.jsx("br",{}),"Purchase Orders have not been imported yet."]})]}),m.jsx("button",{onClick:I,className:`flex items-center px-3 py-1.5 rounded-lg text-xs font-bold transition-all ${fe?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-white text-gray-600 border border-gray-200 hover:bg-gray-50 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600"}`,children:fe?m.jsxs(m.Fragment,{children:[m.jsx(qa,{className:"w-4 h-4 mr-1.5"}),"Copied!"]}):m.jsxs(m.Fragment,{children:[m.jsx(Qc,{className:"w-4 h-4 mr-1.5"}),"Copy Plan"]})})]}),Array.from({length:Math.round(Number(a[r]))}).map((K,ae)=>m.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-4 flex items-center justify-between opacity-75 grayscale",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"bg-gray-200 dark:bg-gray-700 p-3 rounded-lg",children:m.jsx(Vr,{className:"w-6 h-6 text-gray-400"})}),m.jsxs("div",{children:[m.jsxs("h3",{className:"text-lg font-bold text-gray-500 dark:text-gray-400 italic",children:["Planned Load #",ae+1]}),m.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[m.jsxs("div",{className:"flex items-center text-xs font-mono font-bold text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/30 px-2 py-0.5 rounded",children:[m.jsx(Su,{className:"w-3 h-3 mr-1"}),"Est. ",R(ae)]}),m.jsx("span",{className:"text-xs text-gray-400",children:"Awaiting PO"})]})]})]}),m.jsx("div",{className:"px-3 py-1 bg-gray-100 dark:bg-gray-700 text-xs font-bold text-gray-500 rounded-full",children:"AUTO-PLAN"})]},`planned-${ae}`))]}):m.jsx("div",{className:"text-center py-10 text-gray-400 italic bg-gray-50 dark:bg-gray-800 rounded-lg",children:"No deliveries scheduled for this day."})}):T.map((K,ae)=>m.jsx("div",{className:"bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-lg shadow-sm p-4 relative group hover:border-blue-300 dark:hover:border-blue-700 transition-colors",children:_===K.id?m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[m.jsxs("div",{className:"col-span-1",children:[m.jsx("label",{className:"text-xs font-bold text-gray-500",children:"PO Number"}),m.jsx("input",{type:"text",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:S.po||"",onChange:re=>j(ee=>({...ee,po:re.target.value}))})]}),m.jsxs("div",{className:"col-span-1",children:[m.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Appointment Time"}),m.jsx("input",{type:"time",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:S.time||"",onChange:re=>j(ee=>({...ee,time:re.target.value}))})]}),m.jsxs("div",{className:"col-span-1",children:[m.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Appointment Time"}),m.jsx("input",{type:"time",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:S.time||"",onChange:re=>j(ee=>({...ee,time:re.target.value}))})]}),m.jsxs("div",{className:"col-span-1",children:[m.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Supplier"}),m.jsx("input",{type:"text",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:S.supplier||"",onChange:re=>j(ee=>({...ee,supplier:re.target.value}))})]}),m.jsxs("div",{className:"col-span-1",children:[m.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Quantity"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("input",{type:"number",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:S.qty||0,onChange:re=>j(ee=>({...ee,qty:re.target.value}))}),m.jsxs("span",{className:"text-xs text-gray-400 whitespace-nowrap",children:["= ",C(S.qty||0)," Trucks"]})]})]})]}),m.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg flex items-center gap-3",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("label",{className:"text-xs font-bold text-blue-700 dark:text-blue-300",children:"Move to Date"}),m.jsx("input",{type:"date",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white mt-1",value:A,onChange:re=>{E(re.target.value),P||O(K.id)}})]}),m.jsxs("button",{onClick:Y,disabled:!A,className:"mt-5 px-4 py-2 bg-blue-600 text-white rounded-lg font-bold text-sm disabled:opacity-50 hover:bg-blue-500 flex items-center",children:[m.jsx(i$,{className:"w-5 h-5 mr-1"}),"Reschedule"]})]}),m.jsxs("div",{className:"flex justify-between border-t dark:border-gray-700 pt-3",children:[m.jsx("button",{onClick:()=>k(null),className:"text-sm text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:"Cancel"}),m.jsxs("button",{onClick:Q,className:"flex items-center text-sm font-bold text-green-600 hover:text-green-700",children:[m.jsx(qa,{className:"w-5 h-5 mr-1"}),"Save Changes"]})]})]}):m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"bg-blue-100 dark:bg-blue-900 p-3 rounded-lg",children:m.jsx(Vr,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),m.jsxs("div",{children:[m.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center",children:[m.jsx("span",{className:"font-mono",children:K.time&&K.time!=="00:00"?iu(K.time):"TBD"}),m.jsx("span",{className:"mx-2 text-gray-300",children:"|"}),"PO #",K.po,K.loadId&&m.jsxs("span",{className:"ml-2 px-2 py-0.5 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs rounded-full font-bold",children:["Load ID: ",K.loadId]}),m.jsx("span",{className:"ml-2 px-2 py-0.5 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-100 text-xs rounded-full font-bold",children:"1 Truck"}),m.jsx("button",{onClick:re=>{re.stopPropagation();const ee=K.status||"ordered";ee==="received"?confirm("Revert 'Received' status back to 'Ordered'?")&&f(r,{...K,status:"ordered"}):f(r,{...K,status:ee==="confirmed"?"ordered":"confirmed"})},className:`ml-2 px-2 py-0.5 text-xs rounded-full font-bold border transition-colors ${K.status==="received"?"bg-emerald-100 text-emerald-800 border-emerald-200 hover:bg-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-300 dark:border-emerald-800":K.status==="confirmed"?"bg-blue-100 text-blue-800 border-blue-200 hover:bg-blue-200 dark:bg-blue-900/30 dark:text-blue-300 dark:border-blue-800":"bg-yellow-100 text-yellow-800 border-yellow-200 hover:bg-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-300 dark:border-yellow-800"}`,title:"Toggle Status",children:K.status==="received"?"Received":K.status==="confirmed"?"Confirmed":"Ordered"})]}),m.jsxs("div",{className:"flex flex-col gap-1 mt-1",children:[m.jsxs("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[m.jsx("span",{children:K.supplier||K.vendor||"Unknown Supplier"}),m.jsx("span",{className:"text-gray-300",children:"|"}),m.jsx("span",{className:"text-gray-600 dark:text-gray-400 font-bold",children:K.sku||g}),m.jsxs("span",{className:"text-gray-400 font-normal",children:["- ",y[K.sku||g]?.description||"No Description"]})]}),Number(K.qty)>0&&m.jsxs("span",{className:"text-xs text-gray-400",children:["(",Number(String(K.qty).replace(/,/g,"")).toLocaleString()," units)"]})]})]})]}),m.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[K.status!=="received"&&m.jsx("button",{onClick:re=>{re.stopPropagation(),U(K)},className:"p-2 text-gray-400 hover:text-emerald-600 hover:bg-emerald-50 rounded-lg dark:hover:bg-emerald-900/30",title:"Mark as Received",children:m.jsx(qa,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>{W(K),H(K.id)},className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg dark:hover:bg-blue-900/30",title:"Edit or Reschedule",children:m.jsx(eu,{className:"w-5 h-5"})}),m.jsx("button",{onClick:re=>{re.stopPropagation(),se(K.id)},className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg dark:hover:bg-red-900/30",title:"Cancel Delivery",children:m.jsx(Ya,{className:"w-5 h-5"})})]})]})},K.id||ae)),m.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-lg flex gap-3 text-xs text-yellow-800 dark:text-yellow-200",children:[m.jsx("span",{className:"text-lg",children:""}),m.jsxs("p",{children:[m.jsx("strong",{children:"Schedule Exception Management"}),m.jsx("br",{}),"Use this tool to handle cancellations or delays. Removing a PO here is permanent unless re-imported from SAP."]})]})]})]})})]})}const VF=x.memo(({dates:e,todayStr:t})=>m.jsx("thead",{className:"sticky top-0 z-20",children:m.jsxs("tr",{children:[m.jsx("th",{className:"sticky left-0 min-w-[140px] w-[140px] h-10 bg-slate-800 dark:bg-slate-950 border-b border-r border-slate-600 dark:border-slate-700 pl-2 pr-2 text-left text-xs font-bold text-white dark:text-slate-200 uppercase tracking-wider z-30 shadow-md",children:m.jsx("div",{className:"flex items-center h-full",children:m.jsx("span",{children:"Metric"})})}),e.map(r=>{const n=vt(r),a=new Date(n+"T00:00:00"),s=n===t,l=a.getDay()===0||a.getDay()===6;return m.jsx("th",{className:`
                            min-w-[100px] w-[100px] h-10 p-0 border-b border-r border-slate-600 dark:border-slate-700 transition-colors
                            ${s?"bg-blue-600 text-white font-extrabold shadow-md":"bg-slate-800 dark:bg-slate-950 text-slate-200 dark:text-slate-400"}
                            ${l&&!s?"bg-slate-700/50 dark:bg-slate-900/50 text-slate-400":""}
                        `,children:m.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center",children:[m.jsx("div",{className:`uppercase text-[9px] leading-tight font-semibold ${s?"opacity-90":"opacity-60"}`,children:(()=>{const[u,d,f]=n.split("-").map(Number);return new Date(u,d-1,f).toLocaleDateString("en-US",{weekday:"short"})})()}),m.jsx("div",{className:"text-sm leading-none mt-0.5",children:n.split("-")[2].replace(/^0/,"")})]})},n)})]})}));function KF({date:e,todayStr:t,demandVal:r,updateDateDemand:n,actualVal:a,updateDateActual:s,manifestItems:l,monthlyInboundVal:u,updateDateInbound:d,ledgerItem:f,openManager:p,readOnly:g=!1}){const v=vt(e),y=v===t,_=a!==void 0,k=l&&l.length>0,S=k?l.length:u||0;return m.jsxs("div",{className:`p-4 rounded-xl border-2 mb-4 shadow-sm ${y?"bg-blue-50 border-blue-200 dark:bg-blue-900/20 dark:border-blue-800":"bg-white border-gray-100 dark:bg-gray-800 dark:border-gray-700"}`,children:[m.jsxs("div",{className:"flex justify-between items-center mb-3",children:[m.jsxs("div",{children:[m.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:new Date(e).toLocaleDateString("en-US",{weekday:"long"})}),m.jsx("div",{className:"text-lg font-black text-gray-800 dark:text-white",children:new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]}),y&&m.jsx("span",{className:"bg-blue-100 text-blue-700 px-2 py-0.5 rounded text-[10px] font-bold uppercase",children:"Today"})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-2 rounded-lg",children:[m.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"Production Plan"}),m.jsx("input",{className:`w-full bg-white dark:bg-gray-600 rounded border border-gray-200 dark:border-gray-500 p-2 text-sm font-bold text-center outline-none ${g?"cursor-default opacity-80":"focus:ring-2 focus:ring-blue-500"}`,placeholder:g?"":"-",value:r||"",disabled:g,onChange:j=>n(v,j.target.value)})]}),m.jsxs("div",{className:"bg-blue-50/50 dark:bg-blue-900/10 p-2 rounded-lg border border-blue-100 dark:border-blue-900",children:[m.jsx("label",{className:"text-[10px] font-bold text-blue-400 uppercase block mb-1",children:"Actual / Prod"}),m.jsx("input",{className:`w-full bg-white dark:bg-gray-600 rounded border border-blue-200 dark:border-blue-800 p-2 text-sm font-bold text-center text-blue-700 dark:text-blue-300 outline-none ${g?"cursor-default opacity-80":"focus:ring-2 focus:ring-blue-500"}`,placeholder:g?"":"-",value:_?Number(a).toLocaleString():"",disabled:g,onChange:j=>{const A=j.target.value.replace(/,/g,"");isNaN(A)||s(v,A)}})]}),m.jsxs("div",{className:"bg-green-50/50 dark:bg-green-900/10 p-2 rounded-lg border border-green-100 dark:border-green-900",children:[m.jsx("label",{className:"text-[10px] font-bold text-green-400 uppercase block mb-1",children:"Inbound Trucks"}),k?m.jsxs("button",{className:`w-full bg-white dark:bg-gray-600 rounded border border-green-200 dark:border-green-800 p-2 text-sm font-bold text-center text-green-700 dark:text-green-400 flex items-center justify-center gap-2 ${g?"cursor-default opacity-80":""}`,onClick:()=>!g&&p(v),disabled:g,children:[S," ",m.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"})]}):m.jsx("input",{className:`w-full bg-white dark:bg-gray-600 rounded border border-green-200 dark:border-green-800 p-2 text-sm font-bold text-center text-green-700 dark:text-green-400 outline-none ${g?"cursor-default opacity-80":"focus:ring-2 focus:ring-green-500"}`,placeholder:g?"":"0",value:S||"",disabled:g,onChange:j=>{const A=j.target.value.replace(/,/g,"");isNaN(A)||d(v,A)}})]}),m.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-2 rounded-lg flex flex-col justify-center items-center",children:[m.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"End Balance"}),m.jsx("div",{className:"text-sm font-black text-gray-700 dark:text-gray-300",children:f?f.balance.toLocaleString():"-"})]})]})]})}const ZF=x.memo(({dates:e,monthlyDemand:t,updateDateDemand:r,updateDateDemandBulk:n,readOnly:a=!1,todayStr:s})=>{const l=x.useRef(r);return x.useEffect(()=>{l.current=r},[r]),m.jsxs("tr",{className:"group/row",children:[m.jsx("th",{className:"sticky left-0 min-w-[140px] w-[140px] h-8 bg-slate-300 dark:bg-slate-800 border-r border-slate-400 dark:border-slate-600 pl-2 pr-2 text-left text-xs font-bold text-slate-800 dark:text-slate-300 z-10 shadow-md relative",children:m.jsx("div",{className:"w-full h-full flex items-center",children:"Production (Plan)"})}),e.map(u=>{const d=vt(u),f=t[d];return m.jsx(GF,{date:u,dateStr:d,initialValue:f,updateDateDemand:r,updateDateDemandBulk:n,readOnly:a,isToday:d===s},d)})]})}),GF=x.memo(({date:e,dateStr:t,initialValue:r,updateDateDemand:n,updateDateDemandBulk:a,readOnly:s,isToday:l})=>{const u=x.useRef(null),[d,f]=x.useState(null);x.useEffect(()=>{u.current&&document.activeElement!==u.current&&(u.current.value=r?Number(r).toLocaleString():"")},[r]);const p=S=>{if(!S)return"";const j=S.toString().toLowerCase().trim().replace(/,/g,"");let A=1;j.endsWith("k")?A=1e3:j.endsWith("m")&&(A=1e6);let E=parseFloat(j.replace(/[km]/g,""));return isNaN(E)?S:(E*=A,A===1&&E>0&&E<1e3&&(E*=1e3),E.toString())},g=()=>{if(!s&&u.current){const S=p(u.current.value);S!==r&&n(t,S),S&&!isNaN(S)&&(u.current.value=Number(S).toLocaleString())}},v=S=>{if(!s&&S.key==="Enter"){S.preventDefault();const j=S.target.value.replace(/,/g,""),A=p(j);n(t,A),A&&!isNaN(A)&&(S.target.value=Number(A).toLocaleString());const P=`demand-${lr(t,1)}`;setTimeout(()=>{const O=document.getElementById(P);O&&(O.focus(),O.select())},0)}},y=S=>{s||(S.preventDefault(),f({x:S.clientX,y:S.clientY}))},_=()=>f(null),k=S=>{const j=u.current?p(u.current.value):r;if(!j)return;const A={};if(A[t]=j,S==="week")for(let E=1;E<7;E++)A[lr(t,E)]=j;if(S==="month"){const E=new Date(e).getMonth();let P=1;for(;;){const O=lr(t,P);if(new Date(O).getMonth()!==E||(A[O]=j,P++,P>31))break}}if(S==="restOfWeek"){new Date(e).getDay();let E=1;for(;;){const P=lr(t,E),O=new Date(P);if(A[P]=j,O.getDay()===0||(E++,E>7))break}}a&&a(A),_()};return m.jsxs("td",{className:`min-w-[100px] w-[100px] h-8 p-0 border-r border-slate-300 dark:border-slate-700 transition-colors 
            ${l?"bg-blue-50/50 dark:bg-blue-900/10 border-x-2 border-x-blue-300":"bg-slate-200 dark:bg-slate-800/50"}`,children:[m.jsx("div",{className:"w-full h-full relative group/cell",onContextMenu:y,children:m.jsx("input",{ref:u,id:`demand-${t}`,type:"text",inputMode:"decimal",className:`
                        w-full h-full text-center outline-none transition-all font-bold text-sm m-0 p-0
                        ${s?"cursor-not-allowed text-slate-500 bg-transparent":"cursor-text text-slate-800 dark:text-slate-100 bg-transparent focus:bg-white dark:focus:bg-slate-700 hover:ring-1 hover:ring-slate-300 dark:hover:ring-slate-600 focus:ring-2 focus:ring-inset focus:ring-blue-500 focus:z-10 focus:shadow-sm"}
                        placeholder:text-slate-300 dark:placeholder:text-slate-600
                    `,placeholder:s?"":"-",disabled:s,onBlur:g,onKeyDown:v,autoComplete:"off"})}),d&&m.jsx(YF,{x:d.x,y:d.y,onClose:_,onAction:k})]})}),YF=({x:e,y:t,onClose:r,onAction:n})=>{x.useEffect(()=>{const s=()=>r();return window.addEventListener("click",s),()=>window.removeEventListener("click",s)},[r]);const a=s=>s.stopPropagation();return Xs.createPortal(m.jsxs("div",{className:"fixed z-[100] min-w-[180px] bg-white dark:bg-slate-800 rounded-lg shadow-xl ring-1 ring-black/5 dark:ring-white/10 py-1 origin-top-left transform transition-all animate-in fade-in zoom-in-95 duration-100",style:{top:t,left:e},onClick:a,onContextMenu:s=>s.preventDefault(),children:[m.jsx("div",{className:"px-3 py-2 text-[10px] font-bold text-slate-400 uppercase tracking-wider border-b border-slate-100 dark:border-slate-700 mb-1",children:"Quick Fill"}),m.jsxs("button",{onClick:()=>n("week"),className:"w-full text-left px-4 py-2 text-sm text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700 flex items-center gap-2 group",children:[m.jsx("div",{className:"p-1 rounded-md bg-emerald-50 text-emerald-600 group-hover:bg-emerald-100 dark:bg-emerald-900/30 dark:text-emerald-400",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"})})}),m.jsx("span",{children:"Next 7 Days"})]}),m.jsxs("button",{onClick:()=>n("restOfWeek"),className:"w-full text-left px-4 py-2 text-sm text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700 flex items-center gap-2 group",children:[m.jsx("div",{className:"p-1 rounded-md bg-blue-50 text-blue-600 group-hover:bg-blue-100 dark:bg-blue-900/30 dark:text-blue-400",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0h9m3.102-1.296a4.5 4.5 0 016.3 6.3m0-6.3a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0z"})})}),m.jsx("span",{children:"Rest of Week"})]}),m.jsxs("button",{onClick:()=>n("month"),className:"w-full text-left px-4 py-2 text-sm text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700 flex items-center gap-2 group",children:[m.jsx("div",{className:"p-1 rounded-md bg-purple-50 text-purple-600 group-hover:bg-purple-100 dark:bg-purple-900/30 dark:text-purple-400",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0h9m3.102-1.296a4.5 4.5 0 016.3 6.3m0-6.3a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0z"})})}),m.jsx("span",{children:"Rest of Month"})]})]}),document.body)},WF=x.memo(({dates:e,monthlyProductionActuals:t,updateDateActual:r,readOnly:n=!1,todayStr:a})=>m.jsxs("tr",{className:"bg-sky-50/20 dark:bg-sky-900/10",children:[m.jsx("th",{className:"sticky left-0 min-w-[140px] w-[140px] h-8 bg-sky-50 dark:bg-slate-800 border-r border-slate-300 dark:border-slate-600 pl-2 pr-2 text-left text-xs font-bold text-sky-700 dark:text-sky-400 z-10 shadow-md",children:m.jsx("div",{className:"w-full h-full flex items-center",children:"Actual / Prod"})}),e.map(s=>{const l=vt(s),u=t[l];return m.jsx(XF,{date:s,dateStr:l,initialValue:u,updateDateActual:r,readOnly:n,isToday:l===a},l)})]})),XF=ge.memo(({dateStr:e,initialValue:t,updateDateActual:r,readOnly:n,isToday:a})=>{const[s,l]=ge.useState(t?Number(t).toLocaleString():"");ge.useEffect(()=>{l(t?Number(t).toLocaleString():"")},[t]);const u=()=>{if(n)return;let d=s.toString().toLowerCase().trim().replace(/,/g,""),f=1;d.endsWith("k")?f=1e3:d.endsWith("m")&&(f=1e6);let p=parseFloat(d.replace(/[km]/g,""));f===1&&p>0&&p<1e3&&(p*=1e3);const g=isNaN(p)?null:p*f;g!==t&&r(e,g),g!==null&&l(g.toLocaleString())};return m.jsx("td",{className:`min-w-[100px] w-[100px] h-8 p-0 border-r border-slate-200 dark:border-slate-700 
            ${a?"bg-blue-50/50 dark:bg-blue-900/10 border-x-2 border-x-blue-300":"bg-sky-50/10 dark:bg-sky-900/5"}
            ${n?"":"hover:bg-sky-50/30"}
        `,children:m.jsx("input",{type:"text",className:`w-full h-full text-center text-sm bg-transparent outline-none font-bold text-sky-700 dark:text-sky-300 rounded-sm ${n?"cursor-default opacity-80":"focus:bg-white dark:focus:bg-slate-700 focus:ring-2 focus:ring-inset focus:ring-sky-400"}`,value:s,onChange:d=>l(d.target.value),onBlur:u,onKeyDown:d=>{d.key==="Enter"&&d.target.blur()},placeholder:n?"":"-",disabled:n})})}),JF=x.memo(({dates:e,poManifest:t,monthlyInbound:r,updateDateInbound:n,openManager:a,readOnly:s=!1,todayStr:l})=>m.jsxs("tr",{children:[m.jsx("th",{className:"sticky left-0 min-w-[140px] w-[140px] h-8 bg-white dark:bg-slate-800 border-r border-slate-300 dark:border-slate-600 pl-2 pr-2 text-left text-xs font-bold text-emerald-700 dark:text-emerald-400 z-10 shadow-md",children:m.jsx("div",{className:"w-full h-full flex items-center",children:"Inbound Trucks"})}),e.map(u=>{const d=vt(u),f=t[d]?.items||[],p=f.length>0,g=p?f.length:r[d]||0,v=d===l,y=f.length>0&&f.every(k=>k.status==="received"),_=f.filter(k=>k.status==="received").length;return m.jsx("td",{className:`min-w-[100px] w-[100px] h-8 p-0 border-r border-slate-200 dark:border-slate-700 relative group transition-colors 
                        ${v?"bg-blue-50/50 dark:bg-blue-900/10 border-x-2 border-x-blue-300":""}
                        ${s?"":"hover:bg-slate-50 dark:hover:bg-slate-700"}
                    `,children:p?m.jsx("button",{className:`w-full h-full p-1 flex items-center justify-center ${s?"cursor-default":""}`,onClick:()=>!s&&a(d),title:`${f.length} POs (${_} Received)${s?" (Read Only)":""}`,disabled:s,children:m.jsx("span",{className:`flex items-center gap-1 rounded px-2 py-0.5 text-sm font-bold shadow-sm whitespace-nowrap transition-colors 
                                    ${y?"bg-emerald-100 text-emerald-800 border border-emerald-200 dark:bg-emerald-900/50 dark:text-emerald-300 dark:border-emerald-700":s?"bg-indigo-600/70 text-white/90":"bg-indigo-600 text-white dark:bg-indigo-500 hover:bg-indigo-700"}
                                `,children:y?m.jsxs(m.Fragment,{children:[m.jsx("span",{className:"text-emerald-600 dark:text-emerald-400",children:""}),g," OK"]}):m.jsxs(m.Fragment,{children:[m.jsx(Vr,{className:"w-3 h-3"}),g," PO"]})})}):m.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[Number(g)>0&&m.jsx(Vr,{className:"w-3 h-3 text-emerald-500 absolute left-2 pointer-events-none opacity-50"}),m.jsx("input",{className:`w-full h-full text-center text-sm bg-transparent font-bold rounded-sm outline-none
                                        ${g>0?"text-emerald-600 dark:text-emerald-400 pl-4":"text-slate-300"}
                                        ${s?"cursor-default":"focus:bg-emerald-50 dark:focus:bg-slate-700 focus:ring-2 focus:ring-inset focus:ring-emerald-400"}
                                    `,value:g||"",placeholder:s?"":"0",disabled:s,onChange:k=>{const S=k.target.value.replace(/,/g,"");isNaN(S)||n(d,S)},onDoubleClick:()=>!s&&a(d)})]})},d)})]})),QF=x.memo(({dates:e,ledgerMap:t,specs:r,safetyTarget:n,todayStr:a})=>m.jsxs("tr",{className:"bg-slate-200 dark:bg-slate-800 border-t-2 border-slate-300 dark:border-slate-600",children:[m.jsx("th",{className:"sticky left-0 min-w-[140px] w-[140px] h-8 bg-slate-200 dark:bg-slate-800 border-r border-slate-300 dark:border-slate-600 pl-2 pr-2 text-left text-xs font-bold text-slate-800 dark:text-white z-10 shadow-md",children:m.jsx("div",{className:"w-full h-full flex items-center",children:"End Inventory"})}),e.map(s=>{const l=vt(s),u=t[l],d=u?u.balance:null,f=l===a,p=r?.casesPerPallet||100,g=r?.bottlesPerCase||1,v=r?.bottlesPerTruck||2e4,y=d!==null?Math.round(d/g/p):null;let _="-";if(y!==null){const S=Math.floor(v/g/p)||22;if(Math.abs(y)>=S){const j=Math.floor(y/S),A=y%S;_=`${j}T ${A}P`}else _=`${y}`}let k="";return d!==null&&n&&(d<n?k="bg-red-100 dark:bg-red-900/40 text-red-800 dark:text-red-200 font-bold":d>n+v*2?k="bg-orange-100 dark:bg-orange-900/40 text-orange-900 dark:text-orange-200":k="text-slate-700 dark:text-slate-200"),f&&(k+=" bg-blue-50/50 dark:bg-blue-900/10 border-x-2 border-x-blue-300"),m.jsx("td",{className:`min-w-[100px] w-[100px] h-8 p-0 border-r border-slate-300 dark:border-slate-600 ${k}`,children:m.jsx("div",{className:"w-full h-full flex items-center justify-center",children:_})},l)})]})),eV=x.memo(({dates:e,ledgerMap:t,monthlyDemand:r,specs:n,todayStr:a})=>m.jsxs("tr",{className:"border-t border-slate-300 dark:border-slate-600 bg-slate-200 dark:bg-slate-800",children:[m.jsx("th",{className:"sticky left-0 min-w-[140px] w-[140px] h-8 bg-slate-300 dark:bg-slate-800 border-r border-slate-400 dark:border-slate-600 pl-2 pr-2 text-left text-xs font-bold text-slate-500 uppercase z-10 shadow-md",children:m.jsx("div",{className:"w-full h-full flex items-center",children:"Coverage (DOS)"})}),e.map(s=>{const l=vt(s),u=t[l],d=u?u.balance:0,f=1+(n?.scrapPercentage||0)/100,p=l===a;let g=0,v=d,y=!1;for(let j=1;j<=30;j++){const A=new Date(s);A.setDate(A.getDate()+j);const E=vt(A),P=(r[E]||0)*n.bottlesPerCase*f;if(P===0){g+=1,j===30&&(y=!0);continue}if(v>=P)v-=P,g+=1;else{g+=v/P,v=0;break}}const _=g.toFixed(1),k=parseFloat(_);let S="text-slate-400";return d>0&&(k<2?S="bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300 font-bold":k<4?S="bg-yellow-100 dark:bg-yellow-900/50 text-yellow-700 dark:text-yellow-300 font-bold":S="bg-green-100 dark:bg-green-900/40 text-green-700 dark:text-green-300 font-bold"),p&&(S+=" bg-blue-50/50 dark:bg-blue-900/10 border-x-2 border-x-blue-300"),m.jsx("td",{className:`min-w-[100px] w-[100px] h-8 p-0 text-center text-xs border-r border-slate-300 dark:border-slate-600 ${S}`,children:m.jsx("div",{className:"w-full h-full flex items-center justify-center",children:y?"":_})},l)})]}));function tV({monthlyDemand:e,monthlyProductionActuals:t,monthlyInbound:r,updateDateDemand:n,updateDateDemandBulk:a,updateDateActual:s,updateDateInbound:l,dailyLedger:u=[],specs:d,userProfile:f,startDate:p,readOnly:g=!1}){const{poManifest:v,updateDailyManifest:y,removeOrder:_}=$n(),[k,S]=x.useState({isOpen:!1,date:null}),j=Cn(new Date),A=x.useMemo(()=>{const L=[],$=p?new Date(p):new Date;for(let q=0;q<60;q++)L.push(lr($,q));return L},[p]),E=x.useMemo(()=>u.reduce((L,$)=>(L[$.date]=$,L),{}),[u]),P=L=>{g||S({isOpen:!0,date:L})},O=()=>{S({isOpen:!1,date:null})},T=L=>{k.date&&y(k.date,L)},C=L=>{k.date&&_(k.date,L)},D=()=>m.jsx($C,{isOpen:k.isOpen,onClose:O,date:k.date||"",orders:k.date?v[k.date]?.items||[]:[],monthlyInbound:r,updateDateInbound:l,onSave:T,onDelete:C,specs:d}),R=x.useMemo(()=>{if(!d||!d.bottlesPerTruck||!d.bottlesPerCase)return null;let L=0,$=0;const q=d.bottlesPerTruck/d.bottlesPerCase;A.forEach(de=>{const U=Cn(de),H=e[U];H&&(L+=Number(H));const Y=v[U],fe=Y?.items?.length>0?Y.items.length:r[U]||0;$+=Number(fe)});const V=Math.ceil(L/q),se=$-V;return{totalCases:L,trucksRequired:V,totalScheduled:$,gap:se}},[A,e,r,v,d]);return m.jsxs("div",{className:"relative",children:[R&&m.jsxs("div",{className:"hidden md:flex sticky left-0 right-0 mb-2 mx-1 p-1.5 bg-slate-900 text-white rounded-lg shadow-md items-center justify-between z-10 font-mono text-xs uppercase tracking-wider",children:[m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:"text-slate-400 text-[8px]",children:"Total Plan"}),m.jsxs("span",{className:"font-bold text-sm text-blue-200",children:[R.totalCases.toLocaleString()," ",m.jsx("span",{className:"text-[8px] text-slate-500",children:"cs"})]})]}),m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:"text-slate-400 text-[8px]",children:"Est. Trucks"}),m.jsxs("span",{className:"font-bold text-sm",children:[R.trucksRequired," ",m.jsx("span",{className:"text-[8px] text-slate-500",children:"trks"})]})]})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("div",{className:"flex flex-col text-right",children:[m.jsx("span",{className:"text-slate-400 text-[8px]",children:"Scheduled"}),m.jsx("span",{className:"font-bold text-sm text-emerald-400",children:R.totalScheduled})]}),m.jsxs("div",{className:`flex flex-col items-center justify-center px-3 py-0.5 rounded border ${R.gap<0?"bg-red-500/20 border-red-500 text-red-200":"bg-emerald-500/20 border-emerald-500 text-emerald-200"}`,children:[m.jsx("span",{className:"text-[8px] opacity-75",children:"Gap"}),m.jsxs("span",{className:"font-black text-lg leading-none",children:[R.gap>0?"+":"",R.gap]})]})]})]}),m.jsx("div",{className:"md:hidden space-y-4 pb-20",children:A.slice(0,30).map(L=>{const $=Cn(L);return m.jsx(KF,{date:L,todayStr:j,demandVal:e[$],updateDateDemand:n,actualVal:t[$],updateDateActual:s,manifestItems:v[$]?.items||[],monthlyInboundVal:r[$],updateDateInbound:l,ledgerItem:E[$],openManager:P,readOnly:g},$)})}),m.jsx("div",{className:"hidden md:block overflow-x-auto pb-4 relative custom-scrollbar",children:m.jsxs("table",{className:"w-full border-collapse text-sm",children:[m.jsx(VF,{dates:A,todayStr:j}),m.jsxs("tbody",{children:[m.jsx(ZF,{dates:A,monthlyDemand:e,updateDateDemand:n,updateDateDemandBulk:a,readOnly:g,todayStr:j}),m.jsx(WF,{dates:A,monthlyProductionActuals:t,updateDateActual:s,readOnly:g,todayStr:j}),m.jsx(JF,{dates:A,poManifest:v,monthlyInbound:r,updateDateInbound:l,openManager:P,readOnly:g,todayStr:j}),m.jsx(QF,{dates:A,ledgerMap:E,specs:d,safetyTarget:d?.bottles_per_truck?d.bottles_per_truck*2:0,todayStr:j}),m.jsx(eV,{dates:A,ledgerMap:E,monthlyDemand:e,specs:d,todayStr:j})]})]})}),D()]})}const rV=(e,t)=>{const r={};e.forEach(a=>{r[a.date]||(r[a.date]=[]),r[a.date].push(a)});const n=[];return Object.entries(r).forEach(([a,s])=>{s.sort((f,p)=>{const g=f.po?String(f.po).replace(/\D/g,""):"",v=p.po?String(p.po).replace(/\D/g,""):"";return g&&v?Number(g)-Number(v):(f.po||"").localeCompare(p.po||"")});let[l,u]=(t.schedulerSettings?.shiftStartTime||"06:00").split(":").map(Number),d=new Date;d.setHours(l,u,0,0),s.forEach(f=>{const p=f.sku||Object.keys(t.bottleDefinitions)[0],g=t.bottleDefinitions[p],v=new Date(d);v.getMinutes()>=30&&v.setHours(v.getHours()+1),v.setMinutes(0);const y=v.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"});if(n.push({...f,time:y}),!g)return;const _=(f.qty||1)*(g.bottlesPerTruck||2e4),k=g.productionRate||1e3,j=_/k*60;d.setMinutes(d.getMinutes()+j)})}),n};function nV({isOpen:e,onClose:t}){const{addOrdersBulk:r}=$n(),{schedulerSettings:n}=Qn(),{productMap:a}=fr(),[s,l]=x.useState(1),[u,d]=x.useState(""),[f,p]=x.useState([]),[g,v]=x.useState({po:-1,date:-1,qty:-1,supplier:-1,sku:-1}),y=O=>{const T=O.trim().split(/\r?\n/);if(T.length===0)return[];const R=T[0].includes("	")?"	":",";return T.map(L=>L.split(R).map($=>$.trim()))},_=()=>{if(s===1){const O=y(u);p(O.slice(0,5)),l(2)}else s===2&&A()},k=O=>{if(!O)return null;const T=O.trim();if(T.match(/^\d{4}-\d{2}-\d{2}$/))return T;const C=T.split(/[\-\s\/]/);if(C.length===2||C.length===3){const R={jan:0,feb:1,mar:2,apr:3,may:4,jun:5,jul:6,aug:7,sep:8,oct:9,nov:10,dec:11};let L,$,q=new Date().getFullYear();const V=C[0].toLowerCase(),se=C[1].toLowerCase();if(C[2]&&C[2].toLowerCase(),R[se]!==void 0?(L=parseInt(V),$=R[se]):R[V]!==void 0&&($=R[V],L=parseInt(se)),L&&$!==void 0)return new Date(q,$,L).toISOString().split("T")[0]}const D=new Date(T);return isNaN(D.getTime())?null:D.toISOString().split("T")[0]},S=O=>O?O.match(/^\d+(\.\d+)?[eE]\+\d+$/)?Number(O).toLocaleString("fullwide",{useGrouping:!1}):O:"",j=O=>{if(!O)return 0;const T=String(O).replace(/[^0-9.\-]/g,""),C=parseFloat(T);return isNaN(C)?0:C},A=()=>{const O=y(u);let T=0;const C=O.map(R=>{const L=R[g.date],$=k(L);return $?{id:crypto.randomUUID(),po:S(R[g.po]),date:$,qty:j(R[g.qty]),supplier:R[g.supplier]||"Unknown",sku:R[g.sku]||g.defaultSku||"",status:"planned"}:null}).filter(R=>R&&R.po&&R.date?(T++,!0):!1),D=rV(C,{bottleDefinitions:a,schedulerSettings:n});r(D),alert(`Successfully imported ${T} orders! Check the Planning Grid for blue badges.`),t(),d(""),l(1)},E=()=>m.jsxs("div",{className:"space-y-4",children:[m.jsxs("p",{className:"text-sm text-gray-500",children:["Copy your rows from Excel or SAP and paste them below. Make sure to include the ",m.jsx("strong",{children:"PO Number"})," and ",m.jsx("strong",{children:"Delivery Date"}),"."]}),m.jsx("textarea",{className:"w-full h-64 p-3 border rounded-lg font-mono text-xs bg-gray-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 focus:ring-2 focus:ring-blue-500",placeholder:`Example:
450001234	${new Date().toISOString().split("T")[0]}	44000	Supplier A
450001235	${new Date(Date.now()+864e5).toISOString().split("T")[0]}	22000	Supplier B`,value:u,onChange:O=>d(O.target.value)})]}),P=()=>m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 text-sm rounded-lg",children:["Identify the columns. We found ",m.jsxs("strong",{children:[y(u).length," rows"]}),"."]}),m.jsx("div",{className:"overflow-x-auto border rounded-lg dark:border-gray-700",children:m.jsxs("table",{className:"w-full text-xs text-left",children:[m.jsx("thead",{className:"bg-gray-100 dark:bg-gray-800 text-gray-500 uppercase",children:m.jsxs("tr",{children:[f[0]?.map((O,T)=>m.jsxs("th",{className:"p-2 border-b dark:border-gray-700 min-w-[120px]",children:[m.jsxs("div",{className:"mb-2",children:["Column ",T+1]}),m.jsxs("select",{className:"w-full p-1 border rounded bg-white dark:bg-gray-700 dark:border-gray-600",value:Object.keys(g).find(C=>g[C]===T)||"",onChange:C=>{const D=C.target.value;v(R=>{const L={...R};if(!D){const $=Object.keys(L).find(q=>L[q]===T);return $&&(L[$]=-1),L}return L[D]=T,L})},children:[m.jsx("option",{value:"",children:"-- Ignore --"}),m.jsx("option",{value:"po",children:"PO Number *"}),m.jsx("option",{value:"date",children:"Date *"}),m.jsx("option",{value:"qty",children:"Quantity"}),m.jsx("option",{value:"supplier",children:"Supplier"}),m.jsx("option",{value:"sku",children:"Material / SKU"})]})]},T)),g.qty!==-1&&m.jsx("th",{className:"p-2 border-b dark:border-gray-700 w-[100px] bg-blue-50 dark:bg-blue-900/10",children:m.jsx("div",{className:"mb-2 text-blue-600",children:"Detected Qty"})})]})}),m.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:f.map((O,T)=>m.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[O.map((C,D)=>m.jsx("td",{className:`p-2 font-mono truncate max-w-[150px] ${Object.values(g).includes(D)?"font-bold text-gray-800 dark:text-white":"text-gray-400"}`,children:C},D)),g.qty!==-1&&m.jsx("td",{className:"p-2 font-mono font-bold text-blue-600 bg-blue-50/50",children:O[g.qty]?j(O[g.qty]).toLocaleString():"-"})]},T))})]})}),m.jsx("p",{className:"text-xs text-red-500",children:"* Required Fields"})]});return m.jsxs(Nt,{open:e,onClose:t,className:"relative z-50",children:[m.jsx("div",{className:"fixed inset-0 bg-black/30","aria-hidden":"true"}),m.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:m.jsxs(Nt.Panel,{className:"w-full max-w-4xl bg-white dark:bg-gray-900 rounded-2xl shadow-xl overflow-hidden flex flex-col max-h-[90vh]",children:[m.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800/50",children:[m.jsxs(Nt.Title,{className:"text-lg font-bold flex items-center gap-2 text-gray-900 dark:text-white",children:[m.jsx(c$,{className:"w-5 h-5 text-blue-600"}),"Import Purchase Orders"]}),m.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:m.jsx(Gs,{className:"w-6 h-6"})})]}),m.jsxs("div",{className:"p-6 overflow-y-auto flex-1",children:[s===1&&E(),s===2&&P()]}),m.jsxs("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-800/50 border-t border-gray-200 dark:border-gray-700 flex justify-end space-x-3",children:[s===2&&m.jsx("button",{onClick:()=>l(1),className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:"Back"}),m.jsx("button",{onClick:_,disabled:u.trim().length===0||s===2&&(g.po===-1||g.date===-1),className:"px-6 py-2 bg-blue-600 text-white font-bold rounded-lg shadow hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:s===1?"Next: Map Columns":`Import ${y(u).length} Orders`})]})]})})]})}function aV({isOpen:e,onClose:t,mrpResults:r}){const{poManifest:n}=$n(),a=r||{},{activeSku:s}=Qn(),[l,u]=x.useState({start:"",end:""}),[d,f]=x.useState("new"),p=x.useRef(!1),g=x.useMemo(()=>{const O=[];return Object.entries(n).sort().forEach(([T,C])=>{C.items.forEach(D=>{O.push({...D,date:T})})}),O},[n]),v=x.useMemo(()=>g.filter(O=>new Date(O.date)>=new Date().setHours(0,0,0,0)),[g]);x.useEffect(()=>{if(e&&a?.trucksToCancel>0&&y.size===0){const T=v.filter(C=>C.status==="confirmed").sort((C,D)=>new Date(D.date)-new Date(C.date)).slice(0,a.trucksToCancel);if(T.length>0){const C=new Set(T.map(D=>D.po+D.date));p.current=!0,_(C),f("cancel"),setTimeout(()=>p.current=!1,500)}}},[e,a?.trucksToCancel]);const[y,_]=x.useState(new Set);x.useEffect(()=>{e||(_(new Set),p.current=!1)},[e]);const k=O=>{const T=new Set(y);T.has(O)?T.delete(O):T.add(O),_(T)},S=()=>{const O=v.filter(R=>y.has(R.po+R.date));if(O.length===0)return"";const T=O.map((R,L)=>{const $=R.status==="cancelled"?"[CANCEL] ":"",q=R.time?` @ ${iu(R.time)}`:" @ TBD";return`${L+1}. ${$}PO #${R.po}: ${R.date}${q} (1 Truck)`}).join(`
`),C=`${O.length} Truck${O.length!==1?"s":""}`;return(A[d]||A.new).body(T,C)},j=()=>{y.size===v.length?_(new Set):_(new Set(v.map(O=>O.po+O.date)))},A={new:{subject:(O,T)=>`New Orders for Approval - ${s}`,body:(O,T)=>`Hello Team,

Please confirm the following NEW orders for ${s}:

${O}

Total: ${T}

Please configure delivery appointments for each.

Thanks,
Planner`},add:{subject:(O,T)=>`URGENT: ADD to Schedule (Week of ${T.start}) - ${s}`,body:(O,T)=>`Hello Team,

Please ADD the following loads to our existing schedule for ${s}:

${O}

Total: ${T}

This is an addition to the already confirmed plan.

Thanks,
Planner`},cancel:{subject:(O,T)=>`URGENT: CANCELLATION REQUEST - ${O} Orders - ${s}`,body:(O,T)=>`Hello Team,

Please CANCEL the following purchase orders immediately:

${O}

Total: ${T}

Please confirm cancellation.

Thanks,
Planner`}};x.useEffect(()=>{if(y.size===0||p.current)return;const O=v.filter(R=>y.has(R.po+R.date));if(O.some(R=>R.status==="cancelled")){f("cancel");return}const C=new Set(O.map(R=>R.date)),D=g.some(R=>C.has(R.date)&&!y.has(R.po+R.date)&&R.status==="confirmed");f(D?"add":"new")},[y,v,g]);const E=()=>{const O=v.filter(C=>y.has(C.po+C.date));return(A[d]||A.new).subject(O.length,{start:O[0]?.date||"..."})},P=()=>{const O=`Subject: ${E()}

${S()}`;navigator.clipboard.writeText(O),alert("Email copied to clipboard!")};return m.jsxs(Nt,{open:e,onClose:t,className:"relative z-50",children:[m.jsx("div",{className:"fixed inset-0 bg-black/30","aria-hidden":"true"}),m.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:m.jsxs(Nt.Panel,{className:"w-full max-w-5xl bg-white dark:bg-gray-900 rounded-2xl shadow-xl overflow-hidden flex flex-col max-h-[90vh]",children:[m.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800/50",children:[m.jsxs(Nt.Title,{className:"text-lg font-bold flex items-center gap-2 text-gray-900 dark:text-white",children:[m.jsx(R5,{className:"w-5 h-5 text-indigo-600"}),"Email Supplier"]}),m.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:m.jsx(Gs,{className:"w-6 h-6"})})]}),m.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-6 py-3 flex items-center gap-4",children:[m.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:"Email Type:"}),m.jsx("div",{className:"flex gap-2",children:["new","add","cancel"].map(O=>m.jsx("button",{onClick:()=>f(O),className:`px-3 py-1 rounded-full text-xs font-bold capitalize transition-colors ${d===O?"bg-blue-600 text-white shadow-sm":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 border border-gray-200 dark:border-gray-600 hover:bg-gray-50"}`,children:O==="new"?"New Orders":O==="add"?"Add to Schedule":"Cancellation"},O))})]}),m.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[m.jsxs("div",{className:"w-1/2 border-r border-gray-200 dark:border-gray-700 flex flex-col",children:[m.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800/30 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[m.jsx("h3",{className:"text-xs font-bold uppercase text-gray-500",children:"Available Orders"}),m.jsx("button",{onClick:j,className:"text-xs text-blue-600 font-bold hover:underline",children:y.size===v.length?"Deselect All":"Select All"})]}),m.jsxs("div",{className:"overflow-y-auto p-2 space-y-2 flex-1",children:[v.length===0&&m.jsx("p",{className:"text-center text-sm text-gray-400 mt-10",children:"No future orders found."}),v.map((O,T)=>{const C=O.po+O.date,D=y.has(C);return m.jsxs("div",{onClick:()=>k(C),className:`p-3 rounded-lg border cursor-pointer transition-all flex justify-between items-center ${D?"bg-indigo-50 border-indigo-200 dark:bg-indigo-900/30 dark:border-indigo-700":"bg-white border-gray-100 hover:border-gray-300 dark:bg-gray-800 dark:border-gray-700"}`,children:[m.jsxs("div",{children:[m.jsxs("div",{className:"font-bold text-sm text-gray-800 dark:text-gray-200",children:["PO #",O.po]}),m.jsxs("div",{className:"text-xs text-gray-500",children:[O.date,"  ",O.qty?O.qty.toLocaleString():"-"," units"]})]}),D&&m.jsx("div",{className:"w-4 h-4 bg-indigo-600 rounded-full flex items-center justify-center text-white text-[10px]",children:""})]},T)})]})]}),m.jsxs("div",{className:"w-1/2 flex flex-col bg-gray-50 dark:bg-gray-900/50",children:[m.jsx("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700",children:m.jsx("h3",{className:"text-xs font-bold uppercase text-gray-500",children:"Email Preview"})}),m.jsx("div",{className:"flex-1 p-4",children:m.jsx("textarea",{className:"w-full h-full p-4 text-sm font-mono border rounded-lg resize-none focus:ring-2 focus:ring-indigo-500 bg-white dark:bg-gray-800 dark:border-gray-700 dark:text-gray-300",value:S(),readOnly:!0})}),m.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 flex justify-end",children:m.jsxs("button",{onClick:P,className:"flex items-center gap-2 bg-indigo-600 hover:bg-indigo-500 text-white px-4 py-2 rounded-lg font-bold shadow-sm transition-all active:scale-95",children:[m.jsx(Ny,{className:"w-4 h-4"}),"Copy to Clipboard"]})})]})]})]})})]})}function iV({isOpen:e,onClose:t}){const{poManifest:r}=$n(),n=x.useMemo(()=>{const k=[];return Object.entries(r).forEach(([S,j])=>{j.items.forEach(A=>{k.push({...A,date:S})})}),k.sort((S,j)=>S.date.localeCompare(j.date))},[r]),a=n.filter(k=>new Date(k.date)>=new Date().setHours(0,0,0,0)),[s,l]=x.useState(`YMS_Import_${new Date().toISOString().slice(0,10)}`),[u,d]=x.useState(!0),f=[{id:"date",label:"Expected Arrival Date"},{id:"po",label:"PO Number"},{id:"qty",label:"Quantity"},{id:"supplier",label:"Supplier Name"},{id:"status",label:"Status"},{id:"carrier",label:"Carrier (Empty)"},{id:"trailer_type",label:"Trailer Type (Dry Van)"}],[p,g]=x.useState(f.map(k=>k.id)),v=k=>{p.includes(k)?g(S=>S.filter(j=>j!==k)):g(S=>[...S,k])},y=()=>{const k=[];return u&&k.push(p.map(S=>{const j=f.find(A=>A.id===S);return j?j.label:S}).join(",")),a.forEach(S=>{const j=p.map(A=>{switch(A){case"carrier":return"";case"trailer_type":return"Dry Van";case"qty":return S.qty||0;default:return S[A]||""}});k.push(j.join(","))}),k.join(`
`)},_=()=>{const k=y(),S=new Blob([k],{type:"text/csv;charset=utf-8;"}),j=document.createElement("a");if(j.download!==void 0){const A=URL.createObjectURL(S);j.setAttribute("href",A),j.setAttribute("download",`${s}.csv`),j.style.visibility="hidden",document.body.appendChild(j),j.click(),document.body.removeChild(j)}t()};return m.jsxs(Nt,{open:e,onClose:t,className:"relative z-50",children:[m.jsx("div",{className:"fixed inset-0 bg-black/30","aria-hidden":"true"}),m.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:m.jsxs(Nt.Panel,{className:"w-full max-w-2xl bg-white dark:bg-gray-900 rounded-2xl shadow-xl overflow-hidden flex flex-col",children:[m.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800/50",children:[m.jsxs(Nt.Title,{className:"text-lg font-bold flex items-center gap-2 text-gray-900 dark:text-white",children:[m.jsx(rx,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"}),"Export for YMS"]}),m.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:m.jsx(Gs,{className:"w-6 h-6"})})]}),m.jsxs("div",{className:"p-6 space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Filename"}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{type:"text",value:s,onChange:k=>l(k.target.value),className:"w-full p-2 border rounded-l-lg dark:bg-gray-800 dark:border-gray-600"}),m.jsx("span",{className:"bg-gray-100 dark:bg-gray-700 px-3 py-2 border border-l-0 rounded-r-lg text-gray-500 dark:border-gray-600",children:".csv"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Include Columns"}),m.jsx("div",{className:"grid grid-cols-2 gap-3",children:f.map(k=>m.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer p-2 rounded hover:bg-gray-50 dark:hover:bg-gray-800 border dark:border-gray-700",children:[m.jsx("input",{type:"checkbox",checked:p.includes(k.id),onChange:()=>v(k.id),className:"rounded text-blue-600 focus:ring-blue-500"}),m.jsx("span",{className:"text-sm font-medium dark:text-gray-200",children:k.label})]},k.id))})]}),m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("span",{className:"text-sm font-medium dark:text-gray-300",children:"Include Headers?"}),m.jsx(FF,{checked:u,onChange:d,className:`${u?"bg-blue-600":"bg-gray-200"} relative inline-flex h-6 w-11 items-center rounded-full transition-colors`,children:m.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition ${u?"translate-x-6":"translate-x-1"}`})})]}),m.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-2 rounded text-xs font-mono text-gray-500 overflow-x-auto whitespace-pre",children:[u&&p.map(k=>f.find(S=>S.id===k)?.label).join(","),`
`,n.length>0&&p.map(k=>k==="carrier"?'""':n[0][k]||'""').join(","),n.length===0&&"(No data to export)","..."]})]}),m.jsx("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-800/50 border-t border-gray-200 dark:border-gray-700 flex justify-end",children:m.jsx("button",{onClick:_,disabled:n.length===0,className:"px-6 py-2 bg-gray-900 dark:bg-white dark:text-gray-900 text-white font-bold rounded-lg shadow hover:opacity-90 transition-all disabled:opacity-50",children:"Download CSV"})})]})})]})}function sV({isOpen:e,onClose:t,order:r,date:n}){const{addOrdersBulk:a,updateOrder:s,moveOrder:l}=$n(),{productMap:u}=fr(),d=Object.keys(u),[f,p]=x.useState({po:"",date:"",qty:"",supplier:"",carrier:"",sku:""});x.useEffect(()=>{e&&p(r?{po:r.po,date:n||r.date,time:r.time||"",qty:r.qty,supplier:r.supplier,carrier:r.carrier||"",sku:r.sku||""}:{po:"",date:n||new Date().toISOString().split("T")[0],time:"",qty:"",supplier:"",carrier:"",sku:""})},[e,r,n]);const g=()=>{if(!f.po||!f.date||!f.qty){alert("PO, Date, and Quantity are required.");return}const v={id:r?.id||crypto.randomUUID(),po:f.po,date:f.date,time:f.time,qty:Number(f.qty),supplier:f.supplier||"Unknown",carrier:f.carrier,sku:f.sku};r?f.date!==r.date?l(r.date,f.date,v):s(f.date,v):a([v]),t()};return m.jsxs(Nt,{open:e,onClose:t,className:"relative z-50",children:[m.jsx("div",{className:"fixed inset-0 bg-black/30","aria-hidden":"true"}),m.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:m.jsxs(Nt.Panel,{className:"w-full max-w-md bg-white dark:bg-gray-800 rounded-xl shadow-xl overflow-hidden",children:[m.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center",children:[m.jsx(Nt.Title,{className:"text-lg font-bold text-gray-900 dark:text-white",children:r?"Edit Order":"New Purchase Order"}),m.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500",children:m.jsx(Gs,{className:"w-5 h-5"})})]}),m.jsxs("div",{className:"p-6 space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Material / SKU"}),m.jsxs("select",{className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:f.sku,onChange:v=>p({...f,sku:v.target.value}),children:[m.jsx("option",{value:"",children:"-- Any / All --"}),d.map(v=>m.jsx("option",{value:v,children:v},v))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"PO Number"}),m.jsx("input",{type:"text",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:f.po,onChange:v=>p({...f,po:v.target.value}),autoFocus:!0})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Delivery Date"}),m.jsxs("div",{className:"relative",children:[m.jsx(m$,{className:"absolute left-2 top-2.5 w-4 h-4 text-gray-400"}),m.jsx("input",{type:"date",className:"w-full pl-8 p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:f.date,onChange:v=>p({...f,date:v.target.value})})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Time (Hour)"}),m.jsxs("select",{className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:f.time,onChange:v=>p({...f,time:v.target.value}),children:[m.jsx("option",{value:"",children:"-- TBD --"}),Array.from({length:24}).map((v,y)=>{const _=`${String(y).padStart(2,"0")}:00`,k=y>=12?"PM":"AM",j=`${y%12||12}:00 ${k}`;return m.jsx("option",{value:_,children:j},_)})]})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Quantity"}),m.jsx("input",{type:"number",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:f.qty,onChange:v=>p({...f,qty:v.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Supplier"}),m.jsx("input",{type:"text",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:f.supplier,onChange:v=>p({...f,supplier:v.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Carrier (Optional)"}),m.jsxs("div",{className:"relative",children:[m.jsx(Vr,{className:"absolute left-2 top-2.5 w-4 h-4 text-gray-400"}),m.jsx("input",{type:"text",className:"w-full pl-8 p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:f.carrier,onChange:v=>p({...f,carrier:v.target.value})})]})]})]}),m.jsxs("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-700/50 flex justify-end gap-2",children:[m.jsx("button",{onClick:t,className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800",children:"Cancel"}),m.jsx("button",{onClick:g,className:"px-4 py-2 bg-blue-600 text-white text-sm font-bold rounded hover:bg-blue-500",children:"Save Order"})]})]})})]})}function oV({isOpen:e,onClose:t}){const{poManifest:r,deleteOrdersBulk:n,bulkUpdateOrders:a}=$n(),{productMap:s}=fr(),[l,u]=x.useState(""),[d,f]=x.useState(new Set),[p,g]=x.useState(!1),[v,y]=x.useState(null),_=L=>{y(L),g(!0)},k=()=>{y(null),g(!0)},S=x.useMemo(()=>{const L=[];return Object.entries(r).forEach(([$,q])=>{q.items&&q.items.forEach(V=>{L.push({...V,date:$})})}),L.sort(($,q)=>{const V=new Date(q.date)-new Date($.date);if(V!==0)return V;const se=de=>{if(!de||de==="00:00")return 99999;const[U,H]=de.split(":").map(Number);return U*60+(H||0)};return se($.time)-se(q.time)})},[r]),j=x.useMemo(()=>{if(!l)return S;const L=l.toLowerCase();return S.filter($=>($.po||"").toLowerCase().includes(L)||($.supplier||"").toLowerCase().includes(L)||($.date||"").includes(L))},[S,l]),A=L=>{const $=new Set(d);$.has(L)?$.delete(L):$.add(L),f($)},E=()=>{if(d.size===j.length&&j.length>0)f(new Set);else{const L=new Set;j.forEach($=>L.add($.id)),f(L)}},[P,O]=x.useState(null),T=()=>{d.size!==0&&O({title:`Delete ${d.size} Orders?`,message:`Are you sure you want to PERMANENTLY delete ${d.size} selected orders? This action cannot be undone.`,type:"danger",onConfirm:()=>{const L=S.filter($=>d.has($.id));n(L),f(new Set),O(null)}})},C=L=>{if(!L||d.size===0||!confirm(`Set SKU to "${L}" for ${d.size} orders?`))return;const $=S.filter(q=>d.has(q.id)).map(q=>({...q,sku:L}));a($),f(new Set)},D=L=>{const $=parseInt(L);if(isNaN($)||$<2e3||$>2100){alert("Invalid Year");return}if(!confirm(`Update YEAR to "${$}" for ${d.size} orders? (Month/Day will be preserved)`))return;const q=S.filter(V=>d.has(V.id)).map(V=>{const se=V.date.split("-");if(se.length!==3)return V;const de=`${$}-${se[1]}-${se[2]}`;return{...V,date:de}});a(q),f(new Set)},R=L=>{if(!confirm(`Update status to "${L.toUpperCase()}" for ${d.size} orders?`))return;const $=S.filter(q=>d.has(q.id)).map(q=>({...q,status:L}));a($),f(new Set)};return m.jsxs(Nt,{open:e,onClose:t,className:"relative z-50",children:[m.jsx("div",{className:"fixed inset-0 bg-black/50","aria-hidden":"true"}),m.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:m.jsxs(Nt.Panel,{className:"w-full max-w-5xl h-[80vh] bg-white dark:bg-gray-900 rounded-2xl shadow-2xl flex flex-col overflow-hidden",children:[m.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"bg-purple-100 dark:bg-purple-900 p-2 rounded-lg",children:m.jsx(z5,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),m.jsxs("div",{children:[m.jsx(Nt.Title,{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Global Procurement Manager"}),m.jsx("p",{className:"text-sm text-gray-500",children:"Manage all Inbound Orders across all dates."})]}),P&&m.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/20 backdrop-blur-sm p-4 animate-fadeIn",children:m.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700 p-6 w-full max-w-sm flex flex-col items-center text-center transform transition-all scale-100",children:[m.jsx("div",{className:`p-4 rounded-full mb-4 ${P.type==="danger"?"bg-red-100 text-red-600":"bg-blue-100 text-blue-600"}`,children:P.type==="danger"?m.jsx(Ya,{className:"w-8 h-8"}):m.jsx(qa,{className:"w-8 h-8"})}),m.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:P.title}),m.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6 leading-relaxed",children:P.message}),m.jsxs("div",{className:"flex gap-3 w-full",children:[m.jsx("button",{onClick:()=>O(null),className:"flex-1 px-4 py-2 rounded-lg border border-gray-300 text-gray-700 font-bold hover:bg-gray-50 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),m.jsx("button",{onClick:()=>P.onConfirm(),className:`flex-1 px-4 py-2 rounded-lg text-white font-bold shadow-lg transition-transform hover:scale-105 ${P.type==="danger"?"bg-red-600 hover:bg-red-700 shadow-red-500/30":"bg-emerald-600 hover:bg-emerald-700 shadow-emerald-500/30"}`,children:"Confirm"})]})]})})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("button",{onClick:k,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white hover:bg-blue-500 rounded-lg font-bold transition-colors shadow-sm",children:[m.jsx(f0,{className:"w-5 h-5"}),"New Order"]}),m.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 ml-4",children:m.jsx(Gs,{className:"w-6 h-6"})})]})]}),m.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex flex-col md:flex-row gap-4 items-center justify-between",children:[m.jsxs("div",{className:"relative w-full max-w-md",children:[m.jsx(L$,{className:"absolute left-3 top-2.5 w-5 h-5 text-gray-400"}),m.jsx("input",{type:"text",placeholder:"Search PO, Supplier, or Date...",className:"w-full pl-10 pr-4 py-2 border rounded-lg dark:bg-gray-800 dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none",value:l,onChange:L=>u(L.target.value)})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("span",{className:"text-sm text-gray-500",children:[d.size," selected"]}),d.size>0&&m.jsx("div",{className:"flex items-center gap-2",children:m.jsxs("div",{className:"relative group",children:[m.jsx("button",{className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-sm font-bold shadow-sm hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",children:"Bulk Actions"}),m.jsx("div",{className:"absolute top-full left-0 pt-2 w-48 z-50 hidden group-hover:block",children:m.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:m.jsxs("div",{className:"p-2",children:[m.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase px-2 py-1",children:"Set Status"}),m.jsxs("button",{onClick:()=>R("received"),className:"w-full text-left px-2 py-2 hover:bg-emerald-50 dark:hover:bg-emerald-900/30 rounded text-sm text-emerald-700 dark:text-emerald-400 font-bold flex items-center gap-2",children:[m.jsx("span",{children:""})," Mark as Received"]}),m.jsx("button",{onClick:()=>R("confirmed"),className:"w-full text-left px-2 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded text-sm text-blue-700 dark:text-blue-400 font-bold",children:"Mark as Confirmed"}),m.jsx("button",{onClick:()=>R("ordered"),className:"w-full text-left px-2 py-2 hover:bg-yellow-50 dark:hover:bg-yellow-900/30 rounded text-sm text-yellow-700 dark:text-yellow-400",children:"Mark as Ordered"}),m.jsx("button",{onClick:()=>R("cancelled"),className:"w-full text-left px-2 py-2 hover:bg-red-50 dark:hover:bg-red-900/30 rounded text-sm text-red-600 dark:text-red-400 font-bold",children:"Mark for Cancellation"}),m.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700 my-1"}),m.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase px-2 py-1",children:"Set properties"}),m.jsx("button",{onClick:()=>{const L=prompt("Enter Target Year (e.g. 2025):",new Date().getFullYear());L&&D(L)},className:"w-full text-left px-2 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded text-sm text-gray-700 dark:text-gray-200",children:"Set Year..."}),m.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700 my-1"}),m.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase px-2 py-1",children:"Assign SKU"}),Object.keys(s).map(L=>m.jsx("button",{onClick:()=>C(L),className:"w-full text-left px-2 py-1.5 hover:bg-purple-50 dark:hover:bg-purple-900/30 rounded text-sm text-gray-700 dark:text-gray-200",children:L},L))]})})})]})}),m.jsxs("button",{onClick:T,disabled:d.size===0,className:"flex items-center gap-2 px-4 py-2 bg-red-50 text-red-600 hover:bg-red-100 rounded-lg font-bold disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[m.jsx(Ya,{className:"w-5 h-5"}),"Delete"]})]})]}),m.jsx("div",{className:"flex-1 overflow-auto",children:m.jsxs("table",{className:"w-full text-left border-collapse",children:[m.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800 sticky top-0 z-10 shadow-sm",children:m.jsxs("tr",{children:[m.jsx("th",{className:"p-4 w-12 border-b dark:border-gray-700",children:m.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500",checked:j.length>0&&d.size===j.length,onChange:E})}),m.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase border-b dark:border-gray-700",children:"Date"}),m.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase border-b dark:border-gray-700",children:"Time"}),m.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase border-b dark:border-gray-700",children:"PO Number"}),m.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase border-b dark:border-gray-700",children:"SKU"}),m.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase border-b dark:border-gray-700",children:"Supplier"}),m.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase border-b dark:border-gray-700",children:"Trucks"}),m.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase border-b dark:border-gray-700",children:"Carrier"}),m.jsx("th",{className:"p-4 w-12 border-b dark:border-gray-700"})]})}),m.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700 bg-white dark:bg-gray-900",children:j.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:"7",className:"p-10 text-center text-gray-400 italic",children:"No orders found matching your search."})}):j.map(L=>m.jsxs("tr",{className:`hover:bg-blue-50 dark:hover:bg-gray-800 transition-colors ${d.has(L.id)?"bg-blue-50 dark:bg-blue-900/20":""}`,children:[m.jsx("td",{className:"p-4",children:m.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500",checked:d.has(L.id),onChange:()=>A(L.id)})}),m.jsx("td",{className:"p-4 text-sm font-medium text-gray-900 dark:text-white text-nowrap",children:new Date(L.date+"T00:00:00").toLocaleDateString()}),m.jsx("td",{className:"p-4 text-sm text-gray-500 dark:text-gray-400 font-mono",children:L.time&&L.time!=="00:00"?iu(L.time):"-"}),m.jsx("td",{className:"p-4 text-sm font-mono text-gray-600 dark:text-gray-300",children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:`font-mono ${L.status==="received"?"line-through text-gray-400":"text-gray-600 dark:text-gray-300"}`,children:L.po}),L.status==="received"&&m.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] font-bold bg-emerald-100 text-emerald-800 border border-emerald-200 uppercase tracking-wide",children:"RCVD"})]})}),m.jsx("td",{className:"p-4",children:L.sku?m.jsx("span",{className:"px-2 py-1 bg-purple-100 dark:bg-purple-900 text-purple-700 dark:text-purple-300 rounded text-xs font-bold",children:L.sku}):m.jsx("span",{className:"text-gray-400 text-xs italic",children:"Any"})}),m.jsx("td",{className:"p-4 text-sm text-gray-600 dark:text-gray-300",children:L.supplier}),m.jsx("td",{className:"p-4",children:m.jsx("span",{className:"px-2 py-0.5 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded text-xs font-bold",children:"1 Truck"})}),m.jsx("td",{className:"p-4 text-sm text-gray-500 dark:text-gray-400",children:L.carrier||"-"}),m.jsxs("td",{className:"p-4",children:[L.status!=="received"&&m.jsx("button",{onClick:()=>{confirm("Mark this order as Received?")&&a([{...L,status:"received"}])},className:"p-1 text-gray-400 hover:text-emerald-600 transition-colors mr-1",title:"Mark Received",children:""}),m.jsx("button",{onClick:()=>_(L),className:"p-1 text-gray-400 hover:text-blue-600 transition-colors",title:"Edit Order",children:m.jsx(eu,{className:"w-5 h-5"})})]})]},L.id))})]})}),m.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 text-xs text-gray-500 border-t border-gray-200 dark:border-gray-700 flex justify-between",children:[m.jsxs("span",{children:["Showing ",j.length," of ",S.length," orders"]}),m.jsx("span",{className:"text-gray-400",children:"Press Shift to select range (coming soon)"})]})]})}),m.jsx(sV,{isOpen:p,onClose:()=>g(!1),order:v})]})}function lV({selectedSize:e,setSelectedSize:t,floorCount:r,setFloorCount:n,yardCount:a,setYardCount:s,yardUnit:l,setYardUnit:u,sizes:d,palletsPerTruck:f}){return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-4 rounded-lg border border-purple-100 dark:border-purple-800",children:[m.jsx("h3",{className:"font-bold text-purple-900 dark:text-purple-300 mb-1",children:"Morning Inventory Count"}),m.jsxs("p",{className:"text-sm text-purple-700 dark:text-purple-400",children:["What is physically on the floor and in the yard ",m.jsx("strong",{children:"right now"}),"?"]})]}),m.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg border border-gray-200 dark:border-gray-700",children:[m.jsx("label",{className:"block text-xs uppercase font-bold text-gray-500 mb-2",children:"Select Product"}),m.jsx("div",{className:"flex flex-wrap gap-2",children:d.map(p=>m.jsx("button",{onClick:()=>t(p),className:`px-3 py-1.5 rounded-md text-sm font-bold transition-colors ${e===p?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:p},p))})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:"Floor Count (Pallets)"}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx(ix,{className:"h-5 w-5 text-gray-400"})}),m.jsx("input",{type:"number",autoFocus:!0,value:r,onChange:p=>n(p.target.value),className:"w-full pl-10 pr-4 py-3 text-xl font-bold border rounded-lg shadow-sm focus:ring-2 focus:ring-purple-500 dark:bg-gray-800 dark:text-white dark:border-gray-600"})]}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Count all finished goods on the floor."})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between items-center mb-2",children:[m.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300",children:"Yard Count"}),m.jsxs("div",{className:"flex bg-gray-200 dark:bg-gray-700 rounded-md p-0.5",children:[m.jsx("button",{onClick:()=>u("loads"),className:`px-2 py-0.5 text-xs font-bold rounded-sm ${l==="loads"?"bg-white text-blue-600 shadow-sm":"text-gray-500"}`,children:"Loads"}),m.jsx("button",{onClick:()=>u("pallets"),className:`px-2 py-0.5 text-xs font-bold rounded-sm ${l==="pallets"?"bg-white text-blue-600 shadow-sm":"text-gray-500"}`,children:"Pallets"})]})]}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx(Vr,{className:"h-5 w-5 text-gray-400"})}),m.jsx("input",{type:"number",value:l==="loads"?a:a===""?"":Math.round(a*f),onChange:p=>{const g=p.target.value===""?"":Number(p.target.value);s(l==="loads"?g:g===""?"":g/f)},className:"w-full pl-10 pr-4 py-3 text-xl font-bold border rounded-lg shadow-sm focus:ring-2 focus:ring-purple-500 dark:bg-gray-800 dark:text-white dark:border-gray-600"})]}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:l==="loads"?"Number of fully loaded trailers.":`Total pallets (~${Math.round(f)} per load).`})]})]})]})}function LC({isOpen:e,onClose:t,state:r,setters:n}){const{productMap:a}=fr(),s=Object.keys(a),l=a[r.selectedSize],u=l?.bottlesPerTruck||2e4,d=(l?.bottlesPerCase||12)*(l?.casesPerPallet||100),f=u/d,[p,g]=x.useState(1),[v,y]=x.useState(""),[_,k]=x.useState(""),[S,j]=x.useState("loads");x.useEffect(()=>{e&&(y(r.inventoryAnchor?.count||0),k(r.yardInventory?.effectiveCount||0),g(1))},[e,r.inventoryAnchor,r.yardInventory]);const A=()=>{const P=Cn();n.setInventoryAnchor({date:P,count:Number(v)}),n.updateYardInventory(Number(_)),t()},E=()=>m.jsxs("div",{className:"text-center py-6 space-y-6",children:[m.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100 dark:bg-green-900/30",children:m.jsx(qa,{className:"h-10 w-10 text-green-600 dark:text-green-400"})}),m.jsxs("div",{children:[m.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:["Ready to Update ",r.selectedSize,"?"]}),m.jsxs("p",{className:"text-gray-500 dark:text-gray-400 mt-2 max-w-sm mx-auto",children:["The system will reset the ",m.jsx("strong",{children:r.selectedSize})," inventory baseline to ",m.jsxs("strong",{children:[v," Pallets"]})," + ",m.jsxs("strong",{children:[_," Loads"]}),"."]})]}),m.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700 max-w-sm mx-auto text-left text-sm space-y-2",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-gray-500",children:"New Floor Count:"}),m.jsxs("span",{className:"font-mono font-bold",children:[v," plts"]})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-gray-500",children:"New Yard Count:"}),m.jsxs("span",{className:"font-mono font-bold",children:[Number(_).toFixed(1)," loads ",m.jsxs("span",{className:"text-gray-400 text-xs",children:["(",Math.round(_*f)," plts)"]})]})]})]})]});return e?m.jsxs("div",{className:"relative z-50","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:[m.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"}),m.jsx("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto",children:m.jsx("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:m.jsxs("div",{className:"relative transform overflow-hidden rounded-lg bg-white dark:bg-gray-900 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg border dark:border-gray-700 p-6",children:[m.jsxs("div",{className:"sm:flex sm:items-start mb-6",children:[m.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-blue-100 dark:bg-blue-900/30 sm:mx-0 sm:h-10 sm:w-10",children:m.jsx(Qc,{className:"h-6 w-6 text-blue-600 dark:text-blue-400","aria-hidden":"true"})}),m.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[m.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 dark:text-white",id:"modal-title",children:"Morning True-Up"}),m.jsx("div",{className:"mt-2 text-left",children:m.jsxs("div",{className:"flex items-center space-x-2 text-xs font-medium text-gray-400",children:[m.jsx("span",{className:`${p===1?"text-blue-600 dark:text-blue-400":""}`,children:"1. Inventory"}),m.jsx("span",{children:""}),m.jsx("span",{className:`${p===2?"text-blue-600 dark:text-blue-400":""}`,children:"2. Confirm"})]})})]})]}),m.jsxs("div",{className:"mt-2",children:[p===1&&m.jsx(lV,{selectedSize:r.selectedSize,setSelectedSize:n.setSelectedSize,floorCount:v,setFloorCount:y,yardCount:_,setYardCount:k,yardUnit:S,setYardUnit:j,sizes:s,palletsPerTruck:f}),p===2&&E()]}),m.jsxs("div",{className:"mt-8 sm:mt-6 sm:grid sm:grid-flow-row-dense sm:grid-cols-2 sm:gap-3",children:[p<2?m.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:col-start-2 sm:text-sm",onClick:()=>g(P=>P+1),children:"Next Step"}):m.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-green-600 text-base font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 sm:col-start-2 sm:text-sm",onClick:A,children:"Update Plan"}),p>1?m.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 dark:border-gray-600 shadow-sm px-4 py-2 bg-white dark:bg-gray-800 text-base font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:col-start-1 sm:mt-0 sm:text-sm",onClick:()=>g(P=>P-1),children:"Back"}):m.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 dark:border-gray-600 shadow-sm px-4 py-2 bg-white dark:bg-gray-800 text-base font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:col-start-1 sm:mt-0 sm:text-sm",onClick:t,children:"Cancel"})]})]})})})]}):null}var cV=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Dx(e){if(typeof e!="string")return!1;var t=cV;return t.includes(e)}var uV=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],dV=new Set(uV);function IC(e){return typeof e!="string"?!1:dV.has(e)}function zC(e){return typeof e=="string"&&e.startsWith("data-")}function Wn(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(IC(r)||zC(r))&&(t[r]=e[r]);return t}function D0(e){if(e==null)return null;if(x.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Wn(t)}return typeof e=="object"&&!Array.isArray(e)?Wn(e):null}function dn(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(IC(r)||zC(r)||Dx(r))&&(t[r]=e[r]);return t}function fV(e){return e==null?null:x.isValidElement(e)?dn(e.props):typeof e=="object"&&!Array.isArray(e)?dn(e):null}var hV=["children","width","height","viewBox","className","style","title","desc"];function sb(){return sb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sb.apply(null,arguments)}function mV(e,t){if(e==null)return{};var r,n,a=pV(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function pV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var UC=x.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:s,className:l,style:u,title:d,desc:f}=e,p=mV(e,hV),g=s||{width:n,height:a,x:0,y:0},v=ot("recharts-surface",l);return x.createElement("svg",sb({},dn(p),{className:v,width:n,height:a,style:u,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:t}),x.createElement("title",null,d),x.createElement("desc",null,f),r)}),gV=["children","className"];function ob(){return ob=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ob.apply(null,arguments)}function vV(e,t){if(e==null)return{};var r,n,a=yV(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function yV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Xn=x.forwardRef((e,t)=>{var{children:r,className:n}=e,a=vV(e,gV),s=ot("recharts-layer",n);return x.createElement("g",ob({className:s},dn(a),{ref:t}),r)}),bV=x.createContext(null);function _t(e){return function(){return e}}const lb=Math.PI,cb=2*lb,ks=1e-6,xV=cb-ks;function BC(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function wV(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return BC;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class _V{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?BC:wV(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,l){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+l}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,u=this._y1,d=n-t,f=a-r,p=l-t,g=u-r,v=p*p+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(v>ks)if(!(Math.abs(g*d-f*p)>ks)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let y=n-l,_=a-u,k=d*d+f*f,S=y*y+_*_,j=Math.sqrt(k),A=Math.sqrt(v),E=s*Math.tan((lb-Math.acos((k+v-S)/(2*j*A)))/2),P=E/A,O=E/j;Math.abs(P-1)>ks&&this._append`L${t+P*p},${r+P*g}`,this._append`A${s},${s},0,0,${+(g*y>p*_)},${this._x1=t+O*d},${this._y1=r+O*f}`}}arc(t,r,n,a,s,l){if(t=+t,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(a),d=n*Math.sin(a),f=t+u,p=r+d,g=1^l,v=l?a-s:s-a;this._x1===null?this._append`M${f},${p}`:(Math.abs(this._x1-f)>ks||Math.abs(this._y1-p)>ks)&&this._append`L${f},${p}`,n&&(v<0&&(v=v%cb+cb),v>xV?this._append`A${n},${n},0,1,${g},${t-u},${r-d}A${n},${n},0,1,${g},${this._x1=f},${this._y1=p}`:v>ks&&this._append`A${n},${n},0,${+(v>=lb)},${g},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function qC(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new _V(t)}function Mx(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function HC(e){this._context=e}HC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function M0(e){return new HC(e)}function FC(e){return e[0]}function VC(e){return e[1]}function KC(e,t){var r=_t(!0),n=null,a=M0,s=null,l=qC(u);e=typeof e=="function"?e:e===void 0?FC:_t(e),t=typeof t=="function"?t:t===void 0?VC:_t(t);function u(d){var f,p=(d=Mx(d)).length,g,v=!1,y;for(n==null&&(s=a(y=l())),f=0;f<=p;++f)!(f<p&&r(g=d[f],f,d))===v&&((v=!v)?s.lineStart():s.lineEnd()),v&&s.point(+e(g,f,d),+t(g,f,d));if(y)return s=null,y+""||null}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:_t(+d),u):e},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:_t(+d),u):t},u.defined=function(d){return arguments.length?(r=typeof d=="function"?d:_t(!!d),u):r},u.curve=function(d){return arguments.length?(a=d,n!=null&&(s=a(n)),u):a},u.context=function(d){return arguments.length?(d==null?n=s=null:s=a(n=d),u):n},u}function Cf(e,t,r){var n=null,a=_t(!0),s=null,l=M0,u=null,d=qC(f);e=typeof e=="function"?e:e===void 0?FC:_t(+e),t=typeof t=="function"?t:_t(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?VC:_t(+r);function f(g){var v,y,_,k=(g=Mx(g)).length,S,j=!1,A,E=new Array(k),P=new Array(k);for(s==null&&(u=l(A=d())),v=0;v<=k;++v){if(!(v<k&&a(S=g[v],v,g))===j)if(j=!j)y=v,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),_=v-1;_>=y;--_)u.point(E[_],P[_]);u.lineEnd(),u.areaEnd()}j&&(E[v]=+e(S,v,g),P[v]=+t(S,v,g),u.point(n?+n(S,v,g):E[v],r?+r(S,v,g):P[v]))}if(A)return u=null,A+""||null}function p(){return KC().defined(a).curve(l).context(s)}return f.x=function(g){return arguments.length?(e=typeof g=="function"?g:_t(+g),n=null,f):e},f.x0=function(g){return arguments.length?(e=typeof g=="function"?g:_t(+g),f):e},f.x1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:_t(+g),f):n},f.y=function(g){return arguments.length?(t=typeof g=="function"?g:_t(+g),r=null,f):t},f.y0=function(g){return arguments.length?(t=typeof g=="function"?g:_t(+g),f):t},f.y1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:_t(+g),f):r},f.lineX0=f.lineY0=function(){return p().x(e).y(t)},f.lineY1=function(){return p().x(e).y(r)},f.lineX1=function(){return p().x(n).y(t)},f.defined=function(g){return arguments.length?(a=typeof g=="function"?g:_t(!!g),f):a},f.curve=function(g){return arguments.length?(l=g,s!=null&&(u=l(s)),f):l},f.context=function(g){return arguments.length?(g==null?s=u=null:u=l(s=g),f):s},f}class ZC{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function SV(e){return new ZC(e,!0)}function kV(e){return new ZC(e,!1)}function kh(){}function jh(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function GC(e){this._context=e}GC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:jh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:jh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function jV(e){return new GC(e)}function YC(e){this._context=e}YC.prototype={areaStart:kh,areaEnd:kh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:jh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function EV(e){return new YC(e)}function WC(e){this._context=e}WC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:jh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function NV(e){return new WC(e)}function XC(e){this._context=e}XC.prototype={areaStart:kh,areaEnd:kh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function OV(e){return new XC(e)}function Tj(e){return e<0?-1:1}function Cj(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),l=(r-e._y1)/(a||n<0&&-0),u=(s*a+l*n)/(n+a);return(Tj(s)+Tj(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(u))||0}function Pj(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Jg(e,t,r){var n=e._x0,a=e._y0,s=e._x1,l=e._y1,u=(s-n)/3;e._context.bezierCurveTo(n+u,a+u*t,s-u,l-u*r,s,l)}function Eh(e){this._context=e}Eh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Jg(this,this._t0,Pj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Jg(this,Pj(this,r=Cj(this,e,t)),r);break;default:Jg(this,this._t0,r=Cj(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function JC(e){this._context=new QC(e)}(JC.prototype=Object.create(Eh.prototype)).point=function(e,t){Eh.prototype.point.call(this,t,e)};function QC(e){this._context=e}QC.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function AV(e){return new Eh(e)}function TV(e){return new JC(e)}function eP(e){this._context=e}eP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Dj(e),a=Dj(t),s=0,l=1;l<r;++s,++l)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Dj(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),l=new Array(r);for(a[0]=0,s[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,l[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,l[t]-=n*l[t-1];for(a[r-1]=l[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(l[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function CV(e){return new eP(e)}function R0(e,t){this._context=e,this._t=t}R0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function PV(e){return new R0(e,.5)}function DV(e){return new R0(e,0)}function MV(e){return new R0(e,1)}function fl(e,t){if((l=e.length)>1)for(var r=1,n,a,s=e[t[0]],l,u=s.length;r<l;++r)for(a=s,s=e[t[r]],n=0;n<u;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function ub(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function RV(e,t){return e[t]}function $V(e){const t=[];return t.key=e,t}function LV(){var e=_t([]),t=ub,r=fl,n=RV;function a(s){var l=Array.from(e.apply(this,arguments),$V),u,d=l.length,f=-1,p;for(const g of s)for(u=0,++f;u<d;++u)(l[u][f]=[0,+n(g,l[u].key,f,s)]).data=g;for(u=0,p=Mx(t(l));u<d;++u)l[p[u]].index=u;return r(l,p),l}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:_t(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:_t(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?ub:typeof s=="function"?s:_t(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??fl,a):r},a}function IV(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,l;a<s;++a){for(l=r=0;r<n;++r)l+=e[r][a][1]||0;if(l)for(r=0;r<n;++r)e[r][a][1]/=l}fl(e,t)}}function zV(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var l=0,u=0;l<a;++l)u+=e[l][r][1]||0;n[r][1]+=n[r][0]=-u/2}fl(e,t)}}function UV(e,t){if(!(!((l=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,l;n<s;++n){for(var u=0,d=0,f=0;u<l;++u){for(var p=e[t[u]],g=p[n][1]||0,v=p[n-1][1]||0,y=(g-v)/2,_=0;_<u;++_){var k=e[t[_]],S=k[n][1]||0,j=k[n-1][1]||0;y+=S-j}d+=g,f+=y*g}a[n-1][1]+=a[n-1][0]=r,d&&(r-=f/d)}a[n-1][1]+=a[n-1][0]=r,fl(e,t)}}var Qg={},ev={},Mj;function BV(){return Mj||(Mj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(ev)),ev}var tv={},Rj;function tP(){return Rj||(Rj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(tv)),tv}var rv={},$j;function Rx(){return $j||($j=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(rv)),rv}var nv={},av={},Lj;function qV(){return Lj||(Lj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(av)),av}var Ij;function $x(){return Ij||(Ij=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qV(),r=Rx();function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const s=[],l=a.length;if(l===0)return s;let u=0,d="",f="",p=!1;for(a.charCodeAt(0)===46&&(s.push(""),u++);u<l;){const g=a[u];f?g==="\\"&&u+1<l?(u++,d+=a[u]):g===f?f="":d+=g:p?g==='"'||g==="'"?f=g:g==="]"?(p=!1,s.push(d),d=""):d+=g:g==="["?(p=!0,d&&(s.push(d),d="")):g==="."?d&&(s.push(d),d=""):d+=g,u++}return d&&s.push(d),s}e.toPath=n})(nv)),nv}var zj;function Lx(){return zj||(zj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BV(),r=tP(),n=Rx(),a=$x();function s(u,d,f){if(u==null)return f;switch(typeof d){case"string":{if(t.isUnsafeProperty(d))return f;const p=u[d];return p===void 0?r.isDeepKey(d)?s(u,a.toPath(d),f):f:p}case"number":case"symbol":{typeof d=="number"&&(d=n.toKey(d));const p=u[d];return p===void 0?f:p}default:{if(Array.isArray(d))return l(u,d,f);if(Object.is(d?.valueOf(),-0)?d="-0":d=String(d),t.isUnsafeProperty(d))return f;const p=u[d];return p===void 0?f:p}}}function l(u,d,f){if(d.length===0)return f;let p=u;for(let g=0;g<d.length;g++){if(p==null||t.isUnsafeProperty(d[g]))return f;p=p[d[g]]}return p===void 0?f:p}e.get=s})(Qg)),Qg}var iv,Uj;function HV(){return Uj||(Uj=1,iv=Lx().get),iv}var FV=HV();const $0=ni(FV);var An=e=>e===0?0:e>0?1:-1,fn=e=>typeof e=="number"&&e!=+e,Xa=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Ne=e=>(typeof e=="number"||e instanceof Number)&&!fn(e),Pn=e=>Ne(e)||typeof e=="string",VV=0,ou=e=>{var t=++VV;return"".concat(e||"").concat(t)},Zi=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ne(t)&&typeof t!="string")return n;var s;if(Xa(t)){if(r==null)return n;var l=t.indexOf("%");s=r*parseFloat(t.slice(0,l))/100}else s=+t;return fn(s)&&(s=n),a&&r!=null&&s>r&&(s=r),s},rP=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function sa(e,t,r){return Ne(e)&&Ne(t)?e+r*(t-e):t}function nP(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):$0(n,t))===r)}var ur=e=>e===null||typeof e>"u",Ix=e=>ur(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function KV(e){return e!=null}function Ou(){}var aP=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,zx=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(x.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{Dx(a)&&(n[a]=(s=>r[a](r,s)))}),n},ZV=(e,t,r)=>n=>(e(t,r,n),null),GV=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var s=e[a];Dx(a)&&typeof s=="function"&&(n||(n={}),n[a]=ZV(s,t,r))}),n};function Bj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function YV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bj(Object(r),!0).forEach(function(n){WV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WV(e,t,r){return(t=XV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XV(e){var t=JV(e,"string");return typeof t=="symbol"?t:t+""}function JV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zr(e,t){var r=YV({},e),n=t,a=Object.keys(t),s=a.reduce((l,u)=>(l[u]===void 0&&n[u]!==void 0&&(l[u]=n[u]),l),r);return s}var sv={},ov={},qj;function QV(){return qj||(qj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let s=0;s<r.length;s++){const l=r[s],u=n(l);a.has(u)||a.set(u,l)}return Array.from(a.values())}e.uniqBy=t})(ov)),ov}var lv={},Hj;function iP(){return Hj||(Hj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(lv)),lv}var cv={},uv={},dv={},Fj;function eK(){return Fj||(Fj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(dv)),dv}var Vj;function Ux(){return Vj||(Vj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eK();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(uv)),uv}var fv={},Kj;function tK(){return Kj||(Kj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(fv)),fv}var Zj;function rK(){return Zj||(Zj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ux(),r=tK();function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(cv)),cv}var hv={},mv={},Gj;function nK(){return Gj||(Gj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Lx();function r(n){return function(a){return t.get(a,n)}}e.property=r})(mv)),mv}var pv={},gv={},vv={},yv={},Yj;function sP(){return Yj||(Yj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(yv)),yv}var bv={},Wj;function oP(){return Wj||(Wj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(bv)),bv}var xv={},Xj;function lP(){return Xj||(Xj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(xv)),xv}var Jj;function aK(){return Jj||(Jj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sP(),r=oP(),n=lP();function a(p,g,v){return typeof v!="function"?a(p,g,()=>{}):s(p,g,function y(_,k,S,j,A,E){const P=v(_,k,S,j,A,E);return P!==void 0?!!P:s(_,k,y,E)},new Map)}function s(p,g,v,y){if(g===p)return!0;switch(typeof g){case"object":return l(p,g,v,y);case"function":return Object.keys(g).length>0?s(p,{...g},v,y):n.eq(p,g);default:return t.isObject(p)?typeof g=="string"?g==="":!0:n.eq(p,g)}}function l(p,g,v,y){if(g==null)return!0;if(Array.isArray(g))return d(p,g,v,y);if(g instanceof Map)return u(p,g,v,y);if(g instanceof Set)return f(p,g,v,y);const _=Object.keys(g);if(p==null)return _.length===0;if(_.length===0)return!0;if(y?.has(g))return y.get(g)===p;y?.set(g,p);try{for(let k=0;k<_.length;k++){const S=_[k];if(!r.isPrimitive(p)&&!(S in p)||g[S]===void 0&&p[S]!==void 0||g[S]===null&&p[S]!==null||!v(p[S],g[S],S,p,g,y))return!1}return!0}finally{y?.delete(g)}}function u(p,g,v,y){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[_,k]of g.entries()){const S=p.get(_);if(v(S,k,_,p,g,y)===!1)return!1}return!0}function d(p,g,v,y){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const _=new Set;for(let k=0;k<g.length;k++){const S=g[k];let j=!1;for(let A=0;A<p.length;A++){if(_.has(A))continue;const E=p[A];let P=!1;if(v(E,S,k,p,g,y)&&(P=!0),P){_.add(A),j=!0;break}}if(!j)return!1}return!0}function f(p,g,v,y){return g.size===0?!0:p instanceof Set?d([...p],[...g],v,y):!1}e.isMatchWith=a,e.isSetMatch=f})(vv)),vv}var Qj;function cP(){return Qj||(Qj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aK();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(gv)),gv}var wv={},_v={},Sv={},eE;function iK(){return eE||(eE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(Sv)),Sv}var kv={},tE;function uP(){return tE||(tE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(kv)),kv}var jv={},rE;function dP(){return rE||(rE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",s="[object Arguments]",l="[object Symbol]",u="[object Date]",d="[object Map]",f="[object Set]",p="[object Array]",g="[object Function]",v="[object ArrayBuffer]",y="[object Object]",_="[object Error]",k="[object DataView]",S="[object Uint8Array]",j="[object Uint8ClampedArray]",A="[object Uint16Array]",E="[object Uint32Array]",P="[object BigUint64Array]",O="[object Int8Array]",T="[object Int16Array]",C="[object Int32Array]",D="[object BigInt64Array]",R="[object Float32Array]",L="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=v,e.arrayTag=p,e.bigInt64ArrayTag=D,e.bigUint64ArrayTag=P,e.booleanTag=a,e.dataViewTag=k,e.dateTag=u,e.errorTag=_,e.float32ArrayTag=R,e.float64ArrayTag=L,e.functionTag=g,e.int16ArrayTag=T,e.int32ArrayTag=C,e.int8ArrayTag=O,e.mapTag=d,e.numberTag=n,e.objectTag=y,e.regexpTag=t,e.setTag=f,e.stringTag=r,e.symbolTag=l,e.uint16ArrayTag=A,e.uint32ArrayTag=E,e.uint8ArrayTag=S,e.uint8ClampedArrayTag=j})(jv)),jv}var Ev={},nE;function sK(){return nE||(nE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(Ev)),Ev}var aE;function fP(){return aE||(aE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iK(),r=uP(),n=dP(),a=oP(),s=sK();function l(p,g){return u(p,void 0,p,new Map,g)}function u(p,g,v,y=new Map,_=void 0){const k=_?.(p,g,v,y);if(k!==void 0)return k;if(a.isPrimitive(p))return p;if(y.has(p))return y.get(p);if(Array.isArray(p)){const S=new Array(p.length);y.set(p,S);for(let j=0;j<p.length;j++)S[j]=u(p[j],j,v,y,_);return Object.hasOwn(p,"index")&&(S.index=p.index),Object.hasOwn(p,"input")&&(S.input=p.input),S}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const S=new RegExp(p.source,p.flags);return S.lastIndex=p.lastIndex,S}if(p instanceof Map){const S=new Map;y.set(p,S);for(const[j,A]of p)S.set(j,u(A,j,v,y,_));return S}if(p instanceof Set){const S=new Set;y.set(p,S);for(const j of p)S.add(u(j,void 0,v,y,_));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(s.isTypedArray(p)){const S=new(Object.getPrototypeOf(p)).constructor(p.length);y.set(p,S);for(let j=0;j<p.length;j++)S[j]=u(p[j],j,v,y,_);return S}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const S=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return y.set(p,S),d(S,p,v,y,_),S}if(typeof File<"u"&&p instanceof File){const S=new File([p],p.name,{type:p.type});return y.set(p,S),d(S,p,v,y,_),S}if(typeof Blob<"u"&&p instanceof Blob){const S=new Blob([p],{type:p.type});return y.set(p,S),d(S,p,v,y,_),S}if(p instanceof Error){const S=new p.constructor;return y.set(p,S),S.message=p.message,S.name=p.name,S.stack=p.stack,S.cause=p.cause,d(S,p,v,y,_),S}if(p instanceof Boolean){const S=new Boolean(p.valueOf());return y.set(p,S),d(S,p,v,y,_),S}if(p instanceof Number){const S=new Number(p.valueOf());return y.set(p,S),d(S,p,v,y,_),S}if(p instanceof String){const S=new String(p.valueOf());return y.set(p,S),d(S,p,v,y,_),S}if(typeof p=="object"&&f(p)){const S=Object.create(Object.getPrototypeOf(p));return y.set(p,S),d(S,p,v,y,_),S}return p}function d(p,g,v=p,y,_){const k=[...Object.keys(g),...t.getSymbols(g)];for(let S=0;S<k.length;S++){const j=k[S],A=Object.getOwnPropertyDescriptor(p,j);(A==null||A.writable)&&(p[j]=u(g[j],j,v,y,_))}}function f(p){switch(r.getTag(p)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=u,e.copyProperties=d})(_v)),_v}var iE;function oK(){return iE||(iE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fP();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(wv)),wv}var sE;function lK(){return sE||(sE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cP(),r=oK();function n(a){return a=r.cloneDeep(a),s=>t.isMatch(s,a)}e.matches=n})(pv)),pv}var Nv={},Ov={},Av={},oE;function cK(){return oE||(oE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fP(),r=dP();function n(a,s){return t.cloneDeepWith(a,(l,u,d,f)=>{const p=s?.(l,u,d,f);if(p!==void 0)return p;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const g=new a.constructor(a?.valueOf());return t.copyProperties(g,a),g}case r.argumentsTag:{const g={};return t.copyProperties(g,a),g.length=a.length,g[Symbol.iterator]=a[Symbol.iterator],g}default:return}})}e.cloneDeepWith=n})(Av)),Av}var lE;function uK(){return lE||(lE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cK();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(Ov)),Ov}var Tv={},Cv={},cE;function hP(){return cE||(cE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Cv)),Cv}var Pv={},uE;function dK(){return uE||(uE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uP();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(Pv)),Pv}var dE;function fK(){return dE||(dE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tP(),r=hP(),n=dK(),a=$x();function s(l,u){let d;if(Array.isArray(u)?d=u:typeof u=="string"&&t.isDeepKey(u)&&l?.[u]==null?d=a.toPath(u):d=[u],d.length===0)return!1;let f=l;for(let p=0;p<d.length;p++){const g=d[p];if((f==null||!Object.hasOwn(f,g))&&!((Array.isArray(f)||n.isArguments(f))&&r.isIndex(g)&&g<f.length))return!1;f=f[g]}return!0}e.has=s})(Tv)),Tv}var fE;function hK(){return fE||(fE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cP(),r=Rx(),n=uK(),a=Lx(),s=fK();function l(u,d){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=r.toKey(u);break}}return d=n.cloneDeep(d),function(f){const p=a.get(f,u);return p===void 0?s.has(f,u):d===void 0?p===void 0:t.isMatch(p,d)}}e.matchesProperty=l})(Nv)),Nv}var hE;function mK(){return hE||(hE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iP(),r=nK(),n=lK(),a=hK();function s(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?a.matchesProperty(l[0],l[1]):n.matches(l);case"string":case"symbol":case"number":return r.property(l)}}e.iteratee=s})(hv)),hv}var mE;function pK(){return mE||(mE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QV(),r=iP(),n=rK(),a=mK();function s(l,u=r.identity){return n.isArrayLikeObject(l)?t.uniqBy(Array.from(l),a.iteratee(u)):[]}e.uniqBy=s})(sv)),sv}var Dv,pE;function gK(){return pE||(pE=1,Dv=pK().uniqBy),Dv}var vK=gK();const gE=ni(vK);function yK(e,t,r){return t===!0?gE(e,r):typeof t=="function"?gE(e,t):e}var Mv={exports:{}},Rv={},$v={exports:{}},Lv={};var vE;function bK(){if(vE)return Lv;vE=1;var e=bl();function t(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,s=e.useLayoutEffect,l=e.useDebugValue;function u(g,v){var y=v(),_=n({inst:{value:y,getSnapshot:v}}),k=_[0].inst,S=_[1];return s(function(){k.value=y,k.getSnapshot=v,d(k)&&S({inst:k})},[g,y,v]),a(function(){return d(k)&&S({inst:k}),g(function(){d(k)&&S({inst:k})})},[g]),l(y),y}function d(g){var v=g.getSnapshot;g=g.value;try{var y=v();return!r(g,y)}catch{return!0}}function f(g,v){return v()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return Lv.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,Lv}var yE;function xK(){return yE||(yE=1,$v.exports=bK()),$v.exports}var bE;function wK(){if(bE)return Rv;bE=1;var e=bl(),t=xK();function r(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var n=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,s=e.useRef,l=e.useEffect,u=e.useMemo,d=e.useDebugValue;return Rv.useSyncExternalStoreWithSelector=function(f,p,g,v,y){var _=s(null);if(_.current===null){var k={hasValue:!1,value:null};_.current=k}else k=_.current;_=u(function(){function j(T){if(!A){if(A=!0,E=T,T=v(T),y!==void 0&&k.hasValue){var C=k.value;if(y(C,T))return P=C}return P=T}if(C=P,n(E,T))return C;var D=v(T);return y!==void 0&&y(C,D)?(E=T,C):(E=T,P=D)}var A=!1,E,P,O=g===void 0?null:g;return[function(){return j(p())},O===null?void 0:function(){return j(O())}]},[p,g,v,y]);var S=a(f,_[0],_[1]);return l(function(){k.hasValue=!0,k.value=S},[S]),d(S),S},Rv}var xE;function _K(){return xE||(xE=1,Mv.exports=wK()),Mv.exports}var SK=_K(),Bx=x.createContext(null),kK=e=>e,Bt=()=>{var e=x.useContext(Bx);return e?e.store.dispatch:kK},Qf=()=>{},jK=()=>Qf,EK=(e,t)=>e===t;function Ee(e){var t=x.useContext(Bx);return SK.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:jK,t?t.store.getState:Qf,t?t.store.getState:Qf,t?e:Qf,EK)}function NK(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function OK(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function AK(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var wE=e=>Array.isArray(e)?e:[e];function TK(e){const t=Array.isArray(e[0])?e[0]:e;return AK(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function CK(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var PK=class{constructor(e){this.value=e}deref(){return this.value}},DK=typeof WeakRef<"u"?WeakRef:PK,MK=0,_E=1;function Pf(){return{s:MK,v:void 0,o:null,p:null}}function mP(e,t={}){let r=Pf();const{resultEqualityCheck:n}=t;let a,s=0;function l(){let u=r;const{length:d}=arguments;for(let g=0,v=d;g<v;g++){const y=arguments[g];if(typeof y=="function"||typeof y=="object"&&y!==null){let _=u.o;_===null&&(u.o=_=new WeakMap);const k=_.get(y);k===void 0?(u=Pf(),_.set(y,u)):u=k}else{let _=u.p;_===null&&(u.p=_=new Map);const k=_.get(y);k===void 0?(u=Pf(),_.set(y,u)):u=k}}const f=u;let p;if(u.s===_E)p=u.v;else if(p=e.apply(null,arguments),s++,n){const g=a?.deref?.()??a;g!=null&&n(g,p)&&(p=g,s!==0&&s--),a=typeof p=="object"&&p!==null||typeof p=="function"?new DK(p):p}return f.s=_E,f.v=p,p}return l.clearCache=()=>{r=Pf(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function RK(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let s=0,l=0,u,d={},f=a.pop();typeof f=="object"&&(d=f,f=a.pop()),NK(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const p={...r,...d},{memoize:g,memoizeOptions:v=[],argsMemoize:y=mP,argsMemoizeOptions:_=[]}=p,k=wE(v),S=wE(_),j=TK(a),A=g(function(){return s++,f.apply(null,arguments)},...k),E=y(function(){l++;const O=CK(j,arguments);return u=A.apply(null,O),u},...S);return Object.assign(E,{resultFunc:f,memoizedResultFunc:A,dependencies:j,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:g,argsMemoize:y})};return Object.assign(n,{withTypes:()=>n}),n}var ne=RK(mP),$K=Object.assign((e,t=ne)=>{OK(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((l,u,d)=>(l[r[d]]=u,l),{}))},{withTypes:()=>$K}),Iv={},zv={},Uv={},SE;function LK(){return SE||(SE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,s)=>{if(n!==a){const l=t(n),u=t(a);if(l===u&&l===0){if(n<a)return s==="desc"?1:-1;if(n>a)return s==="desc"?-1:1}return s==="desc"?u-l:l-u}return 0};e.compareValues=r})(Uv)),Uv}var Bv={},qv={},kE;function pP(){return kE||(kE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(qv)),qv}var jE;function IK(){return jE||(jE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pP(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||l!=null&&Object.hasOwn(l,s)}e.isKey=a})(Bv)),Bv}var EE;function zK(){return EE||(EE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LK(),r=IK(),n=$x();function a(s,l,u,d){if(s==null)return[];u=d?void 0:u,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(y=>String(y));const f=(y,_)=>{let k=y;for(let S=0;S<_.length&&k!=null;++S)k=k[_[S]];return k},p=(y,_)=>_==null||y==null?_:typeof y=="object"&&"key"in y?Object.hasOwn(_,y.key)?_[y.key]:f(_,y.path):typeof y=="function"?y(_):Array.isArray(y)?f(_,y):typeof _=="object"?_[y]:_,g=l.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||r.isKey(y)?y:{key:y,path:n.toPath(y)}));return s.map(y=>({original:y,criteria:g.map(_=>p(_,y))})).slice().sort((y,_)=>{for(let k=0;k<g.length;k++){const S=t.compareValues(y.criteria[k],_.criteria[k],u[k]);if(S!==0)return S}return 0}).map(y=>y.original)}e.orderBy=a})(zv)),zv}var Hv={},NE;function UK(){return NE||(NE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],s=Math.floor(n),l=(u,d)=>{for(let f=0;f<u.length;f++){const p=u[f];Array.isArray(p)&&d<s?l(p,d+1):a.push(p)}};return l(r,0),a}e.flatten=t})(Hv)),Hv}var Fv={},OE;function gP(){return OE||(OE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hP(),r=Ux(),n=sP(),a=lP();function s(l,u,d){return n.isObject(d)&&(typeof u=="number"&&r.isArrayLike(d)&&t.isIndex(u)&&u<d.length||typeof u=="string"&&u in d)?a.eq(d[u],l):!1}e.isIterateeCall=s})(Fv)),Fv}var AE;function BK(){return AE||(AE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zK(),r=UK(),n=gP();function a(s,...l){const u=l.length;return u>1&&n.isIterateeCall(s,l[0],l[1])?l=[]:u>2&&n.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(s,r.flatten(l),["asc"])}e.sortBy=a})(Iv)),Iv}var Vv,TE;function qK(){return TE||(TE=1,Vv=BK().sortBy),Vv}var HK=qK();const L0=ni(HK);var vP=e=>e.legend.settings,FK=e=>e.legend.size,VK=e=>e.legend.payload;ne([VK,vP],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?L0(n,r):n});var Df=1;function KK(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=x.useState({height:0,left:0,top:0,width:0}),n=x.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-t.height)>Df||Math.abs(l.left-t.left)>Df||Math.abs(l.top-t.top)>Df||Math.abs(l.width-t.width)>Df)&&r({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function or(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var ZK=typeof Symbol=="function"&&Symbol.observable||"@@observable",CE=ZK,Kv=()=>Math.random().toString(36).substring(7).split("").join("."),GK={INIT:`@@redux/INIT${Kv()}`,REPLACE:`@@redux/REPLACE${Kv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Kv()}`},Nh=GK;function qx(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function yP(e,t,r){if(typeof e!="function")throw new Error(or(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(or(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(or(1));return r(yP)(e,t)}let n=e,a=t,s=new Map,l=s,u=0,d=!1;function f(){l===s&&(l=new Map,s.forEach((S,j)=>{l.set(j,S)}))}function p(){if(d)throw new Error(or(3));return a}function g(S){if(typeof S!="function")throw new Error(or(4));if(d)throw new Error(or(5));let j=!0;f();const A=u++;return l.set(A,S),function(){if(j){if(d)throw new Error(or(6));j=!1,f(),l.delete(A),s=null}}}function v(S){if(!qx(S))throw new Error(or(7));if(typeof S.type>"u")throw new Error(or(8));if(typeof S.type!="string")throw new Error(or(17));if(d)throw new Error(or(9));try{d=!0,a=n(a,S)}finally{d=!1}return(s=l).forEach(A=>{A()}),S}function y(S){if(typeof S!="function")throw new Error(or(10));n=S,v({type:Nh.REPLACE})}function _(){const S=g;return{subscribe(j){if(typeof j!="object"||j===null)throw new Error(or(11));function A(){const P=j;P.next&&P.next(p())}return A(),{unsubscribe:S(A)}},[CE](){return this}}}return v({type:Nh.INIT}),{dispatch:v,subscribe:g,getState:p,replaceReducer:y,[CE]:_}}function YK(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Nh.INIT})>"u")throw new Error(or(12));if(typeof r(void 0,{type:Nh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(or(13))})}function bP(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const l=t[s];typeof e[l]=="function"&&(r[l]=e[l])}const n=Object.keys(r);let a;try{YK(r)}catch(s){a=s}return function(l={},u){if(a)throw a;let d=!1;const f={};for(let p=0;p<n.length;p++){const g=n[p],v=r[g],y=l[g],_=v(y,u);if(typeof _>"u")throw u&&u.type,new Error(or(14));f[g]=_,d=d||_!==y}return d=d||n.length!==Object.keys(l).length,d?f:l}}function Oh(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function WK(...e){return t=>(r,n)=>{const a=t(r,n);let s=()=>{throw new Error(or(15))};const l={getState:a.getState,dispatch:(d,...f)=>s(d,...f)},u=e.map(d=>d(l));return s=Oh(...u)(a.dispatch),{...a,dispatch:s}}}function xP(e){return qx(e)&&"type"in e&&typeof e.type=="string"}var wP=Symbol.for("immer-nothing"),PE=Symbol.for("immer-draftable"),Ar=Symbol.for("immer-state");function Vn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var cn=Object,hl=cn.getPrototypeOf,Ah="constructor",I0="prototype",db="configurable",Th="enumerable",eh="writable",lu="value",Ja=e=>!!e&&!!e[Ar];function Jn(e){return e?_P(e)||z0(e)||!!e[PE]||!!e[Ah]?.[PE]||U0(e)||B0(e):!1}var XK=cn[I0][Ah].toString(),DE=new WeakMap;function _P(e){if(!e||!Hx(e))return!1;const t=hl(e);if(t===null||t===cn[I0])return!0;const r=cn.hasOwnProperty.call(t,Ah)&&t[Ah];if(r===Object)return!0;if(!Jo(r))return!1;let n=DE.get(r);return n===void 0&&(n=Function.toString.call(r),DE.set(r,n)),n===XK}function Au(e,t,r=!0){Tu(e)===0?(r?Reflect.ownKeys(e):cn.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Tu(e){const t=e[Ar];return t?t.type_:z0(e)?1:U0(e)?2:B0(e)?3:0}var ME=(e,t,r=Tu(e))=>r===2?e.has(t):cn[I0].hasOwnProperty.call(e,t),fb=(e,t,r=Tu(e))=>r===2?e.get(t):e[t],Ch=(e,t,r,n=Tu(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function JK(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var z0=Array.isArray,U0=e=>e instanceof Map,B0=e=>e instanceof Set,Hx=e=>typeof e=="object",Jo=e=>typeof e=="function",Zv=e=>typeof e=="boolean",Ia=e=>e.copy_||e.base_,Fx=e=>e.modified_?e.copy_:e.base_;function hb(e,t){if(U0(e))return new Map(e);if(B0(e))return new Set(e);if(z0(e))return Array[I0].slice.call(e);const r=_P(e);if(t===!0||t==="class_only"&&!r){const n=cn.getOwnPropertyDescriptors(e);delete n[Ar];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const l=a[s],u=n[l];u[eh]===!1&&(u[eh]=!0,u[db]=!0),(u.get||u.set)&&(n[l]={[db]:!0,[eh]:!0,[Th]:u[Th],[lu]:e[l]})}return cn.create(hl(e),n)}else{const n=hl(e);if(n!==null&&r)return{...e};const a=cn.create(n);return cn.assign(a,e)}}function Vx(e,t=!1){return q0(e)||Ja(e)||!Jn(e)||(Tu(e)>1&&cn.defineProperties(e,{set:Mf,add:Mf,clear:Mf,delete:Mf}),cn.freeze(e),t&&Au(e,(r,n)=>{Vx(n,!0)},!1)),e}function QK(){Vn(2)}var Mf={[lu]:QK};function q0(e){return e===null||!Hx(e)?!0:cn.isFrozen(e)}var Ph="MapSet",mb="Patches",SP={};function ml(e){const t=SP[e];return t||Vn(0,e),t}var eZ=e=>!!SP[e],cu,kP=()=>cu,tZ=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:eZ(Ph)?ml(Ph):void 0});function RE(e,t){t&&(e.patchPlugin_=ml(mb),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function pb(e){gb(e),e.drafts_.forEach(rZ),e.drafts_=null}function gb(e){e===cu&&(cu=e.parent_)}var $E=e=>cu=tZ(cu,e);function rZ(e){const t=e[Ar];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function LE(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[Ar].modified_&&(pb(t),Vn(4)),Jn(e)&&(e=IE(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[Ar].base_,e,t)}else e=IE(t,r);return nZ(t,e,!0),pb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==wP?e:void 0}function IE(e,t){if(q0(t))return t;const r=t[Ar];if(!r)return Kx(t,e.handledSet_,e);if(!H0(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);NP(r,e)}return r.copy_}function nZ(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Vx(t,r)}function jP(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var H0=(e,t)=>e.scope_===t,aZ=[];function EP(e,t,r,n){const a=Ia(e),s=e.type_;if(n!==void 0&&fb(a,n,s)===t){Ch(a,n,r,s);return}if(!e.draftLocations_){const u=e.draftLocations_=new Map;Au(a,(d,f)=>{if(Ja(f)){const p=u.get(f)||[];p.push(d),u.set(f,p)}})}const l=e.draftLocations_.get(t)??aZ;for(const u of l)Ch(a,u,r,s)}function iZ(e,t,r){e.callbacks_.push(function(a){const s=t;if(!s||!H0(s,a))return;a.mapSetPlugin_?.fixSetContents(s);const l=Fx(s);EP(e,s.draft_??s,l,r),NP(s,a)})}function NP(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||(e.assigned_?.size??0)>0)){const{patchPlugin_:n}=t;if(n){const a=n.getPath(e);a&&n.generatePatches_(e,a,t)}jP(e)}}function sZ(e,t,r){const{scope_:n}=e;if(Ja(r)){const a=r[Ar];H0(a,n)&&a.callbacks_.push(function(){th(e);const l=Fx(a);EP(e,r,l,t)})}else Jn(r)&&e.callbacks_.push(function(){const s=Ia(e);fb(s,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Kx(fb(e.copy_,t,e.type_),n.handledSet_,n)})}function Kx(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Ja(e)||t.has(e)||!Jn(e)||q0(e)||(t.add(e),Au(e,(n,a)=>{if(Ja(a)){const s=a[Ar];if(H0(s,r)){const l=Fx(s);Ch(e,n,l,e.type_),jP(s)}}else Jn(a)&&Kx(a,t,r)})),e}function oZ(e,t){const r=z0(e),n={type_:r?1:0,scope_:t?t.scope_:kP(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,s=Zx;r&&(a=[n],s=uu);const{revoke:l,proxy:u}=Proxy.revocable(a,s);return n.draft_=u,n.revoke_=l,[u,n]}var Zx={get(e,t){if(t===Ar)return e;const r=Ia(e);if(!ME(r,t,e.type_))return lZ(e,r,t);const n=r[t];if(e.finalized_||!Jn(n))return n;if(n===Gv(e.base_,t)){th(e);const a=e.type_===1?+t:t,s=yb(e.scope_,n,e,a);return e.copy_[a]=s}return n},has(e,t){return t in Ia(e)},ownKeys(e){return Reflect.ownKeys(Ia(e))},set(e,t,r){const n=OP(Ia(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Gv(Ia(e),t),s=a?.[Ar];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(JK(r,a)&&(r!==void 0||ME(e.base_,t,e.type_)))return!0;th(e),vb(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),sZ(e,t,r)),!0},deleteProperty(e,t){return th(e),Gv(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),vb(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Ia(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[eh]:!0,[db]:e.type_!==1||t!=="length",[Th]:n[Th],[lu]:r[t]}},defineProperty(){Vn(11)},getPrototypeOf(e){return hl(e.base_)},setPrototypeOf(){Vn(12)}},uu={};Au(Zx,(e,t)=>{uu[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});uu.deleteProperty=function(e,t){return uu.set.call(this,e,t,void 0)};uu.set=function(e,t,r){return Zx.set.call(this,e[0],t,r,e[0])};function Gv(e,t){const r=e[Ar];return(r?Ia(r):e)[t]}function lZ(e,t,r){const n=OP(t,r);return n?lu in n?n[lu]:n.get?.call(e.draft_):void 0}function OP(e,t){if(!(t in e))return;let r=hl(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=hl(r)}}function vb(e){e.modified_||(e.modified_=!0,e.parent_&&vb(e.parent_))}function th(e){e.copy_||(e.assigned_=new Map,e.copy_=hb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var cZ=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(Jo(r)&&!Jo(n)){const l=n;n=r;const u=this;return function(f=l,...p){return u.produce(f,g=>n.call(this,g,...p))}}Jo(n)||Vn(6),a!==void 0&&!Jo(a)&&Vn(7);let s;if(Jn(r)){const l=$E(this),u=yb(l,r,void 0);let d=!0;try{s=n(u),d=!1}finally{d?pb(l):gb(l)}return RE(l,a),LE(s,l)}else if(!r||!Hx(r)){if(s=n(r),s===void 0&&(s=r),s===wP&&(s=void 0),this.autoFreeze_&&Vx(s,!0),a){const l=[],u=[];ml(mb).generateReplacementPatches_(r,s,{patches_:l,inversePatches_:u}),a(l,u)}return s}else Vn(1,r)},this.produceWithPatches=(r,n)=>{if(Jo(r))return(u,...d)=>this.produceWithPatches(u,f=>r(f,...d));let a,s;return[this.produce(r,n,(u,d)=>{a=u,s=d}),a,s]},Zv(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Zv(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Zv(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Jn(t)||Vn(8),Ja(t)&&(t=Yn(t));const r=$E(this),n=yb(r,t,void 0);return n[Ar].isManual_=!0,gb(r),n}finishDraft(t,r){const n=t&&t[Ar];(!n||!n.isManual_)&&Vn(9);const{scope_:a}=n;return RE(a,r),LE(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const s=r[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(r=r.slice(n+1));const a=ml(mb).applyPatches_;return Ja(t)?a(t,r):this.produce(t,s=>a(s,r))}};function yb(e,t,r,n){const[a,s]=U0(t)?ml(Ph).proxyMap_(t,r):B0(t)?ml(Ph).proxySet_(t,r):oZ(t,r);return(r?.scope_??kP()).drafts_.push(a),s.callbacks_=r?.callbacks_??[],s.key_=n,r&&n!==void 0?iZ(r,s,n):s.callbacks_.push(function(d){d.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:f}=d;s.modified_&&f&&f.generatePatches_(s,[],d)}),a}function Yn(e){return Ja(e)||Vn(10,e),AP(e)}function AP(e){if(!Jn(e)||q0(e))return e;const t=e[Ar];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=hb(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=hb(e,!0);return Au(r,(a,s)=>{Ch(r,a,AP(s))},n),t&&(t.finalized_=!1),r}var uZ=new cZ,TP=uZ.produce;function CP(e){return({dispatch:r,getState:n})=>a=>s=>typeof s=="function"?s(r,n,e):a(s)}var dZ=CP(),fZ=CP,hZ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Oh:Oh.apply(null,arguments)};function Dn(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(un(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>xP(n)&&n.type===e,r}var PP=class Kc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Kc.prototype)}static get[Symbol.species](){return Kc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Kc(...t[0].concat(this)):new Kc(...t.concat(this))}};function zE(e){return Jn(e)?TP(e,()=>{}):e}function Rf(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function mZ(e){return typeof e=="boolean"}var pZ=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=t??{};let l=new PP;return r&&(mZ(r)?l.push(dZ):l.push(fZ(r.extraArgument))),l},DP="RTK_autoBatch",mt=()=>e=>({payload:e,meta:{[DP]:!0}}),UE=e=>t=>{setTimeout(t,e)},MP=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,s=!1,l=!1;const u=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:UE(10):e.type==="callback"?e.queueNotification:UE(e.timeout),f=()=>{l=!1,s&&(s=!1,u.forEach(p=>p()))};return Object.assign({},n,{subscribe(p){const g=()=>a&&p(),v=n.subscribe(g);return u.add(p),()=>{v(),u.delete(p)}},dispatch(p){try{return a=!p?.meta?.[DP],s=!a,s&&(l||(l=!0,d(f))),n.dispatch(p)}finally{a=!0}}})},gZ=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new PP(e);return n&&a.push(MP(typeof n=="object"?n:void 0)),a};function vZ(e){const t=pZ(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:s=void 0,enhancers:l=void 0}=e||{};let u;if(typeof r=="function")u=r;else if(qx(r))u=bP(r);else throw new Error(un(1));let d;typeof n=="function"?d=n(t):d=t();let f=Oh;a&&(f=hZ({trace:!1,...typeof a=="object"&&a}));const p=WK(...d),g=gZ(p);let v=typeof l=="function"?l(g):g();const y=f(...v);return yP(u,s,y)}function RP(e){const t={},r=[];let n;const a={addCase(s,l){const u=typeof s=="string"?s:s.type;if(!u)throw new Error(un(28));if(u in t)throw new Error(un(29));return t[u]=l,a},addAsyncThunk(s,l){return l.pending&&(t[s.pending.type]=l.pending),l.rejected&&(t[s.rejected.type]=l.rejected),l.fulfilled&&(t[s.fulfilled.type]=l.fulfilled),l.settled&&r.push({matcher:s.settled,reducer:l.settled}),a},addMatcher(s,l){return r.push({matcher:s,reducer:l}),a},addDefaultCase(s){return n=s,a}};return e(a),[t,r,n]}function yZ(e){return typeof e=="function"}function bZ(e,t){let[r,n,a]=RP(t),s;if(yZ(e))s=()=>zE(e());else{const u=zE(e);s=()=>u}function l(u=s(),d){let f=[r[d.type],...n.filter(({matcher:p})=>p(d)).map(({reducer:p})=>p)];return f.filter(p=>!!p).length===0&&(f=[a]),f.reduce((p,g)=>{if(g)if(Ja(p)){const y=g(p,d);return y===void 0?p:y}else{if(Jn(p))return TP(p,v=>g(v,d));{const v=g(p,d);if(v===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return p},u)}return l.getInitialState=s,l}var xZ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",wZ=(e=21)=>{let t="",r=e;for(;r--;)t+=xZ[Math.random()*64|0];return t},_Z=Symbol.for("rtk-slice-createasyncthunk");function SZ(e,t){return`${e}/${t}`}function kZ({creators:e}={}){const t=e?.asyncThunk?.[_Z];return function(n){const{name:a,reducerPath:s=a}=n;if(!a)throw new Error(un(11));const l=(typeof n.reducers=="function"?n.reducers(EZ()):n.reducers)||{},u=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(E,P){const O=typeof E=="string"?E:E.type;if(!O)throw new Error(un(12));if(O in d.sliceCaseReducersByType)throw new Error(un(13));return d.sliceCaseReducersByType[O]=P,f},addMatcher(E,P){return d.sliceMatchers.push({matcher:E,reducer:P}),f},exposeAction(E,P){return d.actionCreators[E]=P,f},exposeCaseReducer(E,P){return d.sliceCaseReducersByName[E]=P,f}};u.forEach(E=>{const P=l[E],O={reducerName:E,type:SZ(a,E),createNotation:typeof n.reducers=="function"};OZ(P)?TZ(O,P,f,t):NZ(O,P,f)});function p(){const[E={},P=[],O=void 0]=typeof n.extraReducers=="function"?RP(n.extraReducers):[n.extraReducers],T={...E,...d.sliceCaseReducersByType};return bZ(n.initialState,C=>{for(let D in T)C.addCase(D,T[D]);for(let D of d.sliceMatchers)C.addMatcher(D.matcher,D.reducer);for(let D of P)C.addMatcher(D.matcher,D.reducer);O&&C.addDefaultCase(O)})}const g=E=>E,v=new Map,y=new WeakMap;let _;function k(E,P){return _||(_=p()),_(E,P)}function S(){return _||(_=p()),_.getInitialState()}function j(E,P=!1){function O(C){let D=C[E];return typeof D>"u"&&P&&(D=Rf(y,O,S)),D}function T(C=g){const D=Rf(v,P,()=>new WeakMap);return Rf(D,C,()=>{const R={};for(const[L,$]of Object.entries(n.selectors??{}))R[L]=jZ($,C,()=>Rf(y,C,S),P);return R})}return{reducerPath:E,getSelectors:T,get selectors(){return T(O)},selectSlice:O}}const A={name:a,reducer:k,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:S,...j(s),injectInto(E,{reducerPath:P,...O}={}){const T=P??s;return E.inject({reducerPath:T,reducer:k},O),{...A,...j(T,!0)}}};return A}}function jZ(e,t,r,n){function a(s,...l){let u=t(s);return typeof u>"u"&&n&&(u=r()),e(u,...l)}return a.unwrapped=e,a}var Gr=kZ();function EZ(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function NZ({type:e,reducerName:t,createNotation:r},n,a){let s,l;if("reducer"in n){if(r&&!AZ(n))throw new Error(un(17));s=n.reducer,l=n.prepare}else s=n;a.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,l?Dn(e,l):Dn(e))}function OZ(e){return e._reducerDefinitionType==="asyncThunk"}function AZ(e){return e._reducerDefinitionType==="reducerWithPrepare"}function TZ({type:e,reducerName:t},r,n,a){if(!a)throw new Error(un(18));const{payloadCreator:s,fulfilled:l,pending:u,rejected:d,settled:f,options:p}=r,g=a(e,s,p);n.exposeAction(t,g),l&&n.addCase(g.fulfilled,l),u&&n.addCase(g.pending,u),d&&n.addCase(g.rejected,d),f&&n.addMatcher(g.settled,f),n.exposeCaseReducer(t,{fulfilled:l||$f,pending:u||$f,rejected:d||$f,settled:f||$f})}function $f(){}var CZ="task",$P="listener",LP="completed",Gx="cancelled",PZ=`task-${Gx}`,DZ=`task-${LP}`,bb=`${$P}-${Gx}`,MZ=`${$P}-${LP}`,F0=class{constructor(e){this.code=e,this.message=`${CZ} ${Gx} (reason: ${e})`}name="TaskAbortError";message},Yx=(e,t)=>{if(typeof e!="function")throw new TypeError(un(32))},Dh=()=>{},IP=(e,t=Dh)=>(e.catch(t),e),zP=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),$s=e=>{if(e.aborted)throw new F0(e.reason)};function UP(e,t){let r=Dh;return new Promise((n,a)=>{const s=()=>a(new F0(e.reason));if(e.aborted){s();return}r=zP(e,s),t.finally(()=>r()).then(n,a)}).finally(()=>{r=Dh})}var RZ=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof F0?"cancelled":"rejected",error:r}}finally{t?.()}},Mh=e=>t=>IP(UP(e,t).then(r=>($s(e),r))),BP=e=>{const t=Mh(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:ol}=Object,BE={},V0="listenerMiddleware",$Z=(e,t)=>{const r=n=>zP(e,()=>n.abort(e.reason));return(n,a)=>{Yx(n);const s=new AbortController;r(s);const l=RZ(async()=>{$s(e),$s(s.signal);const u=await n({pause:Mh(s.signal),delay:BP(s.signal),signal:s.signal});return $s(s.signal),u},()=>s.abort(DZ));return a?.autoJoin&&t.push(l.catch(Dh)),{result:Mh(e)(l),cancel(){s.abort(PZ)}}}},LZ=(e,t)=>{const r=async(n,a)=>{$s(t);let s=()=>{};const u=[new Promise((d,f)=>{let p=e({predicate:n,effect:(g,v)=>{v.unsubscribe(),d([g,v.getState(),v.getOriginalState()])}});s=()=>{p(),f()}})];a!=null&&u.push(new Promise(d=>setTimeout(d,a,null)));try{const d=await UP(t,Promise.race(u));return $s(t),d}finally{s()}};return(n,a)=>IP(r(n,a))},qP=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:s}=e;if(t)a=Dn(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(un(21));return Yx(s),{predicate:a,type:t,effect:s}},HP=ol(e=>{const{type:t,predicate:r,effect:n}=qP(e);return{id:wZ(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(un(22))}}},{withTypes:()=>HP}),qE=(e,t)=>{const{type:r,effect:n,predicate:a}=qP(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===a)&&s.effect===n)},xb=e=>{e.pending.forEach(t=>{t.abort(bb)})},IZ=(e,t)=>()=>{for(const r of t.keys())xb(r);e.clear()},HE=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},FP=ol(Dn(`${V0}/add`),{withTypes:()=>FP}),zZ=Dn(`${V0}/removeAll`),VP=ol(Dn(`${V0}/remove`),{withTypes:()=>VP}),UZ=(...e)=>{console.error(`${V0}/error`,...e)},Cu=(e={})=>{const t=new Map,r=new Map,n=y=>{const _=r.get(y)??0;r.set(y,_+1)},a=y=>{const _=r.get(y)??1;_===1?r.delete(y):r.set(y,_-1)},{extra:s,onError:l=UZ}=e;Yx(l);const u=y=>(y.unsubscribe=()=>t.delete(y.id),t.set(y.id,y),_=>{y.unsubscribe(),_?.cancelActive&&xb(y)}),d=y=>{const _=qE(t,y)??HP(y);return u(_)};ol(d,{withTypes:()=>d});const f=y=>{const _=qE(t,y);return _&&(_.unsubscribe(),y.cancelActive&&xb(_)),!!_};ol(f,{withTypes:()=>f});const p=async(y,_,k,S)=>{const j=new AbortController,A=LZ(d,j.signal),E=[];try{y.pending.add(j),n(y),await Promise.resolve(y.effect(_,ol({},k,{getOriginalState:S,condition:(P,O)=>A(P,O).then(Boolean),take:A,delay:BP(j.signal),pause:Mh(j.signal),extra:s,signal:j.signal,fork:$Z(j.signal,E),unsubscribe:y.unsubscribe,subscribe:()=>{t.set(y.id,y)},cancelActiveListeners:()=>{y.pending.forEach((P,O,T)=>{P!==j&&(P.abort(bb),T.delete(P))})},cancel:()=>{j.abort(bb),y.pending.delete(j)},throwIfCancelled:()=>{$s(j.signal)}})))}catch(P){P instanceof F0||HE(l,P,{raisedBy:"effect"})}finally{await Promise.all(E),j.abort(MZ),a(y),y.pending.delete(j)}},g=IZ(t,r);return{middleware:y=>_=>k=>{if(!xP(k))return _(k);if(FP.match(k))return d(k.payload);if(zZ.match(k)){g();return}if(VP.match(k))return f(k.payload);let S=y.getState();const j=()=>{if(S===BE)throw new Error(un(23));return S};let A;try{if(A=_(k),t.size>0){const E=y.getState(),P=Array.from(t.values());for(const O of P){let T=!1;try{T=O.predicate(k,E,S)}catch(C){T=!1,HE(l,C,{raisedBy:"predicate"})}T&&p(O,k,y,j)}}}finally{S=BE}return A},startListening:d,stopListening:f,clearListeners:g}};function un(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var BZ={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},KP=Gr({name:"chartLayout",initialState:BZ,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,s;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:qZ,setLayout:HZ,setChartSize:FZ,setScale:VZ}=KP.actions,KZ=KP.reducer;function ZP(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function FE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function el(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FE(Object(r),!0).forEach(function(n){ZZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZZ(e,t,r){return(t=GZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GZ(e){var t=YZ(e,"string");return typeof t=="symbol"?t:t+""}function YZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _r(e,t,r){return ur(e)||ur(t)?r:Pn(t)?$0(e,t,r):typeof t=="function"?t(e):r}var WZ=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:s,verticalAlign:l,layout:u}=t;if((u==="vertical"||u==="horizontal"&&l==="middle")&&s!=="center"&&Ne(e[s]))return el(el({},e),{},{[s]:e[s]+(n||0)});if((u==="horizontal"||u==="vertical"&&s==="center")&&l!=="middle"&&Ne(e[l]))return el(el({},e),{},{[l]:e[l]+(a||0)})}return e},si=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",GP=(e,t,r,n)=>{if(n)return e.map(u=>u.coordinate);var a,s,l=e.map(u=>(u.coordinate===t&&(a=!0),u.coordinate===r&&(s=!0),u.coordinate));return a||l.push(t),s||l.push(r),l},YP=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:s,scale:l,realScaleType:u,isCategorical:d,categoricalDomain:f,tickCount:p,ticks:g,niceTicks:v,axisType:y}=e;if(!l)return null;var _=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,k=a==="category"&&l.bandwidth?l.bandwidth()/_:0;if(k=y==="angleAxis"&&s&&s.length>=2?An(s[0]-s[1])*2*k:k,g||v){var S=(g||v||[]).map((j,A)=>{var E=n?n.indexOf(j):j;return{coordinate:l(E)+k,value:j,offset:k,index:A}});return S.filter(j=>!fn(j.coordinate))}return d&&f?f.map((j,A)=>({coordinate:l(j)+k,value:j,index:A,offset:k})):l.ticks&&p!=null?l.ticks(p).map((j,A)=>({coordinate:l(j)+k,value:j,offset:k,index:A})):l.domain().map((j,A)=>({coordinate:l(j)+k,value:n?n[j]:j,index:A,offset:k}))},VE=1e-4,XZ=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-VE,s=Math.max(n[0],n[1])+VE,l=e(t[0]),u=e(t[r-1]);(l<a||l>s||u<a||u>s)&&e.domain([t[0],t[r-1]])}},JZ=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,s=0,l=0;l<t;++l){var u=fn(e[l][r][1])?e[l][r][0]:e[l][r][1];u>=0?(e[l][r][0]=a,e[l][r][1]=a+u,a=e[l][r][1]):(e[l][r][0]=s,e[l][r][1]=s+u,s=e[l][r][1])}},QZ=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,s=0;s<t;++s){var l=fn(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},eG={sign:JZ,expand:IV,none:fl,silhouette:zV,wiggle:UV,positive:QZ},tG=(e,t,r)=>{var n=eG[r],a=LV().keys(t).value((s,l)=>Number(_r(s,l,0))).order(ub).offset(n);return a(e)};function rG(e){return e==null?void 0:String(e)}function KE(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:s,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ur(a[t.dataKey])){var u=nP(r,"value",a[t.dataKey]);if(u)return u.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var d=_r(a,ur(l)?t.dataKey:l);return ur(d)?null:t.scale(d)}var nG=e=>{var t=e.flat(2).filter(Ne);return[Math.min(...t),Math.max(...t)]},aG=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],iG=(e,t,r)=>{if(e!=null)return aG(Object.keys(e).reduce((n,a)=>{var s=e[a],{stackedData:l}=s,u=l.reduce((d,f)=>{var p=ZP(f,t,r),g=nG(p);return[Math.min(d[0],g[0]),Math.max(d[1],g[1])]},[1/0,-1/0]);return[Math.min(u[0],n[0]),Math.max(u[1],n[1])]},[1/0,-1/0]))},ZE=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,GE=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Rh=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=L0(t,p=>p.coordinate),s=1/0,l=1,u=a.length;l<u;l++){var d=a[l],f=a[l-1];s=Math.min((d.coordinate||0)-(f.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function YE(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:s}=e;return el(el({},t),{},{dataKey:r,payload:n,value:a,name:s})}function WP(e,t){if(e)return String(e);if(typeof t=="string")return t}var sG=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},oG=(e,t)=>t==="centric"?e.angle:e.radius,oi=e=>e.layout.width,li=e=>e.layout.height,lG=e=>e.layout.scale,XP=e=>e.layout.margin,K0=ne(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Z0=ne(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),cG="data-recharts-item-index",uG="data-recharts-item-data-key",Pu=60;function WE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WE(Object(r),!0).forEach(function(n){dG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dG(e,t,r){return(t=fG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fG(e){var t=hG(e,"string");return typeof t=="symbol"?t:t+""}function hG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mG=e=>e.brush.height;function pG(e){var t=Z0(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Pu;return r+a}return r},0)}function gG(e){var t=Z0(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Pu;return r+a}return r},0)}function vG(e){var t=K0(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function yG(e){var t=K0(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var hr=ne([oi,li,XP,mG,pG,gG,vG,yG,vP,FK],(e,t,r,n,a,s,l,u,d,f)=>{var p={left:(r.left||0)+a,right:(r.right||0)+s},g={top:(r.top||0)+l,bottom:(r.bottom||0)+u},v=Lf(Lf({},g),p),y=v.bottom;v.bottom+=n,v=WZ(v,d,f);var _=e-v.left-v.right,k=t-v.top-v.bottom;return Lf(Lf({brushBottom:y},v),{},{width:Math.max(_,0),height:Math.max(k,0)})}),bG=ne(hr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),JP=ne(oi,li,(e,t)=>({x:0,y:0,width:e,height:t})),xG=x.createContext(null),Pr=()=>x.useContext(xG)!=null,G0=e=>e.brush,Y0=ne([G0,hr,XP],(e,t,r)=>({height:e.height,x:Ne(e.x)?e.x:t.left,y:Ne(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:Ne(e.width)?e.width:t.width})),Yv={},Wv={},Xv={},XE;function wG(){return XE||(XE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:s}={}){let l,u=null;const d=s!=null&&s.includes("leading"),f=s==null||s.includes("trailing"),p=()=>{u!==null&&(r.apply(l,u),l=void 0,u=null)},g=()=>{f&&p(),k()};let v=null;const y=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,g()},n)},_=()=>{v!==null&&(clearTimeout(v),v=null)},k=()=>{_(),l=void 0,u=null},S=()=>{p()},j=function(...A){if(a?.aborted)return;l=this,u=A;const E=v==null;y(),d&&E&&p()};return j.schedule=y,j.cancel=k,j.flush=S,a?.addEventListener("abort",k,{once:!0}),j}e.debounce=t})(Xv)),Xv}var JE;function _G(){return JE||(JE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wG();function r(n,a=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:u=!0,maxWait:d}=s,f=Array(2);l&&(f[0]="leading"),u&&(f[1]="trailing");let p,g=null;const v=t.debounce(function(...k){p=n.apply(this,k),g=null},a,{edges:f}),y=function(...k){return d!=null&&(g===null&&(g=Date.now()),Date.now()-g>=d)?(p=n.apply(this,k),g=Date.now(),v.cancel(),v.schedule(),p):(v.apply(this,k),p)},_=()=>(v.flush(),p);return y.cancel=v.cancel,y.flush=_,y}e.debounce=r})(Wv)),Wv}var QE;function SG(){return QE||(QE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_G();function r(n,a=0,s={}){const{leading:l=!0,trailing:u=!0}=s;return t.debounce(n,a,{leading:l,maxWait:a,trailing:u})}e.throttle=r})(Yv)),Yv}var Jv,eN;function kG(){return eN||(eN=1,Jv=SG().throttle),Jv}var jG=kG();const EG=ni(jG);var $h=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(r.replace(/%s/g,()=>a[l++]))}},QP=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:s,maxHeight:l}=r,u=Xa(n)?e:Number(n),d=Xa(a)?t:Number(a);return s&&s>0&&(u?d=u/s:d&&(u=d*s),l&&d!=null&&d>l&&(d=l)),{calculatedWidth:u,calculatedHeight:d}},NG={width:0,height:0,overflow:"visible"},OG={width:0,overflowX:"visible"},AG={height:0,overflowY:"visible"},TG={},CG=e=>{var{width:t,height:r}=e,n=Xa(t),a=Xa(r);return n&&a?NG:n?OG:a?AG:TG};function PG(e){var{width:t,height:r,aspect:n}=e,a=t,s=r;return a===void 0&&s===void 0?(a="100%",s="100%"):a===void 0?a=n&&n>0?void 0:"100%":s===void 0&&(s=n&&n>0?void 0:"100%"),{width:a,height:s}}function st(e){return Number.isFinite(e)}function da(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function wb(){return wb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wb.apply(null,arguments)}function tN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tN(Object(r),!0).forEach(function(n){DG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DG(e,t,r){return(t=MG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MG(e){var t=RG(e,"string");return typeof t=="symbol"?t:t+""}function RG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var e4=x.createContext({width:-1,height:-1});function $G(e){return da(e.width)&&da(e.height)}function t4(e){var{children:t,width:r,height:n}=e,a=x.useMemo(()=>({width:r,height:n}),[r,n]);return $G(a)?x.createElement(e4.Provider,{value:a},t):null}var Wx=()=>x.useContext(e4),LG=x.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:s,minWidth:l=0,minHeight:u,maxHeight:d,children:f,debounce:p=0,id:g,className:v,onResize:y,style:_={}}=e,k=x.useRef(null),S=x.useRef();S.current=y,x.useImperativeHandle(t,()=>k.current);var[j,A]=x.useState({containerWidth:n.width,containerHeight:n.height}),E=x.useCallback((D,R)=>{A(L=>{var $=Math.round(D),q=Math.round(R);return L.containerWidth===$&&L.containerHeight===q?L:{containerWidth:$,containerHeight:q}})},[]);x.useEffect(()=>{if(k.current==null||typeof ResizeObserver>"u")return Ou;var D=q=>{var V,{width:se,height:de}=q[0].contentRect;E(se,de),(V=S.current)===null||V===void 0||V.call(S,se,de)};p>0&&(D=EG(D,p,{trailing:!0,leading:!1}));var R=new ResizeObserver(D),{width:L,height:$}=k.current.getBoundingClientRect();return E(L,$),R.observe(k.current),()=>{R.disconnect()}},[E,p]);var{containerWidth:P,containerHeight:O}=j;$h(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:T,calculatedHeight:C}=QP(P,O,{width:a,height:s,aspect:r,maxHeight:d});return $h(T!=null&&T>0||C!=null&&C>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,T,C,a,s,l,u,r),x.createElement("div",{id:g?"".concat(g):void 0,className:ot("recharts-responsive-container",v),style:rN(rN({},_),{},{width:a,height:s,minWidth:l,minHeight:u,maxHeight:d}),ref:k},x.createElement("div",{style:CG({width:a,height:s})},x.createElement(t4,{width:T,height:C},f)))}),IG=x.forwardRef((e,t)=>{var r=Wx();if(da(r.width)&&da(r.height))return e.children;var{width:n,height:a}=PG({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:l}=QP(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return Ne(s)&&Ne(l)?x.createElement(t4,{width:s,height:l},e.children):x.createElement(LG,wb({},e,{width:n,height:a,ref:t}))});function r4(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Du=()=>{var e,t=Pr(),r=Ee(bG),n=Ee(Y0),a=(e=Ee(G0))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},zG={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},n4=()=>{var e;return(e=Ee(hr))!==null&&e!==void 0?e:zG},a4=()=>Ee(oi),i4=()=>Ee(li),lt=e=>e.layout.layoutType,Mu=()=>Ee(lt),UG=()=>{var e=Mu();if(e==="horizontal"||e==="vertical")return e},BG=()=>{var e=Mu();return e!==void 0},W0=e=>{var t=Bt(),r=Pr(),{width:n,height:a}=e,s=Wx(),l=n,u=a;return s&&(l=s.width>0?s.width:n,u=s.height>0?s.height:a),x.useEffect(()=>{!r&&da(l)&&da(u)&&t(FZ({width:l,height:u}))},[t,r,l,u]),null},s4=Symbol.for("immer-nothing"),nN=Symbol.for("immer-draftable"),hn=Symbol.for("immer-state");function Kn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var du=Object.getPrototypeOf;function pl(e){return!!e&&!!e[hn]}function Hs(e){return e?o4(e)||Array.isArray(e)||!!e[nN]||!!e.constructor?.[nN]||Ru(e)||J0(e):!1}var qG=Object.prototype.constructor.toString(),aN=new WeakMap;function o4(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=aN.get(r);return n===void 0&&(n=Function.toString.call(r),aN.set(r,n)),n===qG}function Lh(e,t,r=!0){X0(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function X0(e){const t=e[hn];return t?t.type_:Array.isArray(e)?1:Ru(e)?2:J0(e)?3:0}function _b(e,t){return X0(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function l4(e,t,r){const n=X0(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function HG(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Ru(e){return e instanceof Map}function J0(e){return e instanceof Set}function js(e){return e.copy_||e.base_}function Sb(e,t){if(Ru(e))return new Map(e);if(J0(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=o4(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[hn];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const l=a[s],u=n[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(n[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[l]})}return Object.create(du(e),n)}else{const n=du(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function Xx(e,t=!1){return Q0(e)||pl(e)||!Hs(e)||(X0(e)>1&&Object.defineProperties(e,{set:If,add:If,clear:If,delete:If}),Object.freeze(e),t&&Object.values(e).forEach(r=>Xx(r,!0))),e}function FG(){Kn(2)}var If={value:FG};function Q0(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var VG={};function Fs(e){const t=VG[e];return t||Kn(0,e),t}var fu;function c4(){return fu}function KG(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function iN(e,t){t&&(Fs("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function kb(e){jb(e),e.drafts_.forEach(ZG),e.drafts_=null}function jb(e){e===fu&&(fu=e.parent_)}function sN(e){return fu=KG(fu,e)}function ZG(e){const t=e[hn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function oN(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[hn].modified_&&(kb(t),Kn(4)),Hs(e)&&(e=Ih(t,e),t.parent_||zh(t,e)),t.patches_&&Fs("Patches").generateReplacementPatches_(r[hn].base_,e,t.patches_,t.inversePatches_)):e=Ih(t,r,[]),kb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==s4?e:void 0}function Ih(e,t,r){if(Q0(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[hn];if(!a)return Lh(t,(s,l)=>lN(e,a,t,s,l,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return zh(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let l=s,u=!1;a.type_===3&&(l=new Set(s),s.clear(),u=!0),Lh(l,(d,f)=>lN(e,a,s,d,f,r,u),n),zh(e,s,!1),r&&e.patches_&&Fs("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function lN(e,t,r,n,a,s,l){if(a==null||typeof a!="object"&&!l)return;const u=Q0(a);if(!(u&&!l)){if(pl(a)){const d=s&&t&&t.type_!==3&&!_b(t.assigned_,n)?s.concat(n):void 0,f=Ih(e,a,d);if(l4(r,n,f),pl(f))e.canAutoFreeze_=!1;else return}else l&&r.add(a);if(Hs(a)&&!u){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&u)return;Ih(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Ru(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&zh(e,a)}}}function zh(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Xx(t,r)}function GG(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:c4(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=Jx;r&&(a=[n],s=hu);const{revoke:l,proxy:u}=Proxy.revocable(a,s);return n.draft_=u,n.revoke_=l,u}var Jx={get(e,t){if(t===hn)return e;const r=js(e);if(!_b(r,t))return YG(e,r,t);const n=r[t];return e.finalized_||!Hs(n)?n:n===Qv(e.base_,t)?(ey(e),e.copy_[t]=Nb(n,e)):n},has(e,t){return t in js(e)},ownKeys(e){return Reflect.ownKeys(js(e))},set(e,t,r){const n=u4(js(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Qv(js(e),t),s=a?.[hn];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(HG(r,a)&&(r!==void 0||_b(e.base_,t)))return!0;ey(e),Eb(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Qv(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,ey(e),Eb(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=js(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Kn(11)},getPrototypeOf(e){return du(e.base_)},setPrototypeOf(){Kn(12)}},hu={};Lh(Jx,(e,t)=>{hu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});hu.deleteProperty=function(e,t){return hu.set.call(this,e,t,void 0)};hu.set=function(e,t,r){return Jx.set.call(this,e[0],t,r,e[0])};function Qv(e,t){const r=e[hn];return(r?js(r):e)[t]}function YG(e,t,r){const n=u4(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function u4(e,t){if(!(t in e))return;let r=du(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=du(r)}}function Eb(e){e.modified_||(e.modified_=!0,e.parent_&&Eb(e.parent_))}function ey(e){e.copy_||(e.copy_=Sb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var WG=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const l=this;return function(d=s,...f){return l.produce(d,p=>r.call(this,p,...f))}}typeof r!="function"&&Kn(6),n!==void 0&&typeof n!="function"&&Kn(7);let a;if(Hs(t)){const s=sN(this),l=Nb(t,void 0);let u=!0;try{a=r(l),u=!1}finally{u?kb(s):jb(s)}return iN(s,n),oN(a,s)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===s4&&(a=void 0),this.autoFreeze_&&Xx(a,!0),n){const s=[],l=[];Fs("Patches").generateReplacementPatches_(t,a,s,l),n(s,l)}return a}else Kn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(l,...u)=>this.produceWithPatches(l,d=>t(d,...u));let n,a;return[this.produce(t,r,(l,u)=>{n=l,a=u}),n,a]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Hs(e)||Kn(8),pl(e)&&(e=XG(e));const t=sN(this),r=Nb(e,void 0);return r[hn].isManual_=!0,jb(t),r}finishDraft(e,t){const r=e&&e[hn];(!r||!r.isManual_)&&Kn(9);const{scope_:n}=r;return iN(n,t),oN(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=Fs("Patches").applyPatches_;return pl(e)?n(e,t):this.produce(e,a=>n(a,t))}};function Nb(e,t){const r=Ru(e)?Fs("MapSet").proxyMap_(e,t):J0(e)?Fs("MapSet").proxySet_(e,t):GG(e,t);return(t?t.scope_:c4()).drafts_.push(r),r}function XG(e){return pl(e)||Kn(10,e),d4(e)}function d4(e){if(!Hs(e)||Q0(e))return e;const t=e[hn];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Sb(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Sb(e,!0);return Lh(r,(a,s)=>{l4(r,a,d4(s))},n),t&&(t.finalized_=!1),r}var JG=new WG;JG.produce;var QG={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},f4=Gr({name:"legend",initialState:QG,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:mt()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Yn(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:mt()},removeLegendPayload:{reducer(e,t){var r=Yn(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:mt()}}}),{setLegendSize:bce,setLegendSettings:xce,addLegendPayload:eY,replaceLegendPayload:tY,removeLegendPayload:rY}=f4.actions,nY=f4.reducer;function Ob(){return Ob=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ob.apply(null,arguments)}function cN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ty(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cN(Object(r),!0).forEach(function(n){aY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aY(e,t,r){return(t=iY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iY(e){var t=sY(e,"string");return typeof t=="symbol"?t:t+""}function sY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oY(e){return Array.isArray(e)&&Pn(e[0])&&Pn(e[1])?e.join(" ~ "):e}var lY=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:s,formatter:l,itemSorter:u,wrapperClassName:d,labelClassName:f,label:p,labelFormatter:g,accessibilityLayer:v=!1}=e,y=()=>{if(s&&s.length){var O={padding:0,margin:0},T=(u?L0(s,u):s).map((C,D)=>{if(C.type==="none")return null;var R=C.formatter||l||oY,{value:L,name:$}=C,q=L,V=$;if(R){var se=R(L,$,C,D,s);if(Array.isArray(se))[q,V]=se;else if(se!=null)q=se;else return null}var de=ty({display:"block",paddingTop:4,paddingBottom:4,color:C.color||"#000"},n);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:de},Pn(V)?x.createElement("span",{className:"recharts-tooltip-item-name"},V):null,Pn(V)?x.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,x.createElement("span",{className:"recharts-tooltip-item-value"},q),x.createElement("span",{className:"recharts-tooltip-item-unit"},C.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:O},T)}return null},_=ty({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),k=ty({margin:0},a),S=!ur(p),j=S?p:"",A=ot("recharts-default-tooltip",d),E=ot("recharts-tooltip-label",f);S&&g&&s!==void 0&&s!==null&&(j=g(p,s));var P=v?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",Ob({className:A,style:_},P),x.createElement("p",{className:E,style:k},x.isValidElement(j)?j:"".concat(j)),y())},Pc="recharts-tooltip-wrapper",cY={visibility:"hidden"};function uY(e){var{coordinate:t,translateX:r,translateY:n}=e;return ot(Pc,{["".concat(Pc,"-right")]:Ne(r)&&t&&Ne(t.x)&&r>=t.x,["".concat(Pc,"-left")]:Ne(r)&&t&&Ne(t.x)&&r<t.x,["".concat(Pc,"-bottom")]:Ne(n)&&t&&Ne(t.y)&&n>=t.y,["".concat(Pc,"-top")]:Ne(n)&&t&&Ne(t.y)&&n<t.y})}function uN(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:s,reverseDirection:l,tooltipDimension:u,viewBox:d,viewBoxDimension:f}=e;if(s&&Ne(s[n]))return s[n];var p=r[n]-u-(a>0?a:0),g=r[n]+a;if(t[n])return l[n]?p:g;var v=d[n];if(v==null)return 0;if(l[n]){var y=p,_=v;return y<_?Math.max(g,v):Math.max(p,v)}if(f==null)return 0;var k=g+u,S=v+f;return k>S?Math.max(p,v):Math.max(g,v)}function dY(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function fY(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:s,tooltipBox:l,useTranslate3d:u,viewBox:d}=e,f,p,g;return l.height>0&&l.width>0&&r?(p=uN({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),g=uN({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),f=dY({translateX:p,translateY:g,useTranslate3d:u})):f=cY,{cssProperties:f,cssClasses:uY({translateX:p,translateY:g,coordinate:r})}}function dN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dN(Object(r),!0).forEach(function(n){Ab(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ab(e,t,r){return(t=hY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hY(e){var t=mY(e,"string");return typeof t=="symbol"?t:t+""}function mY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class pY extends x.PureComponent{constructor(){super(...arguments),Ab(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Ab(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:s,coordinate:l,hasPayload:u,isAnimationActive:d,offset:f,position:p,reverseDirection:g,useTranslate3d:v,viewBox:y,wrapperStyle:_,lastBoundingBox:k,innerRef:S,hasPortalFromProps:j}=this.props,{cssClasses:A,cssProperties:E}=fY({allowEscapeViewBox:r,coordinate:l,offsetTopLeft:f,position:p,reverseDirection:g,tooltipBox:{height:k.height,width:k.width},useTranslate3d:v,viewBox:y}),P=j?{}:zf(zf({transition:d&&t?"transform ".concat(n,"ms ").concat(a):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),O=zf(zf({},P),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},_);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:A,style:O,ref:S},s)}}var h4=()=>{var e;return(e=Ee(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Tb(){return Tb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tb.apply(null,arguments)}function fN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fN(Object(r),!0).forEach(function(n){gY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gY(e,t,r){return(t=vY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vY(e){var t=yY(e,"string");return typeof t=="symbol"?t:t+""}function yY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mN={curveBasisClosed:EV,curveBasisOpen:NV,curveBasis:jV,curveBumpX:SV,curveBumpY:kV,curveLinearClosed:OV,curveLinear:M0,curveMonotoneX:AV,curveMonotoneY:TV,curveNatural:CV,curveStep:PV,curveStepAfter:MV,curveStepBefore:DV},Uh=e=>st(e.x)&&st(e.y),pN=e=>e.base!=null&&Uh(e.base)&&Uh(e),Dc=e=>e.x,Mc=e=>e.y,bY=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Ix(e));return(r==="curveMonotone"||r==="curveBump")&&t?mN["".concat(r).concat(t==="vertical"?"Y":"X")]:mN[r]||M0},xY=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:s=!1}=e,l=bY(t,a),u=s?r.filter(Uh):r,d;if(Array.isArray(n)){var f=r.map((y,_)=>hN(hN({},y),{},{base:n[_]}));a==="vertical"?d=Cf().y(Mc).x1(Dc).x0(y=>y.base.x):d=Cf().x(Dc).y1(Mc).y0(y=>y.base.y);var p=d.defined(pN).curve(l),g=s?f.filter(pN):f;return p(g)}a==="vertical"&&Ne(n)?d=Cf().y(Mc).x1(Dc).x0(n):Ne(n)?d=Cf().x(Dc).y1(Mc).y0(n):d=KC().x(Dc).y(Mc);var v=d.defined(Uh).curve(l);return v(u)},rh=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var s=r&&r.length?xY(e):n;return x.createElement("path",Tb({},Wn(e),zx(e),{className:ot("recharts-curve",t),d:s===null?void 0:s,ref:a}))},wY=["x","y","top","left","width","height","className"];function Cb(){return Cb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cb.apply(null,arguments)}function gN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _Y(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gN(Object(r),!0).forEach(function(n){SY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SY(e,t,r){return(t=kY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kY(e){var t=jY(e,"string");return typeof t=="symbol"?t:t+""}function jY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EY(e,t){if(e==null)return{};var r,n,a=NY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function NY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var OY=(e,t,r,n,a,s)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),AY=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:s=0,height:l=0,className:u}=e,d=EY(e,wY),f=_Y({x:t,y:r,top:n,left:a,width:s,height:l},d);return!Ne(t)||!Ne(r)||!Ne(s)||!Ne(l)||!Ne(n)||!Ne(a)?null:x.createElement("path",Cb({},dn(f),{className:ot("recharts-cross",u),d:OY(t,r,s,l,n,a)}))};function TY(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function vN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vN(Object(r),!0).forEach(function(n){CY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CY(e,t,r){return(t=PY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PY(e){var t=DY(e,"string");return typeof t=="symbol"?t:t+""}function DY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MY=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),RY=(e,t,r)=>e.map(n=>"".concat(MY(n)," ").concat(t,"ms ").concat(r)).join(","),$Y=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),mu=(e,t)=>Object.keys(t).reduce((r,n)=>yN(yN({},r),{},{[n]:e(n,t[n])}),{});function bN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ut(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bN(Object(r),!0).forEach(function(n){LY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LY(e,t,r){return(t=IY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IY(e){var t=zY(e,"string");return typeof t=="symbol"?t:t+""}function zY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bh=(e,t,r)=>e+(t-e)*r,Pb=e=>{var{from:t,to:r}=e;return t!==r},m4=(e,t,r)=>{var n=mu((a,s)=>{if(Pb(s)){var[l,u]=e(s.from,s.to,s.velocity);return Ut(Ut({},s),{},{from:l,velocity:u})}return s},t);return r<1?mu((a,s)=>Pb(s)?Ut(Ut({},s),{},{velocity:Bh(s.velocity,n[a].velocity,r),from:Bh(s.from,n[a].from,r)}):s,t):m4(e,n,r-1)};function UY(e,t,r,n,a,s){var l,u=n.reduce((v,y)=>Ut(Ut({},v),{},{[y]:{from:e[y],velocity:0,to:t[y]}}),{}),d=()=>mu((v,y)=>y.from,u),f=()=>!Object.values(u).filter(Pb).length,p=null,g=v=>{l||(l=v);var y=v-l,_=y/r.dt;u=m4(r,u,_),a(Ut(Ut(Ut({},e),t),d())),l=v,f()||(p=s.setTimeout(g))};return()=>(p=s.setTimeout(g),()=>{var v;(v=p)===null||v===void 0||v()})}function BY(e,t,r,n,a,s,l){var u=null,d=a.reduce((g,v)=>Ut(Ut({},g),{},{[v]:[e[v],t[v]]}),{}),f,p=g=>{f||(f=g);var v=(g-f)/n,y=mu((k,S)=>Bh(...S,r(v)),d);if(s(Ut(Ut(Ut({},e),t),y)),v<1)u=l.setTimeout(p);else{var _=mu((k,S)=>Bh(...S,r(1)),d);s(Ut(Ut(Ut({},e),t),_))}};return()=>(u=l.setTimeout(p),()=>{var g;(g=u)===null||g===void 0||g()})}const qY=(e,t,r,n,a,s)=>{var l=$Y(e,t);return r==null?()=>(a(Ut(Ut({},e),t)),()=>{}):r.isStepper===!0?UY(e,t,r,l,a,s):BY(e,t,r,n,l,a,s)};var qh=1e-4,p4=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],g4=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),xN=(e,t)=>r=>{var n=p4(e,t);return g4(n,r)},HY=(e,t)=>r=>{var n=p4(e,t),a=[...n.map((s,l)=>s*l).slice(1),0];return g4(a,r)},FY=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a,s=r[0].split("(");if(s[0]==="cubic-bezier"&&((a=s[1])===null||a===void 0?void 0:a.split(")")[0].split(",").length)===4){var l=s[1].split(")")[0].split(",").map(u=>parseFloat(u));return[l[0],l[1],l[2],l[3]]}}}return r.length===4?r:[0,0,1,1]},VY=(e,t,r,n)=>{var a=xN(e,r),s=xN(t,n),l=HY(e,r),u=f=>f>1?1:f<0?0:f,d=f=>{for(var p=f>1?1:f,g=p,v=0;v<8;++v){var y=a(g)-p,_=l(g);if(Math.abs(y-p)<qh||_<qh)return s(g);g=u(g-y/_)}return s(g)};return d.isStepper=!1,d},wN=function(){return VY(...FY(...arguments))},KY=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,s=(l,u,d)=>{var f=-(l-u)*r,p=d*n,g=d+(f-p)*a/1e3,v=d*a/1e3+l;return Math.abs(v-u)<qh&&Math.abs(g)<qh?[u,0]:[v,g]};return s.isStepper=!0,s.dt=a,s},ZY=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return wN(e);case"spring":return KY();default:if(e.split("(")[0]==="cubic-bezier")return wN(e)}return typeof e=="function"?e:null};function GY(e){var t,r=()=>null,n=!1,a=null,s=l=>{if(!n){if(Array.isArray(l)){if(!l.length)return;var u=l,[d,...f]=u;if(typeof d=="number"){a=e.setTimeout(s.bind(null,f),d);return}s(d),a=e.setTimeout(s.bind(null,f));return}typeof l=="string"&&(t=l,r(t)),typeof l=="object"&&(t=l,r(t)),typeof l=="function"&&l()}};return{stop:()=>{n=!0},start:l=>{n=!1,a&&(a(),a=null),s(l)},subscribe:l=>(r=l,()=>{r=()=>null}),getTimeoutController:()=>e}}class YY{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,s=l=>{l-n>=r?t(l):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{a!=null&&cancelAnimationFrame(a)}}}function WY(){return GY(new YY)}var XY=x.createContext(WY);function JY(e,t){var r=x.useContext(XY);return x.useMemo(()=>t??r(e),[e,t,r])}var QY=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),El={devToolsEnabled:!1,isSsr:QY()},eW={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},_N={t:0},ry={t:1};function v4(e){var t=Zr(e,eW),{isActive:r,canBegin:n,duration:a,easing:s,begin:l,onAnimationEnd:u,onAnimationStart:d,children:f}=t,p=r==="auto"?!El.isSsr:r,g=JY(t.animationId,t.animationManager),[v,y]=x.useState(p?_N:ry),_=x.useRef(null);return x.useEffect(()=>{p||y(ry)},[p]),x.useEffect(()=>{if(!p||!n)return Ou;var k=qY(_N,ry,ZY(s),a,y,g.getTimeoutController()),S=()=>{_.current=k()};return g.start([d,l,S,a,u]),()=>{g.stop(),_.current&&_.current(),u()}},[p,n,a,s,l,d,u,g]),f(v.t)}function y4(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=x.useRef(ou(t)),n=x.useRef(e);return n.current!==e&&(r.current=ou(t),n.current=e),r.current}var tW=["radius"],rW=["radius"];function SN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SN(Object(r),!0).forEach(function(n){nW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nW(e,t,r){return(t=aW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aW(e){var t=iW(e,"string");return typeof t=="symbol"?t:t+""}function iW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hh(){return Hh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hh.apply(null,arguments)}function jN(e,t){if(e==null)return{};var r,n,a=sW(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function sW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var EN=(e,t,r,n,a)=>{var s=Math.min(Math.abs(r)/2,Math.abs(n)/2),l=n>=0?1:-1,u=r>=0?1:-1,d=n>=0&&r>=0||n<0&&r<0?1:0,f;if(s>0&&a instanceof Array){for(var p=[0,0,0,0],g=0,v=4;g<v;g++)p[g]=a[g]>s?s:a[g];f="M".concat(e,",").concat(t+l*p[0]),p[0]>0&&(f+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(d,",").concat(e+u*p[0],",").concat(t)),f+="L ".concat(e+r-u*p[1],",").concat(t),p[1]>0&&(f+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(d,`,
        `).concat(e+r,",").concat(t+l*p[1])),f+="L ".concat(e+r,",").concat(t+n-l*p[2]),p[2]>0&&(f+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(d,`,
        `).concat(e+r-u*p[2],",").concat(t+n)),f+="L ".concat(e+u*p[3],",").concat(t+n),p[3]>0&&(f+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(t+n-l*p[3])),f+="Z"}else if(s>0&&a===+a&&a>0){var y=Math.min(s,a);f="M ".concat(e,",").concat(t+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e+u*y,",").concat(t,`
            L `).concat(e+r-u*y,",").concat(t,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e+r,",").concat(t+l*y,`
            L `).concat(e+r,",").concat(t+n-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e+r-u*y,",").concat(t+n,`
            L `).concat(e+u*y,",").concat(t+n,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e,",").concat(t+n-l*y," Z")}else f="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return f},NN={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},oW=e=>{var t=Zr(e,NN),r=x.useRef(null),[n,a]=x.useState(-1);x.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var H=r.current.getTotalLength();H&&a(H)}catch{}},[]);var{x:s,y:l,width:u,height:d,radius:f,className:p}=t,{animationEasing:g,animationDuration:v,animationBegin:y,isAnimationActive:_,isUpdateAnimationActive:k}=t,S=x.useRef(u),j=x.useRef(d),A=x.useRef(s),E=x.useRef(l),P=x.useMemo(()=>({x:s,y:l,width:u,height:d,radius:f}),[s,l,u,d,f]),O=y4(P,"rectangle-");if(s!==+s||l!==+l||u!==+u||d!==+d||u===0||d===0)return null;var T=ot("recharts-rectangle",p);if(!k){var C=dn(t),{radius:D}=C,R=jN(C,tW);return x.createElement("path",Hh({},R,{radius:typeof f=="number"?f:void 0,className:T,d:EN(s,l,u,d,f)}))}var L=S.current,$=j.current,q=A.current,V=E.current,se="0px ".concat(n===-1?1:n,"px"),de="".concat(n,"px 0px"),U=RY(["strokeDasharray"],v,typeof g=="string"?g:NN.animationEasing);return x.createElement(v4,{animationId:O,key:O,canBegin:n>0,duration:v,easing:g,isActive:k,begin:y},H=>{var Y=sa(L,u,H),fe=sa($,d,H),pe=sa(q,s,H),I=sa(V,l,H);r.current&&(S.current=Y,j.current=fe,A.current=pe,E.current=I);var W;_?H>0?W={transition:U,strokeDasharray:de}:W={strokeDasharray:se}:W={strokeDasharray:de};var Q=dn(t),{radius:K}=Q,ae=jN(Q,rW);return x.createElement("path",Hh({},ae,{radius:typeof f=="number"?f:void 0,className:T,d:EN(pe,I,Y,fe,f),ref:r,style:kN(kN({},W),t.style)}))})};function ON(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function AN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ON(Object(r),!0).forEach(function(n){lW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ON(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lW(e,t,r){return(t=cW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cW(e){var t=uW(e,"string");return typeof t=="symbol"?t:t+""}function uW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fh=Math.PI/180,dW=e=>e*180/Math.PI,cr=(e,t,r,n)=>({x:e+Math.cos(-Fh*n)*r,y:t+Math.sin(-Fh*n)*r}),fW=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},hW=(e,t)=>{var{x:r,y:n}=e,{x:a,y:s}=t;return Math.sqrt((r-a)**2+(n-s)**2)},mW=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:s}=t,l=hW({x:r,y:n},{x:a,y:s});if(l<=0)return{radius:l,angle:0};var u=(r-a)/l,d=Math.acos(u);return n>s&&(d=2*Math.PI-d),{radius:l,angle:dW(d),angleInRadian:d}},pW=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),s=Math.min(n,a);return{startAngle:t-s*360,endAngle:r-s*360}},gW=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),s=Math.floor(n/360),l=Math.min(a,s);return e+l*360},vW=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:s}=mW({x:r,y:n},t),{innerRadius:l,outerRadius:u}=t;if(a<l||a>u||a===0)return null;var{startAngle:d,endAngle:f}=pW(t),p=s,g;if(d<=f){for(;p>f;)p-=360;for(;p<d;)p+=360;g=p>=d&&p<=f}else{for(;p>d;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=d}return g?AN(AN({},t),{},{radius:a,angle:gW(p,t)}):null};function b4(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:s}=e,l=cr(t,r,n,a),u=cr(t,r,n,s);return{points:[l,u],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function Db(){return Db=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Db.apply(null,arguments)}var yW=(e,t)=>{var r=An(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Uf=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:s,isExternal:l,cornerRadius:u,cornerIsExternal:d}=e,f=u*(l?1:-1)+n,p=Math.asin(u/f)/Fh,g=d?a:a+s*p,v=cr(t,r,f,g),y=cr(t,r,n,g),_=d?a-s*p:a,k=cr(t,r,f*Math.cos(p*Fh),_);return{center:v,circleTangency:y,lineTangency:k,theta:p}},x4=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:s,endAngle:l}=e,u=yW(s,l),d=s+u,f=cr(t,r,a,s),p=cr(t,r,a,d),g="M ".concat(f.x,",").concat(f.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(s>d),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(n>0){var v=cr(t,r,n,s),y=cr(t,r,n,d);g+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(s<=d),`,
            `).concat(v.x,",").concat(v.y," Z")}else g+="L ".concat(t,",").concat(r," Z");return g},bW=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}=e,p=An(f-d),{circleTangency:g,lineTangency:v,theta:y}=Uf({cx:t,cy:r,radius:a,angle:d,sign:p,cornerRadius:s,cornerIsExternal:u}),{circleTangency:_,lineTangency:k,theta:S}=Uf({cx:t,cy:r,radius:a,angle:f,sign:-p,cornerRadius:s,cornerIsExternal:u}),j=u?Math.abs(d-f):Math.abs(d-f)-y-S;if(j<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):x4({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:d,endAngle:f});var A="M ".concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(j>180),",").concat(+(p<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(k.x,",").concat(k.y,`
  `);if(n>0){var{circleTangency:E,lineTangency:P,theta:O}=Uf({cx:t,cy:r,radius:n,angle:d,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),{circleTangency:T,lineTangency:C,theta:D}=Uf({cx:t,cy:r,radius:n,angle:f,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),R=u?Math.abs(d-f):Math.abs(d-f)-O-D;if(R<0&&s===0)return"".concat(A,"L").concat(t,",").concat(r,"Z");A+="L".concat(C.x,",").concat(C.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(R>180),",").concat(+(p>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(P.x,",").concat(P.y,"Z")}else A+="L".concat(t,",").concat(r,"Z");return A},xW={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},wW=e=>{var t=Zr(e,xW),{cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:d,startAngle:f,endAngle:p,className:g}=t;if(s<a||f===p)return null;var v=ot("recharts-sector",g),y=s-a,_=Zi(l,y,0,!0),k;return _>0&&Math.abs(f-p)<360?k=bW({cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:Math.min(_,y/2),forceCornerRadius:u,cornerIsExternal:d,startAngle:f,endAngle:p}):k=x4({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:f,endAngle:p}),x.createElement("path",Db({},dn(t),{className:v,d:k}))};function _W(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(aP(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:s,outerRadius:l,angle:u}=t,d=cr(n,a,s,u),f=cr(n,a,l,u);return[{x:d.x,y:d.y},{x:f.x,y:f.y}]}return b4(t)}}var ny={},ay={},iy={},TN;function SW(){return TN||(TN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pP();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(iy)),iy}var CN;function kW(){return CN||(CN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SW();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(ay)),ay}var PN;function jW(){return PN||(PN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gP(),r=kW();function n(a,s,l){l&&typeof l!="number"&&t.isIterateeCall(a,s,l)&&(s=l=void 0),a=r.toFinite(a),s===void 0?(s=a,a=0):s=r.toFinite(s),l=l===void 0?a<s?1:-1:r.toFinite(l);const u=Math.max(Math.ceil((s-a)/(l||1)),0),d=new Array(u);for(let f=0;f<u;f++)d[f]=a,a+=l;return d}e.range=n})(ny)),ny}var sy,DN;function EW(){return DN||(DN=1,sy=jW().range),sy}var NW=EW();const w4=ni(NW);function Ki(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function OW(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Qx(e){let t,r,n;e.length!==2?(t=Ki,r=(u,d)=>Ki(e(u),d),n=(u,d)=>e(u)-d):(t=e===Ki||e===OW?e:AW,r=e,n=e);function a(u,d,f=0,p=u.length){if(f<p){if(t(d,d)!==0)return p;do{const g=f+p>>>1;r(u[g],d)<0?f=g+1:p=g}while(f<p)}return f}function s(u,d,f=0,p=u.length){if(f<p){if(t(d,d)!==0)return p;do{const g=f+p>>>1;r(u[g],d)<=0?f=g+1:p=g}while(f<p)}return f}function l(u,d,f=0,p=u.length){const g=a(u,d,f,p-1);return g>f&&n(u[g-1],d)>-n(u[g],d)?g-1:g}return{left:a,center:l,right:s}}function AW(){return 0}function _4(e){return e===null?NaN:+e}function*TW(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const CW=Qx(Ki),$u=CW.right;Qx(_4).center;class MN extends Map{constructor(t,r=MW){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(RN(this,t))}has(t){return super.has(RN(this,t))}set(t,r){return super.set(PW(this,t),r)}delete(t){return super.delete(DW(this,t))}}function RN({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function PW({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function DW({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function MW(e){return e!==null&&typeof e=="object"?e.valueOf():e}function RW(e=Ki){if(e===Ki)return S4;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function S4(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const $W=Math.sqrt(50),LW=Math.sqrt(10),IW=Math.sqrt(2);function Vh(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),l=s>=$W?10:s>=LW?5:s>=IW?2:1;let u,d,f;return a<0?(f=Math.pow(10,-a)/l,u=Math.round(e*f),d=Math.round(t*f),u/f<e&&++u,d/f>t&&--d,f=-f):(f=Math.pow(10,a)*l,u=Math.round(e/f),d=Math.round(t/f),u*f<e&&++u,d*f>t&&--d),d<u&&.5<=r&&r<2?Vh(e,t,r*2):[u,d,f]}function Mb(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,l]=n?Vh(t,e,r):Vh(e,t,r);if(!(s>=a))return[];const u=s-a+1,d=new Array(u);if(n)if(l<0)for(let f=0;f<u;++f)d[f]=(s-f)/-l;else for(let f=0;f<u;++f)d[f]=(s-f)*l;else if(l<0)for(let f=0;f<u;++f)d[f]=(a+f)/-l;else for(let f=0;f<u;++f)d[f]=(a+f)*l;return d}function Rb(e,t,r){return t=+t,e=+e,r=+r,Vh(e,t,r)[2]}function $b(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Rb(t,e,r):Rb(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function $N(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function LN(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function k4(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?S4:RW(a);n>r;){if(n-r>600){const d=n-r+1,f=t-r+1,p=Math.log(d),g=.5*Math.exp(2*p/3),v=.5*Math.sqrt(p*g*(d-g)/d)*(f-d/2<0?-1:1),y=Math.max(r,Math.floor(t-f*g/d+v)),_=Math.min(n,Math.floor(t+(d-f)*g/d+v));k4(e,t,y,_,a)}const s=e[t];let l=r,u=n;for(Rc(e,r,t),a(e[n],s)>0&&Rc(e,r,n);l<u;){for(Rc(e,l,u),++l,--u;a(e[l],s)<0;)++l;for(;a(e[u],s)>0;)--u}a(e[r],s)===0?Rc(e,r,u):(++u,Rc(e,u,n)),u<=t&&(r=u+1),t<=u&&(n=u-1)}return e}function Rc(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function zW(e,t,r){if(e=Float64Array.from(TW(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return LN(e);if(t>=1)return $N(e);var n,a=(n-1)*t,s=Math.floor(a),l=$N(k4(e,s).subarray(0,s+1)),u=LN(e.subarray(s+1));return l+(u-l)*(a-s)}}function UW(e,t,r=_4){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),l=+r(e[s],s,e),u=+r(e[s+1],s+1,e);return l+(u-l)*(a-s)}}function BW(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function In(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ci(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Lb=Symbol("implicit");function ew(){var e=new MN,t=[],r=[],n=Lb;function a(s){let l=e.get(s);if(l===void 0){if(n!==Lb)return n;e.set(s,l=t.push(s)-1)}return r[l%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new MN;for(const l of s)e.has(l)||e.set(l,t.push(l)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return ew(t,r).unknown(n)},In.apply(a,arguments),a}function tw(){var e=ew().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,l,u=!1,d=0,f=0,p=.5;delete e.unknown;function g(){var v=t().length,y=a<n,_=y?a:n,k=y?n:a;s=(k-_)/Math.max(1,v-d+f*2),u&&(s=Math.floor(s)),_+=(k-_-s*(v-d))*p,l=s*(1-d),u&&(_=Math.round(_),l=Math.round(l));var S=BW(v).map(function(j){return _+s*j});return r(y?S.reverse():S)}return e.domain=function(v){return arguments.length?(t(v),g()):t()},e.range=function(v){return arguments.length?([n,a]=v,n=+n,a=+a,g()):[n,a]},e.rangeRound=function(v){return[n,a]=v,n=+n,a=+a,u=!0,g()},e.bandwidth=function(){return l},e.step=function(){return s},e.round=function(v){return arguments.length?(u=!!v,g()):u},e.padding=function(v){return arguments.length?(d=Math.min(1,f=+v),g()):d},e.paddingInner=function(v){return arguments.length?(d=Math.min(1,v),g()):d},e.paddingOuter=function(v){return arguments.length?(f=+v,g()):f},e.align=function(v){return arguments.length?(p=Math.max(0,Math.min(1,v)),g()):p},e.copy=function(){return tw(t(),[n,a]).round(u).paddingInner(d).paddingOuter(f).align(p)},In.apply(g(),arguments)}function j4(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return j4(t())},e}function qW(){return j4(tw.apply(null,arguments).paddingInner(1))}function rw(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function E4(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Lu(){}var pu=.7,Kh=1/pu,ll="\\s*([+-]?\\d+)\\s*",gu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ca="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",HW=/^#([0-9a-f]{3,8})$/,FW=new RegExp(`^rgb\\(${ll},${ll},${ll}\\)$`),VW=new RegExp(`^rgb\\(${ca},${ca},${ca}\\)$`),KW=new RegExp(`^rgba\\(${ll},${ll},${ll},${gu}\\)$`),ZW=new RegExp(`^rgba\\(${ca},${ca},${ca},${gu}\\)$`),GW=new RegExp(`^hsl\\(${gu},${ca},${ca}\\)$`),YW=new RegExp(`^hsla\\(${gu},${ca},${ca},${gu}\\)$`),IN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};rw(Lu,vu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:zN,formatHex:zN,formatHex8:WW,formatHsl:XW,formatRgb:UN,toString:UN});function zN(){return this.rgb().formatHex()}function WW(){return this.rgb().formatHex8()}function XW(){return N4(this).formatHsl()}function UN(){return this.rgb().formatRgb()}function vu(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=HW.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?BN(t):r===3?new Fr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Bf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Bf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=FW.exec(e))?new Fr(t[1],t[2],t[3],1):(t=VW.exec(e))?new Fr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=KW.exec(e))?Bf(t[1],t[2],t[3],t[4]):(t=ZW.exec(e))?Bf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=GW.exec(e))?FN(t[1],t[2]/100,t[3]/100,1):(t=YW.exec(e))?FN(t[1],t[2]/100,t[3]/100,t[4]):IN.hasOwnProperty(e)?BN(IN[e]):e==="transparent"?new Fr(NaN,NaN,NaN,0):null}function BN(e){return new Fr(e>>16&255,e>>8&255,e&255,1)}function Bf(e,t,r,n){return n<=0&&(e=t=r=NaN),new Fr(e,t,r,n)}function JW(e){return e instanceof Lu||(e=vu(e)),e?(e=e.rgb(),new Fr(e.r,e.g,e.b,e.opacity)):new Fr}function Ib(e,t,r,n){return arguments.length===1?JW(e):new Fr(e,t,r,n??1)}function Fr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}rw(Fr,Ib,E4(Lu,{brighter(e){return e=e==null?Kh:Math.pow(Kh,e),new Fr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?pu:Math.pow(pu,e),new Fr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Fr(Ls(this.r),Ls(this.g),Ls(this.b),Zh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qN,formatHex:qN,formatHex8:QW,formatRgb:HN,toString:HN}));function qN(){return`#${Ds(this.r)}${Ds(this.g)}${Ds(this.b)}`}function QW(){return`#${Ds(this.r)}${Ds(this.g)}${Ds(this.b)}${Ds((isNaN(this.opacity)?1:this.opacity)*255)}`}function HN(){const e=Zh(this.opacity);return`${e===1?"rgb(":"rgba("}${Ls(this.r)}, ${Ls(this.g)}, ${Ls(this.b)}${e===1?")":`, ${e})`}`}function Zh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ls(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ds(e){return e=Ls(e),(e<16?"0":"")+e.toString(16)}function FN(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Zn(e,t,r,n)}function N4(e){if(e instanceof Zn)return new Zn(e.h,e.s,e.l,e.opacity);if(e instanceof Lu||(e=vu(e)),!e)return new Zn;if(e instanceof Zn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),l=NaN,u=s-a,d=(s+a)/2;return u?(t===s?l=(r-n)/u+(r<n)*6:r===s?l=(n-t)/u+2:l=(t-r)/u+4,u/=d<.5?s+a:2-s-a,l*=60):u=d>0&&d<1?0:l,new Zn(l,u,d,e.opacity)}function eX(e,t,r,n){return arguments.length===1?N4(e):new Zn(e,t,r,n??1)}function Zn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}rw(Zn,eX,E4(Lu,{brighter(e){return e=e==null?Kh:Math.pow(Kh,e),new Zn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?pu:Math.pow(pu,e),new Zn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Fr(oy(e>=240?e-240:e+120,a,n),oy(e,a,n),oy(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Zn(VN(this.h),qf(this.s),qf(this.l),Zh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Zh(this.opacity);return`${e===1?"hsl(":"hsla("}${VN(this.h)}, ${qf(this.s)*100}%, ${qf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function VN(e){return e=(e||0)%360,e<0?e+360:e}function qf(e){return Math.max(0,Math.min(1,e||0))}function oy(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const nw=e=>()=>e;function tX(e,t){return function(r){return e+r*t}}function rX(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function nX(e){return(e=+e)==1?O4:function(t,r){return r-t?rX(t,r,e):nw(isNaN(t)?r:t)}}function O4(e,t){var r=t-e;return r?tX(e,r):nw(isNaN(e)?t:e)}const KN=(function e(t){var r=nX(t);function n(a,s){var l=r((a=Ib(a)).r,(s=Ib(s)).r),u=r(a.g,s.g),d=r(a.b,s.b),f=O4(a.opacity,s.opacity);return function(p){return a.r=l(p),a.g=u(p),a.b=d(p),a.opacity=f(p),a+""}}return n.gamma=e,n})(1);function aX(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function iX(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function sX(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),l;for(l=0;l<n;++l)a[l]=Nl(e[l],t[l]);for(;l<r;++l)s[l]=t[l];return function(u){for(l=0;l<n;++l)s[l]=a[l](u);return s}}function oX(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Gh(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function lX(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Nl(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var zb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ly=new RegExp(zb.source,"g");function cX(e){return function(){return e}}function uX(e){return function(t){return e(t)+""}}function dX(e,t){var r=zb.lastIndex=ly.lastIndex=0,n,a,s,l=-1,u=[],d=[];for(e=e+"",t=t+"";(n=zb.exec(e))&&(a=ly.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),u[l]?u[l]+=s:u[++l]=s),(n=n[0])===(a=a[0])?u[l]?u[l]+=a:u[++l]=a:(u[++l]=null,d.push({i:l,x:Gh(n,a)})),r=ly.lastIndex;return r<t.length&&(s=t.slice(r),u[l]?u[l]+=s:u[++l]=s),u.length<2?d[0]?uX(d[0].x):cX(t):(t=d.length,function(f){for(var p=0,g;p<t;++p)u[(g=d[p]).i]=g.x(f);return u.join("")})}function Nl(e,t){var r=typeof t,n;return t==null||r==="boolean"?nw(t):(r==="number"?Gh:r==="string"?(n=vu(t))?(t=n,KN):dX:t instanceof vu?KN:t instanceof Date?oX:iX(t)?aX:Array.isArray(t)?sX:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?lX:Gh)(e,t)}function aw(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function fX(e,t){t===void 0&&(t=e,e=Nl);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(l){var u=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return s[u](l-u)}}function hX(e){return function(){return e}}function Yh(e){return+e}var ZN=[0,1];function Nr(e){return e}function Ub(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:hX(isNaN(t)?NaN:.5)}function mX(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function pX(e,t,r){var n=e[0],a=e[1],s=t[0],l=t[1];return a<n?(n=Ub(a,n),s=r(l,s)):(n=Ub(n,a),s=r(s,l)),function(u){return s(n(u))}}function gX(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),l=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<n;)a[l]=Ub(e[l],e[l+1]),s[l]=r(t[l],t[l+1]);return function(u){var d=$u(e,u,1,n)-1;return s[d](a[d](u))}}function Iu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function em(){var e=ZN,t=ZN,r=Nl,n,a,s,l=Nr,u,d,f;function p(){var v=Math.min(e.length,t.length);return l!==Nr&&(l=mX(e[0],e[v-1])),u=v>2?gX:pX,d=f=null,g}function g(v){return v==null||isNaN(v=+v)?s:(d||(d=u(e.map(n),t,r)))(n(l(v)))}return g.invert=function(v){return l(a((f||(f=u(t,e.map(n),Gh)))(v)))},g.domain=function(v){return arguments.length?(e=Array.from(v,Yh),p()):e.slice()},g.range=function(v){return arguments.length?(t=Array.from(v),p()):t.slice()},g.rangeRound=function(v){return t=Array.from(v),r=aw,p()},g.clamp=function(v){return arguments.length?(l=v?!0:Nr,p()):l!==Nr},g.interpolate=function(v){return arguments.length?(r=v,p()):r},g.unknown=function(v){return arguments.length?(s=v,g):s},function(v,y){return n=v,a=y,p()}}function iw(){return em()(Nr,Nr)}function vX(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Wh(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function gl(e){return e=Wh(Math.abs(e)),e?e[1]:NaN}function yX(e,t){return function(r,n){for(var a=r.length,s=[],l=0,u=e[0],d=0;a>0&&u>0&&(d+u+1>n&&(u=Math.max(1,n-d)),s.push(r.substring(a-=u,a+u)),!((d+=u+1)>n));)u=e[l=(l+1)%e.length];return s.reverse().join(t)}}function bX(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var xX=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function yu(e){if(!(t=xX.exec(e)))throw new Error("invalid format: "+e);var t;return new sw({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}yu.prototype=sw.prototype;function sw(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}sw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function wX(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var A4;function _X(e,t){var r=Wh(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(A4=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=n.length;return s===l?n:s>l?n+new Array(s-l+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Wh(e,Math.max(0,t+s-1))[0]}function GN(e,t){var r=Wh(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const YN={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:vX,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>GN(e*100,t),r:GN,s:_X,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function WN(e){return e}var XN=Array.prototype.map,JN=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function SX(e){var t=e.grouping===void 0||e.thousands===void 0?WN:yX(XN.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?WN:bX(XN.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function f(g){g=yu(g);var v=g.fill,y=g.align,_=g.sign,k=g.symbol,S=g.zero,j=g.width,A=g.comma,E=g.precision,P=g.trim,O=g.type;O==="n"?(A=!0,O="g"):YN[O]||(E===void 0&&(E=12),P=!0,O="g"),(S||v==="0"&&y==="=")&&(S=!0,v="0",y="=");var T=k==="$"?r:k==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",C=k==="$"?n:/[%p]/.test(O)?l:"",D=YN[O],R=/[defgprs%]/.test(O);E=E===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function L($){var q=T,V=C,se,de,U;if(O==="c")V=D($)+V,$="";else{$=+$;var H=$<0||1/$<0;if($=isNaN($)?d:D(Math.abs($),E),P&&($=wX($)),H&&+$==0&&_!=="+"&&(H=!1),q=(H?_==="("?_:u:_==="-"||_==="("?"":_)+q,V=(O==="s"?JN[8+A4/3]:"")+V+(H&&_==="("?")":""),R){for(se=-1,de=$.length;++se<de;)if(U=$.charCodeAt(se),48>U||U>57){V=(U===46?a+$.slice(se+1):$.slice(se))+V,$=$.slice(0,se);break}}}A&&!S&&($=t($,1/0));var Y=q.length+$.length+V.length,fe=Y<j?new Array(j-Y+1).join(v):"";switch(A&&S&&($=t(fe+$,fe.length?j-V.length:1/0),fe=""),y){case"<":$=q+$+V+fe;break;case"=":$=q+fe+$+V;break;case"^":$=fe.slice(0,Y=fe.length>>1)+q+$+V+fe.slice(Y);break;default:$=fe+q+$+V;break}return s($)}return L.toString=function(){return g+""},L}function p(g,v){var y=f((g=yu(g),g.type="f",g)),_=Math.max(-8,Math.min(8,Math.floor(gl(v)/3)))*3,k=Math.pow(10,-_),S=JN[8+_/3];return function(j){return y(k*j)+S}}return{format:f,formatPrefix:p}}var Hf,ow,T4;kX({thousands:",",grouping:[3],currency:["$",""]});function kX(e){return Hf=SX(e),ow=Hf.format,T4=Hf.formatPrefix,Hf}function jX(e){return Math.max(0,-gl(Math.abs(e)))}function EX(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(gl(t)/3)))*3-gl(Math.abs(e)))}function NX(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,gl(t)-gl(e))+1}function C4(e,t,r,n){var a=$b(e,t,r),s;switch(n=yu(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=EX(a,l))&&(n.precision=s),T4(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=NX(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=jX(a))&&(n.precision=s-(n.type==="%")*2);break}}return ow(n)}function Ji(e){var t=e.domain;return e.ticks=function(r){var n=t();return Mb(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return C4(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,l=n[a],u=n[s],d,f,p=10;for(u<l&&(f=l,l=u,u=f,f=a,a=s,s=f);p-- >0;){if(f=Rb(l,u,r),f===d)return n[a]=l,n[s]=u,t(n);if(f>0)l=Math.floor(l/f)*f,u=Math.ceil(u/f)*f;else if(f<0)l=Math.ceil(l*f)/f,u=Math.floor(u*f)/f;else break;d=f}return e},e}function P4(){var e=iw();return e.copy=function(){return Iu(e,P4())},In.apply(e,arguments),Ji(e)}function D4(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Yh),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return D4(e).unknown(t)},e=arguments.length?Array.from(e,Yh):[0,1],Ji(r)}function M4(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],l;return s<a&&(l=r,r=n,n=l,l=a,a=s,s=l),e[r]=t.floor(a),e[n]=t.ceil(s),e}function QN(e){return Math.log(e)}function eO(e){return Math.exp(e)}function OX(e){return-Math.log(-e)}function AX(e){return-Math.exp(-e)}function TX(e){return isFinite(e)?+("1e"+e):e<0?0:e}function CX(e){return e===10?TX:e===Math.E?Math.exp:t=>Math.pow(e,t)}function PX(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function tO(e){return(t,r)=>-e(-t,r)}function lw(e){const t=e(QN,eO),r=t.domain;let n=10,a,s;function l(){return a=PX(n),s=CX(n),r()[0]<0?(a=tO(a),s=tO(s),e(OX,AX)):e(QN,eO),t}return t.base=function(u){return arguments.length?(n=+u,l()):n},t.domain=function(u){return arguments.length?(r(u),l()):r()},t.ticks=u=>{const d=r();let f=d[0],p=d[d.length-1];const g=p<f;g&&([f,p]=[p,f]);let v=a(f),y=a(p),_,k;const S=u==null?10:+u;let j=[];if(!(n%1)&&y-v<S){if(v=Math.floor(v),y=Math.ceil(y),f>0){for(;v<=y;++v)for(_=1;_<n;++_)if(k=v<0?_/s(-v):_*s(v),!(k<f)){if(k>p)break;j.push(k)}}else for(;v<=y;++v)for(_=n-1;_>=1;--_)if(k=v>0?_/s(-v):_*s(v),!(k<f)){if(k>p)break;j.push(k)}j.length*2<S&&(j=Mb(f,p,S))}else j=Mb(v,y,Math.min(y-v,S)).map(s);return g?j.reverse():j},t.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=yu(d)).precision==null&&(d.trim=!0),d=ow(d)),u===1/0)return d;const f=Math.max(1,n*u/t.ticks().length);return p=>{let g=p/s(Math.round(a(p)));return g*n<n-.5&&(g*=n),g<=f?d(p):""}},t.nice=()=>r(M4(r(),{floor:u=>s(Math.floor(a(u))),ceil:u=>s(Math.ceil(a(u)))})),t}function R4(){const e=lw(em()).domain([1,10]);return e.copy=()=>Iu(e,R4()).base(e.base()),In.apply(e,arguments),e}function rO(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function nO(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function cw(e){var t=1,r=e(rO(t),nO(t));return r.constant=function(n){return arguments.length?e(rO(t=+n),nO(t)):t},Ji(r)}function $4(){var e=cw(em());return e.copy=function(){return Iu(e,$4()).constant(e.constant())},In.apply(e,arguments)}function aO(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function DX(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function MX(e){return e<0?-e*e:e*e}function uw(e){var t=e(Nr,Nr),r=1;function n(){return r===1?e(Nr,Nr):r===.5?e(DX,MX):e(aO(r),aO(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Ji(t)}function dw(){var e=uw(em());return e.copy=function(){return Iu(e,dw()).exponent(e.exponent())},In.apply(e,arguments),e}function RX(){return dw.apply(null,arguments).exponent(.5)}function iO(e){return Math.sign(e)*e*e}function $X(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function L4(){var e=iw(),t=[0,1],r=!1,n;function a(s){var l=$X(e(s));return isNaN(l)?n:r?Math.round(l):l}return a.invert=function(s){return e.invert(iO(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,Yh)).map(iO)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return L4(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},In.apply(a,arguments),Ji(a)}function I4(){var e=[],t=[],r=[],n;function a(){var l=0,u=Math.max(1,t.length);for(r=new Array(u-1);++l<u;)r[l-1]=UW(e,l/u);return s}function s(l){return l==null||isNaN(l=+l)?n:t[$u(r,l)]}return s.invertExtent=function(l){var u=t.indexOf(l);return u<0?[NaN,NaN]:[u>0?r[u-1]:e[0],u<r.length?r[u]:e[e.length-1]]},s.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let u of l)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Ki),a()},s.range=function(l){return arguments.length?(t=Array.from(l),a()):t.slice()},s.unknown=function(l){return arguments.length?(n=l,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return I4().domain(e).range(t).unknown(n)},In.apply(s,arguments)}function z4(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function l(d){return d!=null&&d<=d?a[$u(n,d,0,r)]:s}function u(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*t-(d-r)*e)/(r+1);return l}return l.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,u()):[e,t]},l.range=function(d){return arguments.length?(r=(a=Array.from(d)).length-1,u()):a.slice()},l.invertExtent=function(d){var f=a.indexOf(d);return f<0?[NaN,NaN]:f<1?[e,n[0]]:f>=r?[n[r-1],t]:[n[f-1],n[f]]},l.unknown=function(d){return arguments.length&&(s=d),l},l.thresholds=function(){return n.slice()},l.copy=function(){return z4().domain([e,t]).range(a).unknown(s)},In.apply(Ji(l),arguments)}function U4(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[$u(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var l=t.indexOf(s);return[e[l-1],e[l]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return U4().domain(e).range(t).unknown(r)},In.apply(a,arguments)}const cy=new Date,uy=new Date;function qt(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const l=a(s),u=a.ceil(s);return s-l<u-s?l:u},a.offset=(s,l)=>(t(s=new Date(+s),l==null?1:Math.floor(l)),s),a.range=(s,l,u)=>{const d=[];if(s=a.ceil(s),u=u==null?1:Math.floor(u),!(s<l)||!(u>0))return d;let f;do d.push(f=new Date(+s)),t(s,u),e(s);while(f<s&&s<l);return d},a.filter=s=>qt(l=>{if(l>=l)for(;e(l),!s(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!s(l););else for(;--u>=0;)for(;t(l,1),!s(l););}),r&&(a.count=(s,l)=>(cy.setTime(+s),uy.setTime(+l),e(cy),e(uy),Math.floor(r(cy,uy))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?l=>n(l)%s===0:l=>a.count(0,l)%s===0):a)),a}const Xh=qt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Xh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?qt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Xh);Xh.range;const Ha=1e3,Tn=Ha*60,Fa=Tn*60,Qa=Fa*24,fw=Qa*7,sO=Qa*30,dy=Qa*365,Ms=qt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ha)},(e,t)=>(t-e)/Ha,e=>e.getUTCSeconds());Ms.range;const hw=qt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ha)},(e,t)=>{e.setTime(+e+t*Tn)},(e,t)=>(t-e)/Tn,e=>e.getMinutes());hw.range;const mw=qt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Tn)},(e,t)=>(t-e)/Tn,e=>e.getUTCMinutes());mw.range;const pw=qt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ha-e.getMinutes()*Tn)},(e,t)=>{e.setTime(+e+t*Fa)},(e,t)=>(t-e)/Fa,e=>e.getHours());pw.range;const gw=qt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Fa)},(e,t)=>(t-e)/Fa,e=>e.getUTCHours());gw.range;const zu=qt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Tn)/Qa,e=>e.getDate()-1);zu.range;const tm=qt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Qa,e=>e.getUTCDate()-1);tm.range;const B4=qt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Qa,e=>Math.floor(e/Qa));B4.range;function to(e){return qt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Tn)/fw)}const rm=to(0),Jh=to(1),LX=to(2),IX=to(3),vl=to(4),zX=to(5),UX=to(6);rm.range;Jh.range;LX.range;IX.range;vl.range;zX.range;UX.range;function ro(e){return qt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/fw)}const nm=ro(0),Qh=ro(1),BX=ro(2),qX=ro(3),yl=ro(4),HX=ro(5),FX=ro(6);nm.range;Qh.range;BX.range;qX.range;yl.range;HX.range;FX.range;const vw=qt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());vw.range;const yw=qt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());yw.range;const ei=qt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ei.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:qt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});ei.range;const ti=qt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ti.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:qt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ti.range;function q4(e,t,r,n,a,s){const l=[[Ms,1,Ha],[Ms,5,5*Ha],[Ms,15,15*Ha],[Ms,30,30*Ha],[s,1,Tn],[s,5,5*Tn],[s,15,15*Tn],[s,30,30*Tn],[a,1,Fa],[a,3,3*Fa],[a,6,6*Fa],[a,12,12*Fa],[n,1,Qa],[n,2,2*Qa],[r,1,fw],[t,1,sO],[t,3,3*sO],[e,1,dy]];function u(f,p,g){const v=p<f;v&&([f,p]=[p,f]);const y=g&&typeof g.range=="function"?g:d(f,p,g),_=y?y.range(f,+p+1):[];return v?_.reverse():_}function d(f,p,g){const v=Math.abs(p-f)/g,y=Qx(([,,S])=>S).right(l,v);if(y===l.length)return e.every($b(f/dy,p/dy,g));if(y===0)return Xh.every(Math.max($b(f,p,g),1));const[_,k]=l[v/l[y-1][2]<l[y][2]/v?y-1:y];return _.every(k)}return[u,d]}const[VX,KX]=q4(ti,yw,nm,B4,gw,mw),[ZX,GX]=q4(ei,vw,rm,zu,pw,hw);function fy(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function hy(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function $c(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function YX(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,l=e.shortDays,u=e.months,d=e.shortMonths,f=Lc(a),p=Ic(a),g=Lc(s),v=Ic(s),y=Lc(l),_=Ic(l),k=Lc(u),S=Ic(u),j=Lc(d),A=Ic(d),E={a:H,A:Y,b:fe,B:pe,c:null,d:fO,e:fO,f:yJ,g:OJ,G:TJ,H:pJ,I:gJ,j:vJ,L:H4,m:bJ,M:xJ,p:I,q:W,Q:pO,s:gO,S:wJ,u:_J,U:SJ,V:kJ,w:jJ,W:EJ,x:null,X:null,y:NJ,Y:AJ,Z:CJ,"%":mO},P={a:Q,A:K,b:ae,B:re,c:null,d:hO,e:hO,f:RJ,g:VJ,G:ZJ,H:PJ,I:DJ,j:MJ,L:V4,m:$J,M:LJ,p:ee,q:we,Q:pO,s:gO,S:IJ,u:zJ,U:UJ,V:BJ,w:qJ,W:HJ,x:null,X:null,y:FJ,Y:KJ,Z:GJ,"%":mO},O={a:L,A:$,b:q,B:V,c:se,d:uO,e:uO,f:dJ,g:cO,G:lO,H:dO,I:dO,j:oJ,L:uJ,m:sJ,M:lJ,p:R,q:iJ,Q:hJ,s:mJ,S:cJ,u:eJ,U:tJ,V:rJ,w:QX,W:nJ,x:de,X:U,y:cO,Y:lO,Z:aJ,"%":fJ};E.x=T(r,E),E.X=T(n,E),E.c=T(t,E),P.x=T(r,P),P.X=T(n,P),P.c=T(t,P);function T(X,me){return function(_e){var ue=[],Ge=-1,Pe=0,he=X.length,ve,je,ze;for(_e instanceof Date||(_e=new Date(+_e));++Ge<he;)X.charCodeAt(Ge)===37&&(ue.push(X.slice(Pe,Ge)),(je=oO[ve=X.charAt(++Ge)])!=null?ve=X.charAt(++Ge):je=ve==="e"?" ":"0",(ze=me[ve])&&(ve=ze(_e,je)),ue.push(ve),Pe=Ge+1);return ue.push(X.slice(Pe,Ge)),ue.join("")}}function C(X,me){return function(_e){var ue=$c(1900,void 0,1),Ge=D(ue,X,_e+="",0),Pe,he;if(Ge!=_e.length)return null;if("Q"in ue)return new Date(ue.Q);if("s"in ue)return new Date(ue.s*1e3+("L"in ue?ue.L:0));if(me&&!("Z"in ue)&&(ue.Z=0),"p"in ue&&(ue.H=ue.H%12+ue.p*12),ue.m===void 0&&(ue.m="q"in ue?ue.q:0),"V"in ue){if(ue.V<1||ue.V>53)return null;"w"in ue||(ue.w=1),"Z"in ue?(Pe=hy($c(ue.y,0,1)),he=Pe.getUTCDay(),Pe=he>4||he===0?Qh.ceil(Pe):Qh(Pe),Pe=tm.offset(Pe,(ue.V-1)*7),ue.y=Pe.getUTCFullYear(),ue.m=Pe.getUTCMonth(),ue.d=Pe.getUTCDate()+(ue.w+6)%7):(Pe=fy($c(ue.y,0,1)),he=Pe.getDay(),Pe=he>4||he===0?Jh.ceil(Pe):Jh(Pe),Pe=zu.offset(Pe,(ue.V-1)*7),ue.y=Pe.getFullYear(),ue.m=Pe.getMonth(),ue.d=Pe.getDate()+(ue.w+6)%7)}else("W"in ue||"U"in ue)&&("w"in ue||(ue.w="u"in ue?ue.u%7:"W"in ue?1:0),he="Z"in ue?hy($c(ue.y,0,1)).getUTCDay():fy($c(ue.y,0,1)).getDay(),ue.m=0,ue.d="W"in ue?(ue.w+6)%7+ue.W*7-(he+5)%7:ue.w+ue.U*7-(he+6)%7);return"Z"in ue?(ue.H+=ue.Z/100|0,ue.M+=ue.Z%100,hy(ue)):fy(ue)}}function D(X,me,_e,ue){for(var Ge=0,Pe=me.length,he=_e.length,ve,je;Ge<Pe;){if(ue>=he)return-1;if(ve=me.charCodeAt(Ge++),ve===37){if(ve=me.charAt(Ge++),je=O[ve in oO?me.charAt(Ge++):ve],!je||(ue=je(X,_e,ue))<0)return-1}else if(ve!=_e.charCodeAt(ue++))return-1}return ue}function R(X,me,_e){var ue=f.exec(me.slice(_e));return ue?(X.p=p.get(ue[0].toLowerCase()),_e+ue[0].length):-1}function L(X,me,_e){var ue=y.exec(me.slice(_e));return ue?(X.w=_.get(ue[0].toLowerCase()),_e+ue[0].length):-1}function $(X,me,_e){var ue=g.exec(me.slice(_e));return ue?(X.w=v.get(ue[0].toLowerCase()),_e+ue[0].length):-1}function q(X,me,_e){var ue=j.exec(me.slice(_e));return ue?(X.m=A.get(ue[0].toLowerCase()),_e+ue[0].length):-1}function V(X,me,_e){var ue=k.exec(me.slice(_e));return ue?(X.m=S.get(ue[0].toLowerCase()),_e+ue[0].length):-1}function se(X,me,_e){return D(X,t,me,_e)}function de(X,me,_e){return D(X,r,me,_e)}function U(X,me,_e){return D(X,n,me,_e)}function H(X){return l[X.getDay()]}function Y(X){return s[X.getDay()]}function fe(X){return d[X.getMonth()]}function pe(X){return u[X.getMonth()]}function I(X){return a[+(X.getHours()>=12)]}function W(X){return 1+~~(X.getMonth()/3)}function Q(X){return l[X.getUTCDay()]}function K(X){return s[X.getUTCDay()]}function ae(X){return d[X.getUTCMonth()]}function re(X){return u[X.getUTCMonth()]}function ee(X){return a[+(X.getUTCHours()>=12)]}function we(X){return 1+~~(X.getUTCMonth()/3)}return{format:function(X){var me=T(X+="",E);return me.toString=function(){return X},me},parse:function(X){var me=C(X+="",!1);return me.toString=function(){return X},me},utcFormat:function(X){var me=T(X+="",P);return me.toString=function(){return X},me},utcParse:function(X){var me=C(X+="",!0);return me.toString=function(){return X},me}}}var oO={"-":"",_:" ",0:"0"},Jt=/^\s*\d+/,WX=/^%/,XX=/[\\^$*+?|[\]().{}]/g;function Ke(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function JX(e){return e.replace(XX,"\\$&")}function Lc(e){return new RegExp("^(?:"+e.map(JX).join("|")+")","i")}function Ic(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function QX(e,t,r){var n=Jt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function eJ(e,t,r){var n=Jt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function tJ(e,t,r){var n=Jt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function rJ(e,t,r){var n=Jt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function nJ(e,t,r){var n=Jt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function lO(e,t,r){var n=Jt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function cO(e,t,r){var n=Jt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function aJ(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function iJ(e,t,r){var n=Jt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function sJ(e,t,r){var n=Jt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function uO(e,t,r){var n=Jt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function oJ(e,t,r){var n=Jt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function dO(e,t,r){var n=Jt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function lJ(e,t,r){var n=Jt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function cJ(e,t,r){var n=Jt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function uJ(e,t,r){var n=Jt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function dJ(e,t,r){var n=Jt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function fJ(e,t,r){var n=WX.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function hJ(e,t,r){var n=Jt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function mJ(e,t,r){var n=Jt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function fO(e,t){return Ke(e.getDate(),t,2)}function pJ(e,t){return Ke(e.getHours(),t,2)}function gJ(e,t){return Ke(e.getHours()%12||12,t,2)}function vJ(e,t){return Ke(1+zu.count(ei(e),e),t,3)}function H4(e,t){return Ke(e.getMilliseconds(),t,3)}function yJ(e,t){return H4(e,t)+"000"}function bJ(e,t){return Ke(e.getMonth()+1,t,2)}function xJ(e,t){return Ke(e.getMinutes(),t,2)}function wJ(e,t){return Ke(e.getSeconds(),t,2)}function _J(e){var t=e.getDay();return t===0?7:t}function SJ(e,t){return Ke(rm.count(ei(e)-1,e),t,2)}function F4(e){var t=e.getDay();return t>=4||t===0?vl(e):vl.ceil(e)}function kJ(e,t){return e=F4(e),Ke(vl.count(ei(e),e)+(ei(e).getDay()===4),t,2)}function jJ(e){return e.getDay()}function EJ(e,t){return Ke(Jh.count(ei(e)-1,e),t,2)}function NJ(e,t){return Ke(e.getFullYear()%100,t,2)}function OJ(e,t){return e=F4(e),Ke(e.getFullYear()%100,t,2)}function AJ(e,t){return Ke(e.getFullYear()%1e4,t,4)}function TJ(e,t){var r=e.getDay();return e=r>=4||r===0?vl(e):vl.ceil(e),Ke(e.getFullYear()%1e4,t,4)}function CJ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ke(t/60|0,"0",2)+Ke(t%60,"0",2)}function hO(e,t){return Ke(e.getUTCDate(),t,2)}function PJ(e,t){return Ke(e.getUTCHours(),t,2)}function DJ(e,t){return Ke(e.getUTCHours()%12||12,t,2)}function MJ(e,t){return Ke(1+tm.count(ti(e),e),t,3)}function V4(e,t){return Ke(e.getUTCMilliseconds(),t,3)}function RJ(e,t){return V4(e,t)+"000"}function $J(e,t){return Ke(e.getUTCMonth()+1,t,2)}function LJ(e,t){return Ke(e.getUTCMinutes(),t,2)}function IJ(e,t){return Ke(e.getUTCSeconds(),t,2)}function zJ(e){var t=e.getUTCDay();return t===0?7:t}function UJ(e,t){return Ke(nm.count(ti(e)-1,e),t,2)}function K4(e){var t=e.getUTCDay();return t>=4||t===0?yl(e):yl.ceil(e)}function BJ(e,t){return e=K4(e),Ke(yl.count(ti(e),e)+(ti(e).getUTCDay()===4),t,2)}function qJ(e){return e.getUTCDay()}function HJ(e,t){return Ke(Qh.count(ti(e)-1,e),t,2)}function FJ(e,t){return Ke(e.getUTCFullYear()%100,t,2)}function VJ(e,t){return e=K4(e),Ke(e.getUTCFullYear()%100,t,2)}function KJ(e,t){return Ke(e.getUTCFullYear()%1e4,t,4)}function ZJ(e,t){var r=e.getUTCDay();return e=r>=4||r===0?yl(e):yl.ceil(e),Ke(e.getUTCFullYear()%1e4,t,4)}function GJ(){return"+0000"}function mO(){return"%"}function pO(e){return+e}function gO(e){return Math.floor(+e/1e3)}var Zo,Z4,G4;YJ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function YJ(e){return Zo=YX(e),Z4=Zo.format,Zo.parse,G4=Zo.utcFormat,Zo.utcParse,Zo}function WJ(e){return new Date(e)}function XJ(e){return e instanceof Date?+e:+new Date(+e)}function bw(e,t,r,n,a,s,l,u,d,f){var p=iw(),g=p.invert,v=p.domain,y=f(".%L"),_=f(":%S"),k=f("%I:%M"),S=f("%I %p"),j=f("%a %d"),A=f("%b %d"),E=f("%B"),P=f("%Y");function O(T){return(d(T)<T?y:u(T)<T?_:l(T)<T?k:s(T)<T?S:n(T)<T?a(T)<T?j:A:r(T)<T?E:P)(T)}return p.invert=function(T){return new Date(g(T))},p.domain=function(T){return arguments.length?v(Array.from(T,XJ)):v().map(WJ)},p.ticks=function(T){var C=v();return e(C[0],C[C.length-1],T??10)},p.tickFormat=function(T,C){return C==null?O:f(C)},p.nice=function(T){var C=v();return(!T||typeof T.range!="function")&&(T=t(C[0],C[C.length-1],T??10)),T?v(M4(C,T)):p},p.copy=function(){return Iu(p,bw(e,t,r,n,a,s,l,u,d,f))},p}function JJ(){return In.apply(bw(ZX,GX,ei,vw,rm,zu,pw,hw,Ms,Z4).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function QJ(){return In.apply(bw(VX,KX,ti,yw,nm,tm,gw,mw,Ms,G4).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function am(){var e=0,t=1,r,n,a,s,l=Nr,u=!1,d;function f(g){return g==null||isNaN(g=+g)?d:l(a===0?.5:(g=(s(g)-r)*a,u?Math.max(0,Math.min(1,g)):g))}f.domain=function(g){return arguments.length?([e,t]=g,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),f):[e,t]},f.clamp=function(g){return arguments.length?(u=!!g,f):u},f.interpolator=function(g){return arguments.length?(l=g,f):l};function p(g){return function(v){var y,_;return arguments.length?([y,_]=v,l=g(y,_),f):[l(0),l(1)]}}return f.range=p(Nl),f.rangeRound=p(aw),f.unknown=function(g){return arguments.length?(d=g,f):d},function(g){return s=g,r=g(e),n=g(t),a=r===n?0:1/(n-r),f}}function Qi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Y4(){var e=Ji(am()(Nr));return e.copy=function(){return Qi(e,Y4())},ci.apply(e,arguments)}function W4(){var e=lw(am()).domain([1,10]);return e.copy=function(){return Qi(e,W4()).base(e.base())},ci.apply(e,arguments)}function X4(){var e=cw(am());return e.copy=function(){return Qi(e,X4()).constant(e.constant())},ci.apply(e,arguments)}function xw(){var e=uw(am());return e.copy=function(){return Qi(e,xw()).exponent(e.exponent())},ci.apply(e,arguments)}function eQ(){return xw.apply(null,arguments).exponent(.5)}function J4(){var e=[],t=Nr;function r(n){if(n!=null&&!isNaN(n=+n))return t(($u(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Ki),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>zW(e,s/n))},r.copy=function(){return J4(t).domain(e)},ci.apply(r,arguments)}function im(){var e=0,t=.5,r=1,n=1,a,s,l,u,d,f=Nr,p,g=!1,v;function y(k){return isNaN(k=+k)?v:(k=.5+((k=+p(k))-s)*(n*k<n*s?u:d),f(g?Math.max(0,Math.min(1,k)):k))}y.domain=function(k){return arguments.length?([e,t,r]=k,a=p(e=+e),s=p(t=+t),l=p(r=+r),u=a===s?0:.5/(s-a),d=s===l?0:.5/(l-s),n=s<a?-1:1,y):[e,t,r]},y.clamp=function(k){return arguments.length?(g=!!k,y):g},y.interpolator=function(k){return arguments.length?(f=k,y):f};function _(k){return function(S){var j,A,E;return arguments.length?([j,A,E]=S,f=fX(k,[j,A,E]),y):[f(0),f(.5),f(1)]}}return y.range=_(Nl),y.rangeRound=_(aw),y.unknown=function(k){return arguments.length?(v=k,y):v},function(k){return p=k,a=k(e),s=k(t),l=k(r),u=a===s?0:.5/(s-a),d=s===l?0:.5/(l-s),n=s<a?-1:1,y}}function Q4(){var e=Ji(im()(Nr));return e.copy=function(){return Qi(e,Q4())},ci.apply(e,arguments)}function eD(){var e=lw(im()).domain([.1,1,10]);return e.copy=function(){return Qi(e,eD()).base(e.base())},ci.apply(e,arguments)}function tD(){var e=cw(im());return e.copy=function(){return Qi(e,tD()).constant(e.constant())},ci.apply(e,arguments)}function ww(){var e=uw(im());return e.copy=function(){return Qi(e,ww()).exponent(e.exponent())},ci.apply(e,arguments)}function tQ(){return ww.apply(null,arguments).exponent(.5)}const Zc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:tw,scaleDiverging:Q4,scaleDivergingLog:eD,scaleDivergingPow:ww,scaleDivergingSqrt:tQ,scaleDivergingSymlog:tD,scaleIdentity:D4,scaleImplicit:Lb,scaleLinear:P4,scaleLog:R4,scaleOrdinal:ew,scalePoint:qW,scalePow:dw,scaleQuantile:I4,scaleQuantize:z4,scaleRadial:L4,scaleSequential:Y4,scaleSequentialLog:W4,scaleSequentialPow:xw,scaleSequentialQuantile:J4,scaleSequentialSqrt:eQ,scaleSequentialSymlog:X4,scaleSqrt:RX,scaleSymlog:$4,scaleThreshold:U4,scaleTime:JJ,scaleUtc:QJ,tickFormat:C4},Symbol.toStringTag,{value:"Module"}));var es=e=>e.chartData,rQ=ne([es],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),_w=(e,t,r,n)=>n?rQ(e):es(e);function Gi(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(st(t)&&st(r))return!0}return!1}function vO(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function rD(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,s;if(st(r))a=r;else if(typeof r=="function")return;if(st(n))s=n;else if(typeof n=="function")return;var l=[a,s];if(Gi(l))return l}}function nQ(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Gi(n))return vO(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,s]=e,l,u;if(a==="auto")t!=null&&(l=Math.min(...t));else if(Ne(a))l=a;else if(typeof a=="function")try{t!=null&&(l=a(t?.[0]))}catch{}else if(typeof a=="string"&&ZE.test(a)){var d=ZE.exec(a);if(d==null||t==null)l=void 0;else{var f=+d[1];l=t[0]-f}}else l=t?.[0];if(s==="auto")t!=null&&(u=Math.max(...t));else if(Ne(s))u=s;else if(typeof s=="function")try{t!=null&&(u=s(t?.[1]))}catch{}else if(typeof s=="string"&&GE.test(s)){var p=GE.exec(s);if(p==null||t==null)u=void 0;else{var g=+p[1];u=t[1]+g}}else u=t?.[1];var v=[l,u];if(Gi(v))return t==null?v:vO(v,t,r)}}}var Ol=1e9,aQ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},kw,pt=!0,Mn="[DecimalError] ",Is=Mn+"Invalid argument: ",Sw=Mn+"Exponent out of range: ",Al=Math.floor,Es=Math.pow,iQ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ln,Xt=1e7,dt=7,nD=9007199254740991,e0=Al(nD/dt),be={};be.absoluteValue=be.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};be.comparedTo=be.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};be.decimalPlaces=be.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*dt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};be.dividedBy=be.div=function(e){return Za(this,new this.constructor(e))};be.dividedToIntegerBy=be.idiv=function(e){var t=this,r=t.constructor;return nt(Za(t,new r(e),0,1),r.precision)};be.equals=be.eq=function(e){return!this.cmp(e)};be.exponent=function(){return $t(this)};be.greaterThan=be.gt=function(e){return this.cmp(e)>0};be.greaterThanOrEqualTo=be.gte=function(e){return this.cmp(e)>=0};be.isInteger=be.isint=function(){return this.e>this.d.length-2};be.isNegative=be.isneg=function(){return this.s<0};be.isPositive=be.ispos=function(){return this.s>0};be.isZero=function(){return this.s===0};be.lessThan=be.lt=function(e){return this.cmp(e)<0};be.lessThanOrEqualTo=be.lte=function(e){return this.cmp(e)<1};be.logarithm=be.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(ln))throw Error(Mn+"NaN");if(r.s<1)throw Error(Mn+(r.s?"NaN":"-Infinity"));return r.eq(ln)?new n(0):(pt=!1,t=Za(bu(r,s),bu(e,s),s),pt=!0,nt(t,a))};be.minus=be.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?sD(t,e):aD(t,(e.s=-e.s,e))};be.modulo=be.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Mn+"NaN");return r.s?(pt=!1,t=Za(r,e,0,1).times(e),pt=!0,r.minus(t)):nt(new n(r),a)};be.naturalExponential=be.exp=function(){return iD(this)};be.naturalLogarithm=be.ln=function(){return bu(this)};be.negated=be.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};be.plus=be.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?aD(t,e):sD(t,(e.s=-e.s,e))};be.precision=be.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Is+e);if(t=$t(a)+1,n=a.d.length-1,r=n*dt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};be.squareRoot=be.sqrt=function(){var e,t,r,n,a,s,l,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(Mn+"NaN")}for(e=$t(u),pt=!1,a=Math.sqrt(+u),a==0||a==1/0?(t=oa(u.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Al((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new d(t)):n=new d(a.toString()),r=d.precision,a=l=r+3;;)if(s=n,n=s.plus(Za(u,s,l+2)).times(.5),oa(s.d).slice(0,l)===(t=oa(n.d)).slice(0,l)){if(t=t.slice(l-3,l+1),a==l&&t=="4999"){if(nt(s,r+1,0),s.times(s).eq(u)){n=s;break}}else if(t!="9999")break;l+=4}return pt=!0,nt(n,r)};be.times=be.mul=function(e){var t,r,n,a,s,l,u,d,f,p=this,g=p.constructor,v=p.d,y=(e=new g(e)).d;if(!p.s||!e.s)return new g(0);for(e.s*=p.s,r=p.e+e.e,d=v.length,f=y.length,d<f&&(s=v,v=y,y=s,l=d,d=f,f=l),s=[],l=d+f,n=l;n--;)s.push(0);for(n=f;--n>=0;){for(t=0,a=d+n;a>n;)u=s[a]+y[n]*v[a-n-1]+t,s[a--]=u%Xt|0,t=u/Xt|0;s[a]=(s[a]+t)%Xt|0}for(;!s[--l];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,pt?nt(e,g.precision):e};be.toDecimalPlaces=be.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(fa(e,0,Ol),t===void 0?t=n.rounding:fa(t,0,8),nt(r,e+$t(r)+1,t))};be.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Vs(n,!0):(fa(e,0,Ol),t===void 0?t=a.rounding:fa(t,0,8),n=nt(new a(n),e+1,t),r=Vs(n,!0,e+1)),r};be.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?Vs(a):(fa(e,0,Ol),t===void 0?t=s.rounding:fa(t,0,8),n=nt(new s(a),e+$t(a)+1,t),r=Vs(n.abs(),!1,e+$t(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};be.toInteger=be.toint=function(){var e=this,t=e.constructor;return nt(new t(e),$t(e)+1,t.rounding)};be.toNumber=function(){return+this};be.toPower=be.pow=function(e){var t,r,n,a,s,l,u=this,d=u.constructor,f=12,p=+(e=new d(e));if(!e.s)return new d(ln);if(u=new d(u),!u.s){if(e.s<1)throw Error(Mn+"Infinity");return u}if(u.eq(ln))return u;if(n=d.precision,e.eq(ln))return nt(u,n);if(t=e.e,r=e.d.length-1,l=t>=r,s=u.s,l){if((r=p<0?-p:p)<=nD){for(a=new d(ln),t=Math.ceil(n/dt+4),pt=!1;r%2&&(a=a.times(u),bO(a.d,t)),r=Al(r/2),r!==0;)u=u.times(u),bO(u.d,t);return pt=!0,e.s<0?new d(ln).div(a):nt(a,n)}}else if(s<0)throw Error(Mn+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,u.s=1,pt=!1,a=e.times(bu(u,n+f)),pt=!0,a=iD(a),a.s=s,a};be.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=$t(a),n=Vs(a,r<=s.toExpNeg||r>=s.toExpPos)):(fa(e,1,Ol),t===void 0?t=s.rounding:fa(t,0,8),a=nt(new s(a),e,t),r=$t(a),n=Vs(a,e<=r||r<=s.toExpNeg,e)),n};be.toSignificantDigits=be.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(fa(e,1,Ol),t===void 0?t=n.rounding:fa(t,0,8)),nt(new n(r),e,t)};be.toString=be.valueOf=be.val=be.toJSON=be[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=$t(e),r=e.constructor;return Vs(e,t<=r.toExpNeg||t>=r.toExpPos)};function aD(e,t){var r,n,a,s,l,u,d,f,p=e.constructor,g=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),pt?nt(t,g):t;if(d=e.d,f=t.d,l=e.e,a=t.e,d=d.slice(),s=l-a,s){for(s<0?(n=d,s=-s,u=f.length):(n=f,a=l,u=d.length),l=Math.ceil(g/dt),u=l>u?l+1:u+1,s>u&&(s=u,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(u=d.length,s=f.length,u-s<0&&(s=u,n=f,f=d,d=n),r=0;s;)r=(d[--s]=d[s]+f[s]+r)/Xt|0,d[s]%=Xt;for(r&&(d.unshift(r),++a),u=d.length;d[--u]==0;)d.pop();return t.d=d,t.e=a,pt?nt(t,g):t}function fa(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Is+e)}function oa(e){var t,r,n,a=e.length-1,s="",l=e[0];if(a>0){for(s+=l,t=1;t<a;t++)n=e[t]+"",r=dt-n.length,r&&(s+=Li(r)),s+=n;l=e[t],n=l+"",r=dt-n.length,r&&(s+=Li(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var Za=(function(){function e(n,a){var s,l=0,u=n.length;for(n=n.slice();u--;)s=n[u]*a+l,n[u]=s%Xt|0,l=s/Xt|0;return l&&n.unshift(l),n}function t(n,a,s,l){var u,d;if(s!=l)d=s>l?1:-1;else for(u=d=0;u<s;u++)if(n[u]!=a[u]){d=n[u]>a[u]?1:-1;break}return d}function r(n,a,s){for(var l=0;s--;)n[s]-=l,l=n[s]<a[s]?1:0,n[s]=l*Xt+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,l){var u,d,f,p,g,v,y,_,k,S,j,A,E,P,O,T,C,D,R=n.constructor,L=n.s==a.s?1:-1,$=n.d,q=a.d;if(!n.s)return new R(n);if(!a.s)throw Error(Mn+"Division by zero");for(d=n.e-a.e,C=q.length,O=$.length,y=new R(L),_=y.d=[],f=0;q[f]==($[f]||0);)++f;if(q[f]>($[f]||0)&&--d,s==null?A=s=R.precision:l?A=s+($t(n)-$t(a))+1:A=s,A<0)return new R(0);if(A=A/dt+2|0,f=0,C==1)for(p=0,q=q[0],A++;(f<O||p)&&A--;f++)E=p*Xt+($[f]||0),_[f]=E/q|0,p=E%q|0;else{for(p=Xt/(q[0]+1)|0,p>1&&(q=e(q,p),$=e($,p),C=q.length,O=$.length),P=C,k=$.slice(0,C),S=k.length;S<C;)k[S++]=0;D=q.slice(),D.unshift(0),T=q[0],q[1]>=Xt/2&&++T;do p=0,u=t(q,k,C,S),u<0?(j=k[0],C!=S&&(j=j*Xt+(k[1]||0)),p=j/T|0,p>1?(p>=Xt&&(p=Xt-1),g=e(q,p),v=g.length,S=k.length,u=t(g,k,v,S),u==1&&(p--,r(g,C<v?D:q,v))):(p==0&&(u=p=1),g=q.slice()),v=g.length,v<S&&g.unshift(0),r(k,g,S),u==-1&&(S=k.length,u=t(q,k,C,S),u<1&&(p++,r(k,C<S?D:q,S))),S=k.length):u===0&&(p++,k=[0]),_[f++]=p,u&&k[0]?k[S++]=$[P]||0:(k=[$[P]],S=1);while((P++<O||k[0]!==void 0)&&A--)}return _[0]||_.shift(),y.e=d,nt(y,l?s+$t(y)+1:s)}})();function iD(e,t){var r,n,a,s,l,u,d=0,f=0,p=e.constructor,g=p.precision;if($t(e)>16)throw Error(Sw+$t(e));if(!e.s)return new p(ln);for(pt=!1,u=g,l=new p(.03125);e.abs().gte(.1);)e=e.times(l),f+=5;for(n=Math.log(Es(2,f))/Math.LN10*2+5|0,u+=n,r=a=s=new p(ln),p.precision=u;;){if(a=nt(a.times(e),u),r=r.times(++d),l=s.plus(Za(a,r,u)),oa(l.d).slice(0,u)===oa(s.d).slice(0,u)){for(;f--;)s=nt(s.times(s),u);return p.precision=g,t==null?(pt=!0,nt(s,g)):s}s=l}}function $t(e){for(var t=e.e*dt,r=e.d[0];r>=10;r/=10)t++;return t}function my(e,t,r){if(t>e.LN10.sd())throw pt=!0,r&&(e.precision=r),Error(Mn+"LN10 precision limit exceeded");return nt(new e(e.LN10),t)}function Li(e){for(var t="";e--;)t+="0";return t}function bu(e,t){var r,n,a,s,l,u,d,f,p,g=1,v=10,y=e,_=y.d,k=y.constructor,S=k.precision;if(y.s<1)throw Error(Mn+(y.s?"NaN":"-Infinity"));if(y.eq(ln))return new k(0);if(t==null?(pt=!1,f=S):f=t,y.eq(10))return t==null&&(pt=!0),my(k,f);if(f+=v,k.precision=f,r=oa(_),n=r.charAt(0),s=$t(y),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)y=y.times(e),r=oa(y.d),n=r.charAt(0),g++;s=$t(y),n>1?(y=new k("0."+r),s++):y=new k(n+"."+r.slice(1))}else return d=my(k,f+2,S).times(s+""),y=bu(new k(n+"."+r.slice(1)),f-v).plus(d),k.precision=S,t==null?(pt=!0,nt(y,S)):y;for(u=l=y=Za(y.minus(ln),y.plus(ln),f),p=nt(y.times(y),f),a=3;;){if(l=nt(l.times(p),f),d=u.plus(Za(l,new k(a),f)),oa(d.d).slice(0,f)===oa(u.d).slice(0,f))return u=u.times(2),s!==0&&(u=u.plus(my(k,f+2,S).times(s+""))),u=Za(u,new k(g),f),k.precision=S,t==null?(pt=!0,nt(u,S)):u;u=d,a+=2}}function yO(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Al(r/dt),e.d=[],n=(r+1)%dt,r<0&&(n+=dt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=dt;n<a;)e.d.push(+t.slice(n,n+=dt));t=t.slice(n),n=dt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),pt&&(e.e>e0||e.e<-e0))throw Error(Sw+r)}else e.s=0,e.e=0,e.d=[0];return e}function nt(e,t,r){var n,a,s,l,u,d,f,p,g=e.d;for(l=1,s=g[0];s>=10;s/=10)l++;if(n=t-l,n<0)n+=dt,a=t,f=g[p=0];else{if(p=Math.ceil((n+1)/dt),s=g.length,p>=s)return e;for(f=s=g[p],l=1;s>=10;s/=10)l++;n%=dt,a=n-dt+l}if(r!==void 0&&(s=Es(10,l-a-1),u=f/s%10|0,d=t<0||g[p+1]!==void 0||f%s,d=r<4?(u||d)&&(r==0||r==(e.s<0?3:2)):u>5||u==5&&(r==4||d||r==6&&(n>0?a>0?f/Es(10,l-a):0:g[p-1])%10&1||r==(e.s<0?8:7))),t<1||!g[0])return d?(s=$t(e),g.length=1,t=t-s-1,g[0]=Es(10,(dt-t%dt)%dt),e.e=Al(-t/dt)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(n==0?(g.length=p,s=1,p--):(g.length=p+1,s=Es(10,dt-n),g[p]=a>0?(f/Es(10,l-a)%Es(10,a)|0)*s:0),d)for(;;)if(p==0){(g[0]+=s)==Xt&&(g[0]=1,++e.e);break}else{if(g[p]+=s,g[p]!=Xt)break;g[p--]=0,s=1}for(n=g.length;g[--n]===0;)g.pop();if(pt&&(e.e>e0||e.e<-e0))throw Error(Sw+$t(e));return e}function sD(e,t){var r,n,a,s,l,u,d,f,p,g,v=e.constructor,y=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),pt?nt(t,y):t;if(d=e.d,g=t.d,n=t.e,f=e.e,d=d.slice(),l=f-n,l){for(p=l<0,p?(r=d,l=-l,u=g.length):(r=g,n=f,u=d.length),a=Math.max(Math.ceil(y/dt),u)+2,l>a&&(l=a,r.length=1),r.reverse(),a=l;a--;)r.push(0);r.reverse()}else{for(a=d.length,u=g.length,p=a<u,p&&(u=a),a=0;a<u;a++)if(d[a]!=g[a]){p=d[a]<g[a];break}l=0}for(p&&(r=d,d=g,g=r,t.s=-t.s),u=d.length,a=g.length-u;a>0;--a)d[u++]=0;for(a=g.length;a>l;){if(d[--a]<g[a]){for(s=a;s&&d[--s]===0;)d[s]=Xt-1;--d[s],d[a]+=Xt}d[a]-=g[a]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(t.d=d,t.e=n,pt?nt(t,y):t):new v(0)}function Vs(e,t,r){var n,a=$t(e),s=oa(e.d),l=s.length;return t?(r&&(n=r-l)>0?s=s.charAt(0)+"."+s.slice(1)+Li(n):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Li(-a-1)+s,r&&(n=r-l)>0&&(s+=Li(n))):a>=l?(s+=Li(a+1-l),r&&(n=r-a-1)>0&&(s=s+"."+Li(n))):((n=a+1)<l&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-l)>0&&(a+1===l&&(s+="."),s+=Li(n))),e.s<0?"-"+s:s}function bO(e,t){if(e.length>t)return e.length=t,!0}function oD(e){var t,r,n;function a(s){var l=this;if(!(l instanceof a))return new a(s);if(l.constructor=a,s instanceof a){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Is+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return yO(l,s.toString())}else if(typeof s!="string")throw Error(Is+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,iQ.test(s))yO(l,s);else throw Error(Is+s)}if(a.prototype=be,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=oD,a.config=a.set=sQ,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function sQ(e){if(!e||typeof e!="object")throw Error(Mn+"Object expected");var t,r,n,a=["precision",1,Ol,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Al(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Is+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Is+r+": "+n);return this}var kw=oD(aQ);ln=new kw(1);const Je=kw;var oQ=e=>e,lD={},cD=e=>e===lD,xO=e=>function t(){return arguments.length===0||arguments.length===1&&cD(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},uD=(e,t)=>e===1?t:xO(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var s=n.filter(l=>l!==lD).length;return s>=e?t(...n):uD(e-s,xO(function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];var f=n.map(p=>cD(p)?u.shift():p);return t(...f,...u)}))}),lQ=e=>uD(e.length,e),Bb=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},cQ=lQ((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),uQ=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return oQ;var a=r.reverse(),s=a[0],l=a.slice(1);return function(){return l.reduce((u,d)=>d(u),s(...arguments))}},qb=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function dD(e){var t;return e===0?t=1:t=Math.floor(new Je(e).abs().log(10).toNumber())+1,t}function fD(e,t,r){for(var n=new Je(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var hD=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},mD=(e,t,r)=>{if(e.lte(0))return new Je(0);var n=dD(e.toNumber()),a=new Je(10).pow(n),s=e.div(a),l=n!==1?.05:.1,u=new Je(Math.ceil(s.div(l).toNumber())).add(r).mul(l),d=u.mul(a);return t?new Je(d.toNumber()):new Je(Math.ceil(d.toNumber()))},dQ=(e,t,r)=>{var n=new Je(1),a=new Je(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new Je(10).pow(dD(e)-1),a=new Je(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new Je(Math.floor(e)))}else e===0?a=new Je(Math.floor((t-1)/2)):r||(a=new Je(Math.floor(e)));var l=Math.floor((t-1)/2),u=uQ(cQ(d=>a.add(new Je(d-l).mul(n)).toNumber()),Bb);return u(0,t)},pD=function(t,r,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Je(0),tickMin:new Je(0),tickMax:new Je(0)};var l=mD(new Je(r).sub(t).div(n-1),a,s),u;t<=0&&r>=0?u=new Je(0):(u=new Je(t).add(r).div(2),u=u.sub(new Je(u).mod(l)));var d=Math.ceil(u.sub(t).div(l).toNumber()),f=Math.ceil(new Je(r).sub(u).div(l).toNumber()),p=d+f+1;return p>n?pD(t,r,n,a,s+1):(p<n&&(f=r>0?f+(n-p):f,d=r>0?d:d+(n-p)),{step:l,tickMin:u.sub(new Je(d).mul(l)),tickMax:u.add(new Je(f).mul(l))})},fQ=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(a,2),[u,d]=hD([r,n]);if(u===-1/0||d===1/0){var f=d===1/0?[u,...Bb(0,a-1).map(()=>1/0)]:[...Bb(0,a-1).map(()=>-1/0),d];return r>n?qb(f):f}if(u===d)return dQ(u,a,s);var{step:p,tickMin:g,tickMax:v}=pD(u,d,l,s,0),y=fD(g,v.add(new Je(.1).mul(p)),p);return r>n?qb(y):y},hQ=function(t,r){var[n,a]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,u]=hD([n,a]);if(l===-1/0||u===1/0)return[n,a];if(l===u)return[l];var d=Math.max(r,2),f=mD(new Je(u).sub(l).div(d-1),s,0),p=[...fD(new Je(l),new Je(u),f),u];return s===!1&&(p=p.map(g=>Math.round(g))),n>a?qb(p):p},mQ=e=>e.rootProps.barCategoryGap,sm=e=>e.rootProps.stackOffset,gD=e=>e.rootProps.reverseStackOrder,jw=e=>e.options.chartName,Ew=e=>e.rootProps.syncId,vD=e=>e.rootProps.syncMethod,Nw=e=>e.options.eventEmitter,pQ=e=>e.rootProps.baseValue,wr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Ua={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},sn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},om=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},gQ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ua.angleAxisId,includeHidden:!1,name:void 0,reversed:Ua.reversed,scale:Ua.scale,tick:Ua.tick,tickCount:void 0,ticks:void 0,type:Ua.type,unit:void 0},vQ={allowDataOverflow:sn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:sn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:sn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:sn.scale,tick:sn.tick,tickCount:sn.tickCount,ticks:void 0,type:sn.type,unit:void 0},yQ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ua.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ua.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ua.scale,tick:Ua.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},bQ={allowDataOverflow:sn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:sn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:sn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:sn.scale,tick:sn.tick,tickCount:sn.tickCount,ticks:void 0,type:"category",unit:void 0},Ow=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?yQ:gQ,Aw=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?bQ:vQ,lm=e=>e.polarOptions,Tw=ne([oi,li,hr],fW),yD=ne([lm,Tw],(e,t)=>{if(e!=null)return Zi(e.innerRadius,t,0)}),bD=ne([lm,Tw],(e,t)=>{if(e!=null)return Zi(e.outerRadius,t,t*.8)}),xQ=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},xD=ne([lm],xQ);ne([Ow,xD],om);var wD=ne([Tw,yD,bD],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});ne([Aw,wD],om);var _D=ne([lt,lm,yD,bD,oi,li],(e,t,r,n,a,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:l,cy:u,startAngle:d,endAngle:f}=t;return{cx:Zi(l,a,a/2),cy:Zi(u,s,s/2),innerRadius:r,outerRadius:n,startAngle:d,endAngle:f,clockWise:!1}}}),Ht=(e,t)=>t,cm=(e,t,r)=>r;function Cw(e){return e?.id}function SD(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:s}=r,l=new Map;return e.forEach(u=>{var d,f=(d=u.data)!==null&&d!==void 0?d:n;if(!(f==null||f.length===0)){var p=Cw(u);f.forEach((g,v)=>{var y=s==null||a?v:String(_r(g,s,null)),_=_r(g,u.dataKey,0),k;l.has(y)?k=l.get(y):k={},Object.assign(k,{[p]:_}),l.set(y,k)})}}),Array.from(l.values())}function Pw(e){return e.stackId!=null&&e.dataKey!=null}var um=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function dm(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function wQ(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var Ft=e=>{var t=lt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Tl=e=>e.tooltip.settings.axisId;function wO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function t0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wO(Object(r),!0).forEach(function(n){_Q(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Q(e,t,r){return(t=SQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SQ(e){var t=kQ(e,"string");return typeof t=="symbol"?t:t+""}function kQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hb=[0,"auto"],Yt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},kD=(e,t)=>e.cartesianAxis.xAxis[t],ha=(e,t)=>{var r=kD(e,t);return r??Yt},Wt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Hb,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Pu},jD=(e,t)=>e.cartesianAxis.yAxis[t],ma=(e,t)=>{var r=jD(e,t);return r??Wt},jQ={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Dw=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??jQ},Dr=(e,t,r)=>{switch(t){case"xAxis":return ha(e,r);case"yAxis":return ma(e,r);case"zAxis":return Dw(e,r);case"angleAxis":return Ow(e,r);case"radiusAxis":return Aw(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},EQ=(e,t,r)=>{switch(t){case"xAxis":return ha(e,r);case"yAxis":return ma(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Uu=(e,t,r)=>{switch(t){case"xAxis":return ha(e,r);case"yAxis":return ma(e,r);case"angleAxis":return Ow(e,r);case"radiusAxis":return Aw(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},ED=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function ND(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var OD=e=>e.graphicalItems.cartesianItems,NQ=ne([Ht,cm],ND),AD=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),Bu=ne([OD,Dr,NQ],AD,{memoizeOptions:{resultEqualityCheck:dm}}),TD=ne([Bu],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Pw)),CD=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),OQ=ne([Bu],CD),PD=e=>e.map(t=>t.data).filter(Boolean).flat(1),AQ=ne([Bu],PD,{memoizeOptions:{resultEqualityCheck:dm}}),DD=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},Mw=ne([AQ,_w],DD),MD=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:_r(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:_r(a,n)}))):e.map(n=>({value:n})),fm=ne([Mw,Dr,Bu],MD);function RD(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function nh(e){if(Pn(e)||e instanceof Date){var t=Number(e);if(st(t))return t}}function _O(e){if(Array.isArray(e)){var t=[nh(e[0]),nh(e[1])];return Gi(t)?t:void 0}var r=nh(e);if(r!=null)return[r,r]}function ri(e){return e.map(nh).filter(KV)}function TQ(e,t,r){return!r||typeof t!="number"||fn(t)?[]:r.length?ri(r.flatMap(n=>{var a=_r(e,n.dataKey),s,l;if(Array.isArray(a)?[s,l]=a:s=l=a,!(!st(s)||!st(l)))return[t-s,t+l]})):[]}var Vt=e=>{var t=Ft(e),r=Tl(e);return Uu(e,t,r)},qu=ne([Vt],e=>e?.dataKey),CQ=ne([TD,_w,Vt],SD),$D=(e,t,r,n)=>{var a={},s=t.reduce((l,u)=>(u.stackId==null||(l[u.stackId]==null&&(l[u.stackId]=[]),l[u.stackId].push(u)),l),a);return Object.fromEntries(Object.entries(s).map(l=>{var[u,d]=l,f=n?[...d].reverse():d,p=f.map(Cw);return[u,{stackedData:tG(e,p,r),graphicalItems:f}]}))},Fb=ne([CQ,TD,sm,gD],$D),LD=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:s}=t;if(n==null&&r!=="zAxis"){var l=iG(e,a,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},PQ=ne([Dr],e=>e.allowDataOverflow),Rw=e=>{var t;if(e==null||!("domain"in e))return Hb;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=ri(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:Hb},ID=ne([Dr],Rw),zD=ne([ID,PQ],rD),DQ=ne([Fb,es,Ht,zD],LD,{memoizeOptions:{resultEqualityCheck:um}}),$w=e=>e.errorBars,MQ=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>RD(r,n)),r0=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var s=a.flat(),l=Math.min(...s),u=Math.max(...s);return[l,u]}},UD=(e,t,r,n,a)=>{var s,l;if(r.length>0&&e.forEach(u=>{r.forEach(d=>{var f,p,g=(f=n[d.id])===null||f===void 0?void 0:f.filter(j=>RD(a,j)),v=_r(u,(p=t.dataKey)!==null&&p!==void 0?p:d.dataKey),y=TQ(u,v,g);if(y.length>=2){var _=Math.min(...y),k=Math.max(...y);(s==null||_<s)&&(s=_),(l==null||k>l)&&(l=k)}var S=_O(v);S!=null&&(s=s==null?S[0]:Math.min(s,S[0]),l=l==null?S[1]:Math.max(l,S[1]))})}),t?.dataKey!=null&&e.forEach(u=>{var d=_O(_r(u,t.dataKey));d!=null&&(s=s==null?d[0]:Math.min(s,d[0]),l=l==null?d[1]:Math.max(l,d[1]))}),st(s)&&st(l))return[s,l]},RQ=ne([Mw,Dr,OQ,$w,Ht],UD,{memoizeOptions:{resultEqualityCheck:um}});function $Q(e){var{value:t}=e;if(Pn(t)||t instanceof Date)return t}var LQ=(e,t,r)=>{var n=e.map($Q).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&rP(n))?w4(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},BD=e=>e.referenceElements.dots,Cl=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),IQ=ne([BD,Ht,cm],Cl),qD=e=>e.referenceElements.areas,zQ=ne([qD,Ht,cm],Cl),HD=e=>e.referenceElements.lines,UQ=ne([HD,Ht,cm],Cl),FD=(e,t)=>{var r=ri(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},BQ=ne(IQ,Ht,FD),VD=(e,t)=>{var r=ri(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},qQ=ne([zQ,Ht],VD);function HQ(e){var t;if(e.x!=null)return ri([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:ri(r)}function FQ(e){var t;if(e.y!=null)return ri([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:ri(r)}var KD=(e,t)=>{var r=e.flatMap(n=>t==="xAxis"?HQ(n):FQ(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},VQ=ne([UQ,Ht],KD),KQ=ne(BQ,VQ,qQ,(e,t,r)=>r0(e,r,t)),ZD=(e,t,r,n,a,s,l,u)=>{if(r!=null)return r;var d=l==="vertical"&&u==="xAxis"||l==="horizontal"&&u==="yAxis",f=d?r0(n,s,a):r0(s,a);return nQ(t,f,e.allowDataOverflow)},ZQ=ne([Dr,ID,zD,DQ,RQ,KQ,lt,Ht],ZD,{memoizeOptions:{resultEqualityCheck:um}}),GQ=[0,1],GD=(e,t,r,n,a,s,l)=>{if(!((e==null||r==null||r.length===0)&&l===void 0)){var{dataKey:u,type:d}=e,f=si(t,s);if(f&&u==null){var p;return w4(0,(p=r?.length)!==null&&p!==void 0?p:0)}return d==="category"?LQ(n,e,f):a==="expand"?GQ:l}},Lw=ne([Dr,lt,Mw,fm,sm,Ht,ZQ],GD),YD=(e,t,r,n,a)=>{if(e!=null){var{scale:s,type:l}=e;if(s==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":l==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":l==="category"?"band":"linear";if(typeof s=="string"){var u="scale".concat(Ix(s));return u in Zc?u:"point"}}},Hu=ne([Dr,lt,ED,jw,Ht],YD);function YQ(e){if(e!=null){if(e in Zc)return Zc[e]();var t="scale".concat(Ix(e));if(t in Zc)return Zc[t]()}}function Iw(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=YQ(t);if(a!=null){var s=a.domain(r).range(n);return XZ(s),s}}}var WD=(e,t,r)=>{var n=Rw(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Gi(e))return fQ(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Gi(e))return hQ(e,t.tickCount,t.allowDecimals)}},zw=ne([Lw,Uu,Hu],WD),XD=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&Gi(t)&&Array.isArray(r)&&r.length>0){var a=t[0],s=r[0],l=t[1],u=r[r.length-1];return[Math.min(a,s),Math.max(l,u)]}return t},WQ=ne([Dr,Lw,zw,Ht],XD),XQ=ne(fm,Dr,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(ri(e.map(u=>u.value))).sort((u,d)=>u-d);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var s=0;s<n.length-1;s++){var l=n[s+1]-n[s];r=Math.min(r,l)}return r/a}}),JD=ne(XQ,lt,mQ,hr,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!st(e))return 0;var s=t==="vertical"?n.height:n.width;if(a==="gap")return e*s/2;if(a==="no-gap"){var l=Zi(r,e*s),u=e*s/2;return u-l-(u-l)/s*l}return 0}),JQ=(e,t)=>{var r=ha(e,t);return r==null||typeof r.padding!="string"?0:JD(e,"xAxis",t,r.padding)},QQ=(e,t)=>{var r=ma(e,t);return r==null||typeof r.padding!="string"?0:JD(e,"yAxis",t,r.padding)},eee=ne(ha,JQ,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),tee=ne(ma,QQ,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),ree=ne([hr,eee,Y0,G0,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:s}=n;return a?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),nee=ne([hr,lt,tee,Y0,G0,(e,t,r)=>r],(e,t,r,n,a,s)=>{var{padding:l}=a;return s?[n.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Fu=(e,t,r,n)=>{var a;switch(t){case"xAxis":return ree(e,r,n);case"yAxis":return nee(e,r,n);case"zAxis":return(a=Dw(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return xD(e);case"radiusAxis":return wD(e,r);default:return}},QD=ne([Dr,Fu],om),Yi=ne([Dr,Hu,WQ,QD],Iw);ne([Bu,$w,Ht],MQ);function e3(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var hm=(e,t)=>t,mm=(e,t,r)=>r,aee=ne(K0,hm,mm,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(e3)),iee=ne(Z0,hm,mm,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(e3)),t3=(e,t)=>({width:e.width,height:t.height}),see=(e,t)=>{var r=typeof t.width=="number"?t.width:Pu;return{width:r,height:e.height}},oee=ne(hr,ha,t3),lee=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},cee=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},uee=ne(li,hr,aee,hm,mm,(e,t,r,n,a)=>{var s={},l;return r.forEach(u=>{var d=t3(t,u);l==null&&(l=lee(t,n,e));var f=n==="top"&&!a||n==="bottom"&&a;s[u.id]=l-Number(f)*d.height,l+=(f?-1:1)*d.height}),s}),dee=ne(oi,hr,iee,hm,mm,(e,t,r,n,a)=>{var s={},l;return r.forEach(u=>{var d=see(t,u);l==null&&(l=cee(t,n,e));var f=n==="left"&&!a||n==="right"&&a;s[u.id]=l-Number(f)*d.width,l+=(f?-1:1)*d.width}),s}),fee=(e,t)=>{var r=ha(e,t);if(r!=null)return uee(e,r.orientation,r.mirror)},hee=ne([hr,ha,fee,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),mee=(e,t)=>{var r=ma(e,t);if(r!=null)return dee(e,r.orientation,r.mirror)},pee=ne([hr,ma,mee,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),gee=ne(hr,ma,(e,t)=>{var r=typeof t.width=="number"?t.width:Pu;return{width:r,height:e.height}}),r3=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:s,dataKey:l}=r,u=si(e,n),d=t.map(f=>f.value);if(l&&u&&s==="category"&&a&&rP(d))return d}},Uw=ne([lt,fm,Dr,Ht],r3),n3=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:s}=r,l=si(e,n);if(l&&(a==="number"||s!=="auto"))return t.map(u=>u.value)}},Bw=ne([lt,fm,Uu,Ht],n3),SO=ne([lt,EQ,Hu,Yi,Uw,Bw,Fu,zw,Ht],(e,t,r,n,a,s,l,u,d)=>{if(t!=null){var f=si(e,d);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:d,categoricalDomain:s,duplicateDomain:a,isCategorical:f,niceTicks:u,range:l,realScaleType:r,scale:n}}}),vee=(e,t,r,n,a,s,l,u,d)=>{if(!(t==null||n==null)){var f=si(e,d),{type:p,ticks:g,tickCount:v}=t,y=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,_=p==="category"&&n.bandwidth?n.bandwidth()/y:0;_=d==="angleAxis"&&s!=null&&s.length>=2?An(s[0]-s[1])*2*_:_;var k=g||a;if(k){var S=k.map((j,A)=>{var E=l?l.indexOf(j):j;return{index:A,coordinate:n(E)+_,value:j,offset:_}});return S.filter(j=>st(j.coordinate))}return f&&u?u.map((j,A)=>({coordinate:n(j)+_,value:j,index:A,offset:_})).filter(j=>st(j.coordinate)):n.ticks?n.ticks(v).map(j=>({coordinate:n(j)+_,value:j,offset:_})):n.domain().map((j,A)=>({coordinate:n(j)+_,value:l?l[j]:j,index:A,offset:_}))}},a3=ne([lt,Uu,Hu,Yi,zw,Fu,Uw,Bw,Ht],vee),yee=(e,t,r,n,a,s,l)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var u=si(e,l),{tickCount:d}=t,f=0;return f=l==="angleAxis"&&n?.length>=2?An(n[0]-n[1])*2*f:f,u&&s?s.map((p,g)=>({coordinate:r(p)+f,value:p,index:g,offset:f})):r.ticks?r.ticks(d).map(p=>({coordinate:r(p)+f,value:p,offset:f})):r.domain().map((p,g)=>({coordinate:r(p)+f,value:a?a[p]:p,index:g,offset:f}))}},i3=ne([lt,Uu,Yi,Fu,Uw,Bw,Ht],yee),s3=ne(Dr,Yi,(e,t)=>{if(!(e==null||t==null))return t0(t0({},e),{},{scale:t})}),bee=ne([Dr,Hu,Lw,QD],Iw);ne((e,t,r)=>Dw(e,r),bee,(e,t)=>{if(!(e==null||t==null))return t0(t0({},e),{},{scale:t})});var xee=ne([lt,K0,Z0],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),o3=e=>e.options.defaultTooltipEventType,l3=e=>e.options.validateTooltipEventTypes;function c3(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function qw(e,t){var r=o3(e),n=l3(e);return c3(t,r,n)}function wee(e){return Ee(t=>qw(t,e))}var u3=(e,t)=>{var r,n=Number(t);if(!(fn(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},_ee=e=>e.tooltip.settings,qi={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},See={itemInteraction:{click:qi,hover:qi},axisInteraction:{click:qi,hover:qi},keyboardInteraction:qi,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},d3=Gr({name:"tooltip",initialState:See,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:mt()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Yn(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:mt()},removeTooltipEntrySettings:{reducer(e,t){var r=Yn(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:mt()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:kee,replaceTooltipEntrySettings:jee,removeTooltipEntrySettings:Eee,setTooltipSettingsState:Nee,setActiveMouseOverItemIndex:Oee,mouseLeaveItem:wce,mouseLeaveChart:f3,setActiveClickItemIndex:_ce,setMouseOverAxisIndex:h3,setMouseClickAxisIndex:Aee,setSyncInteraction:Vb,setKeyboardInteraction:Kb}=d3.actions,Tee=d3.reducer;function kO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ff(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kO(Object(r),!0).forEach(function(n){Cee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cee(e,t,r){return(t=Pee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pee(e){var t=Dee(e,"string");return typeof t=="symbol"?t:t+""}function Dee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mee(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Ree(e){return e.index!=null}var m3=(e,t,r,n)=>{if(t==null)return qi;var a=Mee(e,t,r);if(a==null)return qi;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(Ree(a)){if(s)return Ff(Ff({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return Ff(Ff({},qi),{},{coordinate:a.coordinate})};function $ee(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function Lee(e,t){var r=$ee(e),n=t[0],a=t[1];if(r===void 0)return!1;var s=Math.min(n,a),l=Math.max(n,a);return r>=s&&r<=l}function Iee(e,t,r){if(r==null||t==null)return!0;var n=_r(e,t);return n==null||!Gi(r)?!0:Lee(n,r)}var Hw=(e,t,r,n)=>{var a=e?.index;if(a==null)return null;var s=Number(a);if(!st(s))return a;var l=0,u=1/0;t.length>0&&(u=t.length-1);var d=Math.max(l,Math.min(s,u)),f=t[d];return f==null||Iee(f,r,n)?String(d):null},p3=(e,t,r,n,a,s,l,u)=>{if(!(s==null||u==null)){var d=l[0],f=d==null?void 0:u(d.positions,s);if(f!=null)return f;var p=a?.[Number(s)];if(p)switch(r){case"horizontal":return{x:p.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:p.coordinate}}}},g3=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(s=>{var l;return((l=s.settings)===null||l===void 0?void 0:l.dataKey)===a})},Vu=e=>e.options.tooltipPayloadSearcher,Pl=e=>e.tooltip;function jO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function EO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jO(Object(r),!0).forEach(function(n){zee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zee(e,t,r){return(t=Uee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uee(e){var t=Bee(e,"string");return typeof t=="symbol"?t:t+""}function Bee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qee(e,t){return e??t}var v3=(e,t,r,n,a,s,l)=>{if(!(t==null||s==null)){var{chartData:u,computedData:d,dataStartIndex:f,dataEndIndex:p}=r,g=[];return e.reduce((v,y)=>{var _,{dataDefinedOnItem:k,settings:S}=y,j=qee(k,u),A=Array.isArray(j)?ZP(j,f,p):j,E=(_=S?.dataKey)!==null&&_!==void 0?_:n,P=S?.nameKey,O;if(n&&Array.isArray(A)&&!Array.isArray(A[0])&&l==="axis"?O=nP(A,n,a):O=s(A,t,d,P),Array.isArray(O))O.forEach(C=>{var D=EO(EO({},S),{},{name:C.name,unit:C.unit,color:void 0,fill:void 0});v.push(YE({tooltipEntrySettings:D,dataKey:C.dataKey,payload:C.payload,value:_r(C.payload,C.dataKey),name:C.name}))});else{var T;v.push(YE({tooltipEntrySettings:S,dataKey:E,payload:O,value:_r(O,E),name:(T=_r(O,P))!==null&&T!==void 0?T:S?.name}))}return v},g)}},Fw=ne([Vt,lt,ED,jw,Ft],YD),Hee=ne([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Fee=ne([Ft,Tl],ND),Ku=ne([Hee,Vt,Fee],AD,{memoizeOptions:{resultEqualityCheck:dm}}),Vee=ne([Ku],e=>e.filter(Pw)),Kee=ne([Ku],PD,{memoizeOptions:{resultEqualityCheck:dm}}),Dl=ne([Kee,es],DD),Zee=ne([Vee,es,Vt],SD),Vw=ne([Dl,Vt,Ku],MD),y3=ne([Vt],Rw),Gee=ne([Vt],e=>e.allowDataOverflow),b3=ne([y3,Gee],rD),Yee=ne([Ku],e=>e.filter(Pw)),Wee=ne([Zee,Yee,sm,gD],$D),Xee=ne([Wee,es,Ft,b3],LD),Jee=ne([Ku],CD),Qee=ne([Dl,Vt,Jee,$w,Ft],UD,{memoizeOptions:{resultEqualityCheck:um}}),ete=ne([BD,Ft,Tl],Cl),tte=ne([ete,Ft],FD),rte=ne([qD,Ft,Tl],Cl),nte=ne([rte,Ft],VD),ate=ne([HD,Ft,Tl],Cl),ite=ne([ate,Ft],KD),ste=ne([tte,ite,nte],r0),ote=ne([Vt,y3,b3,Xee,Qee,ste,lt,Ft],ZD),Zu=ne([Vt,lt,Dl,Vw,sm,Ft,ote],GD),lte=ne([Zu,Vt,Fw],WD),cte=ne([Vt,Zu,lte,Ft],XD),x3=e=>{var t=Ft(e),r=Tl(e),n=!1;return Fu(e,t,r,n)},w3=ne([Vt,x3],om),_3=ne([Vt,Fw,cte,w3],Iw),ute=ne([lt,Vw,Vt,Ft],r3),dte=ne([lt,Vw,Vt,Ft],n3),fte=(e,t,r,n,a,s,l,u)=>{if(t){var{type:d}=t,f=si(e,u);if(n){var p=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,g=d==="category"&&n.bandwidth?n.bandwidth()/p:0;return g=u==="angleAxis"&&a!=null&&a?.length>=2?An(a[0]-a[1])*2*g:g,f&&l?l.map((v,y)=>({coordinate:n(v)+g,value:v,index:y,offset:g})):n.domain().map((v,y)=>({coordinate:n(v)+g,value:s?s[v]:v,index:y,offset:g}))}}},ui=ne([lt,Vt,Fw,_3,x3,ute,dte,Ft],fte),Kw=ne([o3,l3,_ee],(e,t,r)=>c3(r.shared,e,t)),S3=e=>e.tooltip.settings.trigger,Zw=e=>e.tooltip.settings.defaultIndex,Gu=ne([Pl,Kw,S3,Zw],m3),xu=ne([Gu,Dl,qu,Zu],Hw),k3=ne([ui,xu],u3),hte=ne([Gu],e=>{if(e)return e.dataKey});ne([Gu],e=>{if(e)return e.graphicalItemId});var j3=ne([Pl,Kw,S3,Zw],g3),mte=ne([oi,li,lt,hr,ui,Zw,j3,Vu],p3),pte=ne([Gu,mte],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),gte=ne([Gu],e=>e.active),vte=ne([j3,xu,es,qu,k3,Vu,Kw],v3),yte=ne([vte],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function NO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function OO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NO(Object(r),!0).forEach(function(n){bte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bte(e,t,r){return(t=xte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xte(e){var t=wte(e,"string");return typeof t=="symbol"?t:t+""}function wte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _te=()=>Ee(Vt),Ste=()=>{var e=_te(),t=Ee(ui),r=Ee(_3);return Rh(!e||!r?void 0:OO(OO({},e),{},{scale:r}),t)};function AO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Go(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AO(Object(r),!0).forEach(function(n){kte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kte(e,t,r){return(t=jte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jte(e){var t=Ete(e,"string");return typeof t=="symbol"?t:t+""}function Ete(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nte=(e,t,r,n)=>{var a=t.find(s=>s&&s.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},Ote=(e,t,r,n)=>{var a=t.find(f=>f&&f.index===r);if(a){if(e==="centric"){var s=a.coordinate,{radius:l}=n;return Go(Go(Go({},n),cr(n.cx,n.cy,l,s)),{},{angle:s,radius:l})}var u=a.coordinate,{angle:d}=n;return Go(Go(Go({},n),cr(n.cx,n.cy,u,d)),{},{angle:d,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Ate(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var E3=(e,t,r,n,a)=>{var s,l=-1,u=(s=t?.length)!==null&&s!==void 0?s:0;if(u<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var d=0;d<u;d++){var f=d>0?r[d-1].coordinate:r[u-1].coordinate,p=r[d].coordinate,g=d>=u-1?r[0].coordinate:r[d+1].coordinate,v=void 0;if(An(p-f)!==An(g-p)){var y=[];if(An(g-p)===An(a[1]-a[0])){v=g;var _=p+a[1]-a[0];y[0]=Math.min(_,(_+f)/2),y[1]=Math.max(_,(_+f)/2)}else{v=f;var k=g+a[1]-a[0];y[0]=Math.min(p,(k+p)/2),y[1]=Math.max(p,(k+p)/2)}var S=[Math.min(p,(v+p)/2),Math.max(p,(v+p)/2)];if(e>S[0]&&e<=S[1]||e>=y[0]&&e<=y[1]){({index:l}=r[d]);break}}else{var j=Math.min(f,g),A=Math.max(f,g);if(e>(j+p)/2&&e<=(A+p)/2){({index:l}=r[d]);break}}}else if(t){for(var E=0;E<u;E++)if(E===0&&e<=(t[E].coordinate+t[E+1].coordinate)/2||E>0&&E<u-1&&e>(t[E].coordinate+t[E-1].coordinate)/2&&e<=(t[E].coordinate+t[E+1].coordinate)/2||E===u-1&&e>(t[E].coordinate+t[E-1].coordinate)/2){({index:l}=t[E]);break}}return l},N3=()=>Ee(jw),Gw=(e,t)=>t,O3=(e,t,r)=>r,Yw=(e,t,r,n)=>n,Tte=ne(ui,e=>L0(e,t=>t.coordinate)),Ww=ne([Pl,Gw,O3,Yw],m3),Xw=ne([Ww,Dl,qu,Zu],Hw),Cte=(e,t,r)=>{if(t!=null){var n=Pl(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},A3=ne([Pl,Gw,O3,Yw],g3),n0=ne([oi,li,lt,hr,ui,Yw,A3,Vu],p3),Pte=ne([Ww,n0],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),T3=ne([ui,Xw],u3),Dte=ne([A3,Xw,es,qu,T3,Vu,Gw],v3),Mte=ne([Ww,Xw],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),Rte=(e,t,r,n,a,s,l)=>{if(!(!e||!r||!n||!a)&&Ate(e,l)){var u=sG(e,t),d=E3(u,s,a,r,n),f=Nte(t,a,d,e);return{activeIndex:String(d),activeCoordinate:f}}},$te=(e,t,r,n,a,s,l)=>{if(!(!e||!n||!a||!s||!r)){var u=vW(e,r);if(u){var d=oG(u,t),f=E3(d,l,s,n,a),p=Ote(t,s,f,u);return{activeIndex:String(f),activeCoordinate:p}}}},Lte=(e,t,r,n,a,s,l,u)=>{if(!(!e||!t||!n||!a||!s))return t==="horizontal"||t==="vertical"?Rte(e,t,n,a,s,l,u):$te(e,t,r,n,a,s,l)},Ite=ne(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElementId:n.elementId}}),zte=ne(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(wr)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:wQ}});function TO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function CO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TO(Object(r),!0).forEach(function(n){Ute(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ute(e,t,r){return(t=Bte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bte(e){var t=qte(e,"string");return typeof t=="symbol"?t:t+""}function qte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hte={},Fte={zIndexMap:Object.values(wr).reduce((e,t)=>CO(CO({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),Hte)},Vte=new Set(Object.values(wr));function Kte(e){return Vte.has(e)}var C3=Gr({name:"zIndex",initialState:Fte,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:mt()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!Kte(r)&&delete e.zIndexMap[r])},prepare:mt()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElementId=n:e.zIndexMap[r].elementId=n:e.zIndexMap[r]={consumers:0,elementId:a?void 0:n,panoramaElementId:a?n:void 0}},prepare:mt()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:mt()}}}),{registerZIndexPortal:Zte,unregisterZIndexPortal:Gte,registerZIndexPortalId:Yte,unregisterZIndexPortalId:Wte}=C3.actions,Xte=C3.reducer;function pa(e){var{zIndex:t,children:r}=e,n=BG(),a=n&&t!==void 0&&t!==0,s=Pr(),l=Bt();x.useLayoutEffect(()=>a?(l(Zte({zIndex:t})),()=>{l(Gte({zIndex:t}))}):Ou,[l,t,a]);var u=Ee(f=>Ite(f,t,s));if(!a)return r;if(!u)return null;var d=document.getElementById(u);return d?Xs.createPortal(r,d):null}function Zb(){return Zb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zb.apply(null,arguments)}function PO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PO(Object(r),!0).forEach(function(n){Jte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jte(e,t,r){return(t=Qte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qte(e){var t=ere(e,"string");return typeof t=="symbol"?t:t+""}function ere(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tre(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return x.isValidElement(t)?x.cloneElement(t,n):x.createElement(r,n)}function rre(e){var t,{coordinate:r,payload:n,index:a,offset:s,tooltipAxisBandSize:l,layout:u,cursor:d,tooltipEventType:f,chartName:p}=e,g=r,v=n,y=a;if(!d||!g||p!=="ScatterChart"&&f!=="axis")return null;var _,k,S;if(p==="ScatterChart")_=g,k=AY,S=wr.cursorLine;else if(p==="BarChart")_=TY(u,g,s,l),k=oW,S=wr.cursorRectangle;else if(u==="radial"&&aP(g)){var{cx:j,cy:A,radius:E,startAngle:P,endAngle:O}=b4(g);_={cx:j,cy:A,startAngle:P,endAngle:O,innerRadius:E,outerRadius:E},k=wW,S=wr.cursorLine}else _={points:_W(u,g,s)},k=rh,S=wr.cursorLine;var T=typeof d=="object"&&"className"in d?d.className:void 0,C=Vf(Vf(Vf(Vf({stroke:"#ccc",pointerEvents:"none"},s),_),D0(d)),{},{payload:v,payloadIndex:y,className:ot("recharts-tooltip-cursor",T)});return x.createElement(pa,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:S},x.createElement(tre,{cursor:d,cursorComp:k,cursorProps:C}))}function nre(e){var t=Ste(),r=n4(),n=Mu(),a=N3();return t==null||r==null||n==null||a==null?null:x.createElement(rre,Zb({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var P3=x.createContext(null),are=()=>x.useContext(P3),py={exports:{}},DO;function ire(){return DO||(DO=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(d,f,p){this.fn=d,this.context=f,this.once=p||!1}function s(d,f,p,g,v){if(typeof p!="function")throw new TypeError("The listener must be a function");var y=new a(p,g||d,v),_=r?r+f:f;return d._events[_]?d._events[_].fn?d._events[_]=[d._events[_],y]:d._events[_].push(y):(d._events[_]=y,d._eventsCount++),d}function l(d,f){--d._eventsCount===0?d._events=new n:delete d._events[f]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],p,g;if(this._eventsCount===0)return f;for(g in p=this._events)t.call(p,g)&&f.push(r?g.slice(1):g);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(p)):f},u.prototype.listeners=function(f){var p=r?r+f:f,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var v=0,y=g.length,_=new Array(y);v<y;v++)_[v]=g[v].fn;return _},u.prototype.listenerCount=function(f){var p=r?r+f:f,g=this._events[p];return g?g.fn?1:g.length:0},u.prototype.emit=function(f,p,g,v,y,_){var k=r?r+f:f;if(!this._events[k])return!1;var S=this._events[k],j=arguments.length,A,E;if(S.fn){switch(S.once&&this.removeListener(f,S.fn,void 0,!0),j){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,p),!0;case 3:return S.fn.call(S.context,p,g),!0;case 4:return S.fn.call(S.context,p,g,v),!0;case 5:return S.fn.call(S.context,p,g,v,y),!0;case 6:return S.fn.call(S.context,p,g,v,y,_),!0}for(E=1,A=new Array(j-1);E<j;E++)A[E-1]=arguments[E];S.fn.apply(S.context,A)}else{var P=S.length,O;for(E=0;E<P;E++)switch(S[E].once&&this.removeListener(f,S[E].fn,void 0,!0),j){case 1:S[E].fn.call(S[E].context);break;case 2:S[E].fn.call(S[E].context,p);break;case 3:S[E].fn.call(S[E].context,p,g);break;case 4:S[E].fn.call(S[E].context,p,g,v);break;default:if(!A)for(O=1,A=new Array(j-1);O<j;O++)A[O-1]=arguments[O];S[E].fn.apply(S[E].context,A)}}return!0},u.prototype.on=function(f,p,g){return s(this,f,p,g,!1)},u.prototype.once=function(f,p,g){return s(this,f,p,g,!0)},u.prototype.removeListener=function(f,p,g,v){var y=r?r+f:f;if(!this._events[y])return this;if(!p)return l(this,y),this;var _=this._events[y];if(_.fn)_.fn===p&&(!v||_.once)&&(!g||_.context===g)&&l(this,y);else{for(var k=0,S=[],j=_.length;k<j;k++)(_[k].fn!==p||v&&!_[k].once||g&&_[k].context!==g)&&S.push(_[k]);S.length?this._events[y]=S.length===1?S[0]:S:l(this,y)}return this},u.prototype.removeAllListeners=function(f){var p;return f?(p=r?r+f:f,this._events[p]&&l(this,p)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u})(py)),py.exports}var sre=ire();const ore=ni(sre);var wu=new ore,Gb="recharts.syncEvent.tooltip",MO="recharts.syncEvent.brush";function lre(e,t){if(t){var r=Number.parseInt(t,10);if(!fn(r))return e?.[r]}}var cre={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},D3=Gr({name:"options",initialState:cre,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),ure=D3.reducer,{createEventEmitter:dre}=D3.actions;function fre(e){return e.tooltip.syncInteraction}var hre={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},M3=Gr({name:"chartData",initialState:hre,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:RO,setDataStartEndIndexes:mre,setComputedData:Sce}=M3.actions,pre=M3.reducer,gre=["x","y"];function $O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$O(Object(r),!0).forEach(function(n){vre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$O(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vre(e,t,r){return(t=yre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yre(e){var t=bre(e,"string");return typeof t=="symbol"?t:t+""}function bre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xre(e,t){if(e==null)return{};var r,n,a=wre(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function wre(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function _re(){var e=Ee(Ew),t=Ee(Nw),r=Bt(),n=Ee(vD),a=Ee(ui),s=Mu(),l=Du(),u=Ee(d=>d.rootProps.className);x.useEffect(()=>{if(e==null)return Ou;var d=(f,p,g)=>{if(t!==g&&e===f){if(n==="index"){var v;if(l&&p!==null&&p!==void 0&&(v=p.payload)!==null&&v!==void 0&&v.coordinate&&p.payload.sourceViewBox){var y=p.payload.coordinate,{x:_,y:k}=y,S=xre(y,gre),{x:j,y:A,width:E,height:P}=p.payload.sourceViewBox,O=Yo(Yo({},S),{},{x:l.x+(E?(_-j)/E:0)*l.width,y:l.y+(P?(k-A)/P:0)*l.height});r(Yo(Yo({},p),{},{payload:Yo(Yo({},p.payload),{},{coordinate:O})}))}else r(p);return}if(a!=null){var T;if(typeof n=="function"){var C={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},D=n(a,C);T=a[D]}else n==="value"&&(T=a.find(U=>String(U.value)===p.payload.label));var{coordinate:R}=p.payload;if(T==null||p.payload.active===!1||R==null||l==null){r(Vb({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:L,y:$}=R,q=Math.min(L,l.x+l.width),V=Math.min($,l.y+l.height),se={x:s==="horizontal"?T.coordinate:q,y:s==="horizontal"?V:T.coordinate},de=Vb({active:p.payload.active,coordinate:se,dataKey:p.payload.dataKey,index:String(T.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox,graphicalItemId:p.payload.graphicalItemId});r(de)}}};return wu.on(Gb,d),()=>{wu.off(Gb,d)}},[u,r,t,e,n,a,s,l])}function Sre(){var e=Ee(Ew),t=Ee(Nw),r=Bt();x.useEffect(()=>{if(e==null)return Ou;var n=(a,s,l)=>{t!==l&&e===a&&r(mre(s))};return wu.on(MO,n),()=>{wu.off(MO,n)}},[r,t,e])}function kre(){var e=Bt();x.useEffect(()=>{e(dre())},[e]),_re(),Sre()}function jre(e,t,r,n,a,s){var l=Ee(y=>Cte(y,e,t)),u=Ee(Nw),d=Ee(Ew),f=Ee(vD),p=Ee(fre),g=p?.active,v=Du();x.useEffect(()=>{if(!g&&d!=null&&u!=null){var y=Vb({active:s,coordinate:r,dataKey:l,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:v,graphicalItemId:void 0});wu.emit(Gb,d,y,u)}},[g,r,l,a,n,u,d,f,s,v])}function LO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function IO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LO(Object(r),!0).forEach(function(n){Ere(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ere(e,t,r){return(t=Nre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nre(e){var t=Ore(e,"string");return typeof t=="symbol"?t:t+""}function Ore(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Are(e){return e.dataKey}function Tre(e,t){return x.isValidElement(e)?x.cloneElement(e,t):typeof e=="function"?x.createElement(e,t):x.createElement(lY,t)}var zO=[],Cre={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Pre(e){var t,r,n=Zr(e,Cre),{active:a,allowEscapeViewBox:s,animationDuration:l,animationEasing:u,content:d,filterNull:f,isAnimationActive:p,offset:g,payloadUniqBy:v,position:y,reverseDirection:_,useTranslate3d:k,wrapperStyle:S,cursor:j,shared:A,trigger:E,defaultIndex:P,portal:O,axisId:T}=n,C=Bt(),D=typeof P=="number"?String(P):P;x.useEffect(()=>{C(Nee({shared:A,trigger:E,axisId:T,active:a,defaultIndex:D}))},[C,A,E,T,a,D]);var R=Du(),L=h4(),$=wee(A),{activeIndex:q,isActive:V}=(t=Ee(ee=>Mte(ee,$,E,D)))!==null&&t!==void 0?t:{},se=Ee(ee=>Dte(ee,$,E,D)),de=Ee(ee=>T3(ee,$,E,D)),U=Ee(ee=>Pte(ee,$,E,D)),H=se,Y=are(),fe=(r=a??V)!==null&&r!==void 0?r:!1,[pe,I]=KK([H,fe]),W=$==="axis"?de:void 0;jre($,E,U,W,q,fe);var Q=O??Y;if(Q==null||R==null||$==null)return null;var K=H??zO;fe||(K=zO),f&&K.length&&(K=yK(K.filter(ee=>ee.value!=null&&(ee.hide!==!0||n.includeHidden)),v,Are));var ae=K.length>0,re=x.createElement(pY,{allowEscapeViewBox:s,animationDuration:l,animationEasing:u,isAnimationActive:p,active:fe,coordinate:U,hasPayload:ae,offset:g,position:y,reverseDirection:_,useTranslate3d:k,viewBox:R,wrapperStyle:S,lastBoundingBox:pe,innerRef:I,hasPortalFromProps:!!O},Tre(d,IO(IO({},n),{},{payload:K,label:W,active:fe,activeIndex:q,coordinate:U,accessibilityLayer:L})));return x.createElement(x.Fragment,null,Xs.createPortal(re,Q),fe&&x.createElement(nre,{cursor:j,tooltipEventType:$,coordinate:U,payload:K,index:q}))}function Dre(e,t,r){return(t=Mre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mre(e){var t=Rre(e,"string");return typeof t=="symbol"?t:t+""}function Rre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class $re{constructor(t){Dre(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function UO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lre(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UO(Object(r),!0).forEach(function(n){Ire(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ire(e,t,r){return(t=zre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zre(e){var t=Ure(e,"string");return typeof t=="symbol"?t:t+""}function Ure(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bre={cacheSize:2e3,enableCache:!0},R3=Lre({},Bre),BO=new $re(R3.cacheSize),qre={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},qO="recharts_measurement_span";function Hre(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",s=t.fontStyle||"",l=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(s,"|").concat(l,"|").concat(u)}var HO=(e,t)=>{try{var r=document.getElementById(qO);r||(r=document.createElement("span"),r.setAttribute("id",qO),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,qre,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Jc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||El.isSsr)return{width:0,height:0};if(!R3.enableCache)return HO(t,r);var n=Hre(t,r),a=BO.get(n);if(a)return a;var s=HO(t,r);return BO.set(n,s),s},FO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,VO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Fre=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Vre=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,$3={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Kre=Object.keys($3),tl="NaN";function Zre(e,t){return e*$3[t]}class qr{static parse(t){var r,[,n,a]=(r=Vre.exec(t))!==null&&r!==void 0?r:[];return new qr(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,fn(t)&&(this.unit=""),r!==""&&!Fre.test(r)&&(this.num=NaN,this.unit=""),Kre.includes(r)&&(this.num=Zre(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new qr(NaN,""):new qr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new qr(NaN,""):new qr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new qr(NaN,""):new qr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new qr(NaN,""):new qr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return fn(this.num)}}function L3(e){if(e.includes(tl))return tl;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,s]=(r=FO.exec(t))!==null&&r!==void 0?r:[],l=qr.parse(n??""),u=qr.parse(s??""),d=a==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return tl;t=t.replace(FO,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,p,g,v]=(f=VO.exec(t))!==null&&f!==void 0?f:[],y=qr.parse(p??""),_=qr.parse(v??""),k=g==="+"?y.add(_):y.subtract(_);if(k.isNaN())return tl;t=t.replace(VO,k.toString())}return t}var KO=/\(([^()]*)\)/;function Gre(e){for(var t=e,r;(r=KO.exec(t))!=null;){var[,n]=r;t=t.replace(KO,L3(n))}return t}function Yre(e){var t=e.replace(/\s+/g,"");return t=Gre(t),t=L3(t),t}function Wre(e){try{return Yre(e)}catch{return tl}}function gy(e){var t=Wre(e.slice(5,-1));return t===tl?"":t}var Xre=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Jre=["dx","dy","angle","className","breakAll"];function Yb(){return Yb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yb.apply(null,arguments)}function ZO(e,t){if(e==null)return{};var r,n,a=Qre(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Qre(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var I3=/[ \f\n\r\t\v\u2028\u2029]+/,z3=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];ur(t)||(r?a=t.toString().split(""):a=t.toString().split(I3));var s=a.map(u=>({word:u,width:Jc(u,n).width})),l=r?0:Jc("",n).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}};function ene(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var U3=(e,t,r,n)=>e.reduce((a,s)=>{var{word:l,width:u}=s,d=a[a.length-1];if(d&&u!=null&&(t==null||n||d.width+u+r<Number(t)))d.words.push(l),d.width+=u+r;else{var f={words:[l],width:u};a.push(f)}return a},[]),B3=e=>e.reduce((t,r)=>t.width>r.width?t:r),tne="",GO=(e,t,r,n,a,s,l,u)=>{var d=e.slice(0,t),f=z3({breakAll:r,style:n,children:d+tne});if(!f)return[!1,[]];var p=U3(f.wordsWithComputedWidth,s,l,u),g=p.length>a||B3(p).width>Number(s);return[g,p]},rne=(e,t,r,n,a)=>{var{maxLines:s,children:l,style:u,breakAll:d}=e,f=Ne(s),p=String(l),g=U3(t,n,r,a);if(!f||a)return g;var v=g.length>s||B3(g).width>Number(n);if(!v)return g;for(var y=0,_=p.length-1,k=0,S;y<=_&&k<=p.length-1;){var j=Math.floor((y+_)/2),A=j-1,[E,P]=GO(p,A,d,u,s,n,r,a),[O]=GO(p,j,d,u,s,n,r,a);if(!E&&!O&&(y=j+1),E&&O&&(_=j-1),!E&&O){S=P;break}k++}return S||g},YO=e=>{var t=ur(e)?[]:e.toString().split(I3);return[{words:t,width:void 0}]},nne=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:s,maxLines:l}=e;if((t||r)&&!El.isSsr){var u,d,f=z3({breakAll:s,children:n,style:a});if(f){var{wordsWithComputedWidth:p,spaceWidth:g}=f;u=p,d=g}else return YO(n);return rne({breakAll:s,children:n,maxLines:l,style:a},u,d,t,!!r)}return YO(n)},q3="#808080",ane={angle:0,breakAll:!1,capHeight:"0.71em",fill:q3,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Jw=x.forwardRef((e,t)=>{var r=Zr(e,ane),{x:n,y:a,lineHeight:s,capHeight:l,fill:u,scaleToFit:d,textAnchor:f,verticalAnchor:p}=r,g=ZO(r,Xre),v=x.useMemo(()=>nne({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:d,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,d,g.style,g.width]),{dx:y,dy:_,angle:k,className:S,breakAll:j}=g,A=ZO(g,Jre);if(!Pn(n)||!Pn(a)||v.length===0)return null;var E=Number(n)+(Ne(y)?y:0),P=Number(a)+(Ne(_)?_:0);if(!st(E)||!st(P))return null;var O;switch(p){case"start":O=gy("calc(".concat(l,")"));break;case"middle":O=gy("calc(".concat((v.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:O=gy("calc(".concat(v.length-1," * -").concat(s,")"));break}var T=[];if(d){var C=v[0].width,{width:D}=g;T.push("scale(".concat(Ne(D)&&Ne(C)?D/C:1,")"))}return k&&T.push("rotate(".concat(k,", ").concat(E,", ").concat(P,")")),T.length&&(A.transform=T.join(" ")),x.createElement("text",Yb({},dn(A),{ref:t,x:E,y:P,className:ot("recharts-text",S),textAnchor:f,fill:u.includes("url")?q3:u}),v.map((R,L)=>{var $=R.words.join(j?"":" ");return x.createElement("tspan",{x:E,dy:L===0?O:s,key:"".concat($,"-").concat(L)},$)}))});Jw.displayName="Text";var ine=["labelRef"];function sne(e,t){if(e==null)return{};var r,n,a=one(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function one(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function WO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Et(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WO(Object(r),!0).forEach(function(n){lne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lne(e,t,r){return(t=cne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cne(e){var t=une(e,"string");return typeof t=="symbol"?t:t+""}function une(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ba(){return Ba=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ba.apply(null,arguments)}var H3=x.createContext(null),F3=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:l,children:u}=e,d=x.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:l}),[t,r,n,a,s,l]);return x.createElement(H3.Provider,{value:d},u)},V3=()=>{var e=x.useContext(H3),t=Du();return e||r4(t)},dne=x.createContext(null),fne=()=>{var e=x.useContext(dne),t=Ee(_D);return e||t},hne=e=>{var{value:t,formatter:r}=e,n=ur(e.children)?t:e.children;return typeof r=="function"?r(n):n},Qw=e=>e!=null&&typeof e=="function",mne=(e,t)=>{var r=An(t-e),n=Math.min(Math.abs(t-e),360);return r*n},pne=(e,t,r,n,a)=>{var{offset:s,className:l}=e,{cx:u,cy:d,innerRadius:f,outerRadius:p,startAngle:g,endAngle:v,clockWise:y}=a,_=(f+p)/2,k=mne(g,v),S=k>=0?1:-1,j,A;switch(t){case"insideStart":j=g+S*s,A=y;break;case"insideEnd":j=v-S*s,A=!y;break;case"end":j=v+S*s,A=y;break;default:throw new Error("Unsupported position ".concat(t))}A=k<=0?A:!A;var E=cr(u,d,_,j),P=cr(u,d,_,j+(A?1:-1)*359),O="M".concat(E.x,",").concat(E.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(A?0:1,`,
    `).concat(P.x,",").concat(P.y),T=ur(e.id)?ou("recharts-radial-line-"):e.id;return x.createElement("text",Ba({},n,{dominantBaseline:"central",className:ot("recharts-radial-bar-label",l)}),x.createElement("defs",null,x.createElement("path",{id:T,d:O})),x.createElement("textPath",{xlinkHref:"#".concat(T)},r))},gne=(e,t,r)=>{var{cx:n,cy:a,innerRadius:s,outerRadius:l,startAngle:u,endAngle:d}=e,f=(u+d)/2;if(r==="outside"){var{x:p,y:g}=cr(n,a,l+t,f);return{x:p,y:g,textAnchor:p>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var v=(s+l)/2,{x:y,y:_}=cr(n,a,v,f);return{x:y,y:_,textAnchor:"middle",verticalAnchor:"middle"}},Wb=e=>"cx"in e&&Ne(e.cx),vne=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,s;r!=null&&!Wb(r)&&(s=r);var{x:l,y:u,upperWidth:d,lowerWidth:f,height:p}=t,g=l,v=l+(d-f)/2,y=(g+v)/2,_=(d+f)/2,k=g+d/2,S=p>=0?1:-1,j=S*n,A=S>0?"end":"start",E=S>0?"start":"end",P=d>=0?1:-1,O=P*n,T=P>0?"end":"start",C=P>0?"start":"end";if(a==="top"){var D={x:g+d/2,y:u-j,textAnchor:"middle",verticalAnchor:A};return Et(Et({},D),s?{height:Math.max(u-s.y,0),width:d}:{})}if(a==="bottom"){var R={x:v+f/2,y:u+p+j,textAnchor:"middle",verticalAnchor:E};return Et(Et({},R),s?{height:Math.max(s.y+s.height-(u+p),0),width:f}:{})}if(a==="left"){var L={x:y-O,y:u+p/2,textAnchor:T,verticalAnchor:"middle"};return Et(Et({},L),s?{width:Math.max(L.x-s.x,0),height:p}:{})}if(a==="right"){var $={x:y+_+O,y:u+p/2,textAnchor:C,verticalAnchor:"middle"};return Et(Et({},$),s?{width:Math.max(s.x+s.width-$.x,0),height:p}:{})}var q=s?{width:_,height:p}:{};return a==="insideLeft"?Et({x:y+O,y:u+p/2,textAnchor:C,verticalAnchor:"middle"},q):a==="insideRight"?Et({x:y+_-O,y:u+p/2,textAnchor:T,verticalAnchor:"middle"},q):a==="insideTop"?Et({x:g+d/2,y:u+j,textAnchor:"middle",verticalAnchor:E},q):a==="insideBottom"?Et({x:v+f/2,y:u+p-j,textAnchor:"middle",verticalAnchor:A},q):a==="insideTopLeft"?Et({x:g+O,y:u+j,textAnchor:C,verticalAnchor:E},q):a==="insideTopRight"?Et({x:g+d-O,y:u+j,textAnchor:T,verticalAnchor:E},q):a==="insideBottomLeft"?Et({x:v+O,y:u+p-j,textAnchor:C,verticalAnchor:A},q):a==="insideBottomRight"?Et({x:v+f-O,y:u+p-j,textAnchor:T,verticalAnchor:A},q):a&&typeof a=="object"&&(Ne(a.x)||Xa(a.x))&&(Ne(a.y)||Xa(a.y))?Et({x:l+Zi(a.x,_),y:u+Zi(a.y,p),textAnchor:"end",verticalAnchor:"end"},q):Et({x:k,y:u+p/2,textAnchor:"middle",verticalAnchor:"middle"},q)},yne={angle:0,offset:5,zIndex:wr.label,position:"middle",textBreakAll:!1};function Ii(e){var t=Zr(e,yne),{viewBox:r,position:n,value:a,children:s,content:l,className:u="",textBreakAll:d,labelRef:f}=t,p=fne(),g=V3(),v=n==="center"?g:p??g,y,_,k;if(r==null?y=v:Wb(r)?y=r:y=r4(r),!y||ur(a)&&ur(s)&&!x.isValidElement(l)&&typeof l!="function")return null;var S=Et(Et({},t),{},{viewBox:y});if(x.isValidElement(l)){var{labelRef:j}=S,A=sne(S,ine);return x.cloneElement(l,A)}if(typeof l=="function"){if(_=x.createElement(l,S),x.isValidElement(_))return _}else _=hne(t);var E=dn(t);if(Wb(y)){if(n==="insideStart"||n==="insideEnd"||n==="end")return pne(t,n,_,E,y);k=gne(y,t.offset,t.position)}else k=vne(t,y);return x.createElement(pa,{zIndex:t.zIndex},x.createElement(Jw,Ba({ref:f,className:ot("recharts-label",u)},E,k,{textAnchor:ene(E.textAnchor)?E.textAnchor:k.textAnchor,breakAll:d}),_))}Ii.displayName="Label";var bne=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?x.createElement(Ii,Ba({key:"label-implicit"},n)):Pn(e)?x.createElement(Ii,Ba({key:"label-implicit",value:e},n)):x.isValidElement(e)?e.type===Ii?x.cloneElement(e,Et({key:"label-implicit"},n)):x.createElement(Ii,Ba({key:"label-implicit",content:e},n)):Qw(e)?x.createElement(Ii,Ba({key:"label-implicit",content:e},n)):e&&typeof e=="object"?x.createElement(Ii,Ba({},e,{key:"label-implicit"},n)):null};function K3(e){var{label:t,labelRef:r}=e,n=V3();return bne(t,n,r)||null}var vy={},yy={},XO;function xne(){return XO||(XO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(yy)),yy}var by={},JO;function wne(){return JO||(JO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(by)),by}var QO;function _ne(){return QO||(QO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xne(),r=wne(),n=Ux();function a(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=a})(vy)),vy}var xy,e5;function Sne(){return e5||(e5=1,xy=_ne().last),xy}var kne=Sne();const jne=ni(kne);var Ene=["valueAccessor"],Nne=["dataKey","clockWise","id","textBreakAll","zIndex"];function a0(){return a0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a0.apply(null,arguments)}function t5(e,t){if(e==null)return{};var r,n,a=One(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function One(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ane=e=>Array.isArray(e.value)?jne(e.value):e.value,Z3=x.createContext(void 0),Tne=Z3.Provider,G3=x.createContext(void 0);G3.Provider;function Cne(){return x.useContext(Z3)}function Pne(){return x.useContext(G3)}function ah(e){var{valueAccessor:t=Ane}=e,r=t5(e,Ene),{dataKey:n,clockWise:a,id:s,textBreakAll:l,zIndex:u}=r,d=t5(r,Nne),f=Cne(),p=Pne(),g=f||p;return!g||!g.length?null:x.createElement(pa,{zIndex:u??wr.label},x.createElement(Xn,{className:"recharts-label-list"},g.map((v,y)=>{var _,k=ur(n)?t(v,y):_r(v&&v.payload,n),S=ur(s)?{}:{id:"".concat(s,"-").concat(y)};return x.createElement(Ii,a0({key:"label-".concat(y)},dn(v),d,S,{fill:(_=r.fill)!==null&&_!==void 0?_:v.fill,parentViewBox:v.parentViewBox,value:k,textBreakAll:l,viewBox:v.viewBox,index:y,zIndex:0}))})))}ah.displayName="LabelList";function Dne(e){var{label:t}=e;return t?t===!0?x.createElement(ah,{key:"labelList-implicit"}):x.isValidElement(t)||Qw(t)?x.createElement(ah,{key:"labelList-implicit",content:t}):typeof t=="object"?x.createElement(ah,a0({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Xb(){return Xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xb.apply(null,arguments)}var Y3=e=>{var{cx:t,cy:r,r:n,className:a}=e,s=ot("recharts-dot",a);return Ne(t)&&Ne(r)&&Ne(n)?x.createElement("circle",Xb({},Wn(e),zx(e),{className:s,cx:t,cy:r,r:n})):null},Mne={radiusAxis:{},angleAxis:{}},W3=Gr({name:"polarAxis",initialState:Mne,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:kce,removeRadiusAxis:jce,addAngleAxis:Ece,removeAngleAxis:Nce}=W3.actions,Rne=W3.reducer,X3=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0;function $ne(e){var{tooltipEntrySettings:t}=e,r=Bt(),n=Pr(),a=x.useRef(null);return x.useLayoutEffect(()=>{n||(a.current===null?r(kee(t)):a.current!==t&&r(jee({prev:a.current,next:t})),a.current=t)},[t,r,n]),x.useLayoutEffect(()=>()=>{a.current&&(r(Eee(a.current)),a.current=null)},[r]),null}function Lne(e){var{legendPayload:t}=e,r=Bt(),n=Pr(),a=x.useRef(null);return x.useLayoutEffect(()=>{n||(a.current===null?r(eY(t)):a.current!==t&&r(tY({prev:a.current,next:t})),a.current=t)},[r,n,t]),x.useLayoutEffect(()=>()=>{a.current&&(r(rY(a.current)),a.current=null)},[r]),null}var wy,Ine=()=>{var[e]=x.useState(()=>ou("uid-"));return e},zne=(wy=Ey.useId)!==null&&wy!==void 0?wy:Ine;function J3(e,t){var r=zne();return t||(e?"".concat(e,"-").concat(r):r)}var Une=x.createContext(void 0),Bne=e=>{var{id:t,type:r,children:n}=e,a=J3("recharts-".concat(r),t);return x.createElement(Une.Provider,{value:a},n(a))},qne={cartesianItems:[],polarItems:[]},Q3=Gr({name:"graphicalItems",initialState:qne,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:mt()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Yn(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:mt()},removeCartesianGraphicalItem:{reducer(e,t){var r=Yn(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:mt()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:mt()},removePolarGraphicalItem:{reducer(e,t){var r=Yn(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:mt()}}}),{addCartesianGraphicalItem:Hne,replaceCartesianGraphicalItem:Fne,removeCartesianGraphicalItem:Vne,addPolarGraphicalItem:Oce,removePolarGraphicalItem:Ace}=Q3.actions,Kne=Q3.reducer,Zne=e=>{var t=Bt(),r=x.useRef(null);return x.useLayoutEffect(()=>{r.current===null?t(Hne(e)):r.current!==e&&t(Fne({prev:r.current,next:e})),r.current=e},[t,e]),x.useLayoutEffect(()=>()=>{r.current&&(t(Vne(r.current)),r.current=null)},[t]),null},Gne=x.memo(Zne),Yne=["points"];function r5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _y(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r5(Object(r),!0).forEach(function(n){Wne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wne(e,t,r){return(t=Xne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xne(e){var t=Jne(e,"string");return typeof t=="symbol"?t:t+""}function Jne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function i0(){return i0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i0.apply(null,arguments)}function Qne(e,t){if(e==null)return{};var r,n,a=eae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function eae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function tae(e){var{option:t,dotProps:r,className:n}=e;if(x.isValidElement(t))return x.cloneElement(t,r);if(typeof t=="function")return t(r);var a=ot(n,typeof t!="boolean"?t.className:""),s=r??{},{points:l}=s,u=Qne(s,Yne);return x.createElement(Y3,i0({},u,{className:a}))}function rae(e,t){return e==null?!1:t?!0:e.length===1}function nae(e){var{points:t,dot:r,className:n,dotClassName:a,dataKey:s,baseProps:l,needClip:u,clipPathId:d,zIndex:f=wr.scatter}=e;if(!rae(t,r))return null;var p=X3(r),g=fV(r),v=t.map((_,k)=>{var S,j,A=_y(_y(_y({r:3},l),g),{},{index:k,cx:(S=_.x)!==null&&S!==void 0?S:void 0,cy:(j=_.y)!==null&&j!==void 0?j:void 0,dataKey:s,value:_.value,payload:_.payload,points:t});return x.createElement(tae,{key:"dot-".concat(k),option:r,dotProps:A,className:a})}),y={};return u&&d!=null&&(y.clipPath="url(#clipPath-".concat(p?"":"dots-").concat(d,")")),x.createElement(pa,{zIndex:f},x.createElement(Xn,i0({className:n},y),v))}function n5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function a5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n5(Object(r),!0).forEach(function(n){aae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aae(e,t,r){return(t=iae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iae(e){var t=sae(e,"string");return typeof t=="symbol"?t:t+""}function sae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oae={xAxis:{},yAxis:{},zAxis:{}},eM=Gr({name:"cartesianAxis",initialState:oae,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:mt()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:mt()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:mt()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:mt()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:mt()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:mt()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:mt()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:mt()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:mt()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var s=a.widthHistory||[];if(s.length===3&&s[0]===s[2]&&n===s[1]&&n!==a.width&&Math.abs(n-s[0])<=1)return;var l=[...s,n].slice(-3);e.yAxis[r]=a5(a5({},e.yAxis[r]),{},{width:n,widthHistory:l})}}}}),{addXAxis:lae,replaceXAxis:cae,removeXAxis:uae,addYAxis:dae,replaceYAxis:fae,removeYAxis:hae,addZAxis:Tce,replaceZAxis:Cce,removeZAxis:Pce,updateYAxisWidth:mae}=eM.actions,pae=eM.reducer,gae=ne([hr],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),vae=ne([gae,oi,li],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),e1=()=>Ee(vae),yae=()=>Ee(yte);function i5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i5(Object(r),!0).forEach(function(n){bae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bae(e,t,r){return(t=xae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xae(e){var t=wae(e,"string");return typeof t=="symbol"?t:t+""}function wae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _ae=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:s,clipPath:l}=e;if(a===!1||t.x==null||t.y==null)return null;var u={index:r,dataKey:s,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},d=Sy(Sy(Sy({},u),D0(a)),zx(a)),f;return x.isValidElement(a)?f=x.cloneElement(a,d):typeof a=="function"?f=a(d):f=x.createElement(Y3,d),x.createElement(Xn,{className:"recharts-active-dot",clipPath:l},f)};function s5(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a,clipPath:s,zIndex:l=wr.activeDot}=e,u=Ee(xu),d=yae();if(t==null||d==null)return null;var f=t.find(p=>d.includes(p.payload));return ur(f)?null:x.createElement(pa,{zIndex:l},x.createElement(_ae,{point:f,childIndex:Number(u),mainColor:r,dataKey:a,activeDot:n,clipPath:s}))}var Sae={},tM=Gr({name:"errorBars",initialState:Sae,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?a:s))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:Dce,replaceErrorBar:Mce,removeErrorBar:Rce}=tM.actions,kae=tM.reducer;function rM(e,t){var r,n,a=Ee(f=>ha(f,e)),s=Ee(f=>ma(f,t)),l=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:Yt.allowDataOverflow,u=(n=s?.allowDataOverflow)!==null&&n!==void 0?n:Wt.allowDataOverflow,d=l||u;return{needClip:d,needClipX:l,needClipY:u}}function jae(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=e1(),{needClipX:s,needClipY:l,needClip:u}=rM(t,r);if(!u||!a)return null;var{x:d,y:f,width:p,height:g}=a;return x.createElement("clipPath",{id:"clipPath-".concat(n)},x.createElement("rect",{x:s?d:d-p/2,y:l?f:f-g/2,width:s?p:p*2,height:l?g:g*2}))}function Eae(e){e()}function Nae(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Eae(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var o5={notify(){},get:()=>[]};function Oae(e,t){let r,n=o5,a=0,s=!1;function l(k){p();const S=n.subscribe(k);let j=!1;return()=>{j||(j=!0,S(),g())}}function u(){n.notify()}function d(){_.onStateChange&&_.onStateChange()}function f(){return s}function p(){a++,r||(r=e.subscribe(d),n=Nae())}function g(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=o5)}function v(){s||(s=!0,p())}function y(){s&&(s=!1,g())}const _={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:d,isSubscribed:f,trySubscribe:v,tryUnsubscribe:y,getListeners:()=>n};return _}var Aae=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Tae=Aae(),Cae=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Pae=Cae(),Dae=()=>Tae||Pae?x.useLayoutEffect:x.useEffect,Mae=Dae();function l5(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Rae(e,t){if(l5(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!l5(e[r[a]],t[r[a]]))return!1;return!0}var $ae=Symbol.for("react-redux-context"),Lae=typeof globalThis<"u"?globalThis:{};function Iae(){if(!x.createContext)return{};const e=Lae[$ae]??=new Map;let t=e.get(x.createContext);return t||(t=x.createContext(null),e.set(x.createContext,t)),t}var zae=Iae();function Uae(e){const{children:t,context:r,serverState:n,store:a}=e,s=x.useMemo(()=>{const d=Oae(a);return{store:a,subscription:d,getServerState:n?()=>n:void 0}},[a,n]),l=x.useMemo(()=>a.getState(),[a]);Mae(()=>{const{subscription:d}=s;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==a.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[s,l]);const u=r||zae;return x.createElement(u.Provider,{value:s},t)}var Bae=Uae,qae=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function Hae(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function t1(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(qae.has(n)){if(e[n]==null&&t[n]==null)continue;if(!Rae(e[n],t[n]))return!1}else if(!Hae(e[n],t[n]))return!1;return!0}var Fae=e=>{var{chartData:t}=e,r=Bt(),n=Pr();return x.useEffect(()=>n?()=>{}:(r(RO(t)),()=>{r(RO(void 0))}),[t,r,n]),null},c5={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},nM=Gr({name:"brush",initialState:c5,reducers:{setBrushSettings(e,t){return t.payload==null?c5:t.payload}}}),{setBrushSettings:$ce}=nM.actions,Vae=nM.reducer;function u5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u5(Object(r),!0).forEach(function(n){aM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aM(e,t,r){return(t=Kae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kae(e){var t=Zae(e,"string");return typeof t=="symbol"?t:t+""}function Zae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gae=(e,t)=>{var{x:r,y:n}=e,{x:a,y:s}=t;return{x:Math.min(r,a),y:Math.min(n,s),width:Math.abs(a-r),height:Math.abs(s-n)}},Yae=e=>{var{x1:t,y1:r,x2:n,y2:a}=e;return Gae({x:t,y:r},{x:n,y:a})};class pm{static create(t){return new pm(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(r){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}aM(pm,"EPS",1e-4);var Wae=e=>{var t=Object.keys(e).reduce((r,n)=>Kf(Kf({},r),{},{[n]:pm.create(e[n])}),{});return Kf(Kf({},t),{},{apply(r){var{bandAware:n,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(r).map(s=>{var[l,u]=s;return[l,t[l].apply(u,{bandAware:n,position:a})]}))},isInRange(r){return Object.keys(r).every(n=>t[n].isInRange(r[n]))}})};function Xae(e){return(e%180+180)%180}var Jae=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Xae(a),l=s*Math.PI/180,u=Math.atan(n/r),d=l>u&&l<Math.PI-u?n/Math.sin(l):r/Math.cos(l);return Math.abs(d)},Qae={dots:[],areas:[],lines:[]},iM=Gr({name:"referenceElements",initialState:Qae,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Yn(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Yn(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Yn(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:Lce,removeDot:Ice,addArea:zce,removeArea:Uce,addLine:eie,removeLine:tie}=iM.actions,rie=iM.reducer,sM=x.createContext(void 0),nie=e=>{var{children:t}=e,[r]=x.useState("".concat(ou("recharts"),"-clip")),n=e1();if(n==null)return null;var{x:a,y:s,width:l,height:u}=n;return x.createElement(sM.Provider,{value:r},x.createElement("defs",null,x.createElement("clipPath",{id:r},x.createElement("rect",{x:a,y:s,height:u,width:l}))),t)},aie=()=>x.useContext(sM);function d5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function f5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d5(Object(r),!0).forEach(function(n){iie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iie(e,t,r){return(t=sie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sie(e){var t=oie(e,"string");return typeof t=="symbol"?t:t+""}function oie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function s0(){return s0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s0.apply(null,arguments)}var lie=(e,t)=>{var r;if(x.isValidElement(e))r=x.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{if(!st(t.x1)||!st(t.y1)||!st(t.x2)||!st(t.y2))return null;r=x.createElement("line",s0({},t,{className:"recharts-reference-line-line"}))}return r},cie=(e,t,r,n,a,s)=>{var{x:l,width:u}=s,d=a.y.apply(e,{position:r});if(fn(d)||t==="discard"&&!a.y.isInRange(d))return null;var f=[{x:l+u,y:d},{x:l,y:d}];return n==="left"?f.reverse():f},uie=(e,t,r,n,a,s)=>{var{y:l,height:u}=s,d=a.x.apply(e,{position:r});if(fn(d)||t==="discard"&&!a.x.isInRange(d))return null;var f=[{x:d,y:l+u},{x:d,y:l}];return n==="top"?f.reverse():f},die=(e,t,r,n)=>{var a=e.map(s=>n.apply(s,{position:r}));return t==="discard"&&a.some(s=>!n.isInRange(s))?null:a},fie=(e,t,r,n,a,s)=>{var{x:l,y:u,segment:d,ifOverflow:f}=s,p=Pn(l),g=Pn(u);return g?cie(u,f,r,a,e,t):p?uie(l,f,r,n,e,t):d!=null&&d.length===2?die(d,f,r,e):null};function hie(e){var t=Bt();return x.useEffect(()=>(t(eie(e)),()=>{t(tie(e))})),null}function mie(e){var{xAxisId:t,yAxisId:r,shape:n,className:a,ifOverflow:s}=e,l=Pr(),u=aie(),d=Ee(T=>ha(T,t)),f=Ee(T=>ma(T,r)),p=Ee(T=>Yi(T,"xAxis",t,l)),g=Ee(T=>Yi(T,"yAxis",r,l)),v=Du();if(!u||!v||d==null||f==null||p==null||g==null)return null;var y=Wae({x:p,y:g}),_=fie(y,v,e.position,d.orientation,f.orientation,e);if(!_)return null;var[{x:k,y:S},{x:j,y:A}]=_,E=s==="hidden"?"url(#".concat(u,")"):void 0,P=f5(f5({clipPath:E},dn(e)),{},{x1:k,y1:S,x2:j,y2:A}),O=Yae({x1:k,y1:S,x2:j,y2:A});return x.createElement(pa,{zIndex:e.zIndex},x.createElement(Xn,{className:ot("recharts-reference-line",a)},lie(n,P),x.createElement(F3,s0({},O,{lowerWidth:O.width,upperWidth:O.width}),x.createElement(K3,{label:e.label}),e.children)))}var pie={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:wr.line};function oM(e){var t=Zr(e,pie);return x.createElement(x.Fragment,null,x.createElement(hie,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y,segment:t.segment}),x.createElement(mie,t))}oM.displayName="ReferenceLine";function lM(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r}function gie(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Jae(n,r)}function vie(e,t,r){var n=r==="width",{x:a,y:s,width:l,height:u}=e;return t===1?{start:n?a:s,end:n?a+l:s+u}:{start:n?a+l:s+u,end:n?a:s}}function o0(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function yie(e,t){return lM(e,t+1)}function bie(e,t,r,n,a){for(var s=(n||[]).slice(),{start:l,end:u}=t,d=0,f=1,p=l,g=function(){var _=n?.[d];if(_===void 0)return{v:lM(n,f)};var k=d,S,j=()=>(S===void 0&&(S=r(_,k)),S),A=_.coordinate,E=d===0||o0(e,A,j,p,u);E||(d=0,p=l,f+=1),E&&(p=A+e*(j()/2+a),d+=f)},v;f<=s.length;)if(v=g(),v)return v.v;return[]}function h5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function br(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h5(Object(r),!0).forEach(function(n){xie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xie(e,t,r){return(t=wie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wie(e){var t=_ie(e,"string");return typeof t=="symbol"?t:t+""}function _ie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sie(e,t,r,n,a){for(var s=(n||[]).slice(),l=s.length,{start:u}=t,{end:d}=t,f=function(v){var y=s[v],_,k=()=>(_===void 0&&(_=r(y,v)),_);if(v===l-1){var S=e*(y.coordinate+e*k()/2-d);s[v]=y=br(br({},y),{},{tickCoord:S>0?y.coordinate-S*e:y.coordinate})}else s[v]=y=br(br({},y),{},{tickCoord:y.coordinate});if(y.tickCoord!=null){var j=o0(e,y.tickCoord,k,u,d);j&&(d=y.tickCoord-e*(k()/2+a),s[v]=br(br({},y),{},{isShow:!0}))}},p=l-1;p>=0;p--)f(p);return s}function kie(e,t,r,n,a,s){var l=(n||[]).slice(),u=l.length,{start:d,end:f}=t;if(s){var p=n[u-1],g=r(p,u-1),v=e*(p.coordinate+e*g/2-f);if(l[u-1]=p=br(br({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate}),p.tickCoord!=null){var y=o0(e,p.tickCoord,()=>g,d,f);y&&(f=p.tickCoord-e*(g/2+a),l[u-1]=br(br({},p),{},{isShow:!0}))}}for(var _=s?u-1:u,k=function(A){var E=l[A],P,O=()=>(P===void 0&&(P=r(E,A)),P);if(A===0){var T=e*(E.coordinate-e*O()/2-d);l[A]=E=br(br({},E),{},{tickCoord:T<0?E.coordinate-T*e:E.coordinate})}else l[A]=E=br(br({},E),{},{tickCoord:E.coordinate});if(E.tickCoord!=null){var C=o0(e,E.tickCoord,O,d,f);C&&(d=E.tickCoord+e*(O()/2+a),l[A]=br(br({},E),{},{isShow:!0}))}},S=0;S<_;S++)k(S);return l}function r1(e,t,r){var{tick:n,ticks:a,viewBox:s,minTickGap:l,orientation:u,interval:d,tickFormatter:f,unit:p,angle:g}=e;if(!a||!a.length||!n)return[];if(Ne(d)||El.isSsr){var v;return(v=yie(a,Ne(d)?d:0))!==null&&v!==void 0?v:[]}var y=[],_=u==="top"||u==="bottom"?"width":"height",k=p&&_==="width"?Jc(p,{fontSize:t,letterSpacing:r}):{width:0,height:0},S=(E,P)=>{var O=typeof f=="function"?f(E.value,P):E.value;return _==="width"?gie(Jc(O,{fontSize:t,letterSpacing:r}),k,g):Jc(O,{fontSize:t,letterSpacing:r})[_]},j=a.length>=2?An(a[1].coordinate-a[0].coordinate):1,A=vie(s,j,_);return d==="equidistantPreserveStart"?bie(j,A,S,a,l):(d==="preserveStart"||d==="preserveStartEnd"?y=kie(j,A,S,a,l,d==="preserveStartEnd"):y=Sie(j,A,S,a,l),y.filter(E=>E.isShow))}var jie=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:s=0}=e,l=0;if(t){Array.from(t).forEach(p=>{if(p){var g=p.getBoundingClientRect();g.width>l&&(l=g.width)}});var u=r?r.getBoundingClientRect().width:0,d=a+s,f=l+d+u+(r?n:0);return Math.round(f)}return 0},Eie=["axisLine","width","height","className","hide","ticks","axisType"];function Nie(e,t){if(e==null)return{};var r,n,a=Oie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Oie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ks(){return Ks=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ks.apply(null,arguments)}function m5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m5(Object(r),!0).forEach(function(n){Aie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Aie(e,t,r){return(t=Tie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tie(e){var t=Cie(e,"string");return typeof t=="symbol"?t:t+""}function Cie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ga={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:wr.axis};function Pie(e){var{x:t,y:r,width:n,height:a,orientation:s,mirror:l,axisLine:u,otherSvgProps:d}=e;if(!u)return null;var f=Rt(Rt(Rt({},d),Wn(u)),{},{fill:"none"});if(s==="top"||s==="bottom"){var p=+(s==="top"&&!l||s==="bottom"&&l);f=Rt(Rt({},f),{},{x1:t,y1:r+p*a,x2:t+n,y2:r+p*a})}else{var g=+(s==="left"&&!l||s==="right"&&l);f=Rt(Rt({},f),{},{x1:t+g*n,y1:r,x2:t+g*n,y2:r+a})}return x.createElement("line",Ks({},f,{className:ot("recharts-cartesian-axis-line",$0(u,"className"))}))}function Die(e,t,r,n,a,s,l,u,d){var f,p,g,v,y,_,k=u?-1:1,S=e.tickSize||l,j=Ne(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":f=p=e.coordinate,v=r+ +!u*a,g=v-k*S,_=g-k*d,y=j;break;case"left":g=v=e.coordinate,p=t+ +!u*n,f=p-k*S,y=f-k*d,_=j;break;case"right":g=v=e.coordinate,p=t+ +u*n,f=p+k*S,y=f+k*d,_=j;break;default:f=p=e.coordinate,v=r+ +u*a,g=v+k*S,_=g+k*d,y=j;break}return{line:{x1:f,y1:g,x2:p,y2:v},tick:{x:y,y:_}}}function Mie(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Rie(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function $ie(e){var{option:t,tickProps:r,value:n}=e,a,s=ot(r.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(t))a=x.cloneElement(t,Rt(Rt({},r),{},{className:s}));else if(typeof t=="function")a=t(Rt(Rt({},r),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=ot(l,t?.className)),a=x.createElement(Jw,Ks({},r,{className:l}),n)}return a}var Lie=x.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:s,tickFormatter:l,unit:u,padding:d,tickTextProps:f,orientation:p,mirror:g,x:v,y,width:_,height:k,tickSize:S,tickMargin:j,fontSize:A,letterSpacing:E,getTicksConfig:P,events:O,axisType:T}=e,C=r1(Rt(Rt({},P),{},{ticks:r}),A,E),D=Mie(p,g),R=Rie(p,g),L=Wn(P),$=D0(n),q={};typeof a=="object"&&(q=a);var V=Rt(Rt({},L),{},{fill:"none"},q),se=C.map(H=>Rt({entry:H},Die(H,v,y,_,k,p,S,g,j))),de=se.map(H=>{var{entry:Y,line:fe}=H;return x.createElement(Xn,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(Y.value,"-").concat(Y.coordinate,"-").concat(Y.tickCoord)},a&&x.createElement("line",Ks({},V,fe,{className:ot("recharts-cartesian-axis-tick-line",$0(a,"className"))})))}),U=se.map((H,Y)=>{var{entry:fe,tick:pe}=H,I=Rt(Rt(Rt(Rt({textAnchor:D,verticalAnchor:R},L),{},{stroke:"none",fill:s},$),pe),{},{index:Y,payload:fe,visibleTicksCount:C.length,tickFormatter:l,padding:d},f);return x.createElement(Xn,Ks({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(fe.value,"-").concat(fe.coordinate,"-").concat(fe.tickCoord)},GV(O,fe,Y)),n&&x.createElement($ie,{option:n,tickProps:I,value:"".concat(typeof l=="function"?l(fe.value,Y):fe.value).concat(u||"")}))});return x.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(T,"-ticks")},U.length>0&&x.createElement(pa,{zIndex:wr.label},x.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(T,"-tick-labels"),ref:t},U)),de.length>0&&x.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(T,"-tick-lines")},de))}),Iie=x.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:s,hide:l,ticks:u,axisType:d}=e,f=Nie(e,Eie),[p,g]=x.useState(""),[v,y]=x.useState(""),_=x.useRef(null);x.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var S;return jie({ticks:_.current,label:(S=e.labelRef)===null||S===void 0?void 0:S.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var k=x.useCallback(S=>{if(S){var j=S.getElementsByClassName("recharts-cartesian-axis-tick-value");_.current=j;var A=j[0];if(A){var E=window.getComputedStyle(A),P=E.fontSize,O=E.letterSpacing;(P!==p||O!==v)&&(g(P),y(O))}}},[p,v]);return l||n!=null&&n<=0||a!=null&&a<=0?null:x.createElement(pa,{zIndex:e.zIndex},x.createElement(Xn,{className:ot("recharts-cartesian-axis",s)},x.createElement(Pie,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Wn(e)}),x.createElement(Lie,{ref:k,axisType:d,events:f,fontSize:p,getTicksConfig:e,height:e.height,letterSpacing:v,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:u,unit:e.unit,width:e.width,x:e.x,y:e.y}),x.createElement(F3,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},x.createElement(K3,{label:e.label,labelRef:e.labelRef}),e.children)))}),n1=x.forwardRef((e,t)=>{var r=Zr(e,Ga);return x.createElement(Iie,Ks({},r,{ref:t}))});n1.displayName="CartesianAxis";var zie=["x1","y1","x2","y2","key"],Uie=["offset"],Bie=["xAxisId","yAxisId"],qie=["xAxisId","yAxisId"];function p5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p5(Object(r),!0).forEach(function(n){Hie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hie(e,t,r){return(t=Fie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fie(e){var t=Vie(e,"string");return typeof t=="symbol"?t:t+""}function Vie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rs(){return Rs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rs.apply(null,arguments)}function l0(e,t){if(e==null)return{};var r,n,a=Kie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Kie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Zie=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:s,height:l,ry:u}=e;return x.createElement("rect",{x:n,y:a,ry:u,width:s,height:l,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function cM(e){var{option:t,lineItemProps:r}=e,n;if(x.isValidElement(t))n=x.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:s,y1:l,x2:u,y2:d,key:f}=r,p=l0(r,zie),g=(a=Wn(p))!==null&&a!==void 0?a:{},{offset:v}=g,y=l0(g,Uie);n=x.createElement("line",Rs({},y,{x1:s,y1:l,x2:u,y2:d,fill:"none",key:f}))}return n}function Gie(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:l}=e,u=l0(e,Bie),d=a.map((f,p)=>{var g=xr(xr({},u),{},{x1:t,y1:f,x2:t+r,y2:f,key:"line-".concat(p),index:p});return x.createElement(cM,{key:"line-".concat(p),option:n,lineItemProps:g})});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function Yie(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:l}=e,u=l0(e,qie),d=a.map((f,p)=>{var g=xr(xr({},u),{},{x1:f,y1:t,x2:f,y2:t+r,key:"line-".concat(p),index:p});return x.createElement(cM,{option:n,lineItemProps:g,key:"line-".concat(p)})});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function Wie(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:s,height:l,horizontalPoints:u,horizontal:d=!0}=e;if(!d||!t||!t.length||u==null)return null;var f=u.map(g=>Math.round(g+a-a)).sort((g,v)=>g-v);a!==f[0]&&f.unshift(0);var p=f.map((g,v)=>{var y=!f[v+1],_=y?a+l-g:f[v+1]-g;if(_<=0)return null;var k=v%t.length;return x.createElement("rect",{key:"react-".concat(v),y:g,x:n,height:_,width:s,stroke:"none",fill:t[k],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function Xie(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:s,width:l,height:u,verticalPoints:d}=e;if(!t||!r||!r.length)return null;var f=d.map(g=>Math.round(g+a-a)).sort((g,v)=>g-v);a!==f[0]&&f.unshift(0);var p=f.map((g,v)=>{var y=!f[v+1],_=y?a+l-g:f[v+1]-g;if(_<=0)return null;var k=v%r.length;return x.createElement("rect",{key:"react-".concat(v),x:g,y:s,width:_,height:u,stroke:"none",fill:r[k],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var Jie=(e,t)=>{var{xAxis:r,width:n,height:a,offset:s}=e;return GP(r1(xr(xr(xr({},Ga),r),{},{ticks:YP(r),viewBox:{x:0,y:0,width:n,height:a}})),s.left,s.left+s.width,t)},Qie=(e,t)=>{var{yAxis:r,width:n,height:a,offset:s}=e;return GP(r1(xr(xr(xr({},Ga),r),{},{ticks:YP(r),viewBox:{x:0,y:0,width:n,height:a}})),s.top,s.top+s.height,t)},ese={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:wr.grid};function uM(e){var t=a4(),r=i4(),n=n4(),a=xr(xr({},Zr(e,ese)),{},{x:Ne(e.x)?e.x:n.left,y:Ne(e.y)?e.y:n.top,width:Ne(e.width)?e.width:n.width,height:Ne(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:l,x:u,y:d,width:f,height:p,syncWithTicks:g,horizontalValues:v,verticalValues:y}=a,_=Pr(),k=Ee(R=>SO(R,"xAxis",s,_)),S=Ee(R=>SO(R,"yAxis",l,_));if(!da(f)||!da(p)||!Ne(u)||!Ne(d))return null;var j=a.verticalCoordinatesGenerator||Jie,A=a.horizontalCoordinatesGenerator||Qie,{horizontalPoints:E,verticalPoints:P}=a;if((!E||!E.length)&&typeof A=="function"){var O=v&&v.length,T=A({yAxis:S?xr(xr({},S),{},{ticks:O?v:S.ticks}):void 0,width:t??f,height:r??p,offset:n},O?!0:g);$h(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof T,"]")),Array.isArray(T)&&(E=T)}if((!P||!P.length)&&typeof j=="function"){var C=y&&y.length,D=j({xAxis:k?xr(xr({},k),{},{ticks:C?y:k.ticks}):void 0,width:t??f,height:r??p,offset:n},C?!0:g);$h(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(P=D)}return x.createElement(pa,{zIndex:a.zIndex},x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(Zie,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),x.createElement(Wie,Rs({},a,{horizontalPoints:E})),x.createElement(Xie,Rs({},a,{verticalPoints:P})),x.createElement(Gie,Rs({},a,{offset:n,horizontalPoints:E,xAxis:k,yAxis:S})),x.createElement(Yie,Rs({},a,{offset:n,verticalPoints:P,xAxis:k,yAxis:S}))))}uM.displayName="CartesianGrid";function tse(e){var t=D0(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:s}=t,l=Number(a),u=Number(s);return(Number.isNaN(l)||l<0)&&(l=r),(Number.isNaN(u)||u<0)&&(u=n),{r:l,strokeWidth:u}}return{r,strokeWidth:n}}var dM=(e,t,r,n)=>s3(e,"xAxis",t,n),fM=(e,t,r,n)=>i3(e,"xAxis",t,n),hM=(e,t,r,n)=>s3(e,"yAxis",r,n),mM=(e,t,r,n)=>i3(e,"yAxis",r,n),rse=ne([lt,dM,hM,fM,mM],(e,t,r,n,a)=>si(e,"xAxis")?Rh(t,n,!1):Rh(r,a,!1)),nse=(e,t,r,n,a)=>a,pM=ne([OD,nse],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),ase=(e,t,r,n,a)=>{var s,l=pM(e,t,r,n,a);if(l!=null){var u=lt(e),d=si(u,"xAxis"),f;if(d?f=Fb(e,"yAxis",r,n):f=Fb(e,"xAxis",t,n),f!=null){var{stackId:p}=l,g=Cw(l);if(!(p==null||g==null)){var v=(s=f[p])===null||s===void 0?void 0:s.stackedData;return v?.find(y=>y.key===g)}}}},ise=ne([lt,dM,hM,fM,mM,ase,_w,rse,pM,pQ],(e,t,r,n,a,s,l,u,d,f)=>{var{chartData:p,dataStartIndex:g,dataEndIndex:v}=l;if(!(d==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||a==null||n.length===0||a.length===0||u==null)){var{data:y}=d,_;if(y&&y.length>0?_=y:_=p?.slice(g,v+1),_!=null)return kse({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataStartIndex:g,areaSettings:d,stackedData:s,displayedData:_,chartBaseValue:f,bandSize:u})}}),sse=["id"],ose=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function zs(){return zs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zs.apply(null,arguments)}function gM(e,t){if(e==null)return{};var r,n,a=lse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function lse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function g5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g5(Object(r),!0).forEach(function(n){cse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cse(e,t,r){return(t=use(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function use(e){var t=dse(e,"string");return typeof t=="symbol"?t:t+""}function dse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c0(e,t){return e&&e!=="none"?e:t}var fse=e=>{var{dataKey:t,name:r,stroke:n,fill:a,legendType:s,hide:l}=e;return[{inactive:l,dataKey:t,type:s,color:c0(n,a),value:WP(r,t),payload:e}]},hse=x.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:s,name:l,hide:u,unit:d,tooltipType:f}=e,p={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:s,dataKey:t,nameKey:void 0,name:WP(l,t),hide:u,type:f,color:c0(n,s),unit:d}};return x.createElement($ne,{tooltipEntrySettings:p})});function mse(e){var{clipPathId:t,points:r,props:n}=e,{needClip:a,dot:s,dataKey:l}=n,u=Wn(n);return x.createElement(nae,{points:r,dot:s,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:l,baseProps:u,needClip:a,clipPathId:t})}function pse(e){var{showLabels:t,children:r,points:n}=e,a=n.map(s=>{var l,u,d={x:(l=s.x)!==null&&l!==void 0?l:0,y:(u=s.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return rl(rl({},d),{},{value:s.value,payload:s.payload,parentViewBox:void 0,viewBox:d,fill:void 0})});return x.createElement(Tne,{value:t?a:void 0},r)}function v5(e){var{points:t,baseLine:r,needClip:n,clipPathId:a,props:s}=e,{layout:l,type:u,stroke:d,connectNulls:f,isRange:p}=s,{id:g}=s,v=gM(s,sse),y=Wn(v),_=dn(v);return x.createElement(x.Fragment,null,t?.length>1&&x.createElement(Xn,{clipPath:n?"url(#clipPath-".concat(a,")"):void 0},x.createElement(rh,zs({},_,{id:g,points:t,connectNulls:f,type:u,baseLine:r,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&x.createElement(rh,zs({},y,{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:t})),d!=="none"&&p&&x.createElement(rh,zs({},y,{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:r}))),x.createElement(mse,{points:t,props:v,clipPathId:a}))}function gse(e){var{alpha:t,baseLine:r,points:n,strokeWidth:a}=e,s=n[0].y,l=n[n.length-1].y;if(!st(s)||!st(l))return null;var u=t*Math.abs(s-l),d=Math.max(...n.map(f=>f.x||0));return Ne(r)?d=Math.max(r,d):r&&Array.isArray(r)&&r.length&&(d=Math.max(...r.map(f=>f.x||0),d)),Ne(d)?x.createElement("rect",{x:0,y:s<l?s:s-u,width:d+(a?parseInt("".concat(a),10):1),height:Math.floor(u)}):null}function vse(e){var{alpha:t,baseLine:r,points:n,strokeWidth:a}=e,s=n[0].x,l=n[n.length-1].x;if(!st(s)||!st(l))return null;var u=t*Math.abs(s-l),d=Math.max(...n.map(f=>f.y||0));return Ne(r)?d=Math.max(r,d):r&&Array.isArray(r)&&r.length&&(d=Math.max(...r.map(f=>f.y||0),d)),Ne(d)?x.createElement("rect",{x:s<l?s:s-u,y:0,width:u,height:Math.floor(d+(a?parseInt("".concat(a),10):1))}):null}function yse(e){var{alpha:t,layout:r,points:n,baseLine:a,strokeWidth:s}=e;return r==="vertical"?x.createElement(gse,{alpha:t,points:n,baseLine:a,strokeWidth:s}):x.createElement(vse,{alpha:t,points:n,baseLine:a,strokeWidth:s})}function bse(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:s}=e,{points:l,baseLine:u,isAnimationActive:d,animationBegin:f,animationDuration:p,animationEasing:g,onAnimationStart:v,onAnimationEnd:y}=n,_=x.useMemo(()=>({points:l,baseLine:u}),[l,u]),k=y4(_,"recharts-area-"),S=UG(),[j,A]=x.useState(!1),E=!j,P=x.useCallback(()=>{typeof y=="function"&&y(),A(!1)},[y]),O=x.useCallback(()=>{typeof v=="function"&&v(),A(!0)},[v]);if(S==null)return null;var T=a.current,C=s.current;return x.createElement(pse,{showLabels:E,points:l},n.children,x.createElement(v4,{animationId:k,begin:f,duration:p,isActive:d,easing:g,onAnimationEnd:P,onAnimationStart:O,key:k},D=>{if(T){var R=T.length/l.length,L=D===1?l:l.map((q,V)=>{var se=Math.floor(V*R);if(T[se]){var de=T[se];return rl(rl({},q),{},{x:sa(de.x,q.x,D),y:sa(de.y,q.y,D)})}return q}),$;return Ne(u)?$=sa(C,u,D):ur(u)||fn(u)?$=sa(C,0,D):$=u.map((q,V)=>{var se=Math.floor(V*R);if(Array.isArray(C)&&C[se]){var de=C[se];return rl(rl({},q),{},{x:sa(de.x,q.x,D),y:sa(de.y,q.y,D)})}return q}),D>0&&(a.current=L,s.current=$),x.createElement(v5,{points:L,baseLine:$,needClip:t,clipPathId:r,props:n})}return D>0&&(a.current=l,s.current=u),x.createElement(Xn,null,d&&x.createElement("defs",null,x.createElement("clipPath",{id:"animationClipPath-".concat(r)},x.createElement(yse,{alpha:D,points:l,baseLine:u,layout:S,strokeWidth:n.strokeWidth}))),x.createElement(Xn,{clipPath:"url(#animationClipPath-".concat(r,")")},x.createElement(v5,{points:l,baseLine:u,needClip:t,clipPathId:r,props:n})))}),x.createElement(Dne,{label:n.label}))}function xse(e){var{needClip:t,clipPathId:r,props:n}=e,a=x.useRef(null),s=x.useRef();return x.createElement(bse,{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:s})}class wse extends x.PureComponent{render(){var{hide:t,dot:r,points:n,className:a,top:s,left:l,needClip:u,xAxisId:d,yAxisId:f,width:p,height:g,id:v,baseLine:y,zIndex:_}=this.props;if(t)return null;var k=ot("recharts-area",a),S=v,{r:j,strokeWidth:A}=tse(r),E=X3(r),P=j*2+A,O=u?"url(#clipPath-".concat(E?"":"dots-").concat(S,")"):void 0;return x.createElement(pa,{zIndex:_},x.createElement(Xn,{className:k},u&&x.createElement("defs",null,x.createElement(jae,{clipPathId:S,xAxisId:d,yAxisId:f}),!E&&x.createElement("clipPath",{id:"clipPath-dots-".concat(S)},x.createElement("rect",{x:l-P/2,y:s-P/2,width:p+P,height:g+P}))),x.createElement(xse,{needClip:u,clipPathId:S,props:this.props})),x.createElement(s5,{points:n,mainColor:c0(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:O}),this.props.isRange&&Array.isArray(y)&&x.createElement(s5,{points:y,mainColor:c0(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:O}))}}var vM={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:wr.area};function _se(e){var t,r=Zr(e,vM),{activeDot:n,animationBegin:a,animationDuration:s,animationEasing:l,connectNulls:u,dot:d,fill:f,fillOpacity:p,hide:g,isAnimationActive:v,legendType:y,stroke:_,xAxisId:k,yAxisId:S}=r,j=gM(r,ose),A=Mu(),E=N3(),{needClip:P}=rM(k,S),O=Pr(),{points:T,isRange:C,baseLine:D}=(t=Ee(se=>ise(se,k,S,O,e.id)))!==null&&t!==void 0?t:{},R=e1();if(A!=="horizontal"&&A!=="vertical"||R==null||E!=="AreaChart"&&E!=="ComposedChart")return null;var{height:L,width:$,x:q,y:V}=R;return!T||!T.length?null:x.createElement(wse,zs({},j,{activeDot:n,animationBegin:a,animationDuration:s,animationEasing:l,baseLine:D,connectNulls:u,dot:d,fill:f,fillOpacity:p,height:L,hide:g,layout:A,isAnimationActive:v==="auto"?!El.isSsr:v,isRange:C,legendType:y,needClip:P,points:T,stroke:_,width:$,left:q,top:V,xAxisId:k,yAxisId:S}))}var Sse=(e,t,r,n,a)=>{var s=r??t;if(Ne(s))return s;var l=e==="horizontal"?a:n,u=l.scale.domain();if(l.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return s==="dataMin"?f:s==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return s==="dataMin"?u[0]:s==="dataMax"?u[1]:u[0]};function kse(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:a,layout:s,chartBaseValue:l,xAxis:u,yAxis:d,displayedData:f,dataStartIndex:p,xAxisTicks:g,yAxisTicks:v,bandSize:y}=e,_=a&&a.length,k=Sse(s,l,r,u,d),S=s==="horizontal",j=!1,A=f.map((P,O)=>{var T;_?T=a[p+O]:(T=_r(P,n),Array.isArray(T)?j=!0:T=[k,T]);var C=T[1]==null||_&&!t&&_r(P,n)==null;return S?{x:KE({axis:u,ticks:g,bandSize:y,entry:P,index:O}),y:C?null:d.scale(T[1]),value:T,payload:P}:{x:C?null:u.scale(T[1]),y:KE({axis:d,ticks:v,bandSize:y,entry:P,index:O}),value:T,payload:P}}),E;return _||j?E=A.map(P=>{var O=Array.isArray(P.value)?P.value[0]:null;return S?{x:P.x,y:O!=null&&P.y!=null?d.scale(O):null,payload:P.payload}:{x:O!=null?u.scale(O):null,y:P.y,payload:P.payload}}):E=S?d.scale(k):u.scale(k),{points:A,baseLine:E,isRange:j}}function jse(e){var t=Zr(e,vM),r=Pr();return x.createElement(Bne,{id:t.id,type:"area"},n=>x.createElement(x.Fragment,null,x.createElement(Lne,{legendPayload:fse(t)}),x.createElement(hse,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),x.createElement(Gne,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:rG(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),x.createElement(_se,zs({},t,{id:n}))))}var yM=x.memo(jse,t1);yM.displayName="Area";var Ese=["domain","range"],Nse=["domain","range"];function y5(e,t){if(e==null)return{};var r,n,a=Ose(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ose(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function b5(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function bM(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=y5(e,Ese),{domain:s,range:l}=t,u=y5(t,Nse);return!b5(r,s)||!b5(n,l)?!1:t1(a,u)}var Ase=["dangerouslySetInnerHTML","ticks"],Tse=["id"];function Jb(){return Jb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jb.apply(null,arguments)}function x5(e,t){if(e==null)return{};var r,n,a=Cse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Cse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Pse(e){var t=Bt(),r=x.useRef(null);return x.useLayoutEffect(()=>{r.current===null?t(lae(e)):r.current!==e&&t(cae({prev:r.current,next:e})),r.current=e},[e,t]),x.useLayoutEffect(()=>()=>{r.current&&(t(uae(r.current)),r.current=null)},[t]),null}var Dse=e=>{var{xAxisId:t,className:r}=e,n=Ee(JP),a=Pr(),s="xAxis",l=Ee(S=>Yi(S,s,t,a)),u=Ee(S=>a3(S,s,t,a)),d=Ee(S=>oee(S,t)),f=Ee(S=>hee(S,t)),p=Ee(S=>kD(S,t));if(d==null||f==null||p==null)return null;var{dangerouslySetInnerHTML:g,ticks:v}=e,y=x5(e,Ase),{id:_}=p,k=x5(p,Tse);return x.createElement(n1,Jb({},y,k,{scale:l,x:f.x,y:f.y,width:d.width,height:d.height,className:ot("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:u,axisType:s}))},Mse={allowDataOverflow:Yt.allowDataOverflow,allowDecimals:Yt.allowDecimals,allowDuplicatedCategory:Yt.allowDuplicatedCategory,angle:Yt.angle,axisLine:Ga.axisLine,height:Yt.height,hide:!1,includeHidden:Yt.includeHidden,interval:Yt.interval,minTickGap:Yt.minTickGap,mirror:Yt.mirror,orientation:Yt.orientation,padding:Yt.padding,reversed:Yt.reversed,scale:Yt.scale,tick:Yt.tick,tickCount:Yt.tickCount,tickLine:Ga.tickLine,tickSize:Ga.tickSize,type:Yt.type,xAxisId:0},Rse=e=>{var t=Zr(e,Mse);return x.createElement(x.Fragment,null,x.createElement(Pse,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),x.createElement(Dse,t))},xM=x.memo(Rse,bM);xM.displayName="XAxis";var $se=["dangerouslySetInnerHTML","ticks"],Lse=["id"];function Qb(){return Qb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qb.apply(null,arguments)}function w5(e,t){if(e==null)return{};var r,n,a=Ise(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ise(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function zse(e){var t=Bt(),r=x.useRef(null);return x.useLayoutEffect(()=>{r.current===null?t(dae(e)):r.current!==e&&t(fae({prev:r.current,next:e})),r.current=e},[e,t]),x.useLayoutEffect(()=>()=>{r.current&&(t(hae(r.current)),r.current=null)},[t]),null}var Use=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,s=x.useRef(null),l=x.useRef(null),u=Ee(JP),d=Pr(),f=Bt(),p="yAxis",g=Ee(O=>Yi(O,p,t,d)),v=Ee(O=>gee(O,t)),y=Ee(O=>pee(O,t)),_=Ee(O=>a3(O,p,t,d)),k=Ee(O=>jD(O,t));if(x.useLayoutEffect(()=>{if(!(n!=="auto"||!v||Qw(a)||x.isValidElement(a)||k==null)){var O=s.current;if(O){var T=O.getCalculatedWidth();Math.round(v.width)!==Math.round(T)&&f(mae({id:t,width:T}))}}},[_,v,f,a,t,n,k]),v==null||y==null||k==null)return null;var{dangerouslySetInnerHTML:S,ticks:j}=e,A=w5(e,$se),{id:E}=k,P=w5(k,Lse);return x.createElement(n1,Qb({},A,P,{ref:s,labelRef:l,scale:g,x:y.x,y:y.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:v.width,height:v.height,className:ot("recharts-".concat(p," ").concat(p),r),viewBox:u,ticks:_,axisType:p}))},Bse={allowDataOverflow:Wt.allowDataOverflow,allowDecimals:Wt.allowDecimals,allowDuplicatedCategory:Wt.allowDuplicatedCategory,angle:Wt.angle,axisLine:Ga.axisLine,hide:!1,includeHidden:Wt.includeHidden,interval:Wt.interval,minTickGap:Wt.minTickGap,mirror:Wt.mirror,orientation:Wt.orientation,padding:Wt.padding,reversed:Wt.reversed,scale:Wt.scale,tick:Wt.tick,tickCount:Wt.tickCount,tickLine:Ga.tickLine,tickSize:Ga.tickSize,type:Wt.type,width:Wt.width,yAxisId:0},qse=e=>{var t=Zr(e,Bse);return x.createElement(x.Fragment,null,x.createElement(zse,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),x.createElement(Use,t))},wM=x.memo(qse,bM);wM.displayName="YAxis";var Hse=(e,t)=>t,a1=ne([Hse,lt,_D,Ft,w3,ui,Tte,hr],Lte),i1=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},_M=Dn("mouseClick"),SM=Cu();SM.startListening({actionCreator:_M,effect:(e,t)=>{var r=e.payload,n=a1(t.getState(),i1(r));n?.activeIndex!=null&&t.dispatch(Aee({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var ex=Dn("mouseMove"),kM=Cu(),Zf=null;kM.startListening({actionCreator:ex,effect:(e,t)=>{var r=e.payload;Zf!==null&&cancelAnimationFrame(Zf);var n=i1(r);Zf=requestAnimationFrame(()=>{var a=t.getState(),s=qw(a,a.tooltip.settings.shared);if(s==="axis"){var l=a1(a,n);l?.activeIndex!=null?t.dispatch(h3({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):t.dispatch(f3())}Zf=null})}});var _5={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},jM=Gr({name:"rootProps",initialState:_5,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:_5.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Fse=jM.reducer,{updateOptions:Vse}=jM.actions,EM=Gr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Bce}=EM.actions,Kse=EM.reducer,NM=Dn("keyDown"),OM=Dn("focus"),s1=Cu();s1.startListening({actionCreator:NM,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=Hw(a,Dl(r),qu(r),Zu(r)),u=l==null?-1:Number(l);if(!(!Number.isFinite(u)||u<0)){var d=ui(r);if(s==="Enter"){var f=n0(r,"axis","hover",String(a.index));t.dispatch(Kb({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:f}));return}var p=xee(r),g=p==="left-to-right"?1:-1,v=s==="ArrowRight"?1:-1,y=u+v*g;if(!(d==null||y>=d.length||y<0)){var _=n0(r,"axis","hover",String(y));t.dispatch(Kb({active:!0,activeIndex:y.toString(),activeDataKey:void 0,activeCoordinate:_}))}}}}}});s1.startListening({actionCreator:OM,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var s="0",l=n0(r,"axis","hover",String(s));t.dispatch(Kb({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:l}))}}}});var On=Dn("externalEvent"),AM=Cu(),ky=new Map;AM.startListening({actionCreator:On,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,s=ky.get(a);s!==void 0&&cancelAnimationFrame(s);var l=requestAnimationFrame(()=>{try{var u=t.getState(),d={activeCoordinate:pte(u),activeDataKey:hte(u),activeIndex:xu(u),activeLabel:k3(u),activeTooltipIndex:xu(u),isTooltipActive:gte(u)};r(d,n)}finally{ky.delete(a)}});ky.set(a,l)}}});var Zse=ne([Pl],e=>e.tooltipItemPayloads),Gse=ne([Zse,Vu,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(u=>u.settings.dataKey===n);if(a!=null){var{positions:s}=a;if(s!=null){var l=t(s,r);return l}}}),TM=Dn("touchMove"),CM=Cu();CM.startListening({actionCreator:TM,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=qw(n,n.tooltip.settings.shared);if(a==="axis"){var s=a1(n,i1({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));s?.activeIndex!=null&&t.dispatch(h3({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(a==="item"){var l,u=r.touches[0];if(document.elementFromPoint==null)return;var d=document.elementFromPoint(u.clientX,u.clientY);if(!d||!d.getAttribute)return;var f=d.getAttribute(cG),p=(l=d.getAttribute(uG))!==null&&l!==void 0?l:void 0,g=Gse(t.getState(),f,p);t.dispatch(Oee({activeDataKey:p,activeIndex:f,activeCoordinate:g}))}}}});var Yse=bP({brush:Vae,cartesianAxis:pae,chartData:pre,errorBars:kae,graphicalItems:Kne,layout:KZ,legend:nY,options:ure,polarAxis:Rne,polarOptions:Kse,referenceElements:rie,rootProps:Fse,tooltip:Tee,zIndex:Xte}),Wse=function(t){return vZ({reducer:Yse,preloadedState:t,middleware:r=>{var n;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((n="es6")!==null&&n!==void 0?n:"")}).concat([SM.middleware,kM.middleware,s1.middleware,AM.middleware,CM.middleware])},enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(MP({type:"raf"}))},devTools:El.devToolsEnabled})};function Xse(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=Pr(),s=x.useRef(null);if(a)return r;s.current==null&&(s.current=Wse(t));var l=Bx;return x.createElement(Bae,{context:l,store:s.current},r)}function Jse(e){var{layout:t,margin:r}=e,n=Bt(),a=Pr();return x.useEffect(()=>{a||(n(HZ(t)),n(qZ(r)))},[n,a,t,r]),null}var Qse=x.memo(Jse,t1);function eoe(e){var t=Bt();return x.useEffect(()=>{t(Vse(e))},[t,e]),null}function S5(e){var{zIndex:t,isPanorama:r}=e,n=r?"recharts-zindex-panorama-":"recharts-zindex-",a=J3("".concat(n).concat(t)),s=Bt();return x.useLayoutEffect(()=>(s(Yte({zIndex:t,elementId:a,isPanorama:r})),()=>{s(Wte({zIndex:t,isPanorama:r}))}),[s,t,a,r]),x.createElement("g",{tabIndex:-1,id:a})}function k5(e){var{children:t,isPanorama:r}=e,n=Ee(zte);if(!n||n.length===0)return t;var a=n.filter(l=>l<0),s=n.filter(l=>l>0);return x.createElement(x.Fragment,null,a.map(l=>x.createElement(S5,{key:l,zIndex:l,isPanorama:r})),t,s.map(l=>x.createElement(S5,{key:l,zIndex:l,isPanorama:r})))}var toe=["children"];function roe(e,t){if(e==null)return{};var r,n,a=noe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function noe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function u0(){return u0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u0.apply(null,arguments)}var aoe={width:"100%",height:"100%",display:"block"},ioe=x.forwardRef((e,t)=>{var r=a4(),n=i4(),a=h4();if(!da(r)||!da(n))return null;var{children:s,otherAttributes:l,title:u,desc:d}=e,f,p;return l!=null&&(typeof l.tabIndex=="number"?f=l.tabIndex:f=a?0:void 0,typeof l.role=="string"?p=l.role:p=a?"application":void 0),x.createElement(UC,u0({},l,{title:u,desc:d,role:p,tabIndex:f,width:r,height:n,style:aoe,ref:t}),s)}),soe=e=>{var{children:t}=e,r=Ee(Y0);if(!r)return null;var{width:n,height:a,y:s,x:l}=r;return x.createElement(UC,{width:n,height:a,x:l,y:s},t)},j5=x.forwardRef((e,t)=>{var{children:r}=e,n=roe(e,toe),a=Pr();return a?x.createElement(soe,null,x.createElement(k5,{isPanorama:!0},r)):x.createElement(ioe,u0({ref:t},n),x.createElement(k5,{isPanorama:!1},r))});function ooe(){var e=Bt(),[t,r]=x.useState(null),n=Ee(lG);return x.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),s=a.width/t.offsetWidth;st(s)&&s!==n&&e(VZ(s))}},[t,e,n]),r}function E5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function loe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E5(Object(r),!0).forEach(function(n){coe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function coe(e,t,r){return(t=uoe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uoe(e){var t=doe(e,"string");return typeof t=="symbol"?t:t+""}function doe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zs(){return Zs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zs.apply(null,arguments)}var foe=()=>(kre(),null);function d0(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var hoe=x.forwardRef((e,t)=>{var r,n,a=x.useRef(null),[s,l]=x.useState({containerWidth:d0((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:d0((n=e.style)===null||n===void 0?void 0:n.height)}),u=x.useCallback((f,p)=>{l(g=>{var v=Math.round(f),y=Math.round(p);return g.containerWidth===v&&g.containerHeight===y?g:{containerWidth:v,containerHeight:y}})},[]),d=x.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null&&typeof ResizeObserver<"u"){var{width:p,height:g}=f.getBoundingClientRect();u(p,g);var v=_=>{var{width:k,height:S}=_[0].contentRect;u(k,S)},y=new ResizeObserver(v);y.observe(f),a.current=y}},[t,u]);return x.useEffect(()=>()=>{var f=a.current;f?.disconnect()},[u]),x.createElement(x.Fragment,null,x.createElement(W0,{width:s.containerWidth,height:s.containerHeight}),x.createElement("div",Zs({ref:d},e)))}),moe=x.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,s]=x.useState({containerWidth:d0(r),containerHeight:d0(n)}),l=x.useCallback((d,f)=>{s(p=>{var g=Math.round(d),v=Math.round(f);return p.containerWidth===g&&p.containerHeight===v?p:{containerWidth:g,containerHeight:v}})},[]),u=x.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null){var{width:f,height:p}=d.getBoundingClientRect();l(f,p)}},[t,l]);return x.createElement(x.Fragment,null,x.createElement(W0,{width:a.containerWidth,height:a.containerHeight}),x.createElement("div",Zs({ref:u},e)))}),poe=x.forwardRef((e,t)=>{var{width:r,height:n}=e;return x.createElement(x.Fragment,null,x.createElement(W0,{width:r,height:n}),x.createElement("div",Zs({ref:t},e)))}),goe=x.forwardRef((e,t)=>{var{width:r,height:n}=e;return Xa(r)||Xa(n)?x.createElement(moe,Zs({},e,{ref:t})):x.createElement(poe,Zs({},e,{ref:t}))});function voe(e){return e===!0?hoe:goe}var yoe=x.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:s,onContextMenu:l,onDoubleClick:u,onMouseDown:d,onMouseEnter:f,onMouseLeave:p,onMouseMove:g,onMouseUp:v,onTouchEnd:y,onTouchMove:_,onTouchStart:k,style:S,width:j,responsive:A,dispatchTouchEvents:E=!0}=e,P=x.useRef(null),O=Bt(),[T,C]=x.useState(null),[D,R]=x.useState(null),L=ooe(),$=Wx(),q=$?.width>0?$.width:j,V=$?.height>0?$.height:a,se=x.useCallback(X=>{L(X),typeof t=="function"&&t(X),C(X),R(X),X!=null&&(P.current=X)},[L,t,C,R]),de=x.useCallback(X=>{O(_M(X)),O(On({handler:s,reactEvent:X}))},[O,s]),U=x.useCallback(X=>{O(ex(X)),O(On({handler:f,reactEvent:X}))},[O,f]),H=x.useCallback(X=>{O(f3()),O(On({handler:p,reactEvent:X}))},[O,p]),Y=x.useCallback(X=>{O(ex(X)),O(On({handler:g,reactEvent:X}))},[O,g]),fe=x.useCallback(()=>{O(OM())},[O]),pe=x.useCallback(X=>{O(NM(X.key))},[O]),I=x.useCallback(X=>{O(On({handler:l,reactEvent:X}))},[O,l]),W=x.useCallback(X=>{O(On({handler:u,reactEvent:X}))},[O,u]),Q=x.useCallback(X=>{O(On({handler:d,reactEvent:X}))},[O,d]),K=x.useCallback(X=>{O(On({handler:v,reactEvent:X}))},[O,v]),ae=x.useCallback(X=>{O(On({handler:k,reactEvent:X}))},[O,k]),re=x.useCallback(X=>{E&&O(TM(X)),O(On({handler:_,reactEvent:X}))},[O,E,_]),ee=x.useCallback(X=>{O(On({handler:y,reactEvent:X}))},[O,y]),we=voe(A);return x.createElement(P3.Provider,{value:T},x.createElement(bV.Provider,{value:D},x.createElement(we,{width:q??S?.width,height:V??S?.height,className:ot("recharts-wrapper",n),style:loe({position:"relative",cursor:"default",width:q,height:V},S),onClick:de,onContextMenu:I,onDoubleClick:W,onFocus:fe,onKeyDown:pe,onMouseDown:Q,onMouseEnter:U,onMouseLeave:H,onMouseMove:Y,onMouseUp:K,onTouchEnd:ee,onTouchMove:re,onTouchStart:ae,ref:se},x.createElement(foe,null),r)))}),boe=["width","height","responsive","children","className","style","compact","title","desc"];function xoe(e,t){if(e==null)return{};var r,n,a=woe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function woe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var _oe=x.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:s,className:l,style:u,compact:d,title:f,desc:p}=e,g=xoe(e,boe),v=Wn(g);return d?x.createElement(x.Fragment,null,x.createElement(W0,{width:r,height:n}),x.createElement(j5,{otherAttributes:v,title:f,desc:p},s)):x.createElement(yoe,{className:l,style:u,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},x.createElement(j5,{otherAttributes:v,title:f,desc:p,ref:t},x.createElement(nie,null,s)))});function tx(){return tx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tx.apply(null,arguments)}var Soe={top:5,right:5,bottom:5,left:5},koe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Soe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},joe=x.forwardRef(function(t,r){var n,a=Zr(t.categoricalChartProps,koe),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,categoricalChartProps:f}=t,p={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return x.createElement(Xse,{preloadedState:{options:p},reduxStoreName:(n=f.id)!==null&&n!==void 0?n:s},x.createElement(Fae,{chartData:f.data}),x.createElement(Qse,{layout:a.layout,margin:a.margin}),x.createElement(eoe,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),x.createElement(_oe,tx({},a,{ref:r})))}),Eoe=["axis"],Noe=x.forwardRef((e,t)=>x.createElement(joe,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Eoe,tooltipPayloadSearcher:lre,categoricalChartProps:e,ref:t}));function Ooe({dailyLedger:e=[],safetyTargetBottles:t=0,specs:r={}}){const{theme:n}=Qn(),a=n==="dark",s=x.useMemo(()=>{if(!e.length||!r.bottlesPerCase)return[];const g=r.bottlesPerCase*(r.casesPerPallet||1),v=Math.round(t/g);return e.map(y=>{const _=y.balance/g,[k,S,j]=y.dateStr.split("-").map(Number),A=new Date(k,S-1,j);return{date:y.dateStr,displayDate:A.toLocaleDateString("en-US",{month:"numeric",day:"numeric"}),pallets:Math.round(_),safety:v}})},[e,t,r]);if(!s.length)return m.jsx("div",{className:"w-full h-80 flex items-center justify-center bg-gray-50 dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700",children:m.jsx("span",{className:"text-gray-400 font-medium",children:"No projection data available"})});const l=s[0]?.safety||0;Math.max(...s.map(g=>g.pallets),l*1.5);const u=a?"#9CA3AF":"#6B7280",d=a?"#374151":"#E5E7EB",f=a?"#1F2937":"#FFFFFF",p=a?"#F3F4F6":"#111827";return m.jsxs("div",{className:"w-full h-80 bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 flex flex-col transition-all",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4 px-2",children:[m.jsx("h3",{className:"text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"30-Day Inventory Projection"}),m.jsxs("div",{className:"flex items-center space-x-4 text-xs font-medium",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500 mr-1.5"}),m.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Projected Balance"})]}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500 mr-1.5 opacity-50"}),m.jsxs("span",{className:"text-gray-600 dark:text-gray-300",children:["Safety Target (",l," plts)"]})]})]})]}),m.jsx("div",{className:"flex-1 w-full min-h-[200px]",children:m.jsx(IG,{width:"100%",height:"100%",children:m.jsxs(Noe,{data:s,margin:{top:10,right:10,left:0,bottom:0},children:[m.jsxs("defs",{children:[m.jsxs("linearGradient",{id:"colorPv",x1:"0",y1:"0",x2:"0",y2:"1",children:[m.jsx("stop",{offset:"5%",stopColor:"#3B82F6",stopOpacity:.3}),m.jsx("stop",{offset:"95%",stopColor:"#3B82F6",stopOpacity:.05})]}),m.jsxs("linearGradient",{id:"colorSafety",x1:"0",y1:"0",x2:"0",y2:"1",children:[m.jsx("stop",{offset:"5%",stopColor:"#EF4444",stopOpacity:.1}),m.jsx("stop",{offset:"95%",stopColor:"#EF4444",stopOpacity:0})]})]}),m.jsx(uM,{strokeDasharray:"3 3",vertical:!1,stroke:d}),m.jsx(xM,{dataKey:"displayDate",tick:{fontSize:11,fill:u},axisLine:!1,tickLine:!1,interval:6}),m.jsx(wM,{tick:{fontSize:11,fill:u},axisLine:!1,tickLine:!1,domain:[0,"auto"]}),m.jsx(Pre,{contentStyle:{backgroundColor:f,borderRadius:"8px",border:a?"1px solid #374151":"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",color:p,padding:"8px 12px"},itemStyle:{fontSize:"12px",fontWeight:600},labelStyle:{color:u,fontSize:"11px",marginBottom:"4px"},formatter:(g,v)=>[`${g} Pallets`,v==="pallets"?"Balance":"Safety"]}),m.jsx(oM,{y:l,stroke:"#EF4444",strokeDasharray:"3 3",strokeOpacity:.6}),m.jsx(yM,{type:"monotone",dataKey:"pallets",stroke:"#3B82F6",strokeWidth:2,fillOpacity:1,fill:"url(#colorPv)",animationDuration:1e3})]})})})]})}const Aoe=ge.memo(Ooe);function Toe(){return{solve:(t,r,n,a,s,l,u)=>{if(!t||!t.dailyResults||!a||!n[a])return console.warn("Solver: Missing Data",{currentResults:t,selectedSize:a}),null;const d=n[a],f={...l.monthlyInbound||{}},p=t.dailyResults,g=Cn(),v=u!==void 0?u:s?.leadTimeDays||2,y=lr(g,Math.max(0,v-1));let _=0,k=0;return p.forEach((S,j)=>{const A=S.dateStr,P=S.projectedEndInventory+_;if(A<=y||l.monthlyProductionActuals&&l.monthlyProductionActuals[A])return;const O=S.safetyStockTarget||(r||0)*d.bottlesPerTruck;if(P<O){const T=O-P,C=Math.ceil(T/d.bottlesPerTruck);if(C>0){const D=f[A]||0,R=Number(D)+C;f[A]=R,_+=C*d.bottlesPerTruck,k++}}else if(P>O+d.bottlesPerTruck){let T=Number(f[A]||0);if(T>0){const C=P-O,D=Math.floor(C/d.bottlesPerTruck),R=Math.min(D,T);if(R>0){const L=T-R;f[A]=L,_-=R*d.bottlesPerTruck,k++}}}}),{newInbound:f,updatesCount:k}}}}function Coe({monthlyDemand:e,monthlyProductionActuals:t,monthlyInbound:r,updateDateDemand:n,updateDateActual:a,poManifest:s={},dailyLedger:l=[],specs:u,userProfile:d}){const{saveProcurementEntry:f,deleteProcurementEntry:p}=$n(),[g,v]=x.useState(()=>{const C=new Date;return C.setDate(C.getDate()-3),C}),[y,_]=x.useState(null),[k,S]=x.useState([]);x.useEffect(()=>{const C=[];for(let D=0;D<30;D++){const R=new Date(g);R.setDate(g.getDate()+D),C.push(R)}S(C)},[g]);const j=C=>{const D=new Date(g);D.setDate(D.getDate()+C),v(D)},A=C=>l.find(D=>D.dateStr===C)||{},E=(C,D,R,L)=>{if(!C&&C!==0)return;let $=Number(C);$>0&&$<1e3&&($*=1e3),Number(D)!==$&&R(L,$)},P=C=>{const D=s[C],R=D?.items?.length>0,L=R?D.items.length:r[C]||0,$=D?.items?.map(q=>q.time).filter(Boolean).sort()||[];return m.jsx("div",{className:`relative h-full w-full flex flex-col justify-center px-1 cursor-pointer transition-colors ${L>0?"bg-blue-50 text-blue-900 dark:bg-blue-900/40 dark:text-blue-200 hover:bg-blue-100 dark:hover:bg-blue-800":"hover:bg-gray-50 dark:hover:bg-gray-800"}`,onClick:()=>_(C),children:L>0?m.jsxs("div",{className:"flex flex-wrap gap-0.5",children:[m.jsxs("span",{className:`flex items-center gap-1 text-[10px] font-bold px-1 rounded-sm shadow-sm ${R?"bg-blue-600 text-white":"bg-blue-100 text-blue-800 border border-blue-200"}`,children:[m.jsx(Vr,{className:"w-3 h-3"}),L," ",R?"":""]}),R&&$.slice(0,2).map((q,V)=>m.jsx("span",{className:"text-[9px] bg-blue-100 text-blue-800 px-0.5 border border-blue-200 rounded-sm dark:bg-blue-950 dark:text-blue-300 dark:border-blue-800",children:q},V)),$.length>2&&m.jsx("span",{className:"text-[8px] text-blue-400",children:"..."})]}):m.jsx("span",{className:"text-gray-200 text-xs text-center",children:"-"})})},O=C=>{const D=Math.round(C.projectedPallets||0),R=C.daysOfSupply||0;C.safetyStockTarget;let L="bg-emerald-50 text-emerald-900 dark:bg-emerald-900/40 dark:text-emerald-300";return R<2?L="bg-red-50 text-red-900 font-bold dark:bg-red-900/40 dark:text-red-300":R<4&&(L="bg-amber-50 text-amber-900 dark:bg-amber-900/40 dark:text-amber-300"),m.jsxs("div",{className:`h-full w-full flex flex-col justify-center px-1 text-right text-xs ${L}`,children:[m.jsxs("div",{children:[D," ",m.jsx("span",{className:"text-[9px] opacity-60",children:"plts"})]}),m.jsxs("div",{className:"text-[9px] opacity-75",children:[R.toFixed(1)," Days"]})]})},T=ge.useMemo(()=>{if(!u||!u.bottlesPerTruck||!u.bottlesPerCase)return null;let C=0,D=0;const R=u.bottlesPerTruck/u.bottlesPerCase;k.forEach(q=>{const V=vt(q),se=e[V];se&&(C+=Number(se));const de=s[V],U=de?.items?.length>0?de.items.length:r[V]||0;D+=Number(U)});const L=Math.ceil(C/R),$=D-L;return{totalCases:C,trucksRequired:L,totalScheduled:D,gap:$}},[k,e,r,s,u]);return m.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-gray-800 shadow-sm border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden font-sans",children:[T&&m.jsxs("div",{className:"hidden md:flex flex-shrink-0 p-1.5 bg-slate-900 text-white items-center justify-between z-10 font-mono text-xs uppercase tracking-wider border-b border-slate-700",children:[m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:"text-slate-400 text-[8px]",children:"Total Plan"}),m.jsxs("span",{className:"font-bold text-xs text-blue-200",children:[T.totalCases.toLocaleString()," ",m.jsx("span",{className:"text-[8px] text-slate-500",children:"cs"})]})]}),m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:"text-slate-400 text-[8px]",children:"Est. Trucks"}),m.jsxs("span",{className:"font-bold text-xs",children:[T.trucksRequired," ",m.jsx("span",{className:"text-[8px] text-slate-500",children:"trks"})]})]})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("div",{className:"flex flex-col text-right",children:[m.jsx("span",{className:"text-slate-400 text-[8px]",children:"Scheduled"}),m.jsx("span",{className:"font-bold text-xs text-emerald-400",children:T.totalScheduled})]}),m.jsxs("div",{className:`flex flex-col items-center justify-center px-2 py-0.5 rounded border ${T.gap<0?"bg-red-500/20 border-red-500 text-red-200":"bg-emerald-500/20 border-emerald-500 text-emerald-200"}`,children:[m.jsx("span",{className:"text-[8px] opacity-75",children:"Gap"}),m.jsxs("span",{className:"font-black text-lg leading-none",children:[T.gap>0?"+":"",T.gap]})]})]})]}),m.jsxs("div",{className:"flex justify-between items-center p-2 border-b bg-gray-50 dark:bg-gray-900",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(z5,{className:"w-4 h-4 text-gray-500"}),m.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-gray-600",children:"Workbench View"})]}),m.jsxs("div",{className:"flex gap-1",children:[m.jsx("button",{onClick:()=>j(-7),className:"p-1 hover:bg-gray-200 rounded",children:m.jsx(nx,{className:"w-4 h-4"})}),m.jsx("button",{onClick:()=>v(new Date),className:"px-2 text-xs font-medium hover:bg-gray-200 rounded",children:"Today"}),m.jsx("button",{onClick:()=>j(7),className:"p-1 hover:bg-gray-200 rounded",children:m.jsx(ax,{className:"w-4 h-4"})})]})]}),m.jsx("div",{className:"flex-1 overflow-auto relative custom-scrollbar",children:m.jsxs("table",{className:"w-full border-collapse text-xs",children:[m.jsx("thead",{className:"sticky top-0 z-20 shadow-sm",children:m.jsxs("tr",{children:[m.jsx("th",{className:"sticky left-0 z-30 bg-slate-50 dark:bg-gray-800 w-32 border-b border-r border-slate-300 dark:border-gray-700 p-2 text-left font-bold text-slate-700 dark:text-gray-400 shadow-[4px_0_10px_-4px_rgba(0,0,0,0.1)]",children:"Metric"}),k.map(C=>{const D=vt(C),R=vt(new Date),L=D===R,$=C<new Date(new Date().setHours(0,0,0,0)),q=C.getDay()===0||C.getDay()===6;let V="min-w-[80px] p-1 border-b border-r border-slate-200 dark:border-gray-700 text-center font-medium transition-colors ";return L?V+="bg-blue-600 text-white border-blue-600 ring-2 ring-blue-600 ring-inset ring-offset-0 z-20 shadow-md":$?V+="bg-slate-100 dark:bg-gray-900/50 text-slate-400 dark:text-gray-500":q?V+="bg-slate-50 dark:bg-gray-800/50 text-slate-500 dark:text-gray-500":V+="bg-white dark:bg-gray-800 text-slate-800 dark:text-gray-200",m.jsxs("th",{className:V,children:[m.jsx("div",{className:`text-[10px] uppercase ${L?"text-blue-100":"opacity-60"}`,children:L?"TODAY":C.toLocaleDateString("en-US",{weekday:"short"})}),m.jsx("div",{className:L?"font-bold":"",children:C.toLocaleDateString("en-US",{day:"numeric",month:"numeric"})})]},D)})]})}),m.jsxs("tbody",{children:[m.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-gray-800 group",children:[m.jsxs("td",{className:"sticky left-0 z-10 bg-slate-50 dark:bg-gray-800 border-r border-b border-slate-300 dark:border-gray-700 p-2 font-bold text-slate-700 dark:text-gray-300 group-hover:bg-slate-100 dark:group-hover:bg-gray-800 shadow-[4px_0_10px_-4px_rgba(0,0,0,0.1)]",children:["Production Plan",m.jsx("span",{className:"block text-[9px] font-normal text-slate-400 dark:text-gray-500",children:"Cases"})]}),k.map(C=>{const D=vt(C),R=vt(new Date),L=D===R,$=C<new Date(new Date().setHours(0,0,0,0)),q=e[D]||"",V=t[D],se=V!=null;let de="border-r border-b border-slate-200 dark:border-gray-700 p-0 h-10 relative ";return L?de+="bg-blue-50/80 dark:bg-blue-900/20 ring-2 ring-inset ring-blue-500 z-10 ":$?de+="bg-slate-100 dark:bg-gray-900/40 ":de+="bg-white dark:bg-gray-800 ",m.jsxs("td",{className:de,children:[m.jsx("input",{type:"text",className:`w-full h-full text-center border-none focus:ring-0 bg-transparent p-0 text-gray-900 dark:text-gray-100 ${V?"font-bold":""} ${L?"font-bold":""}`,value:q?Number(q).toLocaleString():"",onChange:U=>n(D,U.target.value.replace(/,/g,"")),onBlur:U=>E(U.target.value.replace(/,/g,""),q,n,D),placeholder:"-"}),se&&m.jsxs("div",{className:"absolute bottom-0 right-0 text-[8px] bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400 px-1 pointer-events-none",title:`Actual: ${V}`,children:["Act: ",V]})]},D)})]}),m.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-gray-800 group",children:[m.jsxs("td",{className:"sticky left-0 z-10 bg-slate-50 dark:bg-gray-800 border-r border-b border-slate-300 dark:border-gray-700 p-2 font-bold text-blue-700 dark:text-blue-400 group-hover:bg-slate-100 dark:group-hover:bg-gray-800 shadow-[4px_0_10px_-4px_rgba(0,0,0,0.1)]",children:["Actual Reconciliation",m.jsx("span",{className:"block text-[9px] font-normal text-slate-400 dark:text-gray-500",children:"Past Dates Only"})]}),k.map(C=>{const D=vt(C),R=vt(new Date),L=D===R,$=C<new Date(new Date().setHours(0,0,0,0)),q=t[D]||"";let V="border-r border-b border-slate-200 dark:border-gray-700 p-0 h-10 relative ";L?V+="bg-blue-50/80 dark:bg-blue-900/20 ring-2 ring-inset ring-blue-500 z-10 ":$?V+="bg-white dark:bg-gray-800 ":V+="bg-slate-50/50 dark:bg-gray-800/50 ";const se=!$;return m.jsx("td",{className:V,children:se?m.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-300 dark:text-gray-600 text-[10px] select-none cursor-not-allowed italic",children:"Locked"}):m.jsx("input",{type:"text",className:"w-full h-full text-center border-none focus:ring-0 bg-transparent p-0 font-bold text-blue-700 dark:text-blue-300",value:q?Number(q).toLocaleString():"",onChange:de=>a(D,de.target.value.replace(/,/g,"")),onBlur:de=>E(de.target.value.replace(/,/g,""),q,a,D),placeholder:"-"})},D)})]}),m.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-gray-800 group",children:[m.jsxs("td",{className:"sticky left-0 z-10 bg-slate-50 dark:bg-gray-800 border-r border-b border-slate-300 dark:border-gray-700 p-2 font-bold text-slate-600 dark:text-gray-400 group-hover:bg-slate-100 dark:group-hover:bg-gray-800 shadow-[4px_0_10px_-4px_rgba(0,0,0,0.1)]",children:["Inbound Trucks",m.jsx("span",{className:"block text-[9px] font-normal text-slate-400 dark:text-gray-500",children:"Click to Manage"})]}),k.map(C=>{const D=vt(C),R=vt(new Date),L=D===R,$=C<new Date(new Date().setHours(0,0,0,0));let q="border-r border-b border-slate-200 dark:border-gray-700 p-0 h-12 align-middle ";return L?q+="bg-blue-50/80 dark:bg-blue-900/20 ring-2 ring-inset ring-blue-500 z-10 ":$?q+="bg-slate-100 dark:bg-gray-900/40 ":q+="bg-white dark:bg-gray-800 ",m.jsx("td",{className:q,children:P(D)},D)})]}),m.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-gray-800 group",children:[m.jsxs("td",{className:"sticky left-0 z-10 bg-slate-50 dark:bg-gray-800 border-r border-b border-slate-300 dark:border-gray-700 p-2 font-bold text-slate-600 dark:text-gray-400 group-hover:bg-slate-100 dark:group-hover:bg-gray-800 shadow-[4px_0_10px_-4px_rgba(0,0,0,0.1)]",children:["Projected End",m.jsx("span",{className:"block text-[9px] font-normal text-slate-400 dark:text-gray-500",children:"Pallets & DOS"})]}),k.map(C=>{const D=vt(C),R=vt(new Date),L=D===R,$=C<new Date(new Date().setHours(0,0,0,0)),q=A(D);let V="border-r border-b border-slate-200 dark:border-gray-700 p-0 h-12 align-middle ";return L?V+="bg-blue-50/80 dark:bg-blue-900/20 ring-2 ring-inset ring-blue-500 z-10 ":$?V+="bg-slate-100 dark:bg-gray-900/40 ":V+="bg-white dark:bg-gray-800 ",m.jsx("td",{className:V,children:O(q)},D)})]})]})]})}),y&&m.jsx($C,{isOpen:!!y,onClose:()=>_(null),date:y,monthlyInbound:r,specs:u,orders:s[y]?.items||[],onSave:f,onDelete:p})]})}function Poe({state:e,setters:t,results:r,readOnly:n=!1}){const{leadTimeDays:a,safetyStockLoads:s,schedulerSettings:l}=Qn(),{productMap:u}=fr(),{user:d}=Tr(),{solve:f}=Toe(),{poManifest:p}=$n(),[g,v]=x.useState(()=>{const me=new Date;return me.setDate(me.getDate()-3),me}),y=me=>{v(_e=>{const ue=new Date(_e);return ue.setDate(ue.getDate()+me),ue})},_=()=>{const me=new Date;me.setDate(me.getDate()-3),v(me)},[k,S]=x.useState(!1),j=()=>{const me=vt(new Date);let _e=`Monthly Replenishment Plan - Generated ${new Date().toLocaleDateString()}
`;_e+=`--------------------------------------------------

`;const ue=r.specs?.productionRate||0,Ge=r.specs?.casesPerTruck||(r.specs?.bottlesPerTruck||2e4)/(r.specs?.bottlesPerCase||1),[Pe,he]=(l?.shiftStartTime||"00:00").split(":").map(Number),ve=Pe+he/60;for(let je=0;je<30;je++){const ze=lr(me,je),Kt=Math.round(Number(e.monthlyInbound[ze]||0));if(Kt>0){const[Yr,mn,di]=ze.split("-").map(Number),mr=new Date(Yr,mn-1,di);if(_e+=`DATE: ${mr.toLocaleDateString(void 0,{weekday:"short",month:"numeric",day:"numeric",year:"numeric"})}
`,_e+=`TRUCKS: ${Kt}
`,ue>0){const Ye=Ge/ue;for(let pn=0;pn<Kt;pn++){const pr=ve+pn*Ye,ga=Math.round(pr%24)%24,bt=Math.round(pr%1*60),Lt=`${ga}:${bt.toString().padStart(2,"0")}`;_e+=`  - Truck ${pn+1}: Arrive approx ${Lt}
`}}_e+=`
`}}navigator.clipboard.writeText(_e).then(()=>{S(!0),setTimeout(()=>S(!1),2e3),alert("Copied 30-Day Plan to Clipboard!")})},A=e.selectedSize?u[e.selectedSize]:null,E=A?.leadTimeDays!==void 0&&A?.leadTimeDays!==null?A.leadTimeDays:a||2,P=A?.safetyStockLoads!==void 0&&A?.safetyStockLoads!==null?Number(A.safetyStockLoads):s||6,O=()=>{if(!confirm(`Auto-Balance will populate Planned Loads to ensure safety stock is met.

Settings:
 - Lead Time: ${E} days
 - Safety Stock: ${P} loads

Proceed?`))return;const{newInbound:me,updatesCount:_e}=f(r,P,u,e.selectedSize,l,e,E)||{};_e>0?t.setMonthlyInbound(me):alert("Schedule is already balanced! No changes needed.")},[T,C]=x.useState(!1),[D,R]=x.useState(!1),[L,$]=x.useState(!1),[q,V]=x.useState(!1),[se,de]=x.useState(!1),[U,H]=x.useState(!1),[Y,fe]=x.useState("grid"),[pe,I]=x.useState(!1);if(!r)return m.jsx("div",{children:"Loading..."});const{netInventory:W,safetyTarget:Q,trucksToOrder:K,trucksToCancel:ae,specs:re,yardInventory:ee}=r;e.totalScheduledCases*re.bottlesPerCase;const we=me=>me?me.toLocaleString():"0",X=()=>{const me=re.bottlesPerTruck/re.bottlesPerCase/(re.casesPerPallet||1),_e=Math.round(r.calculatedPallets+r.yardInventory.effectiveCount*me),ue=r.daysOfSupply!==void 0?r.daysOfSupply:0,Ge=E!==void 0?Number(E):a||2,Pe=Ge+2;let he="Healthy",ve="bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 shadow-sm border-l-4 border-l-emerald-500",je="text-emerald-600 dark:text-emerald-400";ue<=Ge?(he="CRITICAL",ve="bg-red-50 border-red-200 border-l-4 border-l-red-500 animate-pulse",je="text-red-700"):ue<=Pe&&(he="Warning",ve="bg-amber-50 border-amber-200 border-l-4 border-l-amber-500",je="text-amber-700");const ze=Ye=>{const[pn,pr,ga]=Ye.split("-").map(Number);return new Date(pn,pr-1,ga)},Kt=r.firstStockoutDate?ze(r.firstStockoutDate):null;let Yr="Stable";if(Kt){const Ye=new Date;Ye.setHours(0,0,0,0),Kt<=Ye?Yr="NOW":Yr=Kt.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}const mn=new Date().setHours(0,0,0,0),di=Object.entries(r.plannedOrders||{}).filter(([Ye])=>new Date(Ye).setHours(0,0,0,0)<=mn).reduce((Ye,[pn,pr])=>Ye+pr.count,0),mr=e.isAutoReplenish?di:r.trucksToOrder;return m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-2",children:[m.jsxs("div",{className:`p-3 rounded-lg border ${ve} flex flex-col justify-between shadow-sm`,children:[m.jsxs("div",{className:"flex justify-between items-center mb-1",children:[m.jsxs("div",{className:"flex items-center gap-1.5",children:[m.jsx("h3",{className:"text-[10px] font-bold uppercase tracking-wider opacity-70 text-gray-500 dark:text-gray-400",children:"Coverage Health"}),m.jsx(Mg,{className:"w-3.5 h-3.5 text-gray-400 cursor-help",title:"Status of inventory relative to Lead Time. if (Days < Lead Time) => Critical."})]}),he==="CRITICAL"&&m.jsx("span",{className:"text-lg",children:""}),he==="Healthy"&&m.jsx(qa,{className:"w-5 h-5 text-emerald-500"})]}),m.jsxs("div",{children:[m.jsx("div",{className:`text-2xl font-black tracking-tight ${je} leading-none`,children:he}),m.jsx("div",{className:"text-xs font-medium opacity-80 mt-1 dark:text-gray-300",children:he==="CRITICAL"?Yr==="NOW"?"Stockout Computed":`Empty by ${Yr}`:he==="Warning"?"Approaching Safety Stock Limit":"Inventory Levels Optimal"})]})]}),m.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm flex flex-col justify-between",children:[m.jsxs("div",{className:"flex justify-between items-center mb-1",children:[m.jsxs("div",{className:"flex items-center gap-1.5",children:[m.jsx("h3",{className:"text-[10px] font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Days of Supply"}),m.jsx(Mg,{className:"w-3.5 h-3.5 text-gray-400 cursor-help",title:"Total Inventory (Floor + Yard) divided by Daily Production Rate."})]}),m.jsxs("div",{className:"text-[10px] font-bold text-gray-500 bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded",title:"Target Pallets = Safety Stock Loads * Pallets/Truck",children:["Target: ",Q?Math.round(Q/(re.bottlesPerCase*(re.casesPerPallet||1))):"-"," plts"]})]}),m.jsxs("div",{className:"flex items-end space-x-2",children:[m.jsx("div",{className:"text-3xl font-mono font-bold text-gray-800 dark:text-white leading-none",children:ue>=30?"30+":ue.toFixed(1)}),m.jsx("div",{className:"text-xs font-medium text-gray-400 mb-0.5",children:"Days"})]}),m.jsxs("div",{className:"mt-2 text-[10px] font-medium text-gray-500 flex justify-between items-center border-t pt-1 dark:border-gray-700",children:[m.jsx("span",{title:"Physically present inventory",children:"Current On-Hand"}),m.jsxs("span",{className:"font-bold text-gray-700 dark:text-gray-300",children:[we(_e)," Pallets"]})]})]}),m.jsxs("div",{className:`p-3 rounded-lg border flex flex-col justify-between shadow-sm transition-all ${mr>0?"bg-blue-600 border-blue-700 text-white":r.trucksToCancel>0?"bg-orange-100 border-orange-200 text-orange-900 dark:bg-orange-900/40 dark:border-orange-800 dark:text-orange-200":he==="CRITICAL"?"bg-red-50 border-red-200":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700"}`,children:[m.jsxs("div",{className:"flex justify-between items-center mb-1",children:[m.jsxs("div",{className:"flex items-center gap-1.5",children:[m.jsx("h3",{className:`text-[10px] font-bold uppercase tracking-wider ${mr>0?"text-blue-100":"text-gray-500 dark:text-gray-400"}`,children:"Replenishment"}),m.jsx(Mg,{className:`w-3.5 h-3.5 cursor-help ${mr>0?"text-blue-200":"text-gray-400"}`,title:"Orders required TODAY to restore Safety Stock."})]}),mr>0&&m.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full animate-ping"}),r.trucksToCancel>0&&!mr&&m.jsx("span",{className:"text-lg",children:""})]}),mr>0?m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-baseline space-x-2",children:[m.jsx("span",{className:"text-3xl font-black leading-none",children:mr}),m.jsx("span",{className:"text-xs font-bold opacity-90",children:"Trucks Needed"})]}),m.jsx("p",{className:"text-[10px] opacity-80 mt-1 font-medium leading-tight",children:e.isAutoReplenish?"Planned orders due today.":"Deficit based on target."})]}):r.trucksToCancel>0?m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-baseline space-x-2",children:[m.jsx("span",{className:"text-3xl font-black leading-none",children:r.trucksToCancel}),m.jsx("span",{className:"text-xs font-bold opacity-90",children:"Cancel Trucks"})]}),m.jsx("p",{className:"text-[10px] opacity-80 mt-1 font-medium leading-tight",children:"Excess inventory confirmed."})]}):m.jsxs("div",{children:[m.jsx("div",{className:"flex items-baseline space-x-2",children:he==="CRITICAL"?m.jsx("span",{className:"text-2xl font-bold leading-none text-red-600",children:"Expedite!"}):m.jsx("span",{className:"text-2xl font-bold leading-none text-gray-800 dark:text-white",children:"Standby"})}),m.jsx("p",{className:"text-[10px] text-gray-500 mt-1 leading-tight",children:he==="CRITICAL"?"Stockout imminent. Review.":"No immediate orders due."})]})]})]})};return m.jsxs("div",{className:"max-w-full mx-auto pb-12",children:[X(),m.jsxs("div",{className:"flex flex-col space-y-6",children:[m.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 flex flex-col overflow-hidden",children:[m.jsxs("div",{className:"px-5 py-3 border-b border-gray-200 dark:border-gray-700 flex flex-col lg:flex-row justify-between items-center bg-gray-50 dark:bg-gray-900/50 gap-4",children:[m.jsxs("div",{className:"flex items-center gap-4 w-full lg:w-auto",children:[m.jsxs("div",{className:"flex bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-0.5",children:[m.jsx("button",{onClick:()=>y(-7),className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md text-gray-500 transition-colors",title:"Previous Week",children:m.jsx(nx,{className:"w-4 h-4"})}),m.jsx("button",{onClick:_,className:"px-3 py-1 text-xs font-bold text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 border-x border-gray-100 dark:border-gray-700 mx-0.5 transition-colors",children:"Today"}),m.jsx("button",{onClick:()=>y(7),className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md text-gray-500 transition-colors",title:"Next Week",children:m.jsx(ax,{className:"w-4 h-4"})})]}),m.jsxs("span",{className:"text-xs font-medium text-gray-400 hidden sm:block",children:[g.toLocaleDateString("en-US",{month:"short",day:"numeric"})," - ",lr(vt(g),6).split("-").slice(1).join("/")]})]}),m.jsxs("div",{className:"flex flex-wrap items-center gap-3 w-full lg:w-auto justify-end",children:[m.jsxs("div",{className:"flex items-center gap-1 bg-white dark:bg-gray-700 p-1 rounded-lg border border-gray-200 dark:border-gray-600 shadow-sm",children:[!n&&m.jsxs(m.Fragment,{children:[m.jsx("button",{onClick:()=>{confirm(`Force Cloud Sync?

This will clear your local cache and reload the latest data from the server.
Any unsaved local drafts might be lost.`)&&(Object.keys(localStorage).forEach(me=>{me.startsWith("mrp_")&&localStorage.removeItem(me)}),window.location.reload())},className:"p-1.5 text-gray-500 hover:text-sky-500 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-md transition-colors",title:"Force Cloud Sync (Clear Cache)",children:m.jsx(S$,{className:"w-5 h-5"})}),m.jsx("div",{className:"w-px h-4 bg-gray-300 dark:bg-gray-600 mx-1"}),m.jsx("button",{onClick:()=>I(!0),className:"p-1.5 text-gray-500 hover:text-orange-500 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-md transition-colors",title:"Morning True-Up",children:m.jsx(I5,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>$(!0),className:"p-1.5 text-gray-500 hover:text-emerald-500 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-md transition-colors",title:"Import Inbound",children:m.jsx(rx,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>H(!0),className:"p-1.5 text-gray-500 hover:text-purple-500 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-md transition-colors",title:"Manage POs",children:m.jsx(h2,{className:"w-5 h-5"})})]}),m.jsx("button",{onClick:()=>V(!0),className:"p-1.5 text-gray-500 hover:text-blue-500 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-md transition-colors",title:"Email Suppliers",children:m.jsx(R5,{className:"w-5 h-5"})})]}),!n&&!e.isAutoReplenish&&m.jsxs("button",{onClick:O,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-bold text-white bg-indigo-600 hover:bg-indigo-700 rounded-lg shadow-sm transition-all",title:"Manually calculate replenishment (Not needed in Auto-Pilot)",children:[m.jsx(D5,{className:"w-3.5 h-3.5"}),m.jsx("span",{className:"hidden sm:inline",children:"Auto-Balance"})]}),m.jsx("div",{className:"h-6 w-px bg-gray-300 dark:bg-gray-600 hidden md:block mx-1"}),m.jsxs("div",{className:"flex bg-white dark:bg-gray-700 p-1 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600",children:[m.jsx("button",{onClick:()=>fe("grid"),className:`px-2.5 py-1.5 rounded-md text-xs font-bold transition-all ${Y==="grid"?"bg-blue-50 text-blue-700 dark:bg-slate-600 dark:text-blue-300 shadow-sm":"text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"Grid"}),m.jsx("button",{onClick:()=>fe("workbench"),className:`px-2.5 py-1.5 rounded-md text-xs font-bold transition-all ${Y==="workbench"?"bg-blue-50 text-blue-700 dark:bg-slate-600 dark:text-blue-300 shadow-sm":"text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"Work"}),m.jsx("button",{onClick:()=>fe("calendar"),className:`px-2.5 py-1.5 rounded-md text-xs font-bold transition-all ${Y==="calendar"?"bg-blue-50 text-blue-700 dark:bg-slate-600 dark:text-blue-300 shadow-sm":"text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"Cal"})]}),!n&&m.jsx("label",{className:"flex items-center cursor-pointer group",title:"Auto-Pilot Mode",children:m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"checkbox",className:"sr-only",checked:e.isAutoReplenish||!1,onChange:me=>t.setIsAutoReplenish(me.target.checked)}),m.jsx("div",{className:`block w-7 h-4 rounded-full transition-colors ${e.isAutoReplenish?"bg-purple-600":"bg-gray-300 dark:bg-gray-600"}`}),m.jsx("div",{className:`dot absolute left-1 top-1 bg-white w-2 h-2 rounded-full transition-transform ${e.isAutoReplenish?"transform translate-x-3":""}`})]})}),m.jsx("button",{onClick:j,className:`p-1.5 rounded-lg border transition-all ${k?"bg-green-50 border-green-200 text-green-600":"bg-white dark:bg-gray-700 border-gray-200 dark:border-gray-600 text-gray-500 hover:text-gray-700"}`,title:"Export 30-Day Plan",children:k?m.jsx(qa,{className:"w-5 h-5"}):m.jsx(h2,{className:"w-5 h-5"})})]})]}),m.jsx("div",{className:"flex-1 overflow-hidden relative bg-slate-200 dark:bg-slate-900 rounded-xl shadow-lg border border-slate-300 dark:border-slate-800",children:Y==="calendar"?m.jsx("div",{className:"h-full p-4 overflow-auto",children:m.jsx(IB,{monthlyDemand:e.monthlyDemand||{},updateDateDemand:t.updateDateDemand,updateDateDemandBulk:t.updateDateDemandBulk,monthlyInbound:e.monthlyInbound||{},updateDateInbound:t.updateDateInbound,monthlyProductionActuals:e.monthlyProductionActuals||{},updateDateActual:t.updateDateActual,specs:r?.specs,trucksToCancel:r?.trucksToCancel,dailyLedger:r?.dailyLedger,safetyTarget:r?.safetyTarget,poManifest:p,readOnly:n})}):Y==="workbench"?m.jsx(Coe,{monthlyDemand:e.monthlyDemand||{},updateDateDemand:t.updateDateDemand,monthlyInbound:e.monthlyInbound||{},monthlyProductionActuals:e.monthlyProductionActuals||{},updateDateActual:t.updateDateActual,specs:r?.specs,dailyLedger:r?.dailyLedger,userProfile:d,startDate:g,readOnly:n}):m.jsx(tV,{monthlyDemand:e.monthlyDemand||{},updateDateDemand:t.updateDateDemand,updateDateDemandBulk:t.updateDateDemandBulk,monthlyInbound:e.monthlyInbound||{},updateDateInbound:t.updateDateInbound,monthlyProductionActuals:e.monthlyProductionActuals||{},updateDateActual:t.updateDateActual,specs:r?.specs,safetyTarget:r?.safetyTarget,dailyLedger:r?.dailyLedger,userProfile:d,startDate:g,readOnly:n})})]}),m.jsx("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:m.jsx(Aoe,{dailyLedger:r.dailyLedger,safetyTargetBottles:r.safetyTarget,specs:r.specs})})]}),m.jsx(LC,{isOpen:pe,onClose:()=>I(!1),state:e,setters:t}),m.jsx(nV,{isOpen:L,onClose:()=>$(!1)}),m.jsx(aV,{isOpen:q,onClose:()=>V(!1),mrpResults:r}),m.jsx(iV,{isOpen:se,onClose:()=>de(!1)}),m.jsx(oV,{isOpen:U,onClose:()=>H(!1)})]})}var ih={exports:{}},Doe=ih.exports,N5;function Moe(){return N5||(N5=1,(function(e,t){(function(r,n){n()})(Doe,function(){function r(f,p){return typeof p>"u"?p={autoBom:!1}:typeof p!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),p={autoBom:!p}),p.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(f.type)?new Blob(["\uFEFF",f],{type:f.type}):f}function n(f,p,g){var v=new XMLHttpRequest;v.open("GET",f),v.responseType="blob",v.onload=function(){d(v.response,p,g)},v.onerror=function(){console.error("could not download file")},v.send()}function a(f){var p=new XMLHttpRequest;p.open("HEAD",f,!1);try{p.send()}catch{}return 200<=p.status&&299>=p.status}function s(f){try{f.dispatchEvent(new MouseEvent("click"))}catch{var p=document.createEvent("MouseEvents");p.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),f.dispatchEvent(p)}}var l=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof hf=="object"&&hf.global===hf?hf:void 0,u=l.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),d=l.saveAs||(typeof window!="object"||window!==l?function(){}:"download"in HTMLAnchorElement.prototype&&!u?function(f,p,g){var v=l.URL||l.webkitURL,y=document.createElement("a");p=p||f.name||"download",y.download=p,y.rel="noopener",typeof f=="string"?(y.href=f,y.origin===location.origin?s(y):a(y.href)?n(f,p,g):s(y,y.target="_blank")):(y.href=v.createObjectURL(f),setTimeout(function(){v.revokeObjectURL(y.href)},4e4),setTimeout(function(){s(y)},0))}:"msSaveOrOpenBlob"in navigator?function(f,p,g){if(p=p||f.name||"download",typeof f!="string")navigator.msSaveOrOpenBlob(r(f,g),p);else if(a(f))n(f,p,g);else{var v=document.createElement("a");v.href=f,v.target="_blank",setTimeout(function(){s(v)})}}:function(f,p,g,v){if(v=v||open("","_blank"),v&&(v.document.title=v.document.body.innerText="downloading..."),typeof f=="string")return n(f,p,g);var y=f.type==="application/octet-stream",_=/constructor/i.test(l.HTMLElement)||l.safari,k=/CriOS\/[\d]+/.test(navigator.userAgent);if((k||y&&_||u)&&typeof FileReader<"u"){var S=new FileReader;S.onloadend=function(){var E=S.result;E=k?E:E.replace(/^data:[^;]*;/,"data:attachment/file;"),v?v.location.href=E:location=E,v=null},S.readAsDataURL(f)}else{var j=l.URL||l.webkitURL,A=j.createObjectURL(f);v?v.location=A:location.href=A,v=null,setTimeout(function(){j.revokeObjectURL(A)},4e4)}});l.saveAs=d.saveAs=d,e.exports=d})})(ih)),ih.exports}var Roe=Moe();function $oe({schedule:e,truckSchedule:t,onUpdatePO:r,onDelete:n,specs:a,readOnly:s=!1}){const l=(f,p)=>{if(!p||p===0)return[];let g=0;f.includes("08:00-16:00")?g=8:f.includes("16:00-00:00")?g=16:g=0;const y=8/p,_=[];for(let k=0;k<p;k++){const j=(g+y*k)%24,A=Math.round(j),P=(A===24?0:A).toString().padStart(2,"0");_.push(`${P}:00`)}return _},u=()=>!t||t.length===0?[]:t.map(f=>{const p=a?a.name:"Unknown",g=a?a.palletsPerTruck:0,[v]=f.time.split(":").map(Number);let y="Unknown";return v>=0&&v<8?y="Shift 1":v>=8&&v<16?y="Shift 2":y="Shift 3",{LoadID:f.id,Time:f.time,Shift:y,PO:f.po||"",BottleSize:p,Pallets:g}}),d=()=>{try{const f=u();if(!f||f.length===0){alert("No schedule to export.");return}let g="\uFEFF"+["Load ID","Delivery Time","Shift","PO Number","Bottle Size","Pallets"].join(",")+`
`;f.forEach(k=>{const S=String(k.PO||"").replace(/"/g,'""');g+=[k.LoadID,k.Time,k.Shift,`"${S}"`,k.BottleSize,k.Pallets].join(",")+`
`});const y=new Date().toISOString().slice(0,10),_=new Blob([g],{type:"text/csv;charset=utf-8"});Roe.saveAs(_,`Schedule_${y}.csv`)}catch(f){console.error(f),alert("Export failed")}};return m.jsxs("div",{className:"space-y-8",children:[m.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[m.jsxs("div",{children:[m.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[m.jsx(Vr,{className:"w-6 h-6 text-indigo-500"}),"Live Dock Schedule"]}),m.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[t.length," Loads Scheduled  Auto-optimized intervals"]})]}),m.jsxs("button",{onClick:d,className:"flex items-center space-x-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 px-4 py-2 rounded-lg font-bold hover:bg-indigo-100 transition-colors",children:[m.jsx(rx,{className:"w-5 h-5"}),m.jsx("span",{children:"Export CSV"})]})]}),t&&t.length>0?m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map((f,p)=>{const g=f.po&&f.po.length>0;return m.jsxs("div",{className:`
                                    relative flex flex-col justify-between
                                    bg-white dark:bg-slate-800 
                                    rounded-2xl shadow-sm hover:shadow-md transition-shadow 
                                    border border-slate-200 dark:border-slate-700
                                    overflow-hidden group
                                `,children:[m.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1.5 ${g?"bg-emerald-500":"bg-amber-400"}`}),m.jsxs("div",{className:"p-5 pl-7",children:[" ",m.jsxs("div",{className:"flex justify-between items-start mb-4",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:`p-2 rounded-lg ${g?"bg-emerald-50 text-emerald-600 dark:bg-emerald-900/20":"bg-slate-100 text-slate-500 dark:bg-slate-700"}`,children:m.jsx(Su,{className:"w-6 h-6"})}),m.jsxs("div",{children:[m.jsx("div",{className:"text-xs font-bold uppercase text-slate-400",children:"Arrival"}),m.jsx("div",{className:"text-2xl font-black text-slate-800 dark:text-white leading-none",children:f.time})]})]}),m.jsxs("span",{className:"text-xs font-bold text-slate-300",children:["#",p+1]})]}),m.jsxs("div",{className:"mt-2",children:[m.jsxs("label",{className:"flex items-center gap-1 text-[10px] font-bold uppercase text-slate-500 mb-1",children:[m.jsx(T$,{className:"w-3 h-3"}),"Purchase Order"]}),m.jsx("input",{type:"text",placeholder:s?"Registered Only":"Enter PO...",value:f.po||"",disabled:s,onChange:v=>r(f.id,v.target.value),className:`
                                                w-full p-2 rounded-lg text-sm font-bold border transition-colors
                                                focus:ring-2 focus:ring-offset-0 outline-none
                                                ${s?"opacity-60 cursor-not-allowed bg-gray-100":""}
                                                ${g?"bg-emerald-50 border-emerald-200 text-emerald-700 focus:ring-emerald-500 dark:bg-emerald-900/10 dark:border-emerald-800 dark:text-emerald-400":"bg-slate-50 border-slate-200 text-slate-800 focus:ring-indigo-500 dark:bg-slate-900/50 dark:border-slate-600 dark:text-white"}
                                            `})]})]}),m.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 p-3 pl-7 border-t border-slate-100 dark:border-slate-700 flex justify-between items-center",children:[m.jsx("div",{className:"text-xs font-medium text-slate-400",children:g?"Confirmed":"Awaiting PO"}),!s&&m.jsx("button",{onClick:()=>n(f.id),className:"text-slate-400 hover:text-rose-500 transition-colors p-1",title:"Delete Load",children:m.jsx(Ya,{className:"w-5 h-5"})})]})]},f.id)})}):m.jsxs("div",{className:"text-center py-20 bg-slate-50 dark:bg-slate-800/50 rounded-xl border-2 border-dashed border-slate-200 dark:border-slate-700",children:[m.jsx(Vr,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),m.jsx("h3",{className:"text-lg font-bold text-slate-500",children:"No Loads Scheduled"}),m.jsx("p",{className:"text-slate-400 text-sm",children:"Use the settings above to generate a schedule."})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:[m.jsx("div",{className:"px-6 py-4 border-b border-slate-100 dark:border-slate-700 bg-slate-50 dark:bg-slate-800/80",children:m.jsx("h3",{className:"font-bold text-slate-700 dark:text-slate-200 text-sm uppercase tracking-wide",children:"Shift Distribution Check"})}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full divide-y divide-slate-100 dark:divide-slate-700",children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-slate-400 uppercase",children:"Shift"}),m.jsx("th",{className:"px-6 py-3 text-center text-xs font-bold text-slate-400 uppercase",children:"Loads"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-slate-400 uppercase",children:"Timeline"})]})}),m.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:e.map((f,p)=>m.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-slate-700 dark:text-slate-200",children:f.name}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:m.jsx("span",{className:"inline-flex items-center justify-center px-2.5 py-0.5 rounded-full text-xs font-bold bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-300",children:f.loads})}),m.jsx("td",{className:"px-6 py-4",children:m.jsxs("div",{className:"flex flex-wrap gap-2",children:[l(f.name,f.loads).map((g,v)=>m.jsx("span",{className:"bg-white border border-slate-200 dark:bg-slate-900 dark:border-slate-600 text-slate-600 dark:text-slate-400 px-2 py-1 rounded text-xs font-mono",children:g},v)),f.loads===0&&m.jsx("span",{className:"text-slate-300 text-xs italic",children:"Empty"})]})})]},p))})]})})]})]})}function Loe({state:e,setters:t,results:r,readOnly:n=!1}){const{productMap:a}=fr(),s=Object.keys(a);if(!r)return m.jsx("div",{children:"Loading..."});const{requiredDailyLoads:l,weeklyLoads:u,schedule:d}=r;return m.jsxs("div",{className:"space-y-8",children:[m.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md transition-colors",children:[m.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white mb-6 border-b dark:border-gray-700 pb-2",children:" Logistics Settings"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 items-end",children:[m.jsxs("div",{className:"col-span-1",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Bottle Size Reference"}),m.jsx("select",{value:e.selectedSize,disabled:n,onChange:f=>t.setSelectedSize(f.target.value),className:"block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-900 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500 py-2 disabled:opacity-50 disabled:cursor-not-allowed",children:s.map(f=>m.jsx("option",{value:f,children:f},f))})]}),m.jsxs("div",{className:"col-span-2",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Target Daily Production (Cases)"}),m.jsxs("div",{className:"relative rounded-md shadow-sm",children:[m.jsx("input",{type:"number",inputMode:"numeric",pattern:"[0-9]*",min:"0",disabled:n,value:e.targetDailyProduction||"",onChange:f=>t.setTargetDailyProduction(f.target.value),className:"block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-900 dark:text-white focus:border-blue-500 focus:ring-blue-500 text-2xl p-2 pl-4 disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"60000"}),m.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:m.jsx("span",{className:"text-gray-500 sm:text-sm",children:"cases/day"})})]})]})]}),m.jsxs("div",{className:"col-span-1 mt-6",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Production Start Time"}),m.jsx("input",{type:"time",value:e.shiftStartTime,disabled:n,onChange:f=>t.setShiftStartTime(f.target.value),className:"block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-900 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500 py-2 px-3 disabled:opacity-50 disabled:cursor-not-allowed"})]})]}),m.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4 border-t dark:border-gray-700 pt-6",children:[m.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-3 rounded border border-gray-200 dark:border-gray-700",children:[m.jsx("span",{className:"block text-xs text-gray-500 dark:text-gray-400 uppercase font-bold",children:"Production Burn Rate"}),m.jsxs("span",{className:"block text-xl font-bold text-gray-800 dark:text-white",children:[Math.round(r.burnRate).toLocaleString()," cases/hr"]})]}),m.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-3 rounded border border-gray-200 dark:border-gray-700",children:[m.jsx("span",{className:"block text-xs text-gray-500 dark:text-gray-400 uppercase font-bold",children:"Truck Interval"}),m.jsxs("span",{className:"block text-xl font-bold text-indigo-600 dark:text-indigo-400",children:["Every ",Math.floor(r.hoursPerTruck),"h ",Math.round(r.hoursPerTruck%1*60),"m"]})]}),m.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/30 p-3 rounded border border-blue-100 dark:border-blue-800 flex flex-col justify-center",children:[m.jsx("span",{className:"text-sm font-medium text-blue-800 dark:text-blue-200 uppercase",children:"Daily Truck Requirement"}),m.jsx("span",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:r.requiredDailyLoads})]})]}),m.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[m.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-4 rounded-md flex justify-between items-center text-sm text-gray-600 dark:text-gray-400 border border-gray-100 dark:border-gray-700",children:[m.jsxs("span",{children:["Total Weekly Volume: ",m.jsxs("strong",{className:"text-gray-900 dark:text-white",children:[u.toLocaleString()," Loads"]})]}),m.jsx("span",{children:"Based on 24/7 Production schedule"})]}),m.jsx($oe,{schedule:r.schedule,truckSchedule:r.truckSchedule,onUpdatePO:t.updatePO,onDelete:t.toggleCancelled,specs:r.specs,readOnly:n})]})]})}const PM=(e,t)=>`mrp_${t}_${e}`,ir=(e,t,r,n=!1)=>{const a=PM(e,r),s=`mrp_${e}`;let l=localStorage.getItem(a);if(l===null&&r==="20oz"&&(l=localStorage.getItem(s)),l===null)return t;if(n)try{return JSON.parse(l)||t}catch{return t}return l},an=(e,t,r,n=!1)=>{const a=PM(e,r),s=n?JSON.stringify(t):t;localStorage.setItem(a,s)};function Ioe(){const{productMap:e}=fr(),t=Object.keys(e),{user:r}=Tr(),{fetchMRPState:n,migrateLocalStorage:a}=kl(),[s,l]=x.useState(()=>localStorage.getItem("mrp_selectedSize")||"20oz"),[u,d]=x.useState(()=>ir("monthlyDemand",{},s,!0)),[f,p]=x.useState(()=>ir("monthlyProductionActuals",{},s,!0)),[g,v]=x.useState(()=>ir("monthlyInbound",{},s,!0)),[y,_]=x.useState(()=>ir("truckManifest",{},s,!0)),[k,S]=x.useState(()=>Number(ir("downtimeHours",0,s))),[j,A]=x.useState(()=>Number(ir("currentInventoryPallets",0,s))),[E,P]=x.useState(()=>ir("inventoryAnchor",{date:Cn(),count:0},s,!0)),[O,T]=x.useState(()=>Number(ir("incomingTrucks",0,s))),[C,D]=x.useState(()=>ir("yardInventory",{count:0,date:null,fileName:null},s,!0)),[R,L]=x.useState(()=>r?!0:ir("isAutoReplenish",!0,s,!0)),[$,q]=x.useState(null),[V,se]=x.useState(0);return x.useEffect(()=>()=>{},[r]),x.useEffect(()=>{localStorage.setItem("mrp_selectedSize",s),r?(async()=>{try{const U=await n(r.id,s);if(U)q(U.product),Object.keys(U.monthlyDemand||{}).length>0&&d(H=>({...U.monthlyDemand,...H})),Object.keys(U.monthlyProductionActuals||{}).length>0&&p(H=>({...U.monthlyProductionActuals,...H})),Object.keys(U.monthlyInbound||{}).length>0&&v(H=>({...U.monthlyInbound,...H})),Object.keys(U.truckManifest||{}).length>0&&_(H=>({...U.truckManifest,...H})),S(U.downtimeHours),L(U.isAutoReplenish),U.inventoryAnchor&&P(H=>H?.date&&U.inventoryAnchor?.date&&new Date(H.date)>=new Date(U.inventoryAnchor.date)?H:U.inventoryAnchor||H),U.yardInventory&&D(H=>H?.date&&U.yardInventory.date&&new Date(H.date)>=new Date(U.yardInventory.date)?H:U.yardInventory);else if((await a(r,t)).success){const Y=await n(r.id,s);Y&&(Object.keys(Y.monthlyInbound||{}).length>0&&v(fe=>({...Y.monthlyInbound,...fe})),Object.keys(Y.truckManifest||{}).length>0&&_(fe=>({...Y.truckManifest,...fe})),S(Y.downtimeHours),L(Y.isAutoReplenish),Y.inventoryAnchor&&P(Y.inventoryAnchor),Y.yardInventory&&D(Y.yardInventory))}}catch(U){console.error("Failed to load cloud state",U)}})():(d(ir("monthlyDemand",{},s,!0)),p(ir("monthlyProductionActuals",{},s,!0)),v(ir("monthlyInbound",{},s,!0)),_(ir("truckManifest",{},s,!0)),S(Number(ir("downtimeHours",0,s))),P(ir("inventoryAnchor",{date:Cn(),count:0},s,!0)),L(ir("isAutoReplenish",!0,s,!0)))},[s,r?.id]),bh({table:"planning_entries",filter:$?`product_id=eq.${$.id}`:void 0,enabled:!!$?.id,onDataChange:de=>{const{eventType:U,new:H}=de;if(U==="DELETE")return;const Y=H.date,fe=Number(H.value);H.entry_type==="demand_plan"?d(pe=>({...pe,[Y]:fe})):H.entry_type==="production_actual"?p(pe=>({...pe,[Y]:fe})):H.entry_type==="inbound_trucks"&&v(pe=>({...pe,[Y]:fe}))}}),bh({table:"inventory_snapshots",filter:$?`product_id=eq.${$.id}`:void 0,enabled:!!$?.id,onDataChange:de=>{console.log("[InventorySync] Event Received:",de);const{eventType:U,new:H}=de;if(U==="DELETE")return;const Y=Number(H.quantity_pallets),fe=H.date;H.location==="yard"?D(pe=>({...pe,count:Y,date:fe||pe.date})):H.location==="floor"&&(A(Y),P(pe=>({...pe,count:Y,date:fe||pe.date})))}}),{selectedSize:s,setSelectedSize:l,monthlyDemand:u,setMonthlyDemand:d,monthlyProductionActuals:f,setMonthlyProductionActuals:p,monthlyInbound:g,setMonthlyInbound:v,truckManifest:y,setTruckManifest:_,downtimeHours:k,setDowntimeHours:S,currentInventoryPallets:j,setCurrentInventoryPallets:A,inventoryAnchor:E,setInventoryAnchor:P,incomingTrucks:O,setIncomingTrucks:T,yardInventory:C,setYardInventory:D,isAutoReplenish:R,setIsAutoReplenish:L,refreshTrigger:V}}const zoe=({todayStr:e,productionRate:t,downtimeHours:r,bottleSpecs:n,inventoryAnchor:a,yardInventory:s,incomingTrucks:l,monthlyDemand:u,monthlyProductionActuals:d,monthlyInbound:f,poManifest:p,safetyStockLoads:g})=>{if(!n)return null;const v=n,y=1+(v.scrapPercentage||0)/100,_=v.bottlesPerCase||12,k=v.bottlesPerTruck||1,S=v.casesPerPallet||1,j=new Set([...Object.keys(u||{}),...Object.keys(d||{})]),A=Array.from(j).reduce((ae,re)=>{if(re>=e){const ee=d[re],we=u[re],X=re>e,me=ee!=null&&(!X||Number(ee)!==0),_e=Number(me?ee:we);return ae+(_e||0)}return ae},0),E=r*t,P=Math.max(0,A-E),O=ae=>p&&p[ae]?.items?.length>0?p[ae].items.length:Number(f[ae])||0,T=new Set([...Object.keys(f),...Object.keys(p||{})]),C=Array.from(T).reduce((ae,re)=>re>=e?ae+O(re):ae,0),D=(l||0)+C,R=D*k,L=s?.count||0,$=L*k;let q=a.count;if(a.date){const ae=new Date(a.date),ee=new Date(e)-ae,we=Math.ceil(ee/(1e3*60*60*24));if(we>0&&we<365)for(let X=0;X<we;X++){const me=lr(a.date,X),_e=d[me],ue=u[me],Ge=me>e,Pe=_e!=null&&(!Ge||Number(_e)!==0),he=Number(Pe?_e:ue||0),ve=O(me),je=k/_/S,ze=ve*je,Kt=he/S;q=q+ze-Kt}}const V=q*S*_,se=P*_*y,de=V+R+$-se,U=g*k,H=[];let Y=V+$,fe=null,pe=null;for(let ae=0;ae<30;ae++){const re=lr(e,ae),ee=d[re],we=u[re],X=re>e,me=ee!=null&&(!X||Number(ee)!==0),ue=Number(me?ee:we||0)*_*y,Pe=O(re)*k;Y=Y+Pe-ue,H.push({date:re,dateStr:re,balance:Y,demand:ue,supply:Pe,projectedEndInventory:Y,projectedPallets:Y/(_*S||1),daysOfSupply:0}),Y<U&&!fe&&(fe=re),Y>U+k*2&&!pe&&(pe=re)}let I=0,W=0;if(de<U)I=Math.ceil((U-de)/k);else if(de>U+k){const ae=de-U;if(ae>k){const re=Math.floor(ae/k);W=Math.min(re,D)}}let Q=30;if(H.length>0){const ae=H.findIndex(re=>re.balance<0);if(ae!==-1){const re=H[ae],ee=ae>0?H[ae-1].balance:V+$;let we=0;re.demand>0&&ee>0&&(we=ee/re.demand),Q=ae+we}}const K={};return Object.entries(f).forEach(([ae,re])=>{Number(re)<=0||p&&p[ae]?.items?.length>0||(K[ae]||(K[ae]={count:0,items:[]}),K[ae].count+=Number(re),K[ae].items.push({needDate:ae,trucks:Number(re)}))}),{netInventory:de,safetyTarget:U,trucksToOrder:I,trucksToCancel:W,lostProductionCases:E,effectiveScheduledCases:P,specs:v,yardInventory:{...s,effectiveCount:L,isOverridden:!1},dailyLedger:H,firstStockoutDate:fe,firstOverflowDate:pe,totalIncomingTrucks:D,initialInventory:V+$,calculatedPallets:q,daysOfSupply:Q,inventoryAnchor:a,plannedOrders:K}};function Uoe(e,t={}){const{safetyStockLoads:r}=Qn(),{productMap:n}=fr(),{selectedSize:a,monthlyDemand:s,monthlyProductionActuals:l,monthlyInbound:u,downtimeHours:d,incomingTrucks:f,yardInventory:p,inventoryAnchor:g}=e,v=n[a],y=v?.productionRate||0,_=x.useMemo(()=>{if(!v)return null;const k={todayStr:Cn(),productionRate:y,downtimeHours:d,bottleSpecs:v,inventoryAnchor:g,yardInventory:p,incomingTrucks:f,monthlyDemand:s,monthlyProductionActuals:l,monthlyInbound:u,poManifest:t,safetyStockLoads:r};return zoe(k)},[a,y,d,f,n,r,p,s,u,g,t,l,v]);return x.useMemo(()=>({totalScheduledCases:_?.effectiveScheduledCases||0,productionRate:y,calculations:_}),[_,y])}function Boe(e,t){const{safetyStockLoads:r,leadTimeDays:n}=Qn(),{productMap:a,refreshProducts:s}=fr(),{user:l,userRole:u}=Tr(),{savePlanningEntry:d,saveProductionSetting:f,saveInventorySnapshot:p}=kl(),{selectedSize:g,setSelectedSize:v,monthlyDemand:y,setMonthlyDemand:_,monthlyProductionActuals:k,setMonthlyProductionActuals:S,monthlyInbound:j,setMonthlyInbound:A,truckManifest:E,setTruckManifest:P,setDowntimeHours:O,setCurrentInventoryPallets:T,setIncomingTrucks:C,setYardInventory:D,isAutoReplenish:R,setIsAutoReplenish:L,setInventoryAnchor:$,inventoryAnchor:q}=e,{calculations:V}=t,se=x.useRef(0),de=x.useRef(y),U=x.useRef(k),H=x.useRef(j);x.useLayoutEffect(()=>{de.current=y},[y]),x.useLayoutEffect(()=>{U.current=k},[k]),x.useLayoutEffect(()=>{H.current=j},[j]);const[Y,fe]=x.useState(!1),[pe,I]=x.useState(null),W=x.useRef({}),Q=x.useRef({}),K=x.useCallback(async he=>{if(["admin","planner"].includes(u||"")){I(null);try{await he()}catch(je){console.error("Save Error",je),I(je.message||"Save Failed")}}},[u]),ae=x.useCallback((he,ve,je=1e3)=>{W.current[he]&&clearTimeout(W.current[he]),W.current[he]=setTimeout(()=>{K(ve),delete W.current[he]},je)},[K]),re=x.useCallback((he,ve,je=300)=>{Q.current[he]&&clearTimeout(Q.current[he]),Q.current[he]=setTimeout(()=>{ve(),delete Q.current[he]},je)},[]);x.useEffect(()=>()=>{Object.values(W.current).forEach(clearTimeout),Object.values(Q.current).forEach(clearTimeout)},[]);const ee=x.useCallback(()=>{if(!V||!R)return;const he=de.current,ve=U.current,je=H.current,ze=a[g];if(!ze)return;const Kt=1+(ze.scrapPercentage||0)/100,Yr=(r||0)*ze.bottlesPerTruck;let mn=V.initialInventory||0;const di=n||2,mr={},Ye=Cn();for(let bt=0;bt<di;bt++){const Lt=lr(Ye,bt),gr=ve[Lt],Ml=he[Lt],Rl=Lt>Ye,va=gr!=null&&(!Rl||Number(gr)!==0),gn=Number(va?gr:Ml||0)*(ze.bottlesPerCase||1)*Kt,It=je[Lt]||0;mn=mn+It*ze.bottlesPerTruck-gn}for(let bt=di;bt<60;bt++){const Lt=lr(Ye,bt),gr=ve[Lt],Ml=he[Lt],Rl=Lt>Ye,va=gr!=null&&(!Rl||Number(gr)!==0),gn=Number(va?gr:Ml||0)*(ze.bottlesPerCase||1)*Kt;let It=0,no=mn-gn;if(no<Yr){const Yu=Math.ceil((Yr-no)/ze.bottlesPerTruck);It=Yu,no+=Yu*ze.bottlesPerTruck}It>0?mr[Lt]=It:je[Lt]&&(mr[Lt]=0),mn=no}let pn=!1;if(Object.entries(mr).forEach(([bt,Lt])=>{(je[bt]||0)!==Lt&&(pn=!0)}),!pn)return;const pr={...je,...mr};Object.keys(pr).forEach(bt=>{pr[bt]===0&&delete pr[bt]});const ga=bt=>Object.keys(bt).sort().reduce((Lt,gr)=>({...Lt,[gr]:bt[gr]}),{});JSON.stringify(ga(pr))!==JSON.stringify(ga(je))&&(A(pr),an("monthlyInbound",pr,g,!0))},[V,R,a,g,r,n,l,u,d,A,K]),we=x.useCallback((he,ve)=>{const je=ve,ze={...de.current,[he]:je};_(ze),re("monthlyDemand",()=>{an("monthlyDemand",ze,g,!0)},500),l&&ae(`demand-${he}`,async()=>d(l.id,g,he,"demand_plan",Number(je)),1e3)},[g,l,ae,re,_,d]),X=x.useCallback((he,ve)=>{const je=ve===""||ve===null?void 0:ve,ze={...U.current};je===void 0?delete ze[he]:ze[he]=je,S(ze),re("monthlyProductionActuals",()=>{an("monthlyProductionActuals",ze,g,!0)},500),l&&ae(`actual-${he}`,async()=>d(l.id,g,he,"production_actual",je===void 0?null:Number(je)),1e3)},[g,l,ae,re,S,d]),me=x.useCallback((he,ve)=>{const je=ve,ze={...H.current};je===""||je==="0"||Number(je)===0?delete ze[he]:ze[he]=je,A(ze),re("monthlyInbound",()=>{an("monthlyInbound",ze,g,!0)},500),l&&ae(`inbound-${he}`,async()=>d(l.id,g,he,"inbound_trucks",je===""||je==="0"||Number(je)===0?null:Number(je)),1e3)},[g,l,ae,re,A,d]);x.useEffect(()=>{if(!R||!V||Date.now()-se.current<250)return;const he=setTimeout(()=>{ee()},50);return()=>clearTimeout(he)},[q,r,n,R,y,k,V,ee]);const _e=x.useCallback(he=>{const ve={...de.current,...he};_(ve),re("monthlyDemand",()=>{an("monthlyDemand",ve,g,!0)},500),l&&ae(`demand-bulk-${Object.keys(he)[0]}`,async()=>{const je=Object.entries(he).map(([ze,Kt])=>d(l.id,g,ze,"demand_plan",Number(Kt)));await Promise.all(je)},1e3)},[g,l,ae,re,_,d]),[ue,Ge]=x.useState(a[g]?.productionRate||0);return x.useEffect(()=>{Ge(a[g]?.productionRate||0)},[g,a]),{setters:x.useMemo(()=>({setSelectedSize:v,updateDateDemand:we,updateDateDemandBulk:_e,updateDateActual:X,updateDateInbound:me,updateTruckManifest:(he,ve)=>{const je={...E,[he]:ve};(!ve||ve.length===0)&&delete je[he],P(je),an("truckManifest",je,g,!0),l&&K(async()=>d(l.id,g,he,"truck_manifest_json",JSON.stringify(ve)))},setProductionRate:async he=>{const ve=Number(he);Ge(ve),l&&(await K(async()=>f(l.id,g,"production_rate",ve)),s())},setDowntimeHours:he=>{const ve=Number(he);O(ve),an("downtimeHours",ve,g),l&&K(async()=>f(l.id,g,"downtime_hours",ve))},setCurrentInventoryPallets:he=>{const ve=Number(he);T(ve),an("currentInventoryPallets",ve,g)},setIncomingTrucks:he=>{const ve=Number(he);C(ve),an("incomingTrucks",ve,g)},setYardInventory:he=>{D(he),an("yardInventory",he,g,!0)},updateYardInventory:he=>{const ve=Number(he),je=Cn();D({date:je,count:ve}),an("yardInventory",{date:je,count:ve},g,!0),l&&K(async()=>p(l.id,g,je,ve,"yard"))},setIsAutoReplenish:he=>{L(he),an("isAutoReplenish",he,g,!0),l&&K(async()=>f(l.id,g,"is_auto_replenish",he))},setInventoryAnchor:he=>{$(he),an("inventoryAnchor",he,g,!0),l&&K(()=>p(l.id,g,he.date,he.count,"floor"))}}),[v,we,_e,X,me,E,P,g,l,K,d,Ge,f,s,O,T,C,D,L,$,p]),formState:{isSaving:Y,saveError:pe,selectedSize:g,productionRate:ue}}}function qoe(e={}){const t=Ioe(),{calculations:r,totalScheduledCases:n,productionRate:a}=Uoe(t,e),s=x.useMemo(()=>({calculations:r}),[r]),{setters:l,formState:u}=Boe(t,s);return{formState:{selectedSize:t.selectedSize,monthlyDemand:t.monthlyDemand,monthlyProductionActuals:t.monthlyProductionActuals,monthlyInbound:t.monthlyInbound,truckManifest:t.truckManifest,downtimeHours:t.downtimeHours,currentInventoryPallets:t.currentInventoryPallets,incomingTrucks:t.incomingTrucks,yardInventory:t.yardInventory,isAutoReplenish:t.isAutoReplenish,inventoryAnchor:t.inventoryAnchor,productionRate:u.productionRate??a,totalScheduledCases:n,isSaving:u.isSaving,saveError:u.saveError},setters:l,results:r}}function Hoe(){const{safetyStockLoads:e,schedulerSettings:t,updateSchedulerSetting:r}=Qn(),{productMap:n,updateProductSettings:a}=fr(),[s,l]=x.useState(()=>localStorage.getItem("sched_selectedSize")||"20oz");x.useEffect(()=>localStorage.setItem("sched_selectedSize",s),[s]);const{shiftStartTime:u="00:00",poAssignments:d={},cancelledLoads:f=[]}=t,p=x.useMemo(()=>{const y=n[s];if(!y)return null;const _=y.casesPerTruck?Math.ceil(y.casesPerTruck/(y.casesPerPallet||1)):0,k={...y,name:s,palletsPerTruck:y.palletsPerTruck||_},S=k.productionRate||0,j=S*24,A=isNaN(j)?0:j,E=k.casesPerTruck&&k.casesPerTruck>0?Math.ceil(A/k.casesPerTruck):0,P=E*7,O=[{name:"Shift 1 (00:00-08:00)",loads:0},{name:"Shift 2 (08:00-16:00)",loads:0},{name:"Shift 3 (16:00-00:00)",loads:0}],T=S,C=T,D=k.casesPerTruck||0,R=T>0&&D>0?D/T:0;let L=[];if(R>0&&E>0){const[V,se]=u.split(":").map(Number);let de=V+se/60;for(let U=0;U<E;U++){const Y=(de+R*U)%24,fe=Math.round(Y),W=`${(fe===24?0:fe).toString().padStart(2,"0")}:${0 .toString().padStart(2,"0")}`;L.push({id:U+1,time:W,rawDecimal:Y,po:d[String(U+1)]||""})}}const $=L.filter(V=>!f.includes(String(V.id)));$.forEach(V=>{const se=V.rawDecimal;se>=0&&se<8?O[0].loads++:se>=8&&se<16?O[1].loads++:O[2].loads++}),L=$;const q=e<E;return{requiredDailyLoads:E,weeklyLoads:P,schedule:O,truckSchedule:L,burnRate:C,hoursPerTruck:R,isHighRisk:q,safetyStockLoads:e,specs:k}},[s,u,n,e,d,f]),g=(y,_)=>{const k={...d,[String(y)]:_};r("poAssignments",k)},v=y=>{const _=String(y),S=f.includes(_)?f.filter(j=>j!==_):[...f,_];r("cancelledLoads",S)};return{formState:{selectedSize:s,targetDailyProduction:(p?.burnRate||0)*24,shiftStartTime:u,poAssignments:d},setters:{setSelectedSize:l,setTargetDailyProduction:y=>{const _=Number(y),k=!isNaN(_)&&_>=0?_:0;a(s,{production_rate:k/24})},setShiftStartTime:y=>r("shiftStartTime",y),updatePO:g,toggleCancelled:v},results:p}}function Foe(e,t=!0){const{user:r}=Tr(),{fetchMRPState:n}=kl(),[a,s]=x.useState({}),[l,u]=x.useState(!1);return x.useEffect(()=>{if(!t)return;const f=async()=>{u(!0);const p={},g=(_,k)=>{const S=`mrp_${_}`,j=`mrp_${k}_${_}`;let A=localStorage.getItem(j);A===null&&k==="20oz"&&(A=localStorage.getItem(S));try{return JSON.parse(A||"{}")}catch{return{}}},v=e.map(async _=>{if(r)try{const k=await n(r.id,_);return{sku:_,data:k?{demand:k.monthlyDemand||{},actuals:k.monthlyProductionActuals||{},inbound:k.monthlyInbound||{}}:{demand:{},actuals:{},inbound:{}}}}catch(k){return console.error(`Failed to load master state for ${_}`,k),{sku:_,data:{demand:{},actuals:{},inbound:{}}}}else return{sku:_,data:{demand:g("monthlyDemand",_),actuals:g("monthlyProductionActuals",_),inbound:g("monthlyInbound",_)}}});(await Promise.all(v)).forEach(({sku:_,data:k})=>{p[_]=k}),s(p),u(!1)};e.length>0&&f()},[e,r,n,t]),{masterLedger:x.useMemo(()=>{const f={},p=new Set;return Object.values(a).forEach(v=>{Object.keys(v.demand).forEach(y=>p.add(y)),Object.keys(v.actuals).forEach(y=>p.add(y)),Object.keys(v.inbound).forEach(y=>p.add(y))}),Array.from(p).sort().forEach(v=>{const y=[];e.forEach(_=>{const k=a[_];if(!k)return;const S=Number(k.demand[v])||0,j=k.actuals[v]!==void 0?Number(k.actuals[v]):null,A=Number(k.inbound[v])||0;(S>0||j!==null&&j>0||A>0)&&y.push({sku:_,demand:S,actual:j,trucks:A})}),y.length>0&&(f[v]=y)}),f},[a,e]),loading:l,skuStates:a}}function Voe({masterLedger:e,loading:t}){const r=x.useMemo(()=>e?Object.keys(e).sort():[],[e]),n=a=>({"20oz":"bg-blue-100 dark:bg-blue-900/40 text-blue-800 dark:text-blue-200 border-blue-200 dark:border-blue-700","12oz":"bg-purple-100 dark:bg-purple-900/40 text-purple-800 dark:text-purple-200 border-purple-200 dark:border-purple-700","2L":"bg-green-100 dark:bg-green-900/40 text-green-800 dark:text-green-200 border-green-200 dark:border-green-700","1L":"bg-orange-100 dark:bg-orange-900/40 text-orange-800 dark:text-orange-200 border-orange-200 dark:border-orange-700"})[a]||"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200 border-gray-200 dark:border-gray-700";return t?m.jsxs("div",{className:"flex h-full items-center justify-center p-10",children:[m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),m.jsx("span",{className:"ml-3 text-gray-500",children:"Aggregating Master Plan..."})]}):r.length===0?m.jsxs("div",{className:"text-center p-10 bg-gray-50 dark:bg-gray-800 rounded-lg border-2 border-dashed border-gray-200 dark:border-gray-700",children:[m.jsx("h3",{className:"text-gray-400 dark:text-gray-500 font-bold mb-2",children:"No Active Production"}),m.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-sm",children:"Add demand or trucks to individual SKU plans to see them here."})]}):m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 mb-6",children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Master Schedule"}),m.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Global view of all production lines and logistics."})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("div",{className:"md:hidden space-y-4",children:r.map(a=>{const s=e[a]||[],l=new Date(a),u=new Date().toISOString().split("T")[0]===a;return s.length===0?null:m.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-lg shadow-sm border p-4 ${u?"border-blue-300 ring-1 ring-blue-100 dark:ring-blue-900":"border-gray-200 dark:border-gray-700"}`,children:[m.jsxs("div",{className:"flex justify-between items-center mb-3 pb-2 border-b border-gray-100 dark:border-gray-700",children:[m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:`text-lg font-bold ${u?"text-blue-600 dark:text-blue-400":"text-gray-900 dark:text-white"}`,children:l.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}),m.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500 font-mono",children:a})]}),u&&m.jsx("span",{className:"text-xs font-bold bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 px-2 py-1 rounded",children:"TODAY"})]}),m.jsx("div",{className:"space-y-2",children:s.map(d=>m.jsxs("div",{className:`flex items-center justify-between p-2 rounded border ${n(d.sku)}`,children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("span",{className:"font-bold text-sm mr-3 w-12",children:d.sku}),(d.demand>0||d.actual!==null&&d.actual>0)&&m.jsxs("span",{className:"font-mono font-bold text-sm",children:[d.actual!==null?d.actual.toLocaleString():d.demand.toLocaleString()," cases"]})]}),d.trucks>0&&m.jsxs("div",{className:"flex items-center space-x-1 bg-white dark:bg-gray-800 bg-opacity-60 px-2 py-1 rounded border border-black/5 dark:border-white/10",children:[m.jsx("span",{className:"text-base",children:""}),m.jsx("span",{className:"font-bold text-sm",children:d.trucks})]})]},`${a}-${d.sku}-mobile`))})]},a)})}),m.jsxs("div",{className:"hidden md:block bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:[m.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 px-6 py-3 border-b border-gray-200 dark:border-gray-700 grid grid-cols-12 gap-4 text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[m.jsx("div",{className:"col-span-3 md:col-span-2",children:"Date"}),m.jsx("div",{className:"col-span-9 md:col-span-10",children:"Production & Logistics"})]}),m.jsx("div",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:r.map(a=>{const s=e[a]||[],l=new Date(a),u=new Date().toISOString().split("T")[0]===a;return m.jsxs("div",{className:`group grid grid-cols-12 gap-4 px-6 py-4 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors ${u?"bg-blue-50/30 dark:bg-blue-900/10":""}`,children:[m.jsxs("div",{className:"col-span-3 md:col-span-2 flex flex-col justify-center",children:[m.jsx("span",{className:`text-sm font-bold ${u?"text-blue-600 dark:text-blue-400":"text-gray-900 dark:text-white"}`,children:l.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}),m.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500 font-mono mt-1",children:a})]}),m.jsx("div",{className:"col-span-9 md:col-span-10 flex flex-col space-y-2 justify-center",children:s.map((d,f)=>m.jsxs("div",{className:`flex items-center p-2 rounded border ${n(d.sku)}`,children:[m.jsx("span",{className:"font-bold text-xs uppercase w-16 tracking-wide",children:d.sku}),m.jsxs("div",{className:"flex-1 flex items-center space-x-4",children:[(d.demand>0||d.actual!==null&&d.actual>0)&&m.jsxs("div",{className:"flex items-baseline space-x-1",children:[m.jsx("span",{className:"text-xs opacity-70",children:"Run:"}),m.jsx("span",{className:"font-mono font-bold text-sm",children:d.actual!==null?d.actual.toLocaleString():d.demand.toLocaleString()}),d.actual!==null&&m.jsx("span",{className:"text-[10px] bg-white bg-opacity-50 px-1 rounded ml-1",children:"ACT"})]}),(d.demand>0||d.actual>0)&&d.trucks>0&&m.jsx("span",{className:"text-gray-300 dark:text-gray-600",children:"|"}),d.trucks>0&&m.jsxs("div",{className:"flex items-center space-x-1",children:[m.jsx("span",{className:"text-lg",children:""}),m.jsx("span",{className:"font-bold text-sm",children:d.trucks}),m.jsx("span",{className:"text-xs opacity-70",children:"Trucks"})]})]})]},`${a}-${d.sku}`))})]},a)})})]})]})]})}function Koe(){const{signIn:e,resendVerificationEmail:t}=Tr(),[r,n]=x.useState(""),[a,s]=x.useState(""),[l,u]=x.useState(null),[d,f]=x.useState(!1),[p,g]=x.useState(!1),v=async _=>{_.preventDefault(),u(null),f(!0);try{await e(r,a)}catch(k){u(k.message)}finally{f(!1)}},y=async()=>{try{f(!0),await t(r),g(!0),u("Confirmation email resent! Check your spam folder.")}catch(_){u(_.message)}finally{f(!1)}};return m.jsxs("div",{className:"min-h-screen bg-slate-950 flex flex-col items-center justify-center relative overflow-hidden font-sans selection:bg-blue-500 selection:text-white",children:[m.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-blue-950/20 via-slate-950 to-black z-0 pointer-events-none"}),m.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-5 z-0 pointer-events-none"}),m.jsx("main",{className:"relative z-10 w-full max-w-sm px-4",children:m.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-md border border-slate-800 rounded-3xl p-8 shadow-2xl",children:[m.jsxs("div",{className:"flex flex-col items-center mb-8",children:[m.jsx("div",{className:"h-20 w-20 bg-white rounded-full p-0.5 shadow-xl shadow-blue-900/20 mb-4 overflow-hidden ring-2 ring-slate-800",children:m.jsx("img",{src:v0,alt:"UBP",className:"h-full w-full object-contain"})}),m.jsx("h1",{className:"text-xl font-bold text-white tracking-tight",children:"MRP Portal"}),m.jsxs("div",{className:"flex items-center gap-1.5 text-slate-500 text-[10px] font-bold uppercase tracking-widest mt-1",children:[m.jsx(L5,{className:"w-3.5 h-3.5 text-emerald-500"}),m.jsx("span",{children:"Authorized Access Only"})]})]}),l&&m.jsxs("div",{className:`p-3 rounded-lg mb-6 text-xs font-medium border flex gap-2 items-start ${l.includes("resent")?"bg-emerald-900/20 text-emerald-400 border-emerald-900/50":"bg-rose-900/20 text-rose-400 border-rose-900/50"}`,children:[l.includes("resent")?m.jsx(qa,{className:"w-4 h-4 shrink-0"}):m.jsx(D$,{className:"w-4 h-4 shrink-0"}),m.jsxs("div",{children:[l,l.includes("Email not confirmed")&&!p&&m.jsx("button",{onClick:y,className:"block mt-1 underline hover:text-white transition-colors",children:"Resend Verification Email"})]})]}),m.jsxs("form",{onSubmit:v,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-semibold text-slate-400 mb-1.5 ml-1",children:"Email Address"}),m.jsx("input",{type:"email",required:!0,value:r,onChange:_=>n(_.target.value),className:"block w-full rounded-xl bg-slate-950 border border-slate-800 text-white placeholder-slate-600 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 py-2.5 px-4 text-sm transition-all",placeholder:"name@unionbevnj.com"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-semibold text-slate-400 mb-1.5 ml-1",children:"Password"}),m.jsx("input",{type:"password",required:!0,value:a,onChange:_=>s(_.target.value),className:"block w-full rounded-xl bg-slate-950 border border-slate-800 text-white placeholder-slate-600 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 py-2.5 px-4 text-sm transition-all",placeholder:""})]}),m.jsx("div",{className:"pt-2",children:m.jsx("button",{type:"submit",disabled:d,className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 rounded-xl shadow-lg shadow-blue-900/20 transition-all active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed flex justify-center",children:d?m.jsxs("span",{className:"flex items-center gap-2",children:[m.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing In..."]}):"Sign In to Dashboard"})})]}),m.jsx("div",{className:"mt-8 text-center border-t border-slate-800/50 pt-4",children:m.jsx("p",{className:"text-slate-500 text-xs",children:"Sign In to access planning tool."})})]})}),m.jsx("footer",{className:"absolute bottom-6 w-full text-center",children:m.jsxs("p",{className:"text-slate-800 text-[10px] font-medium uppercase tracking-wider",children:[" ",new Date().getFullYear()," Union Beverage Packers"]})})]})}const jy={lines:[{id:"L1",name:"Line 1 (Bottles)",burn_rate_minutes:60,inventory_pallets:132,current_sku:"20oz_Cola",color:"blue"},{id:"L2",name:"Line 2 (Cans)",burn_rate_minutes:120,inventory_pallets:14,current_sku:"12oz_Sprite",color:"purple"}]};function Zoe({mrpData:e,schedulerData:t,readOnly:r=!1}){const n=x.useMemo(()=>{if(!e?.results)return jy.lines[0];const{formState:T,results:C}=e,{productionRate:D}=T,{specs:R,calculatedPallets:L}=C;let $=0;if(D>0&&R){const V=D*R.bottlesPerCase/R.bottlesPerTruck;V>0&&($=Math.round(60/V))}return{id:"L1",name:"Production Line 1",burn_rate_minutes:$||60,inventory_pallets:Math.round(L||0),current_sku:T.selectedSize,color:"blue"}},[e]),a=[n,{...jy.lines[1],name:"Line 2 (Offline)",current_sku:"No Schedule",inventory_pallets:0,burn_rate_minutes:0,color:"gray"}],[s,l]=x.useState(a);x.useMemo(()=>{l([n,{...jy.lines[1],name:"Line 2 (Offline)",current_sku:"Idle",inventory_pallets:0,burn_rate_minutes:0,color:"gray"}])},[n]);const u=e?.formState?.yardInventory||{count:0},d=u.effectiveCount!==void 0?u.effectiveCount:u.count,f=50,[p,g]=x.useState(""),[v,y]=x.useState({L1:"",L2:""}),_=(T,C)=>(T/22*C/60).toFixed(1),k=T=>T>24?"text-green-400 border-green-500/50 shadow-[0_0_15px_rgba(74,222,128,0.2)]":T<4?"text-red-500 border-red-500/50 shadow-[0_0_15px_rgba(239,68,68,0.3)] animate-pulse":"text-yellow-400 border-yellow-500/50",[S,j]=x.useState(null),A=(T,C)=>{y(D=>({...D,[T]:C}))},E=T=>{alert(`Updated ${T} actuals to ${v[T]}`)},P=()=>{const T=/\b(45\d{8}|PO[0-9]{4,})\b|\b\d{5,10}\b/g,C=p.match(T)||[];if(C.length===0){alert("No PO numbers found in text! Try pasting 'PO 4500012345' or similar.");return}let D=8,R=0;const L=C.map(($,q)=>{const V=q%2===0?"L1":"L2",se=`${D.toString().padStart(2,"0")}:${R.toString().padStart(2,"0")}`;return R+=30,R>=60&&(R=0,D++),{time:se,po:$,line:V}});j(L)},O=()=>{if(!S)return;const T=["Load #","Del. Date","Del. Time","Description","Bill to","PO #"],C=S.map((R,L)=>[L+1,new Date().toLocaleDateString(),R.time,R.line==="L1"?"20 oz. Clear":"12 oz. Can","UBP",R.po]),D=[T.join("	"),...C.map(R=>R.join("	"))].join(`
`);navigator.clipboard.writeText(D),alert("Table copied to clipboard! Ready to paste into Excel or Email.")};return m.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 p-6 font-mono transition-colors",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8 items-center bg-white dark:bg-gray-800/50 p-4 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("div",{className:"bg-blue-600/20 p-2 rounded-lg",children:m.jsx(Su,{className:"h-8 w-8 text-blue-400"})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-bold tracking-wider uppercase",children:"Morning True-Up"}),m.jsx("span",{className:"text-xs text-gray-400",children:"Validate yesterday's actuals"})]})]}),s.map(T=>m.jsxs("div",{className:"flex items-center space-x-2 bg-gray-50 dark:bg-gray-900 p-2 rounded border border-gray-200 dark:border-gray-700",children:[m.jsxs("span",{className:`text-xs font-bold uppercase w-12 text-${T.color}-600 dark:text-${T.color}-400`,children:[T.id," Act:"]}),m.jsx("input",{type:"text",className:"bg-transparent border-none focus:ring-0 text-right w-20 font-bold text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-600",placeholder:r?"-":"60k",value:v[T.id],onChange:C=>A(T.id,C.target.value),disabled:r}),!r&&m.jsx("button",{onClick:()=>E(T.id),className:"text-gray-400 hover:text-green-400",children:m.jsx(D5,{className:"h-4 w-4"})})]},T.id))]}),m.jsxs("div",{className:"space-y-6 mb-12",children:[m.jsx("h3",{className:"text-sm font-bold text-gray-500 uppercase tracking-widest mb-4",children:"Live Status"}),s.map(T=>{const C=_(T.inventory_pallets,T.burn_rate_minutes),D=k(C);return m.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 p-6 overflow-hidden shadow-sm",children:[C<4&&m.jsx("div",{className:"absolute inset-0 bg-red-900/10 pointer-events-none"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6 items-center",children:[m.jsxs("div",{className:"md:col-span-3 flex flex-col",children:[m.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:T.name}),m.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:["Run: ",T.current_sku]}),m.jsxs("div",{className:"mt-4 flex items-center space-x-2 text-xs text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-900 w-fit px-2 py-1 rounded",children:[m.jsx(Vr,{className:"h-4 w-4"}),m.jsxs("span",{children:["Burn: 1 Truck / ",T.burn_rate_minutes,"m"]})]})]}),m.jsxs("div",{className:"md:col-span-3 flex flex-col items-center justify-center",children:[m.jsxs("div",{className:`text-5xl font-black ${D} rounded-full w-32 h-32 flex items-center justify-center border-4 bg-gray-50 dark:bg-gray-900`,children:[C,"h"]}),m.jsx("span",{className:"text-xs text-gray-400 mt-2 uppercase tracking-wide",children:"Coverage"})]}),m.jsxs("div",{className:"md:col-span-6 border-l border-gray-200 dark:border-gray-700 pl-6",children:[m.jsx("h4",{className:"text-xs font-bold text-gray-500 uppercase mb-3",children:"Inbound Schedule"}),m.jsx("div",{className:"flex space-x-3 overflow-x-auto pb-2 scrollbar-none",children:t?.results?.truckSchedule?.length>0?t.results.truckSchedule.map(R=>m.jsxs("div",{className:"flex-shrink-0 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-600 rounded p-3 min-w-[120px]",children:[m.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400 font-bold mb-1",children:R.time}),m.jsx("div",{className:"text-sm font-bold text-gray-900 dark:text-white truncate",title:R.po||"No PO",children:R.po?R.po.length>10?"PO..."+R.po.slice(-4):R.po:"No PO"}),m.jsxs("div",{className:"text-[10px] text-gray-500 mt-1",children:["Load #",R.id]})]},R.id)):m.jsx("div",{className:"text-xs text-gray-400 italic p-2 border border-dashed border-gray-300 rounded",children:"No trucks scheduled"})})]})]})]},T.id)})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[m.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6 shadow-sm",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(Qc,{className:"h-6 w-6 text-purple-400"}),m.jsx("h3",{className:"font-bold text-lg",children:"SAP Zipper"})]}),m.jsx("span",{className:"text-xs text-gray-400 bg-gray-900 px-2 py-1 rounded",children:"Paste Mode"})]}),m.jsx("textarea",{className:"w-full h-32 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-600 rounded-lg p-3 text-sm text-gray-900 dark:text-gray-300 font-mono focus:ring-1 focus:ring-purple-500 focus:border-purple-500 outline-none resize-none disabled:opacity-50",placeholder:r?"SAP Import Disabled (Read Only)":"Paste list of PO numbers here...",value:p,onChange:T=>g(T.target.value),disabled:r}),m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("span",{className:"text-xs text-gray-500",children:"Auto-detects POs"}),S&&m.jsxs("button",{onClick:O,className:"bg-gray-700 hover:bg-gray-600 text-white px-3 py-1 rounded font-bold text-xs transition-colors flex items-center",children:[m.jsx(Qc,{className:"h-4 w-4 mr-1"}),"Copy"]})]}),!r&&m.jsx("button",{onClick:P,className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg font-bold text-sm transition-colors shadow-lg shadow-purple-900/20",children:"Generate Schedule"})]}),S&&m.jsxs("div",{className:"mt-2 text-xs font-mono",children:[m.jsx("div",{className:"mb-2 text-gray-400 font-bold",children:"Ref: Part# DD 1855526"}),m.jsx("div",{className:"overflow-x-auto rounded border border-gray-200 dark:border-gray-700",children:m.jsxs("table",{className:"w-full text-left text-gray-700 dark:text-gray-300",children:[m.jsx("thead",{className:"bg-gray-100 dark:bg-gray-900 text-gray-500 dark:text-gray-400 border-b border-gray-200 dark:border-gray-700",children:m.jsxs("tr",{children:[m.jsx("th",{className:"p-2",children:"Load #"}),m.jsx("th",{className:"p-2",children:"Del. Date"}),m.jsx("th",{className:"p-2",children:"Del. Time"}),m.jsx("th",{className:"p-2",children:"Description"}),m.jsx("th",{className:"p-2",children:"Bill to"}),m.jsx("th",{className:"p-2",children:"PO #"})]})}),m.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-800 bg-white dark:bg-gray-800/50",children:S.map((T,C)=>m.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[m.jsx("td",{className:"p-2",children:C+1}),m.jsx("td",{className:"p-2",children:new Date().toLocaleDateString()}),m.jsx("td",{className:"p-2 text-blue-400 font-bold",children:T.time}),m.jsx("td",{className:"p-2",children:T.line==="L1"?"20 oz. Clear":"12 oz. Can"}),m.jsx("td",{className:"p-2",children:"UBP"}),m.jsx("td",{className:"p-2 font-bold text-gray-900 dark:text-white",children:T.po})]},C))})]})})]})]}),m.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6 shadow-sm",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx($5,{className:"h-6 w-6 text-yellow-500"}),m.jsx("h3",{className:"font-bold text-lg",children:"Yard Status"})]}),m.jsx("span",{className:"text-xs text-gray-400",children:"Live Feed"})]}),m.jsx("div",{className:"flex items-center justify-center mb-6",children:m.jsx("div",{className:"relative w-full bg-gray-100 dark:bg-gray-900 rounded-full h-6 overflow-hidden",children:m.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 h-full transition-all duration-500",style:{width:`${Math.min(100,d/f*100)}%`}})})}),m.jsxs("div",{className:"flex justify-between text-center",children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-3xl font-black text-gray-900 dark:text-white",children:d}),m.jsx("div",{className:"text-xs text-gray-500 uppercase",children:"Occupied"})]}),m.jsxs("div",{children:[m.jsx("div",{className:"text-3xl font-black text-gray-400 dark:text-gray-600",children:Math.max(0,f-d)}),m.jsx("div",{className:"text-xs text-gray-500 uppercase",children:"Available"})]}),m.jsxs("div",{children:[m.jsx("div",{className:"text-3xl font-black text-red-500",children:"2"}),m.jsx("div",{className:"text-xs text-red-400 uppercase font-bold",children:"Late"})]})]})]})]})]})}function O5({date:e,totalRequired:t,manifest:r,onUpdate:n,readOnly:a=!1}){const[s,l]=x.useState(!1),u=r||[],d=Math.max(u.length,t),f=Math.max(0,d-u.length),[p,g]=x.useState(u),v=S=>{S&&(S.preventDefault(),S.stopPropagation()),n(e,p),l(!1)},y=()=>{g([...p,{id:crypto.randomUUID(),po:"",carrier:"",time:"",status:"scheduled"}])},_=S=>{const j=[...p];j.splice(S,1),g(j)},k=(S,j,A)=>{const E=[...p];E[S]={...E[S],[j]:A},g(E)};return s?m.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-blue-200 dark:border-blue-900 shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white flex items-center",children:[m.jsx(eu,{className:"w-5 h-5 mr-2 text-blue-500"}),"Edit Manifest: ",e]}),m.jsxs("div",{className:"space-x-2",children:[m.jsx("button",{type:"button",onClick:()=>l(!1),className:"text-xs text-gray-500 hover:text-gray-700",children:"Cancel"}),m.jsx("button",{type:"button",onClick:v,className:"px-3 py-1 bg-blue-600 text-white text-xs font-bold rounded shadow hover:bg-blue-500",children:"Save Changes"})]})]}),m.jsxs("div",{className:"space-y-2",children:[p.map((S,j)=>m.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 bg-gray-50 dark:bg-gray-700/50 p-3 rounded border border-gray-100 dark:border-gray-600",children:[m.jsxs("div",{className:"flex-1 w-full",children:[m.jsx("label",{className:"text-[10px] uppercase text-gray-400 font-bold block mb-1 sm:hidden",children:"Carrier"}),m.jsx("input",{className:"w-full text-sm font-bold bg-transparent border-b border-gray-300 focus:border-blue-500 outline-none dark:text-white pb-1",placeholder:"Carrier Name",value:S.carrier,onChange:A=>k(j,"carrier",A.target.value)})]}),m.jsxs("div",{className:"w-full sm:w-24",children:[m.jsx("label",{className:"text-[10px] uppercase text-gray-400 font-bold block mb-1 sm:hidden",children:"PO #"}),m.jsx("input",{className:"w-full text-sm font-mono bg-transparent border-b border-gray-300 focus:border-blue-500 outline-none dark:text-white pb-1",placeholder:"PO-123",value:S.po,onChange:A=>k(j,"po",A.target.value)})]}),m.jsxs("div",{className:"w-full sm:w-28",children:[m.jsx("label",{className:"text-[10px] uppercase text-gray-400 font-bold block mb-1 sm:hidden",children:"Time"}),m.jsxs("select",{className:"w-full text-sm bg-transparent border-b border-gray-300 focus:border-blue-500 outline-none dark:text-gray-200 dark:bg-gray-800 rounded px-1 pb-1",value:S.time,onChange:A=>k(j,"time",A.target.value),children:[m.jsx("option",{value:"",className:"text-gray-500",children:"TBD"}),Array.from({length:24}).map((A,E)=>{const P=E,T=`${String(P).padStart(2,"0")}:${String(0).padStart(2,"0")}`,C=P>=12?"PM":"AM",R=`${P%12||12}:00 ${C}`;return m.jsx("option",{value:T,className:"dark:bg-gray-800",children:R},T)})]})]}),m.jsx("div",{className:"w-full sm:w-auto flex justify-end",children:m.jsxs("button",{type:"button",onClick:()=>_(j),className:"text-red-400 hover:text-red-600 p-2 sm:p-1 bg-red-50 dark:bg-red-900/10 sm:bg-transparent rounded",children:[m.jsxs("div",{className:"flex items-center sm:hidden",children:[m.jsx(Ya,{className:"w-4 h-4 mr-1"}),m.jsx("span",{className:"text-xs font-bold",children:"Remove"})]}),m.jsx(Ya,{className:"w-4 h-4 hidden sm:block"})]})})]},S.id||j)),m.jsxs("button",{onClick:y,className:"w-full py-2 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded text-gray-400 dark:text-gray-500 hover:border-blue-400 hover:text-blue-500 flex items-center justify-center text-sm font-bold",children:[m.jsx(q$,{className:"w-4 h-4 mr-1"})," Add Truck"]})]})]}):m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("div",{}),!a&&(t>0||u.length>0)&&m.jsxs("button",{onClick:()=>{g(u.length?u:Array(t).fill().map(()=>({id:crypto.randomUUID(),po:"",carrier:"",time:""}))),l(!0)},className:"text-xs font-bold text-blue-600 hover:text-blue-500 flex items-center bg-blue-50 dark:bg-blue-900/20 px-2 py-1 rounded",children:[m.jsx(eu,{className:"w-3 h-3 mr-1"}),"Edit Manifest"]})]}),u.map((S,j)=>m.jsx("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-gray-800 border-l-4 border-green-500 shadow-sm rounded-r-md",children:m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("span",{className:"font-bold text-gray-900 dark:text-white text-lg",children:S.carrier||S.supplier||"Pending Assignment"}),S.time&&m.jsxs("span",{className:"ml-2 text-sm font-bold bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 px-2 py-1 rounded flex items-center shadow-sm",children:[m.jsx(Su,{className:"w-4 h-4 mr-1"}),iu(S.time)]})]}),m.jsx("div",{className:"flex flex-col text-xs text-gray-500 mt-1",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx(Z$,{className:"w-3 h-3 mr-1"}),m.jsxs("span",{className:"font-mono text-gray-700 dark:text-gray-300 font-bold mr-2",children:["PO: ",S.po||"N/A"]}),S.supplier&&S.carrier&&m.jsxs("span",{className:"text-gray-400",children:["(",S.supplier,")"]})]})})]})},j)),Array.from({length:f}).map((S,j)=>m.jsx("div",{className:"flex items-center justify-between p-3 bg-gray-50 border-l-4 border-gray-300 dark:border-gray-600 dark:bg-gray-800/50 rounded-r-md opacity-70 dashed-border",children:m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("div",{className:"p-1.5 bg-gray-200 dark:bg-gray-700 rounded-full",children:m.jsx(Vr,{className:"w-5 h-5 text-gray-400"})}),m.jsxs("div",{children:[m.jsxs("p",{className:"text-sm font-bold text-gray-500 italic",children:["Planned Delivery Slot #",u.length+j+1]}),m.jsx("div",{className:"flex items-center text-xs text-gray-400 mt-0.5",children:m.jsx("span",{children:"Awaiting Carrier Assignment"})})]})]})},`p-${j}`)),d===0&&m.jsx("div",{className:"p-4 text-center text-gray-400 text-sm italic bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:"No Deliveries Needed"})]})}function Goe({state:e,setters:t,results:r,readOnly:n=!1}){const[a,s]=x.useState(!1),{productMap:l}=fr(),u=x.useMemo(()=>Object.keys(l||{}),[l]),[d,f]=x.useState({today:[],tomorrow:[]}),[p,g]=x.useState("ALL"),{poManifest:v,updateDailyManifest:y,bulkUpdateOrders:_}=$n(),k=Cn(),S=lr(k,1),j=new Date(S+"T00:00:00");x.useEffect(()=>{try{const D={today:[],tomorrow:[]};u.forEach(R=>{const L=`mrp_${R}_monthlyInbound`;let $={};try{const ee=localStorage.getItem(L);ee&&($=JSON.parse(ee))}catch{}const q=`mrp_${R}_truckManifest`;let V={};try{const ee=localStorage.getItem(q);ee&&(V=JSON.parse(ee))}catch{}const se=ee=>{try{const we=v[ee];return!we||!we.items?[]:we.items.filter(X=>X.sku===R)}catch(we){return console.warn("Error reading global POs for date:",ee,we),[]}},de=se(k),U=se(S),H=Number($[k])||0,Y=V[k]||[],fe=de.map(ee=>({id:ee.id,time:ee.time,carrier:ee.carrier||ee.supplier,type:"PO",po:ee.po,details:`PO#${ee.po} (${ee.qty})`,isGlobal:!0})),pe=[...Y,...fe],I=Math.max(H,pe.length);(I>0||pe.length>0)&&D.today.push({sku:R,count:I,manifest:pe});const W=Number($[S])||0,Q=V[S]||[],K=U.map(ee=>({id:ee.id,time:ee.time,carrier:ee.carrier||ee.supplier,type:"PO",po:ee.po,details:`PO#${ee.po} (${ee.qty})`,isGlobal:!0})),ae=[...Q,...K],re=Math.max(W,ae.length);(re>0||ae.length>0)&&D.tomorrow.push({sku:R,count:re,manifest:ae})}),f(D)}catch(D){console.error("Critical Error in LogisticsView Aggregation:",D),f({today:[],tomorrow:[]})}},[u,e.monthlyInbound,e.stateVersion,v,k,S]);const A=p==="ALL"?d.today:d.today.filter(D=>D.sku===p),E=p==="ALL"?d.tomorrow:d.tomorrow.filter(D=>D.sku===p),P=A.reduce((D,R)=>D+R.count,0),O=E.reduce((D,R)=>D+R.count,0),T=D=>D?D.toLocaleString():"0";if(!r)return m.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading Logistics Data..."});const{yardInventory:C}=r;return m.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[m.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center bg-slate-900 text-white p-6 rounded-2xl shadow-lg",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-black tracking-tight uppercase",children:"Floor Operations"}),m.jsxs("div",{className:"flex items-center space-x-2 mt-2 opacity-80",children:[m.jsxs("span",{className:"bg-slate-700 px-3 py-1 rounded text-sm font-mono",children:["ACTIVE: ",e.selectedSize]}),m.jsx("span",{className:"text-sm",children:new Date().toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})})]})]}),m.jsx("div",{className:"flex flex-col sm:flex-row gap-3 mt-4 md:mt-0 w-full md:w-auto",children:!n&&m.jsxs("button",{onClick:()=>s(!0),className:"flex items-center justify-center bg-emerald-500 hover:bg-emerald-400 text-slate-900 px-6 py-3 rounded-xl font-bold text-base md:text-lg transition-transform hover:scale-105 shadow-xl w-full sm:w-auto",children:[m.jsx(Qc,{className:"w-6 h-6 md:w-8 md:h-8 mr-2"}),"START DAY"]})})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-2xl border-2 border-gray-100 dark:border-gray-700 shadow-sm flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-bold uppercase tracking-wider text-sm",children:"Floor Inventory"}),m.jsxs("div",{className:"flex items-baseline mt-2",children:[m.jsx("span",{className:"text-6xl font-black text-slate-800 dark:text-white",children:T(Math.round(r.calculatedPallets))}),m.jsx("span",{className:"ml-2 text-xl font-medium text-gray-400",children:"Pallets"})]})]}),m.jsx("div",{className:"h-16 w-16 bg-blue-50 rounded-full flex items-center justify-center",children:m.jsx(ix,{className:"w-8 h-8 text-blue-600"})})]}),m.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-2xl border-2 border-gray-100 dark:border-gray-700 shadow-sm flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-bold uppercase tracking-wider text-sm",children:"Yard Inventory"}),m.jsxs("div",{className:"flex items-baseline mt-2",children:[m.jsx("span",{className:"text-6xl font-black text-slate-800 dark:text-white",children:C.effectiveCount}),m.jsx("span",{className:"ml-2 text-xl font-medium text-gray-400",children:"Loads"})]}),C.isOverridden&&m.jsx("span",{className:"inline-block mt-2 px-2 py-1 bg-yellow-100 text-yellow-800 text-xs font-bold rounded",children:"MANUAL OVERRIDE"})]}),m.jsx("div",{className:"h-16 w-16 bg-orange-50 rounded-full flex items-center justify-center",children:m.jsx(Vr,{className:"w-8 h-8 text-orange-600"})})]})]}),m.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden",children:[m.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[m.jsxs("h2",{className:"text-lg font-bold text-gray-800 dark:text-white flex items-center",children:[m.jsx(M5,{className:"w-5 h-5 mr-2 text-gray-500"}),"Master Dock Schedule"]}),m.jsxs("div",{className:"flex space-x-1 bg-white dark:bg-gray-800 rounded-lg p-1 border dark:border-gray-600",children:[m.jsx("button",{onClick:()=>g("ALL"),className:`px-3 py-1 text-[10px] uppercase font-bold rounded ${p==="ALL"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":"text-gray-400 hover:text-gray-600"}`,children:"All"}),u.map(D=>m.jsx("button",{onClick:()=>g(D),className:`px-3 py-1 text-[10px] uppercase font-bold rounded ${p===D?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":"text-gray-400 hover:text-gray-600"}`,children:D},D))]})]}),m.jsxs("div",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:[m.jsxs("div",{className:"p-6 transition-colors",children:[m.jsxs("div",{className:"flex items-center mb-4",children:[m.jsx("div",{className:`w-3 h-12 rounded-full mr-4 ${P>0?"bg-green-500":"bg-gray-300"}`}),m.jsxs("div",{children:[m.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"TODAY"}),m.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date().toLocaleDateString()})]}),m.jsx("div",{className:"ml-auto text-right",children:P>0?m.jsxs("span",{className:"text-sm font-bold text-green-600 bg-green-50 dark:bg-green-900/20 px-3 py-1 rounded-full uppercase",children:[P," Total Trucks"]}):null})]}),m.jsxs("div",{className:"pl-7 space-y-6",children:[A.length===0&&m.jsx("p",{className:"text-sm text-gray-400 italic",children:"No scheduled deliveries."}),A.map(D=>m.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[m.jsxs("h4",{className:"flex items-center text-xs font-bold text-gray-500 uppercase mb-3",children:[m.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500 mr-2"}),D.sku," Production Supply (",D.count," Trucks)"]}),m.jsx(O5,{date:k,totalRequired:D.count,manifest:D.manifest,readOnly:n,onUpdate:(R,L)=>{try{const q=r.specs?.bottlesPerTruck||2e4,V=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`uuid-${Date.now()}-${Math.random()}`,se=L.map(Y=>({id:Y.id||V(),date:R,po:Y.po||`TEMP-${Date.now()}`,sku:D.sku,qty:q,supplier:Y.carrier||"Unknown",carrier:Y.carrier,time:Y.time,status:"scheduled",isGlobal:!0})),de=v[R]?.items||[],H=[...Array.isArray(de)?de.filter(Y=>Y.sku!==D.sku):[],...se];y(R,H)}catch($){console.error("Failed to update manifest (Today) in LogicsticsView:",$),alert("Error saving manifest. See console.")}try{const $=`mrp_${D.sku}_truckManifest`,q=localStorage.getItem($);if(q){const V=JSON.parse(q);V[R]&&(delete V[R],localStorage.setItem($,JSON.stringify(V)))}}catch($){console.warn("Legacy cleanup failed (Today)",$)}}})]},D.sku))]})]}),m.jsxs("div",{className:"p-6 transition-colors opacity-95",children:[m.jsxs("div",{className:"flex items-center mb-4",children:[m.jsx("div",{className:`w-3 h-12 rounded-full mr-4 ${O>0?"bg-blue-500":"bg-gray-300"}`}),m.jsxs("div",{children:[m.jsx("p",{className:"text-xl font-bold text-gray-700 dark:text-gray-300",children:"TOMORROW"}),m.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:j.toLocaleDateString()})]})]}),m.jsxs("div",{className:"pl-7 space-y-6",children:[E.length===0&&m.jsx("p",{className:"text-sm text-gray-400 italic",children:"No scheduled deliveries."}),E.map(D=>m.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[m.jsxs("h4",{className:"flex items-center text-xs font-bold text-gray-500 uppercase mb-3",children:[m.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500 mr-2"}),D.sku," Production Supply (",D.count," Trucks)"]}),m.jsx(O5,{date:S,totalRequired:D.count,manifest:D.manifest,readOnly:n,onUpdate:(R,L)=>{try{const q=r.specs?.bottlesPerTruck||2e4,V=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`uuid-${Date.now()}-${Math.random()}`,se=L.map(Y=>({id:Y.id||V(),date:R,po:Y.po||"TBD",sku:D.sku,qty:q,supplier:Y.carrier||"Unknown",carrier:Y.carrier,time:Y.time,status:"scheduled",isGlobal:!0})),de=v[R]?.items||[],H=[...Array.isArray(de)?de.filter(Y=>Y.sku!==D.sku):[],...se];y(R,H)}catch($){console.error("Failed to update manifest in LogicsticsView:",$),alert("Error saving manifest. See console.")}try{const $=`mrp_${D.sku}_truckManifest`,q=localStorage.getItem($);if(q){const V=JSON.parse(q);V[R]&&(delete V[R],localStorage.setItem($,JSON.stringify(V)))}}catch($){console.warn("Legacy cleanup failed (tomorrow)",$)}}})]},D.sku))]})]})]}),m.jsx("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-4 text-center",children:m.jsx("p",{className:"text-xs text-gray-500",children:"For the full 30-day schedule, ask a Planner or switch to the Planning View."})})]}),m.jsx(LC,{isOpen:a,onClose:()=>s(!1),state:e,setters:t})]})}function Yoe({isOpen:e,onClose:t,product:r,onSave:n,readOnly:a=!1}){const{user:s}=Tr(),[l,u]=x.useState({name:"",description:"",bottles_per_case:12,bottles_per_truck:2e4,cases_per_pallet:100,lead_time_days:2,safety_stock_loads:6,lines:[]}),[d,f]=x.useState(!1),[p,g]=x.useState(null);x.useEffect(()=>{e&&(u(r?{name:r.name,description:r.description||"",color_tag:r.color_tag||"#3B82F6",bottles_per_case:r.bottles_per_case||24,cases_per_pallet:r.cases_per_pallet||100,bottles_per_truck:r.bottles_per_truck||1e5,lead_time_days:r.lead_time_days!==null&&r.lead_time_days!==void 0?r.lead_time_days:2,safety_stock_loads:r.safety_stock_loads!==null&&r.safety_stock_loads!==void 0?r.safety_stock_loads:6,lines:r.production_settings?.length>0?r.production_settings.map(S=>({line_name:S.line_name,production_rate:S.production_rate})):[{line_name:"Line 1",production_rate:2500}]}:{name:"",description:"",color_tag:"#3B82F6",bottles_per_case:24,cases_per_pallet:100,bottles_per_truck:1e5,lead_time_days:2,safety_stock_loads:6,lines:[{line_name:"Line 1",production_rate:2500}]}),g(null))},[e,r]);const v=()=>{u(S=>({...S,lines:[...S.lines,{line_name:`Line ${S.lines.length+1}`,production_rate:2500}]}))},y=S=>{u(j=>({...j,lines:j.lines.filter((A,E)=>E!==S)}))},_=(S,j,A)=>{const E=[...l.lines];E[S][j]=A,u({...l,lines:E})},k=async S=>{if(S.preventDefault(),!(!s||a)){f(!0),g(null);try{const j={name:l.name,description:l.description,color_tag:l.color_tag,bottles_per_case:Number(l.bottles_per_case),bottles_per_truck:Number(l.bottles_per_truck),cases_per_pallet:Number(l.cases_per_pallet),lead_time_days:Number(l.lead_time_days),safety_stock_loads:Number(l.safety_stock_loads),user_id:s.id};r?.id&&(j.id=r.id);const{data:A,error:E}=await Re.from("products").upsert(j,{onConflict:"name"}).select().single();if(E)throw E;const P=l.lines.map(T=>({product_id:A.id,user_id:s.id,line_name:T.line_name||"Line 1",production_rate:Number(T.production_rate)})),{error:O}=await Re.from("production_settings").upsert(P,{onConflict:"product_id, line_name"});if(O)throw O;n(),t()}catch(j){console.error("Save Error:",j),g(j.message||"Failed to save product")}finally{f(!1)}}};return m.jsxs(Nt,{open:e,onClose:t,className:"relative z-50",children:[m.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm","aria-hidden":"true"}),m.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:m.jsxs(Nt.Panel,{className:"w-full max-w-lg rounded-2xl bg-white dark:bg-gray-800 p-6 shadow-xl border border-gray-200 dark:border-gray-700 max-h-[90vh] overflow-y-auto",children:[m.jsx(Nt.Title,{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:a?"View Product Configuration":r?"Edit Product Configuration":"Add New Product"}),p&&m.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg text-sm",children:p}),m.jsxs("form",{onSubmit:k,className:"space-y-5",children:[m.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-xl space-y-4",children:[m.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Identification"}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-[10px] font-medium text-gray-500 uppercase mb-1",children:"SKU Name"}),m.jsx("input",{type:"text",required:!0,value:l.name,onChange:S=>u({...l,name:S.target.value}),disabled:!!r||a,className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white font-bold focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"e.g. 20oz Cola"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-[10px] font-medium text-gray-500 uppercase mb-1",children:"Display Color"}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("input",{type:"color",value:l.color_tag,onChange:S=>u({...l,color_tag:S.target.value}),disabled:a,className:"h-9 w-12 rounded cursor-pointer border-0 p-0 disabled:opacity-50"}),m.jsx("span",{className:"text-xs text-gray-400",children:"Calendar Tag"})]})]}),m.jsxs("div",{className:"col-span-2",children:[m.jsx("label",{className:"block text-[10px] font-medium text-gray-500 uppercase mb-1",children:"Description (Optional)"}),m.jsx("input",{type:"text",value:l.description,onChange:S=>u({...l,description:S.target.value}),disabled:a,className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm disabled:opacity-50",placeholder:"e.g. Standard 24pk Tray"})]})]})]}),m.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/10 p-4 rounded-xl space-y-4",children:[m.jsx("h3",{className:"text-xs font-bold text-emerald-600 uppercase tracking-wider",children:" Finished Product Spec"}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Pack Size"}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("input",{type:"number",required:!0,min:"1",value:l.bottles_per_case,onChange:S=>u({...l,bottles_per_case:S.target.value}),disabled:a,className:"w-full px-3 py-2 rounded-lg border border-emerald-200 dark:border-emerald-800 bg-emerald-50/50 dark:bg-emerald-900/20 text-emerald-900 dark:text-emerald-100 text-sm font-bold disabled:opacity-50"}),m.jsx("span",{className:"text-xs text-emerald-600 dark:text-emerald-400",children:"units/case"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Pallet Count"}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("input",{type:"number",required:!0,min:"1",value:l.cases_per_pallet,onChange:S=>u({...l,cases_per_pallet:S.target.value}),disabled:a,className:"w-full px-3 py-2 rounded-lg border border-emerald-200 dark:border-emerald-800 bg-emerald-50/50 dark:bg-emerald-900/20 text-emerald-900 dark:text-emerald-100 text-sm font-bold disabled:opacity-50"}),m.jsx("span",{className:"text-xs text-emerald-600 dark:text-emerald-400",children:"cases/plt"})]})]})]})]}),m.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/10 p-4 rounded-xl space-y-4",children:[m.jsx("h3",{className:"text-xs font-bold text-indigo-600 uppercase tracking-wider",children:" Planning Settings"}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Lead Time"}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("input",{type:"number",required:!0,min:"0",value:l.lead_time_days,onChange:S=>u({...l,lead_time_days:S.target.value}),disabled:a,className:"w-full px-3 py-2 rounded-lg border border-indigo-200 dark:border-indigo-800 bg-indigo-50/50 dark:bg-indigo-900/20 text-indigo-900 dark:text-indigo-100 text-sm font-bold disabled:opacity-50"}),m.jsx("span",{className:"text-xs text-indigo-600 dark:text-indigo-400",children:"days"})]}),m.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Frozen zone for auto-balance logic."})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Safety Stock"}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("input",{type:"number",required:!0,min:"0",value:l.safety_stock_loads,onChange:S=>u({...l,safety_stock_loads:S.target.value}),disabled:a,className:"w-full px-3 py-2 rounded-lg border border-indigo-200 dark:border-indigo-800 bg-indigo-50/50 dark:bg-indigo-900/20 text-indigo-900 dark:text-indigo-100 text-sm font-bold disabled:opacity-50"}),m.jsx("span",{className:"text-xs text-indigo-600 dark:text-indigo-400",children:"loads"})]}),m.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Target floor inventory (multiplier)."})]})]})]}),m.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-4 rounded-xl space-y-4",children:[m.jsx("h3",{className:"text-xs font-bold text-blue-600 uppercase tracking-wider",children:" Raw Material Truck Spec"}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Inbound Truck Quantity"}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("input",{type:"number",required:!0,min:"1",step:"100",value:l.bottles_per_truck,onChange:S=>u({...l,bottles_per_truck:S.target.value}),disabled:a,className:"w-full px-3 py-2 rounded-lg border border-blue-200 dark:border-blue-800 bg-blue-50/50 dark:bg-blue-900/20 text-blue-900 dark:text-blue-100 text-lg font-black tracking-tight disabled:opacity-50"}),m.jsx("span",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium",children:"units / truck"})]}),m.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Total quantity of empty bottles/cans on a single full truckload."})]})]}),m.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-4 rounded-xl space-y-3",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h3",{className:"text-xs font-bold text-blue-500 uppercase tracking-wider",children:"Production Lines"}),!a&&m.jsxs("button",{type:"button",onClick:v,className:"text-xs text-blue-600 hover:text-blue-800 font-medium flex items-center gap-1",children:[m.jsx(f0,{className:"w-3 h-3"})," Add Line"]})]}),m.jsxs("div",{className:"space-y-2",children:[l.lines.map((S,j)=>m.jsxs("div",{className:"flex gap-2 items-center",children:[m.jsx("input",{type:"text",value:S.line_name,onChange:A=>_(j,"line_name",A.target.value),placeholder:"Line Name",disabled:a,className:"flex-1 px-3 py-1.5 rounded-lg border border-gray-200 dark:border-gray-600 text-sm disabled:opacity-50"}),m.jsx("input",{type:"number",value:S.production_rate,onChange:A=>_(j,"production_rate",A.target.value),placeholder:"CPH",disabled:a,className:"w-24 px-3 py-1.5 rounded-lg border border-gray-200 dark:border-gray-600 text-sm text-right disabled:opacity-50"}),!a&&m.jsx("button",{type:"button",onClick:()=>y(j),className:"p-1.5 text-red-500 hover:bg-red-100 rounded-lg transition-colors",title:"Remove Line",children:m.jsx(Ya,{className:"w-4 h-4"})})]},j)),l.lines.length===0&&m.jsx("p",{className:"text-xs text-center text-gray-400 py-2",children:"No active production lines."})]})]}),m.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t dark:border-gray-700 mt-6",children:[m.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded-lg text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:a?"Close":"Cancel"}),!a&&m.jsx("button",{type:"submit",disabled:d,className:"px-4 py-2 rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50 shadow-sm",children:d?"Saving...":"Save Configuration"})]})]})]})})]})}function Woe({readOnly:e=!1}){const{user:t}=Tr(),{products:r,loading:n,refreshProducts:a}=fr(),[s,l]=x.useState(!1),[u,d]=x.useState(null),f=v=>{d(v),l(!0)},p=()=>{d(null),l(!0)},g=()=>{a()};return m.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[m.jsxs("div",{className:"flex justify-between items-center bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[m.jsxs("div",{children:[m.jsxs("h1",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[m.jsx(Gf,{className:"w-6 h-6 text-blue-600"}),"Product Master Data"]}),m.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage SKUs, dimensions, and run rates."})]}),m.jsx("div",{className:"flex gap-2",children:!e&&m.jsxs("button",{onClick:p,className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium shadow-sm transition-all",children:[m.jsx(f0,{className:"w-5 h-5"}),"Add Product"]})})]}),n?m.jsx("div",{className:"flex justify-center p-12",children:m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.map(v=>m.jsxs("div",{onClick:()=>f(v),className:"group bg-white dark:bg-gray-800 rounded-xl p-5 border border-gray-200 dark:border-gray-700 shadow-sm hover:shadow-md hover:border-blue-300 dark:hover:border-blue-700 cursor-pointer transition-all",children:[m.jsxs("div",{className:"flex justify-between items-start mb-4",children:[m.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:m.jsx(Gf,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),m.jsxs("span",{className:"text-xs font-mono text-gray-400",children:["ID: ",v.id.slice(0,4),"..."]})]}),m.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1",children:v.name}),v.description&&m.jsx("p",{className:"text-xs text-gray-500 mb-4 line-clamp-2",children:v.description}),m.jsxs("div",{className:"space-y-3 text-sm mt-4",children:[m.jsxs("div",{className:"flex justify-between py-1 border-b border-gray-100 dark:border-gray-700/50",children:[m.jsxs("span",{className:"text-gray-500 flex items-center gap-2",children:[m.jsx(Vr,{className:"w-4 h-4"}),"Bottles/Truck"]}),m.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-200",children:v.bottles_per_truck?.toLocaleString()})]}),m.jsxs("div",{className:"flex justify-between py-1 border-b border-gray-100 dark:border-gray-700/50",children:[m.jsx("span",{className:"text-gray-500",children:"Bottles/Case"}),m.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-200",children:v.bottles_per_case})]}),m.jsxs("div",{className:"flex justify-between py-1 border-b border-gray-100 dark:border-gray-700/50",children:[m.jsx("span",{className:"text-gray-500",children:"Cases/Pallet"}),m.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-200",children:v.cases_per_pallet})]}),m.jsxs("div",{className:"flex justify-between py-1 border-b border-gray-100 dark:border-gray-700/50",children:[m.jsx("span",{className:"text-gray-500",children:"Lead Time"}),m.jsxs("span",{className:"font-medium text-indigo-700 dark:text-indigo-300",children:[v.lead_time_days||2," Days"]})]}),m.jsxs("div",{className:"flex justify-between py-1 border-b border-gray-100 dark:border-gray-700/50",children:[m.jsx("span",{className:"text-gray-500",children:"Safety Stock"}),m.jsxs("span",{className:"font-medium text-indigo-700 dark:text-indigo-300",children:[v.safety_stock_loads||6," Loads"]})]}),m.jsxs("div",{className:"pt-2",children:[m.jsxs("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-2 block flex items-center gap-1",children:[m.jsx(d$,{className:"w-3 h-3 text-amber-500"}),"Run Rates (CPH)"]}),m.jsx("div",{className:"space-y-1",children:v.production_settings?.length>0?v.production_settings.map(y=>m.jsxs("div",{className:"flex justify-between text-xs bg-gray-50 dark:bg-gray-700/50 px-2 py-1 rounded",children:[m.jsx("span",{className:"text-gray-600 dark:text-gray-300 font-medium",children:y.line_name}),m.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:y.production_rate?.toLocaleString()})]},y.id||y.line_name)):m.jsx("div",{className:"text-xs text-gray-400 italic",children:"No rates configured"})})]})]})]},v.id)),r.length===0&&m.jsxs("div",{className:"col-span-full py-12 text-center text-gray-400 border-2 border-dashed border-gray-200 rounded-xl",children:[m.jsx(Gf,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),m.jsx("p",{children:"No products found. Add your first SKU!"})]})]}),m.jsx(Yoe,{isOpen:s,onClose:()=>l(!1),product:u,onSave:g,readOnly:e})]})}function Xoe({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{fillRule:"evenodd",d:"M12.53 16.28a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 0 1 1.06-1.06L12 14.69l6.97-6.97a.75.75 0 1 1 1.06 1.06l-7.5 7.5Z",clipRule:"evenodd"}))}const Joe=x.forwardRef(Xoe);function Qoe({mrp:e,scheduler:t,activeSku:r}){const{formState:n,setters:a,results:s}=e,{productMap:l}=fr(),u=Object.keys(l);if(!s)return null;const d=vt(new Date),f=s?.dailyLedger||[];f.find(D=>D.date===d);const p=s.calculatedPallets||0,g=n.yardInventory?.count||0,v=s.specs||{},y=v.bottlesPerCase||1,_=v.casesPerPallet||1,S=(s.safetyTarget||0)/(y*_),j=(v.bottlesPerTruck||2e4)/(y*_),A=p+g*j;let E=0,P=!1;for(const D of f){if(D.balance<0){P=!0;break}D.date>=d&&E++}const O=P?E:"14+",T=P?E<=2?"text-rose-600 dark:text-rose-400":"text-amber-600 dark:text-amber-400":"text-emerald-600 dark:text-emerald-400",C=P?E<=2?"border-rose-200 dark:border-rose-900 bg-rose-50 dark:bg-rose-900/10":"border-amber-200 dark:border-amber-900 bg-amber-50 dark:bg-amber-900/10":"border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900";return m.jsx("div",{className:`w-full mb-6 rounded-xl border p-4 shadow-lg bg-slate-200 dark:bg-slate-800/50 transition-all ${C}`,children:m.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between gap-6",children:[m.jsxs("div",{className:"flex items-center gap-6 w-full lg:w-auto",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"h-12 w-12 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center flex-shrink-0 shadow-inner",children:m.jsx(ix,{className:"w-6 h-6 text-slate-500"})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-xs font-bold uppercase tracking-wider text-slate-500 dark:text-slate-400",children:"Production Plan"}),m.jsxs("div",{className:"relative group flex items-center",children:[m.jsx("select",{className:"appearance-none bg-transparent hover:bg-slate-50 dark:hover:bg-slate-800 text-xl font-extrabold text-slate-800 dark:text-white pr-6 py-0.5 rounded cursor-pointer outline-none focus:ring-2 focus:ring-blue-500 transition-colors",value:n.selectedSize,onChange:D=>a.setSelectedSize(D.target.value),children:u.map(D=>m.jsx("option",{value:D,children:D},D))}),m.jsx(Joe,{className:"w-4 h-4 text-slate-400 -ml-4 pointer-events-none group-hover:text-blue-500"})]})]})]}),m.jsxs("div",{className:"hidden md:flex items-center gap-4 border-l border-slate-200 dark:border-slate-700 pl-6",children:[m.jsx(T5,{label:"Rate (cph)",value:n.productionRate,onChange:D=>a.setProductionRate(D),width:"w-20"}),m.jsx(T5,{label:"Downtime (hr)",value:n.downtimeHours,onChange:D=>a.setDowntimeHours(D),width:"w-16"})]})]}),m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 w-full lg:w-auto flex-grow justify-end",children:[m.jsx("div",{className:"text-center md:text-right",children:m.jsx(A5,{label:"Floor Stock",value:Math.round(p),unit:"plts",onSave:D=>a.setInventoryAnchor({date:Cn(),count:Number(D)})})}),m.jsx("div",{className:"text-center md:text-right border-l dark:border-slate-700 pl-6",children:m.jsx(A5,{label:"Yard Stock",value:Number(g),unit:"loads",onSave:D=>a.updateYardInventory(D),colorClass:"text-blue-600 dark:text-blue-400"})}),m.jsxs("div",{className:"text-center md:text-right border-l dark:border-slate-700 pl-6",children:[m.jsx("div",{className:"text-xs font-bold uppercase tracking-wider text-slate-400",children:"Runway"}),m.jsxs("div",{className:`text-2xl font-black flex items-center justify-center md:justify-end gap-2 ${T}`,children:[P?m.jsx($5,{className:"w-5 h-5"}):m.jsx(Su,{className:"w-5 h-5"}),O," ",m.jsx("span",{className:"text-sm text-slate-400 font-medium",children:"Days"})]})]}),m.jsx("div",{className:"hidden md:flex flex-col items-end justify-center border-l dark:border-slate-700 pl-6",children:m.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide border ${A>=S?"bg-emerald-50 text-emerald-700 border-emerald-200 dark:bg-emerald-900/20 dark:text-emerald-400":"bg-amber-50 text-amber-700 border-amber-200 dark:bg-amber-900/20 dark:text-amber-400"}`,children:A>=S?"Secure":"Below Safety"})})]})]})})}function A5({label:e,value:t,unit:r,onSave:n,colorClass:a="text-slate-700 dark:text-slate-200"}){const[s,l]=x.useState(!1),[u,d]=x.useState(t===0?"":t);x.useEffect(()=>d(t===0?"":t),[t]);const f=p=>{p.key==="Enter"&&(n(u),l(!1))};return s?m.jsxs("div",{className:"flex flex-col items-end",children:[m.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-slate-400 mb-1",children:e}),m.jsx("input",{autoFocus:!0,type:"number",className:"w-24 text-right text-xl font-bold p-1 bg-white dark:bg-slate-800 border-2 border-blue-400 rounded shadow-md outline-none",value:u,onChange:p=>d(p.target.value),onBlur:()=>{n(u),l(!1)},onKeyDown:f})]}):m.jsxs("div",{className:"group cursor-pointer relative",onClick:()=>l(!0),children:[m.jsxs("div",{className:"flex items-center justify-end gap-1 mb-0.5",children:[m.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-slate-400 group-hover:text-blue-500 transition-colors",children:e}),m.jsx(eu,{className:"w-3 h-3 text-slate-300 opacity-0 group-hover:opacity-100 transition-opacity"})]}),m.jsxs("div",{className:`text-2xl font-black ${a} group-hover:bg-slate-50 dark:group-hover:bg-slate-800 rounded px-1 -mr-1 transition-colors`,children:[Number(t).toLocaleString()," ",m.jsx("span",{className:"text-xs font-medium text-slate-400",children:r})]})]})}function T5({label:e,value:t,onChange:r,width:n}){return m.jsxs("div",{className:"flex flex-col",children:[m.jsx("label",{className:"text-[10px] uppercase font-bold text-slate-400 mb-0.5 ml-1",children:e}),m.jsx("input",{type:"number",className:`${n} bg-transparent hover:bg-slate-50 dark:hover:bg-slate-800 border-b-2 border-transparent hover:border-slate-300 dark:hover:border-slate-600 rounded-t p-1 text-lg font-extrabold text-slate-800 dark:text-white focus:bg-white dark:focus:bg-slate-800 focus:border-blue-500 focus:ring-0 outline-none transition-all`,value:t===0?"":t,onChange:a=>r(a.target.value),onFocus:a=>a.target.select()})]})}function ele(){const{user:e,loading:t,userRole:r}=Tr(),{uploadLocalData:n}=kl(),{productMap:a}=fr(),s=Object.keys(a);return x.useEffect(()=>{e&&n(e,s,r)},[e,s,n,r]),x.useEffect(()=>{document.title="UBP Planner v2.25.42"},[]),t?m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-slate-900 transition-colors",children:m.jsxs("div",{className:"flex flex-col items-center",children:[m.jsx("div",{className:"h-24 w-24 bg-white rounded-full shadow-2xl shadow-blue-500/20 flex items-center justify-center overflow-hidden animate-pulse",children:m.jsx("img",{src:v0,className:"h-[95%] w-[95%] object-contain",alt:"Loading..."})}),m.jsx("div",{className:"mt-6 text-slate-400 font-extrabold tracking-[0.2em] uppercase text-xs animate-pulse",children:"Loading Planner..."})]})}):e?m.jsx(OB,{children:m.jsx(tle,{user:e})}):m.jsx(Koe,{})}function tle({user:e}){const{userRole:t}=Tr(),r=t||"admin",n=["admin","planner"].includes(r),a=["admin","planner","logistics"].includes(r),[s,l]=x.useState(()=>localStorage.getItem("activeTab")||"logistics"),[u,d]=x.useState(!1);x.useEffect(()=>{(s==="mrp"||s==="master")&&!n&&l("logistics"),localStorage.setItem("activeTab",s)},[s,n]);const{poManifest:f}=$n(),p=qoe(f),g=Hoe(),{activeSku:v}=Qn(),{productMap:y}=fr(),_=Object.keys(y),k=Foe(_,s==="master");return m.jsxs("div",{id:"main-app-wrapper",className:"min-h-screen flex flex-col transition-colors duration-200 bg-slate-300 dark:bg-slate-900",children:[m.jsx(C8,{onOpenSettings:()=>d(!0),isSaving:p.formState.isSaving,saveError:p.formState.saveError,activeTab:s,setActiveTab:l}),m.jsxs("main",{className:"flex-grow p-2 md:p-6 w-full pt-4",children:[m.jsx(Qoe,{mrp:p,scheduler:g,activeSku:v}),m.jsx("div",{className:s==="logistics"?"block":"hidden",children:m.jsx(Goe,{state:p.formState,setters:p.setters,results:p.results,readOnly:!a})}),m.jsx("div",{className:s==="mrp"?"block":"hidden",children:m.jsx(Poe,{state:p.formState,setters:p.setters,results:p.results,readOnly:!n})}),m.jsx("div",{className:s==="scheduler"?"block":"hidden",children:m.jsx(Loe,{state:g.formState,setters:g.setters,results:g.results,readOnly:!a})}),m.jsx("div",{className:s==="master"?"block":"hidden",children:m.jsx(Voe,{masterLedger:k.masterLedger,loading:k.loading})}),m.jsx("div",{className:s==="products"?"block":"hidden",children:m.jsx(Woe,{readOnly:!a})}),m.jsx("div",{className:s==="cockpit"?"block":"hidden",children:m.jsx("div",{className:"-mx-4 md:-mx-6 -my-4 md:-my-6",children:m.jsx(Zoe,{mrpData:p,schedulerData:g,readOnly:!a})})})]}),u&&m.jsx(RB,{onClose:()=>d(!1)})]})}class rle extends ge.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,r){this.setState({error:t,errorInfo:r}),console.error("Uncaught error:",t,r)}render(){return this.state.hasError?m.jsxs("div",{style:{padding:"20px",backgroundColor:"#fee2e2",border:"1px solid #ef4444",margin:"20px",borderRadius:"8px",color:"#7f1d1d"},children:[m.jsx("h1",{style:{fontSize:"1.5rem",fontWeight:"bold",marginBottom:"10px"},children:"Something went wrong."}),m.jsx("p",{style:{fontWeight:"bold"},children:this.state.error&&this.state.error.toString()}),m.jsx("details",{style:{marginTop:"10px",whiteSpace:"pre-wrap"},children:this.state.errorInfo&&this.state.errorInfo.componentStack})]}):this.props.children}}t$.createRoot(document.getElementById("root")).render(m.jsx(rle,{children:m.jsx(A8,{children:m.jsx(EB,{children:m.jsx(NB,{children:m.jsx(ele,{})})})})}));
