function DA(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var df=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ba(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function wu(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){var a=!1;try{a=this instanceof n}catch{}return a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var Og={exports:{}},Ec={};var r2;function Q$(){if(r2)return Ec;r2=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,a,s){var l=null;if(s!==void 0&&(l=""+s),a.key!==void 0&&(l=""+a.key),"key"in a){s={};for(var u in a)u!=="key"&&(s[u]=a[u])}else s=a;return a=s.ref,{$$typeof:e,type:n,key:l,ref:a!==void 0?a:null,props:s}}return Ec.Fragment=t,Ec.jsx=r,Ec.jsxs=r,Ec}var n2;function e6(){return n2||(n2=1,Og.exports=Q$()),Og.exports}var p=e6(),Ng={exports:{}},Le={};var a2;function t6(){if(a2)return Le;a2=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),v=Symbol.iterator;function y(L){return L===null||typeof L!="object"?null:(L=v&&L[v]||L["@@iterator"],typeof L=="function"?L:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,_={};function j(L,K,F){this.props=L,this.context=K,this.refs=_,this.updater=F||S}j.prototype.isReactComponent={},j.prototype.setState=function(L,K){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,K,"setState")},j.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function O(){}O.prototype=j.prototype;function E(L,K,F){this.props=L,this.context=K,this.refs=_,this.updater=F||S}var D=E.prototype=new O;D.constructor=E,k(D,j.prototype),D.isPureReactComponent=!0;var N=Array.isArray;function C(){}var P={H:null,A:null,T:null,S:null},T=Object.prototype.hasOwnProperty;function R(L,K,F){var Z=F.ref;return{$$typeof:e,type:L,key:K,ref:Z!==void 0?Z:null,props:F}}function M(L,K){return R(L.type,K,L.props)}function I(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function z(L){var K={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(F){return K[F]})}var q=/\/+/g;function re(L,K){return typeof L=="object"&&L!==null&&L.key!=null?z(""+L.key):K.toString(36)}function oe(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(C,C):(L.status="pending",L.then(function(K){L.status==="pending"&&(L.status="fulfilled",L.value=K)},function(K){L.status==="pending"&&(L.status="rejected",L.reason=K)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function B(L,K,F,Z,le){var ue=typeof L;(ue==="undefined"||ue==="boolean")&&(L=null);var ne=!1;if(L===null)ne=!0;else switch(ue){case"bigint":case"string":case"number":ne=!0;break;case"object":switch(L.$$typeof){case e:case t:ne=!0;break;case h:return ne=L._init,B(ne(L._payload),K,F,Z,le)}}if(ne)return le=le(L),ne=Z===""?"."+re(L,0):Z,N(le)?(F="",ne!=null&&(F=ne.replace(q,"$&/")+"/"),B(le,K,F,"",function(ge){return ge})):le!=null&&(I(le)&&(le=M(le,F+(le.key==null||L&&L.key===le.key?"":(""+le.key).replace(q,"$&/")+"/")+ne)),K.push(le)),1;ne=0;var be=Z===""?".":Z+":";if(N(L))for(var G=0;G<L.length;G++)Z=L[G],ue=be+re(Z,G),ne+=B(Z,K,F,ue,le);else if(G=y(L),typeof G=="function")for(L=G.call(L),G=0;!(Z=L.next()).done;)Z=Z.value,ue=be+re(Z,G++),ne+=B(Z,K,F,ue,le);else if(ue==="object"){if(typeof L.then=="function")return B(oe(L),K,F,Z,le);throw K=String(L),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return ne}function H(L,K,F){if(L==null)return L;var Z=[],le=0;return B(L,Z,"","",function(ue){return K.call(F,ue,le++)}),Z}function W(L){if(L._status===-1){var K=L._result;K=K(),K.then(function(F){(L._status===0||L._status===-1)&&(L._status=1,L._result=F)},function(F){(L._status===0||L._status===-1)&&(L._status=2,L._result=F)}),L._status===-1&&(L._status=0,L._result=K)}if(L._status===1)return L._result.default;throw L._result}var ee=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},ve={map:H,forEach:function(L,K,F){H(L,function(){K.apply(this,arguments)},F)},count:function(L){var K=0;return H(L,function(){K++}),K},toArray:function(L){return H(L,function(K){return K})||[]},only:function(L){if(!I(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Le.Activity=g,Le.Children=ve,Le.Component=j,Le.Fragment=r,Le.Profiler=a,Le.PureComponent=E,Le.StrictMode=n,Le.Suspense=d,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Le.__COMPILER_RUNTIME={__proto__:null,c:function(L){return P.H.useMemoCache(L)}},Le.cache=function(L){return function(){return L.apply(null,arguments)}},Le.cacheSignal=function(){return null},Le.cloneElement=function(L,K,F){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var Z=k({},L.props),le=L.key;if(K!=null)for(ue in K.key!==void 0&&(le=""+K.key),K)!T.call(K,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&K.ref===void 0||(Z[ue]=K[ue]);var ue=arguments.length-2;if(ue===1)Z.children=F;else if(1<ue){for(var ne=Array(ue),be=0;be<ue;be++)ne[be]=arguments[be+2];Z.children=ne}return R(L.type,le,Z)},Le.createContext=function(L){return L={$$typeof:l,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:s,_context:L},L},Le.createElement=function(L,K,F){var Z,le={},ue=null;if(K!=null)for(Z in K.key!==void 0&&(ue=""+K.key),K)T.call(K,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(le[Z]=K[Z]);var ne=arguments.length-2;if(ne===1)le.children=F;else if(1<ne){for(var be=Array(ne),G=0;G<ne;G++)be[G]=arguments[G+2];le.children=be}if(L&&L.defaultProps)for(Z in ne=L.defaultProps,ne)le[Z]===void 0&&(le[Z]=ne[Z]);return R(L,ue,le)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(L){return{$$typeof:u,render:L}},Le.isValidElement=I,Le.lazy=function(L){return{$$typeof:h,_payload:{_status:-1,_result:L},_init:W}},Le.memo=function(L,K){return{$$typeof:f,type:L,compare:K===void 0?null:K}},Le.startTransition=function(L){var K=P.T,F={};P.T=F;try{var Z=L(),le=P.S;le!==null&&le(F,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(C,ee)}catch(ue){ee(ue)}finally{K!==null&&F.types!==null&&(K.types=F.types),P.T=K}},Le.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Le.use=function(L){return P.H.use(L)},Le.useActionState=function(L,K,F){return P.H.useActionState(L,K,F)},Le.useCallback=function(L,K){return P.H.useCallback(L,K)},Le.useContext=function(L){return P.H.useContext(L)},Le.useDebugValue=function(){},Le.useDeferredValue=function(L,K){return P.H.useDeferredValue(L,K)},Le.useEffect=function(L,K){return P.H.useEffect(L,K)},Le.useEffectEvent=function(L){return P.H.useEffectEvent(L)},Le.useId=function(){return P.H.useId()},Le.useImperativeHandle=function(L,K,F){return P.H.useImperativeHandle(L,K,F)},Le.useInsertionEffect=function(L,K){return P.H.useInsertionEffect(L,K)},Le.useLayoutEffect=function(L,K){return P.H.useLayoutEffect(L,K)},Le.useMemo=function(L,K){return P.H.useMemo(L,K)},Le.useOptimistic=function(L,K){return P.H.useOptimistic(L,K)},Le.useReducer=function(L,K,F){return P.H.useReducer(L,K,F)},Le.useRef=function(L){return P.H.useRef(L)},Le.useState=function(L){return P.H.useState(L)},Le.useSyncExternalStore=function(L,K,F){return P.H.useSyncExternalStore(L,K,F)},Le.useTransition=function(){return P.H.useTransition()},Le.version="19.2.1",Le}var i2;function xl(){return i2||(i2=1,Ng.exports=t6()),Ng.exports}var x=xl();const we=ba(x),ky=DA({__proto__:null,default:we},[x]);var Ag={exports:{}},Oc={},Tg={exports:{}},Cg={};var s2;function r6(){return s2||(s2=1,(function(e){function t(B,H){var W=B.length;B.push(H);e:for(;0<W;){var ee=W-1>>>1,ve=B[ee];if(0<a(ve,H))B[ee]=H,B[W]=ve,W=ee;else break e}}function r(B){return B.length===0?null:B[0]}function n(B){if(B.length===0)return null;var H=B[0],W=B.pop();if(W!==H){B[0]=W;e:for(var ee=0,ve=B.length,L=ve>>>1;ee<L;){var K=2*(ee+1)-1,F=B[K],Z=K+1,le=B[Z];if(0>a(F,W))Z<ve&&0>a(le,F)?(B[ee]=le,B[Z]=W,ee=Z):(B[ee]=F,B[K]=W,ee=K);else if(Z<ve&&0>a(le,W))B[ee]=le,B[Z]=W,ee=Z;else break e}}return H}function a(B,H){var W=B.sortIndex-H.sortIndex;return W!==0?W:B.id-H.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],f=[],h=1,g=null,v=3,y=!1,S=!1,k=!1,_=!1,j=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function D(B){for(var H=r(f);H!==null;){if(H.callback===null)n(f);else if(H.startTime<=B)n(f),H.sortIndex=H.expirationTime,t(d,H);else break;H=r(f)}}function N(B){if(k=!1,D(B),!S)if(r(d)!==null)S=!0,C||(C=!0,z());else{var H=r(f);H!==null&&oe(N,H.startTime-B)}}var C=!1,P=-1,T=5,R=-1;function M(){return _?!0:!(e.unstable_now()-R<T)}function I(){if(_=!1,C){var B=e.unstable_now();R=B;var H=!0;try{e:{S=!1,k&&(k=!1,O(P),P=-1),y=!0;var W=v;try{t:{for(D(B),g=r(d);g!==null&&!(g.expirationTime>B&&M());){var ee=g.callback;if(typeof ee=="function"){g.callback=null,v=g.priorityLevel;var ve=ee(g.expirationTime<=B);if(B=e.unstable_now(),typeof ve=="function"){g.callback=ve,D(B),H=!0;break t}g===r(d)&&n(d),D(B)}else n(d);g=r(d)}if(g!==null)H=!0;else{var L=r(f);L!==null&&oe(N,L.startTime-B),H=!1}}break e}finally{g=null,v=W,y=!1}H=void 0}}finally{H?z():C=!1}}}var z;if(typeof E=="function")z=function(){E(I)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,re=q.port2;q.port1.onmessage=I,z=function(){re.postMessage(null)}}else z=function(){j(I,0)};function oe(B,H){P=j(function(){B(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(B){switch(v){case 1:case 2:case 3:var H=3;break;default:H=v}var W=v;v=H;try{return B()}finally{v=W}},e.unstable_requestPaint=function(){_=!0},e.unstable_runWithPriority=function(B,H){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var W=v;v=B;try{return H()}finally{v=W}},e.unstable_scheduleCallback=function(B,H,W){var ee=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ee+W:ee):W=ee,B){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=W+ve,B={id:h++,callback:H,priorityLevel:B,startTime:W,expirationTime:ve,sortIndex:-1},W>ee?(B.sortIndex=W,t(f,B),r(d)===null&&B===r(f)&&(k?(O(P),P=-1):k=!0,oe(N,W-ee))):(B.sortIndex=ve,t(d,B),S||y||(S=!0,C||(C=!0,z()))),B},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(B){var H=v;return function(){var W=v;v=H;try{return B.apply(this,arguments)}finally{v=W}}}})(Cg)),Cg}var o2;function n6(){return o2||(o2=1,Tg.exports=r6()),Tg.exports}var Pg={exports:{}},Sr={};var l2;function a6(){if(l2)return Sr;l2=1;var e=xl();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(d,f,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:d,containerInfo:f,implementation:h}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Sr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Sr.createPortal=function(d,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return s(d,f,null,h)},Sr.flushSync=function(d){var f=l.T,h=n.p;try{if(l.T=null,n.p=2,d)return d()}finally{l.T=f,n.p=h,n.d.f()}},Sr.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(d,f))},Sr.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},Sr.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var h=f.as,g=u(h,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,y=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?n.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:y}):h==="script"&&n.d.X(d,{crossOrigin:g,integrity:v,fetchPriority:y,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Sr.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=u(f.as,f.crossOrigin);n.d.M(d,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(d)},Sr.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,g=u(h,f.crossOrigin);n.d.L(d,h,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Sr.preloadModule=function(d,f){if(typeof d=="string")if(f){var h=u(f.as,f.crossOrigin);n.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(d)},Sr.requestFormReset=function(d){n.d.r(d)},Sr.unstable_batchedUpdates=function(d,f){return d(f)},Sr.useFormState=function(d,f,h){return l.H.useFormState(d,f,h)},Sr.useFormStatus=function(){return l.H.useHostTransitionStatus()},Sr.version="19.2.1",Sr}var c2;function RA(){if(c2)return Pg.exports;c2=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Pg.exports=a6(),Pg.exports}var u2;function i6(){if(u2)return Oc;u2=1;var e=n6(),t=xl(),r=RA();function n(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function s(i){var o=i,c=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(c=o.return),i=o.return;while(i)}return o.tag===3?c:null}function l(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function u(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function d(i){if(s(i)!==i)throw Error(n(188))}function f(i){var o=i.alternate;if(!o){if(o=s(i),o===null)throw Error(n(188));return o!==i?null:i}for(var c=i,m=o;;){var b=c.return;if(b===null)break;var w=b.alternate;if(w===null){if(m=b.return,m!==null){c=m;continue}break}if(b.child===w.child){for(w=b.child;w;){if(w===c)return d(b),i;if(w===m)return d(b),o;w=w.sibling}throw Error(n(188))}if(c.return!==m.return)c=b,m=w;else{for(var A=!1,$=b.child;$;){if($===c){A=!0,c=b,m=w;break}if($===m){A=!0,m=b,c=w;break}$=$.sibling}if(!A){for($=w.child;$;){if($===c){A=!0,c=w,m=b;break}if($===m){A=!0,m=w,c=b;break}$=$.sibling}if(!A)throw Error(n(189))}}if(c.alternate!==m)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?i:o}function h(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=h(i),o!==null)return o;i=i.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),E=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function z(i){return i===null||typeof i!="object"?null:(i=I&&i[I]||i["@@iterator"],typeof i=="function"?i:null)}var q=Symbol.for("react.client.reference");function re(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===q?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case k:return"Fragment";case j:return"Profiler";case _:return"StrictMode";case N:return"Suspense";case C:return"SuspenseList";case R:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case S:return"Portal";case E:return i.displayName||"Context";case O:return(i._context.displayName||"Context")+".Consumer";case D:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case P:return o=i.displayName||null,o!==null?o:re(i.type)||"Memo";case T:o=i._payload,i=i._init;try{return re(i(o))}catch{}}return null}var oe=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},ee=[],ve=-1;function L(i){return{current:i}}function K(i){0>ve||(i.current=ee[ve],ee[ve]=null,ve--)}function F(i,o){ve++,ee[ve]=i.current,i.current=o}var Z=L(null),le=L(null),ue=L(null),ne=L(null);function be(i,o){switch(F(ue,o),F(le,i),F(Z,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?jk(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=jk(o),i=Ek(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}K(Z),F(Z,i)}function G(){K(Z),K(le),K(ue)}function ge(i){i.memoizedState!==null&&F(ne,i);var o=Z.current,c=Ek(o,i.type);o!==c&&(F(le,i),F(Z,c))}function ye(i){le.current===i&&(K(Z),K(le)),ne.current===i&&(K(ne),_c._currentValue=W)}var X,xe;function ae(i){if(X===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);X=o&&o[1]||"",xe=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+X+i+xe}var me=!1;function pe(i,o){if(!i||me)return"";me=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(ie){var te=ie}Reflect.construct(i,[],fe)}else{try{fe.call()}catch(ie){te=ie}i.call(fe.prototype)}}else{try{throw Error()}catch(ie){te=ie}(fe=i())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(ie){if(ie&&te&&typeof ie.stack=="string")return[ie.stack,te.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=m.DetermineComponentFrameRoot(),A=w[0],$=w[1];if(A&&$){var U=A.split(`
`),Q=$.split(`
`);for(b=m=0;m<U.length&&!U[m].includes("DetermineComponentFrameRoot");)m++;for(;b<Q.length&&!Q[b].includes("DetermineComponentFrameRoot");)b++;if(m===U.length||b===Q.length)for(m=U.length-1,b=Q.length-1;1<=m&&0<=b&&U[m]!==Q[b];)b--;for(;1<=m&&0<=b;m--,b--)if(U[m]!==Q[b]){if(m!==1||b!==1)do if(m--,b--,0>b||U[m]!==Q[b]){var ce=`
`+U[m].replace(" at new "," at ");return i.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",i.displayName)),ce}while(1<=m&&0<=b);break}}}finally{me=!1,Error.prepareStackTrace=c}return(c=i?i.displayName||i.name:"")?ae(c):""}function _e(i,o){switch(i.tag){case 26:case 27:case 5:return ae(i.type);case 16:return ae("Lazy");case 13:return i.child!==o&&o!==null?ae("Suspense Fallback"):ae("Suspense");case 19:return ae("SuspenseList");case 0:case 15:return pe(i.type,!1);case 11:return pe(i.type.render,!1);case 1:return pe(i.type,!0);case 31:return ae("Activity");default:return""}}function Ce(i){try{var o="",c=null;do o+=_e(i,c),c=i,i=i.return;while(i);return o}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var Ie=Object.prototype.hasOwnProperty,Be=e.unstable_scheduleCallback,Ot=e.unstable_cancelCallback,bt=e.unstable_shouldYield,pt=e.unstable_requestPaint,$e=e.unstable_now,tt=e.unstable_getCurrentPriorityLevel,Ye=e.unstable_ImmediatePriority,qe=e.unstable_UserBlockingPriority,We=e.unstable_NormalPriority,Pt=e.unstable_LowPriority,Sa=e.unstable_IdlePriority,wn=e.log,_r=e.unstable_setDisableYieldValue,tn=null,Lt=null;function zr(i){if(typeof wn=="function"&&_r(i),Lt&&typeof Lt.setStrictMode=="function")try{Lt.setStrictMode(tn,i)}catch{}}var tr=Math.clz32?Math.clz32:z3,Zu=Math.log,L3=Math.LN2;function z3(i){return i>>>=0,i===0?32:31-(Zu(i)/L3|0)|0}var Gu=256,Yu=262144,Wu=4194304;function ns(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Xu(i,o,c){var m=i.pendingLanes;if(m===0)return 0;var b=0,w=i.suspendedLanes,A=i.pingedLanes;i=i.warmLanes;var $=m&134217727;return $!==0?(m=$&~w,m!==0?b=ns(m):(A&=$,A!==0?b=ns(A):c||(c=$&~i,c!==0&&(b=ns(c))))):($=m&~w,$!==0?b=ns($):A!==0?b=ns(A):c||(c=m&~i,c!==0&&(b=ns(c)))),b===0?0:o!==0&&o!==b&&(o&w)===0&&(w=b&-b,c=o&-o,w>=c||w===32&&(c&4194048)!==0)?o:b}function Ml(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function U3(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function s1(){var i=Wu;return Wu<<=1,(Wu&62914560)===0&&(Wu=4194304),i}function pm(i){for(var o=[],c=0;31>c;c++)o.push(i);return o}function $l(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function B3(i,o,c,m,b,w){var A=i.pendingLanes;i.pendingLanes=c,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=c,i.entangledLanes&=c,i.errorRecoveryDisabledLanes&=c,i.shellSuspendCounter=0;var $=i.entanglements,U=i.expirationTimes,Q=i.hiddenUpdates;for(c=A&~c;0<c;){var ce=31-tr(c),fe=1<<ce;$[ce]=0,U[ce]=-1;var te=Q[ce];if(te!==null)for(Q[ce]=null,ce=0;ce<te.length;ce++){var ie=te[ce];ie!==null&&(ie.lane&=-536870913)}c&=~fe}m!==0&&o1(i,m,0),w!==0&&b===0&&i.tag!==0&&(i.suspendedLanes|=w&~(A&~o))}function o1(i,o,c){i.pendingLanes|=o,i.suspendedLanes&=~o;var m=31-tr(o);i.entangledLanes|=o,i.entanglements[m]=i.entanglements[m]|1073741824|c&261930}function l1(i,o){var c=i.entangledLanes|=o;for(i=i.entanglements;c;){var m=31-tr(c),b=1<<m;b&o|i[m]&o&&(i[m]|=o),c&=~b}}function c1(i,o){var c=o&-o;return c=(c&42)!==0?1:gm(c),(c&(i.suspendedLanes|o))!==0?0:c}function gm(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function vm(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function u1(){var i=H.p;return i!==0?i:(i=window.event,i===void 0?32:Yk(i.type))}function d1(i,o){var c=H.p;try{return H.p=i,o()}finally{H.p=c}}var mi=Math.random().toString(36).slice(2),lr="__reactFiber$"+mi,Ur="__reactProps$"+mi,io="__reactContainer$"+mi,ym="__reactEvents$"+mi,q3="__reactListeners$"+mi,H3="__reactHandles$"+mi,f1="__reactResources$"+mi,Il="__reactMarker$"+mi;function bm(i){delete i[lr],delete i[Ur],delete i[ym],delete i[q3],delete i[H3]}function so(i){var o=i[lr];if(o)return o;for(var c=i.parentNode;c;){if(o=c[io]||c[lr]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(i=Dk(i);i!==null;){if(c=i[lr])return c;i=Dk(i)}return o}i=c,c=i.parentNode}return null}function oo(i){if(i=i[lr]||i[io]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function Ll(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(n(33))}function lo(i){var o=i[f1];return o||(o=i[f1]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function rr(i){i[Il]=!0}var h1=new Set,m1={};function as(i,o){co(i,o),co(i+"Capture",o)}function co(i,o){for(m1[i]=o,i=0;i<o.length;i++)h1.add(o[i])}var F3=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),p1={},g1={};function V3(i){return Ie.call(g1,i)?!0:Ie.call(p1,i)?!1:F3.test(i)?g1[i]=!0:(p1[i]=!0,!1)}function Ju(i,o,c){if(V3(o))if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+c)}}function Qu(i,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+c)}}function ka(i,o,c,m){if(m===null)i.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(c);return}i.setAttributeNS(o,c,""+m)}}function _n(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function v1(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function K3(i,o,c){var m=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var b=m.get,w=m.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return b.call(this)},set:function(A){c=""+A,w.call(this,A)}}),Object.defineProperty(i,o,{enumerable:m.enumerable}),{getValue:function(){return c},setValue:function(A){c=""+A},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function xm(i){if(!i._valueTracker){var o=v1(i)?"checked":"value";i._valueTracker=K3(i,o,""+i[o])}}function y1(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var c=o.getValue(),m="";return i&&(m=v1(i)?i.checked?"true":"false":i.value),i=m,i!==c?(o.setValue(i),!0):!1}function ed(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Z3=/[\n"\\]/g;function Sn(i){return i.replace(Z3,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function wm(i,o,c,m,b,w,A,$){i.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.type=A:i.removeAttribute("type"),o!=null?A==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+_n(o)):i.value!==""+_n(o)&&(i.value=""+_n(o)):A!=="submit"&&A!=="reset"||i.removeAttribute("value"),o!=null?_m(i,A,_n(o)):c!=null?_m(i,A,_n(c)):m!=null&&i.removeAttribute("value"),b==null&&w!=null&&(i.defaultChecked=!!w),b!=null&&(i.checked=b&&typeof b!="function"&&typeof b!="symbol"),$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?i.name=""+_n($):i.removeAttribute("name")}function b1(i,o,c,m,b,w,A,$){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.type=w),o!=null||c!=null){if(!(w!=="submit"&&w!=="reset"||o!=null)){xm(i);return}c=c!=null?""+_n(c):"",o=o!=null?""+_n(o):c,$||o===i.value||(i.value=o),i.defaultValue=o}m=m??b,m=typeof m!="function"&&typeof m!="symbol"&&!!m,i.checked=$?i.checked:!!m,i.defaultChecked=!!m,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(i.name=A),xm(i)}function _m(i,o,c){o==="number"&&ed(i.ownerDocument)===i||i.defaultValue===""+c||(i.defaultValue=""+c)}function uo(i,o,c,m){if(i=i.options,o){o={};for(var b=0;b<c.length;b++)o["$"+c[b]]=!0;for(c=0;c<i.length;c++)b=o.hasOwnProperty("$"+i[c].value),i[c].selected!==b&&(i[c].selected=b),b&&m&&(i[c].defaultSelected=!0)}else{for(c=""+_n(c),o=null,b=0;b<i.length;b++){if(i[b].value===c){i[b].selected=!0,m&&(i[b].defaultSelected=!0);return}o!==null||i[b].disabled||(o=i[b])}o!==null&&(o.selected=!0)}}function x1(i,o,c){if(o!=null&&(o=""+_n(o),o!==i.value&&(i.value=o),c==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=c!=null?""+_n(c):""}function w1(i,o,c,m){if(o==null){if(m!=null){if(c!=null)throw Error(n(92));if(oe(m)){if(1<m.length)throw Error(n(93));m=m[0]}c=m}c==null&&(c=""),o=c}c=_n(o),i.defaultValue=c,m=i.textContent,m===c&&m!==""&&m!==null&&(i.value=m),xm(i)}function fo(i,o){if(o){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=o;return}}i.textContent=o}var G3=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _1(i,o,c){var m=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?m?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":m?i.setProperty(o,c):typeof c!="number"||c===0||G3.has(o)?o==="float"?i.cssFloat=c:i[o]=(""+c).trim():i[o]=c+"px"}function S1(i,o,c){if(o!=null&&typeof o!="object")throw Error(n(62));if(i=i.style,c!=null){for(var m in c)!c.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?i.setProperty(m,""):m==="float"?i.cssFloat="":i[m]="");for(var b in o)m=o[b],o.hasOwnProperty(b)&&c[b]!==m&&_1(i,b,m)}else for(var w in o)o.hasOwnProperty(w)&&_1(i,w,o[w])}function Sm(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Y3=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),W3=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function td(i){return W3.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ja(){}var km=null;function jm(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ho=null,mo=null;function k1(i){var o=oo(i);if(o&&(i=o.stateNode)){var c=i[Ur]||null;e:switch(i=o.stateNode,o.type){case"input":if(wm(i,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Sn(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var m=c[o];if(m!==i&&m.form===i.form){var b=m[Ur]||null;if(!b)throw Error(n(90));wm(m,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(o=0;o<c.length;o++)m=c[o],m.form===i.form&&y1(m)}break e;case"textarea":x1(i,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&uo(i,!!c.multiple,o,!1)}}}var Em=!1;function j1(i,o,c){if(Em)return i(o,c);Em=!0;try{var m=i(o);return m}finally{if(Em=!1,(ho!==null||mo!==null)&&(qd(),ho&&(o=ho,i=mo,mo=ho=null,k1(o),i)))for(o=0;o<i.length;o++)k1(i[o])}}function zl(i,o){var c=i.stateNode;if(c===null)return null;var m=c[Ur]||null;if(m===null)return null;c=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(n(231,o,typeof c));return c}var Ea=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Om=!1;if(Ea)try{var Ul={};Object.defineProperty(Ul,"passive",{get:function(){Om=!0}}),window.addEventListener("test",Ul,Ul),window.removeEventListener("test",Ul,Ul)}catch{Om=!1}var pi=null,Nm=null,rd=null;function E1(){if(rd)return rd;var i,o=Nm,c=o.length,m,b="value"in pi?pi.value:pi.textContent,w=b.length;for(i=0;i<c&&o[i]===b[i];i++);var A=c-i;for(m=1;m<=A&&o[c-m]===b[w-m];m++);return rd=b.slice(i,1<m?1-m:void 0)}function nd(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function ad(){return!0}function O1(){return!1}function Br(i){function o(c,m,b,w,A){this._reactName=c,this._targetInst=b,this.type=m,this.nativeEvent=w,this.target=A,this.currentTarget=null;for(var $ in i)i.hasOwnProperty($)&&(c=i[$],this[$]=c?c(w):w[$]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?ad:O1,this.isPropagationStopped=O1,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=ad)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=ad)},persist:function(){},isPersistent:ad}),o}var is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},id=Br(is),Bl=g({},is,{view:0,detail:0}),X3=Br(Bl),Am,Tm,ql,sd=g({},Bl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pm,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ql&&(ql&&i.type==="mousemove"?(Am=i.screenX-ql.screenX,Tm=i.screenY-ql.screenY):Tm=Am=0,ql=i),Am)},movementY:function(i){return"movementY"in i?i.movementY:Tm}}),N1=Br(sd),J3=g({},sd,{dataTransfer:0}),Q3=Br(J3),eM=g({},Bl,{relatedTarget:0}),Cm=Br(eM),tM=g({},is,{animationName:0,elapsedTime:0,pseudoElement:0}),rM=Br(tM),nM=g({},is,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),aM=Br(nM),iM=g({},is,{data:0}),A1=Br(iM),sM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cM(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=lM[i])?!!o[i]:!1}function Pm(){return cM}var uM=g({},Bl,{key:function(i){if(i.key){var o=sM[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=nd(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?oM[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pm,charCode:function(i){return i.type==="keypress"?nd(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?nd(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),dM=Br(uM),fM=g({},sd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),T1=Br(fM),hM=g({},Bl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pm}),mM=Br(hM),pM=g({},is,{propertyName:0,elapsedTime:0,pseudoElement:0}),gM=Br(pM),vM=g({},sd,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),yM=Br(vM),bM=g({},is,{newState:0,oldState:0}),xM=Br(bM),wM=[9,13,27,32],Dm=Ea&&"CompositionEvent"in window,Hl=null;Ea&&"documentMode"in document&&(Hl=document.documentMode);var _M=Ea&&"TextEvent"in window&&!Hl,C1=Ea&&(!Dm||Hl&&8<Hl&&11>=Hl),P1=" ",D1=!1;function R1(i,o){switch(i){case"keyup":return wM.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function M1(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var po=!1;function SM(i,o){switch(i){case"compositionend":return M1(o);case"keypress":return o.which!==32?null:(D1=!0,P1);case"textInput":return i=o.data,i===P1&&D1?null:i;default:return null}}function kM(i,o){if(po)return i==="compositionend"||!Dm&&R1(i,o)?(i=E1(),rd=Nm=pi=null,po=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return C1&&o.locale!=="ko"?null:o.data;default:return null}}var jM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $1(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!jM[i.type]:o==="textarea"}function I1(i,o,c,m){ho?mo?mo.push(m):mo=[m]:ho=m,o=Yd(o,"onChange"),0<o.length&&(c=new id("onChange","change",null,c,m),i.push({event:c,listeners:o}))}var Fl=null,Vl=null;function EM(i){bk(i,0)}function od(i){var o=Ll(i);if(y1(o))return i}function L1(i,o){if(i==="change")return o}var z1=!1;if(Ea){var Rm;if(Ea){var Mm="oninput"in document;if(!Mm){var U1=document.createElement("div");U1.setAttribute("oninput","return;"),Mm=typeof U1.oninput=="function"}Rm=Mm}else Rm=!1;z1=Rm&&(!document.documentMode||9<document.documentMode)}function B1(){Fl&&(Fl.detachEvent("onpropertychange",q1),Vl=Fl=null)}function q1(i){if(i.propertyName==="value"&&od(Vl)){var o=[];I1(o,Vl,i,jm(i)),j1(EM,o)}}function OM(i,o,c){i==="focusin"?(B1(),Fl=o,Vl=c,Fl.attachEvent("onpropertychange",q1)):i==="focusout"&&B1()}function NM(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return od(Vl)}function AM(i,o){if(i==="click")return od(o)}function TM(i,o){if(i==="input"||i==="change")return od(o)}function CM(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var rn=typeof Object.is=="function"?Object.is:CM;function Kl(i,o){if(rn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var c=Object.keys(i),m=Object.keys(o);if(c.length!==m.length)return!1;for(m=0;m<c.length;m++){var b=c[m];if(!Ie.call(o,b)||!rn(i[b],o[b]))return!1}return!0}function H1(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function F1(i,o){var c=H1(i);i=0;for(var m;c;){if(c.nodeType===3){if(m=i+c.textContent.length,i<=o&&m>=o)return{node:c,offset:o-i};i=m}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=H1(c)}}function V1(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?V1(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function K1(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=ed(i.document);o instanceof i.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)i=o.contentWindow;else break;o=ed(i.document)}return o}function $m(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var PM=Ea&&"documentMode"in document&&11>=document.documentMode,go=null,Im=null,Zl=null,Lm=!1;function Z1(i,o,c){var m=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Lm||go==null||go!==ed(m)||(m=go,"selectionStart"in m&&$m(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Zl&&Kl(Zl,m)||(Zl=m,m=Yd(Im,"onSelect"),0<m.length&&(o=new id("onSelect","select",null,o,c),i.push({event:o,listeners:m}),o.target=go)))}function ss(i,o){var c={};return c[i.toLowerCase()]=o.toLowerCase(),c["Webkit"+i]="webkit"+o,c["Moz"+i]="moz"+o,c}var vo={animationend:ss("Animation","AnimationEnd"),animationiteration:ss("Animation","AnimationIteration"),animationstart:ss("Animation","AnimationStart"),transitionrun:ss("Transition","TransitionRun"),transitionstart:ss("Transition","TransitionStart"),transitioncancel:ss("Transition","TransitionCancel"),transitionend:ss("Transition","TransitionEnd")},zm={},G1={};Ea&&(G1=document.createElement("div").style,"AnimationEvent"in window||(delete vo.animationend.animation,delete vo.animationiteration.animation,delete vo.animationstart.animation),"TransitionEvent"in window||delete vo.transitionend.transition);function os(i){if(zm[i])return zm[i];if(!vo[i])return i;var o=vo[i],c;for(c in o)if(o.hasOwnProperty(c)&&c in G1)return zm[i]=o[c];return i}var Y1=os("animationend"),W1=os("animationiteration"),X1=os("animationstart"),DM=os("transitionrun"),RM=os("transitionstart"),MM=os("transitioncancel"),J1=os("transitionend"),Q1=new Map,Um="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Um.push("scrollEnd");function qn(i,o){Q1.set(i,o),as(o,[i])}var ld=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},kn=[],yo=0,Bm=0;function cd(){for(var i=yo,o=Bm=yo=0;o<i;){var c=kn[o];kn[o++]=null;var m=kn[o];kn[o++]=null;var b=kn[o];kn[o++]=null;var w=kn[o];if(kn[o++]=null,m!==null&&b!==null){var A=m.pending;A===null?b.next=b:(b.next=A.next,A.next=b),m.pending=b}w!==0&&e_(c,b,w)}}function ud(i,o,c,m){kn[yo++]=i,kn[yo++]=o,kn[yo++]=c,kn[yo++]=m,Bm|=m,i.lanes|=m,i=i.alternate,i!==null&&(i.lanes|=m)}function qm(i,o,c,m){return ud(i,o,c,m),dd(i)}function ls(i,o){return ud(i,null,null,o),dd(i)}function e_(i,o,c){i.lanes|=c;var m=i.alternate;m!==null&&(m.lanes|=c);for(var b=!1,w=i.return;w!==null;)w.childLanes|=c,m=w.alternate,m!==null&&(m.childLanes|=c),w.tag===22&&(i=w.stateNode,i===null||i._visibility&1||(b=!0)),i=w,w=w.return;return i.tag===3?(w=i.stateNode,b&&o!==null&&(b=31-tr(c),i=w.hiddenUpdates,m=i[b],m===null?i[b]=[o]:m.push(o),o.lane=c|536870912),w):null}function dd(i){if(50<pc)throw pc=0,Xp=null,Error(n(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var bo={};function $M(i,o,c,m){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nn(i,o,c,m){return new $M(i,o,c,m)}function Hm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Oa(i,o){var c=i.alternate;return c===null?(c=nn(i.tag,o,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=o,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&65011712,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,o=i.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c.refCleanup=i.refCleanup,c}function t_(i,o){i.flags&=65011714;var c=i.alternate;return c===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=c.childLanes,i.lanes=c.lanes,i.child=c.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=c.memoizedProps,i.memoizedState=c.memoizedState,i.updateQueue=c.updateQueue,i.type=c.type,o=c.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function fd(i,o,c,m,b,w){var A=0;if(m=i,typeof i=="function")Hm(i)&&(A=1);else if(typeof i=="string")A=B$(i,c,Z.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case R:return i=nn(31,c,o,b),i.elementType=R,i.lanes=w,i;case k:return cs(c.children,b,w,o);case _:A=8,b|=24;break;case j:return i=nn(12,c,o,b|2),i.elementType=j,i.lanes=w,i;case N:return i=nn(13,c,o,b),i.elementType=N,i.lanes=w,i;case C:return i=nn(19,c,o,b),i.elementType=C,i.lanes=w,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case E:A=10;break e;case O:A=9;break e;case D:A=11;break e;case P:A=14;break e;case T:A=16,m=null;break e}A=29,c=Error(n(130,i===null?"null":typeof i,"")),m=null}return o=nn(A,c,o,b),o.elementType=i,o.type=m,o.lanes=w,o}function cs(i,o,c,m){return i=nn(7,i,m,o),i.lanes=c,i}function Fm(i,o,c){return i=nn(6,i,null,o),i.lanes=c,i}function r_(i){var o=nn(18,null,null,0);return o.stateNode=i,o}function Vm(i,o,c){return o=nn(4,i.children!==null?i.children:[],i.key,o),o.lanes=c,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var n_=new WeakMap;function jn(i,o){if(typeof i=="object"&&i!==null){var c=n_.get(i);return c!==void 0?c:(o={value:i,source:o,stack:Ce(o)},n_.set(i,o),o)}return{value:i,source:o,stack:Ce(o)}}var xo=[],wo=0,hd=null,Gl=0,En=[],On=0,gi=null,aa=1,ia="";function Na(i,o){xo[wo++]=Gl,xo[wo++]=hd,hd=i,Gl=o}function a_(i,o,c){En[On++]=aa,En[On++]=ia,En[On++]=gi,gi=i;var m=aa;i=ia;var b=32-tr(m)-1;m&=~(1<<b),c+=1;var w=32-tr(o)+b;if(30<w){var A=b-b%5;w=(m&(1<<A)-1).toString(32),m>>=A,b-=A,aa=1<<32-tr(o)+b|c<<b|m,ia=w+i}else aa=1<<w|c<<b|m,ia=i}function Km(i){i.return!==null&&(Na(i,1),a_(i,1,0))}function Zm(i){for(;i===hd;)hd=xo[--wo],xo[wo]=null,Gl=xo[--wo],xo[wo]=null;for(;i===gi;)gi=En[--On],En[On]=null,ia=En[--On],En[On]=null,aa=En[--On],En[On]=null}function i_(i,o){En[On++]=aa,En[On++]=ia,En[On++]=gi,aa=o.id,ia=o.overflow,gi=i}var cr=null,gt=null,Ge=!1,vi=null,Nn=!1,Gm=Error(n(519));function yi(i){var o=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Yl(jn(o,i)),Gm}function s_(i){var o=i.stateNode,c=i.type,m=i.memoizedProps;switch(o[lr]=i,o[Ur]=m,c){case"dialog":Fe("cancel",o),Fe("close",o);break;case"iframe":case"object":case"embed":Fe("load",o);break;case"video":case"audio":for(c=0;c<vc.length;c++)Fe(vc[c],o);break;case"source":Fe("error",o);break;case"img":case"image":case"link":Fe("error",o),Fe("load",o);break;case"details":Fe("toggle",o);break;case"input":Fe("invalid",o),b1(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":Fe("invalid",o);break;case"textarea":Fe("invalid",o),w1(o,m.value,m.defaultValue,m.children)}c=m.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||m.suppressHydrationWarning===!0||Sk(o.textContent,c)?(m.popover!=null&&(Fe("beforetoggle",o),Fe("toggle",o)),m.onScroll!=null&&Fe("scroll",o),m.onScrollEnd!=null&&Fe("scrollend",o),m.onClick!=null&&(o.onclick=ja),o=!0):o=!1,o||yi(i,!0)}function o_(i){for(cr=i.return;cr;)switch(cr.tag){case 5:case 31:case 13:Nn=!1;return;case 27:case 3:Nn=!0;return;default:cr=cr.return}}function _o(i){if(i!==cr)return!1;if(!Ge)return o_(i),Ge=!0,!1;var o=i.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=i.type,c=!(c!=="form"&&c!=="button")||fg(i.type,i.memoizedProps)),c=!c),c&&gt&&yi(i),o_(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));gt=Pk(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));gt=Pk(i)}else o===27?(o=gt,Pi(i.type)?(i=vg,vg=null,gt=i):gt=o):gt=cr?Tn(i.stateNode.nextSibling):null;return!0}function us(){gt=cr=null,Ge=!1}function Ym(){var i=vi;return i!==null&&(Vr===null?Vr=i:Vr.push.apply(Vr,i),vi=null),i}function Yl(i){vi===null?vi=[i]:vi.push(i)}var Wm=L(null),ds=null,Aa=null;function bi(i,o,c){F(Wm,o._currentValue),o._currentValue=c}function Ta(i){i._currentValue=Wm.current,K(Wm)}function Xm(i,o,c){for(;i!==null;){var m=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),i===c)break;i=i.return}}function Jm(i,o,c,m){var b=i.child;for(b!==null&&(b.return=i);b!==null;){var w=b.dependencies;if(w!==null){var A=b.child;w=w.firstContext;e:for(;w!==null;){var $=w;w=b;for(var U=0;U<o.length;U++)if($.context===o[U]){w.lanes|=c,$=w.alternate,$!==null&&($.lanes|=c),Xm(w.return,c,i),m||(A=null);break e}w=$.next}}else if(b.tag===18){if(A=b.return,A===null)throw Error(n(341));A.lanes|=c,w=A.alternate,w!==null&&(w.lanes|=c),Xm(A,c,i),A=null}else A=b.child;if(A!==null)A.return=b;else for(A=b;A!==null;){if(A===i){A=null;break}if(b=A.sibling,b!==null){b.return=A.return,A=b;break}A=A.return}b=A}}function So(i,o,c,m){i=null;for(var b=o,w=!1;b!==null;){if(!w){if((b.flags&524288)!==0)w=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var A=b.alternate;if(A===null)throw Error(n(387));if(A=A.memoizedProps,A!==null){var $=b.type;rn(b.pendingProps.value,A.value)||(i!==null?i.push($):i=[$])}}else if(b===ne.current){if(A=b.alternate,A===null)throw Error(n(387));A.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(i!==null?i.push(_c):i=[_c])}b=b.return}i!==null&&Jm(o,i,c,m),o.flags|=262144}function md(i){for(i=i.firstContext;i!==null;){if(!rn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function fs(i){ds=i,Aa=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function ur(i){return l_(ds,i)}function pd(i,o){return ds===null&&fs(i),l_(i,o)}function l_(i,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},Aa===null){if(i===null)throw Error(n(308));Aa=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else Aa=Aa.next=o;return c}var IM=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(c,m){i.push(m)}};this.abort=function(){o.aborted=!0,i.forEach(function(c){return c()})}},LM=e.unstable_scheduleCallback,zM=e.unstable_NormalPriority,zt={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qm(){return{controller:new IM,data:new Map,refCount:0}}function Wl(i){i.refCount--,i.refCount===0&&LM(zM,function(){i.controller.abort()})}var Xl=null,ep=0,ko=0,jo=null;function UM(i,o){if(Xl===null){var c=Xl=[];ep=0,ko=ng(),jo={status:"pending",value:void 0,then:function(m){c.push(m)}}}return ep++,o.then(c_,c_),o}function c_(){if(--ep===0&&Xl!==null){jo!==null&&(jo.status="fulfilled");var i=Xl;Xl=null,ko=0,jo=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function BM(i,o){var c=[],m={status:"pending",value:null,reason:null,then:function(b){c.push(b)}};return i.then(function(){m.status="fulfilled",m.value=o;for(var b=0;b<c.length;b++)(0,c[b])(o)},function(b){for(m.status="rejected",m.reason=b,b=0;b<c.length;b++)(0,c[b])(void 0)}),m}var u_=B.S;B.S=function(i,o){ZS=$e(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&UM(i,o),u_!==null&&u_(i,o)};var hs=L(null);function tp(){var i=hs.current;return i!==null?i:lt.pooledCache}function gd(i,o){o===null?F(hs,hs.current):F(hs,o.pool)}function d_(){var i=tp();return i===null?null:{parent:zt._currentValue,pool:i}}var Eo=Error(n(460)),rp=Error(n(474)),vd=Error(n(542)),yd={then:function(){}};function f_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function h_(i,o,c){switch(c=i[c],c===void 0?i.push(o):c!==o&&(o.then(ja,ja),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,p_(i),i;default:if(typeof o.status=="string")o.then(ja,ja);else{if(i=lt,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=o,i.status="pending",i.then(function(m){if(o.status==="pending"){var b=o;b.status="fulfilled",b.value=m}},function(m){if(o.status==="pending"){var b=o;b.status="rejected",b.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,p_(i),i}throw ps=o,Eo}}function ms(i){try{var o=i._init;return o(i._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(ps=c,Eo):c}}var ps=null;function m_(){if(ps===null)throw Error(n(459));var i=ps;return ps=null,i}function p_(i){if(i===Eo||i===vd)throw Error(n(483))}var Oo=null,Jl=0;function bd(i){var o=Jl;return Jl+=1,Oo===null&&(Oo=[]),h_(Oo,i,o)}function Ql(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function xd(i,o){throw o.$$typeof===v?Error(n(525)):(i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function g_(i){function o(Y,V){if(i){var J=Y.deletions;J===null?(Y.deletions=[V],Y.flags|=16):J.push(V)}}function c(Y,V){if(!i)return null;for(;V!==null;)o(Y,V),V=V.sibling;return null}function m(Y){for(var V=new Map;Y!==null;)Y.key!==null?V.set(Y.key,Y):V.set(Y.index,Y),Y=Y.sibling;return V}function b(Y,V){return Y=Oa(Y,V),Y.index=0,Y.sibling=null,Y}function w(Y,V,J){return Y.index=J,i?(J=Y.alternate,J!==null?(J=J.index,J<V?(Y.flags|=67108866,V):J):(Y.flags|=67108866,V)):(Y.flags|=1048576,V)}function A(Y){return i&&Y.alternate===null&&(Y.flags|=67108866),Y}function $(Y,V,J,de){return V===null||V.tag!==6?(V=Fm(J,Y.mode,de),V.return=Y,V):(V=b(V,J),V.return=Y,V)}function U(Y,V,J,de){var Te=J.type;return Te===k?ce(Y,V,J.props.children,de,J.key):V!==null&&(V.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===T&&ms(Te)===V.type)?(V=b(V,J.props),Ql(V,J),V.return=Y,V):(V=fd(J.type,J.key,J.props,null,Y.mode,de),Ql(V,J),V.return=Y,V)}function Q(Y,V,J,de){return V===null||V.tag!==4||V.stateNode.containerInfo!==J.containerInfo||V.stateNode.implementation!==J.implementation?(V=Vm(J,Y.mode,de),V.return=Y,V):(V=b(V,J.children||[]),V.return=Y,V)}function ce(Y,V,J,de,Te){return V===null||V.tag!==7?(V=cs(J,Y.mode,de,Te),V.return=Y,V):(V=b(V,J),V.return=Y,V)}function fe(Y,V,J){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Fm(""+V,Y.mode,J),V.return=Y,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case y:return J=fd(V.type,V.key,V.props,null,Y.mode,J),Ql(J,V),J.return=Y,J;case S:return V=Vm(V,Y.mode,J),V.return=Y,V;case T:return V=ms(V),fe(Y,V,J)}if(oe(V)||z(V))return V=cs(V,Y.mode,J,null),V.return=Y,V;if(typeof V.then=="function")return fe(Y,bd(V),J);if(V.$$typeof===E)return fe(Y,pd(Y,V),J);xd(Y,V)}return null}function te(Y,V,J,de){var Te=V!==null?V.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Te!==null?null:$(Y,V,""+J,de);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case y:return J.key===Te?U(Y,V,J,de):null;case S:return J.key===Te?Q(Y,V,J,de):null;case T:return J=ms(J),te(Y,V,J,de)}if(oe(J)||z(J))return Te!==null?null:ce(Y,V,J,de,null);if(typeof J.then=="function")return te(Y,V,bd(J),de);if(J.$$typeof===E)return te(Y,V,pd(Y,J),de);xd(Y,J)}return null}function ie(Y,V,J,de,Te){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return Y=Y.get(J)||null,$(V,Y,""+de,Te);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case y:return Y=Y.get(de.key===null?J:de.key)||null,U(V,Y,de,Te);case S:return Y=Y.get(de.key===null?J:de.key)||null,Q(V,Y,de,Te);case T:return de=ms(de),ie(Y,V,J,de,Te)}if(oe(de)||z(de))return Y=Y.get(J)||null,ce(V,Y,de,Te,null);if(typeof de.then=="function")return ie(Y,V,J,bd(de),Te);if(de.$$typeof===E)return ie(Y,V,J,pd(V,de),Te);xd(V,de)}return null}function je(Y,V,J,de){for(var Te=null,Xe=null,Ee=V,Ue=V=0,Ke=null;Ee!==null&&Ue<J.length;Ue++){Ee.index>Ue?(Ke=Ee,Ee=null):Ke=Ee.sibling;var Je=te(Y,Ee,J[Ue],de);if(Je===null){Ee===null&&(Ee=Ke);break}i&&Ee&&Je.alternate===null&&o(Y,Ee),V=w(Je,V,Ue),Xe===null?Te=Je:Xe.sibling=Je,Xe=Je,Ee=Ke}if(Ue===J.length)return c(Y,Ee),Ge&&Na(Y,Ue),Te;if(Ee===null){for(;Ue<J.length;Ue++)Ee=fe(Y,J[Ue],de),Ee!==null&&(V=w(Ee,V,Ue),Xe===null?Te=Ee:Xe.sibling=Ee,Xe=Ee);return Ge&&Na(Y,Ue),Te}for(Ee=m(Ee);Ue<J.length;Ue++)Ke=ie(Ee,Y,Ue,J[Ue],de),Ke!==null&&(i&&Ke.alternate!==null&&Ee.delete(Ke.key===null?Ue:Ke.key),V=w(Ke,V,Ue),Xe===null?Te=Ke:Xe.sibling=Ke,Xe=Ke);return i&&Ee.forEach(function(Ii){return o(Y,Ii)}),Ge&&Na(Y,Ue),Te}function De(Y,V,J,de){if(J==null)throw Error(n(151));for(var Te=null,Xe=null,Ee=V,Ue=V=0,Ke=null,Je=J.next();Ee!==null&&!Je.done;Ue++,Je=J.next()){Ee.index>Ue?(Ke=Ee,Ee=null):Ke=Ee.sibling;var Ii=te(Y,Ee,Je.value,de);if(Ii===null){Ee===null&&(Ee=Ke);break}i&&Ee&&Ii.alternate===null&&o(Y,Ee),V=w(Ii,V,Ue),Xe===null?Te=Ii:Xe.sibling=Ii,Xe=Ii,Ee=Ke}if(Je.done)return c(Y,Ee),Ge&&Na(Y,Ue),Te;if(Ee===null){for(;!Je.done;Ue++,Je=J.next())Je=fe(Y,Je.value,de),Je!==null&&(V=w(Je,V,Ue),Xe===null?Te=Je:Xe.sibling=Je,Xe=Je);return Ge&&Na(Y,Ue),Te}for(Ee=m(Ee);!Je.done;Ue++,Je=J.next())Je=ie(Ee,Y,Ue,Je.value,de),Je!==null&&(i&&Je.alternate!==null&&Ee.delete(Je.key===null?Ue:Je.key),V=w(Je,V,Ue),Xe===null?Te=Je:Xe.sibling=Je,Xe=Je);return i&&Ee.forEach(function(J$){return o(Y,J$)}),Ge&&Na(Y,Ue),Te}function ot(Y,V,J,de){if(typeof J=="object"&&J!==null&&J.type===k&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case y:e:{for(var Te=J.key;V!==null;){if(V.key===Te){if(Te=J.type,Te===k){if(V.tag===7){c(Y,V.sibling),de=b(V,J.props.children),de.return=Y,Y=de;break e}}else if(V.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===T&&ms(Te)===V.type){c(Y,V.sibling),de=b(V,J.props),Ql(de,J),de.return=Y,Y=de;break e}c(Y,V);break}else o(Y,V);V=V.sibling}J.type===k?(de=cs(J.props.children,Y.mode,de,J.key),de.return=Y,Y=de):(de=fd(J.type,J.key,J.props,null,Y.mode,de),Ql(de,J),de.return=Y,Y=de)}return A(Y);case S:e:{for(Te=J.key;V!==null;){if(V.key===Te)if(V.tag===4&&V.stateNode.containerInfo===J.containerInfo&&V.stateNode.implementation===J.implementation){c(Y,V.sibling),de=b(V,J.children||[]),de.return=Y,Y=de;break e}else{c(Y,V);break}else o(Y,V);V=V.sibling}de=Vm(J,Y.mode,de),de.return=Y,Y=de}return A(Y);case T:return J=ms(J),ot(Y,V,J,de)}if(oe(J))return je(Y,V,J,de);if(z(J)){if(Te=z(J),typeof Te!="function")throw Error(n(150));return J=Te.call(J),De(Y,V,J,de)}if(typeof J.then=="function")return ot(Y,V,bd(J),de);if(J.$$typeof===E)return ot(Y,V,pd(Y,J),de);xd(Y,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,V!==null&&V.tag===6?(c(Y,V.sibling),de=b(V,J),de.return=Y,Y=de):(c(Y,V),de=Fm(J,Y.mode,de),de.return=Y,Y=de),A(Y)):c(Y,V)}return function(Y,V,J,de){try{Jl=0;var Te=ot(Y,V,J,de);return Oo=null,Te}catch(Ee){if(Ee===Eo||Ee===vd)throw Ee;var Xe=nn(29,Ee,null,Y.mode);return Xe.lanes=de,Xe.return=Y,Xe}finally{}}}var gs=g_(!0),v_=g_(!1),xi=!1;function np(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ap(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function wi(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function _i(i,o,c){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(et&2)!==0){var b=m.pending;return b===null?o.next=o:(o.next=b.next,b.next=o),m.pending=o,o=dd(i),e_(i,null,c),o}return ud(i,m,o,c),dd(i)}function ec(i,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var m=o.lanes;m&=i.pendingLanes,c|=m,o.lanes=c,l1(i,c)}}function ip(i,o){var c=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,c===m)){var b=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var A={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};w===null?b=w=A:w=w.next=A,c=c.next}while(c!==null);w===null?b=w=o:w=w.next=o}else b=w=o;c={baseState:m.baseState,firstBaseUpdate:b,lastBaseUpdate:w,shared:m.shared,callbacks:m.callbacks},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=o:i.next=o,c.lastBaseUpdate=o}var sp=!1;function tc(){if(sp){var i=jo;if(i!==null)throw i}}function rc(i,o,c,m){sp=!1;var b=i.updateQueue;xi=!1;var w=b.firstBaseUpdate,A=b.lastBaseUpdate,$=b.shared.pending;if($!==null){b.shared.pending=null;var U=$,Q=U.next;U.next=null,A===null?w=Q:A.next=Q,A=U;var ce=i.alternate;ce!==null&&(ce=ce.updateQueue,$=ce.lastBaseUpdate,$!==A&&($===null?ce.firstBaseUpdate=Q:$.next=Q,ce.lastBaseUpdate=U))}if(w!==null){var fe=b.baseState;A=0,ce=Q=U=null,$=w;do{var te=$.lane&-536870913,ie=te!==$.lane;if(ie?(Ve&te)===te:(m&te)===te){te!==0&&te===ko&&(sp=!0),ce!==null&&(ce=ce.next={lane:0,tag:$.tag,payload:$.payload,callback:null,next:null});e:{var je=i,De=$;te=o;var ot=c;switch(De.tag){case 1:if(je=De.payload,typeof je=="function"){fe=je.call(ot,fe,te);break e}fe=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=De.payload,te=typeof je=="function"?je.call(ot,fe,te):je,te==null)break e;fe=g({},fe,te);break e;case 2:xi=!0}}te=$.callback,te!==null&&(i.flags|=64,ie&&(i.flags|=8192),ie=b.callbacks,ie===null?b.callbacks=[te]:ie.push(te))}else ie={lane:te,tag:$.tag,payload:$.payload,callback:$.callback,next:null},ce===null?(Q=ce=ie,U=fe):ce=ce.next=ie,A|=te;if($=$.next,$===null){if($=b.shared.pending,$===null)break;ie=$,$=ie.next,ie.next=null,b.lastBaseUpdate=ie,b.shared.pending=null}}while(!0);ce===null&&(U=fe),b.baseState=U,b.firstBaseUpdate=Q,b.lastBaseUpdate=ce,w===null&&(b.shared.lanes=0),Oi|=A,i.lanes=A,i.memoizedState=fe}}function y_(i,o){if(typeof i!="function")throw Error(n(191,i));i.call(o)}function b_(i,o){var c=i.callbacks;if(c!==null)for(i.callbacks=null,i=0;i<c.length;i++)y_(c[i],o)}var No=L(null),wd=L(0);function x_(i,o){i=za,F(wd,i),F(No,o),za=i|o.baseLanes}function op(){F(wd,za),F(No,No.current)}function lp(){za=wd.current,K(No),K(wd)}var an=L(null),An=null;function Si(i){var o=i.alternate;F(Dt,Dt.current&1),F(an,i),An===null&&(o===null||No.current!==null||o.memoizedState!==null)&&(An=i)}function cp(i){F(Dt,Dt.current),F(an,i),An===null&&(An=i)}function w_(i){i.tag===22?(F(Dt,Dt.current),F(an,i),An===null&&(An=i)):ki()}function ki(){F(Dt,Dt.current),F(an,an.current)}function sn(i){K(an),An===i&&(An=null),K(Dt)}var Dt=L(0);function _d(i){for(var o=i;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||pg(c)||gg(c)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Ca=0,ze=null,it=null,Ut=null,Sd=!1,Ao=!1,vs=!1,kd=0,nc=0,To=null,qM=0;function Nt(){throw Error(n(321))}function up(i,o){if(o===null)return!1;for(var c=0;c<o.length&&c<i.length;c++)if(!rn(i[c],o[c]))return!1;return!0}function dp(i,o,c,m,b,w){return Ca=w,ze=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,B.H=i===null||i.memoizedState===null?aS:Ep,vs=!1,w=c(m,b),vs=!1,Ao&&(w=S_(o,c,m,b)),__(i),w}function __(i){B.H=sc;var o=it!==null&&it.next!==null;if(Ca=0,Ut=it=ze=null,Sd=!1,nc=0,To=null,o)throw Error(n(300));i===null||Bt||(i=i.dependencies,i!==null&&md(i)&&(Bt=!0))}function S_(i,o,c,m){ze=i;var b=0;do{if(Ao&&(To=null),nc=0,Ao=!1,25<=b)throw Error(n(301));if(b+=1,Ut=it=null,i.updateQueue!=null){var w=i.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}B.H=iS,w=o(c,m)}while(Ao);return w}function HM(){var i=B.H,o=i.useState()[0];return o=typeof o.then=="function"?ac(o):o,i=i.useState()[0],(it!==null?it.memoizedState:null)!==i&&(ze.flags|=1024),o}function fp(){var i=kd!==0;return kd=0,i}function hp(i,o,c){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~c}function mp(i){if(Sd){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Sd=!1}Ca=0,Ut=it=ze=null,Ao=!1,nc=kd=0,To=null}function Cr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?ze.memoizedState=Ut=i:Ut=Ut.next=i,Ut}function Rt(){if(it===null){var i=ze.alternate;i=i!==null?i.memoizedState:null}else i=it.next;var o=Ut===null?ze.memoizedState:Ut.next;if(o!==null)Ut=o,it=i;else{if(i===null)throw ze.alternate===null?Error(n(467)):Error(n(310));it=i,i={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},Ut===null?ze.memoizedState=Ut=i:Ut=Ut.next=i}return Ut}function jd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ac(i){var o=nc;return nc+=1,To===null&&(To=[]),i=h_(To,i,o),o=ze,(Ut===null?o.memoizedState:Ut.next)===null&&(o=o.alternate,B.H=o===null||o.memoizedState===null?aS:Ep),i}function Ed(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ac(i);if(i.$$typeof===E)return ur(i)}throw Error(n(438,String(i)))}function pp(i){var o=null,c=ze.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var m=ze.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(b){return b.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=jd(),ze.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(i),m=0;m<i;m++)c[m]=M;return o.index++,c}function Pa(i,o){return typeof o=="function"?o(i):o}function Od(i){var o=Rt();return gp(o,it,i)}function gp(i,o,c){var m=i.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=c;var b=i.baseQueue,w=m.pending;if(w!==null){if(b!==null){var A=b.next;b.next=w.next,w.next=A}o.baseQueue=b=w,m.pending=null}if(w=i.baseState,b===null)i.memoizedState=w;else{o=b.next;var $=A=null,U=null,Q=o,ce=!1;do{var fe=Q.lane&-536870913;if(fe!==Q.lane?(Ve&fe)===fe:(Ca&fe)===fe){var te=Q.revertLane;if(te===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),fe===ko&&(ce=!0);else if((Ca&te)===te){Q=Q.next,te===ko&&(ce=!0);continue}else fe={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},U===null?($=U=fe,A=w):U=U.next=fe,ze.lanes|=te,Oi|=te;fe=Q.action,vs&&c(w,fe),w=Q.hasEagerState?Q.eagerState:c(w,fe)}else te={lane:fe,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},U===null?($=U=te,A=w):U=U.next=te,ze.lanes|=fe,Oi|=fe;Q=Q.next}while(Q!==null&&Q!==o);if(U===null?A=w:U.next=$,!rn(w,i.memoizedState)&&(Bt=!0,ce&&(c=jo,c!==null)))throw c;i.memoizedState=w,i.baseState=A,i.baseQueue=U,m.lastRenderedState=w}return b===null&&(m.lanes=0),[i.memoizedState,m.dispatch]}function vp(i){var o=Rt(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=i;var m=c.dispatch,b=c.pending,w=o.memoizedState;if(b!==null){c.pending=null;var A=b=b.next;do w=i(w,A.action),A=A.next;while(A!==b);rn(w,o.memoizedState)||(Bt=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),c.lastRenderedState=w}return[w,m]}function k_(i,o,c){var m=ze,b=Rt(),w=Ge;if(w){if(c===void 0)throw Error(n(407));c=c()}else c=o();var A=!rn((it||b).memoizedState,c);if(A&&(b.memoizedState=c,Bt=!0),b=b.queue,xp(O_.bind(null,m,b,i),[i]),b.getSnapshot!==o||A||Ut!==null&&Ut.memoizedState.tag&1){if(m.flags|=2048,Co(9,{destroy:void 0},E_.bind(null,m,b,c,o),null),lt===null)throw Error(n(349));w||(Ca&127)!==0||j_(m,o,c)}return c}function j_(i,o,c){i.flags|=16384,i={getSnapshot:o,value:c},o=ze.updateQueue,o===null?(o=jd(),ze.updateQueue=o,o.stores=[i]):(c=o.stores,c===null?o.stores=[i]:c.push(i))}function E_(i,o,c,m){o.value=c,o.getSnapshot=m,N_(o)&&A_(i)}function O_(i,o,c){return c(function(){N_(o)&&A_(i)})}function N_(i){var o=i.getSnapshot;i=i.value;try{var c=o();return!rn(i,c)}catch{return!0}}function A_(i){var o=ls(i,2);o!==null&&Kr(o,i,2)}function yp(i){var o=Cr();if(typeof i=="function"){var c=i;if(i=c(),vs){zr(!0);try{c()}finally{zr(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pa,lastRenderedState:i},o}function T_(i,o,c,m){return i.baseState=c,gp(i,it,typeof m=="function"?m:Pa)}function FM(i,o,c,m,b){if(Td(i))throw Error(n(485));if(i=o.action,i!==null){var w={payload:b,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){w.listeners.push(A)}};B.T!==null?c(!0):w.isTransition=!1,m(w),c=o.pending,c===null?(w.next=o.pending=w,C_(o,w)):(w.next=c.next,o.pending=c.next=w)}}function C_(i,o){var c=o.action,m=o.payload,b=i.state;if(o.isTransition){var w=B.T,A={};B.T=A;try{var $=c(b,m),U=B.S;U!==null&&U(A,$),P_(i,o,$)}catch(Q){bp(i,o,Q)}finally{w!==null&&A.types!==null&&(w.types=A.types),B.T=w}}else try{w=c(b,m),P_(i,o,w)}catch(Q){bp(i,o,Q)}}function P_(i,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(m){D_(i,o,m)},function(m){return bp(i,o,m)}):D_(i,o,c)}function D_(i,o,c){o.status="fulfilled",o.value=c,R_(o),i.state=c,o=i.pending,o!==null&&(c=o.next,c===o?i.pending=null:(c=c.next,o.next=c,C_(i,c)))}function bp(i,o,c){var m=i.pending;if(i.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=c,R_(o),o=o.next;while(o!==m)}i.action=null}function R_(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function M_(i,o){return o}function $_(i,o){if(Ge){var c=lt.formState;if(c!==null){e:{var m=ze;if(Ge){if(gt){t:{for(var b=gt,w=Nn;b.nodeType!==8;){if(!w){b=null;break t}if(b=Tn(b.nextSibling),b===null){b=null;break t}}w=b.data,b=w==="F!"||w==="F"?b:null}if(b){gt=Tn(b.nextSibling),m=b.data==="F!";break e}}yi(m)}m=!1}m&&(o=c[0])}}return c=Cr(),c.memoizedState=c.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:M_,lastRenderedState:o},c.queue=m,c=tS.bind(null,ze,m),m.dispatch=c,m=yp(!1),w=jp.bind(null,ze,!1,m.queue),m=Cr(),b={state:o,dispatch:null,action:i,pending:null},m.queue=b,c=FM.bind(null,ze,b,w,c),b.dispatch=c,m.memoizedState=i,[o,c,!1]}function I_(i){var o=Rt();return L_(o,it,i)}function L_(i,o,c){if(o=gp(i,o,M_)[0],i=Od(Pa)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var m=ac(o)}catch(A){throw A===Eo?vd:A}else m=o;o=Rt();var b=o.queue,w=b.dispatch;return c!==o.memoizedState&&(ze.flags|=2048,Co(9,{destroy:void 0},VM.bind(null,b,c),null)),[m,w,i]}function VM(i,o){i.action=o}function z_(i){var o=Rt(),c=it;if(c!==null)return L_(o,c,i);Rt(),o=o.memoizedState,c=Rt();var m=c.queue.dispatch;return c.memoizedState=i,[o,m,!1]}function Co(i,o,c,m){return i={tag:i,create:c,deps:m,inst:o,next:null},o=ze.updateQueue,o===null&&(o=jd(),ze.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=i.next=i:(m=c.next,c.next=i,i.next=m,o.lastEffect=i),i}function U_(){return Rt().memoizedState}function Nd(i,o,c,m){var b=Cr();ze.flags|=i,b.memoizedState=Co(1|o,{destroy:void 0},c,m===void 0?null:m)}function Ad(i,o,c,m){var b=Rt();m=m===void 0?null:m;var w=b.memoizedState.inst;it!==null&&m!==null&&up(m,it.memoizedState.deps)?b.memoizedState=Co(o,w,c,m):(ze.flags|=i,b.memoizedState=Co(1|o,w,c,m))}function B_(i,o){Nd(8390656,8,i,o)}function xp(i,o){Ad(2048,8,i,o)}function KM(i){ze.flags|=4;var o=ze.updateQueue;if(o===null)o=jd(),ze.updateQueue=o,o.events=[i];else{var c=o.events;c===null?o.events=[i]:c.push(i)}}function q_(i){var o=Rt().memoizedState;return KM({ref:o,nextImpl:i}),function(){if((et&2)!==0)throw Error(n(440));return o.impl.apply(void 0,arguments)}}function H_(i,o){return Ad(4,2,i,o)}function F_(i,o){return Ad(4,4,i,o)}function V_(i,o){if(typeof o=="function"){i=i();var c=o(i);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function K_(i,o,c){c=c!=null?c.concat([i]):null,Ad(4,4,V_.bind(null,o,i),c)}function wp(){}function Z_(i,o){var c=Rt();o=o===void 0?null:o;var m=c.memoizedState;return o!==null&&up(o,m[1])?m[0]:(c.memoizedState=[i,o],i)}function G_(i,o){var c=Rt();o=o===void 0?null:o;var m=c.memoizedState;if(o!==null&&up(o,m[1]))return m[0];if(m=i(),vs){zr(!0);try{i()}finally{zr(!1)}}return c.memoizedState=[m,o],m}function _p(i,o,c){return c===void 0||(Ca&1073741824)!==0&&(Ve&261930)===0?i.memoizedState=o:(i.memoizedState=c,i=YS(),ze.lanes|=i,Oi|=i,c)}function Y_(i,o,c,m){return rn(c,o)?c:No.current!==null?(i=_p(i,c,m),rn(i,o)||(Bt=!0),i):(Ca&42)===0||(Ca&1073741824)!==0&&(Ve&261930)===0?(Bt=!0,i.memoizedState=c):(i=YS(),ze.lanes|=i,Oi|=i,o)}function W_(i,o,c,m,b){var w=H.p;H.p=w!==0&&8>w?w:8;var A=B.T,$={};B.T=$,jp(i,!1,o,c);try{var U=b(),Q=B.S;if(Q!==null&&Q($,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var ce=BM(U,m);ic(i,o,ce,cn(i))}else ic(i,o,m,cn(i))}catch(fe){ic(i,o,{then:function(){},status:"rejected",reason:fe},cn())}finally{H.p=w,A!==null&&$.types!==null&&(A.types=$.types),B.T=A}}function ZM(){}function Sp(i,o,c,m){if(i.tag!==5)throw Error(n(476));var b=X_(i).queue;W_(i,b,o,W,c===null?ZM:function(){return J_(i),c(m)})}function X_(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pa,lastRenderedState:W},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pa,lastRenderedState:c},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function J_(i){var o=X_(i);o.next===null&&(o=i.alternate.memoizedState),ic(i,o.next.queue,{},cn())}function kp(){return ur(_c)}function Q_(){return Rt().memoizedState}function eS(){return Rt().memoizedState}function GM(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var c=cn();i=wi(c);var m=_i(o,i,c);m!==null&&(Kr(m,o,c),ec(m,o,c)),o={cache:Qm()},i.payload=o;return}o=o.return}}function YM(i,o,c){var m=cn();c={lane:m,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Td(i)?rS(o,c):(c=qm(i,o,c,m),c!==null&&(Kr(c,i,m),nS(c,o,m)))}function tS(i,o,c){var m=cn();ic(i,o,c,m)}function ic(i,o,c,m){var b={lane:m,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Td(i))rS(o,b);else{var w=i.alternate;if(i.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var A=o.lastRenderedState,$=w(A,c);if(b.hasEagerState=!0,b.eagerState=$,rn($,A))return ud(i,o,b,0),lt===null&&cd(),!1}catch{}finally{}if(c=qm(i,o,b,m),c!==null)return Kr(c,i,m),nS(c,o,m),!0}return!1}function jp(i,o,c,m){if(m={lane:2,revertLane:ng(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Td(i)){if(o)throw Error(n(479))}else o=qm(i,c,m,2),o!==null&&Kr(o,i,2)}function Td(i){var o=i.alternate;return i===ze||o!==null&&o===ze}function rS(i,o){Ao=Sd=!0;var c=i.pending;c===null?o.next=o:(o.next=c.next,c.next=o),i.pending=o}function nS(i,o,c){if((c&4194048)!==0){var m=o.lanes;m&=i.pendingLanes,c|=m,o.lanes=c,l1(i,c)}}var sc={readContext:ur,use:Ed,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useLayoutEffect:Nt,useInsertionEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useSyncExternalStore:Nt,useId:Nt,useHostTransitionStatus:Nt,useFormState:Nt,useActionState:Nt,useOptimistic:Nt,useMemoCache:Nt,useCacheRefresh:Nt};sc.useEffectEvent=Nt;var aS={readContext:ur,use:Ed,useCallback:function(i,o){return Cr().memoizedState=[i,o===void 0?null:o],i},useContext:ur,useEffect:B_,useImperativeHandle:function(i,o,c){c=c!=null?c.concat([i]):null,Nd(4194308,4,V_.bind(null,o,i),c)},useLayoutEffect:function(i,o){return Nd(4194308,4,i,o)},useInsertionEffect:function(i,o){Nd(4,2,i,o)},useMemo:function(i,o){var c=Cr();o=o===void 0?null:o;var m=i();if(vs){zr(!0);try{i()}finally{zr(!1)}}return c.memoizedState=[m,o],m},useReducer:function(i,o,c){var m=Cr();if(c!==void 0){var b=c(o);if(vs){zr(!0);try{c(o)}finally{zr(!1)}}}else b=o;return m.memoizedState=m.baseState=b,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:b},m.queue=i,i=i.dispatch=YM.bind(null,ze,i),[m.memoizedState,i]},useRef:function(i){var o=Cr();return i={current:i},o.memoizedState=i},useState:function(i){i=yp(i);var o=i.queue,c=tS.bind(null,ze,o);return o.dispatch=c,[i.memoizedState,c]},useDebugValue:wp,useDeferredValue:function(i,o){var c=Cr();return _p(c,i,o)},useTransition:function(){var i=yp(!1);return i=W_.bind(null,ze,i.queue,!0,!1),Cr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,c){var m=ze,b=Cr();if(Ge){if(c===void 0)throw Error(n(407));c=c()}else{if(c=o(),lt===null)throw Error(n(349));(Ve&127)!==0||j_(m,o,c)}b.memoizedState=c;var w={value:c,getSnapshot:o};return b.queue=w,B_(O_.bind(null,m,w,i),[i]),m.flags|=2048,Co(9,{destroy:void 0},E_.bind(null,m,w,c,o),null),c},useId:function(){var i=Cr(),o=lt.identifierPrefix;if(Ge){var c=ia,m=aa;c=(m&~(1<<32-tr(m)-1)).toString(32)+c,o="_"+o+"R_"+c,c=kd++,0<c&&(o+="H"+c.toString(32)),o+="_"}else c=qM++,o="_"+o+"r_"+c.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:kp,useFormState:$_,useActionState:$_,useOptimistic:function(i){var o=Cr();o.memoizedState=o.baseState=i;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=jp.bind(null,ze,!0,c),c.dispatch=o,[i,o]},useMemoCache:pp,useCacheRefresh:function(){return Cr().memoizedState=GM.bind(null,ze)},useEffectEvent:function(i){var o=Cr(),c={impl:i};return o.memoizedState=c,function(){if((et&2)!==0)throw Error(n(440));return c.impl.apply(void 0,arguments)}}},Ep={readContext:ur,use:Ed,useCallback:Z_,useContext:ur,useEffect:xp,useImperativeHandle:K_,useInsertionEffect:H_,useLayoutEffect:F_,useMemo:G_,useReducer:Od,useRef:U_,useState:function(){return Od(Pa)},useDebugValue:wp,useDeferredValue:function(i,o){var c=Rt();return Y_(c,it.memoizedState,i,o)},useTransition:function(){var i=Od(Pa)[0],o=Rt().memoizedState;return[typeof i=="boolean"?i:ac(i),o]},useSyncExternalStore:k_,useId:Q_,useHostTransitionStatus:kp,useFormState:I_,useActionState:I_,useOptimistic:function(i,o){var c=Rt();return T_(c,it,i,o)},useMemoCache:pp,useCacheRefresh:eS};Ep.useEffectEvent=q_;var iS={readContext:ur,use:Ed,useCallback:Z_,useContext:ur,useEffect:xp,useImperativeHandle:K_,useInsertionEffect:H_,useLayoutEffect:F_,useMemo:G_,useReducer:vp,useRef:U_,useState:function(){return vp(Pa)},useDebugValue:wp,useDeferredValue:function(i,o){var c=Rt();return it===null?_p(c,i,o):Y_(c,it.memoizedState,i,o)},useTransition:function(){var i=vp(Pa)[0],o=Rt().memoizedState;return[typeof i=="boolean"?i:ac(i),o]},useSyncExternalStore:k_,useId:Q_,useHostTransitionStatus:kp,useFormState:z_,useActionState:z_,useOptimistic:function(i,o){var c=Rt();return it!==null?T_(c,it,i,o):(c.baseState=i,[i,c.queue.dispatch])},useMemoCache:pp,useCacheRefresh:eS};iS.useEffectEvent=q_;function Op(i,o,c,m){o=i.memoizedState,c=c(m,o),c=c==null?o:g({},o,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var Np={enqueueSetState:function(i,o,c){i=i._reactInternals;var m=cn(),b=wi(m);b.payload=o,c!=null&&(b.callback=c),o=_i(i,b,m),o!==null&&(Kr(o,i,m),ec(o,i,m))},enqueueReplaceState:function(i,o,c){i=i._reactInternals;var m=cn(),b=wi(m);b.tag=1,b.payload=o,c!=null&&(b.callback=c),o=_i(i,b,m),o!==null&&(Kr(o,i,m),ec(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var c=cn(),m=wi(c);m.tag=2,o!=null&&(m.callback=o),o=_i(i,m,c),o!==null&&(Kr(o,i,c),ec(o,i,c))}};function sS(i,o,c,m,b,w,A){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,w,A):o.prototype&&o.prototype.isPureReactComponent?!Kl(c,m)||!Kl(b,w):!0}function oS(i,o,c,m){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,m),o.state!==i&&Np.enqueueReplaceState(o,o.state,null)}function ys(i,o){var c=o;if("ref"in o){c={};for(var m in o)m!=="ref"&&(c[m]=o[m])}if(i=i.defaultProps){c===o&&(c=g({},c));for(var b in i)c[b]===void 0&&(c[b]=i[b])}return c}function lS(i){ld(i)}function cS(i){console.error(i)}function uS(i){ld(i)}function Cd(i,o){try{var c=i.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function dS(i,o,c){try{var m=i.onCaughtError;m(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function Ap(i,o,c){return c=wi(c),c.tag=3,c.payload={element:null},c.callback=function(){Cd(i,o)},c}function fS(i){return i=wi(i),i.tag=3,i}function hS(i,o,c,m){var b=c.type.getDerivedStateFromError;if(typeof b=="function"){var w=m.value;i.payload=function(){return b(w)},i.callback=function(){dS(o,c,m)}}var A=c.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(i.callback=function(){dS(o,c,m),typeof b!="function"&&(Ni===null?Ni=new Set([this]):Ni.add(this));var $=m.stack;this.componentDidCatch(m.value,{componentStack:$!==null?$:""})})}function WM(i,o,c,m,b){if(c.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=c.alternate,o!==null&&So(o,c,b,!0),c=an.current,c!==null){switch(c.tag){case 31:case 13:return An===null?Hd():c.alternate===null&&At===0&&(At=3),c.flags&=-257,c.flags|=65536,c.lanes=b,m===yd?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([m]):o.add(m),eg(i,m,b)),!1;case 22:return c.flags|=65536,m===yd?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([m]):c.add(m)),eg(i,m,b)),!1}throw Error(n(435,c.tag))}return eg(i,m,b),Hd(),!1}if(Ge)return o=an.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=b,m!==Gm&&(i=Error(n(422),{cause:m}),Yl(jn(i,c)))):(m!==Gm&&(o=Error(n(423),{cause:m}),Yl(jn(o,c))),i=i.current.alternate,i.flags|=65536,b&=-b,i.lanes|=b,m=jn(m,c),b=Ap(i.stateNode,m,b),ip(i,b),At!==4&&(At=2)),!1;var w=Error(n(520),{cause:m});if(w=jn(w,c),mc===null?mc=[w]:mc.push(w),At!==4&&(At=2),o===null)return!0;m=jn(m,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,i=b&-b,c.lanes|=i,i=Ap(c.stateNode,m,i),ip(c,i),!1;case 1:if(o=c.type,w=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ni===null||!Ni.has(w))))return c.flags|=65536,b&=-b,c.lanes|=b,b=fS(b),hS(b,i,c,m),ip(c,b),!1}c=c.return}while(c!==null);return!1}var Tp=Error(n(461)),Bt=!1;function dr(i,o,c,m){o.child=i===null?v_(o,null,c,m):gs(o,i.child,c,m)}function mS(i,o,c,m,b){c=c.render;var w=o.ref;if("ref"in m){var A={};for(var $ in m)$!=="ref"&&(A[$]=m[$])}else A=m;return fs(o),m=dp(i,o,c,A,w,b),$=fp(),i!==null&&!Bt?(hp(i,o,b),Da(i,o,b)):(Ge&&$&&Km(o),o.flags|=1,dr(i,o,m,b),o.child)}function pS(i,o,c,m,b){if(i===null){var w=c.type;return typeof w=="function"&&!Hm(w)&&w.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=w,gS(i,o,w,m,b)):(i=fd(c.type,null,m,o,o.mode,b),i.ref=o.ref,i.return=o,o.child=i)}if(w=i.child,!Lp(i,b)){var A=w.memoizedProps;if(c=c.compare,c=c!==null?c:Kl,c(A,m)&&i.ref===o.ref)return Da(i,o,b)}return o.flags|=1,i=Oa(w,m),i.ref=o.ref,i.return=o,o.child=i}function gS(i,o,c,m,b){if(i!==null){var w=i.memoizedProps;if(Kl(w,m)&&i.ref===o.ref)if(Bt=!1,o.pendingProps=m=w,Lp(i,b))(i.flags&131072)!==0&&(Bt=!0);else return o.lanes=i.lanes,Da(i,o,b)}return Cp(i,o,c,m,b)}function vS(i,o,c,m){var b=m.children,w=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((o.flags&128)!==0){if(w=w!==null?w.baseLanes|c:c,i!==null){for(m=o.child=i.child,b=0;m!==null;)b=b|m.lanes|m.childLanes,m=m.sibling;m=b&~w}else m=0,o.child=null;return yS(i,o,w,c,m)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&gd(o,w!==null?w.cachePool:null),w!==null?x_(o,w):op(),w_(o);else return m=o.lanes=536870912,yS(i,o,w!==null?w.baseLanes|c:c,c,m)}else w!==null?(gd(o,w.cachePool),x_(o,w),ki(),o.memoizedState=null):(i!==null&&gd(o,null),op(),ki());return dr(i,o,b,c),o.child}function oc(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function yS(i,o,c,m,b){var w=tp();return w=w===null?null:{parent:zt._currentValue,pool:w},o.memoizedState={baseLanes:c,cachePool:w},i!==null&&gd(o,null),op(),w_(o),i!==null&&So(i,o,m,!0),o.childLanes=b,null}function Pd(i,o){return o=Rd({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function bS(i,o,c){return gs(o,i.child,null,c),i=Pd(o,o.pendingProps),i.flags|=2,sn(o),o.memoizedState=null,i}function XM(i,o,c){var m=o.pendingProps,b=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(Ge){if(m.mode==="hidden")return i=Pd(o,m),o.lanes=536870912,oc(null,i);if(cp(o),(i=gt)?(i=Ck(i,Nn),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:gi!==null?{id:aa,overflow:ia}:null,retryLane:536870912,hydrationErrors:null},c=r_(i),c.return=o,o.child=c,cr=o,gt=null)):i=null,i===null)throw yi(o);return o.lanes=536870912,null}return Pd(o,m)}var w=i.memoizedState;if(w!==null){var A=w.dehydrated;if(cp(o),b)if(o.flags&256)o.flags&=-257,o=bS(i,o,c);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(n(558));else if(Bt||So(i,o,c,!1),b=(c&i.childLanes)!==0,Bt||b){if(m=lt,m!==null&&(A=c1(m,c),A!==0&&A!==w.retryLane))throw w.retryLane=A,ls(i,A),Kr(m,i,A),Tp;Hd(),o=bS(i,o,c)}else i=w.treeContext,gt=Tn(A.nextSibling),cr=o,Ge=!0,vi=null,Nn=!1,i!==null&&i_(o,i),o=Pd(o,m),o.flags|=4096;return o}return i=Oa(i.child,{mode:m.mode,children:m.children}),i.ref=o.ref,o.child=i,i.return=o,i}function Dd(i,o){var c=o.ref;if(c===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(n(284));(i===null||i.ref!==c)&&(o.flags|=4194816)}}function Cp(i,o,c,m,b){return fs(o),c=dp(i,o,c,m,void 0,b),m=fp(),i!==null&&!Bt?(hp(i,o,b),Da(i,o,b)):(Ge&&m&&Km(o),o.flags|=1,dr(i,o,c,b),o.child)}function xS(i,o,c,m,b,w){return fs(o),o.updateQueue=null,c=S_(o,m,c,b),__(i),m=fp(),i!==null&&!Bt?(hp(i,o,w),Da(i,o,w)):(Ge&&m&&Km(o),o.flags|=1,dr(i,o,c,w),o.child)}function wS(i,o,c,m,b){if(fs(o),o.stateNode===null){var w=bo,A=c.contextType;typeof A=="object"&&A!==null&&(w=ur(A)),w=new c(m,w),o.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Np,o.stateNode=w,w._reactInternals=o,w=o.stateNode,w.props=m,w.state=o.memoizedState,w.refs={},np(o),A=c.contextType,w.context=typeof A=="object"&&A!==null?ur(A):bo,w.state=o.memoizedState,A=c.getDerivedStateFromProps,typeof A=="function"&&(Op(o,c,A,m),w.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(A=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),A!==w.state&&Np.enqueueReplaceState(w,w.state,null),rc(o,m,w,b),tc(),w.state=o.memoizedState),typeof w.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(i===null){w=o.stateNode;var $=o.memoizedProps,U=ys(c,$);w.props=U;var Q=w.context,ce=c.contextType;A=bo,typeof ce=="object"&&ce!==null&&(A=ur(ce));var fe=c.getDerivedStateFromProps;ce=typeof fe=="function"||typeof w.getSnapshotBeforeUpdate=="function",$=o.pendingProps!==$,ce||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||($||Q!==A)&&oS(o,w,m,A),xi=!1;var te=o.memoizedState;w.state=te,rc(o,m,w,b),tc(),Q=o.memoizedState,$||te!==Q||xi?(typeof fe=="function"&&(Op(o,c,fe,m),Q=o.memoizedState),(U=xi||sS(o,c,U,m,te,Q,A))?(ce||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(o.flags|=4194308)):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=Q),w.props=m,w.state=Q,w.context=A,m=U):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{w=o.stateNode,ap(i,o),A=o.memoizedProps,ce=ys(c,A),w.props=ce,fe=o.pendingProps,te=w.context,Q=c.contextType,U=bo,typeof Q=="object"&&Q!==null&&(U=ur(Q)),$=c.getDerivedStateFromProps,(Q=typeof $=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(A!==fe||te!==U)&&oS(o,w,m,U),xi=!1,te=o.memoizedState,w.state=te,rc(o,m,w,b),tc();var ie=o.memoizedState;A!==fe||te!==ie||xi||i!==null&&i.dependencies!==null&&md(i.dependencies)?(typeof $=="function"&&(Op(o,c,$,m),ie=o.memoizedState),(ce=xi||sS(o,c,ce,m,te,ie,U)||i!==null&&i.dependencies!==null&&md(i.dependencies))?(Q||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(m,ie,U),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(m,ie,U)),typeof w.componentDidUpdate=="function"&&(o.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof w.componentDidUpdate!="function"||A===i.memoizedProps&&te===i.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&te===i.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=ie),w.props=m,w.state=ie,w.context=U,m=ce):(typeof w.componentDidUpdate!="function"||A===i.memoizedProps&&te===i.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&te===i.memoizedState||(o.flags|=1024),m=!1)}return w=m,Dd(i,o),m=(o.flags&128)!==0,w||m?(w=o.stateNode,c=m&&typeof c.getDerivedStateFromError!="function"?null:w.render(),o.flags|=1,i!==null&&m?(o.child=gs(o,i.child,null,b),o.child=gs(o,null,c,b)):dr(i,o,c,b),o.memoizedState=w.state,i=o.child):i=Da(i,o,b),i}function _S(i,o,c,m){return us(),o.flags|=256,dr(i,o,c,m),o.child}var Pp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Dp(i){return{baseLanes:i,cachePool:d_()}}function Rp(i,o,c){return i=i!==null?i.childLanes&~c:0,o&&(i|=ln),i}function SS(i,o,c){var m=o.pendingProps,b=!1,w=(o.flags&128)!==0,A;if((A=w)||(A=i!==null&&i.memoizedState===null?!1:(Dt.current&2)!==0),A&&(b=!0,o.flags&=-129),A=(o.flags&32)!==0,o.flags&=-33,i===null){if(Ge){if(b?Si(o):ki(),(i=gt)?(i=Ck(i,Nn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:gi!==null?{id:aa,overflow:ia}:null,retryLane:536870912,hydrationErrors:null},c=r_(i),c.return=o,o.child=c,cr=o,gt=null)):i=null,i===null)throw yi(o);return gg(i)?o.lanes=32:o.lanes=536870912,null}var $=m.children;return m=m.fallback,b?(ki(),b=o.mode,$=Rd({mode:"hidden",children:$},b),m=cs(m,b,c,null),$.return=o,m.return=o,$.sibling=m,o.child=$,m=o.child,m.memoizedState=Dp(c),m.childLanes=Rp(i,A,c),o.memoizedState=Pp,oc(null,m)):(Si(o),Mp(o,$))}var U=i.memoizedState;if(U!==null&&($=U.dehydrated,$!==null)){if(w)o.flags&256?(Si(o),o.flags&=-257,o=$p(i,o,c)):o.memoizedState!==null?(ki(),o.child=i.child,o.flags|=128,o=null):(ki(),$=m.fallback,b=o.mode,m=Rd({mode:"visible",children:m.children},b),$=cs($,b,c,null),$.flags|=2,m.return=o,$.return=o,m.sibling=$,o.child=m,gs(o,i.child,null,c),m=o.child,m.memoizedState=Dp(c),m.childLanes=Rp(i,A,c),o.memoizedState=Pp,o=oc(null,m));else if(Si(o),gg($)){if(A=$.nextSibling&&$.nextSibling.dataset,A)var Q=A.dgst;A=Q,m=Error(n(419)),m.stack="",m.digest=A,Yl({value:m,source:null,stack:null}),o=$p(i,o,c)}else if(Bt||So(i,o,c,!1),A=(c&i.childLanes)!==0,Bt||A){if(A=lt,A!==null&&(m=c1(A,c),m!==0&&m!==U.retryLane))throw U.retryLane=m,ls(i,m),Kr(A,i,m),Tp;pg($)||Hd(),o=$p(i,o,c)}else pg($)?(o.flags|=192,o.child=i.child,o=null):(i=U.treeContext,gt=Tn($.nextSibling),cr=o,Ge=!0,vi=null,Nn=!1,i!==null&&i_(o,i),o=Mp(o,m.children),o.flags|=4096);return o}return b?(ki(),$=m.fallback,b=o.mode,U=i.child,Q=U.sibling,m=Oa(U,{mode:"hidden",children:m.children}),m.subtreeFlags=U.subtreeFlags&65011712,Q!==null?$=Oa(Q,$):($=cs($,b,c,null),$.flags|=2),$.return=o,m.return=o,m.sibling=$,o.child=m,oc(null,m),m=o.child,$=i.child.memoizedState,$===null?$=Dp(c):(b=$.cachePool,b!==null?(U=zt._currentValue,b=b.parent!==U?{parent:U,pool:U}:b):b=d_(),$={baseLanes:$.baseLanes|c,cachePool:b}),m.memoizedState=$,m.childLanes=Rp(i,A,c),o.memoizedState=Pp,oc(i.child,m)):(Si(o),c=i.child,i=c.sibling,c=Oa(c,{mode:"visible",children:m.children}),c.return=o,c.sibling=null,i!==null&&(A=o.deletions,A===null?(o.deletions=[i],o.flags|=16):A.push(i)),o.child=c,o.memoizedState=null,c)}function Mp(i,o){return o=Rd({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function Rd(i,o){return i=nn(22,i,null,o),i.lanes=0,i}function $p(i,o,c){return gs(o,i.child,null,c),i=Mp(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function kS(i,o,c){i.lanes|=o;var m=i.alternate;m!==null&&(m.lanes|=o),Xm(i.return,o,c)}function Ip(i,o,c,m,b,w){var A=i.memoizedState;A===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:c,tailMode:b,treeForkCount:w}:(A.isBackwards=o,A.rendering=null,A.renderingStartTime=0,A.last=m,A.tail=c,A.tailMode=b,A.treeForkCount=w)}function jS(i,o,c){var m=o.pendingProps,b=m.revealOrder,w=m.tail;m=m.children;var A=Dt.current,$=(A&2)!==0;if($?(A=A&1|2,o.flags|=128):A&=1,F(Dt,A),dr(i,o,m,c),m=Ge?Gl:0,!$&&i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&kS(i,c,o);else if(i.tag===19)kS(i,c,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(b){case"forwards":for(c=o.child,b=null;c!==null;)i=c.alternate,i!==null&&_d(i)===null&&(b=c),c=c.sibling;c=b,c===null?(b=o.child,o.child=null):(b=c.sibling,c.sibling=null),Ip(o,!1,b,c,w,m);break;case"backwards":case"unstable_legacy-backwards":for(c=null,b=o.child,o.child=null;b!==null;){if(i=b.alternate,i!==null&&_d(i)===null){o.child=b;break}i=b.sibling,b.sibling=c,c=b,b=i}Ip(o,!0,c,null,w,m);break;case"together":Ip(o,!1,null,null,void 0,m);break;default:o.memoizedState=null}return o.child}function Da(i,o,c){if(i!==null&&(o.dependencies=i.dependencies),Oi|=o.lanes,(c&o.childLanes)===0)if(i!==null){if(So(i,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,c=Oa(i,i.pendingProps),o.child=c,c.return=o;i.sibling!==null;)i=i.sibling,c=c.sibling=Oa(i,i.pendingProps),c.return=o;c.sibling=null}return o.child}function Lp(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&md(i)))}function JM(i,o,c){switch(o.tag){case 3:be(o,o.stateNode.containerInfo),bi(o,zt,i.memoizedState.cache),us();break;case 27:case 5:ge(o);break;case 4:be(o,o.stateNode.containerInfo);break;case 10:bi(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,cp(o),null;break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(Si(o),o.flags|=128,null):(c&o.child.childLanes)!==0?SS(i,o,c):(Si(o),i=Da(i,o,c),i!==null?i.sibling:null);Si(o);break;case 19:var b=(i.flags&128)!==0;if(m=(c&o.childLanes)!==0,m||(So(i,o,c,!1),m=(c&o.childLanes)!==0),b){if(m)return jS(i,o,c);o.flags|=128}if(b=o.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),F(Dt,Dt.current),m)break;return null;case 22:return o.lanes=0,vS(i,o,c,o.pendingProps);case 24:bi(o,zt,i.memoizedState.cache)}return Da(i,o,c)}function ES(i,o,c){if(i!==null)if(i.memoizedProps!==o.pendingProps)Bt=!0;else{if(!Lp(i,c)&&(o.flags&128)===0)return Bt=!1,JM(i,o,c);Bt=(i.flags&131072)!==0}else Bt=!1,Ge&&(o.flags&1048576)!==0&&a_(o,Gl,o.index);switch(o.lanes=0,o.tag){case 16:e:{var m=o.pendingProps;if(i=ms(o.elementType),o.type=i,typeof i=="function")Hm(i)?(m=ys(i,m),o.tag=1,o=wS(null,o,i,m,c)):(o.tag=0,o=Cp(null,o,i,m,c));else{if(i!=null){var b=i.$$typeof;if(b===D){o.tag=11,o=mS(null,o,i,m,c);break e}else if(b===P){o.tag=14,o=pS(null,o,i,m,c);break e}}throw o=re(i)||i,Error(n(306,o,""))}}return o;case 0:return Cp(i,o,o.type,o.pendingProps,c);case 1:return m=o.type,b=ys(m,o.pendingProps),wS(i,o,m,b,c);case 3:e:{if(be(o,o.stateNode.containerInfo),i===null)throw Error(n(387));m=o.pendingProps;var w=o.memoizedState;b=w.element,ap(i,o),rc(o,m,null,c);var A=o.memoizedState;if(m=A.cache,bi(o,zt,m),m!==w.cache&&Jm(o,[zt],c,!0),tc(),m=A.element,w.isDehydrated)if(w={element:m,isDehydrated:!1,cache:A.cache},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){o=_S(i,o,m,c);break e}else if(m!==b){b=jn(Error(n(424)),o),Yl(b),o=_S(i,o,m,c);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(gt=Tn(i.firstChild),cr=o,Ge=!0,vi=null,Nn=!0,c=v_(o,null,m,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(us(),m===b){o=Da(i,o,c);break e}dr(i,o,m,c)}o=o.child}return o;case 26:return Dd(i,o),i===null?(c=Ik(o.type,null,o.pendingProps,null))?o.memoizedState=c:Ge||(c=o.type,i=o.pendingProps,m=Wd(ue.current).createElement(c),m[lr]=o,m[Ur]=i,fr(m,c,i),rr(m),o.stateNode=m):o.memoizedState=Ik(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return ge(o),i===null&&Ge&&(m=o.stateNode=Rk(o.type,o.pendingProps,ue.current),cr=o,Nn=!0,b=gt,Pi(o.type)?(vg=b,gt=Tn(m.firstChild)):gt=b),dr(i,o,o.pendingProps.children,c),Dd(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&Ge&&((b=m=gt)&&(m=N$(m,o.type,o.pendingProps,Nn),m!==null?(o.stateNode=m,cr=o,gt=Tn(m.firstChild),Nn=!1,b=!0):b=!1),b||yi(o)),ge(o),b=o.type,w=o.pendingProps,A=i!==null?i.memoizedProps:null,m=w.children,fg(b,w)?m=null:A!==null&&fg(b,A)&&(o.flags|=32),o.memoizedState!==null&&(b=dp(i,o,HM,null,null,c),_c._currentValue=b),Dd(i,o),dr(i,o,m,c),o.child;case 6:return i===null&&Ge&&((i=c=gt)&&(c=A$(c,o.pendingProps,Nn),c!==null?(o.stateNode=c,cr=o,gt=null,i=!0):i=!1),i||yi(o)),null;case 13:return SS(i,o,c);case 4:return be(o,o.stateNode.containerInfo),m=o.pendingProps,i===null?o.child=gs(o,null,m,c):dr(i,o,m,c),o.child;case 11:return mS(i,o,o.type,o.pendingProps,c);case 7:return dr(i,o,o.pendingProps,c),o.child;case 8:return dr(i,o,o.pendingProps.children,c),o.child;case 12:return dr(i,o,o.pendingProps.children,c),o.child;case 10:return m=o.pendingProps,bi(o,o.type,m.value),dr(i,o,m.children,c),o.child;case 9:return b=o.type._context,m=o.pendingProps.children,fs(o),b=ur(b),m=m(b),o.flags|=1,dr(i,o,m,c),o.child;case 14:return pS(i,o,o.type,o.pendingProps,c);case 15:return gS(i,o,o.type,o.pendingProps,c);case 19:return jS(i,o,c);case 31:return XM(i,o,c);case 22:return vS(i,o,c,o.pendingProps);case 24:return fs(o),m=ur(zt),i===null?(b=tp(),b===null&&(b=lt,w=Qm(),b.pooledCache=w,w.refCount++,w!==null&&(b.pooledCacheLanes|=c),b=w),o.memoizedState={parent:m,cache:b},np(o),bi(o,zt,b)):((i.lanes&c)!==0&&(ap(i,o),rc(o,null,null,c),tc()),b=i.memoizedState,w=o.memoizedState,b.parent!==m?(b={parent:m,cache:m},o.memoizedState=b,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=b),bi(o,zt,m)):(m=w.cache,bi(o,zt,m),m!==b.cache&&Jm(o,[zt],c,!0))),dr(i,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function Ra(i){i.flags|=4}function zp(i,o,c,m,b){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(b&335544128)===b)if(i.stateNode.complete)i.flags|=8192;else if(QS())i.flags|=8192;else throw ps=yd,rp}else i.flags&=-16777217}function OS(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!qk(o))if(QS())i.flags|=8192;else throw ps=yd,rp}function Md(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?s1():536870912,i.lanes|=o,Mo|=o)}function lc(i,o){if(!Ge)switch(i.tailMode){case"hidden":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function vt(i){var o=i.alternate!==null&&i.alternate.child===i.child,c=0,m=0;if(o)for(var b=i.child;b!==null;)c|=b.lanes|b.childLanes,m|=b.subtreeFlags&65011712,m|=b.flags&65011712,b.return=i,b=b.sibling;else for(b=i.child;b!==null;)c|=b.lanes|b.childLanes,m|=b.subtreeFlags,m|=b.flags,b.return=i,b=b.sibling;return i.subtreeFlags|=m,i.childLanes=c,o}function QM(i,o,c){var m=o.pendingProps;switch(Zm(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(o),null;case 1:return vt(o),null;case 3:return c=o.stateNode,m=null,i!==null&&(m=i.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),Ta(zt),G(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(i===null||i.child===null)&&(_o(o)?Ra(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Ym())),vt(o),null;case 26:var b=o.type,w=o.memoizedState;return i===null?(Ra(o),w!==null?(vt(o),OS(o,w)):(vt(o),zp(o,b,null,m,c))):w?w!==i.memoizedState?(Ra(o),vt(o),OS(o,w)):(vt(o),o.flags&=-16777217):(i=i.memoizedProps,i!==m&&Ra(o),vt(o),zp(o,b,i,m,c)),null;case 27:if(ye(o),c=ue.current,b=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==m&&Ra(o);else{if(!m){if(o.stateNode===null)throw Error(n(166));return vt(o),null}i=Z.current,_o(o)?s_(o):(i=Rk(b,m,c),o.stateNode=i,Ra(o))}return vt(o),null;case 5:if(ye(o),b=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==m&&Ra(o);else{if(!m){if(o.stateNode===null)throw Error(n(166));return vt(o),null}if(w=Z.current,_o(o))s_(o);else{var A=Wd(ue.current);switch(w){case 1:w=A.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:w=A.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":w=A.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":w=A.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":w=A.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof m.is=="string"?A.createElement("select",{is:m.is}):A.createElement("select"),m.multiple?w.multiple=!0:m.size&&(w.size=m.size);break;default:w=typeof m.is=="string"?A.createElement(b,{is:m.is}):A.createElement(b)}}w[lr]=o,w[Ur]=m;e:for(A=o.child;A!==null;){if(A.tag===5||A.tag===6)w.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===o)break e;for(;A.sibling===null;){if(A.return===null||A.return===o)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}o.stateNode=w;e:switch(fr(w,b,m),b){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&Ra(o)}}return vt(o),zp(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,c),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==m&&Ra(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(n(166));if(i=ue.current,_o(o)){if(i=o.stateNode,c=o.memoizedProps,m=null,b=cr,b!==null)switch(b.tag){case 27:case 5:m=b.memoizedProps}i[lr]=o,i=!!(i.nodeValue===c||m!==null&&m.suppressHydrationWarning===!0||Sk(i.nodeValue,c)),i||yi(o,!0)}else i=Wd(i).createTextNode(m),i[lr]=o,o.stateNode=i}return vt(o),null;case 31:if(c=o.memoizedState,i===null||i.memoizedState!==null){if(m=_o(o),c!==null){if(i===null){if(!m)throw Error(n(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(557));i[lr]=o}else us(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;vt(o),i=!1}else c=Ym(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=c),i=!0;if(!i)return o.flags&256?(sn(o),o):(sn(o),null);if((o.flags&128)!==0)throw Error(n(558))}return vt(o),null;case 13:if(m=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(b=_o(o),m!==null&&m.dehydrated!==null){if(i===null){if(!b)throw Error(n(318));if(b=o.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));b[lr]=o}else us(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;vt(o),b=!1}else b=Ym(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=b),b=!0;if(!b)return o.flags&256?(sn(o),o):(sn(o),null)}return sn(o),(o.flags&128)!==0?(o.lanes=c,o):(c=m!==null,i=i!==null&&i.memoizedState!==null,c&&(m=o.child,b=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(b=m.alternate.memoizedState.cachePool.pool),w=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(w=m.memoizedState.cachePool.pool),w!==b&&(m.flags|=2048)),c!==i&&c&&(o.child.flags|=8192),Md(o,o.updateQueue),vt(o),null);case 4:return G(),i===null&&og(o.stateNode.containerInfo),vt(o),null;case 10:return Ta(o.type),vt(o),null;case 19:if(K(Dt),m=o.memoizedState,m===null)return vt(o),null;if(b=(o.flags&128)!==0,w=m.rendering,w===null)if(b)lc(m,!1);else{if(At!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(w=_d(i),w!==null){for(o.flags|=128,lc(m,!1),i=w.updateQueue,o.updateQueue=i,Md(o,i),o.subtreeFlags=0,i=c,c=o.child;c!==null;)t_(c,i),c=c.sibling;return F(Dt,Dt.current&1|2),Ge&&Na(o,m.treeForkCount),o.child}i=i.sibling}m.tail!==null&&$e()>Ud&&(o.flags|=128,b=!0,lc(m,!1),o.lanes=4194304)}else{if(!b)if(i=_d(w),i!==null){if(o.flags|=128,b=!0,i=i.updateQueue,o.updateQueue=i,Md(o,i),lc(m,!0),m.tail===null&&m.tailMode==="hidden"&&!w.alternate&&!Ge)return vt(o),null}else 2*$e()-m.renderingStartTime>Ud&&c!==536870912&&(o.flags|=128,b=!0,lc(m,!1),o.lanes=4194304);m.isBackwards?(w.sibling=o.child,o.child=w):(i=m.last,i!==null?i.sibling=w:o.child=w,m.last=w)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=$e(),i.sibling=null,c=Dt.current,F(Dt,b?c&1|2:c&1),Ge&&Na(o,m.treeForkCount),i):(vt(o),null);case 22:case 23:return sn(o),lp(),m=o.memoizedState!==null,i!==null?i.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(c&536870912)!==0&&(o.flags&128)===0&&(vt(o),o.subtreeFlags&6&&(o.flags|=8192)):vt(o),c=o.updateQueue,c!==null&&Md(o,c.retryQueue),c=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==c&&(o.flags|=2048),i!==null&&K(hs),null;case 24:return c=null,i!==null&&(c=i.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),Ta(zt),vt(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function e$(i,o){switch(Zm(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Ta(zt),G(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return ye(o),null;case 31:if(o.memoizedState!==null){if(sn(o),o.alternate===null)throw Error(n(340));us()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if(sn(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));us()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return K(Dt),null;case 4:return G(),null;case 10:return Ta(o.type),null;case 22:case 23:return sn(o),lp(),i!==null&&K(hs),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return Ta(zt),null;case 25:return null;default:return null}}function NS(i,o){switch(Zm(o),o.tag){case 3:Ta(zt),G();break;case 26:case 27:case 5:ye(o);break;case 4:G();break;case 31:o.memoizedState!==null&&sn(o);break;case 13:sn(o);break;case 19:K(Dt);break;case 10:Ta(o.type);break;case 22:case 23:sn(o),lp(),i!==null&&K(hs);break;case 24:Ta(zt)}}function cc(i,o){try{var c=o.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var b=m.next;c=b;do{if((c.tag&i)===i){m=void 0;var w=c.create,A=c.inst;m=w(),A.destroy=m}c=c.next}while(c!==b)}}catch($){nt(o,o.return,$)}}function ji(i,o,c){try{var m=o.updateQueue,b=m!==null?m.lastEffect:null;if(b!==null){var w=b.next;m=w;do{if((m.tag&i)===i){var A=m.inst,$=A.destroy;if($!==void 0){A.destroy=void 0,b=o;var U=c,Q=$;try{Q()}catch(ce){nt(b,U,ce)}}}m=m.next}while(m!==w)}}catch(ce){nt(o,o.return,ce)}}function AS(i){var o=i.updateQueue;if(o!==null){var c=i.stateNode;try{b_(o,c)}catch(m){nt(i,i.return,m)}}}function TS(i,o,c){c.props=ys(i.type,i.memoizedProps),c.state=i.memoizedState;try{c.componentWillUnmount()}catch(m){nt(i,o,m)}}function uc(i,o){try{var c=i.ref;if(c!==null){switch(i.tag){case 26:case 27:case 5:var m=i.stateNode;break;case 30:m=i.stateNode;break;default:m=i.stateNode}typeof c=="function"?i.refCleanup=c(m):c.current=m}}catch(b){nt(i,o,b)}}function sa(i,o){var c=i.ref,m=i.refCleanup;if(c!==null)if(typeof m=="function")try{m()}catch(b){nt(i,o,b)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(b){nt(i,o,b)}else c.current=null}function CS(i){var o=i.type,c=i.memoizedProps,m=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&m.focus();break e;case"img":c.src?m.src=c.src:c.srcSet&&(m.srcset=c.srcSet)}}catch(b){nt(i,i.return,b)}}function Up(i,o,c){try{var m=i.stateNode;_$(m,i.type,c,o),m[Ur]=o}catch(b){nt(i,i.return,b)}}function PS(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Pi(i.type)||i.tag===4}function Bp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||PS(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Pi(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function qp(i,o,c){var m=i.tag;if(m===5||m===6)i=i.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(i,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(i),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=ja));else if(m!==4&&(m===27&&Pi(i.type)&&(c=i.stateNode,o=null),i=i.child,i!==null))for(qp(i,o,c),i=i.sibling;i!==null;)qp(i,o,c),i=i.sibling}function $d(i,o,c){var m=i.tag;if(m===5||m===6)i=i.stateNode,o?c.insertBefore(i,o):c.appendChild(i);else if(m!==4&&(m===27&&Pi(i.type)&&(c=i.stateNode),i=i.child,i!==null))for($d(i,o,c),i=i.sibling;i!==null;)$d(i,o,c),i=i.sibling}function DS(i){var o=i.stateNode,c=i.memoizedProps;try{for(var m=i.type,b=o.attributes;b.length;)o.removeAttributeNode(b[0]);fr(o,m,c),o[lr]=i,o[Ur]=c}catch(w){nt(i,i.return,w)}}var Ma=!1,qt=!1,Hp=!1,RS=typeof WeakSet=="function"?WeakSet:Set,nr=null;function t$(i,o){if(i=i.containerInfo,ug=nf,i=K1(i),$m(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var m=c.getSelection&&c.getSelection();if(m&&m.rangeCount!==0){c=m.anchorNode;var b=m.anchorOffset,w=m.focusNode;m=m.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var A=0,$=-1,U=-1,Q=0,ce=0,fe=i,te=null;t:for(;;){for(var ie;fe!==c||b!==0&&fe.nodeType!==3||($=A+b),fe!==w||m!==0&&fe.nodeType!==3||(U=A+m),fe.nodeType===3&&(A+=fe.nodeValue.length),(ie=fe.firstChild)!==null;)te=fe,fe=ie;for(;;){if(fe===i)break t;if(te===c&&++Q===b&&($=A),te===w&&++ce===m&&(U=A),(ie=fe.nextSibling)!==null)break;fe=te,te=fe.parentNode}fe=ie}c=$===-1||U===-1?null:{start:$,end:U}}else c=null}c=c||{start:0,end:0}}else c=null;for(dg={focusedElem:i,selectionRange:c},nf=!1,nr=o;nr!==null;)if(o=nr,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,nr=i;else for(;nr!==null;){switch(o=nr,w=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(c=0;c<i.length;c++)b=i[c],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&w!==null){i=void 0,c=o,b=w.memoizedProps,w=w.memoizedState,m=c.stateNode;try{var je=ys(c.type,b);i=m.getSnapshotBeforeUpdate(je,w),m.__reactInternalSnapshotBeforeUpdate=i}catch(De){nt(c,c.return,De)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,c=i.nodeType,c===9)mg(i);else if(c===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":mg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=o.sibling,i!==null){i.return=o.return,nr=i;break}nr=o.return}}function MS(i,o,c){var m=c.flags;switch(c.tag){case 0:case 11:case 15:Ia(i,c),m&4&&cc(5,c);break;case 1:if(Ia(i,c),m&4)if(i=c.stateNode,o===null)try{i.componentDidMount()}catch(A){nt(c,c.return,A)}else{var b=ys(c.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(b,o,i.__reactInternalSnapshotBeforeUpdate)}catch(A){nt(c,c.return,A)}}m&64&&AS(c),m&512&&uc(c,c.return);break;case 3:if(Ia(i,c),m&64&&(i=c.updateQueue,i!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{b_(i,o)}catch(A){nt(c,c.return,A)}}break;case 27:o===null&&m&4&&DS(c);case 26:case 5:Ia(i,c),o===null&&m&4&&CS(c),m&512&&uc(c,c.return);break;case 12:Ia(i,c);break;case 31:Ia(i,c),m&4&&LS(i,c);break;case 13:Ia(i,c),m&4&&zS(i,c),m&64&&(i=c.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(c=u$.bind(null,c),T$(i,c))));break;case 22:if(m=c.memoizedState!==null||Ma,!m){o=o!==null&&o.memoizedState!==null||qt,b=Ma;var w=qt;Ma=m,(qt=o)&&!w?La(i,c,(c.subtreeFlags&8772)!==0):Ia(i,c),Ma=b,qt=w}break;case 30:break;default:Ia(i,c)}}function $S(i){var o=i.alternate;o!==null&&(i.alternate=null,$S(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&bm(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var xt=null,qr=!1;function $a(i,o,c){for(c=c.child;c!==null;)IS(i,o,c),c=c.sibling}function IS(i,o,c){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(tn,c)}catch{}switch(c.tag){case 26:qt||sa(c,o),$a(i,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:qt||sa(c,o);var m=xt,b=qr;Pi(c.type)&&(xt=c.stateNode,qr=!1),$a(i,o,c),bc(c.stateNode),xt=m,qr=b;break;case 5:qt||sa(c,o);case 6:if(m=xt,b=qr,xt=null,$a(i,o,c),xt=m,qr=b,xt!==null)if(qr)try{(xt.nodeType===9?xt.body:xt.nodeName==="HTML"?xt.ownerDocument.body:xt).removeChild(c.stateNode)}catch(w){nt(c,o,w)}else try{xt.removeChild(c.stateNode)}catch(w){nt(c,o,w)}break;case 18:xt!==null&&(qr?(i=xt,Ak(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,c.stateNode),Ho(i)):Ak(xt,c.stateNode));break;case 4:m=xt,b=qr,xt=c.stateNode.containerInfo,qr=!0,$a(i,o,c),xt=m,qr=b;break;case 0:case 11:case 14:case 15:ji(2,c,o),qt||ji(4,c,o),$a(i,o,c);break;case 1:qt||(sa(c,o),m=c.stateNode,typeof m.componentWillUnmount=="function"&&TS(c,o,m)),$a(i,o,c);break;case 21:$a(i,o,c);break;case 22:qt=(m=qt)||c.memoizedState!==null,$a(i,o,c),qt=m;break;default:$a(i,o,c)}}function LS(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Ho(i)}catch(c){nt(o,o.return,c)}}}function zS(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Ho(i)}catch(c){nt(o,o.return,c)}}function r$(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new RS),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new RS),o;default:throw Error(n(435,i.tag))}}function Id(i,o){var c=r$(i);o.forEach(function(m){if(!c.has(m)){c.add(m);var b=d$.bind(null,i,m);m.then(b,b)}})}function Hr(i,o){var c=o.deletions;if(c!==null)for(var m=0;m<c.length;m++){var b=c[m],w=i,A=o,$=A;e:for(;$!==null;){switch($.tag){case 27:if(Pi($.type)){xt=$.stateNode,qr=!1;break e}break;case 5:xt=$.stateNode,qr=!1;break e;case 3:case 4:xt=$.stateNode.containerInfo,qr=!0;break e}$=$.return}if(xt===null)throw Error(n(160));IS(w,A,b),xt=null,qr=!1,w=b.alternate,w!==null&&(w.return=null),b.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)US(o,i),o=o.sibling}var Hn=null;function US(i,o){var c=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Hr(o,i),Fr(i),m&4&&(ji(3,i,i.return),cc(3,i),ji(5,i,i.return));break;case 1:Hr(o,i),Fr(i),m&512&&(qt||c===null||sa(c,c.return)),m&64&&Ma&&(i=i.updateQueue,i!==null&&(m=i.callbacks,m!==null&&(c=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=c===null?m:c.concat(m))));break;case 26:var b=Hn;if(Hr(o,i),Fr(i),m&512&&(qt||c===null||sa(c,c.return)),m&4){var w=c!==null?c.memoizedState:null;if(m=i.memoizedState,c===null)if(m===null)if(i.stateNode===null){e:{m=i.type,c=i.memoizedProps,b=b.ownerDocument||b;t:switch(m){case"title":w=b.getElementsByTagName("title")[0],(!w||w[Il]||w[lr]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=b.createElement(m),b.head.insertBefore(w,b.querySelector("head > title"))),fr(w,m,c),w[lr]=i,rr(w),m=w;break e;case"link":var A=Uk("link","href",b).get(m+(c.href||""));if(A){for(var $=0;$<A.length;$++)if(w=A[$],w.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&w.getAttribute("rel")===(c.rel==null?null:c.rel)&&w.getAttribute("title")===(c.title==null?null:c.title)&&w.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){A.splice($,1);break t}}w=b.createElement(m),fr(w,m,c),b.head.appendChild(w);break;case"meta":if(A=Uk("meta","content",b).get(m+(c.content||""))){for($=0;$<A.length;$++)if(w=A[$],w.getAttribute("content")===(c.content==null?null:""+c.content)&&w.getAttribute("name")===(c.name==null?null:c.name)&&w.getAttribute("property")===(c.property==null?null:c.property)&&w.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&w.getAttribute("charset")===(c.charSet==null?null:c.charSet)){A.splice($,1);break t}}w=b.createElement(m),fr(w,m,c),b.head.appendChild(w);break;default:throw Error(n(468,m))}w[lr]=i,rr(w),m=w}i.stateNode=m}else Bk(b,i.type,i.stateNode);else i.stateNode=zk(b,m,i.memoizedProps);else w!==m?(w===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):w.count--,m===null?Bk(b,i.type,i.stateNode):zk(b,m,i.memoizedProps)):m===null&&i.stateNode!==null&&Up(i,i.memoizedProps,c.memoizedProps)}break;case 27:Hr(o,i),Fr(i),m&512&&(qt||c===null||sa(c,c.return)),c!==null&&m&4&&Up(i,i.memoizedProps,c.memoizedProps);break;case 5:if(Hr(o,i),Fr(i),m&512&&(qt||c===null||sa(c,c.return)),i.flags&32){b=i.stateNode;try{fo(b,"")}catch(je){nt(i,i.return,je)}}m&4&&i.stateNode!=null&&(b=i.memoizedProps,Up(i,b,c!==null?c.memoizedProps:b)),m&1024&&(Hp=!0);break;case 6:if(Hr(o,i),Fr(i),m&4){if(i.stateNode===null)throw Error(n(162));m=i.memoizedProps,c=i.stateNode;try{c.nodeValue=m}catch(je){nt(i,i.return,je)}}break;case 3:if(Qd=null,b=Hn,Hn=Xd(o.containerInfo),Hr(o,i),Hn=b,Fr(i),m&4&&c!==null&&c.memoizedState.isDehydrated)try{Ho(o.containerInfo)}catch(je){nt(i,i.return,je)}Hp&&(Hp=!1,BS(i));break;case 4:m=Hn,Hn=Xd(i.stateNode.containerInfo),Hr(o,i),Fr(i),Hn=m;break;case 12:Hr(o,i),Fr(i);break;case 31:Hr(o,i),Fr(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Id(i,m)));break;case 13:Hr(o,i),Fr(i),i.child.flags&8192&&i.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(zd=$e()),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Id(i,m)));break;case 22:b=i.memoizedState!==null;var U=c!==null&&c.memoizedState!==null,Q=Ma,ce=qt;if(Ma=Q||b,qt=ce||U,Hr(o,i),qt=ce,Ma=Q,Fr(i),m&8192)e:for(o=i.stateNode,o._visibility=b?o._visibility&-2:o._visibility|1,b&&(c===null||U||Ma||qt||bs(i)),c=null,o=i;;){if(o.tag===5||o.tag===26){if(c===null){U=c=o;try{if(w=U.stateNode,b)A=w.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{$=U.stateNode;var fe=U.memoizedProps.style,te=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;$.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(je){nt(U,U.return,je)}}}else if(o.tag===6){if(c===null){U=o;try{U.stateNode.nodeValue=b?"":U.memoizedProps}catch(je){nt(U,U.return,je)}}}else if(o.tag===18){if(c===null){U=o;try{var ie=U.stateNode;b?Tk(ie,!0):Tk(U.stateNode,!1)}catch(je){nt(U,U.return,je)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=i.updateQueue,m!==null&&(c=m.retryQueue,c!==null&&(m.retryQueue=null,Id(i,c))));break;case 19:Hr(o,i),Fr(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Id(i,m)));break;case 30:break;case 21:break;default:Hr(o,i),Fr(i)}}function Fr(i){var o=i.flags;if(o&2){try{for(var c,m=i.return;m!==null;){if(PS(m)){c=m;break}m=m.return}if(c==null)throw Error(n(160));switch(c.tag){case 27:var b=c.stateNode,w=Bp(i);$d(i,w,b);break;case 5:var A=c.stateNode;c.flags&32&&(fo(A,""),c.flags&=-33);var $=Bp(i);$d(i,$,A);break;case 3:case 4:var U=c.stateNode.containerInfo,Q=Bp(i);qp(i,Q,U);break;default:throw Error(n(161))}}catch(ce){nt(i,i.return,ce)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function BS(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;BS(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function Ia(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)MS(i,o.alternate,o),o=o.sibling}function bs(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:ji(4,o,o.return),bs(o);break;case 1:sa(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&TS(o,o.return,c),bs(o);break;case 27:bc(o.stateNode);case 26:case 5:sa(o,o.return),bs(o);break;case 22:o.memoizedState===null&&bs(o);break;case 30:bs(o);break;default:bs(o)}i=i.sibling}}function La(i,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,b=i,w=o,A=w.flags;switch(w.tag){case 0:case 11:case 15:La(b,w,c),cc(4,w);break;case 1:if(La(b,w,c),m=w,b=m.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(Q){nt(m,m.return,Q)}if(m=w,b=m.updateQueue,b!==null){var $=m.stateNode;try{var U=b.shared.hiddenCallbacks;if(U!==null)for(b.shared.hiddenCallbacks=null,b=0;b<U.length;b++)y_(U[b],$)}catch(Q){nt(m,m.return,Q)}}c&&A&64&&AS(w),uc(w,w.return);break;case 27:DS(w);case 26:case 5:La(b,w,c),c&&m===null&&A&4&&CS(w),uc(w,w.return);break;case 12:La(b,w,c);break;case 31:La(b,w,c),c&&A&4&&LS(b,w);break;case 13:La(b,w,c),c&&A&4&&zS(b,w);break;case 22:w.memoizedState===null&&La(b,w,c),uc(w,w.return);break;case 30:break;default:La(b,w,c)}o=o.sibling}}function Fp(i,o){var c=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==c&&(i!=null&&i.refCount++,c!=null&&Wl(c))}function Vp(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Wl(i))}function Fn(i,o,c,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)qS(i,o,c,m),o=o.sibling}function qS(i,o,c,m){var b=o.flags;switch(o.tag){case 0:case 11:case 15:Fn(i,o,c,m),b&2048&&cc(9,o);break;case 1:Fn(i,o,c,m);break;case 3:Fn(i,o,c,m),b&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Wl(i)));break;case 12:if(b&2048){Fn(i,o,c,m),i=o.stateNode;try{var w=o.memoizedProps,A=w.id,$=w.onPostCommit;typeof $=="function"&&$(A,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(U){nt(o,o.return,U)}}else Fn(i,o,c,m);break;case 31:Fn(i,o,c,m);break;case 13:Fn(i,o,c,m);break;case 23:break;case 22:w=o.stateNode,A=o.alternate,o.memoizedState!==null?w._visibility&2?Fn(i,o,c,m):dc(i,o):w._visibility&2?Fn(i,o,c,m):(w._visibility|=2,Po(i,o,c,m,(o.subtreeFlags&10256)!==0||!1)),b&2048&&Fp(A,o);break;case 24:Fn(i,o,c,m),b&2048&&Vp(o.alternate,o);break;default:Fn(i,o,c,m)}}function Po(i,o,c,m,b){for(b=b&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var w=i,A=o,$=c,U=m,Q=A.flags;switch(A.tag){case 0:case 11:case 15:Po(w,A,$,U,b),cc(8,A);break;case 23:break;case 22:var ce=A.stateNode;A.memoizedState!==null?ce._visibility&2?Po(w,A,$,U,b):dc(w,A):(ce._visibility|=2,Po(w,A,$,U,b)),b&&Q&2048&&Fp(A.alternate,A);break;case 24:Po(w,A,$,U,b),b&&Q&2048&&Vp(A.alternate,A);break;default:Po(w,A,$,U,b)}o=o.sibling}}function dc(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=i,m=o,b=m.flags;switch(m.tag){case 22:dc(c,m),b&2048&&Fp(m.alternate,m);break;case 24:dc(c,m),b&2048&&Vp(m.alternate,m);break;default:dc(c,m)}o=o.sibling}}var fc=8192;function Do(i,o,c){if(i.subtreeFlags&fc)for(i=i.child;i!==null;)HS(i,o,c),i=i.sibling}function HS(i,o,c){switch(i.tag){case 26:Do(i,o,c),i.flags&fc&&i.memoizedState!==null&&q$(c,Hn,i.memoizedState,i.memoizedProps);break;case 5:Do(i,o,c);break;case 3:case 4:var m=Hn;Hn=Xd(i.stateNode.containerInfo),Do(i,o,c),Hn=m;break;case 22:i.memoizedState===null&&(m=i.alternate,m!==null&&m.memoizedState!==null?(m=fc,fc=16777216,Do(i,o,c),fc=m):Do(i,o,c));break;default:Do(i,o,c)}}function FS(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function hc(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var m=o[c];nr=m,KS(m,i)}FS(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)VS(i),i=i.sibling}function VS(i){switch(i.tag){case 0:case 11:case 15:hc(i),i.flags&2048&&ji(9,i,i.return);break;case 3:hc(i);break;case 12:hc(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,Ld(i)):hc(i);break;default:hc(i)}}function Ld(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var m=o[c];nr=m,KS(m,i)}FS(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:ji(8,o,o.return),Ld(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,Ld(o));break;default:Ld(o)}i=i.sibling}}function KS(i,o){for(;nr!==null;){var c=nr;switch(c.tag){case 0:case 11:case 15:ji(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var m=c.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Wl(c.memoizedState.cache)}if(m=c.child,m!==null)m.return=c,nr=m;else e:for(c=i;nr!==null;){m=nr;var b=m.sibling,w=m.return;if($S(m),m===c){nr=null;break e}if(b!==null){b.return=w,nr=b;break e}nr=w}}}var n$={getCacheForType:function(i){var o=ur(zt),c=o.data.get(i);return c===void 0&&(c=i(),o.data.set(i,c)),c},cacheSignal:function(){return ur(zt).controller.signal}},a$=typeof WeakMap=="function"?WeakMap:Map,et=0,lt=null,He=null,Ve=0,rt=0,on=null,Ei=!1,Ro=!1,Kp=!1,za=0,At=0,Oi=0,xs=0,Zp=0,ln=0,Mo=0,mc=null,Vr=null,Gp=!1,zd=0,ZS=0,Ud=1/0,Bd=null,Ni=null,Zt=0,Ai=null,$o=null,Ua=0,Yp=0,Wp=null,GS=null,pc=0,Xp=null;function cn(){return(et&2)!==0&&Ve!==0?Ve&-Ve:B.T!==null?ng():u1()}function YS(){if(ln===0)if((Ve&536870912)===0||Ge){var i=Yu;Yu<<=1,(Yu&3932160)===0&&(Yu=262144),ln=i}else ln=536870912;return i=an.current,i!==null&&(i.flags|=32),ln}function Kr(i,o,c){(i===lt&&(rt===2||rt===9)||i.cancelPendingCommit!==null)&&(Io(i,0),Ti(i,Ve,ln,!1)),$l(i,c),((et&2)===0||i!==lt)&&(i===lt&&((et&2)===0&&(xs|=c),At===4&&Ti(i,Ve,ln,!1)),oa(i))}function WS(i,o,c){if((et&6)!==0)throw Error(n(327));var m=!c&&(o&127)===0&&(o&i.expiredLanes)===0||Ml(i,o),b=m?o$(i,o):Qp(i,o,!0),w=m;do{if(b===0){Ro&&!m&&Ti(i,o,0,!1);break}else{if(c=i.current.alternate,w&&!i$(c)){b=Qp(i,o,!1),w=!1;continue}if(b===2){if(w=o,i.errorRecoveryDisabledLanes&w)var A=0;else A=i.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){o=A;e:{var $=i;b=mc;var U=$.current.memoizedState.isDehydrated;if(U&&(Io($,A).flags|=256),A=Qp($,A,!1),A!==2){if(Kp&&!U){$.errorRecoveryDisabledLanes|=w,xs|=w,b=4;break e}w=Vr,Vr=b,w!==null&&(Vr===null?Vr=w:Vr.push.apply(Vr,w))}b=A}if(w=!1,b!==2)continue}}if(b===1){Io(i,0),Ti(i,o,0,!0);break}e:{switch(m=i,w=b,w){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:Ti(m,o,ln,!Ei);break e;case 2:Vr=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(b=zd+300-$e(),10<b)){if(Ti(m,o,ln,!Ei),Xu(m,0,!0)!==0)break e;Ua=o,m.timeoutHandle=Ok(XS.bind(null,m,c,Vr,Bd,Gp,o,ln,xs,Mo,Ei,w,"Throttled",-0,0),b);break e}XS(m,c,Vr,Bd,Gp,o,ln,xs,Mo,Ei,w,null,-0,0)}}break}while(!0);oa(i)}function XS(i,o,c,m,b,w,A,$,U,Q,ce,fe,te,ie){if(i.timeoutHandle=-1,fe=o.subtreeFlags,fe&8192||(fe&16785408)===16785408){fe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ja},HS(o,w,fe);var je=(w&62914560)===w?zd-$e():(w&4194048)===w?ZS-$e():0;if(je=H$(fe,je),je!==null){Ua=w,i.cancelPendingCommit=je(ik.bind(null,i,o,w,c,m,b,A,$,U,ce,fe,null,te,ie)),Ti(i,w,A,!Q);return}}ik(i,o,w,c,m,b,A,$,U)}function i$(i){for(var o=i;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var m=0;m<c.length;m++){var b=c[m],w=b.getSnapshot;b=b.value;try{if(!rn(w(),b))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ti(i,o,c,m){o&=~Zp,o&=~xs,i.suspendedLanes|=o,i.pingedLanes&=~o,m&&(i.warmLanes|=o),m=i.expirationTimes;for(var b=o;0<b;){var w=31-tr(b),A=1<<w;m[w]=-1,b&=~A}c!==0&&o1(i,c,o)}function qd(){return(et&6)===0?(gc(0),!1):!0}function Jp(){if(He!==null){if(rt===0)var i=He.return;else i=He,Aa=ds=null,mp(i),Oo=null,Jl=0,i=He;for(;i!==null;)NS(i.alternate,i),i=i.return;He=null}}function Io(i,o){var c=i.timeoutHandle;c!==-1&&(i.timeoutHandle=-1,j$(c)),c=i.cancelPendingCommit,c!==null&&(i.cancelPendingCommit=null,c()),Ua=0,Jp(),lt=i,He=c=Oa(i.current,null),Ve=o,rt=0,on=null,Ei=!1,Ro=Ml(i,o),Kp=!1,Mo=ln=Zp=xs=Oi=At=0,Vr=mc=null,Gp=!1,(o&8)!==0&&(o|=o&32);var m=i.entangledLanes;if(m!==0)for(i=i.entanglements,m&=o;0<m;){var b=31-tr(m),w=1<<b;o|=i[b],m&=~w}return za=o,cd(),c}function JS(i,o){ze=null,B.H=sc,o===Eo||o===vd?(o=m_(),rt=3):o===rp?(o=m_(),rt=4):rt=o===Tp?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,on=o,He===null&&(At=1,Cd(i,jn(o,i.current)))}function QS(){var i=an.current;return i===null?!0:(Ve&4194048)===Ve?An===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?i===An:!1}function ek(){var i=B.H;return B.H=sc,i===null?sc:i}function tk(){var i=B.A;return B.A=n$,i}function Hd(){At=4,Ei||(Ve&4194048)!==Ve&&an.current!==null||(Ro=!0),(Oi&134217727)===0&&(xs&134217727)===0||lt===null||Ti(lt,Ve,ln,!1)}function Qp(i,o,c){var m=et;et|=2;var b=ek(),w=tk();(lt!==i||Ve!==o)&&(Bd=null,Io(i,o)),o=!1;var A=At;e:do try{if(rt!==0&&He!==null){var $=He,U=on;switch(rt){case 8:Jp(),A=6;break e;case 3:case 2:case 9:case 6:an.current===null&&(o=!0);var Q=rt;if(rt=0,on=null,Lo(i,$,U,Q),c&&Ro){A=0;break e}break;default:Q=rt,rt=0,on=null,Lo(i,$,U,Q)}}s$(),A=At;break}catch(ce){JS(i,ce)}while(!0);return o&&i.shellSuspendCounter++,Aa=ds=null,et=m,B.H=b,B.A=w,He===null&&(lt=null,Ve=0,cd()),A}function s$(){for(;He!==null;)rk(He)}function o$(i,o){var c=et;et|=2;var m=ek(),b=tk();lt!==i||Ve!==o?(Bd=null,Ud=$e()+500,Io(i,o)):Ro=Ml(i,o);e:do try{if(rt!==0&&He!==null){o=He;var w=on;t:switch(rt){case 1:rt=0,on=null,Lo(i,o,w,1);break;case 2:case 9:if(f_(w)){rt=0,on=null,nk(o);break}o=function(){rt!==2&&rt!==9||lt!==i||(rt=7),oa(i)},w.then(o,o);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:f_(w)?(rt=0,on=null,nk(o)):(rt=0,on=null,Lo(i,o,w,7));break;case 5:var A=null;switch(He.tag){case 26:A=He.memoizedState;case 5:case 27:var $=He;if(A?qk(A):$.stateNode.complete){rt=0,on=null;var U=$.sibling;if(U!==null)He=U;else{var Q=$.return;Q!==null?(He=Q,Fd(Q)):He=null}break t}}rt=0,on=null,Lo(i,o,w,5);break;case 6:rt=0,on=null,Lo(i,o,w,6);break;case 8:Jp(),At=6;break e;default:throw Error(n(462))}}l$();break}catch(ce){JS(i,ce)}while(!0);return Aa=ds=null,B.H=m,B.A=b,et=c,He!==null?0:(lt=null,Ve=0,cd(),At)}function l$(){for(;He!==null&&!bt();)rk(He)}function rk(i){var o=ES(i.alternate,i,za);i.memoizedProps=i.pendingProps,o===null?Fd(i):He=o}function nk(i){var o=i,c=o.alternate;switch(o.tag){case 15:case 0:o=xS(c,o,o.pendingProps,o.type,void 0,Ve);break;case 11:o=xS(c,o,o.pendingProps,o.type.render,o.ref,Ve);break;case 5:mp(o);default:NS(c,o),o=He=t_(o,za),o=ES(c,o,za)}i.memoizedProps=i.pendingProps,o===null?Fd(i):He=o}function Lo(i,o,c,m){Aa=ds=null,mp(o),Oo=null,Jl=0;var b=o.return;try{if(WM(i,b,o,c,Ve)){At=1,Cd(i,jn(c,i.current)),He=null;return}}catch(w){if(b!==null)throw He=b,w;At=1,Cd(i,jn(c,i.current)),He=null;return}o.flags&32768?(Ge||m===1?i=!0:Ro||(Ve&536870912)!==0?i=!1:(Ei=i=!0,(m===2||m===9||m===3||m===6)&&(m=an.current,m!==null&&m.tag===13&&(m.flags|=16384))),ak(o,i)):Fd(o)}function Fd(i){var o=i;do{if((o.flags&32768)!==0){ak(o,Ei);return}i=o.return;var c=QM(o.alternate,o,za);if(c!==null){He=c;return}if(o=o.sibling,o!==null){He=o;return}He=o=i}while(o!==null);At===0&&(At=5)}function ak(i,o){do{var c=e$(i.alternate,i);if(c!==null){c.flags&=32767,He=c;return}if(c=i.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(i=i.sibling,i!==null)){He=i;return}He=i=c}while(i!==null);At=6,He=null}function ik(i,o,c,m,b,w,A,$,U){i.cancelPendingCommit=null;do Vd();while(Zt!==0);if((et&6)!==0)throw Error(n(327));if(o!==null){if(o===i.current)throw Error(n(177));if(w=o.lanes|o.childLanes,w|=Bm,B3(i,c,w,A,$,U),i===lt&&(He=lt=null,Ve=0),$o=o,Ai=i,Ua=c,Yp=w,Wp=b,GS=m,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,f$(We,function(){return uk(),null})):(i.callbackNode=null,i.callbackPriority=0),m=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||m){m=B.T,B.T=null,b=H.p,H.p=2,A=et,et|=4;try{t$(i,o,c)}finally{et=A,H.p=b,B.T=m}}Zt=1,sk(),ok(),lk()}}function sk(){if(Zt===1){Zt=0;var i=Ai,o=$o,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=B.T,B.T=null;var m=H.p;H.p=2;var b=et;et|=4;try{US(o,i);var w=dg,A=K1(i.containerInfo),$=w.focusedElem,U=w.selectionRange;if(A!==$&&$&&$.ownerDocument&&V1($.ownerDocument.documentElement,$)){if(U!==null&&$m($)){var Q=U.start,ce=U.end;if(ce===void 0&&(ce=Q),"selectionStart"in $)$.selectionStart=Q,$.selectionEnd=Math.min(ce,$.value.length);else{var fe=$.ownerDocument||document,te=fe&&fe.defaultView||window;if(te.getSelection){var ie=te.getSelection(),je=$.textContent.length,De=Math.min(U.start,je),ot=U.end===void 0?De:Math.min(U.end,je);!ie.extend&&De>ot&&(A=ot,ot=De,De=A);var Y=F1($,De),V=F1($,ot);if(Y&&V&&(ie.rangeCount!==1||ie.anchorNode!==Y.node||ie.anchorOffset!==Y.offset||ie.focusNode!==V.node||ie.focusOffset!==V.offset)){var J=fe.createRange();J.setStart(Y.node,Y.offset),ie.removeAllRanges(),De>ot?(ie.addRange(J),ie.extend(V.node,V.offset)):(J.setEnd(V.node,V.offset),ie.addRange(J))}}}}for(fe=[],ie=$;ie=ie.parentNode;)ie.nodeType===1&&fe.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof $.focus=="function"&&$.focus(),$=0;$<fe.length;$++){var de=fe[$];de.element.scrollLeft=de.left,de.element.scrollTop=de.top}}nf=!!ug,dg=ug=null}finally{et=b,H.p=m,B.T=c}}i.current=o,Zt=2}}function ok(){if(Zt===2){Zt=0;var i=Ai,o=$o,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=B.T,B.T=null;var m=H.p;H.p=2;var b=et;et|=4;try{MS(i,o.alternate,o)}finally{et=b,H.p=m,B.T=c}}Zt=3}}function lk(){if(Zt===4||Zt===3){Zt=0,pt();var i=Ai,o=$o,c=Ua,m=GS;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Zt=5:(Zt=0,$o=Ai=null,ck(i,i.pendingLanes));var b=i.pendingLanes;if(b===0&&(Ni=null),vm(c),o=o.stateNode,Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(tn,o,void 0,(o.current.flags&128)===128)}catch{}if(m!==null){o=B.T,b=H.p,H.p=2,B.T=null;try{for(var w=i.onRecoverableError,A=0;A<m.length;A++){var $=m[A];w($.value,{componentStack:$.stack})}}finally{B.T=o,H.p=b}}(Ua&3)!==0&&Vd(),oa(i),b=i.pendingLanes,(c&261930)!==0&&(b&42)!==0?i===Xp?pc++:(pc=0,Xp=i):pc=0,gc(0)}}function ck(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,Wl(o)))}function Vd(){return sk(),ok(),lk(),uk()}function uk(){if(Zt!==5)return!1;var i=Ai,o=Yp;Yp=0;var c=vm(Ua),m=B.T,b=H.p;try{H.p=32>c?32:c,B.T=null,c=Wp,Wp=null;var w=Ai,A=Ua;if(Zt=0,$o=Ai=null,Ua=0,(et&6)!==0)throw Error(n(331));var $=et;if(et|=4,VS(w.current),qS(w,w.current,A,c),et=$,gc(0,!1),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(tn,w)}catch{}return!0}finally{H.p=b,B.T=m,ck(i,o)}}function dk(i,o,c){o=jn(c,o),o=Ap(i.stateNode,o,2),i=_i(i,o,2),i!==null&&($l(i,2),oa(i))}function nt(i,o,c){if(i.tag===3)dk(i,i,c);else for(;o!==null;){if(o.tag===3){dk(o,i,c);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Ni===null||!Ni.has(m))){i=jn(c,i),c=fS(2),m=_i(o,c,2),m!==null&&(hS(c,m,o,i),$l(m,2),oa(m));break}}o=o.return}}function eg(i,o,c){var m=i.pingCache;if(m===null){m=i.pingCache=new a$;var b=new Set;m.set(o,b)}else b=m.get(o),b===void 0&&(b=new Set,m.set(o,b));b.has(c)||(Kp=!0,b.add(c),i=c$.bind(null,i,o,c),o.then(i,i))}function c$(i,o,c){var m=i.pingCache;m!==null&&m.delete(o),i.pingedLanes|=i.suspendedLanes&c,i.warmLanes&=~c,lt===i&&(Ve&c)===c&&(At===4||At===3&&(Ve&62914560)===Ve&&300>$e()-zd?(et&2)===0&&Io(i,0):Zp|=c,Mo===Ve&&(Mo=0)),oa(i)}function fk(i,o){o===0&&(o=s1()),i=ls(i,o),i!==null&&($l(i,o),oa(i))}function u$(i){var o=i.memoizedState,c=0;o!==null&&(c=o.retryLane),fk(i,c)}function d$(i,o){var c=0;switch(i.tag){case 31:case 13:var m=i.stateNode,b=i.memoizedState;b!==null&&(c=b.retryLane);break;case 19:m=i.stateNode;break;case 22:m=i.stateNode._retryCache;break;default:throw Error(n(314))}m!==null&&m.delete(o),fk(i,c)}function f$(i,o){return Be(i,o)}var Kd=null,zo=null,tg=!1,Zd=!1,rg=!1,Ci=0;function oa(i){i!==zo&&i.next===null&&(zo===null?Kd=zo=i:zo=zo.next=i),Zd=!0,tg||(tg=!0,m$())}function gc(i,o){if(!rg&&Zd){rg=!0;do for(var c=!1,m=Kd;m!==null;){if(i!==0){var b=m.pendingLanes;if(b===0)var w=0;else{var A=m.suspendedLanes,$=m.pingedLanes;w=(1<<31-tr(42|i)+1)-1,w&=b&~(A&~$),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(c=!0,gk(m,w))}else w=Ve,w=Xu(m,m===lt?w:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(w&3)===0||Ml(m,w)||(c=!0,gk(m,w));m=m.next}while(c);rg=!1}}function h$(){hk()}function hk(){Zd=tg=!1;var i=0;Ci!==0&&k$()&&(i=Ci);for(var o=$e(),c=null,m=Kd;m!==null;){var b=m.next,w=mk(m,o);w===0?(m.next=null,c===null?Kd=b:c.next=b,b===null&&(zo=c)):(c=m,(i!==0||(w&3)!==0)&&(Zd=!0)),m=b}Zt!==0&&Zt!==5||gc(i),Ci!==0&&(Ci=0)}function mk(i,o){for(var c=i.suspendedLanes,m=i.pingedLanes,b=i.expirationTimes,w=i.pendingLanes&-62914561;0<w;){var A=31-tr(w),$=1<<A,U=b[A];U===-1?(($&c)===0||($&m)!==0)&&(b[A]=U3($,o)):U<=o&&(i.expiredLanes|=$),w&=~$}if(o=lt,c=Ve,c=Xu(i,i===o?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m=i.callbackNode,c===0||i===o&&(rt===2||rt===9)||i.cancelPendingCommit!==null)return m!==null&&m!==null&&Ot(m),i.callbackNode=null,i.callbackPriority=0;if((c&3)===0||Ml(i,c)){if(o=c&-c,o===i.callbackPriority)return o;switch(m!==null&&Ot(m),vm(c)){case 2:case 8:c=qe;break;case 32:c=We;break;case 268435456:c=Sa;break;default:c=We}return m=pk.bind(null,i),c=Be(c,m),i.callbackPriority=o,i.callbackNode=c,o}return m!==null&&m!==null&&Ot(m),i.callbackPriority=2,i.callbackNode=null,2}function pk(i,o){if(Zt!==0&&Zt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var c=i.callbackNode;if(Vd()&&i.callbackNode!==c)return null;var m=Ve;return m=Xu(i,i===lt?m:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m===0?null:(WS(i,m,o),mk(i,$e()),i.callbackNode!=null&&i.callbackNode===c?pk.bind(null,i):null)}function gk(i,o){if(Vd())return null;WS(i,o,!0)}function m$(){E$(function(){(et&6)!==0?Be(Ye,h$):hk()})}function ng(){if(Ci===0){var i=ko;i===0&&(i=Gu,Gu<<=1,(Gu&261888)===0&&(Gu=256)),Ci=i}return Ci}function vk(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:td(""+i)}function yk(i,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,i.id&&c.setAttribute("form",i.id),o.parentNode.insertBefore(c,o),i=new FormData(i),c.parentNode.removeChild(c),i}function p$(i,o,c,m,b){if(o==="submit"&&c&&c.stateNode===b){var w=vk((b[Ur]||null).action),A=m.submitter;A&&(o=(o=A[Ur]||null)?vk(o.formAction):A.getAttribute("formAction"),o!==null&&(w=o,A=null));var $=new id("action","action",null,m,b);i.push({event:$,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Ci!==0){var U=A?yk(b,A):new FormData(b);Sp(c,{pending:!0,data:U,method:b.method,action:w},null,U)}}else typeof w=="function"&&($.preventDefault(),U=A?yk(b,A):new FormData(b),Sp(c,{pending:!0,data:U,method:b.method,action:w},w,U))},currentTarget:b}]})}}for(var ag=0;ag<Um.length;ag++){var ig=Um[ag],g$=ig.toLowerCase(),v$=ig[0].toUpperCase()+ig.slice(1);qn(g$,"on"+v$)}qn(Y1,"onAnimationEnd"),qn(W1,"onAnimationIteration"),qn(X1,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(DM,"onTransitionRun"),qn(RM,"onTransitionStart"),qn(MM,"onTransitionCancel"),qn(J1,"onTransitionEnd"),co("onMouseEnter",["mouseout","mouseover"]),co("onMouseLeave",["mouseout","mouseover"]),co("onPointerEnter",["pointerout","pointerover"]),co("onPointerLeave",["pointerout","pointerover"]),as("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),as("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),as("onBeforeInput",["compositionend","keypress","textInput","paste"]),as("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),as("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),as("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y$=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vc));function bk(i,o){o=(o&4)!==0;for(var c=0;c<i.length;c++){var m=i[c],b=m.event;m=m.listeners;e:{var w=void 0;if(o)for(var A=m.length-1;0<=A;A--){var $=m[A],U=$.instance,Q=$.currentTarget;if($=$.listener,U!==w&&b.isPropagationStopped())break e;w=$,b.currentTarget=Q;try{w(b)}catch(ce){ld(ce)}b.currentTarget=null,w=U}else for(A=0;A<m.length;A++){if($=m[A],U=$.instance,Q=$.currentTarget,$=$.listener,U!==w&&b.isPropagationStopped())break e;w=$,b.currentTarget=Q;try{w(b)}catch(ce){ld(ce)}b.currentTarget=null,w=U}}}}function Fe(i,o){var c=o[ym];c===void 0&&(c=o[ym]=new Set);var m=i+"__bubble";c.has(m)||(xk(o,i,2,!1),c.add(m))}function sg(i,o,c){var m=0;o&&(m|=4),xk(c,i,m,o)}var Gd="_reactListening"+Math.random().toString(36).slice(2);function og(i){if(!i[Gd]){i[Gd]=!0,h1.forEach(function(c){c!=="selectionchange"&&(y$.has(c)||sg(c,!1,i),sg(c,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Gd]||(o[Gd]=!0,sg("selectionchange",!1,o))}}function xk(i,o,c,m){switch(Yk(o)){case 2:var b=K$;break;case 8:b=Z$;break;default:b=_g}c=b.bind(null,o,c,i),b=void 0,!Om||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(b=!0),m?b!==void 0?i.addEventListener(o,c,{capture:!0,passive:b}):i.addEventListener(o,c,!0):b!==void 0?i.addEventListener(o,c,{passive:b}):i.addEventListener(o,c,!1)}function lg(i,o,c,m,b){var w=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var A=m.tag;if(A===3||A===4){var $=m.stateNode.containerInfo;if($===b)break;if(A===4)for(A=m.return;A!==null;){var U=A.tag;if((U===3||U===4)&&A.stateNode.containerInfo===b)return;A=A.return}for(;$!==null;){if(A=so($),A===null)return;if(U=A.tag,U===5||U===6||U===26||U===27){m=w=A;continue e}$=$.parentNode}}m=m.return}j1(function(){var Q=w,ce=jm(c),fe=[];e:{var te=Q1.get(i);if(te!==void 0){var ie=id,je=i;switch(i){case"keypress":if(nd(c)===0)break e;case"keydown":case"keyup":ie=dM;break;case"focusin":je="focus",ie=Cm;break;case"focusout":je="blur",ie=Cm;break;case"beforeblur":case"afterblur":ie=Cm;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=N1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=Q3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=mM;break;case Y1:case W1:case X1:ie=rM;break;case J1:ie=gM;break;case"scroll":case"scrollend":ie=X3;break;case"wheel":ie=yM;break;case"copy":case"cut":case"paste":ie=aM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=T1;break;case"toggle":case"beforetoggle":ie=xM}var De=(o&4)!==0,ot=!De&&(i==="scroll"||i==="scrollend"),Y=De?te!==null?te+"Capture":null:te;De=[];for(var V=Q,J;V!==null;){var de=V;if(J=de.stateNode,de=de.tag,de!==5&&de!==26&&de!==27||J===null||Y===null||(de=zl(V,Y),de!=null&&De.push(yc(V,de,J))),ot)break;V=V.return}0<De.length&&(te=new ie(te,je,null,c,ce),fe.push({event:te,listeners:De}))}}if((o&7)===0){e:{if(te=i==="mouseover"||i==="pointerover",ie=i==="mouseout"||i==="pointerout",te&&c!==km&&(je=c.relatedTarget||c.fromElement)&&(so(je)||je[io]))break e;if((ie||te)&&(te=ce.window===ce?ce:(te=ce.ownerDocument)?te.defaultView||te.parentWindow:window,ie?(je=c.relatedTarget||c.toElement,ie=Q,je=je?so(je):null,je!==null&&(ot=s(je),De=je.tag,je!==ot||De!==5&&De!==27&&De!==6)&&(je=null)):(ie=null,je=Q),ie!==je)){if(De=N1,de="onMouseLeave",Y="onMouseEnter",V="mouse",(i==="pointerout"||i==="pointerover")&&(De=T1,de="onPointerLeave",Y="onPointerEnter",V="pointer"),ot=ie==null?te:Ll(ie),J=je==null?te:Ll(je),te=new De(de,V+"leave",ie,c,ce),te.target=ot,te.relatedTarget=J,de=null,so(ce)===Q&&(De=new De(Y,V+"enter",je,c,ce),De.target=J,De.relatedTarget=ot,de=De),ot=de,ie&&je)t:{for(De=b$,Y=ie,V=je,J=0,de=Y;de;de=De(de))J++;de=0;for(var Te=V;Te;Te=De(Te))de++;for(;0<J-de;)Y=De(Y),J--;for(;0<de-J;)V=De(V),de--;for(;J--;){if(Y===V||V!==null&&Y===V.alternate){De=Y;break t}Y=De(Y),V=De(V)}De=null}else De=null;ie!==null&&wk(fe,te,ie,De,!1),je!==null&&ot!==null&&wk(fe,ot,je,De,!0)}}e:{if(te=Q?Ll(Q):window,ie=te.nodeName&&te.nodeName.toLowerCase(),ie==="select"||ie==="input"&&te.type==="file")var Xe=L1;else if($1(te))if(z1)Xe=TM;else{Xe=NM;var Ee=OM}else ie=te.nodeName,!ie||ie.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?Q&&Sm(Q.elementType)&&(Xe=L1):Xe=AM;if(Xe&&(Xe=Xe(i,Q))){I1(fe,Xe,c,ce);break e}Ee&&Ee(i,te,Q),i==="focusout"&&Q&&te.type==="number"&&Q.memoizedProps.value!=null&&_m(te,"number",te.value)}switch(Ee=Q?Ll(Q):window,i){case"focusin":($1(Ee)||Ee.contentEditable==="true")&&(go=Ee,Im=Q,Zl=null);break;case"focusout":Zl=Im=go=null;break;case"mousedown":Lm=!0;break;case"contextmenu":case"mouseup":case"dragend":Lm=!1,Z1(fe,c,ce);break;case"selectionchange":if(PM)break;case"keydown":case"keyup":Z1(fe,c,ce)}var Ue;if(Dm)e:{switch(i){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else po?R1(i,c)&&(Ke="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(Ke="onCompositionStart");Ke&&(C1&&c.locale!=="ko"&&(po||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&po&&(Ue=E1()):(pi=ce,Nm="value"in pi?pi.value:pi.textContent,po=!0)),Ee=Yd(Q,Ke),0<Ee.length&&(Ke=new A1(Ke,i,null,c,ce),fe.push({event:Ke,listeners:Ee}),Ue?Ke.data=Ue:(Ue=M1(c),Ue!==null&&(Ke.data=Ue)))),(Ue=_M?SM(i,c):kM(i,c))&&(Ke=Yd(Q,"onBeforeInput"),0<Ke.length&&(Ee=new A1("onBeforeInput","beforeinput",null,c,ce),fe.push({event:Ee,listeners:Ke}),Ee.data=Ue)),p$(fe,i,Q,c,ce)}bk(fe,o)})}function yc(i,o,c){return{instance:i,listener:o,currentTarget:c}}function Yd(i,o){for(var c=o+"Capture",m=[];i!==null;){var b=i,w=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||w===null||(b=zl(i,c),b!=null&&m.unshift(yc(i,b,w)),b=zl(i,o),b!=null&&m.push(yc(i,b,w))),i.tag===3)return m;i=i.return}return[]}function b$(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function wk(i,o,c,m,b){for(var w=o._reactName,A=[];c!==null&&c!==m;){var $=c,U=$.alternate,Q=$.stateNode;if($=$.tag,U!==null&&U===m)break;$!==5&&$!==26&&$!==27||Q===null||(U=Q,b?(Q=zl(c,w),Q!=null&&A.unshift(yc(c,Q,U))):b||(Q=zl(c,w),Q!=null&&A.push(yc(c,Q,U)))),c=c.return}A.length!==0&&i.push({event:o,listeners:A})}var x$=/\r\n?/g,w$=/\u0000|\uFFFD/g;function _k(i){return(typeof i=="string"?i:""+i).replace(x$,`
`).replace(w$,"")}function Sk(i,o){return o=_k(o),_k(i)===o}function st(i,o,c,m,b,w){switch(c){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||fo(i,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&fo(i,""+m);break;case"className":Qu(i,"class",m);break;case"tabIndex":Qu(i,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Qu(i,c,m);break;case"style":S1(i,m,w);break;case"data":if(o!=="object"){Qu(i,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||c!=="href")){i.removeAttribute(c);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(c);break}m=td(""+m),i.setAttribute(c,m);break;case"action":case"formAction":if(typeof m=="function"){i.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(c==="formAction"?(o!=="input"&&st(i,o,"name",b.name,b,null),st(i,o,"formEncType",b.formEncType,b,null),st(i,o,"formMethod",b.formMethod,b,null),st(i,o,"formTarget",b.formTarget,b,null)):(st(i,o,"encType",b.encType,b,null),st(i,o,"method",b.method,b,null),st(i,o,"target",b.target,b,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(c);break}m=td(""+m),i.setAttribute(c,m);break;case"onClick":m!=null&&(i.onclick=ja);break;case"onScroll":m!=null&&Fe("scroll",i);break;case"onScrollEnd":m!=null&&Fe("scrollend",i);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(c=m.__html,c!=null){if(b.children!=null)throw Error(n(60));i.innerHTML=c}}break;case"multiple":i.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":i.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){i.removeAttribute("xlink:href");break}c=td(""+m),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(c,""+m):i.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(c,""):i.removeAttribute(c);break;case"capture":case"download":m===!0?i.setAttribute(c,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(c,m):i.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?i.setAttribute(c,m):i.removeAttribute(c);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?i.removeAttribute(c):i.setAttribute(c,m);break;case"popover":Fe("beforetoggle",i),Fe("toggle",i),Ju(i,"popover",m);break;case"xlinkActuate":ka(i,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":ka(i,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":ka(i,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":ka(i,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":ka(i,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":ka(i,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":ka(i,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":ka(i,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":ka(i,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Ju(i,"is",m);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Y3.get(c)||c,Ju(i,c,m))}}function cg(i,o,c,m,b,w){switch(c){case"style":S1(i,m,w);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(c=m.__html,c!=null){if(b.children!=null)throw Error(n(60));i.innerHTML=c}}break;case"children":typeof m=="string"?fo(i,m):(typeof m=="number"||typeof m=="bigint")&&fo(i,""+m);break;case"onScroll":m!=null&&Fe("scroll",i);break;case"onScrollEnd":m!=null&&Fe("scrollend",i);break;case"onClick":m!=null&&(i.onclick=ja);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!m1.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(b=c.endsWith("Capture"),o=c.slice(2,b?c.length-7:void 0),w=i[Ur]||null,w=w!=null?w[c]:null,typeof w=="function"&&i.removeEventListener(o,w,b),typeof m=="function")){typeof w!="function"&&w!==null&&(c in i?i[c]=null:i.hasAttribute(c)&&i.removeAttribute(c)),i.addEventListener(o,m,b);break e}c in i?i[c]=m:m===!0?i.setAttribute(c,""):Ju(i,c,m)}}}function fr(i,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fe("error",i),Fe("load",i);var m=!1,b=!1,w;for(w in c)if(c.hasOwnProperty(w)){var A=c[w];if(A!=null)switch(w){case"src":m=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:st(i,o,w,A,c,null)}}b&&st(i,o,"srcSet",c.srcSet,c,null),m&&st(i,o,"src",c.src,c,null);return;case"input":Fe("invalid",i);var $=w=A=b=null,U=null,Q=null;for(m in c)if(c.hasOwnProperty(m)){var ce=c[m];if(ce!=null)switch(m){case"name":b=ce;break;case"type":A=ce;break;case"checked":U=ce;break;case"defaultChecked":Q=ce;break;case"value":w=ce;break;case"defaultValue":$=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(n(137,o));break;default:st(i,o,m,ce,c,null)}}b1(i,w,$,U,Q,A,b,!1);return;case"select":Fe("invalid",i),m=A=w=null;for(b in c)if(c.hasOwnProperty(b)&&($=c[b],$!=null))switch(b){case"value":w=$;break;case"defaultValue":A=$;break;case"multiple":m=$;default:st(i,o,b,$,c,null)}o=w,c=A,i.multiple=!!m,o!=null?uo(i,!!m,o,!1):c!=null&&uo(i,!!m,c,!0);return;case"textarea":Fe("invalid",i),w=b=m=null;for(A in c)if(c.hasOwnProperty(A)&&($=c[A],$!=null))switch(A){case"value":m=$;break;case"defaultValue":b=$;break;case"children":w=$;break;case"dangerouslySetInnerHTML":if($!=null)throw Error(n(91));break;default:st(i,o,A,$,c,null)}w1(i,m,b,w);return;case"option":for(U in c)if(c.hasOwnProperty(U)&&(m=c[U],m!=null))switch(U){case"selected":i.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:st(i,o,U,m,c,null)}return;case"dialog":Fe("beforetoggle",i),Fe("toggle",i),Fe("cancel",i),Fe("close",i);break;case"iframe":case"object":Fe("load",i);break;case"video":case"audio":for(m=0;m<vc.length;m++)Fe(vc[m],i);break;case"image":Fe("error",i),Fe("load",i);break;case"details":Fe("toggle",i);break;case"embed":case"source":case"link":Fe("error",i),Fe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in c)if(c.hasOwnProperty(Q)&&(m=c[Q],m!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:st(i,o,Q,m,c,null)}return;default:if(Sm(o)){for(ce in c)c.hasOwnProperty(ce)&&(m=c[ce],m!==void 0&&cg(i,o,ce,m,c,void 0));return}}for($ in c)c.hasOwnProperty($)&&(m=c[$],m!=null&&st(i,o,$,m,c,null))}function _$(i,o,c,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,w=null,A=null,$=null,U=null,Q=null,ce=null;for(ie in c){var fe=c[ie];if(c.hasOwnProperty(ie)&&fe!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":U=fe;default:m.hasOwnProperty(ie)||st(i,o,ie,null,m,fe)}}for(var te in m){var ie=m[te];if(fe=c[te],m.hasOwnProperty(te)&&(ie!=null||fe!=null))switch(te){case"type":w=ie;break;case"name":b=ie;break;case"checked":Q=ie;break;case"defaultChecked":ce=ie;break;case"value":A=ie;break;case"defaultValue":$=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(n(137,o));break;default:ie!==fe&&st(i,o,te,ie,m,fe)}}wm(i,A,$,U,Q,ce,w,b);return;case"select":ie=A=$=te=null;for(w in c)if(U=c[w],c.hasOwnProperty(w)&&U!=null)switch(w){case"value":break;case"multiple":ie=U;default:m.hasOwnProperty(w)||st(i,o,w,null,m,U)}for(b in m)if(w=m[b],U=c[b],m.hasOwnProperty(b)&&(w!=null||U!=null))switch(b){case"value":te=w;break;case"defaultValue":$=w;break;case"multiple":A=w;default:w!==U&&st(i,o,b,w,m,U)}o=$,c=A,m=ie,te!=null?uo(i,!!c,te,!1):!!m!=!!c&&(o!=null?uo(i,!!c,o,!0):uo(i,!!c,c?[]:"",!1));return;case"textarea":ie=te=null;for($ in c)if(b=c[$],c.hasOwnProperty($)&&b!=null&&!m.hasOwnProperty($))switch($){case"value":break;case"children":break;default:st(i,o,$,null,m,b)}for(A in m)if(b=m[A],w=c[A],m.hasOwnProperty(A)&&(b!=null||w!=null))switch(A){case"value":te=b;break;case"defaultValue":ie=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(n(91));break;default:b!==w&&st(i,o,A,b,m,w)}x1(i,te,ie);return;case"option":for(var je in c)if(te=c[je],c.hasOwnProperty(je)&&te!=null&&!m.hasOwnProperty(je))switch(je){case"selected":i.selected=!1;break;default:st(i,o,je,null,m,te)}for(U in m)if(te=m[U],ie=c[U],m.hasOwnProperty(U)&&te!==ie&&(te!=null||ie!=null))switch(U){case"selected":i.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:st(i,o,U,te,m,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in c)te=c[De],c.hasOwnProperty(De)&&te!=null&&!m.hasOwnProperty(De)&&st(i,o,De,null,m,te);for(Q in m)if(te=m[Q],ie=c[Q],m.hasOwnProperty(Q)&&te!==ie&&(te!=null||ie!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(n(137,o));break;default:st(i,o,Q,te,m,ie)}return;default:if(Sm(o)){for(var ot in c)te=c[ot],c.hasOwnProperty(ot)&&te!==void 0&&!m.hasOwnProperty(ot)&&cg(i,o,ot,void 0,m,te);for(ce in m)te=m[ce],ie=c[ce],!m.hasOwnProperty(ce)||te===ie||te===void 0&&ie===void 0||cg(i,o,ce,te,m,ie);return}}for(var Y in c)te=c[Y],c.hasOwnProperty(Y)&&te!=null&&!m.hasOwnProperty(Y)&&st(i,o,Y,null,m,te);for(fe in m)te=m[fe],ie=c[fe],!m.hasOwnProperty(fe)||te===ie||te==null&&ie==null||st(i,o,fe,te,m,ie)}function kk(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function S$(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,c=performance.getEntriesByType("resource"),m=0;m<c.length;m++){var b=c[m],w=b.transferSize,A=b.initiatorType,$=b.duration;if(w&&$&&kk(A)){for(A=0,$=b.responseEnd,m+=1;m<c.length;m++){var U=c[m],Q=U.startTime;if(Q>$)break;var ce=U.transferSize,fe=U.initiatorType;ce&&kk(fe)&&(U=U.responseEnd,A+=ce*(U<$?1:($-Q)/(U-Q)))}if(--m,o+=8*(w+A)/(b.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var ug=null,dg=null;function Wd(i){return i.nodeType===9?i:i.ownerDocument}function jk(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ek(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function fg(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var hg=null;function k$(){var i=window.event;return i&&i.type==="popstate"?i===hg?!1:(hg=i,!0):(hg=null,!1)}var Ok=typeof setTimeout=="function"?setTimeout:void 0,j$=typeof clearTimeout=="function"?clearTimeout:void 0,Nk=typeof Promise=="function"?Promise:void 0,E$=typeof queueMicrotask=="function"?queueMicrotask:typeof Nk<"u"?function(i){return Nk.resolve(null).then(i).catch(O$)}:Ok;function O$(i){setTimeout(function(){throw i})}function Pi(i){return i==="head"}function Ak(i,o){var c=o,m=0;do{var b=c.nextSibling;if(i.removeChild(c),b&&b.nodeType===8)if(c=b.data,c==="/$"||c==="/&"){if(m===0){i.removeChild(b),Ho(o);return}m--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")m++;else if(c==="html")bc(i.ownerDocument.documentElement);else if(c==="head"){c=i.ownerDocument.head,bc(c);for(var w=c.firstChild;w;){var A=w.nextSibling,$=w.nodeName;w[Il]||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&w.rel.toLowerCase()==="stylesheet"||c.removeChild(w),w=A}}else c==="body"&&bc(i.ownerDocument.body);c=b}while(c);Ho(o)}function Tk(i,o){var c=i;i=0;do{var m=c.nextSibling;if(c.nodeType===1?o?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(o?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),m&&m.nodeType===8)if(c=m.data,c==="/$"){if(i===0)break;i--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||i++;c=m}while(c)}function mg(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":mg(c),bm(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}i.removeChild(c)}}function N$(i,o,c,m){for(;i.nodeType===1;){var b=c;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(m){if(!i[Il])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(w=i.getAttribute("rel"),w==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(w!==b.rel||i.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||i.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||i.getAttribute("title")!==(b.title==null?null:b.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(w=i.getAttribute("src"),(w!==(b.src==null?null:b.src)||i.getAttribute("type")!==(b.type==null?null:b.type)||i.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&w&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var w=b.name==null?null:""+b.name;if(b.type==="hidden"&&i.getAttribute("name")===w)return i}else return i;if(i=Tn(i.nextSibling),i===null)break}return null}function A$(i,o,c){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!c||(i=Tn(i.nextSibling),i===null))return null;return i}function Ck(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Tn(i.nextSibling),i===null))return null;return i}function pg(i){return i.data==="$?"||i.data==="$~"}function gg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function T$(i,o){var c=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||c.readyState!=="loading")o();else{var m=function(){o(),c.removeEventListener("DOMContentLoaded",m)};c.addEventListener("DOMContentLoaded",m),i._reactRetry=m}}function Tn(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var vg=null;function Pk(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"||c==="/&"){if(o===0)return Tn(i.nextSibling);o--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||o++}i=i.nextSibling}return null}function Dk(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(o===0)return i;o--}else c!=="/$"&&c!=="/&"||o++}i=i.previousSibling}return null}function Rk(i,o,c){switch(o=Wd(c),i){case"html":if(i=o.documentElement,!i)throw Error(n(452));return i;case"head":if(i=o.head,!i)throw Error(n(453));return i;case"body":if(i=o.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function bc(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);bm(i)}var Cn=new Map,Mk=new Set;function Xd(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ba=H.d;H.d={f:C$,r:P$,D:D$,C:R$,L:M$,m:$$,X:L$,S:I$,M:z$};function C$(){var i=Ba.f(),o=qd();return i||o}function P$(i){var o=oo(i);o!==null&&o.tag===5&&o.type==="form"?J_(o):Ba.r(i)}var Uo=typeof document>"u"?null:document;function $k(i,o,c){var m=Uo;if(m&&typeof o=="string"&&o){var b=Sn(o);b='link[rel="'+i+'"][href="'+b+'"]',typeof c=="string"&&(b+='[crossorigin="'+c+'"]'),Mk.has(b)||(Mk.add(b),i={rel:i,crossOrigin:c,href:o},m.querySelector(b)===null&&(o=m.createElement("link"),fr(o,"link",i),rr(o),m.head.appendChild(o)))}}function D$(i){Ba.D(i),$k("dns-prefetch",i,null)}function R$(i,o){Ba.C(i,o),$k("preconnect",i,o)}function M$(i,o,c){Ba.L(i,o,c);var m=Uo;if(m&&i&&o){var b='link[rel="preload"][as="'+Sn(o)+'"]';o==="image"&&c&&c.imageSrcSet?(b+='[imagesrcset="'+Sn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(b+='[imagesizes="'+Sn(c.imageSizes)+'"]')):b+='[href="'+Sn(i)+'"]';var w=b;switch(o){case"style":w=Bo(i);break;case"script":w=qo(i)}Cn.has(w)||(i=g({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:i,as:o},c),Cn.set(w,i),m.querySelector(b)!==null||o==="style"&&m.querySelector(xc(w))||o==="script"&&m.querySelector(wc(w))||(o=m.createElement("link"),fr(o,"link",i),rr(o),m.head.appendChild(o)))}}function $$(i,o){Ba.m(i,o);var c=Uo;if(c&&i){var m=o&&typeof o.as=="string"?o.as:"script",b='link[rel="modulepreload"][as="'+Sn(m)+'"][href="'+Sn(i)+'"]',w=b;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=qo(i)}if(!Cn.has(w)&&(i=g({rel:"modulepreload",href:i},o),Cn.set(w,i),c.querySelector(b)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(wc(w)))return}m=c.createElement("link"),fr(m,"link",i),rr(m),c.head.appendChild(m)}}}function I$(i,o,c){Ba.S(i,o,c);var m=Uo;if(m&&i){var b=lo(m).hoistableStyles,w=Bo(i);o=o||"default";var A=b.get(w);if(!A){var $={loading:0,preload:null};if(A=m.querySelector(xc(w)))$.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":o},c),(c=Cn.get(w))&&yg(i,c);var U=A=m.createElement("link");rr(U),fr(U,"link",i),U._p=new Promise(function(Q,ce){U.onload=Q,U.onerror=ce}),U.addEventListener("load",function(){$.loading|=1}),U.addEventListener("error",function(){$.loading|=2}),$.loading|=4,Jd(A,o,m)}A={type:"stylesheet",instance:A,count:1,state:$},b.set(w,A)}}}function L$(i,o){Ba.X(i,o);var c=Uo;if(c&&i){var m=lo(c).hoistableScripts,b=qo(i),w=m.get(b);w||(w=c.querySelector(wc(b)),w||(i=g({src:i,async:!0},o),(o=Cn.get(b))&&bg(i,o),w=c.createElement("script"),rr(w),fr(w,"link",i),c.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(b,w))}}function z$(i,o){Ba.M(i,o);var c=Uo;if(c&&i){var m=lo(c).hoistableScripts,b=qo(i),w=m.get(b);w||(w=c.querySelector(wc(b)),w||(i=g({src:i,async:!0,type:"module"},o),(o=Cn.get(b))&&bg(i,o),w=c.createElement("script"),rr(w),fr(w,"link",i),c.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(b,w))}}function Ik(i,o,c,m){var b=(b=ue.current)?Xd(b):null;if(!b)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=Bo(c.href),c=lo(b).hoistableStyles,m=c.get(o),m||(m={type:"style",instance:null,count:0,state:null},c.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){i=Bo(c.href);var w=lo(b).hoistableStyles,A=w.get(i);if(A||(b=b.ownerDocument||b,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(i,A),(w=b.querySelector(xc(i)))&&!w._p&&(A.instance=w,A.state.loading=5),Cn.has(i)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Cn.set(i,c),w||U$(b,i,c,A.state))),o&&m===null)throw Error(n(528,""));return A}if(o&&m!==null)throw Error(n(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=qo(c),c=lo(b).hoistableScripts,m=c.get(o),m||(m={type:"script",instance:null,count:0,state:null},c.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function Bo(i){return'href="'+Sn(i)+'"'}function xc(i){return'link[rel="stylesheet"]['+i+"]"}function Lk(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function U$(i,o,c,m){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=i.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),fr(o,"link",c),rr(o),i.head.appendChild(o))}function qo(i){return'[src="'+Sn(i)+'"]'}function wc(i){return"script[async]"+i}function zk(i,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var m=i.querySelector('style[data-href~="'+Sn(c.href)+'"]');if(m)return o.instance=m,rr(m),m;var b=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return m=(i.ownerDocument||i).createElement("style"),rr(m),fr(m,"style",b),Jd(m,c.precedence,i),o.instance=m;case"stylesheet":b=Bo(c.href);var w=i.querySelector(xc(b));if(w)return o.state.loading|=4,o.instance=w,rr(w),w;m=Lk(c),(b=Cn.get(b))&&yg(m,b),w=(i.ownerDocument||i).createElement("link"),rr(w);var A=w;return A._p=new Promise(function($,U){A.onload=$,A.onerror=U}),fr(w,"link",m),o.state.loading|=4,Jd(w,c.precedence,i),o.instance=w;case"script":return w=qo(c.src),(b=i.querySelector(wc(w)))?(o.instance=b,rr(b),b):(m=c,(b=Cn.get(w))&&(m=g({},c),bg(m,b)),i=i.ownerDocument||i,b=i.createElement("script"),rr(b),fr(b,"link",m),i.head.appendChild(b),o.instance=b);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,Jd(m,c.precedence,i));return o.instance}function Jd(i,o,c){for(var m=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=m.length?m[m.length-1]:null,w=b,A=0;A<m.length;A++){var $=m[A];if($.dataset.precedence===o)w=$;else if(w!==b)break}w?w.parentNode.insertBefore(i,w.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(i,o.firstChild))}function yg(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function bg(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var Qd=null;function Uk(i,o,c){if(Qd===null){var m=new Map,b=Qd=new Map;b.set(c,m)}else b=Qd,m=b.get(c),m||(m=new Map,b.set(c,m));if(m.has(i))return m;for(m.set(i,null),c=c.getElementsByTagName(i),b=0;b<c.length;b++){var w=c[b];if(!(w[Il]||w[lr]||i==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var A=w.getAttribute(o)||"";A=i+A;var $=m.get(A);$?$.push(w):m.set(A,[w])}}return m}function Bk(i,o,c){i=i.ownerDocument||i,i.head.insertBefore(c,o==="title"?i.querySelector("head > title"):null)}function B$(i,o,c){if(c===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function qk(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function q$(i,o,c,m){if(c.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var b=Bo(m.href),w=o.querySelector(xc(b));if(w){o=w._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=ef.bind(i),o.then(i,i)),c.state.loading|=4,c.instance=w,rr(w);return}w=o.ownerDocument||o,m=Lk(m),(b=Cn.get(b))&&yg(m,b),w=w.createElement("link"),rr(w);var A=w;A._p=new Promise(function($,U){A.onload=$,A.onerror=U}),fr(w,"link",m),c.instance=w}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(i.count++,c=ef.bind(i),o.addEventListener("load",c),o.addEventListener("error",c))}}var xg=0;function H$(i,o){return i.stylesheets&&i.count===0&&rf(i,i.stylesheets),0<i.count||0<i.imgCount?function(c){var m=setTimeout(function(){if(i.stylesheets&&rf(i,i.stylesheets),i.unsuspend){var w=i.unsuspend;i.unsuspend=null,w()}},6e4+o);0<i.imgBytes&&xg===0&&(xg=62500*S$());var b=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&rf(i,i.stylesheets),i.unsuspend)){var w=i.unsuspend;i.unsuspend=null,w()}},(i.imgBytes>xg?50:800)+o);return i.unsuspend=c,function(){i.unsuspend=null,clearTimeout(m),clearTimeout(b)}}:null}function ef(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)rf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var tf=null;function rf(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,tf=new Map,o.forEach(F$,i),tf=null,ef.call(i))}function F$(i,o){if(!(o.state.loading&4)){var c=tf.get(i);if(c)var m=c.get(null);else{c=new Map,tf.set(i,c);for(var b=i.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<b.length;w++){var A=b[w];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(c.set(A.dataset.precedence,A),m=A)}m&&c.set(null,m)}b=o.instance,A=b.getAttribute("data-precedence"),w=c.get(A)||m,w===m&&c.set(null,b),c.set(A,b),this.count++,m=ef.bind(this),b.addEventListener("load",m),b.addEventListener("error",m),w?w.parentNode.insertBefore(b,w.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(b,i.firstChild)),o.state.loading|=4}}var _c={$$typeof:E,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function V$(i,o,c,m,b,w,A,$,U){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pm(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pm(0),this.hiddenUpdates=pm(null),this.identifierPrefix=m,this.onUncaughtError=b,this.onCaughtError=w,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function Hk(i,o,c,m,b,w,A,$,U,Q,ce,fe){return i=new V$(i,o,c,A,U,Q,ce,fe,$),o=1,w===!0&&(o|=24),w=nn(3,null,null,o),i.current=w,w.stateNode=i,o=Qm(),o.refCount++,i.pooledCache=o,o.refCount++,w.memoizedState={element:m,isDehydrated:c,cache:o},np(w),i}function Fk(i){return i?(i=bo,i):bo}function Vk(i,o,c,m,b,w){b=Fk(b),m.context===null?m.context=b:m.pendingContext=b,m=wi(o),m.payload={element:c},w=w===void 0?null:w,w!==null&&(m.callback=w),c=_i(i,m,o),c!==null&&(Kr(c,i,o),ec(c,i,o))}function Kk(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<o?c:o}}function wg(i,o){Kk(i,o),(i=i.alternate)&&Kk(i,o)}function Zk(i){if(i.tag===13||i.tag===31){var o=ls(i,67108864);o!==null&&Kr(o,i,67108864),wg(i,67108864)}}function Gk(i){if(i.tag===13||i.tag===31){var o=cn();o=gm(o);var c=ls(i,o);c!==null&&Kr(c,i,o),wg(i,o)}}var nf=!0;function K$(i,o,c,m){var b=B.T;B.T=null;var w=H.p;try{H.p=2,_g(i,o,c,m)}finally{H.p=w,B.T=b}}function Z$(i,o,c,m){var b=B.T;B.T=null;var w=H.p;try{H.p=8,_g(i,o,c,m)}finally{H.p=w,B.T=b}}function _g(i,o,c,m){if(nf){var b=Sg(m);if(b===null)lg(i,o,m,af,c),Wk(i,m);else if(Y$(b,i,o,c,m))m.stopPropagation();else if(Wk(i,m),o&4&&-1<G$.indexOf(i)){for(;b!==null;){var w=oo(b);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var A=ns(w.pendingLanes);if(A!==0){var $=w;for($.pendingLanes|=2,$.entangledLanes|=2;A;){var U=1<<31-tr(A);$.entanglements[1]|=U,A&=~U}oa(w),(et&6)===0&&(Ud=$e()+500,gc(0))}}break;case 31:case 13:$=ls(w,2),$!==null&&Kr($,w,2),qd(),wg(w,2)}if(w=Sg(m),w===null&&lg(i,o,m,af,c),w===b)break;b=w}b!==null&&m.stopPropagation()}else lg(i,o,m,null,c)}}function Sg(i){return i=jm(i),kg(i)}var af=null;function kg(i){if(af=null,i=so(i),i!==null){var o=s(i);if(o===null)i=null;else{var c=o.tag;if(c===13){if(i=l(o),i!==null)return i;i=null}else if(c===31){if(i=u(o),i!==null)return i;i=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return af=i,null}function Yk(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tt()){case Ye:return 2;case qe:return 8;case We:case Pt:return 32;case Sa:return 268435456;default:return 32}default:return 32}}var jg=!1,Di=null,Ri=null,Mi=null,Sc=new Map,kc=new Map,$i=[],G$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Wk(i,o){switch(i){case"focusin":case"focusout":Di=null;break;case"dragenter":case"dragleave":Ri=null;break;case"mouseover":case"mouseout":Mi=null;break;case"pointerover":case"pointerout":Sc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":kc.delete(o.pointerId)}}function jc(i,o,c,m,b,w){return i===null||i.nativeEvent!==w?(i={blockedOn:o,domEventName:c,eventSystemFlags:m,nativeEvent:w,targetContainers:[b]},o!==null&&(o=oo(o),o!==null&&Zk(o)),i):(i.eventSystemFlags|=m,o=i.targetContainers,b!==null&&o.indexOf(b)===-1&&o.push(b),i)}function Y$(i,o,c,m,b){switch(o){case"focusin":return Di=jc(Di,i,o,c,m,b),!0;case"dragenter":return Ri=jc(Ri,i,o,c,m,b),!0;case"mouseover":return Mi=jc(Mi,i,o,c,m,b),!0;case"pointerover":var w=b.pointerId;return Sc.set(w,jc(Sc.get(w)||null,i,o,c,m,b)),!0;case"gotpointercapture":return w=b.pointerId,kc.set(w,jc(kc.get(w)||null,i,o,c,m,b)),!0}return!1}function Xk(i){var o=so(i.target);if(o!==null){var c=s(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){i.blockedOn=o,d1(i.priority,function(){Gk(c)});return}}else if(o===31){if(o=u(c),o!==null){i.blockedOn=o,d1(i.priority,function(){Gk(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function sf(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var c=Sg(i.nativeEvent);if(c===null){c=i.nativeEvent;var m=new c.constructor(c.type,c);km=m,c.target.dispatchEvent(m),km=null}else return o=oo(c),o!==null&&Zk(o),i.blockedOn=c,!1;o.shift()}return!0}function Jk(i,o,c){sf(i)&&c.delete(o)}function W$(){jg=!1,Di!==null&&sf(Di)&&(Di=null),Ri!==null&&sf(Ri)&&(Ri=null),Mi!==null&&sf(Mi)&&(Mi=null),Sc.forEach(Jk),kc.forEach(Jk)}function of(i,o){i.blockedOn===o&&(i.blockedOn=null,jg||(jg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,W$)))}var lf=null;function Qk(i){lf!==i&&(lf=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){lf===i&&(lf=null);for(var o=0;o<i.length;o+=3){var c=i[o],m=i[o+1],b=i[o+2];if(typeof m!="function"){if(kg(m||c)===null)continue;break}var w=oo(c);w!==null&&(i.splice(o,3),o-=3,Sp(w,{pending:!0,data:b,method:c.method,action:m},m,b))}}))}function Ho(i){function o(U){return of(U,i)}Di!==null&&of(Di,i),Ri!==null&&of(Ri,i),Mi!==null&&of(Mi,i),Sc.forEach(o),kc.forEach(o);for(var c=0;c<$i.length;c++){var m=$i[c];m.blockedOn===i&&(m.blockedOn=null)}for(;0<$i.length&&(c=$i[0],c.blockedOn===null);)Xk(c),c.blockedOn===null&&$i.shift();if(c=(i.ownerDocument||i).$$reactFormReplay,c!=null)for(m=0;m<c.length;m+=3){var b=c[m],w=c[m+1],A=b[Ur]||null;if(typeof w=="function")A||Qk(c);else if(A){var $=null;if(w&&w.hasAttribute("formAction")){if(b=w,A=w[Ur]||null)$=A.formAction;else if(kg(b)!==null)continue}else $=A.action;typeof $=="function"?c[m+1]=$:(c.splice(m,3),m-=3),Qk(c)}}}function e2(){function i(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(A){return b=A})},focusReset:"manual",scroll:"manual"})}function o(){b!==null&&(b(),b=null),m||setTimeout(c,20)}function c(){if(!m&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,b=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(c,100),function(){m=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),b!==null&&(b(),b=null)}}}function Eg(i){this._internalRoot=i}cf.prototype.render=Eg.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));var c=o.current,m=cn();Vk(c,m,i,o,null,null)},cf.prototype.unmount=Eg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Vk(i.current,2,null,i,null,null),qd(),o[io]=null}};function cf(i){this._internalRoot=i}cf.prototype.unstable_scheduleHydration=function(i){if(i){var o=u1();i={blockedOn:null,target:i,priority:o};for(var c=0;c<$i.length&&o!==0&&o<$i[c].priority;c++);$i.splice(c,0,i),c===0&&Xk(i)}};var t2=t.version;if(t2!=="19.2.1")throw Error(n(527,t2,"19.2.1"));H.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=f(o),i=i!==null?h(i):null,i=i===null?null:i.stateNode,i};var X$={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uf.isDisabled&&uf.supportsFiber)try{tn=uf.inject(X$),Lt=uf}catch{}}return Oc.createRoot=function(i,o){if(!a(i))throw Error(n(299));var c=!1,m="",b=lS,w=cS,A=uS;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(b=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError)),o=Hk(i,1,!1,null,null,c,m,null,b,w,A,e2),i[io]=o.current,og(i),new Eg(o)},Oc.hydrateRoot=function(i,o,c){if(!a(i))throw Error(n(299));var m=!1,b="",w=lS,A=cS,$=uS,U=null;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(b=c.identifierPrefix),c.onUncaughtError!==void 0&&(w=c.onUncaughtError),c.onCaughtError!==void 0&&(A=c.onCaughtError),c.onRecoverableError!==void 0&&($=c.onRecoverableError),c.formState!==void 0&&(U=c.formState)),o=Hk(i,1,!0,o,c??null,m,b,U,w,A,$,e2),o.context=Fk(null),c=o.current,m=cn(),m=gm(m),b=wi(m),b.callback=null,_i(c,b,m),c=m,o.current.lanes=c,$l(o,c),oa(o),i[io]=o.current,og(i),new cf(o)},Oc.version="19.2.1",Oc}var d2;function s6(){if(d2)return Ag.exports;d2=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Ag.exports=i6(),Ag.exports}var o6=s6();function l6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const ex=x.forwardRef(l6);function c6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const MA=x.forwardRef(c6);function u6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m12.75 15 3-3m0 0-3-3m3 3h-7.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const d6=x.forwardRef(u6);function f6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const h6=x.forwardRef(f6);function m6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))}const p6=x.forwardRef(m6);function g6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"}))}const v6=x.forwardRef(g6);function y6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"}))}const $A=x.forwardRef(y6);function b6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const x6=x.forwardRef(b6);function w6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const da=x.forwardRef(w6);function _6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const tx=x.forwardRef(_6);function S6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const rx=x.forwardRef(S6);function k6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"}))}const nx=x.forwardRef(k6);function j6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"}))}const f2=x.forwardRef(j6);function E6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"}))}const jy=x.forwardRef(E6);function O6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const u0=x.forwardRef(O6);function N6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9.75v6.75m0 0-3-3m3 3 3-3m-8.25 6a4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H6.75Z"}))}const A6=x.forwardRef(N6);function T6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15a4.5 4.5 0 0 0 4.5 4.5H18a3.75 3.75 0 0 0 1.332-7.257 3 3 0 0 0-3.758-3.848 5.25 5.25 0 0 0-10.233 2.33A4.502 4.502 0 0 0 2.25 15Z"}))}const C6=x.forwardRef(T6);function P6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const D6=x.forwardRef(P6);function R6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 7.5-9-5.25L3 7.5m18 0-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9"}))}const ax=x.forwardRef(R6);function M6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const $6=x.forwardRef(M6);function I6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const IA=x.forwardRef(I6);function L6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const z6=x.forwardRef(L6);function U6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const LA=x.forwardRef(U6);function B6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const Dg=x.forwardRef(B6);function q6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const H6=x.forwardRef(q6);function F6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"}))}const V6=x.forwardRef(F6);function K6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const Jc=x.forwardRef(K6);function Z6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const G6=x.forwardRef(Z6);function Y6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const d0=x.forwardRef(Y6);function W6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0 1 10.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0 .229 2.523a1.125 1.125 0 0 1-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0 0 21 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 0 0-1.913-.247M6.34 18H5.25A2.25 2.25 0 0 1 3 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 0 1 1.913-.247m10.5 0a48.536 48.536 0 0 0-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5Zm-3 0h.008v.008H15V10.5Z"}))}const X6=x.forwardRef(W6);function J6({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 3.75 9.375v-4.5ZM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 0 1-1.125-1.125v-4.5ZM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 13.5 9.375v-4.5Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 6.75h.75v.75h-.75v-.75ZM6.75 16.5h.75v.75h-.75v-.75ZM16.5 6.75h.75v.75h-.75v-.75ZM13.5 13.5h.75v.75h-.75v-.75ZM13.5 19.5h.75v.75h-.75v-.75ZM19.5 13.5h.75v.75h-.75v-.75ZM19.5 19.5h.75v.75h-.75v-.75ZM16.5 16.5h.75v.75h-.75v-.75Z"}))}const Q6=x.forwardRef(J6);function eI({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const zA=x.forwardRef(eI);function tI({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"}))}const UA=x.forwardRef(tI);function rI({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 0 1-1.125-1.125M3.375 19.5h7.5c.621 0 1.125-.504 1.125-1.125m-9.75 0V5.625m0 12.75v-1.5c0-.621.504-1.125 1.125-1.125m18.375 2.625V5.625m0 12.75c0 .621-.504 1.125-1.125 1.125m1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125m0 3.75h-7.5A1.125 1.125 0 0 1 12 18.375m9.75-12.75c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125m19.5 0v1.5c0 .621-.504 1.125-1.125 1.125M2.25 5.625v1.5c0 .621.504 1.125 1.125 1.125m0 0h17.25m-17.25 0h7.5c.621 0 1.125.504 1.125 1.125M3.375 8.25c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125m17.25-3.75h-7.5c-.621 0-1.125.504-1.125 1.125m8.625-1.125c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125M12 10.875v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 10.875c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125M13.125 12h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125M20.625 12c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5M12 14.625v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 14.625c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125m0 1.5v-1.5m0 0c0-.621.504-1.125 1.125-1.125m0 0h7.5"}))}const BA=x.forwardRef(rI);function nI({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const pa=x.forwardRef(nI);function aI({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 0 1-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 0 0-3.213-9.193 2.056 2.056 0 0 0-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 0 0-10.026 0 1.106 1.106 0 0 0-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"}))}const vn=x.forwardRef(aI);function iI({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const sI=x.forwardRef(iI);function oI({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Ws=x.forwardRef(oI);const lI=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),cI=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),h2=e=>{const t=cI(e);return t.charAt(0).toUpperCase()+t.slice(1)},qA=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),uI=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var dI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const fI=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:l,...u},d)=>x.createElement("svg",{ref:d,...dI,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:qA("lucide",a),...!s&&!uI(u)&&{"aria-hidden":"true"},...u},[...l.map(([f,h])=>x.createElement(f,h)),...Array.isArray(s)?s:[s]]));const wl=(e,t)=>{const r=x.forwardRef(({className:n,...a},s)=>x.createElement(fI,{ref:s,iconNode:t,className:qA(`lucide-${lI(h2(e))}`,`lucide-${e}`,n),...a}));return r.displayName=h2(e),r};const hI=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],mI=wl("boxes",hI);const pI=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],gI=wl("calendar-clock",pI);const vI=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],yI=wl("crown",vI);const bI=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Kf=wl("package",bI);const xI=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],wI=wl("truck",xI);const _I=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],SI=wl("upload",_I);var qa={},ff={},Ey=function(e,t){return Ey=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},Ey(e,t)};function HA(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ey(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var ih=function(){return ih=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},ih.apply(this,arguments)};function _l(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function FA(e,t,r,n){var a=arguments.length,s=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var u=e.length-1;u>=0;u--)(l=e[u])&&(s=(a<3?l(s):a>3?l(t,r,s):l(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s}function VA(e,t){return function(r,n){t(r,n,e)}}function KA(e,t,r,n,a,s){function l(j){if(j!==void 0&&typeof j!="function")throw new TypeError("Function expected");return j}for(var u=n.kind,d=u==="getter"?"get":u==="setter"?"set":"value",f=!t&&e?n.static?e:e.prototype:null,h=t||(f?Object.getOwnPropertyDescriptor(f,n.name):{}),g,v=!1,y=r.length-1;y>=0;y--){var S={};for(var k in n)S[k]=k==="access"?{}:n[k];for(var k in n.access)S.access[k]=n.access[k];S.addInitializer=function(j){if(v)throw new TypeError("Cannot add initializers after decoration has completed");s.push(l(j||null))};var _=(0,r[y])(u==="accessor"?{get:h.get,set:h.set}:h[d],S);if(u==="accessor"){if(_===void 0)continue;if(_===null||typeof _!="object")throw new TypeError("Object expected");(g=l(_.get))&&(h.get=g),(g=l(_.set))&&(h.set=g),(g=l(_.init))&&a.unshift(g)}else(g=l(_))&&(u==="field"?a.unshift(g):h[d]=g)}f&&Object.defineProperty(f,n.name,h),v=!0}function ZA(e,t,r){for(var n=arguments.length>2,a=0;a<t.length;a++)r=n?t[a].call(e,r):t[a].call(e);return n?r:void 0}function GA(e){return typeof e=="symbol"?e:"".concat(e)}function YA(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function WA(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Se(e,t,r,n){function a(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function u(h){try{f(n.next(h))}catch(g){l(g)}}function d(h){try{f(n.throw(h))}catch(g){l(g)}}function f(h){h.done?s(h.value):a(h.value).then(u,d)}f((n=n.apply(e,t||[])).next())})}function XA(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,a,s,l=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return l.next=u(0),l.throw=u(1),l.return=u(2),typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(f){return function(h){return d([f,h])}}function d(f){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,f[0]&&(r=0)),r;)try{if(n=1,a&&(s=f[0]&2?a.return:f[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,f[1])).done)return s;switch(a=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,a=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){r.label=f[1];break}if(f[0]===6&&r.label<s[1]){r.label=s[1],s=f;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(f);break}s[2]&&r.ops.pop(),r.trys.pop();continue}f=t.call(e,r)}catch(h){f=[6,h],a=0}finally{n=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var f0=Object.create?(function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]});function JA(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&f0(t,e,r)}function sh(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ix(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,s=[],l;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(u){l={error:u}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(l)throw l.error}}return s}function QA(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ix(arguments[t]));return e}function e5(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var s=arguments[t],l=0,u=s.length;l<u;l++,a++)n[a]=s[l];return n}function t5(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function ul(e){return this instanceof ul?(this.v=e,this):new ul(e)}function r5(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,s=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),a[Symbol.asyncIterator]=function(){return this},a;function l(y){return function(S){return Promise.resolve(S).then(y,g)}}function u(y,S){n[y]&&(a[y]=function(k){return new Promise(function(_,j){s.push([y,k,_,j])>1||d(y,k)})},S&&(a[y]=S(a[y])))}function d(y,S){try{f(n[y](S))}catch(k){v(s[0][3],k)}}function f(y){y.value instanceof ul?Promise.resolve(y.value.v).then(h,g):v(s[0][2],y)}function h(y){d("next",y)}function g(y){d("throw",y)}function v(y,S){y(S),s.shift(),s.length&&d(s[0][0],s[0][1])}}function n5(e){var t,r;return t={},n("next"),n("throw",function(a){throw a}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(a,s){t[a]=e[a]?function(l){return(r=!r)?{value:ul(e[a](l)),done:!1}:s?s(l):l}:s}}function a5(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof sh=="function"?sh(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(l){return new Promise(function(u,d){l=e[s](l),a(u,d,l.done,l.value)})}}function a(s,l,u,d){Promise.resolve(d).then(function(f){s({value:f,done:u})},l)}}function i5(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var kI=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},Oy=function(e){return Oy=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Oy(e)};function s5(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Oy(e),n=0;n<r.length;n++)r[n]!=="default"&&f0(t,e,r[n]);return kI(t,e),t}function o5(e){return e&&e.__esModule?e:{default:e}}function l5(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function c5(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r}function u5(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function d5(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(a=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var jI=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function f5(e){function t(s){e.error=e.hasError?new jI(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var r,n=0;function a(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(a);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(a,function(l){return t(l),a()})}else n|=1}catch(l){t(l)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return a()}function h5(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,a,s,l){return n?t?".jsx":".js":a&&(!s||!l)?r:a+s+"."+l.toLowerCase()+"js"}):e}const EI={__extends:HA,__assign:ih,__rest:_l,__decorate:FA,__param:VA,__esDecorate:KA,__runInitializers:ZA,__propKey:GA,__setFunctionName:YA,__metadata:WA,__awaiter:Se,__generator:XA,__createBinding:f0,__exportStar:JA,__values:sh,__read:ix,__spread:QA,__spreadArrays:e5,__spreadArray:t5,__await:ul,__asyncGenerator:r5,__asyncDelegator:n5,__asyncValues:a5,__makeTemplateObject:i5,__importStar:s5,__importDefault:o5,__classPrivateFieldGet:l5,__classPrivateFieldSet:c5,__classPrivateFieldIn:u5,__addDisposableResource:d5,__disposeResources:f5,__rewriteRelativeImportExtension:h5},OI=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:d5,get __assign(){return ih},__asyncDelegator:n5,__asyncGenerator:r5,__asyncValues:a5,__await:ul,__awaiter:Se,__classPrivateFieldGet:l5,__classPrivateFieldIn:u5,__classPrivateFieldSet:c5,__createBinding:f0,__decorate:FA,__disposeResources:f5,__esDecorate:KA,__exportStar:JA,__extends:HA,__generator:XA,__importDefault:o5,__importStar:s5,__makeTemplateObject:i5,__metadata:WA,__param:VA,__propKey:GA,__read:ix,__rest:_l,__rewriteRelativeImportExtension:h5,__runInitializers:ZA,__setFunctionName:YA,__spread:QA,__spreadArray:t5,__spreadArrays:e5,__values:sh,default:EI},Symbol.toStringTag,{value:"Module"})),NI=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);let h0=class extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}},m5=class extends h0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},Ny=class extends h0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},Ay=class extends h0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var oh;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(oh||(oh={}));class AI{constructor(t,{headers:r={},customFetch:n,region:a=oh.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=NI(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Se(this,arguments,void 0,function*(r,n={}){var a;let s,l;try{const{headers:u,method:d,body:f,signal:h,timeout:g}=n;let v={},{region:y}=n;y||(y=this.region);const S=new URL(`${this.url}/${r}`);y&&y!=="any"&&(v["x-region"]=y,S.searchParams.set("forceFunctionRegion",y));let k;f&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",k=f):typeof f=="string"?(v["Content-Type"]="text/plain",k=f):typeof FormData<"u"&&f instanceof FormData?k=f:(v["Content-Type"]="application/json",k=JSON.stringify(f)):k=f;let _=h;g&&(l=new AbortController,s=setTimeout(()=>l.abort(),g),h?(_=l.signal,h.addEventListener("abort",()=>l.abort())):_=l.signal);const j=yield this.fetch(S.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),u),body:k,signal:_}).catch(N=>{throw new m5(N)}),O=j.headers.get("x-relay-error");if(O&&O==="true")throw new Ny(j);if(!j.ok)throw new Ay(j);let E=((a=j.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),D;return E==="application/json"?D=yield j.json():E==="application/octet-stream"||E==="application/pdf"?D=yield j.blob():E==="text/event-stream"?D=j:E==="multipart/form-data"?D=yield j.formData():D=yield j.text(),{data:D,error:null,response:j}}catch(u){return{data:null,error:u,response:u instanceof Ay||u instanceof Ny?u.context:void 0}}finally{s&&clearTimeout(s)}})}}const TI=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return oh},FunctionsClient:AI,FunctionsError:h0,FunctionsFetchError:m5,FunctionsHttpError:Ay,FunctionsRelayError:Ny},Symbol.toStringTag,{value:"Module"})),p5=wu(TI);var kr={};const Sl=wu(OI);var hf={},mf={},pf={},gf={},vf={},yf={},m2;function g5(){if(m2)return yf;m2=1,Object.defineProperty(yf,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return yf.default=e,yf}var p2;function v5(){if(p2)return vf;p2=1,Object.defineProperty(vf,"__esModule",{value:!0});const t=Sl.__importDefault(g5());let r=class{constructor(a){var s,l;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(s=a.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=a.signal,this.isMaybeSingle=(l=a.isMaybeSingle)!==null&&l!==void 0?l:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,s){return this.headers=new Headers(this.headers),this.headers.set(a,s),this}then(a,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let u=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var f,h,g,v;let y=null,S=null,k=null,_=d.status,j=d.statusText;if(d.ok){if(this.method!=="HEAD"){const N=await d.text();N===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?S=N:S=JSON.parse(N))}const E=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),D=(g=d.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");E&&D&&D.length>1&&(k=parseInt(D[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(y={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,k=null,_=406,j="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const E=await d.text();try{y=JSON.parse(E),Array.isArray(y)&&d.status===404&&(S=[],y=null,_=200,j="OK")}catch{d.status===404&&E===""?(_=204,j="No Content"):y={message:E}}if(y&&this.isMaybeSingle&&(!((v=y?.details)===null||v===void 0)&&v.includes("0 rows"))&&(y=null,_=200,j="OK"),y&&this.shouldThrowOnError)throw new t.default(y)}return{error:y,data:S,count:k,status:_,statusText:j}});return this.shouldThrowOnError||(u=u.catch(d=>{var f,h,g,v,y,S;let k="";const _=d?.cause;if(_){const j=(f=_?.message)!==null&&f!==void 0?f:"",O=(h=_?.code)!==null&&h!==void 0?h:"";k=`${(g=d?.name)!==null&&g!==void 0?g:"FetchError"}: ${d?.message}`,k+=`

Caused by: ${(v=_?.name)!==null&&v!==void 0?v:"Error"}: ${j}`,O&&(k+=` (${O})`),_?.stack&&(k+=`
${_.stack}`)}else k=(y=d?.stack)!==null&&y!==void 0?y:"";return{error:{message:`${(S=d?.name)!==null&&S!==void 0?S:"FetchError"}: ${d?.message}`,details:k,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),u.then(a,s)}returns(){return this}overrideTypes(){return this}};return vf.default=r,vf}var g2;function y5(){if(g2)return gf;g2=1,Object.defineProperty(gf,"__esModule",{value:!0});const t=Sl.__importDefault(v5());let r=class extends t.default{select(a){let s=!1;const l=(a??"*").split("").map(u=>/\s/.test(u)&&!s?"":(u==='"'&&(s=!s),u)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:s=!0,nullsFirst:l,foreignTable:u,referencedTable:d=u}={}){const f=d?`${d}.order`:"order",h=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${h?`${h},`:""}${a}.${s?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:s,referencedTable:l=s}={}){const u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${a}`),this}range(a,s,{foreignTable:l,referencedTable:u=l}={}){const d=typeof u>"u"?"offset":`${u}.offset`,f=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${a}`),this.url.searchParams.set(f,`${s-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:s=!1,settings:l=!1,buffers:u=!1,wal:d=!1,format:f="text"}={}){var h;const g=[a?"analyze":null,s?"verbose":null,l?"settings":null,u?"buffers":null,d?"wal":null].filter(Boolean).join("|"),v=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${v}"; options=${g};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}};return gf.default=r,gf}var v2;function sx(){if(v2)return pf;v2=1,Object.defineProperty(pf,"__esModule",{value:!0});const t=Sl.__importDefault(y5()),r=new RegExp("[,()]");let n=class extends t.default{eq(s,l){return this.url.searchParams.append(s,`eq.${l}`),this}neq(s,l){return this.url.searchParams.append(s,`neq.${l}`),this}gt(s,l){return this.url.searchParams.append(s,`gt.${l}`),this}gte(s,l){return this.url.searchParams.append(s,`gte.${l}`),this}lt(s,l){return this.url.searchParams.append(s,`lt.${l}`),this}lte(s,l){return this.url.searchParams.append(s,`lte.${l}`),this}like(s,l){return this.url.searchParams.append(s,`like.${l}`),this}likeAllOf(s,l){return this.url.searchParams.append(s,`like(all).{${l.join(",")}}`),this}likeAnyOf(s,l){return this.url.searchParams.append(s,`like(any).{${l.join(",")}}`),this}ilike(s,l){return this.url.searchParams.append(s,`ilike.${l}`),this}ilikeAllOf(s,l){return this.url.searchParams.append(s,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(s,l){return this.url.searchParams.append(s,`ilike(any).{${l.join(",")}}`),this}regexMatch(s,l){return this.url.searchParams.append(s,`match.${l}`),this}regexIMatch(s,l){return this.url.searchParams.append(s,`imatch.${l}`),this}is(s,l){return this.url.searchParams.append(s,`is.${l}`),this}isDistinct(s,l){return this.url.searchParams.append(s,`isdistinct.${l}`),this}in(s,l){const u=Array.from(new Set(l)).map(d=>typeof d=="string"&&r.test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(s,`in.(${u})`),this}contains(s,l){return typeof l=="string"?this.url.searchParams.append(s,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(s,`cs.{${l.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(l)}`),this}containedBy(s,l){return typeof l=="string"?this.url.searchParams.append(s,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(s,`cd.{${l.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(l)}`),this}rangeGt(s,l){return this.url.searchParams.append(s,`sr.${l}`),this}rangeGte(s,l){return this.url.searchParams.append(s,`nxl.${l}`),this}rangeLt(s,l){return this.url.searchParams.append(s,`sl.${l}`),this}rangeLte(s,l){return this.url.searchParams.append(s,`nxr.${l}`),this}rangeAdjacent(s,l){return this.url.searchParams.append(s,`adj.${l}`),this}overlaps(s,l){return typeof l=="string"?this.url.searchParams.append(s,`ov.${l}`):this.url.searchParams.append(s,`ov.{${l.join(",")}}`),this}textSearch(s,l,{config:u,type:d}={}){let f="";d==="plain"?f="pl":d==="phrase"?f="ph":d==="websearch"&&(f="w");const h=u===void 0?"":`(${u})`;return this.url.searchParams.append(s,`${f}fts${h}.${l}`),this}match(s){return Object.entries(s).forEach(([l,u])=>{this.url.searchParams.append(l,`eq.${u}`)}),this}not(s,l,u){return this.url.searchParams.append(s,`not.${l}.${u}`),this}or(s,{foreignTable:l,referencedTable:u=l}={}){const d=u?`${u}.or`:"or";return this.url.searchParams.append(d,`(${s})`),this}filter(s,l,u){return this.url.searchParams.append(s,`${l}.${u}`),this}};return pf.default=n,pf}var y2;function b5(){if(y2)return mf;y2=1,Object.defineProperty(mf,"__esModule",{value:!0});const t=Sl.__importDefault(sx());let r=class{constructor(a,{headers:s={},schema:l,fetch:u}){this.url=a,this.headers=new Headers(s),this.schema=l,this.fetch=u}select(a,s){const{head:l=!1,count:u}=s??{},d=l?"HEAD":"GET";let f=!1;const h=(a??"*").split("").map(g=>/\s/.test(g)&&!f?"":(g==='"'&&(f=!f),g)).join("");return this.url.searchParams.set("select",h),u&&this.headers.append("Prefer",`count=${u}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:s,defaultToNull:l=!0}={}){var u;const d="POST";if(s&&this.headers.append("Prefer",`count=${s}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const f=a.reduce((h,g)=>h.concat(Object.keys(g)),[]);if(f.length>0){const h=[...new Set(f)].map(g=>`"${g}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(a,{onConflict:s,ignoreDuplicates:l=!1,count:u,defaultToNull:d=!0}={}){var f;const h="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),u&&this.headers.append("Prefer",`count=${u}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const g=a.reduce((v,y)=>v.concat(Object.keys(y)),[]);if(g.length>0){const v=[...new Set(g)].map(y=>`"${y}"`);this.url.searchParams.set("columns",v.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(a,{count:s}={}){var l;const u="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:a}={}){var s;const l="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};return mf.default=r,mf}var b2;function CI(){if(b2)return hf;b2=1,Object.defineProperty(hf,"__esModule",{value:!0});const e=Sl,t=e.__importDefault(b5()),r=e.__importDefault(sx());let n=class x5{constructor(s,{headers:l={},schema:u,fetch:d}={}){this.url=s,this.headers=new Headers(l),this.schemaName=u,this.fetch=d}from(s){if(!s||typeof s!="string"||s.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const l=new URL(`${this.url}/${s}`);return new t.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new x5(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,l={},{head:u=!1,get:d=!1,count:f}={}){var h;let g;const v=new URL(`${this.url}/rpc/${s}`);let y;u||d?(g=u?"HEAD":"GET",Object.entries(l).filter(([k,_])=>_!==void 0).map(([k,_])=>[k,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([k,_])=>{v.searchParams.append(k,_)})):(g="POST",y=l);const S=new Headers(this.headers);return f&&S.set("Prefer",`count=${f}`),new r.default({method:g,url:v,headers:S,schema:this.schemaName,body:y,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}};return hf.default=n,hf}var x2;function w5(){if(x2)return kr;x2=1,Object.defineProperty(kr,"__esModule",{value:!0}),kr.PostgrestError=kr.PostgrestBuilder=kr.PostgrestTransformBuilder=kr.PostgrestFilterBuilder=kr.PostgrestQueryBuilder=kr.PostgrestClient=void 0;const e=Sl,t=e.__importDefault(CI());kr.PostgrestClient=t.default;const r=e.__importDefault(b5());kr.PostgrestQueryBuilder=r.default;const n=e.__importDefault(sx());kr.PostgrestFilterBuilder=n.default;const a=e.__importDefault(y5());kr.PostgrestTransformBuilder=a.default;const s=e.__importDefault(v5());kr.PostgrestBuilder=s.default;const l=e.__importDefault(g5());return kr.PostgrestError=l.default,kr.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:s.default,PostgrestError:l.default},kr}class _5{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const PI="2.87.1",DI=`realtime-js/${PI}`,S5="1.0.0",RI="2.0.0",w2=S5,Ty=1e4,MI=1e3,$I=100;var As;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(As||(As={}));var Ht;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ht||(Ht={}));var Zn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Zn||(Zn={}));var Cy;(function(e){e.websocket="websocket"})(Cy||(Cy={}));var Ts;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ts||(Ts={}));class II{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},l=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(t,r,n){var a,s;const l=t.topic,u=(a=t.ref)!==null&&a!==void 0?a:"",d=(s=t.join_ref)!==null&&s!==void 0?s:"",f=t.payload.event,h=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},g=Object.keys(h).length===0?"":JSON.stringify(h);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`metadata length ${g.length} exceeds maximum of 255`);const v=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+u.length+l.length+f.length+g.length,y=new ArrayBuffer(this.HEADER_LENGTH+v);let S=new DataView(y),k=0;S.setUint8(k++,this.KINDS.userBroadcastPush),S.setUint8(k++,d.length),S.setUint8(k++,u.length),S.setUint8(k++,l.length),S.setUint8(k++,f.length),S.setUint8(k++,g.length),S.setUint8(k++,r),Array.from(d,j=>S.setUint8(k++,j.charCodeAt(0))),Array.from(u,j=>S.setUint8(k++,j.charCodeAt(0))),Array.from(l,j=>S.setUint8(k++,j.charCodeAt(0))),Array.from(f,j=>S.setUint8(k++,j.charCodeAt(0))),Array.from(g,j=>S.setUint8(k++,j.charCodeAt(0)));var _=new Uint8Array(y.byteLength+n.byteLength);return _.set(new Uint8Array(y),0),_.set(new Uint8Array(n),y.byteLength),_.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,s,l,u,d]=n;return r({join_ref:a,ref:s,topic:l,event:u,payload:d})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),s=r.getUint8(2),l=r.getUint8(3),u=r.getUint8(4);let d=this.HEADER_LENGTH+4;const f=n.decode(t.slice(d,d+a));d=d+a;const h=n.decode(t.slice(d,d+s));d=d+s;const g=n.decode(t.slice(d,d+l));d=d+l;const v=t.slice(d,t.byteLength),y=u===this.JSON_ENCODING?JSON.parse(n.decode(v)):v,S={type:this.BROADCAST_EVENT,event:h,payload:y};return l>0&&(S.meta=JSON.parse(g)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class k5{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ut;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ut||(ut={}));const _2=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((s,l)=>(s[l]=LI(l,e,t,a),s),{}):{}},LI=(e,t,r,n)=>{const a=t.find(u=>u.name===e),s=a?.type,l=r[e];return s&&!n.includes(s)?j5(s,l):Py(l)},j5=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return qI(t,r)}switch(e){case ut.bool:return zI(t);case ut.float4:case ut.float8:case ut.int2:case ut.int4:case ut.int8:case ut.numeric:case ut.oid:return UI(t);case ut.json:case ut.jsonb:return BI(t);case ut.timestamp:return HI(t);case ut.abstime:case ut.date:case ut.daterange:case ut.int4range:case ut.int8range:case ut.money:case ut.reltime:case ut.text:case ut.time:case ut.timestamptz:case ut.timetz:case ut.tsrange:case ut.tstzrange:return Py(t);default:return Py(t)}},Py=e=>e,zI=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},UI=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},BI=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},qI=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const l=e.slice(1,r);try{s=JSON.parse("["+l+"]")}catch{s=l?l.split(","):[]}return s.map(u=>j5(t,u))}return e},HI=e=>typeof e=="string"?e.replace(" ","T"):e,E5=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Rg{constructor(t,r,n={},a=Ty){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Dy;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Dy||(Dy={}));let O5=class Zf{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:s,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Zf.syncState(this.state,a,s,l),this.pendingDiffs.forEach(d=>{this.state=Zf.syncDiff(this.state,d,s,l)}),this.pendingDiffs=[],u()}),this.channel._on(n.diff,{},a=>{const{onJoin:s,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Zf.syncDiff(this.state,a,s,l),u())}),this.onJoin((a,s,l)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:s,newPresences:l})}),this.onLeave((a,s,l)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:s,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const s=this.cloneDeep(t),l=this.transformState(r),u={},d={};return this.map(s,(f,h)=>{l[f]||(d[f]=h)}),this.map(l,(f,h)=>{const g=s[f];if(g){const v=h.map(_=>_.presence_ref),y=g.map(_=>_.presence_ref),S=h.filter(_=>y.indexOf(_.presence_ref)<0),k=g.filter(_=>v.indexOf(_.presence_ref)<0);S.length>0&&(u[f]=S),k.length>0&&(d[f]=k)}else u[f]=h}),this.syncDiff(s,{joins:u,leaves:d},n,a)}static syncDiff(t,r,n,a){const{joins:s,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(s,(u,d)=>{var f;const h=(f=t[u])!==null&&f!==void 0?f:[];if(t[u]=this.cloneDeep(d),h.length>0){const g=t[u].map(y=>y.presence_ref),v=h.filter(y=>g.indexOf(y.presence_ref)<0);t[u].unshift(...v)}n(u,h,d)}),this.map(l,(u,d)=>{let f=t[u];if(!f)return;const h=d.map(g=>g.presence_ref);f=f.filter(g=>h.indexOf(g.presence_ref)<0),t[u]=f,a(u,f,d),f.length===0&&delete t[u]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Ry;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Ry||(Ry={}));var al;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(al||(al={}));var ca;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ca||(ca={}));const FI=Ht;let N5=class Lc{constructor(t,r={config:{}},n){var a,s;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Ht.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Rg(this,Zn.join,this.params,this.timeout),this.rejoinTimer=new k5(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ht.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ht.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Ht.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Zn.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new O5(this),this.broadcastEndpointURL=E5(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Ht.closed){const{config:{broadcast:l,presence:u,private:d}}=this.params,f=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(y=>y.filter))!==null&&a!==void 0?a:[],h=!!this.bindings[al.PRESENCE]&&this.bindings[al.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,g={},v={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:h}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(y=>t?.(ca.CHANNEL_ERROR,y)),this._onClose(()=>t?.(ca.CLOSED)),this.updateJoinPayload(Object.assign({config:v},g)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:y})=>{var S;if(this.socket._isManualToken()||this.socket.setAuth(),y===void 0){t?.(ca.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,_=(S=k?.length)!==null&&S!==void 0?S:0,j=[];for(let O=0;O<_;O++){const E=k[O],{filter:{event:D,schema:N,table:C,filter:P}}=E,T=y&&y[O];if(T&&T.event===D&&Lc.isFilterValueEqual(T.schema,N)&&Lc.isFilterValueEqual(T.table,C)&&Lc.isFilterValueEqual(T.filter,P))j.push(Object.assign(Object.assign({},E),{id:T.id}));else{this.unsubscribe(),this.state=Ht.errored,t?.(ca.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,t&&t(ca.SUBSCRIBED);return}}).receive("error",y=>{this.state=Ht.errored,t?.(ca.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{t?.(ca.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Ht.joined&&t===al.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const l={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(u.status===202)return{success:!0};let d=u.statusText;try{const f=await u.json();d=f.error||f.message||d}catch{}return Promise.reject(new Error(d))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:l}=t,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:l,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=f.body)===null||a===void 0?void 0:a.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var l,u,d;const f=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&s("ok"),f.receive("ok",()=>s("ok")),f.receive("error",()=>s("error")),f.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ht.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Zn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Rg(this,Zn.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ht.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,s=setTimeout(()=>a.abort(),n),l=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(s),l}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Rg(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>$I){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,s;const l=t.toLocaleLowerCase(),{close:u,error:d,leave:f,join:h}=Zn;if(n&&[u,d,f,h].indexOf(l)>=0&&n!==this._joinRef())return;let v=this._onMessage(l,r,n);if(r&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(y=>{var S,k,_;return((S=y.filter)===null||S===void 0?void 0:S.event)==="*"||((_=(k=y.filter)===null||k===void 0?void 0:k.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===l}).map(y=>y.callback(v,n)):(s=this.bindings[l])===null||s===void 0||s.filter(y=>{var S,k,_,j,O,E;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in y){const D=y.id,N=(S=y.filter)===null||S===void 0?void 0:S.event;return D&&((k=r.ids)===null||k===void 0?void 0:k.includes(D))&&(N==="*"||N?.toLocaleLowerCase()===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const D=(O=(j=y?.filter)===null||j===void 0?void 0:j.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return D==="*"||D===((E=r?.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===l}).map(y=>{if(typeof v=="object"&&"ids"in v){const S=v.data,{schema:k,table:_,commit_timestamp:j,type:O,errors:E}=S;v=Object.assign(Object.assign({},{schema:k,table:_,commit_timestamp:j,eventType:O,new:{},old:{},errors:E}),this._getPayloadRecords(S))}y.callback(v,n)})}_isClosed(){return this.state===Ht.closed}_isJoined(){return this.state===Ht.joined}_isJoining(){return this.state===Ht.joining}_isLeaving(){return this.state===Ht.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),s={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(s):this.bindings[a]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var s;return!(((s=a.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&Lc.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Zn.close,{},t)}_onError(t){this._on(Zn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ht.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=_2(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=_2(t.columns,t.old_record)),r}};const Mg=()=>{},bf={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},VI=[1e3,2e3,5e3,1e4],KI=1e4,ZI=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let GI=class{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ty,this.transport=null,this.heartbeatIntervalMs=bf.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Mg,this.ref=0,this.reconnectTimer=null,this.vsn=w2,this.logger=Mg,this.conn=null,this.sendBuffer=[],this.serializer=new II,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...s)=>a(...s):(...s)=>fetch(...s),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Cy.websocket}`,this.httpEndpoint=E5(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=_5.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case As.connecting:return Ts.Connecting;case As.open:return Ts.Open;case As.closing:return Ts.Closing;default:return Ts.Closed}}isConnected(){return this.connectionState()===Ts.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(s=>s.topic===n);if(a)return a;{const s=new N5(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:a,ref:s}=t,l=()=>{this.encode(t,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${r} ${n} (${s})`,a),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(MI,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},bf.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:s,ref:l}=r,u=l?`(${l})`:"",d=s.status||"";this.log("receive",`${d} ${n} ${a} ${u}`.trim(),s),this.channels.filter(f=>f._isMember(n)).forEach(f=>f._trigger(a,s,l)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===As.open||this.conn.readyState===As.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Zn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([ZI],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const s={access_token:r,version:DI};r&&a.updateJoinPayload(s),a.joinedOnce&&a._isJoined()&&a._push(Zn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new k5(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},bf.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,s,l,u,d,f,h,g,v,y;switch(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t?.timeout)!==null&&n!==void 0?n:Ty,this.heartbeatIntervalMs=(a=t?.heartbeatIntervalMs)!==null&&a!==void 0?a:bf.HEARTBEAT_INTERVAL,this.worker=(s=t?.worker)!==null&&s!==void 0?s:!1,this.accessToken=(l=t?.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=t?.heartbeatCallback)!==null&&u!==void 0?u:Mg,this.vsn=(d=t?.vsn)!==null&&d!==void 0?d:w2,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=t?.reconnectAfterMs)!==null&&f!==void 0?f:(S=>VI[S-1]||KI),this.vsn){case S5:this.encode=(h=t?.encode)!==null&&h!==void 0?h:((S,k)=>k(JSON.stringify(S))),this.decode=(g=t?.decode)!==null&&g!==void 0?g:((S,k)=>k(JSON.parse(S)));break;case RI:this.encode=(v=t?.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(y=t?.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};const YI=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:FI,get REALTIME_LISTEN_TYPES(){return al},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return Ry},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Dy},get REALTIME_SUBSCRIBE_STATES(){return ca},RealtimeChannel:N5,RealtimeClient:GI,RealtimePresence:O5,WebSocketFactory:_5},Symbol.toStringTag,{value:"Module"})),A5=wu(YI);class _u extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function wt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class T5 extends _u{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class lh extends _u{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const ox=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),WI=()=>Response,My=e=>{if(Array.isArray(e))return e.map(r=>My(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[a]=My(n)}),t},XI=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},JI=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),$g=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},QI=(e,t,r)=>Se(void 0,void 0,void 0,function*(){const n=yield WI();e instanceof n&&!r?.noResolveJson?e.json().then(a=>{const s=e.status||500,l=a?.statusCode||s+"";t(new T5($g(a),s,l))}).catch(a=>{t(new lh($g(a),a))}):t(new lh($g(e),e))}),eL=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"||!n?a:(XI(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(n)):a.body=n,t?.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function Su(e,t,r,n,a,s){return Se(this,void 0,void 0,function*(){return new Promise((l,u)=>{e(r,eL(t,n,a,s)).then(d=>{if(!d.ok)throw d;return n?.noResolveJson?d:d.json()}).then(d=>l(d)).catch(d=>QI(d,u,n))})})}function Qc(e,t,r,n){return Se(this,void 0,void 0,function*(){return Su(e,"GET",t,r,n)})}function Kn(e,t,r,n,a){return Se(this,void 0,void 0,function*(){return Su(e,"POST",t,n,a,r)})}function $y(e,t,r,n,a){return Se(this,void 0,void 0,function*(){return Su(e,"PUT",t,n,a,r)})}function tL(e,t,r,n){return Se(this,void 0,void 0,function*(){return Su(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function lx(e,t,r,n,a){return Se(this,void 0,void 0,function*(){return Su(e,"DELETE",t,n,a,r)})}class rL{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return Se(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(wt(t))return{data:null,error:t};throw t}})}}var C5;class nL{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[C5]="BlobDownloadBuilder",this.promise=null}asStream(){return new rL(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Se(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(wt(t))return{data:null,error:t};throw t}})}}C5=Symbol.toStringTag;const aL={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},S2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class iL{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=ox(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return Se(this,void 0,void 0,function*(){try{let s;const l=Object.assign(Object.assign({},S2),a);let u=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",l.cacheControl),d&&s.append("metadata",this.encodeMetadata(d)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.has("cacheControl")||s.append("cacheControl",l.cacheControl),d&&!s.has("metadata")&&s.append("metadata",this.encodeMetadata(d))):(s=n,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,d&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(d))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!l.duplex&&(l.duplex="half")),a?.headers&&(u=Object.assign(Object.assign({},u),a.headers));const f=this._removeEmptyFolders(r),h=this._getFinalPath(f),g=yield(t=="PUT"?$y:Kn)(this.fetch,`${this.url}/object/${h}`,s,Object.assign({headers:u},l?.duplex?{duplex:l.duplex}:{}));return{data:{path:f,id:g.Id,fullPath:g.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(wt(s))return{data:null,error:s};throw s}})}upload(t,r,n){return Se(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return Se(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),l=this._getFinalPath(s),u=new URL(this.url+`/object/upload/sign/${l}`);u.searchParams.set("token",r);try{let d;const f=Object.assign({upsert:S2.upsert},a),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.append("cacheControl",f.cacheControl)):(d=n,h["cache-control"]=`max-age=${f.cacheControl}`,h["content-type"]=f.contentType);const g=yield $y(this.fetch,u.toString(),d,{headers:h});return{data:{path:s,fullPath:g.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(wt(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(t,r){return Se(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r?.upsert&&(a["x-upsert"]="true");const s=yield Kn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),l=new URL(this.url+s.url),u=l.searchParams.get("token");if(!u)throw new _u("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:u},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}})}update(t,r,n){return Se(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Se(this,void 0,void 0,function*(){try{return{data:yield Kn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(wt(a))return{data:null,error:a};throw a}})}copy(t,r,n){return Se(this,void 0,void 0,function*(){try{return{data:{path:(yield Kn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(wt(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return Se(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),s=yield Kn(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const l=n?.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${l}`)},{data:s,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(wt(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return Se(this,void 0,void 0,function*(){try{const a=yield Kn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${s}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(wt(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof r?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(r?.transform||{}),l=s?`?${s}`:"",u=this._getFinalPath(t),d=()=>Qc(this.fetch,`${this.url}/${a}/${u}${l}`,{headers:this.headers,noResolveJson:!0});return new nL(d,this.shouldThrowOnError)}info(t){return Se(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Qc(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:My(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}})}exists(t){return Se(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield tL(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wt(n)&&n instanceof lh){const a=n.originalError;if([400,404].includes(a?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],s=r?.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&a.push(s);const u=typeof r?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(r?.transform||{});d!==""&&a.push(d);let f=a.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${n}${f}`)}}}remove(t){return Se(this,void 0,void 0,function*(){try{return{data:yield lx(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wt(r))return{data:null,error:r};throw r}})}list(t,r,n){return Se(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},aL),r),{prefix:t||""});return{data:yield Kn(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(wt(a))return{data:null,error:a};throw a}})}listV2(t,r){return Se(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Kn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const P5="2.87.1",D5={"X-Client-Info":`storage-js/${P5}`};class sL{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const s=new URL(t);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},D5),r),this.fetch=ox(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Se(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Qc(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wt(r))return{data:null,error:r};throw r}})}getBucket(t){return Se(this,void 0,void 0,function*(){try{return{data:yield Qc(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wt(r))return{data:null,error:r};throw r}})}createBucket(t){return Se(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Kn(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(wt(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return Se(this,void 0,void 0,function*(){try{return{data:yield $y(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Se(this,void 0,void 0,function*(){try{return{data:yield Kn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Se(this,void 0,void 0,function*(){try{return{data:yield lx(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wt(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var eu=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function oL(e,t,r){const n=new URL(t,e);if(r)for(const[a,s]of Object.entries(r))s!==void 0&&n.searchParams.set(a,s);return n.toString()}async function lL(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function cL(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:s,headers:l}){const u=oL(e.baseUrl,n,a),d=await lL(e.auth),f=await t(u,{method:r,headers:{...s?{"Content-Type":"application/json"}:{},...d,...l},body:s?JSON.stringify(s):void 0}),h=await f.text(),g=(f.headers.get("content-type")||"").includes("application/json"),v=g&&h?JSON.parse(h):h;if(!f.ok){const y=g?v:void 0,S=y?.error;throw new eu(S?.message??`Request failed with status ${f.status}`,{status:f.status,icebergType:S?.type,icebergCode:S?.code,details:y})}return{status:f.status,headers:f.headers,data:v}}}}function xf(e){return e.join("")}var uL=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:xf(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${xf(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${xf(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${xf(e.namespace)}`}),!0}catch(t){if(t instanceof eu&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof eu&&r.status===409)return;throw r}}};function Fo(e){return e.join("")}var dL=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Fo(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Fo(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Fo(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Fo(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Fo(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Fo(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof eu&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof eu&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},fL=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=cL({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new uL(this.client,t),this.tableOps=new dL(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class R5{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},D5),r),this.fetch=ox(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Se(this,void 0,void 0,function*(){try{return{data:yield Kn(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wt(r))return{data:null,error:r};throw r}})}listBuckets(t){return Se(this,void 0,void 0,function*(){try{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const n=r.toString(),a=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Qc(this.fetch,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Se(this,void 0,void 0,function*(){try{return{data:yield lx(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wt(r))return{data:null,error:r};throw r}})}from(t){if(!JI(t))throw new _u("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new fL({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>Se(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,l){const u=s[l];return typeof u!="function"?u:(...d)=>Se(this,void 0,void 0,function*(){try{return{data:yield u.apply(s,d),error:null}}catch(f){if(n)throw f;return{data:null,error:f}}})}})}}const cx={"X-Client-Info":`storage-js/${P5}`,"Content-Type":"application/json"};class ux extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Yr(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Gf extends ux{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class M5 extends ux{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var Iy;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Iy||(Iy={}));const m0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),hL=()=>Response,$5=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},mL=e=>Array.from(new Float32Array(e)),pL=(e,t)=>{if(t!==void 0&&e.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`)},k2=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),gL=(e,t,r)=>Se(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!r?.noResolveJson){const a=e.status||500,s=e;if(typeof s.json=="function")s.json().then(l=>{const u=l?.statusCode||l?.code||a+"";t(new Gf(k2(l),a,u))}).catch(()=>{const l=a+"",u=s.statusText||`HTTP ${a} error`;t(new Gf(u,a,l))});else{const l=a+"",u=s.statusText||`HTTP ${a} error`;t(new Gf(u,a,l))}}else t(new M5(k2(e),e))}),vL=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return n?($5(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r)):a};function yL(e,t,r,n,a,s){return Se(this,void 0,void 0,function*(){return new Promise((l,u)=>{e(r,vL(t,n,a,s)).then(d=>{if(!d.ok)throw d;if(n?.noResolveJson)return d;const f=d.headers.get("content-type");return!f||!f.includes("application/json")?{}:d.json()}).then(d=>l(d)).catch(d=>gL(d,u,n))})})}function hn(e,t,r,n,a){return Se(this,void 0,void 0,function*(){return yL(e,"POST",t,n,a,r)})}class I5{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},cx),r),this.fetch=m0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Se(this,void 0,void 0,function*(){try{return{data:(yield hn(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yr(r))return{data:null,error:r};throw r}})}getIndex(t,r){return Se(this,void 0,void 0,function*(){try{return{data:yield hn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Yr(n))return{data:null,error:n};throw n}})}listIndexes(t){return Se(this,void 0,void 0,function*(){try{return{data:yield hn(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yr(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return Se(this,void 0,void 0,function*(){try{return{data:(yield hn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Yr(n))return{data:null,error:n};throw n}})}}class L5{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},cx),r),this.fetch=m0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Se(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield hn(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yr(r))return{data:null,error:r};throw r}})}getVectors(t){return Se(this,void 0,void 0,function*(){try{return{data:yield hn(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yr(r))return{data:null,error:r};throw r}})}listVectors(t){return Se(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield hn(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yr(r))return{data:null,error:r};throw r}})}queryVectors(t){return Se(this,void 0,void 0,function*(){try{return{data:yield hn(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yr(r))return{data:null,error:r};throw r}})}deleteVectors(t){return Se(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield hn(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yr(r))return{data:null,error:r};throw r}})}}class z5{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},cx),r),this.fetch=m0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Se(this,void 0,void 0,function*(){try{return{data:(yield hn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yr(r))return{data:null,error:r};throw r}})}getBucket(t){return Se(this,void 0,void 0,function*(){try{return{data:yield hn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yr(r))return{data:null,error:r};throw r}})}listBuckets(){return Se(this,arguments,void 0,function*(t={}){try{return{data:yield hn(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Se(this,void 0,void 0,function*(){try{return{data:(yield hn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yr(r))return{data:null,error:r};throw r}})}}class U5 extends z5{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new B5(this.url,this.headers,t,this.fetch)}createBucket(t){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return Se(this,void 0,void 0,function*(){return r.createBucket.call(this,t)})}getBucket(t){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return Se(this,void 0,void 0,function*(){return r.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return Se(this,arguments,void 0,function*(r={}){return t.listBuckets.call(this,r)})}deleteBucket(t){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return Se(this,void 0,void 0,function*(){return r.deleteBucket.call(this,t)})}}class B5 extends I5{constructor(t,r,n,a){super(t,r,a),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Se(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Se(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Se(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Se(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new q5(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class q5 extends L5{constructor(t,r,n,a,s){super(t,r,s),this.vectorBucketName=n,this.indexName=a}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Se(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Se(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Se(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Se(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Se(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class bL extends sL{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new iL(this.url,this.headers,t,this.fetch)}get vectors(){return new U5(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new R5(this.url+"/iceberg",this.headers,this.fetch)}}const xL=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:R5,StorageApiError:T5,StorageClient:bL,StorageError:_u,StorageUnknownError:lh,StorageVectorsApiError:Gf,StorageVectorsClient:U5,StorageVectorsError:ux,get StorageVectorsErrorCode(){return Iy},StorageVectorsUnknownError:M5,VectorBucketApi:z5,VectorBucketScope:B5,VectorDataApi:L5,VectorIndexApi:I5,VectorIndexScope:q5,isPlainObject:$5,isStorageError:wt,isStorageVectorsError:Yr,normalizeToFloat32:mL,resolveFetch:m0,resolveResponse:hL,validateVectorDimension:pL},Symbol.toStringTag,{value:"Module"})),wL=wu(xL);var Ig={},Nc={},j2;function _L(){return j2||(j2=1,Object.defineProperty(Nc,"__esModule",{value:!0}),Nc.version=void 0,Nc.version="2.87.1"),Nc}var E2;function SL(){return E2||(E2=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_REALTIME_OPTIONS=e.DEFAULT_AUTH_OPTIONS=e.DEFAULT_DB_OPTIONS=e.DEFAULT_GLOBAL_OPTIONS=e.DEFAULT_HEADERS=void 0;const t=_L();let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",e.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${t.version}`},e.DEFAULT_GLOBAL_OPTIONS={headers:e.DEFAULT_HEADERS},e.DEFAULT_DB_OPTIONS={schema:"public"},e.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e.DEFAULT_REALTIME_OPTIONS={}})(Ig)),Ig}var Lg={},O2;function kL(){return O2||(O2=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWithAuth=e.resolveHeadersConstructor=e.resolveFetch=void 0;const t=a=>a?(...s)=>a(...s):(...s)=>fetch(...s);e.resolveFetch=t;const r=()=>Headers;e.resolveHeadersConstructor=r;const n=(a,s,l)=>{const u=(0,e.resolveFetch)(l),d=(0,e.resolveHeadersConstructor)();return async(f,h)=>{var g;const v=(g=await s())!==null&&g!==void 0?g:a;let y=new d(h?.headers);return y.has("apikey")||y.set("apikey",a),y.has("Authorization")||y.set("Authorization",`Bearer ${v}`),u(f,Object.assign(Object.assign({},h),{headers:y}))}};e.fetchWithAuth=n})(Lg)),Lg}var Ha={},N2;function jL(){if(N2)return Ha;N2=1,Object.defineProperty(Ha,"__esModule",{value:!0}),Ha.isBrowser=void 0,Ha.uuid=e,Ha.ensureTrailingSlash=t,Ha.applySettingDefaults=n,Ha.validateSupabaseUrl=a;function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){var l=Math.random()*16|0,u=s=="x"?l:l&3|8;return u.toString(16)})}function t(s){return s.endsWith("/")?s:s+"/"}const r=()=>typeof window<"u";Ha.isBrowser=r;function n(s,l){var u,d;const{db:f,auth:h,realtime:g,global:v}=s,{db:y,auth:S,realtime:k,global:_}=l,j={db:Object.assign(Object.assign({},y),f),auth:Object.assign(Object.assign({},S),h),realtime:Object.assign(Object.assign({},k),g),storage:{},global:Object.assign(Object.assign(Object.assign({},_),v),{headers:Object.assign(Object.assign({},(u=_?.headers)!==null&&u!==void 0?u:{}),(d=v?.headers)!==null&&d!==void 0?d:{})}),accessToken:async()=>""};return s.accessToken?j.accessToken=s.accessToken:delete j.accessToken,j}function a(s){const l=s?.trim();if(!l)throw new Error("supabaseUrl is required.");if(!l.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t(l))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return Ha}var Ac={};const H5="2.87.1",Xo=30*1e3,Ly=3,zg=Ly*Xo,EL="http://localhost:9999",OL="supabase.auth.token",NL={"X-Client-Info":`gotrue-js/${H5}`},zy="X-Supabase-Api-Version",F5={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},AL=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,TL=600*1e3;let dl=class extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}};function Oe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}let V5=class extends dl{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}};function K5(e){return Oe(e)&&e.name==="AuthApiError"}let Bi=class extends dl{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}},oi=class extends dl{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}},Zr=class extends oi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function Z5(e){return Oe(e)&&e.name==="AuthSessionMissingError"}let Ss=class extends oi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},zc=class extends oi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},Uc=class extends oi{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function G5(e){return Oe(e)&&e.name==="AuthImplicitGrantRedirectError"}let Uy=class extends oi{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},ch=class extends oi{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}};function Yf(e){return Oe(e)&&e.name==="AuthRetryableFetchError"}let By=class extends oi{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}};function CL(e){return Oe(e)&&e.name==="AuthWeakPasswordError"}let uh=class extends oi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const dh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),A2=` 	
\r=`.split(""),PL=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<A2.length;t+=1)e[A2[t].charCodeAt(0)]=-2;for(let t=0;t<dh.length;t+=1)e[dh[t].charCodeAt(0)]=t;return e})();function T2(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(dh[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(dh[n]),t.queuedBits-=6}}function Y5(e,t,r){const n=PL[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function C2(e){const t=[],r=l=>{t.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=l=>{ML(l,n,r)};for(let l=0;l<e.length;l+=1)Y5(e.charCodeAt(l),a,s);return t.join("")}function DL(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function RL(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}DL(n,t)}}function ML(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function il(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)Y5(e.charCodeAt(a),r,n);return new Uint8Array(t)}function $L(e){const t=[];return RL(e,r=>t.push(r)),new Uint8Array(t)}function Ps(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>T2(a,r,n)),T2(null,r,n),t.join("")}function IL(e){return Math.round(Date.now()/1e3)+e}function LL(){return Symbol("auth-callback")}const pr=()=>typeof window<"u"&&typeof document<"u",ws={tested:!1,writable:!1},W5=()=>{if(!pr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ws.tested)return ws.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ws.tested=!0,ws.writable=!0}catch{ws.tested=!0,ws.writable=!1}return ws.writable};function zL(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,s)=>{t[s]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const X5=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),UL=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Jo=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},_s=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},hr=async(e,t)=>{await e.removeItem(t)};class p0{constructor(){this.promise=new p0.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}p0.promiseConstructor=Promise;function Ug(e){const t=e.split(".");if(t.length!==3)throw new uh("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!AL.test(t[n]))throw new uh("JWT not in base64url format");return{header:JSON.parse(C2(t[0])),payload:JSON.parse(C2(t[1])),signature:il(t[2]),raw:{header:t[0],payload:t[1]}}}async function BL(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function qL(e,t){return new Promise((n,a)=>{(async()=>{for(let s=0;s<1/0;s++)try{const l=await e(s);if(!t(s,null,l)){n(l);return}}catch(l){if(!t(s,l)){a(l);return}}})()})}function HL(e){return("0"+e.toString(16)).substr(-2)}function FL(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let s=0;s<56;s++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,HL).join("")}async function VL(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(s=>String.fromCharCode(s)).join("")}async function KL(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await VL(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Vo(e,t,r=!1){const n=FL();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Jo(e,`${t}-code-verifier`,a);const s=await KL(n);return[s,n===s?"plain":"s256"]}const ZL=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function GL(e){const t=e.headers.get(zy);if(!t||!t.match(ZL))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function YL(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function WL(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const XL=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ko(e){if(!XL.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Bg(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function JL(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function P2(e){return JSON.parse(JSON.stringify(e))}const ks=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),QL=[502,503,504];async function D2(e){var t;if(!UL(e))throw new ch(ks(e),0);if(QL.includes(e.status))throw new ch(ks(e),e.status);let r;try{r=await e.json()}catch(s){throw new Bi(ks(s),s)}let n;const a=GL(e);if(a&&a.getTime()>=F5["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new By(ks(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Zr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,l)=>s&&typeof l=="string",!0))throw new By(ks(r),e.status,r.weak_password.reasons);throw new V5(ks(r),e.status||500,n)}const e8=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Re(e,t,r,n){var a;const s=Object.assign({},n?.headers);s[zy]||(s[zy]=F5["2024-01-01"].name),n?.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const l=(a=n?.query)!==null&&a!==void 0?a:{};n?.redirectTo&&(l.redirect_to=n.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await t8(e,t,r+u,{headers:s,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(d):{data:Object.assign({},d),error:null}}async function t8(e,t,r,n,a,s){const l=e8(t,n,a,s);let u;try{u=await e(r,Object.assign({},l))}catch(d){throw console.error(d),new ch(ks(d),0)}if(u.ok||await D2(u),n?.noResolveJson)return u;try{return await u.json()}catch(d){await D2(d)}}function Vn(e){var t;let r=null;a8(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=IL(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function R2(e){const t=Vn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function qi(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function r8(e){return{data:e,error:null}}function n8(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s}=e,l=_l(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s},d=Object.assign({},l);return{data:{properties:u,user:d},error:null}}function M2(e){return e}function a8(e){return e.access_token&&e.refresh_token&&e.expires_in}const Wf=["global","local","others"];let dx=class{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=X5(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Wf[0]){if(Wf.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Wf.join(", ")}`);try{return await Re(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Oe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Re(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:qi})}catch(n){if(Oe(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=_l(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n?.newEmail,delete a.newEmail),await Re(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:n8,redirectTo:r?.redirectTo})}catch(r){if(Oe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Re(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:qi})}catch(r){if(Oe(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,s,l,u,d;try{const f={nextPage:null,lastPage:0,total:0},h=await Re(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:M2});if(h.error)throw h.error;const g=await h.json(),v=(l=h.headers.get("x-total-count"))!==null&&l!==void 0?l:0,y=(d=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return y.length>0&&(y.forEach(S=>{const k=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(S.split(";")[1].split("=")[1]);f[`${_}Page`]=k}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},g),f),error:null}}catch(f){if(Oe(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){Ko(t);try{return await Re(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:qi})}catch(r){if(Oe(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Ko(t);try{return await Re(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:qi})}catch(n){if(Oe(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Ko(t);try{return await Re(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:qi})}catch(n){if(Oe(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Ko(t.userId);try{const{data:r,error:n}=await Re(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Oe(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Ko(t.userId),Ko(t.id);try{return{data:await Re(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Oe(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,s,l,u,d;try{const f={nextPage:null,lastPage:0,total:0},h=await Re(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:M2});if(h.error)throw h.error;const g=await h.json(),v=(l=h.headers.get("x-total-count"))!==null&&l!==void 0?l:0,y=(d=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return y.length>0&&(y.forEach(S=>{const k=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(S.split(";")[1].split("=")[1]);f[`${_}Page`]=k}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},g),f),error:null}}catch(f){if(Oe(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(t){try{return await Re(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Oe(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Re(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Oe(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Re(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Oe(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Re(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Oe(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Re(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Oe(r))return{data:null,error:r};throw r}}};function $2(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const js={debug:!!(globalThis&&W5()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class fx extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let J5=class extends fx{};class i8 extends fx{}async function Q5(e,t,r){js.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),js.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){js.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{js.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw js.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new J5(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(js.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const I2={};async function s8(e,t,r){var n;const a=(n=I2[e])!==null&&n!==void 0?n:Promise.resolve(),s=Promise.race([a.catch(()=>null),t>=0?new Promise((l,u)=>{setTimeout(()=>{u(new i8(`Acquring process lock with name "${e}" timed out`))},t)}):null].filter(l=>l)).catch(l=>{if(l&&l.isAcquireTimeout)throw l;return null}).then(async()=>await r());return I2[e]=s.catch(async l=>{if(l&&l.isAcquireTimeout)return await a,null;throw l}),await s}function o8(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function eT(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function l8(e){return parseInt(e,16)}function c8(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function u8(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:s=new Date,nonce:l,notBefore:u,requestId:d,resources:f,scheme:h,uri:g,version:v}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const y=eT(e.address),S=h?`${h}://${n}`:n,k=e.statement?`${e.statement}
`:"",_=`${S} wants you to sign in with your Ethereum account:
${y}

${k}`;let j=`URI: ${g}
Version: ${v}
Chain ID: ${r}${l?`
Nonce: ${l}`:""}
Issued At: ${s.toISOString()}`;if(a&&(j+=`
Expiration Time: ${a.toISOString()}`),u&&(j+=`
Not Before: ${u.toISOString()}`),d&&(j+=`
Request ID: ${d}`),f){let O=`
Resources:`;for(const E of f){if(!E||typeof E!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${E}`);O+=`
- ${E}`}j+=O}return`${_}
${j}`}class Ft extends Error{constructor({message:t,code:r,cause:n,name:a}){var s;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=a??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class fh extends Ft{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function d8({error:e,options:t}){var r,n,a;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ft({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ft({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ft({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=s.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Ft({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ft({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ft({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new Ft({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ft({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(tT(l)){if(s.rp.id!==l)return new Ft({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ft({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Ft({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ft({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ft({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function f8({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ft({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ft({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(tT(n)){if(r.rpId!==n)return new Ft({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ft({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ft({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ft({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class h8{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const m8=new h8;function p8(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=_l(e,["challenge","user","excludeCredentials"]),s=il(t).buffer,l=Object.assign(Object.assign({},r),{id:il(r.id).buffer}),u=Object.assign(Object.assign({},a),{challenge:s,user:l});if(n&&n.length>0){u.excludeCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const f=n[d];u.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:il(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function g8(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=_l(e,["challenge","allowCredentials"]),a=il(t).buffer,s=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];s.allowCredentials[l]=Object.assign(Object.assign({},u),{id:il(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function v8(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ps(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ps(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function y8(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ps(new Uint8Array(a.authenticatorData)),clientDataJSON:Ps(new Uint8Array(a.clientDataJSON)),signature:Ps(new Uint8Array(a.signature)),userHandle:a.userHandle?Ps(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function tT(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function L2(){var e,t;return!!(pr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function b8(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new fh("Browser returned unexpected credential type",t)}:{data:null,error:new fh("Empty credential response",t)}}catch(t){return{data:null,error:d8({error:t,options:e})}}}async function x8(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new fh("Browser returned unexpected credential type",t)}:{data:null,error:new fh("Empty credential response",t)}}catch(t){return{data:null,error:f8({error:t,options:e})}}}const w8={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},_8={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function hh(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const s in a){const l=a[s];if(l!==void 0)if(Array.isArray(l))n[s]=l;else if(r(l))n[s]=l;else if(t(l)){const u=n[s];t(u)?n[s]=hh(u,l):n[s]=hh(l)}else n[s]=l}return n}function S8(e,t){return hh(w8,e,t||{})}function k8(e,t){return hh(_8,e,t||{})}class j8{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},s){try{const{data:l,error:u}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!l)return{data:null,error:u};const d=a??m8.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:f}=l.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${n}`),f.displayName||(f.displayName=f.name)}switch(l.webauthn.type){case"create":{const f=S8(l.webauthn.credential_options.publicKey,s?.create),{data:h,error:g}=await b8({publicKey:f,signal:d});return h?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:g}}case"request":{const f=k8(l.webauthn.credential_options.publicKey,s?.request),{data:h,error:g}=await x8(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:f,signal:d}));return h?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:g}}}}catch(l){return Oe(l)?{data:null,error:l}:{data:null,error:new Bi("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},s){if(!r)return{data:null,error:new dl("rpId is required for WebAuthn authentication")};try{if(!L2())return{data:null,error:new Bi("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:s});if(!l)return{data:null,error:u};const{webauthn:d}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:d.type,rpId:r,rpOrigins:n,credential_response:d.credential_response}})}catch(l){return Oe(l)?{data:null,error:l}:{data:null,error:new Bi("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},s){if(!r)return{data:null,error:new dl("rpId is required for WebAuthn registration")};try{if(!L2())return{data:null,error:new Bi("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(h=>{var g;return(g=h.data)===null||g===void 0?void 0:g.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===t&&v.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h?.id}):void 0),{data:null,error:u};const{data:d,error:f}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:s});return d?this._verify({factorId:l.id,challengeId:d.challengeId,webauthn:{rpId:r,rpOrigins:n,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(l){return Oe(l)?{data:null,error:l}:{data:null,error:new Bi("Unexpected error in register",l)}}}}o8();const E8={url:EL,storageKey:OL,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:NL,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function z2(e,t,r){return await r()}const Zo={};let hx=class qy{get jwks(){var t,r;return(r=(t=Zo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Zo[this.storageKey]=Object.assign(Object.assign({},Zo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Zo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Zo[this.storageKey]=Object.assign(Object.assign({},Zo[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},E8),t);if(this.storageKey=s.storageKey,this.instanceID=(r=qy.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,qy.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&pr()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new dx({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=X5(s.fetch),this.lock=s.lock||z2,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:this.persistSession&&pr()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=Q5:this.lock=z2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new j8(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:W5()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=$2(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=$2(this.memoryStorage)),pr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${H5}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(pr()&&(r=zL(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),pr()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),G5(s)){const d=(t=s.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:l,redirectType:u}=a;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Oe(r)?this._returnResult({error:r}):this._returnResult({error:new Bi("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const s=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t?.options)===null||a===void 0?void 0:a.captchaToken}},xform:Vn}),{data:l,error:u}=s;if(u||!l)return this._returnResult({data:{user:null,session:null},error:u});const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(s){if(Oe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(t){var r,n,a;try{let s;if("email"in t){const{email:h,password:g,options:v}=t;let y=null,S=null;this.flowType==="pkce"&&([y,S]=await Vo(this.storage,this.storageKey)),s=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:h,password:g,data:(r=v?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:y,code_challenge_method:S},xform:Vn})}else if("phone"in t){const{phone:h,password:g,options:v}=t;s=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:g,data:(n=v?.data)!==null&&n!==void 0?n:{},channel:(a=v?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:Vn})}else throw new zc("You must provide either an email or phone number and a password");const{data:l,error:u}=s;if(u||!l)return await hr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(s){if(await hr(this.storage,`${this.storageKey}-code-verifier`),Oe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:l,options:u}=t;r=await Re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:R2})}else if("phone"in t){const{phone:s,password:l,options:u}=t;r=await Re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:R2})}else throw new zc("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const s=new Ss;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Oe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,s,l,u,d,f,h,g,v;let y,S;if("message"in t)y=t.message,S=t.signature;else{const{chain:k,wallet:_,statement:j,options:O}=t;let E;if(pr())if(typeof _=="object")E=_;else{const R=window;if("ethereum"in R&&typeof R.ethereum=="object"&&"request"in R.ethereum&&typeof R.ethereum.request=="function")E=R.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!O?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=_}const D=new URL((r=O?.url)!==null&&r!==void 0?r:window.location.href),N=await E.request({method:"eth_requestAccounts"}).then(R=>R).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const C=eT(N[0]);let P=(n=O?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!P){const R=await E.request({method:"eth_chainId"});P=l8(R)}const T={domain:D.host,address:C,statement:j,uri:D.href,version:"1",chainId:P,nonce:(a=O?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(l=(s=O?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(u=O?.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(d=O?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=O?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(h=O?.signInWithEthereum)===null||h===void 0?void 0:h.resources};y=u8(T),S=await E.request({method:"personal_sign",params:[c8(y),C]})}try{const{data:k,error:_}=await Re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:S},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Vn});if(_)throw _;if(!k||!k.session||!k.user){const j=new Ss;return this._returnResult({data:{user:null,session:null},error:j})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:_})}catch(k){if(Oe(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async signInWithSolana(t){var r,n,a,s,l,u,d,f,h,g,v,y;let S,k;if("message"in t)S=t.message,k=t.signature;else{const{chain:_,wallet:j,statement:O,options:E}=t;let D;if(pr())if(typeof j=="object")D=j;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))D=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=j}const N=new URL((r=E?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in D&&D.signIn){const C=await D.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E?.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),O?{statement:O}:null));let P;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")P=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)P=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)S=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),k=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in D)||typeof D.signMessage!="function"||!("publicKey"in D)||typeof D!="object"||!D.publicKey||!("toBase58"in D.publicKey)||typeof D.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${N.host} wants you to sign in with your Solana account:`,D.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(a=(n=E?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((s=E?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((l=E?.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((u=E?.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((d=E?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((f=E?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((g=(h=E?.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||g===void 0)&&g.length?["Resources",...E.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const C=await D.signMessage(new TextEncoder().encode(S),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=C}}try{const{data:_,error:j}=await Re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:Ps(k)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Vn});if(j)throw j;if(!_||!_.session||!_.user){const O=new Ss;return this._returnResult({data:{user:null,session:null},error:O})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:j})}catch(_){if(Oe(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(t){const r=await _s(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:s,error:l}=await Re(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Vn});if(await hr(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!s||!s.session||!s.user){const u=new Ss;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:a??null}),error:l})}catch(s){if(await hr(this.storage,`${this.storageKey}-code-verifier`),Oe(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:s,nonce:l}=t,u=await Re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:s,nonce:l,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Vn}),{data:d,error:f}=u;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d||!d.session||!d.user){const h=new Ss;return this._returnResult({data:{user:null,session:null},error:h})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:f})}catch(r){if(Oe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,s,l;try{if("email"in t){const{email:u,options:d}=t;let f=null,h=null;this.flowType==="pkce"&&([f,h]=await Vo(this.storage,this.storageKey));const{error:g}=await Re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=d?.data)!==null&&r!==void 0?r:{},create_user:(n=d?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:f,code_challenge_method:h},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in t){const{phone:u,options:d}=t,{data:f,error:h}=await Re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(a=d?.data)!==null&&a!==void 0?a:{},create_user:(s=d?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(l=d?.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:h})}throw new zc("You must provide either an email or phone number.")}catch(u){if(await hr(this.storage,`${this.storageKey}-code-verifier`),Oe(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(t){var r,n;try{let a,s;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:u}=await Re(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:a,xform:Vn});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,f=l.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(a){if(Oe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,s,l;try{let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Vo(this.storage,this.storageKey));const f=await Re(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:d}),headers:this.headers,xform:r8});return!((s=f.data)===null||s===void 0)&&s.url&&pr()&&!(!((l=t.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(u){if(await hr(this.storage,`${this.storageKey}-code-verifier`),Oe(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Zr;const{error:a}=await Re(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(Oe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:s}=t,{error:l}=await Re(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in t){const{phone:n,type:a,options:s}=t,{data:l,error:u}=await Re(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l?.message_id},error:u})}throw new zc("You must provide either an email or phone number and a type")}catch(r){if(Oe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await _s(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<zg:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const l=await _s(this.userStorage,this.storageKey+"-user");l?.user?t.user=l.user:t.user=Bg()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};t.user=JL(t.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:qi}):await this._useSession(async r=>{var n,a,s;const{data:l,error:u}=r;if(u)throw u;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Zr}:await Re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0,xform:qi})})}catch(r){if(Oe(r))return Z5(r)&&(await this._removeSession(),await hr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:s}=n;if(s)throw s;if(!a.session)throw new Zr;const l=a.session;let u=null,d=null;this.flowType==="pkce"&&t.email!=null&&([u,d]=await Vo(this.storage,this.storageKey));const{data:f,error:h}=await Re(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:d}),jwt:l.access_token,xform:qi});if(h)throw h;return l.user=f.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(n){if(await hr(this.storage,`${this.storageKey}-code-verifier`),Oe(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Zr;const r=Date.now()/1e3;let n=r,a=!0,s=null;const{payload:l}=Ug(t.access_token);if(l.exp&&(n=l.exp,a=n<=r),a){const{data:u,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u)return{data:{user:null,session:null},error:null};s=u}else{const{data:u,error:d}=await this._getUser(t.access_token);if(d)throw d;s={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(Oe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:l,error:u}=r;if(u)throw u;t=(n=l.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new Zr;const{data:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Oe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!pr())throw new Uc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Uc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Uy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Uc("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Uy("No code detected.");const{data:O,error:E}=await this._exchangeCodeForSession(t.code);if(E)throw E;const D=new URL(window.location.href);return D.searchParams.delete("code"),window.history.replaceState(window.history.state,"",D.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:s,refresh_token:l,expires_in:u,expires_at:d,token_type:f}=t;if(!s||!u||!l||!f)throw new Uc("No session defined in URL");const h=Math.round(Date.now()/1e3),g=parseInt(u);let v=h+g;d&&(v=parseInt(d));const y=v-h;y*1e3<=Xo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${g}s`);const S=v-g;h-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,v,h):h-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,v,h);const{data:k,error:_}=await this._getUser(s);if(_)throw _;const j={provider_token:n,provider_refresh_token:a,access_token:s,expires_in:g,expires_at:v,refresh_token:l,token_type:f,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:j,redirectType:t.type},error:null})}catch(n){if(Oe(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await _s(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({error:s});const l=(n=a.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:u}=await this.admin.signOut(l,t);if(u&&!(K5(u)&&(u.status===404||u.status===401||u.status===403)))return this._returnResult({error:u})}return t!=="others"&&(await this._removeSession(),await hr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=LL(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:s},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Vo(this.storage,this.storageKey,!0));try{return await Re(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(await hr(this.storage,`${this.storageKey}-code-verifier`),Oe(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Oe(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async s=>{var l,u,d,f,h;const{data:g,error:v}=s;if(v)throw v;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Re(this.fetch,"GET",y,{headers:this.headers,jwt:(h=(f=g.session)===null||f===void 0?void 0:f.access_token)!==null&&h!==void 0?h:void 0})});if(a)throw a;return pr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:t.provider,url:n?.url},error:null})}catch(n){if(Oe(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:s}}=r;if(a)throw a;const{options:l,provider:u,token:d,access_token:f,nonce:h}=t,g=await Re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:u,id_token:d,access_token:f,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Vn}),{data:v,error:y}=g;return y?this._returnResult({data:{user:null,session:null},error:y}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new Ss}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:y}))}catch(a){if(await hr(this.storage,`${this.storageKey}-code-verifier`),Oe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:l}=r;if(l)throw l;return await Re(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Oe(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await qL(async a=>(a>0&&await BL(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Re(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Vn})),(a,s)=>{const l=200*Math.pow(2,a);return s&&Yf(s)&&Date.now()+l-n<Xo})}catch(n){if(this._debug(r,"error",n),Oe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),pr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await _s(this.storage,this.storageKey);if(a&&this.userStorage){let l=await _s(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:a.user},await Jo(this.userStorage,this.storageKey+"-user",l)),a.user=(t=l?.user)!==null&&t!==void 0?t:Bg()}else if(a&&!a.user&&!a.user){const l=await _s(this.storage,this.storageKey+"-user");l&&l?.user?(a.user=l.user,await hr(this.storage,this.storageKey+"-user"),await Jo(this.storage,this.storageKey,a)):a.user=Bg()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const s=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<zg;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${zg}s`),s){if(this.autoRefreshToken&&a.refresh_token){const{error:l}=await this._callRefreshToken(a.refresh_token);l&&(console.error(l),Yf(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(a.access_token);!u&&l?.user?(a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(n,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Zr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new p0;const{data:s,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!s.session)throw new Zr;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const u={data:s.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(s){if(this._debug(a,"error",s),Oe(s)){const l={data:null,error:s};return Yf(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,r)}catch(d){s.push(d)}});if(await Promise.all(l),s.length>0){for(let u=0;u<s.length;u+=1)console.error(s[u]);throw s[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await hr(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Jo(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const s=P2(a);await Jo(this.storage,this.storageKey,s)}else{const a=P2(r);await Jo(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await hr(this.storage,this.storageKey),await hr(this.storage,this.storageKey+"-code-verifier"),await hr(this.storage,this.storageKey+"-user"),this.userStorage&&await hr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&pr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Xo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Xo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Xo}ms, refresh threshold is ${Ly} ticks`),a<=Ly&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof fx)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!pr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,l]=await Vo(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(l)}`});a.push(u.toString())}if(n?.queryParams){const s=new URLSearchParams(n.queryParams);a.push(s.toString())}return n?.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;return s?this._returnResult({data:null,error:s}):await Re(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Oe(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:l}=r;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:d,error:f}=await Re(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token});return f?this._returnResult({data:null,error:f}):(t.factorType==="totp"&&d.type==="totp"&&(!((a=d?.totp)===null||a===void 0)&&a.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(r){if(Oe(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?v8(t.webauthn.credential_response):y8(t.webauthn.credential_response)})}:{code:t.code}),{data:u,error:d}=await Re(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:d}))})}catch(r){if(Oe(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const l=await Re(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});if(l.error)return l;const{data:u}=l;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:p8(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:g8(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Oe(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=r?.factors)!==null&&t!==void 0?t:[])a.all.push(s),s.status==="verified"&&a[s.factor_type].push(s);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Ug(n.access_token);let l=null;s.aal&&(l=s.aal);let u=l;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const f=s.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await Re(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Zr})})}catch(r){if(Oe(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!a)return this._returnResult({data:null,error:new Zr});const l=await Re(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&pr()&&!r?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(n){if(Oe(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!a)return this._returnResult({data:null,error:new Zr});const l=await Re(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&pr()&&!r?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(n){if(Oe(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await Re(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Zr})})}catch(t){if(Oe(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await Re(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Zr})})}catch(r){if(Oe(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(u=>u.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(u=>u.kid===t),n&&this.jwks_cached_at+TL>a)return n;const{data:s,error:l}=await Re(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=a,n=s.keys.find(u=>u.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:y,error:S}=await this.getSession();if(S||!y.session)return this._returnResult({data:null,error:S});n=y.session.access_token}const{header:a,payload:s,signature:l,raw:{header:u,payload:d}}=Ug(n);r?.allowExpired||YL(s.exp);const f=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!f){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:s,header:a,signature:l},error:null}}const h=WL(a.alg),g=await crypto.subtle.importKey("jwk",f,h,!0,["verify"]);if(!await crypto.subtle.verify(h,g,l,$L(`${u}.${d}`)))throw new uh("Invalid JWT signature");return{data:{claims:s,header:a,signature:l},error:null}}catch(n){if(Oe(n))return this._returnResult({data:null,error:n});throw n}}};hx.nextInstanceID={};const O8=dx,N8=hx,A8=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:O8,AuthApiError:V5,AuthClient:N8,AuthError:dl,AuthImplicitGrantRedirectError:Uc,AuthInvalidCredentialsError:zc,AuthInvalidJwtError:uh,AuthInvalidTokenResponseError:Ss,AuthPKCEGrantCodeExchangeError:Uy,AuthRetryableFetchError:ch,AuthSessionMissingError:Zr,AuthUnknownError:Bi,AuthWeakPasswordError:By,CustomAuthError:oi,GoTrueAdminApi:dx,GoTrueClient:hx,NavigatorLockAcquireTimeoutError:J5,SIGN_OUT_SCOPES:Wf,isAuthApiError:K5,isAuthError:Oe,isAuthImplicitGrantRedirectError:G5,isAuthRetryableFetchError:Yf,isAuthSessionMissingError:Z5,isAuthWeakPasswordError:CL,lockInternals:js,navigatorLock:Q5,processLock:s8},Symbol.toStringTag,{value:"Module"})),rT=wu(A8);var U2;function T8(){if(U2)return Ac;U2=1,Object.defineProperty(Ac,"__esModule",{value:!0}),Ac.SupabaseAuthClient=void 0;const e=rT;let t=class extends e.AuthClient{constructor(n){super(n)}};return Ac.SupabaseAuthClient=t,Ac}var B2;function q2(){if(B2)return ff;B2=1,Object.defineProperty(ff,"__esModule",{value:!0});const e=p5,t=w5(),r=A5,n=wL,a=SL(),s=kL(),l=jL(),u=T8();class d{constructor(h,g,v){var y,S,k;this.supabaseUrl=h,this.supabaseKey=g;const _=(0,l.validateSupabaseUrl)(h);if(!g)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",_),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",_),this.storageUrl=new URL("storage/v1",_),this.functionsUrl=new URL("functions/v1",_);const j=`sb-${_.hostname.split(".")[0]}-auth-token`,O={db:a.DEFAULT_DB_OPTIONS,realtime:a.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},a.DEFAULT_AUTH_OPTIONS),{storageKey:j}),global:a.DEFAULT_GLOBAL_OPTIONS},E=(0,l.applySettingDefaults)(v??{},O);this.storageKey=(y=E.auth.storageKey)!==null&&y!==void 0?y:"",this.headers=(S=E.global.headers)!==null&&S!==void 0?S:{},E.accessToken?(this.accessToken=E.accessToken,this.auth=new Proxy({},{get:(D,N)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(N)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((k=E.auth)!==null&&k!==void 0?k:{},this.headers,E.global.fetch),this.fetch=(0,s.fetchWithAuth)(g,this._getAccessToken.bind(this),E.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},E.realtime)),this.accessToken&&this.accessToken().then(D=>this.realtime.setAuth(D)).catch(D=>console.warn("Failed to set initial Realtime auth token:",D)),this.rest=new t.PostgrestClient(new URL("rest/v1",_).href,{headers:this.headers,schema:E.db.schema,fetch:this.fetch}),this.storage=new n.StorageClient(this.storageUrl.href,this.headers,this.fetch,v?.storage),E.accessToken||this._listenForAuthEvents()}get functions(){return new e.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(h){return this.rest.from(h)}schema(h){return this.rest.schema(h)}rpc(h,g={},v={head:!1,get:!1,count:void 0}){return this.rest.rpc(h,g,v)}channel(h,g={config:{}}){return this.realtime.channel(h,g)}getChannels(){return this.realtime.getChannels()}removeChannel(h){return this.realtime.removeChannel(h)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var h,g;if(this.accessToken)return await this.accessToken();const{data:v}=await this.auth.getSession();return(g=(h=v.session)===null||h===void 0?void 0:h.access_token)!==null&&g!==void 0?g:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:h,persistSession:g,detectSessionInUrl:v,storage:y,userStorage:S,storageKey:k,flowType:_,lock:j,debug:O,throwOnError:E},D,N){const C={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new u.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},C),D),storageKey:k,autoRefreshToken:h,persistSession:g,detectSessionInUrl:v,storage:y,userStorage:S,flowType:_,lock:j,debug:O,throwOnError:E,fetch:N,hasCustomAuthorizationHeader:Object.keys(this.headers).some(P=>P.toLowerCase()==="authorization")})}_initRealtimeClient(h){return new r.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},h),{params:Object.assign({apikey:this.supabaseKey},h?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((g,v)=>{this._handleTokenChanged(g,"CLIENT",v?.access_token)})}_handleTokenChanged(h,g,v){(h==="TOKEN_REFRESHED"||h==="SIGNED_IN")&&this.changedAccessToken!==v?(this.changedAccessToken=v,this.realtime.setAuth(v)):h==="SIGNED_OUT"&&(this.realtime.setAuth(),g=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return ff.default=d,ff}var H2;function C8(){return H2||(H2=1,(function(e){var t=qa&&qa.__createBinding||(Object.create?(function(h,g,v,y){y===void 0&&(y=v);var S=Object.getOwnPropertyDescriptor(g,v);(!S||("get"in S?!g.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return g[v]}}),Object.defineProperty(h,y,S)}):(function(h,g,v,y){y===void 0&&(y=v),h[y]=g[v]})),r=qa&&qa.__exportStar||function(h,g){for(var v in h)v!=="default"&&!Object.prototype.hasOwnProperty.call(g,v)&&t(g,h,v)},n=qa&&qa.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(e,"__esModule",{value:!0}),e.createClient=e.SupabaseClient=e.FunctionRegion=e.FunctionsError=e.FunctionsRelayError=e.FunctionsFetchError=e.FunctionsHttpError=e.PostgrestError=void 0;const a=n(q2());r(rT,e);var s=w5();Object.defineProperty(e,"PostgrestError",{enumerable:!0,get:function(){return s.PostgrestError}});var l=p5;Object.defineProperty(e,"FunctionsHttpError",{enumerable:!0,get:function(){return l.FunctionsHttpError}}),Object.defineProperty(e,"FunctionsFetchError",{enumerable:!0,get:function(){return l.FunctionsFetchError}}),Object.defineProperty(e,"FunctionsRelayError",{enumerable:!0,get:function(){return l.FunctionsRelayError}}),Object.defineProperty(e,"FunctionsError",{enumerable:!0,get:function(){return l.FunctionsError}}),Object.defineProperty(e,"FunctionRegion",{enumerable:!0,get:function(){return l.FunctionRegion}}),r(A5,e);var u=q2();Object.defineProperty(e,"SupabaseClient",{enumerable:!0,get:function(){return n(u).default}});const d=(h,g,v)=>new a.default(h,g,v);e.createClient=d;function f(){if(typeof window<"u"||typeof process>"u")return!1;const h=process.version;if(h==null)return!1;const g=h.match(/^v(\d+)\./);return g?parseInt(g[1],10)<=18:!1}f()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(qa)),qa}var nT=C8();const aT=ba(nT),P8=DA({__proto__:null,default:aT},[nT]),{PostgrestError:Gle,FunctionsHttpError:Yle,FunctionsFetchError:Wle,FunctionsRelayError:Xle,FunctionsError:Jle,FunctionRegion:Qle,SupabaseClient:ece,createClient:iT,GoTrueAdminApi:tce,GoTrueClient:rce,AuthAdminApi:nce,AuthClient:ace,navigatorLock:ice,NavigatorLockAcquireTimeoutError:sce,lockInternals:oce,processLock:lce,SIGN_OUT_SCOPES:cce,AuthError:uce,AuthApiError:dce,AuthUnknownError:fce,CustomAuthError:hce,AuthSessionMissingError:mce,AuthInvalidTokenResponseError:pce,AuthInvalidCredentialsError:gce,AuthImplicitGrantRedirectError:vce,AuthPKCEGrantCodeExchangeError:yce,AuthRetryableFetchError:bce,AuthWeakPasswordError:xce,AuthInvalidJwtError:wce,isAuthError:_ce,isAuthApiError:Sce,isAuthSessionMissingError:kce,isAuthImplicitGrantRedirectError:jce,isAuthRetryableFetchError:Ece,isAuthWeakPasswordError:Oce,RealtimePresence:Nce,RealtimeChannel:Ace,RealtimeClient:Tce,REALTIME_LISTEN_TYPES:Cce,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:Pce,REALTIME_PRESENCE_LISTEN_EVENTS:Dce,REALTIME_SUBSCRIBE_STATES:Rce,REALTIME_CHANNEL_STATES:Mce}=aT||P8,D8="https://jbedxxdpqtmprixfxgos.supabase.co",R8="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpiZWR4eGRwcXRtcHJpeGZ4Z29zIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU0NjQxODcsImV4cCI6MjA4MTA0MDE4N30.U-3j_SAvrno9vMAVCsa2RHrmYFs0wLfyYka-Ax0TUQ4",sT=D8,oT=R8;console.warn("Using Fallback Supabase Keys. Please set VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY in your .env file.");const Me=iT(sT,oT),lT=x.createContext();function M8({children:e}){const[t,r]=x.useState(()=>{try{const y=localStorage.getItem("ubp_session_user");return y?JSON.parse(y):null}catch{return null}}),[n,a]=x.useState(()=>localStorage.getItem("ubp_user_role")||null),[s,l]=x.useState(()=>!localStorage.getItem("ubp_session_user")),u=async y=>{if(!y){a(null),localStorage.removeItem("ubp_user_role");return}try{const{data:S,error:k}=await Me.from("user_roles").select("role").eq("email",y).maybeSingle();if(k){k.code!=="42P01"&&console.error("Error fetching role:",k),a("viewer");return}const _=S?.role||"viewer";a(_),localStorage.setItem("ubp_user_role",_)}catch(S){console.error("Unexpected error fetching role:",S),a("viewer")}};x.useEffect(()=>{let y=!0;Me.auth.getSession().then(({data:{session:k}})=>{if(!y)return;const _=k?.user??null;r(_),_?(localStorage.setItem("ubp_session_user",JSON.stringify(_)),u(_.email)):(localStorage.removeItem("ubp_session_user"),localStorage.removeItem("ubp_user_role"),l(!1))});const{data:{subscription:S}}=Me.auth.onAuthStateChange((k,_)=>{if(!y)return;const j=_?.user??null;r(j),j?(localStorage.setItem("ubp_session_user",JSON.stringify(j)),u(j.email)):(a(null),localStorage.removeItem("ubp_user_role"),localStorage.removeItem("ubp_session_user"),l(!1))});return()=>{y=!1,S.unsubscribe()}},[]);const v={user:t,userRole:n,signIn:async(y,S)=>{const{error:k}=await Me.auth.signInWithPassword({email:y,password:S});if(k)throw k},signUp:async(y,S)=>{const{data:k,error:_}=await Me.auth.signUp({email:y,password:S,options:{emailRedirectTo:window.location.origin}});if(_)throw _;return k},signOut:async()=>{const{error:y}=await Me.auth.signOut();if(y)throw y},resendVerificationEmail:async y=>{const{error:S}=await Me.auth.resend({type:"signup",email:y,options:{emailRedirectTo:window.location.origin}});if(S)throw S},loading:s};return p.jsx(lT.Provider,{value:v,children:!s&&e})}function Ar(){return x.useContext(lT)}const g0="/UBP-Scheduler-V2/assets/ubp_logo_v4-BJtcTMQd.png";function $8({isOpen:e,onClose:t}){const{signIn:r}=Ar(),[n,a]=x.useState(""),[s,l]=x.useState(""),[u,d]=x.useState(null),[f,h]=x.useState(!1);if(!e)return null;const g=async v=>{v.preventDefault(),d(null),h(!0);try{await r(n,s),t()}catch(y){d(y.message)}finally{h(!1)}};return p.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4 transition-all",children:p.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden relative",children:[p.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-500 hover:text-white transition-colors",children:p.jsx(Ws,{className:"h-6 w-6"})}),p.jsxs("div",{className:"p-8",children:[p.jsx("div",{className:"flex justify-center mb-6",children:p.jsx("div",{className:"h-20 w-20 bg-white rounded-full shadow-2xl shadow-blue-500/20 flex items-center justify-center overflow-hidden",children:p.jsx("img",{src:g0,alt:"UBP",className:"h-full w-full object-cover transform scale-105"})})}),p.jsx("h2",{className:"text-2xl font-bold text-white mb-2 text-center",children:"Welcome Back"}),p.jsx("p",{className:"text-gray-400 text-sm mb-6 text-center",children:"Sign in to access your production schedule."}),u&&p.jsx("div",{className:"p-3 rounded-lg mb-4 text-sm font-medium border bg-red-900/30 text-red-300 border-red-800",children:u}),p.jsxs("form",{onSubmit:g,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Email"}),p.jsx("input",{type:"email",required:!0,value:n,onChange:v=>a(v.target.value),className:"mt-1 block w-full rounded-lg bg-gray-800 border-gray-700 text-white placeholder-gray-500 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2.5 border transition-colors",placeholder:"name@company.com"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Password"}),p.jsx("input",{type:"password",required:!0,value:s,onChange:v=>l(v.target.value),className:"mt-1 block w-full rounded-lg bg-gray-800 border-gray-700 text-white placeholder-gray-500 shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2.5 border transition-colors",placeholder:""})]}),p.jsx("button",{type:"submit",disabled:f,className:"w-full bg-blue-600 text-white rounded-lg py-2.5 font-bold hover:bg-blue-500 transition-all disabled:opacity-50 shadow-lg shadow-blue-900/20",children:f?"Processing...":"Sign In"})]}),p.jsx("div",{className:"mt-6 text-center text-sm text-gray-500",children:p.jsx("span",{className:"italic",children:"Authorized personnel only."})})]})]})})}function I8({onOpenSettings:e,isSaving:t,saveError:r,activeTab:n,setActiveTab:a}){const{user:s,userRole:l,signOut:u}=Ar(),[d,f]=x.useState(!1),[h,g]=x.useState(navigator.onLine),[v,y]=x.useState(!1),S=["admin","planner"].includes(l||"admin");x.useEffect(()=>{const _=()=>y(window.scrollY>10);window.addEventListener("scroll",_);const j=()=>g(!0),O=()=>g(!1);return window.addEventListener("online",j),window.addEventListener("offline",O),()=>{window.removeEventListener("scroll",_),window.removeEventListener("online",j),window.removeEventListener("offline",O)}},[]);const k=({id:_,label:j,icon:O,activeColor:E})=>{const D=n===_;return p.jsxs("button",{onClick:()=>a(_),className:`
                    relative group flex items-center gap-2 px-4 py-2 rounded-full text-sm font-bold transition-all duration-300
                    ${D?"bg-white text-slate-900 shadow-md ring-1 ring-black/5 dark:bg-slate-700 dark:text-white dark:ring-white/10":"text-slate-500 hover:text-slate-800 hover:bg-slate-100/50 dark:text-slate-400 dark:hover:text-slate-200 dark:hover:bg-slate-800/50"}
                `,children:[p.jsx(O,{className:`w-4 h-4 transition-transform duration-300 ${D?"scale-110 "+E:"group-hover:scale-110 opacity-70 group-hover:opacity-100"}`}),p.jsx("span",{children:j}),D&&p.jsx("span",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 w-1 h-1 rounded-full bg-slate-900 dark:bg-white opacity-20"})]})};return p.jsxs(p.Fragment,{children:[p.jsx($8,{isOpen:d,onClose:()=>f(!1)}),p.jsx("header",{className:`
                sticky top-0 z-50 w-full transition-all duration-500 ease-in-out border-b
                ${v?"bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl border-slate-200/50 dark:border-slate-800/50 shadow-sm py-2":"bg-white dark:bg-slate-900 border-transparent py-4"}
            `,children:p.jsxs("div",{className:"max-w-[1920px] mx-auto px-6 flex justify-between items-center",children:[p.jsxs("div",{className:"flex items-center gap-4 w-[280px]",children:[p.jsx("div",{className:`
                            relative h-10 w-10 rounded-xl bg-gradient-to-br from-blue-600 to-indigo-700 shadow-lg shadow-blue-500/20 
                            flex items-center justify-center overflow-hidden transition-transform hover:scale-105 duration-300
                            ${v?"ring-2 ring-white dark:ring-slate-800":""}
                        `,children:p.jsx("img",{src:g0,alt:"UBP",className:"h-[90%] w-[90%] object-contain drop-shadow-md"})}),p.jsxs("div",{className:"flex flex-col",children:[p.jsxs("h1",{className:"text-base font-black tracking-tight text-slate-900 dark:text-white leading-none",children:["UBP ",p.jsx("span",{className:"text-slate-400 font-medium",children:"Scheduler"})]}),p.jsx("span",{className:"text-[10px] font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-500 to-indigo-500 uppercase tracking-widest mt-0.5",children:"Enterprise Edition"})]})]}),s&&p.jsxs("nav",{className:`
                            hidden lg:flex items-center p-1.5 rounded-full transition-all duration-300
                            ${v?"bg-slate-100/80 dark:bg-slate-800/80 backdrop-blur-md shadow-inner border border-white/20 dark:border-slate-700/50":"bg-slate-50 dark:bg-slate-800/30"}
                        `,children:[p.jsx(k,{id:"logistics",label:"Floor Ops",icon:wI,activeColor:"text-emerald-500"}),S&&p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"w-px h-4 bg-slate-300 dark:bg-slate-700 mx-2 opacity-50"}),p.jsx(k,{id:"mrp",label:"Materials",icon:mI,activeColor:"text-blue-500"}),p.jsx(k,{id:"scheduler",label:"Scheduler",icon:gI,activeColor:"text-purple-500"}),p.jsx(k,{id:"master",label:"Master Plan",icon:yI,activeColor:"text-amber-500"})]}),p.jsx("div",{className:"w-px h-4 bg-slate-300 dark:bg-slate-700 mx-2 opacity-50"}),p.jsx(k,{id:"products",label:"Catalog",icon:Kf,activeColor:"text-pink-500"}),S&&p.jsx(k,{id:"import",label:"Import",icon:SI,activeColor:"text-cyan-500"})]}),p.jsxs("div",{className:"flex items-center justify-end gap-5 w-[280px]",children:[s&&p.jsx("div",{className:"flex items-center gap-3",children:p.jsxs("div",{className:`
                                    flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-bold transition-colors
                                    ${t?"bg-blue-50 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400":r?"bg-rose-50 text-rose-600 dark:bg-rose-900/30 dark:text-rose-400":h?"bg-emerald-50 text-emerald-600 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-slate-100 text-slate-500 dark:bg-slate-800 dark:text-slate-400"}
                                `,title:r||(h?"Online & Synced":"Offline"),children:[p.jsx(C6,{className:`h-3.5 w-3.5 ${t?"animate-bounce":""}`}),p.jsx("span",{className:"hidden xl:inline",children:t?"Saving...":r?"Error":"Synced"})]})}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("button",{onClick:()=>window.print(),className:"p-2 text-slate-400 hover:text-slate-700 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-all",title:"Print View",children:p.jsx(X6,{className:"h-5 w-5"})}),p.jsx("button",{onClick:e,className:"p-2 text-slate-400 hover:text-slate-700 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-all group",title:"Settings",children:p.jsx(D6,{className:"h-5 w-5 group-hover:rotate-180 transition-transform duration-700"})})]}),s?p.jsx("div",{className:"flex items-center pl-5 border-l border-slate-200 dark:border-slate-800",children:p.jsxs("button",{onClick:u,className:"flex items-center gap-3 group pl-2",title:"Click to Sign Out",children:[p.jsxs("div",{className:"text-right hidden xl:block",children:[p.jsx("div",{className:"text-xs font-bold text-slate-700 dark:text-slate-200 group-hover:text-rose-500 transition-colors",children:s.email?.split("@")[0]}),p.jsx("div",{className:"text-[10px] font-medium text-slate-400 uppercase tracking-widest group-hover:text-rose-400 transition-colors",children:l||"User"})]}),p.jsx("div",{className:"h-9 w-9 rounded-full bg-gradient-to-tr from-indigo-500 to-purple-600 shadow-md ring-2 ring-white dark:ring-slate-900 flex items-center justify-center text-xs font-bold text-white group-hover:ring-rose-500 transition-all",children:s.email?.[0].toUpperCase()}),p.jsx(h6,{className:"w-4 h-4 text-slate-400 group-hover:text-rose-500 transition-colors xl:hidden"})]})}):p.jsx("button",{onClick:()=>f(!0),className:"px-5 py-2 rounded-full bg-slate-900 text-white text-sm font-bold shadow-lg hover:shadow-xl hover:-translate-y-0.5 transition-all dark:bg-white dark:text-slate-900",children:"Sign In"})]})]})})]})}const wf=async(e,t,r={})=>{const{data:n,error:a}=await Me.from("products").select("id").eq("user_id",e).eq("name",t).order("created_at",{ascending:!0}).limit(1).maybeSingle();if(a)throw a;if(n)return n.id;const{data:s,error:l}=await Me.from("products").insert({user_id:e,name:t,bottles_per_case:r.bottles_per_case||12,bottles_per_truck:r.bottles_per_truck||2e4,cases_per_pallet:r.cases_per_pallet||100}).select("id").single();if(l)throw console.error("Error creating product:",l),l;return s.id},L8=async(e,t)=>{const{data:r,error:n}=await Me.from("products").select("*").eq("user_id",e).eq("name",t).order("created_at",{ascending:!0}).limit(1).maybeSingle();if(n)throw n;return r},z8=async e=>{const{data:t,error:r}=await Me.from("products").select("*").eq("user_id",e);if(r)throw r;return t||[]},U8=async e=>{const{error:t}=await Me.from("products").delete().eq("id",e);if(t)throw t};function he(e,t,r){function n(u,d){if(u._zod||Object.defineProperty(u,"_zod",{value:{def:d,constr:l,traits:new Set},enumerable:!1}),u._zod.traits.has(e))return;u._zod.traits.add(e),t(u,d);const f=l.prototype,h=Object.keys(f);for(let g=0;g<h.length;g++){const v=h[g];v in u||(u[v]=f[v].bind(u))}}const a=r?.Parent??Object;class s extends a{}Object.defineProperty(s,"name",{value:e});function l(u){var d;const f=r?.Parent?new s:this;n(f,u),(d=f._zod).deferred??(d.deferred=[]);for(const h of f._zod.deferred)h();return f}return Object.defineProperty(l,"init",{value:n}),Object.defineProperty(l,Symbol.hasInstance,{value:u=>r?.Parent&&u instanceof r.Parent?!0:u?._zod?.traits?.has(e)}),Object.defineProperty(l,"name",{value:e}),l}class sl extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class cT extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const uT={};function qs(e){return uT}function dT(e){const t=Object.values(e).filter(n=>typeof n=="number");return Object.entries(e).filter(([n,a])=>t.indexOf(+n)===-1).map(([n,a])=>a)}function Hy(e,t){return typeof t=="bigint"?t.toString():t}function mx(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function px(e){return e==null}function gx(e){const t=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}function B8(e,t){const r=(e.toString().split(".")[1]||"").length,n=t.toString();let a=(n.split(".")[1]||"").length;if(a===0&&/\d?e-\d?/.test(n)){const d=n.match(/\d?e-(\d?)/);d?.[1]&&(a=Number.parseInt(d[1]))}const s=r>a?r:a,l=Number.parseInt(e.toFixed(s).replace(".","")),u=Number.parseInt(t.toFixed(s).replace(".",""));return l%u/10**s}const F2=Symbol("evaluating");function dt(e,t,r){let n;Object.defineProperty(e,t,{get(){if(n!==F2)return n===void 0&&(n=F2,n=r()),n},set(a){Object.defineProperty(e,t,{value:a})},configurable:!0})}function Xs(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function Js(...e){const t={};for(const r of e){const n=Object.getOwnPropertyDescriptors(r);Object.assign(t,n)}return Object.defineProperties({},t)}function V2(e){return JSON.stringify(e)}function q8(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const fT="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function mh(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const H8=mx(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function tu(e){if(mh(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const r=t.prototype;return!(mh(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function hT(e){return tu(e)?{...e}:Array.isArray(e)?[...e]:e}const F8=new Set(["string","number","symbol"]);function v0(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ji(e,t,r){const n=new e._zod.constr(t??e._zod.def);return(!t||r?.parent)&&(n._zod.parent=e),n}function Pe(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function V8(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const K8={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function Z8(e,t){const r=e._zod.def,n=Js(e._zod.def,{get shape(){const a={};for(const s in t){if(!(s in r.shape))throw new Error(`Unrecognized key: "${s}"`);t[s]&&(a[s]=r.shape[s])}return Xs(this,"shape",a),a},checks:[]});return Ji(e,n)}function G8(e,t){const r=e._zod.def,n=Js(e._zod.def,{get shape(){const a={...e._zod.def.shape};for(const s in t){if(!(s in r.shape))throw new Error(`Unrecognized key: "${s}"`);t[s]&&delete a[s]}return Xs(this,"shape",a),a},checks:[]});return Ji(e,n)}function Y8(e,t){if(!tu(t))throw new Error("Invalid input to extend: expected a plain object");const r=e._zod.def.checks;if(r&&r.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const a=Js(e._zod.def,{get shape(){const s={...e._zod.def.shape,...t};return Xs(this,"shape",s),s},checks:[]});return Ji(e,a)}function W8(e,t){if(!tu(t))throw new Error("Invalid input to safeExtend: expected a plain object");const r={...e._zod.def,get shape(){const n={...e._zod.def.shape,...t};return Xs(this,"shape",n),n},checks:e._zod.def.checks};return Ji(e,r)}function X8(e,t){const r=Js(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return Xs(this,"shape",n),n},get catchall(){return t._zod.def.catchall},checks:[]});return Ji(e,r)}function J8(e,t,r){const n=Js(t._zod.def,{get shape(){const a=t._zod.def.shape,s={...a};if(r)for(const l in r){if(!(l in a))throw new Error(`Unrecognized key: "${l}"`);r[l]&&(s[l]=e?new e({type:"optional",innerType:a[l]}):a[l])}else for(const l in a)s[l]=e?new e({type:"optional",innerType:a[l]}):a[l];return Xs(this,"shape",s),s},checks:[]});return Ji(t,n)}function Q8(e,t,r){const n=Js(t._zod.def,{get shape(){const a=t._zod.def.shape,s={...a};if(r)for(const l in r){if(!(l in s))throw new Error(`Unrecognized key: "${l}"`);r[l]&&(s[l]=new e({type:"nonoptional",innerType:a[l]}))}else for(const l in a)s[l]=new e({type:"nonoptional",innerType:a[l]});return Xs(this,"shape",s),s},checks:[]});return Ji(t,n)}function el(e,t=0){if(e.aborted===!0)return!0;for(let r=t;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}function mT(e,t){return t.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(e),r})}function _f(e){return typeof e=="string"?e:e?.message}function Hs(e,t,r){const n={...e,path:e.path??[]};if(!e.message){const a=_f(e.inst?._zod.def?.error?.(e))??_f(t?.error?.(e))??_f(r.customError?.(e))??_f(r.localeError?.(e))??"Invalid input";n.message=a}return delete n.inst,delete n.continue,t?.reportInput||delete n.input,n}function vx(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function ru(...e){const[t,r,n]=e;return typeof t=="string"?{message:t,code:"custom",input:r,inst:n}:{...t}}const pT=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,Hy,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},gT=he("$ZodError",pT),vT=he("$ZodError",pT,{Parent:Error});function ez(e,t=r=>r.message){const r={},n=[];for(const a of e.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(t(a))):n.push(t(a));return{formErrors:n,fieldErrors:r}}function tz(e,t=r=>r.message){const r={_errors:[]},n=a=>{for(const s of a.issues)if(s.code==="invalid_union"&&s.errors.length)s.errors.map(l=>n({issues:l}));else if(s.code==="invalid_key")n({issues:s.issues});else if(s.code==="invalid_element")n({issues:s.issues});else if(s.path.length===0)r._errors.push(t(s));else{let l=r,u=0;for(;u<s.path.length;){const d=s.path[u];u===s.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(t(s))):l[d]=l[d]||{_errors:[]},l=l[d],u++}}};return n(e),r}const yx=e=>(t,r,n,a)=>{const s=n?Object.assign(n,{async:!1}):{async:!1},l=t._zod.run({value:r,issues:[]},s);if(l instanceof Promise)throw new sl;if(l.issues.length){const u=new(a?.Err??e)(l.issues.map(d=>Hs(d,s,qs())));throw fT(u,a?.callee),u}return l.value},bx=e=>async(t,r,n,a)=>{const s=n?Object.assign(n,{async:!0}):{async:!0};let l=t._zod.run({value:r,issues:[]},s);if(l instanceof Promise&&(l=await l),l.issues.length){const u=new(a?.Err??e)(l.issues.map(d=>Hs(d,s,qs())));throw fT(u,a?.callee),u}return l.value},y0=e=>(t,r,n)=>{const a=n?{...n,async:!1}:{async:!1},s=t._zod.run({value:r,issues:[]},a);if(s instanceof Promise)throw new sl;return s.issues.length?{success:!1,error:new(e??gT)(s.issues.map(l=>Hs(l,a,qs())))}:{success:!0,data:s.value}},rz=y0(vT),b0=e=>async(t,r,n)=>{const a=n?Object.assign(n,{async:!0}):{async:!0};let s=t._zod.run({value:r,issues:[]},a);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new e(s.issues.map(l=>Hs(l,a,qs())))}:{success:!0,data:s.value}},nz=b0(vT),az=e=>(t,r,n)=>{const a=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return yx(e)(t,r,a)},iz=e=>(t,r,n)=>yx(e)(t,r,n),sz=e=>async(t,r,n)=>{const a=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return bx(e)(t,r,a)},oz=e=>async(t,r,n)=>bx(e)(t,r,n),lz=e=>(t,r,n)=>{const a=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return y0(e)(t,r,a)},cz=e=>(t,r,n)=>y0(e)(t,r,n),uz=e=>async(t,r,n)=>{const a=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return b0(e)(t,r,a)},dz=e=>async(t,r,n)=>b0(e)(t,r,n),fz=/^[cC][^\s-]{8,}$/,hz=/^[0-9a-z]+$/,mz=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,pz=/^[0-9a-vA-V]{20}$/,gz=/^[A-Za-z0-9]{27}$/,vz=/^[a-zA-Z0-9_-]{21}$/,yz=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,bz=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,K2=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,xz=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,wz="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function _z(){return new RegExp(wz,"u")}const Sz=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,kz=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,jz=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,Ez=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Oz=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,yT=/^[A-Za-z0-9_-]*$/,Nz=/^\+(?:[0-9]){6,14}[0-9]$/,bT="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",Az=new RegExp(`^${bT}$`);function xT(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function Tz(e){return new RegExp(`^${xT(e)}$`)}function Cz(e){const t=xT({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const n=`${t}(?:${r.join("|")})`;return new RegExp(`^${bT}T(?:${n})$`)}const Pz=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},Dz=/^-?\d+$/,Rz=/^-?\d+(?:\.\d+)?/,Mz=/^(?:true|false)$/i,$z=/^[^A-Z]*$/,Iz=/^[^a-z]*$/,Jr=he("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),wT={number:"number",bigint:"bigint",object:"date"},_T=he("$ZodCheckLessThan",(e,t)=>{Jr.init(e,t);const r=wT[typeof t.value];e._zod.onattach.push(n=>{const a=n._zod.bag,s=(t.inclusive?a.maximum:a.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<s&&(t.inclusive?a.maximum=t.value:a.exclusiveMaximum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value<=t.value:n.value<t.value)||n.issues.push({origin:r,code:"too_big",maximum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),ST=he("$ZodCheckGreaterThan",(e,t)=>{Jr.init(e,t);const r=wT[typeof t.value];e._zod.onattach.push(n=>{const a=n._zod.bag,s=(t.inclusive?a.minimum:a.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>s&&(t.inclusive?a.minimum=t.value:a.exclusiveMinimum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value>=t.value:n.value>t.value)||n.issues.push({origin:r,code:"too_small",minimum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Lz=he("$ZodCheckMultipleOf",(e,t)=>{Jr.init(e,t),e._zod.onattach.push(r=>{var n;(n=r._zod.bag).multipleOf??(n.multipleOf=t.value)}),e._zod.check=r=>{if(typeof r.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%t.value===BigInt(0):B8(r.value,t.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:e,continue:!t.abort})}}),zz=he("$ZodCheckNumberFormat",(e,t)=>{Jr.init(e,t),t.format=t.format||"float64";const r=t.format?.includes("int"),n=r?"int":"number",[a,s]=K8[t.format];e._zod.onattach.push(l=>{const u=l._zod.bag;u.format=t.format,u.minimum=a,u.maximum=s,r&&(u.pattern=Dz)}),e._zod.check=l=>{const u=l.value;if(r){if(!Number.isInteger(u)){l.issues.push({expected:n,format:t.format,code:"invalid_type",continue:!1,input:u,inst:e});return}if(!Number.isSafeInteger(u)){u>0?l.issues.push({input:u,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort}):l.issues.push({input:u,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort});return}}u<a&&l.issues.push({origin:"number",input:u,code:"too_small",minimum:a,inclusive:!0,inst:e,continue:!t.abort}),u>s&&l.issues.push({origin:"number",input:u,code:"too_big",maximum:s,inst:e})}}),Uz=he("$ZodCheckMaxLength",(e,t)=>{var r;Jr.init(e,t),(r=e._zod.def).when??(r.when=n=>{const a=n.value;return!px(a)&&a.length!==void 0}),e._zod.onattach.push(n=>{const a=n._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<a&&(n._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{const a=n.value;if(a.length<=t.maximum)return;const l=vx(a);n.issues.push({origin:l,code:"too_big",maximum:t.maximum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),Bz=he("$ZodCheckMinLength",(e,t)=>{var r;Jr.init(e,t),(r=e._zod.def).when??(r.when=n=>{const a=n.value;return!px(a)&&a.length!==void 0}),e._zod.onattach.push(n=>{const a=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>a&&(n._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{const a=n.value;if(a.length>=t.minimum)return;const l=vx(a);n.issues.push({origin:l,code:"too_small",minimum:t.minimum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),qz=he("$ZodCheckLengthEquals",(e,t)=>{var r;Jr.init(e,t),(r=e._zod.def).when??(r.when=n=>{const a=n.value;return!px(a)&&a.length!==void 0}),e._zod.onattach.push(n=>{const a=n._zod.bag;a.minimum=t.length,a.maximum=t.length,a.length=t.length}),e._zod.check=n=>{const a=n.value,s=a.length;if(s===t.length)return;const l=vx(a),u=s>t.length;n.issues.push({origin:l,...u?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),x0=he("$ZodCheckStringFormat",(e,t)=>{var r,n;Jr.init(e,t),e._zod.onattach.push(a=>{const s=a._zod.bag;s.format=t.format,t.pattern&&(s.patterns??(s.patterns=new Set),s.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=a=>{t.pattern.lastIndex=0,!t.pattern.test(a.value)&&a.issues.push({origin:"string",code:"invalid_format",format:t.format,input:a.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(n=e._zod).check??(n.check=()=>{})}),Hz=he("$ZodCheckRegex",(e,t)=>{x0.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),Fz=he("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=$z),x0.init(e,t)}),Vz=he("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=Iz),x0.init(e,t)}),Kz=he("$ZodCheckIncludes",(e,t)=>{Jr.init(e,t);const r=v0(t.includes),n=new RegExp(typeof t.position=="number"?`^.{${t.position}}${r}`:r);t.pattern=n,e._zod.onattach.push(a=>{const s=a._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),e._zod.check=a=>{a.value.includes(t.includes,t.position)||a.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:a.value,inst:e,continue:!t.abort})}}),Zz=he("$ZodCheckStartsWith",(e,t)=>{Jr.init(e,t);const r=new RegExp(`^${v0(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const a=n._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(r)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),Gz=he("$ZodCheckEndsWith",(e,t)=>{Jr.init(e,t);const r=new RegExp(`.*${v0(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const a=n._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(r)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}}),Yz=he("$ZodCheckOverwrite",(e,t)=>{Jr.init(e,t),e._zod.check=r=>{r.value=t.tx(r.value)}});class Wz{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const n=t.split(`
`).filter(l=>l),a=Math.min(...n.map(l=>l.length-l.trimStart().length)),s=n.map(l=>l.slice(a)).map(l=>" ".repeat(this.indent*2)+l);for(const l of s)this.content.push(l)}compile(){const t=Function,r=this?.args,a=[...(this?.content??[""]).map(s=>`  ${s}`)];return new t(...r,a.join(`
`))}}const Xz={major:4,minor:2,patch:1},Ct=he("$ZodType",(e,t)=>{var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=Xz;const n=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&n.unshift(e);for(const a of n)for(const s of a._zod.onattach)s(e);if(n.length===0)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const a=(l,u,d)=>{let f=el(l),h;for(const g of u){if(g._zod.def.when){if(!g._zod.def.when(l))continue}else if(f)continue;const v=l.issues.length,y=g._zod.check(l);if(y instanceof Promise&&d?.async===!1)throw new sl;if(h||y instanceof Promise)h=(h??Promise.resolve()).then(async()=>{await y,l.issues.length!==v&&(f||(f=el(l,v)))});else{if(l.issues.length===v)continue;f||(f=el(l,v))}}return h?h.then(()=>l):l},s=(l,u,d)=>{if(el(l))return l.aborted=!0,l;const f=a(u,n,d);if(f instanceof Promise){if(d.async===!1)throw new sl;return f.then(h=>e._zod.parse(h,d))}return e._zod.parse(f,d)};e._zod.run=(l,u)=>{if(u.skipChecks)return e._zod.parse(l,u);if(u.direction==="backward"){const f=e._zod.parse({value:l.value,issues:[]},{...u,skipChecks:!0});return f instanceof Promise?f.then(h=>s(h,l,u)):s(f,l,u)}const d=e._zod.parse(l,u);if(d instanceof Promise){if(u.async===!1)throw new sl;return d.then(f=>a(f,n,u))}return a(d,n,u)}}e["~standard"]={validate:a=>{try{const s=rz(e,a);return s.success?{value:s.data}:{issues:s.error?.issues}}catch{return nz(e,a).then(l=>l.success?{value:l.data}:{issues:l.error?.issues})}},vendor:"zod",version:1}}),xx=he("$ZodString",(e,t)=>{Ct.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??Pz(e._zod.bag),e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),jt=he("$ZodStringFormat",(e,t)=>{x0.init(e,t),xx.init(e,t)}),Jz=he("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=bz),jt.init(e,t)}),Qz=he("$ZodUUID",(e,t)=>{if(t.version){const n={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(n===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=K2(n))}else t.pattern??(t.pattern=K2());jt.init(e,t)}),e7=he("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=xz),jt.init(e,t)}),t7=he("$ZodURL",(e,t)=>{jt.init(e,t),e._zod.check=r=>{try{const n=r.value.trim(),a=new URL(n);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(a.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(a.protocol.endsWith(":")?a.protocol.slice(0,-1):a.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),t.normalize?r.value=a.href:r.value=n;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),r7=he("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=_z()),jt.init(e,t)}),n7=he("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=vz),jt.init(e,t)}),a7=he("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=fz),jt.init(e,t)}),i7=he("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=hz),jt.init(e,t)}),s7=he("$ZodULID",(e,t)=>{t.pattern??(t.pattern=mz),jt.init(e,t)}),o7=he("$ZodXID",(e,t)=>{t.pattern??(t.pattern=pz),jt.init(e,t)}),l7=he("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=gz),jt.init(e,t)}),c7=he("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=Cz(t)),jt.init(e,t)}),u7=he("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=Az),jt.init(e,t)}),d7=he("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=Tz(t)),jt.init(e,t)}),f7=he("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=yz),jt.init(e,t)}),h7=he("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=Sz),jt.init(e,t),e._zod.bag.format="ipv4"}),m7=he("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=kz),jt.init(e,t),e._zod.bag.format="ipv6",e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),p7=he("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=jz),jt.init(e,t)}),g7=he("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=Ez),jt.init(e,t),e._zod.check=r=>{const n=r.value.split("/");try{if(n.length!==2)throw new Error;const[a,s]=n;if(!s)throw new Error;const l=Number(s);if(`${l}`!==s)throw new Error;if(l<0||l>128)throw new Error;new URL(`http://[${a}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function kT(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const v7=he("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=Oz),jt.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=r=>{kT(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function y7(e){if(!yT.test(e))return!1;const t=e.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=t.padEnd(Math.ceil(t.length/4)*4,"=");return kT(r)}const b7=he("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=yT),jt.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=r=>{y7(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),x7=he("$ZodE164",(e,t)=>{t.pattern??(t.pattern=Nz),jt.init(e,t)});function w7(e,t=null){try{const r=e.split(".");if(r.length!==3)return!1;const[n]=r;if(!n)return!1;const a=JSON.parse(atob(n));return!("typ"in a&&a?.typ!=="JWT"||!a.alg||t&&(!("alg"in a)||a.alg!==t))}catch{return!1}}const _7=he("$ZodJWT",(e,t)=>{jt.init(e,t),e._zod.check=r=>{w7(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),jT=he("$ZodNumber",(e,t)=>{Ct.init(e,t),e._zod.pattern=e._zod.bag.pattern??Rz,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=Number(r.value)}catch{}const a=r.value;if(typeof a=="number"&&!Number.isNaN(a)&&Number.isFinite(a))return r;const s=typeof a=="number"?Number.isNaN(a)?"NaN":Number.isFinite(a)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:a,inst:e,...s?{received:s}:{}}),r}}),S7=he("$ZodNumberFormat",(e,t)=>{zz.init(e,t),jT.init(e,t)}),k7=he("$ZodBoolean",(e,t)=>{Ct.init(e,t),e._zod.pattern=Mz,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=!!r.value}catch{}const a=r.value;return typeof a=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:a,inst:e}),r}}),j7=he("$ZodAny",(e,t)=>{Ct.init(e,t),e._zod.parse=r=>r}),E7=he("$ZodUnknown",(e,t)=>{Ct.init(e,t),e._zod.parse=r=>r}),O7=he("$ZodNever",(e,t)=>{Ct.init(e,t),e._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)});function Z2(e,t,r){e.issues.length&&t.issues.push(...mT(r,e.issues)),t.value[r]=e.value}const N7=he("$ZodArray",(e,t)=>{Ct.init(e,t),e._zod.parse=(r,n)=>{const a=r.value;if(!Array.isArray(a))return r.issues.push({expected:"array",code:"invalid_type",input:a,inst:e}),r;r.value=Array(a.length);const s=[];for(let l=0;l<a.length;l++){const u=a[l],d=t.element._zod.run({value:u,issues:[]},n);d instanceof Promise?s.push(d.then(f=>Z2(f,r,l))):Z2(d,r,l)}return s.length?Promise.all(s).then(()=>r):r}});function ph(e,t,r,n){e.issues.length&&t.issues.push(...mT(r,e.issues)),e.value===void 0?r in n&&(t.value[r]=void 0):t.value[r]=e.value}function ET(e){const t=Object.keys(e.shape);for(const n of t)if(!e.shape?.[n]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${n}": expected a Zod schema`);const r=V8(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(r)}}function OT(e,t,r,n,a,s){const l=[],u=a.keySet,d=a.catchall._zod,f=d.def.type;for(const h in t){if(u.has(h))continue;if(f==="never"){l.push(h);continue}const g=d.run({value:t[h],issues:[]},n);g instanceof Promise?e.push(g.then(v=>ph(v,r,h,t))):ph(g,r,h,t)}return l.length&&r.issues.push({code:"unrecognized_keys",keys:l,input:t,inst:s}),e.length?Promise.all(e).then(()=>r):r}const A7=he("$ZodObject",(e,t)=>{if(Ct.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){const u=t.shape;Object.defineProperty(t,"shape",{get:()=>{const d={...u};return Object.defineProperty(t,"shape",{value:d}),d}})}const n=mx(()=>ET(t));dt(e._zod,"propValues",()=>{const u=t.shape,d={};for(const f in u){const h=u[f]._zod;if(h.values){d[f]??(d[f]=new Set);for(const g of h.values)d[f].add(g)}}return d});const a=mh,s=t.catchall;let l;e._zod.parse=(u,d)=>{l??(l=n.value);const f=u.value;if(!a(f))return u.issues.push({expected:"object",code:"invalid_type",input:f,inst:e}),u;u.value={};const h=[],g=l.shape;for(const v of l.keys){const S=g[v]._zod.run({value:f[v],issues:[]},d);S instanceof Promise?h.push(S.then(k=>ph(k,u,v,f))):ph(S,u,v,f)}return s?OT(h,f,u,d,n.value,e):h.length?Promise.all(h).then(()=>u):u}}),T7=he("$ZodObjectJIT",(e,t)=>{A7.init(e,t);const r=e._zod.parse,n=mx(()=>ET(t)),a=v=>{const y=new Wz(["shape","payload","ctx"]),S=n.value,k=E=>{const D=V2(E);return`shape[${D}]._zod.run({ value: input[${D}], issues: [] }, ctx)`};y.write("const input = payload.value;");const _=Object.create(null);let j=0;for(const E of S.keys)_[E]=`key_${j++}`;y.write("const newResult = {};");for(const E of S.keys){const D=_[E],N=V2(E);y.write(`const ${D} = ${k(E)};`),y.write(`
        if (${D}.issues.length) {
          payload.issues = payload.issues.concat(${D}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${N}, ...iss.path] : [${N}]
          })));
        }
        
        
        if (${D}.value === undefined) {
          if (${N} in input) {
            newResult[${N}] = undefined;
          }
        } else {
          newResult[${N}] = ${D}.value;
        }
        
      `)}y.write("payload.value = newResult;"),y.write("return payload;");const O=y.compile();return(E,D)=>O(v,E,D)};let s;const l=mh,u=!uT.jitless,f=u&&H8.value,h=t.catchall;let g;e._zod.parse=(v,y)=>{g??(g=n.value);const S=v.value;return l(S)?u&&f&&y?.async===!1&&y.jitless!==!0?(s||(s=a(t.shape)),v=s(v,y),h?OT([],S,v,y,g,e):v):r(v,y):(v.issues.push({expected:"object",code:"invalid_type",input:S,inst:e}),v)}});function G2(e,t,r,n){for(const s of e)if(s.issues.length===0)return t.value=s.value,t;const a=e.filter(s=>!el(s));return a.length===1?(t.value=a[0].value,a[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(s=>s.issues.map(l=>Hs(l,n,qs())))}),t)}const C7=he("$ZodUnion",(e,t)=>{Ct.init(e,t),dt(e._zod,"optin",()=>t.options.some(a=>a._zod.optin==="optional")?"optional":void 0),dt(e._zod,"optout",()=>t.options.some(a=>a._zod.optout==="optional")?"optional":void 0),dt(e._zod,"values",()=>{if(t.options.every(a=>a._zod.values))return new Set(t.options.flatMap(a=>Array.from(a._zod.values)))}),dt(e._zod,"pattern",()=>{if(t.options.every(a=>a._zod.pattern)){const a=t.options.map(s=>s._zod.pattern);return new RegExp(`^(${a.map(s=>gx(s.source)).join("|")})$`)}});const r=t.options.length===1,n=t.options[0]._zod.run;e._zod.parse=(a,s)=>{if(r)return n(a,s);let l=!1;const u=[];for(const d of t.options){const f=d._zod.run({value:a.value,issues:[]},s);if(f instanceof Promise)u.push(f),l=!0;else{if(f.issues.length===0)return f;u.push(f)}}return l?Promise.all(u).then(d=>G2(d,a,e,s)):G2(u,a,e,s)}}),P7=he("$ZodIntersection",(e,t)=>{Ct.init(e,t),e._zod.parse=(r,n)=>{const a=r.value,s=t.left._zod.run({value:a,issues:[]},n),l=t.right._zod.run({value:a,issues:[]},n);return s instanceof Promise||l instanceof Promise?Promise.all([s,l]).then(([d,f])=>Y2(r,d,f)):Y2(r,s,l)}});function Fy(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(tu(e)&&tu(t)){const r=Object.keys(t),n=Object.keys(e).filter(s=>r.indexOf(s)!==-1),a={...e,...t};for(const s of n){const l=Fy(e[s],t[s]);if(!l.valid)return{valid:!1,mergeErrorPath:[s,...l.mergeErrorPath]};a[s]=l.data}return{valid:!0,data:a}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let n=0;n<e.length;n++){const a=e[n],s=t[n],l=Fy(a,s);if(!l.valid)return{valid:!1,mergeErrorPath:[n,...l.mergeErrorPath]};r.push(l.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function Y2(e,t,r){if(t.issues.length&&e.issues.push(...t.issues),r.issues.length&&e.issues.push(...r.issues),el(e))return e;const n=Fy(t.value,r.value);if(!n.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(n.mergeErrorPath)}`);return e.value=n.data,e}const D7=he("$ZodEnum",(e,t)=>{Ct.init(e,t);const r=dT(t.entries),n=new Set(r);e._zod.values=n,e._zod.pattern=new RegExp(`^(${r.filter(a=>F8.has(typeof a)).map(a=>typeof a=="string"?v0(a):a.toString()).join("|")})$`),e._zod.parse=(a,s)=>{const l=a.value;return n.has(l)||a.issues.push({code:"invalid_value",values:r,input:l,inst:e}),a}}),R7=he("$ZodTransform",(e,t)=>{Ct.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new cT(e.constructor.name);const a=t.transform(r.value,r);if(n.async)return(a instanceof Promise?a:Promise.resolve(a)).then(l=>(r.value=l,r));if(a instanceof Promise)throw new sl;return r.value=a,r}});function W2(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const M7=he("$ZodOptional",(e,t)=>{Ct.init(e,t),e._zod.optin="optional",e._zod.optout="optional",dt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),dt(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${gx(r.source)})?$`):void 0}),e._zod.parse=(r,n)=>{if(t.innerType._zod.optin==="optional"){const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(s=>W2(s,r.value)):W2(a,r.value)}return r.value===void 0?r:t.innerType._zod.run(r,n)}}),$7=he("$ZodNullable",(e,t)=>{Ct.init(e,t),dt(e._zod,"optin",()=>t.innerType._zod.optin),dt(e._zod,"optout",()=>t.innerType._zod.optout),dt(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${gx(r.source)}|null)$`):void 0}),dt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(r,n)=>r.value===null?r:t.innerType._zod.run(r,n)}),I7=he("$ZodDefault",(e,t)=>{Ct.init(e,t),e._zod.optin="optional",dt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);if(r.value===void 0)return r.value=t.defaultValue,r;const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(s=>X2(s,t)):X2(a,t)}});function X2(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const L7=he("$ZodPrefault",(e,t)=>{Ct.init(e,t),e._zod.optin="optional",dt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>(n.direction==="backward"||r.value===void 0&&(r.value=t.defaultValue),t.innerType._zod.run(r,n))}),z7=he("$ZodNonOptional",(e,t)=>{Ct.init(e,t),dt(e._zod,"values",()=>{const r=t.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),e._zod.parse=(r,n)=>{const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(s=>J2(s,e)):J2(a,e)}});function J2(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const U7=he("$ZodCatch",(e,t)=>{Ct.init(e,t),dt(e._zod,"optin",()=>t.innerType._zod.optin),dt(e._zod,"optout",()=>t.innerType._zod.optout),dt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(s=>(r.value=s.value,s.issues.length&&(r.value=t.catchValue({...r,error:{issues:s.issues.map(l=>Hs(l,n,qs()))},input:r.value}),r.issues=[]),r)):(r.value=a.value,a.issues.length&&(r.value=t.catchValue({...r,error:{issues:a.issues.map(s=>Hs(s,n,qs()))},input:r.value}),r.issues=[]),r)}}),B7=he("$ZodPipe",(e,t)=>{Ct.init(e,t),dt(e._zod,"values",()=>t.in._zod.values),dt(e._zod,"optin",()=>t.in._zod.optin),dt(e._zod,"optout",()=>t.out._zod.optout),dt(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(r,n)=>{if(n.direction==="backward"){const s=t.out._zod.run(r,n);return s instanceof Promise?s.then(l=>Sf(l,t.in,n)):Sf(s,t.in,n)}const a=t.in._zod.run(r,n);return a instanceof Promise?a.then(s=>Sf(s,t.out,n)):Sf(a,t.out,n)}});function Sf(e,t,r){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},r)}const q7=he("$ZodReadonly",(e,t)=>{Ct.init(e,t),dt(e._zod,"propValues",()=>t.innerType._zod.propValues),dt(e._zod,"values",()=>t.innerType._zod.values),dt(e._zod,"optin",()=>t.innerType?._zod?.optin),dt(e._zod,"optout",()=>t.innerType?._zod?.optout),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(Q2):Q2(a)}});function Q2(e){return e.value=Object.freeze(e.value),e}const H7=he("$ZodCustom",(e,t)=>{Jr.init(e,t),Ct.init(e,t),e._zod.parse=(r,n)=>r,e._zod.check=r=>{const n=r.value,a=t.fn(n);if(a instanceof Promise)return a.then(s=>ej(s,r,n,e));ej(a,r,n,e)}});function ej(e,t,r,n){if(!e){const a={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(a.params=n._zod.def.params),t.issues.push(ru(a))}}var tj;class F7{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...r){const n=r[0];if(this._map.set(t,n),n&&typeof n=="object"&&"id"in n){if(this._idmap.has(n.id))throw new Error(`ID ${n.id} already exists in the registry`);this._idmap.set(n.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const r=this._map.get(t);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(t),this}get(t){const r=t._zod.parent;if(r){const n={...this.get(r)??{}};delete n.id;const a={...n,...this._map.get(t)};return Object.keys(a).length?a:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function V7(){return new F7}(tj=globalThis).__zod_globalRegistry??(tj.__zod_globalRegistry=V7());const Bc=globalThis.__zod_globalRegistry;function K7(e,t){return new e({type:"string",...Pe(t)})}function Z7(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...Pe(t)})}function rj(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...Pe(t)})}function G7(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...Pe(t)})}function Y7(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Pe(t)})}function W7(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Pe(t)})}function X7(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Pe(t)})}function J7(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...Pe(t)})}function Q7(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...Pe(t)})}function eU(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...Pe(t)})}function tU(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...Pe(t)})}function rU(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...Pe(t)})}function nU(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...Pe(t)})}function aU(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...Pe(t)})}function iU(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...Pe(t)})}function sU(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...Pe(t)})}function oU(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...Pe(t)})}function lU(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Pe(t)})}function cU(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Pe(t)})}function uU(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...Pe(t)})}function dU(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...Pe(t)})}function fU(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...Pe(t)})}function hU(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...Pe(t)})}function mU(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Pe(t)})}function pU(e,t){return new e({type:"string",format:"date",check:"string_format",...Pe(t)})}function gU(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...Pe(t)})}function vU(e,t){return new e({type:"string",format:"duration",check:"string_format",...Pe(t)})}function yU(e,t){return new e({type:"number",checks:[],...Pe(t)})}function bU(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...Pe(t)})}function xU(e,t){return new e({type:"boolean",...Pe(t)})}function wU(e){return new e({type:"any"})}function _U(e){return new e({type:"unknown"})}function SU(e,t){return new e({type:"never",...Pe(t)})}function nj(e,t){return new _T({check:"less_than",...Pe(t),value:e,inclusive:!1})}function qg(e,t){return new _T({check:"less_than",...Pe(t),value:e,inclusive:!0})}function aj(e,t){return new ST({check:"greater_than",...Pe(t),value:e,inclusive:!1})}function Hg(e,t){return new ST({check:"greater_than",...Pe(t),value:e,inclusive:!0})}function ij(e,t){return new Lz({check:"multiple_of",...Pe(t),value:e})}function NT(e,t){return new Uz({check:"max_length",...Pe(t),maximum:e})}function gh(e,t){return new Bz({check:"min_length",...Pe(t),minimum:e})}function AT(e,t){return new qz({check:"length_equals",...Pe(t),length:e})}function kU(e,t){return new Hz({check:"string_format",format:"regex",...Pe(t),pattern:e})}function jU(e){return new Fz({check:"string_format",format:"lowercase",...Pe(e)})}function EU(e){return new Vz({check:"string_format",format:"uppercase",...Pe(e)})}function OU(e,t){return new Kz({check:"string_format",format:"includes",...Pe(t),includes:e})}function NU(e,t){return new Zz({check:"string_format",format:"starts_with",...Pe(t),prefix:e})}function AU(e,t){return new Gz({check:"string_format",format:"ends_with",...Pe(t),suffix:e})}function kl(e){return new Yz({check:"overwrite",tx:e})}function TU(e){return kl(t=>t.normalize(e))}function CU(){return kl(e=>e.trim())}function PU(){return kl(e=>e.toLowerCase())}function DU(){return kl(e=>e.toUpperCase())}function RU(){return kl(e=>q8(e))}function MU(e,t,r){return new e({type:"array",element:t,...Pe(r)})}function $U(e,t,r){return new e({type:"custom",check:"custom",fn:t,...Pe(r)})}function IU(e){const t=LU(r=>(r.addIssue=n=>{if(typeof n=="string")r.issues.push(ru(n,r.value,t._zod.def));else{const a=n;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=r.value),a.inst??(a.inst=t),a.continue??(a.continue=!t._zod.def.abort),r.issues.push(ru(a))}},e(r.value,r)));return t}function LU(e,t){const r=new Jr({check:"custom",...Pe(t)});return r._zod.check=e,r}function TT(e){let t=e?.target??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:e?.metadata??Bc,target:t,unrepresentable:e?.unrepresentable??"throw",override:e?.override??(()=>{}),io:e?.io??"output",counter:0,seen:new Map,cycles:e?.cycles??"ref",reused:e?.reused??"inline",external:e?.external??void 0}}function br(e,t,r={path:[],schemaPath:[]}){var n;const a=e._zod.def,s=t.seen.get(e);if(s)return s.count++,r.schemaPath.includes(e)&&(s.cycle=r.path),s.schema;const l={schema:{},count:1,cycle:void 0,path:r.path};t.seen.set(e,l);const u=e._zod.toJSONSchema?.();if(u)l.schema=u;else{const h={...r,schemaPath:[...r.schemaPath,e],path:r.path},g=e._zod.parent;if(g)l.ref=g,br(g,t,h),t.seen.get(g).isParent=!0;else if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,l.schema,h);else{const v=l.schema,y=t.processors[a.type];if(!y)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${a.type}`);y(e,t,v,h)}}const d=t.metadataRegistry.get(e);return d&&Object.assign(l.schema,d),t.io==="input"&&Pr(e)&&(delete l.schema.examples,delete l.schema.default),t.io==="input"&&l.schema._prefault&&((n=l.schema).default??(n.default=l.schema._prefault)),delete l.schema._prefault,t.seen.get(e).schema}function CT(e,t){const r=e.seen.get(t);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");const n=s=>{const l=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const h=e.external.registry.get(s[0])?.id,g=e.external.uri??(y=>y);if(h)return{ref:g(h)};const v=s[1].defId??s[1].schema.id??`schema${e.counter++}`;return s[1].defId=v,{defId:v,ref:`${g("__shared")}#/${l}/${v}`}}if(s[1]===r)return{ref:"#"};const d=`#/${l}/`,f=s[1].schema.id??`__schema${e.counter++}`;return{defId:f,ref:d+f}},a=s=>{if(s[1].schema.$ref)return;const l=s[1],{ref:u,defId:d}=n(s);l.def={...l.schema},d&&(l.defId=d);const f=l.schema;for(const h in f)delete f[h];f.$ref=u};if(e.cycles==="throw")for(const s of e.seen.entries()){const l=s[1];if(l.cycle)throw new Error(`Cycle detected: #/${l.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const s of e.seen.entries()){const l=s[1];if(t===s[0]){a(s);continue}if(e.external){const d=e.external.registry.get(s[0])?.id;if(t!==s[0]&&d){a(s);continue}}if(e.metadataRegistry.get(s[0])?.id){a(s);continue}if(l.cycle){a(s);continue}if(l.count>1&&e.reused==="ref"){a(s);continue}}}function PT(e,t){const r=e.seen.get(t);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");const n=l=>{const u=e.seen.get(l),d=u.def??u.schema,f={...d};if(u.ref===null)return;const h=u.ref;if(u.ref=null,h){n(h);const g=e.seen.get(h).schema;g.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(d.allOf=d.allOf??[],d.allOf.push(g)):(Object.assign(d,g),Object.assign(d,f))}u.isParent||e.override({zodSchema:l,jsonSchema:d,path:u.path??[]})};for(const l of[...e.seen.entries()].reverse())n(l[0]);const a={};if(e.target==="draft-2020-12"?a.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?a.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?a.$schema="http://json-schema.org/draft-04/schema#":e.target,e.external?.uri){const l=e.external.registry.get(t)?.id;if(!l)throw new Error("Schema is missing an `id` property");a.$id=e.external.uri(l)}Object.assign(a,r.def??r.schema);const s=e.external?.defs??{};for(const l of e.seen.entries()){const u=l[1];u.def&&u.defId&&(s[u.defId]=u.def)}e.external||Object.keys(s).length>0&&(e.target==="draft-2020-12"?a.$defs=s:a.definitions=s);try{const l=JSON.parse(JSON.stringify(a));return Object.defineProperty(l,"~standard",{value:{...t["~standard"],jsonSchema:{input:vh(t,"input"),output:vh(t,"output")}},enumerable:!1,writable:!1}),l}catch{throw new Error("Error converting schema to JSON.")}}function Pr(e,t){const r=t??{seen:new Set};if(r.seen.has(e))return!1;r.seen.add(e);const n=e._zod.def;if(n.type==="transform")return!0;if(n.type==="array")return Pr(n.element,r);if(n.type==="set")return Pr(n.valueType,r);if(n.type==="lazy")return Pr(n.getter(),r);if(n.type==="promise"||n.type==="optional"||n.type==="nonoptional"||n.type==="nullable"||n.type==="readonly"||n.type==="default"||n.type==="prefault")return Pr(n.innerType,r);if(n.type==="intersection")return Pr(n.left,r)||Pr(n.right,r);if(n.type==="record"||n.type==="map")return Pr(n.keyType,r)||Pr(n.valueType,r);if(n.type==="pipe")return Pr(n.in,r)||Pr(n.out,r);if(n.type==="object"){for(const a in n.shape)if(Pr(n.shape[a],r))return!0;return!1}if(n.type==="union"){for(const a of n.options)if(Pr(a,r))return!0;return!1}if(n.type==="tuple"){for(const a of n.items)if(Pr(a,r))return!0;return!!(n.rest&&Pr(n.rest,r))}return!1}const zU=(e,t={})=>r=>{const n=TT({...r,processors:t});return br(e,n),CT(n,e),PT(n,e)},vh=(e,t)=>r=>{const{libraryOptions:n,target:a}=r??{},s=TT({...n??{},target:a,io:t,processors:{}});return br(e,s),CT(s,e),PT(s,e)},UU={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},BU=(e,t,r,n)=>{const a=r;a.type="string";const{minimum:s,maximum:l,format:u,patterns:d,contentEncoding:f}=e._zod.bag;if(typeof s=="number"&&(a.minLength=s),typeof l=="number"&&(a.maxLength=l),u&&(a.format=UU[u]??u,a.format===""&&delete a.format),f&&(a.contentEncoding=f),d&&d.size>0){const h=[...d];h.length===1?a.pattern=h[0].source:h.length>1&&(a.allOf=[...h.map(g=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:g.source}))])}},qU=(e,t,r,n)=>{const a=r,{minimum:s,maximum:l,format:u,multipleOf:d,exclusiveMaximum:f,exclusiveMinimum:h}=e._zod.bag;typeof u=="string"&&u.includes("int")?a.type="integer":a.type="number",typeof h=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(a.minimum=h,a.exclusiveMinimum=!0):a.exclusiveMinimum=h),typeof s=="number"&&(a.minimum=s,typeof h=="number"&&t.target!=="draft-04"&&(h>=s?delete a.minimum:delete a.exclusiveMinimum)),typeof f=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(a.maximum=f,a.exclusiveMaximum=!0):a.exclusiveMaximum=f),typeof l=="number"&&(a.maximum=l,typeof f=="number"&&t.target!=="draft-04"&&(f<=l?delete a.maximum:delete a.exclusiveMaximum)),typeof d=="number"&&(a.multipleOf=d)},HU=(e,t,r,n)=>{r.type="boolean"},FU=(e,t,r,n)=>{r.not={}},VU=(e,t,r,n)=>{},KU=(e,t,r,n)=>{},ZU=(e,t,r,n)=>{const a=e._zod.def,s=dT(a.entries);s.every(l=>typeof l=="number")&&(r.type="number"),s.every(l=>typeof l=="string")&&(r.type="string"),r.enum=s},GU=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},YU=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},WU=(e,t,r,n)=>{const a=r,s=e._zod.def,{minimum:l,maximum:u}=e._zod.bag;typeof l=="number"&&(a.minItems=l),typeof u=="number"&&(a.maxItems=u),a.type="array",a.items=br(s.element,t,{...n,path:[...n.path,"items"]})},XU=(e,t,r,n)=>{const a=r,s=e._zod.def;a.type="object",a.properties={};const l=s.shape;for(const f in l)a.properties[f]=br(l[f],t,{...n,path:[...n.path,"properties",f]});const u=new Set(Object.keys(l)),d=new Set([...u].filter(f=>{const h=s.shape[f]._zod;return t.io==="input"?h.optin===void 0:h.optout===void 0}));d.size>0&&(a.required=Array.from(d)),s.catchall?._zod.def.type==="never"?a.additionalProperties=!1:s.catchall?s.catchall&&(a.additionalProperties=br(s.catchall,t,{...n,path:[...n.path,"additionalProperties"]})):t.io==="output"&&(a.additionalProperties=!1)},JU=(e,t,r,n)=>{const a=e._zod.def,s=a.inclusive===!1,l=a.options.map((u,d)=>br(u,t,{...n,path:[...n.path,s?"oneOf":"anyOf",d]}));s?r.oneOf=l:r.anyOf=l},QU=(e,t,r,n)=>{const a=e._zod.def,s=br(a.left,t,{...n,path:[...n.path,"allOf",0]}),l=br(a.right,t,{...n,path:[...n.path,"allOf",1]}),u=f=>"allOf"in f&&Object.keys(f).length===1,d=[...u(s)?s.allOf:[s],...u(l)?l.allOf:[l]];r.allOf=d},e9=(e,t,r,n)=>{const a=e._zod.def,s=br(a.innerType,t,n),l=t.seen.get(e);t.target==="openapi-3.0"?(l.ref=a.innerType,r.nullable=!0):r.anyOf=[s,{type:"null"}]},t9=(e,t,r,n)=>{const a=e._zod.def;br(a.innerType,t,n);const s=t.seen.get(e);s.ref=a.innerType},r9=(e,t,r,n)=>{const a=e._zod.def;br(a.innerType,t,n);const s=t.seen.get(e);s.ref=a.innerType,r.default=JSON.parse(JSON.stringify(a.defaultValue))},n9=(e,t,r,n)=>{const a=e._zod.def;br(a.innerType,t,n);const s=t.seen.get(e);s.ref=a.innerType,t.io==="input"&&(r._prefault=JSON.parse(JSON.stringify(a.defaultValue)))},a9=(e,t,r,n)=>{const a=e._zod.def;br(a.innerType,t,n);const s=t.seen.get(e);s.ref=a.innerType;let l;try{l=a.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}r.default=l},i9=(e,t,r,n)=>{const a=e._zod.def,s=t.io==="input"?a.in._zod.def.type==="transform"?a.out:a.in:a.out;br(s,t,n);const l=t.seen.get(e);l.ref=s},s9=(e,t,r,n)=>{const a=e._zod.def;br(a.innerType,t,n);const s=t.seen.get(e);s.ref=a.innerType,r.readOnly=!0},o9=(e,t,r,n)=>{const a=e._zod.def;br(a.innerType,t,n);const s=t.seen.get(e);s.ref=a.innerType},l9=he("ZodISODateTime",(e,t)=>{c7.init(e,t),Et.init(e,t)});function c9(e){return mU(l9,e)}const u9=he("ZodISODate",(e,t)=>{u7.init(e,t),Et.init(e,t)});function d9(e){return pU(u9,e)}const f9=he("ZodISOTime",(e,t)=>{d7.init(e,t),Et.init(e,t)});function h9(e){return gU(f9,e)}const m9=he("ZodISODuration",(e,t)=>{f7.init(e,t),Et.init(e,t)});function p9(e){return vU(m9,e)}const g9=(e,t)=>{gT.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:r=>tz(e,r)},flatten:{value:r=>ez(e,r)},addIssue:{value:r=>{e.issues.push(r),e.message=JSON.stringify(e.issues,Hy,2)}},addIssues:{value:r=>{e.issues.push(...r),e.message=JSON.stringify(e.issues,Hy,2)}},isEmpty:{get(){return e.issues.length===0}}})},zn=he("ZodError",g9,{Parent:Error}),v9=yx(zn),y9=bx(zn),b9=y0(zn),x9=b0(zn),w9=az(zn),_9=iz(zn),S9=sz(zn),k9=oz(zn),j9=lz(zn),E9=cz(zn),O9=uz(zn),N9=dz(zn),It=he("ZodType",(e,t)=>(Ct.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:vh(e,"input"),output:vh(e,"output")}}),e.toJSONSchema=zU(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone(Js(t,{checks:[...t.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]})),e.clone=(r,n)=>Ji(e,r,n),e.brand=()=>e,e.register=((r,n)=>(r.add(e,n),e)),e.parse=(r,n)=>v9(e,r,n,{callee:e.parse}),e.safeParse=(r,n)=>b9(e,r,n),e.parseAsync=async(r,n)=>y9(e,r,n,{callee:e.parseAsync}),e.safeParseAsync=async(r,n)=>x9(e,r,n),e.spa=e.safeParseAsync,e.encode=(r,n)=>w9(e,r,n),e.decode=(r,n)=>_9(e,r,n),e.encodeAsync=async(r,n)=>S9(e,r,n),e.decodeAsync=async(r,n)=>k9(e,r,n),e.safeEncode=(r,n)=>j9(e,r,n),e.safeDecode=(r,n)=>E9(e,r,n),e.safeEncodeAsync=async(r,n)=>O9(e,r,n),e.safeDecodeAsync=async(r,n)=>N9(e,r,n),e.refine=(r,n)=>e.check(_B(r,n)),e.superRefine=r=>e.check(SB(r)),e.overwrite=r=>e.check(kl(r)),e.optional=()=>cj(e),e.nullable=()=>uj(e),e.nullish=()=>cj(uj(e)),e.nonoptional=r=>pB(e,r),e.array=()=>rB(e),e.or=r=>iB([e,r]),e.and=r=>oB(e,r),e.transform=r=>dj(e,cB(r)),e.default=r=>fB(e,r),e.prefault=r=>mB(e,r),e.catch=r=>vB(e,r),e.pipe=r=>dj(e,r),e.readonly=()=>xB(e),e.describe=r=>{const n=e.clone();return Bc.add(n,{description:r}),n},Object.defineProperty(e,"description",{get(){return Bc.get(e)?.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return Bc.get(e);const n=e.clone();return Bc.add(n,r[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),DT=he("_ZodString",(e,t)=>{xx.init(e,t),It.init(e,t),e._zod.processJSONSchema=(n,a,s)=>BU(e,n,a);const r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...n)=>e.check(kU(...n)),e.includes=(...n)=>e.check(OU(...n)),e.startsWith=(...n)=>e.check(NU(...n)),e.endsWith=(...n)=>e.check(AU(...n)),e.min=(...n)=>e.check(gh(...n)),e.max=(...n)=>e.check(NT(...n)),e.length=(...n)=>e.check(AT(...n)),e.nonempty=(...n)=>e.check(gh(1,...n)),e.lowercase=n=>e.check(jU(n)),e.uppercase=n=>e.check(EU(n)),e.trim=()=>e.check(CU()),e.normalize=(...n)=>e.check(TU(...n)),e.toLowerCase=()=>e.check(PU()),e.toUpperCase=()=>e.check(DU()),e.slugify=()=>e.check(RU())}),A9=he("ZodString",(e,t)=>{xx.init(e,t),DT.init(e,t),e.email=r=>e.check(Z7(T9,r)),e.url=r=>e.check(J7(C9,r)),e.jwt=r=>e.check(hU(K9,r)),e.emoji=r=>e.check(Q7(P9,r)),e.guid=r=>e.check(rj(sj,r)),e.uuid=r=>e.check(G7(kf,r)),e.uuidv4=r=>e.check(Y7(kf,r)),e.uuidv6=r=>e.check(W7(kf,r)),e.uuidv7=r=>e.check(X7(kf,r)),e.nanoid=r=>e.check(eU(D9,r)),e.guid=r=>e.check(rj(sj,r)),e.cuid=r=>e.check(tU(R9,r)),e.cuid2=r=>e.check(rU(M9,r)),e.ulid=r=>e.check(nU($9,r)),e.base64=r=>e.check(uU(H9,r)),e.base64url=r=>e.check(dU(F9,r)),e.xid=r=>e.check(aU(I9,r)),e.ksuid=r=>e.check(iU(L9,r)),e.ipv4=r=>e.check(sU(z9,r)),e.ipv6=r=>e.check(oU(U9,r)),e.cidrv4=r=>e.check(lU(B9,r)),e.cidrv6=r=>e.check(cU(q9,r)),e.e164=r=>e.check(fU(V9,r)),e.datetime=r=>e.check(c9(r)),e.date=r=>e.check(d9(r)),e.time=r=>e.check(h9(r)),e.duration=r=>e.check(p9(r))});function wx(e){return K7(A9,e)}const Et=he("ZodStringFormat",(e,t)=>{jt.init(e,t),DT.init(e,t)}),T9=he("ZodEmail",(e,t)=>{e7.init(e,t),Et.init(e,t)}),sj=he("ZodGUID",(e,t)=>{Jz.init(e,t),Et.init(e,t)}),kf=he("ZodUUID",(e,t)=>{Qz.init(e,t),Et.init(e,t)}),C9=he("ZodURL",(e,t)=>{t7.init(e,t),Et.init(e,t)}),P9=he("ZodEmoji",(e,t)=>{r7.init(e,t),Et.init(e,t)}),D9=he("ZodNanoID",(e,t)=>{n7.init(e,t),Et.init(e,t)}),R9=he("ZodCUID",(e,t)=>{a7.init(e,t),Et.init(e,t)}),M9=he("ZodCUID2",(e,t)=>{i7.init(e,t),Et.init(e,t)}),$9=he("ZodULID",(e,t)=>{s7.init(e,t),Et.init(e,t)}),I9=he("ZodXID",(e,t)=>{o7.init(e,t),Et.init(e,t)}),L9=he("ZodKSUID",(e,t)=>{l7.init(e,t),Et.init(e,t)}),z9=he("ZodIPv4",(e,t)=>{h7.init(e,t),Et.init(e,t)}),U9=he("ZodIPv6",(e,t)=>{m7.init(e,t),Et.init(e,t)}),B9=he("ZodCIDRv4",(e,t)=>{p7.init(e,t),Et.init(e,t)}),q9=he("ZodCIDRv6",(e,t)=>{g7.init(e,t),Et.init(e,t)}),H9=he("ZodBase64",(e,t)=>{v7.init(e,t),Et.init(e,t)}),F9=he("ZodBase64URL",(e,t)=>{b7.init(e,t),Et.init(e,t)}),V9=he("ZodE164",(e,t)=>{x7.init(e,t),Et.init(e,t)}),K9=he("ZodJWT",(e,t)=>{_7.init(e,t),Et.init(e,t)}),RT=he("ZodNumber",(e,t)=>{jT.init(e,t),It.init(e,t),e._zod.processJSONSchema=(n,a,s)=>qU(e,n,a),e.gt=(n,a)=>e.check(aj(n,a)),e.gte=(n,a)=>e.check(Hg(n,a)),e.min=(n,a)=>e.check(Hg(n,a)),e.lt=(n,a)=>e.check(nj(n,a)),e.lte=(n,a)=>e.check(qg(n,a)),e.max=(n,a)=>e.check(qg(n,a)),e.int=n=>e.check(oj(n)),e.safe=n=>e.check(oj(n)),e.positive=n=>e.check(aj(0,n)),e.nonnegative=n=>e.check(Hg(0,n)),e.negative=n=>e.check(nj(0,n)),e.nonpositive=n=>e.check(qg(0,n)),e.multipleOf=(n,a)=>e.check(ij(n,a)),e.step=(n,a)=>e.check(ij(n,a)),e.finite=()=>e;const r=e._zod.bag;e.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function Vi(e){return yU(RT,e)}const Z9=he("ZodNumberFormat",(e,t)=>{S7.init(e,t),RT.init(e,t)});function oj(e){return bU(Z9,e)}const G9=he("ZodBoolean",(e,t)=>{k7.init(e,t),It.init(e,t),e._zod.processJSONSchema=(r,n,a)=>HU(e,r,n)});function Y9(e){return xU(G9,e)}const W9=he("ZodAny",(e,t)=>{j7.init(e,t),It.init(e,t),e._zod.processJSONSchema=(r,n,a)=>VU()});function X9(){return wU(W9)}const J9=he("ZodUnknown",(e,t)=>{E7.init(e,t),It.init(e,t),e._zod.processJSONSchema=(r,n,a)=>KU()});function lj(){return _U(J9)}const Q9=he("ZodNever",(e,t)=>{O7.init(e,t),It.init(e,t),e._zod.processJSONSchema=(r,n,a)=>FU(e,r,n)});function eB(e){return SU(Q9,e)}const tB=he("ZodArray",(e,t)=>{N7.init(e,t),It.init(e,t),e._zod.processJSONSchema=(r,n,a)=>WU(e,r,n,a),e.element=t.element,e.min=(r,n)=>e.check(gh(r,n)),e.nonempty=r=>e.check(gh(1,r)),e.max=(r,n)=>e.check(NT(r,n)),e.length=(r,n)=>e.check(AT(r,n)),e.unwrap=()=>e.element});function rB(e,t){return MU(tB,e,t)}const nB=he("ZodObject",(e,t)=>{T7.init(e,t),It.init(e,t),e._zod.processJSONSchema=(r,n,a)=>XU(e,r,n,a),dt(e,"shape",()=>t.shape),e.keyof=()=>_x(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:lj()}),e.loose=()=>e.clone({...e._zod.def,catchall:lj()}),e.strict=()=>e.clone({...e._zod.def,catchall:eB()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>Y8(e,r),e.safeExtend=r=>W8(e,r),e.merge=r=>X8(e,r),e.pick=r=>Z8(e,r),e.omit=r=>G8(e,r),e.partial=(...r)=>J8(MT,e,r[0]),e.required=(...r)=>Q8($T,e,r[0])});function w0(e,t){const r={type:"object",shape:e??{},...Pe(t)};return new nB(r)}const aB=he("ZodUnion",(e,t)=>{C7.init(e,t),It.init(e,t),e._zod.processJSONSchema=(r,n,a)=>JU(e,r,n,a),e.options=t.options});function iB(e,t){return new aB({type:"union",options:e,...Pe(t)})}const sB=he("ZodIntersection",(e,t)=>{P7.init(e,t),It.init(e,t),e._zod.processJSONSchema=(r,n,a)=>QU(e,r,n,a)});function oB(e,t){return new sB({type:"intersection",left:e,right:t})}const Vy=he("ZodEnum",(e,t)=>{D7.init(e,t),It.init(e,t),e._zod.processJSONSchema=(n,a,s)=>ZU(e,n,a),e.enum=t.entries,e.options=Object.values(t.entries);const r=new Set(Object.keys(t.entries));e.extract=(n,a)=>{const s={};for(const l of n)if(r.has(l))s[l]=t.entries[l];else throw new Error(`Key ${l} not found in enum`);return new Vy({...t,checks:[],...Pe(a),entries:s})},e.exclude=(n,a)=>{const s={...t.entries};for(const l of n)if(r.has(l))delete s[l];else throw new Error(`Key ${l} not found in enum`);return new Vy({...t,checks:[],...Pe(a),entries:s})}});function _x(e,t){const r=Array.isArray(e)?Object.fromEntries(e.map(n=>[n,n])):e;return new Vy({type:"enum",entries:r,...Pe(t)})}const lB=he("ZodTransform",(e,t)=>{R7.init(e,t),It.init(e,t),e._zod.processJSONSchema=(r,n,a)=>YU(e,r),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new cT(e.constructor.name);r.addIssue=s=>{if(typeof s=="string")r.issues.push(ru(s,r.value,t));else{const l=s;l.fatal&&(l.continue=!1),l.code??(l.code="custom"),l.input??(l.input=r.value),l.inst??(l.inst=e),r.issues.push(ru(l))}};const a=t.transform(r.value,r);return a instanceof Promise?a.then(s=>(r.value=s,r)):(r.value=a,r)}});function cB(e){return new lB({type:"transform",transform:e})}const MT=he("ZodOptional",(e,t)=>{M7.init(e,t),It.init(e,t),e._zod.processJSONSchema=(r,n,a)=>o9(e,r,n,a),e.unwrap=()=>e._zod.def.innerType});function cj(e){return new MT({type:"optional",innerType:e})}const uB=he("ZodNullable",(e,t)=>{$7.init(e,t),It.init(e,t),e._zod.processJSONSchema=(r,n,a)=>e9(e,r,n,a),e.unwrap=()=>e._zod.def.innerType});function uj(e){return new uB({type:"nullable",innerType:e})}const dB=he("ZodDefault",(e,t)=>{I7.init(e,t),It.init(e,t),e._zod.processJSONSchema=(r,n,a)=>r9(e,r,n,a),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function fB(e,t){return new dB({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():hT(t)}})}const hB=he("ZodPrefault",(e,t)=>{L7.init(e,t),It.init(e,t),e._zod.processJSONSchema=(r,n,a)=>n9(e,r,n,a),e.unwrap=()=>e._zod.def.innerType});function mB(e,t){return new hB({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():hT(t)}})}const $T=he("ZodNonOptional",(e,t)=>{z7.init(e,t),It.init(e,t),e._zod.processJSONSchema=(r,n,a)=>t9(e,r,n,a),e.unwrap=()=>e._zod.def.innerType});function pB(e,t){return new $T({type:"nonoptional",innerType:e,...Pe(t)})}const gB=he("ZodCatch",(e,t)=>{U7.init(e,t),It.init(e,t),e._zod.processJSONSchema=(r,n,a)=>a9(e,r,n,a),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function vB(e,t){return new gB({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const yB=he("ZodPipe",(e,t)=>{B7.init(e,t),It.init(e,t),e._zod.processJSONSchema=(r,n,a)=>i9(e,r,n,a),e.in=t.in,e.out=t.out});function dj(e,t){return new yB({type:"pipe",in:e,out:t})}const bB=he("ZodReadonly",(e,t)=>{q7.init(e,t),It.init(e,t),e._zod.processJSONSchema=(r,n,a)=>s9(e,r,n,a),e.unwrap=()=>e._zod.def.innerType});function xB(e){return new bB({type:"readonly",innerType:e})}const wB=he("ZodCustom",(e,t)=>{H7.init(e,t),It.init(e,t),e._zod.processJSONSchema=(r,n,a)=>GU(e,r)});function _B(e,t={}){return $U(wB,e,t)}function SB(e){return IU(e)}w0({name:wx().min(1,"SKU Name is required"),bottlesPerCase:Vi().min(1),bottlesPerTruck:Vi().min(1),casesPerPallet:Vi().min(1),scrapPercentage:Vi().min(0).default(0)});const kB=w0({date:wx().regex(/^\d{4}-\d{2}-\d{2}$/,"Date must be YYYY-MM-DD"),type:_x(["demand_plan","inbound_trucks","production_actual","truck_manifest_json"]),value:Vi(),metaJson:X9().optional()});w0({productionRate:Vi().min(0),downtimeHours:Vi().min(0),isAutoReplenish:Y9().optional()});const jB=w0({date:wx().regex(/^\d{4}-\d{2}-\d{2}$/),count:Vi().min(0),location:_x(["floor","yard"])}),EB=async e=>{const[t,r,n,a]=await Promise.all([Me.from("planning_entries").select("date, entry_type, value, meta_json").eq("product_id",e),Me.from("production_settings").select("*").eq("product_id",e).maybeSingle(),Me.from("inventory_snapshots").select("*").eq("product_id",e).eq("location","floor").order("date",{ascending:!1}).limit(1).maybeSingle(),Me.from("inventory_snapshots").select("*").eq("product_id",e).eq("location","yard").order("date",{ascending:!1}).limit(1).maybeSingle()]);return{entries:t.data||[],settings:r.data,snapshotFloor:n.data,snapshotYard:a.data}},OB=async(e,t,r,n,a,s=null)=>{if(a==null){const{error:d}=await Me.from("planning_entries").delete().eq("product_id",e).eq("date",r).eq("entry_type",n);if(d)throw d;return}try{kB.parse({date:r,type:n,value:a,metaJson:s})}catch(d){throw console.error("Validation Failed:",d),new Error(`Invalid Planning Entry: ${d.errors[0].message}`)}const{data:l}=await Me.from("planning_entries").select("id").eq("product_id",e).eq("date",r).eq("entry_type",n).maybeSingle(),u={product_id:e,user_id:t,date:r,entry_type:n,value:a,meta_json:s};if(l){const{error:d}=await Me.from("planning_entries").update({value:a,meta_json:s,user_id:t}).eq("id",l.id);if(d)throw d}else{const{error:d}=await Me.from("planning_entries").insert(u);if(d)throw d}},jf=async(e,t,r)=>{if(t==="production_rate"&&typeof r=="number"&&r<0)throw new Error("Production Rate cannot be negative");if(t==="downtime_hours"&&typeof r=="number"&&r<0)throw new Error("Downtime cannot be negative");const{data:n}=await Me.from("production_settings").select("id").eq("product_id",e).limit(1),a=n&&n.length>0?n[0].id:null,s={product_id:e,[t]:r};a&&(s.id=a);const{error:l}=await Me.from("production_settings").upsert(s);if(l)throw console.error("Error saving production setting:",l),l},NB=async e=>{if(!e.length)return;const{error:t}=await Me.from("planning_entries").upsert(e,{onConflict:"product_id, date, entry_type"});if(t)throw t},fj=async(e,t,r,n,a="floor")=>{try{jB.parse({date:r,count:n,location:a})}catch(l){throw new Error(`Invalid Snapshot: ${l.errors[0].message}`)}const{error:s}=await Me.from("inventory_snapshots").upsert({product_id:e,user_id:t,date:r,location:a,quantity_pallets:n},{onConflict:"product_id, date, location"});if(s)throw s},AB=async()=>{const{data:e,error:t}=await Me.from("procurement_orders").select("*").order("date",{ascending:!0});if(t)throw t;return e||[]},TB=async(e,t)=>{const r={po_number:e.po,quantity:e.qty,sku:e.sku,supplier:e.supplier,carrier:e.carrier,status:e.status||"planned",date:e.date,delivery_time:e.time,user_id:t},{data:n}=await Me.from("procurement_orders").select("id").eq("po_number",e.po).maybeSingle();n?await Me.from("procurement_orders").update(r).eq("id",n.id):await Me.from("procurement_orders").insert(r)},CB=async e=>{const{error:t}=await Me.from("procurement_orders").delete().eq("po_number",e);if(t)throw t},PB=async e=>{const{data:t,error:r}=await Me.from("profiles").select("lead_time_days, safety_stock_loads, dashboard_layout, theme").eq("id",e).maybeSingle();return r?(console.error("Error fetching profile:",r),null):t},DB=async(e,t)=>{const r={id:e,...t,updated_at:new Date().toISOString()},{error:n}=await Me.from("profiles").upsert(r);if(n)throw n},jl=()=>{const e=x.useCallback(async(g,v)=>{if(!g)return{success:!1,error:"No user"};try{for(const y of v){const S=await wf(g.id,y),k=localStorage.getItem(`mrp_${y}_productionRate`),_=localStorage.getItem(`mrp_${y}_downtimeHours`),j=localStorage.getItem(`mrp_${y}_isAutoReplenish`);(k||_||j)&&(await jf(S,"production_rate",k?Number(k):null),await jf(S,"downtime_hours",_?Number(_):null),await jf(S,"is_auto_replenish",j==="true"));const O=[{key:"monthlyDemand",type:"demand_plan"},{key:"monthlyInbound",type:"inbound_trucks"},{key:"monthlyProductionActuals",type:"production_actual"}],E=[];for(const{key:N,type:C}of O){const P=localStorage.getItem(`mrp_${y}_${N}`);if(P)try{const T=JSON.parse(P);Object.entries(T).forEach(([R,M])=>{E.push({product_id:S,user_id:g.id,date:R,entry_type:C,value:Number(M)})})}catch{}}E.length>0&&await NB(E);const D=localStorage.getItem(`mrp_${y}_inventoryAnchor`);if(D)try{const N=JSON.parse(D);await fj(S,g.id,N.date,Number(N.count),"floor")}catch{}}return{success:!0}}catch(y){return console.error("Migration Failed:",y),{success:!1,error:y}}},[]),t=x.useCallback(async(g,v)=>{console.log(`[SupabaseSync] Fetching MRP State for User: ${g}, SKU: ${v}`);const y=await L8(g,v);if(!y)return console.warn(`[SupabaseSync] Product not found: ${v}`),null;console.log(`[SupabaseSync] Product Found: ${y.id}. Fetching Details...`);const{entries:S,settings:k,snapshotFloor:_,snapshotYard:j}=await EB(y.id);console.log(`[SupabaseSync] Entries fetched: ${S?.length||0}`);const O={},E={},D={},N={};S?.forEach(T=>{const R=Number(T.value);T.entry_type==="demand_plan"&&(O[T.date]=R),T.entry_type==="inbound_trucks"&&(E[T.date]=R),T.entry_type==="production_actual"&&(D[T.date]=R),T.entry_type==="truck_manifest_json"&&(N[T.date]=T.meta_json||[])});const C=_?{date:_.date,count:Number(_.quantity_pallets)}:null,P=j?{count:Number(j.quantity_pallets),date:j.date}:{count:0,date:null};return{product:y,monthlyDemand:O,monthlyInbound:E,monthlyProductionActuals:D,productionRate:k?.production_rate||5e3,downtimeHours:k?.downtime_hours||0,isAutoReplenish:k?.is_auto_replenish!==!1,inventoryAnchor:C,yardInventory:P,truckManifest:N}},[]),r=x.useCallback(async(g,v,y,S,k)=>{const _=await wf(g,v);let j=typeof k=="number"?k:null,O=null;S==="truck_manifest_json"&&Array.isArray(k)?(j=k.length,O=k):j=Number(k),await OB(_,g,y,S,j,O)},[]),n=x.useCallback(async(g,v,y,S)=>{const k=await wf(g,v);await jf(k,y,S)},[]),a=x.useCallback(async(g,v,y,S,k="floor")=>{const _=await wf(g,v);await fj(_,g,y,S,k)},[]),s=x.useCallback(async g=>await PB(g),[]),l=x.useCallback(async(g,v)=>{await DB(g,v)},[]),u=x.useCallback(async(g,v,y="viewer")=>{if(!g)return;if(!["admin","planner"].includes(y)){console.warn("Upload skipped: insufficient role (client-side check). RLS would likely reject this.");return}const{count:S,error:k}=await Me.from("products").select("*",{count:"exact",head:!0}).eq("user_id",g.id);if(k){console.error("Migration Check Failed:",k);return}S===0&&await e(g,v)},[e]),d=x.useCallback(async g=>{if(!g.po)return;const v=(await Me.auth.getUser()).data.user;v&&await TB(g,v.id)},[]),f=x.useCallback(async g=>{await CB(g)},[]),h=x.useCallback(async()=>{const g=await AB(),v={};return g.forEach(y=>{v[y.date]||(v[y.date]={items:[]}),v[y.date].items.push({id:y.id,po:y.po_number,qty:Number(y.quantity),sku:y.sku||"",supplier:y.supplier,status:y.status,date:y.date,time:y.delivery_time||"",carrier:y.carrier||"",palletStats:y.meta_data?y.meta_data.palletStats:void 0})}),v},[]);return{supabase:Me,fetchMRPState:t,savePlanningEntry:r,saveProductionSetting:n,saveInventorySnapshot:a,migrateLocalStorage:e,uploadLocalData:u,fetchUserProfile:s,saveUserProfile:l,saveProcurementEntry:d,deleteProcurementEntry:f,fetchProcurementData:h}};function nu({table:e,filter:t,event:r="*",schema:n="public",onDataChange:a,enabled:s=!0}){x.useEffect(()=>{if(!s)return;const l=`public:${e}${t?`:${t}`:""}`,u={event:r,schema:n,table:e,filter:t||void 0},d=Me.channel(l).on("postgres_changes",u,f=>{a(f)}).subscribe(f=>{});return()=>{Me.removeChannel(d)}},[e,t,r,n,a,s])}const un={safetyStockLoads:6,csvMapping:{statusColumn:"Trailer State",fullValue:"Loaded - Inbound",skuColumn:"Commodity"},dashboardLayout:{top:["kpis"],col1:["demand"],col2:["chart","inventory","production"]},leadTimeDays:2},IT=x.createContext(void 0);function RB({children:e}){const{user:t}=Ar(),{fetchUserProfile:r,saveUserProfile:n}=jl(),[a,s]=x.useState(()=>{try{const C=localStorage.getItem("safetyStockLoads");if(C===null)return un.safetyStockLoads;const P=Number(C);return!isNaN(P)&&P>=0?P:un.safetyStockLoads}catch{return un.safetyStockLoads}}),[l,u]=x.useState(()=>{try{const C=localStorage.getItem("csvMapping");return C?JSON.parse(C):un.csvMapping}catch{return un.csvMapping}}),[d,f]=x.useState(()=>{try{const C=localStorage.getItem("dashboardLayout");let P=C?JSON.parse(C):un.dashboardLayout;return P.top&&P.top.includes("demand")&&(P.top=P.top.filter(T=>T!=="demand"),P.col1.includes("demand")||P.col1.unshift("demand")),{top:P.top||["kpis"],col1:P.col1||["demand"],col2:P.col2||["chart","inventory","production"],...P}}catch{return un.dashboardLayout}}),[h,g]=x.useState(()=>{try{const C=localStorage.getItem("leadTimeDays"),P=Number(C);return!isNaN(P)&&P>=0?P:un.leadTimeDays}catch{return un.leadTimeDays}}),[v,y]=x.useState(()=>localStorage.getItem("activeSku")||"20oz"),[S,k]=x.useState(()=>localStorage.getItem("theme")||"light"),[_,j]=x.useState(()=>{try{const C=localStorage.getItem("sched_targetDailyProduction"),P=localStorage.getItem("sched_shiftStartTime"),T=localStorage.getItem("sched_poAssignments"),R=localStorage.getItem("sched_cancelledLoads");return C!==null||P!==null||T!==null?{targetDailyProduction:C?Number(C):0,shiftStartTime:P||"00:00",poAssignments:T?JSON.parse(T):{},cancelledLoads:R?JSON.parse(R):[]}:{targetDailyProduction:0,shiftStartTime:"00:00",poAssignments:{},cancelledLoads:[]}}catch{return{targetDailyProduction:0,shiftStartTime:"00:00",poAssignments:{},cancelledLoads:[]}}});nu({table:"profiles",filter:t?`id=eq.${t.id}`:void 0,event:"UPDATE",enabled:!!t,onDataChange:C=>{const P=C.new;if(P&&(P.lead_time_days!==void 0&&P.lead_time_days!==null&&g(Number(P.lead_time_days)),P.safety_stock_loads!==void 0&&P.safety_stock_loads!==null&&s(Number(P.safety_stock_loads)),P.theme&&k(P.theme),P.dashboard_layout)){const T=P.dashboard_layout;f(R=>({...R,top:T.top||R.top,col1:T.col1||R.col1,col2:T.col2||R.col2})),T.scheduler&&j(R=>({...R,...T.scheduler}))}}}),x.useEffect(()=>{t&&r(t.id).then(C=>{if(C){if(C.lead_time_days!==null&&g(C.lead_time_days),C.safety_stock_loads!==null&&s(C.safety_stock_loads),C.dashboard_layout){const P=C.dashboard_layout;f(T=>({...T,top:P.top||T.top,col1:P.col1||T.col1,col2:P.col2||T.col2})),P.scheduler&&j(T=>({...T,...P.scheduler}))}C.theme&&k(C.theme)}})},[t,r]),x.useEffect(()=>{localStorage.setItem("safetyStockLoads",JSON.stringify(a)),t&&n(t.id,{safety_stock_loads:a})},[a,t,n]),x.useEffect(()=>{localStorage.setItem("leadTimeDays",JSON.stringify(h)),t&&n(t.id,{lead_time_days:h})},[h,t,n]),x.useEffect(()=>{localStorage.setItem("csvMapping",JSON.stringify(l))},[l]),x.useEffect(()=>{localStorage.setItem("activeSku",v)},[v]),x.useEffect(()=>{const C=window.document.documentElement;S==="dark"?C.classList.add("dark"):C.classList.remove("dark"),localStorage.setItem("theme",S),t&&n(t.id,{theme:S})},[S,t,n]),x.useEffect(()=>{if(localStorage.setItem("dashboardLayout",JSON.stringify(d)),localStorage.setItem("settings_scheduler",JSON.stringify(_)),t){const C={...d,scheduler:_};n(t.id,{dashboard_layout:C})}},[d,_,t,n]);const O=x.useCallback((C,P)=>{u(T=>({...T,[C]:P}))},[]),E=x.useCallback((C,P)=>{j(T=>({...T,[C]:P}))},[]),D=x.useCallback(()=>{s(un.safetyStockLoads),g(un.leadTimeDays),u(un.csvMapping),f(un.dashboardLayout),j({targetDailyProduction:0,shiftStartTime:"00:00",poAssignments:{},cancelledLoads:[]})},[]),N=x.useMemo(()=>({safetyStockLoads:a,leadTimeDays:h,csvMapping:l,dashboardLayout:d,schedulerSettings:_,theme:S,activeSku:v,setTheme:k,setDashboardLayout:f,setSafetyStockLoads:C=>{const P=Number(C);s(!isNaN(P)&&P>=0?P:0)},setLeadTimeDays:C=>{const P=Number(C);g(!isNaN(P)&&P>=0?P:2)},updateCsvMapping:O,updateSchedulerSetting:E,resetDefaults:D,setActiveSku:y,updateGlobalSetting:(C,P)=>{C==="leadTimeDays"&&g(Number(P)),C==="safetyStockLoads"&&s(Number(P))}}),[a,h,l,d,_,S,v,O,E,D]);return p.jsx(IT.Provider,{value:N,children:e})}function ra(){const e=x.useContext(IT);if(!e)throw new Error("useSettings must be used within a SettingsProvider");return e}const LT=x.createContext();function xr(){return x.useContext(LT)}function MB({children:e}){const{user:t}=Ar(),[r,n]=x.useState(()=>{try{const h=localStorage.getItem("ubp_products_list");return h?JSON.parse(h):[]}catch{return[]}}),[a,s]=x.useState(()=>!localStorage.getItem("ubp_products_list")),l=async()=>{if(t)try{const{data:h,error:g}=await Me.from("products").select(`
                    *,
                    production_settings (
                        line_name,
                        production_rate
                    )
                `);if(g)throw g;const v=h||[];n(v),localStorage.setItem("ubp_products_list",JSON.stringify(v))}catch(h){console.error("Error loading products:",h)}finally{s(!1)}},u=async(h,g)=>{const v=r.find(S=>S.name===h);if(!v)return;const y=r.map(S=>S.name===h?{...S,...g}:S);n(y);try{const{error:S}=await Me.from("products").update(g).eq("id",v.id);if(S)throw S}catch(S){console.error("Failed to update product settings",S),l()}};x.useEffect(()=>{l()},[t]);const d=x.useMemo(()=>{const h={};return r.forEach(g=>{const y=(g.production_settings?.find(S=>S.line_name==="Line 1")||g.production_settings?.[0])?.production_rate||0;h[g.name]={bottlesPerCase:g.bottles_per_case,bottlesPerTruck:g.bottles_per_truck,casesPerTruck:Math.floor((g.bottles_per_truck||0)/(g.bottles_per_case||1)),casesPerPallet:g.cases_per_pallet,palletsPerTruck:22,productionRate:y,scrapPercentage:0,leadTimeDays:g.lead_time_days,safetyStockLoads:g.safety_stock_loads,id:g.id}}),h},[r]),f={products:r,productMap:d,loading:a,refreshProducts:l,updateProductSettings:u,getProductSpecs:h=>d[h]||null};return p.jsx(LT.Provider,{value:f,children:e})}const zT=(e,t="00:00",r,n,a=1,s=0)=>{if(!n||n<=0)return"";let l=n,u=r;a>1&&n<1e4&&r>2e4&&(u=r/a);const d=u/l;let f=d;s>0&&s*d>23.5&&(f=23.5/s);const[h,g]=t.split(":").map(Number);let S=((h||0)+(g||0)/60+e*f)%24;S<0&&(S+=24);const k=Math.floor(S),_=Math.round((S-k)*60),j=(k+Math.floor(_/60))%24,O=_%60;return`${String(j).padStart(2,"0")}:${String(O).padStart(2,"0")}`},UT=x.createContext(void 0);function $B({children:e}){const{user:t}=Ar(),{fetchProcurementData:r,saveProcurementEntry:n,deleteProcurementEntry:a}=jl(),{schedulerSettings:s,activeSku:l}=ra(),{getProductSpecs:u}=xr(),[d,f]=x.useState(()=>{try{const E=localStorage.getItem("poManifest");return E?JSON.parse(E):{}}catch{return{}}});x.useEffect(()=>{localStorage.setItem("poManifest",JSON.stringify(d))},[d]),nu({table:"procurement_orders",event:"*",enabled:!!t,onDataChange:E=>{const{eventType:D,new:N,old:C}=E;if(D==="DELETE"){const R=C.id,M=C.po_number;if(!R&&!M)return;f(I=>{const z={...I};let q=null,re=null;for(const[oe,B]of Object.entries(z)){const H=B.items.find(W=>R&&W.id===R||M&&W.po===M);if(H){q=oe,re=H;break}}return q&&re&&(z[q].items=z[q].items.filter(oe=>oe!==re),z[q].items.length===0&&delete z[q]),z});return}const P=N.date,T={id:N.id||crypto.randomUUID(),po:N.po_number,date:N.date,qty:Number(N.quantity),status:N.status,supplier:N.supplier,sku:N.sku,time:N.delivery_time,carrier:N.carrier,palletStats:N.meta_data?N.meta_data.palletStats:void 0};f(R=>{const M={...R};for(const[I,z]of Object.entries(M)){const q=z.items.filter(re=>re.po!==T.po);q.length!==z.items.length&&(M[I]={items:q},q.length===0&&delete M[I])}return M[P]||(M[P]={items:[]}),M[P].items.push(T),M})}});const h=(E,D)=>{if(f(N=>({...N,[E]:{items:D}})),t)try{D.forEach(N=>{n(N).catch(C=>console.error("Cloud Save Failed for Item:",N,C))})}catch(N){console.error("Error initiating cloud sync:",N)}},g=E=>{f(D=>{const N={...D},C=E.reduce((P,T)=>(P[T.date]||(P[T.date]=[]),P[T.date].push(T),P),{});return Object.entries(C).forEach(([P,T])=>{let M=(N[P]?.items||[]).length;T.forEach((I,z)=>{if(I.id||(I.id=crypto.randomUUID()),!I.time){const q=I.sku||l,re=u(q),oe=s?.shiftStartTime||"00:00";if(re&&re.productionRate>0){const B=re.bottlesPerTruck||2e4,H=re.productionRate,W=re.bottlesPerCase||1;I.time=zT(M+z,oe,B,H,W)}}N[P]||(N[P]={items:[]}),N[P].items.push(I)})}),t&&E.forEach(P=>{n(P).catch(T=>console.error("Cloud Sync Error",T))}),N})},v=(E,D,N)=>{f(C=>{const P={...C};return P[E]&&(P[E].items=P[E].items.filter(T=>T.id!==D)),P}),t&&N&&a(N)},y=(E,D)=>{f(N=>{const C={...N};return C[E]?.items&&(C[E].items=C[E].items.map(P=>P.id===D.id?D:P)),C}),t&&n(D)},S=E=>{f(D=>{const N={...D};return E.forEach(C=>{N[C.date]?.items&&(N[C.date].items=N[C.date].items.filter(P=>P.id!==C.id))}),N}),t&&E.forEach(D=>{D.po&&a(D.po)})},k=(E,D,N)=>{if(f(C=>{const P={...C};P[E]?.items&&(P[E].items=P[E].items.filter(M=>M.id!==N.id));const T=P[D]?.items||[],R={...N,date:D};return P[D]={items:[...T,R]},P}),t){const C={...N,date:D};n(C)}},_=E=>{f(D=>{const N={...D};return E.forEach(C=>{let P=null;for(const[R,M]of Object.entries(N)){if(M.items.some(I=>I.id===C.id)){P=R;break}if(M.items.some(I=>I.po===C.po)){P=R;break}}const T=C.date;if(P&&P!==T)N[P]?.items&&(N[P].items=N[P].items.filter(R=>R.id!==C.id),N[P].items.length===0&&delete N[P]),N[T]||(N[T]={items:[]}),N[T].items.push(C);else{const R=P||T;N[R]?N[R].items=N[R].items.map(M=>M.id===C.id?C:M):(N[R]||(N[R]={items:[]}),N[R].items.push(C))}}),N}),t&&E.forEach(D=>n(D))},j=()=>f({});x.useEffect(()=>{t&&r().then(E=>{E&&Object.keys(E).length>0&&f(E)})},[t,r]);const O={poManifest:d,updateDailyManifest:h,addOrdersBulk:g,removeOrder:v,updateOrder:y,deleteOrdersBulk:S,moveOrder:k,bulkUpdateOrders:_,clearManifest:j};return p.jsx(UT.Provider,{value:O,children:e})}function na(){const e=x.useContext(UT);if(!e)throw new Error("useProcurement must be used within a ProcurementProvider");return e}const IB=async()=>{const{data:e,error:t}=await Me.from("user_roles").select("*").order("created_at",{ascending:!1});if(t)throw t.code==="42P01",t;return e||[]},LB=async(e,t)=>{const{error:r}=await Me.from("user_roles").update({role:t}).match({email:e});if(r)throw r},zB=async e=>{const{error:t}=await Me.from("user_roles").delete().match({email:e});if(t)throw t},UB=async(e,t)=>{const{error:r}=await Me.from("user_roles").upsert({email:e.toLowerCase(),role:t},{onConflict:"email"});if(r)throw r},BB=async(e,t)=>{const r=iT(sT,oT,{auth:{persistSession:!1,autoRefreshToken:!1,detectSessionInUrl:!1}}),{data:n,error:a}=await r.auth.signUp({email:e,password:t});if(a)throw a;return n};function qB(){const{user:e}=Ar(),[t,r]=x.useState(!1),[n,a]=x.useState([]),[s,l]=x.useState(null),u=async()=>{if(e){r(!0),a([]),l(null);try{const h=(await z8(e.id)).reduce((v,y)=>{const S=y.name.trim();return v[S]||(v[S]=[]),v[S].push(y),v},{}),g=[];Object.entries(h).forEach(([v,y])=>{if(y.length>1){y.sort((_,j)=>{const O=new Date(_.created_at||0),E=new Date(j.created_at||0);return O-E});const S=y[0],k=y.slice(1);g.push({name:v,keeper:S,toDelete:k})}}),a(g),l(`Scan Complete. Found ${g.length} duplicate groups.`)}catch(f){console.error(f),l("Error scanning database.")}finally{r(!1)}}},d=async f=>{const h=n[f];if(confirm(`Permanently delete ${h.toDelete.length} duplicate(s) for "${h.name}"?

The oldest record (ID: ...${h.keeper.id.slice(-4)}) will be kept.
Newer duplicates will be removed.`))try{for(const v of h.toDelete)await U8(v.id);const g=[...n];g.splice(f,1),a(g),alert("Cleaned successfully.")}catch(g){alert("Error deleting: "+g.message)}};return p.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm",children:[p.jsxs("div",{className:"flex justify-between items-start mb-4",children:[p.jsxs("div",{children:[p.jsxs("h3",{className:"text-sm font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[p.jsx(LA,{className:"w-4 h-4 text-amber-500"}),"Database Health: Duplicate SKU Cleaner"]}),p.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Find and remove "ghost" duplicates that cause loading errors.'})]}),p.jsxs("button",{onClick:u,disabled:t,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-white bg-indigo-600 hover:bg-indigo-700 rounded-md transition-colors disabled:opacity-50",children:[p.jsx(MA,{className:`w-3.5 h-3.5 ${t?"animate-spin":""}`}),t?"Scanning...":"Scan Now"]})]}),s&&p.jsx("div",{className:"mb-4 text-xs font-medium text-gray-600 dark:text-gray-300",children:s}),n.length>0&&p.jsx("div",{className:"space-y-3",children:n.map((f,h)=>p.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/10 border border-red-100 dark:border-red-900 rounded-md",children:p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-sm font-bold text-red-800 dark:text-red-300",children:f.name}),p.jsxs("div",{className:"text-xs text-red-600 dark:text-red-400 mt-0.5",children:["Keeping: ",p.jsx("span",{className:"font-mono",children:f.keeper.id})," (Created: ",new Date(f.keeper.created_at).toLocaleDateString(),")"]}),p.jsxs("div",{className:"text-xs text-red-500 dark:text-red-400/80",children:["Deleting ",f.toDelete.length," newer copies."]})]}),p.jsx("button",{onClick:()=>d(h),className:"p-2 text-red-600 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-full transition-colors",title:"Fix this Duplicate",children:p.jsx(pa,{className:"w-5 h-5"})})]})},h))}),s&&n.length===0&&p.jsxs("div",{className:"text-center py-6 text-gray-400",children:[p.jsx(da,{className:"w-8 h-8 mx-auto mb-2 text-emerald-500 opacity-50"}),p.jsx("p",{className:"text-xs",children:"Database is clean. No duplicates found."})]})]})}const Tc=[{id:"admin",label:"Administrator",badge:"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300",desc:"Full system access. Can manage users, settings, and master data."},{id:"planner",label:"Lead Planner",badge:"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300",desc:"Can edit Master Schedule, MRP, and Production Plans."},{id:"logistics",label:"Floor / Logistics",badge:"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300",desc:"Can manage Trucks, Verify Shifts, and view Schedule. No MRP editing."},{id:"viewer",label:"Read-Only Viewer",badge:"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300",desc:"Can view dashboards and schedules but cannot make changes."}];function HB(){const[e,t]=x.useState([]),[r,n]=x.useState(!0),[a,s]=x.useState(""),[l,u]=x.useState("viewer"),[d,f]=x.useState(null),[h,g]=x.useState(null),[v,y]=x.useState(!1);x.useEffect(()=>{S()},[]);const S=async()=>{try{n(!0);const O=await IB();t(O),y(!1)}catch(O){console.error(O),O.code==="42P01"||O.message?.includes("Could not find the table")?(y(!0),t([])):f(O.message)}finally{n(!1)}},k=async O=>{if(O.preventDefault(),!a)return;n(!0),f(null);const E="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",D=new Uint32Array(10);crypto.getRandomValues(D);let N="";for(let C=0;C<10;C++)N+=E[D[C]%E.length];try{try{await BB(a,N)}catch(C){throw C.message?.includes("Signups not allowed")?new Error("Cannot create user: Public Signups are disabled. Enable them or use Enterprise Invite."):C}await UB(a,l),t(C=>[{email:a.toLowerCase(),role:l,created_at:new Date().toISOString()},...C.filter(P=>P.email!==a.toLowerCase())]),g({email:a,password:N}),s("")}catch(C){console.error("Provisioning Error:",C),f(C.message)}finally{n(!1),S()}},_=async O=>{if(confirm(`Revoke access for ${O}?`))try{await zB(O),t(e.filter(E=>E.email!==O))}catch(E){f(E.message)}},j=async(O,E)=>{try{t(e.map(D=>D.email===O?{...D,role:E}:D)),await LB(O,E)}catch(D){f(D.message),S()}};return v?p.jsxs("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 rounded-lg border border-amber-200 dark:border-amber-700/50",children:[p.jsx("h3",{className:"font-bold text-amber-800 dark:text-amber-200 mb-2",children:"Setup Required"}),p.jsxs("p",{className:"text-sm text-amber-700 dark:text-amber-300 mb-4",children:["The ",p.jsx("code",{children:"user_roles"})," table is missing. Run this SQL in your Supabase SQL Editor:"]}),p.jsxs("div",{className:"bg-slate-900 rounded p-4 relative group",children:[p.jsx("code",{className:"text-xs text-green-400 font-mono block whitespace-pre-wrap",children:`create table user_roles (
  id uuid default gen_random_uuid() primary key,
  email text unique not null,
  role text default 'viewer',
  created_at timestamptz default now()
);

alter table user_roles enable row level security;
create policy "Allow read access for all auth users" on user_roles for select to authenticated using (true);
create policy "Allow insert/update/delete for authenticated" on user_roles for all to authenticated using (true); 
-- In production, replace the write policy with: using (auth.email() IN (SELECT email FROM user_roles WHERE role = 'admin'))`}),p.jsxs("button",{onClick:()=>navigator.clipboard.writeText(`create table user_roles ( id uuid default gen_random_uuid() primary key, email text unique not null, role text default 'viewer', created_at timestamptz default now() ); alter table user_roles enable row level security; create policy "Allow read access" on user_roles for select to authenticated using (true); create policy "Allow all write" on user_roles for all to authenticated using (true);`),className:"absolute top-2 right-2 bg-slate-700 hover:bg-slate-600 text-white text-xs px-2 py-1 rounded flex items-center gap-1",children:[p.jsx(jy,{className:"w-3 h-3"})," Copy"]})]}),p.jsx("div",{className:"mt-4 flex gap-2",children:p.jsx("button",{onClick:S,className:"px-4 py-2 bg-amber-200 hover:bg-amber-300 rounded text-amber-900 font-bold text-sm",children:"I've ran the SQL, Try Again"})})]}):p.jsxs("div",{className:"space-y-8 relative",children:[p.jsx(qB,{}),h&&p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:p.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-2xl max-w-md w-full border border-slate-200 dark:border-slate-700 overflow-hidden transform scale-100 transition-all",children:[p.jsx("div",{className:"bg-emerald-500 h-2 w-full"}),p.jsxs("div",{className:"p-6",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[p.jsx("div",{className:"bg-emerald-100 dark:bg-emerald-900/30 p-2 rounded-full",children:p.jsx(zA,{className:"w-6 h-6 text-emerald-600 dark:text-emerald-400"})}),p.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"User Created!"})]}),p.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-6",children:["The account for ",p.jsx("strong",{className:"text-slate-700 dark:text-slate-200",children:h.email})," is ready. Please copy the temporary password below."]}),p.jsxs("div",{className:"bg-slate-100 dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700 mb-6",children:[p.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1 block",children:"Temporary Password"}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("code",{className:"text-lg font-mono font-bold text-slate-800 dark:text-emerald-400 break-all",children:h.password}),p.jsx("button",{onClick:()=>{navigator.clipboard.writeText(h.password),alert("Password Copied!")},className:"ml-auto p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-slate-700 rounded-lg transition-colors",title:"Copy Password",children:p.jsx(jy,{className:"w-5 h-5"})})]})]}),p.jsx("button",{onClick:()=>g(null),className:"w-full bg-slate-900 dark:bg-slate-700 hover:bg-slate-800 text-white font-bold py-3 rounded-xl transition-colors",children:"Done"})]})]})}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:Tc.map(O=>p.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-white dark:bg-slate-800 border border-slate-100 dark:border-slate-700 shadow-sm",children:[p.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wide shrink-0 mt-0.5 ${O.badge}`,children:O.label}),p.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 leading-tight",children:O.desc})]},O.id))}),p.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[p.jsxs("h3",{className:"text-sm font-bold text-slate-700 dark:text-slate-300 mb-2 uppercase tracking-wider flex items-center gap-2",children:[p.jsx(sI,{className:"w-5 h-5 text-blue-500"})," Provision New User"]}),p.jsx("p",{className:"text-xs text-slate-500 mb-4",children:"Instantly create a user account. The system will generate a temporary password for you to give to them."}),p.jsxs("form",{onSubmit:k,className:"flex flex-col sm:flex-row gap-4 items-end",children:[p.jsxs("div",{className:"flex-1 w-full",children:[p.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"User Email"}),p.jsx("input",{type:"email",required:!0,placeholder:"colleague@company.com",value:a,onChange:O=>s(O.target.value),className:"w-full rounded-lg border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white p-2.5 focus:ring-blue-500 focus:border-blue-500 shadow-sm"})]}),p.jsxs("div",{className:"w-full sm:w-48",children:[p.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"Role"}),p.jsx("select",{value:l,onChange:O=>u(O.target.value),className:"w-full rounded-lg border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white p-2.5 focus:ring-blue-500 focus:border-blue-500 shadow-sm",children:Tc.map(O=>p.jsx("option",{value:O.id,children:O.label},O.id))})]}),p.jsx("div",{className:"w-full sm:w-auto",children:p.jsx("button",{type:"submit",disabled:r,className:"w-full sm:w-auto bg-blue-600 hover:bg-blue-500 text-white font-bold py-2.5 px-6 rounded-lg transition-colors shadow-lg shadow-blue-500/30 flex items-center justify-center gap-2 disabled:opacity-50",children:r?"Processing...":p.jsxs(p.Fragment,{children:[p.jsx(d0,{className:"w-5 h-5"}),p.jsx("span",{children:"Create User"})]})})})]})]}),p.jsxs("div",{children:[p.jsx("div",{className:"flex justify-between items-end mb-3",children:p.jsxs("h3",{className:"text-sm font-bold text-slate-700 dark:text-slate-300 uppercase tracking-wider",children:["Authorized Users (",e.length,")"]})}),d&&p.jsx("div",{className:"mb-4 text-rose-500 text-sm bg-rose-50 dark:bg-rose-900/20 p-2 rounded border border-rose-100 dark:border-rose-800",children:d}),p.jsx("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl divide-y divide-slate-100 dark:divide-slate-700 shadow-sm overflow-hidden",children:r?p.jsx("div",{className:"p-8 text-center text-slate-500 animate-pulse text-sm",children:"Loading users..."}):e.length===0?p.jsx("div",{className:"p-8 text-center text-slate-400 text-sm italic",children:"No users found. Create one above."}):e.map(O=>{const E=Tc.find(D=>D.id===O.role)||Tc[3];return p.jsxs("div",{className:"p-4 flex flex-col sm:flex-row sm:items-center justify-between hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors gap-3",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 dark:bg-slate-700 ring-2 ring-white dark:ring-slate-800 flex items-center justify-center text-sm font-bold text-slate-600 dark:text-slate-300 uppercase shadow-sm",children:O.email.substring(0,2)}),p.jsxs("div",{children:[p.jsx("div",{className:"text-sm font-bold text-slate-900 dark:text-white",children:O.email}),p.jsxs("div",{className:"text-[10px] text-slate-500 dark:text-slate-400 flex items-center gap-1",children:["Added ",new Date(O.created_at).toLocaleDateString()]})]})]}),p.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3 w-full sm:w-auto pl-14 sm:pl-0",children:[p.jsx("select",{value:O.role,onChange:D=>j(O.email,D.target.value),className:`text-xs font-bold rounded-full py-1.5 px-3 border-0 cursor-pointer focus:ring-2 focus:ring-offset-1 transition-colors outline-none ${E.badge}`,children:Tc.map(D=>p.jsx("option",{value:D.id,children:D.label},D.id))}),p.jsx("button",{title:"Revoke Access",onClick:()=>_(O.email),className:"p-2 text-slate-400 hover:text-rose-600 hover:bg-rose-50 dark:hover:bg-rose-900/30 rounded-lg transition-colors",children:p.jsx(pa,{className:"w-4 h-4"})})]})]},O.id)})})]})]})}function FB({onClose:e}){const[t,r]=x.useState("general"),{userRole:n}=Ar(),a=n==="admin",{csvMapping:s,updateCsvMapping:l,resetDefaults:u,theme:d,setTheme:f}=ra(),{poManifest:h}=na();return p.jsx("div",{className:"fixed inset-0 z-50 flex justify-center bg-black bg-opacity-50 overflow-y-auto px-4 py-6 backdrop-blur-sm",children:p.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-xl w-full max-w-2xl relative h-fit my-auto p-6 border dark:border-gray-700 transition-colors",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Master Settings"}),p.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 font-bold text-xl",children:""})]}),p.jsxs("div",{className:"flex border-b border-slate-200 dark:border-slate-700 mb-6",children:[p.jsx("button",{className:`pb-2 px-1 text-sm font-bold mr-6 border-b-2 transition-colors ${t==="general"?"border-blue-600 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400"}`,onClick:()=>r("general"),children:"General & Appearance"}),a&&p.jsx("button",{className:`pb-2 px-1 text-sm font-bold border-b-2 transition-colors ${t==="users"?"border-blue-600 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400"}`,onClick:()=>r("users"),children:"User Management"})]}),p.jsx("div",{className:"space-y-6 h-[60vh] overflow-y-auto pr-2 custom-scrollbar",children:t==="general"?p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex items-center justify-between bg-gray-50 dark:bg-gray-800 p-4 rounded-md border border-gray-200 dark:border-gray-700",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"font-bold text-gray-800 dark:text-gray-200",children:"Appearance"}),p.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Choose your interface theme."})]}),p.jsxs("div",{className:"flex bg-gray-200 dark:bg-gray-700 p-1 rounded-lg",children:[p.jsxs("button",{onClick:()=>f("light"),className:`flex items-center space-x-2 px-3 py-1.5 rounded-md text-sm font-medium transition-all ${d==="light"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"}`,children:[p.jsx(UA,{className:"w-4 h-4"}),p.jsx("span",{children:"Light"})]}),p.jsxs("button",{onClick:()=>f("dark"),className:`flex items-center space-x-2 px-3 py-1.5 rounded-md text-sm font-medium transition-all ${d==="dark"?"bg-gray-600 text-white shadow-sm":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"}`,children:[p.jsx(V6,{className:"w-4 h-4"}),p.jsx("span",{children:"Dark"})]})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-200 mb-4",children:"CSV Integration Mappings"}),p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-md border border-gray-200 dark:border-gray-700 grid grid-cols-1 md:grid-cols-3 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Status Column Header"}),p.jsx("input",{type:"text",value:s.statusColumn,onChange:g=>l("statusColumn",g.target.value),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm",placeholder:"e.g. Trailer State"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:'"Full" Keyword'}),p.jsx("input",{type:"text",value:s.fullValue,onChange:g=>l("fullValue",g.target.value),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm",placeholder:"e.g. Loaded"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"SKU/Product Column"}),p.jsx("input",{type:"text",value:s.skuColumn,onChange:g=>l("skuColumn",g.target.value),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-sm",placeholder:"e.g. Commodity"})]}),p.jsx("div",{className:"col-span-1 md:col-span-3",children:p.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 italic",children:["The importer will look for rows where ",p.jsx("strong",{children:s.statusColumn}),' contains "',p.jsx("strong",{children:s.fullValue}),'"',s.skuColumn?p.jsxs("span",{children:[" and ",p.jsx("strong",{children:s.skuColumn}),' contains the active bottle size (e.g. "20oz").']}):"."]})})]})]})]}):p.jsx(HB,{})}),p.jsxs("div",{className:"mt-8 bg-gray-50 dark:bg-gray-800 -mx-6 -mb-6 p-4 rounded-b-lg border-t dark:border-gray-700",children:[p.jsxs("div",{className:"flex flex-col-reverse md:flex-row justify-between items-center gap-4",children:[p.jsx("button",{onClick:()=>{confirm("Are you sure you want to reset all settings to factory defaults?")&&u()},className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 text-sm font-medium",children:"Reset to Defaults"}),p.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-4 w-full md:w-auto",children:[p.jsxs("button",{onClick:()=>window.location.reload(),className:"w-full md:w-auto px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 text-sm font-bold flex items-center justify-center",children:[p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4 mr-2",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 4.992l3.181-3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})}),"Reload & Sync"]}),p.jsx("button",{onClick:e,className:"w-full md:w-auto px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm font-bold shadow-sm",children:"Done"})]})]}),p.jsx("div",{className:"text-center mt-4",children:p.jsxs("p",{className:"text-[10px] text-gray-400 dark:text-gray-600",children:["v","2.25.42"," (Smart Planner)"]})})]})]})})}var Qs=RA();const Wr=e=>{const t=e?new Date(e):new Date,r=t.getTimezoneOffset()*6e4;return new Date(t.getTime()-r).toISOString().split("T")[0]},Yt=(e,t)=>{if(!e)return"";try{let r;if(e instanceof Date)r=new Date(e),r.setDate(r.getDate()+t);else{const[l,u,d]=e.split("-").map(Number);r=new Date(l,u-1,d+t)}const n=r.getFullYear(),a=String(r.getMonth()+1).padStart(2,"0"),s=String(r.getDate()).padStart(2,"0");return`${n}-${a}-${s}`}catch(r){return console.error("addDays Error",r),String(e)}},_t=e=>{if(!e)return"";const t=new Date(e);if(isNaN(t.getTime()))return"";if(typeof e=="string"&&e.match(/^\d{4}-\d{2}-\d{2}$/))return e;const r=t.getTimezoneOffset()*6e4;return new Date(t.getTime()-r).toISOString().split("T")[0]},au=e=>{if(!e)return"";const[t,r]=e.split(":").map(Number);if(isNaN(t))return e;const n=t>=12?"PM":"AM",a=t%12||12,s=r!==void 0?String(r).padStart(2,"0"):"00";return`${a}:${s} ${n}`},VB=e=>e.isSafetyRisk?"bg-red-500":e.isOverflow?"bg-amber-400":"bg-emerald-400",KB=x.memo(({day:e,isToday:t,updateDateDemand:r,updateDateActual:n,updateDateInbound:a,onContextMenu:s,performBulkFill:l,readOnly:u})=>{const[d,f]=x.useState(e?.val?Number(e.val).toLocaleString():0),[h,g]=x.useState(e?.actual?Number(e.actual).toLocaleString():""),[v,y]=x.useState(e?.trucks||0);if(x.useEffect(()=>{f(e?.val?Number(e.val).toLocaleString():0)},[e?.val]),x.useEffect(()=>{g(e?.actual?Number(e.actual).toLocaleString():"")},[e?.actual]),x.useEffect(()=>{y(e?.trucks||0)},[e?.trucks]),!e)return p.jsx("div",{className:"bg-transparent"});const S=Number(v)>0,k=Number(d)>0,_=h!==""&&h!==null&&h!==void 0,j=()=>{let N=String(d).replace(/,/g,"").trim();if(N===""&&(N="0"),!isNaN(N)){let C=Number(N);C>0&&C<1e3&&(C*=1e3),f(C.toLocaleString()),C!==Number(e.val)&&r(e.dateStr,C)}},O=()=>{let N=String(h).replace(/,/g,"").trim();if(N==="")e.actual!==null&&e.actual!==""&&n(e.dateStr,null);else if(!isNaN(N)){let C=Number(N);C>0&&C<1e3&&(C*=1e3),g(C.toLocaleString()),C!==Number(e.actual)&&n(e.dateStr,C)}},E=()=>{const N=String(v).replace(/,/g,"");!isNaN(N)&&Number(N)!==Number(e.trucks)&&a(e.dateStr,N)},D=(N,C)=>{(N.key==="Enter"||N.code==="Enter"||N.code==="NumpadEnter")&&(N.preventDefault(),N.target.blur())};return p.jsxs("div",{onContextMenu:N=>s(N,e.dateStr,d),className:`
                relative group flex flex-col justify-between p-2 rounded-xl transition-all duration-200 border
                ${t?"bg-white dark:bg-slate-800 ring-2 ring-blue-500 border-blue-500 shadow-blue-500/10 z-10 scale-[1.02]":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 hover:border-blue-300 dark:hover:border-blue-700 hover:shadow-md hover:-translate-y-0.5"}
                ${e.isSafetyRisk?"ring-1 ring-red-500/20 bg-red-50/10":""}
            `,children:[p.jsxs("div",{className:"flex justify-between items-center mb-1",children:[p.jsx("span",{className:`
                    text-sm font-bold w-6 h-6 flex items-center justify-center rounded-full
                    ${t?"bg-blue-600 text-white shadow-sm":"text-slate-700 dark:text-slate-300 group-hover:bg-slate-100 dark:group-hover:bg-slate-700"}
                `,children:e.dayNum}),e.isConfirmed&&p.jsx("span",{title:"Confirmed POs",className:"text-[10px] font-bold text-emerald-600 bg-emerald-50 dark:bg-emerald-900/30 px-1.5 py-0.5 rounded border border-emerald-100 dark:border-emerald-800",children:"PO"})]}),p.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-1.5 py-1 min-h-0",children:[p.jsxs("div",{className:"w-full relative group/demand",children:[p.jsx("div",{className:"text-[9px] font-black text-slate-300 dark:text-slate-600 uppercase tracking-widest text-center mb-0.5 group-hover/demand:text-blue-400 transition-colors",children:"Demand"}),p.jsx("input",{className:`
                            w-full text-center outline-none bg-transparent transition-all
                            ${u?"cursor-not-allowed":"cursor-text"}
                            ${k?"text-2xl font-black text-slate-700 dark:text-white":"text-xl font-bold text-slate-300 dark:text-slate-600"}
                            focus:scale-110 focus:text-blue-600 dark:focus:text-blue-400
                        `,value:d||"",placeholder:"-",disabled:u,onChange:N=>f(N.target.value),onBlur:j,onKeyDown:N=>D(N)})]}),p.jsx("div",{className:"flex items-center justify-center w-full",children:p.jsxs("div",{className:`
                        flex items-center gap-1.5 px-2 py-0.5 rounded-md transition-all
                        ${_?"bg-blue-50 dark:bg-blue-900/30 ring-1 ring-blue-100 dark:ring-blue-800":"bg-slate-50 dark:bg-slate-800/50 hover:bg-slate-100 dark:hover:bg-slate-700"}
                     `,children:[p.jsx("span",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-wider select-none",children:"Act"}),p.jsx("input",{className:`
                                w-12 text-center text-xs font-bold bg-transparent outline-none
                                ${_?"text-blue-700 dark:text-blue-300":"text-slate-400"}
                                focus:text-blue-600 dark:focus:text-blue-400
                            `,value:h,placeholder:"-",disabled:u,onChange:N=>g(N.target.value),onBlur:O,onKeyDown:N=>D(N)})]})})]}),p.jsx("div",{className:"mt-2 flex items-center justify-end",children:p.jsxs("div",{className:`
                    flex items-center gap-1 px-1.5 py-0.5 rounded transition-colors
                    ${S?"bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-400 border border-emerald-100 dark:border-emerald-800/50":"text-slate-300"}
                `,children:[p.jsx(vn,{className:"w-3 h-3"}),p.jsx("input",{className:"w-4 text-center text-[10px] font-bold bg-transparent outline-none",value:v||"",placeholder:"0",disabled:u,onChange:N=>y(N.target.value),onBlur:E,onKeyDown:N=>D(N)})]})}),p.jsx("div",{className:"mt-2 h-1.5 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden flex",children:p.jsx("div",{className:`h-full ${VB(e)}`,style:{width:"100%"},title:`Inventory Health: ${e.isSafetyRisk?"Critical":"Healthy"}`})})]})},(e,t)=>!(e.day?.dateStr!==t.day?.dateStr||e.day?.val!==t.day?.val||e.day?.actual!==t.day?.actual||e.day?.trucks!==t.day?.trucks||e.day?.isSafetyRisk!==t.day?.isSafetyRisk||e.day?.isOverflow!==t.day?.isOverflow||e.day?.isConfirmed!==t.day?.isConfirmed||e.isToday!==t.isToday||e.readOnly!==t.readOnly));function ZB({monthlyDemand:e,updateDateDemand:t,updateDateDemandBulk:r,monthlyInbound:n,updateDateInbound:a,monthlyProductionActuals:s,updateDateActual:l,specs:u,trucksToCancel:d,dailyLedger:f,safetyTarget:h,poManifest:g={},readOnly:v=!1}){const[y,S]=x.useState(new Date),{days:k,monthLabel:_,totalMonthlyDemand:j,totalEstTrucks:O}=x.useMemo(()=>{const R=y.getFullYear(),M=y.getMonth(),I=new Date(R,M,1),q=new Date(R,M+1,0).getDate(),re=I.getDay(),oe=Array(re).fill(null),B=new Date().toLocaleDateString("en-CA");let H=null;d>0&&(H=Object.keys(n||{}).sort().find(F=>F>=B&&n[F]>0));const W=(f||[]).reduce((K,F)=>(K[F.date]=F.balance,K),{}),ee=Array.from({length:q},(K,F)=>{const Z=new Date(R,M,F+1),le=Z.getFullYear(),ue=String(Z.getMonth()+1).padStart(2,"0"),ne=String(Z.getDate()).padStart(2,"0"),be=`${le}-${ue}-${ne}`,G=W[be];let ge=null;return G!==void 0&&u?.bottlesPerCase&&(ge=Math.round(G/u.bottlesPerCase)),{date:Z,dateStr:be,dayNum:F+1,val:e[be]||0,trucks:n?.[be]||0,actual:s?.[be],isPushCandidate:H===be,endInvCases:ge,isSafetyRisk:G!==void 0&&G<(h||0),isOverflow:G!==void 0&&G>(h||0)+(u?.bottlesPerTruck||0)*2,isConfirmed:g[be]?.items?.length>0}}),ve=ee.reduce((K,F)=>{const Z=F.actual!==void 0&&F.actual!==null?Number(F.actual):Number(F.val||0);return K+Z},0);let L=0;if(u&&u.bottlesPerTruck&&u.bottlesPerCase){const K=u.bottlesPerTruck/u.bottlesPerCase;L=Math.ceil(ve/K)}return{days:[...oe,...ee],monthLabel:I.toLocaleString("default",{month:"long",year:"numeric"}),totalMonthlyDemand:ve,totalEstTrucks:L}},[y,e,n,s,u,d,g,f,h]),E=R=>{S(M=>{const I=new Date(M);return I.setMonth(I.getMonth()+R),I})},[D,N]=x.useState(null),C=()=>N(null),P=(R,M,I)=>{v||(R.preventDefault(),N({x:R.clientX,y:R.clientY,dateStr:M,currentVal:I}))},T=R=>{if(!D)return;const{dateStr:M,currentVal:I}=D,z=String(I||"").replace(/,/g,""),q=parseInt(z,10);if(!q&&q!==0){C();return}const re={};if(re[M]=q.toString(),R==="week")for(let oe=1;oe<7;oe++)re[Yt(M,oe)]=q.toString();if(R==="month"){const[oe,B]=M.split("-").map(Number),H=B-1;let W=1;for(;;){const ee=Yt(M,W),[ve,L]=ee.split("-").map(Number);if(L-1!==H||(re[ee]=q.toString(),W++,W>31))break}}if(R==="restOfWeek"){new Date(M.replace(/-/g,"/"));const[oe,B,H]=M.split("-").map(Number);let W=1;for(;;){const ee=Yt(M,W),[ve,L,K]=ee.split("-").map(Number);if(new Date(ve,L-1,K).getDay()===0||(re[ee]=q.toString(),W++,W>7))break}}r&&r(re),C()};return p.jsxs("div",{className:"h-full flex flex-col bg-slate-50 dark:bg-slate-900/50 p-4 rounded-xl",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("button",{onClick:()=>E(-1),className:"p-2 hover:bg-white dark:hover:bg-slate-800 rounded-full shadow-sm transition-all text-slate-500 hover:text-blue-600",children:p.jsx(tx,{className:"w-5 h-5"})}),p.jsxs("h2",{className:"text-2xl font-black text-slate-800 dark:text-white tracking-tight flex items-center gap-2",children:[_,p.jsx("span",{className:"text-sm font-medium text-slate-400 font-mono tracking-normal bg-slate-200 dark:bg-slate-800 px-2 py-0.5 rounded-md",children:y.getFullYear()})]}),p.jsx("button",{onClick:()=>E(1),className:"p-2 hover:bg-white dark:hover:bg-slate-800 rounded-full shadow-sm transition-all text-slate-500 hover:text-blue-600",children:p.jsx(rx,{className:"w-5 h-5"})})]}),p.jsx("div",{className:"flex gap-4 text-xs font-bold text-slate-500",children:p.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[p.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500"}),p.jsxs("span",{children:[O," Trucks Est."]})]})})]}),p.jsx("div",{className:"grid grid-cols-7 gap-4 mb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((R,M)=>p.jsx("div",{className:`text-center text-xs font-bold uppercase tracking-wider py-1
                        ${M===0||M===6?"text-slate-400":"text-slate-600 dark:text-slate-300"}
                    `,children:R},R))}),p.jsx("div",{className:"flex-1 grid grid-cols-7 grid-rows-5 gap-3 min-h-0",children:k.map((R,M)=>{if(!R)return p.jsx("div",{className:"bg-transparent"},`pad-${M}`);const I=R.dateStr===new Date().toLocaleDateString("en-CA");return p.jsx(KB,{day:R,isToday:I,updateDateDemand:t,updateDateActual:l,updateDateInbound:a,onContextMenu:P,performBulkFill:T,readOnly:v},R.dateStr)})}),D&&Qs.createPortal(p.jsxs("div",{className:"fixed z-50 bg-white dark:bg-slate-800 rounded-lg shadow-xl border border-slate-200 dark:border-slate-700 py-1 min-w-[160px] animate-in fade-in zoom-in-95 duration-100",style:{top:D.y,left:D.x},onClick:R=>R.stopPropagation(),children:[p.jsx("div",{className:"px-3 py-2 border-b dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50",children:p.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Quick Fill"})}),p.jsxs("button",{onClick:()=>T("week"),className:"w-full text-left px-4 py-2 text-sm text-slate-700 dark:text-slate-200 hover:bg-blue-50 dark:hover:bg-blue-900/30 hover:text-blue-600 flex items-center gap-2",children:[p.jsx("span",{children:""})," Fill Next 7 Days"]}),p.jsxs("button",{onClick:()=>T("restOfWeek"),className:"w-full text-left px-4 py-2 text-sm text-slate-700 dark:text-slate-200 hover:bg-blue-50 dark:hover:bg-blue-900/30 hover:text-blue-600 flex items-center gap-2",children:[p.jsx("span",{children:""})," Rest of Week"]}),p.jsxs("button",{onClick:()=>T("month"),className:"w-full text-left px-4 py-2 text-sm text-slate-700 dark:text-slate-200 hover:bg-blue-50 dark:hover:bg-blue-900/30 hover:text-blue-600 flex items-center gap-2",children:[p.jsx("span",{children:""})," Fill Rest of Month"]}),p.jsx("div",{className:"border-t dark:border-slate-700 my-1"}),p.jsx("button",{onClick:C,className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:"Cancel"})]}),document.body)]})}const BT=typeof document<"u"?we.useLayoutEffect:()=>{};var Fg;const GB=(Fg=we.useInsertionEffect)!==null&&Fg!==void 0?Fg:BT;function YB(e){const t=x.useRef(null);return GB(()=>{t.current=e},[e]),x.useCallback((...r)=>{const n=t.current;return n?.(...r)},[])}const Qi=e=>{var t;return(t=e?.ownerDocument)!==null&&t!==void 0?t:document},Ds=e=>e&&"window"in e&&e.window===e?e:Qi(e).defaultView||window;function WB(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function XB(e){return WB(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}let JB=!1;function Sx(){return JB}function qT(e,t){if(!Sx())return t&&e?e.contains(t):!1;if(!e||!t)return!1;let r=t;for(;r!==null;){if(r===e)return!0;r.tagName==="SLOT"&&r.assignedSlot?r=r.assignedSlot.parentNode:XB(r)?r=r.host:r=r.parentNode}return!1}const Ky=(e=document)=>{var t;if(!Sx())return e.activeElement;let r=e.activeElement;for(;r&&"shadowRoot"in r&&(!((t=r.shadowRoot)===null||t===void 0)&&t.activeElement);)r=r.shadowRoot.activeElement;return r};function HT(e){return Sx()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}function FT(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=FT(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ht(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=FT(e))&&(n&&(n+=" "),n+=t);return n}function QB(e){var t;if(typeof window>"u"||window.navigator==null)return!1;let r=(t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands;return Array.isArray(r)&&r.some(n=>e.test(n.brand))||e.test(window.navigator.userAgent)}function eq(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function VT(e){let t=null;return()=>(t==null&&(t=e()),t)}const tq=VT(function(){return eq(/^Mac/i)}),rq=VT(function(){return QB(/Android/i)});function KT(){let e=x.useRef(new Map),t=x.useCallback((a,s,l,u)=>{let d=u?.once?(...f)=>{e.current.delete(l),l(...f)}:l;e.current.set(l,{type:s,eventTarget:a,fn:d,options:u}),a.addEventListener(s,d,u)},[]),r=x.useCallback((a,s,l,u)=>{var d;let f=((d=e.current.get(l))===null||d===void 0?void 0:d.fn)||l;a.removeEventListener(s,f,u),e.current.delete(l)},[]),n=x.useCallback(()=>{e.current.forEach((a,s)=>{r(a.eventTarget,a.type,s,a.options)})},[r]);return x.useEffect(()=>n,[n]),{addGlobalListener:t,removeGlobalListener:r,removeAllGlobalListeners:n}}function nq(e){return e.pointerType===""&&e.isTrusted?!0:rq()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function ZT(e){let t=e;return t.nativeEvent=e,t.isDefaultPrevented=()=>t.defaultPrevented,t.isPropagationStopped=()=>t.cancelBubble,t.persist=()=>{},t}function aq(e,t){Object.defineProperty(e,"target",{value:t}),Object.defineProperty(e,"currentTarget",{value:t})}function GT(e){let t=x.useRef({isFocused:!1,observer:null});BT(()=>{const n=t.current;return()=>{n.observer&&(n.observer.disconnect(),n.observer=null)}},[]);let r=YB(n=>{e?.(n)});return x.useCallback(n=>{if(n.target instanceof HTMLButtonElement||n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLSelectElement){t.current.isFocused=!0;let a=n.target,s=l=>{if(t.current.isFocused=!1,a.disabled){let u=ZT(l);r(u)}t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};a.addEventListener("focusout",s,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&a.disabled){var l;(l=t.current.observer)===null||l===void 0||l.disconnect();let u=a===document.activeElement?null:document.activeElement;a.dispatchEvent(new FocusEvent("blur",{relatedTarget:u})),a.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:u}))}}),t.current.observer.observe(a,{attributes:!0,attributeFilter:["disabled"]})}},[r])}let iq=!1,ku=null,Zy=new Set,Zc=new Map,Fs=!1,Gy=!1;const sq={Tab:!0,Escape:!0};function kx(e,t){for(let r of Zy)r(e,t)}function oq(e){return!(e.metaKey||!tq()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function yh(e){Fs=!0,oq(e)&&(ku="keyboard",kx("keyboard",e))}function ol(e){ku="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(Fs=!0,kx("pointer",e))}function YT(e){nq(e)&&(Fs=!0,ku="virtual")}function WT(e){e.target===window||e.target===document||iq||!e.isTrusted||(!Fs&&!Gy&&(ku="virtual",kx("virtual",e)),Fs=!1,Gy=!1)}function XT(){Fs=!1,Gy=!0}function Yy(e){if(typeof window>"u"||typeof document>"u"||Zc.get(Ds(e)))return;const t=Ds(e),r=Qi(e);let n=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){Fs=!0,n.apply(this,arguments)},r.addEventListener("keydown",yh,!0),r.addEventListener("keyup",yh,!0),r.addEventListener("click",YT,!0),t.addEventListener("focus",WT,!0),t.addEventListener("blur",XT,!1),typeof PointerEvent<"u"&&(r.addEventListener("pointerdown",ol,!0),r.addEventListener("pointermove",ol,!0),r.addEventListener("pointerup",ol,!0)),t.addEventListener("beforeunload",()=>{JT(e)},{once:!0}),Zc.set(t,{focus:n})}const JT=(e,t)=>{const r=Ds(e),n=Qi(e);t&&n.removeEventListener("DOMContentLoaded",t),Zc.has(r)&&(r.HTMLElement.prototype.focus=Zc.get(r).focus,n.removeEventListener("keydown",yh,!0),n.removeEventListener("keyup",yh,!0),n.removeEventListener("click",YT,!0),r.removeEventListener("focus",WT,!0),r.removeEventListener("blur",XT,!1),typeof PointerEvent<"u"&&(n.removeEventListener("pointerdown",ol,!0),n.removeEventListener("pointermove",ol,!0),n.removeEventListener("pointerup",ol,!0)),Zc.delete(r))};function lq(e){const t=Qi(e);let r;return t.readyState!=="loading"?Yy(e):(r=()=>{Yy(e)},t.addEventListener("DOMContentLoaded",r)),()=>JT(e,r)}typeof document<"u"&&lq();function QT(){return ku!=="pointer"}const cq=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function uq(e,t,r){let n=Qi(r?.target);const a=typeof window<"u"?Ds(r?.target).HTMLInputElement:HTMLInputElement,s=typeof window<"u"?Ds(r?.target).HTMLTextAreaElement:HTMLTextAreaElement,l=typeof window<"u"?Ds(r?.target).HTMLElement:HTMLElement,u=typeof window<"u"?Ds(r?.target).KeyboardEvent:KeyboardEvent;return e=e||n.activeElement instanceof a&&!cq.has(n.activeElement.type)||n.activeElement instanceof s||n.activeElement instanceof l&&n.activeElement.isContentEditable,!(e&&t==="keyboard"&&r instanceof u&&!sq[r.key])}function dq(e,t,r){Yy(),x.useEffect(()=>{let n=(a,s)=>{uq(!!r?.isTextInput,a,s)&&e(QT())};return Zy.add(n),()=>{Zy.delete(n)}},t)}function fq(e){let{isDisabled:t,onFocus:r,onBlur:n,onFocusChange:a}=e;const s=x.useCallback(d=>{if(d.target===d.currentTarget)return n&&n(d),a&&a(!1),!0},[n,a]),l=GT(s),u=x.useCallback(d=>{const f=Qi(d.target),h=f?Ky(f):Ky();d.target===d.currentTarget&&h===HT(d.nativeEvent)&&(r&&r(d),a&&a(!0),l(d))},[a,r,l]);return{focusProps:{onFocus:!t&&(r||a||n)?u:void 0,onBlur:!t&&(n||a)?s:void 0}}}function hq(e){let{isDisabled:t,onBlurWithin:r,onFocusWithin:n,onFocusWithinChange:a}=e,s=x.useRef({isFocusWithin:!1}),{addGlobalListener:l,removeAllGlobalListeners:u}=KT(),d=x.useCallback(g=>{g.currentTarget.contains(g.target)&&s.current.isFocusWithin&&!g.currentTarget.contains(g.relatedTarget)&&(s.current.isFocusWithin=!1,u(),r&&r(g),a&&a(!1))},[r,a,s,u]),f=GT(d),h=x.useCallback(g=>{if(!g.currentTarget.contains(g.target))return;const v=Qi(g.target),y=Ky(v);if(!s.current.isFocusWithin&&y===HT(g.nativeEvent)){n&&n(g),a&&a(!0),s.current.isFocusWithin=!0,f(g);let S=g.currentTarget;l(v,"focus",k=>{if(s.current.isFocusWithin&&!qT(S,k.target)){let _=new v.defaultView.FocusEvent("blur",{relatedTarget:k.target});aq(_,S);let j=ZT(_);d(j)}},{capture:!0})}},[n,a,f,l,d]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:h,onBlur:d}}}let Wy=!1,Ef=0;function mq(){Wy=!0,setTimeout(()=>{Wy=!1},50)}function hj(e){e.pointerType==="touch"&&mq()}function pq(){if(!(typeof document>"u"))return Ef===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",hj),Ef++,()=>{Ef--,!(Ef>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",hj)}}function gq(e){let{onHoverStart:t,onHoverChange:r,onHoverEnd:n,isDisabled:a}=e,[s,l]=x.useState(!1),u=x.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;x.useEffect(pq,[]);let{addGlobalListener:d,removeAllGlobalListeners:f}=KT(),{hoverProps:h,triggerHoverEnd:g}=x.useMemo(()=>{let v=(k,_)=>{if(u.pointerType=_,a||_==="touch"||u.isHovered||!k.currentTarget.contains(k.target))return;u.isHovered=!0;let j=k.currentTarget;u.target=j,d(Qi(k.target),"pointerover",O=>{u.isHovered&&u.target&&!qT(u.target,O.target)&&y(O,O.pointerType)},{capture:!0}),t&&t({type:"hoverstart",target:j,pointerType:_}),r&&r(!0),l(!0)},y=(k,_)=>{let j=u.target;u.pointerType="",u.target=null,!(_==="touch"||!u.isHovered||!j)&&(u.isHovered=!1,f(),n&&n({type:"hoverend",target:j,pointerType:_}),r&&r(!1),l(!1))},S={};return typeof PointerEvent<"u"&&(S.onPointerEnter=k=>{Wy&&k.pointerType==="mouse"||v(k,k.pointerType)},S.onPointerLeave=k=>{!a&&k.currentTarget.contains(k.target)&&y(k,k.pointerType)}),{hoverProps:S,triggerHoverEnd:y}},[t,r,n,a,u,d,f]);return x.useEffect(()=>{a&&g({currentTarget:u.target},u.pointerType)},[a]),{hoverProps:h,isHovered:s}}function vq(e={}){let{autoFocus:t=!1,isTextInput:r,within:n}=e,a=x.useRef({isFocused:!1,isFocusVisible:t||QT()}),[s,l]=x.useState(!1),[u,d]=x.useState(()=>a.current.isFocused&&a.current.isFocusVisible),f=x.useCallback(()=>d(a.current.isFocused&&a.current.isFocusVisible),[]),h=x.useCallback(y=>{a.current.isFocused=y,l(y),f()},[f]);dq(y=>{a.current.isFocusVisible=y,f()},[],{isTextInput:r});let{focusProps:g}=fq({isDisabled:n,onFocusChange:h}),{focusWithinProps:v}=hq({isDisabled:!n,onFocusWithinChange:h});return{isFocused:s,isFocusVisible:u,focusProps:n?v:g}}var yq=Object.defineProperty,bq=(e,t,r)=>t in e?yq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Vg=(e,t,r)=>(bq(e,typeof t!="symbol"?t+"":t,r),r);let xq=class{constructor(){Vg(this,"current",this.detect()),Vg(this,"handoffState","pending"),Vg(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},ha=new xq;function El(e){var t;return ha.isServer?null:e==null?document:(t=e?.ownerDocument)!=null?t:document}function Xy(e){var t,r;return ha.isServer?null:e==null?document:(r=(t=e?.getRootNode)==null?void 0:t.call(e))!=null?r:document}function eC(e){var t,r;return(r=(t=Xy(e))==null?void 0:t.activeElement)!=null?r:null}function wq(e){return eC(e)===e}function _0(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function li(){let e=[],t={addEventListener(r,n,a,s){return r.addEventListener(n,a,s),t.add(()=>r.removeEventListener(n,a,s))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return t.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return t.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return _0(()=>{n.current&&r[0]()}),t.add(()=>{n.current=!1})},style(r,n,a){let s=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:a}),this.add(()=>{Object.assign(r.style,{[n]:s})})},group(r){let n=li();return r(n),this.add(()=>n.dispose())},add(r){return e.includes(r)||e.push(r),()=>{let n=e.indexOf(r);if(n>=0)for(let a of e.splice(n,1))a()}},dispose(){for(let r of e.splice(0))r()}};return t}function eo(){let[e]=x.useState(li);return x.useEffect(()=>()=>e.dispose(),[e]),e}let Rr=(e,t)=>{ha.isServer?x.useEffect(e,t):x.useLayoutEffect(e,t)};function to(e){let t=x.useRef(e);return Rr(()=>{t.current=e},[e]),t}let Ze=function(e){let t=to(e);return we.useCallback((...r)=>t.current(...r),[t])};function _q(e){let t=e.width/2,r=e.height/2;return{top:e.clientY-r,right:e.clientX+t,bottom:e.clientY+r,left:e.clientX-t}}function Sq(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function kq({disabled:e=!1}={}){let t=x.useRef(null),[r,n]=x.useState(!1),a=eo(),s=Ze(()=>{t.current=null,n(!1),a.dispose()}),l=Ze(u=>{if(a.dispose(),t.current===null){t.current=u.currentTarget,n(!0);{let d=El(u.currentTarget);a.addEventListener(d,"pointerup",s,!1),a.addEventListener(d,"pointermove",f=>{if(t.current){let h=_q(f);n(Sq(h,t.current.getBoundingClientRect()))}},!1),a.addEventListener(d,"pointercancel",s,!1)}}});return{pressed:r,pressProps:e?{}:{onPointerDown:l,onPointerUp:s,onClick:s}}}function ro(e){return x.useMemo(()=>e,Object.values(e))}let jq=x.createContext(void 0);function jx(){return x.useContext(jq)}function Jy(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function ei(e,t,...r){if(e in t){let a=t[e];return typeof a=="function"?a(...r):a}let n=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ei),n}var bh=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(bh||{}),Ki=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Ki||{});function $r(){let e=Oq();return x.useCallback(t=>Eq({mergeRefs:e,...t}),[e])}function Eq({ourProps:e,theirProps:t,slot:r,defaultTag:n,features:a,visible:s=!0,name:l,mergeRefs:u}){u=u??Nq;let d=tC(t,e);if(s)return Of(d,r,n,l,u);let f=a??0;if(f&2){let{static:h=!1,...g}=d;if(h)return Of(g,r,n,l,u)}if(f&1){let{unmount:h=!0,...g}=d;return ei(h?0:1,{0(){return null},1(){return Of({...g,hidden:!0,style:{display:"none"}},r,n,l,u)}})}return Of(d,r,n,l,u)}function Of(e,t={},r,n,a){let{as:s=r,children:l,refName:u="ref",...d}=Kg(e,["unmount","static"]),f=e.ref!==void 0?{[u]:e.ref}:{},h=typeof l=="function"?l(t):l;"className"in d&&d.className&&typeof d.className=="function"&&(d.className=d.className(t)),d["aria-labelledby"]&&d["aria-labelledby"]===d.id&&(d["aria-labelledby"]=void 0);let g={};if(t){let v=!1,y=[];for(let[S,k]of Object.entries(t))typeof k=="boolean"&&(v=!0),k===!0&&y.push(S.replace(/([A-Z])/g,_=>`-${_.toLowerCase()}`));if(v){g["data-headlessui-state"]=y.join(" ");for(let S of y)g[`data-${S}`]=""}}if(Gc(s)&&(Object.keys(Li(d)).length>0||Object.keys(Li(g)).length>0))if(!x.isValidElement(h)||Array.isArray(h)&&h.length>1||Cq(h)){if(Object.keys(Li(d)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Li(d)).concat(Object.keys(Li(g))).map(v=>`  - ${v}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(v=>`  - ${v}`).join(`
`)].join(`
`))}else{let v=h.props,y=v?.className,S=typeof y=="function"?(...j)=>Jy(y(...j),d.className):Jy(y,d.className),k=S?{className:S}:{},_=tC(h.props,Li(Kg(d,["ref"])));for(let j in g)j in _&&delete g[j];return x.cloneElement(h,Object.assign({},_,g,f,{ref:a(Tq(h),f.ref)},k))}return x.createElement(s,Object.assign({},Kg(d,["ref"]),!Gc(s)&&f,!Gc(s)&&g),h)}function Oq(){let e=x.useRef([]),t=x.useCallback(r=>{for(let n of e.current)n!=null&&(typeof n=="function"?n(r):n.current=r)},[]);return(...r)=>{if(!r.every(n=>n==null))return e.current=r,t}}function Nq(...e){return e.every(t=>t==null)?void 0:t=>{for(let r of e)r!=null&&(typeof r=="function"?r(t):r.current=t)}}function tC(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},r={};for(let n of e)for(let a in n)a.startsWith("on")&&typeof n[a]=="function"?(r[a]!=null||(r[a]=[]),r[a].push(n[a])):t[a]=n[a];if(t.disabled||t["aria-disabled"])for(let n in r)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(n)&&(r[n]=[a=>{var s;return(s=a?.preventDefault)==null?void 0:s.call(a)}]);for(let n in r)Object.assign(t,{[n](a,...s){let l=r[n];for(let u of l){if((a instanceof Event||a?.nativeEvent instanceof Event)&&a.defaultPrevented)return;u(a,...s)}}});return t}function Aq(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},r={};for(let n of e)for(let a in n)a.startsWith("on")&&typeof n[a]=="function"?(r[a]!=null||(r[a]=[]),r[a].push(n[a])):t[a]=n[a];for(let n in r)Object.assign(t,{[n](...a){let s=r[n];for(let l of s)l?.(...a)}});return t}function Tr(e){var t;return Object.assign(x.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Li(e){let t=Object.assign({},e);for(let r in t)t[r]===void 0&&delete t[r];return t}function Kg(e,t=[]){let r=Object.assign({},e);for(let n of t)n in r&&delete r[n];return r}function Tq(e){return we.version.split(".")[0]>="19"?e.props.ref:e.ref}function Gc(e){return e===x.Fragment||e===Symbol.for("react.fragment")}function Cq(e){return Gc(e.type)}function Pq(e,t,r){let[n,a]=x.useState(r),s=e!==void 0,l=x.useRef(s),u=x.useRef(!1),d=x.useRef(!1);return s&&!l.current&&!u.current?(u.current=!0,l.current=s,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!s&&l.current&&!d.current&&(d.current=!0,l.current=s,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[s?e:n,Ze(f=>(s||Qs.flushSync(()=>a(f)),t?.(f)))]}function Dq(e){let[t]=x.useState(e);return t}function rC(e={},t=null,r=[]){for(let[n,a]of Object.entries(e))aC(r,nC(t,n),a);return r}function nC(e,t){return e?e+"["+t+"]":t}function aC(e,t,r){if(Array.isArray(r))for(let[n,a]of r.entries())aC(e,nC(t,n.toString()),a);else r instanceof Date?e.push([t,r.toISOString()]):typeof r=="boolean"?e.push([t,r?"1":"0"]):typeof r=="string"?e.push([t,r]):typeof r=="number"?e.push([t,`${r}`]):r==null?e.push([t,""]):Mq(r)&&!x.isValidElement(r)&&rC(r,t,e)}function Rq(e){var t,r;let n=(t=e?.form)!=null?t:e.closest("form");if(n){for(let a of n.elements)if(a!==e&&(a.tagName==="INPUT"&&a.type==="submit"||a.tagName==="BUTTON"&&a.type==="submit"||a.nodeName==="INPUT"&&a.type==="image")){a.click();return}(r=n.requestSubmit)==null||r.call(n)}}function Mq(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}let $q="span";var fl=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(fl||{});function Iq(e,t){var r;let{features:n=1,...a}=e,s={ref:t,"aria-hidden":(n&2)===2?!0:(r=a["aria-hidden"])!=null?r:void 0,hidden:(n&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return $r()({ourProps:s,theirProps:a,slot:{},defaultTag:$q,name:"Hidden"})}let iu=Tr(Iq),Lq=x.createContext(null);function zq({children:e}){let t=x.useContext(Lq);if(!t)return we.createElement(we.Fragment,null,e);let{target:r}=t;return r?Qs.createPortal(we.createElement(we.Fragment,null,e),r):null}function Uq({data:e,form:t,disabled:r,onReset:n,overrides:a}){let[s,l]=x.useState(null),u=eo();return x.useEffect(()=>{if(n&&s)return u.addEventListener(s,"reset",n)},[s,t,n]),we.createElement(zq,null,we.createElement(Bq,{setForm:l,formId:t}),rC(e).map(([d,f])=>we.createElement(iu,{features:fl.Hidden,...Li({key:d,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:t,disabled:r,name:d,value:f,...a})})))}function Bq({setForm:e,formId:t}){return x.useEffect(()=>{if(t){let r=document.getElementById(t);r&&e(r)}},[e,t]),t?null:we.createElement(iu,{features:fl.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:r=>{if(!r)return;let n=r.closest("form");n&&e(n)}})}let qq=x.createContext(void 0);function iC(){return x.useContext(qq)}function Hq(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function Wa(e){return Hq(e)&&"tagName"in e}function ga(e){return Wa(e)&&"accessKey"in e}function Zi(e){return Wa(e)&&"tabIndex"in e}function Fq(e){return Wa(e)&&"style"in e}function Vq(e){return ga(e)&&e.nodeName==="IFRAME"}function sC(e){return ga(e)&&e.nodeName==="INPUT"}function Qy(e){return ga(e)&&e.nodeName==="LABEL"}function Kq(e){return ga(e)&&e.nodeName==="FIELDSET"}function oC(e){return ga(e)&&e.nodeName==="LEGEND"}function Zq(e){return Wa(e)?e.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function Gq(e){let t=e.parentElement,r=null;for(;t&&!Kq(t);)oC(t)&&(r=t),t=t.parentElement;let n=t?.getAttribute("disabled")==="";return n&&Yq(r)?!1:n}function Yq(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(oC(t))return!1;t=t.previousElementSibling}return!0}let lC=Symbol();function Wq(e,t=!0){return Object.assign(e,{[lC]:t})}function Un(...e){let t=x.useRef(e);x.useEffect(()=>{t.current=e},[e]);let r=Ze(n=>{for(let a of t.current)a!=null&&(typeof a=="function"?a(n):a.current=n)});return e.every(n=>n==null||n?.[lC])?void 0:r}let S0=x.createContext(null);S0.displayName="DescriptionContext";function cC(){let e=x.useContext(S0);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,cC),t}return e}function Xq(){var e,t;return(t=(e=x.useContext(S0))==null?void 0:e.value)!=null?t:void 0}function uC(){let[e,t]=x.useState([]);return[e.length>0?e.join(" "):void 0,x.useMemo(()=>function(r){let n=Ze(s=>(t(l=>[...l,s]),()=>t(l=>{let u=l.slice(),d=u.indexOf(s);return d!==-1&&u.splice(d,1),u}))),a=x.useMemo(()=>({register:n,slot:r.slot,name:r.name,props:r.props,value:r.value}),[n,r.slot,r.name,r.props,r.value]);return we.createElement(S0.Provider,{value:a},r.children)},[t])]}let Jq="p";function Qq(e,t){let r=x.useId(),n=jx(),{id:a=`headlessui-description-${r}`,...s}=e,l=cC(),u=Un(t);Rr(()=>l.register(a),[a,l.register]);let d=ro({...l.slot,disabled:n||!1}),f={ref:u,...l.props,id:a};return $r()({ourProps:f,theirProps:s,slot:d,defaultTag:Jq,name:l.name||"Description"})}let eH=Tr(Qq),dC=Object.assign(eH,{});var xh=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(xh||{});let k0=x.createContext(null);k0.displayName="LabelContext";function fC(){let e=x.useContext(k0);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,fC),t}return e}function hC(e){var t,r,n;let a=(r=(t=x.useContext(k0))==null?void 0:t.value)!=null?r:void 0;return((n=void 0)!=null?n:0)>0?[a,...e].filter(Boolean).join(" "):a}function tH({inherit:e=!1}={}){let t=hC(),[r,n]=x.useState([]),a=e?[t,...r].filter(Boolean):r;return[a.length>0?a.join(" "):void 0,x.useMemo(()=>function(s){let l=Ze(d=>(n(f=>[...f,d]),()=>n(f=>{let h=f.slice(),g=h.indexOf(d);return g!==-1&&h.splice(g,1),h}))),u=x.useMemo(()=>({register:l,slot:s.slot,name:s.name,props:s.props,value:s.value}),[l,s.slot,s.name,s.props,s.value]);return we.createElement(k0.Provider,{value:u},s.children)},[n])]}let rH="label";function nH(e,t){var r;let n=x.useId(),a=fC(),s=iC(),l=jx(),{id:u=`headlessui-label-${n}`,htmlFor:d=s??((r=a.props)==null?void 0:r.htmlFor),passive:f=!1,...h}=e,g=Un(t);Rr(()=>a.register(u),[u,a.register]);let v=Ze(k=>{let _=k.currentTarget;if(!(k.target!==k.currentTarget&&Zq(k.target))&&(Qy(_)&&k.preventDefault(),a.props&&"onClick"in a.props&&typeof a.props.onClick=="function"&&a.props.onClick(k),Qy(_))){let j=document.getElementById(_.htmlFor);if(j){let O=j.getAttribute("disabled");if(O==="true"||O==="")return;let E=j.getAttribute("aria-disabled");if(E==="true"||E==="")return;(sC(j)&&(j.type==="file"||j.type==="radio"||j.type==="checkbox")||j.role==="radio"||j.role==="checkbox"||j.role==="switch")&&j.click(),j.focus({preventScroll:!0})}}}),y=ro({...a.slot,disabled:l||!1}),S={ref:g,...a.props,id:u,htmlFor:d,onClick:v};return f&&("onClick"in S&&(delete S.htmlFor,delete S.onClick),"onClick"in h&&delete h.onClick),$r()({ourProps:S,theirProps:h,slot:y,defaultTag:d?rH:"div",name:a.name||"Label"})}let aH=Tr(nH),iH=Object.assign(aH,{}),sH=x.createContext(()=>{});function oH({value:e,children:t}){return we.createElement(sH.Provider,{value:e},t)}let mC=class extends Map{constructor(t){super(),this.factory=t}get(t){let r=super.get(t);return r===void 0&&(r=this.factory(t),this.set(t,r)),r}};var lH=Object.defineProperty,cH=(e,t,r)=>t in e?lH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,uH=(e,t,r)=>(cH(e,t+"",r),r),pC=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},Pn=(e,t,r)=>(pC(e,t,"read from private field"),r?r.call(e):t.get(e)),Zg=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},mj=(e,t,r,n)=>(pC(e,t,"write to private field"),t.set(e,r),r),la,qc,Hc;let dH=class{constructor(t){Zg(this,la,{}),Zg(this,qc,new mC(()=>new Set)),Zg(this,Hc,new Set),uH(this,"disposables",li()),mj(this,la,t),ha.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return Pn(this,la)}subscribe(t,r){if(ha.isServer)return()=>{};let n={selector:t,callback:r,current:t(Pn(this,la))};return Pn(this,Hc).add(n),this.disposables.add(()=>{Pn(this,Hc).delete(n)})}on(t,r){return ha.isServer?()=>{}:(Pn(this,qc).get(t).add(r),this.disposables.add(()=>{Pn(this,qc).get(t).delete(r)}))}send(t){let r=this.reduce(Pn(this,la),t);if(r!==Pn(this,la)){mj(this,la,r);for(let n of Pn(this,Hc)){let a=n.selector(Pn(this,la));gC(n.current,a)||(n.current=a,n.callback(a))}for(let n of Pn(this,qc).get(t.type))n(Pn(this,la),t)}}};la=new WeakMap,qc=new WeakMap,Hc=new WeakMap;function gC(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:Gg(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:Gg(e.entries(),t.entries()):pj(e)&&pj(t)?Gg(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function Gg(e,t){do{let r=e.next(),n=t.next();if(r.done&&n.done)return!0;if(r.done||n.done||!Object.is(r.value,n.value))return!1}while(!0)}function pj(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}var fH=Object.defineProperty,hH=(e,t,r)=>t in e?fH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,gj=(e,t,r)=>(hH(e,typeof t!="symbol"?t+"":t,r),r),mH=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(mH||{});let pH={0(e,t){let r=t.id,n=e.stack,a=e.stack.indexOf(r);if(a!==-1){let s=e.stack.slice();return s.splice(a,1),s.push(r),n=s,{...e,stack:n}}return{...e,stack:[...e.stack,r]}},1(e,t){let r=t.id,n=e.stack.indexOf(r);if(n===-1)return e;let a=e.stack.slice();return a.splice(n,1),{...e,stack:a}}},gH=class vC extends dH{constructor(){super(...arguments),gj(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),gj(this,"selectors",{isTop:(t,r)=>t.stack[t.stack.length-1]===r,inStack:(t,r)=>t.stack.includes(r)})}static new(){return new vC({stack:[]})}reduce(t,r){return ei(r.type,pH,t,r)}};const yC=new mC(()=>gH.new());var Yg={exports:{}},Wg={};var vj;function vH(){if(vj)return Wg;vj=1;var e=xl();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,a=e.useRef,s=e.useEffect,l=e.useMemo,u=e.useDebugValue;return Wg.useSyncExternalStoreWithSelector=function(d,f,h,g,v){var y=a(null);if(y.current===null){var S={hasValue:!1,value:null};y.current=S}else S=y.current;y=l(function(){function _(N){if(!j){if(j=!0,O=N,N=g(N),v!==void 0&&S.hasValue){var C=S.value;if(v(C,N))return E=C}return E=N}if(C=E,r(O,N))return C;var P=g(N);return v!==void 0&&v(C,P)?(O=N,C):(O=N,E=P)}var j=!1,O,E,D=h===void 0?null:h;return[function(){return _(f())},D===null?void 0:function(){return _(D())}]},[f,h,g,v]);var k=n(d,y[0],y[1]);return s(function(){S.hasValue=!0,S.value=k},[k]),u(k),k},Wg}var yj;function yH(){return yj||(yj=1,Yg.exports=vH()),Yg.exports}var bH=yH();function bC(e,t,r=gC){return bH.useSyncExternalStoreWithSelector(Ze(n=>e.subscribe(xH,n)),Ze(()=>e.state),Ze(()=>e.state),Ze(t),r)}function xH(e){return e}function ju(e,t){let r=x.useId(),n=yC.get(t),[a,s]=bC(n,x.useCallback(l=>[n.selectors.isTop(l,r),n.selectors.inStack(l,r)],[n,r]));return Rr(()=>{if(e)return n.actions.push(r),()=>n.actions.pop(r)},[n,e,r]),e?s?a:!0:!1}let eb=new Map,Yc=new Map;function bj(e){var t;let r=(t=Yc.get(e))!=null?t:0;return Yc.set(e,r+1),r!==0?()=>xj(e):(eb.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>xj(e))}function xj(e){var t;let r=(t=Yc.get(e))!=null?t:1;if(r===1?Yc.delete(e):Yc.set(e,r-1),r!==1)return;let n=eb.get(e);n&&(n["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",n["aria-hidden"]),e.inert=n.inert,eb.delete(e))}function wH(e,{allowed:t,disallowed:r}={}){let n=ju(e,"inert-others");Rr(()=>{var a,s;if(!n)return;let l=li();for(let d of(a=r?.())!=null?a:[])d&&l.add(bj(d));let u=(s=t?.())!=null?s:[];for(let d of u){if(!d)continue;let f=El(d);if(!f)continue;let h=d.parentElement;for(;h&&h!==f.body;){for(let g of h.children)u.some(v=>g.contains(v))||l.add(bj(g));h=h.parentElement}}return l.dispose},[n,t,r])}function _H(e,t,r){let n=to(a=>{let s=a.getBoundingClientRect();s.x===0&&s.y===0&&s.width===0&&s.height===0&&r()});x.useEffect(()=>{if(!e)return;let a=t===null?null:ga(t)?t:t.current;if(!a)return;let s=li();if(typeof ResizeObserver<"u"){let l=new ResizeObserver(()=>n.current(a));l.observe(a),s.add(()=>l.disconnect())}if(typeof IntersectionObserver<"u"){let l=new IntersectionObserver(()=>n.current(a));l.observe(a),s.add(()=>l.disconnect())}return()=>s.dispose()},[t,n,e])}let wh=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),SH=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Va=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(Va||{}),tb=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(tb||{}),kH=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(kH||{});function jH(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(wh)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}function EH(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(SH)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var xC=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(xC||{});function OH(e,t=0){var r;return e===((r=El(e))==null?void 0:r.body)?!1:ei(t,{0(){return e.matches(wh)},1(){let n=e;for(;n!==null;){if(n.matches(wh))return!0;n=n.parentElement}return!1}})}var NH=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(NH||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Xa(e){e?.focus({preventScroll:!0})}let AH=["textarea","input"].join(",");function TH(e){var t,r;return(r=(t=e?.matches)==null?void 0:t.call(e,AH))!=null?r:!1}function CH(e,t=r=>r){return e.slice().sort((r,n)=>{let a=t(r),s=t(n);if(a===null||s===null)return 0;let l=a.compareDocumentPosition(s);return l&Node.DOCUMENT_POSITION_FOLLOWING?-1:l&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Wc(e,t,{sorted:r=!0,relativeTo:n=null,skipElements:a=[]}={}){let s=Array.isArray(e)?e.length>0?Xy(e[0]):document:Xy(e),l=Array.isArray(e)?r?CH(e):e:t&64?EH(e):jH(e);a.length>0&&l.length>1&&(l=l.filter(y=>!a.some(S=>S!=null&&"current"in S?S?.current===y:S===y))),n=n??s?.activeElement;let u=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,l.indexOf(n))-1;if(t&4)return Math.max(0,l.indexOf(n))+1;if(t&8)return l.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=t&32?{preventScroll:!0}:{},h=0,g=l.length,v;do{if(h>=g||h+g<=0)return 0;let y=d+h;if(t&16)y=(y+g)%g;else{if(y<0)return 3;if(y>=g)return 1}v=l[y],v?.focus(f),h+=u}while(v!==eC(v));return t&6&&TH(v)&&v.select(),2}function wC(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function PH(){return/Android/gi.test(window.navigator.userAgent)}function wj(){return wC()||PH()}function Nf(e,t,r,n){let a=to(r);x.useEffect(()=>{if(!e)return;function s(l){a.current(l)}return document.addEventListener(t,s,n),()=>document.removeEventListener(t,s,n)},[e,t,n])}function _C(e,t,r,n){let a=to(r);x.useEffect(()=>{if(!e)return;function s(l){a.current(l)}return window.addEventListener(t,s,n),()=>window.removeEventListener(t,s,n)},[e,t,n])}const _j=30;function DH(e,t,r){let n=to(r),a=x.useCallback(function(u,d){if(u.defaultPrevented)return;let f=d(u);if(f===null||!f.getRootNode().contains(f)||!f.isConnected)return;let h=(function g(v){return typeof v=="function"?g(v()):Array.isArray(v)||v instanceof Set?v:[v]})(t);for(let g of h)if(g!==null&&(g.contains(f)||u.composed&&u.composedPath().includes(g)))return;return!OH(f,xC.Loose)&&f.tabIndex!==-1&&u.preventDefault(),n.current(u,f)},[n,t]),s=x.useRef(null);Nf(e,"pointerdown",u=>{var d,f;wj()||(s.current=((f=(d=u.composedPath)==null?void 0:d.call(u))==null?void 0:f[0])||u.target)},!0),Nf(e,"pointerup",u=>{if(wj()||!s.current)return;let d=s.current;return s.current=null,a(u,()=>d)},!0);let l=x.useRef({x:0,y:0});Nf(e,"touchstart",u=>{l.current.x=u.touches[0].clientX,l.current.y=u.touches[0].clientY},!0),Nf(e,"touchend",u=>{let d={x:u.changedTouches[0].clientX,y:u.changedTouches[0].clientY};if(!(Math.abs(d.x-l.current.x)>=_j||Math.abs(d.y-l.current.y)>=_j))return a(u,()=>Zi(u.target)?u.target:null)},!0),_C(e,"blur",u=>a(u,()=>Vq(window.document.activeElement)?window.document.activeElement:null),!0)}function Ex(...e){return x.useMemo(()=>El(...e),[...e])}function SC(e,t,r,n){let a=to(r);x.useEffect(()=>{e=e??window;function s(l){a.current(l)}return e.addEventListener(t,s,n),()=>e.removeEventListener(t,s,n)},[e,t,n])}function RH(e,t){return x.useMemo(()=>{var r;if(e.type)return e.type;let n=(r=e.as)!=null?r:"button";if(typeof n=="string"&&n.toLowerCase()==="button"||t?.tagName==="BUTTON"&&!t.hasAttribute("type"))return"button"},[e.type,e.as,t])}function MH(e){return x.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}function $H(e,t){let r=e(),n=new Set;return{getSnapshot(){return r},subscribe(a){return n.add(a),()=>n.delete(a)},dispatch(a,...s){let l=t[a].call(r,...s);l&&(r=l,n.forEach(u=>u()))}}}function IH(){let e;return{before({doc:t}){var r;let n=t.documentElement,a=(r=t.defaultView)!=null?r:window;e=Math.max(0,a.innerWidth-n.clientWidth)},after({doc:t,d:r}){let n=t.documentElement,a=Math.max(0,n.clientWidth-n.offsetWidth),s=Math.max(0,e-a);r.style(n,"paddingRight",`${s}px`)}}}function LH(){return wC()?{before({doc:e,d:t,meta:r}){function n(a){for(let s of r().containers)for(let l of s())if(l.contains(a))return!0;return!1}t.microTask(()=>{var a;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let u=li();u.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>u.dispose()))}let s=(a=window.scrollY)!=null?a:window.pageYOffset,l=null;t.addEventListener(e,"click",u=>{if(Zi(u.target))try{let d=u.target.closest("a");if(!d)return;let{hash:f}=new URL(d.href),h=e.querySelector(f);Zi(h)&&!n(h)&&(l=h)}catch{}},!0),t.group(u=>{t.addEventListener(e,"touchstart",d=>{if(u.dispose(),Zi(d.target)&&Fq(d.target))if(n(d.target)){let f=d.target;for(;f.parentElement&&n(f.parentElement);)f=f.parentElement;u.style(f,"overscrollBehavior","contain")}else u.style(d.target,"touchAction","none")})}),t.addEventListener(e,"touchmove",u=>{if(Zi(u.target)){if(sC(u.target))return;if(n(u.target)){let d=u.target;for(;d.parentElement&&d.dataset.headlessuiPortal!==""&&!(d.scrollHeight>d.clientHeight||d.scrollWidth>d.clientWidth);)d=d.parentElement;d.dataset.headlessuiPortal===""&&u.preventDefault()}else u.preventDefault()}},{passive:!1}),t.add(()=>{var u;let d=(u=window.scrollY)!=null?u:window.pageYOffset;s!==d&&window.scrollTo(0,s),l&&l.isConnected&&(l.scrollIntoView({block:"nearest"}),l=null)})})}}:{}}function zH(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Sj(e){let t={};for(let r of e)Object.assign(t,r(t));return t}let Rs=$H(()=>new Map,{PUSH(e,t){var r;let n=(r=this.get(e))!=null?r:{doc:e,count:0,d:li(),meta:new Set,computedMeta:{}};return n.count++,n.meta.add(t),n.computedMeta=Sj(n.meta),this.set(e,n),this},POP(e,t){let r=this.get(e);return r&&(r.count--,r.meta.delete(t),r.computedMeta=Sj(r.meta)),this},SCROLL_PREVENT(e){let t={doc:e.doc,d:e.d,meta(){return e.computedMeta}},r=[LH(),IH(),zH()];r.forEach(({before:n})=>n?.(t)),r.forEach(({after:n})=>n?.(t))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Rs.subscribe(()=>{let e=Rs.getSnapshot(),t=new Map;for(let[r]of e)t.set(r,r.documentElement.style.overflow);for(let r of e.values()){let n=t.get(r.doc)==="hidden",a=r.count!==0;(a&&!n||!a&&n)&&Rs.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&Rs.dispatch("TEARDOWN",r)}});function UH(e,t,r=()=>({containers:[]})){let n=MH(Rs),a=t?n.get(t):void 0,s=a?a.count>0:!1;return Rr(()=>{if(!(!t||!e))return Rs.dispatch("PUSH",t,r),()=>Rs.dispatch("POP",t,r)},[e,t]),s}function BH(e,t,r=()=>[document.body]){let n=ju(e,"scroll-lock");UH(n,t,a=>{var s;return{containers:[...(s=a.containers)!=null?s:[],r]}})}function qH(e=0){let[t,r]=x.useState(e),n=x.useCallback(d=>r(d),[]),a=x.useCallback(d=>r(f=>f|d),[]),s=x.useCallback(d=>(t&d)===d,[t]),l=x.useCallback(d=>r(f=>f&~d),[]),u=x.useCallback(d=>r(f=>f^d),[]);return{flags:t,setFlag:n,addFlag:a,hasFlag:s,removeFlag:l,toggleFlag:u}}var HH={},kj,jj;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((kj=process==null?void 0:HH)==null?void 0:kj.NODE_ENV)==="test"&&typeof((jj=Element?.prototype)==null?void 0:jj.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var FH=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(FH||{});function VH(e){let t={};for(let r in e)e[r]===!0&&(t[`data-${r}`]="");return t}function KH(e,t,r,n){let[a,s]=x.useState(r),{hasFlag:l,addFlag:u,removeFlag:d}=qH(e&&a?3:0),f=x.useRef(!1),h=x.useRef(!1),g=eo();return Rr(()=>{var v;if(e){if(r&&s(!0),!t){r&&u(3);return}return(v=n?.start)==null||v.call(n,r),ZH(t,{inFlight:f,prepare(){h.current?h.current=!1:h.current=f.current,f.current=!0,!h.current&&(r?(u(3),d(4)):(u(4),d(2)))},run(){h.current?r?(d(3),u(4)):(d(4),u(3)):r?d(1):u(1)},done(){var y;h.current&&WH(t)||(f.current=!1,d(7),r||s(!1),(y=n?.end)==null||y.call(n,r))}})}},[e,r,t,g]),e?[a,{closed:l(1),enter:l(2),leave:l(4),transition:l(2)||l(4)}]:[r,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function ZH(e,{prepare:t,run:r,done:n,inFlight:a}){let s=li();return YH(e,{prepare:t,inFlight:a}),s.nextFrame(()=>{r(),s.requestAnimationFrame(()=>{s.add(GH(e,n))})}),s.dispose}function GH(e,t){var r,n;let a=li();if(!e)return a.dispose;let s=!1;a.add(()=>{s=!0});let l=(n=(r=e.getAnimations)==null?void 0:r.call(e).filter(u=>u instanceof CSSTransition))!=null?n:[];return l.length===0?(t(),a.dispose):(Promise.allSettled(l.map(u=>u.finished)).then(()=>{s||t()}),a.dispose)}function YH(e,{inFlight:t,prepare:r}){if(t!=null&&t.current){r();return}let n=e.style.transition;e.style.transition="none",r(),e.offsetHeight,e.style.transition=n}function WH(e){var t,r;return((r=(t=e.getAnimations)==null?void 0:t.call(e))!=null?r:[]).some(n=>n instanceof CSSTransition&&n.playState!=="finished")}function Ox(e,t){let r=x.useRef([]),n=Ze(e);x.useEffect(()=>{let a=[...r.current];for(let[s,l]of t.entries())if(r.current[s]!==l){let u=n(t,a);return r.current=t,u}},[n,...t])}let j0=x.createContext(null);j0.displayName="OpenClosedContext";var Xn=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Xn||{});function E0(){return x.useContext(j0)}function XH({value:e,children:t}){return we.createElement(j0.Provider,{value:e},t)}function JH({children:e}){return we.createElement(j0.Provider,{value:null},e)}function QH(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let Hi=[];QH(()=>{function e(t){if(!Zi(t.target)||t.target===document.body||Hi[0]===t.target)return;let r=t.target;r=r.closest(wh),Hi.unshift(r??t.target),Hi=Hi.filter(n=>n!=null&&n.isConnected),Hi.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function kC(e){let t=Ze(e),r=x.useRef(!1);x.useEffect(()=>(r.current=!1,()=>{r.current=!0,_0(()=>{r.current&&t()})}),[t])}let jC=x.createContext(!1);function eF(){return x.useContext(jC)}function Ej(e){return we.createElement(jC.Provider,{value:e.force},e.children)}function tF(e){let t=eF(),r=x.useContext(OC),[n,a]=x.useState(()=>{var s;if(!t&&r!==null)return(s=r.current)!=null?s:null;if(ha.isServer)return null;let l=e?.getElementById("headlessui-portal-root");if(l)return l;if(e===null)return null;let u=e.createElement("div");return u.setAttribute("id","headlessui-portal-root"),e.body.appendChild(u)});return x.useEffect(()=>{n!==null&&(e!=null&&e.body.contains(n)||e==null||e.body.appendChild(n))},[n,e]),x.useEffect(()=>{t||r!==null&&a(r.current)},[r,a,t]),n}let EC=x.Fragment,rF=Tr(function(e,t){let{ownerDocument:r=null,...n}=e,a=x.useRef(null),s=Un(Wq(v=>{a.current=v}),t),l=Ex(a.current),u=r??l,d=tF(u),f=x.useContext(rb),h=eo(),g=$r();return kC(()=>{var v;d&&d.childNodes.length<=0&&((v=d.parentElement)==null||v.removeChild(d))}),d?Qs.createPortal(we.createElement("div",{"data-headlessui-portal":"",ref:v=>{h.dispose(),f&&v&&h.add(f.register(v))}},g({ourProps:{ref:s},theirProps:n,slot:{},defaultTag:EC,name:"Portal"})),d):null});function nF(e,t){let r=Un(t),{enabled:n=!0,ownerDocument:a,...s}=e,l=$r();return n?we.createElement(rF,{...s,ownerDocument:a,ref:r}):l({ourProps:{ref:r},theirProps:s,slot:{},defaultTag:EC,name:"Portal"})}let aF=x.Fragment,OC=x.createContext(null);function iF(e,t){let{target:r,...n}=e,a={ref:Un(t)},s=$r();return we.createElement(OC.Provider,{value:r},s({ourProps:a,theirProps:n,defaultTag:aF,name:"Popover.Group"}))}let rb=x.createContext(null);function sF(){let e=x.useContext(rb),t=x.useRef([]),r=Ze(s=>(t.current.push(s),e&&e.register(s),()=>n(s))),n=Ze(s=>{let l=t.current.indexOf(s);l!==-1&&t.current.splice(l,1),e&&e.unregister(s)}),a=x.useMemo(()=>({register:r,unregister:n,portals:t}),[r,n,t]);return[t,x.useMemo(()=>function({children:s}){return we.createElement(rb.Provider,{value:a},s)},[a])]}let oF=Tr(nF),NC=Tr(iF),lF=Object.assign(oF,{Group:NC});function cF(e,t=typeof document<"u"?document.defaultView:null,r){let n=ju(e,"escape");SC(t,"keydown",a=>{n&&(a.defaultPrevented||a.key===xh.Escape&&r(a))})}function uF(){var e;let[t]=x.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[r,n]=x.useState((e=t?.matches)!=null?e:!1);return Rr(()=>{if(!t)return;function a(s){n(s.matches)}return t.addEventListener("change",a),()=>t.removeEventListener("change",a)},[t]),r}function dF({defaultContainers:e=[],portals:t,mainTreeNode:r}={}){let n=Ze(()=>{var a,s;let l=El(r),u=[];for(let d of e)d!==null&&(Wa(d)?u.push(d):"current"in d&&Wa(d.current)&&u.push(d.current));if(t!=null&&t.current)for(let d of t.current)u.push(d);for(let d of(a=l?.querySelectorAll("html > *, body > *"))!=null?a:[])d!==document.body&&d!==document.head&&Wa(d)&&d.id!=="headlessui-portal-root"&&(r&&(d.contains(r)||d.contains((s=r?.getRootNode())==null?void 0:s.host))||u.some(f=>d.contains(f))||u.push(d));return u});return{resolveContainers:n,contains:Ze(a=>n().some(s=>s.contains(a)))}}let AC=x.createContext(null);function Oj({children:e,node:t}){let[r,n]=x.useState(null),a=TC(t??r);return we.createElement(AC.Provider,{value:a},e,a===null&&we.createElement(iu,{features:fl.Hidden,ref:s=>{var l,u;if(s){for(let d of(u=(l=El(s))==null?void 0:l.querySelectorAll("html > *, body > *"))!=null?u:[])if(d!==document.body&&d!==document.head&&Wa(d)&&d!=null&&d.contains(s)){n(d);break}}}}))}function TC(e=null){var t;return(t=x.useContext(AC))!=null?t:e}function fF(){let e=typeof document>"u";return"useSyncExternalStore"in ky?(t=>t.useSyncExternalStore)(ky)(()=>()=>{},()=>!1,()=>!e):!1}function O0(){let e=fF(),[t,r]=x.useState(ha.isHandoffComplete);return t&&ha.isHandoffComplete===!1&&r(!1),x.useEffect(()=>{t!==!0&&r(!0)},[t]),x.useEffect(()=>ha.handoff(),[]),e?!1:t}function Nx(){let e=x.useRef(!1);return Rr(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var Fc=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Fc||{});function hF(){let e=x.useRef(0);return _C(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function CC(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let r of e.current)Wa(r.current)&&t.add(r.current);return t}let mF="div";var Cs=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(Cs||{});function pF(e,t){let r=x.useRef(null),n=Un(r,t),{initialFocus:a,initialFocusFallback:s,containers:l,features:u=15,...d}=e;O0()||(u=0);let f=Ex(r.current);bF(u,{ownerDocument:f});let h=xF(u,{ownerDocument:f,container:r,initialFocus:a,initialFocusFallback:s});wF(u,{ownerDocument:f,container:r,containers:l,previousActiveElement:h});let g=hF(),v=Ze(O=>{if(!ga(r.current))return;let E=r.current;(D=>D())(()=>{ei(g.current,{[Fc.Forwards]:()=>{Wc(E,Va.First,{skipElements:[O.relatedTarget,s]})},[Fc.Backwards]:()=>{Wc(E,Va.Last,{skipElements:[O.relatedTarget,s]})}})})}),y=ju(!!(u&2),"focus-trap#tab-lock"),S=eo(),k=x.useRef(!1),_={ref:n,onKeyDown(O){O.key=="Tab"&&(k.current=!0,S.requestAnimationFrame(()=>{k.current=!1}))},onBlur(O){if(!(u&4))return;let E=CC(l);ga(r.current)&&E.add(r.current);let D=O.relatedTarget;Zi(D)&&D.dataset.headlessuiFocusGuard!=="true"&&(PC(E,D)||(k.current?Wc(r.current,ei(g.current,{[Fc.Forwards]:()=>Va.Next,[Fc.Backwards]:()=>Va.Previous})|Va.WrapAround,{relativeTo:O.target}):Zi(O.target)&&Xa(O.target)))}},j=$r();return we.createElement(we.Fragment,null,y&&we.createElement(iu,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:v,features:fl.Focusable}),j({ourProps:_,theirProps:d,defaultTag:mF,name:"FocusTrap"}),y&&we.createElement(iu,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:v,features:fl.Focusable}))}let gF=Tr(pF),vF=Object.assign(gF,{features:Cs});function yF(e=!0){let t=x.useRef(Hi.slice());return Ox(([r],[n])=>{n===!0&&r===!1&&_0(()=>{t.current.splice(0)}),n===!1&&r===!0&&(t.current=Hi.slice())},[e,Hi,t]),Ze(()=>{var r;return(r=t.current.find(n=>n!=null&&n.isConnected))!=null?r:null})}function bF(e,{ownerDocument:t}){let r=!!(e&8),n=yF(r);Ox(()=>{r||wq(t?.body)&&Xa(n())},[r]),kC(()=>{r&&Xa(n())})}function xF(e,{ownerDocument:t,container:r,initialFocus:n,initialFocusFallback:a}){let s=x.useRef(null),l=ju(!!(e&1),"focus-trap#initial-focus"),u=Nx();return Ox(()=>{if(e===0)return;if(!l){a!=null&&a.current&&Xa(a.current);return}let d=r.current;d&&_0(()=>{if(!u.current)return;let f=t?.activeElement;if(n!=null&&n.current){if(n?.current===f){s.current=f;return}}else if(d.contains(f)){s.current=f;return}if(n!=null&&n.current)Xa(n.current);else{if(e&16){if(Wc(d,Va.First|Va.AutoFocus)!==tb.Error)return}else if(Wc(d,Va.First)!==tb.Error)return;if(a!=null&&a.current&&(Xa(a.current),t?.activeElement===a.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}s.current=t?.activeElement})},[a,l,e]),s}function wF(e,{ownerDocument:t,container:r,containers:n,previousActiveElement:a}){let s=Nx(),l=!!(e&4);SC(t?.defaultView,"focus",u=>{if(!l||!s.current)return;let d=CC(n);ga(r.current)&&d.add(r.current);let f=a.current;if(!f)return;let h=u.target;ga(h)?PC(d,h)?(a.current=h,Xa(h)):(u.preventDefault(),u.stopPropagation(),Xa(f)):Xa(a.current)},!0)}function PC(e,t){for(let r of e)if(r.contains(t))return!0;return!1}function DC(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||!Gc((t=e.as)!=null?t:MC)||we.Children.count(e.children)===1}let N0=x.createContext(null);N0.displayName="TransitionContext";var _F=(e=>(e.Visible="visible",e.Hidden="hidden",e))(_F||{});function SF(){let e=x.useContext(N0);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function kF(){let e=x.useContext(A0);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let A0=x.createContext(null);A0.displayName="NestingContext";function T0(e){return"children"in e?T0(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function RC(e,t){let r=to(e),n=x.useRef([]),a=Nx(),s=eo(),l=Ze((y,S=Ki.Hidden)=>{let k=n.current.findIndex(({el:_})=>_===y);k!==-1&&(ei(S,{[Ki.Unmount](){n.current.splice(k,1)},[Ki.Hidden](){n.current[k].state="hidden"}}),s.microTask(()=>{var _;!T0(n)&&a.current&&((_=r.current)==null||_.call(r))}))}),u=Ze(y=>{let S=n.current.find(({el:k})=>k===y);return S?S.state!=="visible"&&(S.state="visible"):n.current.push({el:y,state:"visible"}),()=>l(y,Ki.Unmount)}),d=x.useRef([]),f=x.useRef(Promise.resolve()),h=x.useRef({enter:[],leave:[]}),g=Ze((y,S,k)=>{d.current.splice(0),t&&(t.chains.current[S]=t.chains.current[S].filter(([_])=>_!==y)),t?.chains.current[S].push([y,new Promise(_=>{d.current.push(_)})]),t?.chains.current[S].push([y,new Promise(_=>{Promise.all(h.current[S].map(([j,O])=>O)).then(()=>_())})]),S==="enter"?f.current=f.current.then(()=>t?.wait.current).then(()=>k(S)):k(S)}),v=Ze((y,S,k)=>{Promise.all(h.current[S].splice(0).map(([_,j])=>j)).then(()=>{var _;(_=d.current.shift())==null||_()}).then(()=>k(S))});return x.useMemo(()=>({children:n,register:u,unregister:l,onStart:g,onStop:v,wait:f,chains:h}),[u,l,n,g,v,h,f])}let MC=x.Fragment,$C=bh.RenderStrategy;function jF(e,t){var r,n;let{transition:a=!0,beforeEnter:s,afterEnter:l,beforeLeave:u,afterLeave:d,enter:f,enterFrom:h,enterTo:g,entered:v,leave:y,leaveFrom:S,leaveTo:k,..._}=e,[j,O]=x.useState(null),E=x.useRef(null),D=DC(e),N=Un(...D?[E,t,O]:t===null?[]:[t]),C=(r=_.unmount)==null||r?Ki.Unmount:Ki.Hidden,{show:P,appear:T,initial:R}=SF(),[M,I]=x.useState(P?"visible":"hidden"),z=kF(),{register:q,unregister:re}=z;Rr(()=>q(E),[q,E]),Rr(()=>{if(C===Ki.Hidden&&E.current){if(P&&M!=="visible"){I("visible");return}return ei(M,{hidden:()=>re(E),visible:()=>q(E)})}},[M,E,q,re,P,C]);let oe=O0();Rr(()=>{if(D&&oe&&M==="visible"&&E.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[E,M,oe,D]);let B=R&&!T,H=T&&P&&R,W=x.useRef(!1),ee=RC(()=>{W.current||(I("hidden"),re(E))},z),ve=Ze(ne=>{W.current=!0;let be=ne?"enter":"leave";ee.onStart(E,be,G=>{G==="enter"?s?.():G==="leave"&&u?.()})}),L=Ze(ne=>{let be=ne?"enter":"leave";W.current=!1,ee.onStop(E,be,G=>{G==="enter"?l?.():G==="leave"&&d?.()}),be==="leave"&&!T0(ee)&&(I("hidden"),re(E))});x.useEffect(()=>{D&&a||(ve(P),L(P))},[P,D,a]);let K=!(!a||!D||!oe||B),[,F]=KH(K,j,P,{start:ve,end:L}),Z=Li({ref:N,className:((n=Jy(_.className,H&&f,H&&h,F.enter&&f,F.enter&&F.closed&&h,F.enter&&!F.closed&&g,F.leave&&y,F.leave&&!F.closed&&S,F.leave&&F.closed&&k,!F.transition&&P&&v))==null?void 0:n.trim())||void 0,...VH(F)}),le=0;M==="visible"&&(le|=Xn.Open),M==="hidden"&&(le|=Xn.Closed),P&&M==="hidden"&&(le|=Xn.Opening),!P&&M==="visible"&&(le|=Xn.Closing);let ue=$r();return we.createElement(A0.Provider,{value:ee},we.createElement(XH,{value:le},ue({ourProps:Z,theirProps:_,defaultTag:MC,features:$C,visible:M==="visible",name:"Transition.Child"})))}function EF(e,t){let{show:r,appear:n=!1,unmount:a=!0,...s}=e,l=x.useRef(null),u=DC(e),d=Un(...u?[l,t]:t===null?[]:[t]);O0();let f=E0();if(r===void 0&&f!==null&&(r=(f&Xn.Open)===Xn.Open),r===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[h,g]=x.useState(r?"visible":"hidden"),v=RC(()=>{r||g("hidden")}),[y,S]=x.useState(!0),k=x.useRef([r]);Rr(()=>{y!==!1&&k.current[k.current.length-1]!==r&&(k.current.push(r),S(!1))},[k,r]);let _=x.useMemo(()=>({show:r,appear:n,initial:y}),[r,n,y]);Rr(()=>{r?g("visible"):!T0(v)&&l.current!==null&&g("hidden")},[r,v]);let j={unmount:a},O=Ze(()=>{var N;y&&S(!1),(N=e.beforeEnter)==null||N.call(e)}),E=Ze(()=>{var N;y&&S(!1),(N=e.beforeLeave)==null||N.call(e)}),D=$r();return we.createElement(A0.Provider,{value:v},we.createElement(N0.Provider,{value:_},D({ourProps:{...j,as:x.Fragment,children:we.createElement(IC,{ref:d,...j,...s,beforeEnter:O,beforeLeave:E})},theirProps:{},defaultTag:x.Fragment,features:$C,visible:h==="visible",name:"Transition"})))}function OF(e,t){let r=x.useContext(N0)!==null,n=E0()!==null;return we.createElement(we.Fragment,null,!r&&n?we.createElement(nb,{ref:t,...e}):we.createElement(IC,{ref:t,...e}))}let nb=Tr(EF),IC=Tr(jF),Ax=Tr(OF),NF=Object.assign(nb,{Child:Ax,Root:nb});var AF=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(AF||{}),TF=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(TF||{});let CF={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},Tx=x.createContext(null);Tx.displayName="DialogContext";function C0(e){let t=x.useContext(Tx);if(t===null){let r=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,C0),r}return t}function PF(e,t){return ei(t.type,CF,e,t)}let Nj=Tr(function(e,t){let r=x.useId(),{id:n=`headlessui-dialog-${r}`,open:a,onClose:s,initialFocus:l,role:u="dialog",autoFocus:d=!0,__demoMode:f=!1,unmount:h=!1,...g}=e,v=x.useRef(!1);u=(function(){return u==="dialog"||u==="alertdialog"?u:(v.current||(v.current=!0,console.warn(`Invalid role [${u}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")})();let y=E0();a===void 0&&y!==null&&(a=(y&Xn.Open)===Xn.Open);let S=x.useRef(null),k=Un(S,t),_=Ex(S.current),j=a?0:1,[O,E]=x.useReducer(PF,{titleId:null,descriptionId:null,panelRef:x.createRef()}),D=Ze(()=>s(!1)),N=Ze(F=>E({type:0,id:F})),C=O0()?j===0:!1,[P,T]=sF(),R={get current(){var F;return(F=O.panelRef.current)!=null?F:S.current}},M=TC(),{resolveContainers:I}=dF({mainTreeNode:M,portals:P,defaultContainers:[R]}),z=y!==null?(y&Xn.Closing)===Xn.Closing:!1;wH(f||z?!1:C,{allowed:Ze(()=>{var F,Z;return[(Z=(F=S.current)==null?void 0:F.closest("[data-headlessui-portal]"))!=null?Z:null]}),disallowed:Ze(()=>{var F;return[(F=M?.closest("body > *:not(#headlessui-portal-root)"))!=null?F:null]})});let q=yC.get(null);Rr(()=>{if(C)return q.actions.push(n),()=>q.actions.pop(n)},[q,n,C]);let re=bC(q,x.useCallback(F=>q.selectors.isTop(F,n),[q,n]));DH(re,I,F=>{F.preventDefault(),D()}),cF(re,_?.defaultView,F=>{F.preventDefault(),F.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),D()}),BH(f||z?!1:C,_,I),_H(C,S,D);let[oe,B]=uC(),H=x.useMemo(()=>[{dialogState:j,close:D,setTitleId:N,unmount:h},O],[j,D,N,h,O]),W=ro({open:j===0}),ee={ref:k,id:n,role:u,tabIndex:-1,"aria-modal":f?void 0:j===0?!0:void 0,"aria-labelledby":O.titleId,"aria-describedby":oe,unmount:h},ve=!uF(),L=Cs.None;C&&!f&&(L|=Cs.RestoreFocus,L|=Cs.TabLock,d&&(L|=Cs.AutoFocus),ve&&(L|=Cs.InitialFocus));let K=$r();return we.createElement(JH,null,we.createElement(Ej,{force:!0},we.createElement(lF,null,we.createElement(Tx.Provider,{value:H},we.createElement(NC,{target:S},we.createElement(Ej,{force:!1},we.createElement(B,{slot:W},we.createElement(T,null,we.createElement(vF,{initialFocus:l,initialFocusFallback:S,containers:I,features:L},we.createElement(oH,{value:D},K({ourProps:ee,theirProps:g,slot:W,defaultTag:DF,features:RF,visible:j===0,name:"Dialog"})))))))))))}),DF="div",RF=bh.RenderStrategy|bh.Static;function MF(e,t){let{transition:r=!1,open:n,...a}=e,s=E0(),l=e.hasOwnProperty("open")||s!==null,u=e.hasOwnProperty("onClose");if(!l&&!u)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!l)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!u)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!s&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(n!==void 0||r)&&!a.static?we.createElement(Oj,null,we.createElement(NF,{show:n,transition:r,unmount:a.unmount},we.createElement(Nj,{ref:t,...a}))):we.createElement(Oj,null,we.createElement(Nj,{ref:t,open:n,...a}))}let $F="div";function IF(e,t){let r=x.useId(),{id:n=`headlessui-dialog-panel-${r}`,transition:a=!1,...s}=e,[{dialogState:l,unmount:u},d]=C0("Dialog.Panel"),f=Un(t,d.panelRef),h=ro({open:l===0}),g=Ze(_=>{_.stopPropagation()}),v={ref:f,id:n,onClick:g},y=a?Ax:x.Fragment,S=a?{unmount:u}:{},k=$r();return we.createElement(y,{...S},k({ourProps:v,theirProps:s,slot:h,defaultTag:$F,name:"Dialog.Panel"}))}let LF="div";function zF(e,t){let{transition:r=!1,...n}=e,[{dialogState:a,unmount:s}]=C0("Dialog.Backdrop"),l=ro({open:a===0}),u={ref:t,"aria-hidden":!0},d=r?Ax:x.Fragment,f=r?{unmount:s}:{},h=$r();return we.createElement(d,{...f},h({ourProps:u,theirProps:n,slot:l,defaultTag:LF,name:"Dialog.Backdrop"}))}let UF="h2";function BF(e,t){let r=x.useId(),{id:n=`headlessui-dialog-title-${r}`,...a}=e,[{dialogState:s,setTitleId:l}]=C0("Dialog.Title"),u=Un(t);x.useEffect(()=>(l(n),()=>l(null)),[n,l]);let d=ro({open:s===0}),f={ref:u,id:n};return $r()({ourProps:f,theirProps:a,slot:d,defaultTag:UF,name:"Dialog.Title"})}let qF=Tr(MF),HF=Tr(IF);Tr(zF);let FF=Tr(BF),$t=Object.assign(qF,{Panel:HF,Title:FF,Description:dC}),Cx=x.createContext(null);Cx.displayName="GroupContext";let VF=x.Fragment;function KF(e){var t;let[r,n]=x.useState(null),[a,s]=tH(),[l,u]=uC(),d=x.useMemo(()=>({switch:r,setSwitch:n}),[r,n]),f={},h=e,g=$r();return we.createElement(u,{name:"Switch.Description",value:l},we.createElement(s,{name:"Switch.Label",value:a,props:{htmlFor:(t=d.switch)==null?void 0:t.id,onClick(v){r&&(Qy(v.currentTarget)&&v.preventDefault(),r.click(),r.focus({preventScroll:!0}))}}},we.createElement(Cx.Provider,{value:d},g({ourProps:f,theirProps:h,slot:{},defaultTag:VF,name:"Switch.Group"}))))}let ZF="button";function GF(e,t){var r;let n=x.useId(),a=iC(),s=jx(),{id:l=a||`headlessui-switch-${n}`,disabled:u=s||!1,checked:d,defaultChecked:f,onChange:h,name:g,value:v,form:y,autoFocus:S=!1,...k}=e,_=x.useContext(Cx),[j,O]=x.useState(null),E=x.useRef(null),D=Un(E,t,_===null?null:_.setSwitch,O),N=Dq(f),[C,P]=Pq(d,h,N??!1),T=eo(),[R,M]=x.useState(!1),I=Ze(()=>{M(!0),P?.(!C),T.nextFrame(()=>{M(!1)})}),z=Ze(ne=>{if(Gq(ne.currentTarget))return ne.preventDefault();ne.preventDefault(),I()}),q=Ze(ne=>{ne.key===xh.Space?(ne.preventDefault(),I()):ne.key===xh.Enter&&Rq(ne.currentTarget)}),re=Ze(ne=>ne.preventDefault()),oe=hC(),B=Xq(),{isFocusVisible:H,focusProps:W}=vq({autoFocus:S}),{isHovered:ee,hoverProps:ve}=gq({isDisabled:u}),{pressed:L,pressProps:K}=kq({disabled:u}),F=ro({checked:C,disabled:u,hover:ee,focus:H,active:L,autofocus:S,changing:R}),Z=Aq({id:l,ref:D,role:"switch",type:RH(e,j),tabIndex:e.tabIndex===-1?0:(r=e.tabIndex)!=null?r:0,"aria-checked":C,"aria-labelledby":oe,"aria-describedby":B,disabled:u||void 0,autoFocus:S,onClick:z,onKeyUp:q,onKeyPress:re},W,ve,K),le=x.useCallback(()=>{if(N!==void 0)return P?.(N)},[P,N]),ue=$r();return we.createElement(we.Fragment,null,g!=null&&we.createElement(Uq,{disabled:u,data:{[g]:v||"on"},overrides:{type:"checkbox",checked:C},form:y,onReset:le}),ue({ourProps:Z,theirProps:k,slot:F,defaultTag:ZF,name:"Switch"}))}let YF=Tr(GF),WF=KF,XF=iH,JF=dC,QF=Object.assign(YF,{Group:WF,Label:XF,Description:JF});function LC({isOpen:e,onClose:t,date:r,orders:n=[],monthlyInbound:a,updateDateInbound:s}){const{updateDailyManifest:l,addOrdersBulk:u,removeOrder:d,updateOrder:f}=na(),{schedulerSettings:h,activeSku:g}=ra(),{getProductSpecs:v,productMap:y}=xr(),[S,k]=x.useState(null),[_,j]=x.useState({}),[O,E]=x.useState(""),[D,N]=x.useState(null),C=[...n].sort((Z,le)=>{const ue=ne=>{if(!ne||ne==="00:00")return 99999;const[be,G]=ne.split(":").map(Number);return be*60+(G||0)};return ue(Z.time)-ue(le.time)}),P=Z=>"1.0",T=Z=>1,R=Z=>{if(!h)return"TBD (Settings)";const ue=C[Z]?.sku||g,ne=v(ue)||y?.[ue];if(!ne)return"TBD (No SKU)";const be=Number(ne.productionRate),G=Number(ne.bottlesPerTruck);if(!be||be<=0)return"TBD (No Rate)";if(!G)return"TBD (No Cap)";const ge=zT(Z,h.shiftStartTime||"06:00",G,be,Number(ne.bottlesPerCase)||1,Math.max(C.length,Math.round(Number(a[r]||0))));return ge?au(ge):"TBD"},M=(Z,le)=>{if(!s)return;const ue=le.length;s(Z,ue)},[I,z]=x.useState(null),q=Z=>{const le=n.find(ne=>ne.id===Z);d(r,Z,le?.po);const ue=n.filter(ne=>ne.id!==Z);M(r,ue),z(null)},re=Z=>{z({title:"Cancel Delivery?",message:"Are you sure you want to remove this delivery? This action cannot be undone if not synced with SAP.",type:"danger",onConfirm:()=>q(Z)})},oe=Z=>{f(r,{...Z,status:"received"}),z(null)},B=Z=>{oe(Z)},H=Z=>{N(Z);const le=Yt(new Date(r+"T00:00:00"),1);E(_t(le))},W=()=>{if(!O||!D)return;const Z=n.find(ne=>ne.id===D);if(!Z)return;const le=S===D?{...Z,..._,date:O}:{...Z,date:O};u([le]),d(r,D,Z.po);const ue=n.filter(ne=>ne.id!==D);if(M(r,ue),s&&a){const ne=Number(a[O]||0),be=T(le.qty);s(O,ne+be)}N(null),E(""),k(null)},[ee,ve]=x.useState(!1),L=()=>{const Z=Math.round(Number(a[r]||0));let le=`Replenishment Plan - ${new Date(r+"T00:00:00").toLocaleDateString()}
`;le+=`Total Planned Trucks: ${Z}
`,le+=`--------------------------------
`;for(let ue=0;ue<Z;ue++)le+=`Load #${ue+1}: ${R(ue)}
`;navigator.clipboard.writeText(le),ve(!0),setTimeout(()=>ve(!1),2e3)},K=Z=>{k(Z.id),j({...Z})},F=()=>{if(!S)return;const Z={...n.find(ue=>ue.id===S),..._};f(r,Z);const le=n.map(ue=>ue.id===S?Z:ue);M(r,le),k(null)};return p.jsxs($t,{open:e,onClose:t,className:"relative z-50",children:[p.jsx("div",{className:"fixed inset-0 bg-black/30","aria-hidden":"true"}),p.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:p.jsxs($t.Panel,{className:"w-full max-w-3xl bg-white dark:bg-gray-900 rounded-2xl shadow-xl overflow-hidden flex flex-col max-h-[90vh]",children:[p.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800/50",children:[p.jsxs("div",{children:[p.jsxs($t.Title,{className:"text-lg font-bold flex items-center gap-2 text-gray-900 dark:text-white uppercase tracking-wide",children:[p.jsx($A,{className:"w-5 h-5 text-blue-500"}),new Date(r+"T00:00:00").toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"})]}),p.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Found ",n.length," Scheduled Deliveries"]})]}),p.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:p.jsx(Ws,{className:"w-6 h-6"})})]}),I&&p.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/20 backdrop-blur-sm p-4 animate-fadeIn",children:p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700 p-6 w-full max-w-sm flex flex-col items-center text-center transform transition-all scale-100",children:[p.jsx("div",{className:`p-4 rounded-full mb-4 ${I.type==="danger"?"bg-red-100 text-red-600":"bg-blue-100 text-blue-600"}`,children:I.type==="danger"?p.jsx(pa,{className:"w-8 h-8"}):p.jsx(da,{className:"w-8 h-8"})}),p.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:I.title}),p.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6 leading-relaxed",children:I.message}),p.jsxs("div",{className:"flex gap-3 w-full",children:[p.jsx("button",{onClick:()=>z(null),className:"flex-1 px-4 py-2 rounded-lg border border-gray-300 text-gray-700 font-bold hover:bg-gray-50 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),p.jsx("button",{onClick:()=>I.onConfirm(),className:`flex-1 px-4 py-2 rounded-lg text-white font-bold shadow-lg transition-transform hover:scale-105 ${I.type==="danger"?"bg-red-600 hover:bg-red-700 shadow-red-500/30":"bg-emerald-600 hover:bg-emerald-700 shadow-emerald-500/30"}`,children:"Confirm"})]})]})}),p.jsxs("div",{className:"p-6 overflow-y-auto space-y-4",children:[n.length===0?p.jsx(p.Fragment,{children:a&&Number(a[r]||0)>0?p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center justify-between bg-blue-50 dark:bg-blue-900/20 p-3 rounded-md",children:[p.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-200 flex items-center gap-2",children:[p.jsx("span",{className:"text-xl",children:""}),p.jsxs("span",{children:[p.jsxs("strong",{children:[Number(a[r])," Trucks Planned"]})," via Auto-Replenishment.",p.jsx("br",{}),"Purchase Orders have not been imported yet."]})]}),p.jsx("button",{onClick:L,className:`flex items-center px-3 py-1.5 rounded-lg text-xs font-bold transition-all ${ee?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-white text-gray-600 border border-gray-200 hover:bg-gray-50 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600"}`,children:ee?p.jsxs(p.Fragment,{children:[p.jsx(da,{className:"w-4 h-4 mr-1.5"}),"Copied!"]}):p.jsxs(p.Fragment,{children:[p.jsx(nx,{className:"w-4 h-4 mr-1.5"}),"Copy Plan"]})})]}),Array.from({length:Math.round(Number(a[r]))}).map((Z,le)=>p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-4 flex items-center justify-between opacity-75 grayscale",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"bg-gray-200 dark:bg-gray-700 p-3 rounded-lg",children:p.jsx(vn,{className:"w-6 h-6 text-gray-400"})}),p.jsxs("div",{children:[p.jsxs("h3",{className:"text-lg font-bold text-gray-500 dark:text-gray-400 italic",children:["Planned Load #",le+1]}),p.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[p.jsxs("div",{className:"flex items-center text-xs font-mono font-bold text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/30 px-2 py-0.5 rounded",children:[p.jsx(u0,{className:"w-3 h-3 mr-1"}),"Est. ",R(le)]}),p.jsx("span",{className:"text-xs text-gray-400",children:"Awaiting PO"})]})]})]}),p.jsx("div",{className:"px-3 py-1 bg-gray-100 dark:bg-gray-700 text-xs font-bold text-gray-500 rounded-full",children:"AUTO-PLAN"})]},`planned-${le}`))]}):p.jsx("div",{className:"text-center py-10 text-gray-400 italic bg-gray-50 dark:bg-gray-800 rounded-lg",children:"No deliveries scheduled for this day."})}):C.map((Z,le)=>p.jsx("div",{className:"bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-lg shadow-sm p-4 relative group hover:border-blue-300 dark:hover:border-blue-700 transition-colors",children:S===Z.id?p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[p.jsxs("div",{className:"col-span-1",children:[p.jsx("label",{className:"text-xs font-bold text-gray-500",children:"PO Number"}),p.jsx("input",{type:"text",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:_.po||"",onChange:ue=>j(ne=>({...ne,po:ue.target.value}))})]}),p.jsxs("div",{className:"col-span-1",children:[p.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Appointment Time"}),p.jsx("input",{type:"time",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:_.time||"",onChange:ue=>j(ne=>({...ne,time:ue.target.value}))})]}),p.jsxs("div",{className:"col-span-1",children:[p.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Appointment Time"}),p.jsx("input",{type:"time",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:_.time||"",onChange:ue=>j(ne=>({...ne,time:ue.target.value}))})]}),p.jsxs("div",{className:"col-span-1",children:[p.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Supplier"}),p.jsx("input",{type:"text",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:_.supplier||"",onChange:ue=>j(ne=>({...ne,supplier:ue.target.value}))})]}),p.jsxs("div",{className:"col-span-1",children:[p.jsx("label",{className:"text-xs font-bold text-gray-500",children:"Quantity"}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("input",{type:"number",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:_.qty||0,onChange:ue=>j(ne=>({...ne,qty:ue.target.value}))}),p.jsxs("span",{className:"text-xs text-gray-400 whitespace-nowrap",children:["= ",P(_.qty||0)," Trucks"]})]})]})]}),p.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg flex items-center gap-3",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("label",{className:"text-xs font-bold text-blue-700 dark:text-blue-300",children:"Move to Date"}),p.jsx("input",{type:"date",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white mt-1",value:O,onChange:ue=>{E(ue.target.value),D||N(Z.id)}})]}),p.jsxs("button",{onClick:W,disabled:!O,className:"mt-5 px-4 py-2 bg-blue-600 text-white rounded-lg font-bold text-sm disabled:opacity-50 hover:bg-blue-500 flex items-center",children:[p.jsx(d6,{className:"w-5 h-5 mr-1"}),"Reschedule"]})]}),p.jsxs("div",{className:"flex justify-between border-t dark:border-gray-700 pt-3",children:[p.jsx("button",{onClick:()=>k(null),className:"text-sm text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:"Cancel"}),p.jsxs("button",{onClick:F,className:"flex items-center text-sm font-bold text-green-600 hover:text-green-700",children:[p.jsx(da,{className:"w-5 h-5 mr-1"}),"Save Changes"]})]})]}):p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{className:"flex items-start gap-4",children:[p.jsx("div",{className:"bg-blue-100 dark:bg-blue-900 p-3 rounded-lg",children:p.jsx(vn,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),p.jsxs("div",{children:[p.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center",children:[p.jsx("span",{className:"font-mono",children:Z.time&&Z.time!=="00:00"?au(Z.time):"TBD"}),p.jsx("span",{className:"mx-2 text-gray-300",children:"|"}),"PO #",Z.po,Z.loadId&&p.jsxs("span",{className:"ml-2 px-2 py-0.5 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs rounded-full font-bold",children:["Load ID: ",Z.loadId]}),p.jsx("span",{className:"ml-2 px-2 py-0.5 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-100 text-xs rounded-full font-bold",children:"1 Truck"}),p.jsx("button",{onClick:ue=>{ue.stopPropagation();const ne=Z.status||"ordered";ne==="received"?confirm("Revert 'Received' status back to 'Ordered'?")&&f(r,{...Z,status:"ordered"}):f(r,{...Z,status:ne==="confirmed"?"ordered":"confirmed"})},className:`ml-2 px-2 py-0.5 text-xs rounded-full font-bold border transition-colors ${Z.status==="received"?"bg-emerald-100 text-emerald-800 border-emerald-200 hover:bg-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-300 dark:border-emerald-800":Z.status==="confirmed"?"bg-blue-100 text-blue-800 border-blue-200 hover:bg-blue-200 dark:bg-blue-900/30 dark:text-blue-300 dark:border-blue-800":"bg-yellow-100 text-yellow-800 border-yellow-200 hover:bg-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-300 dark:border-yellow-800"}`,title:"Toggle Status",children:Z.status==="received"?"Received":Z.status==="confirmed"?"Confirmed":"Ordered"})]}),p.jsxs("div",{className:"flex flex-col gap-1 mt-1",children:[p.jsxs("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[p.jsx("span",{children:Z.supplier||Z.vendor||"Unknown Supplier"}),p.jsx("span",{className:"text-gray-300",children:"|"}),p.jsx("span",{className:"text-gray-600 dark:text-gray-400 font-bold",children:Z.sku||g}),p.jsxs("span",{className:"text-gray-400 font-normal",children:["- ",y[Z.sku||g]?.description||"No Description"]})]}),Number(Z.qty)>0&&p.jsxs("span",{className:"text-xs text-gray-400",children:["(",Number(String(Z.qty).replace(/,/g,"")).toLocaleString()," units)"]})]})]})]}),p.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[Z.status!=="received"&&p.jsx("button",{onClick:ue=>{ue.stopPropagation(),B(Z)},className:"p-2 text-gray-400 hover:text-emerald-600 hover:bg-emerald-50 rounded-lg dark:hover:bg-emerald-900/30",title:"Mark as Received",children:p.jsx(da,{className:"w-5 h-5"})}),p.jsx("button",{onClick:()=>{K(Z),H(Z.id)},className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg dark:hover:bg-blue-900/30",title:"Edit or Reschedule",children:p.jsx(Jc,{className:"w-5 h-5"})}),p.jsx("button",{onClick:ue=>{ue.stopPropagation(),re(Z.id)},className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg dark:hover:bg-red-900/30",title:"Cancel Delivery",children:p.jsx(pa,{className:"w-5 h-5"})})]})]})},Z.id||le)),p.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-lg flex gap-3 text-xs text-yellow-800 dark:text-yellow-200",children:[p.jsx("span",{className:"text-lg",children:""}),p.jsxs("p",{children:[p.jsx("strong",{children:"Schedule Exception Management"}),p.jsx("br",{}),"Use this tool to handle cancellations or delays. Removing a PO here is permanent unless re-imported from SAP."]})]})]})]})})]})}const eV=x.memo(({dates:e,todayStr:t})=>p.jsx("thead",{className:"sticky top-0 z-20",children:p.jsxs("tr",{children:[p.jsx("th",{className:"sticky left-0 min-w-[140px] w-[140px] h-10 bg-slate-800 dark:bg-slate-950 border-b border-r border-slate-600 dark:border-slate-700 pl-2 pr-2 text-left text-xs font-bold text-white dark:text-slate-200 uppercase tracking-wider z-30 shadow-md",children:p.jsx("div",{className:"flex items-center h-full",children:p.jsx("span",{children:"Metric"})})}),e.map(r=>{const n=_t(r),a=new Date(n+"T00:00:00"),s=n===t,l=a.getDay()===0||a.getDay()===6;return p.jsx("th",{className:`
                            min-w-[100px] w-[100px] h-10 p-0 border-b border-r border-slate-600 dark:border-slate-700 transition-colors
                            ${s?"bg-blue-600 text-white font-extrabold shadow-md":"bg-slate-800 dark:bg-slate-950 text-slate-200 dark:text-slate-400"}
                            ${l&&!s?"bg-slate-700/50 dark:bg-slate-900/50 text-slate-400":""}
                        `,children:p.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center",children:[p.jsx("div",{className:`uppercase text-[9px] leading-tight font-semibold ${s?"opacity-90":"opacity-60"}`,children:(()=>{const[u,d,f]=n.split("-").map(Number);return new Date(u,d-1,f).toLocaleDateString("en-US",{weekday:"short"})})()}),p.jsx("div",{className:"text-sm leading-none mt-0.5",children:n.split("-")[2].replace(/^0/,"")})]})},n)})]})}));function tV({date:e,todayStr:t,demandVal:r,updateDateDemand:n,actualVal:a,updateDateActual:s,manifestItems:l,monthlyInboundVal:u,updateDateInbound:d,ledgerItem:f,openManager:h,readOnly:g=!1}){const v=_t(e),y=v===t,S=a!==void 0,k=l&&l.length>0,_=k?l.length:u||0;return p.jsxs("div",{className:`p-4 rounded-xl border-2 mb-4 shadow-sm ${y?"bg-blue-50 border-blue-200 dark:bg-blue-900/20 dark:border-blue-800":"bg-white border-gray-100 dark:bg-gray-800 dark:border-gray-700"}`,children:[p.jsxs("div",{className:"flex justify-between items-center mb-3",children:[p.jsxs("div",{children:[p.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:new Date(e).toLocaleDateString("en-US",{weekday:"long"})}),p.jsx("div",{className:"text-lg font-black text-gray-800 dark:text-white",children:new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]}),y&&p.jsx("span",{className:"bg-blue-100 text-blue-700 px-2 py-0.5 rounded text-[10px] font-bold uppercase",children:"Today"})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-2 rounded-lg",children:[p.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"Production Plan"}),p.jsx("input",{className:`w-full bg-white dark:bg-gray-600 rounded border border-gray-200 dark:border-gray-500 p-2 text-sm font-bold text-center outline-none ${g?"cursor-default opacity-80":"focus:ring-2 focus:ring-blue-500"}`,placeholder:g?"":"-",value:r||"",disabled:g,onChange:j=>n(v,j.target.value)})]}),p.jsxs("div",{className:"bg-blue-50/50 dark:bg-blue-900/10 p-2 rounded-lg border border-blue-100 dark:border-blue-900",children:[p.jsx("label",{className:"text-[10px] font-bold text-blue-400 uppercase block mb-1",children:"Actual / Prod"}),p.jsx("input",{className:`w-full bg-white dark:bg-gray-600 rounded border border-blue-200 dark:border-blue-800 p-2 text-sm font-bold text-center text-blue-700 dark:text-blue-300 outline-none ${g?"cursor-default opacity-80":"focus:ring-2 focus:ring-blue-500"}`,placeholder:g?"":"-",value:S?Number(a).toLocaleString():"",disabled:g,onChange:j=>{const O=j.target.value.replace(/,/g,"");isNaN(O)||s(v,O)}})]}),p.jsxs("div",{className:"bg-green-50/50 dark:bg-green-900/10 p-2 rounded-lg border border-green-100 dark:border-green-900",children:[p.jsx("label",{className:"text-[10px] font-bold text-green-400 uppercase block mb-1",children:"Inbound Trucks"}),k?p.jsxs("button",{className:`w-full bg-white dark:bg-gray-600 rounded border border-green-200 dark:border-green-800 p-2 text-sm font-bold text-center text-green-700 dark:text-green-400 flex items-center justify-center gap-2 ${g?"cursor-default opacity-80":""}`,onClick:()=>!g&&h(v),disabled:g,children:[_," ",p.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"})]}):p.jsx("input",{className:`w-full bg-white dark:bg-gray-600 rounded border border-green-200 dark:border-green-800 p-2 text-sm font-bold text-center text-green-700 dark:text-green-400 outline-none ${g?"cursor-default opacity-80":"focus:ring-2 focus:ring-green-500"}`,placeholder:g?"":"0",value:_||"",disabled:g,onChange:j=>{const O=j.target.value.replace(/,/g,"");isNaN(O)||d(v,O)}})]}),p.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-2 rounded-lg flex flex-col justify-center items-center",children:[p.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"End Balance"}),p.jsx("div",{className:"text-sm font-black text-gray-700 dark:text-gray-300",children:f?f.balance.toLocaleString():"-"})]})]})]})}const rV=x.memo(({dates:e,monthlyDemand:t,updateDateDemand:r,updateDateDemandBulk:n,readOnly:a=!1,todayStr:s})=>{const l=x.useRef(r);return x.useEffect(()=>{l.current=r},[r]),p.jsxs("tr",{className:"group/row",children:[p.jsx("th",{className:"sticky left-0 min-w-[140px] w-[140px] h-8 bg-slate-300 dark:bg-slate-800 border-r border-slate-400 dark:border-slate-600 pl-2 pr-2 text-left text-xs font-bold text-slate-800 dark:text-slate-300 z-10 shadow-md relative",children:p.jsx("div",{className:"w-full h-full flex items-center",children:"Production (Plan)"})}),e.map(u=>{const d=_t(u),f=t[d];return p.jsx(nV,{date:u,dateStr:d,initialValue:f,updateDateDemand:r,updateDateDemandBulk:n,readOnly:a,isToday:d===s},d)})]})}),nV=x.memo(({date:e,dateStr:t,initialValue:r,updateDateDemand:n,updateDateDemandBulk:a,readOnly:s,isToday:l})=>{const u=x.useRef(null),[d,f]=x.useState(null);x.useEffect(()=>{u.current&&document.activeElement!==u.current&&(u.current.value=r?Number(r).toLocaleString():"")},[r]);const h=_=>{if(!_)return"";const j=_.toString().toLowerCase().trim().replace(/,/g,"");let O=1;j.endsWith("k")?O=1e3:j.endsWith("m")&&(O=1e6);let E=parseFloat(j.replace(/[km]/g,""));return isNaN(E)?_:(E*=O,O===1&&E>0&&E<1e3&&(E*=1e3),E.toString())},g=()=>{if(!s&&u.current){const _=h(u.current.value);_!==r&&n(t,_),_&&!isNaN(_)&&(u.current.value=Number(_).toLocaleString())}},v=_=>{if(!s&&_.key==="Enter"){_.preventDefault();const j=_.target.value.replace(/,/g,""),O=h(j);n(t,O),O&&!isNaN(O)&&(_.target.value=Number(O).toLocaleString());const D=`demand-${Yt(t,1)}`;setTimeout(()=>{const N=document.getElementById(D);N&&(N.focus(),N.select())},0)}},y=_=>{s||(_.preventDefault(),f({x:_.clientX,y:_.clientY}))},S=()=>f(null),k=_=>{const j=u.current?h(u.current.value):r;if(!j)return;const O={};if(O[t]=j,_==="week")for(let E=1;E<7;E++)O[Yt(t,E)]=j;if(_==="month"){const E=new Date(e).getMonth();let D=1;for(;;){const N=Yt(t,D);if(new Date(N).getMonth()!==E||(O[N]=j,D++,D>31))break}}if(_==="restOfWeek"){new Date(e).getDay();let E=1;for(;;){const D=Yt(t,E),N=new Date(D);if(O[D]=j,N.getDay()===0||(E++,E>7))break}}a&&a(O),S()};return p.jsxs("td",{className:`min-w-[100px] w-[100px] h-8 p-0 border-r border-slate-300 dark:border-slate-700 transition-colors 
            ${l?"bg-blue-50/50 dark:bg-blue-900/10 border-x-2 border-x-blue-300":"bg-slate-200 dark:bg-slate-800/50"}`,children:[p.jsx("div",{className:"w-full h-full relative group/cell",onContextMenu:y,children:p.jsx("input",{ref:u,id:`demand-${t}`,type:"text",inputMode:"decimal",className:`
                        w-full h-full text-center outline-none transition-all font-bold text-sm m-0 p-0
                        ${s?"cursor-not-allowed text-slate-500 bg-transparent":"cursor-text text-slate-800 dark:text-slate-100 bg-transparent focus:bg-white dark:focus:bg-slate-700 hover:ring-1 hover:ring-slate-300 dark:hover:ring-slate-600 focus:ring-2 focus:ring-inset focus:ring-blue-500 focus:z-10 focus:shadow-sm"}
                        placeholder:text-slate-300 dark:placeholder:text-slate-600
                    `,placeholder:s?"":"-",disabled:s,onBlur:g,onKeyDown:v,autoComplete:"off"})}),d&&p.jsx(aV,{x:d.x,y:d.y,onClose:S,onAction:k})]})}),aV=({x:e,y:t,onClose:r,onAction:n})=>{x.useEffect(()=>{const s=()=>r();return window.addEventListener("click",s),()=>window.removeEventListener("click",s)},[r]);const a=s=>s.stopPropagation();return Qs.createPortal(p.jsxs("div",{className:"fixed z-[100] min-w-[180px] bg-white dark:bg-slate-800 rounded-lg shadow-xl ring-1 ring-black/5 dark:ring-white/10 py-1 origin-top-left transform transition-all animate-in fade-in zoom-in-95 duration-100",style:{top:t,left:e},onClick:a,onContextMenu:s=>s.preventDefault(),children:[p.jsx("div",{className:"px-3 py-2 text-[10px] font-bold text-slate-400 uppercase tracking-wider border-b border-slate-100 dark:border-slate-700 mb-1",children:"Quick Fill"}),p.jsxs("button",{onClick:()=>n("week"),className:"w-full text-left px-4 py-2 text-sm text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700 flex items-center gap-2 group",children:[p.jsx("div",{className:"p-1 rounded-md bg-emerald-50 text-emerald-600 group-hover:bg-emerald-100 dark:bg-emerald-900/30 dark:text-emerald-400",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"})})}),p.jsx("span",{children:"Next 7 Days"})]}),p.jsxs("button",{onClick:()=>n("restOfWeek"),className:"w-full text-left px-4 py-2 text-sm text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700 flex items-center gap-2 group",children:[p.jsx("div",{className:"p-1 rounded-md bg-blue-50 text-blue-600 group-hover:bg-blue-100 dark:bg-blue-900/30 dark:text-blue-400",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0h9m3.102-1.296a4.5 4.5 0 016.3 6.3m0-6.3a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0z"})})}),p.jsx("span",{children:"Rest of Week"})]}),p.jsxs("button",{onClick:()=>n("month"),className:"w-full text-left px-4 py-2 text-sm text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700 flex items-center gap-2 group",children:[p.jsx("div",{className:"p-1 rounded-md bg-purple-50 text-purple-600 group-hover:bg-purple-100 dark:bg-purple-900/30 dark:text-purple-400",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0h9m3.102-1.296a4.5 4.5 0 016.3 6.3m0-6.3a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0z"})})}),p.jsx("span",{children:"Rest of Month"})]})]}),document.body)},iV=x.memo(({dates:e,monthlyProductionActuals:t,updateDateActual:r,readOnly:n=!1,todayStr:a})=>p.jsxs("tr",{className:"bg-sky-50/20 dark:bg-sky-900/10",children:[p.jsx("th",{className:"sticky left-0 min-w-[140px] w-[140px] h-8 bg-sky-50 dark:bg-slate-800 border-r border-slate-300 dark:border-slate-600 pl-2 pr-2 text-left text-xs font-bold text-sky-700 dark:text-sky-400 z-10 shadow-md",children:p.jsx("div",{className:"w-full h-full flex items-center",children:"Actual / Prod"})}),e.map(s=>{const l=_t(s),u=t[l];return p.jsx(sV,{date:s,dateStr:l,initialValue:u,updateDateActual:r,readOnly:n,isToday:l===a},l)})]})),sV=we.memo(({dateStr:e,initialValue:t,updateDateActual:r,readOnly:n,isToday:a})=>{const[s,l]=we.useState(t?Number(t).toLocaleString():"");we.useEffect(()=>{l(t?Number(t).toLocaleString():"")},[t]);const u=()=>{if(n)return;let d=s.toString().toLowerCase().trim().replace(/,/g,""),f=1;d.endsWith("k")?f=1e3:d.endsWith("m")&&(f=1e6);let h=parseFloat(d.replace(/[km]/g,""));f===1&&h>0&&h<1e3&&(h*=1e3);const g=isNaN(h)?null:h*f;g!==t&&r(e,g),g!==null&&l(g.toLocaleString())};return p.jsx("td",{className:`min-w-[100px] w-[100px] h-8 p-0 border-r border-slate-200 dark:border-slate-700 
            ${a?"bg-blue-50/50 dark:bg-blue-900/10 border-x-2 border-x-blue-300":"bg-sky-50/10 dark:bg-sky-900/5"}
            ${n?"":"hover:bg-sky-50/30"}
        `,children:p.jsx("input",{type:"text",className:`w-full h-full text-center text-sm bg-transparent outline-none font-bold text-sky-700 dark:text-sky-300 rounded-sm ${n?"cursor-default opacity-80":"focus:bg-white dark:focus:bg-slate-700 focus:ring-2 focus:ring-inset focus:ring-sky-400"}`,value:s,onChange:d=>l(d.target.value),onBlur:u,onKeyDown:d=>{d.key==="Enter"&&d.target.blur()},placeholder:n?"":"-",disabled:n})})}),oV=x.memo(({dates:e,poManifest:t,monthlyInbound:r,updateDateInbound:n,openManager:a,readOnly:s=!1,todayStr:l})=>p.jsxs("tr",{children:[p.jsx("th",{className:"sticky left-0 min-w-[140px] w-[140px] h-8 bg-white dark:bg-slate-800 border-r border-slate-300 dark:border-slate-600 pl-2 pr-2 text-left text-xs font-bold text-emerald-700 dark:text-emerald-400 z-10 shadow-md",children:p.jsx("div",{className:"w-full h-full flex items-center",children:"Inbound Trucks"})}),e.map(u=>{const d=_t(u),f=t[d]?.items||[],h=f.length>0,g=h?f.length:r[d]||0,v=d===l,y=f.length>0&&f.every(k=>k.status==="received"),S=f.filter(k=>k.status==="received").length;return p.jsx("td",{className:`min-w-[100px] w-[100px] h-8 p-0 border-r border-slate-200 dark:border-slate-700 relative group transition-colors 
                        ${v?"bg-blue-50/50 dark:bg-blue-900/10 border-x-2 border-x-blue-300":""}
                        ${s?"":"hover:bg-slate-50 dark:hover:bg-slate-700"}
                    `,children:h?p.jsx("button",{className:`w-full h-full p-1 flex items-center justify-center ${s?"cursor-default":""}`,onClick:()=>!s&&a(d),title:`${f.length} POs (${S} Received)${s?" (Read Only)":""}`,disabled:s,children:p.jsx("span",{className:`flex items-center gap-1 rounded px-2 py-0.5 text-sm font-bold shadow-sm whitespace-nowrap transition-colors 
                                    ${y?"bg-emerald-100 text-emerald-800 border border-emerald-200 dark:bg-emerald-900/50 dark:text-emerald-300 dark:border-emerald-700":s?"bg-indigo-600/70 text-white/90":"bg-indigo-600 text-white dark:bg-indigo-500 hover:bg-indigo-700"}
                                `,children:y?p.jsxs(p.Fragment,{children:[p.jsx("span",{className:"text-emerald-600 dark:text-emerald-400",children:""}),g," OK"]}):p.jsxs(p.Fragment,{children:[p.jsx(vn,{className:"w-3 h-3"}),g," PO"]})})}):p.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[Number(g)>0&&p.jsx(vn,{className:"w-3 h-3 text-emerald-500 absolute left-2 pointer-events-none opacity-50"}),p.jsx("input",{className:`w-full h-full text-center text-sm bg-transparent font-bold rounded-sm outline-none
                                        ${g>0?"text-emerald-600 dark:text-emerald-400 pl-4":"text-slate-300"}
                                        ${s?"cursor-default":"focus:bg-emerald-50 dark:focus:bg-slate-700 focus:ring-2 focus:ring-inset focus:ring-emerald-400"}
                                    `,value:g||"",placeholder:s?"":"0",disabled:s,onChange:k=>{const _=k.target.value.replace(/,/g,"");isNaN(_)||n(d,_)},onDoubleClick:()=>!s&&a(d)})]})},d)})]})),lV=x.memo(({dates:e,ledgerMap:t,specs:r,safetyTarget:n,todayStr:a})=>p.jsxs("tr",{className:"bg-slate-200 dark:bg-slate-800 border-t-2 border-slate-300 dark:border-slate-600",children:[p.jsx("th",{className:"sticky left-0 min-w-[140px] w-[140px] h-8 bg-slate-200 dark:bg-slate-800 border-r border-slate-300 dark:border-slate-600 pl-2 pr-2 text-left text-xs font-bold text-slate-800 dark:text-white z-10 shadow-md",children:p.jsx("div",{className:"w-full h-full flex items-center",children:"End Inventory"})}),e.map(s=>{const l=_t(s),u=t[l],d=u?u.balance:null,f=l===a,h=r?.casesPerPallet||100,g=r?.bottlesPerCase||1,v=r?.bottlesPerTruck||2e4,y=d!==null?Math.round(d/g/h):null;let S="-";if(y!==null){const _=Math.floor(v/g/h)||22;if(Math.abs(y)>=_){const j=y<0?"-":"",O=Math.abs(y),E=Math.floor(O/_),D=O%_;S=`${j}${E}T ${D}P`}else S=`${y}`}let k="";return d!==null&&n&&(d<n?k="bg-red-100 dark:bg-red-900/40 text-red-800 dark:text-red-200 font-bold":d>n+v*2?k="bg-orange-100 dark:bg-orange-900/40 text-orange-900 dark:text-orange-200":k="text-slate-700 dark:text-slate-200"),f&&(k+=" bg-blue-50/50 dark:bg-blue-900/10 border-x-2 border-x-blue-300"),p.jsx("td",{className:`min-w-[100px] w-[100px] h-8 p-0 border-r border-slate-300 dark:border-slate-600 ${k}`,children:p.jsx("div",{className:"w-full h-full flex items-center justify-center",children:S})},l)})]})),cV=x.memo(({dates:e,ledgerMap:t,monthlyDemand:r,monthlyInbound:n,poManifest:a,specs:s,todayStr:l,leadTimeDays:u=2})=>{const d=f=>a&&a[f]?.items?.length>0?a[f].items.length:Number(n[f])||0;return p.jsxs("tr",{className:"border-t border-slate-300 dark:border-slate-600 bg-slate-200 dark:bg-slate-800",children:[p.jsx("th",{className:"sticky left-0 min-w-[140px] w-[140px] h-8 bg-slate-300 dark:bg-slate-800 border-r border-slate-400 dark:border-slate-600 pl-2 pr-2 text-left text-xs font-bold text-slate-500 uppercase z-10 shadow-md",children:p.jsx("div",{className:"w-full h-full flex items-center",children:"Coverage (DOS)"})}),e.map(f=>{const h=_t(f),g=t[h],v=1+(s?.scrapPercentage||0)/100,y=h===l,S=new Date(f);S.setDate(S.getDate()-1);const k=_t(S),_=t[k],j=_?_.balance:g?.balance||0,E=d(h)*(s?.bottlesPerTruck||2e4);let D=0,N=j+E,C=!1;for(let z=0;z<=30;z++){const q=new Date(f);q.setDate(q.getDate()+z);const re=_t(q),oe=(r[re]||0)*s.bottlesPerCase*v;if(oe===0){D+=1,z===30&&(C=!0);continue}if(N>=oe)N-=oe,D+=1;else{D+=N/oe,N=0;break}}const P=D.toFixed(1),T=parseFloat(P),R=u,M=u+2;let I="text-slate-400";return j+E>0&&(T<=R?I="bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300 font-bold":T<=M?I="bg-yellow-100 dark:bg-yellow-900/50 text-yellow-700 dark:text-yellow-300 font-bold":I="bg-green-100 dark:bg-green-900/40 text-green-700 dark:text-green-300 font-bold"),y&&(I+=" bg-blue-50/50 dark:bg-blue-900/10 border-x-2 border-x-blue-300"),p.jsx("td",{className:`min-w-[100px] w-[100px] h-8 p-0 text-center text-xs border-r border-slate-300 dark:border-slate-600 ${I}`,title:`Coverage: ${P} days | Lead Time: ${u} days`,children:p.jsx("div",{className:"w-full h-full flex items-center justify-center",children:C?"":P})},h)})]})});function uV({monthlyDemand:e,monthlyProductionActuals:t,monthlyInbound:r,updateDateDemand:n,updateDateDemandBulk:a,updateDateActual:s,updateDateInbound:l,dailyLedger:u=[],specs:d,userProfile:f,startDate:h,readOnly:g=!1,poManifest:v={},leadTimeDays:y=2}){const{updateDailyManifest:S,removeOrder:k}=na(),[_,j]=x.useState({isOpen:!1,date:null}),O=Wr(new Date),E=x.useMemo(()=>{const I=[],z=h?new Date(h):new Date;for(let q=0;q<60;q++)I.push(Yt(z,q));return I},[h]),D=x.useMemo(()=>u.reduce((I,z)=>(I[z.date]=z,I),{}),[u]),N=I=>{g||j({isOpen:!0,date:I})},C=()=>{j({isOpen:!1,date:null})},P=I=>{_.date&&S(_.date,I)},T=I=>{_.date&&k(_.date,I)},R=()=>p.jsx(LC,{isOpen:_.isOpen,onClose:C,date:_.date||"",orders:_.date?v[_.date]?.items||[]:[],monthlyInbound:r,updateDateInbound:l,onSave:P,onDelete:T,specs:d}),M=x.useMemo(()=>{if(!d||!d.bottlesPerTruck||!d.bottlesPerCase)return null;let I=0,z=0;const q=d.bottlesPerTruck/d.bottlesPerCase;E.forEach(B=>{const H=Wr(B),W=e[H];W&&(I+=Number(W));const ee=v[H],ve=ee?.items?.length>0?ee.items.length:r[H]||0;z+=Number(ve)});const re=Math.ceil(I/q),oe=z-re;return{totalCases:I,trucksRequired:re,totalScheduled:z,gap:oe}},[E,e,r,v,d]);return p.jsxs("div",{className:"relative",children:[M&&p.jsxs("div",{className:"hidden md:flex sticky left-0 right-0 mb-2 mx-1 p-1.5 bg-slate-900 text-white rounded-lg shadow-md items-center justify-between z-10 font-mono text-xs uppercase tracking-wider",children:[p.jsxs("div",{className:"flex gap-4",children:[p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"text-slate-400 text-[8px]",children:"Total Plan"}),p.jsxs("span",{className:"font-bold text-sm text-blue-200",children:[M.totalCases.toLocaleString()," ",p.jsx("span",{className:"text-[8px] text-slate-500",children:"cs"})]})]}),p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"text-slate-400 text-[8px]",children:"Est. Trucks"}),p.jsxs("span",{className:"font-bold text-sm",children:[M.trucksRequired," ",p.jsx("span",{className:"text-[8px] text-slate-500",children:"trks"})]})]})]}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsxs("div",{className:"flex flex-col text-right",children:[p.jsx("span",{className:"text-slate-400 text-[8px]",children:"Scheduled"}),p.jsx("span",{className:"font-bold text-sm text-emerald-400",children:M.totalScheduled})]}),p.jsxs("div",{className:`flex flex-col items-center justify-center px-3 py-0.5 rounded border ${M.gap<0?"bg-red-500/20 border-red-500 text-red-200":"bg-emerald-500/20 border-emerald-500 text-emerald-200"}`,children:[p.jsx("span",{className:"text-[8px] opacity-75",children:"Gap"}),p.jsxs("span",{className:"font-black text-lg leading-none",children:[M.gap>0?"+":"",M.gap]})]})]})]}),p.jsx("div",{className:"md:hidden space-y-4 pb-20",children:E.slice(0,30).map(I=>{const z=Wr(I);return p.jsx(tV,{date:I,todayStr:O,demandVal:e[z],updateDateDemand:n,actualVal:t[z],updateDateActual:s,manifestItems:v[z]?.items||[],monthlyInboundVal:r[z],updateDateInbound:l,ledgerItem:D[z],openManager:N,readOnly:g},z)})}),p.jsx("div",{className:"hidden md:block overflow-x-auto pb-4 relative custom-scrollbar",children:p.jsxs("table",{className:"w-full border-collapse text-sm",children:[p.jsx(eV,{dates:E,todayStr:O}),p.jsxs("tbody",{children:[p.jsx(rV,{dates:E,monthlyDemand:e,updateDateDemand:n,updateDateDemandBulk:a,readOnly:g,todayStr:O}),p.jsx(iV,{dates:E,monthlyProductionActuals:t,updateDateActual:s,readOnly:g,todayStr:O}),p.jsx(oV,{dates:E,poManifest:v,monthlyInbound:r,updateDateInbound:l,openManager:N,readOnly:g,todayStr:O}),p.jsx(lV,{dates:E,ledgerMap:D,specs:d,safetyTarget:d?.bottles_per_truck?d.bottles_per_truck*2:0,todayStr:O}),p.jsx(cV,{dates:E,ledgerMap:D,monthlyDemand:e,monthlyInbound:r,poManifest:v,specs:d,todayStr:O,leadTimeDays:y})]})]})}),R()]})}const dV=(e,t)=>{const r={};e.forEach(a=>{r[a.date]||(r[a.date]=[]),r[a.date].push(a)});const n=[];return Object.entries(r).forEach(([a,s])=>{s.sort((f,h)=>{const g=f.po?String(f.po).replace(/\D/g,""):"",v=h.po?String(h.po).replace(/\D/g,""):"";return g&&v?Number(g)-Number(v):(f.po||"").localeCompare(h.po||"")});let[l,u]=(t.schedulerSettings?.shiftStartTime||"06:00").split(":").map(Number),d=new Date;d.setHours(l,u,0,0),s.forEach(f=>{const h=f.sku||Object.keys(t.bottleDefinitions)[0],g=t.bottleDefinitions[h],v=new Date(d);v.getMinutes()>=30&&v.setHours(v.getHours()+1),v.setMinutes(0);const y=v.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"});if(n.push({...f,time:y}),!g)return;const S=(f.qty||1)*(g.bottlesPerTruck||2e4),k=g.productionRate||1e3,j=S/k*60;d.setMinutes(d.getMinutes()+j)})}),n};function fV({isOpen:e,onClose:t}){const{addOrdersBulk:r}=na(),{schedulerSettings:n}=ra(),{productMap:a}=xr(),[s,l]=x.useState(1),[u,d]=x.useState(""),[f,h]=x.useState([]),[g,v]=x.useState({po:-1,date:-1,qty:-1,supplier:-1,sku:-1}),y=N=>{const C=N.trim().split(/\r?\n/);if(C.length===0)return[];const R=C[0].includes("	")?"	":",";return C.map(M=>M.split(R).map(I=>I.trim()))},S=()=>{if(s===1){const N=y(u);h(N.slice(0,5)),l(2)}else s===2&&O()},k=N=>{if(!N)return null;const C=N.trim();if(C.match(/^\d{4}-\d{2}-\d{2}$/))return C;const P=C.split(/[\-\s\/]/);if(P.length===2||P.length===3){const R={jan:0,feb:1,mar:2,apr:3,may:4,jun:5,jul:6,aug:7,sep:8,oct:9,nov:10,dec:11};let M,I,z=new Date().getFullYear();const q=P[0].toLowerCase(),re=P[1].toLowerCase();if(P[2]&&P[2].toLowerCase(),R[re]!==void 0?(M=parseInt(q),I=R[re]):R[q]!==void 0&&(I=R[q],M=parseInt(re)),M&&I!==void 0)return new Date(z,I,M).toISOString().split("T")[0]}const T=new Date(C);return isNaN(T.getTime())?null:T.toISOString().split("T")[0]},_=N=>N?N.match(/^\d+(\.\d+)?[eE]\+\d+$/)?Number(N).toLocaleString("fullwide",{useGrouping:!1}):N:"",j=N=>{if(!N)return 0;const C=String(N).replace(/[^0-9.\-]/g,""),P=parseFloat(C);return isNaN(P)?0:P},O=()=>{const N=y(u);let C=0;const P=N.map(R=>{const M=R[g.date],I=k(M);return I?{id:crypto.randomUUID(),po:_(R[g.po]),date:I,qty:j(R[g.qty]),supplier:R[g.supplier]||"Unknown",sku:R[g.sku]||g.defaultSku||"",status:"planned"}:null}).filter(R=>R&&R.po&&R.date?(C++,!0):!1),T=dV(P,{bottleDefinitions:a,schedulerSettings:n});r(T),alert(`Successfully imported ${C} orders! Check the Planning Grid for blue badges.`),t(),d(""),l(1)},E=()=>p.jsxs("div",{className:"space-y-4",children:[p.jsxs("p",{className:"text-sm text-gray-500",children:["Copy your rows from Excel or SAP and paste them below. Make sure to include the ",p.jsx("strong",{children:"PO Number"})," and ",p.jsx("strong",{children:"Delivery Date"}),"."]}),p.jsx("textarea",{className:"w-full h-64 p-3 border rounded-lg font-mono text-xs bg-gray-50 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 focus:ring-2 focus:ring-blue-500",placeholder:`Example:
450001234	${new Date().toISOString().split("T")[0]}	44000	Supplier A
450001235	${new Date(Date.now()+864e5).toISOString().split("T")[0]}	22000	Supplier B`,value:u,onChange:N=>d(N.target.value)})]}),D=()=>p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 text-sm rounded-lg",children:["Identify the columns. We found ",p.jsxs("strong",{children:[y(u).length," rows"]}),"."]}),p.jsx("div",{className:"overflow-x-auto border rounded-lg dark:border-gray-700",children:p.jsxs("table",{className:"w-full text-xs text-left",children:[p.jsx("thead",{className:"bg-gray-100 dark:bg-gray-800 text-gray-500 uppercase",children:p.jsxs("tr",{children:[f[0]?.map((N,C)=>p.jsxs("th",{className:"p-2 border-b dark:border-gray-700 min-w-[120px]",children:[p.jsxs("div",{className:"mb-2",children:["Column ",C+1]}),p.jsxs("select",{className:"w-full p-1 border rounded bg-white dark:bg-gray-700 dark:border-gray-600",value:Object.keys(g).find(P=>g[P]===C)||"",onChange:P=>{const T=P.target.value;v(R=>{const M={...R};if(!T){const I=Object.keys(M).find(z=>M[z]===C);return I&&(M[I]=-1),M}return M[T]=C,M})},children:[p.jsx("option",{value:"",children:"-- Ignore --"}),p.jsx("option",{value:"po",children:"PO Number *"}),p.jsx("option",{value:"date",children:"Date *"}),p.jsx("option",{value:"qty",children:"Quantity"}),p.jsx("option",{value:"supplier",children:"Supplier"}),p.jsx("option",{value:"sku",children:"Material / SKU"})]})]},C)),g.qty!==-1&&p.jsx("th",{className:"p-2 border-b dark:border-gray-700 w-[100px] bg-blue-50 dark:bg-blue-900/10",children:p.jsx("div",{className:"mb-2 text-blue-600",children:"Detected Qty"})})]})}),p.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:f.map((N,C)=>p.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[N.map((P,T)=>p.jsx("td",{className:`p-2 font-mono truncate max-w-[150px] ${Object.values(g).includes(T)?"font-bold text-gray-800 dark:text-white":"text-gray-400"}`,children:P},T)),g.qty!==-1&&p.jsx("td",{className:"p-2 font-mono font-bold text-blue-600 bg-blue-50/50",children:N[g.qty]?j(N[g.qty]).toLocaleString():"-"})]},C))})]})}),p.jsx("p",{className:"text-xs text-red-500",children:"* Required Fields"})]});return p.jsxs($t,{open:e,onClose:t,className:"relative z-50",children:[p.jsx("div",{className:"fixed inset-0 bg-black/30","aria-hidden":"true"}),p.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:p.jsxs($t.Panel,{className:"w-full max-w-4xl bg-white dark:bg-gray-900 rounded-2xl shadow-xl overflow-hidden flex flex-col max-h-[90vh]",children:[p.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800/50",children:[p.jsxs($t.Title,{className:"text-lg font-bold flex items-center gap-2 text-gray-900 dark:text-white",children:[p.jsx(p6,{className:"w-5 h-5 text-blue-600"}),"Import Purchase Orders"]}),p.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:p.jsx(Ws,{className:"w-6 h-6"})})]}),p.jsxs("div",{className:"p-6 overflow-y-auto flex-1",children:[s===1&&E(),s===2&&D()]}),p.jsxs("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-800/50 border-t border-gray-200 dark:border-gray-700 flex justify-end space-x-3",children:[s===2&&p.jsx("button",{onClick:()=>l(1),className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:"Back"}),p.jsx("button",{onClick:S,disabled:u.trim().length===0||s===2&&(g.po===-1||g.date===-1),className:"px-6 py-2 bg-blue-600 text-white font-bold rounded-lg shadow hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:s===1?"Next: Map Columns":`Import ${y(u).length} Orders`})]})]})})]})}function hV({isOpen:e,onClose:t,mrpResults:r}){const{poManifest:n}=na(),a=r||{},{activeSku:s}=ra(),[l,u]=x.useState({start:"",end:""}),[d,f]=x.useState("new"),h=x.useRef(!1),g=x.useMemo(()=>{const N=[];return Object.entries(n).sort().forEach(([C,P])=>{P.items.forEach(T=>{N.push({...T,date:C})})}),N},[n]),v=x.useMemo(()=>g.filter(N=>new Date(N.date)>=new Date().setHours(0,0,0,0)),[g]);x.useEffect(()=>{if(e&&a?.trucksToCancel>0&&y.size===0){const C=v.filter(P=>P.status==="confirmed").sort((P,T)=>new Date(T.date)-new Date(P.date)).slice(0,a.trucksToCancel);if(C.length>0){const P=new Set(C.map(T=>T.po+T.date));h.current=!0,S(P),f("cancel"),setTimeout(()=>h.current=!1,500)}}},[e,a?.trucksToCancel]);const[y,S]=x.useState(new Set);x.useEffect(()=>{e||(S(new Set),h.current=!1)},[e]);const k=N=>{const C=new Set(y);C.has(N)?C.delete(N):C.add(N),S(C)},_=()=>{const N=v.filter(R=>y.has(R.po+R.date));if(N.length===0)return"";const C=N.map((R,M)=>{const I=R.status==="cancelled"?"[CANCEL] ":"",z=R.time?` @ ${au(R.time)}`:" @ TBD";return`${M+1}. ${I}PO #${R.po}: ${R.date}${z} (1 Truck)`}).join(`
`),P=`${N.length} Truck${N.length!==1?"s":""}`;return(O[d]||O.new).body(C,P)},j=()=>{y.size===v.length?S(new Set):S(new Set(v.map(N=>N.po+N.date)))},O={new:{subject:(N,C)=>`New Orders for Approval - ${s}`,body:(N,C)=>`Hello Team,

Please confirm the following NEW orders for ${s}:

${N}

Total: ${C}

Please configure delivery appointments for each.

Thanks,
Planner`},add:{subject:(N,C)=>`URGENT: ADD to Schedule (Week of ${C.start}) - ${s}`,body:(N,C)=>`Hello Team,

Please ADD the following loads to our existing schedule for ${s}:

${N}

Total: ${C}

This is an addition to the already confirmed plan.

Thanks,
Planner`},cancel:{subject:(N,C)=>`URGENT: CANCELLATION REQUEST - ${N} Orders - ${s}`,body:(N,C)=>`Hello Team,

Please CANCEL the following purchase orders immediately:

${N}

Total: ${C}

Please confirm cancellation.

Thanks,
Planner`}};x.useEffect(()=>{if(y.size===0||h.current)return;const N=v.filter(R=>y.has(R.po+R.date));if(N.some(R=>R.status==="cancelled")){f("cancel");return}const P=new Set(N.map(R=>R.date)),T=g.some(R=>P.has(R.date)&&!y.has(R.po+R.date)&&R.status==="confirmed");f(T?"add":"new")},[y,v,g]);const E=()=>{const N=v.filter(P=>y.has(P.po+P.date));return(O[d]||O.new).subject(N.length,{start:N[0]?.date||"..."})},D=()=>{const N=`Subject: ${E()}

${_()}`;navigator.clipboard.writeText(N),alert("Email copied to clipboard!")};return p.jsxs($t,{open:e,onClose:t,className:"relative z-50",children:[p.jsx("div",{className:"fixed inset-0 bg-black/30","aria-hidden":"true"}),p.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:p.jsxs($t.Panel,{className:"w-full max-w-5xl bg-white dark:bg-gray-900 rounded-2xl shadow-xl overflow-hidden flex flex-col max-h-[90vh]",children:[p.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800/50",children:[p.jsxs($t.Title,{className:"text-lg font-bold flex items-center gap-2 text-gray-900 dark:text-white",children:[p.jsx(IA,{className:"w-5 h-5 text-indigo-600"}),"Email Supplier"]}),p.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:p.jsx(Ws,{className:"w-6 h-6"})})]}),p.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-6 py-3 flex items-center gap-4",children:[p.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:"Email Type:"}),p.jsx("div",{className:"flex gap-2",children:["new","add","cancel"].map(N=>p.jsx("button",{onClick:()=>f(N),className:`px-3 py-1 rounded-full text-xs font-bold capitalize transition-colors ${d===N?"bg-blue-600 text-white shadow-sm":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 border border-gray-200 dark:border-gray-600 hover:bg-gray-50"}`,children:N==="new"?"New Orders":N==="add"?"Add to Schedule":"Cancellation"},N))})]}),p.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[p.jsxs("div",{className:"w-1/2 border-r border-gray-200 dark:border-gray-700 flex flex-col",children:[p.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800/30 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[p.jsx("h3",{className:"text-xs font-bold uppercase text-gray-500",children:"Available Orders"}),p.jsx("button",{onClick:j,className:"text-xs text-blue-600 font-bold hover:underline",children:y.size===v.length?"Deselect All":"Select All"})]}),p.jsxs("div",{className:"overflow-y-auto p-2 space-y-2 flex-1",children:[v.length===0&&p.jsx("p",{className:"text-center text-sm text-gray-400 mt-10",children:"No future orders found."}),v.map((N,C)=>{const P=N.po+N.date,T=y.has(P);return p.jsxs("div",{onClick:()=>k(P),className:`p-3 rounded-lg border cursor-pointer transition-all flex justify-between items-center ${T?"bg-indigo-50 border-indigo-200 dark:bg-indigo-900/30 dark:border-indigo-700":"bg-white border-gray-100 hover:border-gray-300 dark:bg-gray-800 dark:border-gray-700"}`,children:[p.jsxs("div",{children:[p.jsxs("div",{className:"font-bold text-sm text-gray-800 dark:text-gray-200",children:["PO #",N.po]}),p.jsxs("div",{className:"text-xs text-gray-500",children:[N.date,"  ",N.qty?N.qty.toLocaleString():"-"," units"]})]}),T&&p.jsx("div",{className:"w-4 h-4 bg-indigo-600 rounded-full flex items-center justify-center text-white text-[10px]",children:""})]},C)})]})]}),p.jsxs("div",{className:"w-1/2 flex flex-col bg-gray-50 dark:bg-gray-900/50",children:[p.jsx("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700",children:p.jsx("h3",{className:"text-xs font-bold uppercase text-gray-500",children:"Email Preview"})}),p.jsx("div",{className:"flex-1 p-4",children:p.jsx("textarea",{className:"w-full h-full p-4 text-sm font-mono border rounded-lg resize-none focus:ring-2 focus:ring-indigo-500 bg-white dark:bg-gray-800 dark:border-gray-700 dark:text-gray-300",value:_(),readOnly:!0})}),p.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 flex justify-end",children:p.jsxs("button",{onClick:D,className:"flex items-center gap-2 bg-indigo-600 hover:bg-indigo-500 text-white px-4 py-2 rounded-lg font-bold shadow-sm transition-all active:scale-95",children:[p.jsx(jy,{className:"w-4 h-4"}),"Copy to Clipboard"]})})]})]})]})})]})}function mV({isOpen:e,onClose:t}){const{poManifest:r}=na(),n=x.useMemo(()=>{const k=[];return Object.entries(r).forEach(([_,j])=>{j.items.forEach(O=>{k.push({...O,date:_})})}),k.sort((_,j)=>_.date.localeCompare(j.date))},[r]),a=n.filter(k=>new Date(k.date)>=new Date().setHours(0,0,0,0)),[s,l]=x.useState(`YMS_Import_${new Date().toISOString().slice(0,10)}`),[u,d]=x.useState(!0),f=[{id:"date",label:"Expected Arrival Date"},{id:"po",label:"PO Number"},{id:"qty",label:"Quantity"},{id:"supplier",label:"Supplier Name"},{id:"status",label:"Status"},{id:"carrier",label:"Carrier (Empty)"},{id:"trailer_type",label:"Trailer Type (Dry Van)"}],[h,g]=x.useState(f.map(k=>k.id)),v=k=>{h.includes(k)?g(_=>_.filter(j=>j!==k)):g(_=>[..._,k])},y=()=>{const k=[];return u&&k.push(h.map(_=>{const j=f.find(O=>O.id===_);return j?j.label:_}).join(",")),a.forEach(_=>{const j=h.map(O=>{switch(O){case"carrier":return"";case"trailer_type":return"Dry Van";case"qty":return _.qty||0;default:return _[O]||""}});k.push(j.join(","))}),k.join(`
`)},S=()=>{const k=y(),_=new Blob([k],{type:"text/csv;charset=utf-8;"}),j=document.createElement("a");if(j.download!==void 0){const O=URL.createObjectURL(_);j.setAttribute("href",O),j.setAttribute("download",`${s}.csv`),j.style.visibility="hidden",document.body.appendChild(j),j.click(),document.body.removeChild(j)}t()};return p.jsxs($t,{open:e,onClose:t,className:"relative z-50",children:[p.jsx("div",{className:"fixed inset-0 bg-black/30","aria-hidden":"true"}),p.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:p.jsxs($t.Panel,{className:"w-full max-w-2xl bg-white dark:bg-gray-900 rounded-2xl shadow-xl overflow-hidden flex flex-col",children:[p.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800/50",children:[p.jsxs($t.Title,{className:"text-lg font-bold flex items-center gap-2 text-gray-900 dark:text-white",children:[p.jsx(ex,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"}),"Export for YMS"]}),p.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:p.jsx(Ws,{className:"w-6 h-6"})})]}),p.jsxs("div",{className:"p-6 space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Filename"}),p.jsxs("div",{className:"flex items-center",children:[p.jsx("input",{type:"text",value:s,onChange:k=>l(k.target.value),className:"w-full p-2 border rounded-l-lg dark:bg-gray-800 dark:border-gray-600"}),p.jsx("span",{className:"bg-gray-100 dark:bg-gray-700 px-3 py-2 border border-l-0 rounded-r-lg text-gray-500 dark:border-gray-600",children:".csv"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Include Columns"}),p.jsx("div",{className:"grid grid-cols-2 gap-3",children:f.map(k=>p.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer p-2 rounded hover:bg-gray-50 dark:hover:bg-gray-800 border dark:border-gray-700",children:[p.jsx("input",{type:"checkbox",checked:h.includes(k.id),onChange:()=>v(k.id),className:"rounded text-blue-600 focus:ring-blue-500"}),p.jsx("span",{className:"text-sm font-medium dark:text-gray-200",children:k.label})]},k.id))})]}),p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("span",{className:"text-sm font-medium dark:text-gray-300",children:"Include Headers?"}),p.jsx(QF,{checked:u,onChange:d,className:`${u?"bg-blue-600":"bg-gray-200"} relative inline-flex h-6 w-11 items-center rounded-full transition-colors`,children:p.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition ${u?"translate-x-6":"translate-x-1"}`})})]}),p.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-2 rounded text-xs font-mono text-gray-500 overflow-x-auto whitespace-pre",children:[u&&h.map(k=>f.find(_=>_.id===k)?.label).join(","),`
`,n.length>0&&h.map(k=>k==="carrier"?'""':n[0][k]||'""').join(","),n.length===0&&"(No data to export)","..."]})]}),p.jsx("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-800/50 border-t border-gray-200 dark:border-gray-700 flex justify-end",children:p.jsx("button",{onClick:S,disabled:n.length===0,className:"px-6 py-2 bg-gray-900 dark:bg-white dark:text-gray-900 text-white font-bold rounded-lg shadow hover:opacity-90 transition-all disabled:opacity-50",children:"Download CSV"})})]})})]})}function pV({isOpen:e,onClose:t,order:r,date:n}){const{addOrdersBulk:a,updateOrder:s,moveOrder:l}=na(),{productMap:u}=xr(),d=Object.keys(u),[f,h]=x.useState({po:"",date:"",qty:"",supplier:"",carrier:"",sku:""});x.useEffect(()=>{e&&h(r?{po:r.po,date:n||r.date,time:r.time||"",qty:r.qty,supplier:r.supplier,carrier:r.carrier||"",sku:r.sku||""}:{po:"",date:n||new Date().toISOString().split("T")[0],time:"",qty:"",supplier:"",carrier:"",sku:""})},[e,r,n]);const g=()=>{if(!f.po||!f.date||!f.qty){alert("PO, Date, and Quantity are required.");return}const v={id:r?.id||crypto.randomUUID(),po:f.po,date:f.date,time:f.time,qty:Number(f.qty),supplier:f.supplier||"Unknown",carrier:f.carrier,sku:f.sku};r?f.date!==r.date?l(r.date,f.date,v):s(f.date,v):a([v]),t()};return p.jsxs($t,{open:e,onClose:t,className:"relative z-50",children:[p.jsx("div",{className:"fixed inset-0 bg-black/30","aria-hidden":"true"}),p.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:p.jsxs($t.Panel,{className:"w-full max-w-md bg-white dark:bg-gray-800 rounded-xl shadow-xl overflow-hidden",children:[p.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center",children:[p.jsx($t.Title,{className:"text-lg font-bold text-gray-900 dark:text-white",children:r?"Edit Order":"New Purchase Order"}),p.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500",children:p.jsx(Ws,{className:"w-5 h-5"})})]}),p.jsxs("div",{className:"p-6 space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Material / SKU"}),p.jsxs("select",{className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:f.sku,onChange:v=>h({...f,sku:v.target.value}),children:[p.jsx("option",{value:"",children:"-- Any / All --"}),d.map(v=>p.jsx("option",{value:v,children:v},v))]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"PO Number"}),p.jsx("input",{type:"text",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:f.po,onChange:v=>h({...f,po:v.target.value}),autoFocus:!0})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Delivery Date"}),p.jsxs("div",{className:"relative",children:[p.jsx(x6,{className:"absolute left-2 top-2.5 w-4 h-4 text-gray-400"}),p.jsx("input",{type:"date",className:"w-full pl-8 p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:f.date,onChange:v=>h({...f,date:v.target.value})})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Time (Hour)"}),p.jsxs("select",{className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:f.time,onChange:v=>h({...f,time:v.target.value}),children:[p.jsx("option",{value:"",children:"-- TBD --"}),Array.from({length:24}).map((v,y)=>{const S=`${String(y).padStart(2,"0")}:00`,k=y>=12?"PM":"AM",j=`${y%12||12}:00 ${k}`;return p.jsx("option",{value:S,children:j},S)})]})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Quantity"}),p.jsx("input",{type:"number",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:f.qty,onChange:v=>h({...f,qty:v.target.value})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Supplier"}),p.jsx("input",{type:"text",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:f.supplier,onChange:v=>h({...f,supplier:v.target.value})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Carrier (Optional)"}),p.jsxs("div",{className:"relative",children:[p.jsx(vn,{className:"absolute left-2 top-2.5 w-4 h-4 text-gray-400"}),p.jsx("input",{type:"text",className:"w-full pl-8 p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:f.carrier,onChange:v=>h({...f,carrier:v.target.value})})]})]})]}),p.jsxs("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-700/50 flex justify-end gap-2",children:[p.jsx("button",{onClick:t,className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800",children:"Cancel"}),p.jsx("button",{onClick:g,className:"px-4 py-2 bg-blue-600 text-white text-sm font-bold rounded hover:bg-blue-500",children:"Save Order"})]})]})})]})}function gV({isOpen:e,onClose:t}){const{poManifest:r,deleteOrdersBulk:n,bulkUpdateOrders:a}=na(),{productMap:s}=xr(),[l,u]=x.useState(""),[d,f]=x.useState(new Set),[h,g]=x.useState(!1),[v,y]=x.useState(null),S=M=>{y(M),g(!0)},k=()=>{y(null),g(!0)},_=x.useMemo(()=>{const M=[];return Object.entries(r).forEach(([I,z])=>{z.items&&z.items.forEach(q=>{M.push({...q,date:I})})}),M.sort((I,z)=>{const q=new Date(z.date)-new Date(I.date);if(q!==0)return q;const re=oe=>{if(!oe||oe==="00:00")return 99999;const[B,H]=oe.split(":").map(Number);return B*60+(H||0)};return re(I.time)-re(z.time)})},[r]),j=x.useMemo(()=>{if(!l)return _;const M=l.toLowerCase();return _.filter(I=>(I.po||"").toLowerCase().includes(M)||(I.supplier||"").toLowerCase().includes(M)||(I.date||"").includes(M))},[_,l]),O=M=>{const I=new Set(d);I.has(M)?I.delete(M):I.add(M),f(I)},E=()=>{if(d.size===j.length&&j.length>0)f(new Set);else{const M=new Set;j.forEach(I=>M.add(I.id)),f(M)}},[D,N]=x.useState(null),C=()=>{d.size!==0&&N({title:`Delete ${d.size} Orders?`,message:`Are you sure you want to PERMANENTLY delete ${d.size} selected orders? This action cannot be undone.`,type:"danger",onConfirm:()=>{const M=_.filter(I=>d.has(I.id));n(M),f(new Set),N(null)}})},P=M=>{if(!M||d.size===0||!confirm(`Set SKU to "${M}" for ${d.size} orders?`))return;const I=_.filter(z=>d.has(z.id)).map(z=>({...z,sku:M}));a(I),f(new Set)},T=M=>{const I=parseInt(M);if(isNaN(I)||I<2e3||I>2100){alert("Invalid Year");return}if(!confirm(`Update YEAR to "${I}" for ${d.size} orders? (Month/Day will be preserved)`))return;const z=_.filter(q=>d.has(q.id)).map(q=>{const re=q.date.split("-");if(re.length!==3)return q;const oe=`${I}-${re[1]}-${re[2]}`;return{...q,date:oe}});a(z),f(new Set)},R=M=>{if(!confirm(`Update status to "${M.toUpperCase()}" for ${d.size} orders?`))return;const I=_.filter(z=>d.has(z.id)).map(z=>({...z,status:M}));a(I),f(new Set)};return p.jsxs($t,{open:e,onClose:t,className:"relative z-50",children:[p.jsx("div",{className:"fixed inset-0 bg-black/50","aria-hidden":"true"}),p.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:p.jsxs($t.Panel,{className:"w-full max-w-5xl h-[80vh] bg-white dark:bg-gray-900 rounded-2xl shadow-2xl flex flex-col overflow-hidden",children:[p.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center bg-gray-50 dark:bg-gray-800",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"bg-purple-100 dark:bg-purple-900 p-2 rounded-lg",children:p.jsx(BA,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),p.jsxs("div",{children:[p.jsx($t.Title,{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Global Procurement Manager"}),p.jsx("p",{className:"text-sm text-gray-500",children:"Manage all Inbound Orders across all dates."})]}),D&&p.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/20 backdrop-blur-sm p-4 animate-fadeIn",children:p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700 p-6 w-full max-w-sm flex flex-col items-center text-center transform transition-all scale-100",children:[p.jsx("div",{className:`p-4 rounded-full mb-4 ${D.type==="danger"?"bg-red-100 text-red-600":"bg-blue-100 text-blue-600"}`,children:D.type==="danger"?p.jsx(pa,{className:"w-8 h-8"}):p.jsx(da,{className:"w-8 h-8"})}),p.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:D.title}),p.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6 leading-relaxed",children:D.message}),p.jsxs("div",{className:"flex gap-3 w-full",children:[p.jsx("button",{onClick:()=>N(null),className:"flex-1 px-4 py-2 rounded-lg border border-gray-300 text-gray-700 font-bold hover:bg-gray-50 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),p.jsx("button",{onClick:()=>D.onConfirm(),className:`flex-1 px-4 py-2 rounded-lg text-white font-bold shadow-lg transition-transform hover:scale-105 ${D.type==="danger"?"bg-red-600 hover:bg-red-700 shadow-red-500/30":"bg-emerald-600 hover:bg-emerald-700 shadow-emerald-500/30"}`,children:"Confirm"})]})]})})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("button",{onClick:k,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white hover:bg-blue-500 rounded-lg font-bold transition-colors shadow-sm",children:[p.jsx(d0,{className:"w-5 h-5"}),"New Order"]}),p.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 ml-4",children:p.jsx(Ws,{className:"w-6 h-6"})})]})]}),p.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex flex-col md:flex-row gap-4 items-center justify-between",children:[p.jsxs("div",{className:"relative w-full max-w-md",children:[p.jsx(H6,{className:"absolute left-3 top-2.5 w-5 h-5 text-gray-400"}),p.jsx("input",{type:"text",placeholder:"Search PO, Supplier, or Date...",className:"w-full pl-10 pr-4 py-2 border rounded-lg dark:bg-gray-800 dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none",value:l,onChange:M=>u(M.target.value)})]}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsxs("span",{className:"text-sm text-gray-500",children:[d.size," selected"]}),d.size>0&&p.jsx("div",{className:"flex items-center gap-2",children:p.jsxs("div",{className:"relative group",children:[p.jsx("button",{className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-sm font-bold shadow-sm hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",children:"Bulk Actions"}),p.jsx("div",{className:"absolute top-full left-0 pt-2 w-48 z-50 hidden group-hover:block",children:p.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:p.jsxs("div",{className:"p-2",children:[p.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase px-2 py-1",children:"Set Status"}),p.jsxs("button",{onClick:()=>R("received"),className:"w-full text-left px-2 py-2 hover:bg-emerald-50 dark:hover:bg-emerald-900/30 rounded text-sm text-emerald-700 dark:text-emerald-400 font-bold flex items-center gap-2",children:[p.jsx("span",{children:""})," Mark as Received"]}),p.jsx("button",{onClick:()=>R("confirmed"),className:"w-full text-left px-2 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded text-sm text-blue-700 dark:text-blue-400 font-bold",children:"Mark as Confirmed"}),p.jsx("button",{onClick:()=>R("ordered"),className:"w-full text-left px-2 py-2 hover:bg-yellow-50 dark:hover:bg-yellow-900/30 rounded text-sm text-yellow-700 dark:text-yellow-400",children:"Mark as Ordered"}),p.jsx("button",{onClick:()=>R("cancelled"),className:"w-full text-left px-2 py-2 hover:bg-red-50 dark:hover:bg-red-900/30 rounded text-sm text-red-600 dark:text-red-400 font-bold",children:"Mark for Cancellation"}),p.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700 my-1"}),p.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase px-2 py-1",children:"Set properties"}),p.jsx("button",{onClick:()=>{const M=prompt("Enter Target Year (e.g. 2025):",new Date().getFullYear());M&&T(M)},className:"w-full text-left px-2 py-2 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded text-sm text-gray-700 dark:text-gray-200",children:"Set Year..."}),p.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700 my-1"}),p.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase px-2 py-1",children:"Assign SKU"}),Object.keys(s).map(M=>p.jsx("button",{onClick:()=>P(M),className:"w-full text-left px-2 py-1.5 hover:bg-purple-50 dark:hover:bg-purple-900/30 rounded text-sm text-gray-700 dark:text-gray-200",children:M},M))]})})})]})}),p.jsxs("button",{onClick:C,disabled:d.size===0,className:"flex items-center gap-2 px-4 py-2 bg-red-50 text-red-600 hover:bg-red-100 rounded-lg font-bold disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[p.jsx(pa,{className:"w-5 h-5"}),"Delete"]})]})]}),p.jsx("div",{className:"flex-1 overflow-auto",children:p.jsxs("table",{className:"w-full text-left border-collapse",children:[p.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800 sticky top-0 z-10 shadow-sm",children:p.jsxs("tr",{children:[p.jsx("th",{className:"p-4 w-12 border-b dark:border-gray-700",children:p.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500",checked:j.length>0&&d.size===j.length,onChange:E})}),p.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase border-b dark:border-gray-700",children:"Date"}),p.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase border-b dark:border-gray-700",children:"Time"}),p.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase border-b dark:border-gray-700",children:"PO Number"}),p.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase border-b dark:border-gray-700",children:"SKU"}),p.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase border-b dark:border-gray-700",children:"Supplier"}),p.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase border-b dark:border-gray-700",children:"Trucks"}),p.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase border-b dark:border-gray-700",children:"Carrier"}),p.jsx("th",{className:"p-4 w-12 border-b dark:border-gray-700"})]})}),p.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700 bg-white dark:bg-gray-900",children:j.length===0?p.jsx("tr",{children:p.jsx("td",{colSpan:"7",className:"p-10 text-center text-gray-400 italic",children:"No orders found matching your search."})}):j.map(M=>p.jsxs("tr",{className:`hover:bg-blue-50 dark:hover:bg-gray-800 transition-colors ${d.has(M.id)?"bg-blue-50 dark:bg-blue-900/20":""}`,children:[p.jsx("td",{className:"p-4",children:p.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500",checked:d.has(M.id),onChange:()=>O(M.id)})}),p.jsx("td",{className:"p-4 text-sm font-medium text-gray-900 dark:text-white text-nowrap",children:new Date(M.date+"T00:00:00").toLocaleDateString()}),p.jsx("td",{className:"p-4 text-sm text-gray-500 dark:text-gray-400 font-mono",children:M.time&&M.time!=="00:00"?au(M.time):"-"}),p.jsx("td",{className:"p-4 text-sm font-mono text-gray-600 dark:text-gray-300",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:`font-mono ${M.status==="received"?"line-through text-gray-400":"text-gray-600 dark:text-gray-300"}`,children:M.po}),M.status==="received"&&p.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] font-bold bg-emerald-100 text-emerald-800 border border-emerald-200 uppercase tracking-wide",children:"RCVD"})]})}),p.jsx("td",{className:"p-4",children:M.sku?p.jsx("span",{className:"px-2 py-1 bg-purple-100 dark:bg-purple-900 text-purple-700 dark:text-purple-300 rounded text-xs font-bold",children:M.sku}):p.jsx("span",{className:"text-gray-400 text-xs italic",children:"Any"})}),p.jsx("td",{className:"p-4 text-sm text-gray-600 dark:text-gray-300",children:M.supplier}),p.jsx("td",{className:"p-4",children:p.jsx("span",{className:"px-2 py-0.5 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded text-xs font-bold",children:"1 Truck"})}),p.jsx("td",{className:"p-4 text-sm text-gray-500 dark:text-gray-400",children:M.carrier||"-"}),p.jsxs("td",{className:"p-4",children:[M.status!=="received"&&p.jsx("button",{onClick:()=>{confirm("Mark this order as Received?")&&a([{...M,status:"received"}])},className:"p-1 text-gray-400 hover:text-emerald-600 transition-colors mr-1",title:"Mark Received",children:""}),p.jsx("button",{onClick:()=>S(M),className:"p-1 text-gray-400 hover:text-blue-600 transition-colors",title:"Edit Order",children:p.jsx(Jc,{className:"w-5 h-5"})})]})]},M.id))})]})}),p.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 text-xs text-gray-500 border-t border-gray-200 dark:border-gray-700 flex justify-between",children:[p.jsxs("span",{children:["Showing ",j.length," of ",_.length," orders"]}),p.jsx("span",{className:"text-gray-400",children:"Press Shift to select range (coming soon)"})]})]})}),p.jsx(pV,{isOpen:h,onClose:()=>g(!1),order:v})]})}function vV({selectedSize:e,setSelectedSize:t,floorCount:r,setFloorCount:n,yardCount:a,setYardCount:s,yardUnit:l,setYardUnit:u,sizes:d,palletsPerTruck:f}){return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-4 rounded-lg border border-purple-100 dark:border-purple-800",children:[p.jsx("h3",{className:"font-bold text-purple-900 dark:text-purple-300 mb-1",children:"Morning Inventory Count"}),p.jsxs("p",{className:"text-sm text-purple-700 dark:text-purple-400",children:["What is physically on the floor and in the yard ",p.jsx("strong",{children:"right now"}),"?"]})]}),p.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg border border-gray-200 dark:border-gray-700",children:[p.jsx("label",{className:"block text-xs uppercase font-bold text-gray-500 mb-2",children:"Select Product"}),p.jsx("div",{className:"flex flex-wrap gap-2",children:d.map(h=>p.jsx("button",{onClick:()=>t(h),className:`px-3 py-1.5 rounded-md text-sm font-bold transition-colors ${e===h?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:h},h))})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:"Floor Count (Pallets)"}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(ax,{className:"h-5 w-5 text-gray-400"})}),p.jsx("input",{type:"number",autoFocus:!0,value:r,onChange:h=>n(h.target.value),className:"w-full pl-10 pr-4 py-3 text-xl font-bold border rounded-lg shadow-sm focus:ring-2 focus:ring-purple-500 dark:bg-gray-800 dark:text-white dark:border-gray-600"})]}),p.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Count all finished goods on the floor."})]}),p.jsxs("div",{children:[p.jsxs("div",{className:"flex justify-between items-center mb-2",children:[p.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300",children:"Yard Count"}),p.jsxs("div",{className:"flex bg-gray-200 dark:bg-gray-700 rounded-md p-0.5",children:[p.jsx("button",{onClick:()=>u("loads"),className:`px-2 py-0.5 text-xs font-bold rounded-sm ${l==="loads"?"bg-white text-blue-600 shadow-sm":"text-gray-500"}`,children:"Loads"}),p.jsx("button",{onClick:()=>u("pallets"),className:`px-2 py-0.5 text-xs font-bold rounded-sm ${l==="pallets"?"bg-white text-blue-600 shadow-sm":"text-gray-500"}`,children:"Pallets"})]})]}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(vn,{className:"h-5 w-5 text-gray-400"})}),p.jsx("input",{type:"number",value:l==="loads"?a:a===""?"":Math.round(a*f),onChange:h=>{const g=h.target.value===""?"":Number(h.target.value);s(l==="loads"?g:g===""?"":g/f)},className:"w-full pl-10 pr-4 py-3 text-xl font-bold border rounded-lg shadow-sm focus:ring-2 focus:ring-purple-500 dark:bg-gray-800 dark:text-white dark:border-gray-600"})]}),p.jsx("p",{className:"text-xs text-gray-500 mt-1",children:l==="loads"?"Number of fully loaded trailers.":`Total pallets (~${Math.round(f)} per load).`})]})]})]})}function zC({isOpen:e,onClose:t,state:r,setters:n}){const{productMap:a}=xr(),s=Object.keys(a),l=a[r.selectedSize],u=l?.bottlesPerTruck||2e4,d=(l?.bottlesPerCase||12)*(l?.casesPerPallet||100),f=u/d,[h,g]=x.useState(1),[v,y]=x.useState(""),[S,k]=x.useState(""),[_,j]=x.useState("loads");x.useEffect(()=>{e&&(y(r.inventoryAnchor?.count||0),k(r.yardInventory?.effectiveCount||0),g(1))},[e,r.inventoryAnchor,r.yardInventory]);const O=()=>{const D=Wr();n.setInventoryAnchor({date:D,count:Number(v)}),n.updateYardInventory(Number(S)),t()},E=()=>p.jsxs("div",{className:"text-center py-6 space-y-6",children:[p.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100 dark:bg-green-900/30",children:p.jsx(da,{className:"h-10 w-10 text-green-600 dark:text-green-400"})}),p.jsxs("div",{children:[p.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:["Ready to Update ",r.selectedSize,"?"]}),p.jsxs("p",{className:"text-gray-500 dark:text-gray-400 mt-2 max-w-sm mx-auto",children:["The system will reset the ",p.jsx("strong",{children:r.selectedSize})," inventory baseline to ",p.jsxs("strong",{children:[v," Pallets"]})," + ",p.jsxs("strong",{children:[S," Loads"]}),"."]})]}),p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700 max-w-sm mx-auto text-left text-sm space-y-2",children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-gray-500",children:"New Floor Count:"}),p.jsxs("span",{className:"font-mono font-bold",children:[v," plts"]})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-gray-500",children:"New Yard Count:"}),p.jsxs("span",{className:"font-mono font-bold",children:[Number(S).toFixed(1)," loads ",p.jsxs("span",{className:"text-gray-400 text-xs",children:["(",Math.round(S*f)," plts)"]})]})]})]})]});return e?p.jsxs("div",{className:"relative z-50","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:[p.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"}),p.jsx("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto",children:p.jsx("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:p.jsxs("div",{className:"relative transform overflow-hidden rounded-lg bg-white dark:bg-gray-900 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg border dark:border-gray-700 p-6",children:[p.jsxs("div",{className:"sm:flex sm:items-start mb-6",children:[p.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-blue-100 dark:bg-blue-900/30 sm:mx-0 sm:h-10 sm:w-10",children:p.jsx(nx,{className:"h-6 w-6 text-blue-600 dark:text-blue-400","aria-hidden":"true"})}),p.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[p.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 dark:text-white",id:"modal-title",children:"Morning True-Up"}),p.jsx("div",{className:"mt-2 text-left",children:p.jsxs("div",{className:"flex items-center space-x-2 text-xs font-medium text-gray-400",children:[p.jsx("span",{className:`${h===1?"text-blue-600 dark:text-blue-400":""}`,children:"1. Inventory"}),p.jsx("span",{children:""}),p.jsx("span",{className:`${h===2?"text-blue-600 dark:text-blue-400":""}`,children:"2. Confirm"})]})})]})]}),p.jsxs("div",{className:"mt-2",children:[h===1&&p.jsx(vV,{selectedSize:r.selectedSize,setSelectedSize:n.setSelectedSize,floorCount:v,setFloorCount:y,yardCount:S,setYardCount:k,yardUnit:_,setYardUnit:j,sizes:s,palletsPerTruck:f}),h===2&&E()]}),p.jsxs("div",{className:"mt-8 sm:mt-6 sm:grid sm:grid-flow-row-dense sm:grid-cols-2 sm:gap-3",children:[h<2?p.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:col-start-2 sm:text-sm",onClick:()=>g(D=>D+1),children:"Next Step"}):p.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-green-600 text-base font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 sm:col-start-2 sm:text-sm",onClick:O,children:"Update Plan"}),h>1?p.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 dark:border-gray-600 shadow-sm px-4 py-2 bg-white dark:bg-gray-800 text-base font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:col-start-1 sm:mt-0 sm:text-sm",onClick:()=>g(D=>D-1),children:"Back"}):p.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 dark:border-gray-600 shadow-sm px-4 py-2 bg-white dark:bg-gray-800 text-base font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:col-start-1 sm:mt-0 sm:text-sm",onClick:t,children:"Cancel"})]})]})})})]}):null}var yV=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Px(e){if(typeof e!="string")return!1;var t=yV;return t.includes(e)}var bV=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],xV=new Set(bV);function UC(e){return typeof e!="string"?!1:xV.has(e)}function BC(e){return typeof e=="string"&&e.startsWith("data-")}function Qn(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(UC(r)||BC(r))&&(t[r]=e[r]);return t}function P0(e){if(e==null)return null;if(x.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Qn(t)}return typeof e=="object"&&!Array.isArray(e)?Qn(e):null}function yn(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(UC(r)||BC(r)||Px(r))&&(t[r]=e[r]);return t}function wV(e){return e==null?null:x.isValidElement(e)?yn(e.props):typeof e=="object"&&!Array.isArray(e)?yn(e):null}var _V=["children","width","height","viewBox","className","style","title","desc"];function ab(){return ab=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ab.apply(null,arguments)}function SV(e,t){if(e==null)return{};var r,n,a=kV(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function kV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var qC=x.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:s,className:l,style:u,title:d,desc:f}=e,h=SV(e,_V),g=s||{width:n,height:a,x:0,y:0},v=ht("recharts-surface",l);return x.createElement("svg",ab({},yn(h),{className:v,width:n,height:a,style:u,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:t}),x.createElement("title",null,d),x.createElement("desc",null,f),r)}),jV=["children","className"];function ib(){return ib=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ib.apply(null,arguments)}function EV(e,t){if(e==null)return{};var r,n,a=OV(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function OV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ea=x.forwardRef((e,t)=>{var{children:r,className:n}=e,a=EV(e,jV),s=ht("recharts-layer",n);return x.createElement("g",ib({className:s},yn(a),{ref:t}),r)}),NV=x.createContext(null);function Tt(e){return function(){return e}}const sb=Math.PI,ob=2*sb,Es=1e-6,AV=ob-Es;function HC(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function TV(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return HC;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class CV{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?HC:TV(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,l){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+l}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,u=this._y1,d=n-t,f=a-r,h=l-t,g=u-r,v=h*h+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(v>Es)if(!(Math.abs(g*d-f*h)>Es)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let y=n-l,S=a-u,k=d*d+f*f,_=y*y+S*S,j=Math.sqrt(k),O=Math.sqrt(v),E=s*Math.tan((sb-Math.acos((k+v-_)/(2*j*O)))/2),D=E/O,N=E/j;Math.abs(D-1)>Es&&this._append`L${t+D*h},${r+D*g}`,this._append`A${s},${s},0,0,${+(g*y>h*S)},${this._x1=t+N*d},${this._y1=r+N*f}`}}arc(t,r,n,a,s,l){if(t=+t,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(a),d=n*Math.sin(a),f=t+u,h=r+d,g=1^l,v=l?a-s:s-a;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>Es||Math.abs(this._y1-h)>Es)&&this._append`L${f},${h}`,n&&(v<0&&(v=v%ob+ob),v>AV?this._append`A${n},${n},0,1,${g},${t-u},${r-d}A${n},${n},0,1,${g},${this._x1=f},${this._y1=h}`:v>Es&&this._append`A${n},${n},0,${+(v>=sb)},${g},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function FC(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new CV(t)}function Dx(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function VC(e){this._context=e}VC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function D0(e){return new VC(e)}function KC(e){return e[0]}function ZC(e){return e[1]}function GC(e,t){var r=Tt(!0),n=null,a=D0,s=null,l=FC(u);e=typeof e=="function"?e:e===void 0?KC:Tt(e),t=typeof t=="function"?t:t===void 0?ZC:Tt(t);function u(d){var f,h=(d=Dx(d)).length,g,v=!1,y;for(n==null&&(s=a(y=l())),f=0;f<=h;++f)!(f<h&&r(g=d[f],f,d))===v&&((v=!v)?s.lineStart():s.lineEnd()),v&&s.point(+e(g,f,d),+t(g,f,d));if(y)return s=null,y+""||null}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:Tt(+d),u):e},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:Tt(+d),u):t},u.defined=function(d){return arguments.length?(r=typeof d=="function"?d:Tt(!!d),u):r},u.curve=function(d){return arguments.length?(a=d,n!=null&&(s=a(n)),u):a},u.context=function(d){return arguments.length?(d==null?n=s=null:s=a(n=d),u):n},u}function Af(e,t,r){var n=null,a=Tt(!0),s=null,l=D0,u=null,d=FC(f);e=typeof e=="function"?e:e===void 0?KC:Tt(+e),t=typeof t=="function"?t:Tt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?ZC:Tt(+r);function f(g){var v,y,S,k=(g=Dx(g)).length,_,j=!1,O,E=new Array(k),D=new Array(k);for(s==null&&(u=l(O=d())),v=0;v<=k;++v){if(!(v<k&&a(_=g[v],v,g))===j)if(j=!j)y=v,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),S=v-1;S>=y;--S)u.point(E[S],D[S]);u.lineEnd(),u.areaEnd()}j&&(E[v]=+e(_,v,g),D[v]=+t(_,v,g),u.point(n?+n(_,v,g):E[v],r?+r(_,v,g):D[v]))}if(O)return u=null,O+""||null}function h(){return GC().defined(a).curve(l).context(s)}return f.x=function(g){return arguments.length?(e=typeof g=="function"?g:Tt(+g),n=null,f):e},f.x0=function(g){return arguments.length?(e=typeof g=="function"?g:Tt(+g),f):e},f.x1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:Tt(+g),f):n},f.y=function(g){return arguments.length?(t=typeof g=="function"?g:Tt(+g),r=null,f):t},f.y0=function(g){return arguments.length?(t=typeof g=="function"?g:Tt(+g),f):t},f.y1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:Tt(+g),f):r},f.lineX0=f.lineY0=function(){return h().x(e).y(t)},f.lineY1=function(){return h().x(e).y(r)},f.lineX1=function(){return h().x(n).y(t)},f.defined=function(g){return arguments.length?(a=typeof g=="function"?g:Tt(!!g),f):a},f.curve=function(g){return arguments.length?(l=g,s!=null&&(u=l(s)),f):l},f.context=function(g){return arguments.length?(g==null?s=u=null:u=l(s=g),f):s},f}class YC{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function PV(e){return new YC(e,!0)}function DV(e){return new YC(e,!1)}function _h(){}function Sh(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function WC(e){this._context=e}WC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Sh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Sh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function RV(e){return new WC(e)}function XC(e){this._context=e}XC.prototype={areaStart:_h,areaEnd:_h,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Sh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function MV(e){return new XC(e)}function JC(e){this._context=e}JC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Sh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function $V(e){return new JC(e)}function QC(e){this._context=e}QC.prototype={areaStart:_h,areaEnd:_h,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function IV(e){return new QC(e)}function Aj(e){return e<0?-1:1}function Tj(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),l=(r-e._y1)/(a||n<0&&-0),u=(s*a+l*n)/(n+a);return(Aj(s)+Aj(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(u))||0}function Cj(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Xg(e,t,r){var n=e._x0,a=e._y0,s=e._x1,l=e._y1,u=(s-n)/3;e._context.bezierCurveTo(n+u,a+u*t,s-u,l-u*r,s,l)}function kh(e){this._context=e}kh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Xg(this,this._t0,Cj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Xg(this,Cj(this,r=Tj(this,e,t)),r);break;default:Xg(this,this._t0,r=Tj(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function eP(e){this._context=new tP(e)}(eP.prototype=Object.create(kh.prototype)).point=function(e,t){kh.prototype.point.call(this,t,e)};function tP(e){this._context=e}tP.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function LV(e){return new kh(e)}function zV(e){return new eP(e)}function rP(e){this._context=e}rP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Pj(e),a=Pj(t),s=0,l=1;l<r;++s,++l)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Pj(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),l=new Array(r);for(a[0]=0,s[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,l[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,l[t]-=n*l[t-1];for(a[r-1]=l[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(l[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function UV(e){return new rP(e)}function R0(e,t){this._context=e,this._t=t}R0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function BV(e){return new R0(e,.5)}function qV(e){return new R0(e,0)}function HV(e){return new R0(e,1)}function hl(e,t){if((l=e.length)>1)for(var r=1,n,a,s=e[t[0]],l,u=s.length;r<l;++r)for(a=s,s=e[t[r]],n=0;n<u;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function lb(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function FV(e,t){return e[t]}function VV(e){const t=[];return t.key=e,t}function KV(){var e=Tt([]),t=lb,r=hl,n=FV;function a(s){var l=Array.from(e.apply(this,arguments),VV),u,d=l.length,f=-1,h;for(const g of s)for(u=0,++f;u<d;++u)(l[u][f]=[0,+n(g,l[u].key,f,s)]).data=g;for(u=0,h=Dx(t(l));u<d;++u)l[h[u]].index=u;return r(l,h),l}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Tt(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:Tt(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?lb:typeof s=="function"?s:Tt(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??hl,a):r},a}function ZV(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,l;a<s;++a){for(l=r=0;r<n;++r)l+=e[r][a][1]||0;if(l)for(r=0;r<n;++r)e[r][a][1]/=l}hl(e,t)}}function GV(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var l=0,u=0;l<a;++l)u+=e[l][r][1]||0;n[r][1]+=n[r][0]=-u/2}hl(e,t)}}function YV(e,t){if(!(!((l=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,l;n<s;++n){for(var u=0,d=0,f=0;u<l;++u){for(var h=e[t[u]],g=h[n][1]||0,v=h[n-1][1]||0,y=(g-v)/2,S=0;S<u;++S){var k=e[t[S]],_=k[n][1]||0,j=k[n-1][1]||0;y+=_-j}d+=g,f+=y*g}a[n-1][1]+=a[n-1][0]=r,d&&(r-=f/d)}a[n-1][1]+=a[n-1][0]=r,hl(e,t)}}var Jg={},Qg={},Dj;function WV(){return Dj||(Dj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(Qg)),Qg}var ev={},Rj;function nP(){return Rj||(Rj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(ev)),ev}var tv={},Mj;function Rx(){return Mj||(Mj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(tv)),tv}var rv={},nv={},$j;function XV(){return $j||($j=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(nv)),nv}var Ij;function Mx(){return Ij||(Ij=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XV(),r=Rx();function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const s=[],l=a.length;if(l===0)return s;let u=0,d="",f="",h=!1;for(a.charCodeAt(0)===46&&(s.push(""),u++);u<l;){const g=a[u];f?g==="\\"&&u+1<l?(u++,d+=a[u]):g===f?f="":d+=g:h?g==='"'||g==="'"?f=g:g==="]"?(h=!1,s.push(d),d=""):d+=g:g==="["?(h=!0,d&&(s.push(d),d="")):g==="."?d&&(s.push(d),d=""):d+=g,u++}return d&&s.push(d),s}e.toPath=n})(rv)),rv}var Lj;function $x(){return Lj||(Lj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WV(),r=nP(),n=Rx(),a=Mx();function s(u,d,f){if(u==null)return f;switch(typeof d){case"string":{if(t.isUnsafeProperty(d))return f;const h=u[d];return h===void 0?r.isDeepKey(d)?s(u,a.toPath(d),f):f:h}case"number":case"symbol":{typeof d=="number"&&(d=n.toKey(d));const h=u[d];return h===void 0?f:h}default:{if(Array.isArray(d))return l(u,d,f);if(Object.is(d?.valueOf(),-0)?d="-0":d=String(d),t.isUnsafeProperty(d))return f;const h=u[d];return h===void 0?f:h}}}function l(u,d,f){if(d.length===0)return f;let h=u;for(let g=0;g<d.length;g++){if(h==null||t.isUnsafeProperty(d[g]))return f;h=h[d[g]]}return h===void 0?f:h}e.get=s})(Jg)),Jg}var av,zj;function JV(){return zj||(zj=1,av=$x().get),av}var QV=JV();const M0=ba(QV);var Rn=e=>e===0?0:e>0?1:-1,bn=e=>typeof e=="number"&&e!=+e,ti=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Ae=e=>(typeof e=="number"||e instanceof Number)&&!bn(e),$n=e=>Ae(e)||typeof e=="string",eK=0,su=e=>{var t=++eK;return"".concat(e||"").concat(t)},Yi=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ae(t)&&typeof t!="string")return n;var s;if(ti(t)){if(r==null)return n;var l=t.indexOf("%");s=r*parseFloat(t.slice(0,l))/100}else s=+t;return bn(s)&&(s=n),a&&r!=null&&s>r&&(s=r),s},aP=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function ua(e,t,r){return Ae(e)&&Ae(t)?e+r*(t-e):t}function iP(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):M0(n,t))===r)}var yr=e=>e===null||typeof e>"u",Ix=e=>yr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function tK(e){return e!=null}function Eu(){}var sP=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,Lx=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(x.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{Px(a)&&(n[a]=(s=>r[a](r,s)))}),n},rK=(e,t,r)=>n=>(e(t,r,n),null),nK=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var s=e[a];Px(a)&&typeof s=="function"&&(n||(n={}),n[a]=rK(s,t,r))}),n};function Uj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uj(Object(r),!0).forEach(function(n){iK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iK(e,t,r){return(t=sK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sK(e){var t=oK(e,"string");return typeof t=="symbol"?t:t+""}function oK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qr(e,t){var r=aK({},e),n=t,a=Object.keys(t),s=a.reduce((l,u)=>(l[u]===void 0&&n[u]!==void 0&&(l[u]=n[u]),l),r);return s}var iv={},sv={},Bj;function lK(){return Bj||(Bj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let s=0;s<r.length;s++){const l=r[s],u=n(l);a.has(u)||a.set(u,l)}return Array.from(a.values())}e.uniqBy=t})(sv)),sv}var ov={},qj;function oP(){return qj||(qj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(ov)),ov}var lv={},cv={},uv={},Hj;function cK(){return Hj||(Hj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(uv)),uv}var Fj;function zx(){return Fj||(Fj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cK();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(cv)),cv}var dv={},Vj;function uK(){return Vj||(Vj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(dv)),dv}var Kj;function dK(){return Kj||(Kj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zx(),r=uK();function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(lv)),lv}var fv={},hv={},Zj;function fK(){return Zj||(Zj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$x();function r(n){return function(a){return t.get(a,n)}}e.property=r})(hv)),hv}var mv={},pv={},gv={},vv={},Gj;function lP(){return Gj||(Gj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(vv)),vv}var yv={},Yj;function cP(){return Yj||(Yj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(yv)),yv}var bv={},Wj;function uP(){return Wj||(Wj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(bv)),bv}var Xj;function hK(){return Xj||(Xj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lP(),r=cP(),n=uP();function a(h,g,v){return typeof v!="function"?a(h,g,()=>{}):s(h,g,function y(S,k,_,j,O,E){const D=v(S,k,_,j,O,E);return D!==void 0?!!D:s(S,k,y,E)},new Map)}function s(h,g,v,y){if(g===h)return!0;switch(typeof g){case"object":return l(h,g,v,y);case"function":return Object.keys(g).length>0?s(h,{...g},v,y):n.eq(h,g);default:return t.isObject(h)?typeof g=="string"?g==="":!0:n.eq(h,g)}}function l(h,g,v,y){if(g==null)return!0;if(Array.isArray(g))return d(h,g,v,y);if(g instanceof Map)return u(h,g,v,y);if(g instanceof Set)return f(h,g,v,y);const S=Object.keys(g);if(h==null)return S.length===0;if(S.length===0)return!0;if(y?.has(g))return y.get(g)===h;y?.set(g,h);try{for(let k=0;k<S.length;k++){const _=S[k];if(!r.isPrimitive(h)&&!(_ in h)||g[_]===void 0&&h[_]!==void 0||g[_]===null&&h[_]!==null||!v(h[_],g[_],_,h,g,y))return!1}return!0}finally{y?.delete(g)}}function u(h,g,v,y){if(g.size===0)return!0;if(!(h instanceof Map))return!1;for(const[S,k]of g.entries()){const _=h.get(S);if(v(_,k,S,h,g,y)===!1)return!1}return!0}function d(h,g,v,y){if(g.length===0)return!0;if(!Array.isArray(h))return!1;const S=new Set;for(let k=0;k<g.length;k++){const _=g[k];let j=!1;for(let O=0;O<h.length;O++){if(S.has(O))continue;const E=h[O];let D=!1;if(v(E,_,k,h,g,y)&&(D=!0),D){S.add(O),j=!0;break}}if(!j)return!1}return!0}function f(h,g,v,y){return g.size===0?!0:h instanceof Set?d([...h],[...g],v,y):!1}e.isMatchWith=a,e.isSetMatch=f})(gv)),gv}var Jj;function dP(){return Jj||(Jj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hK();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(pv)),pv}var xv={},wv={},_v={},Qj;function mK(){return Qj||(Qj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(_v)),_v}var Sv={},eE;function fP(){return eE||(eE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Sv)),Sv}var kv={},tE;function hP(){return tE||(tE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",s="[object Arguments]",l="[object Symbol]",u="[object Date]",d="[object Map]",f="[object Set]",h="[object Array]",g="[object Function]",v="[object ArrayBuffer]",y="[object Object]",S="[object Error]",k="[object DataView]",_="[object Uint8Array]",j="[object Uint8ClampedArray]",O="[object Uint16Array]",E="[object Uint32Array]",D="[object BigUint64Array]",N="[object Int8Array]",C="[object Int16Array]",P="[object Int32Array]",T="[object BigInt64Array]",R="[object Float32Array]",M="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=v,e.arrayTag=h,e.bigInt64ArrayTag=T,e.bigUint64ArrayTag=D,e.booleanTag=a,e.dataViewTag=k,e.dateTag=u,e.errorTag=S,e.float32ArrayTag=R,e.float64ArrayTag=M,e.functionTag=g,e.int16ArrayTag=C,e.int32ArrayTag=P,e.int8ArrayTag=N,e.mapTag=d,e.numberTag=n,e.objectTag=y,e.regexpTag=t,e.setTag=f,e.stringTag=r,e.symbolTag=l,e.uint16ArrayTag=O,e.uint32ArrayTag=E,e.uint8ArrayTag=_,e.uint8ClampedArrayTag=j})(kv)),kv}var jv={},rE;function pK(){return rE||(rE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(jv)),jv}var nE;function mP(){return nE||(nE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mK(),r=fP(),n=hP(),a=cP(),s=pK();function l(h,g){return u(h,void 0,h,new Map,g)}function u(h,g,v,y=new Map,S=void 0){const k=S?.(h,g,v,y);if(k!==void 0)return k;if(a.isPrimitive(h))return h;if(y.has(h))return y.get(h);if(Array.isArray(h)){const _=new Array(h.length);y.set(h,_);for(let j=0;j<h.length;j++)_[j]=u(h[j],j,v,y,S);return Object.hasOwn(h,"index")&&(_.index=h.index),Object.hasOwn(h,"input")&&(_.input=h.input),_}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const _=new RegExp(h.source,h.flags);return _.lastIndex=h.lastIndex,_}if(h instanceof Map){const _=new Map;y.set(h,_);for(const[j,O]of h)_.set(j,u(O,j,v,y,S));return _}if(h instanceof Set){const _=new Set;y.set(h,_);for(const j of h)_.add(u(j,void 0,v,y,S));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(s.isTypedArray(h)){const _=new(Object.getPrototypeOf(h)).constructor(h.length);y.set(h,_);for(let j=0;j<h.length;j++)_[j]=u(h[j],j,v,y,S);return _}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const _=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return y.set(h,_),d(_,h,v,y,S),_}if(typeof File<"u"&&h instanceof File){const _=new File([h],h.name,{type:h.type});return y.set(h,_),d(_,h,v,y,S),_}if(typeof Blob<"u"&&h instanceof Blob){const _=new Blob([h],{type:h.type});return y.set(h,_),d(_,h,v,y,S),_}if(h instanceof Error){const _=new h.constructor;return y.set(h,_),_.message=h.message,_.name=h.name,_.stack=h.stack,_.cause=h.cause,d(_,h,v,y,S),_}if(h instanceof Boolean){const _=new Boolean(h.valueOf());return y.set(h,_),d(_,h,v,y,S),_}if(h instanceof Number){const _=new Number(h.valueOf());return y.set(h,_),d(_,h,v,y,S),_}if(h instanceof String){const _=new String(h.valueOf());return y.set(h,_),d(_,h,v,y,S),_}if(typeof h=="object"&&f(h)){const _=Object.create(Object.getPrototypeOf(h));return y.set(h,_),d(_,h,v,y,S),_}return h}function d(h,g,v=h,y,S){const k=[...Object.keys(g),...t.getSymbols(g)];for(let _=0;_<k.length;_++){const j=k[_],O=Object.getOwnPropertyDescriptor(h,j);(O==null||O.writable)&&(h[j]=u(g[j],j,v,y,S))}}function f(h){switch(r.getTag(h)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=u,e.copyProperties=d})(wv)),wv}var aE;function gK(){return aE||(aE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mP();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(xv)),xv}var iE;function vK(){return iE||(iE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dP(),r=gK();function n(a){return a=r.cloneDeep(a),s=>t.isMatch(s,a)}e.matches=n})(mv)),mv}var Ev={},Ov={},Nv={},sE;function yK(){return sE||(sE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mP(),r=hP();function n(a,s){return t.cloneDeepWith(a,(l,u,d,f)=>{const h=s?.(l,u,d,f);if(h!==void 0)return h;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const g=new a.constructor(a?.valueOf());return t.copyProperties(g,a),g}case r.argumentsTag:{const g={};return t.copyProperties(g,a),g.length=a.length,g[Symbol.iterator]=a[Symbol.iterator],g}default:return}})}e.cloneDeepWith=n})(Nv)),Nv}var oE;function bK(){return oE||(oE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yK();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(Ov)),Ov}var Av={},Tv={},lE;function pP(){return lE||(lE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Tv)),Tv}var Cv={},cE;function xK(){return cE||(cE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fP();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(Cv)),Cv}var uE;function wK(){return uE||(uE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nP(),r=pP(),n=xK(),a=Mx();function s(l,u){let d;if(Array.isArray(u)?d=u:typeof u=="string"&&t.isDeepKey(u)&&l?.[u]==null?d=a.toPath(u):d=[u],d.length===0)return!1;let f=l;for(let h=0;h<d.length;h++){const g=d[h];if((f==null||!Object.hasOwn(f,g))&&!((Array.isArray(f)||n.isArguments(f))&&r.isIndex(g)&&g<f.length))return!1;f=f[g]}return!0}e.has=s})(Av)),Av}var dE;function _K(){return dE||(dE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dP(),r=Rx(),n=bK(),a=$x(),s=wK();function l(u,d){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=r.toKey(u);break}}return d=n.cloneDeep(d),function(f){const h=a.get(f,u);return h===void 0?s.has(f,u):d===void 0?h===void 0:t.isMatch(h,d)}}e.matchesProperty=l})(Ev)),Ev}var fE;function SK(){return fE||(fE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oP(),r=fK(),n=vK(),a=_K();function s(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?a.matchesProperty(l[0],l[1]):n.matches(l);case"string":case"symbol":case"number":return r.property(l)}}e.iteratee=s})(fv)),fv}var hE;function kK(){return hE||(hE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lK(),r=oP(),n=dK(),a=SK();function s(l,u=r.identity){return n.isArrayLikeObject(l)?t.uniqBy(Array.from(l),a.iteratee(u)):[]}e.uniqBy=s})(iv)),iv}var Pv,mE;function jK(){return mE||(mE=1,Pv=kK().uniqBy),Pv}var EK=jK();const pE=ba(EK);function OK(e,t,r){return t===!0?pE(e,r):typeof t=="function"?pE(e,t):e}var Dv={exports:{}},Rv={},Mv={exports:{}},$v={};var gE;function NK(){if(gE)return $v;gE=1;var e=xl();function t(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,s=e.useLayoutEffect,l=e.useDebugValue;function u(g,v){var y=v(),S=n({inst:{value:y,getSnapshot:v}}),k=S[0].inst,_=S[1];return s(function(){k.value=y,k.getSnapshot=v,d(k)&&_({inst:k})},[g,y,v]),a(function(){return d(k)&&_({inst:k}),g(function(){d(k)&&_({inst:k})})},[g]),l(y),y}function d(g){var v=g.getSnapshot;g=g.value;try{var y=v();return!r(g,y)}catch{return!0}}function f(g,v){return v()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return $v.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,$v}var vE;function AK(){return vE||(vE=1,Mv.exports=NK()),Mv.exports}var yE;function TK(){if(yE)return Rv;yE=1;var e=xl(),t=AK();function r(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var n=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,s=e.useRef,l=e.useEffect,u=e.useMemo,d=e.useDebugValue;return Rv.useSyncExternalStoreWithSelector=function(f,h,g,v,y){var S=s(null);if(S.current===null){var k={hasValue:!1,value:null};S.current=k}else k=S.current;S=u(function(){function j(C){if(!O){if(O=!0,E=C,C=v(C),y!==void 0&&k.hasValue){var P=k.value;if(y(P,C))return D=P}return D=C}if(P=D,n(E,C))return P;var T=v(C);return y!==void 0&&y(P,T)?(E=C,P):(E=C,D=T)}var O=!1,E,D,N=g===void 0?null:g;return[function(){return j(h())},N===null?void 0:function(){return j(N())}]},[h,g,v,y]);var _=a(f,S[0],S[1]);return l(function(){k.hasValue=!0,k.value=_},[_]),d(_),_},Rv}var bE;function CK(){return bE||(bE=1,Dv.exports=TK()),Dv.exports}var PK=CK(),Ux=x.createContext(null),DK=e=>e,Wt=()=>{var e=x.useContext(Ux);return e?e.store.dispatch:DK},Xf=()=>{},RK=()=>Xf,MK=(e,t)=>e===t;function Ne(e){var t=x.useContext(Ux);return PK.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:RK,t?t.store.getState:Xf,t?t.store.getState:Xf,t?e:Xf,MK)}function $K(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function IK(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function LK(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var xE=e=>Array.isArray(e)?e:[e];function zK(e){const t=Array.isArray(e[0])?e[0]:e;return LK(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function UK(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var BK=class{constructor(e){this.value=e}deref(){return this.value}},qK=typeof WeakRef<"u"?WeakRef:BK,HK=0,wE=1;function Tf(){return{s:HK,v:void 0,o:null,p:null}}function gP(e,t={}){let r=Tf();const{resultEqualityCheck:n}=t;let a,s=0;function l(){let u=r;const{length:d}=arguments;for(let g=0,v=d;g<v;g++){const y=arguments[g];if(typeof y=="function"||typeof y=="object"&&y!==null){let S=u.o;S===null&&(u.o=S=new WeakMap);const k=S.get(y);k===void 0?(u=Tf(),S.set(y,u)):u=k}else{let S=u.p;S===null&&(u.p=S=new Map);const k=S.get(y);k===void 0?(u=Tf(),S.set(y,u)):u=k}}const f=u;let h;if(u.s===wE)h=u.v;else if(h=e.apply(null,arguments),s++,n){const g=a?.deref?.()??a;g!=null&&n(g,h)&&(h=g,s!==0&&s--),a=typeof h=="object"&&h!==null||typeof h=="function"?new qK(h):h}return f.s=wE,f.v=h,h}return l.clearCache=()=>{r=Tf(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function FK(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let s=0,l=0,u,d={},f=a.pop();typeof f=="object"&&(d=f,f=a.pop()),$K(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const h={...r,...d},{memoize:g,memoizeOptions:v=[],argsMemoize:y=gP,argsMemoizeOptions:S=[]}=h,k=xE(v),_=xE(S),j=zK(a),O=g(function(){return s++,f.apply(null,arguments)},...k),E=y(function(){l++;const N=UK(j,arguments);return u=O.apply(null,N),u},..._);return Object.assign(E,{resultFunc:f,memoizedResultFunc:O,dependencies:j,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:g,argsMemoize:y})};return Object.assign(n,{withTypes:()=>n}),n}var se=FK(gP),VK=Object.assign((e,t=se)=>{IK(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((l,u,d)=>(l[r[d]]=u,l),{}))},{withTypes:()=>VK}),Iv={},Lv={},zv={},_E;function KK(){return _E||(_E=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,s)=>{if(n!==a){const l=t(n),u=t(a);if(l===u&&l===0){if(n<a)return s==="desc"?1:-1;if(n>a)return s==="desc"?-1:1}return s==="desc"?u-l:l-u}return 0};e.compareValues=r})(zv)),zv}var Uv={},Bv={},SE;function vP(){return SE||(SE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Bv)),Bv}var kE;function ZK(){return kE||(kE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vP(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||l!=null&&Object.hasOwn(l,s)}e.isKey=a})(Uv)),Uv}var jE;function GK(){return jE||(jE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KK(),r=ZK(),n=Mx();function a(s,l,u,d){if(s==null)return[];u=d?void 0:u,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(y=>String(y));const f=(y,S)=>{let k=y;for(let _=0;_<S.length&&k!=null;++_)k=k[S[_]];return k},h=(y,S)=>S==null||y==null?S:typeof y=="object"&&"key"in y?Object.hasOwn(S,y.key)?S[y.key]:f(S,y.path):typeof y=="function"?y(S):Array.isArray(y)?f(S,y):typeof S=="object"?S[y]:S,g=l.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||r.isKey(y)?y:{key:y,path:n.toPath(y)}));return s.map(y=>({original:y,criteria:g.map(S=>h(S,y))})).slice().sort((y,S)=>{for(let k=0;k<g.length;k++){const _=t.compareValues(y.criteria[k],S.criteria[k],u[k]);if(_!==0)return _}return 0}).map(y=>y.original)}e.orderBy=a})(Lv)),Lv}var qv={},EE;function YK(){return EE||(EE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],s=Math.floor(n),l=(u,d)=>{for(let f=0;f<u.length;f++){const h=u[f];Array.isArray(h)&&d<s?l(h,d+1):a.push(h)}};return l(r,0),a}e.flatten=t})(qv)),qv}var Hv={},OE;function yP(){return OE||(OE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pP(),r=zx(),n=lP(),a=uP();function s(l,u,d){return n.isObject(d)&&(typeof u=="number"&&r.isArrayLike(d)&&t.isIndex(u)&&u<d.length||typeof u=="string"&&u in d)?a.eq(d[u],l):!1}e.isIterateeCall=s})(Hv)),Hv}var NE;function WK(){return NE||(NE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GK(),r=YK(),n=yP();function a(s,...l){const u=l.length;return u>1&&n.isIterateeCall(s,l[0],l[1])?l=[]:u>2&&n.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(s,r.flatten(l),["asc"])}e.sortBy=a})(Iv)),Iv}var Fv,AE;function XK(){return AE||(AE=1,Fv=WK().sortBy),Fv}var JK=XK();const $0=ba(JK);var bP=e=>e.legend.settings,QK=e=>e.legend.size,eZ=e=>e.legend.payload;se([eZ,bP],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?$0(n,r):n});var Cf=1;function tZ(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=x.useState({height:0,left:0,top:0,width:0}),n=x.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-t.height)>Cf||Math.abs(l.left-t.left)>Cf||Math.abs(l.top-t.top)>Cf||Math.abs(l.width-t.width)>Cf)&&r({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function gr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var rZ=typeof Symbol=="function"&&Symbol.observable||"@@observable",TE=rZ,Vv=()=>Math.random().toString(36).substring(7).split("").join("."),nZ={INIT:`@@redux/INIT${Vv()}`,REPLACE:`@@redux/REPLACE${Vv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Vv()}`},jh=nZ;function Bx(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function xP(e,t,r){if(typeof e!="function")throw new Error(gr(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(gr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(gr(1));return r(xP)(e,t)}let n=e,a=t,s=new Map,l=s,u=0,d=!1;function f(){l===s&&(l=new Map,s.forEach((_,j)=>{l.set(j,_)}))}function h(){if(d)throw new Error(gr(3));return a}function g(_){if(typeof _!="function")throw new Error(gr(4));if(d)throw new Error(gr(5));let j=!0;f();const O=u++;return l.set(O,_),function(){if(j){if(d)throw new Error(gr(6));j=!1,f(),l.delete(O),s=null}}}function v(_){if(!Bx(_))throw new Error(gr(7));if(typeof _.type>"u")throw new Error(gr(8));if(typeof _.type!="string")throw new Error(gr(17));if(d)throw new Error(gr(9));try{d=!0,a=n(a,_)}finally{d=!1}return(s=l).forEach(O=>{O()}),_}function y(_){if(typeof _!="function")throw new Error(gr(10));n=_,v({type:jh.REPLACE})}function S(){const _=g;return{subscribe(j){if(typeof j!="object"||j===null)throw new Error(gr(11));function O(){const D=j;D.next&&D.next(h())}return O(),{unsubscribe:_(O)}},[TE](){return this}}}return v({type:jh.INIT}),{dispatch:v,subscribe:g,getState:h,replaceReducer:y,[TE]:S}}function aZ(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:jh.INIT})>"u")throw new Error(gr(12));if(typeof r(void 0,{type:jh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(gr(13))})}function wP(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const l=t[s];typeof e[l]=="function"&&(r[l]=e[l])}const n=Object.keys(r);let a;try{aZ(r)}catch(s){a=s}return function(l={},u){if(a)throw a;let d=!1;const f={};for(let h=0;h<n.length;h++){const g=n[h],v=r[g],y=l[g],S=v(y,u);if(typeof S>"u")throw u&&u.type,new Error(gr(14));f[g]=S,d=d||S!==y}return d=d||n.length!==Object.keys(l).length,d?f:l}}function Eh(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function iZ(...e){return t=>(r,n)=>{const a=t(r,n);let s=()=>{throw new Error(gr(15))};const l={getState:a.getState,dispatch:(d,...f)=>s(d,...f)},u=e.map(d=>d(l));return s=Eh(...u)(a.dispatch),{...a,dispatch:s}}}function _P(e){return Bx(e)&&"type"in e&&typeof e.type=="string"}var SP=Symbol.for("immer-nothing"),CE=Symbol.for("immer-draftable"),Mr=Symbol.for("immer-state");function Gn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var pn=Object,ml=pn.getPrototypeOf,Oh="constructor",I0="prototype",cb="configurable",Nh="enumerable",Jf="writable",ou="value",ri=e=>!!e&&!!e[Mr];function ta(e){return e?kP(e)||L0(e)||!!e[CE]||!!e[Oh]?.[CE]||z0(e)||U0(e):!1}var sZ=pn[I0][Oh].toString(),PE=new WeakMap;function kP(e){if(!e||!qx(e))return!1;const t=ml(e);if(t===null||t===pn[I0])return!0;const r=pn.hasOwnProperty.call(t,Oh)&&t[Oh];if(r===Object)return!0;if(!Qo(r))return!1;let n=PE.get(r);return n===void 0&&(n=Function.toString.call(r),PE.set(r,n)),n===sZ}function Ou(e,t,r=!0){Nu(e)===0?(r?Reflect.ownKeys(e):pn.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Nu(e){const t=e[Mr];return t?t.type_:L0(e)?1:z0(e)?2:U0(e)?3:0}var DE=(e,t,r=Nu(e))=>r===2?e.has(t):pn[I0].hasOwnProperty.call(e,t),ub=(e,t,r=Nu(e))=>r===2?e.get(t):e[t],Ah=(e,t,r,n=Nu(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function oZ(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var L0=Array.isArray,z0=e=>e instanceof Map,U0=e=>e instanceof Set,qx=e=>typeof e=="object",Qo=e=>typeof e=="function",Kv=e=>typeof e=="boolean",Fa=e=>e.copy_||e.base_,Hx=e=>e.modified_?e.copy_:e.base_;function db(e,t){if(z0(e))return new Map(e);if(U0(e))return new Set(e);if(L0(e))return Array[I0].slice.call(e);const r=kP(e);if(t===!0||t==="class_only"&&!r){const n=pn.getOwnPropertyDescriptors(e);delete n[Mr];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const l=a[s],u=n[l];u[Jf]===!1&&(u[Jf]=!0,u[cb]=!0),(u.get||u.set)&&(n[l]={[cb]:!0,[Jf]:!0,[Nh]:u[Nh],[ou]:e[l]})}return pn.create(ml(e),n)}else{const n=ml(e);if(n!==null&&r)return{...e};const a=pn.create(n);return pn.assign(a,e)}}function Fx(e,t=!1){return B0(e)||ri(e)||!ta(e)||(Nu(e)>1&&pn.defineProperties(e,{set:Pf,add:Pf,clear:Pf,delete:Pf}),pn.freeze(e),t&&Ou(e,(r,n)=>{Fx(n,!0)},!1)),e}function lZ(){Gn(2)}var Pf={[ou]:lZ};function B0(e){return e===null||!qx(e)?!0:pn.isFrozen(e)}var Th="MapSet",fb="Patches",jP={};function pl(e){const t=jP[e];return t||Gn(0,e),t}var cZ=e=>!!jP[e],lu,EP=()=>lu,uZ=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:cZ(Th)?pl(Th):void 0});function RE(e,t){t&&(e.patchPlugin_=pl(fb),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function hb(e){mb(e),e.drafts_.forEach(dZ),e.drafts_=null}function mb(e){e===lu&&(lu=e.parent_)}var ME=e=>lu=uZ(lu,e);function dZ(e){const t=e[Mr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function $E(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[Mr].modified_&&(hb(t),Gn(4)),ta(e)&&(e=IE(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[Mr].base_,e,t)}else e=IE(t,r);return fZ(t,e,!0),hb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==SP?e:void 0}function IE(e,t){if(B0(t))return t;const r=t[Mr];if(!r)return Vx(t,e.handledSet_,e);if(!q0(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);AP(r,e)}return r.copy_}function fZ(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Fx(t,r)}function OP(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var q0=(e,t)=>e.scope_===t,hZ=[];function NP(e,t,r,n){const a=Fa(e),s=e.type_;if(n!==void 0&&ub(a,n,s)===t){Ah(a,n,r,s);return}if(!e.draftLocations_){const u=e.draftLocations_=new Map;Ou(a,(d,f)=>{if(ri(f)){const h=u.get(f)||[];h.push(d),u.set(f,h)}})}const l=e.draftLocations_.get(t)??hZ;for(const u of l)Ah(a,u,r,s)}function mZ(e,t,r){e.callbacks_.push(function(a){const s=t;if(!s||!q0(s,a))return;a.mapSetPlugin_?.fixSetContents(s);const l=Hx(s);NP(e,s.draft_??s,l,r),AP(s,a)})}function AP(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||(e.assigned_?.size??0)>0)){const{patchPlugin_:n}=t;if(n){const a=n.getPath(e);a&&n.generatePatches_(e,a,t)}OP(e)}}function pZ(e,t,r){const{scope_:n}=e;if(ri(r)){const a=r[Mr];q0(a,n)&&a.callbacks_.push(function(){Qf(e);const l=Hx(a);NP(e,r,l,t)})}else ta(r)&&e.callbacks_.push(function(){const s=Fa(e);ub(s,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Vx(ub(e.copy_,t,e.type_),n.handledSet_,n)})}function Vx(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||ri(e)||t.has(e)||!ta(e)||B0(e)||(t.add(e),Ou(e,(n,a)=>{if(ri(a)){const s=a[Mr];if(q0(s,r)){const l=Hx(s);Ah(e,n,l,e.type_),OP(s)}}else ta(a)&&Vx(a,t,r)})),e}function gZ(e,t){const r=L0(e),n={type_:r?1:0,scope_:t?t.scope_:EP(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,s=Kx;r&&(a=[n],s=cu);const{revoke:l,proxy:u}=Proxy.revocable(a,s);return n.draft_=u,n.revoke_=l,[u,n]}var Kx={get(e,t){if(t===Mr)return e;const r=Fa(e);if(!DE(r,t,e.type_))return vZ(e,r,t);const n=r[t];if(e.finalized_||!ta(n))return n;if(n===Zv(e.base_,t)){Qf(e);const a=e.type_===1?+t:t,s=gb(e.scope_,n,e,a);return e.copy_[a]=s}return n},has(e,t){return t in Fa(e)},ownKeys(e){return Reflect.ownKeys(Fa(e))},set(e,t,r){const n=TP(Fa(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Zv(Fa(e),t),s=a?.[Mr];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(oZ(r,a)&&(r!==void 0||DE(e.base_,t,e.type_)))return!0;Qf(e),pb(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),pZ(e,t,r)),!0},deleteProperty(e,t){return Qf(e),Zv(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),pb(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Fa(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[Jf]:!0,[cb]:e.type_!==1||t!=="length",[Nh]:n[Nh],[ou]:r[t]}},defineProperty(){Gn(11)},getPrototypeOf(e){return ml(e.base_)},setPrototypeOf(){Gn(12)}},cu={};Ou(Kx,(e,t)=>{cu[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});cu.deleteProperty=function(e,t){return cu.set.call(this,e,t,void 0)};cu.set=function(e,t,r){return Kx.set.call(this,e[0],t,r,e[0])};function Zv(e,t){const r=e[Mr];return(r?Fa(r):e)[t]}function vZ(e,t,r){const n=TP(t,r);return n?ou in n?n[ou]:n.get?.call(e.draft_):void 0}function TP(e,t){if(!(t in e))return;let r=ml(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=ml(r)}}function pb(e){e.modified_||(e.modified_=!0,e.parent_&&pb(e.parent_))}function Qf(e){e.copy_||(e.assigned_=new Map,e.copy_=db(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var yZ=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(Qo(r)&&!Qo(n)){const l=n;n=r;const u=this;return function(f=l,...h){return u.produce(f,g=>n.call(this,g,...h))}}Qo(n)||Gn(6),a!==void 0&&!Qo(a)&&Gn(7);let s;if(ta(r)){const l=ME(this),u=gb(l,r,void 0);let d=!0;try{s=n(u),d=!1}finally{d?hb(l):mb(l)}return RE(l,a),$E(s,l)}else if(!r||!qx(r)){if(s=n(r),s===void 0&&(s=r),s===SP&&(s=void 0),this.autoFreeze_&&Fx(s,!0),a){const l=[],u=[];pl(fb).generateReplacementPatches_(r,s,{patches_:l,inversePatches_:u}),a(l,u)}return s}else Gn(1,r)},this.produceWithPatches=(r,n)=>{if(Qo(r))return(u,...d)=>this.produceWithPatches(u,f=>r(f,...d));let a,s;return[this.produce(r,n,(u,d)=>{a=u,s=d}),a,s]},Kv(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Kv(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Kv(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){ta(t)||Gn(8),ri(t)&&(t=Jn(t));const r=ME(this),n=gb(r,t,void 0);return n[Mr].isManual_=!0,mb(r),n}finishDraft(t,r){const n=t&&t[Mr];(!n||!n.isManual_)&&Gn(9);const{scope_:a}=n;return RE(a,r),$E(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const s=r[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(r=r.slice(n+1));const a=pl(fb).applyPatches_;return ri(t)?a(t,r):this.produce(t,s=>a(s,r))}};function gb(e,t,r,n){const[a,s]=z0(t)?pl(Th).proxyMap_(t,r):U0(t)?pl(Th).proxySet_(t,r):gZ(t,r);return(r?.scope_??EP()).drafts_.push(a),s.callbacks_=r?.callbacks_??[],s.key_=n,r&&n!==void 0?mZ(r,s,n):s.callbacks_.push(function(d){d.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:f}=d;s.modified_&&f&&f.generatePatches_(s,[],d)}),a}function Jn(e){return ri(e)||Gn(10,e),CP(e)}function CP(e){if(!ta(e)||B0(e))return e;const t=e[Mr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=db(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=db(e,!0);return Ou(r,(a,s)=>{Ah(r,a,CP(s))},n),t&&(t.finalized_=!1),r}var bZ=new yZ,PP=bZ.produce;function DP(e){return({dispatch:r,getState:n})=>a=>s=>typeof s=="function"?s(r,n,e):a(s)}var xZ=DP(),wZ=DP,_Z=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Eh:Eh.apply(null,arguments)};function In(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(gn(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>_P(n)&&n.type===e,r}var RP=class Vc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Vc.prototype)}static get[Symbol.species](){return Vc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Vc(...t[0].concat(this)):new Vc(...t.concat(this))}};function LE(e){return ta(e)?PP(e,()=>{}):e}function Df(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function SZ(e){return typeof e=="boolean"}var kZ=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=t??{};let l=new RP;return r&&(SZ(r)?l.push(xZ):l.push(wZ(r.extraArgument))),l},MP="RTK_autoBatch",St=()=>e=>({payload:e,meta:{[MP]:!0}}),zE=e=>t=>{setTimeout(t,e)},$P=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,s=!1,l=!1;const u=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:zE(10):e.type==="callback"?e.queueNotification:zE(e.timeout),f=()=>{l=!1,s&&(s=!1,u.forEach(h=>h()))};return Object.assign({},n,{subscribe(h){const g=()=>a&&h(),v=n.subscribe(g);return u.add(h),()=>{v(),u.delete(h)}},dispatch(h){try{return a=!h?.meta?.[MP],s=!a,s&&(l||(l=!0,d(f))),n.dispatch(h)}finally{a=!0}}})},jZ=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new RP(e);return n&&a.push($P(typeof n=="object"?n:void 0)),a};function EZ(e){const t=kZ(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:s=void 0,enhancers:l=void 0}=e||{};let u;if(typeof r=="function")u=r;else if(Bx(r))u=wP(r);else throw new Error(gn(1));let d;typeof n=="function"?d=n(t):d=t();let f=Eh;a&&(f=_Z({trace:!1,...typeof a=="object"&&a}));const h=iZ(...d),g=jZ(h);let v=typeof l=="function"?l(g):g();const y=f(...v);return xP(u,s,y)}function IP(e){const t={},r=[];let n;const a={addCase(s,l){const u=typeof s=="string"?s:s.type;if(!u)throw new Error(gn(28));if(u in t)throw new Error(gn(29));return t[u]=l,a},addAsyncThunk(s,l){return l.pending&&(t[s.pending.type]=l.pending),l.rejected&&(t[s.rejected.type]=l.rejected),l.fulfilled&&(t[s.fulfilled.type]=l.fulfilled),l.settled&&r.push({matcher:s.settled,reducer:l.settled}),a},addMatcher(s,l){return r.push({matcher:s,reducer:l}),a},addDefaultCase(s){return n=s,a}};return e(a),[t,r,n]}function OZ(e){return typeof e=="function"}function NZ(e,t){let[r,n,a]=IP(t),s;if(OZ(e))s=()=>LE(e());else{const u=LE(e);s=()=>u}function l(u=s(),d){let f=[r[d.type],...n.filter(({matcher:h})=>h(d)).map(({reducer:h})=>h)];return f.filter(h=>!!h).length===0&&(f=[a]),f.reduce((h,g)=>{if(g)if(ri(h)){const y=g(h,d);return y===void 0?h:y}else{if(ta(h))return PP(h,v=>g(v,d));{const v=g(h,d);if(v===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return h},u)}return l.getInitialState=s,l}var AZ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",TZ=(e=21)=>{let t="",r=e;for(;r--;)t+=AZ[Math.random()*64|0];return t},CZ=Symbol.for("rtk-slice-createasyncthunk");function PZ(e,t){return`${e}/${t}`}function DZ({creators:e}={}){const t=e?.asyncThunk?.[CZ];return function(n){const{name:a,reducerPath:s=a}=n;if(!a)throw new Error(gn(11));const l=(typeof n.reducers=="function"?n.reducers(MZ()):n.reducers)||{},u=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(E,D){const N=typeof E=="string"?E:E.type;if(!N)throw new Error(gn(12));if(N in d.sliceCaseReducersByType)throw new Error(gn(13));return d.sliceCaseReducersByType[N]=D,f},addMatcher(E,D){return d.sliceMatchers.push({matcher:E,reducer:D}),f},exposeAction(E,D){return d.actionCreators[E]=D,f},exposeCaseReducer(E,D){return d.sliceCaseReducersByName[E]=D,f}};u.forEach(E=>{const D=l[E],N={reducerName:E,type:PZ(a,E),createNotation:typeof n.reducers=="function"};IZ(D)?zZ(N,D,f,t):$Z(N,D,f)});function h(){const[E={},D=[],N=void 0]=typeof n.extraReducers=="function"?IP(n.extraReducers):[n.extraReducers],C={...E,...d.sliceCaseReducersByType};return NZ(n.initialState,P=>{for(let T in C)P.addCase(T,C[T]);for(let T of d.sliceMatchers)P.addMatcher(T.matcher,T.reducer);for(let T of D)P.addMatcher(T.matcher,T.reducer);N&&P.addDefaultCase(N)})}const g=E=>E,v=new Map,y=new WeakMap;let S;function k(E,D){return S||(S=h()),S(E,D)}function _(){return S||(S=h()),S.getInitialState()}function j(E,D=!1){function N(P){let T=P[E];return typeof T>"u"&&D&&(T=Df(y,N,_)),T}function C(P=g){const T=Df(v,D,()=>new WeakMap);return Df(T,P,()=>{const R={};for(const[M,I]of Object.entries(n.selectors??{}))R[M]=RZ(I,P,()=>Df(y,P,_),D);return R})}return{reducerPath:E,getSelectors:C,get selectors(){return C(N)},selectSlice:N}}const O={name:a,reducer:k,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:_,...j(s),injectInto(E,{reducerPath:D,...N}={}){const C=D??s;return E.inject({reducerPath:C,reducer:k},N),{...O,...j(C,!0)}}};return O}}function RZ(e,t,r,n){function a(s,...l){let u=t(s);return typeof u>"u"&&n&&(u=r()),e(u,...l)}return a.unwrapped=e,a}var en=DZ();function MZ(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function $Z({type:e,reducerName:t,createNotation:r},n,a){let s,l;if("reducer"in n){if(r&&!LZ(n))throw new Error(gn(17));s=n.reducer,l=n.prepare}else s=n;a.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,l?In(e,l):In(e))}function IZ(e){return e._reducerDefinitionType==="asyncThunk"}function LZ(e){return e._reducerDefinitionType==="reducerWithPrepare"}function zZ({type:e,reducerName:t},r,n,a){if(!a)throw new Error(gn(18));const{payloadCreator:s,fulfilled:l,pending:u,rejected:d,settled:f,options:h}=r,g=a(e,s,h);n.exposeAction(t,g),l&&n.addCase(g.fulfilled,l),u&&n.addCase(g.pending,u),d&&n.addCase(g.rejected,d),f&&n.addMatcher(g.settled,f),n.exposeCaseReducer(t,{fulfilled:l||Rf,pending:u||Rf,rejected:d||Rf,settled:f||Rf})}function Rf(){}var UZ="task",LP="listener",zP="completed",Zx="cancelled",BZ=`task-${Zx}`,qZ=`task-${zP}`,vb=`${LP}-${Zx}`,HZ=`${LP}-${zP}`,H0=class{constructor(e){this.code=e,this.message=`${UZ} ${Zx} (reason: ${e})`}name="TaskAbortError";message},Gx=(e,t)=>{if(typeof e!="function")throw new TypeError(gn(32))},Ch=()=>{},UP=(e,t=Ch)=>(e.catch(t),e),BP=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Ls=e=>{if(e.aborted)throw new H0(e.reason)};function qP(e,t){let r=Ch;return new Promise((n,a)=>{const s=()=>a(new H0(e.reason));if(e.aborted){s();return}r=BP(e,s),t.finally(()=>r()).then(n,a)}).finally(()=>{r=Ch})}var FZ=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof H0?"cancelled":"rejected",error:r}}finally{t?.()}},Ph=e=>t=>UP(qP(e,t).then(r=>(Ls(e),r))),HP=e=>{const t=Ph(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:ll}=Object,UE={},F0="listenerMiddleware",VZ=(e,t)=>{const r=n=>BP(e,()=>n.abort(e.reason));return(n,a)=>{Gx(n);const s=new AbortController;r(s);const l=FZ(async()=>{Ls(e),Ls(s.signal);const u=await n({pause:Ph(s.signal),delay:HP(s.signal),signal:s.signal});return Ls(s.signal),u},()=>s.abort(qZ));return a?.autoJoin&&t.push(l.catch(Ch)),{result:Ph(e)(l),cancel(){s.abort(BZ)}}}},KZ=(e,t)=>{const r=async(n,a)=>{Ls(t);let s=()=>{};const u=[new Promise((d,f)=>{let h=e({predicate:n,effect:(g,v)=>{v.unsubscribe(),d([g,v.getState(),v.getOriginalState()])}});s=()=>{h(),f()}})];a!=null&&u.push(new Promise(d=>setTimeout(d,a,null)));try{const d=await qP(t,Promise.race(u));return Ls(t),d}finally{s()}};return(n,a)=>UP(r(n,a))},FP=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:s}=e;if(t)a=In(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(gn(21));return Gx(s),{predicate:a,type:t,effect:s}},VP=ll(e=>{const{type:t,predicate:r,effect:n}=FP(e);return{id:TZ(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(gn(22))}}},{withTypes:()=>VP}),BE=(e,t)=>{const{type:r,effect:n,predicate:a}=FP(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===a)&&s.effect===n)},yb=e=>{e.pending.forEach(t=>{t.abort(vb)})},ZZ=(e,t)=>()=>{for(const r of t.keys())yb(r);e.clear()},qE=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},KP=ll(In(`${F0}/add`),{withTypes:()=>KP}),GZ=In(`${F0}/removeAll`),ZP=ll(In(`${F0}/remove`),{withTypes:()=>ZP}),YZ=(...e)=>{console.error(`${F0}/error`,...e)},Au=(e={})=>{const t=new Map,r=new Map,n=y=>{const S=r.get(y)??0;r.set(y,S+1)},a=y=>{const S=r.get(y)??1;S===1?r.delete(y):r.set(y,S-1)},{extra:s,onError:l=YZ}=e;Gx(l);const u=y=>(y.unsubscribe=()=>t.delete(y.id),t.set(y.id,y),S=>{y.unsubscribe(),S?.cancelActive&&yb(y)}),d=y=>{const S=BE(t,y)??VP(y);return u(S)};ll(d,{withTypes:()=>d});const f=y=>{const S=BE(t,y);return S&&(S.unsubscribe(),y.cancelActive&&yb(S)),!!S};ll(f,{withTypes:()=>f});const h=async(y,S,k,_)=>{const j=new AbortController,O=KZ(d,j.signal),E=[];try{y.pending.add(j),n(y),await Promise.resolve(y.effect(S,ll({},k,{getOriginalState:_,condition:(D,N)=>O(D,N).then(Boolean),take:O,delay:HP(j.signal),pause:Ph(j.signal),extra:s,signal:j.signal,fork:VZ(j.signal,E),unsubscribe:y.unsubscribe,subscribe:()=>{t.set(y.id,y)},cancelActiveListeners:()=>{y.pending.forEach((D,N,C)=>{D!==j&&(D.abort(vb),C.delete(D))})},cancel:()=>{j.abort(vb),y.pending.delete(j)},throwIfCancelled:()=>{Ls(j.signal)}})))}catch(D){D instanceof H0||qE(l,D,{raisedBy:"effect"})}finally{await Promise.all(E),j.abort(HZ),a(y),y.pending.delete(j)}},g=ZZ(t,r);return{middleware:y=>S=>k=>{if(!_P(k))return S(k);if(KP.match(k))return d(k.payload);if(GZ.match(k)){g();return}if(ZP.match(k))return f(k.payload);let _=y.getState();const j=()=>{if(_===UE)throw new Error(gn(23));return _};let O;try{if(O=S(k),t.size>0){const E=y.getState(),D=Array.from(t.values());for(const N of D){let C=!1;try{C=N.predicate(k,E,_)}catch(P){C=!1,qE(l,P,{raisedBy:"predicate"})}C&&h(N,k,y,j)}}}finally{_=UE}return O},startListening:d,stopListening:f,clearListeners:g}};function gn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var WZ={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},GP=en({name:"chartLayout",initialState:WZ,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,s;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:XZ,setLayout:JZ,setChartSize:QZ,setScale:eG}=GP.actions,tG=GP.reducer;function YP(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function HE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HE(Object(r),!0).forEach(function(n){rG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rG(e,t,r){return(t=nG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nG(e){var t=aG(e,"string");return typeof t=="symbol"?t:t+""}function aG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nr(e,t,r){return yr(e)||yr(t)?r:$n(t)?M0(e,t,r):typeof t=="function"?t(e):r}var iG=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:s,verticalAlign:l,layout:u}=t;if((u==="vertical"||u==="horizontal"&&l==="middle")&&s!=="center"&&Ae(e[s]))return tl(tl({},e),{},{[s]:e[s]+(n||0)});if((u==="horizontal"||u==="vertical"&&s==="center")&&l!=="middle"&&Ae(e[l]))return tl(tl({},e),{},{[l]:e[l]+(a||0)})}return e},ci=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",WP=(e,t,r,n)=>{if(n)return e.map(u=>u.coordinate);var a,s,l=e.map(u=>(u.coordinate===t&&(a=!0),u.coordinate===r&&(s=!0),u.coordinate));return a||l.push(t),s||l.push(r),l},XP=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:s,scale:l,realScaleType:u,isCategorical:d,categoricalDomain:f,tickCount:h,ticks:g,niceTicks:v,axisType:y}=e;if(!l)return null;var S=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,k=a==="category"&&l.bandwidth?l.bandwidth()/S:0;if(k=y==="angleAxis"&&s&&s.length>=2?Rn(s[0]-s[1])*2*k:k,g||v){var _=(g||v||[]).map((j,O)=>{var E=n?n.indexOf(j):j;return{coordinate:l(E)+k,value:j,offset:k,index:O}});return _.filter(j=>!bn(j.coordinate))}return d&&f?f.map((j,O)=>({coordinate:l(j)+k,value:j,index:O,offset:k})):l.ticks&&h!=null?l.ticks(h).map((j,O)=>({coordinate:l(j)+k,value:j,offset:k,index:O})):l.domain().map((j,O)=>({coordinate:l(j)+k,value:n?n[j]:j,index:O,offset:k}))},FE=1e-4,sG=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-FE,s=Math.max(n[0],n[1])+FE,l=e(t[0]),u=e(t[r-1]);(l<a||l>s||u<a||u>s)&&e.domain([t[0],t[r-1]])}},oG=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,s=0,l=0;l<t;++l){var u=bn(e[l][r][1])?e[l][r][0]:e[l][r][1];u>=0?(e[l][r][0]=a,e[l][r][1]=a+u,a=e[l][r][1]):(e[l][r][0]=s,e[l][r][1]=s+u,s=e[l][r][1])}},lG=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,s=0;s<t;++s){var l=bn(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},cG={sign:oG,expand:ZV,none:hl,silhouette:GV,wiggle:YV,positive:lG},uG=(e,t,r)=>{var n=cG[r],a=KV().keys(t).value((s,l)=>Number(Nr(s,l,0))).order(lb).offset(n);return a(e)};function dG(e){return e==null?void 0:String(e)}function VE(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:s,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!yr(a[t.dataKey])){var u=iP(r,"value",a[t.dataKey]);if(u)return u.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var d=Nr(a,yr(l)?t.dataKey:l);return yr(d)?null:t.scale(d)}var fG=e=>{var t=e.flat(2).filter(Ae);return[Math.min(...t),Math.max(...t)]},hG=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],mG=(e,t,r)=>{if(e!=null)return hG(Object.keys(e).reduce((n,a)=>{var s=e[a],{stackedData:l}=s,u=l.reduce((d,f)=>{var h=YP(f,t,r),g=fG(h);return[Math.min(d[0],g[0]),Math.max(d[1],g[1])]},[1/0,-1/0]);return[Math.min(u[0],n[0]),Math.max(u[1],n[1])]},[1/0,-1/0]))},KE=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ZE=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Dh=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=$0(t,h=>h.coordinate),s=1/0,l=1,u=a.length;l<u;l++){var d=a[l],f=a[l-1];s=Math.min((d.coordinate||0)-(f.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function GE(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:s}=e;return tl(tl({},t),{},{dataKey:r,payload:n,value:a,name:s})}function JP(e,t){if(e)return String(e);if(typeof t=="string")return t}var pG=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},gG=(e,t)=>t==="centric"?e.angle:e.radius,ui=e=>e.layout.width,di=e=>e.layout.height,vG=e=>e.layout.scale,QP=e=>e.layout.margin,V0=se(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),K0=se(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),yG="data-recharts-item-index",bG="data-recharts-item-data-key",Tu=60;function YE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YE(Object(r),!0).forEach(function(n){xG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xG(e,t,r){return(t=wG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wG(e){var t=_G(e,"string");return typeof t=="symbol"?t:t+""}function _G(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SG=e=>e.brush.height;function kG(e){var t=K0(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Tu;return r+a}return r},0)}function jG(e){var t=K0(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Tu;return r+a}return r},0)}function EG(e){var t=V0(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function OG(e){var t=V0(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var wr=se([ui,di,QP,SG,kG,jG,EG,OG,bP,QK],(e,t,r,n,a,s,l,u,d,f)=>{var h={left:(r.left||0)+a,right:(r.right||0)+s},g={top:(r.top||0)+l,bottom:(r.bottom||0)+u},v=Mf(Mf({},g),h),y=v.bottom;v.bottom+=n,v=iG(v,d,f);var S=e-v.left-v.right,k=t-v.top-v.bottom;return Mf(Mf({brushBottom:y},v),{},{width:Math.max(S,0),height:Math.max(k,0)})}),NG=se(wr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),eD=se(ui,di,(e,t)=>({x:0,y:0,width:e,height:t})),AG=x.createContext(null),Ir=()=>x.useContext(AG)!=null,Z0=e=>e.brush,G0=se([Z0,wr,QP],(e,t,r)=>({height:e.height,x:Ae(e.x)?e.x:t.left,y:Ae(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:Ae(e.width)?e.width:t.width})),Gv={},Yv={},Wv={},WE;function TG(){return WE||(WE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:s}={}){let l,u=null;const d=s!=null&&s.includes("leading"),f=s==null||s.includes("trailing"),h=()=>{u!==null&&(r.apply(l,u),l=void 0,u=null)},g=()=>{f&&h(),k()};let v=null;const y=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,g()},n)},S=()=>{v!==null&&(clearTimeout(v),v=null)},k=()=>{S(),l=void 0,u=null},_=()=>{h()},j=function(...O){if(a?.aborted)return;l=this,u=O;const E=v==null;y(),d&&E&&h()};return j.schedule=y,j.cancel=k,j.flush=_,a?.addEventListener("abort",k,{once:!0}),j}e.debounce=t})(Wv)),Wv}var XE;function CG(){return XE||(XE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TG();function r(n,a=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:u=!0,maxWait:d}=s,f=Array(2);l&&(f[0]="leading"),u&&(f[1]="trailing");let h,g=null;const v=t.debounce(function(...k){h=n.apply(this,k),g=null},a,{edges:f}),y=function(...k){return d!=null&&(g===null&&(g=Date.now()),Date.now()-g>=d)?(h=n.apply(this,k),g=Date.now(),v.cancel(),v.schedule(),h):(v.apply(this,k),h)},S=()=>(v.flush(),h);return y.cancel=v.cancel,y.flush=S,y}e.debounce=r})(Yv)),Yv}var JE;function PG(){return JE||(JE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CG();function r(n,a=0,s={}){const{leading:l=!0,trailing:u=!0}=s;return t.debounce(n,a,{leading:l,maxWait:a,trailing:u})}e.throttle=r})(Gv)),Gv}var Xv,QE;function DG(){return QE||(QE=1,Xv=PG().throttle),Xv}var RG=DG();const MG=ba(RG);var Rh=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(r.replace(/%s/g,()=>a[l++]))}},tD=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:s,maxHeight:l}=r,u=ti(n)?e:Number(n),d=ti(a)?t:Number(a);return s&&s>0&&(u?d=u/s:d&&(u=d*s),l&&d!=null&&d>l&&(d=l)),{calculatedWidth:u,calculatedHeight:d}},$G={width:0,height:0,overflow:"visible"},IG={width:0,overflowX:"visible"},LG={height:0,overflowY:"visible"},zG={},UG=e=>{var{width:t,height:r}=e,n=ti(t),a=ti(r);return n&&a?$G:n?IG:a?LG:zG};function BG(e){var{width:t,height:r,aspect:n}=e,a=t,s=r;return a===void 0&&s===void 0?(a="100%",s="100%"):a===void 0?a=n&&n>0?void 0:"100%":s===void 0&&(s=n&&n>0?void 0:"100%"),{width:a,height:s}}function ft(e){return Number.isFinite(e)}function va(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function bb(){return bb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bb.apply(null,arguments)}function eO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eO(Object(r),!0).forEach(function(n){qG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qG(e,t,r){return(t=HG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HG(e){var t=FG(e,"string");return typeof t=="symbol"?t:t+""}function FG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rD=x.createContext({width:-1,height:-1});function VG(e){return va(e.width)&&va(e.height)}function nD(e){var{children:t,width:r,height:n}=e,a=x.useMemo(()=>({width:r,height:n}),[r,n]);return VG(a)?x.createElement(rD.Provider,{value:a},t):null}var Yx=()=>x.useContext(rD),KG=x.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:s,minWidth:l=0,minHeight:u,maxHeight:d,children:f,debounce:h=0,id:g,className:v,onResize:y,style:S={}}=e,k=x.useRef(null),_=x.useRef();_.current=y,x.useImperativeHandle(t,()=>k.current);var[j,O]=x.useState({containerWidth:n.width,containerHeight:n.height}),E=x.useCallback((T,R)=>{O(M=>{var I=Math.round(T),z=Math.round(R);return M.containerWidth===I&&M.containerHeight===z?M:{containerWidth:I,containerHeight:z}})},[]);x.useEffect(()=>{if(k.current==null||typeof ResizeObserver>"u")return Eu;var T=z=>{var q,{width:re,height:oe}=z[0].contentRect;E(re,oe),(q=_.current)===null||q===void 0||q.call(_,re,oe)};h>0&&(T=MG(T,h,{trailing:!0,leading:!1}));var R=new ResizeObserver(T),{width:M,height:I}=k.current.getBoundingClientRect();return E(M,I),R.observe(k.current),()=>{R.disconnect()}},[E,h]);var{containerWidth:D,containerHeight:N}=j;Rh(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:C,calculatedHeight:P}=tD(D,N,{width:a,height:s,aspect:r,maxHeight:d});return Rh(C!=null&&C>0||P!=null&&P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,C,P,a,s,l,u,r),x.createElement("div",{id:g?"".concat(g):void 0,className:ht("recharts-responsive-container",v),style:tO(tO({},S),{},{width:a,height:s,minWidth:l,minHeight:u,maxHeight:d}),ref:k},x.createElement("div",{style:UG({width:a,height:s})},x.createElement(nD,{width:C,height:P},f)))}),ZG=x.forwardRef((e,t)=>{var r=Yx();if(va(r.width)&&va(r.height))return e.children;var{width:n,height:a}=BG({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:l}=tD(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return Ae(s)&&Ae(l)?x.createElement(nD,{width:s,height:l},e.children):x.createElement(KG,bb({},e,{width:n,height:a,ref:t}))});function aD(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Cu=()=>{var e,t=Ir(),r=Ne(NG),n=Ne(G0),a=(e=Ne(Z0))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},GG={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},iD=()=>{var e;return(e=Ne(wr))!==null&&e!==void 0?e:GG},sD=()=>Ne(ui),oD=()=>Ne(di),mt=e=>e.layout.layoutType,Pu=()=>Ne(mt),YG=()=>{var e=Pu();if(e==="horizontal"||e==="vertical")return e},WG=()=>{var e=Pu();return e!==void 0},Y0=e=>{var t=Wt(),r=Ir(),{width:n,height:a}=e,s=Yx(),l=n,u=a;return s&&(l=s.width>0?s.width:n,u=s.height>0?s.height:a),x.useEffect(()=>{!r&&va(l)&&va(u)&&t(QZ({width:l,height:u}))},[t,r,l,u]),null},lD=Symbol.for("immer-nothing"),rO=Symbol.for("immer-draftable"),xn=Symbol.for("immer-state");function Yn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var uu=Object.getPrototypeOf;function gl(e){return!!e&&!!e[xn]}function Vs(e){return e?cD(e)||Array.isArray(e)||!!e[rO]||!!e.constructor?.[rO]||Du(e)||X0(e):!1}var XG=Object.prototype.constructor.toString(),nO=new WeakMap;function cD(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=nO.get(r);return n===void 0&&(n=Function.toString.call(r),nO.set(r,n)),n===XG}function Mh(e,t,r=!0){W0(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function W0(e){const t=e[xn];return t?t.type_:Array.isArray(e)?1:Du(e)?2:X0(e)?3:0}function xb(e,t){return W0(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function uD(e,t,r){const n=W0(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function JG(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Du(e){return e instanceof Map}function X0(e){return e instanceof Set}function Os(e){return e.copy_||e.base_}function wb(e,t){if(Du(e))return new Map(e);if(X0(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=cD(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[xn];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const l=a[s],u=n[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(n[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[l]})}return Object.create(uu(e),n)}else{const n=uu(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function Wx(e,t=!1){return J0(e)||gl(e)||!Vs(e)||(W0(e)>1&&Object.defineProperties(e,{set:$f,add:$f,clear:$f,delete:$f}),Object.freeze(e),t&&Object.values(e).forEach(r=>Wx(r,!0))),e}function QG(){Yn(2)}var $f={value:QG};function J0(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var eY={};function Ks(e){const t=eY[e];return t||Yn(0,e),t}var du;function dD(){return du}function tY(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function aO(e,t){t&&(Ks("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function _b(e){Sb(e),e.drafts_.forEach(rY),e.drafts_=null}function Sb(e){e===du&&(du=e.parent_)}function iO(e){return du=tY(du,e)}function rY(e){const t=e[xn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function sO(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[xn].modified_&&(_b(t),Yn(4)),Vs(e)&&(e=$h(t,e),t.parent_||Ih(t,e)),t.patches_&&Ks("Patches").generateReplacementPatches_(r[xn].base_,e,t.patches_,t.inversePatches_)):e=$h(t,r,[]),_b(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==lD?e:void 0}function $h(e,t,r){if(J0(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[xn];if(!a)return Mh(t,(s,l)=>oO(e,a,t,s,l,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return Ih(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let l=s,u=!1;a.type_===3&&(l=new Set(s),s.clear(),u=!0),Mh(l,(d,f)=>oO(e,a,s,d,f,r,u),n),Ih(e,s,!1),r&&e.patches_&&Ks("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function oO(e,t,r,n,a,s,l){if(a==null||typeof a!="object"&&!l)return;const u=J0(a);if(!(u&&!l)){if(gl(a)){const d=s&&t&&t.type_!==3&&!xb(t.assigned_,n)?s.concat(n):void 0,f=$h(e,a,d);if(uD(r,n,f),gl(f))e.canAutoFreeze_=!1;else return}else l&&r.add(a);if(Vs(a)&&!u){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&u)return;$h(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Du(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Ih(e,a)}}}function Ih(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Wx(t,r)}function nY(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:dD(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=Xx;r&&(a=[n],s=fu);const{revoke:l,proxy:u}=Proxy.revocable(a,s);return n.draft_=u,n.revoke_=l,u}var Xx={get(e,t){if(t===xn)return e;const r=Os(e);if(!xb(r,t))return aY(e,r,t);const n=r[t];return e.finalized_||!Vs(n)?n:n===Jv(e.base_,t)?(Qv(e),e.copy_[t]=jb(n,e)):n},has(e,t){return t in Os(e)},ownKeys(e){return Reflect.ownKeys(Os(e))},set(e,t,r){const n=fD(Os(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Jv(Os(e),t),s=a?.[xn];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(JG(r,a)&&(r!==void 0||xb(e.base_,t)))return!0;Qv(e),kb(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Jv(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Qv(e),kb(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Os(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Yn(11)},getPrototypeOf(e){return uu(e.base_)},setPrototypeOf(){Yn(12)}},fu={};Mh(Xx,(e,t)=>{fu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});fu.deleteProperty=function(e,t){return fu.set.call(this,e,t,void 0)};fu.set=function(e,t,r){return Xx.set.call(this,e[0],t,r,e[0])};function Jv(e,t){const r=e[xn];return(r?Os(r):e)[t]}function aY(e,t,r){const n=fD(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function fD(e,t){if(!(t in e))return;let r=uu(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=uu(r)}}function kb(e){e.modified_||(e.modified_=!0,e.parent_&&kb(e.parent_))}function Qv(e){e.copy_||(e.copy_=wb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var iY=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const l=this;return function(d=s,...f){return l.produce(d,h=>r.call(this,h,...f))}}typeof r!="function"&&Yn(6),n!==void 0&&typeof n!="function"&&Yn(7);let a;if(Vs(t)){const s=iO(this),l=jb(t,void 0);let u=!0;try{a=r(l),u=!1}finally{u?_b(s):Sb(s)}return aO(s,n),sO(a,s)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===lD&&(a=void 0),this.autoFreeze_&&Wx(a,!0),n){const s=[],l=[];Ks("Patches").generateReplacementPatches_(t,a,s,l),n(s,l)}return a}else Yn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(l,...u)=>this.produceWithPatches(l,d=>t(d,...u));let n,a;return[this.produce(t,r,(l,u)=>{n=l,a=u}),n,a]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Vs(e)||Yn(8),gl(e)&&(e=sY(e));const t=iO(this),r=jb(e,void 0);return r[xn].isManual_=!0,Sb(t),r}finishDraft(e,t){const r=e&&e[xn];(!r||!r.isManual_)&&Yn(9);const{scope_:n}=r;return aO(n,t),sO(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=Ks("Patches").applyPatches_;return gl(e)?n(e,t):this.produce(e,a=>n(a,t))}};function jb(e,t){const r=Du(e)?Ks("MapSet").proxyMap_(e,t):X0(e)?Ks("MapSet").proxySet_(e,t):nY(e,t);return(t?t.scope_:dD()).drafts_.push(r),r}function sY(e){return gl(e)||Yn(10,e),hD(e)}function hD(e){if(!Vs(e)||J0(e))return e;const t=e[xn];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=wb(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=wb(e,!0);return Mh(r,(a,s)=>{uD(r,a,hD(s))},n),t&&(t.finalized_=!1),r}var oY=new iY;oY.produce;var lY={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},mD=en({name:"legend",initialState:lY,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:St()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Jn(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:St()},removeLegendPayload:{reducer(e,t){var r=Jn(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:St()}}}),{setLegendSize:Uce,setLegendSettings:Bce,addLegendPayload:cY,replaceLegendPayload:uY,removeLegendPayload:dY}=mD.actions,fY=mD.reducer;function Eb(){return Eb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Eb.apply(null,arguments)}function lO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ey(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lO(Object(r),!0).forEach(function(n){hY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hY(e,t,r){return(t=mY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mY(e){var t=pY(e,"string");return typeof t=="symbol"?t:t+""}function pY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gY(e){return Array.isArray(e)&&$n(e[0])&&$n(e[1])?e.join(" ~ "):e}var vY=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:s,formatter:l,itemSorter:u,wrapperClassName:d,labelClassName:f,label:h,labelFormatter:g,accessibilityLayer:v=!1}=e,y=()=>{if(s&&s.length){var N={padding:0,margin:0},C=(u?$0(s,u):s).map((P,T)=>{if(P.type==="none")return null;var R=P.formatter||l||gY,{value:M,name:I}=P,z=M,q=I;if(R){var re=R(M,I,P,T,s);if(Array.isArray(re))[z,q]=re;else if(re!=null)z=re;else return null}var oe=ey({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},n);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(T),style:oe},$n(q)?x.createElement("span",{className:"recharts-tooltip-item-name"},q):null,$n(q)?x.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,x.createElement("span",{className:"recharts-tooltip-item-value"},z),x.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:N},C)}return null},S=ey({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),k=ey({margin:0},a),_=!yr(h),j=_?h:"",O=ht("recharts-default-tooltip",d),E=ht("recharts-tooltip-label",f);_&&g&&s!==void 0&&s!==null&&(j=g(h,s));var D=v?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",Eb({className:O,style:S},D),x.createElement("p",{className:E,style:k},x.isValidElement(j)?j:"".concat(j)),y())},Cc="recharts-tooltip-wrapper",yY={visibility:"hidden"};function bY(e){var{coordinate:t,translateX:r,translateY:n}=e;return ht(Cc,{["".concat(Cc,"-right")]:Ae(r)&&t&&Ae(t.x)&&r>=t.x,["".concat(Cc,"-left")]:Ae(r)&&t&&Ae(t.x)&&r<t.x,["".concat(Cc,"-bottom")]:Ae(n)&&t&&Ae(t.y)&&n>=t.y,["".concat(Cc,"-top")]:Ae(n)&&t&&Ae(t.y)&&n<t.y})}function cO(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:s,reverseDirection:l,tooltipDimension:u,viewBox:d,viewBoxDimension:f}=e;if(s&&Ae(s[n]))return s[n];var h=r[n]-u-(a>0?a:0),g=r[n]+a;if(t[n])return l[n]?h:g;var v=d[n];if(v==null)return 0;if(l[n]){var y=h,S=v;return y<S?Math.max(g,v):Math.max(h,v)}if(f==null)return 0;var k=g+u,_=v+f;return k>_?Math.max(h,v):Math.max(g,v)}function xY(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function wY(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:s,tooltipBox:l,useTranslate3d:u,viewBox:d}=e,f,h,g;return l.height>0&&l.width>0&&r?(h=cO({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),g=cO({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),f=xY({translateX:h,translateY:g,useTranslate3d:u})):f=yY,{cssProperties:f,cssClasses:bY({translateX:h,translateY:g,coordinate:r})}}function uO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function If(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uO(Object(r),!0).forEach(function(n){Ob(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ob(e,t,r){return(t=_Y(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Y(e){var t=SY(e,"string");return typeof t=="symbol"?t:t+""}function SY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class kY extends x.PureComponent{constructor(){super(...arguments),Ob(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Ob(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:s,coordinate:l,hasPayload:u,isAnimationActive:d,offset:f,position:h,reverseDirection:g,useTranslate3d:v,viewBox:y,wrapperStyle:S,lastBoundingBox:k,innerRef:_,hasPortalFromProps:j}=this.props,{cssClasses:O,cssProperties:E}=wY({allowEscapeViewBox:r,coordinate:l,offsetTopLeft:f,position:h,reverseDirection:g,tooltipBox:{height:k.height,width:k.width},useTranslate3d:v,viewBox:y}),D=j?{}:If(If({transition:d&&t?"transform ".concat(n,"ms ").concat(a):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),N=If(If({},D),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},S);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:O,style:N,ref:_},s)}}var pD=()=>{var e;return(e=Ne(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Nb(){return Nb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nb.apply(null,arguments)}function dO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dO(Object(r),!0).forEach(function(n){jY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jY(e,t,r){return(t=EY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EY(e){var t=OY(e,"string");return typeof t=="symbol"?t:t+""}function OY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hO={curveBasisClosed:MV,curveBasisOpen:$V,curveBasis:RV,curveBumpX:PV,curveBumpY:DV,curveLinearClosed:IV,curveLinear:D0,curveMonotoneX:LV,curveMonotoneY:zV,curveNatural:UV,curveStep:BV,curveStepAfter:HV,curveStepBefore:qV},Lh=e=>ft(e.x)&&ft(e.y),mO=e=>e.base!=null&&Lh(e.base)&&Lh(e),Pc=e=>e.x,Dc=e=>e.y,NY=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Ix(e));return(r==="curveMonotone"||r==="curveBump")&&t?hO["".concat(r).concat(t==="vertical"?"Y":"X")]:hO[r]||D0},AY=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:s=!1}=e,l=NY(t,a),u=s?r.filter(Lh):r,d;if(Array.isArray(n)){var f=r.map((y,S)=>fO(fO({},y),{},{base:n[S]}));a==="vertical"?d=Af().y(Dc).x1(Pc).x0(y=>y.base.x):d=Af().x(Pc).y1(Dc).y0(y=>y.base.y);var h=d.defined(mO).curve(l),g=s?f.filter(mO):f;return h(g)}a==="vertical"&&Ae(n)?d=Af().y(Dc).x1(Pc).x0(n):Ae(n)?d=Af().x(Pc).y1(Dc).y0(n):d=GC().x(Pc).y(Dc);var v=d.defined(Lh).curve(l);return v(u)},eh=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var s=r&&r.length?AY(e):n;return x.createElement("path",Nb({},Qn(e),Lx(e),{className:ht("recharts-curve",t),d:s===null?void 0:s,ref:a}))},TY=["x","y","top","left","width","height","className"];function Ab(){return Ab=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ab.apply(null,arguments)}function pO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function CY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pO(Object(r),!0).forEach(function(n){PY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PY(e,t,r){return(t=DY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DY(e){var t=RY(e,"string");return typeof t=="symbol"?t:t+""}function RY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MY(e,t){if(e==null)return{};var r,n,a=$Y(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function $Y(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var IY=(e,t,r,n,a,s)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),LY=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:s=0,height:l=0,className:u}=e,d=MY(e,TY),f=CY({x:t,y:r,top:n,left:a,width:s,height:l},d);return!Ae(t)||!Ae(r)||!Ae(s)||!Ae(l)||!Ae(n)||!Ae(a)?null:x.createElement("path",Ab({},yn(f),{className:ht("recharts-cross",u),d:IY(t,r,s,l,n,a)}))};function zY(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function gO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gO(Object(r),!0).forEach(function(n){UY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UY(e,t,r){return(t=BY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BY(e){var t=qY(e,"string");return typeof t=="symbol"?t:t+""}function qY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HY=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),FY=(e,t,r)=>e.map(n=>"".concat(HY(n)," ").concat(t,"ms ").concat(r)).join(","),VY=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),hu=(e,t)=>Object.keys(t).reduce((r,n)=>vO(vO({},r),{},{[n]:e(n,t[n])}),{});function yO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yO(Object(r),!0).forEach(function(n){KY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KY(e,t,r){return(t=ZY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZY(e){var t=GY(e,"string");return typeof t=="symbol"?t:t+""}function GY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zh=(e,t,r)=>e+(t-e)*r,Tb=e=>{var{from:t,to:r}=e;return t!==r},gD=(e,t,r)=>{var n=hu((a,s)=>{if(Tb(s)){var[l,u]=e(s.from,s.to,s.velocity);return Gt(Gt({},s),{},{from:l,velocity:u})}return s},t);return r<1?hu((a,s)=>Tb(s)?Gt(Gt({},s),{},{velocity:zh(s.velocity,n[a].velocity,r),from:zh(s.from,n[a].from,r)}):s,t):gD(e,n,r-1)};function YY(e,t,r,n,a,s){var l,u=n.reduce((v,y)=>Gt(Gt({},v),{},{[y]:{from:e[y],velocity:0,to:t[y]}}),{}),d=()=>hu((v,y)=>y.from,u),f=()=>!Object.values(u).filter(Tb).length,h=null,g=v=>{l||(l=v);var y=v-l,S=y/r.dt;u=gD(r,u,S),a(Gt(Gt(Gt({},e),t),d())),l=v,f()||(h=s.setTimeout(g))};return()=>(h=s.setTimeout(g),()=>{var v;(v=h)===null||v===void 0||v()})}function WY(e,t,r,n,a,s,l){var u=null,d=a.reduce((g,v)=>Gt(Gt({},g),{},{[v]:[e[v],t[v]]}),{}),f,h=g=>{f||(f=g);var v=(g-f)/n,y=hu((k,_)=>zh(..._,r(v)),d);if(s(Gt(Gt(Gt({},e),t),y)),v<1)u=l.setTimeout(h);else{var S=hu((k,_)=>zh(..._,r(1)),d);s(Gt(Gt(Gt({},e),t),S))}};return()=>(u=l.setTimeout(h),()=>{var g;(g=u)===null||g===void 0||g()})}const XY=(e,t,r,n,a,s)=>{var l=VY(e,t);return r==null?()=>(a(Gt(Gt({},e),t)),()=>{}):r.isStepper===!0?YY(e,t,r,l,a,s):WY(e,t,r,n,l,a,s)};var Uh=1e-4,vD=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],yD=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),bO=(e,t)=>r=>{var n=vD(e,t);return yD(n,r)},JY=(e,t)=>r=>{var n=vD(e,t),a=[...n.map((s,l)=>s*l).slice(1),0];return yD(a,r)},QY=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a,s=r[0].split("(");if(s[0]==="cubic-bezier"&&((a=s[1])===null||a===void 0?void 0:a.split(")")[0].split(",").length)===4){var l=s[1].split(")")[0].split(",").map(u=>parseFloat(u));return[l[0],l[1],l[2],l[3]]}}}return r.length===4?r:[0,0,1,1]},eW=(e,t,r,n)=>{var a=bO(e,r),s=bO(t,n),l=JY(e,r),u=f=>f>1?1:f<0?0:f,d=f=>{for(var h=f>1?1:f,g=h,v=0;v<8;++v){var y=a(g)-h,S=l(g);if(Math.abs(y-h)<Uh||S<Uh)return s(g);g=u(g-y/S)}return s(g)};return d.isStepper=!1,d},xO=function(){return eW(...QY(...arguments))},tW=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,s=(l,u,d)=>{var f=-(l-u)*r,h=d*n,g=d+(f-h)*a/1e3,v=d*a/1e3+l;return Math.abs(v-u)<Uh&&Math.abs(g)<Uh?[u,0]:[v,g]};return s.isStepper=!0,s.dt=a,s},rW=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return xO(e);case"spring":return tW();default:if(e.split("(")[0]==="cubic-bezier")return xO(e)}return typeof e=="function"?e:null};function nW(e){var t,r=()=>null,n=!1,a=null,s=l=>{if(!n){if(Array.isArray(l)){if(!l.length)return;var u=l,[d,...f]=u;if(typeof d=="number"){a=e.setTimeout(s.bind(null,f),d);return}s(d),a=e.setTimeout(s.bind(null,f));return}typeof l=="string"&&(t=l,r(t)),typeof l=="object"&&(t=l,r(t)),typeof l=="function"&&l()}};return{stop:()=>{n=!0},start:l=>{n=!1,a&&(a(),a=null),s(l)},subscribe:l=>(r=l,()=>{r=()=>null}),getTimeoutController:()=>e}}class aW{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,s=l=>{l-n>=r?t(l):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{a!=null&&cancelAnimationFrame(a)}}}function iW(){return nW(new aW)}var sW=x.createContext(iW);function oW(e,t){var r=x.useContext(sW);return x.useMemo(()=>t??r(e),[e,t,r])}var lW=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ol={devToolsEnabled:!1,isSsr:lW()},cW={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},wO={t:0},ty={t:1};function bD(e){var t=Qr(e,cW),{isActive:r,canBegin:n,duration:a,easing:s,begin:l,onAnimationEnd:u,onAnimationStart:d,children:f}=t,h=r==="auto"?!Ol.isSsr:r,g=oW(t.animationId,t.animationManager),[v,y]=x.useState(h?wO:ty),S=x.useRef(null);return x.useEffect(()=>{h||y(ty)},[h]),x.useEffect(()=>{if(!h||!n)return Eu;var k=XY(wO,ty,rW(s),a,y,g.getTimeoutController()),_=()=>{S.current=k()};return g.start([d,l,_,a,u]),()=>{g.stop(),S.current&&S.current(),u()}},[h,n,a,s,l,d,u,g]),f(v.t)}function xD(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=x.useRef(su(t)),n=x.useRef(e);return n.current!==e&&(r.current=su(t),n.current=e),r.current}var uW=["radius"],dW=["radius"];function _O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function SO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_O(Object(r),!0).forEach(function(n){fW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_O(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fW(e,t,r){return(t=hW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hW(e){var t=mW(e,"string");return typeof t=="symbol"?t:t+""}function mW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bh(){return Bh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bh.apply(null,arguments)}function kO(e,t){if(e==null)return{};var r,n,a=pW(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function pW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var jO=(e,t,r,n,a)=>{var s=Math.min(Math.abs(r)/2,Math.abs(n)/2),l=n>=0?1:-1,u=r>=0?1:-1,d=n>=0&&r>=0||n<0&&r<0?1:0,f;if(s>0&&a instanceof Array){for(var h=[0,0,0,0],g=0,v=4;g<v;g++)h[g]=a[g]>s?s:a[g];f="M".concat(e,",").concat(t+l*h[0]),h[0]>0&&(f+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(d,",").concat(e+u*h[0],",").concat(t)),f+="L ".concat(e+r-u*h[1],",").concat(t),h[1]>0&&(f+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(d,`,
        `).concat(e+r,",").concat(t+l*h[1])),f+="L ".concat(e+r,",").concat(t+n-l*h[2]),h[2]>0&&(f+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(d,`,
        `).concat(e+r-u*h[2],",").concat(t+n)),f+="L ".concat(e+u*h[3],",").concat(t+n),h[3]>0&&(f+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(t+n-l*h[3])),f+="Z"}else if(s>0&&a===+a&&a>0){var y=Math.min(s,a);f="M ".concat(e,",").concat(t+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e+u*y,",").concat(t,`
            L `).concat(e+r-u*y,",").concat(t,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e+r,",").concat(t+l*y,`
            L `).concat(e+r,",").concat(t+n-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e+r-u*y,",").concat(t+n,`
            L `).concat(e+u*y,",").concat(t+n,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e,",").concat(t+n-l*y," Z")}else f="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return f},EO={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},gW=e=>{var t=Qr(e,EO),r=x.useRef(null),[n,a]=x.useState(-1);x.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var H=r.current.getTotalLength();H&&a(H)}catch{}},[]);var{x:s,y:l,width:u,height:d,radius:f,className:h}=t,{animationEasing:g,animationDuration:v,animationBegin:y,isAnimationActive:S,isUpdateAnimationActive:k}=t,_=x.useRef(u),j=x.useRef(d),O=x.useRef(s),E=x.useRef(l),D=x.useMemo(()=>({x:s,y:l,width:u,height:d,radius:f}),[s,l,u,d,f]),N=xD(D,"rectangle-");if(s!==+s||l!==+l||u!==+u||d!==+d||u===0||d===0)return null;var C=ht("recharts-rectangle",h);if(!k){var P=yn(t),{radius:T}=P,R=kO(P,uW);return x.createElement("path",Bh({},R,{radius:typeof f=="number"?f:void 0,className:C,d:jO(s,l,u,d,f)}))}var M=_.current,I=j.current,z=O.current,q=E.current,re="0px ".concat(n===-1?1:n,"px"),oe="".concat(n,"px 0px"),B=FY(["strokeDasharray"],v,typeof g=="string"?g:EO.animationEasing);return x.createElement(bD,{animationId:N,key:N,canBegin:n>0,duration:v,easing:g,isActive:k,begin:y},H=>{var W=ua(M,u,H),ee=ua(I,d,H),ve=ua(z,s,H),L=ua(q,l,H);r.current&&(_.current=W,j.current=ee,O.current=ve,E.current=L);var K;S?H>0?K={transition:B,strokeDasharray:oe}:K={strokeDasharray:re}:K={strokeDasharray:oe};var F=yn(t),{radius:Z}=F,le=kO(F,dW);return x.createElement("path",Bh({},le,{radius:typeof f=="number"?f:void 0,className:C,d:jO(ve,L,W,ee,f),ref:r,style:SO(SO({},K),t.style)}))})};function OO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function NO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OO(Object(r),!0).forEach(function(n){vW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vW(e,t,r){return(t=yW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yW(e){var t=bW(e,"string");return typeof t=="symbol"?t:t+""}function bW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qh=Math.PI/180,xW=e=>e*180/Math.PI,vr=(e,t,r,n)=>({x:e+Math.cos(-qh*n)*r,y:t+Math.sin(-qh*n)*r}),wW=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},_W=(e,t)=>{var{x:r,y:n}=e,{x:a,y:s}=t;return Math.sqrt((r-a)**2+(n-s)**2)},SW=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:s}=t,l=_W({x:r,y:n},{x:a,y:s});if(l<=0)return{radius:l,angle:0};var u=(r-a)/l,d=Math.acos(u);return n>s&&(d=2*Math.PI-d),{radius:l,angle:xW(d),angleInRadian:d}},kW=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),s=Math.min(n,a);return{startAngle:t-s*360,endAngle:r-s*360}},jW=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),s=Math.floor(n/360),l=Math.min(a,s);return e+l*360},EW=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:s}=SW({x:r,y:n},t),{innerRadius:l,outerRadius:u}=t;if(a<l||a>u||a===0)return null;var{startAngle:d,endAngle:f}=kW(t),h=s,g;if(d<=f){for(;h>f;)h-=360;for(;h<d;)h+=360;g=h>=d&&h<=f}else{for(;h>d;)h-=360;for(;h<f;)h+=360;g=h>=f&&h<=d}return g?NO(NO({},t),{},{radius:a,angle:jW(h,t)}):null};function wD(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:s}=e,l=vr(t,r,n,a),u=vr(t,r,n,s);return{points:[l,u],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function Cb(){return Cb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cb.apply(null,arguments)}var OW=(e,t)=>{var r=Rn(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Lf=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:s,isExternal:l,cornerRadius:u,cornerIsExternal:d}=e,f=u*(l?1:-1)+n,h=Math.asin(u/f)/qh,g=d?a:a+s*h,v=vr(t,r,f,g),y=vr(t,r,n,g),S=d?a-s*h:a,k=vr(t,r,f*Math.cos(h*qh),S);return{center:v,circleTangency:y,lineTangency:k,theta:h}},_D=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:s,endAngle:l}=e,u=OW(s,l),d=s+u,f=vr(t,r,a,s),h=vr(t,r,a,d),g="M ".concat(f.x,",").concat(f.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(s>d),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(n>0){var v=vr(t,r,n,s),y=vr(t,r,n,d);g+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(s<=d),`,
            `).concat(v.x,",").concat(v.y," Z")}else g+="L ".concat(t,",").concat(r," Z");return g},NW=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}=e,h=Rn(f-d),{circleTangency:g,lineTangency:v,theta:y}=Lf({cx:t,cy:r,radius:a,angle:d,sign:h,cornerRadius:s,cornerIsExternal:u}),{circleTangency:S,lineTangency:k,theta:_}=Lf({cx:t,cy:r,radius:a,angle:f,sign:-h,cornerRadius:s,cornerIsExternal:u}),j=u?Math.abs(d-f):Math.abs(d-f)-y-_;if(j<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):_D({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:d,endAngle:f});var O="M ".concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(j>180),",").concat(+(h<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(k.x,",").concat(k.y,`
  `);if(n>0){var{circleTangency:E,lineTangency:D,theta:N}=Lf({cx:t,cy:r,radius:n,angle:d,sign:h,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),{circleTangency:C,lineTangency:P,theta:T}=Lf({cx:t,cy:r,radius:n,angle:f,sign:-h,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),R=u?Math.abs(d-f):Math.abs(d-f)-N-T;if(R<0&&s===0)return"".concat(O,"L").concat(t,",").concat(r,"Z");O+="L".concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(R>180),",").concat(+(h>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(D.x,",").concat(D.y,"Z")}else O+="L".concat(t,",").concat(r,"Z");return O},AW={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},TW=e=>{var t=Qr(e,AW),{cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:d,startAngle:f,endAngle:h,className:g}=t;if(s<a||f===h)return null;var v=ht("recharts-sector",g),y=s-a,S=Yi(l,y,0,!0),k;return S>0&&Math.abs(f-h)<360?k=NW({cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:Math.min(S,y/2),forceCornerRadius:u,cornerIsExternal:d,startAngle:f,endAngle:h}):k=_D({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:f,endAngle:h}),x.createElement("path",Cb({},yn(t),{className:v,d:k}))};function CW(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(sP(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:s,outerRadius:l,angle:u}=t,d=vr(n,a,s,u),f=vr(n,a,l,u);return[{x:d.x,y:d.y},{x:f.x,y:f.y}]}return wD(t)}}var ry={},ny={},ay={},AO;function PW(){return AO||(AO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vP();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(ay)),ay}var TO;function DW(){return TO||(TO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PW();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(ny)),ny}var CO;function RW(){return CO||(CO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yP(),r=DW();function n(a,s,l){l&&typeof l!="number"&&t.isIterateeCall(a,s,l)&&(s=l=void 0),a=r.toFinite(a),s===void 0?(s=a,a=0):s=r.toFinite(s),l=l===void 0?a<s?1:-1:r.toFinite(l);const u=Math.max(Math.ceil((s-a)/(l||1)),0),d=new Array(u);for(let f=0;f<u;f++)d[f]=a,a+=l;return d}e.range=n})(ry)),ry}var iy,PO;function MW(){return PO||(PO=1,iy=RW().range),iy}var $W=MW();const SD=ba($W);function Gi(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function IW(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Jx(e){let t,r,n;e.length!==2?(t=Gi,r=(u,d)=>Gi(e(u),d),n=(u,d)=>e(u)-d):(t=e===Gi||e===IW?e:LW,r=e,n=e);function a(u,d,f=0,h=u.length){if(f<h){if(t(d,d)!==0)return h;do{const g=f+h>>>1;r(u[g],d)<0?f=g+1:h=g}while(f<h)}return f}function s(u,d,f=0,h=u.length){if(f<h){if(t(d,d)!==0)return h;do{const g=f+h>>>1;r(u[g],d)<=0?f=g+1:h=g}while(f<h)}return f}function l(u,d,f=0,h=u.length){const g=a(u,d,f,h-1);return g>f&&n(u[g-1],d)>-n(u[g],d)?g-1:g}return{left:a,center:l,right:s}}function LW(){return 0}function kD(e){return e===null?NaN:+e}function*zW(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const UW=Jx(Gi),Ru=UW.right;Jx(kD).center;class DO extends Map{constructor(t,r=HW){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(RO(this,t))}has(t){return super.has(RO(this,t))}set(t,r){return super.set(BW(this,t),r)}delete(t){return super.delete(qW(this,t))}}function RO({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function BW({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function qW({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function HW(e){return e!==null&&typeof e=="object"?e.valueOf():e}function FW(e=Gi){if(e===Gi)return jD;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function jD(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const VW=Math.sqrt(50),KW=Math.sqrt(10),ZW=Math.sqrt(2);function Hh(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),l=s>=VW?10:s>=KW?5:s>=ZW?2:1;let u,d,f;return a<0?(f=Math.pow(10,-a)/l,u=Math.round(e*f),d=Math.round(t*f),u/f<e&&++u,d/f>t&&--d,f=-f):(f=Math.pow(10,a)*l,u=Math.round(e/f),d=Math.round(t/f),u*f<e&&++u,d*f>t&&--d),d<u&&.5<=r&&r<2?Hh(e,t,r*2):[u,d,f]}function Pb(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,l]=n?Hh(t,e,r):Hh(e,t,r);if(!(s>=a))return[];const u=s-a+1,d=new Array(u);if(n)if(l<0)for(let f=0;f<u;++f)d[f]=(s-f)/-l;else for(let f=0;f<u;++f)d[f]=(s-f)*l;else if(l<0)for(let f=0;f<u;++f)d[f]=(a+f)/-l;else for(let f=0;f<u;++f)d[f]=(a+f)*l;return d}function Db(e,t,r){return t=+t,e=+e,r=+r,Hh(e,t,r)[2]}function Rb(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Db(t,e,r):Db(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function MO(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function $O(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function ED(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?jD:FW(a);n>r;){if(n-r>600){const d=n-r+1,f=t-r+1,h=Math.log(d),g=.5*Math.exp(2*h/3),v=.5*Math.sqrt(h*g*(d-g)/d)*(f-d/2<0?-1:1),y=Math.max(r,Math.floor(t-f*g/d+v)),S=Math.min(n,Math.floor(t+(d-f)*g/d+v));ED(e,t,y,S,a)}const s=e[t];let l=r,u=n;for(Rc(e,r,t),a(e[n],s)>0&&Rc(e,r,n);l<u;){for(Rc(e,l,u),++l,--u;a(e[l],s)<0;)++l;for(;a(e[u],s)>0;)--u}a(e[r],s)===0?Rc(e,r,u):(++u,Rc(e,u,n)),u<=t&&(r=u+1),t<=u&&(n=u-1)}return e}function Rc(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function GW(e,t,r){if(e=Float64Array.from(zW(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return $O(e);if(t>=1)return MO(e);var n,a=(n-1)*t,s=Math.floor(a),l=MO(ED(e,s).subarray(0,s+1)),u=$O(e.subarray(s+1));return l+(u-l)*(a-s)}}function YW(e,t,r=kD){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),l=+r(e[s],s,e),u=+r(e[s+1],s+1,e);return l+(u-l)*(a-s)}}function WW(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function Bn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function fi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Mb=Symbol("implicit");function Qx(){var e=new DO,t=[],r=[],n=Mb;function a(s){let l=e.get(s);if(l===void 0){if(n!==Mb)return n;e.set(s,l=t.push(s)-1)}return r[l%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new DO;for(const l of s)e.has(l)||e.set(l,t.push(l)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return Qx(t,r).unknown(n)},Bn.apply(a,arguments),a}function ew(){var e=Qx().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,l,u=!1,d=0,f=0,h=.5;delete e.unknown;function g(){var v=t().length,y=a<n,S=y?a:n,k=y?n:a;s=(k-S)/Math.max(1,v-d+f*2),u&&(s=Math.floor(s)),S+=(k-S-s*(v-d))*h,l=s*(1-d),u&&(S=Math.round(S),l=Math.round(l));var _=WW(v).map(function(j){return S+s*j});return r(y?_.reverse():_)}return e.domain=function(v){return arguments.length?(t(v),g()):t()},e.range=function(v){return arguments.length?([n,a]=v,n=+n,a=+a,g()):[n,a]},e.rangeRound=function(v){return[n,a]=v,n=+n,a=+a,u=!0,g()},e.bandwidth=function(){return l},e.step=function(){return s},e.round=function(v){return arguments.length?(u=!!v,g()):u},e.padding=function(v){return arguments.length?(d=Math.min(1,f=+v),g()):d},e.paddingInner=function(v){return arguments.length?(d=Math.min(1,v),g()):d},e.paddingOuter=function(v){return arguments.length?(f=+v,g()):f},e.align=function(v){return arguments.length?(h=Math.max(0,Math.min(1,v)),g()):h},e.copy=function(){return ew(t(),[n,a]).round(u).paddingInner(d).paddingOuter(f).align(h)},Bn.apply(g(),arguments)}function OD(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return OD(t())},e}function XW(){return OD(ew.apply(null,arguments).paddingInner(1))}function tw(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function ND(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Mu(){}var mu=.7,Fh=1/mu,cl="\\s*([+-]?\\d+)\\s*",pu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ma="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",JW=/^#([0-9a-f]{3,8})$/,QW=new RegExp(`^rgb\\(${cl},${cl},${cl}\\)$`),eX=new RegExp(`^rgb\\(${ma},${ma},${ma}\\)$`),tX=new RegExp(`^rgba\\(${cl},${cl},${cl},${pu}\\)$`),rX=new RegExp(`^rgba\\(${ma},${ma},${ma},${pu}\\)$`),nX=new RegExp(`^hsl\\(${pu},${ma},${ma}\\)$`),aX=new RegExp(`^hsla\\(${pu},${ma},${ma},${pu}\\)$`),IO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};tw(Mu,gu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:LO,formatHex:LO,formatHex8:iX,formatHsl:sX,formatRgb:zO,toString:zO});function LO(){return this.rgb().formatHex()}function iX(){return this.rgb().formatHex8()}function sX(){return AD(this).formatHsl()}function zO(){return this.rgb().formatRgb()}function gu(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=JW.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?UO(t):r===3?new Xr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?zf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?zf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=QW.exec(e))?new Xr(t[1],t[2],t[3],1):(t=eX.exec(e))?new Xr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=tX.exec(e))?zf(t[1],t[2],t[3],t[4]):(t=rX.exec(e))?zf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=nX.exec(e))?HO(t[1],t[2]/100,t[3]/100,1):(t=aX.exec(e))?HO(t[1],t[2]/100,t[3]/100,t[4]):IO.hasOwnProperty(e)?UO(IO[e]):e==="transparent"?new Xr(NaN,NaN,NaN,0):null}function UO(e){return new Xr(e>>16&255,e>>8&255,e&255,1)}function zf(e,t,r,n){return n<=0&&(e=t=r=NaN),new Xr(e,t,r,n)}function oX(e){return e instanceof Mu||(e=gu(e)),e?(e=e.rgb(),new Xr(e.r,e.g,e.b,e.opacity)):new Xr}function $b(e,t,r,n){return arguments.length===1?oX(e):new Xr(e,t,r,n??1)}function Xr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}tw(Xr,$b,ND(Mu,{brighter(e){return e=e==null?Fh:Math.pow(Fh,e),new Xr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?mu:Math.pow(mu,e),new Xr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Xr(zs(this.r),zs(this.g),zs(this.b),Vh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:BO,formatHex:BO,formatHex8:lX,formatRgb:qO,toString:qO}));function BO(){return`#${Ms(this.r)}${Ms(this.g)}${Ms(this.b)}`}function lX(){return`#${Ms(this.r)}${Ms(this.g)}${Ms(this.b)}${Ms((isNaN(this.opacity)?1:this.opacity)*255)}`}function qO(){const e=Vh(this.opacity);return`${e===1?"rgb(":"rgba("}${zs(this.r)}, ${zs(this.g)}, ${zs(this.b)}${e===1?")":`, ${e})`}`}function Vh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function zs(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ms(e){return e=zs(e),(e<16?"0":"")+e.toString(16)}function HO(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Wn(e,t,r,n)}function AD(e){if(e instanceof Wn)return new Wn(e.h,e.s,e.l,e.opacity);if(e instanceof Mu||(e=gu(e)),!e)return new Wn;if(e instanceof Wn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),l=NaN,u=s-a,d=(s+a)/2;return u?(t===s?l=(r-n)/u+(r<n)*6:r===s?l=(n-t)/u+2:l=(t-r)/u+4,u/=d<.5?s+a:2-s-a,l*=60):u=d>0&&d<1?0:l,new Wn(l,u,d,e.opacity)}function cX(e,t,r,n){return arguments.length===1?AD(e):new Wn(e,t,r,n??1)}function Wn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}tw(Wn,cX,ND(Mu,{brighter(e){return e=e==null?Fh:Math.pow(Fh,e),new Wn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?mu:Math.pow(mu,e),new Wn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Xr(sy(e>=240?e-240:e+120,a,n),sy(e,a,n),sy(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Wn(FO(this.h),Uf(this.s),Uf(this.l),Vh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Vh(this.opacity);return`${e===1?"hsl(":"hsla("}${FO(this.h)}, ${Uf(this.s)*100}%, ${Uf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function FO(e){return e=(e||0)%360,e<0?e+360:e}function Uf(e){return Math.max(0,Math.min(1,e||0))}function sy(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const rw=e=>()=>e;function uX(e,t){return function(r){return e+r*t}}function dX(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function fX(e){return(e=+e)==1?TD:function(t,r){return r-t?dX(t,r,e):rw(isNaN(t)?r:t)}}function TD(e,t){var r=t-e;return r?uX(e,r):rw(isNaN(e)?t:e)}const VO=(function e(t){var r=fX(t);function n(a,s){var l=r((a=$b(a)).r,(s=$b(s)).r),u=r(a.g,s.g),d=r(a.b,s.b),f=TD(a.opacity,s.opacity);return function(h){return a.r=l(h),a.g=u(h),a.b=d(h),a.opacity=f(h),a+""}}return n.gamma=e,n})(1);function hX(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function mX(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function pX(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),l;for(l=0;l<n;++l)a[l]=Nl(e[l],t[l]);for(;l<r;++l)s[l]=t[l];return function(u){for(l=0;l<n;++l)s[l]=a[l](u);return s}}function gX(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Kh(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function vX(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Nl(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var Ib=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,oy=new RegExp(Ib.source,"g");function yX(e){return function(){return e}}function bX(e){return function(t){return e(t)+""}}function xX(e,t){var r=Ib.lastIndex=oy.lastIndex=0,n,a,s,l=-1,u=[],d=[];for(e=e+"",t=t+"";(n=Ib.exec(e))&&(a=oy.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),u[l]?u[l]+=s:u[++l]=s),(n=n[0])===(a=a[0])?u[l]?u[l]+=a:u[++l]=a:(u[++l]=null,d.push({i:l,x:Kh(n,a)})),r=oy.lastIndex;return r<t.length&&(s=t.slice(r),u[l]?u[l]+=s:u[++l]=s),u.length<2?d[0]?bX(d[0].x):yX(t):(t=d.length,function(f){for(var h=0,g;h<t;++h)u[(g=d[h]).i]=g.x(f);return u.join("")})}function Nl(e,t){var r=typeof t,n;return t==null||r==="boolean"?rw(t):(r==="number"?Kh:r==="string"?(n=gu(t))?(t=n,VO):xX:t instanceof gu?VO:t instanceof Date?gX:mX(t)?hX:Array.isArray(t)?pX:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?vX:Kh)(e,t)}function nw(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function wX(e,t){t===void 0&&(t=e,e=Nl);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(l){var u=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return s[u](l-u)}}function _X(e){return function(){return e}}function Zh(e){return+e}var KO=[0,1];function Dr(e){return e}function Lb(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:_X(isNaN(t)?NaN:.5)}function SX(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function kX(e,t,r){var n=e[0],a=e[1],s=t[0],l=t[1];return a<n?(n=Lb(a,n),s=r(l,s)):(n=Lb(n,a),s=r(s,l)),function(u){return s(n(u))}}function jX(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),l=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<n;)a[l]=Lb(e[l],e[l+1]),s[l]=r(t[l],t[l+1]);return function(u){var d=Ru(e,u,1,n)-1;return s[d](a[d](u))}}function $u(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Q0(){var e=KO,t=KO,r=Nl,n,a,s,l=Dr,u,d,f;function h(){var v=Math.min(e.length,t.length);return l!==Dr&&(l=SX(e[0],e[v-1])),u=v>2?jX:kX,d=f=null,g}function g(v){return v==null||isNaN(v=+v)?s:(d||(d=u(e.map(n),t,r)))(n(l(v)))}return g.invert=function(v){return l(a((f||(f=u(t,e.map(n),Kh)))(v)))},g.domain=function(v){return arguments.length?(e=Array.from(v,Zh),h()):e.slice()},g.range=function(v){return arguments.length?(t=Array.from(v),h()):t.slice()},g.rangeRound=function(v){return t=Array.from(v),r=nw,h()},g.clamp=function(v){return arguments.length?(l=v?!0:Dr,h()):l!==Dr},g.interpolate=function(v){return arguments.length?(r=v,h()):r},g.unknown=function(v){return arguments.length?(s=v,g):s},function(v,y){return n=v,a=y,h()}}function aw(){return Q0()(Dr,Dr)}function EX(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Gh(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function vl(e){return e=Gh(Math.abs(e)),e?e[1]:NaN}function OX(e,t){return function(r,n){for(var a=r.length,s=[],l=0,u=e[0],d=0;a>0&&u>0&&(d+u+1>n&&(u=Math.max(1,n-d)),s.push(r.substring(a-=u,a+u)),!((d+=u+1)>n));)u=e[l=(l+1)%e.length];return s.reverse().join(t)}}function NX(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var AX=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function vu(e){if(!(t=AX.exec(e)))throw new Error("invalid format: "+e);var t;return new iw({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}vu.prototype=iw.prototype;function iw(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}iw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function TX(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var CD;function CX(e,t){var r=Gh(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(CD=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=n.length;return s===l?n:s>l?n+new Array(s-l+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Gh(e,Math.max(0,t+s-1))[0]}function ZO(e,t){var r=Gh(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const GO={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:EX,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>ZO(e*100,t),r:ZO,s:CX,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function YO(e){return e}var WO=Array.prototype.map,XO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function PX(e){var t=e.grouping===void 0||e.thousands===void 0?YO:OX(WO.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?YO:NX(WO.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function f(g){g=vu(g);var v=g.fill,y=g.align,S=g.sign,k=g.symbol,_=g.zero,j=g.width,O=g.comma,E=g.precision,D=g.trim,N=g.type;N==="n"?(O=!0,N="g"):GO[N]||(E===void 0&&(E=12),D=!0,N="g"),(_||v==="0"&&y==="=")&&(_=!0,v="0",y="=");var C=k==="$"?r:k==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",P=k==="$"?n:/[%p]/.test(N)?l:"",T=GO[N],R=/[defgprs%]/.test(N);E=E===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function M(I){var z=C,q=P,re,oe,B;if(N==="c")q=T(I)+q,I="";else{I=+I;var H=I<0||1/I<0;if(I=isNaN(I)?d:T(Math.abs(I),E),D&&(I=TX(I)),H&&+I==0&&S!=="+"&&(H=!1),z=(H?S==="("?S:u:S==="-"||S==="("?"":S)+z,q=(N==="s"?XO[8+CD/3]:"")+q+(H&&S==="("?")":""),R){for(re=-1,oe=I.length;++re<oe;)if(B=I.charCodeAt(re),48>B||B>57){q=(B===46?a+I.slice(re+1):I.slice(re))+q,I=I.slice(0,re);break}}}O&&!_&&(I=t(I,1/0));var W=z.length+I.length+q.length,ee=W<j?new Array(j-W+1).join(v):"";switch(O&&_&&(I=t(ee+I,ee.length?j-q.length:1/0),ee=""),y){case"<":I=z+I+q+ee;break;case"=":I=z+ee+I+q;break;case"^":I=ee.slice(0,W=ee.length>>1)+z+I+q+ee.slice(W);break;default:I=ee+z+I+q;break}return s(I)}return M.toString=function(){return g+""},M}function h(g,v){var y=f((g=vu(g),g.type="f",g)),S=Math.max(-8,Math.min(8,Math.floor(vl(v)/3)))*3,k=Math.pow(10,-S),_=XO[8+S/3];return function(j){return y(k*j)+_}}return{format:f,formatPrefix:h}}var Bf,sw,PD;DX({thousands:",",grouping:[3],currency:["$",""]});function DX(e){return Bf=PX(e),sw=Bf.format,PD=Bf.formatPrefix,Bf}function RX(e){return Math.max(0,-vl(Math.abs(e)))}function MX(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(vl(t)/3)))*3-vl(Math.abs(e)))}function $X(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,vl(t)-vl(e))+1}function DD(e,t,r,n){var a=Rb(e,t,r),s;switch(n=vu(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=MX(a,l))&&(n.precision=s),PD(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=$X(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=RX(a))&&(n.precision=s-(n.type==="%")*2);break}}return sw(n)}function es(e){var t=e.domain;return e.ticks=function(r){var n=t();return Pb(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return DD(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,l=n[a],u=n[s],d,f,h=10;for(u<l&&(f=l,l=u,u=f,f=a,a=s,s=f);h-- >0;){if(f=Db(l,u,r),f===d)return n[a]=l,n[s]=u,t(n);if(f>0)l=Math.floor(l/f)*f,u=Math.ceil(u/f)*f;else if(f<0)l=Math.ceil(l*f)/f,u=Math.floor(u*f)/f;else break;d=f}return e},e}function RD(){var e=aw();return e.copy=function(){return $u(e,RD())},Bn.apply(e,arguments),es(e)}function MD(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Zh),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return MD(e).unknown(t)},e=arguments.length?Array.from(e,Zh):[0,1],es(r)}function $D(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],l;return s<a&&(l=r,r=n,n=l,l=a,a=s,s=l),e[r]=t.floor(a),e[n]=t.ceil(s),e}function JO(e){return Math.log(e)}function QO(e){return Math.exp(e)}function IX(e){return-Math.log(-e)}function LX(e){return-Math.exp(-e)}function zX(e){return isFinite(e)?+("1e"+e):e<0?0:e}function UX(e){return e===10?zX:e===Math.E?Math.exp:t=>Math.pow(e,t)}function BX(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function eN(e){return(t,r)=>-e(-t,r)}function ow(e){const t=e(JO,QO),r=t.domain;let n=10,a,s;function l(){return a=BX(n),s=UX(n),r()[0]<0?(a=eN(a),s=eN(s),e(IX,LX)):e(JO,QO),t}return t.base=function(u){return arguments.length?(n=+u,l()):n},t.domain=function(u){return arguments.length?(r(u),l()):r()},t.ticks=u=>{const d=r();let f=d[0],h=d[d.length-1];const g=h<f;g&&([f,h]=[h,f]);let v=a(f),y=a(h),S,k;const _=u==null?10:+u;let j=[];if(!(n%1)&&y-v<_){if(v=Math.floor(v),y=Math.ceil(y),f>0){for(;v<=y;++v)for(S=1;S<n;++S)if(k=v<0?S/s(-v):S*s(v),!(k<f)){if(k>h)break;j.push(k)}}else for(;v<=y;++v)for(S=n-1;S>=1;--S)if(k=v>0?S/s(-v):S*s(v),!(k<f)){if(k>h)break;j.push(k)}j.length*2<_&&(j=Pb(f,h,_))}else j=Pb(v,y,Math.min(y-v,_)).map(s);return g?j.reverse():j},t.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=vu(d)).precision==null&&(d.trim=!0),d=sw(d)),u===1/0)return d;const f=Math.max(1,n*u/t.ticks().length);return h=>{let g=h/s(Math.round(a(h)));return g*n<n-.5&&(g*=n),g<=f?d(h):""}},t.nice=()=>r($D(r(),{floor:u=>s(Math.floor(a(u))),ceil:u=>s(Math.ceil(a(u)))})),t}function ID(){const e=ow(Q0()).domain([1,10]);return e.copy=()=>$u(e,ID()).base(e.base()),Bn.apply(e,arguments),e}function tN(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function rN(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function lw(e){var t=1,r=e(tN(t),rN(t));return r.constant=function(n){return arguments.length?e(tN(t=+n),rN(t)):t},es(r)}function LD(){var e=lw(Q0());return e.copy=function(){return $u(e,LD()).constant(e.constant())},Bn.apply(e,arguments)}function nN(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function qX(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function HX(e){return e<0?-e*e:e*e}function cw(e){var t=e(Dr,Dr),r=1;function n(){return r===1?e(Dr,Dr):r===.5?e(qX,HX):e(nN(r),nN(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},es(t)}function uw(){var e=cw(Q0());return e.copy=function(){return $u(e,uw()).exponent(e.exponent())},Bn.apply(e,arguments),e}function FX(){return uw.apply(null,arguments).exponent(.5)}function aN(e){return Math.sign(e)*e*e}function VX(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function zD(){var e=aw(),t=[0,1],r=!1,n;function a(s){var l=VX(e(s));return isNaN(l)?n:r?Math.round(l):l}return a.invert=function(s){return e.invert(aN(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,Zh)).map(aN)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return zD(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Bn.apply(a,arguments),es(a)}function UD(){var e=[],t=[],r=[],n;function a(){var l=0,u=Math.max(1,t.length);for(r=new Array(u-1);++l<u;)r[l-1]=YW(e,l/u);return s}function s(l){return l==null||isNaN(l=+l)?n:t[Ru(r,l)]}return s.invertExtent=function(l){var u=t.indexOf(l);return u<0?[NaN,NaN]:[u>0?r[u-1]:e[0],u<r.length?r[u]:e[e.length-1]]},s.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let u of l)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Gi),a()},s.range=function(l){return arguments.length?(t=Array.from(l),a()):t.slice()},s.unknown=function(l){return arguments.length?(n=l,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return UD().domain(e).range(t).unknown(n)},Bn.apply(s,arguments)}function BD(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function l(d){return d!=null&&d<=d?a[Ru(n,d,0,r)]:s}function u(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*t-(d-r)*e)/(r+1);return l}return l.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,u()):[e,t]},l.range=function(d){return arguments.length?(r=(a=Array.from(d)).length-1,u()):a.slice()},l.invertExtent=function(d){var f=a.indexOf(d);return f<0?[NaN,NaN]:f<1?[e,n[0]]:f>=r?[n[r-1],t]:[n[f-1],n[f]]},l.unknown=function(d){return arguments.length&&(s=d),l},l.thresholds=function(){return n.slice()},l.copy=function(){return BD().domain([e,t]).range(a).unknown(s)},Bn.apply(es(l),arguments)}function qD(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[Ru(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var l=t.indexOf(s);return[e[l-1],e[l]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return qD().domain(e).range(t).unknown(r)},Bn.apply(a,arguments)}const ly=new Date,cy=new Date;function Xt(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const l=a(s),u=a.ceil(s);return s-l<u-s?l:u},a.offset=(s,l)=>(t(s=new Date(+s),l==null?1:Math.floor(l)),s),a.range=(s,l,u)=>{const d=[];if(s=a.ceil(s),u=u==null?1:Math.floor(u),!(s<l)||!(u>0))return d;let f;do d.push(f=new Date(+s)),t(s,u),e(s);while(f<s&&s<l);return d},a.filter=s=>Xt(l=>{if(l>=l)for(;e(l),!s(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!s(l););else for(;--u>=0;)for(;t(l,1),!s(l););}),r&&(a.count=(s,l)=>(ly.setTime(+s),cy.setTime(+l),e(ly),e(cy),Math.floor(r(ly,cy))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?l=>n(l)%s===0:l=>a.count(0,l)%s===0):a)),a}const Yh=Xt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Yh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Xt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Yh);Yh.range;const Ga=1e3,Mn=Ga*60,Ya=Mn*60,ni=Ya*24,dw=ni*7,iN=ni*30,uy=ni*365,$s=Xt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ga)},(e,t)=>(t-e)/Ga,e=>e.getUTCSeconds());$s.range;const fw=Xt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ga)},(e,t)=>{e.setTime(+e+t*Mn)},(e,t)=>(t-e)/Mn,e=>e.getMinutes());fw.range;const hw=Xt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Mn)},(e,t)=>(t-e)/Mn,e=>e.getUTCMinutes());hw.range;const mw=Xt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ga-e.getMinutes()*Mn)},(e,t)=>{e.setTime(+e+t*Ya)},(e,t)=>(t-e)/Ya,e=>e.getHours());mw.range;const pw=Xt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ya)},(e,t)=>(t-e)/Ya,e=>e.getUTCHours());pw.range;const Iu=Xt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Mn)/ni,e=>e.getDate()-1);Iu.range;const em=Xt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ni,e=>e.getUTCDate()-1);em.range;const HD=Xt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ni,e=>Math.floor(e/ni));HD.range;function no(e){return Xt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Mn)/dw)}const tm=no(0),Wh=no(1),KX=no(2),ZX=no(3),yl=no(4),GX=no(5),YX=no(6);tm.range;Wh.range;KX.range;ZX.range;yl.range;GX.range;YX.range;function ao(e){return Xt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/dw)}const rm=ao(0),Xh=ao(1),WX=ao(2),XX=ao(3),bl=ao(4),JX=ao(5),QX=ao(6);rm.range;Xh.range;WX.range;XX.range;bl.range;JX.range;QX.range;const gw=Xt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());gw.range;const vw=Xt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());vw.range;const ai=Xt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ai.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Xt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});ai.range;const ii=Xt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ii.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Xt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ii.range;function FD(e,t,r,n,a,s){const l=[[$s,1,Ga],[$s,5,5*Ga],[$s,15,15*Ga],[$s,30,30*Ga],[s,1,Mn],[s,5,5*Mn],[s,15,15*Mn],[s,30,30*Mn],[a,1,Ya],[a,3,3*Ya],[a,6,6*Ya],[a,12,12*Ya],[n,1,ni],[n,2,2*ni],[r,1,dw],[t,1,iN],[t,3,3*iN],[e,1,uy]];function u(f,h,g){const v=h<f;v&&([f,h]=[h,f]);const y=g&&typeof g.range=="function"?g:d(f,h,g),S=y?y.range(f,+h+1):[];return v?S.reverse():S}function d(f,h,g){const v=Math.abs(h-f)/g,y=Jx(([,,_])=>_).right(l,v);if(y===l.length)return e.every(Rb(f/uy,h/uy,g));if(y===0)return Yh.every(Math.max(Rb(f,h,g),1));const[S,k]=l[v/l[y-1][2]<l[y][2]/v?y-1:y];return S.every(k)}return[u,d]}const[eJ,tJ]=FD(ii,vw,rm,HD,pw,hw),[rJ,nJ]=FD(ai,gw,tm,Iu,mw,fw);function dy(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function fy(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Mc(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function aJ(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,l=e.shortDays,u=e.months,d=e.shortMonths,f=$c(a),h=Ic(a),g=$c(s),v=Ic(s),y=$c(l),S=Ic(l),k=$c(u),_=Ic(u),j=$c(d),O=Ic(d),E={a:H,A:W,b:ee,B:ve,c:null,d:dN,e:dN,f:OJ,g:IJ,G:zJ,H:kJ,I:jJ,j:EJ,L:VD,m:NJ,M:AJ,p:L,q:K,Q:mN,s:pN,S:TJ,u:CJ,U:PJ,V:DJ,w:RJ,W:MJ,x:null,X:null,y:$J,Y:LJ,Z:UJ,"%":hN},D={a:F,A:Z,b:le,B:ue,c:null,d:fN,e:fN,f:FJ,g:eQ,G:rQ,H:BJ,I:qJ,j:HJ,L:ZD,m:VJ,M:KJ,p:ne,q:be,Q:mN,s:pN,S:ZJ,u:GJ,U:YJ,V:WJ,w:XJ,W:JJ,x:null,X:null,y:QJ,Y:tQ,Z:nQ,"%":hN},N={a:M,A:I,b:z,B:q,c:re,d:cN,e:cN,f:xJ,g:lN,G:oN,H:uN,I:uN,j:gJ,L:bJ,m:pJ,M:vJ,p:R,q:mJ,Q:_J,s:SJ,S:yJ,u:cJ,U:uJ,V:dJ,w:lJ,W:fJ,x:oe,X:B,y:lN,Y:oN,Z:hJ,"%":wJ};E.x=C(r,E),E.X=C(n,E),E.c=C(t,E),D.x=C(r,D),D.X=C(n,D),D.c=C(t,D);function C(G,ge){return function(ye){var X=[],xe=-1,ae=0,me=G.length,pe,_e,Ce;for(ye instanceof Date||(ye=new Date(+ye));++xe<me;)G.charCodeAt(xe)===37&&(X.push(G.slice(ae,xe)),(_e=sN[pe=G.charAt(++xe)])!=null?pe=G.charAt(++xe):_e=pe==="e"?" ":"0",(Ce=ge[pe])&&(pe=Ce(ye,_e)),X.push(pe),ae=xe+1);return X.push(G.slice(ae,xe)),X.join("")}}function P(G,ge){return function(ye){var X=Mc(1900,void 0,1),xe=T(X,G,ye+="",0),ae,me;if(xe!=ye.length)return null;if("Q"in X)return new Date(X.Q);if("s"in X)return new Date(X.s*1e3+("L"in X?X.L:0));if(ge&&!("Z"in X)&&(X.Z=0),"p"in X&&(X.H=X.H%12+X.p*12),X.m===void 0&&(X.m="q"in X?X.q:0),"V"in X){if(X.V<1||X.V>53)return null;"w"in X||(X.w=1),"Z"in X?(ae=fy(Mc(X.y,0,1)),me=ae.getUTCDay(),ae=me>4||me===0?Xh.ceil(ae):Xh(ae),ae=em.offset(ae,(X.V-1)*7),X.y=ae.getUTCFullYear(),X.m=ae.getUTCMonth(),X.d=ae.getUTCDate()+(X.w+6)%7):(ae=dy(Mc(X.y,0,1)),me=ae.getDay(),ae=me>4||me===0?Wh.ceil(ae):Wh(ae),ae=Iu.offset(ae,(X.V-1)*7),X.y=ae.getFullYear(),X.m=ae.getMonth(),X.d=ae.getDate()+(X.w+6)%7)}else("W"in X||"U"in X)&&("w"in X||(X.w="u"in X?X.u%7:"W"in X?1:0),me="Z"in X?fy(Mc(X.y,0,1)).getUTCDay():dy(Mc(X.y,0,1)).getDay(),X.m=0,X.d="W"in X?(X.w+6)%7+X.W*7-(me+5)%7:X.w+X.U*7-(me+6)%7);return"Z"in X?(X.H+=X.Z/100|0,X.M+=X.Z%100,fy(X)):dy(X)}}function T(G,ge,ye,X){for(var xe=0,ae=ge.length,me=ye.length,pe,_e;xe<ae;){if(X>=me)return-1;if(pe=ge.charCodeAt(xe++),pe===37){if(pe=ge.charAt(xe++),_e=N[pe in sN?ge.charAt(xe++):pe],!_e||(X=_e(G,ye,X))<0)return-1}else if(pe!=ye.charCodeAt(X++))return-1}return X}function R(G,ge,ye){var X=f.exec(ge.slice(ye));return X?(G.p=h.get(X[0].toLowerCase()),ye+X[0].length):-1}function M(G,ge,ye){var X=y.exec(ge.slice(ye));return X?(G.w=S.get(X[0].toLowerCase()),ye+X[0].length):-1}function I(G,ge,ye){var X=g.exec(ge.slice(ye));return X?(G.w=v.get(X[0].toLowerCase()),ye+X[0].length):-1}function z(G,ge,ye){var X=j.exec(ge.slice(ye));return X?(G.m=O.get(X[0].toLowerCase()),ye+X[0].length):-1}function q(G,ge,ye){var X=k.exec(ge.slice(ye));return X?(G.m=_.get(X[0].toLowerCase()),ye+X[0].length):-1}function re(G,ge,ye){return T(G,t,ge,ye)}function oe(G,ge,ye){return T(G,r,ge,ye)}function B(G,ge,ye){return T(G,n,ge,ye)}function H(G){return l[G.getDay()]}function W(G){return s[G.getDay()]}function ee(G){return d[G.getMonth()]}function ve(G){return u[G.getMonth()]}function L(G){return a[+(G.getHours()>=12)]}function K(G){return 1+~~(G.getMonth()/3)}function F(G){return l[G.getUTCDay()]}function Z(G){return s[G.getUTCDay()]}function le(G){return d[G.getUTCMonth()]}function ue(G){return u[G.getUTCMonth()]}function ne(G){return a[+(G.getUTCHours()>=12)]}function be(G){return 1+~~(G.getUTCMonth()/3)}return{format:function(G){var ge=C(G+="",E);return ge.toString=function(){return G},ge},parse:function(G){var ge=P(G+="",!1);return ge.toString=function(){return G},ge},utcFormat:function(G){var ge=C(G+="",D);return ge.toString=function(){return G},ge},utcParse:function(G){var ge=P(G+="",!0);return ge.toString=function(){return G},ge}}}var sN={"-":"",_:" ",0:"0"},or=/^\s*\d+/,iJ=/^%/,sJ=/[\\^$*+?|[\]().{}]/g;function Qe(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function oJ(e){return e.replace(sJ,"\\$&")}function $c(e){return new RegExp("^(?:"+e.map(oJ).join("|")+")","i")}function Ic(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function lJ(e,t,r){var n=or.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function cJ(e,t,r){var n=or.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function uJ(e,t,r){var n=or.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function dJ(e,t,r){var n=or.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function fJ(e,t,r){var n=or.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function oN(e,t,r){var n=or.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function lN(e,t,r){var n=or.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function hJ(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function mJ(e,t,r){var n=or.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function pJ(e,t,r){var n=or.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function cN(e,t,r){var n=or.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function gJ(e,t,r){var n=or.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function uN(e,t,r){var n=or.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function vJ(e,t,r){var n=or.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function yJ(e,t,r){var n=or.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function bJ(e,t,r){var n=or.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function xJ(e,t,r){var n=or.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function wJ(e,t,r){var n=iJ.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function _J(e,t,r){var n=or.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function SJ(e,t,r){var n=or.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function dN(e,t){return Qe(e.getDate(),t,2)}function kJ(e,t){return Qe(e.getHours(),t,2)}function jJ(e,t){return Qe(e.getHours()%12||12,t,2)}function EJ(e,t){return Qe(1+Iu.count(ai(e),e),t,3)}function VD(e,t){return Qe(e.getMilliseconds(),t,3)}function OJ(e,t){return VD(e,t)+"000"}function NJ(e,t){return Qe(e.getMonth()+1,t,2)}function AJ(e,t){return Qe(e.getMinutes(),t,2)}function TJ(e,t){return Qe(e.getSeconds(),t,2)}function CJ(e){var t=e.getDay();return t===0?7:t}function PJ(e,t){return Qe(tm.count(ai(e)-1,e),t,2)}function KD(e){var t=e.getDay();return t>=4||t===0?yl(e):yl.ceil(e)}function DJ(e,t){return e=KD(e),Qe(yl.count(ai(e),e)+(ai(e).getDay()===4),t,2)}function RJ(e){return e.getDay()}function MJ(e,t){return Qe(Wh.count(ai(e)-1,e),t,2)}function $J(e,t){return Qe(e.getFullYear()%100,t,2)}function IJ(e,t){return e=KD(e),Qe(e.getFullYear()%100,t,2)}function LJ(e,t){return Qe(e.getFullYear()%1e4,t,4)}function zJ(e,t){var r=e.getDay();return e=r>=4||r===0?yl(e):yl.ceil(e),Qe(e.getFullYear()%1e4,t,4)}function UJ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Qe(t/60|0,"0",2)+Qe(t%60,"0",2)}function fN(e,t){return Qe(e.getUTCDate(),t,2)}function BJ(e,t){return Qe(e.getUTCHours(),t,2)}function qJ(e,t){return Qe(e.getUTCHours()%12||12,t,2)}function HJ(e,t){return Qe(1+em.count(ii(e),e),t,3)}function ZD(e,t){return Qe(e.getUTCMilliseconds(),t,3)}function FJ(e,t){return ZD(e,t)+"000"}function VJ(e,t){return Qe(e.getUTCMonth()+1,t,2)}function KJ(e,t){return Qe(e.getUTCMinutes(),t,2)}function ZJ(e,t){return Qe(e.getUTCSeconds(),t,2)}function GJ(e){var t=e.getUTCDay();return t===0?7:t}function YJ(e,t){return Qe(rm.count(ii(e)-1,e),t,2)}function GD(e){var t=e.getUTCDay();return t>=4||t===0?bl(e):bl.ceil(e)}function WJ(e,t){return e=GD(e),Qe(bl.count(ii(e),e)+(ii(e).getUTCDay()===4),t,2)}function XJ(e){return e.getUTCDay()}function JJ(e,t){return Qe(Xh.count(ii(e)-1,e),t,2)}function QJ(e,t){return Qe(e.getUTCFullYear()%100,t,2)}function eQ(e,t){return e=GD(e),Qe(e.getUTCFullYear()%100,t,2)}function tQ(e,t){return Qe(e.getUTCFullYear()%1e4,t,4)}function rQ(e,t){var r=e.getUTCDay();return e=r>=4||r===0?bl(e):bl.ceil(e),Qe(e.getUTCFullYear()%1e4,t,4)}function nQ(){return"+0000"}function hN(){return"%"}function mN(e){return+e}function pN(e){return Math.floor(+e/1e3)}var Go,YD,WD;aQ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function aQ(e){return Go=aJ(e),YD=Go.format,Go.parse,WD=Go.utcFormat,Go.utcParse,Go}function iQ(e){return new Date(e)}function sQ(e){return e instanceof Date?+e:+new Date(+e)}function yw(e,t,r,n,a,s,l,u,d,f){var h=aw(),g=h.invert,v=h.domain,y=f(".%L"),S=f(":%S"),k=f("%I:%M"),_=f("%I %p"),j=f("%a %d"),O=f("%b %d"),E=f("%B"),D=f("%Y");function N(C){return(d(C)<C?y:u(C)<C?S:l(C)<C?k:s(C)<C?_:n(C)<C?a(C)<C?j:O:r(C)<C?E:D)(C)}return h.invert=function(C){return new Date(g(C))},h.domain=function(C){return arguments.length?v(Array.from(C,sQ)):v().map(iQ)},h.ticks=function(C){var P=v();return e(P[0],P[P.length-1],C??10)},h.tickFormat=function(C,P){return P==null?N:f(P)},h.nice=function(C){var P=v();return(!C||typeof C.range!="function")&&(C=t(P[0],P[P.length-1],C??10)),C?v($D(P,C)):h},h.copy=function(){return $u(h,yw(e,t,r,n,a,s,l,u,d,f))},h}function oQ(){return Bn.apply(yw(rJ,nJ,ai,gw,tm,Iu,mw,fw,$s,YD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function lQ(){return Bn.apply(yw(eJ,tJ,ii,vw,rm,em,pw,hw,$s,WD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function nm(){var e=0,t=1,r,n,a,s,l=Dr,u=!1,d;function f(g){return g==null||isNaN(g=+g)?d:l(a===0?.5:(g=(s(g)-r)*a,u?Math.max(0,Math.min(1,g)):g))}f.domain=function(g){return arguments.length?([e,t]=g,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),f):[e,t]},f.clamp=function(g){return arguments.length?(u=!!g,f):u},f.interpolator=function(g){return arguments.length?(l=g,f):l};function h(g){return function(v){var y,S;return arguments.length?([y,S]=v,l=g(y,S),f):[l(0),l(1)]}}return f.range=h(Nl),f.rangeRound=h(nw),f.unknown=function(g){return arguments.length?(d=g,f):d},function(g){return s=g,r=g(e),n=g(t),a=r===n?0:1/(n-r),f}}function ts(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function XD(){var e=es(nm()(Dr));return e.copy=function(){return ts(e,XD())},fi.apply(e,arguments)}function JD(){var e=ow(nm()).domain([1,10]);return e.copy=function(){return ts(e,JD()).base(e.base())},fi.apply(e,arguments)}function QD(){var e=lw(nm());return e.copy=function(){return ts(e,QD()).constant(e.constant())},fi.apply(e,arguments)}function bw(){var e=cw(nm());return e.copy=function(){return ts(e,bw()).exponent(e.exponent())},fi.apply(e,arguments)}function cQ(){return bw.apply(null,arguments).exponent(.5)}function e4(){var e=[],t=Dr;function r(n){if(n!=null&&!isNaN(n=+n))return t((Ru(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Gi),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>GW(e,s/n))},r.copy=function(){return e4(t).domain(e)},fi.apply(r,arguments)}function am(){var e=0,t=.5,r=1,n=1,a,s,l,u,d,f=Dr,h,g=!1,v;function y(k){return isNaN(k=+k)?v:(k=.5+((k=+h(k))-s)*(n*k<n*s?u:d),f(g?Math.max(0,Math.min(1,k)):k))}y.domain=function(k){return arguments.length?([e,t,r]=k,a=h(e=+e),s=h(t=+t),l=h(r=+r),u=a===s?0:.5/(s-a),d=s===l?0:.5/(l-s),n=s<a?-1:1,y):[e,t,r]},y.clamp=function(k){return arguments.length?(g=!!k,y):g},y.interpolator=function(k){return arguments.length?(f=k,y):f};function S(k){return function(_){var j,O,E;return arguments.length?([j,O,E]=_,f=wX(k,[j,O,E]),y):[f(0),f(.5),f(1)]}}return y.range=S(Nl),y.rangeRound=S(nw),y.unknown=function(k){return arguments.length?(v=k,y):v},function(k){return h=k,a=k(e),s=k(t),l=k(r),u=a===s?0:.5/(s-a),d=s===l?0:.5/(l-s),n=s<a?-1:1,y}}function t4(){var e=es(am()(Dr));return e.copy=function(){return ts(e,t4())},fi.apply(e,arguments)}function r4(){var e=ow(am()).domain([.1,1,10]);return e.copy=function(){return ts(e,r4()).base(e.base())},fi.apply(e,arguments)}function n4(){var e=lw(am());return e.copy=function(){return ts(e,n4()).constant(e.constant())},fi.apply(e,arguments)}function xw(){var e=cw(am());return e.copy=function(){return ts(e,xw()).exponent(e.exponent())},fi.apply(e,arguments)}function uQ(){return xw.apply(null,arguments).exponent(.5)}const Kc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ew,scaleDiverging:t4,scaleDivergingLog:r4,scaleDivergingPow:xw,scaleDivergingSqrt:uQ,scaleDivergingSymlog:n4,scaleIdentity:MD,scaleImplicit:Mb,scaleLinear:RD,scaleLog:ID,scaleOrdinal:Qx,scalePoint:XW,scalePow:uw,scaleQuantile:UD,scaleQuantize:BD,scaleRadial:zD,scaleSequential:XD,scaleSequentialLog:JD,scaleSequentialPow:bw,scaleSequentialQuantile:e4,scaleSequentialSqrt:cQ,scaleSequentialSymlog:QD,scaleSqrt:FX,scaleSymlog:LD,scaleThreshold:qD,scaleTime:oQ,scaleUtc:lQ,tickFormat:DD},Symbol.toStringTag,{value:"Module"}));var rs=e=>e.chartData,dQ=se([rs],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),ww=(e,t,r,n)=>n?dQ(e):rs(e);function Wi(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(ft(t)&&ft(r))return!0}return!1}function gN(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function a4(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,s;if(ft(r))a=r;else if(typeof r=="function")return;if(ft(n))s=n;else if(typeof n=="function")return;var l=[a,s];if(Wi(l))return l}}function fQ(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Wi(n))return gN(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,s]=e,l,u;if(a==="auto")t!=null&&(l=Math.min(...t));else if(Ae(a))l=a;else if(typeof a=="function")try{t!=null&&(l=a(t?.[0]))}catch{}else if(typeof a=="string"&&KE.test(a)){var d=KE.exec(a);if(d==null||t==null)l=void 0;else{var f=+d[1];l=t[0]-f}}else l=t?.[0];if(s==="auto")t!=null&&(u=Math.max(...t));else if(Ae(s))u=s;else if(typeof s=="function")try{t!=null&&(u=s(t?.[1]))}catch{}else if(typeof s=="string"&&ZE.test(s)){var h=ZE.exec(s);if(h==null||t==null)u=void 0;else{var g=+h[1];u=t[1]+g}}else u=t?.[1];var v=[l,u];if(Wi(v))return t==null?v:gN(v,t,r)}}}var Al=1e9,hQ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Sw,kt=!0,Ln="[DecimalError] ",Us=Ln+"Invalid argument: ",_w=Ln+"Exponent out of range: ",Tl=Math.floor,Ns=Math.pow,mQ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,mn,sr=1e7,yt=7,i4=9007199254740991,Jh=Tl(i4/yt),ke={};ke.absoluteValue=ke.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ke.comparedTo=ke.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};ke.decimalPlaces=ke.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*yt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ke.dividedBy=ke.div=function(e){return Ja(this,new this.constructor(e))};ke.dividedToIntegerBy=ke.idiv=function(e){var t=this,r=t.constructor;return ct(Ja(t,new r(e),0,1),r.precision)};ke.equals=ke.eq=function(e){return!this.cmp(e)};ke.exponent=function(){return Kt(this)};ke.greaterThan=ke.gt=function(e){return this.cmp(e)>0};ke.greaterThanOrEqualTo=ke.gte=function(e){return this.cmp(e)>=0};ke.isInteger=ke.isint=function(){return this.e>this.d.length-2};ke.isNegative=ke.isneg=function(){return this.s<0};ke.isPositive=ke.ispos=function(){return this.s>0};ke.isZero=function(){return this.s===0};ke.lessThan=ke.lt=function(e){return this.cmp(e)<0};ke.lessThanOrEqualTo=ke.lte=function(e){return this.cmp(e)<1};ke.logarithm=ke.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(mn))throw Error(Ln+"NaN");if(r.s<1)throw Error(Ln+(r.s?"NaN":"-Infinity"));return r.eq(mn)?new n(0):(kt=!1,t=Ja(yu(r,s),yu(e,s),s),kt=!0,ct(t,a))};ke.minus=ke.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?l4(t,e):s4(t,(e.s=-e.s,e))};ke.modulo=ke.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Ln+"NaN");return r.s?(kt=!1,t=Ja(r,e,0,1).times(e),kt=!0,r.minus(t)):ct(new n(r),a)};ke.naturalExponential=ke.exp=function(){return o4(this)};ke.naturalLogarithm=ke.ln=function(){return yu(this)};ke.negated=ke.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ke.plus=ke.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?s4(t,e):l4(t,(e.s=-e.s,e))};ke.precision=ke.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Us+e);if(t=Kt(a)+1,n=a.d.length-1,r=n*yt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ke.squareRoot=ke.sqrt=function(){var e,t,r,n,a,s,l,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(Ln+"NaN")}for(e=Kt(u),kt=!1,a=Math.sqrt(+u),a==0||a==1/0?(t=fa(u.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Tl((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new d(t)):n=new d(a.toString()),r=d.precision,a=l=r+3;;)if(s=n,n=s.plus(Ja(u,s,l+2)).times(.5),fa(s.d).slice(0,l)===(t=fa(n.d)).slice(0,l)){if(t=t.slice(l-3,l+1),a==l&&t=="4999"){if(ct(s,r+1,0),s.times(s).eq(u)){n=s;break}}else if(t!="9999")break;l+=4}return kt=!0,ct(n,r)};ke.times=ke.mul=function(e){var t,r,n,a,s,l,u,d,f,h=this,g=h.constructor,v=h.d,y=(e=new g(e)).d;if(!h.s||!e.s)return new g(0);for(e.s*=h.s,r=h.e+e.e,d=v.length,f=y.length,d<f&&(s=v,v=y,y=s,l=d,d=f,f=l),s=[],l=d+f,n=l;n--;)s.push(0);for(n=f;--n>=0;){for(t=0,a=d+n;a>n;)u=s[a]+y[n]*v[a-n-1]+t,s[a--]=u%sr|0,t=u/sr|0;s[a]=(s[a]+t)%sr|0}for(;!s[--l];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,kt?ct(e,g.precision):e};ke.toDecimalPlaces=ke.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ya(e,0,Al),t===void 0?t=n.rounding:ya(t,0,8),ct(r,e+Kt(r)+1,t))};ke.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Zs(n,!0):(ya(e,0,Al),t===void 0?t=a.rounding:ya(t,0,8),n=ct(new a(n),e+1,t),r=Zs(n,!0,e+1)),r};ke.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?Zs(a):(ya(e,0,Al),t===void 0?t=s.rounding:ya(t,0,8),n=ct(new s(a),e+Kt(a)+1,t),r=Zs(n.abs(),!1,e+Kt(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};ke.toInteger=ke.toint=function(){var e=this,t=e.constructor;return ct(new t(e),Kt(e)+1,t.rounding)};ke.toNumber=function(){return+this};ke.toPower=ke.pow=function(e){var t,r,n,a,s,l,u=this,d=u.constructor,f=12,h=+(e=new d(e));if(!e.s)return new d(mn);if(u=new d(u),!u.s){if(e.s<1)throw Error(Ln+"Infinity");return u}if(u.eq(mn))return u;if(n=d.precision,e.eq(mn))return ct(u,n);if(t=e.e,r=e.d.length-1,l=t>=r,s=u.s,l){if((r=h<0?-h:h)<=i4){for(a=new d(mn),t=Math.ceil(n/yt+4),kt=!1;r%2&&(a=a.times(u),yN(a.d,t)),r=Tl(r/2),r!==0;)u=u.times(u),yN(u.d,t);return kt=!0,e.s<0?new d(mn).div(a):ct(a,n)}}else if(s<0)throw Error(Ln+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,u.s=1,kt=!1,a=e.times(yu(u,n+f)),kt=!0,a=o4(a),a.s=s,a};ke.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=Kt(a),n=Zs(a,r<=s.toExpNeg||r>=s.toExpPos)):(ya(e,1,Al),t===void 0?t=s.rounding:ya(t,0,8),a=ct(new s(a),e,t),r=Kt(a),n=Zs(a,e<=r||r<=s.toExpNeg,e)),n};ke.toSignificantDigits=ke.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ya(e,1,Al),t===void 0?t=n.rounding:ya(t,0,8)),ct(new n(r),e,t)};ke.toString=ke.valueOf=ke.val=ke.toJSON=ke[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Kt(e),r=e.constructor;return Zs(e,t<=r.toExpNeg||t>=r.toExpPos)};function s4(e,t){var r,n,a,s,l,u,d,f,h=e.constructor,g=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),kt?ct(t,g):t;if(d=e.d,f=t.d,l=e.e,a=t.e,d=d.slice(),s=l-a,s){for(s<0?(n=d,s=-s,u=f.length):(n=f,a=l,u=d.length),l=Math.ceil(g/yt),u=l>u?l+1:u+1,s>u&&(s=u,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(u=d.length,s=f.length,u-s<0&&(s=u,n=f,f=d,d=n),r=0;s;)r=(d[--s]=d[s]+f[s]+r)/sr|0,d[s]%=sr;for(r&&(d.unshift(r),++a),u=d.length;d[--u]==0;)d.pop();return t.d=d,t.e=a,kt?ct(t,g):t}function ya(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Us+e)}function fa(e){var t,r,n,a=e.length-1,s="",l=e[0];if(a>0){for(s+=l,t=1;t<a;t++)n=e[t]+"",r=yt-n.length,r&&(s+=zi(r)),s+=n;l=e[t],n=l+"",r=yt-n.length,r&&(s+=zi(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var Ja=(function(){function e(n,a){var s,l=0,u=n.length;for(n=n.slice();u--;)s=n[u]*a+l,n[u]=s%sr|0,l=s/sr|0;return l&&n.unshift(l),n}function t(n,a,s,l){var u,d;if(s!=l)d=s>l?1:-1;else for(u=d=0;u<s;u++)if(n[u]!=a[u]){d=n[u]>a[u]?1:-1;break}return d}function r(n,a,s){for(var l=0;s--;)n[s]-=l,l=n[s]<a[s]?1:0,n[s]=l*sr+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,l){var u,d,f,h,g,v,y,S,k,_,j,O,E,D,N,C,P,T,R=n.constructor,M=n.s==a.s?1:-1,I=n.d,z=a.d;if(!n.s)return new R(n);if(!a.s)throw Error(Ln+"Division by zero");for(d=n.e-a.e,P=z.length,N=I.length,y=new R(M),S=y.d=[],f=0;z[f]==(I[f]||0);)++f;if(z[f]>(I[f]||0)&&--d,s==null?O=s=R.precision:l?O=s+(Kt(n)-Kt(a))+1:O=s,O<0)return new R(0);if(O=O/yt+2|0,f=0,P==1)for(h=0,z=z[0],O++;(f<N||h)&&O--;f++)E=h*sr+(I[f]||0),S[f]=E/z|0,h=E%z|0;else{for(h=sr/(z[0]+1)|0,h>1&&(z=e(z,h),I=e(I,h),P=z.length,N=I.length),D=P,k=I.slice(0,P),_=k.length;_<P;)k[_++]=0;T=z.slice(),T.unshift(0),C=z[0],z[1]>=sr/2&&++C;do h=0,u=t(z,k,P,_),u<0?(j=k[0],P!=_&&(j=j*sr+(k[1]||0)),h=j/C|0,h>1?(h>=sr&&(h=sr-1),g=e(z,h),v=g.length,_=k.length,u=t(g,k,v,_),u==1&&(h--,r(g,P<v?T:z,v))):(h==0&&(u=h=1),g=z.slice()),v=g.length,v<_&&g.unshift(0),r(k,g,_),u==-1&&(_=k.length,u=t(z,k,P,_),u<1&&(h++,r(k,P<_?T:z,_))),_=k.length):u===0&&(h++,k=[0]),S[f++]=h,u&&k[0]?k[_++]=I[D]||0:(k=[I[D]],_=1);while((D++<N||k[0]!==void 0)&&O--)}return S[0]||S.shift(),y.e=d,ct(y,l?s+Kt(y)+1:s)}})();function o4(e,t){var r,n,a,s,l,u,d=0,f=0,h=e.constructor,g=h.precision;if(Kt(e)>16)throw Error(_w+Kt(e));if(!e.s)return new h(mn);for(kt=!1,u=g,l=new h(.03125);e.abs().gte(.1);)e=e.times(l),f+=5;for(n=Math.log(Ns(2,f))/Math.LN10*2+5|0,u+=n,r=a=s=new h(mn),h.precision=u;;){if(a=ct(a.times(e),u),r=r.times(++d),l=s.plus(Ja(a,r,u)),fa(l.d).slice(0,u)===fa(s.d).slice(0,u)){for(;f--;)s=ct(s.times(s),u);return h.precision=g,t==null?(kt=!0,ct(s,g)):s}s=l}}function Kt(e){for(var t=e.e*yt,r=e.d[0];r>=10;r/=10)t++;return t}function hy(e,t,r){if(t>e.LN10.sd())throw kt=!0,r&&(e.precision=r),Error(Ln+"LN10 precision limit exceeded");return ct(new e(e.LN10),t)}function zi(e){for(var t="";e--;)t+="0";return t}function yu(e,t){var r,n,a,s,l,u,d,f,h,g=1,v=10,y=e,S=y.d,k=y.constructor,_=k.precision;if(y.s<1)throw Error(Ln+(y.s?"NaN":"-Infinity"));if(y.eq(mn))return new k(0);if(t==null?(kt=!1,f=_):f=t,y.eq(10))return t==null&&(kt=!0),hy(k,f);if(f+=v,k.precision=f,r=fa(S),n=r.charAt(0),s=Kt(y),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)y=y.times(e),r=fa(y.d),n=r.charAt(0),g++;s=Kt(y),n>1?(y=new k("0."+r),s++):y=new k(n+"."+r.slice(1))}else return d=hy(k,f+2,_).times(s+""),y=yu(new k(n+"."+r.slice(1)),f-v).plus(d),k.precision=_,t==null?(kt=!0,ct(y,_)):y;for(u=l=y=Ja(y.minus(mn),y.plus(mn),f),h=ct(y.times(y),f),a=3;;){if(l=ct(l.times(h),f),d=u.plus(Ja(l,new k(a),f)),fa(d.d).slice(0,f)===fa(u.d).slice(0,f))return u=u.times(2),s!==0&&(u=u.plus(hy(k,f+2,_).times(s+""))),u=Ja(u,new k(g),f),k.precision=_,t==null?(kt=!0,ct(u,_)):u;u=d,a+=2}}function vN(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Tl(r/yt),e.d=[],n=(r+1)%yt,r<0&&(n+=yt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=yt;n<a;)e.d.push(+t.slice(n,n+=yt));t=t.slice(n),n=yt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),kt&&(e.e>Jh||e.e<-Jh))throw Error(_w+r)}else e.s=0,e.e=0,e.d=[0];return e}function ct(e,t,r){var n,a,s,l,u,d,f,h,g=e.d;for(l=1,s=g[0];s>=10;s/=10)l++;if(n=t-l,n<0)n+=yt,a=t,f=g[h=0];else{if(h=Math.ceil((n+1)/yt),s=g.length,h>=s)return e;for(f=s=g[h],l=1;s>=10;s/=10)l++;n%=yt,a=n-yt+l}if(r!==void 0&&(s=Ns(10,l-a-1),u=f/s%10|0,d=t<0||g[h+1]!==void 0||f%s,d=r<4?(u||d)&&(r==0||r==(e.s<0?3:2)):u>5||u==5&&(r==4||d||r==6&&(n>0?a>0?f/Ns(10,l-a):0:g[h-1])%10&1||r==(e.s<0?8:7))),t<1||!g[0])return d?(s=Kt(e),g.length=1,t=t-s-1,g[0]=Ns(10,(yt-t%yt)%yt),e.e=Tl(-t/yt)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(n==0?(g.length=h,s=1,h--):(g.length=h+1,s=Ns(10,yt-n),g[h]=a>0?(f/Ns(10,l-a)%Ns(10,a)|0)*s:0),d)for(;;)if(h==0){(g[0]+=s)==sr&&(g[0]=1,++e.e);break}else{if(g[h]+=s,g[h]!=sr)break;g[h--]=0,s=1}for(n=g.length;g[--n]===0;)g.pop();if(kt&&(e.e>Jh||e.e<-Jh))throw Error(_w+Kt(e));return e}function l4(e,t){var r,n,a,s,l,u,d,f,h,g,v=e.constructor,y=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),kt?ct(t,y):t;if(d=e.d,g=t.d,n=t.e,f=e.e,d=d.slice(),l=f-n,l){for(h=l<0,h?(r=d,l=-l,u=g.length):(r=g,n=f,u=d.length),a=Math.max(Math.ceil(y/yt),u)+2,l>a&&(l=a,r.length=1),r.reverse(),a=l;a--;)r.push(0);r.reverse()}else{for(a=d.length,u=g.length,h=a<u,h&&(u=a),a=0;a<u;a++)if(d[a]!=g[a]){h=d[a]<g[a];break}l=0}for(h&&(r=d,d=g,g=r,t.s=-t.s),u=d.length,a=g.length-u;a>0;--a)d[u++]=0;for(a=g.length;a>l;){if(d[--a]<g[a]){for(s=a;s&&d[--s]===0;)d[s]=sr-1;--d[s],d[a]+=sr}d[a]-=g[a]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(t.d=d,t.e=n,kt?ct(t,y):t):new v(0)}function Zs(e,t,r){var n,a=Kt(e),s=fa(e.d),l=s.length;return t?(r&&(n=r-l)>0?s=s.charAt(0)+"."+s.slice(1)+zi(n):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+zi(-a-1)+s,r&&(n=r-l)>0&&(s+=zi(n))):a>=l?(s+=zi(a+1-l),r&&(n=r-a-1)>0&&(s=s+"."+zi(n))):((n=a+1)<l&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-l)>0&&(a+1===l&&(s+="."),s+=zi(n))),e.s<0?"-"+s:s}function yN(e,t){if(e.length>t)return e.length=t,!0}function c4(e){var t,r,n;function a(s){var l=this;if(!(l instanceof a))return new a(s);if(l.constructor=a,s instanceof a){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Us+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return vN(l,s.toString())}else if(typeof s!="string")throw Error(Us+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,mQ.test(s))vN(l,s);else throw Error(Us+s)}if(a.prototype=ke,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=c4,a.config=a.set=pQ,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function pQ(e){if(!e||typeof e!="object")throw Error(Ln+"Object expected");var t,r,n,a=["precision",1,Al,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Tl(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Us+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Us+r+": "+n);return this}var Sw=c4(hQ);mn=new Sw(1);const at=Sw;var gQ=e=>e,u4={},d4=e=>e===u4,bN=e=>function t(){return arguments.length===0||arguments.length===1&&d4(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},f4=(e,t)=>e===1?t:bN(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var s=n.filter(l=>l!==u4).length;return s>=e?t(...n):f4(e-s,bN(function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];var f=n.map(h=>d4(h)?u.shift():h);return t(...f,...u)}))}),vQ=e=>f4(e.length,e),zb=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},yQ=vQ((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),bQ=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return gQ;var a=r.reverse(),s=a[0],l=a.slice(1);return function(){return l.reduce((u,d)=>d(u),s(...arguments))}},Ub=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function h4(e){var t;return e===0?t=1:t=Math.floor(new at(e).abs().log(10).toNumber())+1,t}function m4(e,t,r){for(var n=new at(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var p4=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},g4=(e,t,r)=>{if(e.lte(0))return new at(0);var n=h4(e.toNumber()),a=new at(10).pow(n),s=e.div(a),l=n!==1?.05:.1,u=new at(Math.ceil(s.div(l).toNumber())).add(r).mul(l),d=u.mul(a);return t?new at(d.toNumber()):new at(Math.ceil(d.toNumber()))},xQ=(e,t,r)=>{var n=new at(1),a=new at(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new at(10).pow(h4(e)-1),a=new at(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new at(Math.floor(e)))}else e===0?a=new at(Math.floor((t-1)/2)):r||(a=new at(Math.floor(e)));var l=Math.floor((t-1)/2),u=bQ(yQ(d=>a.add(new at(d-l).mul(n)).toNumber()),zb);return u(0,t)},v4=function(t,r,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new at(0),tickMin:new at(0),tickMax:new at(0)};var l=g4(new at(r).sub(t).div(n-1),a,s),u;t<=0&&r>=0?u=new at(0):(u=new at(t).add(r).div(2),u=u.sub(new at(u).mod(l)));var d=Math.ceil(u.sub(t).div(l).toNumber()),f=Math.ceil(new at(r).sub(u).div(l).toNumber()),h=d+f+1;return h>n?v4(t,r,n,a,s+1):(h<n&&(f=r>0?f+(n-h):f,d=r>0?d:d+(n-h)),{step:l,tickMin:u.sub(new at(d).mul(l)),tickMax:u.add(new at(f).mul(l))})},wQ=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(a,2),[u,d]=p4([r,n]);if(u===-1/0||d===1/0){var f=d===1/0?[u,...zb(0,a-1).map(()=>1/0)]:[...zb(0,a-1).map(()=>-1/0),d];return r>n?Ub(f):f}if(u===d)return xQ(u,a,s);var{step:h,tickMin:g,tickMax:v}=v4(u,d,l,s,0),y=m4(g,v.add(new at(.1).mul(h)),h);return r>n?Ub(y):y},_Q=function(t,r){var[n,a]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,u]=p4([n,a]);if(l===-1/0||u===1/0)return[n,a];if(l===u)return[l];var d=Math.max(r,2),f=g4(new at(u).sub(l).div(d-1),s,0),h=[...m4(new at(l),new at(u),f),u];return s===!1&&(h=h.map(g=>Math.round(g))),n>a?Ub(h):h},SQ=e=>e.rootProps.barCategoryGap,im=e=>e.rootProps.stackOffset,y4=e=>e.rootProps.reverseStackOrder,kw=e=>e.options.chartName,jw=e=>e.rootProps.syncId,b4=e=>e.rootProps.syncMethod,Ew=e=>e.options.eventEmitter,kQ=e=>e.rootProps.baseValue,Or={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Ka={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},fn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},sm=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},jQ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ka.angleAxisId,includeHidden:!1,name:void 0,reversed:Ka.reversed,scale:Ka.scale,tick:Ka.tick,tickCount:void 0,ticks:void 0,type:Ka.type,unit:void 0},EQ={allowDataOverflow:fn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:fn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:fn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:fn.scale,tick:fn.tick,tickCount:fn.tickCount,ticks:void 0,type:fn.type,unit:void 0},OQ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ka.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ka.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ka.scale,tick:Ka.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},NQ={allowDataOverflow:fn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:fn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:fn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:fn.scale,tick:fn.tick,tickCount:fn.tickCount,ticks:void 0,type:"category",unit:void 0},Ow=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?OQ:jQ,Nw=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?NQ:EQ,om=e=>e.polarOptions,Aw=se([ui,di,wr],wW),x4=se([om,Aw],(e,t)=>{if(e!=null)return Yi(e.innerRadius,t,0)}),w4=se([om,Aw],(e,t)=>{if(e!=null)return Yi(e.outerRadius,t,t*.8)}),AQ=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},_4=se([om],AQ);se([Ow,_4],sm);var S4=se([Aw,x4,w4],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});se([Nw,S4],sm);var k4=se([mt,om,x4,w4,ui,di],(e,t,r,n,a,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:l,cy:u,startAngle:d,endAngle:f}=t;return{cx:Yi(l,a,a/2),cy:Yi(u,s,s/2),innerRadius:r,outerRadius:n,startAngle:d,endAngle:f,clockWise:!1}}}),Jt=(e,t)=>t,lm=(e,t,r)=>r;function Tw(e){return e?.id}function j4(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:s}=r,l=new Map;return e.forEach(u=>{var d,f=(d=u.data)!==null&&d!==void 0?d:n;if(!(f==null||f.length===0)){var h=Tw(u);f.forEach((g,v)=>{var y=s==null||a?v:String(Nr(g,s,null)),S=Nr(g,u.dataKey,0),k;l.has(y)?k=l.get(y):k={},Object.assign(k,{[h]:S}),l.set(y,k)})}}),Array.from(l.values())}function Cw(e){return e.stackId!=null&&e.dataKey!=null}var cm=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function um(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function TQ(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var Qt=e=>{var t=mt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Cl=e=>e.tooltip.settings.axisId;function xN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xN(Object(r),!0).forEach(function(n){CQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CQ(e,t,r){return(t=PQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PQ(e){var t=DQ(e,"string");return typeof t=="symbol"?t:t+""}function DQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bb=[0,"auto"],ar={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},E4=(e,t)=>e.cartesianAxis.xAxis[t],xa=(e,t)=>{var r=E4(e,t);return r??ar},ir={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Bb,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Tu},O4=(e,t)=>e.cartesianAxis.yAxis[t],wa=(e,t)=>{var r=O4(e,t);return r??ir},RQ={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Pw=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??RQ},Lr=(e,t,r)=>{switch(t){case"xAxis":return xa(e,r);case"yAxis":return wa(e,r);case"zAxis":return Pw(e,r);case"angleAxis":return Ow(e,r);case"radiusAxis":return Nw(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},MQ=(e,t,r)=>{switch(t){case"xAxis":return xa(e,r);case"yAxis":return wa(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Lu=(e,t,r)=>{switch(t){case"xAxis":return xa(e,r);case"yAxis":return wa(e,r);case"angleAxis":return Ow(e,r);case"radiusAxis":return Nw(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},N4=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function A4(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var T4=e=>e.graphicalItems.cartesianItems,$Q=se([Jt,lm],A4),C4=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),zu=se([T4,Lr,$Q],C4,{memoizeOptions:{resultEqualityCheck:um}}),P4=se([zu],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Cw)),D4=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),IQ=se([zu],D4),R4=e=>e.map(t=>t.data).filter(Boolean).flat(1),LQ=se([zu],R4,{memoizeOptions:{resultEqualityCheck:um}}),M4=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},Dw=se([LQ,ww],M4),$4=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:Nr(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:Nr(a,n)}))):e.map(n=>({value:n})),dm=se([Dw,Lr,zu],$4);function I4(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function th(e){if($n(e)||e instanceof Date){var t=Number(e);if(ft(t))return t}}function wN(e){if(Array.isArray(e)){var t=[th(e[0]),th(e[1])];return Wi(t)?t:void 0}var r=th(e);if(r!=null)return[r,r]}function si(e){return e.map(th).filter(tK)}function zQ(e,t,r){return!r||typeof t!="number"||bn(t)?[]:r.length?si(r.flatMap(n=>{var a=Nr(e,n.dataKey),s,l;if(Array.isArray(a)?[s,l]=a:s=l=a,!(!ft(s)||!ft(l)))return[t-s,t+l]})):[]}var er=e=>{var t=Qt(e),r=Cl(e);return Lu(e,t,r)},Uu=se([er],e=>e?.dataKey),UQ=se([P4,ww,er],j4),L4=(e,t,r,n)=>{var a={},s=t.reduce((l,u)=>(u.stackId==null||(l[u.stackId]==null&&(l[u.stackId]=[]),l[u.stackId].push(u)),l),a);return Object.fromEntries(Object.entries(s).map(l=>{var[u,d]=l,f=n?[...d].reverse():d,h=f.map(Tw);return[u,{stackedData:uG(e,h,r),graphicalItems:f}]}))},qb=se([UQ,P4,im,y4],L4),z4=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:s}=t;if(n==null&&r!=="zAxis"){var l=mG(e,a,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},BQ=se([Lr],e=>e.allowDataOverflow),Rw=e=>{var t;if(e==null||!("domain"in e))return Bb;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=si(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:Bb},U4=se([Lr],Rw),B4=se([U4,BQ],a4),qQ=se([qb,rs,Jt,B4],z4,{memoizeOptions:{resultEqualityCheck:cm}}),Mw=e=>e.errorBars,HQ=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>I4(r,n)),e0=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var s=a.flat(),l=Math.min(...s),u=Math.max(...s);return[l,u]}},q4=(e,t,r,n,a)=>{var s,l;if(r.length>0&&e.forEach(u=>{r.forEach(d=>{var f,h,g=(f=n[d.id])===null||f===void 0?void 0:f.filter(j=>I4(a,j)),v=Nr(u,(h=t.dataKey)!==null&&h!==void 0?h:d.dataKey),y=zQ(u,v,g);if(y.length>=2){var S=Math.min(...y),k=Math.max(...y);(s==null||S<s)&&(s=S),(l==null||k>l)&&(l=k)}var _=wN(v);_!=null&&(s=s==null?_[0]:Math.min(s,_[0]),l=l==null?_[1]:Math.max(l,_[1]))})}),t?.dataKey!=null&&e.forEach(u=>{var d=wN(Nr(u,t.dataKey));d!=null&&(s=s==null?d[0]:Math.min(s,d[0]),l=l==null?d[1]:Math.max(l,d[1]))}),ft(s)&&ft(l))return[s,l]},FQ=se([Dw,Lr,IQ,Mw,Jt],q4,{memoizeOptions:{resultEqualityCheck:cm}});function VQ(e){var{value:t}=e;if($n(t)||t instanceof Date)return t}var KQ=(e,t,r)=>{var n=e.map(VQ).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&aP(n))?SD(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},H4=e=>e.referenceElements.dots,Pl=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),ZQ=se([H4,Jt,lm],Pl),F4=e=>e.referenceElements.areas,GQ=se([F4,Jt,lm],Pl),V4=e=>e.referenceElements.lines,YQ=se([V4,Jt,lm],Pl),K4=(e,t)=>{var r=si(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},WQ=se(ZQ,Jt,K4),Z4=(e,t)=>{var r=si(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},XQ=se([GQ,Jt],Z4);function JQ(e){var t;if(e.x!=null)return si([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:si(r)}function QQ(e){var t;if(e.y!=null)return si([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:si(r)}var G4=(e,t)=>{var r=e.flatMap(n=>t==="xAxis"?JQ(n):QQ(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},eee=se([YQ,Jt],G4),tee=se(WQ,eee,XQ,(e,t,r)=>e0(e,r,t)),Y4=(e,t,r,n,a,s,l,u)=>{if(r!=null)return r;var d=l==="vertical"&&u==="xAxis"||l==="horizontal"&&u==="yAxis",f=d?e0(n,s,a):e0(s,a);return fQ(t,f,e.allowDataOverflow)},ree=se([Lr,U4,B4,qQ,FQ,tee,mt,Jt],Y4,{memoizeOptions:{resultEqualityCheck:cm}}),nee=[0,1],W4=(e,t,r,n,a,s,l)=>{if(!((e==null||r==null||r.length===0)&&l===void 0)){var{dataKey:u,type:d}=e,f=ci(t,s);if(f&&u==null){var h;return SD(0,(h=r?.length)!==null&&h!==void 0?h:0)}return d==="category"?KQ(n,e,f):a==="expand"?nee:l}},$w=se([Lr,mt,Dw,dm,im,Jt,ree],W4),X4=(e,t,r,n,a)=>{if(e!=null){var{scale:s,type:l}=e;if(s==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":l==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":l==="category"?"band":"linear";if(typeof s=="string"){var u="scale".concat(Ix(s));return u in Kc?u:"point"}}},Bu=se([Lr,mt,N4,kw,Jt],X4);function aee(e){if(e!=null){if(e in Kc)return Kc[e]();var t="scale".concat(Ix(e));if(t in Kc)return Kc[t]()}}function Iw(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=aee(t);if(a!=null){var s=a.domain(r).range(n);return sG(s),s}}}var J4=(e,t,r)=>{var n=Rw(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Wi(e))return wQ(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Wi(e))return _Q(e,t.tickCount,t.allowDecimals)}},Lw=se([$w,Lu,Bu],J4),Q4=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&Wi(t)&&Array.isArray(r)&&r.length>0){var a=t[0],s=r[0],l=t[1],u=r[r.length-1];return[Math.min(a,s),Math.max(l,u)]}return t},iee=se([Lr,$w,Lw,Jt],Q4),see=se(dm,Lr,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(si(e.map(u=>u.value))).sort((u,d)=>u-d);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var s=0;s<n.length-1;s++){var l=n[s+1]-n[s];r=Math.min(r,l)}return r/a}}),eR=se(see,mt,SQ,wr,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!ft(e))return 0;var s=t==="vertical"?n.height:n.width;if(a==="gap")return e*s/2;if(a==="no-gap"){var l=Yi(r,e*s),u=e*s/2;return u-l-(u-l)/s*l}return 0}),oee=(e,t)=>{var r=xa(e,t);return r==null||typeof r.padding!="string"?0:eR(e,"xAxis",t,r.padding)},lee=(e,t)=>{var r=wa(e,t);return r==null||typeof r.padding!="string"?0:eR(e,"yAxis",t,r.padding)},cee=se(xa,oee,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),uee=se(wa,lee,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),dee=se([wr,cee,G0,Z0,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:s}=n;return a?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),fee=se([wr,mt,uee,G0,Z0,(e,t,r)=>r],(e,t,r,n,a,s)=>{var{padding:l}=a;return s?[n.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),qu=(e,t,r,n)=>{var a;switch(t){case"xAxis":return dee(e,r,n);case"yAxis":return fee(e,r,n);case"zAxis":return(a=Pw(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return _4(e);case"radiusAxis":return S4(e,r);default:return}},tR=se([Lr,qu],sm),Xi=se([Lr,Bu,iee,tR],Iw);se([zu,Mw,Jt],HQ);function rR(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var fm=(e,t)=>t,hm=(e,t,r)=>r,hee=se(V0,fm,hm,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(rR)),mee=se(K0,fm,hm,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(rR)),nR=(e,t)=>({width:e.width,height:t.height}),pee=(e,t)=>{var r=typeof t.width=="number"?t.width:Tu;return{width:r,height:e.height}},gee=se(wr,xa,nR),vee=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},yee=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},bee=se(di,wr,hee,fm,hm,(e,t,r,n,a)=>{var s={},l;return r.forEach(u=>{var d=nR(t,u);l==null&&(l=vee(t,n,e));var f=n==="top"&&!a||n==="bottom"&&a;s[u.id]=l-Number(f)*d.height,l+=(f?-1:1)*d.height}),s}),xee=se(ui,wr,mee,fm,hm,(e,t,r,n,a)=>{var s={},l;return r.forEach(u=>{var d=pee(t,u);l==null&&(l=yee(t,n,e));var f=n==="left"&&!a||n==="right"&&a;s[u.id]=l-Number(f)*d.width,l+=(f?-1:1)*d.width}),s}),wee=(e,t)=>{var r=xa(e,t);if(r!=null)return bee(e,r.orientation,r.mirror)},_ee=se([wr,xa,wee,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),See=(e,t)=>{var r=wa(e,t);if(r!=null)return xee(e,r.orientation,r.mirror)},kee=se([wr,wa,See,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),jee=se(wr,wa,(e,t)=>{var r=typeof t.width=="number"?t.width:Tu;return{width:r,height:e.height}}),aR=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:s,dataKey:l}=r,u=ci(e,n),d=t.map(f=>f.value);if(l&&u&&s==="category"&&a&&aP(d))return d}},zw=se([mt,dm,Lr,Jt],aR),iR=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:s}=r,l=ci(e,n);if(l&&(a==="number"||s!=="auto"))return t.map(u=>u.value)}},Uw=se([mt,dm,Lu,Jt],iR),_N=se([mt,MQ,Bu,Xi,zw,Uw,qu,Lw,Jt],(e,t,r,n,a,s,l,u,d)=>{if(t!=null){var f=ci(e,d);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:d,categoricalDomain:s,duplicateDomain:a,isCategorical:f,niceTicks:u,range:l,realScaleType:r,scale:n}}}),Eee=(e,t,r,n,a,s,l,u,d)=>{if(!(t==null||n==null)){var f=ci(e,d),{type:h,ticks:g,tickCount:v}=t,y=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,S=h==="category"&&n.bandwidth?n.bandwidth()/y:0;S=d==="angleAxis"&&s!=null&&s.length>=2?Rn(s[0]-s[1])*2*S:S;var k=g||a;if(k){var _=k.map((j,O)=>{var E=l?l.indexOf(j):j;return{index:O,coordinate:n(E)+S,value:j,offset:S}});return _.filter(j=>ft(j.coordinate))}return f&&u?u.map((j,O)=>({coordinate:n(j)+S,value:j,index:O,offset:S})).filter(j=>ft(j.coordinate)):n.ticks?n.ticks(v).map(j=>({coordinate:n(j)+S,value:j,offset:S})):n.domain().map((j,O)=>({coordinate:n(j)+S,value:l?l[j]:j,index:O,offset:S}))}},sR=se([mt,Lu,Bu,Xi,Lw,qu,zw,Uw,Jt],Eee),Oee=(e,t,r,n,a,s,l)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var u=ci(e,l),{tickCount:d}=t,f=0;return f=l==="angleAxis"&&n?.length>=2?Rn(n[0]-n[1])*2*f:f,u&&s?s.map((h,g)=>({coordinate:r(h)+f,value:h,index:g,offset:f})):r.ticks?r.ticks(d).map(h=>({coordinate:r(h)+f,value:h,offset:f})):r.domain().map((h,g)=>({coordinate:r(h)+f,value:a?a[h]:h,index:g,offset:f}))}},oR=se([mt,Lu,Xi,qu,zw,Uw,Jt],Oee),lR=se(Lr,Xi,(e,t)=>{if(!(e==null||t==null))return Qh(Qh({},e),{},{scale:t})}),Nee=se([Lr,Bu,$w,tR],Iw);se((e,t,r)=>Pw(e,r),Nee,(e,t)=>{if(!(e==null||t==null))return Qh(Qh({},e),{},{scale:t})});var Aee=se([mt,V0,K0],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),cR=e=>e.options.defaultTooltipEventType,uR=e=>e.options.validateTooltipEventTypes;function dR(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Bw(e,t){var r=cR(e),n=uR(e);return dR(t,r,n)}function Tee(e){return Ne(t=>Bw(t,e))}var fR=(e,t)=>{var r,n=Number(t);if(!(bn(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},Cee=e=>e.tooltip.settings,Fi={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Pee={itemInteraction:{click:Fi,hover:Fi},axisInteraction:{click:Fi,hover:Fi},keyboardInteraction:Fi,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},hR=en({name:"tooltip",initialState:Pee,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:St()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Jn(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:St()},removeTooltipEntrySettings:{reducer(e,t){var r=Jn(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:St()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Dee,replaceTooltipEntrySettings:Ree,removeTooltipEntrySettings:Mee,setTooltipSettingsState:$ee,setActiveMouseOverItemIndex:Iee,mouseLeaveItem:qce,mouseLeaveChart:mR,setActiveClickItemIndex:Hce,setMouseOverAxisIndex:pR,setMouseClickAxisIndex:Lee,setSyncInteraction:Hb,setKeyboardInteraction:Fb}=hR.actions,zee=hR.reducer;function SN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SN(Object(r),!0).forEach(function(n){Uee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uee(e,t,r){return(t=Bee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bee(e){var t=qee(e,"string");return typeof t=="symbol"?t:t+""}function qee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hee(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Fee(e){return e.index!=null}var gR=(e,t,r,n)=>{if(t==null)return Fi;var a=Hee(e,t,r);if(a==null)return Fi;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(Fee(a)){if(s)return qf(qf({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return qf(qf({},Fi),{},{coordinate:a.coordinate})};function Vee(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function Kee(e,t){var r=Vee(e),n=t[0],a=t[1];if(r===void 0)return!1;var s=Math.min(n,a),l=Math.max(n,a);return r>=s&&r<=l}function Zee(e,t,r){if(r==null||t==null)return!0;var n=Nr(e,t);return n==null||!Wi(r)?!0:Kee(n,r)}var qw=(e,t,r,n)=>{var a=e?.index;if(a==null)return null;var s=Number(a);if(!ft(s))return a;var l=0,u=1/0;t.length>0&&(u=t.length-1);var d=Math.max(l,Math.min(s,u)),f=t[d];return f==null||Zee(f,r,n)?String(d):null},vR=(e,t,r,n,a,s,l,u)=>{if(!(s==null||u==null)){var d=l[0],f=d==null?void 0:u(d.positions,s);if(f!=null)return f;var h=a?.[Number(s)];if(h)switch(r){case"horizontal":return{x:h.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:h.coordinate}}}},yR=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(s=>{var l;return((l=s.settings)===null||l===void 0?void 0:l.dataKey)===a})},Hu=e=>e.options.tooltipPayloadSearcher,Dl=e=>e.tooltip;function kN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kN(Object(r),!0).forEach(function(n){Gee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gee(e,t,r){return(t=Yee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yee(e){var t=Wee(e,"string");return typeof t=="symbol"?t:t+""}function Wee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xee(e,t){return e??t}var bR=(e,t,r,n,a,s,l)=>{if(!(t==null||s==null)){var{chartData:u,computedData:d,dataStartIndex:f,dataEndIndex:h}=r,g=[];return e.reduce((v,y)=>{var S,{dataDefinedOnItem:k,settings:_}=y,j=Xee(k,u),O=Array.isArray(j)?YP(j,f,h):j,E=(S=_?.dataKey)!==null&&S!==void 0?S:n,D=_?.nameKey,N;if(n&&Array.isArray(O)&&!Array.isArray(O[0])&&l==="axis"?N=iP(O,n,a):N=s(O,t,d,D),Array.isArray(N))N.forEach(P=>{var T=jN(jN({},_),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});v.push(GE({tooltipEntrySettings:T,dataKey:P.dataKey,payload:P.payload,value:Nr(P.payload,P.dataKey),name:P.name}))});else{var C;v.push(GE({tooltipEntrySettings:_,dataKey:E,payload:N,value:Nr(N,E),name:(C=Nr(N,D))!==null&&C!==void 0?C:_?.name}))}return v},g)}},Hw=se([er,mt,N4,kw,Qt],X4),Jee=se([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Qee=se([Qt,Cl],A4),Fu=se([Jee,er,Qee],C4,{memoizeOptions:{resultEqualityCheck:um}}),ete=se([Fu],e=>e.filter(Cw)),tte=se([Fu],R4,{memoizeOptions:{resultEqualityCheck:um}}),Rl=se([tte,rs],M4),rte=se([ete,rs,er],j4),Fw=se([Rl,er,Fu],$4),xR=se([er],Rw),nte=se([er],e=>e.allowDataOverflow),wR=se([xR,nte],a4),ate=se([Fu],e=>e.filter(Cw)),ite=se([rte,ate,im,y4],L4),ste=se([ite,rs,Qt,wR],z4),ote=se([Fu],D4),lte=se([Rl,er,ote,Mw,Qt],q4,{memoizeOptions:{resultEqualityCheck:cm}}),cte=se([H4,Qt,Cl],Pl),ute=se([cte,Qt],K4),dte=se([F4,Qt,Cl],Pl),fte=se([dte,Qt],Z4),hte=se([V4,Qt,Cl],Pl),mte=se([hte,Qt],G4),pte=se([ute,mte,fte],e0),gte=se([er,xR,wR,ste,lte,pte,mt,Qt],Y4),Vu=se([er,mt,Rl,Fw,im,Qt,gte],W4),vte=se([Vu,er,Hw],J4),yte=se([er,Vu,vte,Qt],Q4),_R=e=>{var t=Qt(e),r=Cl(e),n=!1;return qu(e,t,r,n)},SR=se([er,_R],sm),kR=se([er,Hw,yte,SR],Iw),bte=se([mt,Fw,er,Qt],aR),xte=se([mt,Fw,er,Qt],iR),wte=(e,t,r,n,a,s,l,u)=>{if(t){var{type:d}=t,f=ci(e,u);if(n){var h=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,g=d==="category"&&n.bandwidth?n.bandwidth()/h:0;return g=u==="angleAxis"&&a!=null&&a?.length>=2?Rn(a[0]-a[1])*2*g:g,f&&l?l.map((v,y)=>({coordinate:n(v)+g,value:v,index:y,offset:g})):n.domain().map((v,y)=>({coordinate:n(v)+g,value:s?s[v]:v,index:y,offset:g}))}}},hi=se([mt,er,Hw,kR,_R,bte,xte,Qt],wte),Vw=se([cR,uR,Cee],(e,t,r)=>dR(r.shared,e,t)),jR=e=>e.tooltip.settings.trigger,Kw=e=>e.tooltip.settings.defaultIndex,Ku=se([Dl,Vw,jR,Kw],gR),bu=se([Ku,Rl,Uu,Vu],qw),ER=se([hi,bu],fR),_te=se([Ku],e=>{if(e)return e.dataKey});se([Ku],e=>{if(e)return e.graphicalItemId});var OR=se([Dl,Vw,jR,Kw],yR),Ste=se([ui,di,mt,wr,hi,Kw,OR,Hu],vR),kte=se([Ku,Ste],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),jte=se([Ku],e=>e.active),Ete=se([OR,bu,rs,Uu,ER,Hu,Vw],bR),Ote=se([Ete],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function EN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ON(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EN(Object(r),!0).forEach(function(n){Nte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nte(e,t,r){return(t=Ate(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ate(e){var t=Tte(e,"string");return typeof t=="symbol"?t:t+""}function Tte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cte=()=>Ne(er),Pte=()=>{var e=Cte(),t=Ne(hi),r=Ne(kR);return Dh(!e||!r?void 0:ON(ON({},e),{},{scale:r}),t)};function NN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NN(Object(r),!0).forEach(function(n){Dte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dte(e,t,r){return(t=Rte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rte(e){var t=Mte(e,"string");return typeof t=="symbol"?t:t+""}function Mte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $te=(e,t,r,n)=>{var a=t.find(s=>s&&s.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},Ite=(e,t,r,n)=>{var a=t.find(f=>f&&f.index===r);if(a){if(e==="centric"){var s=a.coordinate,{radius:l}=n;return Yo(Yo(Yo({},n),vr(n.cx,n.cy,l,s)),{},{angle:s,radius:l})}var u=a.coordinate,{angle:d}=n;return Yo(Yo(Yo({},n),vr(n.cx,n.cy,u,d)),{},{angle:d,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Lte(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var NR=(e,t,r,n,a)=>{var s,l=-1,u=(s=t?.length)!==null&&s!==void 0?s:0;if(u<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var d=0;d<u;d++){var f=d>0?r[d-1].coordinate:r[u-1].coordinate,h=r[d].coordinate,g=d>=u-1?r[0].coordinate:r[d+1].coordinate,v=void 0;if(Rn(h-f)!==Rn(g-h)){var y=[];if(Rn(g-h)===Rn(a[1]-a[0])){v=g;var S=h+a[1]-a[0];y[0]=Math.min(S,(S+f)/2),y[1]=Math.max(S,(S+f)/2)}else{v=f;var k=g+a[1]-a[0];y[0]=Math.min(h,(k+h)/2),y[1]=Math.max(h,(k+h)/2)}var _=[Math.min(h,(v+h)/2),Math.max(h,(v+h)/2)];if(e>_[0]&&e<=_[1]||e>=y[0]&&e<=y[1]){({index:l}=r[d]);break}}else{var j=Math.min(f,g),O=Math.max(f,g);if(e>(j+h)/2&&e<=(O+h)/2){({index:l}=r[d]);break}}}else if(t){for(var E=0;E<u;E++)if(E===0&&e<=(t[E].coordinate+t[E+1].coordinate)/2||E>0&&E<u-1&&e>(t[E].coordinate+t[E-1].coordinate)/2&&e<=(t[E].coordinate+t[E+1].coordinate)/2||E===u-1&&e>(t[E].coordinate+t[E-1].coordinate)/2){({index:l}=t[E]);break}}return l},AR=()=>Ne(kw),Zw=(e,t)=>t,TR=(e,t,r)=>r,Gw=(e,t,r,n)=>n,zte=se(hi,e=>$0(e,t=>t.coordinate)),Yw=se([Dl,Zw,TR,Gw],gR),Ww=se([Yw,Rl,Uu,Vu],qw),Ute=(e,t,r)=>{if(t!=null){var n=Dl(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},CR=se([Dl,Zw,TR,Gw],yR),t0=se([ui,di,mt,wr,hi,Gw,CR,Hu],vR),Bte=se([Yw,t0],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),PR=se([hi,Ww],fR),qte=se([CR,Ww,rs,Uu,PR,Hu,Zw],bR),Hte=se([Yw,Ww],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),Fte=(e,t,r,n,a,s,l)=>{if(!(!e||!r||!n||!a)&&Lte(e,l)){var u=pG(e,t),d=NR(u,s,a,r,n),f=$te(t,a,d,e);return{activeIndex:String(d),activeCoordinate:f}}},Vte=(e,t,r,n,a,s,l)=>{if(!(!e||!n||!a||!s||!r)){var u=EW(e,r);if(u){var d=gG(u,t),f=NR(d,l,s,n,a),h=Ite(t,s,f,u);return{activeIndex:String(f),activeCoordinate:h}}}},Kte=(e,t,r,n,a,s,l,u)=>{if(!(!e||!t||!n||!a||!s))return t==="horizontal"||t==="vertical"?Fte(e,t,n,a,s,l,u):Vte(e,t,r,n,a,s,l)},Zte=se(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElementId:n.elementId}}),Gte=se(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Or)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:TQ}});function AN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function TN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AN(Object(r),!0).forEach(function(n){Yte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yte(e,t,r){return(t=Wte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wte(e){var t=Xte(e,"string");return typeof t=="symbol"?t:t+""}function Xte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jte={},Qte={zIndexMap:Object.values(Or).reduce((e,t)=>TN(TN({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),Jte)},ere=new Set(Object.values(Or));function tre(e){return ere.has(e)}var DR=en({name:"zIndex",initialState:Qte,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:St()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!tre(r)&&delete e.zIndexMap[r])},prepare:St()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElementId=n:e.zIndexMap[r].elementId=n:e.zIndexMap[r]={consumers:0,elementId:a?void 0:n,panoramaElementId:a?n:void 0}},prepare:St()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:St()}}}),{registerZIndexPortal:rre,unregisterZIndexPortal:nre,registerZIndexPortalId:are,unregisterZIndexPortalId:ire}=DR.actions,sre=DR.reducer;function _a(e){var{zIndex:t,children:r}=e,n=WG(),a=n&&t!==void 0&&t!==0,s=Ir(),l=Wt();x.useLayoutEffect(()=>a?(l(rre({zIndex:t})),()=>{l(nre({zIndex:t}))}):Eu,[l,t,a]);var u=Ne(f=>Zte(f,t,s));if(!a)return r;if(!u)return null;var d=document.getElementById(u);return d?Qs.createPortal(r,d):null}function Vb(){return Vb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vb.apply(null,arguments)}function CN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CN(Object(r),!0).forEach(function(n){ore(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ore(e,t,r){return(t=lre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lre(e){var t=cre(e,"string");return typeof t=="symbol"?t:t+""}function cre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ure(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return x.isValidElement(t)?x.cloneElement(t,n):x.createElement(r,n)}function dre(e){var t,{coordinate:r,payload:n,index:a,offset:s,tooltipAxisBandSize:l,layout:u,cursor:d,tooltipEventType:f,chartName:h}=e,g=r,v=n,y=a;if(!d||!g||h!=="ScatterChart"&&f!=="axis")return null;var S,k,_;if(h==="ScatterChart")S=g,k=LY,_=Or.cursorLine;else if(h==="BarChart")S=zY(u,g,s,l),k=gW,_=Or.cursorRectangle;else if(u==="radial"&&sP(g)){var{cx:j,cy:O,radius:E,startAngle:D,endAngle:N}=wD(g);S={cx:j,cy:O,startAngle:D,endAngle:N,innerRadius:E,outerRadius:E},k=TW,_=Or.cursorLine}else S={points:CW(u,g,s)},k=eh,_=Or.cursorLine;var C=typeof d=="object"&&"className"in d?d.className:void 0,P=Hf(Hf(Hf(Hf({stroke:"#ccc",pointerEvents:"none"},s),S),P0(d)),{},{payload:v,payloadIndex:y,className:ht("recharts-tooltip-cursor",C)});return x.createElement(_a,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:_},x.createElement(ure,{cursor:d,cursorComp:k,cursorProps:P}))}function fre(e){var t=Pte(),r=iD(),n=Pu(),a=AR();return t==null||r==null||n==null||a==null?null:x.createElement(dre,Vb({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var RR=x.createContext(null),hre=()=>x.useContext(RR),my={exports:{}},PN;function mre(){return PN||(PN=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(d,f,h){this.fn=d,this.context=f,this.once=h||!1}function s(d,f,h,g,v){if(typeof h!="function")throw new TypeError("The listener must be a function");var y=new a(h,g||d,v),S=r?r+f:f;return d._events[S]?d._events[S].fn?d._events[S]=[d._events[S],y]:d._events[S].push(y):(d._events[S]=y,d._eventsCount++),d}function l(d,f){--d._eventsCount===0?d._events=new n:delete d._events[f]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],h,g;if(this._eventsCount===0)return f;for(g in h=this._events)t.call(h,g)&&f.push(r?g.slice(1):g);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},u.prototype.listeners=function(f){var h=r?r+f:f,g=this._events[h];if(!g)return[];if(g.fn)return[g.fn];for(var v=0,y=g.length,S=new Array(y);v<y;v++)S[v]=g[v].fn;return S},u.prototype.listenerCount=function(f){var h=r?r+f:f,g=this._events[h];return g?g.fn?1:g.length:0},u.prototype.emit=function(f,h,g,v,y,S){var k=r?r+f:f;if(!this._events[k])return!1;var _=this._events[k],j=arguments.length,O,E;if(_.fn){switch(_.once&&this.removeListener(f,_.fn,void 0,!0),j){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,h),!0;case 3:return _.fn.call(_.context,h,g),!0;case 4:return _.fn.call(_.context,h,g,v),!0;case 5:return _.fn.call(_.context,h,g,v,y),!0;case 6:return _.fn.call(_.context,h,g,v,y,S),!0}for(E=1,O=new Array(j-1);E<j;E++)O[E-1]=arguments[E];_.fn.apply(_.context,O)}else{var D=_.length,N;for(E=0;E<D;E++)switch(_[E].once&&this.removeListener(f,_[E].fn,void 0,!0),j){case 1:_[E].fn.call(_[E].context);break;case 2:_[E].fn.call(_[E].context,h);break;case 3:_[E].fn.call(_[E].context,h,g);break;case 4:_[E].fn.call(_[E].context,h,g,v);break;default:if(!O)for(N=1,O=new Array(j-1);N<j;N++)O[N-1]=arguments[N];_[E].fn.apply(_[E].context,O)}}return!0},u.prototype.on=function(f,h,g){return s(this,f,h,g,!1)},u.prototype.once=function(f,h,g){return s(this,f,h,g,!0)},u.prototype.removeListener=function(f,h,g,v){var y=r?r+f:f;if(!this._events[y])return this;if(!h)return l(this,y),this;var S=this._events[y];if(S.fn)S.fn===h&&(!v||S.once)&&(!g||S.context===g)&&l(this,y);else{for(var k=0,_=[],j=S.length;k<j;k++)(S[k].fn!==h||v&&!S[k].once||g&&S[k].context!==g)&&_.push(S[k]);_.length?this._events[y]=_.length===1?_[0]:_:l(this,y)}return this},u.prototype.removeAllListeners=function(f){var h;return f?(h=r?r+f:f,this._events[h]&&l(this,h)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u})(my)),my.exports}var pre=mre();const gre=ba(pre);var xu=new gre,Kb="recharts.syncEvent.tooltip",DN="recharts.syncEvent.brush";function vre(e,t){if(t){var r=Number.parseInt(t,10);if(!bn(r))return e?.[r]}}var yre={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},MR=en({name:"options",initialState:yre,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),bre=MR.reducer,{createEventEmitter:xre}=MR.actions;function wre(e){return e.tooltip.syncInteraction}var _re={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},$R=en({name:"chartData",initialState:_re,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:RN,setDataStartEndIndexes:Sre,setComputedData:Fce}=$R.actions,kre=$R.reducer,jre=["x","y"];function MN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MN(Object(r),!0).forEach(function(n){Ere(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ere(e,t,r){return(t=Ore(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ore(e){var t=Nre(e,"string");return typeof t=="symbol"?t:t+""}function Nre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Are(e,t){if(e==null)return{};var r,n,a=Tre(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Tre(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Cre(){var e=Ne(jw),t=Ne(Ew),r=Wt(),n=Ne(b4),a=Ne(hi),s=Pu(),l=Cu(),u=Ne(d=>d.rootProps.className);x.useEffect(()=>{if(e==null)return Eu;var d=(f,h,g)=>{if(t!==g&&e===f){if(n==="index"){var v;if(l&&h!==null&&h!==void 0&&(v=h.payload)!==null&&v!==void 0&&v.coordinate&&h.payload.sourceViewBox){var y=h.payload.coordinate,{x:S,y:k}=y,_=Are(y,jre),{x:j,y:O,width:E,height:D}=h.payload.sourceViewBox,N=Wo(Wo({},_),{},{x:l.x+(E?(S-j)/E:0)*l.width,y:l.y+(D?(k-O)/D:0)*l.height});r(Wo(Wo({},h),{},{payload:Wo(Wo({},h.payload),{},{coordinate:N})}))}else r(h);return}if(a!=null){var C;if(typeof n=="function"){var P={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},T=n(a,P);C=a[T]}else n==="value"&&(C=a.find(B=>String(B.value)===h.payload.label));var{coordinate:R}=h.payload;if(C==null||h.payload.active===!1||R==null||l==null){r(Hb({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:M,y:I}=R,z=Math.min(M,l.x+l.width),q=Math.min(I,l.y+l.height),re={x:s==="horizontal"?C.coordinate:z,y:s==="horizontal"?q:C.coordinate},oe=Hb({active:h.payload.active,coordinate:re,dataKey:h.payload.dataKey,index:String(C.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});r(oe)}}};return xu.on(Kb,d),()=>{xu.off(Kb,d)}},[u,r,t,e,n,a,s,l])}function Pre(){var e=Ne(jw),t=Ne(Ew),r=Wt();x.useEffect(()=>{if(e==null)return Eu;var n=(a,s,l)=>{t!==l&&e===a&&r(Sre(s))};return xu.on(DN,n),()=>{xu.off(DN,n)}},[r,t,e])}function Dre(){var e=Wt();x.useEffect(()=>{e(xre())},[e]),Cre(),Pre()}function Rre(e,t,r,n,a,s){var l=Ne(y=>Ute(y,e,t)),u=Ne(Ew),d=Ne(jw),f=Ne(b4),h=Ne(wre),g=h?.active,v=Cu();x.useEffect(()=>{if(!g&&d!=null&&u!=null){var y=Hb({active:s,coordinate:r,dataKey:l,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:v,graphicalItemId:void 0});xu.emit(Kb,d,y,u)}},[g,r,l,a,n,u,d,f,s,v])}function $N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function IN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$N(Object(r),!0).forEach(function(n){Mre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$N(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mre(e,t,r){return(t=$re(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $re(e){var t=Ire(e,"string");return typeof t=="symbol"?t:t+""}function Ire(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lre(e){return e.dataKey}function zre(e,t){return x.isValidElement(e)?x.cloneElement(e,t):typeof e=="function"?x.createElement(e,t):x.createElement(vY,t)}var LN=[],Ure={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Bre(e){var t,r,n=Qr(e,Ure),{active:a,allowEscapeViewBox:s,animationDuration:l,animationEasing:u,content:d,filterNull:f,isAnimationActive:h,offset:g,payloadUniqBy:v,position:y,reverseDirection:S,useTranslate3d:k,wrapperStyle:_,cursor:j,shared:O,trigger:E,defaultIndex:D,portal:N,axisId:C}=n,P=Wt(),T=typeof D=="number"?String(D):D;x.useEffect(()=>{P($ee({shared:O,trigger:E,axisId:C,active:a,defaultIndex:T}))},[P,O,E,C,a,T]);var R=Cu(),M=pD(),I=Tee(O),{activeIndex:z,isActive:q}=(t=Ne(ne=>Hte(ne,I,E,T)))!==null&&t!==void 0?t:{},re=Ne(ne=>qte(ne,I,E,T)),oe=Ne(ne=>PR(ne,I,E,T)),B=Ne(ne=>Bte(ne,I,E,T)),H=re,W=hre(),ee=(r=a??q)!==null&&r!==void 0?r:!1,[ve,L]=tZ([H,ee]),K=I==="axis"?oe:void 0;Rre(I,E,B,K,z,ee);var F=N??W;if(F==null||R==null||I==null)return null;var Z=H??LN;ee||(Z=LN),f&&Z.length&&(Z=OK(Z.filter(ne=>ne.value!=null&&(ne.hide!==!0||n.includeHidden)),v,Lre));var le=Z.length>0,ue=x.createElement(kY,{allowEscapeViewBox:s,animationDuration:l,animationEasing:u,isAnimationActive:h,active:ee,coordinate:B,hasPayload:le,offset:g,position:y,reverseDirection:S,useTranslate3d:k,viewBox:R,wrapperStyle:_,lastBoundingBox:ve,innerRef:L,hasPortalFromProps:!!N},zre(d,IN(IN({},n),{},{payload:Z,label:K,active:ee,activeIndex:z,coordinate:B,accessibilityLayer:M})));return x.createElement(x.Fragment,null,Qs.createPortal(ue,F),ee&&x.createElement(fre,{cursor:j,tooltipEventType:I,coordinate:B,payload:Z,index:z}))}function qre(e,t,r){return(t=Hre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hre(e){var t=Fre(e,"string");return typeof t=="symbol"?t:t+""}function Fre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Vre{constructor(t){qre(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function zN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kre(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zN(Object(r),!0).forEach(function(n){Zre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zre(e,t,r){return(t=Gre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gre(e){var t=Yre(e,"string");return typeof t=="symbol"?t:t+""}function Yre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wre={cacheSize:2e3,enableCache:!0},IR=Kre({},Wre),UN=new Vre(IR.cacheSize),Xre={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},BN="recharts_measurement_span";function Jre(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",s=t.fontStyle||"",l=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(s,"|").concat(l,"|").concat(u)}var qN=(e,t)=>{try{var r=document.getElementById(BN);r||(r=document.createElement("span"),r.setAttribute("id",BN),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Xre,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Xc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ol.isSsr)return{width:0,height:0};if(!IR.enableCache)return qN(t,r);var n=Jre(t,r),a=UN.get(n);if(a)return a;var s=qN(t,r);return UN.set(n,s),s},HN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,FN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Qre=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,ene=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,LR={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},tne=Object.keys(LR),rl="NaN";function rne(e,t){return e*LR[t]}class Gr{static parse(t){var r,[,n,a]=(r=ene.exec(t))!==null&&r!==void 0?r:[];return new Gr(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,bn(t)&&(this.unit=""),r!==""&&!Qre.test(r)&&(this.num=NaN,this.unit=""),tne.includes(r)&&(this.num=rne(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Gr(NaN,""):new Gr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Gr(NaN,""):new Gr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Gr(NaN,""):new Gr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Gr(NaN,""):new Gr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return bn(this.num)}}function zR(e){if(e.includes(rl))return rl;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,s]=(r=HN.exec(t))!==null&&r!==void 0?r:[],l=Gr.parse(n??""),u=Gr.parse(s??""),d=a==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return rl;t=t.replace(HN,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,h,g,v]=(f=FN.exec(t))!==null&&f!==void 0?f:[],y=Gr.parse(h??""),S=Gr.parse(v??""),k=g==="+"?y.add(S):y.subtract(S);if(k.isNaN())return rl;t=t.replace(FN,k.toString())}return t}var VN=/\(([^()]*)\)/;function nne(e){for(var t=e,r;(r=VN.exec(t))!=null;){var[,n]=r;t=t.replace(VN,zR(n))}return t}function ane(e){var t=e.replace(/\s+/g,"");return t=nne(t),t=zR(t),t}function ine(e){try{return ane(e)}catch{return rl}}function py(e){var t=ine(e.slice(5,-1));return t===rl?"":t}var sne=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],one=["dx","dy","angle","className","breakAll"];function Zb(){return Zb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zb.apply(null,arguments)}function KN(e,t){if(e==null)return{};var r,n,a=lne(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function lne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var UR=/[ \f\n\r\t\v\u2028\u2029]+/,BR=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];yr(t)||(r?a=t.toString().split(""):a=t.toString().split(UR));var s=a.map(u=>({word:u,width:Xc(u,n).width})),l=r?0:Xc("",n).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}};function cne(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var qR=(e,t,r,n)=>e.reduce((a,s)=>{var{word:l,width:u}=s,d=a[a.length-1];if(d&&u!=null&&(t==null||n||d.width+u+r<Number(t)))d.words.push(l),d.width+=u+r;else{var f={words:[l],width:u};a.push(f)}return a},[]),HR=e=>e.reduce((t,r)=>t.width>r.width?t:r),une="",ZN=(e,t,r,n,a,s,l,u)=>{var d=e.slice(0,t),f=BR({breakAll:r,style:n,children:d+une});if(!f)return[!1,[]];var h=qR(f.wordsWithComputedWidth,s,l,u),g=h.length>a||HR(h).width>Number(s);return[g,h]},dne=(e,t,r,n,a)=>{var{maxLines:s,children:l,style:u,breakAll:d}=e,f=Ae(s),h=String(l),g=qR(t,n,r,a);if(!f||a)return g;var v=g.length>s||HR(g).width>Number(n);if(!v)return g;for(var y=0,S=h.length-1,k=0,_;y<=S&&k<=h.length-1;){var j=Math.floor((y+S)/2),O=j-1,[E,D]=ZN(h,O,d,u,s,n,r,a),[N]=ZN(h,j,d,u,s,n,r,a);if(!E&&!N&&(y=j+1),E&&N&&(S=j-1),!E&&N){_=D;break}k++}return _||g},GN=e=>{var t=yr(e)?[]:e.toString().split(UR);return[{words:t,width:void 0}]},fne=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:s,maxLines:l}=e;if((t||r)&&!Ol.isSsr){var u,d,f=BR({breakAll:s,children:n,style:a});if(f){var{wordsWithComputedWidth:h,spaceWidth:g}=f;u=h,d=g}else return GN(n);return dne({breakAll:s,children:n,maxLines:l,style:a},u,d,t,!!r)}return GN(n)},FR="#808080",hne={angle:0,breakAll:!1,capHeight:"0.71em",fill:FR,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Xw=x.forwardRef((e,t)=>{var r=Qr(e,hne),{x:n,y:a,lineHeight:s,capHeight:l,fill:u,scaleToFit:d,textAnchor:f,verticalAnchor:h}=r,g=KN(r,sne),v=x.useMemo(()=>fne({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:d,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,d,g.style,g.width]),{dx:y,dy:S,angle:k,className:_,breakAll:j}=g,O=KN(g,one);if(!$n(n)||!$n(a)||v.length===0)return null;var E=Number(n)+(Ae(y)?y:0),D=Number(a)+(Ae(S)?S:0);if(!ft(E)||!ft(D))return null;var N;switch(h){case"start":N=py("calc(".concat(l,")"));break;case"middle":N=py("calc(".concat((v.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:N=py("calc(".concat(v.length-1," * -").concat(s,")"));break}var C=[];if(d){var P=v[0].width,{width:T}=g;C.push("scale(".concat(Ae(T)&&Ae(P)?T/P:1,")"))}return k&&C.push("rotate(".concat(k,", ").concat(E,", ").concat(D,")")),C.length&&(O.transform=C.join(" ")),x.createElement("text",Zb({},yn(O),{ref:t,x:E,y:D,className:ht("recharts-text",_),textAnchor:f,fill:u.includes("url")?FR:u}),v.map((R,M)=>{var I=R.words.join(j?"":" ");return x.createElement("tspan",{x:E,dy:M===0?N:s,key:"".concat(I,"-").concat(M)},I)}))});Xw.displayName="Text";var mne=["labelRef"];function pne(e,t){if(e==null)return{};var r,n,a=gne(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function gne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function YN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YN(Object(r),!0).forEach(function(n){vne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vne(e,t,r){return(t=yne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yne(e){var t=bne(e,"string");return typeof t=="symbol"?t:t+""}function bne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Za(){return Za=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Za.apply(null,arguments)}var VR=x.createContext(null),KR=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:l,children:u}=e,d=x.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:l}),[t,r,n,a,s,l]);return x.createElement(VR.Provider,{value:d},u)},ZR=()=>{var e=x.useContext(VR),t=Cu();return e||aD(t)},xne=x.createContext(null),wne=()=>{var e=x.useContext(xne),t=Ne(k4);return e||t},_ne=e=>{var{value:t,formatter:r}=e,n=yr(e.children)?t:e.children;return typeof r=="function"?r(n):n},Jw=e=>e!=null&&typeof e=="function",Sne=(e,t)=>{var r=Rn(t-e),n=Math.min(Math.abs(t-e),360);return r*n},kne=(e,t,r,n,a)=>{var{offset:s,className:l}=e,{cx:u,cy:d,innerRadius:f,outerRadius:h,startAngle:g,endAngle:v,clockWise:y}=a,S=(f+h)/2,k=Sne(g,v),_=k>=0?1:-1,j,O;switch(t){case"insideStart":j=g+_*s,O=y;break;case"insideEnd":j=v-_*s,O=!y;break;case"end":j=v+_*s,O=y;break;default:throw new Error("Unsupported position ".concat(t))}O=k<=0?O:!O;var E=vr(u,d,S,j),D=vr(u,d,S,j+(O?1:-1)*359),N="M".concat(E.x,",").concat(E.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(O?0:1,`,
    `).concat(D.x,",").concat(D.y),C=yr(e.id)?su("recharts-radial-line-"):e.id;return x.createElement("text",Za({},n,{dominantBaseline:"central",className:ht("recharts-radial-bar-label",l)}),x.createElement("defs",null,x.createElement("path",{id:C,d:N})),x.createElement("textPath",{xlinkHref:"#".concat(C)},r))},jne=(e,t,r)=>{var{cx:n,cy:a,innerRadius:s,outerRadius:l,startAngle:u,endAngle:d}=e,f=(u+d)/2;if(r==="outside"){var{x:h,y:g}=vr(n,a,l+t,f);return{x:h,y:g,textAnchor:h>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var v=(s+l)/2,{x:y,y:S}=vr(n,a,v,f);return{x:y,y:S,textAnchor:"middle",verticalAnchor:"middle"}},Gb=e=>"cx"in e&&Ae(e.cx),Ene=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,s;r!=null&&!Gb(r)&&(s=r);var{x:l,y:u,upperWidth:d,lowerWidth:f,height:h}=t,g=l,v=l+(d-f)/2,y=(g+v)/2,S=(d+f)/2,k=g+d/2,_=h>=0?1:-1,j=_*n,O=_>0?"end":"start",E=_>0?"start":"end",D=d>=0?1:-1,N=D*n,C=D>0?"end":"start",P=D>0?"start":"end";if(a==="top"){var T={x:g+d/2,y:u-j,textAnchor:"middle",verticalAnchor:O};return Mt(Mt({},T),s?{height:Math.max(u-s.y,0),width:d}:{})}if(a==="bottom"){var R={x:v+f/2,y:u+h+j,textAnchor:"middle",verticalAnchor:E};return Mt(Mt({},R),s?{height:Math.max(s.y+s.height-(u+h),0),width:f}:{})}if(a==="left"){var M={x:y-N,y:u+h/2,textAnchor:C,verticalAnchor:"middle"};return Mt(Mt({},M),s?{width:Math.max(M.x-s.x,0),height:h}:{})}if(a==="right"){var I={x:y+S+N,y:u+h/2,textAnchor:P,verticalAnchor:"middle"};return Mt(Mt({},I),s?{width:Math.max(s.x+s.width-I.x,0),height:h}:{})}var z=s?{width:S,height:h}:{};return a==="insideLeft"?Mt({x:y+N,y:u+h/2,textAnchor:P,verticalAnchor:"middle"},z):a==="insideRight"?Mt({x:y+S-N,y:u+h/2,textAnchor:C,verticalAnchor:"middle"},z):a==="insideTop"?Mt({x:g+d/2,y:u+j,textAnchor:"middle",verticalAnchor:E},z):a==="insideBottom"?Mt({x:v+f/2,y:u+h-j,textAnchor:"middle",verticalAnchor:O},z):a==="insideTopLeft"?Mt({x:g+N,y:u+j,textAnchor:P,verticalAnchor:E},z):a==="insideTopRight"?Mt({x:g+d-N,y:u+j,textAnchor:C,verticalAnchor:E},z):a==="insideBottomLeft"?Mt({x:v+N,y:u+h-j,textAnchor:P,verticalAnchor:O},z):a==="insideBottomRight"?Mt({x:v+f-N,y:u+h-j,textAnchor:C,verticalAnchor:O},z):a&&typeof a=="object"&&(Ae(a.x)||ti(a.x))&&(Ae(a.y)||ti(a.y))?Mt({x:l+Yi(a.x,S),y:u+Yi(a.y,h),textAnchor:"end",verticalAnchor:"end"},z):Mt({x:k,y:u+h/2,textAnchor:"middle",verticalAnchor:"middle"},z)},One={angle:0,offset:5,zIndex:Or.label,position:"middle",textBreakAll:!1};function Ui(e){var t=Qr(e,One),{viewBox:r,position:n,value:a,children:s,content:l,className:u="",textBreakAll:d,labelRef:f}=t,h=wne(),g=ZR(),v=n==="center"?g:h??g,y,S,k;if(r==null?y=v:Gb(r)?y=r:y=aD(r),!y||yr(a)&&yr(s)&&!x.isValidElement(l)&&typeof l!="function")return null;var _=Mt(Mt({},t),{},{viewBox:y});if(x.isValidElement(l)){var{labelRef:j}=_,O=pne(_,mne);return x.cloneElement(l,O)}if(typeof l=="function"){if(S=x.createElement(l,_),x.isValidElement(S))return S}else S=_ne(t);var E=yn(t);if(Gb(y)){if(n==="insideStart"||n==="insideEnd"||n==="end")return kne(t,n,S,E,y);k=jne(y,t.offset,t.position)}else k=Ene(t,y);return x.createElement(_a,{zIndex:t.zIndex},x.createElement(Xw,Za({ref:f,className:ht("recharts-label",u)},E,k,{textAnchor:cne(E.textAnchor)?E.textAnchor:k.textAnchor,breakAll:d}),S))}Ui.displayName="Label";var Nne=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?x.createElement(Ui,Za({key:"label-implicit"},n)):$n(e)?x.createElement(Ui,Za({key:"label-implicit",value:e},n)):x.isValidElement(e)?e.type===Ui?x.cloneElement(e,Mt({key:"label-implicit"},n)):x.createElement(Ui,Za({key:"label-implicit",content:e},n)):Jw(e)?x.createElement(Ui,Za({key:"label-implicit",content:e},n)):e&&typeof e=="object"?x.createElement(Ui,Za({},e,{key:"label-implicit"},n)):null};function GR(e){var{label:t,labelRef:r}=e,n=ZR();return Nne(t,n,r)||null}var gy={},vy={},WN;function Ane(){return WN||(WN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(vy)),vy}var yy={},XN;function Tne(){return XN||(XN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(yy)),yy}var JN;function Cne(){return JN||(JN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ane(),r=Tne(),n=zx();function a(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=a})(gy)),gy}var by,QN;function Pne(){return QN||(QN=1,by=Cne().last),by}var Dne=Pne();const Rne=ba(Dne);var Mne=["valueAccessor"],$ne=["dataKey","clockWise","id","textBreakAll","zIndex"];function r0(){return r0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r0.apply(null,arguments)}function eA(e,t){if(e==null)return{};var r,n,a=Ine(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ine(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Lne=e=>Array.isArray(e.value)?Rne(e.value):e.value,YR=x.createContext(void 0),zne=YR.Provider,WR=x.createContext(void 0);WR.Provider;function Une(){return x.useContext(YR)}function Bne(){return x.useContext(WR)}function rh(e){var{valueAccessor:t=Lne}=e,r=eA(e,Mne),{dataKey:n,clockWise:a,id:s,textBreakAll:l,zIndex:u}=r,d=eA(r,$ne),f=Une(),h=Bne(),g=f||h;return!g||!g.length?null:x.createElement(_a,{zIndex:u??Or.label},x.createElement(ea,{className:"recharts-label-list"},g.map((v,y)=>{var S,k=yr(n)?t(v,y):Nr(v&&v.payload,n),_=yr(s)?{}:{id:"".concat(s,"-").concat(y)};return x.createElement(Ui,r0({key:"label-".concat(y)},yn(v),d,_,{fill:(S=r.fill)!==null&&S!==void 0?S:v.fill,parentViewBox:v.parentViewBox,value:k,textBreakAll:l,viewBox:v.viewBox,index:y,zIndex:0}))})))}rh.displayName="LabelList";function qne(e){var{label:t}=e;return t?t===!0?x.createElement(rh,{key:"labelList-implicit"}):x.isValidElement(t)||Jw(t)?x.createElement(rh,{key:"labelList-implicit",content:t}):typeof t=="object"?x.createElement(rh,r0({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Yb(){return Yb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yb.apply(null,arguments)}var XR=e=>{var{cx:t,cy:r,r:n,className:a}=e,s=ht("recharts-dot",a);return Ae(t)&&Ae(r)&&Ae(n)?x.createElement("circle",Yb({},Qn(e),Lx(e),{className:s,cx:t,cy:r,r:n})):null},Hne={radiusAxis:{},angleAxis:{}},JR=en({name:"polarAxis",initialState:Hne,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Vce,removeRadiusAxis:Kce,addAngleAxis:Zce,removeAngleAxis:Gce}=JR.actions,Fne=JR.reducer,QR=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0;function Vne(e){var{tooltipEntrySettings:t}=e,r=Wt(),n=Ir(),a=x.useRef(null);return x.useLayoutEffect(()=>{n||(a.current===null?r(Dee(t)):a.current!==t&&r(Ree({prev:a.current,next:t})),a.current=t)},[t,r,n]),x.useLayoutEffect(()=>()=>{a.current&&(r(Mee(a.current)),a.current=null)},[r]),null}function Kne(e){var{legendPayload:t}=e,r=Wt(),n=Ir(),a=x.useRef(null);return x.useLayoutEffect(()=>{n||(a.current===null?r(cY(t)):a.current!==t&&r(uY({prev:a.current,next:t})),a.current=t)},[r,n,t]),x.useLayoutEffect(()=>()=>{a.current&&(r(dY(a.current)),a.current=null)},[r]),null}var xy,Zne=()=>{var[e]=x.useState(()=>su("uid-"));return e},Gne=(xy=ky.useId)!==null&&xy!==void 0?xy:Zne;function e3(e,t){var r=Gne();return t||(e?"".concat(e,"-").concat(r):r)}var Yne=x.createContext(void 0),Wne=e=>{var{id:t,type:r,children:n}=e,a=e3("recharts-".concat(r),t);return x.createElement(Yne.Provider,{value:a},n(a))},Xne={cartesianItems:[],polarItems:[]},t3=en({name:"graphicalItems",initialState:Xne,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:St()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Jn(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:St()},removeCartesianGraphicalItem:{reducer(e,t){var r=Jn(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:St()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:St()},removePolarGraphicalItem:{reducer(e,t){var r=Jn(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:St()}}}),{addCartesianGraphicalItem:Jne,replaceCartesianGraphicalItem:Qne,removeCartesianGraphicalItem:eae,addPolarGraphicalItem:Yce,removePolarGraphicalItem:Wce}=t3.actions,tae=t3.reducer,rae=e=>{var t=Wt(),r=x.useRef(null);return x.useLayoutEffect(()=>{r.current===null?t(Jne(e)):r.current!==e&&t(Qne({prev:r.current,next:e})),r.current=e},[t,e]),x.useLayoutEffect(()=>()=>{r.current&&(t(eae(r.current)),r.current=null)},[t]),null},nae=x.memo(rae),aae=["points"];function tA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tA(Object(r),!0).forEach(function(n){iae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iae(e,t,r){return(t=sae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sae(e){var t=oae(e,"string");return typeof t=="symbol"?t:t+""}function oae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function n0(){return n0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n0.apply(null,arguments)}function lae(e,t){if(e==null)return{};var r,n,a=cae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function cae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function uae(e){var{option:t,dotProps:r,className:n}=e;if(x.isValidElement(t))return x.cloneElement(t,r);if(typeof t=="function")return t(r);var a=ht(n,typeof t!="boolean"?t.className:""),s=r??{},{points:l}=s,u=lae(s,aae);return x.createElement(XR,n0({},u,{className:a}))}function dae(e,t){return e==null?!1:t?!0:e.length===1}function fae(e){var{points:t,dot:r,className:n,dotClassName:a,dataKey:s,baseProps:l,needClip:u,clipPathId:d,zIndex:f=Or.scatter}=e;if(!dae(t,r))return null;var h=QR(r),g=wV(r),v=t.map((S,k)=>{var _,j,O=wy(wy(wy({r:3},l),g),{},{index:k,cx:(_=S.x)!==null&&_!==void 0?_:void 0,cy:(j=S.y)!==null&&j!==void 0?j:void 0,dataKey:s,value:S.value,payload:S.payload,points:t});return x.createElement(uae,{key:"dot-".concat(k),option:r,dotProps:O,className:a})}),y={};return u&&d!=null&&(y.clipPath="url(#clipPath-".concat(h?"":"dots-").concat(d,")")),x.createElement(_a,{zIndex:f},x.createElement(ea,n0({className:n},y),v))}function rA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rA(Object(r),!0).forEach(function(n){hae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hae(e,t,r){return(t=mae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mae(e){var t=pae(e,"string");return typeof t=="symbol"?t:t+""}function pae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gae={xAxis:{},yAxis:{},zAxis:{}},r3=en({name:"cartesianAxis",initialState:gae,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:St()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:St()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:St()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:St()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:St()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:St()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:St()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:St()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:St()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var s=a.widthHistory||[];if(s.length===3&&s[0]===s[2]&&n===s[1]&&n!==a.width&&Math.abs(n-s[0])<=1)return;var l=[...s,n].slice(-3);e.yAxis[r]=nA(nA({},e.yAxis[r]),{},{width:n,widthHistory:l})}}}}),{addXAxis:vae,replaceXAxis:yae,removeXAxis:bae,addYAxis:xae,replaceYAxis:wae,removeYAxis:_ae,addZAxis:Xce,replaceZAxis:Jce,removeZAxis:Qce,updateYAxisWidth:Sae}=r3.actions,kae=r3.reducer,jae=se([wr],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Eae=se([jae,ui,di],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),Qw=()=>Ne(Eae),Oae=()=>Ne(Ote);function aA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _y(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aA(Object(r),!0).forEach(function(n){Nae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nae(e,t,r){return(t=Aae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Aae(e){var t=Tae(e,"string");return typeof t=="symbol"?t:t+""}function Tae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cae=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:s,clipPath:l}=e;if(a===!1||t.x==null||t.y==null)return null;var u={index:r,dataKey:s,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},d=_y(_y(_y({},u),P0(a)),Lx(a)),f;return x.isValidElement(a)?f=x.cloneElement(a,d):typeof a=="function"?f=a(d):f=x.createElement(XR,d),x.createElement(ea,{className:"recharts-active-dot",clipPath:l},f)};function iA(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a,clipPath:s,zIndex:l=Or.activeDot}=e,u=Ne(bu),d=Oae();if(t==null||d==null)return null;var f=t.find(h=>d.includes(h.payload));return yr(f)?null:x.createElement(_a,{zIndex:l},x.createElement(Cae,{point:f,childIndex:Number(u),mainColor:r,dataKey:a,activeDot:n,clipPath:s}))}var Pae={},n3=en({name:"errorBars",initialState:Pae,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?a:s))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:eue,replaceErrorBar:tue,removeErrorBar:rue}=n3.actions,Dae=n3.reducer;function a3(e,t){var r,n,a=Ne(f=>xa(f,e)),s=Ne(f=>wa(f,t)),l=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:ar.allowDataOverflow,u=(n=s?.allowDataOverflow)!==null&&n!==void 0?n:ir.allowDataOverflow,d=l||u;return{needClip:d,needClipX:l,needClipY:u}}function Rae(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=Qw(),{needClipX:s,needClipY:l,needClip:u}=a3(t,r);if(!u||!a)return null;var{x:d,y:f,width:h,height:g}=a;return x.createElement("clipPath",{id:"clipPath-".concat(n)},x.createElement("rect",{x:s?d:d-h/2,y:l?f:f-g/2,width:s?h:h*2,height:l?g:g*2}))}function Mae(e){e()}function $ae(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Mae(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var sA={notify(){},get:()=>[]};function Iae(e,t){let r,n=sA,a=0,s=!1;function l(k){h();const _=n.subscribe(k);let j=!1;return()=>{j||(j=!0,_(),g())}}function u(){n.notify()}function d(){S.onStateChange&&S.onStateChange()}function f(){return s}function h(){a++,r||(r=e.subscribe(d),n=$ae())}function g(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=sA)}function v(){s||(s=!0,h())}function y(){s&&(s=!1,g())}const S={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:d,isSubscribed:f,trySubscribe:v,tryUnsubscribe:y,getListeners:()=>n};return S}var Lae=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zae=Lae(),Uae=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Bae=Uae(),qae=()=>zae||Bae?x.useLayoutEffect:x.useEffect,Hae=qae();function oA(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Fae(e,t){if(oA(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!oA(e[r[a]],t[r[a]]))return!1;return!0}var Vae=Symbol.for("react-redux-context"),Kae=typeof globalThis<"u"?globalThis:{};function Zae(){if(!x.createContext)return{};const e=Kae[Vae]??=new Map;let t=e.get(x.createContext);return t||(t=x.createContext(null),e.set(x.createContext,t)),t}var Gae=Zae();function Yae(e){const{children:t,context:r,serverState:n,store:a}=e,s=x.useMemo(()=>{const d=Iae(a);return{store:a,subscription:d,getServerState:n?()=>n:void 0}},[a,n]),l=x.useMemo(()=>a.getState(),[a]);Hae(()=>{const{subscription:d}=s;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==a.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[s,l]);const u=r||Gae;return x.createElement(u.Provider,{value:s},t)}var Wae=Yae,Xae=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function Jae(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function e1(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(Xae.has(n)){if(e[n]==null&&t[n]==null)continue;if(!Fae(e[n],t[n]))return!1}else if(!Jae(e[n],t[n]))return!1;return!0}var Qae=e=>{var{chartData:t}=e,r=Wt(),n=Ir();return x.useEffect(()=>n?()=>{}:(r(RN(t)),()=>{r(RN(void 0))}),[t,r,n]),null},lA={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},i3=en({name:"brush",initialState:lA,reducers:{setBrushSettings(e,t){return t.payload==null?lA:t.payload}}}),{setBrushSettings:nue}=i3.actions,eie=i3.reducer;function cA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ff(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cA(Object(r),!0).forEach(function(n){s3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function s3(e,t,r){return(t=tie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tie(e){var t=rie(e,"string");return typeof t=="symbol"?t:t+""}function rie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nie=(e,t)=>{var{x:r,y:n}=e,{x:a,y:s}=t;return{x:Math.min(r,a),y:Math.min(n,s),width:Math.abs(a-r),height:Math.abs(s-n)}},aie=e=>{var{x1:t,y1:r,x2:n,y2:a}=e;return nie({x:t,y:r},{x:n,y:a})};class mm{static create(t){return new mm(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(r){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}s3(mm,"EPS",1e-4);var iie=e=>{var t=Object.keys(e).reduce((r,n)=>Ff(Ff({},r),{},{[n]:mm.create(e[n])}),{});return Ff(Ff({},t),{},{apply(r){var{bandAware:n,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(r).map(s=>{var[l,u]=s;return[l,t[l].apply(u,{bandAware:n,position:a})]}))},isInRange(r){return Object.keys(r).every(n=>t[n].isInRange(r[n]))}})};function sie(e){return(e%180+180)%180}var oie=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=sie(a),l=s*Math.PI/180,u=Math.atan(n/r),d=l>u&&l<Math.PI-u?n/Math.sin(l):r/Math.cos(l);return Math.abs(d)},lie={dots:[],areas:[],lines:[]},o3=en({name:"referenceElements",initialState:lie,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Jn(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Jn(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Jn(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:aue,removeDot:iue,addArea:sue,removeArea:oue,addLine:cie,removeLine:uie}=o3.actions,die=o3.reducer,l3=x.createContext(void 0),fie=e=>{var{children:t}=e,[r]=x.useState("".concat(su("recharts"),"-clip")),n=Qw();if(n==null)return null;var{x:a,y:s,width:l,height:u}=n;return x.createElement(l3.Provider,{value:r},x.createElement("defs",null,x.createElement("clipPath",{id:r},x.createElement("rect",{x:a,y:s,height:u,width:l}))),t)},hie=()=>x.useContext(l3);function uA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uA(Object(r),!0).forEach(function(n){mie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mie(e,t,r){return(t=pie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pie(e){var t=gie(e,"string");return typeof t=="symbol"?t:t+""}function gie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function a0(){return a0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a0.apply(null,arguments)}var vie=(e,t)=>{var r;if(x.isValidElement(e))r=x.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{if(!ft(t.x1)||!ft(t.y1)||!ft(t.x2)||!ft(t.y2))return null;r=x.createElement("line",a0({},t,{className:"recharts-reference-line-line"}))}return r},yie=(e,t,r,n,a,s)=>{var{x:l,width:u}=s,d=a.y.apply(e,{position:r});if(bn(d)||t==="discard"&&!a.y.isInRange(d))return null;var f=[{x:l+u,y:d},{x:l,y:d}];return n==="left"?f.reverse():f},bie=(e,t,r,n,a,s)=>{var{y:l,height:u}=s,d=a.x.apply(e,{position:r});if(bn(d)||t==="discard"&&!a.x.isInRange(d))return null;var f=[{x:d,y:l+u},{x:d,y:l}];return n==="top"?f.reverse():f},xie=(e,t,r,n)=>{var a=e.map(s=>n.apply(s,{position:r}));return t==="discard"&&a.some(s=>!n.isInRange(s))?null:a},wie=(e,t,r,n,a,s)=>{var{x:l,y:u,segment:d,ifOverflow:f}=s,h=$n(l),g=$n(u);return g?yie(u,f,r,a,e,t):h?bie(l,f,r,n,e,t):d!=null&&d.length===2?xie(d,f,r,e):null};function _ie(e){var t=Wt();return x.useEffect(()=>(t(cie(e)),()=>{t(uie(e))})),null}function Sie(e){var{xAxisId:t,yAxisId:r,shape:n,className:a,ifOverflow:s}=e,l=Ir(),u=hie(),d=Ne(C=>xa(C,t)),f=Ne(C=>wa(C,r)),h=Ne(C=>Xi(C,"xAxis",t,l)),g=Ne(C=>Xi(C,"yAxis",r,l)),v=Cu();if(!u||!v||d==null||f==null||h==null||g==null)return null;var y=iie({x:h,y:g}),S=wie(y,v,e.position,d.orientation,f.orientation,e);if(!S)return null;var[{x:k,y:_},{x:j,y:O}]=S,E=s==="hidden"?"url(#".concat(u,")"):void 0,D=dA(dA({clipPath:E},yn(e)),{},{x1:k,y1:_,x2:j,y2:O}),N=aie({x1:k,y1:_,x2:j,y2:O});return x.createElement(_a,{zIndex:e.zIndex},x.createElement(ea,{className:ht("recharts-reference-line",a)},vie(n,D),x.createElement(KR,a0({},N,{lowerWidth:N.width,upperWidth:N.width}),x.createElement(GR,{label:e.label}),e.children)))}var kie={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:Or.line};function c3(e){var t=Qr(e,kie);return x.createElement(x.Fragment,null,x.createElement(_ie,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y,segment:t.segment}),x.createElement(Sie,t))}c3.displayName="ReferenceLine";function u3(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r}function jie(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return oie(n,r)}function Eie(e,t,r){var n=r==="width",{x:a,y:s,width:l,height:u}=e;return t===1?{start:n?a:s,end:n?a+l:s+u}:{start:n?a+l:s+u,end:n?a:s}}function i0(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function Oie(e,t){return u3(e,t+1)}function Nie(e,t,r,n,a){for(var s=(n||[]).slice(),{start:l,end:u}=t,d=0,f=1,h=l,g=function(){var S=n?.[d];if(S===void 0)return{v:u3(n,f)};var k=d,_,j=()=>(_===void 0&&(_=r(S,k)),_),O=S.coordinate,E=d===0||i0(e,O,j,h,u);E||(d=0,h=l,f+=1),E&&(h=O+e*(j()/2+a),d+=f)},v;f<=s.length;)if(v=g(),v)return v.v;return[]}function fA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fA(Object(r),!0).forEach(function(n){Aie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Aie(e,t,r){return(t=Tie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tie(e){var t=Cie(e,"string");return typeof t=="symbol"?t:t+""}function Cie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pie(e,t,r,n,a){for(var s=(n||[]).slice(),l=s.length,{start:u}=t,{end:d}=t,f=function(v){var y=s[v],S,k=()=>(S===void 0&&(S=r(y,v)),S);if(v===l-1){var _=e*(y.coordinate+e*k()/2-d);s[v]=y=jr(jr({},y),{},{tickCoord:_>0?y.coordinate-_*e:y.coordinate})}else s[v]=y=jr(jr({},y),{},{tickCoord:y.coordinate});if(y.tickCoord!=null){var j=i0(e,y.tickCoord,k,u,d);j&&(d=y.tickCoord-e*(k()/2+a),s[v]=jr(jr({},y),{},{isShow:!0}))}},h=l-1;h>=0;h--)f(h);return s}function Die(e,t,r,n,a,s){var l=(n||[]).slice(),u=l.length,{start:d,end:f}=t;if(s){var h=n[u-1],g=r(h,u-1),v=e*(h.coordinate+e*g/2-f);if(l[u-1]=h=jr(jr({},h),{},{tickCoord:v>0?h.coordinate-v*e:h.coordinate}),h.tickCoord!=null){var y=i0(e,h.tickCoord,()=>g,d,f);y&&(f=h.tickCoord-e*(g/2+a),l[u-1]=jr(jr({},h),{},{isShow:!0}))}}for(var S=s?u-1:u,k=function(O){var E=l[O],D,N=()=>(D===void 0&&(D=r(E,O)),D);if(O===0){var C=e*(E.coordinate-e*N()/2-d);l[O]=E=jr(jr({},E),{},{tickCoord:C<0?E.coordinate-C*e:E.coordinate})}else l[O]=E=jr(jr({},E),{},{tickCoord:E.coordinate});if(E.tickCoord!=null){var P=i0(e,E.tickCoord,N,d,f);P&&(d=E.tickCoord+e*(N()/2+a),l[O]=jr(jr({},E),{},{isShow:!0}))}},_=0;_<S;_++)k(_);return l}function t1(e,t,r){var{tick:n,ticks:a,viewBox:s,minTickGap:l,orientation:u,interval:d,tickFormatter:f,unit:h,angle:g}=e;if(!a||!a.length||!n)return[];if(Ae(d)||Ol.isSsr){var v;return(v=Oie(a,Ae(d)?d:0))!==null&&v!==void 0?v:[]}var y=[],S=u==="top"||u==="bottom"?"width":"height",k=h&&S==="width"?Xc(h,{fontSize:t,letterSpacing:r}):{width:0,height:0},_=(E,D)=>{var N=typeof f=="function"?f(E.value,D):E.value;return S==="width"?jie(Xc(N,{fontSize:t,letterSpacing:r}),k,g):Xc(N,{fontSize:t,letterSpacing:r})[S]},j=a.length>=2?Rn(a[1].coordinate-a[0].coordinate):1,O=Eie(s,j,S);return d==="equidistantPreserveStart"?Nie(j,O,_,a,l):(d==="preserveStart"||d==="preserveStartEnd"?y=Die(j,O,_,a,l,d==="preserveStartEnd"):y=Pie(j,O,_,a,l),y.filter(E=>E.isShow))}var Rie=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:s=0}=e,l=0;if(t){Array.from(t).forEach(h=>{if(h){var g=h.getBoundingClientRect();g.width>l&&(l=g.width)}});var u=r?r.getBoundingClientRect().width:0,d=a+s,f=l+d+u+(r?n:0);return Math.round(f)}return 0},Mie=["axisLine","width","height","className","hide","ticks","axisType"];function $ie(e,t){if(e==null)return{};var r,n,a=Iie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Iie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Gs(){return Gs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gs.apply(null,arguments)}function hA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hA(Object(r),!0).forEach(function(n){Lie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lie(e,t,r){return(t=zie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zie(e){var t=Uie(e,"string");return typeof t=="symbol"?t:t+""}function Uie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qa={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Or.axis};function Bie(e){var{x:t,y:r,width:n,height:a,orientation:s,mirror:l,axisLine:u,otherSvgProps:d}=e;if(!u)return null;var f=Vt(Vt(Vt({},d),Qn(u)),{},{fill:"none"});if(s==="top"||s==="bottom"){var h=+(s==="top"&&!l||s==="bottom"&&l);f=Vt(Vt({},f),{},{x1:t,y1:r+h*a,x2:t+n,y2:r+h*a})}else{var g=+(s==="left"&&!l||s==="right"&&l);f=Vt(Vt({},f),{},{x1:t+g*n,y1:r,x2:t+g*n,y2:r+a})}return x.createElement("line",Gs({},f,{className:ht("recharts-cartesian-axis-line",M0(u,"className"))}))}function qie(e,t,r,n,a,s,l,u,d){var f,h,g,v,y,S,k=u?-1:1,_=e.tickSize||l,j=Ae(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":f=h=e.coordinate,v=r+ +!u*a,g=v-k*_,S=g-k*d,y=j;break;case"left":g=v=e.coordinate,h=t+ +!u*n,f=h-k*_,y=f-k*d,S=j;break;case"right":g=v=e.coordinate,h=t+ +u*n,f=h+k*_,y=f+k*d,S=j;break;default:f=h=e.coordinate,v=r+ +u*a,g=v+k*_,S=g+k*d,y=j;break}return{line:{x1:f,y1:g,x2:h,y2:v},tick:{x:y,y:S}}}function Hie(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Fie(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Vie(e){var{option:t,tickProps:r,value:n}=e,a,s=ht(r.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(t))a=x.cloneElement(t,Vt(Vt({},r),{},{className:s}));else if(typeof t=="function")a=t(Vt(Vt({},r),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=ht(l,t?.className)),a=x.createElement(Xw,Gs({},r,{className:l}),n)}return a}var Kie=x.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:s,tickFormatter:l,unit:u,padding:d,tickTextProps:f,orientation:h,mirror:g,x:v,y,width:S,height:k,tickSize:_,tickMargin:j,fontSize:O,letterSpacing:E,getTicksConfig:D,events:N,axisType:C}=e,P=t1(Vt(Vt({},D),{},{ticks:r}),O,E),T=Hie(h,g),R=Fie(h,g),M=Qn(D),I=P0(n),z={};typeof a=="object"&&(z=a);var q=Vt(Vt({},M),{},{fill:"none"},z),re=P.map(H=>Vt({entry:H},qie(H,v,y,S,k,h,_,g,j))),oe=re.map(H=>{var{entry:W,line:ee}=H;return x.createElement(ea,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(W.value,"-").concat(W.coordinate,"-").concat(W.tickCoord)},a&&x.createElement("line",Gs({},q,ee,{className:ht("recharts-cartesian-axis-tick-line",M0(a,"className"))})))}),B=re.map((H,W)=>{var{entry:ee,tick:ve}=H,L=Vt(Vt(Vt(Vt({textAnchor:T,verticalAnchor:R},M),{},{stroke:"none",fill:s},I),ve),{},{index:W,payload:ee,visibleTicksCount:P.length,tickFormatter:l,padding:d},f);return x.createElement(ea,Gs({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ee.value,"-").concat(ee.coordinate,"-").concat(ee.tickCoord)},nK(N,ee,W)),n&&x.createElement(Vie,{option:n,tickProps:L,value:"".concat(typeof l=="function"?l(ee.value,W):ee.value).concat(u||"")}))});return x.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(C,"-ticks")},B.length>0&&x.createElement(_a,{zIndex:Or.label},x.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(C,"-tick-labels"),ref:t},B)),oe.length>0&&x.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(C,"-tick-lines")},oe))}),Zie=x.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:s,hide:l,ticks:u,axisType:d}=e,f=$ie(e,Mie),[h,g]=x.useState(""),[v,y]=x.useState(""),S=x.useRef(null);x.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var _;return Rie({ticks:S.current,label:(_=e.labelRef)===null||_===void 0?void 0:_.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var k=x.useCallback(_=>{if(_){var j=_.getElementsByClassName("recharts-cartesian-axis-tick-value");S.current=j;var O=j[0];if(O){var E=window.getComputedStyle(O),D=E.fontSize,N=E.letterSpacing;(D!==h||N!==v)&&(g(D),y(N))}}},[h,v]);return l||n!=null&&n<=0||a!=null&&a<=0?null:x.createElement(_a,{zIndex:e.zIndex},x.createElement(ea,{className:ht("recharts-cartesian-axis",s)},x.createElement(Bie,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Qn(e)}),x.createElement(Kie,{ref:k,axisType:d,events:f,fontSize:h,getTicksConfig:e,height:e.height,letterSpacing:v,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:u,unit:e.unit,width:e.width,x:e.x,y:e.y}),x.createElement(KR,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},x.createElement(GR,{label:e.label,labelRef:e.labelRef}),e.children)))}),r1=x.forwardRef((e,t)=>{var r=Qr(e,Qa);return x.createElement(Zie,Gs({},r,{ref:t}))});r1.displayName="CartesianAxis";var Gie=["x1","y1","x2","y2","key"],Yie=["offset"],Wie=["xAxisId","yAxisId"],Xie=["xAxisId","yAxisId"];function mA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Er(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mA(Object(r),!0).forEach(function(n){Jie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jie(e,t,r){return(t=Qie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qie(e){var t=ese(e,"string");return typeof t=="symbol"?t:t+""}function ese(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Is(){return Is=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Is.apply(null,arguments)}function s0(e,t){if(e==null)return{};var r,n,a=tse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function tse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var rse=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:s,height:l,ry:u}=e;return x.createElement("rect",{x:n,y:a,ry:u,width:s,height:l,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function d3(e){var{option:t,lineItemProps:r}=e,n;if(x.isValidElement(t))n=x.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:s,y1:l,x2:u,y2:d,key:f}=r,h=s0(r,Gie),g=(a=Qn(h))!==null&&a!==void 0?a:{},{offset:v}=g,y=s0(g,Yie);n=x.createElement("line",Is({},y,{x1:s,y1:l,x2:u,y2:d,fill:"none",key:f}))}return n}function nse(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:l}=e,u=s0(e,Wie),d=a.map((f,h)=>{var g=Er(Er({},u),{},{x1:t,y1:f,x2:t+r,y2:f,key:"line-".concat(h),index:h});return x.createElement(d3,{key:"line-".concat(h),option:n,lineItemProps:g})});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function ase(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:l}=e,u=s0(e,Xie),d=a.map((f,h)=>{var g=Er(Er({},u),{},{x1:f,y1:t,x2:f,y2:t+r,key:"line-".concat(h),index:h});return x.createElement(d3,{option:n,lineItemProps:g,key:"line-".concat(h)})});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function ise(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:s,height:l,horizontalPoints:u,horizontal:d=!0}=e;if(!d||!t||!t.length||u==null)return null;var f=u.map(g=>Math.round(g+a-a)).sort((g,v)=>g-v);a!==f[0]&&f.unshift(0);var h=f.map((g,v)=>{var y=!f[v+1],S=y?a+l-g:f[v+1]-g;if(S<=0)return null;var k=v%t.length;return x.createElement("rect",{key:"react-".concat(v),y:g,x:n,height:S,width:s,stroke:"none",fill:t[k],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function sse(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:s,width:l,height:u,verticalPoints:d}=e;if(!t||!r||!r.length)return null;var f=d.map(g=>Math.round(g+a-a)).sort((g,v)=>g-v);a!==f[0]&&f.unshift(0);var h=f.map((g,v)=>{var y=!f[v+1],S=y?a+l-g:f[v+1]-g;if(S<=0)return null;var k=v%r.length;return x.createElement("rect",{key:"react-".concat(v),x:g,y:s,width:S,height:u,stroke:"none",fill:r[k],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var ose=(e,t)=>{var{xAxis:r,width:n,height:a,offset:s}=e;return WP(t1(Er(Er(Er({},Qa),r),{},{ticks:XP(r),viewBox:{x:0,y:0,width:n,height:a}})),s.left,s.left+s.width,t)},lse=(e,t)=>{var{yAxis:r,width:n,height:a,offset:s}=e;return WP(t1(Er(Er(Er({},Qa),r),{},{ticks:XP(r),viewBox:{x:0,y:0,width:n,height:a}})),s.top,s.top+s.height,t)},cse={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Or.grid};function f3(e){var t=sD(),r=oD(),n=iD(),a=Er(Er({},Qr(e,cse)),{},{x:Ae(e.x)?e.x:n.left,y:Ae(e.y)?e.y:n.top,width:Ae(e.width)?e.width:n.width,height:Ae(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:l,x:u,y:d,width:f,height:h,syncWithTicks:g,horizontalValues:v,verticalValues:y}=a,S=Ir(),k=Ne(R=>_N(R,"xAxis",s,S)),_=Ne(R=>_N(R,"yAxis",l,S));if(!va(f)||!va(h)||!Ae(u)||!Ae(d))return null;var j=a.verticalCoordinatesGenerator||ose,O=a.horizontalCoordinatesGenerator||lse,{horizontalPoints:E,verticalPoints:D}=a;if((!E||!E.length)&&typeof O=="function"){var N=v&&v.length,C=O({yAxis:_?Er(Er({},_),{},{ticks:N?v:_.ticks}):void 0,width:t??f,height:r??h,offset:n},N?!0:g);Rh(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(E=C)}if((!D||!D.length)&&typeof j=="function"){var P=y&&y.length,T=j({xAxis:k?Er(Er({},k),{},{ticks:P?y:k.ticks}):void 0,width:t??f,height:r??h,offset:n},P?!0:g);Rh(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof T,"]")),Array.isArray(T)&&(D=T)}return x.createElement(_a,{zIndex:a.zIndex},x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(rse,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),x.createElement(ise,Is({},a,{horizontalPoints:E})),x.createElement(sse,Is({},a,{verticalPoints:D})),x.createElement(nse,Is({},a,{offset:n,horizontalPoints:E,xAxis:k,yAxis:_})),x.createElement(ase,Is({},a,{offset:n,verticalPoints:D,xAxis:k,yAxis:_}))))}f3.displayName="CartesianGrid";function use(e){var t=P0(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:s}=t,l=Number(a),u=Number(s);return(Number.isNaN(l)||l<0)&&(l=r),(Number.isNaN(u)||u<0)&&(u=n),{r:l,strokeWidth:u}}return{r,strokeWidth:n}}var h3=(e,t,r,n)=>lR(e,"xAxis",t,n),m3=(e,t,r,n)=>oR(e,"xAxis",t,n),p3=(e,t,r,n)=>lR(e,"yAxis",r,n),g3=(e,t,r,n)=>oR(e,"yAxis",r,n),dse=se([mt,h3,p3,m3,g3],(e,t,r,n,a)=>ci(e,"xAxis")?Dh(t,n,!1):Dh(r,a,!1)),fse=(e,t,r,n,a)=>a,v3=se([T4,fse],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),hse=(e,t,r,n,a)=>{var s,l=v3(e,t,r,n,a);if(l!=null){var u=mt(e),d=ci(u,"xAxis"),f;if(d?f=qb(e,"yAxis",r,n):f=qb(e,"xAxis",t,n),f!=null){var{stackId:h}=l,g=Tw(l);if(!(h==null||g==null)){var v=(s=f[h])===null||s===void 0?void 0:s.stackedData;return v?.find(y=>y.key===g)}}}},mse=se([mt,h3,p3,m3,g3,hse,ww,dse,v3,kQ],(e,t,r,n,a,s,l,u,d,f)=>{var{chartData:h,dataStartIndex:g,dataEndIndex:v}=l;if(!(d==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||a==null||n.length===0||a.length===0||u==null)){var{data:y}=d,S;if(y&&y.length>0?S=y:S=h?.slice(g,v+1),S!=null)return Dse({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataStartIndex:g,areaSettings:d,stackedData:s,displayedData:S,chartBaseValue:f,bandSize:u})}}),pse=["id"],gse=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Bs(){return Bs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bs.apply(null,arguments)}function y3(e,t){if(e==null)return{};var r,n,a=vse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function vse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function pA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pA(Object(r),!0).forEach(function(n){yse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yse(e,t,r){return(t=bse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bse(e){var t=xse(e,"string");return typeof t=="symbol"?t:t+""}function xse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function o0(e,t){return e&&e!=="none"?e:t}var wse=e=>{var{dataKey:t,name:r,stroke:n,fill:a,legendType:s,hide:l}=e;return[{inactive:l,dataKey:t,type:s,color:o0(n,a),value:JP(r,t),payload:e}]},_se=x.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:s,name:l,hide:u,unit:d,tooltipType:f}=e,h={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:s,dataKey:t,nameKey:void 0,name:JP(l,t),hide:u,type:f,color:o0(n,s),unit:d}};return x.createElement(Vne,{tooltipEntrySettings:h})});function Sse(e){var{clipPathId:t,points:r,props:n}=e,{needClip:a,dot:s,dataKey:l}=n,u=Qn(n);return x.createElement(fae,{points:r,dot:s,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:l,baseProps:u,needClip:a,clipPathId:t})}function kse(e){var{showLabels:t,children:r,points:n}=e,a=n.map(s=>{var l,u,d={x:(l=s.x)!==null&&l!==void 0?l:0,y:(u=s.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return nl(nl({},d),{},{value:s.value,payload:s.payload,parentViewBox:void 0,viewBox:d,fill:void 0})});return x.createElement(zne,{value:t?a:void 0},r)}function gA(e){var{points:t,baseLine:r,needClip:n,clipPathId:a,props:s}=e,{layout:l,type:u,stroke:d,connectNulls:f,isRange:h}=s,{id:g}=s,v=y3(s,pse),y=Qn(v),S=yn(v);return x.createElement(x.Fragment,null,t?.length>1&&x.createElement(ea,{clipPath:n?"url(#clipPath-".concat(a,")"):void 0},x.createElement(eh,Bs({},S,{id:g,points:t,connectNulls:f,type:u,baseLine:r,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&x.createElement(eh,Bs({},y,{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:t})),d!=="none"&&h&&x.createElement(eh,Bs({},y,{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:r}))),x.createElement(Sse,{points:t,props:v,clipPathId:a}))}function jse(e){var{alpha:t,baseLine:r,points:n,strokeWidth:a}=e,s=n[0].y,l=n[n.length-1].y;if(!ft(s)||!ft(l))return null;var u=t*Math.abs(s-l),d=Math.max(...n.map(f=>f.x||0));return Ae(r)?d=Math.max(r,d):r&&Array.isArray(r)&&r.length&&(d=Math.max(...r.map(f=>f.x||0),d)),Ae(d)?x.createElement("rect",{x:0,y:s<l?s:s-u,width:d+(a?parseInt("".concat(a),10):1),height:Math.floor(u)}):null}function Ese(e){var{alpha:t,baseLine:r,points:n,strokeWidth:a}=e,s=n[0].x,l=n[n.length-1].x;if(!ft(s)||!ft(l))return null;var u=t*Math.abs(s-l),d=Math.max(...n.map(f=>f.y||0));return Ae(r)?d=Math.max(r,d):r&&Array.isArray(r)&&r.length&&(d=Math.max(...r.map(f=>f.y||0),d)),Ae(d)?x.createElement("rect",{x:s<l?s:s-u,y:0,width:u,height:Math.floor(d+(a?parseInt("".concat(a),10):1))}):null}function Ose(e){var{alpha:t,layout:r,points:n,baseLine:a,strokeWidth:s}=e;return r==="vertical"?x.createElement(jse,{alpha:t,points:n,baseLine:a,strokeWidth:s}):x.createElement(Ese,{alpha:t,points:n,baseLine:a,strokeWidth:s})}function Nse(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:s}=e,{points:l,baseLine:u,isAnimationActive:d,animationBegin:f,animationDuration:h,animationEasing:g,onAnimationStart:v,onAnimationEnd:y}=n,S=x.useMemo(()=>({points:l,baseLine:u}),[l,u]),k=xD(S,"recharts-area-"),_=YG(),[j,O]=x.useState(!1),E=!j,D=x.useCallback(()=>{typeof y=="function"&&y(),O(!1)},[y]),N=x.useCallback(()=>{typeof v=="function"&&v(),O(!0)},[v]);if(_==null)return null;var C=a.current,P=s.current;return x.createElement(kse,{showLabels:E,points:l},n.children,x.createElement(bD,{animationId:k,begin:f,duration:h,isActive:d,easing:g,onAnimationEnd:D,onAnimationStart:N,key:k},T=>{if(C){var R=C.length/l.length,M=T===1?l:l.map((z,q)=>{var re=Math.floor(q*R);if(C[re]){var oe=C[re];return nl(nl({},z),{},{x:ua(oe.x,z.x,T),y:ua(oe.y,z.y,T)})}return z}),I;return Ae(u)?I=ua(P,u,T):yr(u)||bn(u)?I=ua(P,0,T):I=u.map((z,q)=>{var re=Math.floor(q*R);if(Array.isArray(P)&&P[re]){var oe=P[re];return nl(nl({},z),{},{x:ua(oe.x,z.x,T),y:ua(oe.y,z.y,T)})}return z}),T>0&&(a.current=M,s.current=I),x.createElement(gA,{points:M,baseLine:I,needClip:t,clipPathId:r,props:n})}return T>0&&(a.current=l,s.current=u),x.createElement(ea,null,d&&x.createElement("defs",null,x.createElement("clipPath",{id:"animationClipPath-".concat(r)},x.createElement(Ose,{alpha:T,points:l,baseLine:u,layout:_,strokeWidth:n.strokeWidth}))),x.createElement(ea,{clipPath:"url(#animationClipPath-".concat(r,")")},x.createElement(gA,{points:l,baseLine:u,needClip:t,clipPathId:r,props:n})))}),x.createElement(qne,{label:n.label}))}function Ase(e){var{needClip:t,clipPathId:r,props:n}=e,a=x.useRef(null),s=x.useRef();return x.createElement(Nse,{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:s})}class Tse extends x.PureComponent{render(){var{hide:t,dot:r,points:n,className:a,top:s,left:l,needClip:u,xAxisId:d,yAxisId:f,width:h,height:g,id:v,baseLine:y,zIndex:S}=this.props;if(t)return null;var k=ht("recharts-area",a),_=v,{r:j,strokeWidth:O}=use(r),E=QR(r),D=j*2+O,N=u?"url(#clipPath-".concat(E?"":"dots-").concat(_,")"):void 0;return x.createElement(_a,{zIndex:S},x.createElement(ea,{className:k},u&&x.createElement("defs",null,x.createElement(Rae,{clipPathId:_,xAxisId:d,yAxisId:f}),!E&&x.createElement("clipPath",{id:"clipPath-dots-".concat(_)},x.createElement("rect",{x:l-D/2,y:s-D/2,width:h+D,height:g+D}))),x.createElement(Ase,{needClip:u,clipPathId:_,props:this.props})),x.createElement(iA,{points:n,mainColor:o0(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:N}),this.props.isRange&&Array.isArray(y)&&x.createElement(iA,{points:y,mainColor:o0(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:N}))}}var b3={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Or.area};function Cse(e){var t,r=Qr(e,b3),{activeDot:n,animationBegin:a,animationDuration:s,animationEasing:l,connectNulls:u,dot:d,fill:f,fillOpacity:h,hide:g,isAnimationActive:v,legendType:y,stroke:S,xAxisId:k,yAxisId:_}=r,j=y3(r,gse),O=Pu(),E=AR(),{needClip:D}=a3(k,_),N=Ir(),{points:C,isRange:P,baseLine:T}=(t=Ne(re=>mse(re,k,_,N,e.id)))!==null&&t!==void 0?t:{},R=Qw();if(O!=="horizontal"&&O!=="vertical"||R==null||E!=="AreaChart"&&E!=="ComposedChart")return null;var{height:M,width:I,x:z,y:q}=R;return!C||!C.length?null:x.createElement(Tse,Bs({},j,{activeDot:n,animationBegin:a,animationDuration:s,animationEasing:l,baseLine:T,connectNulls:u,dot:d,fill:f,fillOpacity:h,height:M,hide:g,layout:O,isAnimationActive:v==="auto"?!Ol.isSsr:v,isRange:P,legendType:y,needClip:D,points:C,stroke:S,width:I,left:z,top:q,xAxisId:k,yAxisId:_}))}var Pse=(e,t,r,n,a)=>{var s=r??t;if(Ae(s))return s;var l=e==="horizontal"?a:n,u=l.scale.domain();if(l.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return s==="dataMin"?f:s==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return s==="dataMin"?u[0]:s==="dataMax"?u[1]:u[0]};function Dse(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:a,layout:s,chartBaseValue:l,xAxis:u,yAxis:d,displayedData:f,dataStartIndex:h,xAxisTicks:g,yAxisTicks:v,bandSize:y}=e,S=a&&a.length,k=Pse(s,l,r,u,d),_=s==="horizontal",j=!1,O=f.map((D,N)=>{var C;S?C=a[h+N]:(C=Nr(D,n),Array.isArray(C)?j=!0:C=[k,C]);var P=C[1]==null||S&&!t&&Nr(D,n)==null;return _?{x:VE({axis:u,ticks:g,bandSize:y,entry:D,index:N}),y:P?null:d.scale(C[1]),value:C,payload:D}:{x:P?null:u.scale(C[1]),y:VE({axis:d,ticks:v,bandSize:y,entry:D,index:N}),value:C,payload:D}}),E;return S||j?E=O.map(D=>{var N=Array.isArray(D.value)?D.value[0]:null;return _?{x:D.x,y:N!=null&&D.y!=null?d.scale(N):null,payload:D.payload}:{x:N!=null?u.scale(N):null,y:D.y,payload:D.payload}}):E=_?d.scale(k):u.scale(k),{points:O,baseLine:E,isRange:j}}function Rse(e){var t=Qr(e,b3),r=Ir();return x.createElement(Wne,{id:t.id,type:"area"},n=>x.createElement(x.Fragment,null,x.createElement(Kne,{legendPayload:wse(t)}),x.createElement(_se,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),x.createElement(nae,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:dG(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),x.createElement(Cse,Bs({},t,{id:n}))))}var x3=x.memo(Rse,e1);x3.displayName="Area";var Mse=["domain","range"],$se=["domain","range"];function vA(e,t){if(e==null)return{};var r,n,a=Ise(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ise(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function yA(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function w3(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=vA(e,Mse),{domain:s,range:l}=t,u=vA(t,$se);return!yA(r,s)||!yA(n,l)?!1:e1(a,u)}var Lse=["dangerouslySetInnerHTML","ticks"],zse=["id"];function Wb(){return Wb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wb.apply(null,arguments)}function bA(e,t){if(e==null)return{};var r,n,a=Use(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Use(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Bse(e){var t=Wt(),r=x.useRef(null);return x.useLayoutEffect(()=>{r.current===null?t(vae(e)):r.current!==e&&t(yae({prev:r.current,next:e})),r.current=e},[e,t]),x.useLayoutEffect(()=>()=>{r.current&&(t(bae(r.current)),r.current=null)},[t]),null}var qse=e=>{var{xAxisId:t,className:r}=e,n=Ne(eD),a=Ir(),s="xAxis",l=Ne(_=>Xi(_,s,t,a)),u=Ne(_=>sR(_,s,t,a)),d=Ne(_=>gee(_,t)),f=Ne(_=>_ee(_,t)),h=Ne(_=>E4(_,t));if(d==null||f==null||h==null)return null;var{dangerouslySetInnerHTML:g,ticks:v}=e,y=bA(e,Lse),{id:S}=h,k=bA(h,zse);return x.createElement(r1,Wb({},y,k,{scale:l,x:f.x,y:f.y,width:d.width,height:d.height,className:ht("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:u,axisType:s}))},Hse={allowDataOverflow:ar.allowDataOverflow,allowDecimals:ar.allowDecimals,allowDuplicatedCategory:ar.allowDuplicatedCategory,angle:ar.angle,axisLine:Qa.axisLine,height:ar.height,hide:!1,includeHidden:ar.includeHidden,interval:ar.interval,minTickGap:ar.minTickGap,mirror:ar.mirror,orientation:ar.orientation,padding:ar.padding,reversed:ar.reversed,scale:ar.scale,tick:ar.tick,tickCount:ar.tickCount,tickLine:Qa.tickLine,tickSize:Qa.tickSize,type:ar.type,xAxisId:0},Fse=e=>{var t=Qr(e,Hse);return x.createElement(x.Fragment,null,x.createElement(Bse,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),x.createElement(qse,t))},_3=x.memo(Fse,w3);_3.displayName="XAxis";var Vse=["dangerouslySetInnerHTML","ticks"],Kse=["id"];function Xb(){return Xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xb.apply(null,arguments)}function xA(e,t){if(e==null)return{};var r,n,a=Zse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Zse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Gse(e){var t=Wt(),r=x.useRef(null);return x.useLayoutEffect(()=>{r.current===null?t(xae(e)):r.current!==e&&t(wae({prev:r.current,next:e})),r.current=e},[e,t]),x.useLayoutEffect(()=>()=>{r.current&&(t(_ae(r.current)),r.current=null)},[t]),null}var Yse=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,s=x.useRef(null),l=x.useRef(null),u=Ne(eD),d=Ir(),f=Wt(),h="yAxis",g=Ne(N=>Xi(N,h,t,d)),v=Ne(N=>jee(N,t)),y=Ne(N=>kee(N,t)),S=Ne(N=>sR(N,h,t,d)),k=Ne(N=>O4(N,t));if(x.useLayoutEffect(()=>{if(!(n!=="auto"||!v||Jw(a)||x.isValidElement(a)||k==null)){var N=s.current;if(N){var C=N.getCalculatedWidth();Math.round(v.width)!==Math.round(C)&&f(Sae({id:t,width:C}))}}},[S,v,f,a,t,n,k]),v==null||y==null||k==null)return null;var{dangerouslySetInnerHTML:_,ticks:j}=e,O=xA(e,Vse),{id:E}=k,D=xA(k,Kse);return x.createElement(r1,Xb({},O,D,{ref:s,labelRef:l,scale:g,x:y.x,y:y.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:v.width,height:v.height,className:ht("recharts-".concat(h," ").concat(h),r),viewBox:u,ticks:S,axisType:h}))},Wse={allowDataOverflow:ir.allowDataOverflow,allowDecimals:ir.allowDecimals,allowDuplicatedCategory:ir.allowDuplicatedCategory,angle:ir.angle,axisLine:Qa.axisLine,hide:!1,includeHidden:ir.includeHidden,interval:ir.interval,minTickGap:ir.minTickGap,mirror:ir.mirror,orientation:ir.orientation,padding:ir.padding,reversed:ir.reversed,scale:ir.scale,tick:ir.tick,tickCount:ir.tickCount,tickLine:Qa.tickLine,tickSize:Qa.tickSize,type:ir.type,width:ir.width,yAxisId:0},Xse=e=>{var t=Qr(e,Wse);return x.createElement(x.Fragment,null,x.createElement(Gse,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),x.createElement(Yse,t))},S3=x.memo(Xse,w3);S3.displayName="YAxis";var Jse=(e,t)=>t,n1=se([Jse,mt,k4,Qt,SR,hi,zte,wr],Kte),a1=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},k3=In("mouseClick"),j3=Au();j3.startListening({actionCreator:k3,effect:(e,t)=>{var r=e.payload,n=n1(t.getState(),a1(r));n?.activeIndex!=null&&t.dispatch(Lee({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Jb=In("mouseMove"),E3=Au(),Vf=null;E3.startListening({actionCreator:Jb,effect:(e,t)=>{var r=e.payload;Vf!==null&&cancelAnimationFrame(Vf);var n=a1(r);Vf=requestAnimationFrame(()=>{var a=t.getState(),s=Bw(a,a.tooltip.settings.shared);if(s==="axis"){var l=n1(a,n);l?.activeIndex!=null?t.dispatch(pR({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):t.dispatch(mR())}Vf=null})}});var wA={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},O3=en({name:"rootProps",initialState:wA,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:wA.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Qse=O3.reducer,{updateOptions:eoe}=O3.actions,N3=en({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:lue}=N3.actions,toe=N3.reducer,A3=In("keyDown"),T3=In("focus"),i1=Au();i1.startListening({actionCreator:A3,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=qw(a,Rl(r),Uu(r),Vu(r)),u=l==null?-1:Number(l);if(!(!Number.isFinite(u)||u<0)){var d=hi(r);if(s==="Enter"){var f=t0(r,"axis","hover",String(a.index));t.dispatch(Fb({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:f}));return}var h=Aee(r),g=h==="left-to-right"?1:-1,v=s==="ArrowRight"?1:-1,y=u+v*g;if(!(d==null||y>=d.length||y<0)){var S=t0(r,"axis","hover",String(y));t.dispatch(Fb({active:!0,activeIndex:y.toString(),activeDataKey:void 0,activeCoordinate:S}))}}}}}});i1.startListening({actionCreator:T3,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var s="0",l=t0(r,"axis","hover",String(s));t.dispatch(Fb({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:l}))}}}});var Dn=In("externalEvent"),C3=Au(),Sy=new Map;C3.startListening({actionCreator:Dn,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,s=Sy.get(a);s!==void 0&&cancelAnimationFrame(s);var l=requestAnimationFrame(()=>{try{var u=t.getState(),d={activeCoordinate:kte(u),activeDataKey:_te(u),activeIndex:bu(u),activeLabel:ER(u),activeTooltipIndex:bu(u),isTooltipActive:jte(u)};r(d,n)}finally{Sy.delete(a)}});Sy.set(a,l)}}});var roe=se([Dl],e=>e.tooltipItemPayloads),noe=se([roe,Hu,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(u=>u.settings.dataKey===n);if(a!=null){var{positions:s}=a;if(s!=null){var l=t(s,r);return l}}}),P3=In("touchMove"),D3=Au();D3.startListening({actionCreator:P3,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=Bw(n,n.tooltip.settings.shared);if(a==="axis"){var s=n1(n,a1({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));s?.activeIndex!=null&&t.dispatch(pR({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(a==="item"){var l,u=r.touches[0];if(document.elementFromPoint==null)return;var d=document.elementFromPoint(u.clientX,u.clientY);if(!d||!d.getAttribute)return;var f=d.getAttribute(yG),h=(l=d.getAttribute(bG))!==null&&l!==void 0?l:void 0,g=noe(t.getState(),f,h);t.dispatch(Iee({activeDataKey:h,activeIndex:f,activeCoordinate:g}))}}}});var aoe=wP({brush:eie,cartesianAxis:kae,chartData:kre,errorBars:Dae,graphicalItems:tae,layout:tG,legend:fY,options:bre,polarAxis:Fne,polarOptions:toe,referenceElements:die,rootProps:Qse,tooltip:zee,zIndex:sre}),ioe=function(t){return EZ({reducer:aoe,preloadedState:t,middleware:r=>{var n;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((n="es6")!==null&&n!==void 0?n:"")}).concat([j3.middleware,E3.middleware,i1.middleware,C3.middleware,D3.middleware])},enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat($P({type:"raf"}))},devTools:Ol.devToolsEnabled})};function soe(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=Ir(),s=x.useRef(null);if(a)return r;s.current==null&&(s.current=ioe(t));var l=Ux;return x.createElement(Wae,{context:l,store:s.current},r)}function ooe(e){var{layout:t,margin:r}=e,n=Wt(),a=Ir();return x.useEffect(()=>{a||(n(JZ(t)),n(XZ(r)))},[n,a,t,r]),null}var loe=x.memo(ooe,e1);function coe(e){var t=Wt();return x.useEffect(()=>{t(eoe(e))},[t,e]),null}function _A(e){var{zIndex:t,isPanorama:r}=e,n=r?"recharts-zindex-panorama-":"recharts-zindex-",a=e3("".concat(n).concat(t)),s=Wt();return x.useLayoutEffect(()=>(s(are({zIndex:t,elementId:a,isPanorama:r})),()=>{s(ire({zIndex:t,isPanorama:r}))}),[s,t,a,r]),x.createElement("g",{tabIndex:-1,id:a})}function SA(e){var{children:t,isPanorama:r}=e,n=Ne(Gte);if(!n||n.length===0)return t;var a=n.filter(l=>l<0),s=n.filter(l=>l>0);return x.createElement(x.Fragment,null,a.map(l=>x.createElement(_A,{key:l,zIndex:l,isPanorama:r})),t,s.map(l=>x.createElement(_A,{key:l,zIndex:l,isPanorama:r})))}var uoe=["children"];function doe(e,t){if(e==null)return{};var r,n,a=foe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function foe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function l0(){return l0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l0.apply(null,arguments)}var hoe={width:"100%",height:"100%",display:"block"},moe=x.forwardRef((e,t)=>{var r=sD(),n=oD(),a=pD();if(!va(r)||!va(n))return null;var{children:s,otherAttributes:l,title:u,desc:d}=e,f,h;return l!=null&&(typeof l.tabIndex=="number"?f=l.tabIndex:f=a?0:void 0,typeof l.role=="string"?h=l.role:h=a?"application":void 0),x.createElement(qC,l0({},l,{title:u,desc:d,role:h,tabIndex:f,width:r,height:n,style:hoe,ref:t}),s)}),poe=e=>{var{children:t}=e,r=Ne(G0);if(!r)return null;var{width:n,height:a,y:s,x:l}=r;return x.createElement(qC,{width:n,height:a,x:l,y:s},t)},kA=x.forwardRef((e,t)=>{var{children:r}=e,n=doe(e,uoe),a=Ir();return a?x.createElement(poe,null,x.createElement(SA,{isPanorama:!0},r)):x.createElement(moe,l0({ref:t},n),x.createElement(SA,{isPanorama:!1},r))});function goe(){var e=Wt(),[t,r]=x.useState(null),n=Ne(vG);return x.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),s=a.width/t.offsetWidth;ft(s)&&s!==n&&e(eG(s))}},[t,e,n]),r}function jA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function voe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jA(Object(r),!0).forEach(function(n){yoe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yoe(e,t,r){return(t=boe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function boe(e){var t=xoe(e,"string");return typeof t=="symbol"?t:t+""}function xoe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ys(){return Ys=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ys.apply(null,arguments)}var woe=()=>(Dre(),null);function c0(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var _oe=x.forwardRef((e,t)=>{var r,n,a=x.useRef(null),[s,l]=x.useState({containerWidth:c0((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:c0((n=e.style)===null||n===void 0?void 0:n.height)}),u=x.useCallback((f,h)=>{l(g=>{var v=Math.round(f),y=Math.round(h);return g.containerWidth===v&&g.containerHeight===y?g:{containerWidth:v,containerHeight:y}})},[]),d=x.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null&&typeof ResizeObserver<"u"){var{width:h,height:g}=f.getBoundingClientRect();u(h,g);var v=S=>{var{width:k,height:_}=S[0].contentRect;u(k,_)},y=new ResizeObserver(v);y.observe(f),a.current=y}},[t,u]);return x.useEffect(()=>()=>{var f=a.current;f?.disconnect()},[u]),x.createElement(x.Fragment,null,x.createElement(Y0,{width:s.containerWidth,height:s.containerHeight}),x.createElement("div",Ys({ref:d},e)))}),Soe=x.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,s]=x.useState({containerWidth:c0(r),containerHeight:c0(n)}),l=x.useCallback((d,f)=>{s(h=>{var g=Math.round(d),v=Math.round(f);return h.containerWidth===g&&h.containerHeight===v?h:{containerWidth:g,containerHeight:v}})},[]),u=x.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null){var{width:f,height:h}=d.getBoundingClientRect();l(f,h)}},[t,l]);return x.createElement(x.Fragment,null,x.createElement(Y0,{width:a.containerWidth,height:a.containerHeight}),x.createElement("div",Ys({ref:u},e)))}),koe=x.forwardRef((e,t)=>{var{width:r,height:n}=e;return x.createElement(x.Fragment,null,x.createElement(Y0,{width:r,height:n}),x.createElement("div",Ys({ref:t},e)))}),joe=x.forwardRef((e,t)=>{var{width:r,height:n}=e;return ti(r)||ti(n)?x.createElement(Soe,Ys({},e,{ref:t})):x.createElement(koe,Ys({},e,{ref:t}))});function Eoe(e){return e===!0?_oe:joe}var Ooe=x.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:s,onContextMenu:l,onDoubleClick:u,onMouseDown:d,onMouseEnter:f,onMouseLeave:h,onMouseMove:g,onMouseUp:v,onTouchEnd:y,onTouchMove:S,onTouchStart:k,style:_,width:j,responsive:O,dispatchTouchEvents:E=!0}=e,D=x.useRef(null),N=Wt(),[C,P]=x.useState(null),[T,R]=x.useState(null),M=goe(),I=Yx(),z=I?.width>0?I.width:j,q=I?.height>0?I.height:a,re=x.useCallback(G=>{M(G),typeof t=="function"&&t(G),P(G),R(G),G!=null&&(D.current=G)},[M,t,P,R]),oe=x.useCallback(G=>{N(k3(G)),N(Dn({handler:s,reactEvent:G}))},[N,s]),B=x.useCallback(G=>{N(Jb(G)),N(Dn({handler:f,reactEvent:G}))},[N,f]),H=x.useCallback(G=>{N(mR()),N(Dn({handler:h,reactEvent:G}))},[N,h]),W=x.useCallback(G=>{N(Jb(G)),N(Dn({handler:g,reactEvent:G}))},[N,g]),ee=x.useCallback(()=>{N(T3())},[N]),ve=x.useCallback(G=>{N(A3(G.key))},[N]),L=x.useCallback(G=>{N(Dn({handler:l,reactEvent:G}))},[N,l]),K=x.useCallback(G=>{N(Dn({handler:u,reactEvent:G}))},[N,u]),F=x.useCallback(G=>{N(Dn({handler:d,reactEvent:G}))},[N,d]),Z=x.useCallback(G=>{N(Dn({handler:v,reactEvent:G}))},[N,v]),le=x.useCallback(G=>{N(Dn({handler:k,reactEvent:G}))},[N,k]),ue=x.useCallback(G=>{E&&N(P3(G)),N(Dn({handler:S,reactEvent:G}))},[N,E,S]),ne=x.useCallback(G=>{N(Dn({handler:y,reactEvent:G}))},[N,y]),be=Eoe(O);return x.createElement(RR.Provider,{value:C},x.createElement(NV.Provider,{value:T},x.createElement(be,{width:z??_?.width,height:q??_?.height,className:ht("recharts-wrapper",n),style:voe({position:"relative",cursor:"default",width:z,height:q},_),onClick:oe,onContextMenu:L,onDoubleClick:K,onFocus:ee,onKeyDown:ve,onMouseDown:F,onMouseEnter:B,onMouseLeave:H,onMouseMove:W,onMouseUp:Z,onTouchEnd:ne,onTouchMove:ue,onTouchStart:le,ref:re},x.createElement(woe,null),r)))}),Noe=["width","height","responsive","children","className","style","compact","title","desc"];function Aoe(e,t){if(e==null)return{};var r,n,a=Toe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Toe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Coe=x.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:s,className:l,style:u,compact:d,title:f,desc:h}=e,g=Aoe(e,Noe),v=Qn(g);return d?x.createElement(x.Fragment,null,x.createElement(Y0,{width:r,height:n}),x.createElement(kA,{otherAttributes:v,title:f,desc:h},s)):x.createElement(Ooe,{className:l,style:u,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},x.createElement(kA,{otherAttributes:v,title:f,desc:h,ref:t},x.createElement(fie,null,s)))});function Qb(){return Qb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qb.apply(null,arguments)}var Poe={top:5,right:5,bottom:5,left:5},Doe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Poe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Roe=x.forwardRef(function(t,r){var n,a=Qr(t.categoricalChartProps,Doe),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,categoricalChartProps:f}=t,h={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return x.createElement(soe,{preloadedState:{options:h},reduxStoreName:(n=f.id)!==null&&n!==void 0?n:s},x.createElement(Qae,{chartData:f.data}),x.createElement(loe,{layout:a.layout,margin:a.margin}),x.createElement(coe,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),x.createElement(Coe,Qb({},a,{ref:r})))}),Moe=["axis"],$oe=x.forwardRef((e,t)=>x.createElement(Roe,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Moe,tooltipPayloadSearcher:vre,categoricalChartProps:e,ref:t}));function Ioe({dailyLedger:e=[],safetyTargetBottles:t=0,specs:r={}}){const{theme:n}=ra(),a=n==="dark",s=x.useMemo(()=>{if(!e.length||!r.bottlesPerCase)return[];const g=r.bottlesPerCase*(r.casesPerPallet||1),v=Math.round(t/g);return e.map(y=>{const S=y.balance/g,[k,_,j]=y.dateStr.split("-").map(Number),O=new Date(k,_-1,j);return{date:y.dateStr,displayDate:O.toLocaleDateString("en-US",{month:"numeric",day:"numeric"}),pallets:Math.round(S),safety:v}})},[e,t,r]);if(!s.length)return p.jsx("div",{className:"w-full h-80 flex items-center justify-center bg-gray-50 dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700",children:p.jsx("span",{className:"text-gray-400 font-medium",children:"No projection data available"})});const l=s[0]?.safety||0;Math.max(...s.map(g=>g.pallets),l*1.5);const u=a?"#9CA3AF":"#6B7280",d=a?"#374151":"#E5E7EB",f=a?"#1F2937":"#FFFFFF",h=a?"#F3F4F6":"#111827";return p.jsxs("div",{className:"w-full h-80 bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 flex flex-col transition-all",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4 px-2",children:[p.jsx("h3",{className:"text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"30-Day Inventory Projection"}),p.jsxs("div",{className:"flex items-center space-x-4 text-xs font-medium",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500 mr-1.5"}),p.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Projected Balance"})]}),p.jsxs("div",{className:"flex items-center",children:[p.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500 mr-1.5 opacity-50"}),p.jsxs("span",{className:"text-gray-600 dark:text-gray-300",children:["Safety Target (",l," plts)"]})]})]})]}),p.jsx("div",{className:"flex-1 w-full min-h-[200px]",children:p.jsx(ZG,{width:"100%",height:"100%",children:p.jsxs($oe,{data:s,margin:{top:10,right:10,left:0,bottom:0},children:[p.jsxs("defs",{children:[p.jsxs("linearGradient",{id:"colorPv",x1:"0",y1:"0",x2:"0",y2:"1",children:[p.jsx("stop",{offset:"5%",stopColor:"#3B82F6",stopOpacity:.3}),p.jsx("stop",{offset:"95%",stopColor:"#3B82F6",stopOpacity:.05})]}),p.jsxs("linearGradient",{id:"colorSafety",x1:"0",y1:"0",x2:"0",y2:"1",children:[p.jsx("stop",{offset:"5%",stopColor:"#EF4444",stopOpacity:.1}),p.jsx("stop",{offset:"95%",stopColor:"#EF4444",stopOpacity:0})]})]}),p.jsx(f3,{strokeDasharray:"3 3",vertical:!1,stroke:d}),p.jsx(_3,{dataKey:"displayDate",tick:{fontSize:11,fill:u},axisLine:!1,tickLine:!1,interval:6}),p.jsx(S3,{tick:{fontSize:11,fill:u},axisLine:!1,tickLine:!1,domain:[0,"auto"]}),p.jsx(Bre,{contentStyle:{backgroundColor:f,borderRadius:"8px",border:a?"1px solid #374151":"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",color:h,padding:"8px 12px"},itemStyle:{fontSize:"12px",fontWeight:600},labelStyle:{color:u,fontSize:"11px",marginBottom:"4px"},formatter:(g,v)=>[`${g} Pallets`,v==="pallets"?"Balance":"Safety"]}),p.jsx(c3,{y:l,stroke:"#EF4444",strokeDasharray:"3 3",strokeOpacity:.6}),p.jsx(x3,{type:"monotone",dataKey:"pallets",stroke:"#3B82F6",strokeWidth:2,fillOpacity:1,fill:"url(#colorPv)",animationDuration:1e3})]})})})]})}const Loe=we.memo(Ioe);function zoe(){return{solve:(t,r,n,a,s,l,u)=>{if(!t||!t.dailyResults||!a||!n[a])return console.warn("Solver: Missing Data",{currentResults:t,selectedSize:a}),null;const d=n[a],f={...l.monthlyInbound||{}},h=t.dailyResults,g=Wr(),v=u!==void 0?u:s?.leadTimeDays||2,y=Yt(g,Math.max(0,v-1));let S=0,k=0;return h.forEach((_,j)=>{const O=_.dateStr,D=_.projectedEndInventory+S;if(O<=y||l.monthlyProductionActuals&&l.monthlyProductionActuals[O])return;const N=_.safetyStockTarget||(r||0)*d.bottlesPerTruck;if(D<N){const C=N-D,P=Math.ceil(C/d.bottlesPerTruck);if(P>0){const T=f[O]||0,R=Number(T)+P;f[O]=R,S+=P*d.bottlesPerTruck,k++}}else if(D>N+d.bottlesPerTruck){let C=Number(f[O]||0);if(C>0){const P=D-N,T=Math.floor(P/d.bottlesPerTruck),R=Math.min(T,C);if(R>0){const M=C-R;f[O]=M,S-=R*d.bottlesPerTruck,k++}}}}),{newInbound:f,updatesCount:k}}}}function Uoe({monthlyDemand:e,monthlyProductionActuals:t,monthlyInbound:r,updateDateDemand:n,updateDateActual:a,poManifest:s={},dailyLedger:l=[],specs:u,userProfile:d}){const{saveProcurementEntry:f,deleteProcurementEntry:h}=na(),[g,v]=x.useState(()=>{const P=new Date;return P.setDate(P.getDate()-3),P}),[y,S]=x.useState(null),[k,_]=x.useState([]);x.useEffect(()=>{const P=[];for(let T=0;T<30;T++){const R=new Date(g);R.setDate(g.getDate()+T),P.push(R)}_(P)},[g]);const j=P=>{const T=new Date(g);T.setDate(T.getDate()+P),v(T)},O=P=>l.find(T=>T.dateStr===P)||{},E=(P,T,R,M)=>{if(!P&&P!==0)return;let I=Number(P);I>0&&I<1e3&&(I*=1e3),Number(T)!==I&&R(M,I)},D=P=>{const T=s[P],R=T?.items?.length>0,M=R?T.items.length:r[P]||0,I=T?.items?.map(z=>z.time).filter(Boolean).sort()||[];return p.jsx("div",{className:`relative h-full w-full flex flex-col justify-center px-1 cursor-pointer transition-colors ${M>0?"bg-blue-50 text-blue-900 dark:bg-blue-900/40 dark:text-blue-200 hover:bg-blue-100 dark:hover:bg-blue-800":"hover:bg-gray-50 dark:hover:bg-gray-800"}`,onClick:()=>S(P),children:M>0?p.jsxs("div",{className:"flex flex-wrap gap-0.5",children:[p.jsxs("span",{className:`flex items-center gap-1 text-[10px] font-bold px-1 rounded-sm shadow-sm ${R?"bg-blue-600 text-white":"bg-blue-100 text-blue-800 border border-blue-200"}`,children:[p.jsx(vn,{className:"w-3 h-3"}),M," ",R?"":""]}),R&&I.slice(0,2).map((z,q)=>p.jsx("span",{className:"text-[9px] bg-blue-100 text-blue-800 px-0.5 border border-blue-200 rounded-sm dark:bg-blue-950 dark:text-blue-300 dark:border-blue-800",children:z},q)),I.length>2&&p.jsx("span",{className:"text-[8px] text-blue-400",children:"..."})]}):p.jsx("span",{className:"text-gray-200 text-xs text-center",children:"-"})})},N=P=>{const T=Math.round(P.projectedPallets||0),R=P.daysOfSupply||0;P.safetyStockTarget;let M="bg-emerald-50 text-emerald-900 dark:bg-emerald-900/40 dark:text-emerald-300";return R<2?M="bg-red-50 text-red-900 font-bold dark:bg-red-900/40 dark:text-red-300":R<4&&(M="bg-amber-50 text-amber-900 dark:bg-amber-900/40 dark:text-amber-300"),p.jsxs("div",{className:`h-full w-full flex flex-col justify-center px-1 text-right text-xs ${M}`,children:[p.jsxs("div",{children:[T," ",p.jsx("span",{className:"text-[9px] opacity-60",children:"plts"})]}),p.jsxs("div",{className:"text-[9px] opacity-75",children:[R.toFixed(1)," Days"]})]})},C=we.useMemo(()=>{if(!u||!u.bottlesPerTruck||!u.bottlesPerCase)return null;let P=0,T=0;const R=u.bottlesPerTruck/u.bottlesPerCase;k.forEach(z=>{const q=_t(z),re=e[q];re&&(P+=Number(re));const oe=s[q],B=oe?.items?.length>0?oe.items.length:r[q]||0;T+=Number(B)});const M=Math.ceil(P/R),I=T-M;return{totalCases:P,trucksRequired:M,totalScheduled:T,gap:I}},[k,e,r,s,u]);return p.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-gray-800 shadow-sm border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden font-sans",children:[C&&p.jsxs("div",{className:"hidden md:flex flex-shrink-0 p-1.5 bg-slate-900 text-white items-center justify-between z-10 font-mono text-xs uppercase tracking-wider border-b border-slate-700",children:[p.jsxs("div",{className:"flex gap-4",children:[p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"text-slate-400 text-[8px]",children:"Total Plan"}),p.jsxs("span",{className:"font-bold text-xs text-blue-200",children:[C.totalCases.toLocaleString()," ",p.jsx("span",{className:"text-[8px] text-slate-500",children:"cs"})]})]}),p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"text-slate-400 text-[8px]",children:"Est. Trucks"}),p.jsxs("span",{className:"font-bold text-xs",children:[C.trucksRequired," ",p.jsx("span",{className:"text-[8px] text-slate-500",children:"trks"})]})]})]}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsxs("div",{className:"flex flex-col text-right",children:[p.jsx("span",{className:"text-slate-400 text-[8px]",children:"Scheduled"}),p.jsx("span",{className:"font-bold text-xs text-emerald-400",children:C.totalScheduled})]}),p.jsxs("div",{className:`flex flex-col items-center justify-center px-2 py-0.5 rounded border ${C.gap<0?"bg-red-500/20 border-red-500 text-red-200":"bg-emerald-500/20 border-emerald-500 text-emerald-200"}`,children:[p.jsx("span",{className:"text-[8px] opacity-75",children:"Gap"}),p.jsxs("span",{className:"font-black text-lg leading-none",children:[C.gap>0?"+":"",C.gap]})]})]})]}),p.jsxs("div",{className:"flex justify-between items-center p-2 border-b bg-gray-50 dark:bg-gray-900",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(BA,{className:"w-4 h-4 text-gray-500"}),p.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-gray-600",children:"Workbench View"})]}),p.jsxs("div",{className:"flex gap-1",children:[p.jsx("button",{onClick:()=>j(-7),className:"p-1 hover:bg-gray-200 rounded",children:p.jsx(tx,{className:"w-4 h-4"})}),p.jsx("button",{onClick:()=>v(new Date),className:"px-2 text-xs font-medium hover:bg-gray-200 rounded",children:"Today"}),p.jsx("button",{onClick:()=>j(7),className:"p-1 hover:bg-gray-200 rounded",children:p.jsx(rx,{className:"w-4 h-4"})})]})]}),p.jsx("div",{className:"flex-1 overflow-auto relative custom-scrollbar",children:p.jsxs("table",{className:"w-full border-collapse text-xs",children:[p.jsx("thead",{className:"sticky top-0 z-20 shadow-sm",children:p.jsxs("tr",{children:[p.jsx("th",{className:"sticky left-0 z-30 bg-slate-50 dark:bg-gray-800 w-32 border-b border-r border-slate-300 dark:border-gray-700 p-2 text-left font-bold text-slate-700 dark:text-gray-400 shadow-[4px_0_10px_-4px_rgba(0,0,0,0.1)]",children:"Metric"}),k.map(P=>{const T=_t(P),R=_t(new Date),M=T===R,I=P<new Date(new Date().setHours(0,0,0,0)),z=P.getDay()===0||P.getDay()===6;let q="min-w-[80px] p-1 border-b border-r border-slate-200 dark:border-gray-700 text-center font-medium transition-colors ";return M?q+="bg-blue-600 text-white border-blue-600 ring-2 ring-blue-600 ring-inset ring-offset-0 z-20 shadow-md":I?q+="bg-slate-100 dark:bg-gray-900/50 text-slate-400 dark:text-gray-500":z?q+="bg-slate-50 dark:bg-gray-800/50 text-slate-500 dark:text-gray-500":q+="bg-white dark:bg-gray-800 text-slate-800 dark:text-gray-200",p.jsxs("th",{className:q,children:[p.jsx("div",{className:`text-[10px] uppercase ${M?"text-blue-100":"opacity-60"}`,children:M?"TODAY":P.toLocaleDateString("en-US",{weekday:"short"})}),p.jsx("div",{className:M?"font-bold":"",children:P.toLocaleDateString("en-US",{day:"numeric",month:"numeric"})})]},T)})]})}),p.jsxs("tbody",{children:[p.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-gray-800 group",children:[p.jsxs("td",{className:"sticky left-0 z-10 bg-slate-50 dark:bg-gray-800 border-r border-b border-slate-300 dark:border-gray-700 p-2 font-bold text-slate-700 dark:text-gray-300 group-hover:bg-slate-100 dark:group-hover:bg-gray-800 shadow-[4px_0_10px_-4px_rgba(0,0,0,0.1)]",children:["Production Plan",p.jsx("span",{className:"block text-[9px] font-normal text-slate-400 dark:text-gray-500",children:"Cases"})]}),k.map(P=>{const T=_t(P),R=_t(new Date),M=T===R,I=P<new Date(new Date().setHours(0,0,0,0)),z=e[T]||"",q=t[T],re=q!=null;let oe="border-r border-b border-slate-200 dark:border-gray-700 p-0 h-10 relative ";return M?oe+="bg-blue-50/80 dark:bg-blue-900/20 ring-2 ring-inset ring-blue-500 z-10 ":I?oe+="bg-slate-100 dark:bg-gray-900/40 ":oe+="bg-white dark:bg-gray-800 ",p.jsxs("td",{className:oe,children:[p.jsx("input",{type:"text",className:`w-full h-full text-center border-none focus:ring-0 bg-transparent p-0 text-gray-900 dark:text-gray-100 ${q?"font-bold":""} ${M?"font-bold":""}`,value:z?Number(z).toLocaleString():"",onChange:B=>n(T,B.target.value.replace(/,/g,"")),onBlur:B=>E(B.target.value.replace(/,/g,""),z,n,T),placeholder:"-"}),re&&p.jsxs("div",{className:"absolute bottom-0 right-0 text-[8px] bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400 px-1 pointer-events-none",title:`Actual: ${q}`,children:["Act: ",q]})]},T)})]}),p.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-gray-800 group",children:[p.jsxs("td",{className:"sticky left-0 z-10 bg-slate-50 dark:bg-gray-800 border-r border-b border-slate-300 dark:border-gray-700 p-2 font-bold text-blue-700 dark:text-blue-400 group-hover:bg-slate-100 dark:group-hover:bg-gray-800 shadow-[4px_0_10px_-4px_rgba(0,0,0,0.1)]",children:["Actual Reconciliation",p.jsx("span",{className:"block text-[9px] font-normal text-slate-400 dark:text-gray-500",children:"Past Dates Only"})]}),k.map(P=>{const T=_t(P),R=_t(new Date),M=T===R,I=P<new Date(new Date().setHours(0,0,0,0)),z=t[T]||"";let q="border-r border-b border-slate-200 dark:border-gray-700 p-0 h-10 relative ";M?q+="bg-blue-50/80 dark:bg-blue-900/20 ring-2 ring-inset ring-blue-500 z-10 ":I?q+="bg-white dark:bg-gray-800 ":q+="bg-slate-50/50 dark:bg-gray-800/50 ";const re=!I;return p.jsx("td",{className:q,children:re?p.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-300 dark:text-gray-600 text-[10px] select-none cursor-not-allowed italic",children:"Locked"}):p.jsx("input",{type:"text",className:"w-full h-full text-center border-none focus:ring-0 bg-transparent p-0 font-bold text-blue-700 dark:text-blue-300",value:z?Number(z).toLocaleString():"",onChange:oe=>a(T,oe.target.value.replace(/,/g,"")),onBlur:oe=>E(oe.target.value.replace(/,/g,""),z,a,T),placeholder:"-"})},T)})]}),p.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-gray-800 group",children:[p.jsxs("td",{className:"sticky left-0 z-10 bg-slate-50 dark:bg-gray-800 border-r border-b border-slate-300 dark:border-gray-700 p-2 font-bold text-slate-600 dark:text-gray-400 group-hover:bg-slate-100 dark:group-hover:bg-gray-800 shadow-[4px_0_10px_-4px_rgba(0,0,0,0.1)]",children:["Inbound Trucks",p.jsx("span",{className:"block text-[9px] font-normal text-slate-400 dark:text-gray-500",children:"Click to Manage"})]}),k.map(P=>{const T=_t(P),R=_t(new Date),M=T===R,I=P<new Date(new Date().setHours(0,0,0,0));let z="border-r border-b border-slate-200 dark:border-gray-700 p-0 h-12 align-middle ";return M?z+="bg-blue-50/80 dark:bg-blue-900/20 ring-2 ring-inset ring-blue-500 z-10 ":I?z+="bg-slate-100 dark:bg-gray-900/40 ":z+="bg-white dark:bg-gray-800 ",p.jsx("td",{className:z,children:D(T)},T)})]}),p.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-gray-800 group",children:[p.jsxs("td",{className:"sticky left-0 z-10 bg-slate-50 dark:bg-gray-800 border-r border-b border-slate-300 dark:border-gray-700 p-2 font-bold text-slate-600 dark:text-gray-400 group-hover:bg-slate-100 dark:group-hover:bg-gray-800 shadow-[4px_0_10px_-4px_rgba(0,0,0,0.1)]",children:["Projected End",p.jsx("span",{className:"block text-[9px] font-normal text-slate-400 dark:text-gray-500",children:"Pallets & DOS"})]}),k.map(P=>{const T=_t(P),R=_t(new Date),M=T===R,I=P<new Date(new Date().setHours(0,0,0,0)),z=O(T);let q="border-r border-b border-slate-200 dark:border-gray-700 p-0 h-12 align-middle ";return M?q+="bg-blue-50/80 dark:bg-blue-900/20 ring-2 ring-inset ring-blue-500 z-10 ":I?q+="bg-slate-100 dark:bg-gray-900/40 ":q+="bg-white dark:bg-gray-800 ",p.jsx("td",{className:q,children:N(z)},T)})]})]})]})}),y&&p.jsx(LC,{isOpen:!!y,onClose:()=>S(null),date:y,monthlyInbound:r,specs:u,orders:s[y]?.items||[],onSave:f,onDelete:h})]})}function Boe({state:e,setters:t,results:r,readOnly:n=!1}){const{leadTimeDays:a,safetyStockLoads:s,schedulerSettings:l}=ra(),{productMap:u}=xr(),{user:d}=Ar(),{solve:f}=zoe(),h=r?.poManifest||{},[g,v]=x.useState(()=>{const ge=new Date;return ge.setDate(ge.getDate()-3),ge}),y=ge=>{v(ye=>{const X=new Date(ye);return X.setDate(X.getDate()+ge),X})},S=()=>{const ge=new Date;ge.setDate(ge.getDate()-3),v(ge)},[k,_]=x.useState(!1),j=()=>{const ge=_t(new Date);let ye=`Monthly Replenishment Plan - Generated ${new Date().toLocaleDateString()}
`;ye+=`--------------------------------------------------

`;const X=r.specs?.productionRate||0,xe=r.specs?.casesPerTruck||(r.specs?.bottlesPerTruck||2e4)/(r.specs?.bottlesPerCase||1),[ae,me]=(l?.shiftStartTime||"00:00").split(":").map(Number),pe=ae+me/60;for(let _e=0;_e<30;_e++){const Ce=Yt(ge,_e),Ie=Math.round(Number(e.monthlyInbound[Ce]||0));if(Ie>0){const[Be,Ot,bt]=Ce.split("-").map(Number),pt=new Date(Be,Ot-1,bt);if(ye+=`DATE: ${pt.toLocaleDateString(void 0,{weekday:"short",month:"numeric",day:"numeric",year:"numeric"})}
`,ye+=`TRUCKS: ${Ie}
`,X>0){const $e=xe/X;for(let tt=0;tt<Ie;tt++){const Ye=pe+tt*$e,qe=Math.round(Ye%24)%24,We=Math.round(Ye%1*60),Pt=`${qe}:${We.toString().padStart(2,"0")}`;ye+=`  - Truck ${tt+1}: Arrive approx ${Pt}
`}}ye+=`
`}}navigator.clipboard.writeText(ye).then(()=>{_(!0),setTimeout(()=>_(!1),2e3),alert("Copied 30-Day Plan to Clipboard!")})},O=e.selectedSize?u[e.selectedSize]:null,E=O?.leadTimeDays!==void 0&&O?.leadTimeDays!==null?O.leadTimeDays:a||2,D=O?.safetyStockLoads!==void 0&&O?.safetyStockLoads!==null?Number(O.safetyStockLoads):s||6,N=()=>{if(!confirm(`Auto-Balance will populate Planned Loads to ensure safety stock is met.

Settings:
 - Lead Time: ${E} days
 - Safety Stock: ${D} loads

Proceed?`))return;const{newInbound:ge,updatesCount:ye}=f(r,D,u,e.selectedSize,l,e,E)||{};ye>0?t.setMonthlyInbound(ge):alert("Schedule is already balanced! No changes needed.")},[C,P]=x.useState(!1),[T,R]=x.useState(!1),[M,I]=x.useState(!1),[z,q]=x.useState(!1),[re,oe]=x.useState(!1),[B,H]=x.useState(!1),[W,ee]=x.useState("grid"),[ve,L]=x.useState(!1);if(!r)return p.jsx("div",{children:"Loading..."});const{netInventory:K,safetyTarget:F,trucksToOrder:Z,trucksToCancel:le,specs:ue,yardInventory:ne}=r;e.totalScheduledCases*ue.bottlesPerCase;const be=ge=>ge?ge.toLocaleString():"0",G=()=>{const ge=ue.bottlesPerTruck/ue.bottlesPerCase/(ue.casesPerPallet||1),ye=Math.round(r.calculatedPallets+r.yardInventory.effectiveCount*ge),X=r.daysOfSupply!==void 0?r.daysOfSupply:0,xe=E!==void 0?Number(E):a||2,ae=xe+2;let me="Healthy",pe="bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 shadow-sm border-l-4 border-l-emerald-500",_e="text-emerald-600 dark:text-emerald-400";X<=xe?(me="CRITICAL",pe="bg-red-50 border-red-200 border-l-4 border-l-red-500 animate-pulse",_e="text-red-700"):X<=ae&&(me="Warning",pe="bg-amber-50 border-amber-200 border-l-4 border-l-amber-500",_e="text-amber-700");const Ce=$e=>{const[tt,Ye,qe]=$e.split("-").map(Number);return new Date(tt,Ye-1,qe)},Ie=r.firstStockoutDate?Ce(r.firstStockoutDate):null;let Be="Stable";if(Ie){const $e=new Date;$e.setHours(0,0,0,0),Ie<=$e?Be="NOW":Be=Ie.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}const Ot=new Date().setHours(0,0,0,0),bt=Object.entries(r.plannedOrders||{}).filter(([$e])=>new Date($e).setHours(0,0,0,0)<=Ot).reduce(($e,[tt,Ye])=>$e+Ye.count,0),pt=r.trucksToCancel>0?0:r.trucksToOrder>0?r.trucksToOrder:e.isAutoReplenish?bt:0;return console.log("[MRPView] Display Logic:",{isAutoReplenish:e.isAutoReplenish,actionableTrucks:bt,"results.trucksToOrder":r.trucksToOrder,displayTrucks:pt,"results.trucksToCancel":r.trucksToCancel}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-2",children:[p.jsxs("div",{className:`p-3 rounded-lg border ${pe} flex flex-col justify-between shadow-sm`,children:[p.jsxs("div",{className:"flex justify-between items-center mb-1",children:[p.jsxs("div",{className:"flex items-center gap-1.5",children:[p.jsx("h3",{className:"text-[10px] font-bold uppercase tracking-wider opacity-70 text-gray-500 dark:text-gray-400",children:"Coverage Health"}),p.jsx(Dg,{className:"w-3.5 h-3.5 text-gray-400 cursor-help",title:"Status of inventory relative to Lead Time. if (Days < Lead Time) => Critical."})]}),me==="CRITICAL"&&p.jsx("span",{className:"text-lg",children:""}),me==="Healthy"&&p.jsx(da,{className:"w-5 h-5 text-emerald-500"})]}),p.jsxs("div",{children:[p.jsx("div",{className:`text-2xl font-black tracking-tight ${_e} leading-none`,children:me}),p.jsx("div",{className:"text-xs font-medium opacity-80 mt-1 dark:text-gray-300",children:me==="CRITICAL"?Be==="NOW"?"Stockout Computed":`Empty by ${Be}`:me==="Warning"?"Approaching Safety Stock Limit":"Inventory Levels Optimal"})]})]}),p.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm flex flex-col justify-between",children:[p.jsxs("div",{className:"flex justify-between items-center mb-1",children:[p.jsxs("div",{className:"flex items-center gap-1.5",children:[p.jsx("h3",{className:"text-[10px] font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Days of Supply"}),p.jsx(Dg,{className:"w-3.5 h-3.5 text-gray-400 cursor-help",title:"Total Inventory (Floor + Yard) divided by Daily Production Rate."})]}),p.jsxs("div",{className:"text-[10px] font-bold text-gray-500 bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded",title:"Target Pallets = Safety Stock Loads * Pallets/Truck",children:["Target: ",F?Math.round(F/(ue.bottlesPerCase*(ue.casesPerPallet||1))):"-"," plts"]})]}),p.jsxs("div",{className:"flex items-end space-x-2",children:[p.jsx("div",{className:"text-3xl font-mono font-bold text-gray-800 dark:text-white leading-none",children:X>=30?"30+":X.toFixed(1)}),p.jsx("div",{className:"text-xs font-medium text-gray-400 mb-0.5",children:"Days"})]}),p.jsxs("div",{className:"mt-2 text-[10px] font-medium text-gray-500 flex justify-between items-center border-t pt-1 dark:border-gray-700",children:[p.jsx("span",{title:"Physically present inventory",children:"Current On-Hand"}),p.jsxs("span",{className:"font-bold text-gray-700 dark:text-gray-300",children:[be(ye)," Pallets"]})]})]}),p.jsxs("div",{className:`p-3 rounded-lg border flex flex-col justify-between shadow-sm transition-all ${pt>0?"bg-blue-600 border-blue-700 text-white":r.trucksToCancel>0?"bg-orange-100 border-orange-200 text-orange-900 dark:bg-orange-900/40 dark:border-orange-800 dark:text-orange-200":me==="CRITICAL"?"bg-red-50 border-red-200":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700"}`,children:[p.jsxs("div",{className:"flex justify-between items-center mb-1",children:[p.jsxs("div",{className:"flex items-center gap-1.5",children:[p.jsx("h3",{className:`text-[10px] font-bold uppercase tracking-wider ${pt>0?"text-blue-100":"text-gray-500 dark:text-gray-400"}`,children:"Replenishment"}),p.jsx(Dg,{className:`w-3.5 h-3.5 cursor-help ${pt>0?"text-blue-200":"text-gray-400"}`,title:"Orders required TODAY to restore Safety Stock."})]}),pt>0&&p.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full animate-ping"}),r.trucksToCancel>0&&!pt&&p.jsx("span",{className:"text-lg",children:""})]}),pt>0?p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-baseline space-x-2",children:[p.jsx("span",{className:"text-3xl font-black leading-none",children:pt}),p.jsx("span",{className:"text-xs font-bold opacity-90",children:"Trucks Needed"})]}),p.jsx("p",{className:"text-[10px] opacity-80 mt-1 font-medium leading-tight",children:e.isAutoReplenish?"Planned orders due today.":"Deficit based on target."})]}):r.trucksToCancel>0?p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-baseline space-x-2",children:[p.jsx("span",{className:"text-3xl font-black leading-none",children:r.trucksToCancel}),p.jsx("span",{className:"text-xs font-bold opacity-90",children:"Cancel Trucks"})]}),p.jsx("p",{className:"text-[10px] opacity-80 mt-1 font-medium leading-tight",children:"Excess inventory confirmed."})]}):p.jsxs("div",{children:[p.jsx("div",{className:"flex items-baseline space-x-2",children:me==="CRITICAL"?p.jsx("span",{className:"text-2xl font-bold leading-none text-red-600",children:"Expedite!"}):p.jsx("span",{className:"text-2xl font-bold leading-none text-gray-800 dark:text-white",children:"Standby"})}),p.jsx("p",{className:"text-[10px] text-gray-500 mt-1 leading-tight",children:me==="CRITICAL"?"Stockout imminent. Review.":"No immediate orders due."})]})]})]})};return p.jsxs("div",{className:"max-w-full mx-auto pb-12",children:[G(),p.jsxs("div",{className:"flex flex-col space-y-6",children:[p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 flex flex-col overflow-hidden",children:[p.jsxs("div",{className:"px-5 py-3 border-b border-gray-200 dark:border-gray-700 flex flex-col lg:flex-row justify-between items-center bg-gray-50 dark:bg-gray-900/50 gap-4",children:[p.jsxs("div",{className:"flex items-center gap-4 w-full lg:w-auto",children:[p.jsxs("div",{className:"flex bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-0.5",children:[p.jsx("button",{onClick:()=>y(-7),className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md text-gray-500 transition-colors",title:"Previous Week",children:p.jsx(tx,{className:"w-4 h-4"})}),p.jsx("button",{onClick:S,className:"px-3 py-1 text-xs font-bold text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 border-x border-gray-100 dark:border-gray-700 mx-0.5 transition-colors",children:"Today"}),p.jsx("button",{onClick:()=>y(7),className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md text-gray-500 transition-colors",title:"Next Week",children:p.jsx(rx,{className:"w-4 h-4"})})]}),p.jsxs("span",{className:"text-xs font-medium text-gray-400 hidden sm:block",children:[g.toLocaleDateString("en-US",{month:"short",day:"numeric"})," - ",Yt(_t(g),6).split("-").slice(1).join("/")]})]}),p.jsxs("div",{className:"flex flex-wrap items-center gap-3 w-full lg:w-auto justify-end",children:[p.jsxs("div",{className:"flex items-center gap-1 bg-white dark:bg-gray-700 p-1 rounded-lg border border-gray-200 dark:border-gray-600 shadow-sm",children:[!n&&p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:()=>{confirm(`Force Cloud Sync?

This will clear your local cache and reload the latest data from the server.
Any unsaved local drafts might be lost.`)&&(Object.keys(localStorage).forEach(ge=>{ge.startsWith("mrp_")&&localStorage.removeItem(ge)}),window.location.reload())},className:"p-1.5 text-gray-500 hover:text-sky-500 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-md transition-colors",title:"Force Cloud Sync (Clear Cache)",children:p.jsx(A6,{className:"w-5 h-5"})}),p.jsx("div",{className:"w-px h-4 bg-gray-300 dark:bg-gray-600 mx-1"}),p.jsx("button",{onClick:()=>L(!0),className:"p-1.5 text-gray-500 hover:text-orange-500 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-md transition-colors",title:"Morning True-Up",children:p.jsx(UA,{className:"w-5 h-5"})}),p.jsx("button",{onClick:()=>I(!0),className:"p-1.5 text-gray-500 hover:text-emerald-500 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-md transition-colors",title:"Import Inbound",children:p.jsx(ex,{className:"w-5 h-5"})}),p.jsx("button",{onClick:()=>H(!0),className:"p-1.5 text-gray-500 hover:text-purple-500 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-md transition-colors",title:"Manage POs",children:p.jsx(f2,{className:"w-5 h-5"})})]}),p.jsx("button",{onClick:()=>q(!0),className:"p-1.5 text-gray-500 hover:text-blue-500 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-md transition-colors",title:"Email Suppliers",children:p.jsx(IA,{className:"w-5 h-5"})})]}),!n&&!e.isAutoReplenish&&p.jsxs("button",{onClick:N,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-bold text-white bg-indigo-600 hover:bg-indigo-700 rounded-lg shadow-sm transition-all",title:"Manually calculate replenishment (Not needed in Auto-Pilot)",children:[p.jsx(MA,{className:"w-3.5 h-3.5"}),p.jsx("span",{className:"hidden sm:inline",children:"Auto-Balance"})]}),p.jsx("div",{className:"h-6 w-px bg-gray-300 dark:bg-gray-600 hidden md:block mx-1"}),p.jsxs("div",{className:"flex bg-white dark:bg-gray-700 p-1 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600",children:[p.jsx("button",{onClick:()=>ee("grid"),className:`px-2.5 py-1.5 rounded-md text-xs font-bold transition-all ${W==="grid"?"bg-blue-50 text-blue-700 dark:bg-slate-600 dark:text-blue-300 shadow-sm":"text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"Grid"}),p.jsx("button",{onClick:()=>ee("workbench"),className:`px-2.5 py-1.5 rounded-md text-xs font-bold transition-all ${W==="workbench"?"bg-blue-50 text-blue-700 dark:bg-slate-600 dark:text-blue-300 shadow-sm":"text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"Work"}),p.jsx("button",{onClick:()=>ee("calendar"),className:`px-2.5 py-1.5 rounded-md text-xs font-bold transition-all ${W==="calendar"?"bg-blue-50 text-blue-700 dark:bg-slate-600 dark:text-blue-300 shadow-sm":"text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:"Cal"})]}),!n&&p.jsx("label",{className:"flex items-center cursor-pointer group",title:"Auto-Pilot Mode",children:p.jsxs("div",{className:"relative",children:[p.jsx("input",{type:"checkbox",className:"sr-only",checked:e.isAutoReplenish||!1,onChange:ge=>t.setIsAutoReplenish(ge.target.checked)}),p.jsx("div",{className:`block w-7 h-4 rounded-full transition-colors ${e.isAutoReplenish?"bg-purple-600":"bg-gray-300 dark:bg-gray-600"}`}),p.jsx("div",{className:`dot absolute left-1 top-1 bg-white w-2 h-2 rounded-full transition-transform ${e.isAutoReplenish?"transform translate-x-3":""}`})]})}),p.jsx("button",{onClick:j,className:`p-1.5 rounded-lg border transition-all ${k?"bg-green-50 border-green-200 text-green-600":"bg-white dark:bg-gray-700 border-gray-200 dark:border-gray-600 text-gray-500 hover:text-gray-700"}`,title:"Export 30-Day Plan",children:k?p.jsx(da,{className:"w-5 h-5"}):p.jsx(f2,{className:"w-5 h-5"})})]})]}),p.jsx("div",{className:"flex-1 overflow-hidden relative bg-slate-200 dark:bg-slate-900 rounded-xl shadow-lg border border-slate-300 dark:border-slate-800",children:W==="calendar"?p.jsx("div",{className:"h-full p-4 overflow-auto",children:p.jsx(ZB,{monthlyDemand:e.monthlyDemand||{},updateDateDemand:t.updateDateDemand,updateDateDemandBulk:t.updateDateDemandBulk,monthlyInbound:e.monthlyInbound||{},updateDateInbound:t.updateDateInbound,monthlyProductionActuals:e.monthlyProductionActuals||{},updateDateActual:t.updateDateActual,specs:r?.specs,trucksToCancel:r?.trucksToCancel,dailyLedger:r?.dailyLedger,safetyTarget:r?.safetyTarget,poManifest:h,readOnly:n})}):W==="workbench"?p.jsx(Uoe,{monthlyDemand:e.monthlyDemand||{},updateDateDemand:t.updateDateDemand,monthlyInbound:e.monthlyInbound||{},monthlyProductionActuals:e.monthlyProductionActuals||{},updateDateActual:t.updateDateActual,specs:r?.specs,dailyLedger:r?.dailyLedger,userProfile:d,startDate:g,readOnly:n}):p.jsx(uV,{monthlyDemand:e.monthlyDemand||{},updateDateDemand:t.updateDateDemand,updateDateDemandBulk:t.updateDateDemandBulk,monthlyInbound:e.monthlyInbound||{},updateDateInbound:t.updateDateInbound,monthlyProductionActuals:e.monthlyProductionActuals||{},updateDateActual:t.updateDateActual,specs:r?.specs,safetyTarget:r?.safetyTarget,dailyLedger:r?.dailyLedger,userProfile:d,startDate:g,readOnly:n,leadTimeDays:E})})]}),p.jsx("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:p.jsx(Loe,{dailyLedger:r.dailyLedger,safetyTargetBottles:r.safetyTarget,specs:r.specs})})]}),p.jsx(zC,{isOpen:ve,onClose:()=>L(!1),state:e,setters:t}),p.jsx(fV,{isOpen:M,onClose:()=>I(!1)}),p.jsx(hV,{isOpen:z,onClose:()=>q(!1),mrpResults:r}),p.jsx(mV,{isOpen:re,onClose:()=>oe(!1)}),p.jsx(gV,{isOpen:B,onClose:()=>H(!1)})]})}var nh={exports:{}},qoe=nh.exports,EA;function Hoe(){return EA||(EA=1,(function(e,t){(function(r,n){n()})(qoe,function(){function r(f,h){return typeof h>"u"?h={autoBom:!1}:typeof h!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),h={autoBom:!h}),h.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(f.type)?new Blob(["\uFEFF",f],{type:f.type}):f}function n(f,h,g){var v=new XMLHttpRequest;v.open("GET",f),v.responseType="blob",v.onload=function(){d(v.response,h,g)},v.onerror=function(){console.error("could not download file")},v.send()}function a(f){var h=new XMLHttpRequest;h.open("HEAD",f,!1);try{h.send()}catch{}return 200<=h.status&&299>=h.status}function s(f){try{f.dispatchEvent(new MouseEvent("click"))}catch{var h=document.createEvent("MouseEvents");h.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),f.dispatchEvent(h)}}var l=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof df=="object"&&df.global===df?df:void 0,u=l.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),d=l.saveAs||(typeof window!="object"||window!==l?function(){}:"download"in HTMLAnchorElement.prototype&&!u?function(f,h,g){var v=l.URL||l.webkitURL,y=document.createElement("a");h=h||f.name||"download",y.download=h,y.rel="noopener",typeof f=="string"?(y.href=f,y.origin===location.origin?s(y):a(y.href)?n(f,h,g):s(y,y.target="_blank")):(y.href=v.createObjectURL(f),setTimeout(function(){v.revokeObjectURL(y.href)},4e4),setTimeout(function(){s(y)},0))}:"msSaveOrOpenBlob"in navigator?function(f,h,g){if(h=h||f.name||"download",typeof f!="string")navigator.msSaveOrOpenBlob(r(f,g),h);else if(a(f))n(f,h,g);else{var v=document.createElement("a");v.href=f,v.target="_blank",setTimeout(function(){s(v)})}}:function(f,h,g,v){if(v=v||open("","_blank"),v&&(v.document.title=v.document.body.innerText="downloading..."),typeof f=="string")return n(f,h,g);var y=f.type==="application/octet-stream",S=/constructor/i.test(l.HTMLElement)||l.safari,k=/CriOS\/[\d]+/.test(navigator.userAgent);if((k||y&&S||u)&&typeof FileReader<"u"){var _=new FileReader;_.onloadend=function(){var E=_.result;E=k?E:E.replace(/^data:[^;]*;/,"data:attachment/file;"),v?v.location.href=E:location=E,v=null},_.readAsDataURL(f)}else{var j=l.URL||l.webkitURL,O=j.createObjectURL(f);v?v.location=O:location.href=O,v=null,setTimeout(function(){j.revokeObjectURL(O)},4e4)}});l.saveAs=d.saveAs=d,e.exports=d})})(nh)),nh.exports}var Foe=Hoe();function Voe({schedule:e,truckSchedule:t,onUpdatePO:r,onDelete:n,specs:a,readOnly:s=!1}){const l=(f,h)=>{if(!h||h===0)return[];let g=0;f.includes("08:00-16:00")?g=8:f.includes("16:00-00:00")?g=16:g=0;const y=8/h,S=[];for(let k=0;k<h;k++){const j=(g+y*k)%24,O=Math.round(j),D=(O===24?0:O).toString().padStart(2,"0");S.push(`${D}:00`)}return S},u=()=>!t||t.length===0?[]:t.map(f=>{const h=a?a.name:"Unknown",g=a?a.palletsPerTruck:0,[v]=f.time.split(":").map(Number);let y="Unknown";return v>=0&&v<8?y="Shift 1":v>=8&&v<16?y="Shift 2":y="Shift 3",{LoadID:f.id,Time:f.time,Shift:y,PO:f.po||"",BottleSize:h,Pallets:g}}),d=()=>{try{const f=u();if(!f||f.length===0){alert("No schedule to export.");return}let g="\uFEFF"+["Load ID","Delivery Time","Shift","PO Number","Bottle Size","Pallets"].join(",")+`
`;f.forEach(k=>{const _=String(k.PO||"").replace(/"/g,'""');g+=[k.LoadID,k.Time,k.Shift,`"${_}"`,k.BottleSize,k.Pallets].join(",")+`
`});const y=new Date().toISOString().slice(0,10),S=new Blob([g],{type:"text/csv;charset=utf-8"});Foe.saveAs(S,`Schedule_${y}.csv`)}catch(f){console.error(f),alert("Export failed")}};return p.jsxs("div",{className:"space-y-8",children:[p.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[p.jsxs("div",{children:[p.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[p.jsx(vn,{className:"w-6 h-6 text-indigo-500"}),"Live Dock Schedule"]}),p.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[t.length," Loads Scheduled  Auto-optimized intervals"]})]}),p.jsxs("button",{onClick:d,className:"flex items-center space-x-2 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 px-4 py-2 rounded-lg font-bold hover:bg-indigo-100 transition-colors",children:[p.jsx(ex,{className:"w-5 h-5"}),p.jsx("span",{children:"Export CSV"})]})]}),t&&t.length>0?p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map((f,h)=>{const g=f.po&&f.po.length>0;return p.jsxs("div",{className:`
                                    relative flex flex-col justify-between
                                    bg-white dark:bg-slate-800 
                                    rounded-2xl shadow-sm hover:shadow-md transition-shadow 
                                    border border-slate-200 dark:border-slate-700
                                    overflow-hidden group
                                `,children:[p.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1.5 ${g?"bg-emerald-500":"bg-amber-400"}`}),p.jsxs("div",{className:"p-5 pl-7",children:[" ",p.jsxs("div",{className:"flex justify-between items-start mb-4",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:`p-2 rounded-lg ${g?"bg-emerald-50 text-emerald-600 dark:bg-emerald-900/20":"bg-slate-100 text-slate-500 dark:bg-slate-700"}`,children:p.jsx(u0,{className:"w-6 h-6"})}),p.jsxs("div",{children:[p.jsx("div",{className:"text-xs font-bold uppercase text-slate-400",children:"Arrival"}),p.jsx("div",{className:"text-2xl font-black text-slate-800 dark:text-white leading-none",children:f.time})]})]}),p.jsxs("span",{className:"text-xs font-bold text-slate-300",children:["#",h+1]})]}),p.jsxs("div",{className:"mt-2",children:[p.jsxs("label",{className:"flex items-center gap-1 text-[10px] font-bold uppercase text-slate-500 mb-1",children:[p.jsx($6,{className:"w-3 h-3"}),"Purchase Order"]}),p.jsx("input",{type:"text",placeholder:s?"Registered Only":"Enter PO...",value:f.po||"",disabled:s,onChange:v=>r(f.id,v.target.value),className:`
                                                w-full p-2 rounded-lg text-sm font-bold border transition-colors
                                                focus:ring-2 focus:ring-offset-0 outline-none
                                                ${s?"opacity-60 cursor-not-allowed bg-gray-100":""}
                                                ${g?"bg-emerald-50 border-emerald-200 text-emerald-700 focus:ring-emerald-500 dark:bg-emerald-900/10 dark:border-emerald-800 dark:text-emerald-400":"bg-slate-50 border-slate-200 text-slate-800 focus:ring-indigo-500 dark:bg-slate-900/50 dark:border-slate-600 dark:text-white"}
                                            `})]})]}),p.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 p-3 pl-7 border-t border-slate-100 dark:border-slate-700 flex justify-between items-center",children:[p.jsx("div",{className:"text-xs font-medium text-slate-400",children:g?"Confirmed":"Awaiting PO"}),!s&&p.jsx("button",{onClick:()=>n(f.id),className:"text-slate-400 hover:text-rose-500 transition-colors p-1",title:"Delete Load",children:p.jsx(pa,{className:"w-5 h-5"})})]})]},f.id)})}):p.jsxs("div",{className:"text-center py-20 bg-slate-50 dark:bg-slate-800/50 rounded-xl border-2 border-dashed border-slate-200 dark:border-slate-700",children:[p.jsx(vn,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),p.jsx("h3",{className:"text-lg font-bold text-slate-500",children:"No Loads Scheduled"}),p.jsx("p",{className:"text-slate-400 text-sm",children:"Use the settings above to generate a schedule."})]}),p.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:[p.jsx("div",{className:"px-6 py-4 border-b border-slate-100 dark:border-slate-700 bg-slate-50 dark:bg-slate-800/80",children:p.jsx("h3",{className:"font-bold text-slate-700 dark:text-slate-200 text-sm uppercase tracking-wide",children:"Shift Distribution Check"})}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"min-w-full divide-y divide-slate-100 dark:divide-slate-700",children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-slate-400 uppercase",children:"Shift"}),p.jsx("th",{className:"px-6 py-3 text-center text-xs font-bold text-slate-400 uppercase",children:"Loads"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-slate-400 uppercase",children:"Timeline"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:e.map((f,h)=>p.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-slate-700 dark:text-slate-200",children:f.name}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:p.jsx("span",{className:"inline-flex items-center justify-center px-2.5 py-0.5 rounded-full text-xs font-bold bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-300",children:f.loads})}),p.jsx("td",{className:"px-6 py-4",children:p.jsxs("div",{className:"flex flex-wrap gap-2",children:[l(f.name,f.loads).map((g,v)=>p.jsx("span",{className:"bg-white border border-slate-200 dark:bg-slate-900 dark:border-slate-600 text-slate-600 dark:text-slate-400 px-2 py-1 rounded text-xs font-mono",children:g},v)),f.loads===0&&p.jsx("span",{className:"text-slate-300 text-xs italic",children:"Empty"})]})})]},h))})]})})]})]})}function Koe({state:e,setters:t,results:r,readOnly:n=!1}){const{productMap:a}=xr(),s=Object.keys(a);if(!r)return p.jsx("div",{children:"Loading..."});const{requiredDailyLoads:l,weeklyLoads:u,schedule:d}=r;return p.jsxs("div",{className:"space-y-8",children:[p.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md transition-colors",children:[p.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white mb-6 border-b dark:border-gray-700 pb-2",children:" Logistics Settings"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 items-end",children:[p.jsxs("div",{className:"col-span-1",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Bottle Size Reference"}),p.jsx("select",{value:e.selectedSize,disabled:n,onChange:f=>t.setSelectedSize(f.target.value),className:"block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-900 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500 py-2 disabled:opacity-50 disabled:cursor-not-allowed",children:s.map(f=>p.jsx("option",{value:f,children:f},f))})]}),p.jsxs("div",{className:"col-span-2",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Target Daily Production (Cases)"}),p.jsxs("div",{className:"relative rounded-md shadow-sm",children:[p.jsx("input",{type:"number",inputMode:"numeric",pattern:"[0-9]*",min:"0",disabled:n,value:e.targetDailyProduction||"",onChange:f=>t.setTargetDailyProduction(f.target.value),className:"block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-900 dark:text-white focus:border-blue-500 focus:ring-blue-500 text-2xl p-2 pl-4 disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"60000"}),p.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:p.jsx("span",{className:"text-gray-500 sm:text-sm",children:"cases/day"})})]})]})]}),p.jsxs("div",{className:"col-span-1 mt-6",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Production Start Time"}),p.jsx("input",{type:"time",value:e.shiftStartTime,disabled:n,onChange:f=>t.setShiftStartTime(f.target.value),className:"block w-full rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-900 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500 py-2 px-3 disabled:opacity-50 disabled:cursor-not-allowed"})]})]}),p.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4 border-t dark:border-gray-700 pt-6",children:[p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-3 rounded border border-gray-200 dark:border-gray-700",children:[p.jsx("span",{className:"block text-xs text-gray-500 dark:text-gray-400 uppercase font-bold",children:"Production Burn Rate"}),p.jsxs("span",{className:"block text-xl font-bold text-gray-800 dark:text-white",children:[Math.round(r.burnRate).toLocaleString()," cases/hr"]})]}),p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-3 rounded border border-gray-200 dark:border-gray-700",children:[p.jsx("span",{className:"block text-xs text-gray-500 dark:text-gray-400 uppercase font-bold",children:"Truck Interval"}),p.jsxs("span",{className:"block text-xl font-bold text-indigo-600 dark:text-indigo-400",children:["Every ",Math.floor(r.hoursPerTruck),"h ",Math.round(r.hoursPerTruck%1*60),"m"]})]}),p.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/30 p-3 rounded border border-blue-100 dark:border-blue-800 flex flex-col justify-center",children:[p.jsx("span",{className:"text-sm font-medium text-blue-800 dark:text-blue-200 uppercase",children:"Daily Truck Requirement"}),p.jsx("span",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:r.requiredDailyLoads})]})]}),p.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-4 rounded-md flex justify-between items-center text-sm text-gray-600 dark:text-gray-400 border border-gray-100 dark:border-gray-700",children:[p.jsxs("span",{children:["Total Weekly Volume: ",p.jsxs("strong",{className:"text-gray-900 dark:text-white",children:[u.toLocaleString()," Loads"]})]}),p.jsx("span",{children:"Based on 24/7 Production schedule"})]}),p.jsx(Voe,{schedule:r.schedule,truckSchedule:r.truckSchedule,onUpdatePO:t.updatePO,onDelete:t.toggleCancelled,specs:r.specs,readOnly:n})]})]})}const R3=(e,t)=>`mrp_${t}_${e}`,mr=(e,t,r,n=!1)=>{const a=R3(e,r),s=`mrp_${e}`;let l=localStorage.getItem(a);if(l===null&&r==="20oz"&&(l=localStorage.getItem(s)),l===null)return t;if(n)try{return JSON.parse(l)||t}catch{return t}return l},dn=(e,t,r,n=!1)=>{const a=R3(e,r),s=n?JSON.stringify(t):t;localStorage.setItem(a,s)};function Zoe(){const{productMap:e}=xr(),t=Object.keys(e),{user:r}=Ar(),{fetchMRPState:n,migrateLocalStorage:a}=jl(),[s,l]=x.useState(()=>localStorage.getItem("mrp_selectedSize")||"20oz"),[u,d]=x.useState(()=>mr("monthlyDemand",{},s,!0)),[f,h]=x.useState(()=>mr("monthlyProductionActuals",{},s,!0)),[g,v]=x.useState(()=>mr("monthlyInbound",{},s,!0)),[y,S]=x.useState(()=>mr("truckManifest",{},s,!0)),[k,_]=x.useState(()=>Number(mr("downtimeHours",0,s))),[j,O]=x.useState(()=>Number(mr("currentInventoryPallets",0,s))),[E,D]=x.useState(()=>mr("inventoryAnchor",{date:Wr(),count:0},s,!0)),[N,C]=x.useState(()=>Number(mr("incomingTrucks",0,s))),[P,T]=x.useState(()=>mr("yardInventory",{count:0,date:null,fileName:null},s,!0)),[R,M]=x.useState(()=>r?!0:mr("isAutoReplenish",!0,s,!0)),[I,z]=x.useState(null),[q,re]=x.useState(0);return x.useEffect(()=>()=>{},[r]),x.useEffect(()=>{console.log("Flux: SKU Changed to:",s),localStorage.setItem("mrp_selectedSize",s),r?(async()=>{console.log("Flux: Fetching Cloud Data for",s);try{const B=await n(r.id,s);if(console.log("Flux: Cloud Data Result:",B?"Found":"Null",B),B)z(B.product),d(B.monthlyDemand||{}),h(B.monthlyProductionActuals||{}),v(B.monthlyInbound||{}),S(B.truckManifest||{}),_(B.downtimeHours||0),M(B.isAutoReplenish),B.inventoryAnchor?D(H=>H?.date&&B.inventoryAnchor?.date&&new Date(H.date)>=new Date(B.inventoryAnchor.date)?H:B.inventoryAnchor||H):D({date:Wr(),count:0}),B.yardInventory?T(H=>H?.date&&B.yardInventory.date&&new Date(H.date)>=new Date(B.yardInventory.date)?H:B.yardInventory):T({count:0,date:null});else{if((await a(r,t)).success){const W=await n(r.id,s);if(W){d(W.monthlyDemand||{}),h(W.monthlyProductionActuals||{}),v(W.monthlyInbound||{}),S(W.truckManifest||{}),_(W.downtimeHours),M(W.isAutoReplenish),W.inventoryAnchor&&D(W.inventoryAnchor),W.yardInventory&&T(W.yardInventory);return}}d({}),h({}),v({}),S({}),_(0),C(0),D({date:Wr(),count:0}),T({count:0,date:null})}}catch(B){console.error("Failed to load cloud state",B)}})():(console.log("Flux: Local Mode Init"),d(mr("monthlyDemand",{},s,!0)),h(mr("monthlyProductionActuals",{},s,!0)),v(mr("monthlyInbound",{},s,!0)),S(mr("truckManifest",{},s,!0)),_(Number(mr("downtimeHours",0,s))),D(mr("inventoryAnchor",{date:Wr(),count:0},s,!0)),M(mr("isAutoReplenish",!0,s,!0)))},[s,r?.id]),nu({table:"planning_entries",filter:I?`product_id=eq.${I.id}`:void 0,enabled:!!I?.id,onDataChange:oe=>{const{eventType:B,new:H,old:W}=oe;if(B==="DELETE"){console.log("Supabase DELETE detected. Triggering state refresh."),r&&I&&n(r.id,s).then(L=>{L&&(L.monthlyDemand&&d(L.monthlyDemand),L.monthlyProductionActuals&&h(L.monthlyProductionActuals),L.monthlyInbound&&v(L.monthlyInbound),L.truckManifest&&S(L.truckManifest))});return}const ee=H.date,ve=Number(H.value);H.entry_type==="demand_plan"?d(L=>({...L,[ee]:ve})):H.entry_type==="production_actual"?h(L=>({...L,[ee]:ve})):H.entry_type==="inbound_trucks"&&v(L=>({...L,[ee]:ve}))}}),nu({table:"inventory_snapshots",filter:I?`product_id=eq.${I.id}`:void 0,enabled:!!I?.id,onDataChange:oe=>{console.log("[InventorySync] Event Received:",oe);const{eventType:B,new:H}=oe;if(B==="DELETE")return;const W=Number(H.quantity_pallets),ee=H.date;H.location==="yard"?T(ve=>({...ve,count:W,date:ee||ve.date})):H.location==="floor"&&(O(W),D(ve=>({...ve,count:W,date:ee||ve.date})))}}),{selectedSize:s,setSelectedSize:l,monthlyDemand:u,setMonthlyDemand:d,monthlyProductionActuals:f,setMonthlyProductionActuals:h,monthlyInbound:g,setMonthlyInbound:v,truckManifest:y,setTruckManifest:S,downtimeHours:k,setDowntimeHours:_,currentInventoryPallets:j,setCurrentInventoryPallets:O,inventoryAnchor:E,setInventoryAnchor:D,incomingTrucks:N,setIncomingTrucks:C,yardInventory:P,setYardInventory:T,isAutoReplenish:R,setIsAutoReplenish:M,refreshTrigger:q}}const Goe=({todayStr:e,productionRate:t,downtimeHours:r,bottleSpecs:n,inventoryAnchor:a,yardInventory:s,incomingTrucks:l,monthlyDemand:u,monthlyProductionActuals:d,monthlyInbound:f,poManifest:h,safetyStockLoads:g,leadTimeDays:v=2})=>{if(!n)return null;const y=n,S=1+(y.scrapPercentage||0)/100,k=y.bottlesPerCase||12,_=y.bottlesPerTruck||1,j=y.casesPerPallet||1,O=new Set([...Object.keys(u||{}),...Object.keys(d||{})]),E=Array.from(O).reduce((X,xe)=>{if(xe>=e){const ae=d[xe],me=u[xe],pe=xe>e,_e=ae!=null&&(!pe||Number(ae)!==0),Ce=Number(_e?ae:me);return X+(Ce||0)}return X},0),D=r*t,N=Math.max(0,E-D),C=X=>h&&h[X]?.items?.length>0?h[X].items.length:Number(f[X])||0,P=new Set([...Object.keys(f),...Object.keys(h||{})]),T=Array.from(P).reduce((X,xe)=>xe>=e?X+C(xe):X,0),R=(l||0)+T,M=R*_,I=s?.count||0,z=I*_;let q=a.count;if(a.date){const X=new Date(a.date),ae=new Date(e)-X,me=Math.ceil(ae/(1e3*60*60*24));if(me>0&&me<365)for(let pe=0;pe<me;pe++){const _e=Yt(a.date,pe),Ce=d[_e],Ie=u[_e],Be=_e>e,Ot=Ce!=null&&(!Be||Number(Ce)!==0),bt=Number(Ot?Ce:Ie||0),pt=C(_e),$e=_/k/j,tt=pt*$e,Ye=bt/j;q=q+tt-Ye}}const re=q*j*k,oe=N*k*S,B=re+M+z-oe,H=g*_,W=[];let ee=re+z,ve=null,L=null;for(let X=0;X<30;X++){const xe=Yt(e,X),ae=d[xe],me=u[xe],pe=xe>e,_e=ae!=null&&(!pe||Number(ae)!==0),Ie=Number(_e?ae:me||0)*k*S,Ot=C(xe)*_;ee=ee+Ot-Ie,W.push({date:xe,dateStr:xe,balance:ee,demand:Ie,supply:Ot,projectedEndInventory:ee,projectedPallets:ee/(k*j||1),daysOfSupply:0}),ee<H&&!ve&&(ve=xe),ee>H+_*2&&!L&&(L=xe)}let K=0;for(let X=0;X<=v;X++){const xe=Yt(e,X);K+=C(xe)}const F=K*_,Z=re+z+F;console.log("[MRP DEBUG] Step 1: Inventory Calc",{todayStr:e,leadTimeDays:v,inventoryBottles:re,yardBottles:z,inboundWithinLeadTime:K,inboundBottlesWithinLeadTime:F,availableInventory:Z});let le=0;for(let X=0;X<=v;X++){const xe=Yt(e,X),ae=(u[xe]||0)*k*S;le+=ae}const ue=le+H;console.log("[MRP DEBUG] Step 2: Demand & Need Calc",{demandWithinLeadTime:le,safetyTarget:H,totalMaterialNeed:ue,availableInventory:Z,deficit:ue-Z});let ne=0,be=0;if(Z<ue)ne=Math.ceil((ue-Z)/_),console.log("[MRP DEBUG] Step 3: ORDER Decision",{trucksToOrder:ne,reason:"availableInventory < totalMaterialNeed"});else if(Z>H+le+_){const X=Z-(H+le);X>_&&(be=Math.min(Math.floor(X/_),R),console.log("[MRP DEBUG] Step 3: CANCEL Decision",{trucksToCancel:be,immediateExcess:X,totalIncomingTrucks:R,reason:"availableInventory > safetyTarget + demandWithinLeadTime + bottlesPerTruck"}))}be>T&&(console.warn(`[MRP] Capping trucksToCancel from ${be} to ${T}`),be=T);let G=30;const ge=re+z;if(ge<H)G=0;else if(W.length>0){const X=W.findIndex(xe=>xe.balance<0);if(X!==-1){const xe=W[X],ae=X>0?W[X-1].balance:ge;let me=0;xe.demand>0&&ae>0&&(me=ae/xe.demand),G=X+me}}const ye={};return Object.entries(f).forEach(([X,xe])=>{Number(xe)<=0||h&&h[X]?.items?.length>0||(ye[X]||(ye[X]={count:0,items:[]}),ye[X].count+=Number(xe),ye[X].items.push({needDate:X,trucks:Number(xe)}))}),{netInventory:B,safetyTarget:H,trucksToOrder:ne,trucksToCancel:be,lostProductionCases:D,effectiveScheduledCases:N,specs:y,yardInventory:{...s,effectiveCount:I,isOverridden:!1},dailyLedger:W,firstStockoutDate:ve,firstOverflowDate:L,totalIncomingTrucks:R,initialInventory:re+z,calculatedPallets:q,daysOfSupply:G,inventoryAnchor:a,plannedOrders:ye}};function Yoe(e,t={}){const{safetyStockLoads:r,leadTimeDays:n}=ra(),{productMap:a}=xr(),{selectedSize:s,monthlyDemand:l,monthlyProductionActuals:u,monthlyInbound:d,downtimeHours:f,incomingTrucks:h,yardInventory:g,inventoryAnchor:v}=e,y=a[s],S=y?.productionRate||0,k=y?.leadTimeDays!==void 0&&y?.leadTimeDays!==null?y.leadTimeDays:n||2,_=x.useMemo(()=>{if(!y)return null;const j={todayStr:Wr(),productionRate:S,downtimeHours:f,bottleSpecs:y,inventoryAnchor:v,yardInventory:g,incomingTrucks:h,monthlyDemand:l,monthlyProductionActuals:u,monthlyInbound:d,poManifest:t,safetyStockLoads:r,leadTimeDays:k};return Goe(j)},[s,S,f,h,a,r,g,l,d,v,t,u,y,k]);return x.useMemo(()=>({totalScheduledCases:_?.effectiveScheduledCases||0,productionRate:S,calculations:_}),[_,S])}function Woe(e,t){const{safetyStockLoads:r,leadTimeDays:n}=ra(),{productMap:a,refreshProducts:s}=xr(),{user:l,userRole:u}=Ar(),{savePlanningEntry:d,saveProductionSetting:f,saveInventorySnapshot:h}=jl(),{selectedSize:g,setSelectedSize:v,monthlyDemand:y,setMonthlyDemand:S,monthlyProductionActuals:k,setMonthlyProductionActuals:_,monthlyInbound:j,setMonthlyInbound:O,truckManifest:E,setTruckManifest:D,setDowntimeHours:N,setCurrentInventoryPallets:C,setIncomingTrucks:P,setYardInventory:T,isAutoReplenish:R,setIsAutoReplenish:M,setInventoryAnchor:I,inventoryAnchor:z}=e,{calculations:q}=t,re=x.useRef(0),oe=x.useRef(y),B=x.useRef(k),H=x.useRef(j);x.useLayoutEffect(()=>{oe.current=y},[y]),x.useLayoutEffect(()=>{B.current=k},[k]),x.useLayoutEffect(()=>{H.current=j},[j]);const[W]=x.useState(!1),[ee,ve]=x.useState(null),L=x.useRef({}),K=x.useRef({}),F=x.useCallback(async ae=>{if(["admin","planner"].includes(u||"")){ve(null);try{await ae()}catch(pe){console.error("Save Error",pe),ve(pe.message||"Save Failed")}}},[u]),Z=x.useCallback((ae,me,pe=1e3)=>{L.current[ae]&&clearTimeout(L.current[ae]),L.current[ae]=setTimeout(()=>{F(me),delete L.current[ae]},pe)},[F]),le=x.useCallback((ae,me,pe=300)=>{K.current[ae]&&clearTimeout(K.current[ae]),K.current[ae]=setTimeout(()=>{me(),delete K.current[ae]},pe)},[]);x.useEffect(()=>()=>{Object.values(L.current).forEach(clearTimeout),Object.values(K.current).forEach(clearTimeout)},[]);const ue=x.useCallback(()=>{if(!q||!R)return;const ae=oe.current,me=B.current,pe=H.current,_e=a[g];if(!_e)return;const Ce=1+(_e.scrapPercentage||0)/100,Ie=(r||0)*_e.bottlesPerTruck;let Be=q.initialInventory||0;const Ot=n||2,bt={},pt=Wr();for(let qe=0;qe<Ot;qe++){const We=Yt(pt,qe),Pt=me[We],Sa=ae[We],wn=We>pt,_r=Pt!=null&&(!wn||Number(Pt)!==0),Lt=Number(_r?Pt:Sa||0)*(_e.bottlesPerCase||1)*Ce,zr=pe[We]||0;Be=Be+zr*_e.bottlesPerTruck-Lt}for(let qe=Ot;qe<60;qe++){const We=Yt(pt,qe),Pt=me[We],Sa=ae[We],wn=We>pt,_r=Pt!=null&&(!wn||Number(Pt)!==0),Lt=Number(_r?Pt:Sa||0)*(_e.bottlesPerCase||1)*Ce;let zr=0,tr=Be-Lt;if(tr<Ie){const Zu=Math.ceil((Ie-tr)/_e.bottlesPerTruck);zr=Zu,tr+=Zu*_e.bottlesPerTruck}zr>0?bt[We]=zr:pe[We]&&(bt[We]=0),Be=tr}let $e=!1;if(Object.entries(bt).forEach(([qe,We])=>{(pe[qe]||0)!==We&&($e=!0)}),!$e)return;const tt={...pe,...bt};Object.keys(tt).forEach(qe=>{tt[qe]===0&&delete tt[qe]});const Ye=qe=>Object.keys(qe).sort().reduce((We,Pt)=>({...We,[Pt]:qe[Pt]}),{});JSON.stringify(Ye(tt))!==JSON.stringify(Ye(pe))&&(O(tt),dn("monthlyInbound",tt,g,!0))},[q,R,a,g,r,n,l,u,d,O,F]),ne=x.useCallback((ae,me)=>{const pe=me,_e={...oe.current,[ae]:pe};S(_e),le("monthlyDemand",()=>{dn("monthlyDemand",_e,g,!0)},500),l&&Z(`demand-${ae}`,async()=>d(l.id,g,ae,"demand_plan",Number(pe)),1e3)},[g,l,Z,le,S,d]),be=x.useCallback((ae,me)=>{const pe=me===""||me===null?void 0:me,_e={...B.current};pe===void 0?delete _e[ae]:_e[ae]=pe,_(_e),le("monthlyProductionActuals",()=>{dn("monthlyProductionActuals",_e,g,!0)},500),l&&Z(`actual-${ae}`,async()=>d(l.id,g,ae,"production_actual",pe===void 0?null:Number(pe)),1e3)},[g,l,Z,le,_,d]),G=x.useCallback((ae,me)=>{const pe=me,_e={...H.current};pe===""||pe==="0"||Number(pe)===0?delete _e[ae]:_e[ae]=pe,O(_e),le("monthlyInbound",()=>{dn("monthlyInbound",_e,g,!0)},500),l&&Z(`inbound-${ae}`,async()=>d(l.id,g,ae,"inbound_trucks",pe===""||pe==="0"||Number(pe)===0?null:Number(pe)),1e3)},[g,l,Z,le,O,d]);x.useEffect(()=>{if(!R||!q||Date.now()-re.current<250)return;const ae=setTimeout(()=>{ue()},50);return()=>clearTimeout(ae)},[z,r,n,R,y,k,q,ue]);const ge=x.useCallback(ae=>{const me={...oe.current,...ae};S(me),le("monthlyDemand",()=>{dn("monthlyDemand",me,g,!0)},500),l&&Z(`demand-bulk-${Object.keys(ae)[0]}`,async()=>{const pe=Object.entries(ae).map(([_e,Ce])=>d(l.id,g,_e,"demand_plan",Number(Ce)));await Promise.all(pe)},1e3)},[g,l,Z,le,S,d]),[ye,X]=x.useState(a[g]?.productionRate||0);return x.useEffect(()=>{X(a[g]?.productionRate||0)},[g,a]),{setters:x.useMemo(()=>({setSelectedSize:v,updateDateDemand:ne,updateDateDemandBulk:ge,updateDateActual:be,updateDateInbound:G,updateTruckManifest:(ae,me)=>{const pe={...E,[ae]:me};(!me||me.length===0)&&delete pe[ae],D(pe),dn("truckManifest",pe,g,!0),l&&F(async()=>d(l.id,g,ae,"truck_manifest_json",JSON.stringify(me)))},setProductionRate:async ae=>{const me=Number(ae);X(me),l&&(await F(async()=>f(l.id,g,"production_rate",me)),s())},setDowntimeHours:ae=>{const me=Number(ae);N(me),dn("downtimeHours",me,g),l&&F(async()=>f(l.id,g,"downtime_hours",me))},setCurrentInventoryPallets:ae=>{const me=Number(ae);C(me),dn("currentInventoryPallets",me,g)},setIncomingTrucks:ae=>{const me=Number(ae);P(me),dn("incomingTrucks",me,g)},setYardInventory:ae=>{T(ae),dn("yardInventory",ae,g,!0)},updateYardInventory:ae=>{const me=Number(ae),pe=Wr();T({date:pe,count:me}),dn("yardInventory",{date:pe,count:me},g,!0),l&&F(async()=>h(l.id,g,pe,me,"yard"))},setIsAutoReplenish:ae=>{M(ae),dn("isAutoReplenish",ae,g,!0),l&&F(async()=>f(l.id,g,"is_auto_replenish",ae))},setInventoryAnchor:ae=>{I(ae),dn("inventoryAnchor",ae,g,!0),l&&F(()=>h(l.id,g,ae.date,ae.count,"floor"))}}),[v,ne,ge,be,G,E,D,g,l,F,d,X,f,s,N,C,P,T,M,I,h]),formState:{isSaving:W,saveError:ee,selectedSize:g,productionRate:ye}}}function Xoe(e={}){const t=Zoe(),r=x.useMemo(()=>{if(!t.selectedSize||!e)return{};const f={};return Object.entries(e).forEach(([h,g])=>{const v=g.items?.filter(y=>y.sku===t.selectedSize)||[];v.length>0&&(f[h]={items:v})}),f},[e,t.selectedSize]),{calculations:n,totalScheduledCases:a,productionRate:s}=Yoe(t,r),l=x.useMemo(()=>({calculations:n}),[n]),{setters:u,formState:d}=Woe(t,l);return{formState:{selectedSize:t.selectedSize,monthlyDemand:t.monthlyDemand,monthlyProductionActuals:t.monthlyProductionActuals,monthlyInbound:t.monthlyInbound,truckManifest:t.truckManifest,downtimeHours:t.downtimeHours,currentInventoryPallets:t.currentInventoryPallets,incomingTrucks:t.incomingTrucks,yardInventory:t.yardInventory,isAutoReplenish:t.isAutoReplenish,inventoryAnchor:t.inventoryAnchor,productionRate:d.productionRate??s,totalScheduledCases:a,isSaving:d.isSaving,saveError:d.saveError},setters:u,results:n?{...n,poManifest:r}:null}}function Joe(){const{safetyStockLoads:e,schedulerSettings:t,updateSchedulerSetting:r}=ra(),{productMap:n,updateProductSettings:a}=xr(),[s,l]=x.useState(()=>localStorage.getItem("sched_selectedSize")||"20oz");x.useEffect(()=>localStorage.setItem("sched_selectedSize",s),[s]);const{shiftStartTime:u="00:00",poAssignments:d={},cancelledLoads:f=[]}=t,h=x.useMemo(()=>{const y=n[s];if(!y)return null;const S=y.casesPerTruck?Math.ceil(y.casesPerTruck/(y.casesPerPallet||1)):0,k={...y,name:s,palletsPerTruck:y.palletsPerTruck||S},_=k.productionRate||0,j=_*24,O=isNaN(j)?0:j,E=k.casesPerTruck&&k.casesPerTruck>0?Math.ceil(O/k.casesPerTruck):0,D=E*7,N=[{name:"Shift 1 (00:00-08:00)",loads:0},{name:"Shift 2 (08:00-16:00)",loads:0},{name:"Shift 3 (16:00-00:00)",loads:0}],C=_,P=C,T=k.casesPerTruck||0,R=C>0&&T>0?T/C:0;let M=[];if(R>0&&E>0){const[q,re]=u.split(":").map(Number);let oe=q+re/60;for(let B=0;B<E;B++){const W=(oe+R*B)%24,ee=Math.round(W),K=`${(ee===24?0:ee).toString().padStart(2,"0")}:${0 .toString().padStart(2,"0")}`;M.push({id:B+1,time:K,rawDecimal:W,po:d[String(B+1)]||""})}}const I=M.filter(q=>!f.includes(String(q.id)));I.forEach(q=>{const re=q.rawDecimal;re>=0&&re<8?N[0].loads++:re>=8&&re<16?N[1].loads++:N[2].loads++}),M=I;const z=e<E;return{requiredDailyLoads:E,weeklyLoads:D,schedule:N,truckSchedule:M,burnRate:P,hoursPerTruck:R,isHighRisk:z,safetyStockLoads:e,specs:k}},[s,u,n,e,d,f]),g=(y,S)=>{const k={...d,[String(y)]:S};r("poAssignments",k)},v=y=>{const S=String(y),_=f.includes(S)?f.filter(j=>j!==S):[...f,S];r("cancelledLoads",_)};return{formState:{selectedSize:s,targetDailyProduction:(h?.burnRate||0)*24,shiftStartTime:u,poAssignments:d},setters:{setSelectedSize:l,setTargetDailyProduction:y=>{const S=Number(y),k=!isNaN(S)&&S>=0?S:0;a(s,{production_rate:k/24})},setShiftStartTime:y=>r("shiftStartTime",y),updatePO:g,toggleCancelled:v},results:h}}function Qoe(e,t=!0){const{user:r}=Ar(),{fetchMRPState:n}=jl(),[a,s]=x.useState({}),[l,u]=x.useState(!1),[d,f]=x.useState(0),h=x.useRef(null);return x.useEffect(()=>{if(!t)return;const v=async()=>{if(!t)return;u(!0);const y={},S=(j,O)=>{const E=`mrp_${j}`,D=`mrp_${O}_${j}`;let N=localStorage.getItem(D);N===null&&O==="20oz"&&(N=localStorage.getItem(E));try{return JSON.parse(N||"{}")}catch{return{}}},k=e.map(async j=>{if(r)try{const O=await n(r.id,j);return{sku:j,data:O?{demand:O.monthlyDemand||{},actuals:O.monthlyProductionActuals||{},inbound:O.monthlyInbound||{}}:{demand:{},actuals:{},inbound:{}}}}catch(O){return console.error(`Failed to load master state for ${j}`,O),{sku:j,data:{demand:{},actuals:{},inbound:{}}}}else return{sku:j,data:{demand:S("monthlyDemand",j),actuals:S("monthlyProductionActuals",j),inbound:S("monthlyInbound",j)}}});(await Promise.all(k)).forEach(({sku:j,data:O})=>{y[j]=O}),s(y),u(!1)};e.length>0&&v()},[e.join(","),r?.id,t,d]),nu({table:"planning_entries",enabled:t&&!!r,onDataChange:()=>{h.current&&clearTimeout(h.current),h.current=setTimeout(()=>{f(v=>v+1)},1e3)}}),{masterLedger:x.useMemo(()=>{const v={},y=new Set;return Object.values(a).forEach(k=>{Object.keys(k.demand).forEach(_=>y.add(_)),Object.keys(k.actuals).forEach(_=>y.add(_)),Object.keys(k.inbound).forEach(_=>y.add(_))}),Array.from(y).sort().forEach(k=>{const _=[];e.forEach(j=>{const O=a[j];if(!O)return;const E=Number(O.demand[k])||0,D=O.actuals[k]!==void 0?Number(O.actuals[k]):null,N=Number(O.inbound[k])||0;(E>0||D!==null&&D>0||N>0)&&_.push({sku:j,demand:E,actual:D,trucks:N})}),_.length>0&&(v[k]=_)}),v},[a,e]),loading:l,skuStates:a}}function ele({masterLedger:e,loading:t}){const r=x.useMemo(()=>e?Object.keys(e).sort():[],[e]),n=a=>({"20oz":"bg-blue-100 dark:bg-blue-900/40 text-blue-800 dark:text-blue-200 border-blue-200 dark:border-blue-700","12oz":"bg-purple-100 dark:bg-purple-900/40 text-purple-800 dark:text-purple-200 border-purple-200 dark:border-purple-700","2L":"bg-green-100 dark:bg-green-900/40 text-green-800 dark:text-green-200 border-green-200 dark:border-green-700","1L":"bg-orange-100 dark:bg-orange-900/40 text-orange-800 dark:text-orange-200 border-orange-200 dark:border-orange-700"})[a]||"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200 border-gray-200 dark:border-gray-700";return t?p.jsxs("div",{className:"flex h-full items-center justify-center p-10",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),p.jsx("span",{className:"ml-3 text-gray-500",children:"Aggregating Master Plan..."})]}):r.length===0?p.jsxs("div",{className:"text-center p-10 bg-gray-50 dark:bg-gray-800 rounded-lg border-2 border-dashed border-gray-200 dark:border-gray-700",children:[p.jsx("h3",{className:"text-gray-400 dark:text-gray-500 font-bold mb-2",children:"No Active Production"}),p.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-sm",children:"Add demand or trucks to individual SKU plans to see them here."})]}):p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 mb-6",children:[p.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Master Schedule"}),p.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Global view of all production lines and logistics."})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("div",{className:"md:hidden space-y-4",children:r.map(a=>{const s=e[a]||[],l=new Date(a),u=new Date().toISOString().split("T")[0]===a;return s.length===0?null:p.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-lg shadow-sm border p-4 ${u?"border-blue-300 ring-1 ring-blue-100 dark:ring-blue-900":"border-gray-200 dark:border-gray-700"}`,children:[p.jsxs("div",{className:"flex justify-between items-center mb-3 pb-2 border-b border-gray-100 dark:border-gray-700",children:[p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:`text-lg font-bold ${u?"text-blue-600 dark:text-blue-400":"text-gray-900 dark:text-white"}`,children:l.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}),p.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500 font-mono",children:a})]}),u&&p.jsx("span",{className:"text-xs font-bold bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 px-2 py-1 rounded",children:"TODAY"})]}),p.jsx("div",{className:"space-y-2",children:s.map(d=>p.jsxs("div",{className:`flex items-center justify-between p-2 rounded border ${n(d.sku)}`,children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("span",{className:"font-bold text-sm mr-3 w-12",children:d.sku}),(d.demand>0||d.actual!==null&&d.actual>0)&&p.jsxs("span",{className:"font-mono font-bold text-sm",children:[d.actual!==null?d.actual.toLocaleString():d.demand.toLocaleString()," cases"]})]}),d.trucks>0&&p.jsxs("div",{className:"flex items-center space-x-1 bg-white dark:bg-gray-800 bg-opacity-60 px-2 py-1 rounded border border-black/5 dark:border-white/10",children:[p.jsx("span",{className:"text-base",children:""}),p.jsx("span",{className:"font-bold text-sm",children:d.trucks})]})]},`${a}-${d.sku}-mobile`))})]},a)})}),p.jsxs("div",{className:"hidden md:block bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:[p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 px-6 py-3 border-b border-gray-200 dark:border-gray-700 grid grid-cols-12 gap-4 text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[p.jsx("div",{className:"col-span-3 md:col-span-2",children:"Date"}),p.jsx("div",{className:"col-span-9 md:col-span-10",children:"Production & Logistics"})]}),p.jsx("div",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:r.map(a=>{const s=e[a]||[],l=new Date(a),u=new Date().toISOString().split("T")[0]===a;return p.jsxs("div",{className:`group grid grid-cols-12 gap-4 px-6 py-4 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors ${u?"bg-blue-50/30 dark:bg-blue-900/10":""}`,children:[p.jsxs("div",{className:"col-span-3 md:col-span-2 flex flex-col justify-center",children:[p.jsx("span",{className:`text-sm font-bold ${u?"text-blue-600 dark:text-blue-400":"text-gray-900 dark:text-white"}`,children:l.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}),p.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500 font-mono mt-1",children:a})]}),p.jsx("div",{className:"col-span-9 md:col-span-10 flex flex-col space-y-2 justify-center",children:s.map((d,f)=>p.jsxs("div",{className:`flex items-center p-2 rounded border ${n(d.sku)}`,children:[p.jsx("span",{className:"font-bold text-xs uppercase w-16 tracking-wide",children:d.sku}),p.jsxs("div",{className:"flex-1 flex items-center space-x-4",children:[(d.demand>0||d.actual!==null&&d.actual>0)&&p.jsxs("div",{className:"flex items-baseline space-x-1",children:[p.jsx("span",{className:"text-xs opacity-70",children:"Run:"}),p.jsx("span",{className:"font-mono font-bold text-sm",children:d.actual!==null?d.actual.toLocaleString():d.demand.toLocaleString()}),d.actual!==null&&p.jsx("span",{className:"text-[10px] bg-white bg-opacity-50 px-1 rounded ml-1",children:"ACT"})]}),(d.demand>0||d.actual>0)&&d.trucks>0&&p.jsx("span",{className:"text-gray-300 dark:text-gray-600",children:"|"}),d.trucks>0&&p.jsxs("div",{className:"flex items-center space-x-1",children:[p.jsx("span",{className:"text-lg",children:""}),p.jsx("span",{className:"font-bold text-sm",children:d.trucks}),p.jsx("span",{className:"text-xs opacity-70",children:"Trucks"})]})]})]},`${a}-${d.sku}`))})]},a)})})]})]})]})}function tle(){const{signIn:e,resendVerificationEmail:t}=Ar(),[r,n]=x.useState(""),[a,s]=x.useState(""),[l,u]=x.useState(null),[d,f]=x.useState(!1),[h,g]=x.useState(!1),v=async S=>{S.preventDefault(),u(null),f(!0);try{await e(r,a)}catch(k){u(k.message)}finally{f(!1)}},y=async()=>{try{f(!0),await t(r),g(!0),u("Confirmation email resent! Check your spam folder.")}catch(S){u(S.message)}finally{f(!1)}};return p.jsxs("div",{className:"min-h-screen bg-slate-950 flex flex-col items-center justify-center relative overflow-hidden font-sans selection:bg-blue-500 selection:text-white",children:[p.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-blue-950/20 via-slate-950 to-black z-0 pointer-events-none"}),p.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-5 z-0 pointer-events-none"}),p.jsx("main",{className:"relative z-10 w-full max-w-sm px-4",children:p.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-md border border-slate-800 rounded-3xl p-8 shadow-2xl",children:[p.jsxs("div",{className:"flex flex-col items-center mb-8",children:[p.jsx("div",{className:"h-20 w-20 bg-white rounded-full p-0.5 shadow-xl shadow-blue-900/20 mb-4 overflow-hidden ring-2 ring-slate-800",children:p.jsx("img",{src:g0,alt:"UBP",className:"h-full w-full object-contain"})}),p.jsx("h1",{className:"text-xl font-bold text-white tracking-tight",children:"MRP Portal"}),p.jsxs("div",{className:"flex items-center gap-1.5 text-slate-500 text-[10px] font-bold uppercase tracking-widest mt-1",children:[p.jsx(zA,{className:"w-3.5 h-3.5 text-emerald-500"}),p.jsx("span",{children:"Authorized Access Only"})]})]}),l&&p.jsxs("div",{className:`p-3 rounded-lg mb-6 text-xs font-medium border flex gap-2 items-start ${l.includes("resent")?"bg-emerald-900/20 text-emerald-400 border-emerald-900/50":"bg-rose-900/20 text-rose-400 border-rose-900/50"}`,children:[l.includes("resent")?p.jsx(da,{className:"w-4 h-4 shrink-0"}):p.jsx(z6,{className:"w-4 h-4 shrink-0"}),p.jsxs("div",{children:[l,l.includes("Email not confirmed")&&!h&&p.jsx("button",{onClick:y,className:"block mt-1 underline hover:text-white transition-colors",children:"Resend Verification Email"})]})]}),p.jsxs("form",{onSubmit:v,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-semibold text-slate-400 mb-1.5 ml-1",children:"Email Address"}),p.jsx("input",{type:"email",required:!0,value:r,onChange:S=>n(S.target.value),className:"block w-full rounded-xl bg-slate-950 border border-slate-800 text-white placeholder-slate-600 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 py-2.5 px-4 text-sm transition-all",placeholder:"name@unionbevnj.com"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-semibold text-slate-400 mb-1.5 ml-1",children:"Password"}),p.jsx("input",{type:"password",required:!0,value:a,onChange:S=>s(S.target.value),className:"block w-full rounded-xl bg-slate-950 border border-slate-800 text-white placeholder-slate-600 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 py-2.5 px-4 text-sm transition-all",placeholder:""})]}),p.jsx("div",{className:"pt-2",children:p.jsx("button",{type:"submit",disabled:d,className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 rounded-xl shadow-lg shadow-blue-900/20 transition-all active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed flex justify-center",children:d?p.jsxs("span",{className:"flex items-center gap-2",children:[p.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing In..."]}):"Sign In to Dashboard"})})]}),p.jsx("div",{className:"mt-8 text-center border-t border-slate-800/50 pt-4",children:p.jsx("p",{className:"text-slate-500 text-xs",children:"Sign In to access planning tool."})})]})}),p.jsx("footer",{className:"absolute bottom-6 w-full text-center",children:p.jsxs("p",{className:"text-slate-800 text-[10px] font-medium uppercase tracking-wider",children:[" ",new Date().getFullYear()," Union Beverage Packers"]})})]})}function OA({date:e,totalRequired:t,manifest:r,onUpdate:n,readOnly:a=!1}){const[s,l]=x.useState(!1),u=r||[],d=Math.max(u.length,t),f=Math.max(0,d-u.length),[h,g]=x.useState(u),v=_=>{_&&(_.preventDefault(),_.stopPropagation()),n(e,h),l(!1)},y=()=>{g([...h,{id:crypto.randomUUID(),po:"",carrier:"",time:"",status:"scheduled"}])},S=_=>{const j=[...h];j.splice(_,1),g(j)},k=(_,j,O)=>{const E=[...h];E[_]={...E[_],[j]:O},g(E)};return s?p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-blue-200 dark:border-blue-900 shadow-lg",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white flex items-center",children:[p.jsx(Jc,{className:"w-5 h-5 mr-2 text-blue-500"}),"Edit Manifest: ",e]}),p.jsxs("div",{className:"space-x-2",children:[p.jsx("button",{type:"button",onClick:()=>l(!1),className:"text-xs text-gray-500 hover:text-gray-700",children:"Cancel"}),p.jsx("button",{type:"button",onClick:v,className:"px-3 py-1 bg-blue-600 text-white text-xs font-bold rounded shadow hover:bg-blue-500",children:"Save Changes"})]})]}),p.jsxs("div",{className:"space-y-2",children:[h.map((_,j)=>p.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 bg-gray-50 dark:bg-gray-700/50 p-3 rounded border border-gray-100 dark:border-gray-600",children:[p.jsxs("div",{className:"flex-1 w-full",children:[p.jsx("label",{className:"text-[10px] uppercase text-gray-400 font-bold block mb-1 sm:hidden",children:"Carrier"}),p.jsx("input",{className:"w-full text-sm font-bold bg-transparent border-b border-gray-300 focus:border-blue-500 outline-none dark:text-white pb-1",placeholder:"Carrier Name",value:_.carrier,onChange:O=>k(j,"carrier",O.target.value)})]}),p.jsxs("div",{className:"w-full sm:w-24",children:[p.jsx("label",{className:"text-[10px] uppercase text-gray-400 font-bold block mb-1 sm:hidden",children:"PO #"}),p.jsx("input",{className:"w-full text-sm font-mono bg-transparent border-b border-gray-300 focus:border-blue-500 outline-none dark:text-white pb-1",placeholder:"PO-123",value:_.po,onChange:O=>k(j,"po",O.target.value)})]}),p.jsxs("div",{className:"w-full sm:w-28",children:[p.jsx("label",{className:"text-[10px] uppercase text-gray-400 font-bold block mb-1 sm:hidden",children:"Time"}),p.jsxs("select",{className:"w-full text-sm bg-transparent border-b border-gray-300 focus:border-blue-500 outline-none dark:text-gray-200 dark:bg-gray-800 rounded px-1 pb-1",value:_.time,onChange:O=>k(j,"time",O.target.value),children:[p.jsx("option",{value:"",className:"text-gray-500",children:"TBD"}),Array.from({length:24}).map((O,E)=>{const D=E,C=`${String(D).padStart(2,"0")}:${String(0).padStart(2,"0")}`,P=D>=12?"PM":"AM",R=`${D%12||12}:00 ${P}`;return p.jsx("option",{value:C,className:"dark:bg-gray-800",children:R},C)})]})]}),p.jsx("div",{className:"w-full sm:w-auto flex justify-end",children:p.jsxs("button",{type:"button",onClick:()=>S(j),className:"text-red-400 hover:text-red-600 p-2 sm:p-1 bg-red-50 dark:bg-red-900/10 sm:bg-transparent rounded",children:[p.jsxs("div",{className:"flex items-center sm:hidden",children:[p.jsx(pa,{className:"w-4 h-4 mr-1"}),p.jsx("span",{className:"text-xs font-bold",children:"Remove"})]}),p.jsx(pa,{className:"w-4 h-4 hidden sm:block"})]})})]},_.id||j)),p.jsxs("button",{onClick:y,className:"w-full py-2 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded text-gray-400 dark:text-gray-500 hover:border-blue-400 hover:text-blue-500 flex items-center justify-center text-sm font-bold",children:[p.jsx(G6,{className:"w-4 h-4 mr-1"})," Add Truck"]})]})]}):p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("div",{}),!a&&(t>0||u.length>0)&&p.jsxs("button",{onClick:()=>{g(u.length?u:Array(t).fill().map(()=>({id:crypto.randomUUID(),po:"",carrier:"",time:""}))),l(!0)},className:"text-xs font-bold text-blue-600 hover:text-blue-500 flex items-center bg-blue-50 dark:bg-blue-900/20 px-2 py-1 rounded",children:[p.jsx(Jc,{className:"w-3 h-3 mr-1"}),"Edit Manifest"]})]}),u.map((_,j)=>p.jsx("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-gray-800 border-l-4 border-green-500 shadow-sm rounded-r-md",children:p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("span",{className:"font-bold text-gray-900 dark:text-white text-lg",children:_.carrier||_.supplier||"Pending Assignment"}),_.time&&p.jsxs("span",{className:"ml-2 text-sm font-bold bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 px-2 py-1 rounded flex items-center shadow-sm",children:[p.jsx(u0,{className:"w-4 h-4 mr-1"}),au(_.time)]})]}),p.jsx("div",{className:"flex flex-col text-xs text-gray-500 mt-1",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx(Q6,{className:"w-3 h-3 mr-1"}),p.jsxs("span",{className:"font-mono text-gray-700 dark:text-gray-300 font-bold mr-2",children:["PO: ",_.po||"N/A"]}),_.supplier&&_.carrier&&p.jsxs("span",{className:"text-gray-400",children:["(",_.supplier,")"]})]})})]})},j)),Array.from({length:f}).map((_,j)=>p.jsx("div",{className:"flex items-center justify-between p-3 bg-gray-50 border-l-4 border-gray-300 dark:border-gray-600 dark:bg-gray-800/50 rounded-r-md opacity-70 dashed-border",children:p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("div",{className:"p-1.5 bg-gray-200 dark:bg-gray-700 rounded-full",children:p.jsx(vn,{className:"w-5 h-5 text-gray-400"})}),p.jsxs("div",{children:[p.jsxs("p",{className:"text-sm font-bold text-gray-500 italic",children:["Planned Delivery Slot #",u.length+j+1]}),p.jsx("div",{className:"flex items-center text-xs text-gray-400 mt-0.5",children:p.jsx("span",{children:"Awaiting Carrier Assignment"})})]})]})},`p-${j}`)),d===0&&p.jsx("div",{className:"p-4 text-center text-gray-400 text-sm italic bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:"No Deliveries Needed"})]})}function rle({state:e,setters:t,results:r,readOnly:n=!1}){const[a,s]=x.useState(!1),{productMap:l}=xr(),u=x.useMemo(()=>Object.keys(l||{}),[l]),[d,f]=x.useState({today:[],tomorrow:[]}),[h,g]=x.useState("ALL"),{poManifest:v,updateDailyManifest:y,bulkUpdateOrders:S}=na(),k=Wr(),_=Yt(k,1),j=new Date(_+"T00:00:00");x.useEffect(()=>{try{const T={today:[],tomorrow:[]};u.forEach(R=>{const M=`mrp_${R}_monthlyInbound`;let I={};try{const ne=localStorage.getItem(M);ne&&(I=JSON.parse(ne))}catch{}const z=`mrp_${R}_truckManifest`;let q={};try{const ne=localStorage.getItem(z);ne&&(q=JSON.parse(ne))}catch{}const re=ne=>{try{const be=v[ne];return!be||!be.items?[]:be.items.filter(G=>G.sku===R)}catch(be){return console.warn("Error reading global POs for date:",ne,be),[]}},oe=re(k),B=re(_),H=Number(I[k])||0,W=q[k]||[],ee=oe.map(ne=>({id:ne.id,time:ne.time,carrier:ne.carrier||ne.supplier,type:"PO",po:ne.po,details:`PO#${ne.po} (${ne.qty})`,isGlobal:!0})),ve=[...W,...ee],L=Math.max(H,ve.length);(L>0||ve.length>0)&&T.today.push({sku:R,count:L,manifest:ve});const K=Number(I[_])||0,F=q[_]||[],Z=B.map(ne=>({id:ne.id,time:ne.time,carrier:ne.carrier||ne.supplier,type:"PO",po:ne.po,details:`PO#${ne.po} (${ne.qty})`,isGlobal:!0})),le=[...F,...Z],ue=Math.max(K,le.length);(ue>0||le.length>0)&&T.tomorrow.push({sku:R,count:ue,manifest:le})}),f(T)}catch(T){console.error("Critical Error in LogisticsView Aggregation:",T),f({today:[],tomorrow:[]})}},[u,e.monthlyInbound,e.stateVersion,v,k,_]);const O=h==="ALL"?d.today:d.today.filter(T=>T.sku===h),E=h==="ALL"?d.tomorrow:d.tomorrow.filter(T=>T.sku===h),D=O.reduce((T,R)=>T+R.count,0),N=E.reduce((T,R)=>T+R.count,0),C=T=>T?T.toLocaleString():"0";if(!r)return p.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading Logistics Data..."});const{yardInventory:P}=r;return p.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[p.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center bg-slate-900 text-white p-6 rounded-2xl shadow-lg",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-black tracking-tight uppercase",children:"Floor Operations"}),p.jsxs("div",{className:"flex items-center space-x-2 mt-2 opacity-80",children:[p.jsxs("span",{className:"bg-slate-700 px-3 py-1 rounded text-sm font-mono",children:["ACTIVE: ",e.selectedSize]}),p.jsx("span",{className:"text-sm",children:new Date().toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})})]})]}),p.jsx("div",{className:"flex flex-col sm:flex-row gap-3 mt-4 md:mt-0 w-full md:w-auto",children:!n&&p.jsxs("button",{onClick:()=>s(!0),className:"flex items-center justify-center bg-emerald-500 hover:bg-emerald-400 text-slate-900 px-6 py-3 rounded-xl font-bold text-base md:text-lg transition-transform hover:scale-105 shadow-xl w-full sm:w-auto",children:[p.jsx(nx,{className:"w-6 h-6 md:w-8 md:h-8 mr-2"}),"START DAY"]})})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-2xl border-2 border-gray-100 dark:border-gray-700 shadow-sm flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-bold uppercase tracking-wider text-sm",children:"Floor Inventory"}),p.jsxs("div",{className:"flex items-baseline mt-2",children:[p.jsx("span",{className:"text-6xl font-black text-slate-800 dark:text-white",children:C(Math.round(r.calculatedPallets))}),p.jsx("span",{className:"ml-2 text-xl font-medium text-gray-400",children:"Pallets"})]})]}),p.jsx("div",{className:"h-16 w-16 bg-blue-50 rounded-full flex items-center justify-center",children:p.jsx(ax,{className:"w-8 h-8 text-blue-600"})})]}),p.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-2xl border-2 border-gray-100 dark:border-gray-700 shadow-sm flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-bold uppercase tracking-wider text-sm",children:"Yard Inventory"}),p.jsxs("div",{className:"flex items-baseline mt-2",children:[p.jsx("span",{className:"text-6xl font-black text-slate-800 dark:text-white",children:P.effectiveCount}),p.jsx("span",{className:"ml-2 text-xl font-medium text-gray-400",children:"Loads"})]}),P.isOverridden&&p.jsx("span",{className:"inline-block mt-2 px-2 py-1 bg-yellow-100 text-yellow-800 text-xs font-bold rounded",children:"MANUAL OVERRIDE"})]}),p.jsx("div",{className:"h-16 w-16 bg-orange-50 rounded-full flex items-center justify-center",children:p.jsx(vn,{className:"w-8 h-8 text-orange-600"})})]})]}),p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden",children:[p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[p.jsxs("h2",{className:"text-lg font-bold text-gray-800 dark:text-white flex items-center",children:[p.jsx($A,{className:"w-5 h-5 mr-2 text-gray-500"}),"Master Dock Schedule"]}),p.jsxs("div",{className:"flex space-x-1 bg-white dark:bg-gray-800 rounded-lg p-1 border dark:border-gray-600",children:[p.jsx("button",{onClick:()=>g("ALL"),className:`px-3 py-1 text-[10px] uppercase font-bold rounded ${h==="ALL"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":"text-gray-400 hover:text-gray-600"}`,children:"All"}),u.map(T=>p.jsx("button",{onClick:()=>g(T),className:`px-3 py-1 text-[10px] uppercase font-bold rounded ${h===T?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":"text-gray-400 hover:text-gray-600"}`,children:T},T))]})]}),p.jsxs("div",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:[p.jsxs("div",{className:"p-6 transition-colors",children:[p.jsxs("div",{className:"flex items-center mb-4",children:[p.jsx("div",{className:`w-3 h-12 rounded-full mr-4 ${D>0?"bg-green-500":"bg-gray-300"}`}),p.jsxs("div",{children:[p.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"TODAY"}),p.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date().toLocaleDateString()})]}),p.jsx("div",{className:"ml-auto text-right",children:D>0?p.jsxs("span",{className:"text-sm font-bold text-green-600 bg-green-50 dark:bg-green-900/20 px-3 py-1 rounded-full uppercase",children:[D," Total Trucks"]}):null})]}),p.jsxs("div",{className:"pl-7 space-y-6",children:[O.length===0&&p.jsx("p",{className:"text-sm text-gray-400 italic",children:"No scheduled deliveries."}),O.map(T=>p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[p.jsxs("h4",{className:"flex items-center text-xs font-bold text-gray-500 uppercase mb-3",children:[p.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500 mr-2"}),T.sku," Production Supply (",T.count," Trucks)"]}),p.jsx(OA,{date:k,totalRequired:T.count,manifest:T.manifest,readOnly:n,onUpdate:(R,M)=>{try{const z=r.specs?.bottlesPerTruck||2e4,q=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`uuid-${Date.now()}-${Math.random()}`,re=M.map(W=>({id:W.id||q(),date:R,po:W.po||`TEMP-${Date.now()}`,sku:T.sku,qty:z,supplier:W.carrier||"Unknown",carrier:W.carrier,time:W.time,status:"scheduled",isGlobal:!0})),oe=v[R]?.items||[],H=[...Array.isArray(oe)?oe.filter(W=>W.sku!==T.sku):[],...re];y(R,H)}catch(I){console.error("Failed to update manifest (Today) in LogicsticsView:",I),alert("Error saving manifest. See console.")}try{const I=`mrp_${T.sku}_truckManifest`,z=localStorage.getItem(I);if(z){const q=JSON.parse(z);q[R]&&(delete q[R],localStorage.setItem(I,JSON.stringify(q)))}}catch(I){console.warn("Legacy cleanup failed (Today)",I)}}})]},T.sku))]})]}),p.jsxs("div",{className:"p-6 transition-colors opacity-95",children:[p.jsxs("div",{className:"flex items-center mb-4",children:[p.jsx("div",{className:`w-3 h-12 rounded-full mr-4 ${N>0?"bg-blue-500":"bg-gray-300"}`}),p.jsxs("div",{children:[p.jsx("p",{className:"text-xl font-bold text-gray-700 dark:text-gray-300",children:"TOMORROW"}),p.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:j.toLocaleDateString()})]})]}),p.jsxs("div",{className:"pl-7 space-y-6",children:[E.length===0&&p.jsx("p",{className:"text-sm text-gray-400 italic",children:"No scheduled deliveries."}),E.map(T=>p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[p.jsxs("h4",{className:"flex items-center text-xs font-bold text-gray-500 uppercase mb-3",children:[p.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500 mr-2"}),T.sku," Production Supply (",T.count," Trucks)"]}),p.jsx(OA,{date:_,totalRequired:T.count,manifest:T.manifest,readOnly:n,onUpdate:(R,M)=>{try{const z=r.specs?.bottlesPerTruck||2e4,q=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`uuid-${Date.now()}-${Math.random()}`,re=M.map(W=>({id:W.id||q(),date:R,po:W.po||"TBD",sku:T.sku,qty:z,supplier:W.carrier||"Unknown",carrier:W.carrier,time:W.time,status:"scheduled",isGlobal:!0})),oe=v[R]?.items||[],H=[...Array.isArray(oe)?oe.filter(W=>W.sku!==T.sku):[],...re];y(R,H)}catch(I){console.error("Failed to update manifest in LogicsticsView:",I),alert("Error saving manifest. See console.")}try{const I=`mrp_${T.sku}_truckManifest`,z=localStorage.getItem(I);if(z){const q=JSON.parse(z);q[R]&&(delete q[R],localStorage.setItem(I,JSON.stringify(q)))}}catch(I){console.warn("Legacy cleanup failed (tomorrow)",I)}}})]},T.sku))]})]})]}),p.jsx("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-4 text-center",children:p.jsx("p",{className:"text-xs text-gray-500",children:"For the full 30-day schedule, ask a Planner or switch to the Planning View."})})]}),p.jsx(zC,{isOpen:a,onClose:()=>s(!1),state:e,setters:t})]})}function nle({isOpen:e,onClose:t,product:r,onSave:n,readOnly:a=!1}){const{user:s}=Ar(),[l,u]=x.useState({name:"",description:"",bottles_per_case:12,bottles_per_truck:2e4,cases_per_pallet:100,lead_time_days:2,safety_stock_loads:6,lines:[]}),[d,f]=x.useState(!1),[h,g]=x.useState(null);x.useEffect(()=>{e&&(u(r?{name:r.name,description:r.description||"",color_tag:r.color_tag||"#3B82F6",bottles_per_case:r.bottles_per_case||24,cases_per_pallet:r.cases_per_pallet||100,bottles_per_truck:r.bottles_per_truck||1e5,lead_time_days:r.lead_time_days!==null&&r.lead_time_days!==void 0?r.lead_time_days:2,safety_stock_loads:r.safety_stock_loads!==null&&r.safety_stock_loads!==void 0?r.safety_stock_loads:6,lines:r.production_settings?.length>0?r.production_settings.map(_=>({line_name:_.line_name,production_rate:_.production_rate})):[{line_name:"Line 1",production_rate:2500}]}:{name:"",description:"",color_tag:"#3B82F6",bottles_per_case:24,cases_per_pallet:100,bottles_per_truck:1e5,lead_time_days:2,safety_stock_loads:6,lines:[{line_name:"Line 1",production_rate:2500}]}),g(null))},[e,r]);const v=()=>{u(_=>({..._,lines:[..._.lines,{line_name:`Line ${_.lines.length+1}`,production_rate:2500}]}))},y=_=>{u(j=>({...j,lines:j.lines.filter((O,E)=>E!==_)}))},S=(_,j,O)=>{const E=[...l.lines];E[_][j]=O,u({...l,lines:E})},k=async _=>{if(_.preventDefault(),!(!s||a)){f(!0),g(null);try{const j={name:l.name,description:l.description,color_tag:l.color_tag,bottles_per_case:Number(l.bottles_per_case),bottles_per_truck:Number(l.bottles_per_truck),cases_per_pallet:Number(l.cases_per_pallet),lead_time_days:Number(l.lead_time_days),safety_stock_loads:Number(l.safety_stock_loads),user_id:s.id};r?.id&&(j.id=r.id);const{data:O,error:E}=await Me.from("products").upsert(j,{onConflict:"name"}).select().single();if(E)throw E;const D=l.lines.map(C=>({product_id:O.id,user_id:s.id,line_name:C.line_name||"Line 1",production_rate:Number(C.production_rate)})),{error:N}=await Me.from("production_settings").upsert(D,{onConflict:"product_id, line_name"});if(N)throw N;n(),t()}catch(j){console.error("Save Error:",j),g(j.message||"Failed to save product")}finally{f(!1)}}};return p.jsxs($t,{open:e,onClose:t,className:"relative z-50",children:[p.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm","aria-hidden":"true"}),p.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:p.jsxs($t.Panel,{className:"w-full max-w-lg rounded-2xl bg-white dark:bg-gray-800 p-6 shadow-xl border border-gray-200 dark:border-gray-700 max-h-[90vh] overflow-y-auto",children:[p.jsx($t.Title,{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:a?"View Product Configuration":r?"Edit Product Configuration":"Add New Product"}),h&&p.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg text-sm",children:h}),p.jsxs("form",{onSubmit:k,className:"space-y-5",children:[p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-xl space-y-4",children:[p.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Identification"}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] font-medium text-gray-500 uppercase mb-1",children:"SKU Name"}),p.jsx("input",{type:"text",required:!0,value:l.name,onChange:_=>u({...l,name:_.target.value}),disabled:!!r||a,className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white font-bold focus:ring-2 focus:ring-blue-500 disabled:opacity-50",placeholder:"e.g. 20oz Cola"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] font-medium text-gray-500 uppercase mb-1",children:"Display Color"}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("input",{type:"color",value:l.color_tag,onChange:_=>u({...l,color_tag:_.target.value}),disabled:a,className:"h-9 w-12 rounded cursor-pointer border-0 p-0 disabled:opacity-50"}),p.jsx("span",{className:"text-xs text-gray-400",children:"Calendar Tag"})]})]}),p.jsxs("div",{className:"col-span-2",children:[p.jsx("label",{className:"block text-[10px] font-medium text-gray-500 uppercase mb-1",children:"Description (Optional)"}),p.jsx("input",{type:"text",value:l.description,onChange:_=>u({...l,description:_.target.value}),disabled:a,className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm disabled:opacity-50",placeholder:"e.g. Standard 24pk Tray"})]})]})]}),p.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/10 p-4 rounded-xl space-y-4",children:[p.jsx("h3",{className:"text-xs font-bold text-emerald-600 uppercase tracking-wider",children:" Finished Product Spec"}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Pack Size"}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("input",{type:"number",required:!0,min:"1",value:l.bottles_per_case,onChange:_=>u({...l,bottles_per_case:_.target.value}),disabled:a,className:"w-full px-3 py-2 rounded-lg border border-emerald-200 dark:border-emerald-800 bg-emerald-50/50 dark:bg-emerald-900/20 text-emerald-900 dark:text-emerald-100 text-sm font-bold disabled:opacity-50"}),p.jsx("span",{className:"text-xs text-emerald-600 dark:text-emerald-400",children:"units/case"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Pallet Count"}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("input",{type:"number",required:!0,min:"1",value:l.cases_per_pallet,onChange:_=>u({...l,cases_per_pallet:_.target.value}),disabled:a,className:"w-full px-3 py-2 rounded-lg border border-emerald-200 dark:border-emerald-800 bg-emerald-50/50 dark:bg-emerald-900/20 text-emerald-900 dark:text-emerald-100 text-sm font-bold disabled:opacity-50"}),p.jsx("span",{className:"text-xs text-emerald-600 dark:text-emerald-400",children:"cases/plt"})]})]})]})]}),p.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/10 p-4 rounded-xl space-y-4",children:[p.jsx("h3",{className:"text-xs font-bold text-indigo-600 uppercase tracking-wider",children:" Planning Settings"}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Lead Time"}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("input",{type:"number",required:!0,min:"0",value:l.lead_time_days,onChange:_=>u({...l,lead_time_days:_.target.value}),disabled:a,className:"w-full px-3 py-2 rounded-lg border border-indigo-200 dark:border-indigo-800 bg-indigo-50/50 dark:bg-indigo-900/20 text-indigo-900 dark:text-indigo-100 text-sm font-bold disabled:opacity-50"}),p.jsx("span",{className:"text-xs text-indigo-600 dark:text-indigo-400",children:"days"})]}),p.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Frozen zone for auto-balance logic."})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Safety Stock"}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("input",{type:"number",required:!0,min:"0",value:l.safety_stock_loads,onChange:_=>u({...l,safety_stock_loads:_.target.value}),disabled:a,className:"w-full px-3 py-2 rounded-lg border border-indigo-200 dark:border-indigo-800 bg-indigo-50/50 dark:bg-indigo-900/20 text-indigo-900 dark:text-indigo-100 text-sm font-bold disabled:opacity-50"}),p.jsx("span",{className:"text-xs text-indigo-600 dark:text-indigo-400",children:"loads"})]}),p.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Target floor inventory (multiplier)."})]})]})]}),p.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-4 rounded-xl space-y-4",children:[p.jsx("h3",{className:"text-xs font-bold text-blue-600 uppercase tracking-wider",children:" Raw Material Truck Spec"}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1",children:"Inbound Truck Quantity"}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("input",{type:"number",required:!0,min:"1",step:"100",value:l.bottles_per_truck,onChange:_=>u({...l,bottles_per_truck:_.target.value}),disabled:a,className:"w-full px-3 py-2 rounded-lg border border-blue-200 dark:border-blue-800 bg-blue-50/50 dark:bg-blue-900/20 text-blue-900 dark:text-blue-100 text-lg font-black tracking-tight disabled:opacity-50"}),p.jsx("span",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium",children:"units / truck"})]}),p.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Total quantity of empty bottles/cans on a single full truckload."})]})]}),p.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-4 rounded-xl space-y-3",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h3",{className:"text-xs font-bold text-blue-500 uppercase tracking-wider",children:"Production Lines"}),!a&&p.jsxs("button",{type:"button",onClick:v,className:"text-xs text-blue-600 hover:text-blue-800 font-medium flex items-center gap-1",children:[p.jsx(d0,{className:"w-3 h-3"})," Add Line"]})]}),p.jsxs("div",{className:"space-y-2",children:[l.lines.map((_,j)=>p.jsxs("div",{className:"flex gap-2 items-center",children:[p.jsx("input",{type:"text",value:_.line_name,onChange:O=>S(j,"line_name",O.target.value),placeholder:"Line Name",disabled:a,className:"flex-1 px-3 py-1.5 rounded-lg border border-gray-200 dark:border-gray-600 text-sm disabled:opacity-50"}),p.jsx("input",{type:"number",value:_.production_rate,onChange:O=>S(j,"production_rate",O.target.value),placeholder:"CPH",disabled:a,className:"w-24 px-3 py-1.5 rounded-lg border border-gray-200 dark:border-gray-600 text-sm text-right disabled:opacity-50"}),!a&&p.jsx("button",{type:"button",onClick:()=>y(j),className:"p-1.5 text-red-500 hover:bg-red-100 rounded-lg transition-colors",title:"Remove Line",children:p.jsx(pa,{className:"w-4 h-4"})})]},j)),l.lines.length===0&&p.jsx("p",{className:"text-xs text-center text-gray-400 py-2",children:"No active production lines."})]})]}),p.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t dark:border-gray-700 mt-6",children:[p.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded-lg text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:a?"Close":"Cancel"}),!a&&p.jsx("button",{type:"submit",disabled:d,className:"px-4 py-2 rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50 shadow-sm",children:d?"Saving...":"Save Configuration"})]})]})]})})]})}function ale({readOnly:e=!1}){const{user:t}=Ar(),{products:r,loading:n,refreshProducts:a}=xr(),[s,l]=x.useState(!1),[u,d]=x.useState(null),f=v=>{d(v),l(!0)},h=()=>{d(null),l(!0)},g=()=>{a()};return p.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[p.jsxs("div",{className:"flex justify-between items-center bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[p.jsxs("div",{children:[p.jsxs("h1",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[p.jsx(Kf,{className:"w-6 h-6 text-blue-600"}),"Product Master Data"]}),p.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage SKUs, dimensions, and run rates."})]}),p.jsx("div",{className:"flex gap-2",children:!e&&p.jsxs("button",{onClick:h,className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium shadow-sm transition-all",children:[p.jsx(d0,{className:"w-5 h-5"}),"Add Product"]})})]}),n?p.jsx("div",{className:"flex justify-center p-12",children:p.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.map(v=>p.jsxs("div",{onClick:()=>f(v),className:"group bg-white dark:bg-gray-800 rounded-xl p-5 border border-gray-200 dark:border-gray-700 shadow-sm hover:shadow-md hover:border-blue-300 dark:hover:border-blue-700 cursor-pointer transition-all",children:[p.jsxs("div",{className:"flex justify-between items-start mb-4",children:[p.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:p.jsx(Kf,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),p.jsxs("span",{className:"text-xs font-mono text-gray-400",children:["ID: ",v.id.slice(0,4),"..."]})]}),p.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1",children:v.name}),v.description&&p.jsx("p",{className:"text-xs text-gray-500 mb-4 line-clamp-2",children:v.description}),p.jsxs("div",{className:"space-y-3 text-sm mt-4",children:[p.jsxs("div",{className:"flex justify-between py-1 border-b border-gray-100 dark:border-gray-700/50",children:[p.jsxs("span",{className:"text-gray-500 flex items-center gap-2",children:[p.jsx(vn,{className:"w-4 h-4"}),"Bottles/Truck"]}),p.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-200",children:v.bottles_per_truck?.toLocaleString()})]}),p.jsxs("div",{className:"flex justify-between py-1 border-b border-gray-100 dark:border-gray-700/50",children:[p.jsx("span",{className:"text-gray-500",children:"Bottles/Case"}),p.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-200",children:v.bottles_per_case})]}),p.jsxs("div",{className:"flex justify-between py-1 border-b border-gray-100 dark:border-gray-700/50",children:[p.jsx("span",{className:"text-gray-500",children:"Cases/Pallet"}),p.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-200",children:v.cases_per_pallet})]}),p.jsxs("div",{className:"flex justify-between py-1 border-b border-gray-100 dark:border-gray-700/50",children:[p.jsx("span",{className:"text-gray-500",children:"Lead Time"}),p.jsxs("span",{className:"font-medium text-indigo-700 dark:text-indigo-300",children:[v.lead_time_days||2," Days"]})]}),p.jsxs("div",{className:"flex justify-between py-1 border-b border-gray-100 dark:border-gray-700/50",children:[p.jsx("span",{className:"text-gray-500",children:"Safety Stock"}),p.jsxs("span",{className:"font-medium text-indigo-700 dark:text-indigo-300",children:[v.safety_stock_loads||6," Loads"]})]}),p.jsxs("div",{className:"pt-2",children:[p.jsxs("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-2 block flex items-center gap-1",children:[p.jsx(v6,{className:"w-3 h-3 text-amber-500"}),"Run Rates (CPH)"]}),p.jsx("div",{className:"space-y-1",children:v.production_settings?.length>0?v.production_settings.map(y=>p.jsxs("div",{className:"flex justify-between text-xs bg-gray-50 dark:bg-gray-700/50 px-2 py-1 rounded",children:[p.jsx("span",{className:"text-gray-600 dark:text-gray-300 font-medium",children:y.line_name}),p.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:y.production_rate?.toLocaleString()})]},y.id||y.line_name)):p.jsx("div",{className:"text-xs text-gray-400 italic",children:"No rates configured"})})]})]})]},v.id)),r.length===0&&p.jsxs("div",{className:"col-span-full py-12 text-center text-gray-400 border-2 border-dashed border-gray-200 rounded-xl",children:[p.jsx(Kf,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),p.jsx("p",{children:"No products found. Add your first SKU!"})]})]}),p.jsx(nle,{isOpen:s,onClose:()=>l(!1),product:u,onSave:g,readOnly:e})]})}function M3(e){const t=["Ref1","Appt Start Date","Status"],r=e.map(n=>n.toLowerCase().trim());return t.every(n=>r.some(a=>a.includes(n.toLowerCase())))}function ile(e){if(!e)return"Unknown";const t=[/(\d+\.?\d*\s?oz)/i,/(\d+\s?liter)/i,/(bottle|can)/i];for(const r of t){const n=e.match(r);if(n)return n[1].trim()}return e.trim()}function sle(e){if(!e)return null;try{const t=e.match(/(\d{1,2})\/(\d{1,2})\/(\d{4})(?:\s+(\d{1,2}):(\d{2}))?/);if(!t)return null;const[,r,n,a,s="00",l="00"]=t,u=`${a}-${r.padStart(2,"0")}-${n.padStart(2,"0")}`,d=`${u}T${s.padStart(2,"0")}:${l.padStart(2,"0")}:00`;return{date:u,timestamp:d}}catch(t){return console.error("Error parsing YMS date:",e,t),null}}function ole(e){const t=[],r=[];let n=0;return e.forEach((a,s)=>{const l=s+2;if(!a.Status||!a.Status.toLowerCase().includes("checked in")){n++;return}const u=sle(a["Appt Start Date"]);if(!u){t.push(`Row ${l}: Invalid date format "${a["Appt Start Date"]}"`);return}const d=a.Ref1?.trim();if(!d){t.push(`Row ${l}: Missing PO (Ref1)`);return}const f=ile(a["Description SubLoad Type"]);f==="Unknown"&&t.push(`Row ${l}: Could not extract SKU from "${a["Description SubLoad Type"]}"`);const h={date:u.date,po_number:d,product_sku:f,location:"yard",loads:1,yms_reference:a.Trailer?.trim(),checked_in_at:u.timestamp,status:a.Status};r.push(h)}),{success:t.length===0,data:r,errors:t,skipped:n,totalRows:e.length}}function NA(e){try{const r=require("papaparse").parse(e,{header:!0,skipEmptyLines:!0,transformHeader:n=>n.trim()});return r.errors.length>0?{success:!1,data:[],errors:r.errors.map(n=>n.message),skipped:0,totalRows:0}:M3(r.meta.fields||[])?ole(r.data):{success:!1,data:[],errors:["Not a valid YMS export format. Missing required columns: Ref1, Appt Start Date, Status"],skipped:0,totalRows:0}}catch(t){return{success:!1,data:[],errors:[`Failed to parse CSV: ${t instanceof Error?t.message:"Unknown error"}`],skipped:0,totalRows:0}}}function $3(e){const t=e.map(s=>s.toLowerCase().trim()),r=t.some(s=>s.includes("date")||s.includes("day")||s.includes("production")),n=t.some(s=>s.includes("sku")||s.includes("product")||s.includes("item")),a=t.some(s=>s.includes("case")||s.includes("quantity")||s.includes("produced"));return r&&n&&a}function lle(e){const t=e.map(r=>r.toLowerCase().trim());return{date:e.find((r,n)=>t[n].includes("production")&&t[n].includes("date")||t[n]==="date"||t[n].includes("run date")),sku:e.find((r,n)=>t[n].includes("product code")||t[n].includes("sku")||t[n]==="product"),cases:e.find((r,n)=>t[n].includes("cases produced")||t[n].includes("cases")||t[n].includes("quantity")),bottles:e.find((r,n)=>t[n].includes("bottles produced")||t[n].includes("bottles")||t[n].includes("units")),shift:e.find((r,n)=>t[n].includes("shift"))}}function cle(e){if(!e)return null;try{if(/^\d{4}-\d{2}-\d{2}/.test(e))return e.split("T")[0];const t=e.match(/(\d{1,2})\/(\d{1,2})\/(\d{4})/);if(t){const[,a,s,l]=t;return`${l}-${a.padStart(2,"0")}-${s.padStart(2,"0")}`}const r=e.match(/(\d{1,2})\/(\d{1,2})\/(\d{4})/);if(r){const[,a,s,l]=r;return`${l}-${s.padStart(2,"0")}-${a.padStart(2,"0")}`}const n=new Date(e);return isNaN(n.getTime())?null:n.toISOString().split("T")[0]}catch{return null}}function ule(e,t){const r=[],n=[];return e.forEach((a,s)=>{const l=s+2,u=t.date?a[t.date]:null,d=cle(u);if(!d){r.push(`Row ${l}: Invalid or missing date "${u}"`);return}const f=t.sku?String(a[t.sku]).trim():"";if(!f){r.push(`Row ${l}: Missing product SKU`);return}const h=t.cases?a[t.cases]:null,g=parseInt(String(h).replace(/,/g,""),10);if(isNaN(g)){r.push(`Row ${l}: Invalid cases value "${h}"`);return}const v=t.bottles?a[t.bottles]:null,y=v?parseInt(String(v).replace(/,/g,""),10):void 0,S=t.shift?String(a[t.shift]).trim():void 0;n.push({date:d,product_sku:f,cases:g,bottles:y,shift:S})}),{success:r.length===0,data:n,errors:r,totalRows:e.length,columnMapping:t}}function AA(e){try{const r=require("papaparse").parse(e,{header:!0,skipEmptyLines:!0,transformHeader:s=>s.trim()});if(r.errors.length>0)return{success:!1,data:[],errors:r.errors.map(s=>s.message),totalRows:0,columnMapping:{}};const n=r.meta.fields||[];if(!$3(n))return{success:!1,data:[],errors:["Not a valid MES export format. Expected columns with date, product/SKU, and cases."],totalRows:0,columnMapping:{}};const a=lle(n);return!a.date||!a.sku||!a.cases?{success:!1,data:[],errors:["Could not auto-detect required columns.",`Detected: date=${a.date}, sku=${a.sku}, cases=${a.cases}`,"Please verify CSV format."],totalRows:0,columnMapping:a}:ule(r.data,a)}catch(t){return{success:!1,data:[],errors:[`Failed to parse CSV: ${t instanceof Error?t.message:"Unknown error"}`],totalRows:0,columnMapping:{}}}}async function dle(e){const t=[];let r=0,n=0,a=0;try{const{data:s}=await Me.from("products").select("id, sku, name"),l=new Map(s?.map(h=>[h.sku?.toLowerCase(),h.id])||[]),u=e.map(h=>{let g=l.get(h.product_sku.toLowerCase());return g||(g=Array.from(l.entries()).find(([y])=>h.product_sku.toLowerCase().includes(y)||y.includes(h.product_sku.toLowerCase()))?.[1]),{date:h.date,po_number:h.po_number,product_id:g,loads:h.loads,location:h.location,yms_reference:h.yms_reference,checked_in_at:h.checked_in_at,status:h.status,import_source:"yms"}}),{data:d,error:f}=await Me.from("inbound_receipts").upsert(u,{onConflict:"date,po_number",ignoreDuplicates:!0}).select();return f?(t.push(`Database error: ${f.message}`),a=e.length):(r=d?.length||0,n=e.length-r),await I3("yms",{rows_total:e.length,rows_imported:r,rows_skipped:n,rows_failed:a,error_details:t.length>0?{errors:t}:null}),{success:t.length===0,imported:r,skipped:n,failed:a,errors:t}}catch(s){const l=s instanceof Error?s.message:"Unknown error";return{success:!1,imported:0,skipped:0,failed:e.length,errors:[l]}}}async function fle(e){const t=[];let r=0,n=0,a=0;try{const{data:s}=await Me.from("products").select("id, sku, name"),l=new Map(s?.map(h=>[h.sku?.toLowerCase(),h.id])||[]),u=e.map(h=>{let g=l.get(h.product_sku.toLowerCase());return g||(g=Array.from(l.entries()).find(([y])=>h.product_sku.toLowerCase().includes(y)||y.includes(h.product_sku.toLowerCase()))?.[1]),{date:h.date,product_id:g,cases:h.cases,bottles:h.bottles,shift:h.shift||"day",import_source:"mes"}}),{data:d,error:f}=await Me.from("production_actuals").upsert(u,{onConflict:"date,product_id,shift",ignoreDuplicates:!1}).select();return f?(t.push(`Database error: ${f.message}`),a=e.length):(r=d?.length||0,n=e.length-r),await I3("mes",{rows_total:e.length,rows_imported:r,rows_skipped:n,rows_failed:a,error_details:t.length>0?{errors:t}:null}),{success:t.length===0,imported:r,skipped:n,failed:a,errors:t}}catch(s){const l=s instanceof Error?s.message:"Unknown error";return{success:!1,imported:0,skipped:0,failed:e.length,errors:[l]}}}async function I3(e,t){try{const{data:{user:r}}=await Me.auth.getUser();await Me.from("import_log").insert({import_type:e,...t,imported_by:r?.id})}catch(r){console.error("Failed to log import:",r)}}var ah={exports:{}};var hle=ah.exports,TA;function mle(){return TA||(TA=1,(function(e,t){((r,n)=>{e.exports=n()})(hle,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},a,s=!n.document&&!!n.postMessage,l=n.IS_PAPA_WORKER||!1,u={},d=0,f={};function h(T){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(R){var M=N(R);M.chunkSize=parseInt(M.chunkSize),R.step||R.chunk||(M.chunkSize=null),this._handle=new k(M),(this._handle.streamer=this)._config=M}).call(this,T),this.parseChunk=function(R,M){var I=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<I){let q=this._config.newline;q||(z=this._config.quoteChar||'"',q=this._handle.guessLineEndings(R,z)),R=[...R.split(q).slice(I)].join(q)}this.isFirstChunk&&P(this._config.beforeFirstChunk)&&(z=this._config.beforeFirstChunk(R))!==void 0&&(R=z),this.isFirstChunk=!1,this._halted=!1;var I=this._partialLine+R,z=(this._partialLine="",this._handle.parse(I,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(R=z.meta.cursor,I=(this._finished||(this._partialLine=I.substring(R-this._baseIndex),this._baseIndex=R),z&&z.data&&(this._rowCount+=z.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),l)n.postMessage({results:z,workerId:f.WORKER_ID,finished:I});else if(P(this._config.chunk)&&!M){if(this._config.chunk(z,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=z=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(z.data),this._completeResults.errors=this._completeResults.errors.concat(z.errors),this._completeResults.meta=z.meta),this._completed||!I||!P(this._config.complete)||z&&z.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),I||z&&z.meta.paused||this._nextChunk(),z}this._halted=!0},this._sendError=function(R){P(this._config.error)?this._config.error(R):l&&this._config.error&&n.postMessage({workerId:f.WORKER_ID,error:R,finished:!1})}}function g(T){var R;(T=T||{}).chunkSize||(T.chunkSize=f.RemoteChunkSize),h.call(this,T),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(M){this._input=M,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(R=new XMLHttpRequest,this._config.withCredentials&&(R.withCredentials=this._config.withCredentials),s||(R.onload=C(this._chunkLoaded,this),R.onerror=C(this._chunkError,this)),R.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var M,I=this._config.downloadRequestHeaders;for(M in I)R.setRequestHeader(M,I[M])}var z;this._config.chunkSize&&(z=this._start+this._config.chunkSize-1,R.setRequestHeader("Range","bytes="+this._start+"-"+z));try{R.send(this._config.downloadRequestBody)}catch(q){this._chunkError(q.message)}s&&R.status===0&&this._chunkError()}},this._chunkLoaded=function(){R.readyState===4&&(R.status<200||400<=R.status?this._chunkError():(this._start+=this._config.chunkSize||R.responseText.length,this._finished=!this._config.chunkSize||this._start>=(M=>(M=M.getResponseHeader("Content-Range"))!==null?parseInt(M.substring(M.lastIndexOf("/")+1)):-1)(R),this.parseChunk(R.responseText)))},this._chunkError=function(M){M=R.statusText||M,this._sendError(new Error(M))}}function v(T){(T=T||{}).chunkSize||(T.chunkSize=f.LocalChunkSize),h.call(this,T);var R,M,I=typeof FileReader<"u";this.stream=function(z){this._input=z,M=z.slice||z.webkitSlice||z.mozSlice,I?((R=new FileReader).onload=C(this._chunkLoaded,this),R.onerror=C(this._chunkError,this)):R=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var z=this._input,q=(this._config.chunkSize&&(q=Math.min(this._start+this._config.chunkSize,this._input.size),z=M.call(z,this._start,q)),R.readAsText(z,this._config.encoding));I||this._chunkLoaded({target:{result:q}})},this._chunkLoaded=function(z){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(z.target.result)},this._chunkError=function(){this._sendError(R.error)}}function y(T){var R;h.call(this,T=T||{}),this.stream=function(M){return R=M,this._nextChunk()},this._nextChunk=function(){var M,I;if(!this._finished)return M=this._config.chunkSize,R=M?(I=R.substring(0,M),R.substring(M)):(I=R,""),this._finished=!R,this.parseChunk(I)}}function S(T){h.call(this,T=T||{});var R=[],M=!0,I=!1;this.pause=function(){h.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){h.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(z){this._input=z,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){I&&R.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),R.length?this.parseChunk(R.shift()):M=!0},this._streamData=C(function(z){try{R.push(typeof z=="string"?z:z.toString(this._config.encoding)),M&&(M=!1,this._checkIsFinished(),this.parseChunk(R.shift()))}catch(q){this._streamError(q)}},this),this._streamError=C(function(z){this._streamCleanUp(),this._sendError(z)},this),this._streamEnd=C(function(){this._streamCleanUp(),I=!0,this._streamData("")},this),this._streamCleanUp=C(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function k(T){var R,M,I,z,q=Math.pow(2,53),re=-q,oe=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,B=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,H=this,W=0,ee=0,ve=!1,L=!1,K=[],F={data:[],errors:[],meta:{}};function Z(be){return T.skipEmptyLines==="greedy"?be.join("").trim()==="":be.length===1&&be[0].length===0}function le(){if(F&&I&&(ne("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+f.DefaultDelimiter+"'"),I=!1),T.skipEmptyLines&&(F.data=F.data.filter(function(X){return!Z(X)})),ue()){let X=function(xe,ae){P(T.transformHeader)&&(xe=T.transformHeader(xe,ae)),K.push(xe)};var ye=X;if(F)if(Array.isArray(F.data[0])){for(var be=0;ue()&&be<F.data.length;be++)F.data[be].forEach(X);F.data.splice(0,1)}else F.data.forEach(X)}function G(X,xe){for(var ae=T.header?{}:[],me=0;me<X.length;me++){var pe=me,_e=X[me],_e=((Ce,Ie)=>(Be=>(T.dynamicTypingFunction&&T.dynamicTyping[Be]===void 0&&(T.dynamicTyping[Be]=T.dynamicTypingFunction(Be)),(T.dynamicTyping[Be]||T.dynamicTyping)===!0))(Ce)?Ie==="true"||Ie==="TRUE"||Ie!=="false"&&Ie!=="FALSE"&&((Be=>{if(oe.test(Be)&&(Be=parseFloat(Be),re<Be&&Be<q))return 1})(Ie)?parseFloat(Ie):B.test(Ie)?new Date(Ie):Ie===""?null:Ie):Ie)(pe=T.header?me>=K.length?"__parsed_extra":K[me]:pe,_e=T.transform?T.transform(_e,pe):_e);pe==="__parsed_extra"?(ae[pe]=ae[pe]||[],ae[pe].push(_e)):ae[pe]=_e}return T.header&&(me>K.length?ne("FieldMismatch","TooManyFields","Too many fields: expected "+K.length+" fields but parsed "+me,ee+xe):me<K.length&&ne("FieldMismatch","TooFewFields","Too few fields: expected "+K.length+" fields but parsed "+me,ee+xe)),ae}var ge;F&&(T.header||T.dynamicTyping||T.transform)&&(ge=1,!F.data.length||Array.isArray(F.data[0])?(F.data=F.data.map(G),ge=F.data.length):F.data=G(F.data,0),T.header&&F.meta&&(F.meta.fields=K),ee+=ge)}function ue(){return T.header&&K.length===0}function ne(be,G,ge,ye){be={type:be,code:G,message:ge},ye!==void 0&&(be.row=ye),F.errors.push(be)}P(T.step)&&(z=T.step,T.step=function(be){F=be,ue()?le():(le(),F.data.length!==0&&(W+=be.data.length,T.preview&&W>T.preview?M.abort():(F.data=F.data[0],z(F,H))))}),this.parse=function(be,G,ge){var ye=T.quoteChar||'"',ye=(T.newline||(T.newline=this.guessLineEndings(be,ye)),I=!1,T.delimiter?P(T.delimiter)&&(T.delimiter=T.delimiter(be),F.meta.delimiter=T.delimiter):((ye=((X,xe,ae,me,pe)=>{var _e,Ce,Ie,Be;pe=pe||[",","	","|",";",f.RECORD_SEP,f.UNIT_SEP];for(var Ot=0;Ot<pe.length;Ot++){for(var bt,pt=pe[Ot],$e=0,tt=0,Ye=0,qe=(Ie=void 0,new j({comments:me,delimiter:pt,newline:xe,preview:10}).parse(X)),We=0;We<qe.data.length;We++)ae&&Z(qe.data[We])?Ye++:(bt=qe.data[We].length,tt+=bt,Ie===void 0?Ie=bt:0<bt&&($e+=Math.abs(bt-Ie),Ie=bt));0<qe.data.length&&(tt/=qe.data.length-Ye),(Ce===void 0||$e<=Ce)&&(Be===void 0||Be<tt)&&1.99<tt&&(Ce=$e,_e=pt,Be=tt)}return{successful:!!(T.delimiter=_e),bestDelimiter:_e}})(be,T.newline,T.skipEmptyLines,T.comments,T.delimitersToGuess)).successful?T.delimiter=ye.bestDelimiter:(I=!0,T.delimiter=f.DefaultDelimiter),F.meta.delimiter=T.delimiter),N(T));return T.preview&&T.header&&ye.preview++,R=be,M=new j(ye),F=M.parse(R,G,ge),le(),ve?{meta:{paused:!0}}:F||{meta:{paused:!1}}},this.paused=function(){return ve},this.pause=function(){ve=!0,M.abort(),R=P(T.chunk)?"":R.substring(M.getCharIndex())},this.resume=function(){H.streamer._halted?(ve=!1,H.streamer.parseChunk(R,!0)):setTimeout(H.resume,3)},this.aborted=function(){return L},this.abort=function(){L=!0,M.abort(),F.meta.aborted=!0,P(T.complete)&&T.complete(F),R=""},this.guessLineEndings=function(X,ye){X=X.substring(0,1048576);var ye=new RegExp(_(ye)+"([^]*?)"+_(ye),"gm"),ge=(X=X.replace(ye,"")).split("\r"),ye=X.split(`
`),X=1<ye.length&&ye[0].length<ge[0].length;if(ge.length===1||X)return`
`;for(var xe=0,ae=0;ae<ge.length;ae++)ge[ae][0]===`
`&&xe++;return xe>=ge.length/2?`\r
`:"\r"}}function _(T){return T.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function j(T){var R=(T=T||{}).delimiter,M=T.newline,I=T.comments,z=T.step,q=T.preview,re=T.fastMode,oe=null,B=!1,H=T.quoteChar==null?'"':T.quoteChar,W=H;if(T.escapeChar!==void 0&&(W=T.escapeChar),(typeof R!="string"||-1<f.BAD_DELIMITERS.indexOf(R))&&(R=","),I===R)throw new Error("Comment character same as delimiter");I===!0?I="#":(typeof I!="string"||-1<f.BAD_DELIMITERS.indexOf(I))&&(I=!1),M!==`
`&&M!=="\r"&&M!==`\r
`&&(M=`
`);var ee=0,ve=!1;this.parse=function(L,K,F){if(typeof L!="string")throw new Error("Input must be a string");var Z=L.length,le=R.length,ue=M.length,ne=I.length,be=P(z),G=[],ge=[],ye=[],X=ee=0;if(!L)return $e();if(re||re!==!1&&L.indexOf(H)===-1){for(var xe=L.split(M),ae=0;ae<xe.length;ae++){if(ye=xe[ae],ee+=ye.length,ae!==xe.length-1)ee+=M.length;else if(F)return $e();if(!I||ye.substring(0,ne)!==I){if(be){if(G=[],Be(ye.split(R)),tt(),ve)return $e()}else Be(ye.split(R));if(q&&q<=ae)return G=G.slice(0,q),$e(!0)}}return $e()}for(var me=L.indexOf(R,ee),pe=L.indexOf(M,ee),_e=new RegExp(_(W)+_(H),"g"),Ce=L.indexOf(H,ee);;)if(L[ee]===H)for(Ce=ee,ee++;;){if((Ce=L.indexOf(H,Ce+1))===-1)return F||ge.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:G.length,index:ee}),bt();if(Ce===Z-1)return bt(L.substring(ee,Ce).replace(_e,H));if(H===W&&L[Ce+1]===W)Ce++;else if(H===W||Ce===0||L[Ce-1]!==W){me!==-1&&me<Ce+1&&(me=L.indexOf(R,Ce+1));var Ie=Ot((pe=pe!==-1&&pe<Ce+1?L.indexOf(M,Ce+1):pe)===-1?me:Math.min(me,pe));if(L.substr(Ce+1+Ie,le)===R){ye.push(L.substring(ee,Ce).replace(_e,H)),L[ee=Ce+1+Ie+le]!==H&&(Ce=L.indexOf(H,ee)),me=L.indexOf(R,ee),pe=L.indexOf(M,ee);break}if(Ie=Ot(pe),L.substring(Ce+1+Ie,Ce+1+Ie+ue)===M){if(ye.push(L.substring(ee,Ce).replace(_e,H)),pt(Ce+1+Ie+ue),me=L.indexOf(R,ee),Ce=L.indexOf(H,ee),be&&(tt(),ve))return $e();if(q&&G.length>=q)return $e(!0);break}ge.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:G.length,index:ee}),Ce++}}else if(I&&ye.length===0&&L.substring(ee,ee+ne)===I){if(pe===-1)return $e();ee=pe+ue,pe=L.indexOf(M,ee),me=L.indexOf(R,ee)}else if(me!==-1&&(me<pe||pe===-1))ye.push(L.substring(ee,me)),ee=me+le,me=L.indexOf(R,ee);else{if(pe===-1)break;if(ye.push(L.substring(ee,pe)),pt(pe+ue),be&&(tt(),ve))return $e();if(q&&G.length>=q)return $e(!0)}return bt();function Be(Ye){G.push(Ye),X=ee}function Ot(Ye){var qe=0;return qe=Ye!==-1&&(Ye=L.substring(Ce+1,Ye))&&Ye.trim()===""?Ye.length:qe}function bt(Ye){return F||(Ye===void 0&&(Ye=L.substring(ee)),ye.push(Ye),ee=Z,Be(ye),be&&tt()),$e()}function pt(Ye){ee=Ye,Be(ye),ye=[],pe=L.indexOf(M,ee)}function $e(Ye){if(T.header&&!K&&G.length&&!B){var qe=G[0],We=Object.create(null),Pt=new Set(qe);let Sa=!1;for(let wn=0;wn<qe.length;wn++){let _r=qe[wn];if(We[_r=P(T.transformHeader)?T.transformHeader(_r,wn):_r]){let tn,Lt=We[_r];for(;tn=_r+"_"+Lt,Lt++,Pt.has(tn););Pt.add(tn),qe[wn]=tn,We[_r]++,Sa=!0,(oe=oe===null?{}:oe)[tn]=_r}else We[_r]=1,qe[wn]=_r;Pt.add(_r)}Sa&&console.warn("Duplicate headers found and renamed."),B=!0}return{data:G,errors:ge,meta:{delimiter:R,linebreak:M,aborted:ve,truncated:!!Ye,cursor:X+(K||0),renamedHeaders:oe}}}function tt(){z($e()),G=[],ge=[]}},this.abort=function(){ve=!0},this.getCharIndex=function(){return ee}}function O(T){var R=T.data,M=u[R.workerId],I=!1;if(R.error)M.userError(R.error,R.file);else if(R.results&&R.results.data){var z={abort:function(){I=!0,E(R.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:D,resume:D};if(P(M.userStep)){for(var q=0;q<R.results.data.length&&(M.userStep({data:R.results.data[q],errors:R.results.errors,meta:R.results.meta},z),!I);q++);delete R.results}else P(M.userChunk)&&(M.userChunk(R.results,z,R.file),delete R.results)}R.finished&&!I&&E(R.workerId,R.results)}function E(T,R){var M=u[T];P(M.userComplete)&&M.userComplete(R),M.terminate(),delete u[T]}function D(){throw new Error("Not implemented.")}function N(T){if(typeof T!="object"||T===null)return T;var R,M=Array.isArray(T)?[]:{};for(R in T)M[R]=N(T[R]);return M}function C(T,R){return function(){T.apply(R,arguments)}}function P(T){return typeof T=="function"}return f.parse=function(T,R){var M=(R=R||{}).dynamicTyping||!1;if(P(M)&&(R.dynamicTypingFunction=M,M={}),R.dynamicTyping=M,R.transform=!!P(R.transform)&&R.transform,!R.worker||!f.WORKERS_SUPPORTED)return M=null,f.NODE_STREAM_INPUT,typeof T=="string"?(T=(I=>I.charCodeAt(0)!==65279?I:I.slice(1))(T),M=new(R.download?g:y)(R)):T.readable===!0&&P(T.read)&&P(T.on)?M=new S(R):(n.File&&T instanceof File||T instanceof Object)&&(M=new v(R)),M.stream(T);(M=(()=>{var I;return!!f.WORKERS_SUPPORTED&&(I=(()=>{var z=n.URL||n.webkitURL||null,q=r.toString();return f.BLOB_URL||(f.BLOB_URL=z.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",q,")();"],{type:"text/javascript"})))})(),(I=new n.Worker(I)).onmessage=O,I.id=d++,u[I.id]=I)})()).userStep=R.step,M.userChunk=R.chunk,M.userComplete=R.complete,M.userError=R.error,R.step=P(R.step),R.chunk=P(R.chunk),R.complete=P(R.complete),R.error=P(R.error),delete R.worker,M.postMessage({input:T,config:R,workerId:M.id})},f.unparse=function(T,R){var M=!1,I=!0,z=",",q=`\r
`,re='"',oe=re+re,B=!1,H=null,W=!1,ee=((()=>{if(typeof R=="object"){if(typeof R.delimiter!="string"||f.BAD_DELIMITERS.filter(function(K){return R.delimiter.indexOf(K)!==-1}).length||(z=R.delimiter),typeof R.quotes!="boolean"&&typeof R.quotes!="function"&&!Array.isArray(R.quotes)||(M=R.quotes),typeof R.skipEmptyLines!="boolean"&&typeof R.skipEmptyLines!="string"||(B=R.skipEmptyLines),typeof R.newline=="string"&&(q=R.newline),typeof R.quoteChar=="string"&&(re=R.quoteChar),typeof R.header=="boolean"&&(I=R.header),Array.isArray(R.columns)){if(R.columns.length===0)throw new Error("Option columns is empty");H=R.columns}R.escapeChar!==void 0&&(oe=R.escapeChar+re),R.escapeFormulae instanceof RegExp?W=R.escapeFormulae:typeof R.escapeFormulae=="boolean"&&R.escapeFormulae&&(W=/^[=+\-@\t\r].*$/)}})(),new RegExp(_(re),"g"));if(typeof T=="string"&&(T=JSON.parse(T)),Array.isArray(T)){if(!T.length||Array.isArray(T[0]))return ve(null,T,B);if(typeof T[0]=="object")return ve(H||Object.keys(T[0]),T,B)}else if(typeof T=="object")return typeof T.data=="string"&&(T.data=JSON.parse(T.data)),Array.isArray(T.data)&&(T.fields||(T.fields=T.meta&&T.meta.fields||H),T.fields||(T.fields=Array.isArray(T.data[0])?T.fields:typeof T.data[0]=="object"?Object.keys(T.data[0]):[]),Array.isArray(T.data[0])||typeof T.data[0]=="object"||(T.data=[T.data])),ve(T.fields||[],T.data||[],B);throw new Error("Unable to serialize unrecognized input");function ve(K,F,Z){var le="",ue=(typeof K=="string"&&(K=JSON.parse(K)),typeof F=="string"&&(F=JSON.parse(F)),Array.isArray(K)&&0<K.length),ne=!Array.isArray(F[0]);if(ue&&I){for(var be=0;be<K.length;be++)0<be&&(le+=z),le+=L(K[be],be);0<F.length&&(le+=q)}for(var G=0;G<F.length;G++){var ge=(ue?K:F[G]).length,ye=!1,X=ue?Object.keys(F[G]).length===0:F[G].length===0;if(Z&&!ue&&(ye=Z==="greedy"?F[G].join("").trim()==="":F[G].length===1&&F[G][0].length===0),Z==="greedy"&&ue){for(var xe=[],ae=0;ae<ge;ae++){var me=ne?K[ae]:ae;xe.push(F[G][me])}ye=xe.join("").trim()===""}if(!ye){for(var pe=0;pe<ge;pe++){0<pe&&!X&&(le+=z);var _e=ue&&ne?K[pe]:pe;le+=L(F[G][_e],pe)}G<F.length-1&&(!Z||0<ge&&!X)&&(le+=q)}}return le}function L(K,F){var Z,le;return K==null?"":K.constructor===Date?JSON.stringify(K).slice(1,25):(le=!1,W&&typeof K=="string"&&W.test(K)&&(K="'"+K,le=!0),Z=K.toString().replace(ee,oe),(le=le||M===!0||typeof M=="function"&&M(K,F)||Array.isArray(M)&&M[F]||((ue,ne)=>{for(var be=0;be<ne.length;be++)if(-1<ue.indexOf(ne[be]))return!0;return!1})(Z,f.BAD_DELIMITERS)||-1<Z.indexOf(z)||Z.charAt(0)===" "||Z.charAt(Z.length-1)===" ")?re+Z+re:Z)}},f.RECORD_SEP="",f.UNIT_SEP="",f.BYTE_ORDER_MARK="\uFEFF",f.BAD_DELIMITERS=["\r",`
`,'"',f.BYTE_ORDER_MARK],f.WORKERS_SUPPORTED=!s&&!!n.Worker,f.NODE_STREAM_INPUT=1,f.LocalChunkSize=10485760,f.RemoteChunkSize=5242880,f.DefaultDelimiter=",",f.Parser=j,f.ParserHandle=k,f.NetworkStreamer=g,f.FileStreamer=v,f.StringStreamer=y,f.ReadableStreamStreamer=S,n.jQuery&&((a=n.jQuery).fn.parse=function(T){var R=T.config||{},M=[];return this.each(function(q){if(!(a(this).prop("tagName").toUpperCase()==="INPUT"&&a(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var re=0;re<this.files.length;re++)M.push({file:this.files[re],inputElem:this,instanceConfig:a.extend({},R)})}),I(),this;function I(){if(M.length===0)P(T.complete)&&T.complete();else{var q,re,oe,B,H=M[0];if(P(T.before)){var W=T.before(H.file,H.inputElem);if(typeof W=="object"){if(W.action==="abort")return q="AbortError",re=H.file,oe=H.inputElem,B=W.reason,void(P(T.error)&&T.error({name:q},re,oe,B));if(W.action==="skip")return void z();typeof W.config=="object"&&(H.instanceConfig=a.extend(H.instanceConfig,W.config))}else if(W==="skip")return void z()}var ee=H.instanceConfig.complete;H.instanceConfig.complete=function(ve){P(ee)&&ee(ve,H.file,H.inputElem),z()},f.parse(H.file,H.instanceConfig)}}function z(){M.splice(0,1),I()}}),l&&(n.onmessage=function(T){T=T.data,f.WORKER_ID===void 0&&T&&(f.WORKER_ID=T.workerId),typeof T.input=="string"?n.postMessage({workerId:f.WORKER_ID,results:f.parse(T.input,T.config),finished:!0}):(n.File&&T.input instanceof File||T.input instanceof Object)&&(T=f.parse(T.input,T.config))&&n.postMessage({workerId:f.WORKER_ID,results:T,finished:!0})}),(g.prototype=Object.create(h.prototype)).constructor=g,(v.prototype=Object.create(h.prototype)).constructor=v,(y.prototype=Object.create(y.prototype)).constructor=y,(S.prototype=Object.create(h.prototype)).constructor=S,f})})(ah)),ah.exports}var ple=mle();const gle=ba(ple);function vle(){const[e,t]=x.useState(null),[r,n]=x.useState(null),[a,s]=x.useState(!1),[l,u]=x.useState(!1),[d,f]=x.useState(!1),h=x.useCallback(_=>{_.preventDefault(),_.stopPropagation(),_.type==="dragenter"||_.type==="dragover"?f(!0):_.type==="dragleave"&&f(!1)},[]),g=x.useCallback(_=>{_.preventDefault(),_.stopPropagation(),f(!1),_.dataTransfer.files&&_.dataTransfer.files[0]&&y(_.dataTransfer.files[0])},[]),v=_=>{_.target.files&&_.target.files[0]&&y(_.target.files[0])},y=async _=>{if(!_.name.endsWith(".csv")){alert("Please upload a CSV file");return}t(_),u(!1);const j=await _.text();gle.parse(j,{header:!0,preview:1,complete:O=>{const E=O.meta.fields||[];if(M3(E)){const D=NA(j);n({type:"yms",rows:D.data.slice(0,5),errors:D.errors,totalRows:D.totalRows,skippedCount:D.skipped})}else if($3(E)){const D=AA(j);n({type:"mes",rows:D.data.slice(0,5),errors:D.errors,totalRows:D.totalRows})}else n({type:"unknown",rows:[],errors:["File format not recognized. Expected YMS or MES export."],totalRows:0})}})},S=async()=>{if(!(!e||!r)){s(!0);try{const _=await e.text();if(r.type==="yms"){const j=NA(_);if(!j.success){alert("Failed to parse YMS file: "+j.errors.join(", "));return}const O=await dle(j.data);n(E=>E?{...E,importedCount:O.imported,skippedCount:O.skipped}:null),u(!0),O.errors.length>0&&alert(`Import completed with errors:
${O.errors.join(`
`)}`)}else if(r.type==="mes"){const j=AA(_);if(!j.success){alert("Failed to parse MES file: "+j.errors.join(", "));return}const O=await fle(j.data);n(E=>E?{...E,importedCount:O.imported,skippedCount:O.skipped}:null),u(!0),O.errors.length>0&&alert(`Import completed with errors:
${O.errors.join(`
`)}`)}}catch(_){alert(`Import failed: ${_ instanceof Error?_.message:"Unknown error"}`)}finally{s(!1)}}},k=()=>{t(null),n(null),u(!1)};return p.jsx("div",{className:"p-6 max-w-4xl mx-auto",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[p.jsx("h2",{className:"text-2xl font-bold mb-4",children:" Import YMS / MES Data"}),!e&&p.jsxs("div",{className:`border-2 border-dashed rounded-lg p-12 text-center transition-colors ${d?"border-blue-500 bg-blue-50":"border-gray-300"}`,onDragEnter:h,onDragLeave:h,onDragOver:h,onDrop:g,children:[p.jsx("div",{className:"text-6xl mb-4",children:""}),p.jsx("p",{className:"text-lg mb-4",children:"Drag & drop CSV file here or click to browse"}),p.jsx("input",{type:"file",accept:".csv",onChange:v,className:"hidden",id:"file-upload"}),p.jsx("label",{htmlFor:"file-upload",className:"bg-blue-600 text-white px-6 py-2 rounded cursor-pointer hover:bg-blue-700",children:"Browse Files"}),p.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Supported: YMS Hub exports, MES production exports"})]}),r&&p.jsxs("div",{className:"mt-6",children:[p.jsxs("div",{className:`p-4 rounded mb-4 ${r.type==="unknown"?"bg-red-100":"bg-green-100"}`,children:[r.type==="yms"&&` Detected: YMS Export (${r.totalRows} rows)`,r.type==="mes"&&` Detected: MES Export (${r.totalRows} rows)`,r.type==="unknown"&&" Format not recognized"]}),r.errors.length>0&&p.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-4 mb-4",children:[p.jsx("h3",{className:"font-bold text-yellow-900 mb-2",children:" Warnings:"}),p.jsxs("ul",{className:"list-disc list-inside text-sm text-yellow-800",children:[r.errors.slice(0,10).map((_,j)=>p.jsx("li",{children:_},j)),r.errors.length>10&&p.jsxs("li",{children:["... and ",r.errors.length-10," more"]})]})]}),r.rows.length>0&&p.jsxs("div",{className:"mb-4",children:[p.jsx("h3",{className:"font-bold mb-2",children:"Preview (first 5 rows):"}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[p.jsx("thead",{className:"bg-gray-50",children:p.jsx("tr",{children:Object.keys(r.rows[0]).map(_=>p.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:_},_))})}),p.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.rows.map((_,j)=>p.jsx("tr",{children:Object.values(_).map((O,E)=>p.jsx("td",{className:"px-3 py-2 text-sm text-gray-900 whitespace-nowrap",children:String(O)},E))},j))})]})})]}),!l&&r.type!=="unknown"&&p.jsxs("div",{className:"bg-blue-50 rounded p-4 mb-4",children:[p.jsx("h3",{className:"font-bold mb-2",children:"Summary:"}),p.jsxs("ul",{className:"text-sm",children:[p.jsxs("li",{children:[" Total rows: ",r.totalRows]}),r.skippedCount!==void 0&&p.jsxs("li",{children:[" Rows to skip: ",r.skippedCount," (not checked in)"]}),p.jsxs("li",{children:[" Rows to import: ",r.totalRows-(r.skippedCount||0)]})]})]}),l&&p.jsxs("div",{className:"bg-green-50 rounded p-4 mb-4",children:[p.jsx("h3",{className:"font-bold text-green-900 mb-2",children:" Import Complete!"}),p.jsxs("ul",{className:"text-sm text-green-800",children:[p.jsxs("li",{children:[" Imported: ",r.importedCount]}),p.jsxs("li",{children:[" Skipped (duplicates): ",r.skippedCount]})]})]}),p.jsxs("div",{className:"flex gap-4",children:[p.jsx("button",{onClick:k,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-50",children:l?"Import Another File":"Cancel"}),!l&&r.type!=="unknown"&&p.jsx("button",{onClick:S,disabled:a,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:bg-gray-400",children:a?"Importing...":`Import ${r.totalRows-(r.skippedCount||0)} Rows`})]})]})]})})}function yle({title:e,titleId:t,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?x.createElement("title",{id:t},e):null,x.createElement("path",{fillRule:"evenodd",d:"M12.53 16.28a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 0 1 1.06-1.06L12 14.69l6.97-6.97a.75.75 0 1 1 1.06 1.06l-7.5 7.5Z",clipRule:"evenodd"}))}const ble=x.forwardRef(yle);function xle({mrp:e,scheduler:t,activeSku:r}){const{formState:n,setters:a,results:s}=e,{productMap:l}=xr(),u=Object.keys(l);if(!s)return null;const d=_t(new Date),f=s?.dailyLedger||[];f.find(T=>T.date===d);const h=s.calculatedPallets||0,g=n.yardInventory?.count||0,v=s.specs||{},y=v.bottlesPerCase||1,S=v.casesPerPallet||1,_=(s.safetyTarget||0)/(y*S),j=(v.bottlesPerTruck||2e4)/(y*S),O=h+g*j;let E=0,D=!1;for(const T of f){if(T.balance<0){D=!0;break}T.date>=d&&E++}const N=D?E:"14+",C=D?E<=2?"text-rose-600 dark:text-rose-400":"text-amber-600 dark:text-amber-400":"text-emerald-600 dark:text-emerald-400",P=D?E<=2?"border-rose-200 dark:border-rose-900 bg-rose-50 dark:bg-rose-900/10":"border-amber-200 dark:border-amber-900 bg-amber-50 dark:bg-amber-900/10":"border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900";return p.jsx("div",{className:`w-full mb-6 rounded-xl border p-4 shadow-lg bg-slate-200 dark:bg-slate-800/50 transition-all ${P}`,children:p.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between gap-6",children:[p.jsxs("div",{className:"flex items-center gap-6 w-full lg:w-auto",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"h-12 w-12 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center flex-shrink-0 shadow-inner",children:p.jsx(ax,{className:"w-6 h-6 text-slate-500"})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-xs font-bold uppercase tracking-wider text-slate-500 dark:text-slate-400",children:"Production Plan"}),p.jsxs("div",{className:"relative group flex items-center",children:[p.jsx("select",{className:"appearance-none bg-transparent hover:bg-slate-50 dark:hover:bg-slate-800 text-xl font-extrabold text-slate-800 dark:text-white pr-6 py-0.5 rounded cursor-pointer outline-none focus:ring-2 focus:ring-blue-500 transition-colors",value:n.selectedSize,onChange:T=>a.setSelectedSize(T.target.value),children:u.map(T=>p.jsx("option",{value:T,children:T},T))}),p.jsx(ble,{className:"w-4 h-4 text-slate-400 -ml-4 pointer-events-none group-hover:text-blue-500"})]})]})]}),p.jsxs("div",{className:"hidden md:flex items-center gap-4 border-l border-slate-200 dark:border-slate-700 pl-6",children:[p.jsx(PA,{label:"Rate (cph)",value:n.productionRate,onChange:T=>a.setProductionRate(T),width:"w-20"}),p.jsx(PA,{label:"Downtime (hr)",value:n.downtimeHours,onChange:T=>a.setDowntimeHours(T),width:"w-16"})]})]}),p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 w-full lg:w-auto flex-grow justify-end",children:[p.jsx("div",{className:"text-center md:text-right",children:p.jsx(CA,{label:"Floor Stock",value:Math.round(h),unit:"plts",onSave:T=>a.setInventoryAnchor({date:Wr(),count:Number(T)})})}),p.jsx("div",{className:"text-center md:text-right border-l dark:border-slate-700 pl-6",children:p.jsx(CA,{label:"Yard Stock",value:Number(g),unit:"loads",onSave:T=>a.updateYardInventory(T),colorClass:"text-blue-600 dark:text-blue-400"})}),p.jsxs("div",{className:"text-center md:text-right border-l dark:border-slate-700 pl-6",children:[p.jsx("div",{className:"text-xs font-bold uppercase tracking-wider text-slate-400",children:"Runway"}),p.jsxs("div",{className:`text-2xl font-black flex items-center justify-center md:justify-end gap-2 ${C}`,children:[D?p.jsx(LA,{className:"w-5 h-5"}):p.jsx(u0,{className:"w-5 h-5"}),N," ",p.jsx("span",{className:"text-sm text-slate-400 font-medium",children:"Days"})]})]}),p.jsx("div",{className:"hidden md:flex flex-col items-end justify-center border-l dark:border-slate-700 pl-6",children:p.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide border ${O>=_?"bg-emerald-50 text-emerald-700 border-emerald-200 dark:bg-emerald-900/20 dark:text-emerald-400":"bg-amber-50 text-amber-700 border-amber-200 dark:bg-amber-900/20 dark:text-amber-400"}`,children:O>=_?"Secure":"Below Safety"})})]})]})})}function CA({label:e,value:t,unit:r,onSave:n,colorClass:a="text-slate-700 dark:text-slate-200"}){const[s,l]=x.useState(!1),[u,d]=x.useState(t===0?"":t);x.useEffect(()=>d(t===0?"":t),[t]);const f=h=>{h.key==="Enter"&&(n(u),l(!1))};return s?p.jsxs("div",{className:"flex flex-col items-end",children:[p.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-slate-400 mb-1",children:e}),p.jsx("input",{autoFocus:!0,type:"number",className:"w-24 text-right text-xl font-bold p-1 bg-white dark:bg-slate-800 border-2 border-blue-400 rounded shadow-md outline-none",value:u,onChange:h=>d(h.target.value),onBlur:()=>{n(u),l(!1)},onKeyDown:f})]}):p.jsxs("div",{className:"group cursor-pointer relative",onClick:()=>l(!0),children:[p.jsxs("div",{className:"flex items-center justify-end gap-1 mb-0.5",children:[p.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-slate-400 group-hover:text-blue-500 transition-colors",children:e}),p.jsx(Jc,{className:"w-3 h-3 text-slate-300 opacity-0 group-hover:opacity-100 transition-opacity"})]}),p.jsxs("div",{className:`text-2xl font-black ${a} group-hover:bg-slate-50 dark:group-hover:bg-slate-800 rounded px-1 -mr-1 transition-colors`,children:[Number(t).toLocaleString()," ",p.jsx("span",{className:"text-xs font-medium text-slate-400",children:r})]})]})}function PA({label:e,value:t,onChange:r,width:n}){return p.jsxs("div",{className:"flex flex-col",children:[p.jsx("label",{className:"text-[10px] uppercase font-bold text-slate-400 mb-0.5 ml-1",children:e}),p.jsx("input",{type:"number",className:`${n} bg-transparent hover:bg-slate-50 dark:hover:bg-slate-800 border-b-2 border-transparent hover:border-slate-300 dark:hover:border-slate-600 rounded-t p-1 text-lg font-extrabold text-slate-800 dark:text-white focus:bg-white dark:focus:bg-slate-800 focus:border-blue-500 focus:ring-0 outline-none transition-all`,value:t===0?"":t,onChange:a=>r(a.target.value),onFocus:a=>a.target.select()})]})}function wle(){const{user:e,loading:t,userRole:r}=Ar(),{uploadLocalData:n}=jl(),{productMap:a}=xr(),s=Object.keys(a);return x.useEffect(()=>{e&&n(e,s,r)},[e,s,n,r]),x.useEffect(()=>{document.title="UBP Planner v2.25.42"},[]),t?p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-slate-900 transition-colors",children:p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx("div",{className:"h-24 w-24 bg-white rounded-full shadow-2xl shadow-blue-500/20 flex items-center justify-center overflow-hidden animate-pulse",children:p.jsx("img",{src:g0,className:"h-[95%] w-[95%] object-contain",alt:"Loading..."})}),p.jsx("div",{className:"mt-6 text-slate-400 font-extrabold tracking-[0.2em] uppercase text-xs animate-pulse",children:"Loading Planner..."})]})}):e?p.jsx($B,{children:p.jsx(_le,{user:e})}):p.jsx(tle,{})}function _le({user:e}){const{userRole:t}=Ar(),r=t||"admin",n=["admin","planner"].includes(r),a=["admin","planner","logistics"].includes(r),[s,l]=x.useState(()=>localStorage.getItem("activeTab")||"logistics"),[u,d]=x.useState(!1);x.useEffect(()=>{(s==="mrp"||s==="master")&&!n&&l("logistics"),localStorage.setItem("activeTab",s)},[s,n]);const{poManifest:f}=na(),h=Xoe(f),g=Joe(),{activeSku:v}=ra(),{productMap:y}=xr(),S=Object.keys(y),k=Qoe(S,s==="master");return p.jsxs("div",{id:"main-app-wrapper",className:"min-h-screen flex flex-col transition-colors duration-200 bg-slate-300 dark:bg-slate-900",children:[p.jsx(I8,{onOpenSettings:()=>d(!0),isSaving:h.formState.isSaving,saveError:h.formState.saveError,activeTab:s,setActiveTab:l}),p.jsxs("main",{className:"flex-grow p-2 md:p-6 w-full pt-4",children:[p.jsx(xle,{mrp:h,scheduler:g,activeSku:v}),p.jsx("div",{className:s==="logistics"?"block":"hidden",children:p.jsx(rle,{state:h.formState,setters:h.setters,results:h.results,readOnly:!a})}),p.jsx("div",{className:s==="mrp"?"block":"hidden",children:p.jsx(Boe,{state:h.formState,setters:h.setters,results:h.results,readOnly:!n})}),p.jsx("div",{className:s==="scheduler"?"block":"hidden",children:p.jsx(Koe,{state:g.formState,setters:g.setters,results:g.results,readOnly:!a})}),p.jsx("div",{className:s==="master"?"block":"hidden",children:p.jsx(ele,{masterLedger:k.masterLedger,loading:k.loading})}),p.jsx("div",{className:s==="products"?"block":"hidden",children:p.jsx(ale,{readOnly:!a})}),p.jsx("div",{className:s==="import"?"block":"hidden",children:p.jsx(vle,{})})]}),u&&p.jsx(FB,{onClose:()=>d(!1)})]})}class Sle extends we.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,r){this.setState({error:t,errorInfo:r}),console.error("Uncaught error:",t,r)}render(){return this.state.hasError?p.jsxs("div",{style:{padding:"20px",backgroundColor:"#fee2e2",border:"1px solid #ef4444",margin:"20px",borderRadius:"8px",color:"#7f1d1d"},children:[p.jsx("h1",{style:{fontSize:"1.5rem",fontWeight:"bold",marginBottom:"10px"},children:"Something went wrong."}),p.jsx("p",{style:{fontWeight:"bold"},children:this.state.error&&this.state.error.toString()}),p.jsx("details",{style:{marginTop:"10px",whiteSpace:"pre-wrap"},children:this.state.errorInfo&&this.state.errorInfo.componentStack})]}):this.props.children}}o6.createRoot(document.getElementById("root")).render(p.jsx(Sle,{children:p.jsx(M8,{children:p.jsx(RB,{children:p.jsx(MB,{children:p.jsx(wle,{})})})})}));
